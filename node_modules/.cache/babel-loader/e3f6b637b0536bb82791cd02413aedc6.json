{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{sortData,constructOptionList}from'../components/CommonScript';import Axios from'axios';import{initRequest}from'./LoginAction';import{intl}from'../components/App';import{toast}from'react-toastify';import{transactionStatus,attachmentType}from'../components/Enumeration';export function getManfacturerCombo(screenName,operation,primaryKeyName,masterData,userInfo,ncontrolCode){return function(dispatch){var urlArray=[];if(operation===\"create\"){// const EDQMManufacturer = rsapi.post(\"/edqmmanufacturer/getEDQMManufacturer\", { \"userinfo\": userInfo });\nvar CountryService=rsapi.post(\"country/getCountry\",{\"userinfo\":userInfo});urlArray=[CountryService];}else{var _rsapi$post;var EDQMManufacturer=rsapi.post(\"/edqmmanufacturer/getEDQMManufacturer\",{\"userinfo\":userInfo});var ManufacturerByID=rsapi.post(\"/manufacturer/getManufacturerById\",(_rsapi$post={},_defineProperty(_rsapi$post,primaryKeyName,masterData.selectedManufacturer[primaryKeyName]),_defineProperty(_rsapi$post,\"userinfo\",userInfo),_rsapi$post));urlArray=[EDQMManufacturer,ManufacturerByID];}dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var countryCode=[];var countryMap=constructOptionList(response[0].data||[],\"ncountrycode\",\"scountryname\",undefined,undefined,true);var countryList=countryMap.get(\"OptionList\");var edqmManufacturer=[];var selectedRecord={};var edqmManufacturerMap=constructOptionList(response[0].data||[],\"nofficialmanufcode\",\"sofficialmanufname\",undefined,undefined,false);var edqmManufacturerList=edqmManufacturerMap.get(\"OptionList\");if(operation===\"update\"){selectedRecord=response[1].data;selectedRecord[\"nofficialmanufcode\"]={label:response[1].data[\"sofficialmanufname\"],value:response[1].data[\"nofficialmanufcode\"]};// edqmManufacturer.push({\n//     label: response[1].data[\"sofficialmanufname\"],\n//     value: response[1].data[\"nofficialmanufcode\"]\n// });\n}dispatch({type:DEFAULT_RETURN,payload:{edqmManufacturerList:edqmManufacturerList,Country:countryList,countryCode:countryCode,isOpen:true,selectedRecord:operation===\"update\"?selectedRecord:{\"ntransactionstatus\":1},edqmManufacturer:edqmManufacturer,operation:operation,screenName:screenName,openModal:true,ncontrolCode:ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function selectCheckBoxManufacturer(Manufacturer,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/manufacturer/getManufacturerWithSiteAndContactDetails\",{'userinfo':userInfo,\"nmanufcode\":Manufacturer.nmanufcode}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);// console.log(\" Select Checked : \", masterData);\ndispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,selectedId:null}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export function getContactInfo(SiteDetails,masterData){return function(dispatch){var Map={};Map[\"nmanufcode\"]=parseInt(SiteDetails.siteAddress.nmanufcode);Map[\"nmanufsitecode\"]=parseInt(SiteDetails.siteAddress.nmanufsitecode);Map[\"userinfo\"]=SiteDetails.userInfo;dispatch(initRequest(true));rsapi.post(\"/manufacturer/getContactManufacturerBySite\",Map).then(function(response){// dispatch({type: DEFAULT_RETURN, payload:{\n//     ManufacturerContactInfo :response.data,\n//     SiteCode: SiteDetails.nmanufsitecode, loading:false\n// }});   \nmasterData=_objectSpread(_objectSpread({},SiteDetails.masterData),{},{ManufacturerContactInfo:response.data,selectedSite:SiteDetails.siteAddress,SiteCode:SiteDetails.siteAddress.nmanufsitecode});sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,dataState:undefined}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});// console.log(error);\n});};}export function getSiteManufacturerLoadEdit(screenName,operation,manufCode,manufSiteCode,ncontrolCode,userInfo){return function(dispatch){var urlArray=[];var selectedRecord={};if(operation===\"create\"){var Country=rsapi.post(\"/country/getCountry\",{\"userinfo\":userInfo});urlArray=[Country];}else{var _Country=rsapi.post(\"/country/getCountry\",{\"userinfo\":userInfo});var ManufacturerSiteByID=rsapi.post(\"/manufacturer/getSiteManufacturerById\",{\"nmanufcode\":manufCode,\"nmanufsitecode\":manufSiteCode,\"userinfo\":userInfo});urlArray=[_Country,ManufacturerSiteByID];}dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var countryCode=[];var countryMap=constructOptionList(response[0].data||[],\"ncountrycode\",\"scountryname\",undefined,undefined,true);var countryList=countryMap.get(\"OptionList\");if(operation===\"update\"){selectedRecord=response[1].data;selectedRecord[\"ncountrycode\"]={label:response[1].data[\"scountryname\"],value:response[1].data[\"ncountrycode\"]};// countryCode.push({\n//     label: response[1].data[\"scountryname\"],\n//     value: response[1].data[\"ncountrycode\"]\n// });\n}dispatch({type:DEFAULT_RETURN,payload:{Country:countryList,openChildModal:true,operation:operation,selectedRecord:operation===\"update\"?selectedRecord:{\"ntransactionstatus\":transactionStatus.ACTIVE,\"ndefaultstatus\":transactionStatus.NO},countryCode:countryCode,ncontrolCode:ncontrolCode,screenName:\"IDS_MANUFACTURESITE\",loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getContactManufacturerLoadEdit(fetchRecord){return function(dispatch){var urlArray=[];var selectedId=null;var ManufacturerContactByID=rsapi.post(\"/manufacturer/getContactManufacturerById\",{\"nmanufcode\":fetchRecord.editRow.nmanufcode,\"nmanufsitecode\":fetchRecord.editRow.nmanufsitecode,\"nmanufcontactcode\":fetchRecord.editRow.nmanufcontactcode,\"userinfo\":fetchRecord.userInfo});urlArray=[ManufacturerContactByID];selectedId=fetchRecord.editRow.nmanufcontactcode;dispatch(initRequest(true));Axios.all(urlArray).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{openChildModal:true,operation:fetchRecord.operation,selectedRecord:fetchRecord.operation===\"update\"?response[0].data:undefined,defaultSite:fetchRecord.editRow.nmanufsitecode,ncontrolCode:fetchRecord.ncontrolCode,screenName:\"IDS_SITECONTACT\",loading:false,selectedId:selectedId}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}// export function filterColumnDataManufacturer(filterValue, masterData, userInfo) {\n//     return function (dispatch) {  \n//         let manuFCode = 0;   \n//         let searchedData = undefined;\n//         if (filterValue === \"\"){\n//             manuFCode = masterData[\"Manufacturer\"][0].nmanufcode;\n//         }\n//         else{\n//             // if (filterValue.length > 2)\n//             // {\n//                 searchedData = searchData(filterValue, masterData[\"Manufacturer\"]);\n//                 if (searchedData.length > 0){\n//                     manuFCode = searchedData[0].nmanufcode; \n//                 }\n//             // }\n//         }\n//         if (manuFCode !== 0){\n//             dispatch(initRequest(true));\n//             return rsapi.post(\"manufacturer/getManufacturerWithSiteAndContactDetails\", {userInfo, nmanufcode:manuFCode})\n//             .then(response=>{         \n//                         masterData[\"ManufacturerSiteAddress\"] = response.data[\"ManufacturerSiteAddress\"];\n//                         masterData[\"ManufacturerContactInfo\"] = response.data[\"ManufacturerContactInfo\"];\n//                         masterData[\"selectedManufacturer\"] = response.data[\"selectedManufacturer\"];\n//                         masterData[\"SiteCode\"] = response.data[\"SiteCode\"];\n//                         masterData[\"searchedData\"] = searchedData;\n//                         dispatch({type: DEFAULT_RETURN, payload:{masterData, loading:false}});       \n//             })\n//             .catch(error=>{\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\n//                 if (error.response.status === 500){\n//                     toast.error(error.message);\n//                 } \n//                 else{               \n//                     toast.warn(error.response.data);\n//                 }  \n//             }) \n//         } \n//         else{        \n//             masterData[\"ManufacturerSiteAddress\"] = [];\n//             masterData[\"ManufacturerContactInfo\"] = undefined;\n//             masterData[\"selectedManufacturer\"] = [];\n//             masterData[\"searchedData\"] = [];\n//             masterData[\"SiteCode\"]  = 0;\n//             dispatch({type: DEFAULT_RETURN, payload:{masterData, loading:false}}); \n//         }           \n//     }   \n// } \nexport var addManufacturerFile=function addManufacturerFile(inputParam){return function(dispatch){dispatch(initRequest(true));var urlArray=[rsapi.post(\"/linkmaster/getLinkMaster\",{userinfo:inputParam.userInfo})];if(inputParam.operation===\"update\"){urlArray.push(rsapi.post(\"/manufacturer/editManufacturerFile\",{userinfo:inputParam.userInfo,manufacturerfile:inputParam.selectedRecord}));}Axios.all(urlArray).then(function(response){var _payload;var linkMap=constructOptionList(response[0].data.LinkMaster,\"nlinkcode\",\"slinkname\",false,false,true);var linkmaster=linkMap.get(\"OptionList\");var selectedRecord={};var defaultLink=linkmaster.filter(function(items){return items.item.ndefaultlink===transactionStatus.YES;});var disabled=false;var editObject={};if(inputParam.operation===\"update\"){editObject=response[1].data;var nlinkcode={};var link={};if(editObject.nattachmenttypecode===attachmentType.LINK){nlinkcode={\"label\":editObject.slinkname,\"value\":editObject.nlinkcode};link={slinkfilename:editObject.sfilename,slinkdescription:editObject.sdescription,nlinkdefaultstatus:editObject.ndefaultstatus,sfilesize:'',nfilesize:0,ndefaultstatus:4,sfilename:''};}else{nlinkcode=defaultLink.length>0?defaultLink[0]:\"\";//{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\"\nlink={slinkfilename:'',slinkdescription:'',nlinkdefaultstatus:4,sfilesize:editObject.sfilesize,nfilesize:editObject.nfilesize,ndefaultstatus:editObject.ndefaultstatus,sfilename:editObject.sfilename};}selectedRecord=_objectSpread(_objectSpread({},link),{},{nmanufacturerfilecode:editObject.nmanufacturerfilecode,nattachmenttypecode:editObject.nattachmenttypecode,sdescription:editObject.sdescription,nlinkcode:nlinkcode// disabled: true\n});}else{selectedRecord={nattachmenttypecode:response[0].data.AttachmentType.length>0?response[0].data.AttachmentType[0].nattachmenttypecode:attachmentType.FTP,nlinkcode:defaultLink.length>0?defaultLink[0]:\"\",//{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\ndisabled:disabled};}dispatch({type:DEFAULT_RETURN,payload:(_payload={},_defineProperty(_payload,inputParam.modalName,true),_defineProperty(_payload,\"operation\",inputParam.operation),_defineProperty(_payload,\"screenName\",inputParam.screenName),_defineProperty(_payload,\"ncontrolCode\",inputParam.ncontrolCode),_defineProperty(_payload,\"selectedRecord\",selectedRecord),_defineProperty(_payload,\"loading\",false),_defineProperty(_payload,\"linkMaster\",linkmaster),_defineProperty(_payload,\"showSaveContinue\",false),_defineProperty(_payload,\"editFiles\",editObject.nattachmenttypecode===attachmentType.FTP?editObject:{}),_payload)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};};","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/ManufacturerAction.js"],"names":["rsapi","DEFAULT_RETURN","sortData","constructOptionList","Axios","initRequest","intl","toast","transactionStatus","attachmentType","getManfacturerCombo","screenName","operation","primaryKeyName","masterData","userInfo","ncontrolCode","dispatch","urlArray","CountryService","post","EDQMManufacturer","ManufacturerByID","selectedManufacturer","all","then","response","countryCode","countryMap","data","undefined","countryList","get","edqmManufacturer","selectedRecord","edqmManufacturerMap","edqmManufacturerList","label","value","type","payload","Country","isOpen","openModal","loading","catch","error","status","formatMessage","id","message","warn","selectCheckBoxManufacturer","Manufacturer","nmanufcode","selectedId","getContactInfo","SiteDetails","Map","parseInt","siteAddress","nmanufsitecode","ManufacturerContactInfo","selectedSite","SiteCode","dataState","getSiteManufacturerLoadEdit","manufCode","manufSiteCode","ManufacturerSiteByID","openChildModal","ACTIVE","NO","getContactManufacturerLoadEdit","fetchRecord","ManufacturerContactByID","editRow","nmanufcontactcode","defaultSite","addManufacturerFile","inputParam","userinfo","push","manufacturerfile","linkMap","LinkMaster","linkmaster","defaultLink","filter","items","item","ndefaultlink","YES","disabled","editObject","nlinkcode","link","nattachmenttypecode","LINK","slinkname","slinkfilename","sfilename","slinkdescription","sdescription","nlinkdefaultstatus","ndefaultstatus","sfilesize","nfilesize","length","nmanufacturerfilecode","AttachmentType","FTP","modalName"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport {DEFAULT_RETURN} from './LoginTypes';\r\nimport {sortData, constructOptionList} from '../components/CommonScript';\r\nimport Axios from 'axios';\r\nimport { initRequest } from './LoginAction';\r\nimport { intl } from '../components/App';\r\nimport { toast } from 'react-toastify';\r\nimport { transactionStatus, attachmentType } from '../components/Enumeration';\r\n\r\nexport function getManfacturerCombo(screenName, operation, primaryKeyName,  masterData, userInfo, ncontrolCode) {\r\n return function(dispatch){ \r\n    let urlArray = [];\r\n    if (operation === \"create\") {\r\n        // const EDQMManufacturer = rsapi.post(\"/edqmmanufacturer/getEDQMManufacturer\", { \"userinfo\": userInfo });\r\n        const CountryService = rsapi.post(\"country/getCountry\", { \"userinfo\" : userInfo });\r\n        urlArray = [CountryService];\r\n    }\r\n    else {\r\n\r\n        const EDQMManufacturer = rsapi.post(\"/edqmmanufacturer/getEDQMManufacturer\", { \"userinfo\": userInfo });\r\n        const ManufacturerByID = rsapi.post(\"/manufacturer/getManufacturerById\", { [primaryKeyName] :masterData.selectedManufacturer[primaryKeyName], \"userinfo\": userInfo });\r\n        urlArray = [EDQMManufacturer, ManufacturerByID];\r\n    }\r\n\r\n    dispatch(initRequest(true));\r\n    Axios.all(urlArray)\r\n        .then(response => {\r\n\r\n            let countryCode = [];\r\n            const countryMap = constructOptionList(response[0].data || [], \"ncountrycode\",\r\n            \"scountryname\", undefined, undefined, true);\r\n            const countryList = countryMap.get(\"OptionList\");\r\n\r\n            let edqmManufacturer = [];\r\n            let selectedRecord = {};\r\n\r\n            const edqmManufacturerMap = constructOptionList(response[0].data || [], \"nofficialmanufcode\",\r\n            \"sofficialmanufname\", undefined, undefined, false);\r\n\r\n            const edqmManufacturerList = edqmManufacturerMap.get(\"OptionList\");\r\n\r\n            if (operation === \"update\") {\r\n\r\n                selectedRecord = response[1].data;\r\n                selectedRecord[\"nofficialmanufcode\"] = {\r\n                    label: response[1].data[\"sofficialmanufname\"],\r\n                    value: response[1].data[\"nofficialmanufcode\"]\r\n                };\r\n                // edqmManufacturer.push({\r\n                //     label: response[1].data[\"sofficialmanufname\"],\r\n                //     value: response[1].data[\"nofficialmanufcode\"]\r\n                // });\r\n            }\r\n            dispatch({type: DEFAULT_RETURN, \r\n                payload:{  \r\n                edqmManufacturerList,Country: countryList,countryCode: countryCode,  isOpen: true,  \r\n                selectedRecord: operation === \"update\" ? selectedRecord : {\"ntransactionstatus\": 1}, \r\n                edqmManufacturer: edqmManufacturer ,\r\n                operation: operation,\r\n                     screenName: screenName,\r\n                    openModal : true, ncontrolCode: ncontrolCode, loading:false\r\n            }});\r\n        })\r\n        .catch(error => {\r\n            dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n            if (error.response.status === 500) {\r\n                toast.error(intl.formatMessage({ id: error.message }));\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: error.response.data }));\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function selectCheckBoxManufacturer(Manufacturer, userInfo, masterData){\r\n    return function(dispatch){ \r\n    dispatch(initRequest(true));\r\n    rsapi.post(\"/manufacturer/getManufacturerWithSiteAndContactDetails\", { 'userinfo': userInfo, \"nmanufcode\": Manufacturer.nmanufcode })\r\n        \r\n    .then(response=>{      \r\n        masterData = {...masterData, ...response.data};        \r\n        sortData(masterData);\r\n        // console.log(\" Select Checked : \", masterData);\r\n        dispatch({type: DEFAULT_RETURN, payload:{masterData, loading:false,selectedId:null}});   \r\n   })   \r\n        .catch(error => {\r\n            dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n        })\r\n    }\r\n}\r\n\r\nexport function getContactInfo(SiteDetails, masterData){\r\n    return function(dispatch){ \r\n    let Map={};\r\n \r\n    Map[\"nmanufcode\"]=parseInt(SiteDetails.siteAddress.nmanufcode);\r\n    Map[\"nmanufsitecode\"]=parseInt(SiteDetails.siteAddress.nmanufsitecode);\r\n    Map[\"userinfo\"]=SiteDetails.userInfo\r\n    dispatch(initRequest(true));\r\n    rsapi.post(\"/manufacturer/getContactManufacturerBySite\",Map)\r\n    .then(response =>{\r\n        // dispatch({type: DEFAULT_RETURN, payload:{\r\n        //     ManufacturerContactInfo :response.data,\r\n        //     SiteCode: SiteDetails.nmanufsitecode, loading:false\r\n        // }});   \r\n         \r\n        masterData = {...SiteDetails.masterData, ManufacturerContactInfo: response.data,\r\n            selectedSite: SiteDetails.siteAddress,\r\n             SiteCode:SiteDetails.siteAddress.nmanufsitecode};     \r\n        sortData(masterData);\r\n        dispatch({type: DEFAULT_RETURN, payload:{masterData, loading:false, dataState: undefined}}); \r\n\r\n    })\r\n    .catch(error =>{\r\n        dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n        // console.log(error);\r\n    })\r\n}\r\n}\r\n\r\nexport function getSiteManufacturerLoadEdit(screenName, operation, manufCode, manufSiteCode, ncontrolCode, userInfo){\r\n    return function(dispatch){ \r\n    let urlArray = [];\r\n    let selectedRecord = {};\r\n\r\n    if (operation === \"create\") {\r\n        const Country = rsapi.post(\"/country/getCountry\", { \"userinfo\": userInfo });\r\n        urlArray = [Country];\r\n    }\r\n    else {\r\n\r\n        const Country = rsapi.post(\"/country/getCountry\", { \"userinfo\": userInfo });\r\n        const ManufacturerSiteByID = rsapi.post(\"/manufacturer/getSiteManufacturerById\", { \"nmanufcode\": manufCode, \"nmanufsitecode\": manufSiteCode ,\"userinfo\": userInfo});\r\n        urlArray = [Country, ManufacturerSiteByID];\r\n    }\r\n\r\n    dispatch(initRequest(true));\r\n    Axios.all(urlArray)\r\n        .then(response => {\r\n\r\n            let countryCode = [];\r\n\r\n            const countryMap = constructOptionList(response[0].data || [], \"ncountrycode\",\r\n            \"scountryname\", undefined, undefined, true);\r\n\r\n            const countryList = countryMap.get(\"OptionList\");\r\n\r\n\r\n            if (operation === \"update\") {\r\n\r\n                selectedRecord = response[1].data;\r\n                selectedRecord[\"ncountrycode\"] = {\r\n                    label: response[1].data[\"scountryname\"],\r\n                    value: response[1].data[\"ncountrycode\"]\r\n                };\r\n                // countryCode.push({\r\n                //     label: response[1].data[\"scountryname\"],\r\n                //     value: response[1].data[\"ncountrycode\"]\r\n                // });\r\n            }\r\n\r\n            dispatch({type: DEFAULT_RETURN, payload:{\r\n                Country: countryList, openChildModal:true, operation, \r\n                selectedRecord: operation === \"update\" ? selectedRecord : {\"ntransactionstatus\": transactionStatus.ACTIVE,\"ndefaultstatus\":transactionStatus.NO}, countryCode: countryCode, ncontrolCode,\r\n                screenName: \"IDS_MANUFACTURESITE\", loading:false\r\n             }});\r\n        })\r\n        .catch(error => {\r\n            dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n            if (error.response.status === 500) {\r\n                toast.error(intl.formatMessage({ id: error.message }));\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: error.response.data }));\r\n            }\r\n        })\r\n    }\r\n}\r\nexport function getContactManufacturerLoadEdit(fetchRecord){\r\n    return function(dispatch){ \r\n    let urlArray = [];\r\n    let selectedId = null;\r\n    const ManufacturerContactByID = rsapi.post(\"/manufacturer/getContactManufacturerById\", { \"nmanufcode\": fetchRecord.editRow.nmanufcode, \"nmanufsitecode\": fetchRecord.editRow.nmanufsitecode, \"nmanufcontactcode\": fetchRecord.editRow.nmanufcontactcode,\"userinfo\": fetchRecord.userInfo });\r\n    urlArray = [ManufacturerContactByID];\r\n    selectedId = fetchRecord.editRow.nmanufcontactcode;\r\n\r\n    dispatch(initRequest(true));\r\n    Axios.all(urlArray)\r\n        .then(response => {            \r\n            dispatch({type: DEFAULT_RETURN, payload:{\r\n                openChildModal:true, operation:fetchRecord.operation, \r\n                selectedRecord: fetchRecord.operation === \"update\" ? response[0].data : undefined,\r\n          defaultSite: fetchRecord.editRow.nmanufsitecode, ncontrolCode:fetchRecord.ncontrolCode ,\r\n          screenName: \"IDS_SITECONTACT\", loading:false, selectedId\r\n        }});\r\n        })\r\n        .catch(error => {\r\n            dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n            if (error.response.status === 500) {\r\n                toast.error(intl.formatMessage({ id: error.message }));\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: error.response.data }));\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\n// export function filterColumnDataManufacturer(filterValue, masterData, userInfo) {\r\n//     return function (dispatch) {  \r\n      \r\n//         let manuFCode = 0;   \r\n//         let searchedData = undefined;\r\n//         if (filterValue === \"\"){\r\n//             manuFCode = masterData[\"Manufacturer\"][0].nmanufcode;\r\n//         }\r\n//         else{\r\n//             // if (filterValue.length > 2)\r\n//             // {\r\n//                 searchedData = searchData(filterValue, masterData[\"Manufacturer\"]);\r\n            \r\n//                 if (searchedData.length > 0){\r\n//                     manuFCode = searchedData[0].nmanufcode; \r\n//                 }\r\n//             // }\r\n//         }\r\n     \r\n//         if (manuFCode !== 0){\r\n//             dispatch(initRequest(true));\r\n//             return rsapi.post(\"manufacturer/getManufacturerWithSiteAndContactDetails\", {userInfo, nmanufcode:manuFCode})\r\n//             .then(response=>{         \r\n//                         masterData[\"ManufacturerSiteAddress\"] = response.data[\"ManufacturerSiteAddress\"];\r\n//                         masterData[\"ManufacturerContactInfo\"] = response.data[\"ManufacturerContactInfo\"];\r\n//                         masterData[\"selectedManufacturer\"] = response.data[\"selectedManufacturer\"];\r\n//                         masterData[\"SiteCode\"] = response.data[\"SiteCode\"];\r\n//                         masterData[\"searchedData\"] = searchedData;\r\n\r\n//                         dispatch({type: DEFAULT_RETURN, payload:{masterData, loading:false}});       \r\n//             })\r\n//             .catch(error=>{\r\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n//                 if (error.response.status === 500){\r\n//                     toast.error(error.message);\r\n//                 } \r\n//                 else{               \r\n//                     toast.warn(error.response.data);\r\n//                 }  \r\n//             }) \r\n//         } \r\n//         else{        \r\n//             masterData[\"ManufacturerSiteAddress\"] = [];\r\n//             masterData[\"ManufacturerContactInfo\"] = undefined;\r\n//             masterData[\"selectedManufacturer\"] = [];\r\n//             masterData[\"searchedData\"] = [];\r\n//             masterData[\"SiteCode\"]  = 0;\r\n//             dispatch({type: DEFAULT_RETURN, payload:{masterData, loading:false}}); \r\n//         }           \r\n//     }   \r\n// } \r\n\r\nexport const addManufacturerFile = (inputParam) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        let urlArray = [rsapi.post(\"/linkmaster/getLinkMaster\", {\r\n            userinfo: inputParam.userInfo\r\n        })];\r\n        if (inputParam.operation === \"update\") {\r\n            urlArray.push(rsapi.post(\"/manufacturer/editManufacturerFile\", {\r\n                userinfo: inputParam.userInfo,\r\n                manufacturerfile: inputParam.selectedRecord\r\n            }))\r\n        }\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const linkMap = constructOptionList(response[0].data.LinkMaster, \"nlinkcode\", \"slinkname\", false, false, true);\r\n                const linkmaster = linkMap.get(\"OptionList\");\r\n                let selectedRecord = {};\r\n                const defaultLink = linkmaster.filter(items => items.item.ndefaultlink === transactionStatus.YES);\r\n                let disabled = false;\r\n                let editObject = {};\r\n                if (inputParam.operation === \"update\") {\r\n                    editObject = response[1].data;\r\n                    let nlinkcode = {};\r\n                    let link = {};\r\n                    if (editObject.nattachmenttypecode === attachmentType.LINK) {\r\n                        nlinkcode = {\r\n                            \"label\": editObject.slinkname,\r\n                            \"value\": editObject.nlinkcode\r\n                        }\r\n\r\n                        link = {\r\n                            slinkfilename: editObject.sfilename,\r\n                            slinkdescription: editObject.sdescription,\r\n                            nlinkdefaultstatus: editObject.ndefaultstatus,\r\n                            sfilesize: '',\r\n                            nfilesize: 0,\r\n                            ndefaultstatus: 4,\r\n                            sfilename: '',\r\n                        }\r\n\r\n                    } else {\r\n                        nlinkcode = defaultLink.length > 0 ? defaultLink[0] : \"\" //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\"\r\n                        link = {\r\n                            slinkfilename: '',\r\n                            slinkdescription: '',\r\n                            nlinkdefaultstatus: 4,\r\n                            sfilesize: editObject.sfilesize,\r\n                            nfilesize: editObject.nfilesize,\r\n                            ndefaultstatus: editObject.ndefaultstatus,\r\n                            sfilename: editObject.sfilename,\r\n                        }\r\n                    }\r\n\r\n                    selectedRecord = {\r\n                        ...link,\r\n                        nmanufacturerfilecode: editObject.nmanufacturerfilecode,\r\n                        nattachmenttypecode: editObject.nattachmenttypecode,\r\n                        sdescription:editObject.sdescription,\r\n                        nlinkcode,\r\n\r\n                        // disabled: true\r\n                    };\r\n                } else {\r\n                    selectedRecord = {\r\n                        nattachmenttypecode: response[0].data.AttachmentType.length > 0 ?\r\n                            response[0].data.AttachmentType[0].nattachmenttypecode : attachmentType.FTP,\r\n                        nlinkcode: defaultLink.length > 0 ? defaultLink[0] : \"\", //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\r\n                        disabled\r\n                    };\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        [inputParam.modalName]: true,\r\n                        operation: inputParam.operation,\r\n                        screenName: inputParam.screenName,\r\n                        ncontrolCode: inputParam.ncontrolCode,\r\n                        selectedRecord,\r\n                        loading: false,\r\n                        linkMaster: linkmaster,\r\n                        showSaveContinue: false,\r\n                        editFiles: editObject.nattachmenttypecode === attachmentType.FTP ? editObject : {}\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}