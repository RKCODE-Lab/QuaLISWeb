{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React from \"react\";\nimport { Utils } from \"@react-awesome-query-builder/core\";\nimport PropTypes from \"prop-types\";\nimport GroupContainer from \"../containers/GroupContainer\";\nimport Draggable from \"../containers/Draggable\";\nimport { BasicGroup } from \"./Group\";\nimport { RuleGroupExtActions } from \"./RuleGroupExtActions\";\nimport FieldWrapper from \"../rule/FieldWrapper\";\nimport OperatorWrapper from \"../rule/OperatorWrapper\";\nimport { useOnPropsChanged } from \"../../utils/reactUtils\";\nimport { Col, dummyFn, ConfirmFn } from \"../utils\";\nimport Widget from \"../rule/Widget\";\nimport classNames from \"classnames\";\nvar _Utils$ConfigUtils = Utils.ConfigUtils,\n    getFieldConfig = _Utils$ConfigUtils.getFieldConfig,\n    getFieldWidgetConfig = _Utils$ConfigUtils.getFieldWidgetConfig;\n\nvar RuleGroupExt = /*#__PURE__*/function (_BasicGroup) {\n  _inherits(RuleGroupExt, _BasicGroup);\n\n  var _super = _createSuper(RuleGroupExt);\n\n  function RuleGroupExt(props) {\n    var _this;\n\n    _classCallCheck(this, RuleGroupExt);\n\n    _this = _super.call(this, props);\n\n    _this.childrenClassName = function () {\n      return \"rule_group_ext--children\";\n    };\n\n    _this.renderFooterWrapper = function () {\n      return null;\n    };\n\n    _this.canAddGroup = function () {\n      return false;\n    };\n\n    _this.canAddRule = function () {\n      return true;\n    };\n\n    _this.canDeleteGroup = function () {\n      return true;\n    };\n\n    useOnPropsChanged(_assertThisInitialized(_this));\n\n    _this.onPropsChanged(props);\n\n    return _this;\n  }\n\n  _createClass(RuleGroupExt, [{\n    key: \"onPropsChanged\",\n    value: function onPropsChanged(nextProps) {}\n  }, {\n    key: \"renderHeaderWrapper\",\n    value: function renderHeaderWrapper() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"group-header\",\n        className: classNames(\"group--header\", this.isOneChild() ? \"one--child\" : \"\", this.isOneChild() ? \"hide--line\" : \"\", this.isNoChildren() ? \"no--children\" : \"\", this.showDragIcon() ? \"with--drag\" : \"hide--drag\", this.showConjs() && (!this.isOneChild() || this.showNot()) ? \"with--conjs\" : \"hide--conjs\")\n      }, this.renderHeader(), this.renderGroupField(), this.renderActions());\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"group--conjunctions\"\n      }, this.renderConjs(), this.renderDrag());\n    }\n  }, {\n    key: \"renderGroupField\",\n    value: function renderGroupField() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"group--field--count--rule\"\n      }, this.renderField(), this.renderOperator(), this.renderWidget());\n    }\n  }, {\n    key: \"showNot\",\n    value: function showNot() {\n      var _this$props = this.props,\n          config = _this$props.config,\n          selectedField = _this$props.selectedField,\n          selectedOperator = _this$props.selectedOperator;\n      var selectedFieldConfig = getFieldConfig(config, selectedField) || {};\n      return selectedFieldConfig.showNot != undefined ? selectedFieldConfig.showNot : config.settings.showNot;\n    }\n  }, {\n    key: \"conjunctionOptions\",\n    value: function conjunctionOptions() {\n      var _this$props2 = this.props,\n          config = _this$props2.config,\n          selectedField = _this$props2.selectedField,\n          selectedOperator = _this$props2.selectedOperator;\n      var selectedFieldConfig = getFieldConfig(config, selectedField) || {};\n\n      var conjunctionOptions = _get(_getPrototypeOf(RuleGroupExt.prototype), \"conjunctionOptions\", this).call(this);\n\n      if (selectedFieldConfig.conjunctions) {\n        var filtered = {};\n\n        var _iterator = _createForOfIteratorHelper(selectedFieldConfig.conjunctions),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var k = _step.value;\n            filtered[k] = conjunctionOptions[k];\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        conjunctionOptions = filtered;\n      }\n\n      return conjunctionOptions;\n    }\n  }, {\n    key: \"renderField\",\n    value: function renderField() {\n      var _this$props3 = this.props,\n          config = _this$props3.config,\n          selectedField = _this$props3.selectedField,\n          setField = _this$props3.setField,\n          parentField = _this$props3.parentField,\n          id = _this$props3.id,\n          groupId = _this$props3.groupId,\n          isLocked = _this$props3.isLocked;\n      var immutableFieldsMode = config.settings.immutableFieldsMode;\n      return /*#__PURE__*/React.createElement(FieldWrapper, {\n        key: \"field\",\n        classname: \"rule--field\",\n        config: config,\n        selectedField: selectedField,\n        setField: setField,\n        parentField: parentField,\n        readonly: immutableFieldsMode || isLocked,\n        id: id,\n        groupId: groupId\n      });\n    }\n  }, {\n    key: \"renderOperator\",\n    value: function renderOperator() {\n      var _this$props4 = this.props,\n          config = _this$props4.config,\n          selectedField = _this$props4.selectedField,\n          selectedOperator = _this$props4.selectedOperator,\n          setField = _this$props4.setField,\n          setOperator = _this$props4.setOperator,\n          isLocked = _this$props4.isLocked;\n      var immutableFieldsMode = config.settings.immutableFieldsMode;\n      var selectedFieldWidgetConfig = getFieldWidgetConfig(config, selectedField, selectedOperator) || {};\n      var hideOperator = selectedFieldWidgetConfig.hideOperator;\n      var showOperatorLabel = selectedField && hideOperator && selectedFieldWidgetConfig.operatorInlineLabel;\n      var showOperator = selectedField && !hideOperator;\n      return /*#__PURE__*/React.createElement(OperatorWrapper, {\n        key: \"operator\",\n        classname: \"group--operator\",\n        config: config,\n        selectedField: selectedField,\n        selectedOperator: selectedOperator,\n        setField: setField,\n        setOperator: setOperator,\n        selectedFieldPartsLabels: [\"group\"],\n        showOperator: showOperator,\n        showOperatorLabel: showOperatorLabel,\n        selectedFieldWidgetConfig: selectedFieldWidgetConfig,\n        readonly: immutableFieldsMode || isLocked,\n        id: this.props.id,\n        groupId: this.props.groupId\n      });\n    }\n  }, {\n    key: \"renderWidget\",\n    value: function renderWidget() {\n      var _this$props5 = this.props,\n          config = _this$props5.config,\n          selectedField = _this$props5.selectedField,\n          selectedOperator = _this$props5.selectedOperator,\n          isLocked = _this$props5.isLocked;\n      var immutableValuesMode = config.settings.immutableValuesMode;\n      var isFieldAndOpSelected = selectedField && selectedOperator;\n      var showWidget = isFieldAndOpSelected;\n      if (!showWidget) return null;\n      var widget = /*#__PURE__*/React.createElement(Widget, {\n        key: \"values\",\n        isForRuleGruop: true,\n        field: this.props.selectedField,\n        operator: this.props.selectedOperator,\n        value: this.props.value,\n        valueSrc: \"value\",\n        valueError: null,\n        config: config,\n        setValue: !immutableValuesMode ? this.props.setValue : dummyFn,\n        setValueSrc: dummyFn,\n        readonly: immutableValuesMode || isLocked,\n        id: this.props.id,\n        groupId: this.props.groupId\n      });\n      return /*#__PURE__*/React.createElement(Col, {\n        key: \"widget-for-\" + this.props.selectedOperator,\n        className: \"rule--value\"\n      }, widget);\n    }\n  }, {\n    key: \"renderActions\",\n    value: function renderActions() {\n      var _this$props6 = this.props,\n          config = _this$props6.config,\n          addRule = _this$props6.addRule,\n          isLocked = _this$props6.isLocked,\n          isTrueLocked = _this$props6.isTrueLocked,\n          id = _this$props6.id;\n      return /*#__PURE__*/React.createElement(RuleGroupExtActions, {\n        config: config,\n        addRule: addRule,\n        canAddRule: this.canAddRule(),\n        canDeleteGroup: this.canDeleteGroup(),\n        removeSelf: this.removeSelf,\n        setLock: this.setLock,\n        isLocked: isLocked,\n        isTrueLocked: isTrueLocked,\n        id: id\n      });\n    }\n  }, {\n    key: \"reordableNodesCntForItem\",\n    value: function reordableNodesCntForItem(_item) {\n      if (this.props.isLocked) return 0;\n      var children1 = this.props.children1;\n      return (children1 === null || children1 === void 0 ? void 0 : children1.size) || 0;\n    }\n  }, {\n    key: \"extraPropsForItem\",\n    value: function extraPropsForItem(_item) {\n      return {\n        parentField: this.props.selectedField\n      };\n    }\n  }]);\n\n  return RuleGroupExt;\n}(BasicGroup);\n\nRuleGroupExt.propTypes = _objectSpread(_objectSpread({}, BasicGroup.propTypes), {}, {\n  selectedField: PropTypes.string,\n  selectedOperator: PropTypes.string,\n  value: PropTypes.any,\n  parentField: PropTypes.string,\n  setField: PropTypes.func,\n  setOperator: PropTypes.func,\n  setValue: PropTypes.func\n});\nexport default GroupContainer(Draggable(\"group rule_group_ext\")(ConfirmFn(RuleGroupExt)));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/SOURCE-512/QuaLISWeb/node_modules/@react-awesome-query-builder/ui/esm/components/item/RuleGroupExt.js"],"names":["_defineProperty","_classCallCheck","_createClass","_assertThisInitialized","_get","_inherits","_possibleConstructorReturn","_getPrototypeOf","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","minLen","_arrayLikeToArray","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","Reflect","construct","sham","Proxy","Boolean","valueOf","React","Utils","PropTypes","GroupContainer","Draggable","BasicGroup","RuleGroupExtActions","FieldWrapper","OperatorWrapper","useOnPropsChanged","Col","dummyFn","ConfirmFn","Widget","classNames","_Utils$ConfigUtils","ConfigUtils","getFieldConfig","getFieldWidgetConfig","RuleGroupExt","_BasicGroup","_super","props","_this","childrenClassName","renderFooterWrapper","canAddGroup","canAddRule","canDeleteGroup","onPropsChanged","nextProps","renderHeaderWrapper","createElement","className","isOneChild","isNoChildren","showDragIcon","showConjs","showNot","renderHeader","renderGroupField","renderActions","renderConjs","renderDrag","renderField","renderOperator","renderWidget","_this$props","config","selectedField","selectedOperator","selectedFieldConfig","undefined","settings","conjunctionOptions","_this$props2","conjunctions","filtered","_iterator","_step","k","_this$props3","setField","parentField","id","groupId","isLocked","immutableFieldsMode","classname","readonly","_this$props4","setOperator","selectedFieldWidgetConfig","hideOperator","showOperatorLabel","operatorInlineLabel","showOperator","selectedFieldPartsLabels","_this$props5","immutableValuesMode","isFieldAndOpSelected","showWidget","widget","isForRuleGruop","field","operator","valueSrc","valueError","setValue","setValueSrc","_this$props6","addRule","isTrueLocked","removeSelf","setLock","reordableNodesCntForItem","_item","children1","size","extraPropsForItem","propTypes","string","any","func"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React from \"react\";\nimport { Utils } from \"@react-awesome-query-builder/core\";\nimport PropTypes from \"prop-types\";\nimport GroupContainer from \"../containers/GroupContainer\";\nimport Draggable from \"../containers/Draggable\";\nimport { BasicGroup } from \"./Group\";\nimport { RuleGroupExtActions } from \"./RuleGroupExtActions\";\nimport FieldWrapper from \"../rule/FieldWrapper\";\nimport OperatorWrapper from \"../rule/OperatorWrapper\";\nimport { useOnPropsChanged } from \"../../utils/reactUtils\";\nimport { Col, dummyFn, ConfirmFn } from \"../utils\";\nimport Widget from \"../rule/Widget\";\nimport classNames from \"classnames\";\nvar _Utils$ConfigUtils = Utils.ConfigUtils,\n  getFieldConfig = _Utils$ConfigUtils.getFieldConfig,\n  getFieldWidgetConfig = _Utils$ConfigUtils.getFieldWidgetConfig;\nvar RuleGroupExt = /*#__PURE__*/function (_BasicGroup) {\n  _inherits(RuleGroupExt, _BasicGroup);\n  var _super = _createSuper(RuleGroupExt);\n  function RuleGroupExt(props) {\n    var _this;\n    _classCallCheck(this, RuleGroupExt);\n    _this = _super.call(this, props);\n    _this.childrenClassName = function () {\n      return \"rule_group_ext--children\";\n    };\n    _this.renderFooterWrapper = function () {\n      return null;\n    };\n    _this.canAddGroup = function () {\n      return false;\n    };\n    _this.canAddRule = function () {\n      return true;\n    };\n    _this.canDeleteGroup = function () {\n      return true;\n    };\n    useOnPropsChanged(_assertThisInitialized(_this));\n    _this.onPropsChanged(props);\n    return _this;\n  }\n  _createClass(RuleGroupExt, [{\n    key: \"onPropsChanged\",\n    value: function onPropsChanged(nextProps) {}\n  }, {\n    key: \"renderHeaderWrapper\",\n    value: function renderHeaderWrapper() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"group-header\",\n        className: classNames(\"group--header\", this.isOneChild() ? \"one--child\" : \"\", this.isOneChild() ? \"hide--line\" : \"\", this.isNoChildren() ? \"no--children\" : \"\", this.showDragIcon() ? \"with--drag\" : \"hide--drag\", this.showConjs() && (!this.isOneChild() || this.showNot()) ? \"with--conjs\" : \"hide--conjs\")\n      }, this.renderHeader(), this.renderGroupField(), this.renderActions());\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"group--conjunctions\"\n      }, this.renderConjs(), this.renderDrag());\n    }\n  }, {\n    key: \"renderGroupField\",\n    value: function renderGroupField() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"group--field--count--rule\"\n      }, this.renderField(), this.renderOperator(), this.renderWidget());\n    }\n  }, {\n    key: \"showNot\",\n    value: function showNot() {\n      var _this$props = this.props,\n        config = _this$props.config,\n        selectedField = _this$props.selectedField,\n        selectedOperator = _this$props.selectedOperator;\n      var selectedFieldConfig = getFieldConfig(config, selectedField) || {};\n      return selectedFieldConfig.showNot != undefined ? selectedFieldConfig.showNot : config.settings.showNot;\n    }\n  }, {\n    key: \"conjunctionOptions\",\n    value: function conjunctionOptions() {\n      var _this$props2 = this.props,\n        config = _this$props2.config,\n        selectedField = _this$props2.selectedField,\n        selectedOperator = _this$props2.selectedOperator;\n      var selectedFieldConfig = getFieldConfig(config, selectedField) || {};\n      var conjunctionOptions = _get(_getPrototypeOf(RuleGroupExt.prototype), \"conjunctionOptions\", this).call(this);\n      if (selectedFieldConfig.conjunctions) {\n        var filtered = {};\n        var _iterator = _createForOfIteratorHelper(selectedFieldConfig.conjunctions),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var k = _step.value;\n            filtered[k] = conjunctionOptions[k];\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        conjunctionOptions = filtered;\n      }\n      return conjunctionOptions;\n    }\n  }, {\n    key: \"renderField\",\n    value: function renderField() {\n      var _this$props3 = this.props,\n        config = _this$props3.config,\n        selectedField = _this$props3.selectedField,\n        setField = _this$props3.setField,\n        parentField = _this$props3.parentField,\n        id = _this$props3.id,\n        groupId = _this$props3.groupId,\n        isLocked = _this$props3.isLocked;\n      var immutableFieldsMode = config.settings.immutableFieldsMode;\n      return /*#__PURE__*/React.createElement(FieldWrapper, {\n        key: \"field\",\n        classname: \"rule--field\",\n        config: config,\n        selectedField: selectedField,\n        setField: setField,\n        parentField: parentField,\n        readonly: immutableFieldsMode || isLocked,\n        id: id,\n        groupId: groupId\n      });\n    }\n  }, {\n    key: \"renderOperator\",\n    value: function renderOperator() {\n      var _this$props4 = this.props,\n        config = _this$props4.config,\n        selectedField = _this$props4.selectedField,\n        selectedOperator = _this$props4.selectedOperator,\n        setField = _this$props4.setField,\n        setOperator = _this$props4.setOperator,\n        isLocked = _this$props4.isLocked;\n      var immutableFieldsMode = config.settings.immutableFieldsMode;\n      var selectedFieldWidgetConfig = getFieldWidgetConfig(config, selectedField, selectedOperator) || {};\n      var hideOperator = selectedFieldWidgetConfig.hideOperator;\n      var showOperatorLabel = selectedField && hideOperator && selectedFieldWidgetConfig.operatorInlineLabel;\n      var showOperator = selectedField && !hideOperator;\n      return /*#__PURE__*/React.createElement(OperatorWrapper, {\n        key: \"operator\",\n        classname: \"group--operator\",\n        config: config,\n        selectedField: selectedField,\n        selectedOperator: selectedOperator,\n        setField: setField,\n        setOperator: setOperator,\n        selectedFieldPartsLabels: [\"group\"],\n        showOperator: showOperator,\n        showOperatorLabel: showOperatorLabel,\n        selectedFieldWidgetConfig: selectedFieldWidgetConfig,\n        readonly: immutableFieldsMode || isLocked,\n        id: this.props.id,\n        groupId: this.props.groupId\n      });\n    }\n  }, {\n    key: \"renderWidget\",\n    value: function renderWidget() {\n      var _this$props5 = this.props,\n        config = _this$props5.config,\n        selectedField = _this$props5.selectedField,\n        selectedOperator = _this$props5.selectedOperator,\n        isLocked = _this$props5.isLocked;\n      var immutableValuesMode = config.settings.immutableValuesMode;\n      var isFieldAndOpSelected = selectedField && selectedOperator;\n      var showWidget = isFieldAndOpSelected;\n      if (!showWidget) return null;\n      var widget = /*#__PURE__*/React.createElement(Widget, {\n        key: \"values\",\n        isForRuleGruop: true,\n        field: this.props.selectedField,\n        operator: this.props.selectedOperator,\n        value: this.props.value,\n        valueSrc: \"value\",\n        valueError: null,\n        config: config,\n        setValue: !immutableValuesMode ? this.props.setValue : dummyFn,\n        setValueSrc: dummyFn,\n        readonly: immutableValuesMode || isLocked,\n        id: this.props.id,\n        groupId: this.props.groupId\n      });\n      return /*#__PURE__*/React.createElement(Col, {\n        key: \"widget-for-\" + this.props.selectedOperator,\n        className: \"rule--value\"\n      }, widget);\n    }\n  }, {\n    key: \"renderActions\",\n    value: function renderActions() {\n      var _this$props6 = this.props,\n        config = _this$props6.config,\n        addRule = _this$props6.addRule,\n        isLocked = _this$props6.isLocked,\n        isTrueLocked = _this$props6.isTrueLocked,\n        id = _this$props6.id;\n      return /*#__PURE__*/React.createElement(RuleGroupExtActions, {\n        config: config,\n        addRule: addRule,\n        canAddRule: this.canAddRule(),\n        canDeleteGroup: this.canDeleteGroup(),\n        removeSelf: this.removeSelf,\n        setLock: this.setLock,\n        isLocked: isLocked,\n        isTrueLocked: isTrueLocked,\n        id: id\n      });\n    }\n  }, {\n    key: \"reordableNodesCntForItem\",\n    value: function reordableNodesCntForItem(_item) {\n      if (this.props.isLocked) return 0;\n      var children1 = this.props.children1;\n      return (children1 === null || children1 === void 0 ? void 0 : children1.size) || 0;\n    }\n  }, {\n    key: \"extraPropsForItem\",\n    value: function extraPropsForItem(_item) {\n      return {\n        parentField: this.props.selectedField\n      };\n    }\n  }]);\n  return RuleGroupExt;\n}(BasicGroup);\nRuleGroupExt.propTypes = _objectSpread(_objectSpread({}, BasicGroup.propTypes), {}, {\n  selectedField: PropTypes.string,\n  selectedOperator: PropTypes.string,\n  value: PropTypes.any,\n  parentField: PropTypes.string,\n  setField: PropTypes.func,\n  setOperator: PropTypes.func,\n  setValue: PropTypes.func\n});\nexport default GroupContainer(Draggable(\"group rule_group_ext\")(ConfirmFn(RuleGroupExt)));"]},"metadata":{},"sourceType":"module"}