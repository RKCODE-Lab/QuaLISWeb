{"ast":null,"code":"import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{Row,Col,Card,Nav,FormGroup,FormLabel,Button}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{ReactComponent as Reject}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/reject.svg\";import{BuilderBorder,ContionalButton,DeleteRule}from'./RuleEngineSqlbuilder.styled';import FormSelectSearch from'../../components/form-select-search/form-select-search.component';import OrgTree from'react-org-tree';import{faTrashAlt,faCopy,faPencilAlt,faThumbsUp,faEye}from'@fortawesome/free-solid-svg-icons';import{process}from'@progress/kendo-data-query';import{toast}from'react-toastify';import ListMaster from'../../components/list-master/list-master.component';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import Esign from'../audittrail/Esign';import CustomTab from'../../components/custom-tabs/custom-tabs.component';import RuleEngineQueryTypeFilter from'./RuleEngineQueryTypeFilter';import CustomTabs from'../../components/custom-tabs/custom-tabs.component';import{callService,crudMaster,validateEsignCredential,updateStore,filterColumnData,getSelectedRulesEngine,getRulesEngine,getEditRulesEngine,getRulesEngineAdd}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{transactionStatus,queryTypeFilter,tableType,ColumnType}from'../../components/Enumeration';import{constructOptionList,getControlMap,showEsign,sortData}from'../../components/CommonScript';import{ReadOnlyText,ContentPanel,MediaLabel}from'../../components/App.styles';import rsapi from'../../rsapi';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import{Affix}from'rsuite';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import{ListWrapper}from'../../components/client-group.styles';// import ReactTooltip from 'react-tooltip';\nimport PortalModalSlideout from'../../components/portal-modal/portal-modal-slideout';import AddRule from'./AddRule';import{render}from'@testing-library/react';import{format}from'date-fns';import{ProductList}from'../product/product.styled';import{ReactComponent as ParameterConfigurationIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/parameter-configuration.svg\";import{ReactComponent as ParameterMappingIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/parameter-mapping.svg\";import DataGridComponent from'../../components/data-grid/data-grid.component';import DataGrid from'../../components/data-grid/data-grid.component';import{stringOperatorData}from'./RuleEngineQueryBuilderData';import TestInitiateTab from'./TestInitiateTab';import CustomTabsComponent from'../../components/custom-tabs/custom-tabs.component';import FormInput from'../../components/form-input/form-input.component';// import {validationData} from './QueryBuilderData';\nvar jsonSql=require('json-sql')({separatedValues:false});var jsonSqlParam=require('json-sql')({separatedValues:true});var RuleEngineQueryBuilder=/*#__PURE__*/function(_Component){_inherits(RuleEngineQueryBuilder,_Component);var _super=_createSuper(RuleEngineQueryBuilder);function RuleEngineQueryBuilder(_props){var _this$state;var _this;_classCallCheck(this,RuleEngineQueryBuilder);_this=_super.call(this,_props);_this.dataStateChange=function(event,ntestparametercode){var dataStateObject=_this.state.dataStateObject||{};if(ntestparametercode){dataStateObject=_objectSpread(_objectSpread({},dataStateObject),{},_defineProperty({},ntestparametercode,event.dataState));_this.setState({dataStateObject:dataStateObject});}else{_this.setState({dataState:event.dataState});}};_this.dataStateChangetestinitiate=function(event){_this.setState({//  dataResult: process(this.props.Login.queryData, event.dataState),\ndataStatetestinitiate:event.dataState});};_this.dataStateChangeMain=function(event){_this.setState({dataResultMain:process(_this.props.Login.queryDataMain,event.dataStateMain),dataStateMain:event.dataStateMain});};_this.ConfirmDelete=function(deleteId){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.handleClickDelete(_this.props.Login.masterData,deleteId,\"openModal\");});};_this.changePropertyViewClose=function(id){var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:undefined,activeTestTab:undefined,activeTabId:id}};_this.props.updateStore(updateInfo);};_this.closeModalShow=function(){var openModalPopup=_this.props.Login.openModalPopup;var selectedRecord=_this.props.Login.selectedRecord||{};selectedRecord['srulename']=\"\";openModalPopup=false;var updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:openModalPopup,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.reloadData=function(){_this.searchRef.current.value=\"\";var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,nproductcatcode:_this.props.Login.masterData.SelectedProductCategory.nproductcatcode},classUrl:\"rulesengine\",methodUrl:\"RulesEngine\",displayName:\"IDS_RULESENGINE\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.onsavevalidation=function(selectedRecord){var grouplist=selectedRecord[\"groupList\"];var hasAll=true;var _loop=function _loop(){var rules=grouplist[i];for(j=0;j<rules.length;j++){var props=[];if(rules[j][\"orderresulttype\"]&&rules[j][\"orderresulttype\"].value===1){props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ndiagnosticcasecode\"];}else{props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ngradecode\"];}hasAll=props.every(function(prop){return rules[j].hasOwnProperty(prop);});if(hasAll===false){break;}}if(hasAll===false){return\"break\";}};for(var i=0;i<grouplist.length;i++){var j;var _ret=_loop();if(_ret===\"break\")break;}return hasAll;};_this.save=function(){var inputData=[];var siteObject=_this.props.Login.siteObject||{};var testCommentObject=_this.props.Login.testCommentObject||{};var reportCommentObject=_this.props.Login.reportCommentObject||{};var testInitiateTests=_this.props.Login.testInitiateTests||[];var testCommentsTests=_this.props.Login.testCommentsTests||[];var reportCommentsTests=_this.props.Login.reportCommentsTests||[];var selectedRecord=_this.state.selectedRecord;var rules=[];if(selectedRecord[\"nproductcatcode\"]){if(selectedRecord[\"groupList\"].length>0){if(_this.onsavevalidation(selectedRecord)){if(selectedRecord[\"srulename\"]&&selectedRecord[\"srulename\"]!==\"\"&&_this.props.Login.action!=='update'&&_this.props.Login.action!=='IDS_ADDTESTCOMMENTS'&&_this.props.Login.action!=='IDS_ADDREPORTCOMMENTS'&&_this.props.Login.action!=='IDS_ADDTEST'&&_this.props.Login.action!=='IDS_ADDSITE'){if(selectedRecord[\"groupList\"]){var groupList=[];var outcomeList={};groupList=selectedRecord[\"groupList\"];outcomeList['groupList']=groupList;outcomeList['addGroupList']=_this.props.Login.addGroupList;outcomeList['testInitiateTests']=_this.props.Login.testInitiateTests&&_this.props.Login.testInitiateTests;outcomeList['testCommentsTests']=_this.props.Login.testCommentsTests&&_this.props.Login.testCommentsTests;outcomeList['reportCommentsTests']=_this.props.Login.reportCommentsTests&&_this.props.Login.reportCommentsTests;outcomeList['siteObject']=_this.props.Login.siteObject&&_this.props.Login.siteObject;outcomeList['testCommentObject']=_this.props.Login.testCommentObject&&_this.props.Login.testCommentObject;outcomeList['reportCommentObject']=_this.props.Login.reportCommentObject&&_this.props.Login.reportCommentObject;outcomeList['testInitiateSiteTab']=_this.props.Login.testInitiateSiteTab&&_this.props.Login.testInitiateSiteTab;outcomeList['testCommentsTestsTab']=_this.props.Login.testCommentsTestsTab&&_this.props.Login.testCommentsTestsTab;outcomeList['reportCommentsTestsTab']=_this.props.Login.reportCommentsTestsTab&&_this.props.Login.reportCommentsTestsTab;outcomeList['nproductcatcode']=selectedRecord['nproductcatcode'];outcomeList['groupListJoins']=selectedRecord['groupListJoins'];var ruleEngineLayout=[];var ruleEngineLayoutObject=[];var groupRuleObject={};groupList.map(function(List){if(List.hasOwnProperty('button_or')&&List['button_or']===true){if(List.hasOwnProperty('button_not')&&List['button_not']===true){groupRuleObject['button_not_button_or']=List;}else{groupRuleObject['button_or']=List;}// groupRuleObject['button_or'] = List\nruleEngineLayout.push(groupRuleObject);groupRuleObject={};}if(List.hasOwnProperty('button_and')&&List['button_and']===true){if(List.hasOwnProperty('button_not')&&List['button_not']===true){groupRuleObject['button_not_button_and']=List;}else{groupRuleObject['button_and']=List;}//  groupRuleObject['button_and'] = List\nruleEngineLayout.push(groupRuleObject);groupRuleObject={};}});ruleEngineLayoutObject=groupList.hasOwnProperty('button_or')&&groupList['button_or']===true?{'button_or':ruleEngineLayout}:{'button_and':ruleEngineLayout};console.log('savelist--->',JSON.stringify(ruleEngineLayoutObject));//  inputData['nproductcatcode'] = this.props.Login.masterData.SelectedProductCategory.nproductcatcode\ninputData['nproductcatcode']=selectedRecord['nproductcatcode'].value;inputData['srulename']=selectedRecord['srulename'];inputData['outcomeList']=JSON.stringify(outcomeList);inputData['jsondata']=JSON.stringify(ruleEngineLayout);inputData['userinfo']=_this.props.Login.userInfo;if(_this.props.Login.operation==='update'){inputData['ntransactionrulesenginecode']=_this.props.Login.masterData.SelectedRulesEngine['ntransactionrulesenginecode'];}var inputParam={classUrl:\"rulesengine\",methodUrl:\"RulesEngine\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:_this.props.Login.operation==='create'?'create':'update'};_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openPortalModal\");}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_PLEASEADDRULE\"}));}}else{selectedRecord['srulename']=selectedRecord['srulenamecopy']||\"\";var updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:true,selectedRecord:selectedRecord,action:\"IDS_SAVERULEMODAL\",openmodalsavePopup:true}};_this.props.updateStore(updateInfo);//   toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERRULESENGINENAME\" }));\n}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_COMPLETETHERULETOSAVE\"}));}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_ATLEASTADDONERULE\"}));}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTPRODUCTCATEGORY\"}));}};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){_this.searchRef.current.value=\"\";if(_this.state.selectedcombo[\"nproductcatcode\"]){console.log(_this.state.selectedcombo[\"nproductcatcode\"].value);}var nproductcatcode=_this.state.selectedcombo[\"nproductcatcode\"]?_this.state.selectedcombo[\"nproductcatcode\"].value:_this.props.Login.masterData.queryTypeCode;_this.props.getRulesEngine(nproductcatcode,_this.props.Login.userInfo,_this.props.Login.masterData);};_this.onFilterComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;//  this.generateFilterQuery(selectedRecord);\n};_this.onComboChange=function(comboData,fieldName){var selectedcombo=_this.state.selectedcombo||{};selectedcombo[fieldName]=comboData;_this.setState({selectedcombo:selectedcombo});};_this.onOutcomeChange=function(comboData,index){var selectedRecord=_this.state.selectedRecord;selectedRecord[\"outComeList\"]=[];selectedRecord[\"outComeList\"][index]=[];selectedRecord[\"outComeList\"][index]=comboData;if(selectedRecord[\"outComeList\"][index]){_this.setState({selectedRecord:selectedRecord});}};_this.onRuleChange=function(comboData,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;_this.clearSelectedRule(selectedRecord,index);var sqlQuery=_this.props.Login.sqlQuery;var oldselectedRecord=selectedRecord;selectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;var tableData=comboData.item;if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]){_this.setState({selectedRecord:selectedRecord,groupIndex:groupIndex,index:index});}};_this.onMasterDataChange=function(comboData,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;var isResultorOrderType=[];var optionsByRule=[];if(_this.state.optionsByRule&&_this.state.optionsByRule.length>0){optionsByRule=_this.state.optionsByRule;}else{optionsByRule[groupIndex]=[];optionsByRule[groupIndex][index]=[];}if(_this.state.isResultorOrderType&&_this.state.isResultorOrderType.length>0){isResultorOrderType=_this.state.isResultorOrderType;}else{isResultorOrderType[groupIndex]=[];isResultorOrderType[groupIndex][index]=[];}selectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;if(fieldName!=='ndiagnosticcasecode'&&fieldName!=='ngradecode'){if(isResultorOrderType[groupIndex]===undefined){isResultorOrderType[groupIndex]=[];isResultorOrderType[groupIndex][index]=[];}isResultorOrderType[groupIndex][index]=comboData.value;if(optionsByRule[groupIndex]===undefined){optionsByRule[groupIndex]=[];optionsByRule[groupIndex][index]=[];}if(isResultorOrderType[groupIndex][index]===1){delete selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode'];optionsByRule[groupIndex][index]=_this.props.Login.DiagnosticCaseList;}else{delete selectedRecord[\"groupList\"][groupIndex][index]['ngradecode'];optionsByRule[groupIndex][index]=_this.props.Login.GradeList;}_this.setState({selectedRecord:selectedRecord,isResultorOrderType:isResultorOrderType,optionsByRule:optionsByRule});}else{_this.setState({selectedRecord:selectedRecord});}};_this.addRule=function(type,groupIndex){var selectedRecord=_this.state.selectedRecord;var viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];var addGroupList=_this.props.Login.addGroupList||[];var arrayLength=addGroupList[groupIndex];addGroupList[groupIndex]=arrayLength+1;selectedRecord[\"groupList\"][groupIndex][arrayLength]={};viewColumnListByRule=_this.props.Login.viewColumnList||_this.props.Login.databaseviewList;;var updateInfo={typeName:DEFAULT_RETURN,data:{addGroupList:addGroupList,viewColumnListByRule:viewColumnListByRule}};_this.props.updateStore(updateInfo);};_this.paneSizeChange=function(d){_this.setState({splitChangeWidthPercentage:d});};_this.addTest=function(){var openModalPopup=_this.props.Login.openModalPopup;var action=_this.props.Login.action;var selectedRecord=_this.props.Login.selectedRecord||{};delete selectedRecord['ntestparametercode'];delete selectedRecord['nsampletestcommentscode'];delete selectedRecord['ncommentsubtypecode'];delete selectedRecord['ncommenttypecode'];delete selectedRecord['sgeneralcomments'];delete selectedRecord['needoutsource'];if(_this.props.Login.addGroupList.length>0){action=\"IDS_ADDTEST\";openModalPopup=true;var updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:openModalPopup,action:action,selectedRecord:selectedRecord,openmodalsavePopup:false}};_this.props.updateStore(updateInfo);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PLEASEADDRULETOADDOUTCOME\"}));}};_this.addComments=function(){var openModalPopup=_this.props.Login.openModalPopup;var action=_this.props.Login.action;var selectedParameter=_this.props.Login.masterData.selectedParameter||[];var testparameter=_this.props.Login.viewColumnListByRule||[];var selectedRecord=_this.props.Login.selectedRecord||{};selectedRecord['ntestparametercode']={};selectedRecord['ntestparametercode']=testparameter.filter(function(x){return x.value===selectedParameter.ntestparametercode;})[0];delete selectedRecord['nsampletestcommentscode'];delete selectedRecord['ncommentsubtypecode'];delete selectedRecord['ncommenttypecode'];delete selectedRecord['sgeneralcomments'];if(_this.props.Login.addGroupList.length>0){if(_this.props.Login.activeTabIndex===2){action=\"IDS_ADDTESTCOMMENTS\";}else{action=\"IDS_ADDREPORTCOMMENTS\";}openModalPopup=true;var updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:openModalPopup,action:action,selectedRecord:selectedRecord,openmodalsavePopup:false}};_this.props.updateStore(updateInfo);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PLEASEADDRULETOADDOUTCOME\"}));}};_this.addModalSite=function(){var openModalPopup=_this.props.Login.openModalPopup;var selectedParameter=_this.props.Login.masterData.selectedParameter||[];var testparameter=_this.props.Login.viewColumnListByRule||[];var selectedRecord=_this.props.Login.selectedRecord||{};selectedRecord['ntestparametercode']={};selectedRecord['ntestparametercode']=testparameter.filter(function(x){return x.value===selectedParameter.ntestparametercode;})[0];openModalPopup=true;var action=_this.props.Login.action;action=\"IDS_ADDSITE\";var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:selectedRecord,openModalPopup:openModalPopup,action:action,openmodalsavePopup:false}};_this.props.updateStore(updateInfo);};_this.modalsaveClick=function(){var needoutsource=_this.props.Login.needoutsource||{};var selectedRecord=_this.state.selectedRecord||{};var masterData=_this.props.Login.masterData||{};var testInitiateTests=_this.props.Login.testInitiateTests||[];var testCommentsTests=_this.props.Login.testCommentsTests||[];var reportCommentsTests=_this.props.Login.reportCommentsTests||[];var siteObject=_this.props.Login.siteObject||{};var testCommentObject=_this.props.Login.testCommentObject||{};var reportCommentObject=_this.props.Login.reportCommentObject||{};var testInitiateTestsTemp=[];var testCommentsTestsTemp=[];var reportCommentsTestsTemp=[];var testInitiateSiteTemp=[];var testCommentsTestsTab=_this.props.Login.testCommentsTestsTab||[];var reportCommentsTestsTab=_this.props.Login.reportCommentsTestsTab||[];var testInitiateSiteTab=_this.props.Login.testInitiateSiteTab||[];var testInitiateTestOptions=_this.props.Login.testInitiateTestOptions||[];var testCommentsTestOptions=_this.props.Login.testCommentsTestOptions||[];var reportCommentsTestOptions=_this.props.Login.reportCommentsTestOptions||[];var testInitiateTestdeletedOptions=_this.props.Login.testInitiateTestdeletedOptions||[];var testCommentsTestdeletedOptions=_this.props.Login.testCommentsTestdeletedOptions||[];var reportCommentsTestdeletedOptions=_this.props.Login.reportCommentsTestdeletedOptions||[];var updateInfo={};if(_this.props.Login.action==='IDS_ADDTEST'){var npkAtestparametercode=0;var npkBtestparametercode=0;var npkCtestparametercode=0;if(_this.props.Login.activeTabIndex===1){var isduplicate={};isduplicate=testInitiateTests.filter(function(x){return x.ntestparametercode===selectedRecord['ntestparametercode'].item['ntestparametercode'];});if(isduplicate.length===0){masterData['testParameter']={};npkAtestparametercode=_this.props.Login.npkAtestparametercode||0;npkAtestparametercode++;selectedRecord['ntestparametercode'].item['npkAtestparametercode']=npkAtestparametercode;testInitiateTests.push(selectedRecord['ntestparametercode'].item);masterData['testParameter']=sortData(testInitiateTests,'descending','npkAtestparametercode');masterData['selectedParameter']=selectedRecord['ntestparametercode'].item;delete selectedRecord['ntestparametercode'];}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYEXISTS\"}));}}if(_this.props.Login.activeTabIndex===2){var _isduplicate={};_isduplicate=testCommentsTests.filter(function(x){return x.ntestparametercode===selectedRecord['ntestparametercode'].item['ntestparametercode'];});if(_isduplicate.length===0){masterData['testParameterComments']={};npkBtestparametercode=_this.props.Login.npkBtestparametercode||0;npkBtestparametercode++;selectedRecord['ntestparametercode'].item['npkBtestparametercode']=npkAtestparametercode;testCommentsTests.push(selectedRecord['ntestparametercode'].item);masterData['testParameterComments']=sortData(testCommentsTests,'descending','npkBtestparametercode');masterData['selectedParameter']=selectedRecord['ntestparametercode'].item;delete selectedRecord['ntestparametercode'];}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYEXISTS\"}));}}if(_this.props.Login.activeTabIndex===3){var _isduplicate2={};_isduplicate2=reportCommentsTests.filter(function(x){return x.ntestparametercode===selectedRecord['ntestparametercode'].item['ntestparametercode'];});if(_isduplicate2.length===0){masterData['testParameterreportComments']={};npkCtestparametercode=_this.props.Login.npkCtestparametercode||0;npkCtestparametercode++;selectedRecord['ntestparametercode'].item['npkCtestparametercode']=npkCtestparametercode;reportCommentsTests.push(selectedRecord['ntestparametercode'].item);masterData['testParameterreportComments']=sortData(reportCommentsTests,'descending','npkCtestparametercode');masterData['selectedParameter']=selectedRecord['ntestparametercode'].item;delete selectedRecord['ntestparametercode'];}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYEXISTS\"}));}}updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:false,masterData:masterData,testInitiateTests:testInitiateTests,testCommentsTests:testCommentsTests,reportCommentsTests:reportCommentsTests,npkAtestparametercode:npkAtestparametercode,npkBtestparametercode:npkBtestparametercode,npkCtestparametercode:npkCtestparametercode,testInitiateTestOptions:testInitiateTestOptions,testInitiateTestdeletedOptions:testInitiateTestdeletedOptions,selectedRecord:selectedRecord}};}if(selectedRecord['nsampletestcommentscode']||selectedRecord['sgeneralcomments']//this.props.Login.action === 'IDS_ADDTESTCOMMENTS'\n){// let isduplicate = {}\n// let spredefinedname = selectedRecord['nsampletestcommentscode'].label\n// let arraycheck = testCommentObject[masterData.selectedParameter.ntestparametercode]\n// if (arraycheck) {\n//     isduplicate = arraycheck.filter(x => x.spredefinedname === spredefinedname)\n// }\n// if (arraycheck !== undefined ? isduplicate.length > 0 ? false : true : true) {\nmasterData['testComments']={};var npKAsampletestcommentscode=0;if(testCommentObject.hasOwnProperty(masterData.selectedParameter.ntestparametercode)){npKAsampletestcommentscode=_this.props.Login.npKAsampletestcommentscode;npKAsampletestcommentscode++;var object={npKAsampletestcommentscode:npKAsampletestcommentscode,ncommentsubtypecode:selectedRecord['ncommentsubtypecode']['value'],scommentsubtype:selectedRecord['ncommentsubtypecode']['label'],ncommenttypecode:selectedRecord['ncommenttypecode']['value'],scommenttype:selectedRecord['ncommenttypecode']['label'],nsampletestcommentscode:selectedRecord['nsampletestcommentscode']?selectedRecord['nsampletestcommentscode'].value:-1,spredefinedname:selectedRecord['nsampletestcommentscode']?selectedRecord['nsampletestcommentscode'].label:\"-\",sgeneralcomments:selectedRecord['sgeneralcomments']?selectedRecord['sgeneralcomments']:\"-\",stestparametersynonym:masterData.selectedParameter.stestparametersynonym,ntestparametercode:masterData.selectedParameter.ntestparametercode};testCommentsTestsTemp=testCommentObject[masterData.selectedParameter.ntestparametercode];testCommentsTestsTemp.push(object);testCommentsTestsTab.push(object);testCommentObject[masterData.selectedParameter.ntestparametercode]=sortData(testCommentsTestsTemp,'descending','npKAsampletestcommentscode');delete selectedRecord['nsampletestcommentscode'];delete selectedRecord['ncommentsubtypecode'];delete selectedRecord['ncommenttypecode'];delete selectedRecord['sgeneralcomments'];}else{npKAsampletestcommentscode++;var _object={npKAsampletestcommentscode:npKAsampletestcommentscode,ncommentsubtypecode:selectedRecord['ncommentsubtypecode']['value'],scommentsubtype:selectedRecord['ncommentsubtypecode']['label'],ncommenttypecode:selectedRecord['ncommenttypecode']['value'],scommenttype:selectedRecord['ncommenttypecode']['label'],nsampletestcommentscode:selectedRecord['nsampletestcommentscode']?selectedRecord['nsampletestcommentscode'].value:-1,spredefinedname:selectedRecord['nsampletestcommentscode']?selectedRecord['nsampletestcommentscode'].label:\"-\",sgeneralcomments:selectedRecord['sgeneralcomments']?selectedRecord['sgeneralcomments']:\"-\",stestparametersynonym:masterData.selectedParameter.stestparametersynonym,ntestparametercode:masterData.selectedParameter.ntestparametercode};testCommentsTestsTemp.push(_object);testCommentsTestsTab.push(_object);testCommentObject[masterData.selectedParameter.ntestparametercode]=sortData(testCommentsTestsTemp,'descending','npKAsampletestcommentscode');delete selectedRecord['nsampletestcommentscode'];delete selectedRecord['ncommentsubtypecode'];delete selectedRecord['ncommenttypecode'];delete selectedRecord['sgeneralcomments'];}masterData['testComments']=testCommentObject;updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:false,masterData:masterData,testCommentObject:testCommentObject,testCommentsTestsTab:testCommentsTestsTab,npKAsampletestcommentscode:npKAsampletestcommentscode,selectedRecord:selectedRecord}};// }\n// else {\n//     toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\n// }\n}// else if (this.props.Login.action === 'IDS_ADDREPORTCOMMENTS') {\n//     let isduplicate = {}\n//     let spredefinedname = selectedRecord['nsampletestcommentscode'].label\n//     let arraycheck = reportCommentObject[masterData.selectedParameter.ntestparametercode]\n//     if (arraycheck) {\n//         isduplicate = arraycheck.filter(x => x.spredefinedname === spredefinedname)\n//     }\n//     if (arraycheck !== undefined ? isduplicate.length > 0 ? false : true : true) {\n//         masterData['reportComments'] = {}\n//         let npKBsampletestcommentscode = 0;\n//         if (reportCommentObject.hasOwnProperty(masterData.selectedParameter.ntestparametercode)) {\n//             npKBsampletestcommentscode = this.props.Login.npKBsampletestcommentscode;\n//             npKBsampletestcommentscode++;\n//             let object = {\n//                 npKBsampletestcommentscode: npKBsampletestcommentscode,\n//                 nsampletestcommentscode: selectedRecord['nsampletestcommentscode'].value,\n//                 spredefinedname: selectedRecord['nsampletestcommentscode'].label,\n//                 scommentsubtype: this.props.Login.reportcomments[0].item.scommentsubtype\n//                 , stestparametersynonym: masterData.selectedParameter.stestparametersynonym, ntestparametercode: masterData.selectedParameter.ntestparametercode\n//             }\n//             reportCommentsTestsTemp = reportCommentObject[masterData.selectedParameter.ntestparametercode]\n//             reportCommentsTestsTemp.push(object);\n//             reportCommentsTestsTab.push(object);\n//             reportCommentObject[masterData.selectedParameter.ntestparametercode] = sortData(reportCommentsTestsTemp, 'descending', 'npKBsampletestcommentscode')\n//             delete selectedRecord['nsampletestcommentscode']\n//         }\n//         else {\n//             npKBsampletestcommentscode++;\n//             let object = {\n//                 npKBsampletestcommentscode: npKBsampletestcommentscode,\n//                 nsampletestcommentscode: selectedRecord['nsampletestcommentscode'].value,\n//                 spredefinedname: selectedRecord['nsampletestcommentscode'].label,\n//                 scommentsubtype: this.props.Login.reportcomments[0].item.scommentsubtype\n//                 , stestparametersynonym: masterData.selectedParameter.stestparametersynonym, ntestparametercode: masterData.selectedParameter.ntestparametercode\n//             }\n//             reportCommentsTestsTemp.push(object);\n//             reportCommentsTestsTab.push(object);\n//             reportCommentObject[masterData.selectedParameter.ntestparametercode] = sortData(reportCommentsTestsTemp, 'descending', 'npKBsampletestcommentscode')\n//             delete selectedRecord['nsampletestcommentscode']\n//         }\n//         masterData['reportComments'] = reportCommentObject\n//         updateInfo = {\n//             typeName: DEFAULT_RETURN,\n//             data: {\n//                 openModalPopup: false,\n//                 masterData,\n//                 reportCommentObject,\n//                 reportCommentsTestsTab,\n//                 npKBsampletestcommentscode,\n//                 selectedRecord\n//             }\n//         }\n//     } else {\n//         toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\n//     }\n// }\nif(selectedRecord['nfromsitecode']&&selectedRecord['ntositecode']){masterData['testSite']={};var siteseqnumber=0;if(siteObject.hasOwnProperty(masterData.selectedParameter.ntestparametercode)){siteseqnumber=_this.props.Login.siteseqnumber;siteseqnumber++;var _object2={npksitecode:siteseqnumber,sfromsitename:selectedRecord['nfromsitecode'].label,stositename:selectedRecord['ntositecode'].label,stestparametersynonym:masterData.selectedParameter.stestparametersynonym,ntestparametercode:masterData.selectedParameter.ntestparametercode};testInitiateSiteTemp=siteObject[masterData.selectedParameter.ntestparametercode];testInitiateSiteTemp.push(_object2);testInitiateSiteTab.push(_object2);siteObject[masterData.selectedParameter.ntestparametercode]=sortData(testInitiateSiteTemp,'descending','npksitecode');delete selectedRecord['ntestparametercode'];delete selectedRecord['nfromsitecode'];delete selectedRecord['ntositecode'];}else{siteseqnumber++;var _object3={npksitecode:siteseqnumber,sfromsitename:selectedRecord['nfromsitecode'].label,stositename:selectedRecord['ntositecode'].label,stestparametersynonym:masterData.selectedParameter.stestparametersynonym,ntestparametercode:masterData.selectedParameter.ntestparametercode};testInitiateSiteTemp.push(_object3);testInitiateSiteTab.push(_object3);siteObject[masterData.selectedParameter.ntestparametercode]=sortData(testInitiateSiteTemp,'descending','npksitecode');delete selectedRecord['ntestparametercode'];delete selectedRecord['nfromsitecode'];delete selectedRecord['ntositecode'];}masterData['testSite']=siteObject;updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:false,masterData:masterData,siteObject:siteObject,siteseqnumber:siteseqnumber,testInitiateSiteTab:testInitiateSiteTab}};}if(Object.keys(updateInfo).length>0){_this.props.updateStore(updateInfo);}};_this.deletModalSite=function(inputparam,action,row){var temparray=[];var testInitiateSiteTab=_this.props.Login.testInitiateSiteTab;var testCommentsTestsTab=_this.props.Login.testCommentsTestsTab;var reportCommentsTestsTab=_this.props.Login.reportCommentsTestsTab;var siteObject=_this.props.Login.siteObject||{};var testCommentObject=_this.props.Login.testCommentObject||{};var reportCommentObject=_this.props.Login.reportCommentObject||{};var masterData=_this.props.Login.masterData||{};if(_this.props.Login.activeTabIndex===1){temparray=siteObject[masterData.selectedParameter.ntestparametercode];temparray.splice(row['dataIndex'],1);testInitiateSiteTab.splice(row['dataIndex'],1);siteObject[masterData.selectedParameter.ntestparametercode]=temparray;}if(_this.props.Login.activeTabIndex===2){temparray=testCommentObject[masterData.selectedParameter.ntestparametercode];temparray.splice(row['dataIndex'],1);testCommentsTestsTab.splice(row['dataIndex'],1);testCommentObject[masterData.selectedParameter.ntestparametercode]=temparray;}if(_this.props.Login.activeTabIndex===3){temparray=reportCommentObject[masterData.selectedParameter.ntestparametercode];temparray.splice(row['dataIndex'],1);reportCommentsTestsTab.splice(row['dataIndex'],1);reportCommentObject[masterData.selectedParameter.ntestparametercode]=temparray;}var updateInfo={};updateInfo={typeName:DEFAULT_RETURN,data:{siteObject:siteObject,testCommentObject:testCommentObject,reportCommentObject:reportCommentObject,testInitiateSiteTab:testInitiateSiteTab,reportCommentsTestsTab:reportCommentsTestsTab,testCommentsTestsTab:testCommentsTestsTab}};_this.props.updateStore(updateInfo);};_this.deleteModalTest=function(){var testInitiateTests=_this.props.Login.testInitiateTests||[];var testCommentsTests=_this.props.Login.testCommentsTests||[];var reportCommentsTests=_this.props.Login.reportCommentsTests||[];var siteObject=_this.props.Login.siteObject||{};var testCommentObject=_this.props.Login.testCommentObject||{};var reportCommentObject=_this.props.Login.reportCommentObject||{};var testInitiateTestOptions=_this.props.Login.testInitiateTestOptions||[];var testCommentsTestOptions=_this.props.Login.testCommentsTestOptions||[];var reportCommentsTestOptions=_this.props.Login.reportCommentsTestOptions||[];var viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];var testInitiateTestdeletedOptions=_this.props.Login.testInitiateTestdeletedOptions||[];var testCommentsTestdeletedOptions=_this.props.Login.testCommentsTestdeletedOptions||[];var reportCommentsTestdeletedOptions=_this.props.Login.reportCommentsTestdeletedOptions||[];var masterData=_this.props.Login.masterData||{};var index=0;if(_this.props.Login.activeTabIndex===1){index=_this.props.Login.testInitiateTests.findIndex(function(x){return x.ntestparametercode===masterData.selectedParameter.ntestparametercode;});testInitiateTests.splice(index,1);delete siteObject[masterData.selectedParameter.ntestparametercode];}if(_this.props.Login.activeTabIndex===2){index=_this.props.Login.testCommentsTests.findIndex(function(x){return x.ntestparametercode===masterData.selectedParameter.ntestparametercode;});testCommentsTests.splice(index,1);delete testCommentObject[masterData.selectedParameter.ntestparametercode];}if(_this.props.Login.activeTabIndex===3){index=_this.props.Login.reportCommentsTests.findIndex(function(x){return x.ntestparametercode===masterData.selectedParameter.ntestparametercode;});reportCommentsTests.splice(index,1);delete reportCommentObject[masterData.selectedParameter.ntestparametercode];}var updateInfo={};updateInfo={typeName:DEFAULT_RETURN,data:{testInitiateTests:testInitiateTests,siteObject:siteObject,testCommentObject:testCommentObject,testCommentsTests:testCommentsTests,reportCommentsTests:reportCommentsTests,reportCommentObject:reportCommentObject}};_this.props.updateStore(updateInfo);};_this.onmodalComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};var isneedsgeneralcomments=_this.state.isneedsgeneralcomments||{};if(fieldName==='ncommentsubtypecode'){if(comboData.value===6){isneedsgeneralcomments=true;delete selectedRecord['nsampletestcommentscode'];}else{isneedsgeneralcomments=false;delete selectedRecord['sgeneralcomments'];}}selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord,isneedsgeneralcomments:isneedsgeneralcomments});};_this.getOutcomeDetails=function(inputParam){var masterData=_this.props.Login.masterData||{};var testParameter=_this.state.activeTabIndex===1?inputParam.testParameter:_this.state.activeTabIndex===2?inputParam.testParameterComments:inputParam.testParameterreportComments;masterData['selectedParameter']={};masterData['selectedParameter']=testParameter;var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:masterData}};_this.props.updateStore(updateInfo);};_this.handleExpandChange=function(){var childListMap1=_this.state.childListMap1||new Map();var childListMap2=_this.state.childListMap2||new Map();var childListMap3=_this.state.childListMap3||new Map();var childListMap=_this.state.childListMap||new Map();//     let keylst = this.props.Login.masterData.activeTabName === 'IDS_NEEDTESTINITIATE' ?\n//     Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject']) :\n//     this.props.Login.masterData.activeTabName === 'IDS_TESTCOMMENTS' ?\n//         Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject']) :\n//         Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'])\n// keylst.map(key => {\n//     childListMap.set(parseInt(key),\n//         Object.values(this.props.Login.masterData.activeTabName === 'IDS_NEEDTESTINITIATE' ?\n//             this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject'][key] :\n//             this.props.Login.masterData.activeTabName === 'IDS_TESTCOMMENTS' ?\n//                 this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key] :\n//                 this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));\n// })\n// this.setState({ childListMap })\nif(_this.props.Login.masterData.activeTabName==='IDS_NEEDTESTINITIATE'){// let keylst =\n//     Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject'])\n// keylst.map(key => {\n//     childListMap1.set(parseInt(key),\n//         Object.values(\n//             this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject'][key]));\n// })\n// this.setState({ childListMap1 })\nvar keylst=_this.props.Login.masterData.activeTabName==='IDS_NEEDTESTINITIATE'?Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject']):_this.props.Login.masterData.activeTabName==='IDS_TESTCOMMENTS'?Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject']):Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject']);keylst.map(function(key){childListMap.set(parseInt(key),Object.values(_this.props.Login.masterData.activeTabName==='IDS_NEEDTESTINITIATE'?_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject'][key]:_this.props.Login.masterData.activeTabName==='IDS_TESTCOMMENTS'?_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key]:_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));});_this.setState({childListMap:childListMap});}if(_this.props.Login.masterData.activeTabName==='IDS_TESTCOMMENTS'){var _keylst=Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject']);_keylst.map(function(key){childListMap2.set(parseInt(key),Object.values(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key]));});_this.setState({childListMap2:childListMap2});}if(_this.props.Login.masterData.activeTabName==='IDS_REPORTCOMMENTS'){var _keylst2=Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject']);_keylst2.map(function(key){childListMap3.set(parseInt(key),Object.values(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));});_this.setState({childListMap3:childListMap3});}};_this.onTabChange=function(tabProps){var masterData=_this.props.Login.masterData&&_this.props.Login.masterData;masterData['activeTabName']=tabProps.activeTabName;var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:masterData}};_this.props.updateStore(updateInfo);};_this.openflowview=function(){var openModal=_this.props.Login.openModal;var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true}};_this.props.updateStore(updateInfo);};_this.tabDetail=function(){var masterData=_this.props.Login.masterData||{};var jsonuidata=_this.props.Login.masterData.SelectedRulesEngine&&_this.props.Login.masterData.SelectedRulesEngine['jsonuidata'];// let childList = this.props.Login.screenName === 'IDS_NEEDTESTINITIATE' ? jsonuidata && jsonuidata['siteObject'] : jsonuidata \n// && jsonuidata['testCommentObject']\n// let parentlist = this.props.Login.masterData.activeTabName === 'IDS_NEEDTESTINITIATE' ? jsonuidata['siteObject']\n// [masterData.selectedParameter.ntestparametercode] :\n//     this.props.Login.masterData.activeTabName === 'IDS_TESTCOMMENTS' ? jsonuidata['testCommentObject'][masterData.selectedParameter.ntestparametercode]\n//         : jsonuidata['reportCommentObject'][masterData.selectedParameter.ntestparametercode]\nvar tabMap=new Map();{tabMap.set(\"IDS_NEEDTESTINITIATE\",/*#__PURE__*/React.createElement(DataGrid,{key:\"testsectionkey\",primaryKeyField:\"nresultusedmaterialcode\",expandField:\"expanded\",handleExpandChange:_this.handleExpandChange//   dataResult={props.dataResult || []}\n,dataResult:_this.props.Login.masterData.SelectedRulesEngine&&_this.props.Login.masterData.SelectedRulesEngine&&process(sortData(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testInitiateTests'],\"descending\",\"npkAtestparametercode\")||[],_this.state.dataStatetestinitiate?_this.state.dataStatetestinitiate:{skip:0,take:10})//dataState={{ skip: 0, take: 10 }}\n// dataStateChange={props.dataStateChange}\n,dataState:_this.state.dataStatetestinitiate?_this.state.dataStatetestinitiate:{skip:0,take:10}// dataStateChange={(event) => this.setState({ sectionDataState: event.dataState })}\n,dataStateChange:_this.dataStateChangetestinitiate,extractedColumnList:[{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestparametersynonym\",\"width\":\"200px\"}],controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,pageable:true//    isActionRequired={true}\n,scrollable:'scrollable',hideColumnFilter:false,selectedId:0//hasDynamicColSize={true}\n//testParameter={testParameter}\n//deleteRecord={props.deletModalSite}\n,deleteParam:{operation:\"delete\"}// actionIcons={[{\n//     title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\n//     controlname: \"faTrashAlt\",\n//     hidden: false,\n//     objectName: \"delete\",\n//     onClick: props.deletModalSite\n// }]}\n,hasChild:true,childMappingField:'ntestparametercode',childColumnList:[{\"idsName\":\"IDS_FROMSITE\",\"dataField\":\"sfromsitename\",\"width\":\"200px\"},{\"idsName\":\"IDS_TOSITE\",\"dataField\":\"stositename\",\"width\":\"200px\"}],childList:_this.state.childListMap,activeTabName:\"IDS_NEEDTESTINITIATE\"}));tabMap.set(\"IDS_TESTCOMMENTS\",/*#__PURE__*/React.createElement(DataGrid,{key:\"testsectionkey\",primaryKeyField:\"nresultusedmaterialcode\"//expandField=\"expanded\"\n,handleExpandChange:_this.handleExpandChange//   dataResult={props.dataResult || []}\n,dataResult:_this.props.Login.masterData.SelectedRulesEngine&&process(sortData(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentsTestsTab'],\"descending\",\"npkAtestparametercode\")||[],_this.state.dataState?_this.state.dataState:{skip:0,take:10})//dataState={{ skip: 0, take: 10 }}\n// dataStateChange={props.dataStateChange}\n,dataState:_this.state.dataState?_this.state.dataState:{skip:0,take:10}// dataStateChange={(event) => this.setState({ sectionDataState: event.dataState })}\n,dataStateChange:_this.dataStateChange// extractedColumnList={[\n//     { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestparametersynonym\", \"width\": \"200px\" }\n// ]}\n,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,pageable:true//     isActionRequired={true}\n,scrollable:'scrollable',hideColumnFilter:false,selectedId:0//hasDynamicColSize={true}\n//testParameter={testParameter}\n//deleteRecord={props.deletModalSite}\n,deleteParam:{operation:\"delete\"}// actionIcons={[{\n//     title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\n//     controlname: \"faTrashAlt\",\n//     hidden: false,\n//     objectName: \"delete\",\n//     onClick: props.deletModalSite\n// }]}\n//hasChild={true}\n,childMappingField:'ntestparametercode'// extractedColumnList={[\n//     { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestparametersynonym\", \"width\": \"200px\" },\n//     { \"idsName\": \"IDS_TESTCOMMENTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" }\n// ]} \n,extractedColumnList:[{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestparametersynonym\",\"width\":\"200px\"},{\"idsName\":\"IDS_COMMENTTYPE\",\"dataField\":\"scommenttype\",\"width\":\"200px\"},{\"idsName\":\"IDS_COMMENTSUBTYPE\",\"dataField\":\"scommentsubtype\",\"width\":\"200px\"},{\"idsName\":\"IDS_PREFINEDCOMMENTS\",\"dataField\":\"spredefinedname\",\"width\":\"200px\"},{\"idsName\":\"IDS_GENERALCOMMENTS\",\"dataField\":\"sgeneralcomments\",\"width\":\"200px\"}// props.activeTabIndex == 2 ? { \"idsName\": \"IDS_PREFINEDCOMMENTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" } :\n//     { \"idsName\": \"IDS_REPORTCOMMENTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" }\n],childList:_this.state.childListMap2&&_this.state.childListMap2,activeTabName:\"IDS_TESTCOMMENTS\"}));// tabMap.set(\"IDS_REPORTCOMMENTS\",\n//     <DataGrid\n//         key=\"testsectionkey\"\n//         primaryKeyField=\"nresultusedmaterialcode\"\n//         //expandField=\"expanded\"\n//         handleExpandChange={this.handleExpandChange}\n//         //   dataResult={props.dataResult || []}\n//         dataResult={this.props.Login.masterData.SelectedRulesEngine['jsonuidata'] && process(\n//             sortData(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentsTestsTab'], \"descending\", \"npkBtestparametercode\")\n//             || [],\n//             this.state.dataState\n//                 ? this.state.dataState : { skip: 0, take: 10 })}\n//         //dataState={{ skip: 0, take: 10 }}\n//         // dataStateChange={props.dataStateChange}\n//         dataState={this.state.dataState\n//             ? this.state.dataState : { skip: 0, take: 10 }}\n//         // dataStateChange={(event) => this.setState({ sectionDataState: event.dataState })}\n//         dataStateChange={this.dataStateChange}\n//         // extractedColumnList={[\n//         //     { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestparametersynonym\", \"width\": \"200px\" }\n//         // ]}\n//         controlMap={this.state.controlMap}\n//         userRoleControlRights={this.state.userRoleControlRights}\n//         pageable={true}\n//         isActionRequired={true}\n//         scrollable={'scrollable'}\n//         hideColumnFilter={false}\n//         selectedId={0}\n//         //hasDynamicColSize={true}\n//         //testParameter={testParameter}\n//         //deleteRecord={props.deletModalSite}\n//         deleteParam={{ operation: \"delete\" }}\n//         // actionIcons={[{\n//         //     title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\n//         //     controlname: \"faTrashAlt\",\n//         //     hidden: false,\n//         //     objectName: \"delete\",\n//         //     onClick: props.deletModalSite\n//         // }]}\n//         //  hasChild={true}\n//         childMappingField={'ntestparametercode'}\n//         extractedColumnList={[\n//             { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestparametersynonym\", \"width\": \"200px\" },\n//             { \"idsName\": \"IDS_REPORTCOMMENTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" }\n//         ]}\n//         childList={this.state.childListMap3 && this.state.childListMap3}\n//         activeTabName={\"IDS_REPORTCOMMENTS\"}\n//     >\n//     </DataGrid>\n// );\n}return tabMap;};_this.addGroup=function(){var selectedRecord=_this.state.selectedRecord;var sql1=jsonSql.build({table:'testmaster',alias:'tm',join:[{type:'inner',table:'testcategory',alias:'tc',on:{'tm.ntestcategorycode':'tc.ntestcategorycode'}},{type:'inner',table:'transactionstatus',alias:'ts',on:{'tm.naccredited':'ts.ntranscode'}}]});console.log(sql1.query);var sql21=jsonSql.build({table:'testmaster',alias:'tm',join:[{type:'inner',table:'testcategory',alias:'tc',on:{'tm.ntestcategorycode':'tc.ntestcategorycode'}},{type:'right outer',table:'transactionstatus',alias:'ts',on:{'tm.naccredited':'ts.ntranscode'}},{type:'left outer',table:'transactionstatus',alias:'ts',on:[{'tm.naccredited':'ts.ntranscode'},{'tc.naccredited':'ts.ntranscode'}]}],condition:[{a:{$gt:1}},{b:{$lt:10}}],group:['a','b']});console.log(sql21.query);//  if (selectedRecord[\"sviewname\"]) {\nvar viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];var addGroupList=_this.props.Login.addGroupList||[];var arrayLength=addGroupList.length;addGroupList[arrayLength]=1;// viewColumnListByRule[arrayLength] = [];\n// viewColumnListByRule[arrayLength].push(this.props.Login.viewColumnList);\nviewColumnListByRule=_this.props.Login.databaseviewList;if(arrayLength===0){selectedRecord[\"groupList\"]=[];selectedRecord[\"filtercolumns\"]=_this.props.Login.selectFields;}if(selectedRecord[\"groupListJoins\"]===undefined){selectedRecord[\"groupListJoins\"]=[];}if(selectedRecord[\"groupListJoins\"][arrayLength-1]===undefined){selectedRecord[\"groupListJoins\"][arrayLength-1]={};}selectedRecord[\"groupListJoins\"][arrayLength-1][\"button_and\"]=true;selectedRecord[\"groupList\"][arrayLength]=[];selectedRecord[\"groupList\"][arrayLength][\"button_and\"]=true;selectedRecord[\"groupList\"][arrayLength][0]={};var updateInfo={typeName:DEFAULT_RETURN,data:{addGroupList:addGroupList,viewColumnListByRule:viewColumnListByRule,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);// } else {\n//     toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTVIEW\" }));\n// }\n};_this.getRulesEngineAdd=function(){if(_this.state.selectedcombo['nproductcatcode']){var sqlQuery=false;_this.setState({selectedRecord:{}});_this.props.getRulesEngineAdd(_this.props.Login.userInfo,sqlQuery,{addRuleList:[],addGroupList:[],addAggregateList:[],addOrderbyList:[]},_this.props.Login.masterData);}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTPRODUCTCATEGORY\"}));}};_this.closePortalModal=function(){var masterData=_this.props.Login.masterData||{};// let modalTestsaveddata = this.props.Login.modalTestsaveddata || [];\n// let modalSitesaveddata = this.props.Login.modalSitesaveddata || [];\n// let modalSiteObject = this.props.Login.modalSiteObject || {};\n// let testInitiateTests = this.props.Login.testInitiateTests || [];\n// let testCommentsTests = this.props.Login.testCommentsTests || [];\n// let reportCommentsTests = this.props.Login.reportCommentsTests || [];\n// let siteObject = this.props.Login.siteObject || {};\n// let testCommentObject = this.props.Login.testCommentObject || {};\n// let reportCommentObject = this.props.Login.reportCommentObject || {};\nmasterData['testParameter']={};masterData['testParameterComments']={};masterData['testParameterreportComments']={};masterData['testComments']={};masterData['reportComments']={};masterData['testSite']={};var updateInfo={typeName:DEFAULT_RETURN,data:_this.props.Login.operation!=='update'?{activeTabIndex:0,openPortalModal:false,selectedRecord:{},addRuleList:[],count:0,masterData:masterData,testInitiateTests:[],reportCommentsTests:[],testCommentsTests:[],siteObject:{},testCommentObject:{},reportCommentObject:{},npkAtestparametercode:0,npkBtestparametercode:0,npkCtestparametercode:0,testInitiateSiteTab:[],testCommentsTestsTab:[],reportCommentsTestsTab:[]}:{activeTabIndex:0,openPortalModal:false,selectedRecord:{},addRuleList:[],count:0,masterData:masterData,//  testInitiateTests: [], reportCommentsTests: [],\n// testCommentsTests: [], siteObject: {}, testCommentObject: {}, reportCommentObject: {},\nnpkAtestparametercode:0,npkBtestparametercode:0,npkCtestparametercode:0// ,\n// testInitiateSiteTab: [],\n// testCommentsTestsTab: [],\n// reportCommentsTestsTab: []\n}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:false,selectedRecord:{}}};_this.props.updateStore(updateInfo);};_this.changePropertyView=function(index,event,status){var id=false;var activeTabIndex;var activeTabId;var masterData=_this.props.Login.masterData||{};var activeTestTab=_this.props.Login.activeTestTab||\"\";if(window.innerWidth>992&&event&&_this.state.enableAutoClick||!event){activeTabIndex=_this.state.activeTabIndex!==index?index:id?index:false;}if(window.innerWidth>992&&event&&_this.state.enableAutoClick||!event){if(index===1){activeTestTab='IDS_NEEDTESTINITIATE';masterData['selectedParameter']=_this.props.Login.testInitiateTests&&_this.props.Login.testInitiateTests[0];}if(index===2){activeTestTab='IDS_TESTCOMMENTS';masterData['selectedParameter']=_this.props.Login.testCommentsTests&&_this.props.Login.testCommentsTests[0];}if(index===3){activeTestTab='IDS_REPORTCOMMENTS';masterData['selectedParameter']=_this.props.Login.reportCommentsTests&&_this.props.Login.reportCommentsTests[0];}var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:index===0?0:_this.state.activeTabIndex!==index?index:id?index:false,activeTabId:id,activeTestTab:activeTestTab,masterData:masterData}};_this.props.updateStore(updateInfo);}};_this.deleteRule=function(groupIndex,index){var addGroupList=_this.props.Login.addGroupList||[];var selectedRecord=_this.state.selectedRecord;addGroupList[groupIndex]=addGroupList[groupIndex]-1;if(addGroupList[groupIndex]===0){addGroupList.splice(groupIndex,1);selectedRecord[\"groupList\"].splice(groupIndex,1);if(selectedRecord[\"groupListJoins\"]){selectedRecord[\"groupListJoins\"].splice(groupIndex-1,1);}}else{selectedRecord[\"groupList\"][groupIndex].splice(index,1);}var updateInfo={typeName:DEFAULT_RETURN,data:{addGroupList:addGroupList,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.deleteOutcome=function(index){var addOutcomeList=_this.props.Login.addOutcomeList;addOutcomeList.splice(index,1);var updateInfo={typeName:DEFAULT_RETURN,data:{addOutcomeList:addOutcomeList}};_this.props.updateStore(updateInfo);};_this.clearRule=function(){var sviewname=_this.state.selectedRecord.sviewname||\"\";var updateInfo={typeName:DEFAULT_RETURN,data:{addRuleList:[],selectedRecord:{sviewname:sviewname},sqlQuery:false}};_this.props.updateStore(updateInfo);};_this.resetRule=function(){var masterData=_this.props.Login.masterData||{};var selectedRecord=_this.state.selectedRecord||{};masterData['testParameter']={};masterData['testParameterComments']={};masterData['testParameterreportComments']={};masterData['testComments']={};masterData['reportComments']={};masterData['testSite']={};if(selectedRecord[\"groupList\"]){selectedRecord[\"groupList\"]=[];}if(selectedRecord[\"groupListJoins\"]){selectedRecord[\"groupListJoins\"]=[];}var updateInfo={typeName:DEFAULT_RETURN,data:{addRuleList:[],addGroupList:[],addAggregateList:[],addOrderbyList:[],testInitiateTests:[],reportCommentsTests:[],testCommentsTests:[],siteObject:{},testCommentObject:{},reportCommentObject:{},selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.onSymbolChange=function(comboData,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;var oldSelectedRecord=selectedRecord[\"groupList\"][groupIndex][index][fieldName]||{};selectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;_this.setState({selectedRecord:selectedRecord,groupIndex:groupIndex,index:index});};_this.onInputChange=function(event,type,groupIndex,index){var selectedRecord=_this.state.selectedRecord||{};var needoutsource=_this.state.needoutsource||{};if(event.target.type==='checkbox'){if(event.target.name==='needoutsource'&&event.target.checked===true){needoutsource=true;}else{needoutsource=false;delete selectedRecord['nfromsitecode'];delete selectedRecord['ntositecode'];}selectedRecord[event.target.name]=event.target.checked===true?3:4;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord,needoutsource:needoutsource});};_this.viewColumnListByRule=function(list){var activeTabIndex=_this.props.Login.activeTabIndex;var selectedRecord=_this.props.Login.selectedRecord&&_this.props.Login.selectedRecord;var dynamicList=activeTabIndex===1?_this.props.Login.testInitiateTests:activeTabIndex===2?_this.props.Login.testCommentsTests:_this.props.Login.reportCommentsTests;list=list.filter(function(_ref){var value=_ref.value;return!dynamicList.some(function(x){return x.ntestparametercode==value;});});return list;};_this.onConditionClick=function(fieldName,index,isgroup){var selectedRecord=_this.state.selectedRecord;selectedRecord[\"groupListJoins\"]=selectedRecord[\"groupListJoins\"]||[];if(index!==undefined&&isgroup===false){if(fieldName===\"button_and\"){selectedRecord[\"groupList\"][index][fieldName]=selectedRecord[\"groupList\"][index][fieldName]===true?true:true;selectedRecord[\"groupList\"][index][\"button_or\"]=false;}else if(fieldName===\"button_or\"){selectedRecord[\"groupList\"][index][fieldName]=selectedRecord[\"groupList\"][index][fieldName]===true?true:true;selectedRecord[\"groupList\"][index][\"button_and\"]=false;}else if(fieldName===\"button_not\"){selectedRecord[\"groupList\"][index][fieldName]=selectedRecord[\"groupList\"][index][fieldName]===true?false:true;}else{}_this.setState({selectedRecord:selectedRecord});}else{if(fieldName===\"button_and\"){if(selectedRecord[\"groupListJoins\"][index]===undefined){selectedRecord[\"groupListJoins\"][index]={};}selectedRecord[\"groupListJoins\"][index][fieldName]=selectedRecord[\"groupListJoins\"][index][fieldName]===true?true:true;selectedRecord[\"groupListJoins\"][index][\"button_or\"]=false;}if(fieldName===\"button_or\"){if(selectedRecord[\"groupListJoins\"][index]===undefined){selectedRecord[\"groupListJoins\"][index]={};}selectedRecord[\"groupListJoins\"][index][fieldName]=selectedRecord[\"groupListJoins\"][index][fieldName]===true?true:true;selectedRecord[\"groupListJoins\"][index][\"button_and\"]=false;}if(fieldName===\"button_not\"){if(selectedRecord[\"groupListJoins\"][index]===undefined){selectedRecord[\"groupListJoins\"][index]={};}selectedRecord[\"groupListJoins\"][index][fieldName]=selectedRecord[\"groupListJoins\"][index][fieldName]===true?false:true;}_this.setState({selectedRecord:selectedRecord});}};var dataState={skip:0,take:_props.settings?parseInt(_props.settings[14]):5};var dataStateMain={skip:0,take:_props.settings?parseInt(_props.settings[14]):5};var dataStateUserQuery={skip:0,take:10};_this.state=(_this$state={selectedRecord:{},error:\"\",sectionDataState:{skip:0,take:10},// modalIsOpen: false,\nparameters:[],// objparam: [],\n// objDparam: [],\nqueryName:'',// queryResult: [],\nuserRoleControlRights:[],splitChangeWidthPercentage:28.6,controlMap:new Map(),dataStateUserQuery:dataStateUserQuery,queryTypeName:'',selectedcombo:[],selectedTableType:[],moduleFormName:[],ntableTypeCode:-1,nFormCode:-1,queryType:[],tableType:[],chartList:[],skip:0,take:_this.props.Login.settings?_this.props.Login.settings[3]:25,//tableName : undefined,tableList:[]\noutputColumns:[],selectedTableList:[],tableColumnList:[],foreignTableColumnList:[],joinTableList:[],symbolsList:[],foreignTableList:[],count:0,foreignTableCount:[],selectedforeignTableList:[],filterColumnList:[],sqlQuery:false,// viewColumnList: [],\nswitchRecord:{},dataState:dataState,dataStateMain:dataStateMain,data:[],dataMainList:[],dataResult:[],dataResultMain:[],enablePropertyPopup:false,enableAutoClick:false,needoutsource:false},_defineProperty(_this$state,\"queryType\",[{squerytypename:_this.props.intl.formatMessage({id:\"IDS_VIEWS\"}),nquerytypecode:1},{squerytypename:_this.props.intl.formatMessage({id:\"IDS_SQL\"}),nquerytypecode:2}]),_defineProperty(_this$state,\"queryTypeOptions\",[]),_this$state);_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();// this.dropItemRef = React.createRef(); \n_this.queryFieldList=['nquerytypecode','ssqlqueryname','ssqlquery','sscreenrecordquery','sscreenheader','svaluemember','sdisplaymember','ncharttypecode'];// this.queryList = [];\n_this.searchFieldList=[\"ssqlqueryname\",\"ssqlquery\",\"sscreenheader\",\"svaluemember\",\"sdisplaymember\",\"squerytypename\",\"schartname\"];return _this;}_createClass(RuleEngineQueryBuilder,[{key:\"handleClickDelete\",value:function handleClickDelete(masterData,ncontrolcode//, modalName\n){var fieldArray=[];var inputParam={methodUrl:\"RulesEngine\",classUrl:\"rulesengine\",inputData:{\"ntransactionrulesenginecode\":this.props.Login.masterData.SelectedRulesEngine.ntransactionrulesenginecode,\"nproductcatcode\":this.props.Login.masterData.SelectedProductCategory.nproductcatcode,\"userinfo\":this.props.Login.userInfo},operation:\"delete\",//postParam,\ndisplayName:\"RulesEngine\"};if(showEsign(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode,ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},// [modalName]: true,\noperation:'delete',screenName:\"RulesEngine\",id:\"RulesEngine\"}};this.props.updateStore(updateInfo);}else{this.props.crudMaster(inputParam,masterData,undefined);}}},{key:\"approveVersion\",value:function approveVersion(masterData,nflag,ncontrolcode//, modalName\n){var fieldArray=[];var inputParam={methodUrl:\"RulesEngine\",classUrl:\"rulesengine\",inputData:{\"ntransactionrulesenginecode\":this.props.Login.masterData.SelectedRulesEngine.ntransactionrulesenginecode,\"nproductcatcode\":this.props.Login.masterData.SelectedProductCategory.nproductcatcode,\"userinfo\":this.props.Login.userInfo,nflag:nflag},operation:\"approve\",//postParam,\ndisplayName:\"RulesEngine\"};if(showEsign(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode,ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},// [modalName]: true,\noperation:'delete',screenName:\"RulesEngine\",id:\"RulesEngine\"}};this.props.updateStore(updateInfo);}else{this.props.crudMaster(inputParam,masterData,undefined);}}},{key:\"createRulesView\",value:function createRulesView(items,groupIndex,selectedRecordview){var _this2=this;var design=[];_toConsumableArray(Array(items)).map(function(data,index){var stringOperators=stringOperatorData;design.push(/*#__PURE__*/React.createElement(React.Fragment,null,index>0?selectedRecordview[\"groupList\"][groupIndex]['button_or']===true?/*#__PURE__*/React.createElement(ContionalButton,{type:\"button\",className:\"builder-btn-primary\",marginLeft:0},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_OR\",defaultMessage:\"Or\"}))):selectedRecordview[\"groupList\"][groupIndex]['button_and']===true?/*#__PURE__*/React.createElement(ContionalButton,{type:\"button\",className:\"builder-btn-primary\",marginLeft:0},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_AND\",defaultMessage:\"And\"}))):\"\":\"\",/*#__PURE__*/React.createElement(Row,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(FormInput,{formGroupClassName:\"remove-floating-label-margin\",name:\"stestname\",type:\"text\",value:selectedRecordview[\"groupList\"][groupIndex][index]&&selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"].label,disabled:true})),selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"]&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{md:1},/*#__PURE__*/React.createElement(FormInput,{formGroupClassName:\"remove-floating-label-margin\",name:\"sinputname\",type:\"text\",value:_this2.props.intl.formatMessage({id:\"IDS_WITH\"}),disabled:true})),/*#__PURE__*/React.createElement(Col,{md:2},/*#__PURE__*/React.createElement(FormInput,{formGroupClassName:\"remove-floating-label-margin\",name:\"orderresulttype\",type:\"text\",value:selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"]&&selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"].label,disabled:true})),/*#__PURE__*/React.createElement(Col,{md:2},/*#__PURE__*/React.createElement(FormInput,{formGroupClassName:\"remove-floating-label-margin\",name:\"ssymbolname\",type:\"text\",value:selectedRecordview[\"groupList\"][groupIndex][index][\"ssymbolname\"]&&selectedRecordview[\"groupList\"][groupIndex][index][\"ssymbolname\"].label||\"\",disabled:true})),/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(FormInput,{formGroupClassName:\"remove-floating-label-margin\",name:\"\".concat(selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"].items&&selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"].items.valuemember),type:\"text\",value:selectedRecordview[\"groupList\"][groupIndex][index]&&selectedRecordview[\"groupList\"][groupIndex][index][selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"]&&selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"].value==1?'ndiagnosticcasecode':'ngradecode'].label||\"\",disabled:true}))))));});return design;}},{key:\"generateRandomColor\",value:function generateRandomColor(){var letters='0123456789ABCDEF';var color='#';for(var i=0;i<6;i++){color+=letters[Math.floor(Math.random()*16)];}return color;}},{key:\"ruleflowobject\",value:function ruleflowobject(){var _this3=this;var object={};var labelColor=['#e63109','#2fb47d','#eaa203','#6554c0'];var labelBGColor=['#fcd7cd','#e5f8f1','#fcf3dd','#e7e6f5'];var borderColor=['#e6310','#c6f6e4','#fde2a4','#cbc5f7'];var groupList=this.props.Login.masterData.SelectedRulesEngine['jsondata'];var groupListJoins=this.props.Login.masterData.SelectedRulesEngine['jsonuidata']&&this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['groupListJoins'];var children=[];var parent=[];var grandparent=[];// groupList.map((groupobject, index) => {\n//     if (groupobject.hasOwnProperty('button_or')) {\n//         children = []\n//         let rulesList = groupobject['button_or']\n//         rulesList.map((rule, index) => {\n//             children.push({ id: index, label: rule['stestname'].label })\n//         })\n//         parent.push({ id: index, label: 'button_or', children: children })\n//     }\n//     if (groupobject.hasOwnProperty('button_and')) {\n//         children = []\n//         let rulesList = groupobject['button_and']\n//         rulesList.map((rule, index) => {\n//             children.push({ id: index, label: rule['stestname'].label })\n//         })\n//         parent.push({ id: index, label: 'button_and', children: children })\n//     }\n// })\ngroupList.map(function(groupobject,index){if(groupobject.hasOwnProperty('button_or')){children=[];var rulesList=groupobject['button_or'];rulesList.map(function(rule,index){children.push(//     {\n//     id: index, label: rule['stestname'].label, children: [\n//         {\n//             id: 0, label: this.props.intl.formatMessage({ id: \"IDS_WITH\" }), children: [\n//                 {\n//                     id: 0, label: rule['orderresulttype'].label, children: [\n//                         {\n//                             id: 0, label: rule['ssymbolname'].label, children: [\n//                                 {\n//                                     id: 0, label: rule['ndiagnosticcasecode'] ? rule['ndiagnosticcasecode'].label :\n//                                         rule['ngradecode'].label, children: []\n//                                 }\n//                             ]\n//                         }\n//                     ]\n//                 }\n//             ]\n//         }\n//     ]\n// }\n{id:index,label:/*#__PURE__*/React.createElement(React.Fragment,null,rule['stestname'].label+\" -> \"+_this3.props.intl.formatMessage({id:\"IDS_WITH\"})+\" -> \"+rule['orderresulttype'].label+\" -> \"+rule['ssymbolname'].label+\" -> \"+(rule['orderresulttype'].value===1?rule['ndiagnosticcasecode'].label:rule['ngradecode'].label))});});parent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_OR\"})),children:children});}if(groupobject.hasOwnProperty('button_and')){children=[];var _rulesList=groupobject['button_and'];_rulesList.map(function(rule,index){children.push(// {\n//     id: index, label: rule['stestname'].label, children: [\n//         {\n//             id: 0, label: this.props.intl.formatMessage({ id: \"IDS_WITH\" }), children: [\n//                 {\n//                     id: 0, label: rule['orderresulttype'].label, children: [\n//                         {\n//                             id: 0, label: rule['ssymbolname'].label, children: [\n//                                 {\n//                                     id: 0, label: rule['ndiagnosticcasecode'] ? rule['ndiagnosticcasecode'].label :\n//                                         rule['ngradecode'].label, children: []\n//                                 }\n//                             ]\n//                         }\n//                     ]\n//                 }\n//             ]\n//         }\n//     ]\n// }\n{id:index,label:/*#__PURE__*/React.createElement(React.Fragment,null,rule['stestname'].label+\" -> \"+_this3.props.intl.formatMessage({id:\"IDS_WITH\"})+\" -> \"+rule['orderresulttype'].label+\" -> \"+rule['ssymbolname'].label+\" -> \"+(rule['orderresulttype'].value===1?rule['ndiagnosticcasecode'].label:rule['ngradecode'].label))});});parent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_AND\"})),children:children});}if(groupobject.hasOwnProperty('button_not_button_and')){children=[];var _rulesList2=groupobject['button_not_button_and'];_rulesList2.map(function(rule,index){children.push({id:index,label:/*#__PURE__*/React.createElement(React.Fragment,null,rule['stestname'].label+\" -> \"+_this3.props.intl.formatMessage({id:\"IDS_WITH\"})+\" -> \"+rule['orderresulttype'].label+\" -> \"+rule['ssymbolname'].label+\" -> \"+(rule['orderresulttype'].value===1?rule['ndiagnosticcasecode'].label:rule['ngradecode'].label))});});var notarray=[{id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_AND\"})),children:children}];parent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_NOT\"})),children:notarray});}if(groupobject.hasOwnProperty('button_not_button_or')){children=[];var _rulesList3=groupobject['button_not_button_or'];_rulesList3.map(function(rule,index){children.push({id:index,label:/*#__PURE__*/React.createElement(React.Fragment,null,rule['stestname'].label+\" -> \"+_this3.props.intl.formatMessage({id:\"IDS_WITH\"})+\" -> \"+rule['orderresulttype'].label+\" -> \"+rule['ssymbolname'].label+\" -> \"+(rule['orderresulttype'].value===1?rule['ndiagnosticcasecode'].label:rule['ngradecode'].label))});});var _notarray=[{id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_OR\"})),children:children}];parent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_NOT\"})),children:_notarray});}// if (groupListJoins.length > 0) {\n//     if (groupListJoins[index]) {\n//         if (groupListJoins[index].hasOwnProperty('button_or') &&\n//             groupListJoins[index]['button_or'] === true) {\n//             grandparent.push({ id: index, label: 'button_or', children: parent })\n//         }\n//         if (groupListJoins[index].hasOwnProperty('button_and') &&\n//             groupListJoins[index]['button_and'] === true) {\n//             grandparent.push({ id: index, label: 'button_and', children: parent })\n//         }\n//     }\n// }\n});if(groupListJoins!==undefined){// groupListJoins.map((join, index) => {\n//     if (index > 0) {\n//         if (parent[index].hasOwnProperty('children')) {\n//             return parent[index]['children'].map(rule => {\n//                 return rule['label'] = <div //className=\"rulesengine-btn-primary\"\n//                     //style={{ color: \"#fff\", background: this.generateRandomColor(),borderRadius: '0.25rem' }} \n//                     >{rule['label']}</div>;\n//             })\n//         }\n//     }\n// })\ngroupListJoins.map(function(join,index){var parentjoins=[];if(join.hasOwnProperty('button_or')&&join['button_or']===true){var notarray=[];parentjoins.push(parent[index]);parentjoins.push(parent[index+1]);if(join.hasOwnProperty('button_not')&&join['button_not']===true){notarray=[{id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_OR\"}),\" \")// 'button_or'\n,children:parentjoins}];grandparent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_NOT\"}),\" \")// 'button_or'\n,children:notarray});}else{grandparent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_OR\"}),\" \")// 'button_or'\n,children:parentjoins});}}if(join.hasOwnProperty('button_and')&&join['button_and']===true){var _notarray2=[];parentjoins.push(parent[index]);parentjoins.push(parent[index+1]);if(join.hasOwnProperty('button_not')&&join['button_not']===true){_notarray2=[{id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_AND\"}),\" \")// 'button_or'\n,children:parentjoins}];grandparent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_NOT\"}),\" \")// 'button_or'\n,children:_notarray2});}else{grandparent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_AND\"}))// 'button_and'\n,children:parentjoins});}}});}// groupListJoins.map((join, index) => {\n//     if (join.hasOwnProperty('button_or') && join['button_or'] === true) {\n//         parent = []\n//         groupList.map((groupobject, index) => {\n//             if (groupobject.hasOwnProperty('button_or')) {\n//                 children = []\n//                 let rulesList = groupobject['button_or']\n//                 rulesList.map((rule, index) => {\n//                     children.push({ id: index, label: rule['stestname'].label })\n//                 })\n//                 return parent.push({ id: index, label: 'button_or', children: children })\n//             }\n//         })\n//         grandparent.push({ id: index, label: 'button_or', children: parent })\n//     }\n//     if (join.hasOwnProperty('button_and') && join['button_and'] === true) {\n//         parent = []\n//         groupList.map((groupobject, index) => {\n//             if (groupobject.hasOwnProperty('button_and')) {\n//                 children = []\n//                 let rulesList = groupobject['button_and']\n//                 rulesList.map((rule, index) => {\n//                     children.push({ id: index, label: rule['stestname'].label })\n//                 })\n//                 return parent.push({ id: index, label: 'button_and', children: children })\n//             }\n//         })\n//         grandparent.push({ id: index, label: 'button_and', children: parent })\n//     }\n// })\nobject=grandparent.length>0?{id:0,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},this.props.Login.masterData.SelectedRulesEngine.srulename,\" \"),children:grandparent}:{id:0,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},this.props.Login.masterData.SelectedRulesEngine.srulename,\" \"),children:parent};return object;}// ruleflowobject() {\n//     let object = {}\n//     let groupList = this.props.Login.masterData.SelectedRulesEngine['jsondata']\n//     let groupListJoins = this.props.Login.masterData.SelectedRulesEngine['jsonuidata'] &&\n//         this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['groupListJoins']\n//     let child = []\n//     let children = []\n//     // let parentor = []\n//     // let parentand = []\n//     let parent = []\n//     groupList.map((ruleslist, index) => {\n//         if (ruleslist.hasOwnProperty('button_or')) {\n//             children = []\n//             let rules = ruleslist['button_or']\n//             // if (groupListJoins.length > 0) {\n//             //     rules.map((rule, index) => {\n//             //         children.push({ id: index + 1, label: rule['stestname'].label })\n//             //     })\n//             // }\n//             // else {\n//             rules.map((rule, index) => {\n//                 children.push({ id: index + 1, label: rule['stestname'].label })\n//             })\n//             parent.push({ id: index + 1, label: 'button_or', children: children })\n//             //  }\n//         }\n//         if (ruleslist.hasOwnProperty('button_and')) {\n//             children = []\n//             let rules = ruleslist['button_and']\n//             // if (groupListJoins.length > 0) {\n//             //     rules.map((rule, index) => {\n//             //         children.push({ id: index + 1, label: rule['stestname'].label })\n//             //     })\n//             // }\n//             // else {\n//             rules.map((rule, index) => {\n//                 children.push({ id: index + 1, label: rule['stestname'].label })\n//             })\n//             parent.push({ id: index + 1, label: 'button_and', children: children })\n//             //  }\n//         }\n//     })\n//     groupListJoins.map((join, index) => {\n//         if (join.hasOwnProperty('button_or') && join['button_or'] === true) {\n//             child.push({ id: index + 1, label: 'button_or', children: parent })\n//         }\n//         if (join.hasOwnProperty('button_and') && join['button_and'] === true) {\n//             child.push({ id: index + 1, label: 'button_and', children: parent })\n//         }\n//     })\n//     object =  child.length > 0 ?\n//      {\n//         id: 0,\n//         label: 'root',\n//         children: child\n//     } \n//     : {\n//         id: 0,\n//         label: 'root',\n//         children: parent\n//     }\n//     // object = {\n//     //     id: 0,\n//     //     label: 'button_or',\n//     //     children: [{\n//     //         id: 1,\n//     //         label: 'Complete Blood Count(Complete Blood Count)'\n//     //     }, {\n//     //         id: 2,\n//     //         label: 'H-A1C-Pre(kk-2)'\n//     //     }]\n//     // }\n//     console.log('view object:',JSON.stringify(object))\n//     return object\n// }\n},{key:\"createGroupRulesview\",value:function createGroupRulesview(){var _this4=this;var indexCount=0;var design=[];var groupList=this.props.Login.masterData.SelectedRulesEngine['jsondata'].hasOwnProperty('button_and')?this.props.Login.masterData.SelectedRulesEngine['jsondata']['button_and']:this.props.Login.masterData.SelectedRulesEngine['jsondata']['button_or'];var selectedRecordview={};var selectedRecordviewflag={};selectedRecordview[\"groupList\"]=[];groupList.map(function(ruleslist,index){if(ruleslist.hasOwnProperty('button_or')){selectedRecordview[\"groupList\"][index]=ruleslist[\"button_or\"];selectedRecordview[\"groupList\"][index][\"button_or\"]=true;}if(ruleslist.hasOwnProperty('button_and')){selectedRecordview[\"groupList\"][index]=ruleslist[\"button_and\"];selectedRecordview[\"groupList\"][index][\"button_and\"]=true;}});if(this.props.Login.masterData.SelectedRulesEngine['jsondata'].hasOwnProperty('button_and')){selectedRecordviewflag[\"groupList\"]={};selectedRecordviewflag[\"groupList\"][\"button_and\"]=true;}else{selectedRecordviewflag[\"groupList\"]={};selectedRecordviewflag[\"groupList\"][\"button_or\"]=true;}console.log('props.addGroupList->',this.props.Login.masterData.SelectedRulesEngine['jsonuidata'].addGroupList);this.props.Login.masterData.SelectedRulesEngine['jsonuidata'].addGroupList.length>0&&this.props.Login.masterData.SelectedRulesEngine['jsonuidata'].addGroupList.map(function(items,index){if(items>-1){indexCount=indexCount+1;};design.push(/*#__PURE__*/React.createElement(React.Fragment,null,items>-1?/*#__PURE__*/React.createElement(React.Fragment,null,\"  \",index>0?selectedRecordviewflag[\"groupList\"]['button_or']===true?/*#__PURE__*/React.createElement(ContionalButton,{type:\"button\",className:\"builder-btn-primary\",marginLeft:0},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_OR\",defaultMessage:\"Or\"}))):selectedRecordviewflag[\"groupList\"]['button_and']===true?/*#__PURE__*/React.createElement(ContionalButton,{type:\"button\",className:\"builder-btn-primary\",marginLeft:0},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_AND\",defaultMessage:\"And\"}))):\"\":\"\",\" \",/*#__PURE__*/React.createElement(BuilderBorder,null,/*#__PURE__*/React.createElement(React.Fragment,null,_this4.createRulesView(items,index,selectedRecordview)))):/*#__PURE__*/React.createElement(React.Fragment,null)));});return design;}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var activeTabIndex=this.props.Login.activeTabIndex;var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:undefined}};this.props.updateStore(updateInfo);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this$state2=this.state,filterData=_this$state2.filterData,activeTabIndex=_this$state2.activeTabIndex,activeTabId=_this$state2.activeTabId,selectedcombo=_this$state2.selectedcombo;if(this.props.Login.queryData!==previousProps.Login.queryData){this.setState({data:this.props.Login.queryData,dataResult:process(this.props.Login.queryData,this.state.dataState)});}if(this.props.Login.needoutsource!==previousProps.Login.needoutsource){this.setState({needoutsource:this.props.Login.needoutsource});}if(this.props.Login.activeTabIndex!==previousProps.Login.activeTabIndex||this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.activeTabIndex!==previousProps.Login.activeTabIndex){activeTabIndex=this.props.Login.activeTabIndex;activeTabId=this.props.Login.activeTabId;this.setState({activeTabIndex:activeTabIndex,activeTabId:activeTabId});}}if(this.props.Login.masterData.ProductCategory!==previousProps.Login.masterData.ProductCategory){var ProductCategory=constructOptionList(this.props.Login.masterData.ProductCategory||[],\"nproductcatcode\",\"sproductcatname\",undefined,undefined,undefined);var ProductCategoryList=ProductCategory.get(\"OptionList\");this.setState({ProductCategoryList:ProductCategoryList});}if(this.props.Login.masterData.queryDataMain!==previousProps.Login.masterData.queryDataMain){if(this.props.Login.masterData.queryDataMain!==undefined){this.setState({dataMainList:this.props.Login.masterData.queryDataMain,dataResultMain:process(this.props.Login.masterData.queryDataMain===null?[]:this.props.Login.masterData.queryDataMain,this.state.dataStateMain)});}}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.masterData.queryTypeCode!==previousProps.Login.masterData.queryTypeCode){filterData=this.generateBreadCrumData();this.setState({filterData:filterData});}if(this.props.Login.masterData.SelectedProductCategory!==previousProps.Login.masterData.SelectedProductCategory){if(this.props.Login.masterData.SelectedProductCategory){var _ProductCategory=constructOptionList(this.props.Login.masterData.ProductCategory||[],\"nproductcatcode\",\"sproductcatname\",undefined,undefined,undefined);var _ProductCategoryList=_ProductCategory.get(\"OptionList\");var nproductcatcode=this.props.Login.masterData.SelectedProductCategory.nproductcatcode;selectedcombo['nproductcatcode']=_ProductCategoryList.filter(function(x){return x.value===nproductcatcode;})[0];filterData=this.generateBreadCrumData();this.setState({filterData:filterData,selectedcombo:selectedcombo});}else{filterData=this.generateBreadCrumData();this.setState({filterData:filterData});}}// if(this.props.Login.testInitiateSiteTab&&this.props.Login.testInitiateSiteTab.length>0)\n// {\n//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: {\n//             testInitiateSiteTab: []\n//         }\n//     }\n//     this.props.updateStore(updateInfo);\n// }\nif(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var _this5=this;var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.queryTypeCode){var item=this.state.queryType.filter(function(item){return item.nquerytypecode===_this5.props.Login.masterData.queryTypeCode;});breadCrumbData.push({\"label\":\"IDS_QUERYTYPE\",\"value\":this.props.Login.masterData.queryTypeCode?item[0].squerytypename:\"\"});}if(this.props.Login.masterData&&this.props.Login.masterData.SelectedProductCategory){breadCrumbData.push({\"label\":\"IDS_SAMPLECATEGORY\",\"value\":this.props.Login.masterData.SelectedProductCategory?this.props.Login.masterData.SelectedProductCategory.sproductcatname:\"\"});}else{breadCrumbData.push({\"label\":\"IDS_SAMPLECATEGORY\",\"value\":\"NA\"});}return breadCrumbData;}},{key:\"fieldsForGrid\",value:function fieldsForGrid(){return this.props.Login.activeTabIndex==1?[{\"idsName\":\"IDS_FROMSITE\",\"dataField\":\"sfromsitename\",\"width\":\"200px\"},{\"idsName\":\"IDS_TOSITE\",\"dataField\":\"stositename\",\"width\":\"200px\"}]:[{\"idsName\":\"IDS_COMMENTSUBTYPE\",\"dataField\":\"scommentsubtype\",\"width\":\"200px\"},this.props.Login.activeTabIndex==2?{\"idsName\":\"IDS_TESTCOMMENTS\",\"dataField\":\"spredefinedname\",\"width\":\"200px\"}:{\"idsName\":\"IDS_REPORTCOMMENTS\",\"dataField\":\"spredefinedname\",\"width\":\"200px\"}];}},{key:\"render\",value:function render(){var _this6=this;var addId=this.state.controlMap.has(\"Add Rules Engine\")&&this.state.controlMap.get(\"Add Rules Engine\").ncontrolcode;var editId=this.state.controlMap.has(\"Edit Rules Engine\")&&this.state.controlMap.get(\"Edit Rules Engine\").ncontrolcode;var deleteId=this.state.controlMap.has(\"Delete Rules Engine\")&&this.state.controlMap.get(\"Delete Rules Engine\").ncontrolcode;var breadCrumbData=this.state.filterData||[];this.props.Login.masterData.RulesEngine=this.props.Login.masterData.RulesEngine&&sortData(this.props.Login.masterData.RulesEngine,\"descending\",\"ntransactionrulesenginecode\");this.props.Login.masterData.searchedData=this.props.Login.masterData.searchedData&&sortData(this.props.Login.masterData.searchedData,\"descending\",\"ntransactionrulesenginecode\");var gridColumnListMain=[];if(this.props.Login.masterData&&this.props.Login.masterData.columnList&&this.props.Login.masterData.columnList.length>0){this.props.Login.masterData.columnList.forEach(function(item){gridColumnListMain.push({idsName:item.items.displayname[_this6.props.Login.userInfo.slanguagetypecode],dataField:item.items.stestname,width:'200px'});});}var selectedQueryType=[];if(this.props.Login.masterData&&this.props.Login.masterData.queryTypeCode){selectedQueryType=this.state.queryType.filter(function(item){return item.nquerytypecode===_this6.props.Login.masterData.queryTypeCode;});}var filterParam={inputListName:\"RulesEngine\",selectedObject:\"SelectedRulesEngine\",primaryKeyField:\"ntransactionrulesenginecode\",fetchUrl:\"rulesengine/getSelectedRulesEngine\",fecthInputObject:{userinfo:this.props.Login.userInfo,nproductcatcode:this.props.Login.masterData.SelectedProductCategory&&this.props.Login.masterData.SelectedProductCategory.nproductcatcode},masterData:this.props.Login.masterData,searchFieldList:[\"srulename\",\"stransdisplaystatus\"]};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(ListMaster,{masterData:this.props.Login.masterData||[],screenName:this.props.intl.formatMessage({id:\"IDS_QUERYBUILDER\"}),masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.RulesEngine,getMasterDetail:function getMasterDetail(param){return _this6.props.getSelectedRulesEngine(param,_this6.props.Login.userInfo,_this6.props.Login.masterData);},selectedMaster:this.props.Login.masterData.SelectedRulesEngine||this.props.Login.SelectedRulesEngine,primaryKeyField:\"ntransactionrulesenginecode\",mainField:\"srulename\",firstField:\"stransdisplaystatus\"//secondField={\"stransdisplaystatus\"}\n,filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,searchRef:this.searchRef,reloadData:this.reloadData,openModal:this.getRulesEngineAdd// openModal={() => this.props.getSQLQueryComboService(\"\", \"create\", \"nsqlquerycode\", null,\n//     this.props.Login.masterData, this.props.Login.userInfo,\n//     this.props.Login.masterData.SelectedQueryType.nquerytypecode,                                   \n//     addId)} \n//{() => this.props.addTest(\"create\", selectedTest, userInfo, addId, this.state.nfilterTestCategory)} Already commented\n,needAccordianFilter:false// skip={this.state.skip}\n// take={this.state.take}\n,handlePageChange:this.handlePageChange,showFilterIcon:true,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,showBuildQuery:false,builderData:this.getRulesEngineAdd,filterComponent:[{\"IDS_QUERYTYPEFILTER\":/*#__PURE__*/React.createElement(RuleEngineQueryTypeFilter,{queryType:this.state.ProductCategoryList||[],selectedRecord:this.state.selectedcombo||{},onComboChange:this.onComboChange,filterQueryType:selectedQueryType[0]})}]})),/*#__PURE__*/React.createElement(Col,{md:\"8\"},/*#__PURE__*/React.createElement(ProductList,{className:\"panel-main-content\"},this.props.Login.masterData.SelectedRulesEngine&&this.props.Login.masterData.SelectedRulesEngine?/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.SelectedRulesEngine.srulename),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex product-category icon-group-wrap\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(MediaLabel,null,this.props.intl.formatMessage({id:\"IDS_STATUS\"}),\" :\"),/*#__PURE__*/React.createElement(MediaLabel,{className:\"btn btn-outlined \".concat(this.props.Login.masterData.SelectedRulesEngine.ntransactionstatus===transactionStatus.APPROVED?\"outline-success\":this.props.Login.masterData.SelectedRulesEngine.ntransactionstatus===transactionStatus.RETIRED?\"outline-danger\":\"outline-secondary\",\" btn-sm ml-3\")// className={`btn btn-outlined  outline-success  btn-sm ml-3`}\n},this.props.Login.masterData.SelectedRulesEngine.stransdisplaystatus)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline \"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",href:\"#\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"})//  data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(e){return _this6.props.getEditRulesEngine(\"update\",_this6.props.Login.masterData,editId,_this6.props.Login.userInfo);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt,title:this.props.intl.formatMessage({id:\"IDS_EDIT\"})})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",href:\"\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})//   data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this6.ConfirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"})// hidden={props.userRoleControlRights.indexOf(approveVersionId) === -1}\n,onClick:function onClick(){return _this6.approveVersion(_this6.props.Login.masterData,1);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_RETIRE\"})// hidden={props.userRoleControlRights.indexOf(approveVersionId) === -1}\n,onClick:function onClick(){return _this6.approveVersion(_this6.props.Login.masterData,2);}},/*#__PURE__*/React.createElement(Reject,{className:\"custom_icons\",width:\"20\",height:\"20\"})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_VIEW\"})// hidden={props.userRoleControlRights.indexOf(approveVersionId) === -1}\n,onClick:function onClick(){return _this6.openflowview();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}))))))):\"\",this.props.Login.masterData.SelectedRulesEngine&&/*#__PURE__*/React.createElement(CustomTab,{tabDetail:this.tabDetail(),onTabChange:this.onTabChange}))))),this.props.Login.openPortalModal&&/*#__PURE__*/React.createElement(PortalModalSlideout,{show:this.props.Login.openPortalModal,closeModal:this.closePortalModal,screenName:this.props.Login.screenName,handleSaveClick:this.save,addComponent:(this.props.Login.operation==='update'?this.state.selectedRecord['groupList']:true)&&/*#__PURE__*/React.createElement(AddRule,{productCategoryList:this.state.ProductCategoryList||[],selectedRecord:this.state.selectedRecord||{},databaseTableList:this.props.Login.databaseTableList,tableColumnList:this.state.tableColumnList,foreignTableList:this.state.foreignTableList||[],foreignTableColumnList:this.props.Login.foreignTableColumnList||[]// validationData={validationData}\n,count:this.state.count,foreignTableCount:this.state.foreignTableCount,sqlQuery:this.state.sqlQuery// viewMasterListByRule={this.props.Login.viewMasterListByRule&&this.props.Login.viewMasterListByRule.filter((x,i)=>{return x.value===this.props.Login.testInitiateTests[i]}) || []}\n,userInfo:this.props.Login.userInfo,onInputChange:this.onInputChange,deleteRule:this.deleteRule,clearRule:this.clearRule,resetRule:this.resetRule,onSymbolChange:this.onSymbolChange// onForeignTableChange={this.onForeignTableChange}\n// addJoinTable={this.addJoinTable} \n,onRuleChange:this.onRuleChange,addRule:this.addRule,addTest:this.addTest,onConditionClick:this.onConditionClick,onMasterDataChange:this.onMasterDataChange,databaseviewList:this.props.Login.databaseviewList,addRuleList:this.props.Login.addRuleList||[],rulesOption:this.props.Login.rulesOption//viewColumnListByRule={this.props.Login.viewColumnListByRule || []}\n// viewColumnListByRule={this.props.Login.viewColumnListByRule && this.props.Login.viewColumnListByRule.filter((x, i) => { return x.value === this.props.Login.testInitiateTests[i] }) || []}\n,viewColumnListByRule:this.props.Login.viewColumnListByRule&&this.viewColumnListByRule(this.props.Login.viewColumnListByRule)//this.props.Login.viewColumnListByRule && this.props.Login.viewColumnListByRule\n,masterdata:this.props.Login.masterdata,switchRecord:this.state.switchRecord,data:this.state.data,dataResult:this.state.dataResult||[],dataState:this.state.dataState,dataStateChange:this.dataStateChange,userRoleControlRights:this.state.userRoleControlRights,gridColumnList:this.props.Login.gridColumnList||[],queryType:this.state.queryType,addAggregateList:this.props.Login.addAggregateList||[],addOrderbyList:this.props.Login.addOrderbyList||[],addGroup:this.addGroup,addGroupList:this.props.Login.addGroupList||[],onFilterComboChange:this.onFilterComboChange,selectFields:this.props.Login.selectFields||[],SelectedProductCategory:this.props.Login.masterData.SelectedProductCategory,DiagnosticCaseList:this.props.Login.DiagnosticCaseList,GradeList:this.props.Login.GradeList,siteList:this.props.Login.siteList,resultTypeList:this.props.Login.resultTypeList,isResultorOrderType:this.state.isResultorOrderType,optionsByRule:this.state.optionsByRule||this.props.Login.DiagnosticCaseList//sideNavDetail={this.sideNavDetail}\n,changePropertyView:this.changePropertyView,splitChangeWidthPercentage:this.state.splitChangeWidthPercentage,activeTabIndex:this.props.Login.activeTabIndex,enablePropertyPopup:this.state.enablePropertyPopup,propertyPopupWidth:this.state.propertyPopupWidth,controlMap:this.state.controlMap,sectionDataState:this.state.sectionDataState,masterData:this.props.Login.masterData,intl:this.props.intl,addOutcomeList:this.props.Login.addOutcomeList&&this.props.Login.addOutcomeList||[],deleteOutcome:this.deleteOutcome,onmodalComboChange:this.onmodalComboChange,openModalPopup:this.props.Login.openModalPopup,closeModalShow:this.closeModalShow,modalsaveClick:this.modalsaveClick,getOutcomeDetails:this.getOutcomeDetails,addModalSite:this.addModalSite,action:this.props.Login.action,deletModalSite:this.deletModalSite,deleteModalTest:this.deleteModalTest,activeTestTab:this.props.Login.activeTestTab,testcomments:this.props.Login.testcomments,reportcomments:this.props.Login.reportcomments,addComments:this.addComments,CommentType:this.props.Login.CommentType,CommentSubType:this.props.Login.CommentSubType,isneedsgeneralcomments:this.state.isneedsgeneralcomments,predefcomments:this.props.Login.predefcomments,needoutsource:this.state.selectedRecord['needoutsource']&&this.state.selectedRecord['needoutsource']===3?true:false,openmodalsavePopup:this.props.Login.openmodalsavePopup,save:this.save,dataStateObject:this.state.dataStateObject,paneSizeChange:this.paneSizeChange})}),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,className:\"wide-popup\",inputParam:this.props.Login.inputParam,screenName:this.props.intl.formatMessage({id:\"IDS_VIEWRULE\"}),hideSave:true,size:'xl',selectedRecord:this.state.selectedRecord||{},addComponent:this.props.Login.masterData.SelectedRulesEngine&&/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(OrgTree,{data:this.ruleflowobject(),horizontal:true,collapsable:true,expandAll:true,labelClassName:\"ruletree\"//labelWidth={50}\n})))}));}},{key:\"clearSelectedRule\",value:function clearSelectedRule(selectedRecord,index){selectedRecord[\"sinputname_\"+index]&&delete selectedRecord[\"sinputname_\"+index];selectedRecord[\"ssymbolname_\"+index]&&delete selectedRecord[\"ssymbolname_\"+index];selectedRecord[\"snumericinput_\"+index]&&delete selectedRecord[\"snumericinput_\"+index];selectedRecord[\"columnname_\"+index]&&delete selectedRecord[\"columnname_\"+index];selectedRecord[\"snumericinputtwo_\"+index]&&delete selectedRecord[\"snumericinputtwo_\"+index];selectedRecord[\"dateinput_\"+index]&&delete selectedRecord[\"dateinput_\"+index];selectedRecord[\"dateinputtwo_\"+index]&&delete selectedRecord[\"dateinputtwo_\"+index];}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}// confirmDelete = (ncontrolCode) => {\n//     this.confirmMessage.confirm(\"deleteMessage\",\n//         this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\n//         this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\n//         this.props.intl.formatMessage({ id: \"IDS_OK\" }),\n//         this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\n//         () => this.deleteQB(\"delete\", ncontrolCode));\n// };\n}]);return RuleEngineQueryBuilder;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,filterColumnData:filterColumnData,validateEsignCredential:validateEsignCredential,getRulesEngineAdd:getRulesEngineAdd,getSelectedRulesEngine:getSelectedRulesEngine,getRulesEngine:getRulesEngine,getEditRulesEngine:getEditRulesEngine})(injectIntl(RuleEngineQueryBuilder));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/configurationmaster/RuleEngineQueryBuilder.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Button","FontAwesomeIcon","BuilderBorder","ContionalButton","DeleteRule","FormSelectSearch","OrgTree","faTrashAlt","faCopy","faPencilAlt","faThumbsUp","faEye","process","toast","ListMaster","SlideOutModal","Esign","CustomTab","RuleEngineQueryTypeFilter","CustomTabs","callService","crudMaster","validateEsignCredential","updateStore","filterColumnData","getSelectedRulesEngine","getRulesEngine","getEditRulesEngine","getRulesEngineAdd","DEFAULT_RETURN","transactionStatus","queryTypeFilter","tableType","ColumnType","constructOptionList","getControlMap","showEsign","sortData","ReadOnlyText","ContentPanel","MediaLabel","rsapi","ConfirmMessage","Affix","BreadcrumbComponent","ListWrapper","PortalModalSlideout","AddRule","render","format","ProductList","DataGridComponent","DataGrid","stringOperatorData","TestInitiateTab","CustomTabsComponent","FormInput","jsonSql","require","separatedValues","jsonSqlParam","RuleEngineQueryBuilder","props","dataStateChange","event","ntestparametercode","dataStateObject","state","dataState","setState","dataStateChangetestinitiate","dataStatetestinitiate","dataStateChangeMain","dataResultMain","Login","queryDataMain","dataStateMain","ConfirmDelete","deleteId","confirmMessage","confirm","intl","formatMessage","id","handleClickDelete","masterData","changePropertyViewClose","updateInfo","typeName","data","activeTabIndex","undefined","activeTestTab","activeTabId","closeModalShow","openModalPopup","selectedRecord","reloadData","searchRef","current","value","inputParam","inputData","userInfo","nproductcatcode","SelectedProductCategory","classUrl","methodUrl","displayName","onsavevalidation","grouplist","hasAll","rules","i","j","length","every","prop","hasOwnProperty","save","siteObject","testCommentObject","reportCommentObject","testInitiateTests","testCommentsTests","reportCommentsTests","action","groupList","outcomeList","addGroupList","testInitiateSiteTab","testCommentsTestsTab","reportCommentsTestsTab","ruleEngineLayout","ruleEngineLayoutObject","groupRuleObject","map","List","push","console","log","JSON","stringify","operation","SelectedRulesEngine","info","openmodalsavePopup","openFilter","showFilter","closeFilter","onFilterSubmit","selectedcombo","queryTypeCode","onFilterComboChange","comboData","fieldName","onComboChange","onOutcomeChange","index","onRuleChange","groupIndex","clearSelectedRule","sqlQuery","oldselectedRecord","tableData","item","onMasterDataChange","isResultorOrderType","optionsByRule","DiagnosticCaseList","GradeList","addRule","type","viewColumnListByRule","arrayLength","viewColumnList","databaseviewList","paneSizeChange","d","splitChangeWidthPercentage","addTest","warn","addComments","selectedParameter","testparameter","filter","x","addModalSite","modalsaveClick","needoutsource","testInitiateTestsTemp","testCommentsTestsTemp","reportCommentsTestsTemp","testInitiateSiteTemp","testInitiateTestOptions","testCommentsTestOptions","reportCommentsTestOptions","testInitiateTestdeletedOptions","testCommentsTestdeletedOptions","reportCommentsTestdeletedOptions","npkAtestparametercode","npkBtestparametercode","npkCtestparametercode","isduplicate","npKAsampletestcommentscode","object","ncommentsubtypecode","scommentsubtype","ncommenttypecode","scommenttype","nsampletestcommentscode","spredefinedname","label","sgeneralcomments","stestparametersynonym","siteseqnumber","npksitecode","sfromsitename","stositename","Object","keys","deletModalSite","inputparam","row","temparray","splice","deleteModalTest","findIndex","onmodalComboChange","isneedsgeneralcomments","getOutcomeDetails","testParameter","testParameterComments","testParameterreportComments","handleExpandChange","childListMap1","Map","childListMap2","childListMap3","childListMap","activeTabName","keylst","key","set","parseInt","values","onTabChange","tabProps","openflowview","openModal","tabDetail","jsonuidata","tabMap","skip","take","controlMap","userRoleControlRights","addGroup","sql1","build","table","alias","join","on","query","sql21","condition","a","$gt","b","$lt","group","selectFields","addRuleList","addAggregateList","addOrderbyList","closePortalModal","openPortalModal","count","closeModal","changePropertyView","status","window","innerWidth","enableAutoClick","deleteRule","deleteOutcome","addOutcomeList","clearRule","sviewname","resetRule","onSymbolChange","oldSelectedRecord","onInputChange","target","name","checked","list","dynamicList","some","onConditionClick","isgroup","settings","dataStateUserQuery","error","sectionDataState","parameters","queryName","queryTypeName","selectedTableType","moduleFormName","ntableTypeCode","nFormCode","queryType","chartList","outputColumns","selectedTableList","tableColumnList","foreignTableColumnList","joinTableList","symbolsList","foreignTableList","foreignTableCount","selectedforeignTableList","filterColumnList","switchRecord","dataMainList","dataResult","enablePropertyPopup","squerytypename","nquerytypecode","createRef","queryFieldList","searchFieldList","ncontrolcode","fieldArray","ntransactionrulesenginecode","nformcode","loadEsign","screenData","screenName","nflag","items","selectedRecordview","design","Array","stringOperators","valuemember","letters","color","Math","floor","random","labelColor","labelBGColor","borderColor","groupListJoins","children","parent","grandparent","groupobject","rulesList","rule","notarray","parentjoins","srulename","indexCount","selectedRecordviewflag","ruleslist","createRulesView","previousProps","filterData","queryData","ProductCategory","ProductCategoryList","get","generateBreadCrumData","breadCrumbData","sproductcatname","addId","has","editId","RulesEngine","searchedData","gridColumnListMain","columnList","forEach","idsName","displayname","slanguagetypecode","dataField","stestname","width","selectedQueryType","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","userinfo","param","handlePageChange","ntransactionstatus","APPROVED","RETIRED","stransdisplaystatus","e","approveVersion","databaseTableList","rulesOption","masterdata","gridColumnList","siteList","resultTypeList","propertyPopupWidth","testcomments","reportcomments","CommentType","CommentSubType","predefcomments","ruleflowobject","masterStatus","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ReactComponent as Reject } from '../../assets/image/reject.svg'\r\nimport { BuilderBorder, ContionalButton, DeleteRule } from './RuleEngineSqlbuilder.styled';\r\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\r\nimport OrgTree from 'react-org-tree';\r\n\r\nimport { faTrashAlt, faCopy, faPencilAlt, faThumbsUp, faEye } from '@fortawesome/free-solid-svg-icons';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../audittrail/Esign';\r\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component'\r\n \r\nimport RuleEngineQueryTypeFilter from './RuleEngineQueryTypeFilter';\r\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore,\r\n    filterColumnData,\r\n    getSelectedRulesEngine, getRulesEngine, getEditRulesEngine, getRulesEngineAdd\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { transactionStatus, queryTypeFilter, tableType, ColumnType } from '../../components/Enumeration';\r\nimport { constructOptionList, getControlMap, showEsign, sortData } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel, MediaLabel } from '../../components/App.styles';\r\nimport rsapi from '../../rsapi';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport { Affix } from 'rsuite';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport PortalModalSlideout from '../../components/portal-modal/portal-modal-slideout';\r\nimport AddRule from './AddRule';\r\nimport { render } from '@testing-library/react';\r\nimport { format } from 'date-fns';\r\nimport { ProductList } from '../product/product.styled'; \r\nimport { ReactComponent as ParameterConfigurationIcon } from '../../assets/image/parameter-configuration.svg';\r\nimport { ReactComponent as ParameterMappingIcon } from '../../assets/image/parameter-mapping.svg';\r\nimport DataGridComponent from '../../components/data-grid/data-grid.component';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\n\r\nimport { stringOperatorData } from './RuleEngineQueryBuilderData';\r\nimport TestInitiateTab from './TestInitiateTab';\r\nimport CustomTabsComponent from '../../components/custom-tabs/custom-tabs.component';\r\nimport FormInput from '../../components/form-input/form-input.component';\r\n// import {validationData} from './QueryBuilderData';\r\n\r\nconst jsonSql = require('json-sql')({ separatedValues: false });\r\nconst jsonSqlParam = require('json-sql')({ separatedValues: true });\r\n\r\nclass RuleEngineQueryBuilder extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const dataState = {\r\n            skip: 0,\r\n            take: props.settings ? parseInt(props.settings[14]) : 5,\r\n        };\r\n        const dataStateMain = {\r\n            skip: 0,\r\n            take: props.settings ? parseInt(props.settings[14]) : 5,\r\n        };\r\n        const dataStateUserQuery = {\r\n            skip: 0,\r\n            take: 10,\r\n        };\r\n\r\n        this.state = ({\r\n            selectedRecord: {},\r\n            error: \"\",\r\n            sectionDataState: { skip: 0, take: 10 },\r\n            // modalIsOpen: false,\r\n            parameters: [],\r\n            // objparam: [],\r\n            // objDparam: [],\r\n            queryName: '',\r\n            // queryResult: [],\r\n            userRoleControlRights: [],\r\n            splitChangeWidthPercentage: 28.6,\r\n            controlMap: new Map(),\r\n            dataStateUserQuery: dataStateUserQuery,\r\n            queryTypeName: '',\r\n            selectedcombo: [],\r\n            selectedTableType: [],\r\n            moduleFormName: [],\r\n            ntableTypeCode: -1,\r\n            nFormCode: -1,\r\n            queryType: [],\r\n            tableType: [],\r\n            chartList: [],\r\n            skip: 0,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25, //tableName : undefined,tableList:[]\r\n            outputColumns: [],\r\n            selectedTableList: [],\r\n            tableColumnList: [],\r\n            foreignTableColumnList: [],\r\n            joinTableList: [],\r\n            symbolsList: [],\r\n            foreignTableList: [],\r\n            count: 0,\r\n            foreignTableCount: [],\r\n            selectedforeignTableList: [],\r\n            filterColumnList: [],\r\n            sqlQuery: false,\r\n            // viewColumnList: [],\r\n            switchRecord: {},\r\n            dataState: dataState,\r\n            dataStateMain: dataStateMain,\r\n            data: [],\r\n            dataMainList: [],\r\n            dataResult: [],\r\n            dataResultMain: [],\r\n            enablePropertyPopup: false,\r\n            enableAutoClick: false, needoutsource: false,\r\n            queryType: [{ squerytypename: this.props.intl.formatMessage({ id: \"IDS_VIEWS\" }), nquerytypecode: 1 }, { squerytypename: this.props.intl.formatMessage({ id: \"IDS_SQL\" }), nquerytypecode: 2 }],\r\n            //  queryTypeOptions: [{ label: this.props.intl.formatMessage({ id: \"IDS_VIEWS\" }), views: 1 }, { label: this.props.intl.formatMessage({ id: \"IDS_SQL\" }), value: 2 }]\r\n            queryTypeOptions: []\r\n        });\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        // this.dropItemRef = React.createRef(); \r\n\r\n        this.queryFieldList = ['nquerytypecode', 'ssqlqueryname', 'ssqlquery',\r\n            'sscreenrecordquery', 'sscreenheader', 'svaluemember', 'sdisplaymember', 'ncharttypecode'];\r\n        // this.queryList = [];\r\n\r\n        this.searchFieldList = [\"ssqlqueryname\", \"ssqlquery\", \"sscreenheader\", \"svaluemember\", \"sdisplaymember\",\r\n            \"squerytypename\", \"schartname\"];\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    dataStateChange = (event, ntestparametercode) => {\r\n        let dataStateObject = this.state.dataStateObject || {}\r\n        if (ntestparametercode) {\r\n            dataStateObject = {\r\n                ...dataStateObject,\r\n                [ntestparametercode]: event.dataState\r\n            }\r\n            this.setState({\r\n                dataStateObject\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                dataState: event.dataState\r\n            });\r\n        }\r\n\r\n    }\r\n    dataStateChangetestinitiate = (event) => {\r\n        this.setState({\r\n            //  dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataStatetestinitiate: event.dataState\r\n        });\r\n    }\r\n    dataStateChangeMain = (event) => {\r\n        this.setState({\r\n            dataResultMain: process(this.props.Login.queryDataMain, event.dataStateMain),\r\n            dataStateMain: event.dataStateMain\r\n        });\r\n    }\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.handleClickDelete(this.props.Login.masterData, deleteId, \"openModal\"));\r\n    }\r\n    handleClickDelete(masterData, ncontrolcode//, modalName\r\n    ) {\r\n        const fieldArray = [];\r\n        const inputParam = {\r\n            methodUrl: \"RulesEngine\",\r\n            classUrl: \"rulesengine\",\r\n            inputData: {\r\n                \"ntransactionrulesenginecode\": this.props.Login.masterData.SelectedRulesEngine.ntransactionrulesenginecode,\r\n                \"nproductcatcode\": this.props.Login.masterData.SelectedProductCategory.nproductcatcode,\r\n                \"userinfo\": this.props.Login.userInfo,\r\n            },\r\n            operation: \"delete\", //postParam,\r\n            displayName: \"RulesEngine\",\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },// [modalName]: true,\r\n                    operation: 'delete', screenName: \"RulesEngine\", id: \"RulesEngine\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, undefined\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    approveVersion(masterData, nflag, ncontrolcode//, modalName\r\n    ) {\r\n        const fieldArray = [];\r\n        const inputParam = {\r\n            methodUrl: \"RulesEngine\",\r\n            classUrl: \"rulesengine\",\r\n            inputData: {\r\n                \"ntransactionrulesenginecode\": this.props.Login.masterData.SelectedRulesEngine.ntransactionrulesenginecode,\r\n                \"nproductcatcode\": this.props.Login.masterData.SelectedProductCategory.nproductcatcode,\r\n                \"userinfo\": this.props.Login.userInfo, nflag: nflag\r\n            },\r\n            operation: \"approve\", //postParam,\r\n            displayName: \"RulesEngine\",\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },// [modalName]: true,\r\n                    operation: 'delete', screenName: \"RulesEngine\", id: \"RulesEngine\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, undefined\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    createRulesView(items, groupIndex, selectedRecordview) {\r\n        let design = [];\r\n        [...Array(items)].map((data, index) => {\r\n            let stringOperators = stringOperatorData;\r\n            design.push(\r\n                <>\r\n                    {index > 0 ? selectedRecordview[\"groupList\"][groupIndex]['button_or'] === true ?\r\n                        <ContionalButton type=\"button\" className={\"builder-btn-primary\"} marginLeft={0}\r\n                        >\r\n                            <span><FormattedMessage id=\"IDS_OR\" defaultMessage=\"Or\" /></span>\r\n                        </ContionalButton> :\r\n                        selectedRecordview[\"groupList\"][groupIndex]['button_and'] === true ?\r\n                            <ContionalButton type=\"button\" className={\"builder-btn-primary\"} marginLeft={0}\r\n                            >\r\n                                <span><FormattedMessage id=\"IDS_AND\" defaultMessage=\"And\" /></span>\r\n                            </ContionalButton> : \"\" : \"\"}\r\n                    <Row className=\"mt-3\">\r\n                        <Col md={3}>\r\n                            {/* <FormSelectSearch\r\n                                formGroupClassName=\"remove-floating-label-margin\"\r\n                                isSearchable={true}\r\n                                name={\"stestname\"}\r\n                                showOption={true}\r\n                                options={this.props.Login.rulesOption || []}\r\n                                optionId='stestname'\r\n                                optionValue='displayname'\r\n                                isDisabled={true}\r\n                                value={selectedRecordview[\"groupList\"][groupIndex][index] && selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"] || \"\"}\r\n                            //onChange={value => props.onRuleChange(value, \"stestname\", groupIndex, index)}\r\n                            ></FormSelectSearch> */}\r\n\r\n                            <FormInput\r\n                                formGroupClassName=\"remove-floating-label-margin\"\r\n                                name={`stestname`}\r\n                                type=\"text\"\r\n                                value={selectedRecordview[\"groupList\"][groupIndex][index] && selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"].label}\r\n                                disabled={true}\r\n                            />\r\n\r\n                        </Col>\r\n\r\n                        {\r\n                            selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"] &&\r\n                            <>\r\n                                <Col md={1}>\r\n                                    <FormInput\r\n                                        formGroupClassName=\"remove-floating-label-margin\"\r\n                                        name={`sinputname`}\r\n                                        type=\"text\"\r\n                                        value={this.props.intl.formatMessage({ id: \"IDS_WITH\" })}\r\n                                        disabled={true}\r\n                                    />\r\n                                </Col>\r\n                                <Col md={2}>\r\n                                    {/* <FormSelectSearch\r\n                                        formGroupClassName=\"remove-floating-label-margin\"\r\n                                        formLabel=\"\"\r\n                                        isSearchable={true}\r\n                                        name={\"orderresulttype\"}\r\n                                        placeholder=\"\"\r\n                                        showOption={true}\r\n                                        options={this.props.Login.resultTypeList}\r\n                                        optionId='nresultypecode'\r\n                                        optionValue='orderresulttype'\r\n                                        isDisabled={true}\r\n                                        value={selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"] && selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"] || \"\"}\r\n                                    //onChange={value => props.onMasterDataChange(value, \"orderresulttype\", groupIndex, index)}\r\n                                    >\r\n                                    </FormSelectSearch> */}\r\n                                    <FormInput\r\n                                        formGroupClassName=\"remove-floating-label-margin\"\r\n                                        name={`orderresulttype`}\r\n                                        type=\"text\"\r\n                                        value={selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"] && selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"].label}\r\n                                        disabled={true}\r\n                                    />\r\n                                </Col>\r\n                                <Col md={2}>\r\n                                    {/* <FormSelectSearch\r\n                                        formGroupClassName=\"remove-floating-label-margin\"\r\n                                        formLabel=\"\"\r\n                                        isSearchable={true}\r\n                                        name={\"ssymbolname\"}\r\n                                        placeholder=\"\"\r\n                                        showOption={true}\r\n                                        options={stringOperators}\r\n                                        optionId='nvalidationcode'\r\n                                        optionValue='ssymbolname'\r\n                                        isDisabled={true}\r\n                                        value={selectedRecordview[\"groupList\"][groupIndex][index][\"ssymbolname\"] && selectedRecordview[\"groupList\"][groupIndex][index][\"ssymbolname\"] || \"\"}\r\n                                    // onChange={value => props.onSymbolChange(value, \"ssymbolname\", groupIndex, index)}\r\n                                    >\r\n                                    </FormSelectSearch> */}\r\n                                    <FormInput\r\n                                        formGroupClassName=\"remove-floating-label-margin\"\r\n                                        name={`ssymbolname`}\r\n                                        type=\"text\"\r\n                                        value={selectedRecordview[\"groupList\"][groupIndex][index][\"ssymbolname\"] && selectedRecordview[\"groupList\"][groupIndex][index][\"ssymbolname\"].label || \"\"}\r\n                                        disabled={true}\r\n                                    />\r\n                                </Col>\r\n\r\n                                <Col md={3}>\r\n                                    {/* <FormSelectSearch\r\n                                        formGroupClassName=\"remove-floating-label-margin\"\r\n                                        isSearchable={true}\r\n                                        name={`${selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"].items && selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"].items.valuemember}`}\r\n                                        showOption={true}\r\n                                        options={selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"] &&\r\n                                            selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"].value == 1 ?\r\n                                            this.props.Login.DiagnosticCaseList : this.props.Login.GradeList}\r\n                                        optionId={selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"].items && selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"].items.valuemember}\r\n                                        optionValue={selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"].items && selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"].items.displaymember}\r\n                                        value={selectedRecordview[\"groupList\"][groupIndex][index] &&\r\n                                            selectedRecordview[\"groupList\"][groupIndex][index]\r\n                                            [selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"] &&\r\n                                                selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"].value == 1 ? 'ndiagnosticcasecode' : 'ngradecode'] || \"\"}\r\n                                        isDisabled={true}\r\n                                    ></FormSelectSearch> */}\r\n                                    <FormInput\r\n                                        formGroupClassName=\"remove-floating-label-margin\"\r\n                                        name={`${selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"].items && selectedRecordview[\"groupList\"][groupIndex][index][\"stestname\"].items.valuemember}`}\r\n                                        type=\"text\"\r\n                                        value={selectedRecordview[\"groupList\"][groupIndex][index] &&\r\n                                            selectedRecordview[\"groupList\"][groupIndex][index]\r\n                                            [selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"] &&\r\n                                                selectedRecordview[\"groupList\"][groupIndex][index][\"orderresulttype\"].value == 1 ? 'ndiagnosticcasecode' : 'ngradecode'].label || \"\"} disabled={true}\r\n                                    />\r\n                                </Col>\r\n\r\n                            </>\r\n                        }\r\n                    </Row>\r\n                </>\r\n            )\r\n        });\r\n        return design;\r\n    }\r\n    generateRandomColor() {\r\n        var letters = '0123456789ABCDEF';\r\n        var color = '#';\r\n        for (var i = 0; i < 6; i++) {\r\n            color += letters[Math.floor(Math.random() * 16)];\r\n        }\r\n        return color;\r\n    }\r\n    ruleflowobject() {\r\n        let object = {}\r\n        const labelColor = ['#e63109', '#2fb47d', '#eaa203', '#6554c0'];\r\n        const labelBGColor = ['#fcd7cd', '#e5f8f1', '#fcf3dd', '#e7e6f5'];\r\n        const borderColor = ['#e6310', '#c6f6e4', '#fde2a4', '#cbc5f7'];\r\n        let groupList = this.props.Login.masterData.SelectedRulesEngine['jsondata']\r\n        let groupListJoins = this.props.Login.masterData.SelectedRulesEngine['jsonuidata'] &&\r\n            this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['groupListJoins']\r\n        let children = []\r\n        let parent = []\r\n        let grandparent = []\r\n        // groupList.map((groupobject, index) => {\r\n        //     if (groupobject.hasOwnProperty('button_or')) {\r\n        //         children = []\r\n        //         let rulesList = groupobject['button_or']\r\n        //         rulesList.map((rule, index) => {\r\n        //             children.push({ id: index, label: rule['stestname'].label })\r\n        //         })\r\n        //         parent.push({ id: index, label: 'button_or', children: children })\r\n        //     }\r\n        //     if (groupobject.hasOwnProperty('button_and')) {\r\n        //         children = []\r\n        //         let rulesList = groupobject['button_and']\r\n        //         rulesList.map((rule, index) => {\r\n        //             children.push({ id: index, label: rule['stestname'].label })\r\n        //         })\r\n        //         parent.push({ id: index, label: 'button_and', children: children })\r\n        //     }\r\n        // })\r\n        groupList.map((groupobject, index) => {\r\n            if (groupobject.hasOwnProperty('button_or')) {\r\n                children = []\r\n                let rulesList = groupobject['button_or']\r\n                rulesList.map((rule, index) => {\r\n                    children.push(\r\n                        //     {\r\n                        //     id: index, label: rule['stestname'].label, children: [\r\n                        //         {\r\n                        //             id: 0, label: this.props.intl.formatMessage({ id: \"IDS_WITH\" }), children: [\r\n                        //                 {\r\n                        //                     id: 0, label: rule['orderresulttype'].label, children: [\r\n\r\n                        //                         {\r\n                        //                             id: 0, label: rule['ssymbolname'].label, children: [\r\n                        //                                 {\r\n                        //                                     id: 0, label: rule['ndiagnosticcasecode'] ? rule['ndiagnosticcasecode'].label :\r\n                        //                                         rule['ngradecode'].label, children: []\r\n                        //                                 }\r\n                        //                             ]\r\n                        //                         }\r\n\r\n                        //                     ]\r\n                        //                 }\r\n                        //             ]\r\n                        //         }\r\n                        //     ]\r\n                        // }\r\n                        {\r\n                            id: index, label: <>{(rule['stestname'].label) + \" -> \" + (this.props.intl.formatMessage({ id: \"IDS_WITH\" })) + \" -> \" +\r\n                                (rule['orderresulttype'].label) + \" -> \" +\r\n                                (rule['ssymbolname'].label) + \" -> \" + (rule['orderresulttype'].value === 1 ? rule['ndiagnosticcasecode'].label :\r\n                                    rule['ngradecode'].label)\r\n\r\n                            }</>\r\n                        }\r\n                    )\r\n                })\r\n                parent.push({ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_OR\" })}</div>, children: children })\r\n            }\r\n            if (groupobject.hasOwnProperty('button_and')) {\r\n                children = []\r\n                let rulesList = groupobject['button_and']\r\n                rulesList.map((rule, index) => {\r\n                    children.push(\r\n                        // {\r\n                        //     id: index, label: rule['stestname'].label, children: [\r\n                        //         {\r\n                        //             id: 0, label: this.props.intl.formatMessage({ id: \"IDS_WITH\" }), children: [\r\n                        //                 {\r\n                        //                     id: 0, label: rule['orderresulttype'].label, children: [\r\n\r\n                        //                         {\r\n                        //                             id: 0, label: rule['ssymbolname'].label, children: [\r\n                        //                                 {\r\n                        //                                     id: 0, label: rule['ndiagnosticcasecode'] ? rule['ndiagnosticcasecode'].label :\r\n                        //                                         rule['ngradecode'].label, children: []\r\n                        //                                 }\r\n                        //                             ]\r\n                        //                         }\r\n\r\n                        //                     ]\r\n                        //                 }\r\n                        //             ]\r\n                        //         }\r\n                        //     ]\r\n                        // }\r\n                        {\r\n                            id: index, label: <>{\r\n\r\n                                (rule['stestname'].label) + \" -> \" + (this.props.intl.formatMessage({ id: \"IDS_WITH\" })) + \" -> \" +\r\n                                (rule['orderresulttype'].label) + \" -> \" +\r\n                                (rule['ssymbolname'].label) + \" -> \" + (rule['orderresulttype'].value === 1 ? rule['ndiagnosticcasecode'].label :\r\n                                    rule['ngradecode'].label)\r\n\r\n\r\n                            }</>\r\n                        }\r\n                    )\r\n                })\r\n                parent.push({ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_AND\" })}</div>, children: children })\r\n            }\r\n            if (groupobject.hasOwnProperty('button_not_button_and')) {\r\n                children = []\r\n                let rulesList = groupobject['button_not_button_and']\r\n                rulesList.map((rule, index) => {\r\n                    children.push(\r\n                        {\r\n                            id: index, label: <>{(rule['stestname'].label) + \" -> \" + (this.props.intl.formatMessage({ id: \"IDS_WITH\" })) + \" -> \" +\r\n                                (rule['orderresulttype'].label) + \" -> \" +\r\n                                (rule['ssymbolname'].label) + \" -> \" + (rule['orderresulttype'].value === 1 ? rule['ndiagnosticcasecode'].label :\r\n                                    rule['ngradecode'].label)\r\n\r\n                            }</>\r\n                        }\r\n                    )\r\n                })\r\n                let notarray = [{ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_AND\" })}</div>, children: children }]\r\n                parent.push({ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_NOT\" })}</div>, children: notarray })\r\n            }\r\n            if (groupobject.hasOwnProperty('button_not_button_or')) {\r\n                children = []\r\n                let rulesList = groupobject['button_not_button_or']\r\n                rulesList.map((rule, index) => {\r\n                    children.push(\r\n                        {\r\n                            id: index, label: <>{(rule['stestname'].label) + \" -> \" + (this.props.intl.formatMessage({ id: \"IDS_WITH\" })) + \" -> \" +\r\n                                (rule['orderresulttype'].label) + \" -> \" +\r\n                                (rule['ssymbolname'].label) + \" -> \" + (rule['orderresulttype'].value === 1 ? rule['ndiagnosticcasecode'].label :\r\n                                    rule['ngradecode'].label)\r\n\r\n                            }</>\r\n                        }\r\n                    )\r\n                })\r\n                let notarray = [{ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_OR\" })}</div>, children: children }]\r\n                parent.push({ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_NOT\" })}</div>, children: notarray })\r\n            }\r\n            // if (groupListJoins.length > 0) {\r\n            //     if (groupListJoins[index]) {\r\n            //         if (groupListJoins[index].hasOwnProperty('button_or') &&\r\n            //             groupListJoins[index]['button_or'] === true) {\r\n            //             grandparent.push({ id: index, label: 'button_or', children: parent })\r\n            //         }\r\n            //         if (groupListJoins[index].hasOwnProperty('button_and') &&\r\n            //             groupListJoins[index]['button_and'] === true) {\r\n            //             grandparent.push({ id: index, label: 'button_and', children: parent })\r\n            //         }\r\n            //     }\r\n            // }\r\n        })\r\n\r\n        if (groupListJoins !== undefined) {\r\n            // groupListJoins.map((join, index) => {\r\n            //     if (index > 0) {\r\n            //         if (parent[index].hasOwnProperty('children')) {\r\n            //             return parent[index]['children'].map(rule => {\r\n            //                 return rule['label'] = <div //className=\"rulesengine-btn-primary\"\r\n            //                     //style={{ color: \"#fff\", background: this.generateRandomColor(),borderRadius: '0.25rem' }} \r\n            //                     >{rule['label']}</div>;\r\n            //             })\r\n            //         }\r\n            //     }\r\n            // })\r\n            groupListJoins.map((join, index) => {\r\n                let parentjoins = []\r\n                if (join.hasOwnProperty('button_or') && join['button_or'] === true) {\r\n                    let notarray = []\r\n                    parentjoins.push(parent[index])\r\n                    parentjoins.push(parent[index + 1])\r\n                    if (join.hasOwnProperty('button_not') && join['button_not'] === true) {\r\n                        notarray = [{\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_OR\" })} </div>// 'button_or'\r\n                            , children: parentjoins\r\n                        }]\r\n                        grandparent.push({\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_NOT\" })} </div>// 'button_or'\r\n                            , children: notarray\r\n                        })\r\n                    }\r\n                    else {\r\n                        grandparent.push({\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_OR\" })} </div>// 'button_or'\r\n                            , children: parentjoins\r\n                        })\r\n                    }\r\n                }\r\n                if (join.hasOwnProperty('button_and') && join['button_and'] === true) {\r\n                    let notarray = []\r\n                    parentjoins.push(parent[index])\r\n                    parentjoins.push(parent[index + 1])\r\n                    if (join.hasOwnProperty('button_not') && join['button_not'] === true) {\r\n                        notarray = [{\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_AND\" })} </div>// 'button_or'\r\n                            , children: parentjoins\r\n                        }]\r\n                        grandparent.push({\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_NOT\" })} </div>// 'button_or'\r\n                            , children: notarray\r\n                        })\r\n                    }\r\n                    else {\r\n                        grandparent.push({\r\n                            id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_AND\" })}</div>// 'button_and'\r\n                            , children: parentjoins\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n\r\n        // groupListJoins.map((join, index) => {\r\n        //     if (join.hasOwnProperty('button_or') && join['button_or'] === true) {\r\n        //         parent = []\r\n        //         groupList.map((groupobject, index) => {\r\n        //             if (groupobject.hasOwnProperty('button_or')) {\r\n        //                 children = []\r\n        //                 let rulesList = groupobject['button_or']\r\n        //                 rulesList.map((rule, index) => {\r\n        //                     children.push({ id: index, label: rule['stestname'].label })\r\n        //                 })\r\n        //                 return parent.push({ id: index, label: 'button_or', children: children })\r\n        //             }\r\n        //         })\r\n        //         grandparent.push({ id: index, label: 'button_or', children: parent })\r\n        //     }\r\n        //     if (join.hasOwnProperty('button_and') && join['button_and'] === true) {\r\n        //         parent = []\r\n        //         groupList.map((groupobject, index) => {\r\n        //             if (groupobject.hasOwnProperty('button_and')) {\r\n        //                 children = []\r\n        //                 let rulesList = groupobject['button_and']\r\n        //                 rulesList.map((rule, index) => {\r\n        //                     children.push({ id: index, label: rule['stestname'].label })\r\n        //                 })\r\n        //                 return parent.push({ id: index, label: 'button_and', children: children })\r\n        //             }\r\n        //         })\r\n        //         grandparent.push({ id: index, label: 'button_and', children: parent })\r\n        //     }\r\n        // })\r\n\r\n        object = grandparent.length > 0 ?\r\n            {\r\n                id: 0,\r\n                label: <div className=\"btn btn-primary\" >{this.props.Login.masterData.SelectedRulesEngine.srulename} </div>,\r\n                children: grandparent\r\n            }\r\n            : {\r\n                id: 0,\r\n                label: <div className=\"btn btn-primary\" >{this.props.Login.masterData.SelectedRulesEngine.srulename} </div>,\r\n                children: parent\r\n            }\r\n        return object\r\n    }\r\n    // ruleflowobject() {\r\n    //     let object = {}\r\n    //     let groupList = this.props.Login.masterData.SelectedRulesEngine['jsondata']\r\n    //     let groupListJoins = this.props.Login.masterData.SelectedRulesEngine['jsonuidata'] &&\r\n    //         this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['groupListJoins']\r\n    //     let child = []\r\n    //     let children = []\r\n    //     // let parentor = []\r\n    //     // let parentand = []\r\n    //     let parent = []\r\n    //     groupList.map((ruleslist, index) => {\r\n\r\n    //         if (ruleslist.hasOwnProperty('button_or')) {\r\n    //             children = []\r\n    //             let rules = ruleslist['button_or']\r\n    //             // if (groupListJoins.length > 0) {\r\n    //             //     rules.map((rule, index) => {\r\n    //             //         children.push({ id: index + 1, label: rule['stestname'].label })\r\n    //             //     })\r\n    //             // }\r\n    //             // else {\r\n    //             rules.map((rule, index) => {\r\n    //                 children.push({ id: index + 1, label: rule['stestname'].label })\r\n    //             })\r\n    //             parent.push({ id: index + 1, label: 'button_or', children: children })\r\n    //             //  }\r\n    //         }\r\n    //         if (ruleslist.hasOwnProperty('button_and')) {\r\n    //             children = []\r\n    //             let rules = ruleslist['button_and']\r\n    //             // if (groupListJoins.length > 0) {\r\n    //             //     rules.map((rule, index) => {\r\n    //             //         children.push({ id: index + 1, label: rule['stestname'].label })\r\n    //             //     })\r\n    //             // }\r\n    //             // else {\r\n    //             rules.map((rule, index) => {\r\n    //                 children.push({ id: index + 1, label: rule['stestname'].label })\r\n    //             })\r\n    //             parent.push({ id: index + 1, label: 'button_and', children: children })\r\n    //             //  }\r\n    //         }\r\n    //     })\r\n    //     groupListJoins.map((join, index) => {\r\n    //         if (join.hasOwnProperty('button_or') && join['button_or'] === true) {\r\n    //             child.push({ id: index + 1, label: 'button_or', children: parent })\r\n    //         }\r\n    //         if (join.hasOwnProperty('button_and') && join['button_and'] === true) {\r\n    //             child.push({ id: index + 1, label: 'button_and', children: parent })\r\n    //         }\r\n    //     })\r\n\r\n    //     object =  child.length > 0 ?\r\n    //      {\r\n    //         id: 0,\r\n    //         label: 'root',\r\n    //         children: child\r\n    //     } \r\n    //     : {\r\n    //         id: 0,\r\n    //         label: 'root',\r\n    //         children: parent\r\n    //     }\r\n    //     // object = {\r\n    //     //     id: 0,\r\n    //     //     label: 'button_or',\r\n    //     //     children: [{\r\n    //     //         id: 1,\r\n    //     //         label: 'Complete Blood Count(Complete Blood Count)'\r\n    //     //     }, {\r\n    //     //         id: 2,\r\n    //     //         label: 'H-A1C-Pre(kk-2)'\r\n    //     //     }]\r\n    //     // }\r\n    //     console.log('view object:',JSON.stringify(object))\r\n    //     return object\r\n    // }\r\n    createGroupRulesview() {\r\n        let indexCount = 0;\r\n        let design = [];\r\n        let groupList = this.props.Login.masterData.SelectedRulesEngine['jsondata'].hasOwnProperty('button_and') ?\r\n            this.props.Login.masterData.SelectedRulesEngine['jsondata']['button_and'] : this.props.Login.masterData.SelectedRulesEngine['jsondata']['button_or']\r\n        let selectedRecordview = {}\r\n        let selectedRecordviewflag = {}\r\n        selectedRecordview[\"groupList\"] = []\r\n        groupList.map((ruleslist, index) => {\r\n\r\n            if (ruleslist.hasOwnProperty('button_or')) {\r\n                selectedRecordview[\"groupList\"][index] = ruleslist[\"button_or\"]\r\n                selectedRecordview[\"groupList\"][index][\"button_or\"] = true\r\n            }\r\n            if (ruleslist.hasOwnProperty('button_and')) {\r\n                selectedRecordview[\"groupList\"][index] = ruleslist[\"button_and\"]\r\n                selectedRecordview[\"groupList\"][index][\"button_and\"] = true\r\n            }\r\n        })\r\n\r\n        if (this.props.Login.masterData.SelectedRulesEngine['jsondata'].hasOwnProperty('button_and')) {\r\n            selectedRecordviewflag[\"groupList\"] = {}\r\n            selectedRecordviewflag[\"groupList\"][\"button_and\"] = true\r\n        }\r\n        else {\r\n            selectedRecordviewflag[\"groupList\"] = {}\r\n            selectedRecordviewflag[\"groupList\"][\"button_or\"] = true\r\n        }\r\n        console.log('props.addGroupList->', this.props.Login.masterData.SelectedRulesEngine['jsonuidata'].addGroupList)\r\n        this.props.Login.masterData.SelectedRulesEngine['jsonuidata'].addGroupList.length > 0 && this.props.Login.masterData.SelectedRulesEngine['jsonuidata'].addGroupList.map((items, index) => {\r\n            if (items > -1) {\r\n                indexCount = indexCount + 1;\r\n            };\r\n            design.push(\r\n                <>\r\n                    {items > -1 ?\r\n                        <>  {index > 0 ? selectedRecordviewflag[\"groupList\"]['button_or'] === true ?\r\n                            <ContionalButton type=\"button\" className={\"builder-btn-primary\"} marginLeft={0}\r\n                            >\r\n                                <span><FormattedMessage id=\"IDS_OR\" defaultMessage=\"Or\" /></span>\r\n                            </ContionalButton> :\r\n                            selectedRecordviewflag[\"groupList\"]['button_and'] === true ?\r\n                                <ContionalButton type=\"button\" className={\"builder-btn-primary\"} marginLeft={0}\r\n                                >\r\n                                    <span><FormattedMessage id=\"IDS_AND\" defaultMessage=\"And\" /></span>\r\n                                </ContionalButton> : \"\" : \"\"} <BuilderBorder  >\r\n                                <>\r\n                                    {this.createRulesView(items, index, selectedRecordview)}\r\n                                </>\r\n\r\n                            </BuilderBorder>\r\n                        </> : <></>\r\n                    }\r\n\r\n\r\n                </>)\r\n        });\r\n\r\n        return design;\r\n    }\r\n    changePropertyViewClose = (id) => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                activeTabIndex: undefined,\r\n                activeTestTab: undefined,\r\n                activeTabId: id\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    componentWillUnmount() {\r\n        let activeTabIndex = this.props.Login.activeTabIndex\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                activeTabIndex: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n\r\n        let { filterData, activeTabIndex, activeTabId, selectedcombo } = this.state;\r\n        if (this.props.Login.queryData !== previousProps.Login.queryData) {\r\n            this.setState({\r\n                data: this.props.Login.queryData,\r\n                dataResult: process(this.props.Login.queryData, this.state.dataState)\r\n            });\r\n        }\r\n        if (this.props.Login.needoutsource !== previousProps.Login.needoutsource) {\r\n            this.setState({\r\n                needoutsource: this.props.Login.needoutsource\r\n            });\r\n        }\r\n\r\n        if (this.props.Login.activeTabIndex !== previousProps.Login.activeTabIndex || this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.activeTabIndex !== previousProps.Login.activeTabIndex) {\r\n                activeTabIndex = this.props.Login.activeTabIndex;\r\n                activeTabId = this.props.Login.activeTabId;\r\n                this.setState({\r\n                    activeTabIndex,\r\n                    activeTabId\r\n                });\r\n            }\r\n        }\r\n        if (this.props.Login.masterData.ProductCategory !== previousProps.Login.masterData.ProductCategory) {\r\n            const ProductCategory = constructOptionList(this.props.Login.masterData.ProductCategory || [], \"nproductcatcode\",\r\n                \"sproductcatname\", undefined, undefined, undefined);\r\n            let ProductCategoryList = ProductCategory.get(\"OptionList\");\r\n            this.setState({\r\n                ProductCategoryList\r\n            });\r\n        }\r\n\r\n        if (this.props.Login.masterData.queryDataMain !== previousProps.Login.masterData.queryDataMain) {\r\n            if (this.props.Login.masterData.queryDataMain !== undefined) {\r\n                this.setState({\r\n                    dataMainList: this.props.Login.masterData.queryDataMain,\r\n                    dataResultMain: process(this.props.Login.masterData.queryDataMain === null ? [] : this.props.Login.masterData.queryDataMain, this.state.dataStateMain)\r\n                });\r\n            }\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.masterData.queryTypeCode !== previousProps.Login.masterData.queryTypeCode) {\r\n            filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n        if (this.props.Login.masterData.SelectedProductCategory !== previousProps.Login.masterData.SelectedProductCategory) {\r\n            if (this.props.Login.masterData.SelectedProductCategory) {\r\n                const ProductCategory = constructOptionList(this.props.Login.masterData.ProductCategory || [], \"nproductcatcode\",\r\n                    \"sproductcatname\", undefined, undefined, undefined);\r\n                let ProductCategoryList = ProductCategory.get(\"OptionList\");\r\n                let nproductcatcode = this.props.Login.masterData.SelectedProductCategory.nproductcatcode\r\n                selectedcombo['nproductcatcode'] = ProductCategoryList.filter(x => { return x.value === nproductcatcode })[0]\r\n                filterData = this.generateBreadCrumData();\r\n                this.setState({ filterData, selectedcombo });\r\n            }\r\n            else {\r\n                filterData = this.generateBreadCrumData();\r\n                this.setState({ filterData });\r\n            }\r\n\r\n\r\n        }\r\n        // if(this.props.Login.testInitiateSiteTab&&this.props.Login.testInitiateSiteTab.length>0)\r\n        // {\r\n        //     const updateInfo = {\r\n        //         typeName: DEFAULT_RETURN,\r\n        //         data: {\r\n        //             testInitiateSiteTab: []\r\n        //         }\r\n        //     }\r\n        //     this.props.updateStore(updateInfo);\r\n        // }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ controlMap, userRoleControlRights });\r\n        }\r\n\r\n    }\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.queryTypeCode) {\r\n\r\n            const item = this.state.queryType.filter(item => item.nquerytypecode === this.props.Login.masterData.queryTypeCode);\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_QUERYTYPE\",\r\n                    \"value\": this.props.Login.masterData.queryTypeCode ?\r\n                        item[0].squerytypename : \"\"\r\n                }\r\n            );\r\n        }\r\n        if (this.props.Login.masterData && this.props.Login.masterData.SelectedProductCategory) {\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_SAMPLECATEGORY\",\r\n                    \"value\": this.props.Login.masterData.SelectedProductCategory ?\r\n                        this.props.Login.masterData.SelectedProductCategory.sproductcatname : \"\"\r\n                }\r\n            );\r\n        }\r\n        else {\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_SAMPLECATEGORY\",\r\n                    \"value\": \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n    fieldsForGrid() {\r\n        return this.props.Login.activeTabIndex == 1 ? [\r\n            { \"idsName\": \"IDS_FROMSITE\", \"dataField\": \"sfromsitename\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_TOSITE\", \"dataField\": \"stositename\", \"width\": \"200px\" }\r\n        ] : [\r\n            { \"idsName\": \"IDS_COMMENTSUBTYPE\", \"dataField\": \"scommentsubtype\", \"width\": \"200px\" },\r\n            this.props.Login.activeTabIndex == 2 ? { \"idsName\": \"IDS_TESTCOMMENTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" } :\r\n                { \"idsName\": \"IDS_REPORTCOMMENTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" }\r\n        ];\r\n    }\r\n\r\n    render() {\r\n\r\n        const addId = this.state.controlMap.has(\"Add Rules Engine\") && this.state.controlMap.get(\"Add Rules Engine\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit Rules Engine\") && this.state.controlMap.get(\"Edit Rules Engine\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete Rules Engine\") && this.state.controlMap.get(\"Delete Rules Engine\").ncontrolcode;\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        this.props.Login.masterData.RulesEngine = this.props.Login.masterData.RulesEngine &&\r\n            sortData(this.props.Login.masterData.RulesEngine, \"descending\", \"ntransactionrulesenginecode\")\r\n        this.props.Login.masterData.searchedData = this.props.Login.masterData.searchedData &&\r\n            sortData(this.props.Login.masterData.searchedData, \"descending\", \"ntransactionrulesenginecode\")\r\n        let gridColumnListMain = [];\r\n\r\n        if (this.props.Login.masterData && this.props.Login.masterData.columnList && this.props.Login.masterData.columnList.length > 0) {\r\n            this.props.Login.masterData.columnList.forEach(item => {\r\n                gridColumnListMain.push({ idsName: item.items.displayname[this.props.Login.userInfo.slanguagetypecode], dataField: item.items.stestname, width: '200px' })\r\n            })\r\n        }\r\n        let selectedQueryType = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.queryTypeCode) {\r\n\r\n            selectedQueryType = this.state.queryType.filter(item => item.nquerytypecode === this.props.Login.masterData.queryTypeCode);\r\n        }\r\n        const filterParam = {\r\n            inputListName: \"RulesEngine\", selectedObject: \"SelectedRulesEngine\", primaryKeyField: \"ntransactionrulesenginecode\",\r\n            fetchUrl: \"rulesengine/getSelectedRulesEngine\", fecthInputObject: {\r\n                userinfo: this.props.Login.userInfo,\r\n                nproductcatcode: this.props.Login.masterData.SelectedProductCategory && this.props.Login.masterData.SelectedProductCategory.nproductcatcode\r\n            },\r\n\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"srulename\", \"stransdisplaystatus\"]\r\n        };\r\n\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                    <Row noGutters={true}>\r\n                        <Col md=\"4\">\r\n                            <ListMaster\r\n                                masterData={this.props.Login.masterData || []}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_QUERYBUILDER\" })}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.RulesEngine}\r\n                                getMasterDetail={(param) => this.props.getSelectedRulesEngine(param, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.SelectedRulesEngine || this.props.Login.SelectedRulesEngine}\r\n                                primaryKeyField=\"ntransactionrulesenginecode\"\r\n                                mainField=\"srulename\"\r\n                                firstField=\"stransdisplaystatus\"\r\n                                //secondField={\"stransdisplaystatus\"}\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                openModal={this.getRulesEngineAdd}\r\n                                // openModal={() => this.props.getSQLQueryComboService(\"\", \"create\", \"nsqlquerycode\", null,\r\n                                //     this.props.Login.masterData, this.props.Login.userInfo,\r\n                                //     this.props.Login.masterData.SelectedQueryType.nquerytypecode,                                   \r\n                                //     addId)} \r\n                                //{() => this.props.addTest(\"create\", selectedTest, userInfo, addId, this.state.nfilterTestCategory)} Already commented\r\n                                needAccordianFilter={false}\r\n                                // skip={this.state.skip}\r\n                                // take={this.state.take}\r\n                                handlePageChange={this.handlePageChange}\r\n                                showFilterIcon={true}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n                                showBuildQuery={false}\r\n                                builderData={this.getRulesEngineAdd}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_QUERYTYPEFILTER\":\r\n                                            <RuleEngineQueryTypeFilter\r\n                                                queryType={this.state.ProductCategoryList || []}\r\n                                                selectedRecord={this.state.selectedcombo || {}}\r\n                                                onComboChange={this.onComboChange}\r\n                                                filterQueryType={selectedQueryType[0]}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md=\"8\">\r\n                            <ProductList className=\"panel-main-content\">\r\n                                {this.props.Login.masterData.SelectedRulesEngine && this.props.Login.masterData.SelectedRulesEngine ?\r\n                                    <Card className=\"border-0\">\r\n                                        <Card.Header>\r\n                                            <Card.Title className=\"product-title-main\">{this.props.Login.masterData.SelectedRulesEngine.srulename}</Card.Title>\r\n                                            <Card.Subtitle>\r\n                                                <ProductList className=\"d-flex product-category icon-group-wrap\">\r\n                                                    <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                        <MediaLabel >\r\n                                                            {this.props.intl.formatMessage({ id: \"IDS_STATUS\" })} :\r\n                                                        </MediaLabel>\r\n                                                        <MediaLabel\r\n                                                            className={`btn btn-outlined ${this.props.Login.masterData.SelectedRulesEngine.ntransactionstatus === transactionStatus.APPROVED ? \"outline-success\" :\r\n                                                                this.props.Login.masterData.SelectedRulesEngine.ntransactionstatus === transactionStatus.RETIRED ? \"outline-danger\" :\r\n                                                                    \"outline-secondary\"} btn-sm ml-3`}\r\n                                                        // className={`btn btn-outlined  outline-success  btn-sm ml-3`}\r\n                                                        >\r\n                                                            {this.props.Login.masterData.SelectedRulesEngine.stransdisplaystatus}\r\n                                                        </MediaLabel>\r\n\r\n                                                    </h2>\r\n\r\n                                                    <div className=\"d-inline \">\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                            //  data-for=\"tooltip_list_wrap\"\r\n                                                            onClick={(e) =>\r\n                                                                this.props.getEditRulesEngine(\r\n                                                                    \"update\", this.props.Login.masterData, editId, this.props.Login.userInfo\r\n                                                                )\r\n                                                            }\r\n                                                        >\r\n                                                            <FontAwesomeIcon icon={faPencilAlt}\r\n                                                                title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            //   data-for=\"tooltip_list_wrap\"\r\n                                                            onClick={() => this.ConfirmDelete(deleteId)}\r\n                                                        >\r\n                                                            <FontAwesomeIcon icon={faTrashAlt} />\r\n\r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                            // hidden={props.userRoleControlRights.indexOf(approveVersionId) === -1}\r\n                                                            onClick={() => this.approveVersion(this.props.Login.masterData, 1)}\r\n                                                        >\r\n                                                            <FontAwesomeIcon icon={faThumbsUp} />\r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_RETIRE\" })}\r\n                                                            // hidden={props.userRoleControlRights.indexOf(approveVersionId) === -1}\r\n                                                            onClick={() => this.approveVersion(this.props.Login.masterData, 2)}\r\n                                                        >\r\n                                                            <Reject className=\"custom_icons\" width=\"20\" height=\"20\" />\r\n                                                        </Nav.Link>\r\n\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_VIEW\" })}\r\n                                                            // hidden={props.userRoleControlRights.indexOf(approveVersionId) === -1}\r\n                                                            onClick={() => this.openflowview()}\r\n                                                        >\r\n                                                            <FontAwesomeIcon icon={faEye} />\r\n                                                        </Nav.Link>\r\n\r\n                                                    </div>\r\n                                                </ProductList>\r\n                                            </Card.Subtitle>\r\n\r\n                                        </Card.Header>\r\n\r\n                                    </Card>\r\n                                    : \"\"}\r\n                                {this.props.Login.masterData.SelectedRulesEngine &&\r\n                                    <CustomTab tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />}\r\n                            </ProductList>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n\r\n                {\r\n                    this.props.Login.openPortalModal &&\r\n                    <PortalModalSlideout\r\n                        show={this.props.Login.openPortalModal}\r\n                        closeModal={this.closePortalModal}\r\n                        screenName={this.props.Login.screenName}\r\n                        handleSaveClick={this.save}\r\n                        addComponent={\r\n                            (this.props.Login.operation === 'update' ? this.state.selectedRecord['groupList'] : true) &&\r\n                            <AddRule\r\n                                productCategoryList={this.state.ProductCategoryList || []}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                databaseTableList={this.props.Login.databaseTableList}\r\n                                tableColumnList={this.state.tableColumnList}\r\n                                foreignTableList={this.state.foreignTableList || []}\r\n                                foreignTableColumnList={this.props.Login.foreignTableColumnList || []}\r\n                                // validationData={validationData}\r\n                                count={this.state.count}\r\n                                foreignTableCount={this.state.foreignTableCount}\r\n                                sqlQuery={this.state.sqlQuery}\r\n                                // viewMasterListByRule={this.props.Login.viewMasterListByRule&&this.props.Login.viewMasterListByRule.filter((x,i)=>{return x.value===this.props.Login.testInitiateTests[i]}) || []}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                onInputChange={this.onInputChange}\r\n                                deleteRule={this.deleteRule}\r\n                                clearRule={this.clearRule}\r\n                                resetRule={this.resetRule}\r\n                                onSymbolChange={this.onSymbolChange}\r\n                                // onForeignTableChange={this.onForeignTableChange}\r\n                                // addJoinTable={this.addJoinTable} \r\n\r\n                                onRuleChange={this.onRuleChange}\r\n\r\n                                addRule={this.addRule}\r\n                                addTest={this.addTest}\r\n                                onConditionClick={this.onConditionClick}\r\n                                onMasterDataChange={this.onMasterDataChange}\r\n                                databaseviewList={this.props.Login.databaseviewList}\r\n                                addRuleList={this.props.Login.addRuleList || []}\r\n                                rulesOption={this.props.Login.rulesOption}\r\n                                //viewColumnListByRule={this.props.Login.viewColumnListByRule || []}\r\n                                // viewColumnListByRule={this.props.Login.viewColumnListByRule && this.props.Login.viewColumnListByRule.filter((x, i) => { return x.value === this.props.Login.testInitiateTests[i] }) || []}\r\n                                viewColumnListByRule={this.props.Login.viewColumnListByRule && this.viewColumnListByRule(this.props.Login.viewColumnListByRule) //this.props.Login.viewColumnListByRule && this.props.Login.viewColumnListByRule\r\n                                }\r\n                                masterdata={this.props.Login.masterdata}\r\n                                switchRecord={this.state.switchRecord}\r\n                                data={this.state.data}\r\n                                dataResult={this.state.dataResult || []}\r\n                                dataState={this.state.dataState}\r\n                                dataStateChange={this.dataStateChange}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                gridColumnList={this.props.Login.gridColumnList || []}\r\n                                queryType={this.state.queryType}\r\n                                addAggregateList={this.props.Login.addAggregateList || []}\r\n                                addOrderbyList={this.props.Login.addOrderbyList || []}\r\n                                addGroup={this.addGroup}\r\n                                addGroupList={this.props.Login.addGroupList || []}\r\n                                onFilterComboChange={this.onFilterComboChange}\r\n                                selectFields={this.props.Login.selectFields || []}\r\n                                SelectedProductCategory={this.props.Login.masterData.SelectedProductCategory}\r\n                                DiagnosticCaseList={this.props.Login.DiagnosticCaseList}\r\n                                GradeList={this.props.Login.GradeList}\r\n                                siteList={this.props.Login.siteList}\r\n                                resultTypeList={this.props.Login.resultTypeList}\r\n                                isResultorOrderType={this.state.isResultorOrderType}\r\n                                optionsByRule={this.state.optionsByRule || this.props.Login.DiagnosticCaseList}\r\n                                //sideNavDetail={this.sideNavDetail}\r\n                                changePropertyView={this.changePropertyView}\r\n                                splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                activeTabIndex={this.props.Login.activeTabIndex}\r\n                                enablePropertyPopup={this.state.enablePropertyPopup}\r\n                                propertyPopupWidth={this.state.propertyPopupWidth}\r\n                                controlMap={this.state.controlMap}\r\n                                sectionDataState={this.state.sectionDataState}\r\n                                masterData={this.props.Login.masterData}\r\n                                intl={this.props.intl}\r\n                                addOutcomeList={this.props.Login.addOutcomeList && this.props.Login.addOutcomeList || []}\r\n                                deleteOutcome={this.deleteOutcome}\r\n                                onmodalComboChange={this.onmodalComboChange}\r\n                                openModalPopup={this.props.Login.openModalPopup}\r\n                                closeModalShow={this.closeModalShow}\r\n                                modalsaveClick={this.modalsaveClick}\r\n                                getOutcomeDetails={this.getOutcomeDetails}\r\n                                addModalSite={this.addModalSite}\r\n                                action={this.props.Login.action}\r\n                                deletModalSite={this.deletModalSite}\r\n                                deleteModalTest={this.deleteModalTest}\r\n                                activeTestTab={this.props.Login.activeTestTab}\r\n                                testcomments={this.props.Login.testcomments}\r\n                                reportcomments={this.props.Login.reportcomments}\r\n                                addComments={this.addComments}\r\n                                CommentType={this.props.Login.CommentType}\r\n                                CommentSubType={this.props.Login.CommentSubType}\r\n                                isneedsgeneralcomments={this.state.isneedsgeneralcomments}\r\n                                predefcomments={this.props.Login.predefcomments}\r\n                                needoutsource={this.state.selectedRecord['needoutsource'] && this.state.selectedRecord['needoutsource'] === 3 ? true : false}\r\n                                openmodalsavePopup={this.props.Login.openmodalsavePopup}\r\n                                save={this.save}\r\n                                dataStateObject={this.state.dataStateObject}\r\n                                paneSizeChange={this.paneSizeChange}\r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n\r\n                {\r\n                    this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        className={\"wide-popup\"}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: \"IDS_VIEWRULE\" })}\r\n                        hideSave={true}\r\n                        size={'xl'}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        addComponent={\r\n                            this.props.Login.masterData.SelectedRulesEngine &&\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <OrgTree\r\n                                        data={this.ruleflowobject()}\r\n                                        horizontal={true}\r\n                                        collapsable={true}\r\n                                        expandAll={true}\r\n                                        labelClassName={\"ruletree\"}\r\n                                    //labelWidth={50}\r\n                                    />\r\n                                    {/* </BuilderBorder> */}\r\n\r\n                                </Col>\r\n                            </Row>\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n\r\n    closeModalShow = () => {\r\n        let openModalPopup = this.props.Login.openModalPopup;\r\n        let selectedRecord = this.props.Login.selectedRecord || {};\r\n        selectedRecord['srulename'] = \"\"\r\n        openModalPopup = false;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModalPopup, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo, nproductcatcode: this.props.Login.masterData.SelectedProductCategory.nproductcatcode },\r\n            classUrl: \"rulesengine\",\r\n            methodUrl: \"RulesEngine\",\r\n            displayName: \"IDS_RULESENGINE\",\r\n\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    onsavevalidation = (selectedRecord) => {\r\n        let grouplist = selectedRecord[\"groupList\"]\r\n        let hasAll = true;\r\n        for (var i = 0; i < grouplist.length; i++) {\r\n            let rules = grouplist[i]\r\n            for (var j = 0; j < rules.length; j++) {\r\n                let props = []\r\n                if (rules[j][\"orderresulttype\"] && rules[j][\"orderresulttype\"].value === 1) {\r\n                    props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ndiagnosticcasecode\"];\r\n                }\r\n                else {\r\n                    props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ngradecode\"];\r\n                }\r\n                hasAll = props.every(prop => rules[j].hasOwnProperty(prop));\r\n                if (hasAll === false) {\r\n                    break;\r\n                }\r\n            }\r\n            if (hasAll === false) {\r\n                break;\r\n            }\r\n        }\r\n        return hasAll\r\n    }\r\n    save = () => {\r\n        let inputData = [];\r\n        let siteObject = this.props.Login.siteObject || {};\r\n        let testCommentObject = this.props.Login.testCommentObject || {};\r\n        let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n\r\n        let testInitiateTests = this.props.Login.testInitiateTests || [];\r\n        let testCommentsTests = this.props.Login.testCommentsTests || [];\r\n        let reportCommentsTests = this.props.Login.reportCommentsTests || [];\r\n\r\n        const { selectedRecord } = this.state;\r\n        let rules = []\r\n        if (selectedRecord[\"nproductcatcode\"]) {\r\n            if (selectedRecord[\"groupList\"].length > 0) {\r\n                if (this.onsavevalidation(selectedRecord)) {\r\n                    if (selectedRecord[\"srulename\"] && selectedRecord[\"srulename\"] !== \"\" && this.props.Login.action !== 'update'\r\n                        && this.props.Login.action !== 'IDS_ADDTESTCOMMENTS' && this.props.Login.action !== 'IDS_ADDREPORTCOMMENTS'\r\n                        && this.props.Login.action !== 'IDS_ADDTEST' && this.props.Login.action !== 'IDS_ADDSITE'\r\n                    ) {\r\n\r\n                        if (selectedRecord[\"groupList\"]) {\r\n                            let groupList = [];\r\n                            let outcomeList = {};\r\n                            groupList = selectedRecord[\"groupList\"];\r\n\r\n                            outcomeList['groupList'] = groupList\r\n                            outcomeList['addGroupList'] = this.props.Login.addGroupList\r\n                            outcomeList['testInitiateTests'] = this.props.Login.testInitiateTests && this.props.Login.testInitiateTests\r\n                            outcomeList['testCommentsTests'] = this.props.Login.testCommentsTests && this.props.Login.testCommentsTests\r\n                            outcomeList['reportCommentsTests'] = this.props.Login.reportCommentsTests && this.props.Login.reportCommentsTests\r\n                            outcomeList['siteObject'] = this.props.Login.siteObject && this.props.Login.siteObject\r\n                            outcomeList['testCommentObject'] = this.props.Login.testCommentObject && this.props.Login.testCommentObject\r\n                            outcomeList['reportCommentObject'] = this.props.Login.reportCommentObject && this.props.Login.reportCommentObject\r\n                            outcomeList['testInitiateSiteTab'] = this.props.Login.testInitiateSiteTab && this.props.Login.testInitiateSiteTab\r\n                            outcomeList['testCommentsTestsTab'] = this.props.Login.testCommentsTestsTab && this.props.Login.testCommentsTestsTab\r\n                            outcomeList['reportCommentsTestsTab'] = this.props.Login.reportCommentsTestsTab && this.props.Login.reportCommentsTestsTab\r\n                            outcomeList['nproductcatcode'] = selectedRecord['nproductcatcode']\r\n                            outcomeList['groupListJoins'] = selectedRecord['groupListJoins']\r\n\r\n                            let ruleEngineLayout = []\r\n                            let ruleEngineLayoutObject = []\r\n                            let groupRuleObject = {}\r\n                            groupList.map((List) => {\r\n                                if (List.hasOwnProperty('button_or') && List['button_or'] === true) {\r\n                                    if (List.hasOwnProperty('button_not') && List['button_not'] === true) {\r\n                                        groupRuleObject['button_not_button_or'] = List\r\n                                    }\r\n                                    else {\r\n                                        groupRuleObject['button_or'] = List\r\n                                    }\r\n                                    // groupRuleObject['button_or'] = List\r\n                                    ruleEngineLayout.push(groupRuleObject)\r\n                                    groupRuleObject = {}\r\n                                }\r\n                                if (List.hasOwnProperty('button_and') && List['button_and'] === true) {\r\n                                    if (List.hasOwnProperty('button_not') && List['button_not'] === true) {\r\n                                        groupRuleObject['button_not_button_and'] = List\r\n                                    }\r\n                                    else {\r\n                                        groupRuleObject['button_and'] = List\r\n                                    }\r\n                                    //  groupRuleObject['button_and'] = List\r\n                                    ruleEngineLayout.push(groupRuleObject)\r\n                                    groupRuleObject = {}\r\n                                }\r\n                            })\r\n                            ruleEngineLayoutObject = groupList.hasOwnProperty('button_or') && groupList['button_or'] === true ?\r\n                                {\r\n                                    'button_or': ruleEngineLayout\r\n                                } : {\r\n                                    'button_and': ruleEngineLayout\r\n                                }\r\n                            console.log('savelist--->', JSON.stringify(ruleEngineLayoutObject))\r\n                            //  inputData['nproductcatcode'] = this.props.Login.masterData.SelectedProductCategory.nproductcatcode\r\n                            inputData['nproductcatcode'] = selectedRecord['nproductcatcode'].value\r\n                            inputData['srulename'] = selectedRecord['srulename']\r\n                            inputData['outcomeList'] = JSON.stringify(outcomeList)\r\n                            inputData['jsondata'] = JSON.stringify(ruleEngineLayout)\r\n                            inputData['userinfo'] = this.props.Login.userInfo\r\n                            if (this.props.Login.operation === 'update') {\r\n                                inputData['ntransactionrulesenginecode'] = this.props.Login.masterData.SelectedRulesEngine['ntransactionrulesenginecode']\r\n                            }\r\n                            const inputParam = {\r\n                                classUrl: \"rulesengine\",\r\n                                methodUrl: \"RulesEngine\",\r\n                                displayName: this.props.Login.inputParam.displayName,\r\n                                inputData: inputData,\r\n                                operation: this.props.Login.operation === 'create' ? 'create' : 'update'\r\n                            }\r\n                            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openPortalModal\");\r\n                        }\r\n                        else {\r\n                            toast.info(this.props.intl.formatMessage({ id: \"IDS_PLEASEADDRULE\" }));\r\n                        }\r\n\r\n                    }\r\n                    else {\r\n                        selectedRecord['srulename'] = selectedRecord['srulenamecopy'] || \"\"\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: { openModalPopup: true, selectedRecord, action: \"IDS_SAVERULEMODAL\", openmodalsavePopup: true }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                        //   toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERRULESENGINENAME\" }));\r\n\r\n                    }\r\n                } else {\r\n                    toast.info(this.props.intl.formatMessage({ id: \"IDS_COMPLETETHERULETOSAVE\" }));\r\n                }\r\n            }\r\n            else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_ATLEASTADDONERULE\" }));\r\n            }\r\n        }\r\n        else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTPRODUCTCATEGORY\" }));\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    // confirmDelete = (ncontrolCode) => {\r\n    //     this.confirmMessage.confirm(\"deleteMessage\",\r\n    //         this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n    //         this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n    //         this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n    //         this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n    //         () => this.deleteQB(\"delete\", ncontrolCode));\r\n    // };\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n\r\n        this.searchRef.current.value = \"\";\r\n\r\n        if (this.state.selectedcombo[\"nproductcatcode\"]) {\r\n            console.log(this.state.selectedcombo[\"nproductcatcode\"].value);\r\n        }\r\n        const nproductcatcode = this.state.selectedcombo[\"nproductcatcode\"] ?\r\n            this.state.selectedcombo[\"nproductcatcode\"].value : this.props.Login.masterData.queryTypeCode;\r\n\r\n        this.props.getRulesEngine(nproductcatcode, this.props.Login.userInfo, this.props.Login.masterData);\r\n\r\n\r\n    }\r\n\r\n    onFilterComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n        //  this.generateFilterQuery(selectedRecord);\r\n    }\r\n\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedcombo = this.state.selectedcombo || {};\r\n        selectedcombo[fieldName] = comboData;\r\n\r\n        this.setState({ selectedcombo });\r\n    }\r\n\r\n    onOutcomeChange = (comboData, index) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"outComeList\"] = []\r\n        selectedRecord[\"outComeList\"][index] = []\r\n        selectedRecord[\"outComeList\"][index] = comboData;\r\n        if (selectedRecord[\"outComeList\"][index]) {\r\n            this.setState({\r\n                selectedRecord\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    onRuleChange = (comboData, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        this.clearSelectedRule(selectedRecord, index);\r\n        const sqlQuery = this.props.Login.sqlQuery;\r\n        const oldselectedRecord = selectedRecord;\r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\r\n        const tableData = comboData.item;\r\n\r\n        if (selectedRecord[\"groupList\"][groupIndex][index][fieldName]) {\r\n            this.setState({\r\n                selectedRecord,\r\n                groupIndex,\r\n                index\r\n            });\r\n        }\r\n    }\r\n\r\n    onMasterDataChange = (comboData, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        let isResultorOrderType = [];\r\n        let optionsByRule = [];\r\n        if (this.state.optionsByRule && this.state.optionsByRule.length > 0) {\r\n            optionsByRule = this.state.optionsByRule\r\n        }\r\n        else {\r\n            optionsByRule[groupIndex] = [];\r\n            optionsByRule[groupIndex][index] = [];\r\n        }\r\n        if (this.state.isResultorOrderType && this.state.isResultorOrderType.length > 0) {\r\n            isResultorOrderType = this.state.isResultorOrderType\r\n        }\r\n        else {\r\n            isResultorOrderType[groupIndex] = [];\r\n            isResultorOrderType[groupIndex][index] = [];\r\n        }\r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\r\n        if (fieldName !== 'ndiagnosticcasecode' && fieldName !== 'ngradecode') {\r\n            if (isResultorOrderType[groupIndex] === undefined) {\r\n                isResultorOrderType[groupIndex] = [];\r\n                isResultorOrderType[groupIndex][index] = [];\r\n            }\r\n            isResultorOrderType[groupIndex][index] = comboData.value\r\n            if (optionsByRule[groupIndex] === undefined) {\r\n                optionsByRule[groupIndex] = [];\r\n                optionsByRule[groupIndex][index] = [];\r\n            }\r\n            if (isResultorOrderType[groupIndex][index] === 1) {\r\n                delete selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']\r\n                optionsByRule[groupIndex][index] = this.props.Login.DiagnosticCaseList\r\n            }\r\n            else {\r\n                delete selectedRecord[\"groupList\"][groupIndex][index]['ngradecode']\r\n                optionsByRule[groupIndex][index] = this.props.Login.GradeList\r\n            }\r\n            this.setState({ selectedRecord, isResultorOrderType, optionsByRule });\r\n        }\r\n\r\n        else {\r\n\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n    addRule = (type, groupIndex) => {\r\n        const { selectedRecord } = this.state;\r\n        let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n        const addGroupList = this.props.Login.addGroupList || [];\r\n        const arrayLength = addGroupList[groupIndex];\r\n        addGroupList[groupIndex] = arrayLength + 1;\r\n        selectedRecord[\"groupList\"][groupIndex][arrayLength] = {};\r\n        viewColumnListByRule = this.props.Login.viewColumnList || this.props.Login.databaseviewList;;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                addGroupList,\r\n                viewColumnListByRule\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    addTest = () => {\r\n        let openModalPopup = this.props.Login.openModalPopup;\r\n        let action = this.props.Login.action;\r\n        let selectedRecord = this.props.Login.selectedRecord || {}\r\n        delete selectedRecord['ntestparametercode']\r\n        delete selectedRecord['nsampletestcommentscode']\r\n        delete selectedRecord['ncommentsubtypecode']\r\n        delete selectedRecord['ncommenttypecode']\r\n        delete selectedRecord['sgeneralcomments']\r\n        delete selectedRecord['needoutsource']\r\n        if (this.props.Login.addGroupList.length > 0) {\r\n            action = \"IDS_ADDTEST\"\r\n            openModalPopup = true;\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup,\r\n                    action,\r\n                    selectedRecord,\r\n                    openmodalsavePopup: false\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLEASEADDRULETOADDOUTCOME\" }));\r\n        }\r\n\r\n    }\r\n    addComments = () => {\r\n        let openModalPopup = this.props.Login.openModalPopup;\r\n        let action = this.props.Login.action;\r\n        let selectedParameter = this.props.Login.masterData.selectedParameter || [];\r\n        let testparameter = this.props.Login.viewColumnListByRule || [];\r\n        let selectedRecord = this.props.Login.selectedRecord || {}\r\n        selectedRecord['ntestparametercode'] = {}\r\n        selectedRecord['ntestparametercode'] = testparameter.filter(x => { return x.value === selectedParameter.ntestparametercode })[0]\r\n\r\n        delete selectedRecord['nsampletestcommentscode']\r\n        delete selectedRecord['ncommentsubtypecode']\r\n        delete selectedRecord['ncommenttypecode']\r\n        delete selectedRecord['sgeneralcomments']\r\n\r\n\r\n        if (this.props.Login.addGroupList.length > 0) {\r\n            if (this.props.Login.activeTabIndex === 2) {\r\n                action = \"IDS_ADDTESTCOMMENTS\"\r\n            }\r\n            else {\r\n                action = \"IDS_ADDREPORTCOMMENTS\"\r\n            }\r\n            openModalPopup = true;\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup,\r\n                    action,\r\n                    selectedRecord,\r\n                    openmodalsavePopup: false\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLEASEADDRULETOADDOUTCOME\" }));\r\n        }\r\n\r\n    }\r\n    addModalSite = () => {\r\n        let openModalPopup = this.props.Login.openModalPopup;\r\n\r\n        let selectedParameter = this.props.Login.masterData.selectedParameter || [];\r\n        let testparameter = this.props.Login.viewColumnListByRule || [];\r\n        let selectedRecord = this.props.Login.selectedRecord || {}\r\n        selectedRecord['ntestparametercode'] = {}\r\n        selectedRecord['ntestparametercode'] = testparameter.filter(x => { return x.value === selectedParameter.ntestparametercode })[0]\r\n\r\n\r\n        openModalPopup = true;\r\n        let action = this.props.Login.action;\r\n        action = \"IDS_ADDSITE\"\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedRecord,\r\n                openModalPopup,\r\n                action,\r\n                openmodalsavePopup: false\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    modalsaveClick = () => {\r\n        let needoutsource = this.props.Login.needoutsource || {};\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        let masterData = this.props.Login.masterData || {};\r\n        let testInitiateTests = this.props.Login.testInitiateTests || [];\r\n        let testCommentsTests = this.props.Login.testCommentsTests || [];\r\n        let reportCommentsTests = this.props.Login.reportCommentsTests || [];\r\n\r\n        let siteObject = this.props.Login.siteObject || {};\r\n        let testCommentObject = this.props.Login.testCommentObject || {};\r\n        let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n\r\n\r\n        let testInitiateTestsTemp = [];\r\n        let testCommentsTestsTemp = [];\r\n        let reportCommentsTestsTemp = [];\r\n        let testInitiateSiteTemp = [];\r\n\r\n        let testCommentsTestsTab = this.props.Login.testCommentsTestsTab || [];\r\n        let reportCommentsTestsTab = this.props.Login.reportCommentsTestsTab || [];\r\n        let testInitiateSiteTab = this.props.Login.testInitiateSiteTab || [];\r\n\r\n        let testInitiateTestOptions = this.props.Login.testInitiateTestOptions || [];\r\n        let testCommentsTestOptions = this.props.Login.testCommentsTestOptions || [];\r\n        let reportCommentsTestOptions = this.props.Login.reportCommentsTestOptions || [];\r\n\r\n\r\n        let testInitiateTestdeletedOptions = this.props.Login.testInitiateTestdeletedOptions || [];\r\n        let testCommentsTestdeletedOptions = this.props.Login.testCommentsTestdeletedOptions || [];\r\n        let reportCommentsTestdeletedOptions = this.props.Login.reportCommentsTestdeletedOptions || [];\r\n\r\n        let updateInfo = {}\r\n        if (this.props.Login.action === 'IDS_ADDTEST') {\r\n            let npkAtestparametercode = 0;\r\n            let npkBtestparametercode = 0;\r\n            let npkCtestparametercode = 0;\r\n            if (this.props.Login.activeTabIndex === 1) {\r\n                let isduplicate = {}\r\n                isduplicate = testInitiateTests.filter(x => x.ntestparametercode ===\r\n                    selectedRecord['ntestparametercode'].item['ntestparametercode'])\r\n                if (isduplicate.length === 0) {\r\n                    masterData['testParameter'] = {}\r\n                    npkAtestparametercode = this.props.Login.npkAtestparametercode || 0;\r\n                    npkAtestparametercode++;\r\n                    selectedRecord['ntestparametercode'].item['npkAtestparametercode'] = npkAtestparametercode\r\n                    testInitiateTests.push(selectedRecord['ntestparametercode'].item);\r\n                    masterData['testParameter'] = sortData(testInitiateTests, 'descending', 'npkAtestparametercode')\r\n                    masterData['selectedParameter'] = selectedRecord['ntestparametercode'].item\r\n                    delete selectedRecord['ntestparametercode']\r\n\r\n                }\r\n                else {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n                }\r\n\r\n            }\r\n            if (this.props.Login.activeTabIndex === 2) {\r\n                let isduplicate = {}\r\n                isduplicate = testCommentsTests.filter(x => x.ntestparametercode ===\r\n                    selectedRecord['ntestparametercode'].item['ntestparametercode'])\r\n                if (isduplicate.length === 0) {\r\n                    masterData['testParameterComments'] = {}\r\n                    npkBtestparametercode = this.props.Login.npkBtestparametercode || 0;\r\n                    npkBtestparametercode++;\r\n                    selectedRecord['ntestparametercode'].item['npkBtestparametercode'] = npkAtestparametercode\r\n                    testCommentsTests.push(selectedRecord['ntestparametercode'].item);\r\n                    masterData['testParameterComments'] = sortData(testCommentsTests, 'descending', 'npkBtestparametercode')\r\n                    masterData['selectedParameter'] = selectedRecord['ntestparametercode'].item\r\n                    delete selectedRecord['ntestparametercode']\r\n                }\r\n                else {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n                }\r\n            }\r\n            if (this.props.Login.activeTabIndex === 3) {\r\n                let isduplicate = {}\r\n                isduplicate = reportCommentsTests.filter(x => x.ntestparametercode ===\r\n                    selectedRecord['ntestparametercode'].item['ntestparametercode'])\r\n                if (isduplicate.length === 0) {\r\n                    masterData['testParameterreportComments'] = {}\r\n                    npkCtestparametercode = this.props.Login.npkCtestparametercode || 0;\r\n                    npkCtestparametercode++;\r\n                    selectedRecord['ntestparametercode'].item['npkCtestparametercode'] = npkCtestparametercode\r\n                    reportCommentsTests.push(selectedRecord['ntestparametercode'].item);\r\n                    masterData['testParameterreportComments'] = sortData(reportCommentsTests, 'descending', 'npkCtestparametercode')\r\n                    masterData['selectedParameter'] = selectedRecord['ntestparametercode'].item\r\n                    delete selectedRecord['ntestparametercode']\r\n                }\r\n                else {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n                }\r\n            }\r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup: false,\r\n                    masterData,\r\n                    testInitiateTests,\r\n                    testCommentsTests,\r\n                    reportCommentsTests,\r\n                    npkAtestparametercode,\r\n                    npkBtestparametercode,\r\n                    npkCtestparametercode,\r\n                    testInitiateTestOptions,\r\n                    testInitiateTestdeletedOptions,\r\n                    selectedRecord\r\n                }\r\n            }\r\n        }\r\n        if (selectedRecord['nsampletestcommentscode'] || selectedRecord['sgeneralcomments']//this.props.Login.action === 'IDS_ADDTESTCOMMENTS'\r\n        ) {\r\n            // let isduplicate = {}\r\n            // let spredefinedname = selectedRecord['nsampletestcommentscode'].label\r\n            // let arraycheck = testCommentObject[masterData.selectedParameter.ntestparametercode]\r\n            // if (arraycheck) {\r\n            //     isduplicate = arraycheck.filter(x => x.spredefinedname === spredefinedname)\r\n            // }\r\n            // if (arraycheck !== undefined ? isduplicate.length > 0 ? false : true : true) {\r\n            masterData['testComments'] = {}\r\n            let npKAsampletestcommentscode = 0;\r\n\r\n            if (testCommentObject.hasOwnProperty(masterData.selectedParameter.ntestparametercode)) {\r\n                npKAsampletestcommentscode = this.props.Login.npKAsampletestcommentscode;\r\n                npKAsampletestcommentscode++;\r\n                let object = {\r\n                    npKAsampletestcommentscode: npKAsampletestcommentscode,\r\n                    ncommentsubtypecode: selectedRecord['ncommentsubtypecode']['value'],\r\n                    scommentsubtype: selectedRecord['ncommentsubtypecode']['label'],\r\n                    ncommenttypecode: selectedRecord['ncommenttypecode']['value'],\r\n                    scommenttype: selectedRecord['ncommenttypecode']['label'],\r\n                    nsampletestcommentscode: selectedRecord['nsampletestcommentscode'] ? selectedRecord['nsampletestcommentscode'].value : -1,\r\n                    spredefinedname: selectedRecord['nsampletestcommentscode'] ? selectedRecord['nsampletestcommentscode'].label : \"-\",\r\n                    sgeneralcomments: selectedRecord['sgeneralcomments'] ? selectedRecord['sgeneralcomments'] : \"-\"\r\n                    , stestparametersynonym: masterData.selectedParameter.stestparametersynonym,\r\n                    ntestparametercode: masterData.selectedParameter.ntestparametercode\r\n                }\r\n                testCommentsTestsTemp = testCommentObject[masterData.selectedParameter.ntestparametercode]\r\n                testCommentsTestsTemp.push(object);\r\n                testCommentsTestsTab.push(object);\r\n                testCommentObject[masterData.selectedParameter.ntestparametercode] = sortData(testCommentsTestsTemp, 'descending', 'npKAsampletestcommentscode')\r\n                delete selectedRecord['nsampletestcommentscode']\r\n                delete selectedRecord['ncommentsubtypecode']\r\n                delete selectedRecord['ncommenttypecode']\r\n                delete selectedRecord['sgeneralcomments']\r\n            }\r\n            else {\r\n                npKAsampletestcommentscode++;\r\n                let object = {\r\n                    npKAsampletestcommentscode: npKAsampletestcommentscode,\r\n                    ncommentsubtypecode: selectedRecord['ncommentsubtypecode']['value'],\r\n                    scommentsubtype: selectedRecord['ncommentsubtypecode']['label'],\r\n                    ncommenttypecode: selectedRecord['ncommenttypecode']['value'],\r\n                    scommenttype: selectedRecord['ncommenttypecode']['label'],\r\n                    nsampletestcommentscode: selectedRecord['nsampletestcommentscode'] ? selectedRecord['nsampletestcommentscode'].value : -1,\r\n                    spredefinedname: selectedRecord['nsampletestcommentscode'] ? selectedRecord['nsampletestcommentscode'].label : \"-\",\r\n                    sgeneralcomments: selectedRecord['sgeneralcomments'] ? selectedRecord['sgeneralcomments'] : \"-\"\r\n                    , stestparametersynonym: masterData.selectedParameter.stestparametersynonym,\r\n                    ntestparametercode: masterData.selectedParameter.ntestparametercode\r\n                }\r\n                testCommentsTestsTemp.push(object);\r\n                testCommentsTestsTab.push(object);\r\n                testCommentObject[masterData.selectedParameter.ntestparametercode] = sortData(testCommentsTestsTemp, 'descending', 'npKAsampletestcommentscode')\r\n                delete selectedRecord['nsampletestcommentscode']\r\n                delete selectedRecord['ncommentsubtypecode']\r\n                delete selectedRecord['ncommenttypecode']\r\n                delete selectedRecord['sgeneralcomments']\r\n            }\r\n            masterData['testComments'] = testCommentObject\r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup: false,\r\n                    masterData,\r\n                    testCommentObject,\r\n                    testCommentsTestsTab,\r\n                    npKAsampletestcommentscode,\r\n                    selectedRecord\r\n                }\r\n            }\r\n            // }\r\n            // else {\r\n            //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n            // }\r\n        }\r\n        // else if (this.props.Login.action === 'IDS_ADDREPORTCOMMENTS') {\r\n        //     let isduplicate = {}\r\n        //     let spredefinedname = selectedRecord['nsampletestcommentscode'].label\r\n        //     let arraycheck = reportCommentObject[masterData.selectedParameter.ntestparametercode]\r\n        //     if (arraycheck) {\r\n        //         isduplicate = arraycheck.filter(x => x.spredefinedname === spredefinedname)\r\n        //     }\r\n        //     if (arraycheck !== undefined ? isduplicate.length > 0 ? false : true : true) {\r\n        //         masterData['reportComments'] = {}\r\n        //         let npKBsampletestcommentscode = 0;\r\n        //         if (reportCommentObject.hasOwnProperty(masterData.selectedParameter.ntestparametercode)) {\r\n        //             npKBsampletestcommentscode = this.props.Login.npKBsampletestcommentscode;\r\n        //             npKBsampletestcommentscode++;\r\n        //             let object = {\r\n        //                 npKBsampletestcommentscode: npKBsampletestcommentscode,\r\n        //                 nsampletestcommentscode: selectedRecord['nsampletestcommentscode'].value,\r\n        //                 spredefinedname: selectedRecord['nsampletestcommentscode'].label,\r\n        //                 scommentsubtype: this.props.Login.reportcomments[0].item.scommentsubtype\r\n        //                 , stestparametersynonym: masterData.selectedParameter.stestparametersynonym, ntestparametercode: masterData.selectedParameter.ntestparametercode\r\n        //             }\r\n        //             reportCommentsTestsTemp = reportCommentObject[masterData.selectedParameter.ntestparametercode]\r\n        //             reportCommentsTestsTemp.push(object);\r\n        //             reportCommentsTestsTab.push(object);\r\n        //             reportCommentObject[masterData.selectedParameter.ntestparametercode] = sortData(reportCommentsTestsTemp, 'descending', 'npKBsampletestcommentscode')\r\n        //             delete selectedRecord['nsampletestcommentscode']\r\n        //         }\r\n        //         else {\r\n        //             npKBsampletestcommentscode++;\r\n        //             let object = {\r\n        //                 npKBsampletestcommentscode: npKBsampletestcommentscode,\r\n        //                 nsampletestcommentscode: selectedRecord['nsampletestcommentscode'].value,\r\n        //                 spredefinedname: selectedRecord['nsampletestcommentscode'].label,\r\n        //                 scommentsubtype: this.props.Login.reportcomments[0].item.scommentsubtype\r\n        //                 , stestparametersynonym: masterData.selectedParameter.stestparametersynonym, ntestparametercode: masterData.selectedParameter.ntestparametercode\r\n        //             }\r\n        //             reportCommentsTestsTemp.push(object);\r\n        //             reportCommentsTestsTab.push(object);\r\n        //             reportCommentObject[masterData.selectedParameter.ntestparametercode] = sortData(reportCommentsTestsTemp, 'descending', 'npKBsampletestcommentscode')\r\n        //             delete selectedRecord['nsampletestcommentscode']\r\n        //         }\r\n        //         masterData['reportComments'] = reportCommentObject\r\n        //         updateInfo = {\r\n        //             typeName: DEFAULT_RETURN,\r\n        //             data: {\r\n        //                 openModalPopup: false,\r\n        //                 masterData,\r\n        //                 reportCommentObject,\r\n        //                 reportCommentsTestsTab,\r\n        //                 npKBsampletestcommentscode,\r\n        //                 selectedRecord\r\n        //             }\r\n        //         }\r\n        //     } else {\r\n        //         toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n        //     }\r\n        // }\r\n        if (selectedRecord['nfromsitecode'] && selectedRecord['ntositecode']) {\r\n            masterData['testSite'] = {}\r\n            let siteseqnumber = 0;\r\n            if (siteObject.hasOwnProperty(masterData.selectedParameter.ntestparametercode)) {\r\n                siteseqnumber = this.props.Login.siteseqnumber;\r\n                siteseqnumber++;\r\n                let object = {\r\n                    npksitecode: siteseqnumber, sfromsitename: selectedRecord['nfromsitecode'].label, stositename: selectedRecord['ntositecode'].label\r\n                    , stestparametersynonym: masterData.selectedParameter.stestparametersynonym, ntestparametercode: masterData.selectedParameter.ntestparametercode\r\n                }\r\n                testInitiateSiteTemp = siteObject[masterData.selectedParameter.ntestparametercode]\r\n                testInitiateSiteTemp.push(object);\r\n                testInitiateSiteTab.push(object);\r\n                siteObject[masterData.selectedParameter.ntestparametercode] = sortData(testInitiateSiteTemp, 'descending', 'npksitecode')\r\n                delete selectedRecord['ntestparametercode']\r\n                delete selectedRecord['nfromsitecode'];\r\n                delete selectedRecord['ntositecode'];\r\n\r\n            }\r\n            else {\r\n                siteseqnumber++;\r\n                let object = {\r\n                    npksitecode: siteseqnumber, sfromsitename: selectedRecord['nfromsitecode'].label, stositename: selectedRecord['ntositecode'].label\r\n                    , stestparametersynonym: masterData.selectedParameter.stestparametersynonym, ntestparametercode: masterData.selectedParameter.ntestparametercode\r\n                }\r\n                testInitiateSiteTemp.push(object);\r\n                testInitiateSiteTab.push(object);\r\n                siteObject[masterData.selectedParameter.ntestparametercode] = sortData(testInitiateSiteTemp, 'descending', 'npksitecode')\r\n                delete selectedRecord['ntestparametercode']\r\n                delete selectedRecord['nfromsitecode'];\r\n                delete selectedRecord['ntositecode'];\r\n            }\r\n            masterData['testSite'] = siteObject\r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup: false,\r\n                    masterData,\r\n                    siteObject,\r\n                    siteseqnumber,\r\n                    testInitiateSiteTab\r\n                }\r\n            }\r\n        }\r\n        if (Object.keys(updateInfo).length > 0) {\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n    deletModalSite = (inputparam, action, row) => {\r\n        let temparray = [];\r\n\r\n\r\n        let testInitiateSiteTab = this.props.Login.testInitiateSiteTab\r\n        let testCommentsTestsTab = this.props.Login.testCommentsTestsTab\r\n        let reportCommentsTestsTab = this.props.Login.reportCommentsTestsTab\r\n\r\n\r\n        let siteObject = this.props.Login.siteObject || {};\r\n        let testCommentObject = this.props.Login.testCommentObject || {};\r\n        let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n        let masterData = this.props.Login.masterData || {};\r\n\r\n\r\n\r\n        if (this.props.Login.activeTabIndex === 1) {\r\n            temparray = siteObject[masterData.selectedParameter.ntestparametercode]\r\n            temparray.splice(row['dataIndex'], 1);\r\n            testInitiateSiteTab.splice(row['dataIndex'], 1);\r\n            siteObject[masterData.selectedParameter.ntestparametercode] = temparray\r\n\r\n        }\r\n        if (this.props.Login.activeTabIndex === 2) {\r\n            temparray = testCommentObject[masterData.selectedParameter.ntestparametercode]\r\n            temparray.splice(row['dataIndex'], 1);\r\n            testCommentsTestsTab.splice(row['dataIndex'], 1);\r\n            testCommentObject[masterData.selectedParameter.ntestparametercode] = temparray\r\n        }\r\n        if (this.props.Login.activeTabIndex === 3) {\r\n            temparray = reportCommentObject[masterData.selectedParameter.ntestparametercode]\r\n            temparray.splice(row['dataIndex'], 1);\r\n            reportCommentsTestsTab.splice(row['dataIndex'], 1);\r\n            reportCommentObject[masterData.selectedParameter.ntestparametercode] = temparray\r\n        }\r\n        let updateInfo = {}\r\n        updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                siteObject,\r\n                testCommentObject,\r\n                reportCommentObject,\r\n                testInitiateSiteTab,\r\n                reportCommentsTestsTab,\r\n                testCommentsTestsTab\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    deleteModalTest = () => {\r\n\r\n        let testInitiateTests = this.props.Login.testInitiateTests || [];\r\n        let testCommentsTests = this.props.Login.testCommentsTests || [];\r\n        let reportCommentsTests = this.props.Login.reportCommentsTests || [];\r\n\r\n        let siteObject = this.props.Login.siteObject || {};\r\n        let testCommentObject = this.props.Login.testCommentObject || {};\r\n        let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n\r\n\r\n        let testInitiateTestOptions = this.props.Login.testInitiateTestOptions || [];\r\n        let testCommentsTestOptions = this.props.Login.testCommentsTestOptions || [];\r\n        let reportCommentsTestOptions = this.props.Login.reportCommentsTestOptions || [];\r\n        let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n\r\n\r\n        let testInitiateTestdeletedOptions = this.props.Login.testInitiateTestdeletedOptions || [];\r\n        let testCommentsTestdeletedOptions = this.props.Login.testCommentsTestdeletedOptions || [];\r\n        let reportCommentsTestdeletedOptions = this.props.Login.reportCommentsTestdeletedOptions || [];\r\n\r\n        let masterData = this.props.Login.masterData || {};\r\n        let index = 0;\r\n        if (this.props.Login.activeTabIndex === 1) {\r\n            index = this.props.Login.testInitiateTests.findIndex(x => x.ntestparametercode === masterData.selectedParameter.ntestparametercode)\r\n            testInitiateTests.splice(index, 1);\r\n            delete siteObject[masterData.selectedParameter.ntestparametercode]\r\n        }\r\n        if (this.props.Login.activeTabIndex === 2) {\r\n            index = this.props.Login.testCommentsTests.findIndex(x => x.ntestparametercode === masterData.selectedParameter.ntestparametercode)\r\n            testCommentsTests.splice(index, 1);\r\n            delete testCommentObject[masterData.selectedParameter.ntestparametercode]\r\n        }\r\n        if (this.props.Login.activeTabIndex === 3) {\r\n            index = this.props.Login.reportCommentsTests.findIndex(x => x.ntestparametercode === masterData.selectedParameter.ntestparametercode)\r\n            reportCommentsTests.splice(index, 1);\r\n            delete reportCommentObject[masterData.selectedParameter.ntestparametercode]\r\n        }\r\n        let updateInfo = {}\r\n        updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                testInitiateTests,\r\n                siteObject,\r\n                testCommentObject,\r\n                testCommentsTests,\r\n                reportCommentsTests,\r\n                reportCommentObject\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onmodalComboChange = (comboData, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        let isneedsgeneralcomments = this.state.isneedsgeneralcomments || {}\r\n\r\n        if (fieldName === 'ncommentsubtypecode') {\r\n            if (comboData.value === 6) {\r\n                isneedsgeneralcomments = true\r\n                delete selectedRecord['nsampletestcommentscode']\r\n            }\r\n            else {\r\n                isneedsgeneralcomments = false\r\n                delete selectedRecord['sgeneralcomments']\r\n\r\n            }\r\n        }\r\n        selectedRecord[fieldName] = comboData;\r\n        this.setState({ selectedRecord, isneedsgeneralcomments });\r\n    }\r\n    getOutcomeDetails = (inputParam) => {\r\n        let masterData = this.props.Login.masterData || {};\r\n        const testParameter = this.state.activeTabIndex === 1 ? inputParam.testParameter : this.state.activeTabIndex === 2 ?\r\n            inputParam.testParameterComments : inputParam.testParameterreportComments;\r\n        masterData['selectedParameter'] = {}\r\n        masterData['selectedParameter'] = testParameter;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    handleExpandChange = () => {\r\n        let childListMap1 = this.state.childListMap1 || new Map();\r\n        let childListMap2 = this.state.childListMap2 || new Map();\r\n        let childListMap3 = this.state.childListMap3 || new Map();\r\n        let childListMap = this.state.childListMap || new Map();\r\n        //     let keylst = this.props.Login.masterData.activeTabName === 'IDS_NEEDTESTINITIATE' ?\r\n        //     Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject']) :\r\n        //     this.props.Login.masterData.activeTabName === 'IDS_TESTCOMMENTS' ?\r\n        //         Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject']) :\r\n        //         Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'])\r\n        // keylst.map(key => {\r\n        //     childListMap.set(parseInt(key),\r\n        //         Object.values(this.props.Login.masterData.activeTabName === 'IDS_NEEDTESTINITIATE' ?\r\n        //             this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject'][key] :\r\n        //             this.props.Login.masterData.activeTabName === 'IDS_TESTCOMMENTS' ?\r\n        //                 this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key] :\r\n        //                 this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));\r\n        // })\r\n        // this.setState({ childListMap })\r\n        if (this.props.Login.masterData.activeTabName === 'IDS_NEEDTESTINITIATE') {\r\n            // let keylst =\r\n            //     Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject'])\r\n            // keylst.map(key => {\r\n            //     childListMap1.set(parseInt(key),\r\n            //         Object.values(\r\n            //             this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject'][key]));\r\n            // })\r\n            // this.setState({ childListMap1 })\r\n\r\n\r\n\r\n            let keylst = this.props.Login.masterData.activeTabName === 'IDS_NEEDTESTINITIATE' ?\r\n                Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject']) :\r\n                this.props.Login.masterData.activeTabName === 'IDS_TESTCOMMENTS' ?\r\n                    Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject']) :\r\n                    Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'])\r\n            keylst.map(key => {\r\n                childListMap.set(parseInt(key),\r\n                    Object.values(this.props.Login.masterData.activeTabName === 'IDS_NEEDTESTINITIATE' ?\r\n                        this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject'][key] :\r\n                        this.props.Login.masterData.activeTabName === 'IDS_TESTCOMMENTS' ?\r\n                            this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key] :\r\n                            this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));\r\n            })\r\n            this.setState({ childListMap })\r\n        }\r\n        if (this.props.Login.masterData.activeTabName === 'IDS_TESTCOMMENTS') {\r\n            let keylst = Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'])\r\n            keylst.map(key => {\r\n                childListMap2.set(parseInt(key),\r\n                    Object.values(\r\n                        this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key]));\r\n            })\r\n            this.setState({ childListMap2 })\r\n        }\r\n        if (this.props.Login.masterData.activeTabName === 'IDS_REPORTCOMMENTS') {\r\n            let keylst =\r\n                Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject']);\r\n            keylst.map(key => {\r\n                childListMap3.set(parseInt(key),\r\n                    Object.values(\r\n                        this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));\r\n            })\r\n            this.setState({ childListMap3 })\r\n        }\r\n    }\r\n    onTabChange = (tabProps) => {\r\n        let masterData = this.props.Login.masterData && this.props.Login.masterData\r\n        masterData['activeTabName'] = tabProps.activeTabName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { masterData }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    openflowview = () => {\r\n        let openModal = this.props.Login.openModal\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    tabDetail = () => {\r\n        let masterData = this.props.Login.masterData || {};\r\n        let jsonuidata = this.props.Login.masterData.SelectedRulesEngine && this.props.Login.masterData.SelectedRulesEngine['jsonuidata']\r\n        // let childList = this.props.Login.screenName === 'IDS_NEEDTESTINITIATE' ? jsonuidata && jsonuidata['siteObject'] : jsonuidata \r\n        // && jsonuidata['testCommentObject']\r\n        // let parentlist = this.props.Login.masterData.activeTabName === 'IDS_NEEDTESTINITIATE' ? jsonuidata['siteObject']\r\n        // [masterData.selectedParameter.ntestparametercode] :\r\n        //     this.props.Login.masterData.activeTabName === 'IDS_TESTCOMMENTS' ? jsonuidata['testCommentObject'][masterData.selectedParameter.ntestparametercode]\r\n        //         : jsonuidata['reportCommentObject'][masterData.selectedParameter.ntestparametercode]\r\n        const tabMap = new Map();\r\n        {\r\n            tabMap.set(\"IDS_NEEDTESTINITIATE\",\r\n                <DataGrid\r\n                    key=\"testsectionkey\"\r\n                    primaryKeyField=\"nresultusedmaterialcode\"\r\n                    expandField=\"expanded\"\r\n                    handleExpandChange={this.handleExpandChange}\r\n                    //   dataResult={props.dataResult || []}\r\n\r\n                    dataResult={this.props.Login.masterData.SelectedRulesEngine &&\r\n                        this.props.Login.masterData.SelectedRulesEngine && process(\r\n                            sortData(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testInitiateTests'], \"descending\", \"npkAtestparametercode\")\r\n                            || [],\r\n                            this.state.dataStatetestinitiate\r\n                                ? this.state.dataStatetestinitiate : { skip: 0, take: 10 })}\r\n                    //dataState={{ skip: 0, take: 10 }}\r\n                    // dataStateChange={props.dataStateChange}\r\n\r\n                    dataState={this.state.dataStatetestinitiate\r\n                        ? this.state.dataStatetestinitiate : { skip: 0, take: 10 }}\r\n                    // dataStateChange={(event) => this.setState({ sectionDataState: event.dataState })}\r\n                    dataStateChange={this.dataStateChangetestinitiate}\r\n\r\n                    extractedColumnList={[\r\n                        { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestparametersynonym\", \"width\": \"200px\" }\r\n                    ]}\r\n                    controlMap={this.state.controlMap}\r\n                    userRoleControlRights={this.state.userRoleControlRights}\r\n                    pageable={true}\r\n                    //    isActionRequired={true}\r\n                    scrollable={'scrollable'}\r\n                    hideColumnFilter={false}\r\n                    selectedId={0}\r\n                    //hasDynamicColSize={true}\r\n                    //testParameter={testParameter}\r\n                    //deleteRecord={props.deletModalSite}\r\n                    deleteParam={{ operation: \"delete\" }}\r\n                    // actionIcons={[{\r\n                    //     title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                    //     controlname: \"faTrashAlt\",\r\n                    //     hidden: false,\r\n                    //     objectName: \"delete\",\r\n                    //     onClick: props.deletModalSite\r\n\r\n                    // }]}\r\n                    hasChild={true}\r\n                    childMappingField={'ntestparametercode'}\r\n                    childColumnList={[\r\n\r\n                        { \"idsName\": \"IDS_FROMSITE\", \"dataField\": \"sfromsitename\", \"width\": \"200px\" },\r\n                        { \"idsName\": \"IDS_TOSITE\", \"dataField\": \"stositename\", \"width\": \"200px\" }\r\n                    ]}\r\n                    childList={this.state.childListMap}\r\n                    activeTabName={\"IDS_NEEDTESTINITIATE\"}\r\n                >\r\n                </DataGrid>);\r\n            tabMap.set(\"IDS_TESTCOMMENTS\",\r\n                <DataGrid\r\n                    key=\"testsectionkey\"\r\n                    primaryKeyField=\"nresultusedmaterialcode\"\r\n                    //expandField=\"expanded\"\r\n                    handleExpandChange={this.handleExpandChange}\r\n                    //   dataResult={props.dataResult || []}\r\n\r\n                    dataResult={this.props.Login.masterData.SelectedRulesEngine && process(\r\n                        sortData(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentsTestsTab'], \"descending\", \"npkAtestparametercode\")\r\n                        || [],\r\n                        this.state.dataState\r\n                            ? this.state.dataState : { skip: 0, take: 10 })}\r\n                    //dataState={{ skip: 0, take: 10 }}\r\n                    // dataStateChange={props.dataStateChange}\r\n\r\n                    dataState={this.state.dataState\r\n                        ? this.state.dataState : { skip: 0, take: 10 }}\r\n                    // dataStateChange={(event) => this.setState({ sectionDataState: event.dataState })}\r\n                    dataStateChange={this.dataStateChange}\r\n\r\n                    // extractedColumnList={[\r\n                    //     { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestparametersynonym\", \"width\": \"200px\" }\r\n                    // ]}\r\n                    controlMap={this.state.controlMap}\r\n                    userRoleControlRights={this.state.userRoleControlRights}\r\n                    pageable={true}\r\n                    //     isActionRequired={true}\r\n                    scrollable={'scrollable'}\r\n                    hideColumnFilter={false}\r\n                    selectedId={0}\r\n                    //hasDynamicColSize={true}\r\n                    //testParameter={testParameter}\r\n                    //deleteRecord={props.deletModalSite}\r\n                    deleteParam={{ operation: \"delete\" }}\r\n                    // actionIcons={[{\r\n                    //     title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                    //     controlname: \"faTrashAlt\",\r\n                    //     hidden: false,\r\n                    //     objectName: \"delete\",\r\n                    //     onClick: props.deletModalSite\r\n\r\n                    // }]}\r\n                    //hasChild={true}\r\n                    childMappingField={'ntestparametercode'}\r\n                    // extractedColumnList={[\r\n                    //     { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestparametersynonym\", \"width\": \"200px\" },\r\n                    //     { \"idsName\": \"IDS_TESTCOMMENTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" }\r\n                    // ]} \r\n\r\n                    extractedColumnList={[\r\n                        { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestparametersynonym\", \"width\": \"200px\" },\r\n                        { \"idsName\": \"IDS_COMMENTTYPE\", \"dataField\": \"scommenttype\", \"width\": \"200px\" },\r\n                        { \"idsName\": \"IDS_COMMENTSUBTYPE\", \"dataField\": \"scommentsubtype\", \"width\": \"200px\" },\r\n                        { \"idsName\": \"IDS_PREFINEDCOMMENTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" },\r\n                        { \"idsName\": \"IDS_GENERALCOMMENTS\", \"dataField\": \"sgeneralcomments\", \"width\": \"200px\" }\r\n                        // props.activeTabIndex == 2 ? { \"idsName\": \"IDS_PREFINEDCOMMENTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" } :\r\n                        //     { \"idsName\": \"IDS_REPORTCOMMENTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" }\r\n                    ]}\r\n                    childList={this.state.childListMap2 && this.state.childListMap2}\r\n                    activeTabName={\"IDS_TESTCOMMENTS\"}\r\n                >\r\n                </DataGrid>\r\n            );\r\n            // tabMap.set(\"IDS_REPORTCOMMENTS\",\r\n            //     <DataGrid\r\n            //         key=\"testsectionkey\"\r\n            //         primaryKeyField=\"nresultusedmaterialcode\"\r\n            //         //expandField=\"expanded\"\r\n            //         handleExpandChange={this.handleExpandChange}\r\n            //         //   dataResult={props.dataResult || []}\r\n\r\n            //         dataResult={this.props.Login.masterData.SelectedRulesEngine['jsonuidata'] && process(\r\n\r\n            //             sortData(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentsTestsTab'], \"descending\", \"npkBtestparametercode\")\r\n            //             || [],\r\n            //             this.state.dataState\r\n            //                 ? this.state.dataState : { skip: 0, take: 10 })}\r\n            //         //dataState={{ skip: 0, take: 10 }}\r\n            //         // dataStateChange={props.dataStateChange}\r\n\r\n            //         dataState={this.state.dataState\r\n            //             ? this.state.dataState : { skip: 0, take: 10 }}\r\n            //         // dataStateChange={(event) => this.setState({ sectionDataState: event.dataState })}\r\n            //         dataStateChange={this.dataStateChange}\r\n\r\n            //         // extractedColumnList={[\r\n            //         //     { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestparametersynonym\", \"width\": \"200px\" }\r\n            //         // ]}\r\n            //         controlMap={this.state.controlMap}\r\n            //         userRoleControlRights={this.state.userRoleControlRights}\r\n            //         pageable={true}\r\n            //         isActionRequired={true}\r\n            //         scrollable={'scrollable'}\r\n            //         hideColumnFilter={false}\r\n            //         selectedId={0}\r\n            //         //hasDynamicColSize={true}\r\n            //         //testParameter={testParameter}\r\n            //         //deleteRecord={props.deletModalSite}\r\n            //         deleteParam={{ operation: \"delete\" }}\r\n            //         // actionIcons={[{\r\n            //         //     title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            //         //     controlname: \"faTrashAlt\",\r\n            //         //     hidden: false,\r\n            //         //     objectName: \"delete\",\r\n            //         //     onClick: props.deletModalSite\r\n\r\n            //         // }]}\r\n            //         //  hasChild={true}\r\n            //         childMappingField={'ntestparametercode'}\r\n            //         extractedColumnList={[\r\n            //             { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestparametersynonym\", \"width\": \"200px\" },\r\n            //             { \"idsName\": \"IDS_REPORTCOMMENTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" }\r\n            //         ]}\r\n            //         childList={this.state.childListMap3 && this.state.childListMap3}\r\n            //         activeTabName={\"IDS_REPORTCOMMENTS\"}\r\n            //     >\r\n            //     </DataGrid>\r\n            // );\r\n\r\n        }\r\n        return tabMap;\r\n    }\r\n    addGroup = () => {\r\n\r\n        const { selectedRecord } = this.state;\r\n\r\n        var sql1 = jsonSql.build({\r\n            table: 'testmaster',\r\n            alias: 'tm',\r\n            join: [{\r\n                type: 'inner',\r\n                table: 'testcategory',\r\n                alias: 'tc',\r\n                on: { 'tm.ntestcategorycode': 'tc.ntestcategorycode' }\r\n            },\r\n            {\r\n                type: 'inner',\r\n                table: 'transactionstatus',\r\n                alias: 'ts',\r\n                on: { 'tm.naccredited': 'ts.ntranscode' }\r\n            }]\r\n        });\r\n        console.log(sql1.query);\r\n\r\n        var sql21 = jsonSql.build({\r\n            table: 'testmaster',\r\n            alias: 'tm',\r\n            join: [{\r\n                type: 'inner',\r\n                table: 'testcategory',\r\n                alias: 'tc',\r\n                on: { 'tm.ntestcategorycode': 'tc.ntestcategorycode' }\r\n            },\r\n            {\r\n                type: 'right outer',\r\n                table: 'transactionstatus',\r\n                alias: 'ts',\r\n                on: { 'tm.naccredited': 'ts.ntranscode' }\r\n            },\r\n            {\r\n                type: 'left outer',\r\n                table: 'transactionstatus',\r\n                alias: 'ts',\r\n                on: [{ 'tm.naccredited': 'ts.ntranscode' }, { 'tc.naccredited': 'ts.ntranscode' }]\r\n            }],\r\n            condition: [\r\n                { a: { $gt: 1 } },\r\n                { b: { $lt: 10 } }\r\n            ],\r\n            group: ['a', 'b']\r\n        });\r\n        console.log(sql21.query);\r\n\r\n        //  if (selectedRecord[\"sviewname\"]) {\r\n        let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n        const addGroupList = this.props.Login.addGroupList || [];\r\n        const arrayLength = addGroupList.length;\r\n        addGroupList[arrayLength] = 1;\r\n        // viewColumnListByRule[arrayLength] = [];\r\n        // viewColumnListByRule[arrayLength].push(this.props.Login.viewColumnList);\r\n\r\n\r\n        viewColumnListByRule = this.props.Login.databaseviewList;\r\n        if (arrayLength === 0) {\r\n            selectedRecord[\"groupList\"] = [];\r\n            selectedRecord[\"filtercolumns\"] = this.props.Login.selectFields;\r\n        }\r\n        if (selectedRecord[\"groupListJoins\"] === undefined) {\r\n            selectedRecord[\"groupListJoins\"] = []\r\n        }\r\n        if (selectedRecord[\"groupListJoins\"][arrayLength - 1] === undefined) {\r\n            selectedRecord[\"groupListJoins\"][arrayLength - 1] = {}\r\n        }\r\n        selectedRecord[\"groupListJoins\"][arrayLength - 1][\"button_and\"] = true;\r\n\r\n        selectedRecord[\"groupList\"][arrayLength] = [];\r\n        selectedRecord[\"groupList\"][arrayLength][\"button_and\"] = true;\r\n        selectedRecord[\"groupList\"][arrayLength][0] = {};\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                addGroupList,\r\n                viewColumnListByRule,\r\n                selectedRecord\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        // } else {\r\n        //     toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTVIEW\" }));\r\n        // }\r\n    }\r\n    getRulesEngineAdd = () => {\r\n        if(this.state.selectedcombo['nproductcatcode'])\r\n        {\r\n            const sqlQuery = false;\r\n            this.setState({ selectedRecord: {} });\r\n            this.props.getRulesEngineAdd(this.props.Login.userInfo, sqlQuery, {\r\n                addRuleList: [], addGroupList: [],\r\n                addAggregateList: [], addOrderbyList: []\r\n            }, this.props.Login.masterData);\r\n        }   else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTPRODUCTCATEGORY\" }));\r\n\r\n        }\r\n\r\n\r\n    }\r\n    closePortalModal = () => {\r\n        let masterData = this.props.Login.masterData || {};\r\n        // let modalTestsaveddata = this.props.Login.modalTestsaveddata || [];\r\n        // let modalSitesaveddata = this.props.Login.modalSitesaveddata || [];\r\n        // let modalSiteObject = this.props.Login.modalSiteObject || {};\r\n\r\n\r\n        // let testInitiateTests = this.props.Login.testInitiateTests || [];\r\n        // let testCommentsTests = this.props.Login.testCommentsTests || [];\r\n        // let reportCommentsTests = this.props.Login.reportCommentsTests || [];\r\n\r\n        // let siteObject = this.props.Login.siteObject || {};\r\n        // let testCommentObject = this.props.Login.testCommentObject || {};\r\n        // let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n\r\n\r\n\r\n        masterData['testParameter'] = {}\r\n        masterData['testParameterComments'] = {}\r\n        masterData['testParameterreportComments'] = {}\r\n        masterData['testComments'] = {}\r\n        masterData['reportComments'] = {}\r\n        masterData['testSite'] = {}\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: this.props.Login.operation !== 'update' ? {\r\n                activeTabIndex: 0,\r\n                openPortalModal: false, selectedRecord: {}, addRuleList: [], count: 0,\r\n                masterData, testInitiateTests: [], reportCommentsTests: [],\r\n                testCommentsTests: [], siteObject: {}, testCommentObject: {}, reportCommentObject: {},\r\n                npkAtestparametercode: 0,\r\n                npkBtestparametercode: 0,\r\n                npkCtestparametercode: 0,\r\n                testInitiateSiteTab: [],\r\n                testCommentsTestsTab: [],\r\n                reportCommentsTestsTab: []\r\n            } : {\r\n                activeTabIndex: 0,\r\n                openPortalModal: false, selectedRecord: {}, addRuleList: [], count: 0,\r\n                masterData,\r\n                //  testInitiateTests: [], reportCommentsTests: [],\r\n                // testCommentsTests: [], siteObject: {}, testCommentObject: {}, reportCommentObject: {},\r\n                npkAtestparametercode: 0,\r\n                npkBtestparametercode: 0,\r\n                npkCtestparametercode: 0\r\n                // ,\r\n                // testInitiateSiteTab: [],\r\n                // testCommentsTestsTab: [],\r\n                // reportCommentsTestsTab: []\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: false, selectedRecord: {}\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    // sideNavDetail = (screenName) => {\r\n    //     return (\r\n    //         <CustomTabs activeKey={this.props.Login.activeTestTab || \"IDS_NEEDTESTINITIATE\"} tabDetail={this.TabDetails()} onTabChange={this.onTabChange} />\r\n\r\n    //     )\r\n    // }\r\n    changePropertyView = (index, event, status) => {\r\n\r\n        let id = false;\r\n        let activeTabIndex\r\n        let activeTabId\r\n        let masterData = this.props.Login.masterData || {};\r\n        let activeTestTab = this.props.Login.activeTestTab || \"\"\r\n        if (window.innerWidth > 992 && event && this.state.enableAutoClick || !event) {\r\n            activeTabIndex = this.state.activeTabIndex !== index ? index : id ? index : false;\r\n        }\r\n        if (window.innerWidth > 992 && event && this.state.enableAutoClick || !event) {\r\n            if (index === 1) {\r\n                activeTestTab = 'IDS_NEEDTESTINITIATE'\r\n                masterData['selectedParameter'] = this.props.Login.testInitiateTests && this.props.Login.testInitiateTests[0]\r\n            }\r\n            if (index === 2) {\r\n                activeTestTab = 'IDS_TESTCOMMENTS'\r\n                masterData['selectedParameter'] = this.props.Login.testCommentsTests && this.props.Login.testCommentsTests[0]\r\n            }\r\n            if (index === 3) {\r\n                activeTestTab = 'IDS_REPORTCOMMENTS'\r\n                masterData['selectedParameter'] = this.props.Login.reportCommentsTests && this.props.Login.reportCommentsTests[0]\r\n            }\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    activeTabIndex: index === 0 ? 0 : this.state.activeTabIndex !== index ? index : id ? index : false,\r\n                    activeTabId: id,\r\n                    activeTestTab,\r\n                    masterData\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n\r\n\r\n    deleteRule = (groupIndex, index) => {\r\n        let addGroupList = this.props.Login.addGroupList || [];\r\n        const selectedRecord = this.state.selectedRecord;\r\n        addGroupList[groupIndex] = addGroupList[groupIndex] - 1;\r\n\r\n        if (addGroupList[groupIndex] === 0) {\r\n            addGroupList.splice(groupIndex, 1);\r\n            selectedRecord[\"groupList\"].splice(groupIndex, 1);\r\n            if (selectedRecord[\"groupListJoins\"]) {\r\n                selectedRecord[\"groupListJoins\"].splice(groupIndex - 1, 1);\r\n            }\r\n        } else {\r\n            selectedRecord[\"groupList\"][groupIndex].splice(index, 1);\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addGroupList, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    deleteOutcome = (index) => {\r\n        let addOutcomeList = this.props.Login.addOutcomeList;\r\n        addOutcomeList.splice(index, 1);\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addOutcomeList }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    clearSelectedRule(selectedRecord, index) {\r\n        selectedRecord[\"sinputname_\" + index] && delete selectedRecord[\"sinputname_\" + index];\r\n        selectedRecord[\"ssymbolname_\" + index] && delete selectedRecord[\"ssymbolname_\" + index];\r\n        selectedRecord[\"snumericinput_\" + index] && delete selectedRecord[\"snumericinput_\" + index];\r\n        selectedRecord[\"columnname_\" + index] && delete selectedRecord[\"columnname_\" + index];\r\n        selectedRecord[\"snumericinputtwo_\" + index] && delete selectedRecord[\"snumericinputtwo_\" + index];\r\n        selectedRecord[\"dateinput_\" + index] && delete selectedRecord[\"dateinput_\" + index];\r\n        selectedRecord[\"dateinputtwo_\" + index] && delete selectedRecord[\"dateinputtwo_\" + index];\r\n    }\r\n\r\n    clearRule = () => {\r\n        const sviewname = this.state.selectedRecord.sviewname || \"\";\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addRuleList: [], selectedRecord: { sviewname }, sqlQuery: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    resetRule = () => {\r\n        let masterData = this.props.Login.masterData || {};\r\n        let selectedRecord = this.state.selectedRecord || {}\r\n        masterData['testParameter'] = {}\r\n        masterData['testParameterComments'] = {}\r\n        masterData['testParameterreportComments'] = {}\r\n        masterData['testComments'] = {}\r\n        masterData['reportComments'] = {}\r\n        masterData['testSite'] = {}\r\n        if (selectedRecord[\"groupList\"]) {\r\n            selectedRecord[\"groupList\"] = []\r\n\r\n        }\r\n        if (selectedRecord[\"groupListJoins\"]) {\r\n            selectedRecord[\"groupListJoins\"] = []\r\n\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                addRuleList: [], addGroupList: [],\r\n                addAggregateList: [], addOrderbyList: [], testInitiateTests: [], reportCommentsTests: [],\r\n                testCommentsTests: [], siteObject: {}, testCommentObject: {}, reportCommentObject: {}, selectedRecord\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onSymbolChange = (comboData, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        const oldSelectedRecord = selectedRecord[\"groupList\"][groupIndex][index][fieldName] || {};\r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\r\n        this.setState({ selectedRecord, groupIndex, index });\r\n    }\r\n\r\n    onInputChange = (event, type, groupIndex, index) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let needoutsource = this.state.needoutsource || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === 'needoutsource' && event.target.checked === true) {\r\n                needoutsource = true\r\n            }\r\n            else {\r\n                needoutsource = false\r\n                delete selectedRecord['nfromsitecode'];\r\n                delete selectedRecord['ntositecode'];\r\n            }\r\n            selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord, needoutsource });\r\n    }\r\n\r\n\r\n\r\n    viewColumnListByRule = (list) => {\r\n        let activeTabIndex = this.props.Login.activeTabIndex\r\n        let selectedRecord = this.props.Login.selectedRecord && this.props.Login.selectedRecord\r\n        let dynamicList = activeTabIndex === 1 ? this.props.Login.testInitiateTests : activeTabIndex === 2 ? this.props.Login.testCommentsTests : this.props.Login.reportCommentsTests\r\n        list = list.filter(({ value }) => !dynamicList.some(x => x.ntestparametercode == value))\r\n        return list\r\n    }\r\n    onConditionClick = (fieldName, index, isgroup) => {\r\n        let { selectedRecord } = this.state;\r\n        selectedRecord[\"groupListJoins\"] = selectedRecord[\"groupListJoins\"] || []\r\n        if (index !== undefined && isgroup === false) {\r\n            if (fieldName === `button_and`) {\r\n                selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? true : true;\r\n                selectedRecord[\"groupList\"][index][`button_or`] = false;\r\n            } else if (fieldName === `button_or`) {\r\n                selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? true : true;\r\n                selectedRecord[\"groupList\"][index][`button_and`] = false;\r\n            } else if (fieldName === `button_not`) {\r\n                selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? false : true;\r\n            }\r\n            else {\r\n\r\n            }\r\n            this.setState({ selectedRecord });\r\n        }\r\n        else {\r\n            if (fieldName === `button_and`) {\r\n                if (selectedRecord[\"groupListJoins\"][index] === undefined) {\r\n                    selectedRecord[\"groupListJoins\"][index] = {}\r\n                }\r\n                selectedRecord[\"groupListJoins\"][index][fieldName] = selectedRecord[\"groupListJoins\"][index][fieldName] === true ? true : true;\r\n                selectedRecord[\"groupListJoins\"][index][`button_or`] = false;\r\n            }\r\n            if (fieldName === `button_or`) {\r\n                if (selectedRecord[\"groupListJoins\"][index] === undefined) {\r\n                    selectedRecord[\"groupListJoins\"][index] = {}\r\n                }\r\n                selectedRecord[\"groupListJoins\"][index][fieldName] = selectedRecord[\"groupListJoins\"][index][fieldName] === true ? true : true;\r\n                selectedRecord[\"groupListJoins\"][index][`button_and`] = false;\r\n            }\r\n            if (fieldName === `button_not`) {\r\n                if (selectedRecord[\"groupListJoins\"][index] === undefined) {\r\n                    selectedRecord[\"groupListJoins\"][index] = {}\r\n                }\r\n                selectedRecord[\"groupListJoins\"][index][fieldName] = selectedRecord[\"groupListJoins\"][index][fieldName] === true ? false : true;\r\n            }\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, filterColumnData,\r\n    validateEsignCredential,\r\n    getRulesEngineAdd,\r\n    getSelectedRulesEngine, getRulesEngine, getEditRulesEngine\r\n})(injectIntl(RuleEngineQueryBuilder));"]},"metadata":{},"sourceType":"module"}