{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{toast}from\"react-toastify\";import{sortData}from\"../components/CommonScript\";import rsapi from\"../rsapi\";import{initRequest}from\"./LoginAction\";import{DEFAULT_RETURN}from\"./LoginTypes\";export function getSubSampleBySample(methodParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"coarelease/getSubSampleBySample\",{nsitecode:methodParam.nsitecode,npreregno:methodParam.primaryKeyValue,userinfo:methodParam.userInfo}).then(function(response){// let releaseSubSample = response.data[\"ReleaseSubSample\"];  \nvar releaseSubSample=methodParam.masterData.releaseSubSample||new Map();releaseSubSample.set(parseInt(Object.keys(response.data[\"ReleaseSubSample\"])[0]),Object.values(response.data[\"ReleaseSubSample\"])[0]);var masterData=_objectSpread(_objectSpread({},methodParam.masterData),{},{releaseSubSample:releaseSubSample},response.data);//  sortData(masterData);\ndispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,data:methodParam.data,releaseSubSample:releaseSubSample,dataState:methodParam.dataState,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleaseSelectedSamples(userInfo,controlId,selectedSampleData,data,flag){var npreregno=\"\";selectedSampleData.map(function(item,i){var s=\"\";npreregno=npreregno+item.npreregno;if(i<selectedSampleData.length){if(i<selectedSampleData.length-1){s=\",\";}npreregno=npreregno+s;}else{npreregno=item.npreregno;}});return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"coarelease/updateReleasedSample\",{npreregno:npreregno,nregtypecode:selectedSampleData[0].nregtypecode,nregsubtypecode:selectedSampleData[0].nregsubtypecode,userinfo:userInfo}).then(function(response){// let releaseSubSample =response.data[\"ReleaseSample\"];           \nvar masterData=_objectSpread(_objectSpread({},data),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,data:response.data,loading:false}});}).catch(function(error){console.log(\"errordot\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleaseSelectedSubSamples(userInfo,controlId,selectedSubSampleData,data,flag){var ntransactionsamplecode=\"\";var npreregno=\"\";selectedSubSampleData.map(function(item,i){var s=\"\";ntransactionsamplecode=ntransactionsamplecode+item.ntransactionsamplecode;npreregno=npreregno+item.npreregno;if(i<selectedSubSampleData.length){if(i<selectedSubSampleData.length-1){s=\",\";}ntransactionsamplecode=ntransactionsamplecode+s;npreregno=npreregno+s;}else{ntransactionsamplecode=item.ntransactionsamplecode;npreregno=item.npreregno;}});return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"coarelease/updateReleasedSubSample\",{npreregno:npreregno,ntransactionsamplecode:ntransactionsamplecode,userinfo:userInfo}).then(function(response){// let releaseSubSample =response.data[\"ReleaseSample\"];           \nvar masterData=_objectSpread(_objectSpread({},data),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,data:response.data,loading:false}});}).catch(function(error){console.log(\"errordot\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getTestBySample(methodParam,kjkj){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"coarelease/getTestBySample\",{nsitecode:methodParam.nsitecode,npreregno:methodParam.viewRow.npreregno,ntransactionsamplecode:methodParam.viewRow.ntransactionsamplecode,userinfo:methodParam.userInfo}).then(function(response){var releaseTest=methodParam.masterData.releaseTest||new Map();releaseTest.set(parseInt(Object.keys(response.data[\"ReleaseTest\"])[0]),Object.values(response.data[\"ReleaseTest\"])[0]);var masterData=_objectSpread(_objectSpread({},methodParam.masterData),{},{releaseTest:releaseTest},response.data);//  sortData(masterData);\ndispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,data:methodParam.data,releaseTest:releaseTest,dataState:methodParam.dataState,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleaseSelectedTest(userInfo,controlId,selectedTestData,data,flag){var ntransactionsamplecode=\"\";var npreregno=\"\";var ntransactiontestcode=\"\";selectedTestData.map(function(item,i){var s=\"\";ntransactionsamplecode=ntransactionsamplecode+item.ntransactionsamplecode;npreregno=npreregno+item.npreregno;ntransactiontestcode=ntransactiontestcode+item.ntransactiontestcode;if(i<selectedTestData.length){if(i<selectedTestData.length-1){s=\",\";}ntransactionsamplecode=ntransactionsamplecode+s;npreregno=npreregno+s;ntransactiontestcode=ntransactiontestcode+s;}else{ntransactionsamplecode=item.ntransactionsamplecode;npreregno=item.npreregno;ntransactiontestcode=item.ntransactiontestcode;}});return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"coarelease/updateReleasedTest\",{npreregno:npreregno,ntransactionsamplecode:ntransactionsamplecode,ntransactiontestcode:ntransactiontestcode,userinfo:userInfo}).then(function(response){// let releaseSubSample =response.data[\"ReleaseSample\"];           \nvar masterData=_objectSpread(_objectSpread({},data),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,data:response.data,loading:false}});}).catch(function(error){console.log(\"errordot\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}// export function getReleaseSelectedSampleSubSampleTest(userInfo, control, SampleArray1, SubSampleArray1, TestArray1,SampleArray,SubSampleArray,TestArray,Data1,k) {    \n//    let ntransactionsamplecode = \"\"\n//    let npreregno = \"\"\n//     let ntransactiontestcode = \"\" \n//     let bFlag = \"\" \n//     if (TestArray !== undefined) {\n//         TestArray.map(test => {\n//             ntransactionsamplecode += test.ntransactionsamplecode + ',';\n//             npreregno += test.npreregno + ',';\n//             ntransactiontestcode += test.ntransactiontestcode + ',';\n//         })\n//         TestArray = {\n//             ntransactionsamplecode: ntransactionsamplecode,\n//             npreregno: npreregno,\n//             ntransactiontestcode: ntransactiontestcode,\n//             bFlag:\"3\"\n//         }\n//     }   \n//     if (SubSampleArray !== undefined) {\n//         SubSampleArray.map(SubSample => {\n//             ntransactionsamplecode += SubSample.ntransactionsamplecode + ',';\n//             npreregno += SubSample.npreregno + ',';\n//             ntransactiontestcode += SubSample.ntransactiontestcode + ',';\n//             SubSampleArray = {\n//                 ntransactionsamplecode: ntransactionsamplecode,\n//                 npreregno: npreregno,\n//                 ntransactiontestcode: ntransactiontestcode,\n//                 bFlag:\"2\"\n//             }\n//         })\n//     }\n//     if (SampleArray !== undefined) {\n//         SampleArray.map(Sample => {\n//             ntransactionsamplecode += Sample.ntransactionsamplecode + ',';\n//             npreregno += Sample.npreregno + ',';\n//             ntransactiontestcode += Sample.ntransactiontestcode + ',';\n//         })\n//         SampleArray = {\n//             ntransactionsamplecode: ntransactionsamplecode,\n//             npreregno: npreregno,\n//             ntransactiontestcode: ntransactiontestcode,\n//             bFlag:\"1\"\n//         }\n//     }\n//     let allNpreregno = []\n//     if (SampleArray1 !== undefined) {\n//         SampleArray1.map(temp => {\n//             allNpreregno += temp + ','\n//         })\n//     }\n//     let allNtransactionsamplecode = []\n//     if (SubSampleArray1 !== undefined) {\n//         SubSampleArray1.map(temp => {\n//             allNtransactionsamplecode += temp + ','\n//         })\n//     }\n//     let allNtransactiontestcode = []\n//     if (TestArray1 !== undefined) {\n//         TestArray1.map(temp => {\n//             allNtransactiontestcode += temp + ','\n//         })\n//     }\n//     return function (dispatch) {  \n//     dispatch(initRequest(true));\n//     return rsapi.post(\"coarelease/updateStatus\", \n//         {\n//             SampleArray:SampleArray,\n//             SubSampleArray:SubSampleArray,\n//             TestArray: TestArray,\n//             userinfo: userInfo,\n//             allNtransactionsamplecode: allNtransactionsamplecode,\n//             allNtransactiontestcode: allNtransactiontestcode,\n//             allNpreregno:allNpreregno\n//         })\n//     .then(response=>{ \n//        // let releaseSubSample = response.data[\"ReleaseSubSample\"];  \n//        let releaseSubSample = Data1.releaseSubSample || new Map();           \n//        let releaseTest = Data1.releaseTest || new Map();           \n//        releaseSubSample = Data1.releaseSubSample || new Map();           \n//              releaseTest = Data1.releaseTest || new Map();\n// if(response.data.body[\"cFlag\"]===\"3\"){\n//             releaseTest.set(parseInt(Object.keys(response.data.body[\"ReleaseTest\"])[0]), Object.values(response.data.body[\"ReleaseTest\"])[0]);\n//        }\n//       //  else {\n//         if(response.data.body[\"cFlag\"]===\"2\"){\n//             releaseSubSample.set(parseInt(Object.keys(response.data.body[\"ReleaseSubSample\"])[0]), Object.values(response.data.body[\"ReleaseSubSample\"])[0]);\n//         }\n//         let masterData = { ...Data1, releaseSubSample,releaseTest,...response.data.body};\n//             sortData(masterData);\n//             dispatch({type: DEFAULT_RETURN, payload:{masterData,\n//                 data:releaseSubSample,releaseTest,\n//                       //  dataState:dataState,\n//                         loading:false\n//                     }});\n//         })\n//         .catch(error=>{\n//             dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\n//             if (error.response.status === 500){\n//                 toast.error(error.message);\n//             } \n//             else{               \n//                 toast.warn(error.response.data);\n//             }  \n//         })        \n//     }\n// }\nexport function getReleaseSelectedSampleSubSampleTest(userInfo,control,SampleArray1,SubSampleArray1,TestArray1,SampleArray,SubSampleArray,TestArray,Data1,k){var ntransactionsamplecode=\"\";var ntransactiontestcode=\"\";var npreregno=\"\";var bFlag=\"\";if(TestArray!==undefined){var sample=SampleArray1.filter(function(c,index){return SampleArray1.indexOf(c)===index;});var subsample=SubSampleArray1.filter(function(c,index){return SubSampleArray1.indexOf(c)===index;});var test=TestArray1.filter(function(c,index){return TestArray1.indexOf(c)===index;});npreregno=sample.map(function(x){return x;}).join(\",\");ntransactionsamplecode=subsample.map(function(x){return x;}).join(\",\");ntransactiontestcode=test.map(function(x){return x;}).join(\",\");TestArray={ntransactionsamplecode:ntransactionsamplecode,npreregno:npreregno,ntransactiontestcode:ntransactiontestcode,bFlag:\"3\"};}return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"coarelease/updateStatus\",{TestArray:TestArray,userinfo:userInfo}).then(function(response){// let releaseSubSample = response.data[\"ReleaseSubSample\"];  \nvar releaseSubSample=Data1.releaseSubSample||new Map();var releaseTest=Data1.releaseTest||new Map();releaseSubSample=Data1.releaseSubSample||new Map();releaseTest=Data1.releaseTest||new Map();releaseTest.set(parseInt(Object.keys(response.data.body[\"ReleaseTest\"])[0]),Object.values(response.data.body[\"ReleaseTest\"])[0]);releaseSubSample.set(parseInt(Object.keys(response.data.body[\"ReleaseSubSample\"])[0]),Object.values(response.data.body[\"ReleaseSubSample\"])[0]);var masterData=_objectSpread(_objectSpread({},Data1),{},{releaseSubSample:releaseSubSample,releaseTest:releaseTest},response.data.body);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,data:releaseSubSample,releaseTest:releaseTest,//  dataState:dataState,\nloading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/COAReleaseAction.js"],"names":["toast","sortData","rsapi","initRequest","DEFAULT_RETURN","getSubSampleBySample","methodParam","dispatch","post","nsitecode","npreregno","primaryKeyValue","userinfo","userInfo","then","response","releaseSubSample","masterData","Map","set","parseInt","Object","keys","data","values","type","payload","dataState","loading","catch","error","status","message","warn","getReleaseSelectedSamples","controlId","selectedSampleData","flag","map","item","i","s","length","nregtypecode","nregsubtypecode","console","log","getReleaseSelectedSubSamples","selectedSubSampleData","ntransactionsamplecode","getTestBySample","kjkj","viewRow","releaseTest","getReleaseSelectedTest","selectedTestData","ntransactiontestcode","getReleaseSelectedSampleSubSampleTest","control","SampleArray1","SubSampleArray1","TestArray1","SampleArray","SubSampleArray","TestArray","Data1","k","bFlag","undefined","sample","filter","c","index","indexOf","subsample","test","x","join","body"],"mappings":"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,CApBE,EAqBFC,KArBE,CAqBI,SAAAC,KAAK,CAAI,CACZe,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAuBhB,KAAvB,EACAvB,QAAQ,CAAC,CAACkB,IAAI,CAAErB,cAAP,CAAuBsB,OAAO,CAAE,CAACE,OAAO,CAAC,KAAT,CAAhC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAkC,CAC9B/B,KAAK,CAAC8B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGI,CACAhC,KAAK,CAACiC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CA9BE,CAAP,CA+BC,CAjCD,CAkCH,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAO,SAASkC,CAAAA,qCAAT,CAA+C5C,QAA/C,CAAyD6C,OAAzD,CAAkEC,YAAlE,CAAgFC,eAAhF,CAAiGC,UAAjG,CAA6GC,WAA7G,CAA0HC,cAA1H,CAA0IC,SAA1I,CAAqJC,KAArJ,CAA4JC,CAA5J,CAA+J,CAClK,GAAIjB,CAAAA,sBAAsB,CAAG,EAA7B,CACA,GAAIO,CAAAA,oBAAoB,CAAG,EAA3B,CACA,GAAI9C,CAAAA,SAAS,CAAG,EA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","sourcesContent":["import { toast } from \"react-toastify\";\r\nimport { sortData } from \"../components/CommonScript\";\r\nimport rsapi from \"../rsapi\";\r\nimport { initRequest } from \"./LoginAction\";\r\nimport { DEFAULT_RETURN } from \"./LoginTypes\";\r\n\r\nexport function getSubSampleBySample (methodParam) {            \r\n    return function (dispatch) {  \r\n    dispatch(initRequest(true));\r\n    return rsapi.post(\"coarelease/getSubSampleBySample\", \r\n                                    {nsitecode:methodParam.nsitecode, npreregno:methodParam.primaryKeyValue,\r\n                                    userinfo:methodParam.userInfo})\r\n    .then(response=>{ \r\n       // let releaseSubSample = response.data[\"ReleaseSubSample\"];  \r\n        let releaseSubSample = methodParam.masterData.releaseSubSample || new Map();           \r\n\r\n            releaseSubSample.set(parseInt(Object.keys(response.data[\"ReleaseSubSample\"])[0]), Object.values(response.data[\"ReleaseSubSample\"])[0]);\r\n        let masterData = { ...methodParam.masterData, releaseSubSample,...response.data};\r\n\r\n          //  sortData(masterData);\r\n            dispatch({type: DEFAULT_RETURN, payload:{masterData,\r\n                        data: methodParam.data,releaseSubSample,\r\n                        dataState:methodParam.dataState,\r\n                        loading:false\r\n                    }});\r\n        })\r\n        .catch(error=>{\r\n            dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n            if (error.response.status === 500){\r\n                toast.error(error.message);\r\n            } \r\n            else{               \r\n                toast.warn(error.response.data);\r\n            }  \r\n        })        \r\n    }\r\n}\r\n\r\nexport function getReleaseSelectedSamples(userInfo, controlId, selectedSampleData, data, flag) {  \r\n    let npreregno=\"\"\r\n    selectedSampleData.map((item, i) => {\r\n        let s = \"\"\r\n        npreregno = npreregno+item.npreregno;\r\n        if (i<selectedSampleData.length) {\r\n            if (i < selectedSampleData.length - 1) {\r\n                 s=\",\"\r\n            }\r\n            npreregno =npreregno+s;\r\n        }\r\n        else {\r\n            npreregno = item.npreregno;\r\n        }\r\n    })\r\n    return function (dispatch) {  \r\n    dispatch(initRequest(true));\r\n    return rsapi.post(\"coarelease/updateReleasedSample\", \r\n        {\r\n            npreregno: npreregno,\r\n            nregtypecode: selectedSampleData[0].nregtypecode,\r\n            nregsubtypecode:selectedSampleData[0].nregsubtypecode,\r\n\r\n                                    userinfo:userInfo})\r\n    .then(response=>{ \r\n           // let releaseSubSample =response.data[\"ReleaseSample\"];           \r\n        let masterData = { ...data, ...response.data};\r\n           \r\n           sortData(masterData);\r\n            dispatch({type: DEFAULT_RETURN, payload:{\r\n                masterData,\r\n                        data:response.data,\r\n                        loading:false\r\n                    }});\r\n        })\r\n        .catch(error => {\r\n            console.log(\"errordot\",error)\r\n            dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n            if (error.response.status === 500){\r\n                toast.error(error.message);\r\n            } \r\n            else{               \r\n                toast.warn(error.response.data);\r\n            }  \r\n        })        \r\n    }\r\n}\r\nexport function getReleaseSelectedSubSamples(userInfo, controlId, selectedSubSampleData, data, flag) {      \r\n    let ntransactionsamplecode = \"\"\r\n    let npreregno=\"\"\r\n\r\n    selectedSubSampleData.map((item, i) => {\r\n        let s = \"\"\r\n        ntransactionsamplecode = ntransactionsamplecode + item.ntransactionsamplecode;\r\n        npreregno = npreregno+item.npreregno;\r\n\r\n        if (i<selectedSubSampleData.length) {\r\n            if (i < selectedSubSampleData.length - 1) {\r\n                 s=\",\"\r\n            }\r\n            ntransactionsamplecode = ntransactionsamplecode + s;\r\n            npreregno =npreregno+s;\r\n\r\n        }\r\n        else {\r\n            ntransactionsamplecode = item.ntransactionsamplecode;\r\n            npreregno = item.npreregno;\r\n\r\n        }\r\n    })\r\n    return function (dispatch) {  \r\n    dispatch(initRequest(true));\r\n    return rsapi.post(\"coarelease/updateReleasedSubSample\", \r\n        {\r\n             \r\n            npreregno: npreregno,\r\n            ntransactionsamplecode: ntransactionsamplecode,\r\n\r\n            userinfo: userInfo\r\n        })\r\n      \r\n    .then(response=>{ \r\n           // let releaseSubSample =response.data[\"ReleaseSample\"];           \r\n        let masterData = { ...data, ...response.data};\r\n           \r\n           sortData(masterData);\r\n            dispatch({type: DEFAULT_RETURN, payload:{\r\n                masterData,\r\n                        data:response.data,\r\n                        loading:false\r\n                    }});\r\n        })\r\n        .catch(error => {\r\n            console.log(\"errordot\",error)\r\n            dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n            if (error.response.status === 500){\r\n                toast.error(error.message);\r\n            } \r\n            else{               \r\n                toast.warn(error.response.data);\r\n            }  \r\n        })        \r\n    }\r\n}\r\nexport function getTestBySample(methodParam, kjkj) {   \r\n    \r\n    return function (dispatch) {  \r\n    dispatch(initRequest(true));\r\n    return rsapi.post(\"coarelease/getTestBySample\", \r\n        {\r\n            nsitecode: methodParam.nsitecode, npreregno: methodParam.viewRow.npreregno,\r\n                                        ntransactionsamplecode:methodParam.viewRow.ntransactionsamplecode,\r\n                                    userinfo:methodParam.userInfo})\r\n    .then(response=>{ \r\n        let releaseTest = methodParam.masterData.releaseTest || new Map();           \r\n            releaseTest.set(parseInt(Object.keys(response.data[\"ReleaseTest\"])[0]), Object.values(response.data[\"ReleaseTest\"])[0]);\r\n        let masterData = { ...methodParam.masterData,releaseTest,...response.data};\r\n\r\n          //  sortData(masterData);\r\n            dispatch({type: DEFAULT_RETURN, payload:{masterData,\r\n                data: methodParam.data,\r\n                releaseTest,\r\n                        dataState:methodParam.dataState,\r\n                        loading:false\r\n                    }});\r\n        })\r\n        .catch(error=>{\r\n            dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n            if (error.response.status === 500){\r\n                toast.error(error.message);\r\n            } \r\n            else{               \r\n                toast.warn(error.response.data);\r\n            }  \r\n        })        \r\n    }\r\n}\r\nexport function getReleaseSelectedTest(userInfo, controlId, selectedTestData, data, flag) {   \r\n    let ntransactionsamplecode = \"\"\r\n    let npreregno = \"\"\r\n    let ntransactiontestcode=\"\"\r\n\r\n    selectedTestData.map((item, i) => {\r\n        let s = \"\"\r\n        ntransactionsamplecode = ntransactionsamplecode + item.ntransactionsamplecode;\r\n        npreregno = npreregno+item.npreregno;\r\n        ntransactiontestcode = ntransactiontestcode+item.ntransactiontestcode;\r\n\r\n        if (i<selectedTestData.length) {\r\n            if (i < selectedTestData.length - 1) {\r\n                 s=\",\"\r\n            }\r\n            ntransactionsamplecode = ntransactionsamplecode + s;\r\n            npreregno =npreregno+s;\r\n            ntransactiontestcode = ntransactiontestcode+s;\r\n\r\n        }\r\n        else {\r\n            ntransactionsamplecode = item.ntransactionsamplecode;\r\n            npreregno = item.npreregno;\r\n            ntransactiontestcode = item.ntransactiontestcode;\r\n\r\n        }\r\n    })\r\n    return function (dispatch) {  \r\n    dispatch(initRequest(true));\r\n    return rsapi.post(\"coarelease/updateReleasedTest\", \r\n        {\r\n             \r\n            npreregno: npreregno,\r\n            ntransactionsamplecode: ntransactionsamplecode,  \r\n            ntransactiontestcode: ntransactiontestcode,\r\n\r\n            userinfo: userInfo\r\n        })\r\n      \r\n    .then(response=>{ \r\n           // let releaseSubSample =response.data[\"ReleaseSample\"];           \r\n        let masterData = { ...data, ...response.data};\r\n           \r\n           sortData(masterData);\r\n            dispatch({type: DEFAULT_RETURN, payload:{\r\n                masterData,\r\n                        data:response.data,\r\n                        loading:false\r\n                    }});\r\n        })\r\n        .catch(error => {\r\n            console.log(\"errordot\",error)\r\n            dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n            if (error.response.status === 500){\r\n                toast.error(error.message);\r\n            } \r\n            else{               \r\n                toast.warn(error.response.data);\r\n            }  \r\n        })        \r\n    }\r\n}\r\n// export function getReleaseSelectedSampleSubSampleTest(userInfo, control, SampleArray1, SubSampleArray1, TestArray1,SampleArray,SubSampleArray,TestArray,Data1,k) {    \r\n//    let ntransactionsamplecode = \"\"\r\n//    let npreregno = \"\"\r\n//     let ntransactiontestcode = \"\" \r\n//     let bFlag = \"\" \r\n//     if (TestArray !== undefined) {\r\n//         TestArray.map(test => {\r\n//             ntransactionsamplecode += test.ntransactionsamplecode + ',';\r\n//             npreregno += test.npreregno + ',';\r\n//             ntransactiontestcode += test.ntransactiontestcode + ',';\r\n//         })\r\n//         TestArray = {\r\n//             ntransactionsamplecode: ntransactionsamplecode,\r\n//             npreregno: npreregno,\r\n//             ntransactiontestcode: ntransactiontestcode,\r\n//             bFlag:\"3\"\r\n\r\n//         }\r\n//     }   \r\n//     if (SubSampleArray !== undefined) {\r\n//         SubSampleArray.map(SubSample => {\r\n//             ntransactionsamplecode += SubSample.ntransactionsamplecode + ',';\r\n//             npreregno += SubSample.npreregno + ',';\r\n//             ntransactiontestcode += SubSample.ntransactiontestcode + ',';\r\n//             SubSampleArray = {\r\n//                 ntransactionsamplecode: ntransactionsamplecode,\r\n//                 npreregno: npreregno,\r\n//                 ntransactiontestcode: ntransactiontestcode,\r\n//                 bFlag:\"2\"\r\n\r\n//             }\r\n//         })\r\n//     }\r\n//     if (SampleArray !== undefined) {\r\n\r\n//         SampleArray.map(Sample => {\r\n//             ntransactionsamplecode += Sample.ntransactionsamplecode + ',';\r\n//             npreregno += Sample.npreregno + ',';\r\n//             ntransactiontestcode += Sample.ntransactiontestcode + ',';\r\n\r\n//         })\r\n//         SampleArray = {\r\n//             ntransactionsamplecode: ntransactionsamplecode,\r\n//             npreregno: npreregno,\r\n//             ntransactiontestcode: ntransactiontestcode,\r\n//             bFlag:\"1\"\r\n\r\n//         }\r\n//     }\r\n//     let allNpreregno = []\r\n//     if (SampleArray1 !== undefined) {\r\n\r\n//         SampleArray1.map(temp => {\r\n//             allNpreregno += temp + ','\r\n//         })\r\n//     }\r\n//     let allNtransactionsamplecode = []\r\n//     if (SubSampleArray1 !== undefined) {\r\n\r\n//         SubSampleArray1.map(temp => {\r\n//             allNtransactionsamplecode += temp + ','\r\n//         })\r\n//     }\r\n//     let allNtransactiontestcode = []\r\n//     if (TestArray1 !== undefined) {\r\n\r\n//         TestArray1.map(temp => {\r\n//             allNtransactiontestcode += temp + ','\r\n//         })\r\n//     }\r\n\r\n//     return function (dispatch) {  \r\n//     dispatch(initRequest(true));\r\n//     return rsapi.post(\"coarelease/updateStatus\", \r\n//         {\r\n//             SampleArray:SampleArray,\r\n//             SubSampleArray:SubSampleArray,\r\n//             TestArray: TestArray,\r\n//             userinfo: userInfo,\r\n//             allNtransactionsamplecode: allNtransactionsamplecode,\r\n//             allNtransactiontestcode: allNtransactiontestcode,\r\n//             allNpreregno:allNpreregno\r\n//         })\r\n//     .then(response=>{ \r\n//        // let releaseSubSample = response.data[\"ReleaseSubSample\"];  \r\n//        let releaseSubSample = Data1.releaseSubSample || new Map();           \r\n//        let releaseTest = Data1.releaseTest || new Map();           \r\n//        releaseSubSample = Data1.releaseSubSample || new Map();           \r\n\r\n//              releaseTest = Data1.releaseTest || new Map();\r\n// if(response.data.body[\"cFlag\"]===\"3\"){\r\n//             releaseTest.set(parseInt(Object.keys(response.data.body[\"ReleaseTest\"])[0]), Object.values(response.data.body[\"ReleaseTest\"])[0]);\r\n//        }\r\n//       //  else {\r\n//         if(response.data.body[\"cFlag\"]===\"2\"){\r\n\r\n\r\n//             releaseSubSample.set(parseInt(Object.keys(response.data.body[\"ReleaseSubSample\"])[0]), Object.values(response.data.body[\"ReleaseSubSample\"])[0]);\r\n\r\n//         }\r\n//         let masterData = { ...Data1, releaseSubSample,releaseTest,...response.data.body};\r\n\r\n//             sortData(masterData);\r\n//             dispatch({type: DEFAULT_RETURN, payload:{masterData,\r\n//                 data:releaseSubSample,releaseTest,\r\n//                       //  dataState:dataState,\r\n//                         loading:false\r\n//                     }});\r\n//         })\r\n//         .catch(error=>{\r\n//             dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n//             if (error.response.status === 500){\r\n//                 toast.error(error.message);\r\n//             } \r\n//             else{               \r\n//                 toast.warn(error.response.data);\r\n//             }  \r\n//         })        \r\n//     }\r\n// }\r\nexport function getReleaseSelectedSampleSubSampleTest(userInfo, control, SampleArray1, SubSampleArray1, TestArray1, SampleArray, SubSampleArray, TestArray, Data1, k) {\r\n    let ntransactionsamplecode = \"\"\r\n    let ntransactiontestcode = \"\"\r\n    let npreregno = \"\"\r\n\r\n    let bFlag = \"\"\r\n    if (TestArray !== undefined) {\r\n        let sample = SampleArray1.filter((c, index) => {\r\n            return SampleArray1.indexOf(c) === index;\r\n        });\r\n        let subsample = SubSampleArray1.filter((c, index) => {\r\n            return SubSampleArray1.indexOf(c) === index;\r\n        });\r\n        let test = TestArray1.filter((c, index) => {\r\n            return TestArray1.indexOf(c) === index;\r\n        });\r\n        npreregno = sample.map(x => x).join(\",\")\r\n        ntransactionsamplecode=subsample.map(x => x).join(\",\")\r\n        ntransactiontestcode=test.map(x => x).join(\",\")\r\n        \r\n         TestArray = {\r\n             ntransactionsamplecode: ntransactionsamplecode,\r\n             npreregno: npreregno,\r\n             ntransactiontestcode: ntransactiontestcode,\r\n             bFlag:\"3\"\r\n \r\n         }\r\n     }   \r\n     \r\n     return function (dispatch) {  \r\n     dispatch(initRequest(true));\r\n     return rsapi.post(\"coarelease/updateStatus\", \r\n         {\r\n             TestArray: TestArray,\r\n             userinfo: userInfo,\r\n         })\r\n     .then(response=>{ \r\n        // let releaseSubSample = response.data[\"ReleaseSubSample\"];  \r\n        let releaseSubSample = Data1.releaseSubSample || new Map();           \r\n        let releaseTest = Data1.releaseTest || new Map();           \r\n        releaseSubSample = Data1.releaseSubSample || new Map();           \r\n \r\n              releaseTest = Data1.releaseTest || new Map();\r\n             releaseTest.set(parseInt(Object.keys(response.data.body[\"ReleaseTest\"])[0]), Object.values(response.data.body[\"ReleaseTest\"])[0]);\r\n     \r\n \r\n \r\n             releaseSubSample.set(parseInt(Object.keys(response.data.body[\"ReleaseSubSample\"])[0]), Object.values(response.data.body[\"ReleaseSubSample\"])[0]);\r\n \r\n         \r\n         let masterData = { ...Data1, releaseSubSample,releaseTest,...response.data.body};\r\n \r\n             sortData(masterData);\r\n             dispatch({type: DEFAULT_RETURN, payload:{masterData,\r\n                 data:releaseSubSample,releaseTest,\r\n                       //  dataState:dataState,\r\n                         loading:false\r\n                     }});\r\n         })\r\n         .catch(error=>{\r\n             dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n             if (error.response.status === 500){\r\n                 toast.error(error.message);\r\n             } \r\n             else{               \r\n                 toast.warn(error.response.data);\r\n             }  \r\n         })        \r\n     }\r\n }\r\n "]},"metadata":{},"sourceType":"module"}