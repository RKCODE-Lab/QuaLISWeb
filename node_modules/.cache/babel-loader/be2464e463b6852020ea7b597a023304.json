{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.simulateAsyncFetch = exports.mergeListValues = exports.listValueToOption = exports.getListValue = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _stuff = require(\"./stuff\");\n\nvar simulateAsyncFetch = function simulateAsyncFetch(all) {\n  var cPageSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n  return /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(search, offset, meta) {\n      var pageSize, filtered, pages, currentOffset, currentPage, values, newOffset, hasMore;\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              pageSize = meta.pageSize != undefined ? meta.pageSize : cPageSize;\n              filtered = (0, _stuff.listValuesToArray)(all).filter(function (_ref2) {\n                var title = _ref2.title;\n                return search == null ? true : title.toUpperCase().indexOf(search.toUpperCase()) != -1;\n              });\n              pages = pageSize ? Math.ceil(filtered.length / pageSize) : 0;\n              currentOffset = offset || 0;\n              currentPage = pageSize ? Math.ceil(currentOffset / pageSize) : null;\n              values = pageSize ? filtered.slice(currentOffset, currentOffset + pageSize) : filtered;\n              newOffset = pageSize ? currentOffset + values.length : null;\n              hasMore = pageSize ? newOffset < filtered.length : false;\n              console.debug(\"simulateAsyncFetch\", {\n                search: search,\n                offset: offset,\n                values: values,\n                hasMore: hasMore,\n                filtered: filtered\n              });\n              _context.next = 11;\n              return (0, _stuff.sleep)(delay);\n\n            case 11:\n              return _context.abrupt(\"return\", {\n                values: values,\n                hasMore: hasMore\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\n\nexports.simulateAsyncFetch = simulateAsyncFetch;\n\nvar mergeListValues = function mergeListValues(values, newValues) {\n  var toStart = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (!newValues) return values;\n  var old = values || [];\n  var newFiltered = newValues.filter(function (v) {\n    return old.find(function (av) {\n      return av.value == v.value;\n    }) == undefined;\n  });\n  var merged = toStart ? [].concat((0, _toConsumableArray2[\"default\"])(newFiltered), (0, _toConsumableArray2[\"default\"])(old)) : [].concat((0, _toConsumableArray2[\"default\"])(old), (0, _toConsumableArray2[\"default\"])(newFiltered));\n  return merged;\n};\n\nexports.mergeListValues = mergeListValues;\n\nvar listValueToOption = function listValueToOption(lv) {\n  if (lv == null) return null;\n  var title = lv.title,\n      value = lv.value,\n      disabled = lv.disabled,\n      groupTitle = lv.groupTitle,\n      renderTitle = lv.renderTitle;\n  var option = {\n    title: title,\n    value: value\n  };\n  if (disabled) option.disabled = disabled;\n  if (groupTitle) option.groupTitle = groupTitle;\n  if (renderTitle) option.renderTitle = renderTitle;\n  return option;\n};\n\nexports.listValueToOption = listValueToOption;\n\nvar getListValue = function getListValue(selectedValue, listValues) {\n  return (0, _stuff.mapListValues)(listValues, function (lv) {\n    return lv.value === selectedValue ? lv : null;\n  }).filter(function (v) {\n    return v !== null;\n  }).shift();\n};\n\nexports.getListValue = getListValue;","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/node_modules/react-awesome-query-builder/lib/utils/autocomplete.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","simulateAsyncFetch","mergeListValues","listValueToOption","getListValue","_regenerator","_toConsumableArray2","_asyncToGenerator2","_stuff","all","cPageSize","arguments","length","undefined","delay","_ref","mark","_callee","search","offset","meta","pageSize","filtered","pages","currentOffset","currentPage","values","newOffset","hasMore","wrap","_callee$","_context","prev","next","listValuesToArray","filter","_ref2","title","toUpperCase","indexOf","Math","ceil","slice","console","debug","sleep","abrupt","stop","_x","_x2","_x3","apply","newValues","toStart","old","newFiltered","v","find","av","merged","concat","lv","disabled","groupTitle","renderTitle","option","selectedValue","listValues","mapListValues","shift"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.simulateAsyncFetch = exports.mergeListValues = exports.listValueToOption = exports.getListValue = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _stuff = require(\"./stuff\");\n\nvar simulateAsyncFetch = function simulateAsyncFetch(all) {\n  var cPageSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n  return /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(search, offset, meta) {\n      var pageSize, filtered, pages, currentOffset, currentPage, values, newOffset, hasMore;\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              pageSize = meta.pageSize != undefined ? meta.pageSize : cPageSize;\n              filtered = (0, _stuff.listValuesToArray)(all).filter(function (_ref2) {\n                var title = _ref2.title;\n                return search == null ? true : title.toUpperCase().indexOf(search.toUpperCase()) != -1;\n              });\n              pages = pageSize ? Math.ceil(filtered.length / pageSize) : 0;\n              currentOffset = offset || 0;\n              currentPage = pageSize ? Math.ceil(currentOffset / pageSize) : null;\n              values = pageSize ? filtered.slice(currentOffset, currentOffset + pageSize) : filtered;\n              newOffset = pageSize ? currentOffset + values.length : null;\n              hasMore = pageSize ? newOffset < filtered.length : false;\n              console.debug(\"simulateAsyncFetch\", {\n                search: search,\n                offset: offset,\n                values: values,\n                hasMore: hasMore,\n                filtered: filtered\n              });\n              _context.next = 11;\n              return (0, _stuff.sleep)(delay);\n\n            case 11:\n              return _context.abrupt(\"return\", {\n                values: values,\n                hasMore: hasMore\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\n\nexports.simulateAsyncFetch = simulateAsyncFetch;\n\nvar mergeListValues = function mergeListValues(values, newValues) {\n  var toStart = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (!newValues) return values;\n  var old = values || [];\n  var newFiltered = newValues.filter(function (v) {\n    return old.find(function (av) {\n      return av.value == v.value;\n    }) == undefined;\n  });\n  var merged = toStart ? [].concat((0, _toConsumableArray2[\"default\"])(newFiltered), (0, _toConsumableArray2[\"default\"])(old)) : [].concat((0, _toConsumableArray2[\"default\"])(old), (0, _toConsumableArray2[\"default\"])(newFiltered));\n  return merged;\n};\n\nexports.mergeListValues = mergeListValues;\n\nvar listValueToOption = function listValueToOption(lv) {\n  if (lv == null) return null;\n  var title = lv.title,\n      value = lv.value,\n      disabled = lv.disabled,\n      groupTitle = lv.groupTitle,\n      renderTitle = lv.renderTitle;\n  var option = {\n    title: title,\n    value: value\n  };\n  if (disabled) option.disabled = disabled;\n  if (groupTitle) option.groupTitle = groupTitle;\n  if (renderTitle) option.renderTitle = renderTitle;\n  return option;\n};\n\nexports.listValueToOption = listValueToOption;\n\nvar getListValue = function getListValue(selectedValue, listValues) {\n  return (0, _stuff.mapListValues)(listValues, function (lv) {\n    return lv.value === selectedValue ? lv : null;\n  }).filter(function (v) {\n    return v !== null;\n  }).shift();\n};\n\nexports.getListValue = getListValue;"]},"metadata":{},"sourceType":"script"}