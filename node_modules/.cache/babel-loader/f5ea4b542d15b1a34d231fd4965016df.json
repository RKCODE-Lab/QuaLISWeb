{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport { Calendar } from '@progress/kendo-react-dateinputs';\nimport { useInternationalization } from '@progress/kendo-react-intl';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { ZonedDate, getDate } from '@progress/kendo-date-math';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { useAsyncFocusBlur, useWindow } from '@progress/kendo-react-common';\nimport { useSchedulerDateFormatContext, useSchedulerDateRangeContext, useSchedulerDateContext, useSchedulerPropsContext, useSchedulerElementContext } from '../../../context/SchedulerContext';\nimport { toUTCDateTime } from '../../../utils';\nimport { MS_PER_DAY } from '../../../constants';\n/** @hidden */\n\nexport var NavigationDatePicker = React.forwardRef(function (props, ref) {\n  var _a;\n\n  var button = React.useRef(null);\n  var calendar = React.useRef(null);\n  React.useImperativeHandle(ref, function () {\n    return button.current;\n  });\n  var timezone = useSchedulerPropsContext().timezone;\n  var normalized = ZonedDate.fromLocalDate(props.value, timezone);\n  var value = getDate(normalized);\n  var element = useSchedulerElementContext();\n  var getWindow = useWindow(element);\n\n  var _b = React.useState('desktop'),\n      media = _b[0],\n      setMedia = _b[1];\n\n  var _c = React.useState(false),\n      show = _c[0],\n      setShow = _c[1];\n\n  var _d = React.useState(false),\n      focused = _d[0],\n      setFocused = _d[1];\n\n  var intl = useInternationalization();\n\n  var _e = useSchedulerDateFormatContext(),\n      dateFormat = _e.dateFormat,\n      shortDateFormat = _e.shortDateFormat;\n\n  var dateRange = useSchedulerDateRangeContext();\n  var date = useSchedulerDateContext()[0];\n  var isMonthView = dateRange.end.getTime() - dateRange.start.getTime() > MS_PER_DAY * 27;\n  var text = intl.format(dateFormat, isMonthView ? date : dateRange.zonedStart, isMonthView ? date : dateRange.zonedEnd.addDays(-1));\n  var shortText = intl.format(shortDateFormat, isMonthView ? date : dateRange.zonedStart, isMonthView ? date : dateRange.zonedEnd.addDays(-1));\n  var handleClick = React.useCallback(function () {\n    setShow(!show);\n  }, [show]);\n  var handleFocus = React.useCallback(function () {\n    setFocused(true);\n  }, []);\n  var handleBlur = React.useCallback(function () {\n    setShow(false);\n    setFocused(false);\n  }, []);\n  var handleChange = React.useCallback(function (event) {\n    if (props.onChange) {\n      var normalizedValue = ZonedDate.fromUTCDate(toUTCDateTime(event.value), timezone);\n      props.onChange.call(undefined, __assign(__assign({}, event), {\n        value: normalizedValue\n      }));\n    }\n\n    setShow(false);\n  }, [props.onChange, timezone]);\n  var calculateMedia = React.useCallback(function () {\n    setMedia(getWindow().matchMedia('(min-width: 1024px)').matches ? 'desktop' : 'mobile');\n  }, [getWindow]);\n  React.useEffect(function () {\n    calculateMedia();\n    var observer = new (getWindow().ResizeObserver)(calculateMedia);\n    observer.observe(element.current);\n    return function () {\n      observer.disconnect();\n    };\n  }, [calculateMedia, element, getWindow]);\n  React.useEffect(function () {\n    if (show && focused) {\n      if (calendar.current) {\n        calendar.current.focus();\n      }\n    }\n  }, [focused, show]);\n\n  var _f = useAsyncFocusBlur({\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  }),\n      onFocus = _f.onFocus,\n      onBlur = _f.onBlur;\n\n  return React.createElement(React.Fragment, null, React.createElement(Button, {\n    ref: button,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    fillMode: 'flat',\n    className: 'k-nav-current',\n    icon: \"calendar\",\n    \"aria-live\": \"polite\",\n    tabIndex: -1,\n    onClick: handleClick\n  }, media === 'desktop' ? text : shortText), React.createElement(Popup, {\n    anchor: (_a = button.current) === null || _a === void 0 ? void 0 : _a.element,\n    show: show\n  }, React.createElement(Calendar, {\n    ref: calendar,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onChange: handleChange,\n    value: value\n  })));\n});\nNavigationDatePicker.displayName = 'KendoReactSchedulerNavigationDatePicker';","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/node_modules/@progress/kendo-react-scheduler/dist/es/components/header/navigation/NavigationDatePicker.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","Calendar","useInternationalization","Button","ZonedDate","getDate","Popup","useAsyncFocusBlur","useWindow","useSchedulerDateFormatContext","useSchedulerDateRangeContext","useSchedulerDateContext","useSchedulerPropsContext","useSchedulerElementContext","toUTCDateTime","MS_PER_DAY","NavigationDatePicker","forwardRef","props","ref","_a","button","useRef","calendar","useImperativeHandle","current","timezone","normalized","fromLocalDate","value","element","getWindow","_b","useState","media","setMedia","_c","show","setShow","_d","focused","setFocused","intl","_e","dateFormat","shortDateFormat","dateRange","date","isMonthView","end","getTime","start","text","format","zonedStart","zonedEnd","addDays","shortText","handleClick","useCallback","handleFocus","handleBlur","handleChange","event","onChange","normalizedValue","fromUTCDate","undefined","calculateMedia","matchMedia","matches","useEffect","observer","ResizeObserver","observe","disconnect","focus","_f","onFocus","onBlur","createElement","Fragment","fillMode","className","icon","tabIndex","onClick","anchor","displayName"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Calendar } from '@progress/kendo-react-dateinputs';\nimport { useInternationalization } from '@progress/kendo-react-intl';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { ZonedDate, getDate } from '@progress/kendo-date-math';\nimport { Popup } from '@progress/kendo-react-popup';\nimport { useAsyncFocusBlur, useWindow } from '@progress/kendo-react-common';\nimport { useSchedulerDateFormatContext, useSchedulerDateRangeContext, useSchedulerDateContext, useSchedulerPropsContext, useSchedulerElementContext } from '../../../context/SchedulerContext';\nimport { toUTCDateTime } from '../../../utils';\nimport { MS_PER_DAY } from '../../../constants';\n/** @hidden */\nexport var NavigationDatePicker = React.forwardRef(function (props, ref) {\n    var _a;\n    var button = React.useRef(null);\n    var calendar = React.useRef(null);\n    React.useImperativeHandle(ref, function () { return button.current; });\n    var timezone = useSchedulerPropsContext().timezone;\n    var normalized = ZonedDate.fromLocalDate(props.value, timezone);\n    var value = getDate(normalized);\n    var element = useSchedulerElementContext();\n    var getWindow = useWindow(element);\n    var _b = React.useState('desktop'), media = _b[0], setMedia = _b[1];\n    var _c = React.useState(false), show = _c[0], setShow = _c[1];\n    var _d = React.useState(false), focused = _d[0], setFocused = _d[1];\n    var intl = useInternationalization();\n    var _e = useSchedulerDateFormatContext(), dateFormat = _e.dateFormat, shortDateFormat = _e.shortDateFormat;\n    var dateRange = useSchedulerDateRangeContext();\n    var date = useSchedulerDateContext()[0];\n    var isMonthView = dateRange.end.getTime() - dateRange.start.getTime() > MS_PER_DAY * 27;\n    var text = intl.format(dateFormat, isMonthView\n        ? date\n        : dateRange.zonedStart, isMonthView\n        ? date\n        : dateRange.zonedEnd.addDays(-1));\n    var shortText = intl.format(shortDateFormat, isMonthView\n        ? date\n        : dateRange.zonedStart, isMonthView\n        ? date\n        : dateRange.zonedEnd.addDays(-1));\n    var handleClick = React.useCallback(function () { setShow(!show); }, [show]);\n    var handleFocus = React.useCallback(function () { setFocused(true); }, []);\n    var handleBlur = React.useCallback(function () {\n        setShow(false);\n        setFocused(false);\n    }, []);\n    var handleChange = React.useCallback(function (event) {\n        if (props.onChange) {\n            var normalizedValue = ZonedDate.fromUTCDate(toUTCDateTime(event.value), timezone);\n            props.onChange.call(undefined, __assign(__assign({}, event), { value: normalizedValue }));\n        }\n        setShow(false);\n    }, [props.onChange, timezone]);\n    var calculateMedia = React.useCallback(function () {\n        setMedia(getWindow().matchMedia('(min-width: 1024px)').matches\n            ? 'desktop'\n            : 'mobile');\n    }, [getWindow]);\n    React.useEffect(function () {\n        calculateMedia();\n        var observer = new (getWindow().ResizeObserver)(calculateMedia);\n        observer.observe(element.current);\n        return function () {\n            observer.disconnect();\n        };\n    }, [calculateMedia, element, getWindow]);\n    React.useEffect(function () {\n        if (show && focused) {\n            if (calendar.current) {\n                calendar.current.focus();\n            }\n        }\n    }, [focused, show]);\n    var _f = useAsyncFocusBlur({ onFocus: handleFocus, onBlur: handleBlur }), onFocus = _f.onFocus, onBlur = _f.onBlur;\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Button, { ref: button, onFocus: onFocus, onBlur: onBlur, fillMode: 'flat', className: 'k-nav-current', icon: \"calendar\", \"aria-live\": \"polite\", tabIndex: -1, onClick: handleClick }, media === 'desktop'\n            ? text\n            : shortText),\n        React.createElement(Popup, { anchor: (_a = button.current) === null || _a === void 0 ? void 0 : _a.element, show: show },\n            React.createElement(Calendar, { ref: calendar, onFocus: onFocus, onBlur: onBlur, onChange: handleChange, value: value }))));\n});\nNavigationDatePicker.displayName = 'KendoReactSchedulerNavigationDatePicker';\n"]},"metadata":{},"sourceType":"module"}