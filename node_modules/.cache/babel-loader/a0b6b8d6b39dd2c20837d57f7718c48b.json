{"ast":null,"code":"import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Row,Col,Card,Tab,Nav}from'react-bootstrap';import{injectIntl}from'react-intl';import{FormattedMessage}from'react-intl';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlus}from'@fortawesome/free-solid-svg-icons';import{process}from'@progress/kendo-data-query';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{showEsign,validateEmail,validatePhoneNumber,onDropAttachFileList,create_UUID,deleteAttachmentDropZone,Lims_JSON_stringify}from'../../components/CommonScript';import Esign from'../audittrail/Esign';import{transactionStatus,attachmentType}from'../../components/Enumeration';import CustomAccordion from'../../components/custom-accordion/custom-accordion.component';import ClientTabsAccordion from'./ClientTabsAccordion';import{toast}from'react-toastify';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import AddClientContact from'./AddClientContact';import AddClientSite from'./AddClientSite';import AddClientFile from'./AddClientFile';import CustomTabs from'../../components/custom-tabs/custom-tabs.component';import ClientFileTab from'./ClientFileTabs';var ClientSiteAddressTab=/*#__PURE__*/function(_Component){_inherits(ClientSiteAddressTab,_Component);var _super=_createSuper(ClientSiteAddressTab);function ClientSiteAddressTab(props){var _this;_classCallCheck(this,ClientSiteAddressTab);_this=_super.call(this,props);_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.state.ClientContact,event.dataState),dataState:event.dataState});};_this.openModalContact=function(input){var updateInfo={typeName:DEFAULT_RETURN,data:{openChildModal:true,operation:input.operation,selectedRecord:{\"ndefaultstatus\":transactionStatus.NO},defaultSite:undefined,ncontrolCode:input.ncontrolCode,screenName:\"IDS_CLIENTCONTACT\",loading:false}};_this.props.updateStore(updateInfo);};_this.onDropClientFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.viewClientFile=function(filedata){var inputParam={inputData:{clientfile:filedata,userinfo:_this.props.userInfo},classUrl:\"client\",operation:\"view\",methodUrl:\"AttachedClientFile\",screenName:\"Client File\"};_this.props.viewAttachment(inputParam);};_this.clientSiteAccordion=function(clientSite){var primaryKeyField=\"nclientcontactcode\";var addClientContactId=_this.props.controlMap.has(\"AddClientContact\")&&_this.props.controlMap.get(\"AddClientContact\").ncontrolcode;var editClientContactId=_this.props.controlMap.has(\"EditClientContact\")&&_this.props.controlMap.get(\"EditClientContact\").ncontrolcode;var editContactParam={screenName:\"ClientContactInfo\",primaryKeyField:\"nclientcontactcode\",operation:\"update\",inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,ncontrolCode:editClientContactId};var AddContactParam={screenName:\"ClientContactInfo\",primaryKeyField:primaryKeyField,undefined:undefined,operation:\"create\",inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,ncontrolCode:addClientContactId};var accordionMap=new Map();clientSite.map(function(clientSite){return accordionMap.set(clientSite.nclientsitecode,/*#__PURE__*/React.createElement(ClientTabsAccordion,{clientSite:clientSite,getClientSiteForAddEdit:_this.props.getClientSiteForAddEdit,masterData:_this.props.masterData,ConfirmDelete:_this.ConfirmDelete,addClientContactId:addClientContactId,AddContactParam:AddContactParam,openModalContact:_this.openModalContact// tabDetail={this.tabDetail(userSite)}   \n,primaryKeyField:primaryKeyField,expandField:\"expanded\",detailedFieldList:_this.detailedFieldList,extractedColumnList:_this.ContactColumns,inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,data:_this.state.ClientContact||[],ClientContact:_this.state.ClientContact||[],dataState:_this.state.dataState,dataStateChange:_this.dataStateChange,controlMap:_this.props.controlMap,userRoleControlRights:_this.props.userRoleControlRights||[],methodUrl:\"ClientContact\",getClientContactForAddEdit:_this.props.getClientContactForAddEdit,editParam:editContactParam,deleteParam:{operation:\"delete\",screenName:\"IDS_CLIENTCONTACT\"},deleteRecord:_this.DeleteContact,scrollable:\"scrollable\",isActionRequired:true,selectedId:_this.props.selectedId,hasDynamicColSize:true,screenName:\"IDS_CLIENTCONTACT\"}));});return accordionMap;};_this.ConfirmDelete=function(obj){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.Delete(obj);});};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name==='ntransactionstatus'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;}else if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{if(event.target.name===\"sphoneno\"||event.target.name===\"smobileno\"||event.target.name===\"sfaxno\"){if(event.target.value!==\"\"){event.target.value=validatePhoneNumber(event.target.value);selectedRecord[event.target.name]=event.target.value!==\"\"?event.target.value:selectedRecord[event.target.name];}else{selectedRecord[event.target.name]=event.target.value;}}else{selectedRecord[event.target.name]=event.target.value;}// selectedRecord[event.target.name] = event.target.value;\n}_this.setState({selectedRecord:selectedRecord});};_this.onComboChange=function(comboData,fieldName){if(comboData!==null){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;//.value;\n_this.setState({selectedRecord:selectedRecord});}};_this.closeModal=function(){var loadEsign=_this.props.loadEsign;var openChildModal=_this.props.openChildModal;var selectedRecord=_this.props.selectedRecord;if(_this.props.loadEsign){if(_this.props.operation===\"delete\"){loadEsign=false;openChildModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";}}else{openChildModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openChildModal:openChildModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.onSaveClick=function(saveType,formRef){if(_this.state.selectedRecord['semail']?validateEmail(_this.state.selectedRecord['semail']):true){var inputParam={};var clearSelectedRecordField=[];if(_this.props.screenName===\"IDS_CLIENTSITE\"){inputParam=_this.SaveSiteDetails(saveType,formRef);clearSelectedRecordField=[{\"idsName\":\"IDS_CLIENTSITENAME\",\"dataField\":\"sclientsitename\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_ADDRESS1\",\"dataField\":\"saddress1\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_ADDRESS2\",\"dataField\":\"saddress2\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_ADDRESS3\",\"dataField\":\"saddress3\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_DEFAULT\",\"dataField\":\"ndefaultstatus\",\"width\":\"100px\",\"isClearField\":true,\"preSetValue\":4}];}else if(_this.props.screenName===\"IDS_CLIENTCONTACT\"){inputParam=_this.SaveContactInfo(saveType,formRef);clearSelectedRecordField=[{\"idsName\":\"IDS_CLIENTCONTACTNAME\",\"dataField\":\"scontactname\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_PHONE\",\"dataField\":\"sphoneno\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_MOBILE\",\"dataField\":\"smobileno\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_FAX\",\"dataField\":\"sfaxno\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_EMAILID\",\"dataField\":\"semail\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_COMMENTS\",\"dataField\":\"scomments\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_DEFAULT\",\"dataField\":\"ndefaultstatus\",\"width\":\"100px\",\"isClearField\":true,\"preSetValue\":4}];}else{inputParam=_this.saveClientFile(saveType,formRef);clearSelectedRecordField=[{\"idsName\":\"IDS_FILENAME\",\"dataField\":\"slinkfilename\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_DESCRIPTION\",\"dataField\":\"sdescription\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_DESCRIPTION\",\"dataField\":\"slinkdescription\",\"width\":\"200px\",\"controlType\":\"textbox\",\"isClearField\":true}];}if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,_this.props.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\",\"\",\"\",clearSelectedRecordField);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERVALIDEMAIL\"}));}};_this.saveClientFile=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var clientFileArray=[];var clientFile={nclientcode:_this.props.masterData.selectedClient.nclientcode,nclientfilecode:selectedRecord.nclientfilecode?selectedRecord.nclientfilecode:0,nstatus:transactionStatus.ACTIVE,nattachmenttypecode:nattachmenttypecode// ndefaultstatus: selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] ? selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] : 4\n};var formData=new FormData();if(nattachmenttypecode===attachmentType.FTP){if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var tempData=Object.assign({},clientFile);var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var ssystemfilename=selectedRecord.ssystemfilename?selectedRecord.ssystemfilename.split('.'):\"\";var filesystemfileext=selectedRecord.ssystemfilename?file.name.split('.')[ssystemfilename.length-1]:\"\";var uniquefilename=nattachmenttypecode===attachmentType.FTP?selectedRecord.nclientfilecode&&selectedRecord.nclientfilecode>0&&selectedRecord.ssystemfilename!==\"\"&&selectedRecord.ssystemfilename!==undefined?ssystemfilename[0]+'.'+filesystemfileext:create_UUID()+'.'+fileExtension:\"\";tempData[\"sfilename\"]=Lims_JSON_stringify(file.name.trim(),false);tempData[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\",false);tempData[\"nlinkcode\"]=transactionStatus.NA;tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"nfilesize\"]=file.size;formData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);clientFileArray.push(tempData);});formData.append(\"filecount\",acceptedFiles.length);isFileEdited=transactionStatus.YES;}else{clientFile[\"sfilename\"]=Lims_JSON_stringify(selectedRecord.sfilename,false);clientFile[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\",false);clientFile[\"nlinkcode\"]=transactionStatus.NA;clientFile[\"ssystemfilename\"]=selectedRecord.ssystemfilename;clientFile[\"nfilesize\"]=selectedRecord.nfilesize;clientFileArray.push(clientFile);}}else{clientFile[\"sfilename\"]=Lims_JSON_stringify(selectedRecord.slinkfilename.trim(),false);clientFile[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.slinkdescription?selectedRecord.slinkdescription.trim():\"\",false);clientFile[\"nlinkcode\"]=selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;clientFile[\"ssystemfilename\"]=\"\";clientFile[\"nfilesize\"]=0;clientFileArray.push(clientFile);}formData.append(\"isFileEdited\",isFileEdited);formData.append(\"clientfile\",JSON.stringify(clientFileArray));// formData.append(\"userinfo\", JSON.stringify(this.props.userInfo));\nvar selectedId=null;var postParam=undefined;if(_this.props.operation===\"update\"){// edit\npostParam={inputListName:\"Client\",selectedObject:\"selectedClient\",primaryKeyField:\"nclientcode\"};selectedId=selectedRecord[\"nclientfilecode\"];}var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.userInfo),{},{sformname:Lims_JSON_stringify(_this.props.userInfo.sformname),smodulename:Lims_JSON_stringify(_this.props.userInfo.smodulename),//ALPD-1620(while saving the file and link,audit trail is not captured the respective language)\nslanguagename:Lims_JSON_stringify(_this.props.userInfo.slanguagename)})},formData:formData,isFileupload:true,operation:_this.props.operation,classUrl:\"client\",saveType:saveType,formRef:formRef,methodUrl:\"ClientFile\",postParam:postParam,selectedRecord:_objectSpread({},_this.state.selectedRecord)};return inputParam;};_this.DeleteContact=function(deleteParam){var inputData=[];var inputParam={};if(deleteParam.selectedRecord.expanded!==undefined){delete deleteParam.selectedRecord.expanded;}if(deleteParam.screenName===\"IDS_CLIENTCONTACT\"){inputData[\"clientcontactinfo\"]=deleteParam.selectedRecord;inputData[\"userinfo\"]=_this.props.userInfo;inputParam={methodUrl:\"ClientContactInfo\",classUrl:_this.props.inputParam.classUrl,inputData:inputData,operation:\"delete\",dataState:_this.state.dataState};}else{var _inputData;inputParam={classUrl:\"client\",methodUrl:deleteParam.methodUrl,inputData:(_inputData={},_defineProperty(_inputData,deleteParam.methodUrl,deleteParam.selectedRecord),_defineProperty(_inputData,\"userinfo\",_this.props.userInfo),_inputData),operation:deleteParam.operation,dataState:_this.state.dataState};}if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},openChildModal:true,screenName:\"Contact\",operation:\"delete\"}};_this.props.updateStore(updateInfo);}else{if(showEsign(_this.props.userRoleControlRights,_this.props.userInfo.nformcode,deleteParam.ncontrolCode)){var _updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},openChildModal:true,screenName:\"Contact\",operation:\"delete\"}};_this.props.updateStore(_updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\");}}};_this.Delete=function(deleteParam){var inputData=[];if(deleteParam.selectedRecord.expanded&&deleteParam.selectedRecord.expanded!==undefined){delete deleteParam.selectedRecord.expanded;}inputData[deleteParam.Type]=deleteParam.selectedRecord;inputData[\"userinfo\"]=_this.props.userInfo;var inputParam={methodUrl:deleteParam.methodURL,classUrl:_this.props.inputParam.classUrl,inputData:inputData,operation:\"delete\"};if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},openChildModal:true,screenName:deleteParam.screenName,operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{if(showEsign(_this.props.userRoleControlRights,_this.props.userInfo.nformcode,deleteParam.ncontrolCode)){var _updateInfo2={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},openChildModal:true,screenName:deleteParam.screenName,operation:deleteParam.operation}};_this.props.updateStore(_updateInfo2);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\");}}};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"//fileToDelete:file.name \n});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.screenData};_this.props.validateEsignCredential(inputParam,\"openChildModal\");};var dataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};_this.state={isSiteOpen:false,isContactOpen:false,siteSelectedRecord:{},contactSelectedRecord:{},dataResult:[],dataState:dataState,ClientContact:_this.props.masterData.ClientContact,Country:[],SiteCode:_this.props.masterData.SiteCode,selectedRecord:{},countryCode:[]};_this.ContactColumns=[{\"idsName\":\"IDS_CLIENTCONTACTNAME\",\"mandatory\":true,\"dataField\":\"scontactname\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{dataField:\"semail\",idsName:\"IDS_EMAILID\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{dataField:\"sdefaultContact\",idsName:\"IDS_DEFAULT\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];_this.siteColumns=[{\"idsName\":\"IDS_CLIENTSITENAME\",\"mandatory\":true,\"dataField\":\"sclientsitename\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_ADDRESS1\",\"mandatory\":true,\"dataField\":\"saddress1\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_COUNTRYNAME\",\"mandatory\":true,\"dataField\":\"ncountrycode\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];_this.detailedFieldList=[{\"dataField\":\"sphoneno\",\"idsName\":\"IDS_PHONE\",columnSize:\"4\"},{\"idsName\":\"IDS_MOBILE\",\"dataField\":\"smobileno\",columnSize:\"4\"},{dataField:\"sfaxno\",idsName:\"IDS_FAX\",columnSize:\"4\"},{dataField:\"scomments\",idsName:\"IDS_COMMENTS\",columnSize:\"12\"}];_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(ClientSiteAddressTab,[{key:\"render\",value:function render(){var _this2=this;var addClientSiteId=this.props.controlMap.has(\"AddClientSite\")&&this.props.controlMap.get(\"AddClientSite\").ncontrolcode;var mandatoryFields=[];if(this.props.screenName===\"IDS_CLIENTSITE\"){this.siteColumns.forEach(function(item){return item.mandatory===true?mandatoryFields.push(item):\"\";});}else if(this.props.screenName===\"IDS_CLIENTCONTACT\"){this.ContactColumns.forEach(function(item){return item.mandatory===true?mandatoryFields.push(item):\"\";});}else{if(this.state.selectedRecord&&this.state.selectedRecord.nattachmenttypecode===attachmentType.LINK){mandatoryFields=[{\"idsName\":\"IDS_FILENAME\",\"dataField\":\"slinkfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"},{\"idsName\":\"IDS_LINKNAME\",\"dataField\":\"nlinkcode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];}else{// if (this.props.operation !== 'update') {\nmandatoryFields=[{\"idsName\":\"IDS_FILE\",\"dataField\":\"sfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"}];// }\n}}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(Card,{className:\"at-tabs\"},/*#__PURE__*/React.createElement(Tab.Content,null,/*#__PURE__*/React.createElement(Tab.Pane,{\"aria-labelledby\":\"Version-tab\",className:\"p-0 active show\"},/*#__PURE__*/React.createElement(Row,{className:\"no-gutters pt-2 pb-2 col-12 text-right border-bottom\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"add-txt-btn\",hidden:this.props.userRoleControlRights.indexOf(addClientSiteId)===-1,onClick:function onClick(){return _this2.props.getClientSiteForAddEdit(\"ClientSite\",\"create\",_this2.props.masterData.selectedClient.nclientcode,undefined,addClientSiteId,_this2.props.userInfo);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_CLIENTSITE\",defaultMessage:\"Site\"}))))),/*#__PURE__*/React.createElement(Row,{className:\"no-gutters\"},/*#__PURE__*/React.createElement(Col,{md:12},this.props.masterData.ClientSite&&this.props.masterData.ClientSite.length>0?/*#__PURE__*/React.createElement(CustomAccordion,{key:\"filter\",accordionTitle:\"sclientsitename\",accordionComponent:this.clientSiteAccordion(this.props.masterData.ClientSite),inputParam:{masterData:this.props.masterData,userInfo:this.props.userInfo},accordionClick:this.props.getClientSiteContactDetails,accordionPrimaryKey:\"nclientsitecode\",accordionObjectName:\"clientSite\",selectedKey:this.props.masterData.selectedClientSite.nclientsitecode}):\"\"))))))),/*#__PURE__*/React.createElement(React.Fragment,null,this.props.openChildModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.openChildModal,closeModal:this.closeModal,operation:this.props.operation,inputParam:this.props.inputParam,screenName:this.props.screenName//ATE234 janakumar ALPD-5546All Master screen -> Copy & File remove the save&continue\n,showSaveContinue:this.props.screenName===\"IDS_CLIENTFILE\"?false:true,onSaveClick:this.onSaveClick,updateStore:this.props.updateStore,esign:this.props.loadEsign,validateEsign:this.validateEsign,selectedRecord:this.state.selectedRecord||{},mandatoryFields:mandatoryFields,addComponent:this.props.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.screenName===\"IDS_CLIENTSITE\"?/*#__PURE__*/React.createElement(AddClientSite,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,Country:this.props.Country||[]//inputParam={this.props.inputParam}\n}):this.props.screenName===\"IDS_CLIENTCONTACT\"?/*#__PURE__*/React.createElement(AddClientContact,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange}):/*#__PURE__*/React.createElement(AddClientFile,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onDrop:this.onDropClientFile,onDropAccepted:this.onDropAccepted,deleteAttachment:this.deleteAttachment,actionType:this.state.actionType,onComboChange:this.onComboChange,linkMaster:this.props.linkMaster,editFiles:this.props.editFiles,maxSize:20// maxFiles={this.props.operation === \"update\" ? 1 : 3}\n// multiple={this.props.operation === \"update\" ? false : true}\n,maxFiles:1,multiple:false,label:this.props.intl.formatMessage({id:\"IDS_CLIENTFILE\"}),name:\"clientfilename\"})})));}// onTabChange = (tabProps) => {\n//     const screenName = tabProps.screenName;\n//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: { screenName }\n//     }\n//     this.props.updateStore(updateInfo);\n// }\n},{key:\"SaveSiteDetails\",value:function SaveSiteDetails(saveType,formRef){var _this3=this;var inputData=[];var postParam=undefined;inputData[\"userinfo\"]=this.props.userInfo;var fieldList=[\"nclientsitecode\",\"ncountrycode\",\"sclientsitename\",\"saddress1\",\"saddress2\",\"saddress3\",\"ndefaultstatus\"];if(this.props.operation===\"update\"){postParam={inputListName:\"ClientSiteAddress\",selectedObject:\"selectedClientSite\",primaryKeyField:\"nclientsitecode\"};inputData[\"clientsiteaddress\"]={\"nclientcode\":this.props.masterData.selectedClient.nclientcode,\"nclientsitecode\":this.props.masterData.selectedClientSite.nclientsitecode};fieldList.map(function(item){if(item===\"ncountrycode\"){return inputData[\"clientsiteaddress\"][item]=_this3.state.selectedRecord[item]?_this3.state.selectedRecord[item].value:\"\";}else{return inputData[\"clientsiteaddress\"][item]=_this3.state.selectedRecord[item]?_this3.state.selectedRecord[item]:\"\";}});}else{inputData[\"clientsiteaddress\"]={\"nclientcode\":this.props.masterData.selectedClient.nclientcode};fieldList.map(function(item){if(item===\"ncountrycode\"){return inputData[\"clientsiteaddress\"][item]=_this3.state.selectedRecord[item].value;}else{return inputData[\"clientsiteaddress\"][item]=_this3.state.selectedRecord[item];}});}var inputParam={classUrl:this.props.inputParam.classUrl,methodUrl:\"ClientSiteAddress\",inputData:inputData,operation:this.props.operation,saveType:saveType,formRef:formRef,postParam:postParam,selectedRecord:_objectSpread({},this.state.selectedRecord)};return inputParam;//this.props.crudMaster(inputParam, this.props.masterData);\n}},{key:\"SaveContactInfo\",value:function SaveContactInfo(saveType,formRef){var _this4=this;var dataState=undefined;var inputData=[];var postParam=undefined;inputData[\"userinfo\"]=this.props.userInfo;var fieldList=[\"nclientcontactcode\",\"scontactname\",\"sphoneno\",\"smobileno\",\"semail\",\"sfaxno\",\"scomments\",\"ndefaultstatus\"];var selectedId=null;if(this.props.operation===\"update\"){postParam={inputListName:\"ClientContactInfo\",selectedObject:\"selectedClientContact\",primaryKeyField:\"nclientcontactcode\"};inputData[\"clientcontactinfo\"]={\"nclientcode\":this.props.masterData.selectedClient.nclientcode,\"nclientsitecode\":this.props.masterData.selectedClientSite.nclientsitecode};selectedId=this.props.selectedRecord.nclientcontactcode;fieldList.map(function(item){return inputData[\"clientcontactinfo\"][item]=_this4.state.selectedRecord[item]?_this4.state.selectedRecord[item]:\"\";});dataState=this.state.dataState;}else{inputData[\"clientcontactinfo\"]={\"nclientcode\":this.props.masterData.selectedClient.nclientcode,\"nclientsitecode\":this.props.masterData.selectedClientSite.nclientsitecode};fieldList.map(function(item){return inputData[\"clientcontactinfo\"][item]=_this4.state.selectedRecord[item]?_this4.state.selectedRecord[item]:\"\";});inputData[\"clientcontactinfo\"]['ndefaultstatus']=this.state.selectedRecord&&this.state.selectedRecord.ndefaultstatus?this.state.selectedRecord.ndefaultstatus:transactionStatus.YES;}var inputParam={classUrl:this.props.inputParam.classUrl,methodUrl:\"ClientContactInfo\",inputData:inputData,selectedId:selectedId,operation:this.props.operation,saveType:saveType,formRef:formRef,dataState:dataState,postParam:postParam,selectedRecord:_objectSpread({},this.state.selectedRecord)};return inputParam;}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.masterData!==previousProps.masterData){var dataState=this.state.dataState;if(this.props.dataState===undefined){dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};}this.setState({isSiteOpen:false,isContactOpen:false,ClientContact:this.props.masterData.ClientContact,SiteCode:this.props.masterData.SiteCode,Country:this.props.masterData.Country,dataState:dataState});}if(this.props.selectedRecord!==previousProps.selectedRecord){this.setState({selectedRecord:this.props.selectedRecord});}}}]);return ClientSiteAddressTab;}(Component);export default injectIntl(ClientSiteAddressTab);","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/contactmaster/ClientSiteAddressTab.jsx"],"names":["React","Component","Row","Col","Card","Tab","Nav","injectIntl","FormattedMessage","FontAwesomeIcon","faPlus","process","SlideOutModal","DEFAULT_RETURN","showEsign","validateEmail","validatePhoneNumber","onDropAttachFileList","create_UUID","deleteAttachmentDropZone","Lims_JSON_stringify","Esign","transactionStatus","attachmentType","CustomAccordion","ClientTabsAccordion","toast","ConfirmMessage","AddClientContact","AddClientSite","AddClientFile","CustomTabs","ClientFileTab","ClientSiteAddressTab","props","dataStateChange","event","setState","dataResult","state","ClientContact","dataState","openModalContact","input","updateInfo","typeName","data","openChildModal","operation","selectedRecord","NO","defaultSite","undefined","ncontrolCode","screenName","loading","updateStore","onDropClientFile","attachedFiles","fieldName","maxSize","actionType","viewClientFile","filedata","inputParam","inputData","clientfile","userinfo","userInfo","classUrl","methodUrl","viewAttachment","clientSiteAccordion","clientSite","primaryKeyField","addClientContactId","controlMap","has","get","ncontrolcode","editClientContactId","editContactParam","AddContactParam","accordionMap","Map","map","set","nclientsitecode","getClientSiteForAddEdit","masterData","ConfirmDelete","detailedFieldList","ContactColumns","userRoleControlRights","getClientContactForAddEdit","DeleteContact","selectedId","obj","confirmMessage","confirm","intl","formatMessage","id","Delete","onInputOnChange","optional","target","type","name","checked","ACTIVE","DEACTIVE","YES","value","onComboChange","comboData","closeModal","loadEsign","onSaveClick","saveType","formRef","clearSelectedRecordField","SaveSiteDetails","SaveContactInfo","saveClientFile","esignRights","nformcode","screenData","crudMaster","warn","acceptedFiles","sfilename","nattachmenttypecode","isFileEdited","clientFileArray","clientFile","nclientcode","selectedClient","nclientfilecode","nstatus","formData","FormData","FTP","Array","isArray","length","forEach","file","index","tempData","Object","assign","splittedFileName","split","fileExtension","ssystemfilename","filesystemfileext","uniquefilename","trim","sdescription","NA","size","append","push","nfilesize","slinkfilename","slinkdescription","nlinkcode","JSON","stringify","postParam","inputListName","selectedObject","sformname","smodulename","slanguagename","isFileupload","deleteParam","expanded","Type","methodURL","deleteAttachment","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","validateEsignCredential","skip","take","settings","parseInt","isSiteOpen","isContactOpen","siteSelectedRecord","contactSelectedRecord","Country","SiteCode","countryCode","dataField","idsName","siteColumns","columnSize","addClientSiteId","mandatoryFields","item","mandatory","LINK","indexOf","ClientSite","getClientSiteContactDetails","selectedClientSite","onDropAccepted","linkMaster","editFiles","fieldList","nclientcontactcode","ndefaultstatus","previousProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Row, Col, Card, Tab, Nav } from 'react-bootstrap';\r\nimport { injectIntl } from 'react-intl';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { showEsign, validateEmail, validatePhoneNumber, onDropAttachFileList, create_UUID, deleteAttachmentDropZone, Lims_JSON_stringify } from '../../components/CommonScript';\r\nimport Esign from '../audittrail/Esign';\r\nimport { transactionStatus, attachmentType } from '../../components/Enumeration';\r\nimport CustomAccordion from '../../components/custom-accordion/custom-accordion.component';\r\nimport ClientTabsAccordion from './ClientTabsAccordion';\r\nimport { toast } from 'react-toastify';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport AddClientContact from './AddClientContact';\r\nimport AddClientSite from './AddClientSite';\r\nimport AddClientFile from './AddClientFile';\r\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\r\nimport ClientFileTab from './ClientFileTabs';\r\n\r\nclass ClientSiteAddressTab extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        this.state = {\r\n            isSiteOpen: false, isContactOpen: false, siteSelectedRecord: {}, contactSelectedRecord: {}, dataResult: [],\r\n            dataState: dataState, ClientContact: this.props.masterData.ClientContact, Country: [],\r\n            SiteCode: this.props.masterData.SiteCode, selectedRecord: {}, countryCode: [],\r\n\r\n        };\r\n        this.ContactColumns = [{ \"idsName\": \"IDS_CLIENTCONTACTNAME\", \"mandatory\": true, \"dataField\": \"scontactname\", \"width\": \"150px\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { dataField: \"semail\", idsName: \"IDS_EMAILID\", \"width\": \"150px\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { dataField: \"sdefaultContact\", idsName: \"IDS_DEFAULT\", \"width\": \"150px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n\r\n\r\n        ];\r\n\r\n        this.siteColumns = [{ \"idsName\": \"IDS_CLIENTSITENAME\", \"mandatory\": true, \"dataField\": \"sclientsitename\", \"width\": \"150px\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_ADDRESS1\", \"mandatory\": true, \"dataField\": \"saddress1\", \"width\": \"150px\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_COUNTRYNAME\", \"mandatory\": true, \"dataField\": \"ncountrycode\", \"width\": \"150px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n\r\n        ];\r\n        this.detailedFieldList = [\r\n            { \"dataField\": \"sphoneno\", \"idsName\": \"IDS_PHONE\", columnSize: \"4\" },\r\n            { \"idsName\": \"IDS_MOBILE\", \"dataField\": \"smobileno\", columnSize: \"4\" },\r\n            { dataField: \"sfaxno\", idsName: \"IDS_FAX\", columnSize: \"4\" },\r\n            { dataField: \"scomments\", idsName: \"IDS_COMMENTS\", columnSize: \"12\" }\r\n\r\n        ];\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.state.ClientContact, event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n    openModalContact = (input) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openChildModal: true, operation: input.operation,\r\n                selectedRecord: { \"ndefaultstatus\": transactionStatus.NO },\r\n                defaultSite: undefined, ncontrolCode: input.ncontrolCode,\r\n                screenName: \"IDS_CLIENTCONTACT\", loading: false\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    render() {\r\n\r\n        const addClientSiteId = this.props.controlMap.has(\"AddClientSite\") && this.props.controlMap.get(\"AddClientSite\").ncontrolcode\r\n        let mandatoryFields = [];\r\n        if (this.props.screenName === \"IDS_CLIENTSITE\") {\r\n            this.siteColumns.forEach(item => item.mandatory === true ?\r\n                mandatoryFields.push(item) : \"\"\r\n            );\r\n        }\r\n        else if (this.props.screenName === \"IDS_CLIENTCONTACT\") {\r\n            this.ContactColumns.forEach(item => item.mandatory === true ?\r\n                mandatoryFields.push(item) : \"\"\r\n            );\r\n        } else {\r\n            if (this.state.selectedRecord && this.state.selectedRecord.nattachmenttypecode === attachmentType.LINK) {\r\n                mandatoryFields = [\r\n                    { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"slinkfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n                    { \"idsName\": \"IDS_LINKNAME\", \"dataField\": \"nlinkcode\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n                ];\r\n            } else {\r\n                // if (this.props.operation !== 'update') {\r\n                mandatoryFields = [{ \"idsName\": \"IDS_FILE\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" }];\r\n                // }\r\n            }\r\n        }\r\n        return (\r\n            <>\r\n                {/* <Row className=\"no-gutters\">\r\n                    <Col md={12}>\r\n                        <Card className=\"at-tabs\">\r\n                            <CustomTabs tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                        </Card>\r\n                    </Col>\r\n                </Row> */}\r\n                <Row noGutters={true}>\r\n                    <Col md='12'>\r\n                        <Card className=\"at-tabs\">\r\n                            <Tab.Content>\r\n                                <Tab.Pane aria-labelledby=\"Version-tab\" className=\"p-0 active show\">\r\n\r\n                                    <Row className=\"no-gutters pt-2 pb-2 col-12 text-right border-bottom\" >\r\n                                        <Col md={12}>\r\n                                            <div className=\"d-flex justify-content-end\">\r\n                                                <Nav.Link className=\"add-txt-btn\" hidden={this.props.userRoleControlRights.indexOf(addClientSiteId) === -1}\r\n                                                    onClick={() => this.props.getClientSiteForAddEdit(\"ClientSite\", \"create\", this.props.masterData.selectedClient.nclientcode, undefined, addClientSiteId, this.props.userInfo)}>\r\n                                                    <FontAwesomeIcon icon={faPlus} /> { }\r\n                                                    <FormattedMessage id='IDS_CLIENTSITE' defaultMessage='Site' />\r\n                                                </Nav.Link>\r\n                                            </div>\r\n                                        </Col>\r\n\r\n                                    </Row>\r\n\r\n                                    <Row className=\"no-gutters\">\r\n                                        <Col md={12}>\r\n                                            {this.props.masterData.ClientSite && this.props.masterData.ClientSite.length > 0 ?\r\n                                                <CustomAccordion key=\"filter\"\r\n                                                    accordionTitle={\"sclientsitename\"}\r\n                                                    accordionComponent={this.clientSiteAccordion(this.props.masterData.ClientSite)}\r\n                                                    inputParam={{ masterData: this.props.masterData, userInfo: this.props.userInfo }}\r\n                                                    accordionClick={this.props.getClientSiteContactDetails}\r\n                                                    accordionPrimaryKey={\"nclientsitecode\"}\r\n                                                    accordionObjectName={\"clientSite\"}\r\n                                                    selectedKey={this.props.masterData.selectedClientSite.nclientsitecode}\r\n                                                />\r\n                                                : \"\"}\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                </Tab.Pane >\r\n                            </Tab.Content >\r\n                        </Card >\r\n                    </Col >\r\n                </Row >\r\n\r\n                <>\r\n                    {this.props.openChildModal &&\r\n                        <SlideOutModal show={this.props.openChildModal}\r\n                            closeModal={this.closeModal}\r\n                            operation={this.props.operation}\r\n                            inputParam={this.props.inputParam}\r\n                            screenName={this.props.screenName}\r\n                            //ATE234 janakumar ALPD-5546All Master screen -> Copy & File remove the save&continue\r\n                            showSaveContinue={ this.props.screenName===\"IDS_CLIENTFILE\"?false:true}\r\n                            onSaveClick={this.onSaveClick}\r\n                            updateStore={this.props.updateStore}\r\n                            esign={this.props.loadEsign}\r\n                            validateEsign={this.validateEsign}\r\n                            selectedRecord={this.state.selectedRecord || {}}\r\n                            mandatoryFields={mandatoryFields}\r\n                            addComponent={this.props.loadEsign ?\r\n                                <Esign operation={this.props.operation}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    inputParam={this.props.inputParam}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                /> :\r\n                                this.props.screenName === \"IDS_CLIENTSITE\" ?\r\n                                    <AddClientSite selectedRecord={this.state.selectedRecord || {}}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onComboChange={this.onComboChange}\r\n                                        Country={this.props.Country || []}\r\n                                    //inputParam={this.props.inputParam}\r\n                                    /> :\r\n                                    this.props.screenName === \"IDS_CLIENTCONTACT\" ?\r\n                                        <AddClientContact\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            onComboChange={this.onComboChange}\r\n                                        />\r\n                                        : <AddClientFile\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            onDrop={this.onDropClientFile}\r\n                                            onDropAccepted={this.onDropAccepted}\r\n                                            deleteAttachment={this.deleteAttachment}\r\n                                            actionType={this.state.actionType}\r\n                                            onComboChange={this.onComboChange}\r\n                                            linkMaster={this.props.linkMaster}\r\n                                            editFiles={this.props.editFiles}\r\n                                            maxSize={20}\r\n                                            // maxFiles={this.props.operation === \"update\" ? 1 : 3}\r\n                                            // multiple={this.props.operation === \"update\" ? false : true}\r\n                                            maxFiles={1}\r\n                                            multiple={false}\r\n                                            label={this.props.intl.formatMessage({ id: \"IDS_CLIENTFILE\" })}\r\n                                            name=\"clientfilename\"\r\n                                        />\r\n                            }\r\n                        />\r\n\r\n                    }\r\n\r\n                </>\r\n            </>\r\n        );\r\n    }\r\n\r\n    // onTabChange = (tabProps) => {\r\n    //     const screenName = tabProps.screenName;\r\n    //     const updateInfo = {\r\n    //         typeName: DEFAULT_RETURN,\r\n    //         data: { screenName }\r\n    //     }\r\n    //     this.props.updateStore(updateInfo);\r\n    // }\r\n    onDropClientFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n    // tabDetail =     () => {\r\n\r\n    //     const tabMap = new Map();\r\n    //     tabMap.set(\"IDS_CLIENTSITE&CONTACT\",\r\n    //     <ClientTabsAccordion\r\n    //     userRoleControlRights={this.props.userRoleControlRights}\r\n    //     controlMap={this.props.controlMap}\r\n    //     inputParam={this.props.inputParam}\r\n    //     userInfo={this.props.userInfo}\r\n    //     masterData={this.props.masterData}\r\n    //     clientSite={this.props.masterData.selectedClientSite}\r\n    //     ClientContact={this.props.masterData.ClientContact}\r\n    //     dataStateChange={(event) => this.setState({ dataState: event.dataState })}\r\n    //     dataState={(this.props.screenName === undefined ||\"Client Site&Contact\" ) ? this.state.dataState : { skip: 0 }}\r\n    //     screenName=\"Client Site&Contact\"\r\n    //     getClientSiteForAddEdit={this.props.getClientSiteForAddEdit}\r\n    //     getClientSiteContactDetails={this.props.getClientSiteContactDetails}\r\n    //     clientSiteAccordion={this.clientSiteAccordion}\r\n    //     />)\r\n    //     tabMap.set(\"IDS_FILE\",\r\n    //         <ClientFileTab\r\n    //             controlMap={this.props.controlMap}\r\n    //             userRoleControlRights={this.props.userRoleControlRights}\r\n    //             userInfo={this.props.userInfo}\r\n    //             inputParam={this.props.inputParam}\r\n    //             deleteRecord={this.DeleteContact}\r\n    //             clientFile={this.props.masterData.clientFile || []}\r\n    //             getAvailableData={this.props.getAvailableData}\r\n    //             addClientFile={this.props.addClientFile}\r\n    //             viewClientFile={this.viewClientFile}\r\n    //             defaultRecord={this.defaultRecord}\r\n    //             screenName=\"Client File\"\r\n    //             settings={this.props.settings}\r\n    //         />);\r\n    //     return tabMap;\r\n    // }\r\n\r\n    viewClientFile = (filedata) => {\r\n        const inputParam = {\r\n            inputData: {\r\n                clientfile: filedata,\r\n                userinfo: this.props.userInfo\r\n            },\r\n            classUrl: \"client\",\r\n            operation: \"view\",\r\n            methodUrl: \"AttachedClientFile\",\r\n            screenName: \"Client File\"\r\n        }\r\n        this.props.viewAttachment(inputParam);\r\n    }\r\n\r\n\r\n    clientSiteAccordion = (clientSite) => {\r\n        let primaryKeyField = \"nclientcontactcode\";\r\n        const addClientContactId = this.props.controlMap.has(\"AddClientContact\") && this.props.controlMap.get(\"AddClientContact\").ncontrolcode\r\n        const editClientContactId = this.props.controlMap.has(\"EditClientContact\") && this.props.controlMap.get(\"EditClientContact\").ncontrolcode;\r\n        const editContactParam = {\r\n            screenName: \"ClientContactInfo\", primaryKeyField: \"nclientcontactcode\", operation: \"update\",\r\n            inputParam: this.props.inputParam, userInfo: this.props.userInfo, ncontrolCode: editClientContactId\r\n        };\r\n        const AddContactParam = {\r\n            screenName: \"ClientContactInfo\", primaryKeyField, undefined, operation: \"create\",\r\n            inputParam: this.props.inputParam, userInfo: this.props.userInfo, ncontrolCode: addClientContactId\r\n        };\r\n\r\n        const accordionMap = new Map();\r\n        clientSite.map((clientSite) =>\r\n            accordionMap.set(clientSite.nclientsitecode,\r\n                <ClientTabsAccordion clientSite={clientSite}\r\n                    getClientSiteForAddEdit={this.props.getClientSiteForAddEdit}\r\n                    masterData={this.props.masterData}\r\n                    ConfirmDelete={this.ConfirmDelete}\r\n                    addClientContactId={addClientContactId}\r\n                    AddContactParam={AddContactParam}\r\n                    openModalContact={this.openModalContact}\r\n                    // tabDetail={this.tabDetail(userSite)}   \r\n\r\n                    primaryKeyField={primaryKeyField}\r\n                    expandField=\"expanded\"\r\n                    detailedFieldList={this.detailedFieldList}\r\n                    extractedColumnList={this.ContactColumns}\r\n                    inputParam={this.props.inputParam}\r\n                    userInfo={this.props.userInfo}\r\n                    data={this.state.ClientContact || []}\r\n                    ClientContact={this.state.ClientContact || []}\r\n                    dataState={this.state.dataState}\r\n                    dataStateChange={this.dataStateChange}\r\n                    controlMap={this.props.controlMap}\r\n                    userRoleControlRights={this.props.userRoleControlRights || []}\r\n                    methodUrl=\"ClientContact\"\r\n                    getClientContactForAddEdit={this.props.getClientContactForAddEdit}\r\n                    editParam={editContactParam}\r\n                    deleteParam={{ operation: \"delete\", screenName: \"IDS_CLIENTCONTACT\" }}\r\n                    deleteRecord={this.DeleteContact}\r\n                    scrollable={\"scrollable\"}\r\n                    isActionRequired={true}\r\n                    selectedId={this.props.selectedId}\r\n                    hasDynamicColSize={true}\r\n                    screenName={\"IDS_CLIENTCONTACT\"}\r\n                />\r\n            )\r\n        )\r\n        return accordionMap;\r\n    }\r\n\r\n    ConfirmDelete = (obj) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.Delete(obj));\r\n    }\r\n\r\n    onInputOnChange = (event, optional) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === 'ntransactionstatus') {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n            }\r\n            else\r\n                if (event.target.name === \"agree\") {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n                }\r\n                else {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n                }\r\n\r\n        }\r\n        else if (event.target.type === 'radio') {\r\n            selectedRecord[event.target.name] = optional;\r\n        }\r\n\r\n        else {\r\n\r\n            if (event.target.name === \"sphoneno\" || event.target.name === \"smobileno\"\r\n                || event.target.name === \"sfaxno\") {\r\n\r\n                if (event.target.value !== \"\") {\r\n                    event.target.value = validatePhoneNumber(event.target.value);\r\n                    selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\r\n                }\r\n                else {\r\n                    selectedRecord[event.target.name] = event.target.value\r\n                }\r\n            }\r\n            else {\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            }\r\n            // selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onComboChange = (comboData, fieldName) => {\r\n        if (comboData !== null) {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            selectedRecord[fieldName] = comboData;//.value;\r\n\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n    closeModal = () => {\r\n        let loadEsign = this.props.loadEsign;\r\n        let openChildModal = this.props.openChildModal;\r\n        let selectedRecord = this.props.selectedRecord;\r\n        if (this.props.loadEsign) {\r\n            if (this.props.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openChildModal = false;\r\n                selectedRecord = {};\r\n\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason'] = \"\"\r\n            }\r\n        }\r\n        else {\r\n            openChildModal = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openChildModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.state.selectedRecord['semail'] ? validateEmail(this.state.selectedRecord['semail']) : true) {\r\n            let inputParam = {};\r\n            let clearSelectedRecordField =[];\r\n            if (this.props.screenName === \"IDS_CLIENTSITE\") {\r\n                inputParam = this.SaveSiteDetails(saveType, formRef);\r\n                clearSelectedRecordField =[\r\n                    { \"idsName\": \"IDS_CLIENTSITENAME\", \"dataField\": \"sclientsitename\", \"width\": \"200px\" ,\"controlType\": \"textbox\",\"isClearField\":true},\r\n                    { \"idsName\": \"IDS_ADDRESS1\", \"dataField\": \"saddress1\", \"width\": \"200px\",\"controlType\": \"textbox\",\"isClearField\":true },\r\n                    { \"idsName\": \"IDS_ADDRESS2\", \"dataField\": \"saddress2\", \"width\": \"200px\",\"controlType\": \"textbox\",\"isClearField\":true },\r\n                    { \"idsName\": \"IDS_ADDRESS3\", \"dataField\": \"saddress3\", \"width\": \"200px\",\"controlType\": \"textbox\",\"isClearField\":true },\r\n                    \r\n                    \r\n                    { \"idsName\": \"IDS_DEFAULT\", \"dataField\": \"ndefaultstatus\", \"width\": \"100px\",\"isClearField\":true,\"preSetValue\":4},\r\n                ]\r\n            }\r\n            else if (this.props.screenName === \"IDS_CLIENTCONTACT\") {\r\n\r\n                inputParam = this.SaveContactInfo(saveType, formRef);\r\n\r\n                clearSelectedRecordField =[\r\n                    { \"idsName\": \"IDS_CLIENTCONTACTNAME\", \"dataField\": \"scontactname\", \"width\": \"200px\" ,\"controlType\": \"textbox\",\"isClearField\":true},\r\n                    { \"idsName\": \"IDS_PHONE\", \"dataField\": \"sphoneno\", \"width\": \"200px\",\"controlType\": \"textbox\",\"isClearField\":true },\r\n                    { \"idsName\": \"IDS_MOBILE\", \"dataField\": \"smobileno\", \"width\": \"200px\",\"controlType\": \"textbox\",\"isClearField\":true },\r\n                    { \"idsName\": \"IDS_FAX\", \"dataField\": \"sfaxno\", \"width\": \"200px\",\"controlType\": \"textbox\",\"isClearField\":true },\r\n                    { \"idsName\": \"IDS_EMAILID\", \"dataField\": \"semail\", \"width\": \"200px\",\"controlType\": \"textbox\",\"isClearField\":true },\r\n                    { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"200px\",\"controlType\": \"textbox\",\"isClearField\":true },\r\n                    { \"idsName\": \"IDS_DEFAULT\", \"dataField\": \"ndefaultstatus\", \"width\": \"100px\",\"isClearField\":true,\"preSetValue\":4},\r\n                ]\r\n\r\n                \r\n            } else {\r\n                inputParam = this.saveClientFile(saveType, formRef);\r\n\r\n                clearSelectedRecordField =[\r\n                    { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"slinkfilename\", \"width\": \"200px\" ,\"controlType\": \"textbox\",\"isClearField\":true},\r\n                    { \"idsName\": \"IDS_DESCRIPTION\", \"dataField\": \"sdescription\", \"width\": \"200px\",\"controlType\": \"textbox\",\"isClearField\":true },\r\n                    { \"idsName\": \"IDS_DESCRIPTION\", \"dataField\": \"slinkdescription\", \"width\": \"200px\",\"controlType\": \"textbox\",\"isClearField\":true },\r\n                ]\r\n\r\n            }\r\n\r\n            if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.masterData }, saveType\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\",\"\",\"\",clearSelectedRecordField);\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERVALIDEMAIL\" }));\r\n        }\r\n    }\r\n    SaveSiteDetails(saveType, formRef) {\r\n        let inputData = [];\r\n        let postParam = undefined;\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        let fieldList = [\"nclientsitecode\", \"ncountrycode\", \"sclientsitename\",\r\n            \"saddress1\", \"saddress2\", \"saddress3\", \"ndefaultstatus\"];\r\n\r\n        if (this.props.operation === \"update\") {\r\n            postParam = {\r\n                inputListName: \"ClientSiteAddress\",\r\n                selectedObject: \"selectedClientSite\",\r\n                primaryKeyField: \"nclientsitecode\",\r\n            };\r\n            inputData[\"clientsiteaddress\"] = {\r\n                \"nclientcode\": this.props.masterData.selectedClient.nclientcode,\r\n                \"nclientsitecode\": this.props.masterData.selectedClientSite.nclientsitecode\r\n            };\r\n            fieldList.map(item => {\r\n                if (item === \"ncountrycode\") {\r\n                    return inputData[\"clientsiteaddress\"][item] = this.state.selectedRecord[item] ? this.state.selectedRecord[item].value : \"\";\r\n                }\r\n                else {\r\n                    return inputData[\"clientsiteaddress\"][item] = this.state.selectedRecord[item] ? this.state.selectedRecord[item] : \"\";\r\n                }\r\n            })\r\n        }\r\n        else {\r\n\r\n            inputData[\"clientsiteaddress\"] = { \"nclientcode\": this.props.masterData.selectedClient.nclientcode };\r\n\r\n            fieldList.map(item => {\r\n                if (item === \"ncountrycode\") {\r\n                    return inputData[\"clientsiteaddress\"][item] = this.state.selectedRecord[item].value\r\n                }\r\n                else {\r\n                    return inputData[\"clientsiteaddress\"][item] = this.state.selectedRecord[item]\r\n                }\r\n            })\r\n        }\r\n        const inputParam = {\r\n            classUrl: this.props.inputParam.classUrl,\r\n            methodUrl: \"ClientSiteAddress\",\r\n            inputData: inputData,\r\n            operation: this.props.operation, saveType, formRef,\r\n            postParam: postParam,\r\n            selectedRecord:{...this.state.selectedRecord}\r\n        }\r\n        return inputParam;\r\n        //this.props.crudMaster(inputParam, this.props.masterData);\r\n    }\r\n    SaveContactInfo(saveType, formRef) {\r\n\r\n        let dataState = undefined;\r\n        let inputData = [];\r\n        let postParam = undefined;\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        let fieldList = [\"nclientcontactcode\", \"scontactname\",\r\n            \"sphoneno\", \"smobileno\", \"semail\", \"sfaxno\", \"scomments\", \"ndefaultstatus\"];\r\n\r\n        let selectedId = null;\r\n        if (this.props.operation === \"update\") {\r\n            postParam = {\r\n                inputListName: \"ClientContactInfo\",\r\n                selectedObject: \"selectedClientContact\",\r\n                primaryKeyField: \"nclientcontactcode\",\r\n            };\r\n            inputData[\"clientcontactinfo\"] = {\r\n                \"nclientcode\": this.props.masterData.selectedClient.nclientcode,\r\n                \"nclientsitecode\": this.props.masterData.selectedClientSite.nclientsitecode\r\n            };\r\n\r\n            selectedId = this.props.selectedRecord.nclientcontactcode;\r\n\r\n            fieldList.map(item => {\r\n                return inputData[\"clientcontactinfo\"][item] = this.state.selectedRecord[item] ? this.state.selectedRecord[item] : \"\";\r\n            })\r\n            dataState = this.state.dataState;\r\n        }\r\n        else {\r\n\r\n            inputData[\"clientcontactinfo\"] = {\r\n                \"nclientcode\": this.props.masterData.selectedClient.nclientcode,\r\n                \"nclientsitecode\": this.props.masterData.selectedClientSite.nclientsitecode\r\n            };\r\n            fieldList.map(item => {\r\n                return inputData[\"clientcontactinfo\"][item] = this.state.selectedRecord[item] ? this.state.selectedRecord[item] : \"\";\r\n            })\r\n            inputData[\"clientcontactinfo\"]['ndefaultstatus'] = this.state.selectedRecord && this.state.selectedRecord.ndefaultstatus ?\r\n                this.state.selectedRecord.ndefaultstatus\r\n                : transactionStatus.YES\r\n\r\n        }\r\n        const inputParam = {\r\n            classUrl: this.props.inputParam.classUrl,\r\n            methodUrl: \"ClientContactInfo\",\r\n            inputData: inputData, selectedId,\r\n            operation: this.props.operation, saveType, formRef, dataState,\r\n            postParam: postParam,\r\n            selectedRecord:{...this.state.selectedRecord}\r\n\r\n        }\r\n        return inputParam;\r\n\r\n    }\r\n    saveClientFile = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let clientFileArray = [];\r\n        let clientFile = {\r\n            nclientcode: this.props.masterData.selectedClient.nclientcode,\r\n            nclientfilecode: selectedRecord.nclientfilecode ? selectedRecord.nclientfilecode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            nattachmenttypecode,\r\n            // ndefaultstatus: selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] ? selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] : 4\r\n        };\r\n        const formData = new FormData();\r\n        if (nattachmenttypecode === attachmentType.FTP) {\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, clientFile);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const ssystemfilename = selectedRecord.ssystemfilename ? selectedRecord.ssystemfilename.split('.') : \"\";\r\n                    const filesystemfileext = selectedRecord.ssystemfilename ? file.name.split('.')[ssystemfilename.length - 1] : \"\";\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? selectedRecord.nclientfilecode && selectedRecord.nclientfilecode > 0\r\n                        && selectedRecord.ssystemfilename !== \"\" && selectedRecord.ssystemfilename !== undefined ? ssystemfilename[0] + '.' + filesystemfileext : create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] = Lims_JSON_stringify(file.name.trim(), false);\r\n                    tempData[\"sdescription\"] = Lims_JSON_stringify(selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\", false);\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    clientFileArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                clientFile[\"sfilename\"] = Lims_JSON_stringify(selectedRecord.sfilename, false);\r\n                clientFile[\"sdescription\"] = Lims_JSON_stringify(selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\", false);\r\n                clientFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                clientFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                clientFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                clientFileArray.push(clientFile);\r\n            }\r\n        } else {\r\n            clientFile[\"sfilename\"] = Lims_JSON_stringify(selectedRecord.slinkfilename.trim(), false);\r\n            clientFile[\"sdescription\"] = Lims_JSON_stringify(selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\", false);\r\n            clientFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\r\n            clientFile[\"ssystemfilename\"] = \"\";\r\n            clientFile[\"nfilesize\"] = 0;\r\n            clientFileArray.push(clientFile);\r\n        }\r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"clientfile\", JSON.stringify(clientFileArray));\r\n        // formData.append(\"userinfo\", JSON.stringify(this.props.userInfo));\r\n\r\n\r\n\r\n        let selectedId = null;\r\n        let postParam = undefined;\r\n        if (this.props.operation === \"update\") {\r\n            // edit\r\n            postParam = { inputListName: \"Client\", selectedObject: \"selectedClient\", primaryKeyField: \"nclientcode\" };\r\n            selectedId = selectedRecord[\"nclientfilecode\"];\r\n        }\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.userInfo,\r\n                    sformname: Lims_JSON_stringify(this.props.userInfo.sformname),\r\n                    smodulename: Lims_JSON_stringify(this.props.userInfo.smodulename),\r\n                       //ALPD-1620(while saving the file and link,audit trail is not captured the respective language)\r\n                    slanguagename: Lims_JSON_stringify(this.props.userInfo.slanguagename)\r\n                }\r\n            },\r\n            formData: formData,\r\n            isFileupload: true,\r\n            operation: this.props.operation,\r\n            classUrl: \"client\",\r\n            saveType, formRef, methodUrl: \"ClientFile\", postParam,\r\n            selectedRecord:{...this.state.selectedRecord}\r\n\r\n        }\r\n        return inputParam;\r\n    }\r\n    DeleteContact = (deleteParam) => {\r\n        let inputData = [];\r\n        let inputParam = {};\r\n        if (deleteParam.selectedRecord.expanded !== undefined) {\r\n            delete deleteParam.selectedRecord.expanded\r\n        }\r\n        if (deleteParam.screenName === \"IDS_CLIENTCONTACT\") {\r\n            inputData[\"clientcontactinfo\"] = deleteParam.selectedRecord;\r\n            inputData[\"userinfo\"] = this.props.userInfo;\r\n            inputParam = {\r\n                methodUrl: \"ClientContactInfo\",\r\n                classUrl: this.props.inputParam.classUrl,\r\n                inputData: inputData,\r\n                operation: \"delete\",\r\n                dataState: this.state.dataState\r\n            }\r\n        } else {\r\n            inputParam = {\r\n                classUrl: \"client\",\r\n                methodUrl: deleteParam.methodUrl,\r\n                inputData: {\r\n                    [deleteParam.methodUrl]: deleteParam.selectedRecord,\r\n                    \"userinfo\": this.props.userInfo,\r\n\r\n                },\r\n                operation: deleteParam.operation,\r\n                dataState: this.state.dataState\r\n            }\r\n        }\r\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.masterData },\r\n                    openChildModal: true, screenName: \"Contact\", operation: \"delete\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            if (showEsign(this.props.userRoleControlRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.masterData },\r\n                        openChildModal: true, screenName: \"Contact\", operation: \"delete\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n            }\r\n        }\r\n    }\r\n    Delete = (deleteParam) => {\r\n        let inputData = [];\r\n        if (deleteParam.selectedRecord.expanded && deleteParam.selectedRecord.expanded !== undefined) {\r\n            delete deleteParam.selectedRecord.expanded\r\n        }\r\n        inputData[deleteParam.Type] = deleteParam.selectedRecord;\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        const inputParam = {\r\n            methodUrl: deleteParam.methodURL,\r\n            classUrl: this.props.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"delete\"\r\n        }\r\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.masterData },\r\n                    openChildModal: true, screenName: deleteParam.screenName, operation: deleteParam.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            if (showEsign(this.props.userRoleControlRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.masterData },\r\n                        openChildModal: true, screenName: deleteParam.screenName, operation: deleteParam.operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.masterData !== previousProps.masterData) {\r\n\r\n            let { dataState } = this.state;\r\n            if (this.props.dataState === undefined) {\r\n                dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 }\r\n            }\r\n\r\n            this.setState({\r\n                isSiteOpen: false, isContactOpen: false,\r\n                ClientContact: this.props.masterData.ClientContact,\r\n                SiteCode: this.props.masterData.SiteCode, Country: this.props.masterData.Country, dataState\r\n\r\n            });\r\n        }\r\n\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.selectedRecord });\r\n        }\r\n    }\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\" //fileToDelete:file.name \r\n        });\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openChildModal\");\r\n    }\r\n}\r\nexport default (injectIntl(ClientSiteAddressTab));"]},"metadata":{},"sourceType":"module"}