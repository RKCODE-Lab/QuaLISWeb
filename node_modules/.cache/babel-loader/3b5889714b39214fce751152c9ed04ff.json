{"ast":null,"code":"import _toConsumableArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Row,Col,Card,Nav,FormGroup,FormLabel}from\"react-bootstrap\";import{connect}from\"react-redux\";import{toast}from\"react-toastify\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faCheck,faTrashAlt,faBolt}from\"@fortawesome/free-solid-svg-icons\";import WorklistPreparationFilter from'./WorklistPreparationFilter';import{rearrangeDateFormat,convertDateValuetoString}from'../../components/CommonScript';import{injectIntl}from\"react-intl\";import Esign from\"../audittrail/Esign\";import AddWorklistSection from'../worklist/AddWorklistSection';import AddWorklistSample from'../worklist/AddWorklistSample';import CustomTab from\"../../components/custom-tabs/custom-tabs.component\";import WorklistHistoryTab from\"./WorklistHistoryTab\";import WorklistSampleTab from\"./WorklistSampleTab\";import{designProperties,transactionStatus,REPORTTYPE,SUBSAMPLEAUDITMULTILINGUALFIELDS,designComponents}from'../../components/Enumeration';import SpecificationInfo from'../testgroup/SpecificationInfo';//import { ReactComponent as Closure } from '../../assets/image/prepared-worklist.svg';\nimport{ReactComponent as Closure}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/prepared.svg\";import{ReactComponent as ReportIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/report-Icon.svg\";//import { ReactComponent as ReportIcon } from '../../assets/image/report-svgrepo-com.svg';\nimport{ReactComponent as Report}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/Report.svg\";import{ReactComponent as SaveIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/save_icon.svg\";import CustomPopover from'../../components/customPopover';import ModalShow from'../../components/ModalShow';import FormTextarea from'../../components/form-textarea/form-textarea.component';import{callService,crudMaster,validateEsignCredential,updateStore,getSectionAndTest,getWorklistDetail,OpenDate,CloseDate,viewAttachment,getInstrumentCombo,getWorklistSample,getRegTypeTestWise,getRegTypeWorklist,getSectionbaseTest,onWorklistApproveClick,getWorklistDetailFilter,getEditSectionAndTest,createWorklistCreation,filterColumnData,getConfigVersionTestWise,ViewSampleDetails,getWorklisthistoryAction,reportWorklist,getRegSubTypeWise,insertWorklist,generateControlBasedReport,validateEsignforWorklist,getWorklistFilterDetails}from\"../../actions\";import ListMaster from\"../../components/list-master/list-master.component\";import{DEFAULT_RETURN}from\"../../actions/LoginTypes\";import SlideOutModal from\"../../components/slide-out-modal/SlideOutModal\";import{showEsign,getControlMap,constructOptionList}from\"../../components/CommonScript\";import{ContentPanel,MediaLabel}from\"../../components/App.styles\";import{process}from\"@progress/kendo-data-query\";import ConfirmMessage from\"../../components/confirm-alert/confirm-message.component\";import BreadcrumbComponent from\"../../components/Breadcrumb.Component\";import{Affix}from\"rsuite\";import DataGrid from'../../components/data-grid/data-grid.component';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var WorkList=/*#__PURE__*/function(_Component){_inherits(WorkList,_Component);var _super=_createSuper(WorkList);function WorkList(props){var _this;_classCallCheck(this,WorkList);_this=_super.call(this,props);_this.sidebarExpandCollapse=function(){_this.setState({sidebarview:true});};_this.handleDateChange=function(dateName,dateValue){if(dateValue===null){dateValue=new Date();}// let toDate;\n// let fromDate;\nvar fromdate=_this.props.Login.masterData.fromDate?rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate):new Date();var todate=_this.props.Login.masterData.toDate?rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate):new Date();var obj={};if(dateName==='fromDate'){obj=convertDateValuetoString(dateValue,todate,_this.props.Login.userInfo);fromdate=obj.fromDate;todate=obj.toDate;var fromDate=obj.fromDate;var toDate=obj.toDate;}else{obj=convertDateValuetoString(fromdate,dateValue,_this.props.Login.userInfo);fromdate=obj.fromDate;todate=obj.toDate;var _fromDate=obj.fromDate;var _toDate=obj.toDate;}var inputParam={inputData:{nflag:2,nregtypecode:_this.props.Login.masterData.RegTypeValue&&_this.props.Login.masterData.RegTypeValue.nregtypecode,nregsubtypecode:_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,nneedtemplatebasedflow:_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nneedtemplatebasedflow,fromdate:String(fromdate),todate:String(todate),userinfo:_this.props.Login.userInfo,realApprovalConfigVersionList:_this.props.Login.masterData.realApprovalConfigVersionList,realApprovalVersionValue:_this.props.Login.masterData.realApprovalVersionValue},masterData:_this.props.Login.masterData};_this.props.getConfigVersionTestWise(inputParam);};_this.onFilterComboChange=function(comboData,fieldName){if(comboData){var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var inputParamData={};if(fieldName==='nsampletypecode'){//if (comboData.value !== this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode) {\ninputParamData={nflag:2,fromdate:obj.fromDate,todate:obj.toDate,nsampletypecode:comboData.value,userinfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,defaultSampleTypeValue:comboData.item,realApprovalConfigVersionList:_this.props.Login.masterData.realApprovalConfigVersionList,realApprovalVersionValue:_this.props.Login.masterData.realApprovalVersionValue};_this.props.getRegTypeWorklist(inputParamData);// }\n}else if(fieldName==='nregtypecode'){var _inputParamData;//  if (comboData.value !== this.props.Login.masterData.defaultRegTypeValue.nregtypecode) {\ninputParamData=(_inputParamData={nflag:3,fromdate:obj.fromDate,todate:obj.toDate,nsampletypecode:_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode,nregtypecode:comboData.value,userinfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData},_defineProperty(_inputParamData,\"nregtypecode\",comboData.value),_defineProperty(_inputParamData,\"realApprovalConfigVersionList\",_this.props.Login.masterData.realApprovalConfigVersionList),_defineProperty(_inputParamData,\"realApprovalVersionValue\",_this.props.Login.masterData.realApprovalVersionValue),_defineProperty(_inputParamData,\"masterData\",_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{RegTypeValue:comboData.item//RegistrationSubTypeList: inputParam.masterData.RegistrationSubTypeList\n})),_inputParamData);_this.props.getRegSubTypeWise(inputParamData);//  }\n}else if(fieldName==='nregsubtypecode'){//  if (comboData.value !== this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) {\nvar inputData={nflag:4,fromdate:obj.fromDate,todate:obj.toDate,nsampletypecode:_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode,nregtypecode:_this.props.Login.masterData.RegTypeValue.nregtypecode,nneedtemplatebasedflow:comboData.item.nneedtemplatebasedflow,nregsubtypecode:comboData.value,userinfo:_this.props.Login.userInfo,realApprovalConfigVersionList:_this.props.Login.masterData.realApprovalConfigVersionList,realApprovalVersionValue:_this.props.Login.masterData.realApprovalVersionValue};inputParamData={inputData:inputData,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{RegSubTypeValue:comboData.item//RegistrationSubTypeList: inputParam.masterData.RegistrationSubTypeList\n})};_this.props.getConfigVersionTestWise(inputParamData);// }\n}else if(fieldName==='ntransactionstatus'){// if (comboData.value !== this.props.Login.masterData.FilterStatusValue.ntransactionstatus) {\nvar masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{FilterStatusValue:comboData.item});var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:masterData}};_this.props.updateStore(updateInfo);//   }\n}else if(fieldName==='napproveconfversioncode'){// if (comboData.value !== this.props.Login.masterData.defaultApprovalVersionValue.napproveconfversioncode) {\nvar _masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultApprovalVersionValue:comboData.item});var _updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_masterData}};_this.props.updateStore(_updateInfo);//  }\n}//\n}};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){// this.searchRef.current.value = \"\";\nvar inputData=[];var instSection=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;var obj=convertDateValuetoString(_this.props.Login.masterData.fromdate,_this.props.Login.masterData.todate,_this.props.Login.userInfo);inputData['fromdate']=obj.fromDate;inputData['todate']=obj.toDate;if(_this.props.Login.screenName===\"IDS_WORKLIST\"){var postParam=undefined;inputData[\"worklist\"]={nstatus:_this.props.Login.userInfo.nmastersitecode};inputData[\"worklist\"][\"nsampletypecode\"]=_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode;inputData[\"worklist\"][\"nsectioncode\"]=_this.state.selectedRecord[\"nsectioncode\"].value;inputData[\"worklist\"][\"ntestcode\"]=_this.state.selectedRecord[\"ntestcode\"].value;//inputData[\"worklist\"][\"nregtypecode\"] = this.props.Login.masterData.RegTypeValue.nregtypecode\ninputData[\"worklist\"][\"nregtypecode\"]=_this.props.Login.masterData.defaultRegTypeValue.nregtypecode;//inputData[\"worklist\"][\"nregsubtypecode\"] = this.props.Login.masterData.RegSubTypeValue.nregsubtypecode\ninputData[\"worklist\"][\"nregsubtypecode\"]=_this.props.Login.masterData.defaultRegSubTypeValue.nregsubtypecode;inputData[\"ndesigntemplatemappingcode\"]=_this.props.Login.masterData.ndesigntemplatemappingcode;inputData[\"napprovalconfigversioncode\"]=_this.props.Login.masterData.defaultApprovalVersionValue&&_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode;inputData[\"ncontrolCode\"]=_this.state.controlMap.has(\"AddSamples\")&&_this.state.controlMap.get(\"AddSamples\").ncontrolcode;// let defaultFilterStatusValue={};\n// let FilterStatusValue={};\ninputData[\"ntransactionstatus\"]=(_this.props.Login.masterData.defaultFilterStatusValue&&_this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus===transactionStatus.ALL?_this.props.Login.masterData.FilterStatus.map(function(item){return item.ntransactionstatus;}).join(\",\"):_this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus)||-1;// this.props.Login.masterData.FilterStatus.map(item => {if(item.ntransactionstatus === transactionStatus.DRAFT){\n//   defaultFilterStatusValue = item;\n//   FilterStatusValue = item;}\n// });\n// let defaultFilterStatusValue=this.props.Login.masterData.FilterStatus[1];\n// let FilterStatusValue=this.props.Login.masterData.FilterStatus[1];\nif(_this.props.Login.operation===\"update\"){inputData[\"worklist\"][\"nworklistcode\"]=_this.props.Login.masterData.selectedWorklist.nworklistcode;}var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"Worklist\",inputData:inputData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,postParam:postParam,searchRef:_this.searchRef};var masterData=_objectSpread({},_this.props.Login.masterData);// let masterData = {...this.props.Login.masterData\n//   ,defaultFilterStatusValue,\n//   FilterStatusValue      }\nif(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:{masterData:masterData}},saveType:saveType}};_this.props.updateStore(updateInfo);}else{//this.props.crudMaster(inputParam, masterData, \"openModal\");\n_this.props.insertWorklist(inputParam,masterData);}}//add / edit  \nvar validList=true;if(_this.props.Login.screenName===\"IDS_WORKLISTSAMPLE\"&&_this.state.addedComponentList.length>1000){validList=false;}if(validList){var saveList=[];if(_this.props.Login.screenName===\"IDS_WORKLISTSAMPLE\"){var compList=_this.state.addComponentSortedList.map(function(x){delete x.selected;//return {...x, 'sregistereddate':formatInputDate(x.sregistereddate, false)}\nreturn x;})||[];//compList.map(item=>saveList.push({\"npreregno\": item.npreregno}));\nif(compList.length>0){compList.map(function(item){return saveList.indexOf(item.ntransactionsamplecode)===-1?saveList.push(item):\"\";});var _masterData2=_objectSpread({},_this.props.Login.masterData);var _inputData={worklistcompcreationlist:saveList,userinfo:_this.props.Login.userInfo,worklistcreation:_this.props.Login.masterData.selectedWorklist,ndesigntemplatemappingcode:_this.props.Login.masterData.ndesigntemplatemappingcode};var dataState=undefined;var selectedId=null;var _postParam=undefined;var _inputParam={classUrl:\"worklist\",methodUrl:\"WorklistCreation\",inputData:_inputData,selectedId:selectedId,dataState:dataState,postParam:_postParam,operation:\"create\",saveType:saveType,masterData:_masterData2};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var _updateInfo2={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:_inputParam,masterData:_masterData2},saveType:saveType}};_this.props.updateStore(_updateInfo2);}else{//this.props.crudMaster(inputParam,masterData, \"openChildModal\");\n_this.props.createWorklistCreation(_inputParam);}}else{//this.props.crudMaster(inputParam,masterData, \"openChildModal\");\ntoast.warn(_this.props.intl.formatMessage({id:\"IDS_SELCETONESAMPLE\"}));}}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_EXCEEDSMAXINSERT\"}));}};_this.DeleteWorklistSample=function(operation,ncontrolCode){var inputData=[];if(operation.screenName===\"IDS_WORKLISTSAMPLE\"){var dataState=_this.state.sectionDataState;inputData[\"worklistsample\"]={nsitecode:_this.props.Login.userInfo.ntranssitecode};inputData[\"worklistsample\"][\"nworklistcode\"]=operation.selectedRecord.nworklistcode;inputData[\"worklistsample\"][\"nworklistsamplecode\"]=operation.selectedRecord.nworklistsamplecode;inputData[\"worklistsample\"][\"ntransactiontestcode\"]=operation.selectedRecord.ntransactiontestcode;inputData[\"worklistsample\"][\"ntransactionsamplecode\"]=operation.selectedRecord.ntransactionsamplecode;inputData[\"worklistsample\"][\"sarno\"]=operation.selectedRecord.sarno;inputData[\"worklistsample\"][\"ssamplearno\"]=operation.selectedRecord.ssamplearno;inputData[\"worklistsample\"][\"stestname\"]=operation.selectedRecord.stestsynonym;inputData[\"worklistsample\"][\"nregsubtypecode\"]=operation.selectedRecord.nregsubtypecode;inputData[\"worklistsample\"][\"nregtypecode\"]=operation.selectedRecord.nregtypecode;inputData['ndesigntemplatemappingcode']=_this.props.Login.masterData.ndesigntemplatemappingcode;inputData[\"userinfo\"]=_this.props.Login.userInfo;var inputParam={methodUrl:\"WorklistSample\",classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,operation:\"delete\",dataState:dataState};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,operation.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openChildModal:true,screenName:\"worklistSample\",operation:operation.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openChildModal\");}}};_this.dataStateChange=function(event){_this.setState({dataState:event.dataState});};_this.specificationReport=function(ncontrolCode){if(_this.props.Login.masterData.selectedWorklist){var inputParam={stablename:\"worklistcode\",primaryKeyField:\"nworklistcode\",sreportlink:_this.props.Login.reportSettings[15],smrttemplatelink:_this.props.Login.reportSettings[16],nreporttypecode:REPORTTYPE.CONTROLBASED,ncontrolcode:ncontrolCode,primaryKeyValue:_this.props.Login.masterData.selectedWorklist.nworklistcode,nworklistcode:_this.props.Login.masterData.selectedWorklist.nworklistcode,nworklistcode_componentcode:REPORTTYPE.CONTROLBASED,nworklistcode_componentname:designComponents.NUMBER,ntranscode:_this.props.Login.masterData.selectedWorklist.ntransactionstatus,userinfo:_this.props.Login.userInfo};//this.props.reportWorklist(inputParam['inputData']);\n_this.props.generateControlBasedReport(inputParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\"}));}};_this.validateEsign=function(){var modalName=_this.props.Login.screenName===\"worklistSample\"?\"openChildModal\":\"openModal\";var inputParam={inputData:{userinfo:_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};if(_this.props.Login.operation===\"prepare\"){_this.props.validateEsignforWorklist(inputParam,modalName,_this.confirmMessage);}else{_this.props.validateEsignCredential(inputParam,modalName);}// this.props.validateEsignCredential(inputParam, \"openModal\");\n};_this.tabDetail=function(){var tabMap=new Map();var deleteSecId=_this.state.controlMap.has(\"DeleteWorklistSample\")&&_this.state.controlMap.get(\"DeleteWorklistSample\").ncontrolcode;var addSampleId=_this.state.controlMap.has(\"AddSamples\")&&_this.state.controlMap.get(\"AddSamples\").ncontrolcode;var viewSampleId=_this.state.controlMap.has(\"ViewWorklistSample\")&&_this.state.controlMap.get(\"ViewWorklistSample\").ncontrolcode;tabMap.set(\"IDS_WORKLISTSAMPLE\",/*#__PURE__*/React.createElement(WorklistSampleTab,{controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,dataState:_this.state.WorklistSamples,selectedWorklist:_this.state.WorklistSamples,extractedColumnList:_this.gridfillingColumn(_this.state.DynamicGridItem)||[],detailedFieldList:_this.gridfillingColumnGridMoreItem(_this.state.DynamicGridMoreItem)||[],userInfo:_this.props.Login.userInfo,inputParam:_this.props.Login.inputParam,deleteRecord:_this.DeleteWorklistSample,deleteSecId:deleteSecId,defaultRecord:_this.defaultRecord,WorklistSamples:_this.state.WorklistSamples||[],viewSample:_this.viewSample,screenName:\"IDS_WORKLISTSAMPLE\",selectedRecord:_this.state.selectedRecord,settings:_this.props.Login.settings,getWorklistSample:_this.props.getWorklistSample,masterData:_this.props.Login.masterData,addSampleId:addSampleId,viewSampleId:viewSampleId}));tabMap.set(\"IDS_WORKLISTHISTORY\",/*#__PURE__*/React.createElement(WorklistHistoryTab,{dataState:_this.props.Login.masterData.WorklistHistory,selectedWorklistHistory:_this.props.Login.masterData.WorklistHistory,InstrumentSection:_this.props.Login.masterData.WorklistHistory||[],userInfo:_this.props.Login.userInfo//inputParam={this.props.Login.inputParam}\n// deleteRecord={this.DeleteWorklistSample}\n// deleteSecId={deleteSecId}\n// defaultSecId={defaultSecId}\n// defaultRecord={this.defaultRecord}\n,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,screenName:\"IDS_WORKLISTHISTORY\",selectedRecord:_this.state.selectedRecord,settings:_this.props.Login.settings}));return tabMap;};_this.clickFilterDetail=function(value){var _inputData2;//  if(this.props.Login.nfilternamecode!==value.nfilternamecode){\n_this.searchRef.current.value=\"\";_this.props.Login.change=false;var masterData=_this.props.Login.masterData;var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var inputData=(_inputData2={userinfo:_this.props.Login.userInfo,FromDate:obj.fromDate,ToDate:obj.toDate,nfilternamecode:value&&value.nfilternamecode?value.nfilternamecode:-1,npreregno:\"0\",sampletypecode:_this.props.Login.masterData.RealSampleTypeValue&&_this.props.Login.masterData.RealSampleTypeValue.nsampletypecode||-1,regtypecode:parseInt(_this.props.Login.masterData.realRegTypeValue&&_this.props.Login.masterData.realRegTypeValue.nregtypecode)||-1,regsubtypecode:parseInt(_this.props.Login.masterData.realRegSubTypeValue&&_this.props.Login.masterData.realRegSubTypeValue.nregsubtypecode)||-1,approvalconfigurationcode:_this.props.Login.masterData.realApprovalVersionValue?_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigcode||-1:null,napprovalversioncode:_this.props.Login.masterData.realApprovalVersionValue&&_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode?String(_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode):-1},_defineProperty(_inputData2,\"userinfo\",_this.props.Login.userInfo),_defineProperty(_inputData2,\"designtemplatcode\",_this.props.Login.masterData.realDesignTemplateMappingValue&&_this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode||-1),_defineProperty(_inputData2,\"ntranscode\",_this.props.Login.masterData.FilterStatusValue.ntransactionstatus===0?_this.props.Login.masterData.FilterStatusValue.ntransactionstatus:_this.props.Login.masterData.FilterStatusValue.ntransactionstatus),_inputData2);var inputParam={masterData:masterData,inputData:inputData};_this.props.getWorklistFilterDetails(inputParam);// }\n// else{\n//     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDFILTERALREADYLOADED\" }));  \n// }\n};_this.openFilterName=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{modalShow:true,operation:\"create\",isFilterDetail:true,modalTitle:_this.props.intl.formatMessage({id:\"IDS_SAVEFILTER\"})}};_this.props.updateStore(updateInfo);};_this.onSaveModalFilterName=function(){var _inputData3;var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var masterData=_this.props.Login.masterData;var inputData=(_inputData3={userinfo:_this.props.Login.userInfo,dfrom:obj.fromDate,dto:obj.toDate,sfiltername:_this.state.selectedRecord&&_this.state.selectedRecord.sfiltername!==null?_this.state.selectedRecord.sfiltername:\"\",sampleTypeValue:_this.props.Login.masterData&&_this.props.Login.masterData.RealSampleTypeValue,regTypeValue:_this.props.Login.masterData&&_this.props.Login.masterData.realRegTypeValue,regSubTypeValue:_this.props.Login.masterData&&_this.props.Login.masterData.realRegSubTypeValue,filterStatusValue:_this.props.Login.masterData&&_this.props.Login.masterData.RealFilterStatusValue,approvalConfigValue:_this.props.Login.masterData&&_this.props.Login.masterData.realApprovalVersionValue,designTemplateMappingValue:_this.props.Login.masterData&&_this.props.Login.masterData.realDesignTemplateMappingValue,npreregno:\"0\",nsampletypecode:_this.props.Login.masterData.RealSampleTypeValue&&_this.props.Login.masterData.RealSampleTypeValue.nsampletypecode||-1,nregtypecode:parseInt(_this.props.Login.masterData.realRegTypeValue&&_this.props.Login.masterData.realRegTypeValue.nregtypecode)||-1,nregsubtypecode:parseInt(_this.props.Login.masterData.realRegSubTypeValue&&_this.props.Login.masterData.realRegSubTypeValue.nregsubtypecode)||-1,//ntranscode: ((this.props.Login.masterData.realFilterStatusValue && this.props.Login.masterData.realFilterStatusValue.ntransactionstatus !== undefined) || this.props.Login.masterData.FilterStatusValue.ntransactionstatus !== '0') ? String(this.props.Login.masterData.FilterStatusValue.ntransactionstatus) + ',' + String(transactionStatus.worklist) : \"-1\",\n// ntranscode: this.props.Login.masterData.FilterStatusValue\n//  && (this.props.Login.masterData.FilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\"'\",\",\",\",\") : \"'\",this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\"'\"),\n// //ntranscode: this.props.Login.masterData.defaultFilterStatusValue && this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus,         \nntransactionstatusfilter:_this.props.Login.masterData.FilterStatusValue.ntransactionstatus===0?_this.props.Login.masterData.FilterStatus.map(function(item){return\"\".concat(item.ntransactionstatus);}).join(\",\"):\"\".concat(_this.props.Login.masterData.FilterStatusValue.ntransactionstatus),ntranscode:_this.props.Login.masterData.FilterStatusValue.ntransactionstatus===0?_this.props.Login.masterData.FilterStatusValue.ntransactionstatus:_this.props.Login.masterData.FilterStatusValue.ntransactionstatus,napprovalconfigcode:_this.props.Login.masterData.realApprovalVersionValue?_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigcode||-1:null,napproveconfversioncode:_this.props.Login.masterData.realApprovalVersionValue&&_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode?_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode:-1},_defineProperty(_inputData3,\"userinfo\",_this.props.Login.userInfo),_defineProperty(_inputData3,\"ndesigntemplatemappingcode\",_this.props.Login.masterData.realDesignTemplateMappingValue&&_this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode||-1),_defineProperty(_inputData3,\"needExtraKeys\",true),_inputData3);var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"FilterName\",inputData:inputData,operation:_this.props.Login.operation};if(inputData.nsampletypecode!==-1&&inputData.nregtypecode!==-1&&inputData.nregsubtypecode!==-1&&inputData.ntransactionstatus!==\"-1\"&&inputData.napprovalconfigcode!==-1&&inputData.napprovalversioncode!==\"-1\"){_this.props.crudMaster(inputParam,masterData,\"modalShow\");}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTALLVALUESINFILTER\"}));}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;if(screenName==\"IDS_WORKLISTHISTORY\"){var inputData={masterData:_this.props.Login.masterData,userInfo:_this.props.Login.userInfo,nworklistcode:_this.props.Login.masterData.selectedWorklist.nworklistcode};_this.props.getWorklisthistoryAction(inputData,true);}else{var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName,activeKey:\"IDS_WORKLISTSAMPLE\"}};_this.props.updateStore(updateInfo);}};_this.reloadData=function(){_this.searchRef.current.value=\"\";_this.props.Login.masterData.searchedData=undefined;var obj=convertDateValuetoString(_this.props.Login.masterData.fromdate,_this.props.Login.masterData.todate,_this.props.Login.userInfo);var realFromDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate);var realToDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate);var defaultSampleTypeValue=_this.props.Login.masterData.defaultSampleTypeValue;var defaultRegTypeValue=_this.props.Login.masterData.defaultRegTypeValue;var defaultRegSubTypeValue=_this.props.Login.masterData.defaultRegSubTypeValue;var defaultFilterStatusValue=_this.props.Login.masterData.defaultFilterStatusValue;var defaultApprovalVersionValue=_this.props.Login.masterData.defaultApprovalVersion;var defaultApprovalVersion=_this.props.Login.masterData.defaultApprovalVersionValue;var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realFromDate:realFromDate,realToDate:realToDate,defaultSampleTypeValue:defaultSampleTypeValue,defaultRegTypeValue:defaultRegTypeValue,defaultRegSubTypeValue:defaultRegSubTypeValue,defaultFilterStatusValue:defaultFilterStatusValue,defaultApprovalVersionValue:defaultApprovalVersionValue});var inputData={nsampletypecode:_this.props.Login.masterData.defaultSampleTypeValue&&_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode||-1,nregtypecode:parseInt(_this.props.Login.masterData.defaultRegTypeValue&&_this.props.Login.masterData.defaultRegTypeValue.nregtypecode)||-1,nregsubtypecode:parseInt(_this.props.Login.masterData.defaultRegSubTypeValue&&_this.props.Login.masterData.defaultRegSubTypeValue.nregsubtypecode)||-1,//  ntransactionstatus: (this.props.Login.masterData.defaultFilterStatusValue && this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus) || -1,\nntransactionstatus:(_this.props.Login.masterData.defaultFilterStatusValue&&_this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus===transactionStatus.ALL?_this.props.Login.masterData.FilterStatus.map(function(item){return item.ntransactionstatus;}).join(\",\"):_this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus)||-1,userinfo:_this.props.Login.userInfo,napprovalconfigversioncode:_this.props.Login.masterData.defaultApprovalVersionValue&&_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode||-1};if(inputData.nsampletypecode!==-1&&inputData.nregtypecode!==-1&&inputData.nregsubtypecode!==-1&&inputData.napprovalconfigversioncode!==-1&&inputData.ntransactionstatus!==\"-1\"){inputData['fromdate']=obj.fromDate;inputData['todate']=obj.toDate;inputData['ndesigntemplatemappingcode']=_this.props.Login.masterData.ndesigntemplatemappingcode;var inputParam={masterData:masterData,inputData:inputData,searchTestRef:_this.searchTestRef,skip:_this.state.skip,take:_this.state.take,testskip:_this.state.testskip,testtake:_this.state.testtake,isClearSearch:_this.props.Login.isClearSearch};_this.props.getWorklistDetailFilter(inputParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTALLVALUESINFILTER\"}));}};_this.ConfirmDelete=function(operation,deleteId){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.DeleteWorklist(operation,deleteId,operation.screenName?operation.screenName:\"IDS_WORKLIST\");});};_this.DeleteWorklist=function(operation,ncontrolCode){var inputData=[];inputData[\"worklist\"]=_this.props.Login.masterData.selectedWorklist;inputData[\"userinfo\"]=_this.props.Login.userInfo;var obj=convertDateValuetoString(_this.props.Login.masterData.fromdate,_this.props.Login.masterData.todate,_this.props.Login.userInfo);inputData['fromdate']=obj.fromDate;inputData['todate']=obj.toDate;inputData['ndesigntemplatemappingcode']=_this.props.Login.masterData.ndesigntemplatemappingcode;inputData[\"napprovalconfigversioncode\"]=_this.props.Login.masterData.defaultApprovalVersionValue&&_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode;inputData[\"ntransactionstatus\"]=(_this.props.Login.masterData.defaultFilterStatusValue&&_this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus===transactionStatus.ALL?_this.props.Login.masterData.FilterStatus.map(function(item){return item.ntransactionstatus;}).join(\",\"):_this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus)||-1;var postParam={inputListName:\"Worklist\",selectedObject:\"selectedWorklist\",primaryKeyField:\"nworklistcode\",primaryKeyValue:_this.props.Login.masterData.selectedWorklist.nworklistcode,fetchUrl:\"worklist/getWorklistSelectSample\",fecthInputObject:{userinfo:_this.props.Login.userInfo,ndesigntemplatemappingcode:_this.props.Login.masterData.ndesigntemplatemappingcode,nneedsampleandhistory:transactionStatus.YES}};var inputParam={methodUrl:\"Worklist\",postParam:postParam,classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,operation:operation.operation};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"Worklist\",operation:operation.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.onApproveClick=function(){//onClick={() => this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, approvalId)}\n//if (this.props.Login.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.DRAFT) {\nvar ncontrolCode=_this.state.controlMap.has(\"GenerateWorklist\")&&_this.state.controlMap.get(\"GenerateWorklist\").ncontrolcode;var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;var masterData=_this.props.Login.masterData;// //add               \nvar postParam=undefined;inputData[\"worklist\"]=masterData.selectedWorklist;inputData[\"ncontrolCode\"]=ncontrolCode;inputData[\"ndesigntemplatemappingcode\"]=masterData.ndesigntemplatemappingcode;inputData[\"ntransactionstatus\"]=(_this.props.Login.masterData.defaultFilterStatusValue&&_this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus===transactionStatus.ALL?_this.props.Login.masterData.FilterStatus.map(function(item){return item.ntransactionstatus;}).join(\",\"):_this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus)||-1;// inputData[\"supplier\"] = this.props.Login.masterData.SelectedSupplier;\npostParam={inputListName:\"Worklist\",selectedObject:\"selectedWorklist\",primaryKeyField:\"nworklistcode\",primaryKeyValue:_this.props.Login.masterData.selectedWorklist.nworklistcode,fetchUrl:\"worklist/getWorklistSelectSample\",fecthInputObject:{userinfo:_this.props.Login.userInfo,ndesigntemplatemappingcode:_this.props.Login.masterData.ndesigntemplatemappingcode,nneedsampleandhistory:transactionStatus.YES}};var inputParam={classUrl:'worklist',methodUrl:\"Worklist\",inputData:inputData,operation:\"prepare\",postParam:postParam};var saveType;var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,openModal:true,operation:\"prepare\",screenName:\"Worklist\"}};_this.props.updateStore(updateInfo);}else{//this.props.crudMaster(inputParam, masterData, \"openModal\");\n_this.props.onWorklistApproveClick(_this.props.Login.masterData,_this.props.Login.userInfo,_this.confirmMessage,ncontrolCode);}};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};if(comboData!==null){switch(caseNo){case 1:if(selectedRecord[fieldName]&&selectedRecord[fieldName].value!==comboData.value){delete selectedRecord[\"ntestcode\"];}selectedRecord[fieldName]=comboData;//this.setState({selectedRecord});\n_this.props.getSectionbaseTest(selectedRecord,_this.props.Login.userInfo,_this.props.Login.masterData,_this.props.Login.ncontrolCode);break;default:break;}}else{if(selectedRecord[\"nsectioncode\"]){delete selectedRecord[\"nsectioncode\"];delete selectedRecord[\"nusercode\"];}var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var modalShow=_this.props.Login.modalShow;var selectedRecord=_this.props.Login.selectedRecord;var openChildModal=_this.props.Login.openChildModal;// let isFilterDetail = this.props.Login.isFilterDetail;\nif(_this.props.Login.loadEsign){if((_this.props.Login.operation.operation?_this.props.Login.operation.operation:_this.props.Login.operation)===\"delete\"){loadEsign=false;openModal=false;openChildModal=false;selectedRecord={};}else{loadEsign=false;// selectedRecord[\"agree\"] = transactionStatus.NO;\nselectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";//ALPD-5674--Added by Vignesh R(10-04-2025)-->ETICA Worklist --> Blank page occurs when cancel the esign.\nmodalShow=false;openModal=false;openChildModal=false;}}else{openModal=false;modalShow=false;//  isFilterDetail=false;\nopenChildModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,modalShow:modalShow,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null,openChildModal:openChildModal}};_this.props.updateStore(updateInfo);};_this.viewSample=function(viewdetails){//let openModal = this.props.Login.openModal;\n//let openModal = true;\n//let screenName = 'IDS_VIEWDETAILS'\n_this.props.ViewSampleDetails(_this.props.Login.masterData,\"IDS_PREVIOUSRESULTVIEW\",_this.props.Login.userInfo,viewdetails);};_this.closeModalShow=function(){var loadEsign=_this.props.Login.loadEsign;var modalShow=_this.props.Login.modalShow;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){loadEsign=false;}else{modalShow=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{modalShow:modalShow,selectedRecord:selectedRecord,selectedId:null,loadEsign:loadEsign}};_this.props.updateStore(updateInfo);};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var inputValues={RegistrationSubType:_this.props.Login.masterData.realRegistrationSubTypeList||[],RegistrationType:_this.props.Login.masterData.realRegistrationTypeList||[],FilterStatus:_this.props.Login.masterData.realFilterStatusList||[],SampleType:_this.props.Login.masterData.realSampleTypeList||[],ApprovalConfigVersion:_this.props.Login.masterData.realApprovalConfigVersionList||[],FilterStatusValue:_this.props.Login.masterData.RealFilterStatusValue||{},ApprovalVersionValue:_this.props.Login.masterData.realApprovalVersionValue||{},RegSubTypeValue:_this.props.Login.masterData.realRegSubTypeValue||{},RegTypeValue:_this.props.Login.masterData.realRegTypeValue||{},SampleTypeValue:_this.props.Login.masterData.RealSampleTypeValue||{},fromDate:_this.props.Login.masterData.fromdate||new Date(),// ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date(),\ntoDate:_this.props.Login.masterData.todate||new Date(),// ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date(),\ndefaultSampleTypeValue:_this.props.Login.masterData.RealSampleTypeValue||{},defaultApprovalVersionValue:_this.props.Login.masterData.realApprovalVersionValue||{}};var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),inputValues)}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){_this.searchRef.current.value=\"\";_this.props.Login.masterData.searchedData=undefined;var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var realFromDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate);var realToDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate);var fromdate=_this.props.Login.masterData.fromDate?rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate):new Date();var todate=_this.props.Login.masterData.toDate?rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate):new Date();var defaultSampleTypeValue=_this.props.Login.masterData.defaultSampleTypeValue;var defaultRegTypeValue=_this.props.Login.masterData.RegTypeValue;var defaultRegSubTypeValue=_this.props.Login.masterData.RegSubTypeValue;var defaultFilterStatusValue=_this.props.Login.masterData.FilterStatusValue;var defaultApprovalVersion=_this.props.Login.masterData.defaultApprovalVersionValue;var RealSampleTypeValue=_this.props.Login.masterData.defaultSampleTypeValue;var realApprovalVersionValue=_this.props.Login.masterData.defaultApprovalVersionValue;var realRegTypeValue=_this.props.Login.masterData.RegTypeValue;var realRegSubTypeValue=_this.props.Login.masterData.RegSubTypeValue;var RealFilterStatusValue=_this.props.Login.masterData.FilterStatusValue;var realApprovalConfigVersionList=_this.props.Login.masterData.ApprovalConfigVersion;var realFilterStatusList=_this.props.Login.masterData.FilterStatus;var realRegistrationTypeList=_this.props.Login.masterData.RegistrationType;var realRegistrationSubTypeList=_this.props.Login.masterData.RegistrationSubType;var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realFromDate:realFromDate,realToDate:realToDate,defaultSampleTypeValue:defaultSampleTypeValue,defaultRegTypeValue:defaultRegTypeValue,defaultRegSubTypeValue:defaultRegSubTypeValue,defaultFilterStatusValue:defaultFilterStatusValue,defaultApprovalVersion:defaultApprovalVersion,fromdate:fromdate,todate:todate,RealSampleTypeValue:RealSampleTypeValue,realApprovalVersionValue:realApprovalVersionValue,realRegTypeValue:realRegTypeValue,realRegSubTypeValue:realRegSubTypeValue,RealFilterStatusValue:RealFilterStatusValue,realApprovalConfigVersionList:realApprovalConfigVersionList,realFilterStatusList:realFilterStatusList,realRegistrationTypeList:realRegistrationTypeList,realRegistrationSubTypeList:realRegistrationSubTypeList});var inputData=_defineProperty({//npreregno: \"0\",\nnsampletypecode:_this.props.Login.masterData.defaultSampleTypeValue&&_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode||-1,nregtypecode:parseInt(_this.props.Login.masterData.RegTypeValue&&_this.props.Login.masterData.RegTypeValue.nregtypecode)||-1,nregsubtypecode:parseInt(_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode)||-1,//ntransactionstatus: (this.props.Login.masterData.FilterStatusValue && this.props.Login.masterData.FilterStatusValue.ntransactionstatus) || -1,\nntransactionstatus:_this.props.Login.masterData.FilterStatusValue&&(_this.props.Login.masterData.FilterStatusValue.ntransactionstatus===transactionStatus.ALL?_this.props.Login.masterData.FilterStatus.map(function(item){return item.ntransactionstatus;}).join(\",\"):_this.props.Login.masterData.FilterStatusValue.ntransactionstatus),ntranscode:_this.props.Login.masterData.FilterStatusValue&&(_this.props.Login.masterData.FilterStatusValue.ntransactionstatus===transactionStatus.ALL?_this.props.Login.masterData.FilterStatus.map(function(item){return item.ntransactionstatus;}).join(\",\"):_this.props.Login.masterData.FilterStatusValue.ntransactionstatus),napprovalconfigversioncode:_this.props.Login.masterData.defaultApprovalVersionValue&&_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode||-1,napprovalversioncode:_this.props.Login.masterData.defaultApprovalVersionValue&&_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode||-1,userinfo:_this.props.Login.userInfo,needExtraKeys:true,saveFilterSubmit:true,nneedtemplatebasedflow:_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nneedtemplatebasedflow,sampleTypeValue:_this.props.Login.masterData.defaultSampleTypeValue&&_this.props.Login.masterData.defaultSampleTypeValue,regTypeValue:_this.props.Login.masterData.RegTypeValue&&_this.props.Login.masterData.RegTypeValue,regSubTypeValue:_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue,filterStatusValue:_this.props.Login.masterData&&_this.props.Login.masterData.RealFilterStatusValue,approvalConfigValue:_this.props.Login.masterData&&_this.props.Login.masterData.realApprovalVersionValue,designTemplateMappingValue:_this.props.Login.masterData.realDesignTemplateMappingValue&&_this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode||-1},\"napprovalversioncode\",_this.props.Login.masterData.realApprovalVersionValue&&_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode?String(_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode):-1);if(inputData.nsampletypecode!==-1&&inputData.nregtypecode!==-1&&inputData.nregsubtypecode!==-1&&inputData.napprovalconfigversioncode!==-1&&inputData.ntranscode!==\"-1\"){inputData['fromdate']=obj.fromDate;inputData['todate']=obj.toDate;inputData['ndesigntemplatemappingcode']=_this.props.Login.masterData.ndesigntemplatemappingcode;var inputParam={masterData:masterData,inputData:inputData,searchTestRef:_this.searchTestRef,skip:_this.state.skip,take:_this.state.take,testskip:_this.state.testskip,testtake:_this.state.testtake};_this.props.getWorklistDetailFilter(inputParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTALLVALUESINFILTER\"}));}};_this.childDataChange=function(addComponentSortedList){_this.setState({addComponentSortedList:addComponentSortedList,isInitialRender:false});};var sectionDataState={skip:0,take:10};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],selectedWorklist:undefined,controlMap:new Map(),Instrument:[],sectionDataState:sectionDataState,addComponentDataList:[],addedComponentList:[],RegistrationSubTypeList:[],FilterStatusList:[],SampletypeList:[],RegTypeValue:[],ConfigVersionList:[],sidebarview:false};_this.searchRef=React.createRef();_this.searchFieldList=[\"sworklistno\",\"stestname\"];_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(WorkList,[{key:\"gridfillingColumn\",value:function gridfillingColumn(data){var _this2=this;var temparray=[];data&&data.map(function(option){if(option[designProperties.VALUE]!==\"dregdate\"){temparray.push({\"idsName\":option[designProperties.LABEL][_this2.props.Login.userInfo.slanguagetypecode],\"dataField\":option[designProperties.VALUE],\"width\":\"200px\",\"columnSize\":\"3\"});}});if(temparray){temparray.push({\"idsName\":\"IDS_REGISTRATIONDATE\",\"dataField\":\"sregistereddate\",\"width\":\"250px\",\"columnSize\":\"3\"});}return temparray;}},{key:\"gridfillingColumnGridMoreItem\",value:function gridfillingColumnGridMoreItem(data){var _this3=this;var temparray=[];data&&data.map(function(option){if(option[designProperties.VALUE]!==\"dregdate\"){temparray.push({\"idsName\":option[designProperties.LABEL][_this3.props.Login.userInfo.slanguagetypecode],\"dataField\":option[designProperties.VALUE],\"width\":\"200px\",\"columnSize\":\"3\"});}});// if (temparray) {\n//   temparray.push({ \"idsName\": \"IDS_REGISTRATIONDATE\", \"dataField\": \"sregistereddate\", \"width\": \"250px\", \"columnSize\": \"3\" })\n// }\nreturn temparray;}// onNumericInputOnChange = (value, name) => {\n//   const selectedRecord = this.state.selectedRecord || {};\n//   selectedRecord[name] = value;\n//   this.setState({ selectedRecord });\n// };\n// dataStateChangeWorklistSample = (event) => {\n//   // ADDed by Neeraj-ALPD-5136\n//   //WorkList Screen -> Including filter in Data selection Kendo Grid \n//     let updatedList = [];\n//     if (event.dataState && event.dataState.filter === null) {\n//       let addComponentDataListCopy = this.state.addComponentDataListCopy ||this.state.addComponentDataList|| [];\n//       addComponentDataListCopy.forEach(x => {\n//         // Check if x's ntransactiontestcode exists in addComponentSortedList\n//         const exists = this.state.addComponentSortedList.some(\n//           item => item.ntransactiontestcode === x.ntransactiontestcode\n//         );\n//         // If it doesn't exist, add it to updatedList\n//         if (!exists) {\n//           updatedList.push(x);\n//         }\n//       });\n//     }else{\n//       updatedList=this.state.addComponentDataList||[]\n//     }      \n//       this.setState({\n//         dataResult: process(this.state.addComponentDataList || [], event.dataState),\n//         dataState: event.dataState,addComponentDataList:updatedList,addSelectAll:event.dataState && event.dataState.filter === null?\n//         this.valiateCheckAll(updatedList): this.valiateCheckAll(process(updatedList || [], event.dataState).data)\n//       });\n//   }\n// selectionChange = (event) => {\n//   let addedComponentList = this.state.addedComponentList || [];\n//   const addComponentDataList = this.props.Login.addComponentDataList.map(item => {\n//     if (item.ntransactiontestcode === event.dataItem.ntransactiontestcode) {\n//       item.selected = !event.dataItem.selected;\n//       if (item.selected) {\n//         const newItem = JSON.parse(JSON.stringify(item));\n//         newItem[\"jsondata\"] = {}\n//         newItem[\"jsonuidata\"] = {}\n//         delete newItem['selected']\n//         //newItem.selected = false;\n//         newItem[\"jsondata\"]['worklist'] = item\n//         newItem[\"jsonuidata\"]['worklist'] = item\n//         addedComponentList.push(newItem);\n//       }\n//       else {\n//         addedComponentList = addedComponentList.filter(item1 => item1.ntransactiontestcode !== item.ntransactiontestcode)\n//       }\n//     }\n//     return item;\n//   });\n//   this.setState({\n//     addComponentDataList, addedComponentList,\n//     addSelectAll: this.valiateCheckAll(addComponentDataList),\n//     deleteSelectAll: this.valiateCheckAll(addedComponentList)\n//   });\n// }\n// selectionChange = (event) => {\n//   let addedComponentList = this.state.addedComponentList || [];\n//   const addComponentDataList = this.state.addComponentDataList.map(item => {\n//     if (item.ntransactiontestcode === event.dataItem.ntransactiontestcode) {\n//       item.selected = !event.dataItem.selected;\n//       if (item.selected) {\n//         const newItem = JSON.parse(JSON.stringify(item));\n//         newItem[\"jsondata\"] = {}\n//         newItem[\"jsonuidata\"] = {}\n//         delete newItem['selected']\n//         //newItem.selected = false;\n//         newItem[\"jsondata\"]['worklist'] = item\n//         newItem[\"jsonuidata\"]['worklist'] = item\n//         addedComponentList.push(newItem);\n//       }\n//       else {\n//         addedComponentList = addedComponentList.filter(item1 => item1.ntransactiontestcode !== item.ntransactiontestcode)\n//       }\n//     }\n//     return item;\n//   });\n//   this.setState({\n//     // ADDed by Neeraj-ALPD-5136\n//     //WorkList Screen -> Including filter in Data selection Kendo Grid \n//          addSelectAll: this.valiateCheckAll(this.state.dataState && this.state.dataState.filter \n//           && this.state.dataState.filter !== null && this.state.dataState.filter!==undefined\n//        ? process(addComponentDataList || [], this.state.dataState).data : addComponentDataList),\n//     addComponentDataList, addedComponentList,\n//     //addSelectAll: this.valiateCheckAll(addComponentDataList),\n//     deleteSelectAll: this.valiateCheckAll(addedComponentList),\n//     addComponentDataListCopy:this.valiateCopy(this.state.addComponentSortedList||[],addComponentDataList||[],addedComponentList||[])\n//   });\n// }\n},{key:\"valiateCheckAll\",value:// headerSelectionChange = (event) => {\n//   const checked = event.syntheticEvent.target.checked;\n//   let addComponentDataList = event.target.props.data //this.state.addedComponentList || [];\n//   let addedComponentList = [];\n//   if (checked) {\n//     const data = event.target.props.data.map(item => {\n//       //const data = this.state.addComponentDataList.map(item => {\n//       if (addedComponentList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\n//         // addedComponentList.push({ ...item, selected: false });\n//         item.selected = checked;\n//         const newItem = JSON.parse(JSON.stringify(item));\n//         newItem[\"jsondata\"] = {}\n//         newItem[\"jsonuidata\"] = {}\n//         delete newItem['selected']\n//         //newItem.selected = false;\n//         newItem[\"jsondata\"]['worklist'] = item\n//         newItem[\"jsonuidata\"]['worklist'] = item\n//         addedComponentList.push(newItem);\n//         //item.selected = false;\n//         return item;\n//       } else {\n//         let olditem = JSON.parse(JSON.stringify(addedComponentList[addedComponentList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\n//         olditem.selected = checked;\n//         let newItem = JSON.parse(JSON.stringify(olditem));\n//         newItem.selected = false;\n//         newItem[\"jsondata\"] = {};\n//         newItem[\"jsonuidata\"] = {};\n//         delete newItem['selected']\n//         newItem[\"jsondata\"]['worklist'] = olditem\n//         newItem[\"jsonuidata\"]['worklist'] = olditem\n//         addedComponentList.push(newItem);\n//         return olditem;\n//       }\n//     });\n//     this.setState({\n//       addComponentDataList: data, addedComponentList,\n//       addSelectAll: this.valiateCheckAll(addedComponentList),\n//       deleteSelectAll: this.valiateCheckAll(addedComponentList),\n//       addSelectAll: checked, deleteSelectAll: false\n//     });\n//   }\n//   //   if (checked) {\n//   //     const data = event.dataItems.map(item => {\n//   //         if (addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\n//   //           addComponentDataList.push({ ...item, selected: false });\n//   //             item.selected = checked;   \n//   //             let newItem = JSON.parse(JSON.stringify(item));\n//   //             newItem.selected = false;\n//   //             newItem[\"jsondata\"]={};\n//   //             newItem[\"jsonuidata\"]={};\n//   //             newItem[\"jsondata\"]['worklist'] = item\n//   //             newItem[\"jsonuidata\"]['worklist'] = item    \n//   //             addedComponentList.push(newItem);\n//   //             return item;\n//   //         } else {\n//   //             let olditem = JSON.parse(JSON.stringify(addComponentDataList[addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\n//   //             olditem.selected = checked;\n//   //             let newItem = JSON.parse(JSON.stringify(olditem));\n//   //             newItem.selected = false;\n//   //             newItem[\"jsondata\"]={};\n//   //             newItem[\"jsonuidata\"]={};\n//   //             newItem[\"jsondata\"]['worklist'] = olditem\n//   //             newItem[\"jsonuidata\"]['worklist'] = olditem\n//   //             addedComponentList.push(newItem);\n//   //             return olditem;\n//   //         }\n//   //     });\n//   //     this.setState({\n//   //       addComponentDataList: data,\n//   //         addedComponentList:addedComponentList,\n//   //         addComponentDataList,\n//   //         addSelectAll: checked, \n//   //         deleteSelectAll: false\n//   //     });\n//   // }\n//   else {\n//     let addedComponentData = this.state.addedComponentList || [];\n//     let deletedListdData = this.state.deletedList || [];\n//     const data = this.state.addComponentDataList.map(item => {\n//       addedComponentData = addedComponentData.filter(item1 => item1.npreregno !== item.npreregno);\n//       deletedListdData = deletedListdData.filter(item1 => item1.npreregno !== item.npreregno);\n//       item.selected = checked;\n//       return item;\n//     });\n//     // console.log(\"data:\",data1, data2);\n//     this.setState({\n//       addComponentDataList: data, addedComponentList: addedComponentData, deletedList: deletedListdData,\n//       addSelectAll: this.valiateCheckAll(addedComponentList),\n//       deleteSelectAll: this.valiateCheckAll(addedComponentList),\n//       addSelectAll: checked, deleteSelectAll: false\n//     });\n//   }\n// }\n// onApproveClick = () => {\n//   //if (this.props.Login.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.DRAFT) {\n//   const ncontrolCode = this.state.controlMap.has(\"ApproveSupplier\") && this.state.controlMap.get(\"ApproveSupplier\").ncontrolcode\n//   let inputData = [];\n//   inputData[\"userinfo\"] = this.props.Login.userInfo;\n//   //add               \n//   let postParam = undefined;\n//   inputData[\"supplier\"] = { \"nsuppliercode\": this.props.Login.masterData.SelectedSupplier[\"nsuppliercode\"] ? this.props.Login.masterData.SelectedSupplier[\"nsuppliercode\"].Value : \"\" };\n//   inputData[\"supplier\"] = this.props.Login.masterData.SelectedSupplier;\n//   postParam = { inputListName: \"Supplier\", selectedObject: \"SelectedSupplier\", primaryKeyField: \"nsuppliercode\" };\n//   const inputParam = {\n//     classUrl: 'supplier',\n//     methodUrl: \"Supplier\",\n//     inputData: inputData,\n//     operation: \"approve\", postParam\n//   }\n//   let saveType;\n//   const masterData = this.props.Login.masterData;\n//   const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\n//   if (esignNeeded) {\n//     const updateInfo = {\n//       typeName: DEFAULT_RETURN,\n//       data: {\n//         loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"approve\"\n//       }\n//     }\n//     this.props.updateStore(updateInfo);\n//   }\n//   else {\n//     this.props.crudMaster(inputParam, masterData, \"openModal\");\n//   }\n//   // }\n//   // else {\n//   //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORDTOAPPROVE\" }));\n//   // }\n// }\n// headerSelectionChange = (event) => {\n//   const checked = event.syntheticEvent.target.checked;\n//   let addComponentDataList = //event.target.props.data \n//     this.state.addComponentDataList || [];\n//   let addedComponentList = [];\n//   if (checked) {\n//     const data = event.target.props.data.map(item => {\n//       //  const data = addComponentDataList.map(item => {\n//       if (addedComponentList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\n//         // addedComponentList.push({ ...item, selected: false });\n//         item.selected = checked;\n//         const newItem = JSON.parse(JSON.stringify(item));\n//         newItem[\"jsondata\"] = {}\n//         newItem[\"jsonuidata\"] = {}\n//         delete newItem['selected']\n//         //newItem.selected = false;\n//         newItem[\"jsondata\"]['worklist'] = item\n//         newItem[\"jsonuidata\"]['worklist'] = item\n//         addedComponentList.push(newItem);\n//         //item.selected = false;\n//         return item;\n//       } else {\n//         let olditem = JSON.parse(JSON.stringify(addedComponentList[addedComponentList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\n//         olditem.selected = checked;\n//         let newItem = JSON.parse(JSON.stringify(olditem));\n//         newItem.selected = false;\n//         newItem[\"jsondata\"] = {};\n//         newItem[\"jsonuidata\"] = {};\n//         delete newItem['selected']\n//         newItem[\"jsondata\"]['worklist'] = olditem\n//         newItem[\"jsonuidata\"]['worklist'] = olditem\n//         addedComponentList.push(newItem);\n//         return olditem;\n//       }\n//     });\n//     this.setState({\n//       addComponentDataList: data, addedComponentList,\n//       // ADDed by Neeraj-ALPD-5136\n//       //WorkList Screen -> Including filter in Data selection Kendo Grid \n//       addComponentDataListCopy: this.valiateCopy(this.state.addComponentSortedList||[],data||[],addedComponentList||[]) ,\n//       addSelectAll: this.valiateCheckAll(addedComponentList),\n//       deleteSelectAll: this.valiateCheckAll(addedComponentList),\n//       addSelectAll: checked, deleteSelectAll: false\n//     });\n//   }\n//   //   if (checked) {\n//   //     const data = event.dataItems.map(item => {\n//   //         if (addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\n//   //           addComponentDataList.push({ ...item, selected: false });\n//   //             item.selected = checked;  \n//   //             let newItem = JSON.parse(JSON.stringify(item));\n//   //             newItem.selected = false;\n//   //             newItem[\"jsondata\"]={};\n//   //             newItem[\"jsonuidata\"]={};\n//   //             newItem[\"jsondata\"]['worklist'] = item\n//   //             newItem[\"jsonuidata\"]['worklist'] = item    \n//   //             addedComponentList.push(newItem);\n//   //             return item;\n//   //         } else {\n//   //             let olditem = JSON.parse(JSON.stringify(addComponentDataList[addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\n//   //             olditem.selected = checked;\n//   //             let newItem = JSON.parse(JSON.stringify(olditem));\n//   //             newItem.selected = false;\n//   //             newItem[\"jsondata\"]={};\n//   //             newItem[\"jsonuidata\"]={};\n//   //             newItem[\"jsondata\"]['worklist'] = olditem\n//   //             newItem[\"jsonuidata\"]['worklist'] = olditem\n//   //             addedComponentList.push(newItem);\n//   //             return olditem;\n//   //         }\n//   //     });\n//   //     this.setState({\n//   //       addComponentDataList: data,\n//   //         addedComponentList:addedComponentList,\n//   //         addComponentDataList,\n//   //         addSelectAll: checked,\n//   //         deleteSelectAll: false\n//   //     });\n//   // }\n//   else {\n//     let addedComponentData = this.state.addedComponentList || [];\n//     let deletedListdData = this.state.deletedList || [];\n//     const data = event.target.props.data.map(item => {\n//       addedComponentData = addedComponentData.filter(item1 => item1.npreregno !== item.npreregno);\n//       deletedListdData = deletedListdData.filter(item1 => item1.npreregno !== item.npreregno);\n//       item.selected = checked;\n//       return item;\n//     });\n//     // console.log(\"data:\",data1, data2);\n//     this.setState({\n//       addComponentDataList: data, addedComponentList: addedComponentData, deletedList: deletedListdData,\n//       addSelectAll: this.valiateCheckAll(addedComponentList),\n//       deleteSelectAll: this.valiateCheckAll(addedComponentList),\n//       addSelectAll: checked, deleteSelectAll: false,\n//       addComponentDataListCopy:  this.valiateCopy(this.state.addComponentSortedList||[],data||[],addedComponentData||[])   \n//     });\n//   }\n// }\n// ADDed by Neeraj-ALPD-5136\n//WorkList Screen -> Including filter in Data selection Kendo Grid \n// addSaveDataGrid = () => {\n//   let filterdata1=this.state.dataState ?process(this.state.addComponentDataListCopy || [], {...this.state.dataState,take:this.state.addComponentDataList.length}).data:[];\n//   let sortListedData1 = filterdata1.filter(x => \n//    this.state.addedComponentList.some(item => item.ntransactiontestcode === x.ntransactiontestcode)\n//  );\n//  let exists=this.state.dataState && this.state.dataState.filter!==null && this.state.dataState.filter!==undefined ? sortListedData1.length>0 ? true : false :true;\n//   if (this.state.addedComponentList.length > 0 && exists) {\n//     let addComponentSortedList = [];\n//     let   updatedList =[];\n//     let ListedData =[];\n//     let sortListedData=[];\n//     if(this.state.dataState && this.state.dataState.filter!==null && this.state.dataState.filter!==undefined){\n//       let filterdata=process(this.state.addComponentDataListCopy|| this.state.addComponentDataList || [], {...this.state.dataState,take:this.state.addComponentDataList.length}).data;\n//        sortListedData = filterdata.filter(x => \n//         this.state.addedComponentList.some(item => item.ntransactiontestcode === x.ntransactiontestcode)\n//       );\n//        updatedList = this.state.addComponentDataList.filter(\n//         (item) => !sortListedData.some(\n//           (addedItem) => addedItem.ntransactiontestcode === item.ntransactiontestcode\n//         )\n//       );\n//        updatedList.map(x =>{if(x.selected){ ListedData.push(x)}});\n//     }else{\n//      updatedList = this.state.addComponentDataList.filter(\n//       (item) => !this.state.addedComponentList.some(\n//         (addedItem) => addedItem.ntransactiontestcode === item.ntransactiontestcode\n//       )\n//     );\n//     ListedData=[];\n//     sortListedData= this.state.addedComponentList\n//   }\n//     if (this.state.addComponentSortedList.length > 0) {\n//       this.state.addComponentSortedList.map(item => {\n//         const newItem = JSON.parse(JSON.stringify(item));\n//         newItem[\"jsondata\"] = {}\n//         newItem[\"jsonuidata\"] = {}\n//         newItem[\"jsondata\"]['worklist'] = item\n//         newItem[\"jsonuidata\"]['worklist'] = item\n//         addComponentSortedList.push(newItem)\n//       })\n//     }\n//     sortListedData.map(item => {\n//       const newItem = JSON.parse(JSON.stringify(item));\n//       newItem[\"jsondata\"] = {}\n//       newItem[\"jsonuidata\"] = {}\n//       newItem[\"jsondata\"]['worklist'] = item\n//       newItem[\"jsonuidata\"]['worklist'] = item\n//       addComponentSortedList.push(newItem)\n//     })\n//     this.setState({\n//       addComponentDataList: updatedList, addSelectAll: this.valiateCheckAll(updatedList)\n//       , addComponentSortedList: addComponentSortedList\n//       , addedComponentList: ListedData,\n//       addComponentDataListCopy:this.valiateCopy(addComponentSortedList||[],updatedList||[],ListedData||[]) \n//     })\n//   } else {\n//     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELCETONESAMPLE\" }));\n//   }\n// }\n// ADDed by Neeraj-ALPD-5136\n//WorkList Screen -> Including filter in Data selection Kendo Grid \n// handleClickDelete = (row) => {\n//   let updatedAddList = [];\n//   const ntransactiontestcode = row.dataItem.ntransactiontestcode;\n//   const updatedList = this.state.addComponentSortedList.filter(\n//     (item) => item.ntransactiontestcode !== ntransactiontestcode\n//   );\n//   const exists = this.state.addComponentDataList.some(\n//     (item) => item.ntransactiontestcode === ntransactiontestcode\n//   );\n//   if (!exists) {\n//     updatedAddList = this.state.addComponentDataList.map(item => {\n//       return item\n//     })\n//     updatedAddList.push({ ...row.dataItem, selected: false });\n//   }\n//   this.setState({ addComponentDataList: updatedAddList, \n//     addComponentSortedList: updatedList , addComponentDataListCopy:this.valiateCopy(updatedList||[],updatedAddList||[])})\n// }\n// ADDed by Neeraj-ALPD-5136\n//WorkList Screen -> Including filter in Data selection Kendo Grid \n// valiateCopy(sortedList,addComponentDataList,addedComponentList){\n//   let addedComponentLists=addedComponentList||this.state.addedComponentList||[];\n//   let listData = this.props.Login.addComponentDataList || [];\n//   let copyingList = listData.filter(item1 => \n//     !sortedList.some(item2 => item1.ntransactiontestcode === item2.ntransactiontestcode)\n//   ) ||[];\n//   let copyingListData = copyingList.map(item => {\n//     const existsInAddComponentDataList = addedComponentLists.some(\n//       item1 => item1.ntransactiontestcode === item.ntransactiontestcode \n//     );\n//     if(existsInAddComponentDataList){\n//       return {...item,selected: true};\n//     }else{\n//       return {...item,selected: false};\n//     }\n//   });\n//   return copyingListData;\n// }\nfunction valiateCheckAll(data){var selectAll=true;// let checkRepeatComponent;\n//  let addedComponentList = this.state.addedComponentList || [];\nif(data&&data.length>0){data.forEach(function(dataItem){if(dataItem.selected){if(dataItem.selected===false){selectAll=false;}}else{selectAll=false;// checkRepeatComponent=this.state.addComponentDataList.filter(item=>item.npreregno==data.npreregno)\n// if(checkRepeatComponent.length>0){\n//     selectAll = true;\n// }else{\n//     selectAll = false;\n// }\n}});}else{//if (gridType === \"originalgrid\"){\nselectAll=false;// }\n}return selectAll;}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if((this.props.Login.openModal||this.props.Login.openChildModal)&&nextState.isInitialRender===false&&nextState.addComponentSortedList!==this.state.addComponentSortedList){return false;}else{return true;}}},{key:\"render\",value:function render(){var _this4=this;var obj=convertDateValuetoString(this.props.Login.masterData.fromDate,this.props.Login.masterData.toDate,this.props.Login.userInfo);var mandatoryFields=[];// this.feildsForGrid =\n//   [\n//     // { \"idsName\": \"IDS_TEST\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" },       \n//     { \"idsName\": \"IDS_PARAMETER\", \"dataField\": \"sparametersynonym\", \"width\": \"100px\" },\n//     { \"idsName\": \"IDS_RESULT\", \"dataField\": \"sfinal\", \"width\": \"100px\" },\n//     { \"idsName\": \"IDS_GRADE\", \"dataField\": \"sgradename\", \"width\": \"200px\" },\n//   ];\nthis.feildsForGrid=[// { \"idsName\": \"IDS_TEST\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" },\n{\"idsName\":\"IDS_REPORTREFNO\",\"dataField\":\"sreportno\",\"width\":\"200px\"},{\"idsName\":this.props.Login.genericLabel&&this.props.Login.genericLabel[\"ARNo\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode],\"dataField\":\"sarno\",\"width\":\"200px\"},{\"idsName\":this.props.Login.genericLabel&&this.props.Login.genericLabel[\"SubARNo\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode],\"dataField\":\"ssamplearno\",\"width\":\"200px\"},{\"idsName\":\"IDS_PARAMETER\",\"dataField\":\"sparametersynonym\",\"width\":\"200px\"},{\"idsName\":\"IDS_RESULT\",\"dataField\":\"sfinal\",\"width\":\"200px\"},{\"idsName\":\"IDS_GRADE\",\"dataField\":\"sgradename\",\"width\":\"200px\"},{\"idsName\":\"IDS_REGISTRATIONDATE\",\"dataField\":\"sregdate\",\"width\":\"200px\"}];this.extractedColumnList=[//  { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\n{\"idsName\":\"IDS_NEWCOMMENTS\",\"dataField\":\"scomments\",\"width\":\"350px\"},{\"idsName\":\"IDS_USERNAME\",\"dataField\":\"susername\",\"width\":\"200px\"},{\"idsName\":\"IDS_USERROLE\",\"dataField\":\"suserrolename\",\"width\":\"200px\"},{\"idsName\":\"IDS_ACTIONTYPE\",\"dataField\":\"sactiontype\",\"width\":\"200px\"},{\"idsName\":\"IDS_MODULENAME\",\"dataField\":\"smodulename\",\"width\":\"200px\"},{\"idsName\":\"IDS_FORMNAME\",\"dataField\":\"sformname\",\"width\":\"200px\"},{\"idsName\":\"IDS_REASON\",\"dataField\":\"spredefinedreason\",\"width\":\"200px\"},{\"idsName\":\"IDS_ESIGNCOMMENTS\",\"dataField\":\"sreason\",\"width\":\"200px\"}];// const auditInfoFields = [{ \"fieldName\": \"sarno\", \"label\": \"IDS_ARNO\" }, \n// { \"fieldName\": \"spatientid\", \"label\": \"IDS_PATIENTID\" },   \n// { \"fieldName\": \"sfirstname\", \"label\": \"IDS_PATIENTNAME\" },\n// { \"fieldName\": \"sage\", \"label\": \"IDS_AGE\" },\n// { \"fieldName\": \"sgendername\", \"label\": \"IDS_GENDER\" },\n// { \"fieldName\": \"stestsynonym\", \"label\": \"IDS_TEST\" },\n// { \"fieldName\": \"sregdate\", \"label\": \"IDS_REGISTRATIONDATE\" },\n// { \"fieldName\": \"scompletedate\", \"label\": \"IDS_COMPLETEDDATEANDTIME\" }\n// ];\nvar auditInfoFields=[{\"label\":this.props.Login.genericLabel&&this.props.Login.genericLabel[\"ARNo\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode],\"fieldName\":\"sarno\"},{\"fieldName\":\"stestsynonym\",\"label\":\"IDS_TEST\"},{\"fieldName\":\"sfirstname\",\"label\":\"IDS_PATIENTNAME\"},{\"fieldName\":\"sgendername\",\"label\":\"IDS_GENDER\"}];if(this.props.Login.screenName===\"IDS_WORKLIST\"){mandatoryFields.push({mandatory:true,idsName:\"IDS_ADDSECTION\",dataField:\"nsectioncode\",mandatoryLabel:\"IDS_SELECT\",controlType:\"selectbox\"},{mandatory:true,idsName:\"IDS_TEST\",dataField:\"ntestcode\",mandatoryLabel:\"IDS_SELECT\",controlType:\"selectbox\"});}var addId=this.state.controlMap.has(\"AddWorklist\")&&this.state.controlMap.get(\"AddWorklist\").ncontrolcode;// const editId =\n//   this.state.controlMap.has(\"EditWorklist\") &&\n//   this.state.controlMap.get(\"EditWorklist\").ncontrolcode;\nvar deleteId=this.state.controlMap.has(\"DeleteWorklist\")&&this.state.controlMap.get(\"DeleteWorklist\").ncontrolcode;var approvalId=this.state.controlMap.has(\"GenerateWorklist\")&&this.state.controlMap.get(\"GenerateWorklist\").ncontrolcode;var reportId=this.state.controlMap.has(\"WorklistReport\")&&this.state.controlMap.get(\"WorklistReport\").ncontrolcode;// const addSampleId =\n//   this.state.controlMap.has(\"AddWorklistSample\") &&\n//   this.state.controlMap.get(\"AddWorklistSample\").ncontrolcode;\n// const deleteSampleId =\n// this.state.controlMap.has(\"DeleteWorklistSample\") &&\n// this.state.controlMap.get(\"DeleteWorklistSample\").ncontrolcode;\nvar selectedWorklist=this.props.Login.masterData.selectedWorklist;var filterParam={inputListName:\"Worklist\",selectedObject:\"selectedWorklist\",primaryKeyField:\"nworklistcode\",fetchUrl:\"worklist/getWorklistSample\",fecthInputObject:{userinfo:this.props.Login.userInfo,ndesigntemplatemappingcode:this.props.Login.masterData.ndesigntemplatemappingcode},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var filterNameId=this.state.controlMap.has(\"FilterName\")?this.state.controlMap.get(\"FilterName\").ncontrolcode:-1;var filterDetailId=this.state.controlMap.has(\"FilterDetail\")?this.state.controlMap.get(\"FilterDetail\").ncontrolcode:-1;var mandatoryFieldsFilter=[{\"mandatory\":true,\"idsName\":\"IDS_FILTERNAME\",\"dataField\":\"sfiltername\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];var breadCrumbData=this.state.filterData||[];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap new-breadcrumb toolbar-top-wrap mtop-4 screen-height-window\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"fixed-buttons\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(filterNameId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_SAVEFILTER\"})//onClick={() => this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, approvalId)}\n,onClick:function onClick(){return _this4.openFilterName(filterNameId);}},\"   \",/*#__PURE__*/React.createElement(SaveIcon,{width:\"20px\",height:\"20px\",className:\"custom_icons\"})),this.state.userRoleControlRights.indexOf(filterDetailId)!==-1&&this.props.Login.masterData&&this.props.Login.masterData.FilterName!==undefined&&this.props.Login.masterData.FilterName.length>0?/*#__PURE__*/React.createElement(CustomPopover,{icon:faBolt,nav:true,data:this.props.Login.masterData.FilterName,btnClasses:\"btn-circle btn_grey ml-2 spacesremovefromaction\"//dynamicButton={(value) => this.props.getAcceptTestTestWise(value,testGetParam,this.props.Login.masterData.MJSelectedTest,this.props.Login.userInfo)}\n,dynamicButton:function dynamicButton(value){return _this4.clickFilterDetail(value);},textKey:\"sfiltername\",iconKey:\"nfiltercode\"}):\"\"),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.props.sidebarview?'4':\"2\")},/*#__PURE__*/React.createElement(ListMaster,{formatMessage:this.props.intl.formatMessage,screenName:\"worklist\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.Worklist,getMasterDetail:function getMasterDetail(worklist){return _this4.props.getWorklistDetail(worklist,_this4.props.Login.userInfo,_this4.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedWorklist,primaryKeyField:\"nworklistcode\",mainField:\"sworklistno\",firstField:\"stestname\",secondField:\"ssectionname\",isIDSField:\"Yes\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,searchRef:this.searchRef,addId:addId,hideCheckLabel:true,hidePaging:false,reloadData:this.reloadData,openModal:function openModal(){return _this4.props.getSectionAndTest(\"IDS_WORKLIST\",\"create\",\"nworklistcode\",_this4.props.Login.masterData,_this4.props.Login.userInfo,addId);},openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,showFilterIcon:true,showFilter:this.props.Login.showFilter,callCloseFunction:true,filterComponent:[{IDS_WORKLISTFILTER:/*#__PURE__*/React.createElement(WorklistPreparationFilter,{SampleTypeValue:this.props.Login.masterData.defaultSampleTypeValue||{},RegTypeValue:this.props.Login.masterData.RegTypeValue||{},RegSubTypeValue:this.props.Login.masterData.RegSubTypeValue||{},RegSubType:this.state.RegistrationSubTypeList||[],RegType:this.state.RegistrationTypeList||[],userInfo:this.props.Login.userInfo||{},ApprovalVersion:this.state.ConfigVersionList||[],ApprovalVersionValue:this.props.Login.masterData.defaultApprovalVersionValue||[]//SampleType={this.state.stateSampleType || []}\n,FilterStatusValue:this.props.Login.masterData.FilterStatusValue||{},FilterStatus:this.state.FilterStatusList||[],RegistrationType:this.state.stateRegistrationType||[],RegistrationSubType:this.state.stateRegistrationSubType||[],fromDate:this.props.Login.masterData.fromDate?rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.fromDate):new Date(),toDate:this.props.Login.masterData.toDate?rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.toDate):new Date(),handleDateChange:this.handleDateChange,onFilterComboChange:this.onFilterComboChange,SampleType:this.state.SampletypeList||[]})}]})),/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.props.sidebarview?'8':\"10\"),className:\"position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-view-btn-block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-view-btn \",onClick:this.props.parentFunction},!this.props.sidebarview?/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-less-than\"}):/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-greater-than\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.Worklist&&this.props.Login.masterData.Worklist.length>0&&this.props.Login.masterData.selectedWorklist?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.selectedWorklist.sworklistno),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(MediaLabel,{className:\"btn btn-outlined \".concat(this.props.Login.masterData.selectedWorklist.ntransactionstatus===83?\"outline-success\":\"outline-secondary\",\" btn-sm ml-3\")},this.props.Login.masterData.selectedWorklist.ntransactionstatus===83&&/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCheck}),this.props.Login.masterData.selectedWorklist.stransdisplaystatus)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"deleteWorklist\",className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})//   data-for=\"tooltip_list_wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this4.ConfirmDelete({operation:\"delete\",screenName:\"IDS_WORKLIST\"},deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approvalId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_PREPARED\"})//onClick={() => this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, approvalId)}\n,onClick:function onClick(){return _this4.onApproveClick();}},/*#__PURE__*/React.createElement(Closure,{className:\"custom_icons\",width:\"18\",height:\"23\"})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(reportId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REPORT\"})//onClick={() => this.specificationReport(reportId)}\n,onClick:function onClick(){return _this4.props.generateControlBasedReport(reportId,_this4.props.Login.masterData.selectedWorklist,_this4.props.Login,\"worklist\",_this4.props.Login.masterData.selectedWorklist.nworklistcode);}},/*#__PURE__*/React.createElement(Report,null)))))),/*#__PURE__*/React.createElement(Card.Body,null,selectedWorklist&&/*#__PURE__*/React.createElement(CustomTab,{activeKey:this.props.Login.activeKey?this.props.Login.activeKey:\"IDS_WORKLISTSAMPLE\",tabDetail:this.tabDetail(),onTabChange:this.onTabChange}))):\"\"))))))),(this.props.Login.openModal||this.props.Login.openChildModal)&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal||this.props.Login.openChildModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,mandatoryFields:mandatoryFields,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},hideSave:this.props.Login.screenName===\"IDS_PREVIOUSRESULTVIEW\"?true:false,size:this.props.Login.screenName===\"IDS_PREVIOUSRESULTVIEW\"||this.props.Login.screenName===\"IDS_WORKLISTSAMPLE\"?\"xl\":\"lg\",addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_WORKLIST\"?/*#__PURE__*/React.createElement(AddWorklistSection//onNumericInputOnChange={this.onNumericInputOnChange}\n,{selectedRecord:this.props.Login.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,SectionValue:this.props.Login.Section,TestValue:this.props.Login.Test,handleDateChange:this.handleDateChange}):this.props.Login.screenName===\"IDS_WORKLISTSAMPLE\"?/*#__PURE__*/React.createElement(AddWorklistSample,{selectionChange:this.selectionChange,headerSelectionChange:this.headerSelectionChange,addComponentDataLists:this.state.addComponentDataList||[],addSelectAll:this.state.addSelectAll//onNumericInputOnChange={this.onNumericInputOnChange}\n,selectedRecord:this.props.Login.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,TestValue:this.props.Login.Test,userInfo:this.props.Login.userInfo,handleDateChange:this.handleDateChange,dataResult:this.state.dataResult?this.state.dataResult:process(this.state.addComponentDataList||[],this.state.dataState?this.state.dataState:{skip:0,take:10}),dataState:this.state.dataState?this.state.dataState:{skip:0,take:10},dataStateChangeWorklistSample:this.dataStateChangeWorklistSample,nneedsubsample:this.props.Login.masterData.realRegSubTypeValue&&this.props.Login.masterData.realRegSubTypeValue.nneedsubsample,addSaveDataGrid:this.addSaveDataGrid,addComponentSortedList:this.state.addComponentSortedList||[],handleClickDelete:this.handleClickDelete,childDataChange:this.childDataChange}):this.props.Login.screenName===\"IDS_PREVIOUSRESULTVIEW\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card,{className:\"one\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(SpecificationInfo,{controlMap:this.state.controlMap,auditInfoFields:auditInfoFields,userRoleControlRights:this.state.userRoleControlRights,selectedSpecification:this.props.Login.masterData.viewdetails,userInfo:this.props.Login.userInfo,selectedNode:this.props.Login.masterData.selectedNode,selectedRecord:this.state.filterData,approvalRoleActionDetail:this.props.Login.masterData.ApprovalRoleActionDetail,screenName:\"IDS_PREVIOUSRESULTVIEW\"}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"ntransactiontestcode\",data:this.props.Login.masterData.AuditModifiedComments||[],detailedFieldList:this.feildsForGrid,extractedColumnList:this.feildsForGrid,dataResult:this.props.Login.masterData.AuditModifiedComments&&this.props.Login.masterData.AuditModifiedComments.length>0&&process(this.props.Login.masterData.AuditModifiedComments,this.state.dataState?this.state.dataState:{skip:0,take:10})//dataState={{ skip: 0, take: 10 }}\n,dataState:this.state.dataState?this.state.dataState:{skip:0,take:10},selectionChange:this.selectionChange,headerSelectionChange:this.headerSelectionChange,pageable:true,scrollable:'scrollable',dataStateChange:this.dataStateChange})):\"\"}),this.state.showConfirmAlert?this.confirmAlert():\"\",this.props.Login.modalShow?/*#__PURE__*/React.createElement(ModalShow,{modalShow:this.props.Login.modalShow,closeModal:this.closeModalShow,onSaveClick:this.onSaveModalFilterName,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,mandatoryFields:mandatoryFieldsFilter,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},modalTitle:this.props.Login.modalTitle,modalBody:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onEsignInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login&&this.props.Login.isFilterDetail?/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormTextarea,{label:this.props.intl.formatMessage({id:\"IDS_FILTERNAME\"}),name:\"sfiltername\"// type=\"text\"\n,onChange:this.onInputOnChange,placeholder:this.props.intl.formatMessage({id:\"IDS_FILTERNAME\"}),value:this.state.selectedRecord?this.state.selectedRecord.sfiltername:\"\",isMandatory:true,required:true,maxLength:\"50\"})):\"\"}):\"\");}//Ate234 janakumar ALPD-5000 Work List -> To get previously saved filter details when click the filter name\n},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,selectedRecord=_this$state.selectedRecord,addedComponentList=_this$state.addedComponentList,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,filterData=_this$state.filterData,nfilterInstrumentCategory=_this$state.nfilterInstrumentCategory,filterInstrumentCategory=_this$state.filterInstrumentCategory,RegistrationSubTypeList=_this$state.RegistrationSubTypeList,FilterStatusList=_this$state.FilterStatusList,SampletypeList=_this$state.SampletypeList,RegistrationTypeList=_this$state.RegistrationTypeList,DynamicGridItem=_this$state.DynamicGridItem,DynamicGridMoreItem=_this$state.DynamicGridMoreItem,ConfigVersionList=_this$state.ConfigVersionList,subsampleGridItem=_this$state.subsampleGridItem,sampleGridItem=_this$state.sampleGridItem,_this$state$testGridI=_this$state.testGridItem,testGridItem=_this$state$testGridI===void 0?[]:_this$state$testGridI,samplegridmoreitem=_this$state.samplegridmoreitem,testGridItems=_this$state.testGridItems,addSelectAll=_this$state.addSelectAll,deleteSelectAll=_this$state.deleteSelectAll;if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);updateState=true;}if(this.props.Login.masterData!==previousProps.Login.masterData){var RegistrationSubTypeListMap=constructOptionList(this.props.Login.masterData.RegistrationSubType||[],\"nregsubtypecode\",\"sregsubtypename\",\"nsorter\",'ascending','nregsubtypecode',false);RegistrationSubTypeList=RegistrationSubTypeListMap.get(\"OptionList\");var RegistrationTypeListMap=constructOptionList(this.props.Login.masterData.RegistrationType||[],\"nregtypecode\",\"sregtypename\",\"nsorter\",'ascending','nregtypecode',false);RegistrationTypeList=RegistrationTypeListMap.get(\"OptionList\");var FilterStatusListMap=constructOptionList(this.props.Login.masterData.FilterStatus||[],\"ntransactionstatus\",\"stransdisplaystatus\",undefined,undefined,false);FilterStatusList=FilterStatusListMap.get(\"OptionList\");var SampletypeListMap=constructOptionList(this.props.Login.masterData.SampleType||[],\"nsampletypecode\",\"ssampletypename\",'ascending','nsampletypecode',false);SampletypeList=SampletypeListMap.get(\"OptionList\");var ConfigVersionListMap=constructOptionList(this.props.Login.masterData.ApprovalConfigVersion||[],\"napprovalconfigversioncode\",\"sversionname\",'descending','ntransactionstatus',false);ConfigVersionList=ConfigVersionListMap.get(\"OptionList\");nfilterInstrumentCategory=this.state.nfilterInstrumentCategory||{};addSelectAll=false;deleteSelectAll=true;if(this.props.Login.masterData.SelectedInsCat&&this.props.Login.masterData.SelectedInsCat!==previousProps.Login.masterData.SelectedInsCat){nfilterInstrumentCategory={label:this.props.Login.masterData.SelectedInsCat.stestsynonym,value:this.props.Login.masterData.SelectedInsCat.ntestcode,item:this.props.Login.masterData.SelectedInsCat};}filterData=this.generateBreadCrumData();updateState=true;}if(this.props.Login.masterData.DynamicDesign&&this.props.Login.masterData.DynamicDesign!==previousProps.Login.masterData.DynamicDesign){var dynamicColumn=JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata.value);testGridItem[0]=dynamicColumn.testListFields.releasetestfields[0]?dynamicColumn.testListFields.releasetestfields[0]:[];sampleGridItem=dynamicColumn.samplegriditem?dynamicColumn.samplegriditem:[];subsampleGridItem=dynamicColumn.subsamplelistitem?dynamicColumn.subsamplelistitem:[];testGridItems=dynamicColumn.testListFields.testlistitem?dynamicColumn.testListFields.testlistitem:[];//testGridItem= dynamicColumn.conditionfields ? dynamicColumn.conditionfields : [];\nDynamicGridItem=[].concat(_toConsumableArray(sampleGridItem),_toConsumableArray(subsampleGridItem),_toConsumableArray(testGridItems.slice(1)),_toConsumableArray(testGridItem));samplegridmoreitem=dynamicColumn.samplegridmoreitem?dynamicColumn.samplegridmoreitem:[];DynamicGridMoreItem=_toConsumableArray(samplegridmoreitem);//DynamicGridItem.push(dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [])\n}if(this.props.Login.masterData.filterInstrumentCategory!==previousProps.Login.masterData.filterInstrumentCategory){var insCategoryMap=constructOptionList(this.props.Login.masterData.filterInstrumentCategory||[],\"ntestcode\",\"stestsynonym\",\"ntestcategorycode\",\"ascending\",false);filterInstrumentCategory=insCategoryMap.get(\"OptionList\");if(insCategoryMap.get(\"DefaultValue\")){nfilterInstrumentCategory=insCategoryMap.get(\"DefaultValue\");}else if(filterInstrumentCategory&&filterInstrumentCategory.length>0){nfilterInstrumentCategory=filterInstrumentCategory[0];}updateState=true;}// let updateState = false;\nvar updateStateObject={};if(this.props.Login.addedComponentList!==previousProps.Login.addedComponentList){addSelectAll=false;deleteSelectAll=true;this.setState({addedComponentList:this.props.Login.addedComponentList,addSelectAll:addSelectAll,deleteSelectAll:deleteSelectAll});}if(this.props.addedComponentList!==previousProps.addedComponentList){// this.setState({ addedComponentList : this.props.addedComponentList});\nupdateState=true;updateStateObject=_objectSpread(_objectSpread({},updateStateObject),{},{addedComponentList:this.props.addedComponentList});}if(this.props.Login.dataState!==previousProps.Login.dataState){if(this.props.Login.dataState){delete this.props.Login.dataState.filter;delete this.props.Login.dataState.sort;this.setState({dataState:this.props.Login.dataState});}}if(this.props.Login.masterData.addComponentDataList!==previousProps.Login.masterData.addComponentDataList){this.setState({addComponentDataList:this.props.Login.masterData.addComponentDataList});}if(this.props.Login.addComponentSortedList!==previousProps.Login.addComponentSortedList){this.setState({addComponentSortedList:this.props.Login.addComponentSortedList,isInitialRender:true});}//ADDed by Neeraj-ALPD-5136\n//WorkList Screen -> Including filter in Data selection Kendo Grid\nif(this.props.Login.masterData.WorklistSamples!==previousProps.Login.masterData.WorklistSamples){var worklistSamplesList=this.props.Login.masterData.WorklistSamples||[];var updatedSortedList=worklistSamplesList.sort(function(a,b){var A=a.nworklistsamplecode;var B=b.nworklistsamplecode;// Corrected from 'a' to 'b'\nreturn A-B;// Sort in ascending order\n});this.setState({WorklistSamples:updatedSortedList});}if(updateState){this.setState({selectedRecord:selectedRecord,userRoleControlRights:userRoleControlRights,controlMap:controlMap,filterData:filterData,nfilterInstrumentCategory:nfilterInstrumentCategory,filterInstrumentCategory:filterInstrumentCategory,RegistrationSubTypeList:RegistrationSubTypeList,FilterStatusList:FilterStatusList,SampletypeList:SampletypeList,RegistrationTypeList:RegistrationTypeList,DynamicGridItem:DynamicGridItem,ConfigVersionList:ConfigVersionList,DynamicGridMoreItem:DynamicGridMoreItem,addSelectAll:addSelectAll,deleteSelectAll:deleteSelectAll});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){//obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\nvar breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.Worklist){var obj=convertDateValuetoString(this.props.Login.masterData.fromdate,this.props.Login.masterData.todate,this.props.Login.userInfo);breadCrumbData.push({\"label\":\"IDS_FROM\",\"value\":obj.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":obj.breadCrumbto},// {\n//   \"label\": \"IDS_SAMPLETYPE\",\n//   \"value\": this.props.Login.masterData.defaultSampleTypeValue ? this.props.Login.masterData.defaultSampleTypeValue.ssampletypename || \"NA\" :\n//     this.props.Login.masterData.defaultSampleTypeValue ? this.props.Login.masterData.defaultSampleTypeValue.ssampletypename || \"NA\" : \"NA\"\n// },\n{\"label\":\"IDS_REGTYPE\",\"value\":this.props.Login.masterData.defaultRegTypeValue?this.props.Login.masterData.defaultRegTypeValue.sregtypename||\"NA\":this.props.Login.masterData.defaultRegTypeValue?this.props.Login.masterData.defaultRegTypeValue.sregtypename||\"NA\":\"NA\"},{\"label\":\"IDS_REGSUBTYPE\",\"value\":this.props.Login.masterData.defaultRegSubTypeValue?this.props.Login.masterData.defaultRegSubTypeValue.sregsubtypename||\"NA\":this.props.Login.masterData.defaultRegSubTypeValue?this.props.Login.masterData.defaultRegSubTypeValue.sregsubtypename:\"NA\"},// {\n//   \"label\": \"IDS_CONFIGVERSION\",\n//   \"value\": this.props.Login.masterData.defaultApprovalVersion ?\n//     this.props.Login.masterData.defaultApprovalVersion.sversionname || \"NA\" :\n//     this.props.Login.masterData.defaultApprovalVersion ? this.props.Login.masterData.defaultApprovalVersion.sversionname || \"NA\" : \"NA\"\n// },\n{\"label\":\"IDS_WORKLISTSTATUS\",\"value\":this.props.Login.masterData.defaultFilterStatusValue?this.props.Login.masterData.defaultFilterStatusValue.stransdisplaystatus||\"NA\":this.props.Login.masterData.defaultFilterStatusValue?this.props.Login.masterData.defaultFilterStatusValue.stransdisplaystatus||\"NA\":\"NA\"}//];\n);}return breadCrumbData;}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return WorkList;}(Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,getWorklistDetail:getWorklistDetail,filterColumnData:filterColumnData,getSectionAndTest:getSectionAndTest,updateStore:updateStore,validateEsignCredential:validateEsignCredential,onWorklistApproveClick:onWorklistApproveClick,OpenDate:OpenDate,CloseDate:CloseDate,viewAttachment:viewAttachment,getInstrumentCombo:getInstrumentCombo,getWorklistSample:getWorklistSample,getRegTypeTestWise:getRegTypeTestWise,getRegTypeWorklist:getRegTypeWorklist,getSectionbaseTest:getSectionbaseTest,getWorklistDetailFilter:getWorklistDetailFilter,getEditSectionAndTest:getEditSectionAndTest,createWorklistCreation:createWorklistCreation,getConfigVersionTestWise:getConfigVersionTestWise,ViewSampleDetails:ViewSampleDetails,getWorklisthistoryAction:getWorklisthistoryAction,reportWorklist:reportWorklist,getRegSubTypeWise:getRegSubTypeWise,insertWorklist:insertWorklist,generateControlBasedReport:generateControlBasedReport,validateEsignforWorklist:validateEsignforWorklist,getWorklistFilterDetails:getWorklistFilterDetails})(injectIntl(WorkList));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/worklist/WorkList.jsx"],"names":["React","Component","Row","Col","Card","Nav","FormGroup","FormLabel","connect","toast","FontAwesomeIcon","faCheck","faTrashAlt","faBolt","WorklistPreparationFilter","rearrangeDateFormat","convertDateValuetoString","injectIntl","Esign","AddWorklistSection","AddWorklistSample","CustomTab","WorklistHistoryTab","WorklistSampleTab","designProperties","transactionStatus","REPORTTYPE","SUBSAMPLEAUDITMULTILINGUALFIELDS","designComponents","SpecificationInfo","CustomPopover","ModalShow","FormTextarea","callService","crudMaster","validateEsignCredential","updateStore","getSectionAndTest","getWorklistDetail","OpenDate","CloseDate","viewAttachment","getInstrumentCombo","getWorklistSample","getRegTypeTestWise","getRegTypeWorklist","getSectionbaseTest","onWorklistApproveClick","getWorklistDetailFilter","getEditSectionAndTest","createWorklistCreation","filterColumnData","getConfigVersionTestWise","ViewSampleDetails","getWorklisthistoryAction","reportWorklist","getRegSubTypeWise","insertWorklist","generateControlBasedReport","validateEsignforWorklist","getWorklistFilterDetails","ListMaster","DEFAULT_RETURN","SlideOutModal","showEsign","getControlMap","constructOptionList","ContentPanel","MediaLabel","process","ConfirmMessage","BreadcrumbComponent","Affix","DataGrid","mapStateToProps","state","Login","WorkList","props","sidebarExpandCollapse","setState","sidebarview","handleDateChange","dateName","dateValue","Date","fromdate","masterData","fromDate","userInfo","todate","toDate","obj","inputParam","inputData","nflag","nregtypecode","RegTypeValue","nregsubtypecode","RegSubTypeValue","nneedtemplatebasedflow","String","userinfo","realApprovalConfigVersionList","realApprovalVersionValue","onFilterComboChange","comboData","fieldName","inputParamData","nsampletypecode","value","defaultSampleTypeValue","item","FilterStatusValue","updateInfo","typeName","data","defaultApprovalVersionValue","onInputOnChange","event","optional","selectedRecord","target","type","name","checked","onSaveClick","saveType","formRef","instSection","screenName","postParam","undefined","nstatus","nmastersitecode","defaultRegTypeValue","defaultRegSubTypeValue","ndesigntemplatemappingcode","napprovalconfigversioncode","controlMap","has","get","ncontrolcode","defaultFilterStatusValue","ntransactionstatus","ALL","FilterStatus","map","join","operation","selectedWorklist","nworklistcode","classUrl","methodUrl","searchRef","userRoleControlRights","nformcode","ncontrolCode","loadEsign","screenData","validList","addedComponentList","length","saveList","compList","addComponentSortedList","x","selected","indexOf","ntransactionsamplecode","push","worklistcompcreationlist","worklistcreation","dataState","selectedId","warn","intl","formatMessage","id","DeleteWorklistSample","sectionDataState","nsitecode","ntranssitecode","nworklistsamplecode","ntransactiontestcode","sarno","ssamplearno","stestsynonym","openChildModal","dataStateChange","specificationReport","stablename","primaryKeyField","sreportlink","reportSettings","smrttemplatelink","nreporttypecode","CONTROLBASED","primaryKeyValue","nworklistcode_componentcode","nworklistcode_componentname","NUMBER","ntranscode","validateEsign","modalName","sreason","password","confirmMessage","tabDetail","tabMap","Map","deleteSecId","addSampleId","viewSampleId","set","WorklistSamples","gridfillingColumn","DynamicGridItem","gridfillingColumnGridMoreItem","DynamicGridMoreItem","defaultRecord","viewSample","settings","WorklistHistory","clickFilterDetail","current","change","FromDate","ToDate","nfilternamecode","npreregno","sampletypecode","RealSampleTypeValue","regtypecode","parseInt","realRegTypeValue","regsubtypecode","realRegSubTypeValue","approvalconfigurationcode","napprovalconfigcode","napprovalversioncode","realDesignTemplateMappingValue","openFilterName","modalShow","isFilterDetail","modalTitle","onSaveModalFilterName","dfrom","dto","sfiltername","sampleTypeValue","regTypeValue","regSubTypeValue","filterStatusValue","RealFilterStatusValue","approvalConfigValue","designTemplateMappingValue","ntransactionstatusfilter","napproveconfversioncode","info","onTabChange","tabProps","activeKey","reloadData","searchedData","realFromDate","realToDate","defaultApprovalVersion","searchTestRef","skip","take","testskip","testtake","isClearSearch","ConfirmDelete","deleteId","confirm","DeleteWorklist","inputListName","selectedObject","fetchUrl","fecthInputObject","nneedsampleandhistory","YES","openModal","onApproveClick","esignNeeded","onComboChange","caseNo","closeModal","viewdetails","closeModalShow","openFilter","showFilter","closeFilter","inputValues","RegistrationSubType","realRegistrationSubTypeList","RegistrationType","realRegistrationTypeList","realFilterStatusList","SampleType","realSampleTypeList","ApprovalConfigVersion","ApprovalVersionValue","SampleTypeValue","onFilterSubmit","needExtraKeys","saveFilterSubmit","childDataChange","isInitialRender","error","Instrument","addComponentDataList","RegistrationSubTypeList","FilterStatusList","SampletypeList","ConfigVersionList","createRef","searchFieldList","temparray","option","VALUE","LABEL","slanguagetypecode","selectAll","forEach","dataItem","nextProps","nextState","mandatoryFields","feildsForGrid","genericLabel","extractedColumnList","auditInfoFields","mandatory","idsName","dataField","mandatoryLabel","controlType","addId","approvalId","reportId","filterParam","filterNameId","filterDetailId","mandatoryFieldsFilter","breadCrumbData","filterData","FilterName","Worklist","worklist","IDS_WORKLISTFILTER","RegistrationTypeList","stateRegistrationType","stateRegistrationSubType","parentFunction","sworklistno","stransdisplaystatus","masterStatus","Section","Test","selectionChange","headerSelectionChange","addSelectAll","dataResult","dataStateChangeWorklistSample","nneedsubsample","addSaveDataGrid","handleClickDelete","selectedNode","ApprovalRoleActionDetail","AuditModifiedComments","showConfirmAlert","confirmAlert","onEsignInputOnChange","previousProps","updateState","nfilterInstrumentCategory","filterInstrumentCategory","subsampleGridItem","sampleGridItem","testGridItem","samplegridmoreitem","testGridItems","deleteSelectAll","Object","values","RegistrationSubTypeListMap","RegistrationTypeListMap","FilterStatusListMap","SampletypeListMap","ConfigVersionListMap","SelectedInsCat","label","ntestcode","generateBreadCrumData","DynamicDesign","dynamicColumn","JSON","parse","jsondata","testListFields","releasetestfields","samplegriditem","subsamplelistitem","testlistitem","slice","insCategoryMap","updateStateObject","filter","sort","worklistSamplesList","updatedSortedList","a","b","A","B","breadCrumbFrom","breadCrumbto","sregtypename","sregsubtypename","errorCode"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;+BAgCA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAGF;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAKA,yBAAgB5M,IAAhB,CAAsB,CAEpB,GAAIiN,CAAAA,SAAS,CAAG,IAAhB,CAEA;AAEA;AAEA,GAAIjN,IAAI,EAAIA,IAAI,CAAC8C,MAAL,CAAc,CAA1B,CAA6B,CAE3B9C,IAAI,CAACkN,OAAL,CAAa,SAAAC,QAAQ,CAAI,CAEvB,GAAIA,QAAQ,CAAChK,QAAb,CAAuB,CAErB,GAAIgK,QAAQ,CAAChK,QAAT,GAAsB,KAA1B,CAAiC,CAE/B8J,SAAS,CAAG,KAAZ,CAED,CAEF,CARD,IAUK,CAEHA,SAAS,CAAG,KAAZ,CAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAED,CAEF,CA9BD,EAgCD,CAlCD,IAoCK,CAEH;AAEAA,SAAS,CAAG,KAAZ,CAEA;AAED,CAED,MAAOA,CAAAA,SAAP,CAED,C,qCAgID,+BAAsBG,SAAtB,CAAiCC,SAAjC,CAA4C,CAC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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCheck, faTrashAlt, faBolt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport WorklistPreparationFilter from './WorklistPreparationFilter'\r\nimport { rearrangeDateFormat, convertDateValuetoString } from '../../components/CommonScript';\r\nimport { injectIntl } from \"react-intl\";\r\nimport Esign from \"../audittrail/Esign\";\r\nimport AddWorklistSection from '../worklist/AddWorklistSection';\r\nimport AddWorklistSample from '../worklist/AddWorklistSample';\r\nimport CustomTab from \"../../components/custom-tabs/custom-tabs.component\";\r\nimport WorklistHistoryTab from \"./WorklistHistoryTab\";\r\nimport WorklistSampleTab from \"./WorklistSampleTab\";\r\nimport { designProperties, transactionStatus, REPORTTYPE, SUBSAMPLEAUDITMULTILINGUALFIELDS, designComponents } from '../../components/Enumeration';\r\nimport SpecificationInfo from '../testgroup/SpecificationInfo';\r\n//import { ReactComponent as Closure } from '../../assets/image/prepared-worklist.svg';\r\nimport { ReactComponent as Closure } from '../../assets/image/prepared.svg';\r\nimport { ReactComponent as ReportIcon } from '../../assets/image/report-Icon.svg';\r\n//import { ReactComponent as ReportIcon } from '../../assets/image/report-svgrepo-com.svg';\r\nimport { ReactComponent as Report } from '../../assets/image/Report.svg';\r\nimport { ReactComponent as SaveIcon } from '../../assets/image/save_icon.svg';\r\nimport CustomPopover from '../../components/customPopover';\r\nimport ModalShow from '../../components/ModalShow';\r\nimport FormTextarea from '../../components/form-textarea/form-textarea.component';\r\n\r\nimport {\r\n  callService,\r\n  crudMaster,\r\n  validateEsignCredential,\r\n  updateStore,\r\n  getSectionAndTest,\r\n  getWorklistDetail,\r\n  OpenDate,\r\n  CloseDate, viewAttachment, getInstrumentCombo, getWorklistSample, getRegTypeTestWise,\r\n  getRegTypeWorklist, getSectionbaseTest, onWorklistApproveClick\r\n  , getWorklistDetailFilter, getEditSectionAndTest, createWorklistCreation, filterColumnData, getConfigVersionTestWise,\r\n  ViewSampleDetails, getWorklisthistoryAction, reportWorklist, getRegSubTypeWise,\r\n  insertWorklist, generateControlBasedReport, validateEsignforWorklist, getWorklistFilterDetails\r\n} from \"../../actions\";\r\n\r\nimport ListMaster from \"../../components/list-master/list-master.component\";\r\nimport { DEFAULT_RETURN } from \"../../actions/LoginTypes\";\r\nimport SlideOutModal from \"../../components/slide-out-modal/SlideOutModal\";\r\n\r\nimport {\r\n  showEsign,\r\n  getControlMap,\r\n  constructOptionList,\r\n} from \"../../components/CommonScript\";\r\nimport { ContentPanel, MediaLabel } from \"../../components/App.styles\";\r\n\r\nimport { process } from \"@progress/kendo-data-query\";\r\nimport ConfirmMessage from \"../../components/confirm-alert/confirm-message.component\";\r\n\r\nimport BreadcrumbComponent from \"../../components/Breadcrumb.Component\";\r\nimport { Affix } from \"rsuite\";\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nconst mapStateToProps = (state) => {\r\n  return { Login: state.Login };\r\n};\r\n\r\nclass WorkList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const sectionDataState = { skip: 0, take: 10 };\r\n    this.state = {\r\n      selectedRecord: {},\r\n      error: \"\",\r\n      userRoleControlRights: [],\r\n      selectedWorklist: undefined,\r\n      controlMap: new Map(),\r\n      Instrument: [],\r\n      sectionDataState,\r\n      addComponentDataList: [],\r\n      addedComponentList: [],\r\n      RegistrationSubTypeList: [], FilterStatusList: [], SampletypeList: [], RegTypeValue: [], ConfigVersionList: [],\r\n      sidebarview: false\r\n    };\r\n    this.searchRef = React.createRef();\r\n    this.searchFieldList = [\"sworklistno\", \"stestname\"];\r\n    this.confirmMessage = new ConfirmMessage();\r\n  }\r\n  sidebarExpandCollapse = () => {\r\n    this.setState({\r\n      sidebarview: true\r\n    })\r\n  }\r\n\r\n  handleDateChange = (dateName, dateValue) => {\r\n\r\n\r\n    if (dateValue === null) {\r\n      dateValue = new Date();\r\n    }\r\n    // let toDate;\r\n    // let fromDate;\r\n    let fromdate = this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()\r\n    let todate = this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()\r\n    let obj = {}\r\n    if (dateName === 'fromDate') {\r\n      obj = convertDateValuetoString(dateValue, todate, this.props.Login.userInfo)\r\n      fromdate = obj.fromDate\r\n      todate = obj.toDate\r\n      let fromDate = obj.fromDate\r\n      let toDate = obj.toDate\r\n    } else {\r\n      obj = convertDateValuetoString(fromdate, dateValue, this.props.Login.userInfo)\r\n      fromdate = obj.fromDate\r\n      todate = obj.toDate\r\n      let fromDate = obj.fromDate\r\n      let toDate = obj.toDate\r\n\r\n    }\r\n    let inputParam = {\r\n      inputData: {\r\n        nflag: 2,\r\n        nregtypecode: this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n        nregsubtypecode: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n        nneedtemplatebasedflow: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedtemplatebasedflow,\r\n        fromdate: String(fromdate),\r\n        todate: String(todate),\r\n        userinfo: this.props.Login.userInfo,\r\n        realApprovalConfigVersionList: this.props.Login.masterData.realApprovalConfigVersionList,\r\n        realApprovalVersionValue: this.props.Login.masterData.realApprovalVersionValue,\r\n      },\r\n      masterData: this.props.Login.masterData\r\n\r\n    }\r\n    this.props.getConfigVersionTestWise(inputParam)\r\n\r\n  };\r\n\r\n\r\n\r\n  onFilterComboChange = (comboData, fieldName) => {\r\n\r\n    if (comboData) {\r\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n      let inputParamData = {};\r\n      if (fieldName === 'nsampletypecode') {\r\n        //if (comboData.value !== this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode) {\r\n        inputParamData = {\r\n          nflag: 2,\r\n          fromdate: obj.fromDate,\r\n          todate: obj.toDate,\r\n          nsampletypecode: comboData.value,\r\n          userinfo: this.props.Login.userInfo,\r\n          masterData: this.props.Login.masterData,\r\n          defaultSampleTypeValue: comboData.item,\r\n          realApprovalConfigVersionList: this.props.Login.masterData.realApprovalConfigVersionList,\r\n          realApprovalVersionValue: this.props.Login.masterData.realApprovalVersionValue,\r\n        };\r\n        this.props.getRegTypeWorklist(inputParamData)\r\n        // }\r\n      } else if (fieldName === 'nregtypecode') {\r\n        //  if (comboData.value !== this.props.Login.masterData.defaultRegTypeValue.nregtypecode) {\r\n        inputParamData = {\r\n          nflag: 3,\r\n          fromdate: obj.fromDate,\r\n          todate: obj.toDate,\r\n          nsampletypecode: this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode,\r\n          nregtypecode: comboData.value,\r\n          userinfo: this.props.Login.userInfo,\r\n          masterData: this.props.Login.masterData,\r\n          nregtypecode: comboData.value,\r\n          realApprovalConfigVersionList: this.props.Login.masterData.realApprovalConfigVersionList,\r\n          realApprovalVersionValue: this.props.Login.masterData.realApprovalVersionValue,\r\n          masterData: {\r\n            ...this.props.Login.masterData,\r\n            RegTypeValue: comboData.item,\r\n            //RegistrationSubTypeList: inputParam.masterData.RegistrationSubTypeList\r\n          }\r\n          //defaultRegTypeValue: comboData.item\r\n\r\n\r\n        }\r\n        this.props.getRegSubTypeWise(inputParamData)\r\n        //  }\r\n\r\n\r\n\r\n      } else if (fieldName === 'nregsubtypecode') {\r\n\r\n        //  if (comboData.value !== this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) {\r\n        let inputData = {\r\n          nflag: 4,\r\n          fromdate: obj.fromDate,\r\n          todate: obj.toDate,\r\n          nsampletypecode: this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode,\r\n          nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n          nneedtemplatebasedflow: comboData.item.nneedtemplatebasedflow,\r\n          nregsubtypecode: comboData.value,\r\n          userinfo: this.props.Login.userInfo,\r\n          realApprovalConfigVersionList: this.props.Login.masterData.realApprovalConfigVersionList,\r\n          realApprovalVersionValue: this.props.Login.masterData.realApprovalVersionValue,\r\n        }\r\n        inputParamData = {\r\n          inputData,\r\n          masterData: {\r\n            ...this.props.Login.masterData,\r\n            RegSubTypeValue: comboData.item,\r\n            //RegistrationSubTypeList: inputParam.masterData.RegistrationSubTypeList\r\n          }\r\n        }\r\n        this.props.getConfigVersionTestWise(inputParamData)\r\n        // }\r\n      }\r\n\r\n      else if (fieldName === 'ntransactionstatus') {\r\n        // if (comboData.value !== this.props.Login.masterData.FilterStatusValue.ntransactionstatus) {\r\n        let masterData = { ...this.props.Login.masterData, FilterStatusValue: comboData.item }\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { masterData }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        //   }\r\n      }\r\n\r\n\r\n      else if (fieldName === 'napproveconfversioncode') {\r\n        // if (comboData.value !== this.props.Login.masterData.defaultApprovalVersionValue.napproveconfversioncode) {\r\n        let masterData = { ...this.props.Login.masterData, defaultApprovalVersionValue: comboData.item }\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { masterData }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        //  }\r\n      }\r\n\r\n      //\r\n    }\r\n  }\r\n\r\n  onInputOnChange = (event, optional) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (event.target.type === \"checkbox\") {\r\n      selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n    } else if (event.target.type === 'radio') {\r\n      selectedRecord[event.target.name] = optional;\r\n    } else {\r\n      selectedRecord[event.target.name] = event.target.value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n\r\n\r\n  onSaveClick = (saveType, formRef) => {\r\n    // this.searchRef.current.value = \"\";\r\n    let inputData = [];\r\n    let instSection = [];\r\n    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromdate, this.props.Login.masterData.todate, this.props.Login.userInfo)\r\n    inputData['fromdate'] = obj.fromDate;\r\n    inputData['todate'] = obj.toDate;\r\n    if (this.props.Login.screenName === \"IDS_WORKLIST\") {\r\n      let postParam = undefined;\r\n      inputData[\"worklist\"] = {\r\n        nstatus: this.props.Login.userInfo.nmastersitecode,\r\n      };\r\n      inputData[\"worklist\"][\"nsampletypecode\"] = this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode\r\n      inputData[\"worklist\"][\"nsectioncode\"] = this.state.selectedRecord[\"nsectioncode\"].value\r\n      inputData[\"worklist\"][\"ntestcode\"] = this.state.selectedRecord[\"ntestcode\"].value\r\n      //inputData[\"worklist\"][\"nregtypecode\"] = this.props.Login.masterData.RegTypeValue.nregtypecode\r\n      inputData[\"worklist\"][\"nregtypecode\"] = this.props.Login.masterData.defaultRegTypeValue.nregtypecode\r\n      //inputData[\"worklist\"][\"nregsubtypecode\"] = this.props.Login.masterData.RegSubTypeValue.nregsubtypecode\r\n      inputData[\"worklist\"][\"nregsubtypecode\"] = this.props.Login.masterData.defaultRegSubTypeValue.nregsubtypecode\r\n      inputData[\"ndesigntemplatemappingcode\"] = this.props.Login.masterData.ndesigntemplatemappingcode\r\n      inputData[\"napprovalconfigversioncode\"] = (this.props.Login.masterData.defaultApprovalVersionValue && this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode)\r\n      inputData[\"ncontrolCode\"] =\r\n        this.state.controlMap.has(\"AddSamples\") &&\r\n        this.state.controlMap.get(\"AddSamples\").ncontrolcode;\r\n      // let defaultFilterStatusValue={};\r\n      // let FilterStatusValue={};\r\n      inputData[\"ntransactionstatus\"] = (this.props.Login.masterData.defaultFilterStatusValue && this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus) || -1;\r\n      // this.props.Login.masterData.FilterStatus.map(item => {if(item.ntransactionstatus === transactionStatus.DRAFT){\r\n      //   defaultFilterStatusValue = item;\r\n      //   FilterStatusValue = item;}\r\n      // });\r\n      // let defaultFilterStatusValue=this.props.Login.masterData.FilterStatus[1];\r\n      // let FilterStatusValue=this.props.Login.masterData.FilterStatus[1];\r\n      if (this.props.Login.operation === \"update\") { inputData[\"worklist\"][\"nworklistcode\"] = this.props.Login.masterData.selectedWorklist.nworklistcode }\r\n\r\n      const inputParam = {\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        methodUrl: \"Worklist\",\r\n        inputData: inputData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n      };\r\n      const masterData = {...this.props.Login.masterData};\r\n      // let masterData = {...this.props.Login.masterData\r\n      //   ,defaultFilterStatusValue,\r\n      //   FilterStatusValue      }\r\n      if (\r\n        showEsign(\r\n          this.props.Login.userRoleControlRights,\r\n          this.props.Login.userInfo.nformcode,\r\n          this.props.Login.ncontrolCode\r\n        )\r\n      ) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true,\r\n            screenData: {\r\n              inputParam, masterData: {\r\n                masterData\r\n              }\r\n            },\r\n            saveType,\r\n          },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      } else {\r\n        //this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        this.props.insertWorklist(inputParam, masterData);\r\n      }\r\n    }\r\n\r\n\r\n\r\n    //add / edit  \r\n\r\n    let validList = true;\r\n    if (this.props.Login.screenName === \"IDS_WORKLISTSAMPLE\" && this.state.addedComponentList.length > 1000) {\r\n      validList = false;\r\n    }\r\n\r\n    if (validList) {\r\n      let saveList = [];\r\n      if (this.props.Login.screenName === \"IDS_WORKLISTSAMPLE\") {\r\n        const compList = this.state.addComponentSortedList.map(x => {\r\n          delete (x.selected);\r\n          //return {...x, 'sregistereddate':formatInputDate(x.sregistereddate, false)}\r\n          return x;\r\n        }) || [];\r\n        //compList.map(item=>saveList.push({\"npreregno\": item.npreregno}));\r\n        if (compList.length > 0) {\r\n\r\n          compList.map(item => saveList.indexOf(item.ntransactionsamplecode) === -1 ?\r\n            saveList.push(item) : \"\");\r\n          const masterData = {...this.props.Login.masterData};\r\n          const inputData = {\r\n            worklistcompcreationlist: saveList,\r\n            userinfo: this.props.Login.userInfo,\r\n            worklistcreation: this.props.Login.masterData.selectedWorklist,\r\n            ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode\r\n          };\r\n\r\n          let dataState = undefined;\r\n          let selectedId = null;\r\n          let postParam = undefined;\r\n\r\n          const inputParam = {\r\n            classUrl: \"worklist\",\r\n            methodUrl: \"WorklistCreation\",\r\n            inputData: inputData, selectedId, dataState, postParam,\r\n            operation: \"create\", saveType, masterData\r\n          };\r\n\r\n\r\n\r\n          if (\r\n            showEsign(\r\n              this.props.Login.userRoleControlRights,\r\n              this.props.Login.userInfo.nformcode,\r\n              this.props.Login.ncontrolCode\r\n            )\r\n          ) {\r\n            const updateInfo = {\r\n              typeName: DEFAULT_RETURN,\r\n              data: {\r\n                loadEsign: true, screenData: { inputParam, masterData: masterData }, saveType\r\n              }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n          }\r\n          else {\r\n            //this.props.crudMaster(inputParam,masterData, \"openChildModal\");\r\n            this.props.createWorklistCreation(inputParam);\r\n          }\r\n\r\n\r\n        }\r\n        else {\r\n          //this.props.crudMaster(inputParam,masterData, \"openChildModal\");\r\n          toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELCETONESAMPLE\" }));\r\n        }\r\n\r\n\r\n      }\r\n\r\n\r\n\r\n\r\n    }\r\n    else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_EXCEEDSMAXINSERT\" }));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  DeleteWorklistSample = (operation, ncontrolCode) => {\r\n    let inputData = [];\r\n    if (operation.screenName === \"IDS_WORKLISTSAMPLE\") {\r\n      const dataState = this.state.sectionDataState;\r\n      inputData[\"worklistsample\"] = {\r\n        nsitecode: this.props.Login.userInfo.ntranssitecode,\r\n      };\r\n      inputData[\"worklistsample\"][\"nworklistcode\"] =\r\n        operation.selectedRecord.nworklistcode;\r\n      inputData[\"worklistsample\"][\"nworklistsamplecode\"] =\r\n        operation.selectedRecord.nworklistsamplecode;\r\n      inputData[\"worklistsample\"][\"ntransactiontestcode\"] =\r\n        operation.selectedRecord.ntransactiontestcode;\r\n      inputData[\"worklistsample\"][\"ntransactionsamplecode\"] =\r\n        operation.selectedRecord.ntransactionsamplecode;\r\n      inputData[\"worklistsample\"][\"sarno\"] =\r\n        operation.selectedRecord.sarno;\r\n      inputData[\"worklistsample\"][\"ssamplearno\"] =\r\n        operation.selectedRecord.ssamplearno;\r\n      inputData[\"worklistsample\"][\"stestname\"] =\r\n        operation.selectedRecord.stestsynonym;\r\n      inputData[\"worklistsample\"][\"nregsubtypecode\"] =\r\n        operation.selectedRecord.nregsubtypecode;\r\n      inputData[\"worklistsample\"][\"nregtypecode\"] =\r\n        operation.selectedRecord.nregtypecode;\r\n      inputData['ndesigntemplatemappingcode'] = this.props.Login.masterData.ndesigntemplatemappingcode;\r\n\r\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n      const inputParam = {\r\n        methodUrl: \"WorklistSample\",\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        inputData: inputData,\r\n        operation: \"delete\",\r\n        dataState: dataState,\r\n      };\r\n      const masterData = this.props.Login.masterData;\r\n      if (\r\n        showEsign(\r\n          this.props.Login.userRoleControlRights,\r\n          this.props.Login.userInfo.nformcode,\r\n          operation.ncontrolCode\r\n        )\r\n      ) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true,\r\n            screenData: { inputParam, masterData },\r\n            openChildModal: true,\r\n            screenName: \"worklistSample\",\r\n            operation: operation.operation,\r\n          },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      } else {\r\n        this.props.crudMaster(inputParam, masterData, \"openChildModal\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  gridfillingColumn(data) {\r\n    const temparray = [];\r\n    data && data.map((option) => {\r\n      if (option[designProperties.VALUE] !== \"dregdate\") {\r\n        temparray.push({\r\n          \"idsName\": option[designProperties.LABEL][this.props.Login.userInfo.slanguagetypecode],\r\n          \"dataField\": option[designProperties.VALUE], \"width\": \"200px\", \"columnSize\": \"3\"\r\n        })\r\n      }\r\n    });\r\n    if (temparray) {\r\n      temparray.push({ \"idsName\": \"IDS_REGISTRATIONDATE\", \"dataField\": \"sregistereddate\", \"width\": \"250px\", \"columnSize\": \"3\" })\r\n    }\r\n    return temparray;\r\n  }\r\n  gridfillingColumnGridMoreItem(data) {\r\n    const temparray = [];\r\n    data && data.map((option) => {\r\n      if (option[designProperties.VALUE] !== \"dregdate\") {\r\n        temparray.push({\r\n          \"idsName\": option[designProperties.LABEL][this.props.Login.userInfo.slanguagetypecode],\r\n          \"dataField\": option[designProperties.VALUE], \"width\": \"200px\", \"columnSize\": \"3\"\r\n        })\r\n      }\r\n    });\r\n    // if (temparray) {\r\n    //   temparray.push({ \"idsName\": \"IDS_REGISTRATIONDATE\", \"dataField\": \"sregistereddate\", \"width\": \"250px\", \"columnSize\": \"3\" })\r\n    // }\r\n    return temparray;\r\n  }\r\n  // onNumericInputOnChange = (value, name) => {\r\n  //   const selectedRecord = this.state.selectedRecord || {};\r\n  //   selectedRecord[name] = value;\r\n  //   this.setState({ selectedRecord });\r\n  // };\r\n  // dataStateChangeWorklistSample = (event) => {\r\n  //   // ADDed by Neeraj-ALPD-5136\r\n  //   //WorkList Screen -> Including filter in Data selection Kendo Grid \r\n  //     let updatedList = [];\r\n  //     if (event.dataState && event.dataState.filter === null) {\r\n  //       let addComponentDataListCopy = this.state.addComponentDataListCopy ||this.state.addComponentDataList|| [];\r\n  //       addComponentDataListCopy.forEach(x => {\r\n  //         // Check if x's ntransactiontestcode exists in addComponentSortedList\r\n  //         const exists = this.state.addComponentSortedList.some(\r\n  //           item => item.ntransactiontestcode === x.ntransactiontestcode\r\n  //         );\r\n  //         // If it doesn't exist, add it to updatedList\r\n  //         if (!exists) {\r\n  //           updatedList.push(x);\r\n  //         }\r\n  //       });\r\n  //     }else{\r\n  //       updatedList=this.state.addComponentDataList||[]\r\n  //     }      \r\n      \r\n  //       this.setState({\r\n  //         dataResult: process(this.state.addComponentDataList || [], event.dataState),\r\n  //         dataState: event.dataState,addComponentDataList:updatedList,addSelectAll:event.dataState && event.dataState.filter === null?\r\n  //         this.valiateCheckAll(updatedList): this.valiateCheckAll(process(updatedList || [], event.dataState).data)\r\n  //       });\r\n  //   }\r\n\r\n  // selectionChange = (event) => {\r\n  //   let addedComponentList = this.state.addedComponentList || [];\r\n  //   const addComponentDataList = this.props.Login.addComponentDataList.map(item => {\r\n  //     if (item.ntransactiontestcode === event.dataItem.ntransactiontestcode) {\r\n  //       item.selected = !event.dataItem.selected;\r\n  //       if (item.selected) {\r\n  //         const newItem = JSON.parse(JSON.stringify(item));\r\n  //         newItem[\"jsondata\"] = {}\r\n  //         newItem[\"jsonuidata\"] = {}\r\n  //         delete newItem['selected']\r\n  //         //newItem.selected = false;\r\n  //         newItem[\"jsondata\"]['worklist'] = item\r\n  //         newItem[\"jsonuidata\"]['worklist'] = item\r\n  //         addedComponentList.push(newItem);\r\n  //       }\r\n  //       else {\r\n  //         addedComponentList = addedComponentList.filter(item1 => item1.ntransactiontestcode !== item.ntransactiontestcode)\r\n  //       }\r\n  //     }\r\n  //     return item;\r\n  //   });\r\n  //   this.setState({\r\n  //     addComponentDataList, addedComponentList,\r\n  //     addSelectAll: this.valiateCheckAll(addComponentDataList),\r\n  //     deleteSelectAll: this.valiateCheckAll(addedComponentList)\r\n  //   });\r\n  // }\r\n  // selectionChange = (event) => {\r\n  //   let addedComponentList = this.state.addedComponentList || [];\r\n  //   const addComponentDataList = this.state.addComponentDataList.map(item => {\r\n  //     if (item.ntransactiontestcode === event.dataItem.ntransactiontestcode) {\r\n  //       item.selected = !event.dataItem.selected;\r\n  //       if (item.selected) {\r\n  //         const newItem = JSON.parse(JSON.stringify(item));\r\n  //         newItem[\"jsondata\"] = {}\r\n  //         newItem[\"jsonuidata\"] = {}\r\n  //         delete newItem['selected']\r\n  //         //newItem.selected = false;\r\n  //         newItem[\"jsondata\"]['worklist'] = item\r\n  //         newItem[\"jsonuidata\"]['worklist'] = item\r\n  //         addedComponentList.push(newItem);\r\n  //       }\r\n  //       else {\r\n  //         addedComponentList = addedComponentList.filter(item1 => item1.ntransactiontestcode !== item.ntransactiontestcode)\r\n  //       }\r\n  //     }\r\n  //     return item;\r\n  //   });\r\n  //   this.setState({\r\n  //     // ADDed by Neeraj-ALPD-5136\r\n  //     //WorkList Screen -> Including filter in Data selection Kendo Grid \r\n  //          addSelectAll: this.valiateCheckAll(this.state.dataState && this.state.dataState.filter \r\n  //           && this.state.dataState.filter !== null && this.state.dataState.filter!==undefined\r\n  //        ? process(addComponentDataList || [], this.state.dataState).data : addComponentDataList),\r\n  //     addComponentDataList, addedComponentList,\r\n  //     //addSelectAll: this.valiateCheckAll(addComponentDataList),\r\n  //     deleteSelectAll: this.valiateCheckAll(addedComponentList),\r\n  //     addComponentDataListCopy:this.valiateCopy(this.state.addComponentSortedList||[],addComponentDataList||[],addedComponentList||[])\r\n  //   });\r\n  // }\r\n\r\n  dataStateChange = (event) => {\r\n    this.setState({ dataState: event.dataState })\r\n  }\r\n\r\n\r\n  specificationReport = (ncontrolCode) => {\r\n    if (this.props.Login.masterData.selectedWorklist) {\r\n      const inputParam = {\r\n\r\n        stablename: \"worklistcode\",\r\n        primaryKeyField: \"nworklistcode\",\r\n        sreportlink: this.props.Login.reportSettings[15],\r\n        smrttemplatelink: this.props.Login.reportSettings[16],\r\n        nreporttypecode: REPORTTYPE.CONTROLBASED,\r\n        ncontrolcode: ncontrolCode,\r\n        primaryKeyValue: this.props.Login.masterData.selectedWorklist.nworklistcode,\r\n        nworklistcode: this.props.Login.masterData.selectedWorklist.nworklistcode,\r\n        nworklistcode_componentcode: REPORTTYPE.CONTROLBASED,\r\n        nworklistcode_componentname: designComponents.NUMBER,\r\n        ntranscode: this.props.Login.masterData.selectedWorklist.ntransactionstatus,\r\n        userinfo: this.props.Login.userInfo\r\n      }\r\n      //this.props.reportWorklist(inputParam['inputData']);\r\n      this.props.generateControlBasedReport(inputParam);\r\n\r\n    } else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\" }));\r\n    }\r\n  }\r\n\r\n  // headerSelectionChange = (event) => {\r\n  //   const checked = event.syntheticEvent.target.checked;\r\n  //   let addComponentDataList = event.target.props.data //this.state.addedComponentList || [];\r\n  //   let addedComponentList = [];\r\n\r\n\r\n  //   if (checked) {\r\n  //     const data = event.target.props.data.map(item => {\r\n  //       //const data = this.state.addComponentDataList.map(item => {\r\n  //       if (addedComponentList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\r\n\r\n\r\n  //         // addedComponentList.push({ ...item, selected: false });\r\n  //         item.selected = checked;\r\n  //         const newItem = JSON.parse(JSON.stringify(item));\r\n  //         newItem[\"jsondata\"] = {}\r\n  //         newItem[\"jsonuidata\"] = {}\r\n  //         delete newItem['selected']\r\n  //         //newItem.selected = false;\r\n  //         newItem[\"jsondata\"]['worklist'] = item\r\n  //         newItem[\"jsonuidata\"]['worklist'] = item\r\n  //         addedComponentList.push(newItem);\r\n  //         //item.selected = false;\r\n  //         return item;\r\n  //       } else {\r\n  //         let olditem = JSON.parse(JSON.stringify(addedComponentList[addedComponentList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\r\n  //         olditem.selected = checked;\r\n  //         let newItem = JSON.parse(JSON.stringify(olditem));\r\n  //         newItem.selected = false;\r\n  //         newItem[\"jsondata\"] = {};\r\n  //         newItem[\"jsonuidata\"] = {};\r\n  //         delete newItem['selected']\r\n  //         newItem[\"jsondata\"]['worklist'] = olditem\r\n  //         newItem[\"jsonuidata\"]['worklist'] = olditem\r\n  //         addedComponentList.push(newItem);\r\n  //         return olditem;\r\n  //       }\r\n\r\n  //     });\r\n\r\n\r\n  //     this.setState({\r\n  //       addComponentDataList: data, addedComponentList,\r\n  //       addSelectAll: this.valiateCheckAll(addedComponentList),\r\n  //       deleteSelectAll: this.valiateCheckAll(addedComponentList),\r\n  //       addSelectAll: checked, deleteSelectAll: false\r\n  //     });\r\n  //   }\r\n\r\n\r\n  //   //   if (checked) {\r\n  //   //     const data = event.dataItems.map(item => {\r\n  //   //         if (addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\r\n  //   //           addComponentDataList.push({ ...item, selected: false });\r\n  //   //             item.selected = checked;   \r\n  //   //             let newItem = JSON.parse(JSON.stringify(item));\r\n  //   //             newItem.selected = false;\r\n  //   //             newItem[\"jsondata\"]={};\r\n  //   //             newItem[\"jsonuidata\"]={};\r\n  //   //             newItem[\"jsondata\"]['worklist'] = item\r\n  //   //             newItem[\"jsonuidata\"]['worklist'] = item    \r\n  //   //             addedComponentList.push(newItem);\r\n  //   //             return item;\r\n  //   //         } else {\r\n  //   //             let olditem = JSON.parse(JSON.stringify(addComponentDataList[addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\r\n  //   //             olditem.selected = checked;\r\n  //   //             let newItem = JSON.parse(JSON.stringify(olditem));\r\n  //   //             newItem.selected = false;\r\n  //   //             newItem[\"jsondata\"]={};\r\n  //   //             newItem[\"jsonuidata\"]={};\r\n  //   //             newItem[\"jsondata\"]['worklist'] = olditem\r\n  //   //             newItem[\"jsonuidata\"]['worklist'] = olditem\r\n  //   //             addedComponentList.push(newItem);\r\n  //   //             return olditem;\r\n\r\n  //   //         }\r\n\r\n  //   //     });\r\n\r\n\r\n  //   //     this.setState({\r\n  //   //       addComponentDataList: data,\r\n  //   //         addedComponentList:addedComponentList,\r\n  //   //         addComponentDataList,\r\n  //   //         addSelectAll: checked, \r\n  //   //         deleteSelectAll: false\r\n  //   //     });\r\n  //   // }\r\n  //   else {\r\n  //     let addedComponentData = this.state.addedComponentList || [];\r\n  //     let deletedListdData = this.state.deletedList || [];\r\n\r\n  //     const data = this.state.addComponentDataList.map(item => {\r\n  //       addedComponentData = addedComponentData.filter(item1 => item1.npreregno !== item.npreregno);\r\n  //       deletedListdData = deletedListdData.filter(item1 => item1.npreregno !== item.npreregno);\r\n  //       item.selected = checked;\r\n  //       return item;\r\n  //     });\r\n\r\n  //     // console.log(\"data:\",data1, data2);\r\n  //     this.setState({\r\n  //       addComponentDataList: data, addedComponentList: addedComponentData, deletedList: deletedListdData,\r\n  //       addSelectAll: this.valiateCheckAll(addedComponentList),\r\n  //       deleteSelectAll: this.valiateCheckAll(addedComponentList),\r\n  //       addSelectAll: checked, deleteSelectAll: false\r\n  //     });\r\n  //   }\r\n\r\n\r\n\r\n  // }\r\n\r\n  // onApproveClick = () => {\r\n  //   //if (this.props.Login.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.DRAFT) {\r\n  //   const ncontrolCode = this.state.controlMap.has(\"ApproveSupplier\") && this.state.controlMap.get(\"ApproveSupplier\").ncontrolcode\r\n  //   let inputData = [];\r\n  //   inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n  //   //add               \r\n  //   let postParam = undefined;\r\n  //   inputData[\"supplier\"] = { \"nsuppliercode\": this.props.Login.masterData.SelectedSupplier[\"nsuppliercode\"] ? this.props.Login.masterData.SelectedSupplier[\"nsuppliercode\"].Value : \"\" };\r\n  //   inputData[\"supplier\"] = this.props.Login.masterData.SelectedSupplier;\r\n  //   postParam = { inputListName: \"Supplier\", selectedObject: \"SelectedSupplier\", primaryKeyField: \"nsuppliercode\" };\r\n  //   const inputParam = {\r\n  //     classUrl: 'supplier',\r\n  //     methodUrl: \"Supplier\",\r\n  //     inputData: inputData,\r\n  //     operation: \"approve\", postParam\r\n  //   }\r\n  //   let saveType;\r\n\r\n  //   const masterData = this.props.Login.masterData;\r\n\r\n  //   const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\r\n  //   if (esignNeeded) {\r\n  //     const updateInfo = {\r\n  //       typeName: DEFAULT_RETURN,\r\n  //       data: {\r\n  //         loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"approve\"\r\n  //       }\r\n  //     }\r\n  //     this.props.updateStore(updateInfo);\r\n  //   }\r\n  //   else {\r\n  //     this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n  //   }\r\n\r\n  //   // }\r\n  //   // else {\r\n  //   //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORDTOAPPROVE\" }));\r\n  //   // }\r\n  // }\r\n\r\n  // headerSelectionChange = (event) => {\r\n  //   const checked = event.syntheticEvent.target.checked;\r\n  //   let addComponentDataList = //event.target.props.data \r\n  //     this.state.addComponentDataList || [];\r\n  //   let addedComponentList = [];\r\n\r\n\r\n  //   if (checked) {\r\n  //     const data = event.target.props.data.map(item => {\r\n  //       //  const data = addComponentDataList.map(item => {\r\n  //       if (addedComponentList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\r\n\r\n\r\n  //         // addedComponentList.push({ ...item, selected: false });\r\n  //         item.selected = checked;\r\n  //         const newItem = JSON.parse(JSON.stringify(item));\r\n  //         newItem[\"jsondata\"] = {}\r\n  //         newItem[\"jsonuidata\"] = {}\r\n  //         delete newItem['selected']\r\n  //         //newItem.selected = false;\r\n  //         newItem[\"jsondata\"]['worklist'] = item\r\n  //         newItem[\"jsonuidata\"]['worklist'] = item\r\n  //         addedComponentList.push(newItem);\r\n  //         //item.selected = false;\r\n  //         return item;\r\n  //       } else {\r\n  //         let olditem = JSON.parse(JSON.stringify(addedComponentList[addedComponentList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\r\n  //         olditem.selected = checked;\r\n  //         let newItem = JSON.parse(JSON.stringify(olditem));\r\n  //         newItem.selected = false;\r\n  //         newItem[\"jsondata\"] = {};\r\n  //         newItem[\"jsonuidata\"] = {};\r\n  //         delete newItem['selected']\r\n  //         newItem[\"jsondata\"]['worklist'] = olditem\r\n  //         newItem[\"jsonuidata\"]['worklist'] = olditem\r\n  //         addedComponentList.push(newItem);\r\n  //         return olditem;\r\n  //       }\r\n\r\n  //     });\r\n  //     this.setState({\r\n  //       addComponentDataList: data, addedComponentList,\r\n  //       // ADDed by Neeraj-ALPD-5136\r\n  //       //WorkList Screen -> Including filter in Data selection Kendo Grid \r\n  //       addComponentDataListCopy: this.valiateCopy(this.state.addComponentSortedList||[],data||[],addedComponentList||[]) ,\r\n  //       addSelectAll: this.valiateCheckAll(addedComponentList),\r\n  //       deleteSelectAll: this.valiateCheckAll(addedComponentList),\r\n  //       addSelectAll: checked, deleteSelectAll: false\r\n  //     });\r\n  //   }\r\n\r\n\r\n  //   //   if (checked) {\r\n  //   //     const data = event.dataItems.map(item => {\r\n  //   //         if (addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\r\n  //   //           addComponentDataList.push({ ...item, selected: false });\r\n  //   //             item.selected = checked;  \r\n  //   //             let newItem = JSON.parse(JSON.stringify(item));\r\n  //   //             newItem.selected = false;\r\n  //   //             newItem[\"jsondata\"]={};\r\n  //   //             newItem[\"jsonuidata\"]={};\r\n  //   //             newItem[\"jsondata\"]['worklist'] = item\r\n  //   //             newItem[\"jsonuidata\"]['worklist'] = item    \r\n  //   //             addedComponentList.push(newItem);\r\n  //   //             return item;\r\n  //   //         } else {\r\n  //   //             let olditem = JSON.parse(JSON.stringify(addComponentDataList[addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\r\n  //   //             olditem.selected = checked;\r\n  //   //             let newItem = JSON.parse(JSON.stringify(olditem));\r\n  //   //             newItem.selected = false;\r\n  //   //             newItem[\"jsondata\"]={};\r\n  //   //             newItem[\"jsonuidata\"]={};\r\n  //   //             newItem[\"jsondata\"]['worklist'] = olditem\r\n  //   //             newItem[\"jsonuidata\"]['worklist'] = olditem\r\n  //   //             addedComponentList.push(newItem);\r\n  //   //             return olditem;\r\n\r\n  //   //         }\r\n\r\n  //   //     });\r\n\r\n\r\n  //   //     this.setState({\r\n  //   //       addComponentDataList: data,\r\n  //   //         addedComponentList:addedComponentList,\r\n  //   //         addComponentDataList,\r\n  //   //         addSelectAll: checked,\r\n  //   //         deleteSelectAll: false\r\n  //   //     });\r\n  //   // }\r\n  //   else {\r\n  //     let addedComponentData = this.state.addedComponentList || [];\r\n  //     let deletedListdData = this.state.deletedList || [];\r\n\r\n  //     const data = event.target.props.data.map(item => {\r\n  //       addedComponentData = addedComponentData.filter(item1 => item1.npreregno !== item.npreregno);\r\n  //       deletedListdData = deletedListdData.filter(item1 => item1.npreregno !== item.npreregno);\r\n  //       item.selected = checked;\r\n  //       return item;\r\n  //     });\r\n\r\n  //     // console.log(\"data:\",data1, data2);\r\n  //     this.setState({\r\n  //       addComponentDataList: data, addedComponentList: addedComponentData, deletedList: deletedListdData,\r\n  //       addSelectAll: this.valiateCheckAll(addedComponentList),\r\n  //       deleteSelectAll: this.valiateCheckAll(addedComponentList),\r\n  //       addSelectAll: checked, deleteSelectAll: false,\r\n  //       addComponentDataListCopy:  this.valiateCopy(this.state.addComponentSortedList||[],data||[],addedComponentData||[])   \r\n  //     });\r\n  //   }\r\n\r\n\r\n\r\n  // }\r\n\r\n    // ADDed by Neeraj-ALPD-5136\r\n  //WorkList Screen -> Including filter in Data selection Kendo Grid \r\n  // addSaveDataGrid = () => {\r\n  //   let filterdata1=this.state.dataState ?process(this.state.addComponentDataListCopy || [], {...this.state.dataState,take:this.state.addComponentDataList.length}).data:[];\r\n  //   let sortListedData1 = filterdata1.filter(x => \r\n  //    this.state.addedComponentList.some(item => item.ntransactiontestcode === x.ntransactiontestcode)\r\n  //  );\r\n  //  let exists=this.state.dataState && this.state.dataState.filter!==null && this.state.dataState.filter!==undefined ? sortListedData1.length>0 ? true : false :true;\r\n  //   if (this.state.addedComponentList.length > 0 && exists) {\r\n  //     let addComponentSortedList = [];\r\n  //     let   updatedList =[];\r\n  //     let ListedData =[];\r\n  //     let sortListedData=[];\r\n  //     if(this.state.dataState && this.state.dataState.filter!==null && this.state.dataState.filter!==undefined){\r\n  //       let filterdata=process(this.state.addComponentDataListCopy|| this.state.addComponentDataList || [], {...this.state.dataState,take:this.state.addComponentDataList.length}).data;\r\n  //        sortListedData = filterdata.filter(x => \r\n  //         this.state.addedComponentList.some(item => item.ntransactiontestcode === x.ntransactiontestcode)\r\n  //       );\r\n  //        updatedList = this.state.addComponentDataList.filter(\r\n  //         (item) => !sortListedData.some(\r\n  //           (addedItem) => addedItem.ntransactiontestcode === item.ntransactiontestcode\r\n  //         )\r\n  //       );\r\n  //        updatedList.map(x =>{if(x.selected){ ListedData.push(x)}});\r\n\r\n  //     }else{\r\n  //      updatedList = this.state.addComponentDataList.filter(\r\n  //       (item) => !this.state.addedComponentList.some(\r\n  //         (addedItem) => addedItem.ntransactiontestcode === item.ntransactiontestcode\r\n  //       )\r\n  //     );\r\n  //     ListedData=[];\r\n  //     sortListedData= this.state.addedComponentList\r\n  //   }\r\n  //     if (this.state.addComponentSortedList.length > 0) {\r\n  //       this.state.addComponentSortedList.map(item => {\r\n  //         const newItem = JSON.parse(JSON.stringify(item));\r\n  //         newItem[\"jsondata\"] = {}\r\n  //         newItem[\"jsonuidata\"] = {}\r\n  //         newItem[\"jsondata\"]['worklist'] = item\r\n  //         newItem[\"jsonuidata\"]['worklist'] = item\r\n  //         addComponentSortedList.push(newItem)\r\n  //       })\r\n  //     }\r\n  //     sortListedData.map(item => {\r\n  //       const newItem = JSON.parse(JSON.stringify(item));\r\n  //       newItem[\"jsondata\"] = {}\r\n  //       newItem[\"jsonuidata\"] = {}\r\n  //       newItem[\"jsondata\"]['worklist'] = item\r\n  //       newItem[\"jsonuidata\"]['worklist'] = item\r\n  //       addComponentSortedList.push(newItem)\r\n  //     })\r\n  //     this.setState({\r\n  //       addComponentDataList: updatedList, addSelectAll: this.valiateCheckAll(updatedList)\r\n  //       , addComponentSortedList: addComponentSortedList\r\n  //       , addedComponentList: ListedData,\r\n  //       addComponentDataListCopy:this.valiateCopy(addComponentSortedList||[],updatedList||[],ListedData||[]) \r\n  //     })\r\n  //   } else {\r\n  //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELCETONESAMPLE\" }));\r\n  //   }\r\n  // }\r\n  // ADDed by Neeraj-ALPD-5136\r\n  //WorkList Screen -> Including filter in Data selection Kendo Grid \r\n  // handleClickDelete = (row) => {\r\n  //   let updatedAddList = [];\r\n  //   const ntransactiontestcode = row.dataItem.ntransactiontestcode;\r\n  //   const updatedList = this.state.addComponentSortedList.filter(\r\n  //     (item) => item.ntransactiontestcode !== ntransactiontestcode\r\n  //   );\r\n\r\n  //   const exists = this.state.addComponentDataList.some(\r\n  //     (item) => item.ntransactiontestcode === ntransactiontestcode\r\n  //   );\r\n  //   if (!exists) {\r\n  //     updatedAddList = this.state.addComponentDataList.map(item => {\r\n  //       return item\r\n  //     })\r\n  //     updatedAddList.push({ ...row.dataItem, selected: false });\r\n  //   }\r\n\r\n  //   this.setState({ addComponentDataList: updatedAddList, \r\n  //     addComponentSortedList: updatedList , addComponentDataListCopy:this.valiateCopy(updatedList||[],updatedAddList||[])})\r\n\r\n  // }\r\n\r\n\r\n// ADDed by Neeraj-ALPD-5136\r\n  //WorkList Screen -> Including filter in Data selection Kendo Grid \r\n  // valiateCopy(sortedList,addComponentDataList,addedComponentList){\r\n  //   let addedComponentLists=addedComponentList||this.state.addedComponentList||[];\r\n  //   let listData = this.props.Login.addComponentDataList || [];\r\n  //   let copyingList = listData.filter(item1 => \r\n  //     !sortedList.some(item2 => item1.ntransactiontestcode === item2.ntransactiontestcode)\r\n  //   ) ||[];\r\n  //   let copyingListData = copyingList.map(item => {\r\n  //     const existsInAddComponentDataList = addedComponentLists.some(\r\n  //       item1 => item1.ntransactiontestcode === item.ntransactiontestcode \r\n  //     );\r\n     \r\n  //     if(existsInAddComponentDataList){\r\n  //       return {...item,selected: true};\r\n  //     }else{\r\n  //       return {...item,selected: false};\r\n  //     }\r\n     \r\n  //   });\r\n  //   return copyingListData;\r\n  // }\r\n\r\n\r\n\r\n\r\n  valiateCheckAll(data) {\r\n\r\n    let selectAll = true;\r\n\r\n    // let checkRepeatComponent;\r\n\r\n    //  let addedComponentList = this.state.addedComponentList || [];\r\n\r\n    if (data && data.length > 0) {\r\n\r\n      data.forEach(dataItem => {\r\n\r\n        if (dataItem.selected) {\r\n\r\n          if (dataItem.selected === false) {\r\n\r\n            selectAll = false;\r\n\r\n          }\r\n\r\n        }\r\n\r\n        else {\r\n\r\n          selectAll = false;\r\n\r\n          // checkRepeatComponent=this.state.addComponentDataList.filter(item=>item.npreregno==data.npreregno)\r\n\r\n          // if(checkRepeatComponent.length>0){\r\n\r\n          //     selectAll = true;\r\n\r\n          // }else{\r\n\r\n          //     selectAll = false;\r\n\r\n          // }\r\n\r\n        }\r\n\r\n      })\r\n\r\n    }\r\n\r\n    else {\r\n\r\n      //if (gridType === \"originalgrid\"){\r\n\r\n      selectAll = false;\r\n\r\n      // }\r\n\r\n    }\r\n\r\n    return selectAll;\r\n\r\n  }\r\n\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (props.Login.masterStatus !== \"\") {\r\n      if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n        toast.warn(props.Login.masterStatus);\r\n        props.Login.masterStatus = \"\";\r\n      }\r\n    }\r\n    if (props.Login.error !== state.error) {\r\n      toast.error(props.Login.error);\r\n      props.Login.error = \"\";\r\n    }\r\n    if (props.Login.selectedRecord === undefined) {\r\n      return { selectedRecord: {} };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  validateEsign = () => {\r\n    let modalName = this.props.Login.screenName === \"worklistSample\" ? \"openChildModal\" : \"openModal\";\r\n    const inputParam = {\r\n      inputData: {\r\n        userinfo: {\r\n          ...this.props.Login.userInfo,\r\n          sreason: this.state.selectedRecord[\"esigncomments\"],\r\n        },\r\n        password: this.state.selectedRecord[\"esignpassword\"],\r\n      },\r\n      screenData: this.props.Login.screenData,\r\n    };\r\n    if (this.props.Login.operation === \"prepare\") {\r\n      this.props.validateEsignforWorklist(inputParam, modalName, this.confirmMessage);\r\n    }\r\n    else {\r\n      this.props.validateEsignCredential(inputParam, modalName);\r\n    }\r\n    // this.props.validateEsignCredential(inputParam, \"openModal\");\r\n\r\n  };\r\n\r\n\r\n\r\n  // onSwitchChange = (item, key, methodUrl) => {\r\n  //   let dataItem = item;\r\n  //   dataItem[\"ndefaultstatus\"] = 3;\r\n  //   const inputParam = {\r\n  //     inputData: {\r\n  //       [key]: dataItem,\r\n  //       userinfo: this.props.userInfo,\r\n  //     },\r\n  //     classUrl: \"testmaster\",\r\n  //     operation: \"setDefault\",\r\n  //     methodUrl: methodUrl,\r\n  //   };\r\n  //   this.props.crudMaster(\r\n  //     inputParam,\r\n  //     this.props.masterData,\r\n  //     \"openChildModal\",\r\n  //     {}\r\n  //   );\r\n  // };\r\n\r\n  tabDetail = () => {\r\n    const tabMap = new Map();\r\n    const deleteSecId =\r\n      this.state.controlMap.has(\"DeleteWorklistSample\") &&\r\n      this.state.controlMap.get(\"DeleteWorklistSample\").ncontrolcode;\r\n    const addSampleId =\r\n      this.state.controlMap.has(\"AddSamples\") &&\r\n      this.state.controlMap.get(\"AddSamples\").ncontrolcode;\r\n\r\n    const viewSampleId =\r\n      this.state.controlMap.has(\"ViewWorklistSample\") &&\r\n      this.state.controlMap.get(\"ViewWorklistSample\").ncontrolcode;\r\n\r\n    tabMap.set(\r\n      \"IDS_WORKLISTSAMPLE\",\r\n      <WorklistSampleTab\r\n        controlMap={this.state.controlMap}\r\n        userRoleControlRights={this.state.userRoleControlRights}\r\n        dataState={this.state.WorklistSamples}\r\n        selectedWorklist={this.state.WorklistSamples}\r\n        extractedColumnList={this.gridfillingColumn(this.state.DynamicGridItem) || []}\r\n        detailedFieldList={this.gridfillingColumnGridMoreItem(this.state.DynamicGridMoreItem) || []}\r\n\r\n        userInfo={this.props.Login.userInfo}\r\n        inputParam={this.props.Login.inputParam}\r\n        deleteRecord={this.DeleteWorklistSample}\r\n        deleteSecId={deleteSecId}\r\n        defaultRecord={this.defaultRecord}\r\n        WorklistSamples={this.state.WorklistSamples || []}\r\n        viewSample={this.viewSample}\r\n        screenName=\"IDS_WORKLISTSAMPLE\"\r\n        selectedRecord={this.state.selectedRecord}\r\n        settings={this.props.Login.settings}\r\n        getWorklistSample={this.props.getWorklistSample}\r\n        masterData={this.props.Login.masterData}\r\n        addSampleId={addSampleId}\r\n        viewSampleId={viewSampleId}\r\n      />\r\n\r\n    );\r\n    tabMap.set(\r\n      \"IDS_WORKLISTHISTORY\",\r\n      <WorklistHistoryTab\r\n        dataState={this.props.Login.masterData.WorklistHistory}\r\n        selectedWorklistHistory={this.props.Login.masterData.WorklistHistory}\r\n        InstrumentSection={this.props.Login.masterData.WorklistHistory || []}\r\n        userInfo={this.props.Login.userInfo}\r\n        //inputParam={this.props.Login.inputParam}\r\n        // deleteRecord={this.DeleteWorklistSample}\r\n        // deleteSecId={deleteSecId}\r\n        // defaultSecId={defaultSecId}\r\n        // defaultRecord={this.defaultRecord}\r\n        controlMap={this.state.controlMap}\r\n        userRoleControlRights={this.state.userRoleControlRights}\r\n        screenName=\"IDS_WORKLISTHISTORY\"\r\n        selectedRecord={this.state.selectedRecord}\r\n        settings={this.props.Login.settings}\r\n      />\r\n    );\r\n\r\n\r\n    return tabMap;\r\n  };\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if ((this.props.Login.openModal || this.props.Login.openChildModal) && nextState.isInitialRender === false &&\r\n        (nextState.addComponentSortedList !== this.state.addComponentSortedList)) {\r\n        return false;\r\n    } else {\r\n        return true;\r\n    }\r\n}\r\n\r\n  render() {\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n    let mandatoryFields = [];\r\n    // this.feildsForGrid =\r\n    //   [\r\n    //     // { \"idsName\": \"IDS_TEST\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" },       \r\n    //     { \"idsName\": \"IDS_PARAMETER\", \"dataField\": \"sparametersynonym\", \"width\": \"100px\" },\r\n    //     { \"idsName\": \"IDS_RESULT\", \"dataField\": \"sfinal\", \"width\": \"100px\" },\r\n    //     { \"idsName\": \"IDS_GRADE\", \"dataField\": \"sgradename\", \"width\": \"200px\" },\r\n    //   ];\r\n\r\n    this.feildsForGrid =\r\n      [\r\n        // { \"idsName\": \"IDS_TEST\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" },\r\n        { \"idsName\": \"IDS_REPORTREFNO\", \"dataField\": \"sreportno\", \"width\": \"200px\" },\r\n        { \"idsName\": this.props.Login.genericLabel && this.props.Login.genericLabel[\"ARNo\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode], \"dataField\": \"sarno\", \"width\": \"200px\" },\r\n        { \"idsName\": this.props.Login.genericLabel && this.props.Login.genericLabel[\"SubARNo\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode], \"dataField\": \"ssamplearno\", \"width\": \"200px\" },\r\n        { \"idsName\": \"IDS_PARAMETER\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\" },\r\n        { \"idsName\": \"IDS_RESULT\", \"dataField\": \"sfinal\", \"width\": \"200px\" },\r\n        { \"idsName\": \"IDS_GRADE\", \"dataField\": \"sgradename\", \"width\": \"200px\" },\r\n        { \"idsName\": \"IDS_REGISTRATIONDATE\", \"dataField\": \"sregdate\", \"width\": \"200px\" },\r\n\r\n\r\n\r\n      ];\r\n    this.extractedColumnList = [\r\n\r\n      //  { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\r\n      { \"idsName\": \"IDS_NEWCOMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\r\n      { \"idsName\": \"IDS_USERNAME\", \"dataField\": \"susername\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"suserrolename\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_ACTIONTYPE\", \"dataField\": \"sactiontype\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_MODULENAME\", \"dataField\": \"smodulename\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_FORMNAME\", \"dataField\": \"sformname\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_REASON\", \"dataField\": \"spredefinedreason\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_ESIGNCOMMENTS\", \"dataField\": \"sreason\", \"width\": \"200px\" },\r\n\r\n\r\n    ]\r\n\r\n    // const auditInfoFields = [{ \"fieldName\": \"sarno\", \"label\": \"IDS_ARNO\" }, \r\n    // { \"fieldName\": \"spatientid\", \"label\": \"IDS_PATIENTID\" },   \r\n    // { \"fieldName\": \"sfirstname\", \"label\": \"IDS_PATIENTNAME\" },\r\n    // { \"fieldName\": \"sage\", \"label\": \"IDS_AGE\" },\r\n    // { \"fieldName\": \"sgendername\", \"label\": \"IDS_GENDER\" },\r\n    // { \"fieldName\": \"stestsynonym\", \"label\": \"IDS_TEST\" },\r\n    // { \"fieldName\": \"sregdate\", \"label\": \"IDS_REGISTRATIONDATE\" },\r\n    // { \"fieldName\": \"scompletedate\", \"label\": \"IDS_COMPLETEDDATEANDTIME\" }\r\n\r\n    // ];\r\n    const auditInfoFields = [\r\n      { \"label\": this.props.Login.genericLabel && this.props.Login.genericLabel[\"ARNo\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode], \"fieldName\": \"sarno\", },\r\n      { \"fieldName\": \"stestsynonym\", \"label\": \"IDS_TEST\" },\r\n      { \"fieldName\": \"sfirstname\", \"label\": \"IDS_PATIENTNAME\" },\r\n      { \"fieldName\": \"sgendername\", \"label\": \"IDS_GENDER\" },\r\n\r\n\r\n    ];\r\n\r\n    if (this.props.Login.screenName === \"IDS_WORKLIST\") {\r\n      mandatoryFields.push(\r\n        {\r\n          mandatory: true,\r\n          idsName: \"IDS_ADDSECTION\",\r\n          dataField: \"nsectioncode\",\r\n          mandatoryLabel: \"IDS_SELECT\",\r\n          controlType: \"selectbox\",\r\n        }, {\r\n        mandatory: true,\r\n        idsName: \"IDS_TEST\",\r\n        dataField: \"ntestcode\",\r\n        mandatoryLabel: \"IDS_SELECT\",\r\n        controlType: \"selectbox\",\r\n      }\r\n      );\r\n\r\n    }\r\n\r\n    const addId =\r\n      this.state.controlMap.has(\"AddWorklist\") &&\r\n      this.state.controlMap.get(\"AddWorklist\").ncontrolcode;\r\n    // const editId =\r\n    //   this.state.controlMap.has(\"EditWorklist\") &&\r\n    //   this.state.controlMap.get(\"EditWorklist\").ncontrolcode;\r\n    const deleteId =\r\n      this.state.controlMap.has(\"DeleteWorklist\") &&\r\n      this.state.controlMap.get(\"DeleteWorklist\").ncontrolcode;\r\n\r\n    const approvalId =\r\n      this.state.controlMap.has(\"GenerateWorklist\") &&\r\n      this.state.controlMap.get(\"GenerateWorklist\").ncontrolcode;\r\n\r\n    const reportId =\r\n      this.state.controlMap.has(\"WorklistReport\") &&\r\n      this.state.controlMap.get(\"WorklistReport\").ncontrolcode;\r\n\r\n    // const addSampleId =\r\n    //   this.state.controlMap.has(\"AddWorklistSample\") &&\r\n    //   this.state.controlMap.get(\"AddWorklistSample\").ncontrolcode;\r\n    // const deleteSampleId =\r\n    // this.state.controlMap.has(\"DeleteWorklistSample\") &&\r\n    // this.state.controlMap.get(\"DeleteWorklistSample\").ncontrolcode;\r\n\r\n    const { selectedWorklist } = this.props.Login.masterData;\r\n    const filterParam = {\r\n      inputListName: \"Worklist\",\r\n      selectedObject: \"selectedWorklist\",\r\n      primaryKeyField: \"nworklistcode\",\r\n      fetchUrl: \"worklist/getWorklistSample\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo, ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode },\r\n      masterData: this.props.Login.masterData,\r\n      searchFieldList: this.searchFieldList,\r\n\r\n    };\r\n    const filterNameId = this.state.controlMap.has(\"FilterName\") ? this.state.controlMap.get(\"FilterName\").ncontrolcode : -1;\r\n    const filterDetailId = this.state.controlMap.has(\"FilterDetail\") ? this.state.controlMap.get(\"FilterDetail\").ncontrolcode : -1;\r\n    const mandatoryFieldsFilter = [{ \"mandatory\": true, \"idsName\": \"IDS_FILTERNAME\", \"dataField\": \"sfiltername\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }]\r\n\r\n    const breadCrumbData = this.state.filterData || [];\r\n    return (\r\n      <>\r\n        <div className=\"client-listing-wrap new-breadcrumb toolbar-top-wrap mtop-4 screen-height-window\">\r\n          {breadCrumbData.length > 0 ? (\r\n            <Affix top={53}>\r\n              <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n            </Affix>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <div className='fixed-buttons'>\r\n            <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n              hidden={this.state.userRoleControlRights.indexOf(filterNameId) === -1}\r\n              data-tip={this.props.intl.formatMessage({ id: \"IDS_SAVEFILTER\" })}\r\n              //onClick={() => this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, approvalId)}\r\n              onClick={() => this.openFilterName(filterNameId)}\r\n            >   <SaveIcon width='20px' height='20px' className='custom_icons' /></Nav.Link>\r\n\r\n            {\r\n              this.state.userRoleControlRights.indexOf(filterDetailId) !== -1 &&\r\n                this.props.Login.masterData && this.props.Login.masterData.FilterName !== undefined && this.props.Login.masterData.FilterName.length > 0 ?\r\n                <CustomPopover\r\n                  icon={faBolt}\r\n                  nav={true}\r\n                  data={this.props.Login.masterData.FilterName}\r\n                  btnClasses=\"btn-circle btn_grey ml-2 spacesremovefromaction\"\r\n                  //dynamicButton={(value) => this.props.getAcceptTestTestWise(value,testGetParam,this.props.Login.masterData.MJSelectedTest,this.props.Login.userInfo)}\r\n                  dynamicButton={(value) => this.clickFilterDetail(value)}\r\n                  textKey=\"sfiltername\"\r\n                  iconKey=\"nfiltercode\"\r\n                >\r\n                </CustomPopover>\r\n                : \"\"\r\n            }\r\n          </div>\r\n          <Row noGutters={true}>\r\n            <Col md={`${!this.props.sidebarview ? '4' : \"2\"}`}>\r\n              <ListMaster\r\n                formatMessage={this.props.intl.formatMessage}\r\n                screenName={\"worklist\"}\r\n                masterData={this.props.Login.masterData}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterList={\r\n                  this.props.Login.masterData.searchedData ||\r\n                  this.props.Login.masterData.Worklist\r\n                }\r\n                getMasterDetail={(worklist) =>\r\n                  this.props.getWorklistDetail(\r\n                    worklist,\r\n                    this.props.Login.userInfo,\r\n                    this.props.Login.masterData\r\n                  )\r\n                }\r\n                selectedMaster={this.props.Login.masterData.selectedWorklist}\r\n                primaryKeyField=\"nworklistcode\"\r\n                mainField=\"sworklistno\"\r\n                firstField=\"stestname\"\r\n                secondField=\"ssectionname\"\r\n                isIDSField=\"Yes\"\r\n                filterColumnData={this.props.filterColumnData}\r\n                filterParam={filterParam}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                searchRef={this.searchRef}\r\n                addId={addId}\r\n                hideCheckLabel={true}\r\n                hidePaging={false}\r\n                reloadData={this.reloadData}\r\n                openModal={() =>\r\n                  this.props.getSectionAndTest(\r\n                    \"IDS_WORKLIST\",\r\n                    \"create\",\r\n                    \"nworklistcode\",\r\n                    this.props.Login.masterData,\r\n                    this.props.Login.userInfo,\r\n                    addId\r\n                  )\r\n                }\r\n                openFilter={this.openFilter}\r\n                closeFilter={this.closeFilter}\r\n                onFilterSubmit={this.onFilterSubmit}\r\n                showFilterIcon={true}\r\n                showFilter={this.props.Login.showFilter}\r\n                callCloseFunction={true}\r\n                filterComponent={[\r\n                  {\r\n                    IDS_WORKLISTFILTER: (\r\n                      <WorklistPreparationFilter\r\n                        SampleTypeValue={this.props.Login.masterData.defaultSampleTypeValue || {}}\r\n                        RegTypeValue={this.props.Login.masterData.RegTypeValue || {}}\r\n                        RegSubTypeValue={this.props.Login.masterData.RegSubTypeValue || {}}\r\n                        RegSubType={this.state.RegistrationSubTypeList || []}\r\n                        RegType={this.state.RegistrationTypeList || []}\r\n                        userInfo={this.props.Login.userInfo || {}}\r\n                        ApprovalVersion={this.state.ConfigVersionList || []}\r\n                        ApprovalVersionValue={this.props.Login.masterData.defaultApprovalVersionValue || []}\r\n\r\n                        //SampleType={this.state.stateSampleType || []}\r\n                        FilterStatusValue={this.props.Login.masterData.FilterStatusValue || {}}\r\n                        FilterStatus={this.state.FilterStatusList || []}\r\n                        RegistrationType={this.state.stateRegistrationType || []}\r\n                        RegistrationSubType={this.state.stateRegistrationSubType || []}\r\n                        fromDate={this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()}\r\n                        toDate={this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()}\r\n                        handleDateChange={this.handleDateChange}\r\n                        onFilterComboChange={this.onFilterComboChange}\r\n                        SampleType={this.state.SampletypeList || []}\r\n\r\n                      />\r\n                    ),\r\n                  },\r\n                ]}\r\n              />\r\n            </Col>\r\n            <Col md={`${!this.props.sidebarview ? '8' : \"10\"}`} className=\"position-relative\">\r\n              <div className=\"sidebar-view-btn-block\">\r\n                <div className=\"sidebar-view-btn \" onClick={this.props.parentFunction}>\r\n                  {!this.props.sidebarview ?\r\n                    <i class=\"fa fa-less-than\"></i> :\r\n                    <i class=\"fa fa-greater-than\"></i>\r\n                  }\r\n                </div>\r\n              </div>\r\n              <Row>\r\n                <Col md={12}>\r\n                  <ContentPanel className=\"panel-main-content\">\r\n                    <Card className=\"border-0\">\r\n                      {this.props.Login.masterData.Worklist && this.props.Login.masterData.Worklist.length > 0 && this.props.Login.masterData.selectedWorklist\r\n                        ? (\r\n                          <>\r\n                            <Card.Header>\r\n                              <Card.Title className=\"product-title-main\">\r\n                                {\r\n                                  this.props.Login.masterData.selectedWorklist\r\n                                    .sworklistno\r\n                                }\r\n                              </Card.Title>\r\n                              <Card.Subtitle>\r\n                                <div className=\"d-flex product-category\">\r\n                                  <h2 className=\"product-title-sub flex-grow-1\">\r\n                                    <MediaLabel className={`btn btn-outlined ${this.props.Login.masterData.selectedWorklist.ntransactionstatus === 83 ? \"outline-success\" : \"outline-secondary\"} btn-sm ml-3`}>\r\n                                      {this.props.Login.masterData.selectedWorklist.ntransactionstatus === 83 && <FontAwesomeIcon icon={faCheck}></FontAwesomeIcon>}\r\n                                      {this.props.Login.masterData.selectedWorklist.stransdisplaystatus}\r\n                                    </MediaLabel>\r\n                                  </h2>\r\n                                  <div className=\"d-inline\">\r\n                                    {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                    //    data-for=\"tooltip_list_wrap\"\r\n                                    hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                    onClick={() => this.props.getEditSectionAndTest(\r\n                                      \"IDS_WORKLIST\",\r\n                                      \"update\",\r\n                                      \"nworklistcode\",\r\n                                      this.props.Login.masterData,\r\n                                      this.props.Login.userInfo,\r\n                                      editId\r\n                                    )\r\n\r\n                                      //\"Checklist\",\"nchecklistcode\",this.props.Login.masterData.selectedchecklist.nchecklistcode)\r\n                                    }>\r\n                                    <FontAwesomeIcon icon={faPencilAlt} title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                  </Nav.Link> */}\r\n\r\n\r\n                                    <Nav.Link\r\n                                      name=\"deleteWorklist\"\r\n                                      className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\"\r\n                                      data-tip={this.props.intl.formatMessage({\r\n                                        id: \"IDS_DELETE\",\r\n                                      })}\r\n                                      //   data-for=\"tooltip_list_wrap\"\r\n                                      hidden={\r\n                                        this.state.userRoleControlRights.indexOf(\r\n                                          deleteId\r\n                                        ) === -1\r\n                                      }\r\n                                      onClick={() =>\r\n                                        this.ConfirmDelete(\r\n                                          {\r\n                                            operation: \"delete\",\r\n                                            screenName: \"IDS_WORKLIST\",\r\n                                          },\r\n                                          deleteId\r\n                                        )\r\n                                      }\r\n                                    >\r\n                                      <FontAwesomeIcon icon={faTrashAlt} />\r\n                                    </Nav.Link>\r\n\r\n                                    <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                      hidden={this.state.userRoleControlRights.indexOf(approvalId) === -1}\r\n                                      data-tip={this.props.intl.formatMessage({ id: \"IDS_PREPARED\" })}\r\n                                      //onClick={() => this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, approvalId)}\r\n                                      onClick={() => this.onApproveClick()}\r\n                                    >\r\n                                      {/* <FontAwesomeIcon icon={faThumbsUp} title={this.props.intl.formatMessage({ id: \"IDS_PREPARED\" })} /> */}\r\n                                      <Closure className=\"custom_icons\" width=\"18\" height=\"23\" />\r\n                                    </Nav.Link>\r\n\r\n\r\n                                    <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                      hidden={this.state.userRoleControlRights.indexOf(reportId) === -1}\r\n                                      data-tip={this.props.intl.formatMessage({ id: \"IDS_REPORT\" })}\r\n                                      //onClick={() => this.specificationReport(reportId)}\r\n                                      onClick={() => this.props.generateControlBasedReport(reportId, this.props.Login.masterData.selectedWorklist, this.props.Login, \"worklist\", this.props.Login.masterData.selectedWorklist.nworklistcode)}\r\n\r\n                                    >\r\n                                      <Report />\r\n                                      {/* <ReportIcon className=\"custom_icons\" width=\"17\" height=\"20\" /> */}\r\n                                    </Nav.Link>\r\n\r\n                                  </div>\r\n                                </div>\r\n                              </Card.Subtitle>\r\n                            </Card.Header>\r\n\r\n\r\n                            <Card.Body>\r\n\r\n                              {selectedWorklist && (\r\n                                <CustomTab\r\n                                  activeKey={this.props.Login.activeKey ? this.props.Login.activeKey : \"IDS_WORKLISTSAMPLE\"}\r\n                                  tabDetail={this.tabDetail()}\r\n                                  onTabChange={this.onTabChange}\r\n                                />\r\n                              )}\r\n                            </Card.Body>\r\n                          </>\r\n                        ) : (\r\n                          \"\"\r\n                        )\r\n                      }\r\n                    </Card>\r\n                  </ContentPanel>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n\r\n\r\n\r\n          </Row>\r\n        </div>\r\n        {(this.props.Login.openModal || this.props.Login.openChildModal) && (\r\n          <SlideOutModal\r\n            show={this.props.Login.openModal || this.props.Login.openChildModal}\r\n            closeModal={this.closeModal}\r\n            operation={this.props.Login.operation}\r\n            inputParam={this.props.Login.inputParam}\r\n            screenName={this.props.Login.screenName}\r\n            onSaveClick={this.onSaveClick}\r\n            esign={this.props.Login.loadEsign}\r\n            validateEsign={this.validateEsign}\r\n            masterStatus={this.props.Login.masterStatus}\r\n            mandatoryFields={mandatoryFields}\r\n            updateStore={this.props.updateStore}\r\n            selectedRecord={this.state.selectedRecord || {}}\r\n            hideSave={this.props.Login.screenName === \"IDS_PREVIOUSRESULTVIEW\" ? true : false}\r\n            size={(this.props.Login.screenName === \"IDS_PREVIOUSRESULTVIEW\" || this.props.Login.screenName === \"IDS_WORKLISTSAMPLE\") ? \"xl\" : \"lg\"}\r\n\r\n\r\n            addComponent={\r\n              this.props.Login.loadEsign ? (\r\n                <Esign\r\n                  operation={this.props.Login.operation}\r\n                  onInputOnChange={this.onInputOnChange}\r\n                  inputParam={this.props.Login.inputParam}\r\n                  selectedRecord={this.state.selectedRecord || {}}\r\n                />\r\n              )\r\n                : this.props.Login.screenName === \"IDS_WORKLIST\" ? (\r\n                  <AddWorklistSection\r\n                    //onNumericInputOnChange={this.onNumericInputOnChange}\r\n                    selectedRecord={this.props.Login.selectedRecord || {}}\r\n                    onInputOnChange={this.onInputOnChange}\r\n                    onComboChange={this.onComboChange}\r\n                    SectionValue={this.props.Login.Section}\r\n                    TestValue={this.props.Login.Test}\r\n                    handleDateChange={this.handleDateChange}\r\n                  />\r\n                )\r\n\r\n\r\n                  : this.props.Login.screenName === \"IDS_WORKLISTSAMPLE\" ? (\r\n                    <AddWorklistSample\r\n                      selectionChange={this.selectionChange}\r\n                      headerSelectionChange={this.headerSelectionChange}\r\n                      addComponentDataLists={this.state.addComponentDataList || []}\r\n                      addSelectAll={this.state.addSelectAll}\r\n                      //onNumericInputOnChange={this.onNumericInputOnChange}\r\n                      selectedRecord={this.props.Login.selectedRecord || {}}\r\n                      onInputOnChange={this.onInputOnChange}\r\n                      onComboChange={this.onComboChange}\r\n                      TestValue={this.props.Login.Test}\r\n                      userInfo={this.props.Login.userInfo}\r\n                      handleDateChange={this.handleDateChange}\r\n                      dataResult={this.state.dataResult ? this.state.dataResult : process(this.state.addComponentDataList || [], this.state.dataState\r\n                        ? this.state.dataState : { skip: 0, take: 10 })}\r\n                      dataState={this.state.dataState\r\n                        ? this.state.dataState : { skip: 0, take: 10 }}\r\n                      dataStateChangeWorklistSample={this.dataStateChangeWorklistSample}\r\n                      nneedsubsample={this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nneedsubsample}\r\n                      addSaveDataGrid={this.addSaveDataGrid}\r\n                      addComponentSortedList={this.state.addComponentSortedList || []}\r\n                      handleClickDelete={this.handleClickDelete}\r\n                      childDataChange={this.childDataChange}\r\n                    />\r\n                  )\r\n                    : this.props.Login.screenName === \"IDS_PREVIOUSRESULTVIEW\" ? (\r\n                      <>\r\n\r\n                        <Card className='one' >\r\n                          <Card.Body>\r\n                            <SpecificationInfo\r\n                              controlMap={this.state.controlMap}\r\n                              auditInfoFields={auditInfoFields}\r\n                              userRoleControlRights={this.state.userRoleControlRights}\r\n                              selectedSpecification={this.props.Login.masterData.viewdetails}\r\n                              userInfo={this.props.Login.userInfo}\r\n                              selectedNode={this.props.Login.masterData.selectedNode}\r\n                              selectedRecord={this.state.filterData}\r\n                              approvalRoleActionDetail={this.props.Login.masterData.ApprovalRoleActionDetail}\r\n                              screenName=\"IDS_PREVIOUSRESULTVIEW\"\r\n\r\n                            />\r\n                          </Card.Body>\r\n                        </Card>\r\n                        <br></br>\r\n                        <DataGrid\r\n                          primaryKeyField={\"ntransactiontestcode\"}\r\n                          data={this.props.Login.masterData.AuditModifiedComments || []}\r\n                          detailedFieldList={this.feildsForGrid}\r\n                          extractedColumnList={this.feildsForGrid}\r\n                          dataResult={this.props.Login.masterData.AuditModifiedComments && this.props.Login.masterData.AuditModifiedComments.length > 0\r\n                            && process(this.props.Login.masterData.AuditModifiedComments, this.state.dataState ? this.state.dataState : { skip: 0, take: 10 })}\r\n                          //dataState={{ skip: 0, take: 10 }}\r\n                          dataState={this.state.dataState\r\n                            ? this.state.dataState : { skip: 0, take: 10 }}\r\n                          selectionChange={this.selectionChange}\r\n                          headerSelectionChange={this.headerSelectionChange}\r\n                          pageable={true}\r\n                          scrollable={'scrollable'}\r\n                          dataStateChange={this.dataStateChange}\r\n\r\n                        />\r\n                      </>\r\n                    ) : (\r\n                      \"\"\r\n                    )\r\n            }\r\n          />\r\n\r\n        )}\r\n\r\n        {this.state.showConfirmAlert ? this.confirmAlert() : \"\"}\r\n        {/* //Ate234 janakumar ALPD-5000 Work List -> To get previously saved filter details when click the filter name \r\n          //ALPD-4912-To show the add popup to get input of filter name,done by Dhanushya RI\r\n        */}\r\n\r\n        {this.props.Login.modalShow ? ( \r\n          <ModalShow\r\n            modalShow={this.props.Login.modalShow}\r\n            closeModal={this.closeModalShow}\r\n            onSaveClick={this.onSaveModalFilterName}\r\n            validateEsign={this.validateEsign}\r\n            masterStatus={this.props.Login.masterStatus}\r\n            mandatoryFields={mandatoryFieldsFilter}\r\n            updateStore={this.props.updateStore}\r\n            selectedRecord={this.state.selectedRecord || {}}\r\n            modalTitle={this.props.Login.modalTitle}\r\n            modalBody={\r\n              this.props.Login.loadEsign ?\r\n                <Esign\r\n                  operation={this.props.Login.operation}\r\n                  onInputOnChange={this.onEsignInputOnChange}\r\n                  inputParam={this.props.Login.inputParam}\r\n                  selectedRecord={this.state.selectedRecord || {}}\r\n                />\r\n                :\r\n                this.props.Login && this.props.Login.isFilterDetail ?\r\n                <Col md={12}>\r\n                  <FormTextarea\r\n                    label={this.props.intl.formatMessage({ id: \"IDS_FILTERNAME\" })}\r\n                    name={\"sfiltername\"}\r\n                    // type=\"text\"\r\n                    onChange={this.onInputOnChange}\r\n                    placeholder={this.props.intl.formatMessage({ id: \"IDS_FILTERNAME\" })}\r\n                    value={this.state.selectedRecord ? this.state.selectedRecord.sfiltername : \"\"}\r\n                    isMandatory={true}\r\n                    required={true}\r\n                    maxLength={\"50\"}\r\n                  />\r\n                </Col>\r\n                :\"\"\r\n            }\r\n          />\r\n        )\r\n          : (\r\n            \"\"\r\n          )}\r\n      </>\r\n    );\r\n  }\r\n\r\n  \t//Ate234 janakumar ALPD-5000 Work List -> To get previously saved filter details when click the filter name\r\n  clickFilterDetail = (value) => {\r\n    //  if(this.props.Login.nfilternamecode!==value.nfilternamecode){\r\n    this.searchRef.current.value = \"\";\r\n    this.props.Login.change = false\r\n    let masterData = this.props.Login.masterData\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n\r\n    let inputData = {\r\n      userinfo: this.props.Login.userInfo,\r\n      FromDate: obj.fromDate,\r\n      ToDate: obj.toDate,\r\n      nfilternamecode: value && value.nfilternamecode ? value.nfilternamecode : -1,\r\n      npreregno: \"0\",\r\n      sampletypecode: (this.props.Login.masterData.RealSampleTypeValue && this.props.Login.masterData.RealSampleTypeValue.nsampletypecode) || -1,\r\n      regtypecode: parseInt(this.props.Login.masterData.realRegTypeValue && this.props.Login.masterData.realRegTypeValue.nregtypecode) || -1,\r\n      regsubtypecode: parseInt(this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nregsubtypecode) || -1,\r\n      approvalconfigurationcode: this.props.Login.masterData.realApprovalVersionValue ? this.props.Login.masterData.realApprovalVersionValue.napprovalconfigcode || -1 : null,\r\n      napprovalversioncode: this.props.Login.masterData.realApprovalVersionValue && this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode ? String(this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode) : -1,\r\n      userinfo: this.props.Login.userInfo,\r\n      designtemplatcode: (this.props.Login.masterData.realDesignTemplateMappingValue && this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode) || -1,\r\n      //ntranscode: this.props.Login.masterData.defaultFilterStatusValue && this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus,         \r\n      ntranscode: this.props.Login.masterData.FilterStatusValue.ntransactionstatus === 0 ? this.props.Login.masterData.FilterStatusValue.ntransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\r\n    }\r\n    const inputParam = {\r\n      masterData, inputData\r\n\r\n    }\r\n    this.props.getWorklistFilterDetails(inputParam);\r\n    // }\r\n    // else{\r\n    //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDFILTERALREADYLOADED\" }));  \r\n    // }\r\n  }\r\n\r\n  //ALPD-4878 To open the save popup of filtername,done by Dhanushya RI\r\n  //Ate234 janakumar ALPD-5000 Work List -> To get previously saved filter details when click the filter name\r\n  openFilterName = () => {\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { modalShow: true, operation: \"create\", isFilterDetail: true, modalTitle: this.props.intl.formatMessage({ id: \"IDS_SAVEFILTER\" }) }\r\n    }\r\n    this.props.updateStore(updateInfo);\r\n  }\r\n\r\n\t\t//Ate234 janakumar ALPD-5000 Work List -> To get previously saved filter details when click the filter name\r\n  onSaveModalFilterName = () => {\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n\r\n    const masterData = this.props.Login.masterData;\r\n\r\n    let inputData = {\r\n      userinfo: this.props.Login.userInfo,\r\n      dfrom: obj.fromDate,\r\n      dto: obj.toDate,\r\n      sfiltername: this.state.selectedRecord && this.state.selectedRecord.sfiltername !== null\r\n        ? this.state.selectedRecord.sfiltername : \"\",\r\n      sampleTypeValue: this.props.Login.masterData && this.props.Login.masterData.RealSampleTypeValue,\r\n      regTypeValue: this.props.Login.masterData && this.props.Login.masterData.realRegTypeValue,\r\n      regSubTypeValue: this.props.Login.masterData && this.props.Login.masterData.realRegSubTypeValue,\r\n      filterStatusValue: this.props.Login.masterData && this.props.Login.masterData.RealFilterStatusValue,\r\n      approvalConfigValue: this.props.Login.masterData && this.props.Login.masterData.realApprovalVersionValue,\r\n      designTemplateMappingValue: this.props.Login.masterData && this.props.Login.masterData.realDesignTemplateMappingValue,\r\n      npreregno: \"0\",\r\n      nsampletypecode: (this.props.Login.masterData.RealSampleTypeValue && this.props.Login.masterData.RealSampleTypeValue.nsampletypecode) || -1,\r\n      nregtypecode: parseInt(this.props.Login.masterData.realRegTypeValue && this.props.Login.masterData.realRegTypeValue.nregtypecode) || -1,\r\n      nregsubtypecode: parseInt(this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nregsubtypecode) || -1,\r\n      //ntranscode: ((this.props.Login.masterData.realFilterStatusValue && this.props.Login.masterData.realFilterStatusValue.ntransactionstatus !== undefined) || this.props.Login.masterData.FilterStatusValue.ntransactionstatus !== '0') ? String(this.props.Login.masterData.FilterStatusValue.ntransactionstatus) + ',' + String(transactionStatus.worklist) : \"-1\",\r\n      // ntranscode: this.props.Login.masterData.FilterStatusValue\r\n      //  && (this.props.Login.masterData.FilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\"'\",\",\",\",\") : \"'\",this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\"'\"),\r\n      // //ntranscode: this.props.Login.masterData.defaultFilterStatusValue && this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus,         \r\n      ntransactionstatusfilter: this.props.Login.masterData.FilterStatusValue.ntransactionstatus === 0 ? this.props.Login.masterData.FilterStatus.map(item => `${item.ntransactionstatus}`).join(\",\"):`${this.props.Login.masterData.FilterStatusValue.ntransactionstatus}`,\r\n      ntranscode: this.props.Login.masterData.FilterStatusValue.ntransactionstatus === 0 ? this.props.Login.masterData.FilterStatusValue.ntransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\r\n      napprovalconfigcode: this.props.Login.masterData.realApprovalVersionValue ? this.props.Login.masterData.realApprovalVersionValue.napprovalconfigcode || -1 : null,\r\n      napproveconfversioncode: this.props.Login.masterData.realApprovalVersionValue && this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode ? this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode : -1,\r\n      userinfo: this.props.Login.userInfo,\r\n      ndesigntemplatemappingcode: (this.props.Login.masterData.realDesignTemplateMappingValue && this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode) || -1,\r\n      needExtraKeys: true,\r\n    }\r\n\r\n    let inputParam = {\r\n      classUrl: this.props.Login.inputParam.classUrl,\r\n      methodUrl: \"FilterName\",\r\n      inputData: inputData,\r\n      operation: this.props.Login.operation,\r\n    };\r\n    if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1\r\n      && inputData.ntransactionstatus !== \"-1\" && inputData.napprovalconfigcode !== -1 && inputData.napprovalversioncode !== \"-1\"\r\n      ) {\r\n\r\n      this.props.crudMaster(inputParam, masterData, \"modalShow\");\r\n\r\n\r\n    } else {\r\n      toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }))\r\n    }\r\n  }\r\n\r\n\r\n  onTabChange = (tabProps) => {\r\n    const screenName = tabProps.screenName;\r\n    if (screenName == \"IDS_WORKLISTHISTORY\") {\r\n      let inputData = {\r\n        masterData: this.props.Login.masterData,\r\n        userInfo: this.props.Login.userInfo,\r\n        nworklistcode: this.props.Login.masterData.selectedWorklist.nworklistcode\r\n      }\r\n      this.props.getWorklisthistoryAction(inputData, true);\r\n    } else {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: { screenName, activeKey: \"IDS_WORKLISTSAMPLE\" }\r\n      }\r\n\r\n      this.props.updateStore(updateInfo);\r\n\r\n    }\r\n  };\r\n\r\n\r\n  // dataStateChange = (event) => {\r\n  //   this.setState({\r\n  //     dataResult: process(\r\n  //       this.props.Login.masterData[\"selectedSection\"],\r\n  //       event.dataState\r\n  //     ),\r\n  //     sectionDataState: event.dataState,\r\n  //   });\r\n  // };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  reloadData = () => {\r\n    this.searchRef.current.value = \"\";\r\n    this.props.Login.masterData.searchedData = undefined;\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromdate, this.props.Login.masterData.todate, this.props.Login.userInfo)\r\n    let realFromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\r\n    let realToDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\r\n\r\n    let defaultSampleTypeValue = this.props.Login.masterData.defaultSampleTypeValue\r\n    let defaultRegTypeValue = this.props.Login.masterData.defaultRegTypeValue\r\n    let defaultRegSubTypeValue = this.props.Login.masterData.defaultRegSubTypeValue\r\n    let defaultFilterStatusValue = this.props.Login.masterData.defaultFilterStatusValue\r\n    let defaultApprovalVersionValue = this.props.Login.masterData.defaultApprovalVersion\r\n    let defaultApprovalVersion = this.props.Login.masterData.defaultApprovalVersionValue\r\n    let masterData = { ...this.props.Login.masterData, realFromDate, realToDate, defaultSampleTypeValue, defaultRegTypeValue, defaultRegSubTypeValue, defaultFilterStatusValue, defaultApprovalVersionValue }\r\n    let inputData = {\r\n      nsampletypecode: (this.props.Login.masterData.defaultSampleTypeValue && this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode) || -1,\r\n      nregtypecode: parseInt(this.props.Login.masterData.defaultRegTypeValue && this.props.Login.masterData.defaultRegTypeValue.nregtypecode) || -1,\r\n      nregsubtypecode: parseInt(this.props.Login.masterData.defaultRegSubTypeValue && this.props.Login.masterData.defaultRegSubTypeValue.nregsubtypecode) || -1,\r\n      //  ntransactionstatus: (this.props.Login.masterData.defaultFilterStatusValue && this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus) || -1,\r\n      ntransactionstatus: (this.props.Login.masterData.defaultFilterStatusValue && this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus) || -1,\r\n\r\n      userinfo: this.props.Login.userInfo,\r\n      napprovalconfigversioncode: (this.props.Login.masterData.defaultApprovalVersionValue && this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode) || -1,\r\n\r\n    }\r\n    if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1 && inputData.napprovalconfigversioncode !== -1 && inputData.ntransactionstatus !== \"-1\") {\r\n\r\n      inputData['fromdate'] = obj.fromDate;\r\n      inputData['todate'] = obj.toDate;\r\n      inputData['ndesigntemplatemappingcode'] = this.props.Login.masterData.ndesigntemplatemappingcode;\r\n      let inputParam = {\r\n        masterData,\r\n        inputData,\r\n        searchTestRef: this.searchTestRef,\r\n        skip: this.state.skip,\r\n        take: this.state.take,\r\n        testskip: this.state.testskip,\r\n        testtake: this.state.testtake,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n\r\n\r\n      }\r\n      this.props.getWorklistDetailFilter(inputParam)\r\n    } else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }))\r\n    }\r\n  };\r\n\r\n\r\n\r\n  ConfirmDelete = (operation, deleteId) => {\r\n    this.confirmMessage.confirm(\r\n      \"deleteMessage\",\r\n      this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n      () =>\r\n        this.DeleteWorklist(\r\n          operation,\r\n          deleteId,\r\n          operation.screenName ? operation.screenName : \"IDS_WORKLIST\"\r\n        )\r\n    );\r\n  };\r\n\r\n\r\n\r\n  DeleteWorklist = (operation, ncontrolCode) => {\r\n    let inputData = [];\r\n\r\n    inputData[\"worklist\"] = this.props.Login.masterData.selectedWorklist;\r\n    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromdate, this.props.Login.masterData.todate, this.props.Login.userInfo)\r\n    inputData['fromdate'] = obj.fromDate;\r\n    inputData['todate'] = obj.toDate;\r\n    inputData['ndesigntemplatemappingcode'] = this.props.Login.masterData.ndesigntemplatemappingcode;\r\n    inputData[\"napprovalconfigversioncode\"] = (this.props.Login.masterData.defaultApprovalVersionValue && this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode)\r\n    inputData[\"ntransactionstatus\"] = (this.props.Login.masterData.defaultFilterStatusValue && this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus) || -1\r\n    const postParam = {\r\n      inputListName: \"Worklist\",\r\n      selectedObject: \"selectedWorklist\",\r\n      primaryKeyField: \"nworklistcode\",\r\n      primaryKeyValue:\r\n        this.props.Login.masterData.selectedWorklist.nworklistcode,\r\n      fetchUrl: \"worklist/getWorklistSelectSample\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo, ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode, nneedsampleandhistory: transactionStatus.YES },\r\n    };\r\n\r\n    const inputParam = {\r\n      methodUrl: \"Worklist\",\r\n      postParam,\r\n      classUrl: this.props.Login.inputParam.classUrl,\r\n      inputData: inputData,\r\n      operation: operation.operation,\r\n    };\r\n    const masterData = this.props.Login.masterData;\r\n    if (\r\n      showEsign(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode,\r\n        ncontrolCode\r\n      )\r\n    ) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true,\r\n          screenData: { inputParam, masterData },\r\n          openModal: true,\r\n          screenName: \"Worklist\",\r\n          operation: operation.operation,\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n      this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n    }\r\n\r\n  };\r\n\r\n\r\n\r\n  onApproveClick = () => {\r\n\r\n\r\n    //onClick={() => this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, approvalId)}\r\n    //if (this.props.Login.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.DRAFT) {\r\n    const ncontrolCode = this.state.controlMap.has(\"GenerateWorklist\") && this.state.controlMap.get(\"GenerateWorklist\").ncontrolcode\r\n    let inputData = [];\r\n    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    const masterData = this.props.Login.masterData;\r\n    // //add               \r\n    let postParam = undefined;\r\n    inputData[\"worklist\"] = masterData.selectedWorklist;\r\n    inputData[\"ncontrolCode\"] = ncontrolCode;\r\n    inputData[\"ndesigntemplatemappingcode\"] = masterData.ndesigntemplatemappingcode;\r\n    inputData[\"ntransactionstatus\"] = (this.props.Login.masterData.defaultFilterStatusValue && this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus) || -1;\r\n\r\n    // inputData[\"supplier\"] = this.props.Login.masterData.SelectedSupplier;\r\n    postParam = {\r\n      inputListName: \"Worklist\",\r\n      selectedObject: \"selectedWorklist\",\r\n      primaryKeyField: \"nworklistcode\",\r\n      primaryKeyValue:\r\n        this.props.Login.masterData.selectedWorklist.nworklistcode,\r\n      fetchUrl: \"worklist/getWorklistSelectSample\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo, ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode, nneedsampleandhistory: transactionStatus.YES },\r\n    };\r\n    const inputParam = {\r\n      classUrl: 'worklist',\r\n      methodUrl: \"Worklist\",\r\n      inputData: inputData,\r\n      operation: \"prepare\", postParam\r\n    }\r\n    let saveType;\r\n\r\n\r\n\r\n    const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\r\n    if (esignNeeded) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"prepare\", screenName: \"Worklist\"\r\n        }\r\n      }\r\n      this.props.updateStore(updateInfo);\r\n    }\r\n    else {\r\n      //this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n      this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, ncontrolCode)\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  onComboChange = (comboData, fieldName, caseNo) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n\r\n    if (comboData !== null) {\r\n      switch (caseNo) {\r\n        case 1:\r\n          if (selectedRecord[fieldName] && selectedRecord[fieldName].value !== comboData.value) {\r\n            delete selectedRecord[\"ntestcode\"]\r\n          }\r\n          selectedRecord[fieldName] = comboData;\r\n          //this.setState({selectedRecord});\r\n          this.props.getSectionbaseTest(selectedRecord, this.props.Login.userInfo, this.props.Login.masterData, this.props.Login.ncontrolCode)\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    else {\r\n      if (selectedRecord[\"nsectioncode\"]) {\r\n        delete selectedRecord[\"nsectioncode\"];\r\n        delete selectedRecord[\"nusercode\"];\r\n\r\n      }\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: { selectedRecord }\r\n      }\r\n      this.props.updateStore(updateInfo);\r\n    }\r\n  };\r\n\r\n  closeModal = () => {\r\n    let loadEsign = this.props.Login.loadEsign;\r\n    let openModal = this.props.Login.openModal;\r\n    let modalShow = this.props.Login.modalShow;\r\n    let selectedRecord = this.props.Login.selectedRecord;\r\n    let openChildModal = this.props.Login.openChildModal;\r\n   // let isFilterDetail = this.props.Login.isFilterDetail;\r\n\r\n    if (this.props.Login.loadEsign) {\r\n      if ((this.props.Login.operation.operation ? this.props.Login.operation.operation : this.props.Login.operation) === \"delete\") {\r\n        loadEsign = false;\r\n        openModal = false;\r\n        openChildModal = false;\r\n        selectedRecord = {};\r\n      } else {\r\n        loadEsign = false;\r\n        // selectedRecord[\"agree\"] = transactionStatus.NO;\r\n        selectedRecord['esignpassword'] = \"\"\r\n        selectedRecord['esigncomments'] = \"\"\r\n        selectedRecord['esignreason'] = \"\"\r\n\t\t//ALPD-5674--Added by Vignesh R(10-04-2025)-->ETICA Worklist --> Blank page occurs when cancel the esign.\r\n        modalShow = false;\r\n        openModal = false;\r\n        openChildModal = false;\r\n\r\n      }\r\n    } else {\r\n      openModal = false;\r\n      modalShow = false;\r\n    //  isFilterDetail=false;\r\n      openChildModal = false;\r\n      selectedRecord = {};\r\n    }\r\n\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { openModal, modalShow, loadEsign, selectedRecord, selectedId: null, openChildModal },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n\r\n\r\n  viewSample = (viewdetails) => {\r\n    //let openModal = this.props.Login.openModal;\r\n    //let openModal = true;\r\n    //let screenName = 'IDS_VIEWDETAILS'\r\n\r\n    this.props.ViewSampleDetails(this.props.Login.masterData, \"IDS_PREVIOUSRESULTVIEW\", this.props.Login.userInfo, viewdetails);\r\n  };\r\n\r\n  closeModalShow = () => {\r\n    let loadEsign = this.props.Login.loadEsign;\r\n\r\n    let modalShow = this.props.Login.modalShow;\r\n    let selectedRecord = this.props.Login.selectedRecord;\r\n    if (this.props.Login.loadEsign) {\r\n      loadEsign = false;\r\n    } else {\r\n      modalShow = false;\r\n      selectedRecord = {};\r\n    }\r\n\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { modalShow, selectedRecord, selectedId: null, loadEsign },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  componentDidUpdate(previousProps) {\r\n    let updateState = false;\r\n    let {\r\n      selectedRecord, addedComponentList,\r\n      userRoleControlRights,\r\n      controlMap,\r\n      filterData,\r\n      nfilterInstrumentCategory,\r\n      filterInstrumentCategory, RegistrationSubTypeList, FilterStatusList, SampletypeList,\r\n      RegistrationTypeList, DynamicGridItem, DynamicGridMoreItem, ConfigVersionList, subsampleGridItem, sampleGridItem, testGridItem = [], samplegridmoreitem, testGridItems\r\n      , addSelectAll, deleteSelectAll } = this.state;\r\n    if (\r\n      this.props.Login.selectedRecord !== previousProps.Login.selectedRecord\r\n    ) {\r\n      selectedRecord = this.props.Login.selectedRecord;\r\n      updateState = true;\r\n    }\r\n    if (\r\n      this.props.Login.userInfo.nformcode !==\r\n      previousProps.Login.userInfo.nformcode\r\n    ) {\r\n      userRoleControlRights = [];\r\n      if (this.props.Login.userRoleControlRights) {\r\n        this.props.Login.userRoleControlRights[\r\n          this.props.Login.userInfo.nformcode\r\n        ] &&\r\n          Object.values(\r\n            this.props.Login.userRoleControlRights[\r\n            this.props.Login.userInfo.nformcode\r\n            ]\r\n          ).map((item) => userRoleControlRights.push(item.ncontrolcode));\r\n      }\r\n      controlMap = getControlMap(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode\r\n      );\r\n      updateState = true;\r\n    }\r\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n      const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", \"nsorter\", 'ascending', 'nregsubtypecode', false);\r\n      RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n\r\n      const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationType || [], \"nregtypecode\", \"sregtypename\", \"nsorter\", 'ascending', 'nregtypecode', false);\r\n      RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n\r\n      const FilterStatusListMap = constructOptionList(this.props.Login.masterData.FilterStatus || [], \"ntransactionstatus\", \"stransdisplaystatus\", undefined, undefined, false);\r\n      FilterStatusList = FilterStatusListMap.get(\"OptionList\");\r\n\r\n      const SampletypeListMap = constructOptionList(this.props.Login.masterData.SampleType || [], \"nsampletypecode\", \"ssampletypename\", 'ascending', 'nsampletypecode', false);\r\n      SampletypeList = SampletypeListMap.get(\"OptionList\");\r\n      const ConfigVersionListMap = constructOptionList(this.props.Login.masterData.ApprovalConfigVersion || [], \"napprovalconfigversioncode\", \"sversionname\", 'descending', 'ntransactionstatus', false);\r\n      ConfigVersionList = ConfigVersionListMap.get(\"OptionList\");\r\n      nfilterInstrumentCategory = this.state.nfilterInstrumentCategory || {};\r\n      addSelectAll = false;\r\n      deleteSelectAll = true;\r\n      if (\r\n        this.props.Login.masterData.SelectedInsCat &&\r\n        this.props.Login.masterData.SelectedInsCat !==\r\n        previousProps.Login.masterData.SelectedInsCat\r\n      ) {\r\n        nfilterInstrumentCategory = {\r\n          label: this.props.Login.masterData.SelectedInsCat.stestsynonym,\r\n          value: this.props.Login.masterData.SelectedInsCat.ntestcode,\r\n          item: this.props.Login.masterData.SelectedInsCat,\r\n        };\r\n      }\r\n      filterData = this.generateBreadCrumData();\r\n      updateState = true;\r\n    }\r\n\r\n    if (this.props.Login.masterData.DynamicDesign && this.props.Login.masterData.DynamicDesign !== previousProps.Login.masterData.DynamicDesign) {\r\n      const dynamicColumn = JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata.value)\r\n\r\n\r\n      testGridItem[0] = dynamicColumn.testListFields.releasetestfields[0] ? dynamicColumn.testListFields.releasetestfields[0] : [];\r\n      sampleGridItem = dynamicColumn.samplegriditem ? dynamicColumn.samplegriditem : [];\r\n      subsampleGridItem = dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [];\r\n      testGridItems = dynamicColumn.testListFields.testlistitem ? dynamicColumn.testListFields.testlistitem : [];\r\n      //testGridItem= dynamicColumn.conditionfields ? dynamicColumn.conditionfields : [];\r\n\r\n      DynamicGridItem = [...sampleGridItem, ...subsampleGridItem, ...testGridItems.slice(1), ...testGridItem]\r\n      samplegridmoreitem = dynamicColumn.samplegridmoreitem ? dynamicColumn.samplegridmoreitem : [];\r\n      DynamicGridMoreItem = [...samplegridmoreitem]\r\n      //DynamicGridItem.push(dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [])\r\n    }\r\n\r\n\r\n    if (\r\n      this.props.Login.masterData.filterInstrumentCategory !==\r\n      previousProps.Login.masterData.filterInstrumentCategory\r\n    ) {\r\n      const insCategoryMap = constructOptionList(\r\n        this.props.Login.masterData.filterInstrumentCategory || [],\r\n        \"ntestcode\",\r\n        \"stestsynonym\",\r\n        \"ntestcategorycode\",\r\n        \"ascending\",\r\n        false\r\n      );\r\n      filterInstrumentCategory = insCategoryMap.get(\"OptionList\");\r\n      if (insCategoryMap.get(\"DefaultValue\")) {\r\n        nfilterInstrumentCategory = insCategoryMap.get(\"DefaultValue\");\r\n      } else if (\r\n        filterInstrumentCategory &&\r\n        filterInstrumentCategory.length > 0\r\n      ) {\r\n        nfilterInstrumentCategory = filterInstrumentCategory[0];\r\n      }\r\n      updateState = true;\r\n    }\r\n\r\n\r\n    // let updateState = false;\r\n    let updateStateObject = {};\r\n    if (this.props.Login.addedComponentList !== previousProps.Login.addedComponentList) {\r\n\r\n      addSelectAll = false;\r\n      deleteSelectAll = true;\r\n\r\n      this.setState({\r\n        addedComponentList: this.props.Login.addedComponentList,\r\n        addSelectAll, deleteSelectAll\r\n      });\r\n    }\r\n\r\n    if (this.props.addedComponentList !== previousProps.addedComponentList) {\r\n      // this.setState({ addedComponentList : this.props.addedComponentList});\r\n      updateState = true;\r\n      updateStateObject = { ...updateStateObject, addedComponentList: this.props.addedComponentList };\r\n    }\r\n\r\n    if (this.props.Login.dataState !== previousProps.Login.dataState) {\r\n      if (this.props.Login.dataState) {\r\n        delete (this.props.Login.dataState.filter)\r\n        delete (this.props.Login.dataState.sort)\r\n        this.setState({ dataState: this.props.Login.dataState });\r\n      }\r\n    }\r\n\r\n    if (this.props.Login.masterData.addComponentDataList !== previousProps.Login.masterData.addComponentDataList) {\r\n      this.setState({ addComponentDataList: this.props.Login.masterData.addComponentDataList });\r\n    }\r\n    if (this.props.Login.addComponentSortedList !== previousProps.Login.addComponentSortedList) {\r\n      this.setState({ addComponentSortedList: this.props.Login.addComponentSortedList,isInitialRender:true });\r\n    }\r\n    //ADDed by Neeraj-ALPD-5136\r\n    //WorkList Screen -> Including filter in Data selection Kendo Grid\r\n    if (this.props.Login.masterData.WorklistSamples !== previousProps.Login.masterData.WorklistSamples) {\r\n      let worklistSamplesList = this.props.Login.masterData.WorklistSamples || []\r\n      let updatedSortedList = worklistSamplesList.sort((a, b) => {\r\n        const A = a.nworklistsamplecode;\r\n        const B = b.nworklistsamplecode; // Corrected from 'a' to 'b'\r\n\r\n        return A - B; // Sort in ascending order\r\n      });\r\n      this.setState({ WorklistSamples: updatedSortedList });\r\n    }\r\n\r\n\r\n    if (updateState) {\r\n      this.setState({\r\n        selectedRecord,\r\n        userRoleControlRights,\r\n        controlMap,\r\n        filterData,\r\n        nfilterInstrumentCategory,\r\n        filterInstrumentCategory, RegistrationSubTypeList, FilterStatusList, SampletypeList,\r\n        RegistrationTypeList, DynamicGridItem, ConfigVersionList, DynamicGridMoreItem, addSelectAll, deleteSelectAll\r\n      });\r\n    }\r\n  }\r\n\r\n  generateBreadCrumData() {\r\n    //obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n\r\n    const breadCrumbData = [];\r\n    if (this.props.Login.masterData && this.props.Login.masterData.Worklist) {\r\n      const obj = convertDateValuetoString(this.props.Login.masterData.fromdate, this.props.Login.masterData.todate, this.props.Login.userInfo)\r\n\r\n      breadCrumbData.push({\r\n\r\n        \"label\": \"IDS_FROM\",\r\n        \"value\": obj.breadCrumbFrom\r\n      }, {\r\n        \"label\": \"IDS_TO\",\r\n        \"value\": obj.breadCrumbto\r\n      },\r\n        // {\r\n        //   \"label\": \"IDS_SAMPLETYPE\",\r\n        //   \"value\": this.props.Login.masterData.defaultSampleTypeValue ? this.props.Login.masterData.defaultSampleTypeValue.ssampletypename || \"NA\" :\r\n        //     this.props.Login.masterData.defaultSampleTypeValue ? this.props.Login.masterData.defaultSampleTypeValue.ssampletypename || \"NA\" : \"NA\"\r\n        // },\r\n        {\r\n          \"label\": \"IDS_REGTYPE\",\r\n          \"value\": this.props.Login.masterData.defaultRegTypeValue ? this.props.Login.masterData.defaultRegTypeValue.sregtypename || \"NA\" :\r\n            this.props.Login.masterData.defaultRegTypeValue ? this.props.Login.masterData.defaultRegTypeValue.sregtypename || \"NA\" : \"NA\"\r\n        }, {\r\n        \"label\": \"IDS_REGSUBTYPE\",\r\n        \"value\": this.props.Login.masterData.defaultRegSubTypeValue ? this.props.Login.masterData.defaultRegSubTypeValue.sregsubtypename || \"NA\" :\r\n          this.props.Login.masterData.defaultRegSubTypeValue ?\r\n            this.props.Login.masterData.defaultRegSubTypeValue.sregsubtypename : \"NA\"\r\n      },\r\n\r\n        // {\r\n        //   \"label\": \"IDS_CONFIGVERSION\",\r\n        //   \"value\": this.props.Login.masterData.defaultApprovalVersion ?\r\n        //     this.props.Login.masterData.defaultApprovalVersion.sversionname || \"NA\" :\r\n        //     this.props.Login.masterData.defaultApprovalVersion ? this.props.Login.masterData.defaultApprovalVersion.sversionname || \"NA\" : \"NA\"\r\n        // },\r\n\r\n\r\n        {\r\n          \"label\": \"IDS_WORKLISTSTATUS\",\r\n          \"value\": this.props.Login.masterData.defaultFilterStatusValue ?\r\n            this.props.Login.masterData.defaultFilterStatusValue.stransdisplaystatus || \"NA\" :\r\n            this.props.Login.masterData.defaultFilterStatusValue ?\r\n              this.props.Login.masterData.defaultFilterStatusValue.stransdisplaystatus || \"NA\" : \"NA\"\r\n        }\r\n        //];\r\n      );\r\n    }\r\n    return breadCrumbData;\r\n  }\r\n\r\n  openFilter = () => {\r\n    let showFilter = !this.props.Login.showFilter;\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  closeFilter = () => {\r\n    let inputValues = {\r\n      RegistrationSubType: this.props.Login.masterData.realRegistrationSubTypeList || [],\r\n      RegistrationType: this.props.Login.masterData.realRegistrationTypeList || [],\r\n      FilterStatus: this.props.Login.masterData.realFilterStatusList || [],\r\n      SampleType: this.props.Login.masterData.realSampleTypeList || [],\r\n      ApprovalConfigVersion: this.props.Login.masterData.realApprovalConfigVersionList || [],\r\n      FilterStatusValue: this.props.Login.masterData.RealFilterStatusValue || {},\r\n      ApprovalVersionValue: this.props.Login.masterData.realApprovalVersionValue || {},\r\n      RegSubTypeValue: this.props.Login.masterData.realRegSubTypeValue || {},\r\n      RegTypeValue: this.props.Login.masterData.realRegTypeValue || {},\r\n      SampleTypeValue: this.props.Login.masterData.RealSampleTypeValue || {},\r\n      fromDate: this.props.Login.masterData.fromdate || new Date(),// ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date(),\r\n      toDate: this.props.Login.masterData.todate || new Date(),// ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date(),\r\n      defaultSampleTypeValue: this.props.Login.masterData.RealSampleTypeValue || {},\r\n      defaultApprovalVersionValue: this.props.Login.masterData.realApprovalVersionValue || {},\r\n\r\n    }\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter: false, masterData: { ...this.props.Login.masterData, ...inputValues } },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  //Ate234 janakumar ALPD-5000 Work List -> To get previously saved filter details when click the filter name\r\n  onFilterSubmit = () => {\r\n    this.searchRef.current.value = \"\";\r\n\r\n    this.props.Login.masterData.searchedData = undefined;\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n\r\n    let realFromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\r\n    let realToDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\r\n    let fromdate = this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date();\r\n    let todate = this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date();\r\n\r\n    let defaultSampleTypeValue = this.props.Login.masterData.defaultSampleTypeValue\r\n    let defaultRegTypeValue = this.props.Login.masterData.RegTypeValue\r\n    let defaultRegSubTypeValue = this.props.Login.masterData.RegSubTypeValue\r\n    let defaultFilterStatusValue = this.props.Login.masterData.FilterStatusValue\r\n    let defaultApprovalVersion = this.props.Login.masterData.defaultApprovalVersionValue\r\n    let RealSampleTypeValue = this.props.Login.masterData.defaultSampleTypeValue\r\n    let realApprovalVersionValue = this.props.Login.masterData.defaultApprovalVersionValue\r\n    let realRegTypeValue = this.props.Login.masterData.RegTypeValue\r\n    let realRegSubTypeValue = this.props.Login.masterData.RegSubTypeValue\r\n    let RealFilterStatusValue = this.props.Login.masterData.FilterStatusValue\r\n    let realApprovalConfigVersionList = this.props.Login.masterData.ApprovalConfigVersion\r\n    let realFilterStatusList = this.props.Login.masterData.FilterStatus\r\n    let realRegistrationTypeList = this.props.Login.masterData.RegistrationType\r\n    let realRegistrationSubTypeList = this.props.Login.masterData.RegistrationSubType\r\n    let masterData = {\r\n      ...this.props.Login.masterData, realFromDate, realToDate,\r\n      defaultSampleTypeValue, defaultRegTypeValue, defaultRegSubTypeValue, defaultFilterStatusValue, defaultApprovalVersion,\r\n      fromdate, todate, RealSampleTypeValue, realApprovalVersionValue, realRegTypeValue, realRegSubTypeValue, RealFilterStatusValue, realApprovalConfigVersionList,\r\n      realFilterStatusList, realRegistrationTypeList, realRegistrationSubTypeList\r\n    };\r\n\r\n    let inputData = {\r\n      //npreregno: \"0\",\r\n      nsampletypecode: (this.props.Login.masterData.defaultSampleTypeValue && this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode) || -1,\r\n      nregtypecode: parseInt(this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue.nregtypecode) || -1,\r\n      nregsubtypecode: parseInt(this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) || -1,\r\n      //ntransactionstatus: (this.props.Login.masterData.FilterStatusValue && this.props.Login.masterData.FilterStatusValue.ntransactionstatus) || -1,\r\n      ntransactionstatus: this.props.Login.masterData.FilterStatusValue\r\n        && (this.props.Login.masterData.FilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : this.props.Login.masterData.FilterStatusValue.ntransactionstatus),\r\n\r\n      ntranscode: this.props.Login.masterData.FilterStatusValue\r\n        && (this.props.Login.masterData.FilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : this.props.Login.masterData.FilterStatusValue.ntransactionstatus),\r\n      napprovalconfigversioncode: (this.props.Login.masterData.defaultApprovalVersionValue && this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode) || -1,\r\n      napprovalversioncode: (this.props.Login.masterData.defaultApprovalVersionValue && this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode) || -1,\r\n      userinfo: this.props.Login.userInfo,\r\n      needExtraKeys: true,\r\n      saveFilterSubmit:true,\r\n      nneedtemplatebasedflow: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedtemplatebasedflow,\r\n      sampleTypeValue:this.props.Login.masterData.defaultSampleTypeValue && this.props.Login.masterData.defaultSampleTypeValue,\r\n      regTypeValue:this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue,\r\n      regSubTypeValue:this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue,\r\n      filterStatusValue:this.props.Login.masterData && this.props.Login.masterData.RealFilterStatusValue,\r\n      approvalConfigValue: this.props.Login.masterData && this.props.Login.masterData.realApprovalVersionValue,\r\n      designTemplateMappingValue: (this.props.Login.masterData.realDesignTemplateMappingValue && this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode) || -1,\r\n      napprovalversioncode: this.props.Login.masterData.realApprovalVersionValue && this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode ? String(this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode) : -1,\r\n\r\n\r\n\r\n    }\r\n    if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1 && inputData.napprovalconfigversioncode !== -1\r\n      && inputData.ntranscode !== \"-1\") {\r\n\r\n      inputData['fromdate'] = obj.fromDate;\r\n      inputData['todate'] = obj.toDate;\r\n      inputData['ndesigntemplatemappingcode'] = this.props.Login.masterData.ndesigntemplatemappingcode;\r\n      let inputParam = {\r\n        masterData,\r\n        inputData,\r\n        searchTestRef: this.searchTestRef,\r\n        skip: this.state.skip,\r\n        take: this.state.take,\r\n        testskip: this.state.testskip,\r\n        testtake: this.state.testtake,\r\n\r\n\r\n      }\r\n      this.props.getWorklistDetailFilter(inputParam)\r\n    } else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }))\r\n    }\r\n\r\n  }\r\n  childDataChange = (addComponentSortedList) => {\r\n    this.setState({\r\n        addComponentSortedList: addComponentSortedList,\r\n        isInitialRender: false\r\n    });\r\n} \r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  callService,\r\n  crudMaster,\r\n  getWorklistDetail,\r\n  filterColumnData,\r\n  getSectionAndTest,\r\n  updateStore,\r\n  validateEsignCredential,\r\n  onWorklistApproveClick,\r\n  OpenDate,\r\n  CloseDate, viewAttachment, getInstrumentCombo, getWorklistSample, getRegTypeTestWise, getRegTypeWorklist,\r\n  getSectionbaseTest, getWorklistDetailFilter, getEditSectionAndTest, createWorklistCreation, getConfigVersionTestWise,\r\n  ViewSampleDetails, getWorklisthistoryAction, reportWorklist, getRegSubTypeWise, insertWorklist,\r\n  generateControlBasedReport, validateEsignforWorklist, getWorklistFilterDetails\r\n})(injectIntl(WorkList));\r\n"]},"metadata":{},"sourceType":"module"}