{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\basemaster\\\\SampleStorageMaster.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faFileInvoice, faEye, faLink, faChevronRight, faComments, faLaptopHouse, faBoxOpen, faBoxTissue, faBox, faLocationArrow, faFolderMinus, faFolderOpen, faArrowRight } from '@fortawesome/free-solid-svg-icons';\nimport { toast } from 'react-toastify';\nimport ListMaster from '../../components/list-master/list-master.component';\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, getSampleMaster, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, getContainerStorageCondition, getStorageConditionFromMaster, getSampleMasterDetails, getContainers, getselectedContainer, changeStorageCategoryFilterOnSampleMaster, openSampleStorageApprovedLocation, loadApprovedLocationOnCombo, filterColumnData, loadApprovedLocationOnTreeData, moveItems, saveSampleStorageMaster, getSelectedApprovedStorageVersion } from '../../actions';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { ListWrapper } from '../../components/client-group.styles';\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\nimport { mapTree, removeItems } from \"@progress/kendo-react-treelist\";\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport CustomSwitch from '../../components/custom-switch/custom-switch.component';\nimport AddSample from '../basemaster/AddSample';\nimport AddContainerStorageCondition from './AddContainerStorageCondition';\nimport { ProductList } from '../product/product.styled';\nimport TransactionListMasterJson from '../../components/TransactionListMasterJson';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport StorageCategoryFilter from './StorageCategoryFilter';\nimport MoveSampleOrContainers from './MoveSampleOrContainers';\nimport { faFolder } from '@fortawesome/free-regular-svg-icons';\n\nclass SampleStorageMaster extends Component {\n  constructor(props) {\n    super(props);\n\n    this.openModal = () => {\n      if (this.props.Login.selectedItem && this.props.Login.selectedItem.containerlastnode === true) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            openModal: true,\n            selectedRecord: {},\n            operation: \"create\"\n          }\n        };\n        this.props.updateStore(updateInfo);\n      }\n    };\n\n    this.closeModal = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal: false,\n          selectedRecord: {}\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeChildModal = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openChildModal: false,\n          selectedRecord: {}\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onInputChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[event.target.name] = event.target.value;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onKeyUp = event => {\n      if (event.keyCode === 13) {\n        this.onSaveClickSample(2);\n      }\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      if (this.state.activeTabIndex === 1) {\n        this.onSaveClickSample(saveType, formRef);\n      } else {\n        this.onSaveClickContainer(saveType, formRef);\n      }\n    };\n\n    this.onSaveClickSample = (saveType, formRef) => {\n      let inputData = [];\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n\n      if (this.props.Login.operation === \"update\") {\n        inputData[\"sampleStorageMaster\"] = {\n          \"nsamplecode\": this.state.selectedRecord.nsamplecode ? this.state.selectedRecord.nsamplecode : -1,\n          \"ssampletraycode\": this.props.Login.sampleTrayCode ? this.props.Login.sampleTrayCode : \"\",\n          \"ssamplearno\": this.state.selectedRecord.ssamplearno ? this.state.selectedRecord.ssamplearno : \"\",\n          \"nsamplestoragelocationcode\": this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode\n        };\n      } else {\n        //add               \n        inputData[\"sampleStorageMaster\"] = {\n          \"ssampletraycode\": this.props.Login.sampleTrayCode ? this.props.Login.sampleTrayCode : \"\",\n          \"ssamplearno\": this.state.selectedRecord.ssamplearno ? this.state.selectedRecord.ssamplearno : \"\",\n          \"nsamplestoragelocationcode\": this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode\n        };\n      }\n\n      const inputParam = {\n        methodUrl: this.props.Login.inputParam.methodUrl,\n        classUrl: this.props.Login.inputParam.classUrl,\n        displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\n        inputData: inputData,\n        operation: this.props.Login.operation,\n        saveType,\n        formRef\n      };\n      const masterData = this.props.Login.masterData; // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n      //     const updateInfo = {\n      //         typeName: DEFAULT_RETURN,\n      //         data: {\n      //             loadEsign: true, screenData: { inputParam, masterData }, saveType\n      //         }\n      //     }\n      //     this.props.updateStore(updateInfo);\n      // }\n      // else {\n      // this.props.crudMaster(inputParam, masterData, \"openModal\");\n\n      this.props.saveSampleStorageMaster(this.props.Login.userInfo, this.props.Login.masterData, this.state.selectedRecord, inputParam); // }\n    };\n\n    this.onSaveClickContainer = (saveType, formRef) => {\n      let inputData = [];\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      inputData[\"containerStorageCondition\"] = {\n        \"nstatus\": 1\n      };\n\n      if (this.props.Login.operation === \"update\") {\n        inputData[\"containerStorageCondition\"][\"ncontainerstoragecode\"] = this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ? this.props.Login.masterData.storageContainer.ncontainerstoragecode : -1;\n        inputData[\"containerStorageCondition\"][\"scontainercode\"] = this.props.Login.containerCode && this.props.Login.containerCode !== undefined ? this.props.Login.containerCode : \"\";\n        inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"] = this.state.selectedRecord.nstorageconditioncode && this.state.selectedRecord.nstorageconditioncode !== undefined ? this.state.selectedRecord.nstorageconditioncode.value : -1;\n      }\n\n      inputData[\"containerStorageCondition\"][\"scontainercode\"] = this.props.Login.containerCode && this.props.Login.containerCode !== undefined ? this.props.Login.containerCode : \"\";\n      inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"] = this.state.selectedRecord.nstorageconditioncode && this.state.selectedRecord.nstorageconditioncode !== undefined ? this.state.selectedRecord.nstorageconditioncode.value : -1;\n      const inputParam = {\n        methodUrl: \"ContainerStorageCondition\",\n        classUrl: this.props.Login.inputParam.classUrl,\n        displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\n        inputData: inputData,\n        operation: this.props.Login.operation,\n        saveType,\n        formRef\n      };\n      const masterData = this.props.Login.masterData; // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n      //     const updateInfo = {\n      //         typeName: DEFAULT_RETURN,\n      //         data: {\n      //             loadEsign: true, screenData: { inputParam, masterData }, saveType\n      //         }\n      //     }\n      //     this.props.updateStore(updateInfo);\n      // }\n      // else {\n\n      this.props.crudMaster(inputParam, masterData, \"openModal\"); // }\n    };\n\n    this.itemRenderView = clickedItem => {\n      let item = clickedItem.item;\n\n      if (!this.state.toggleActionView) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, item ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n          className: `normal-node\n                            ${item.selected ? \"active-node\" : \"\"}\n                            ${item.expanded ? \"expand-node\" : \"collapse-node\"}\n                            `,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 29\n          }\n        }, item.containerfirstnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faBoxOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 60\n          }\n        }) : item.locationlastnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faLocationArrow,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 61\n          }\n        }) : item.containerlastnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faBox,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 66\n          }\n        }) : item.expanded ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faFolderOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 61\n          }\n        }) : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faFolder,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 103\n          }\n        }), item.text)) : \"\");\n      }\n    };\n\n    this.onItemClickView = event => {\n      if (this.state.selectedItem) {\n        this.state.selectedItem.selected = false;\n      }\n\n      event.item.selected = true;\n      this.setState({\n        selectedItem: event.item\n      }); // let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\n      //     if (item.editable === true) {\n      //         item.editable = false;\n      //     } else if (item.id === event.item.id) {\n      //         item.editable = true;\n      //     }\n      //     return item;\n      // });\n      // this.setState({ treeDataView: newData });\n\n      if (event.item && event.item.containerlastnode && event.item.containerlastnode === true) {\n        this.props.getSampleMaster(event.item, this.props.Login.userInfo, this.props.Login.masterData);\n\n        if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\n          this.changePropertyView(1);\n        } else if (this.state.activeTabIndex === undefined) {\n          this.changePropertyView(1);\n        } else if (this.state.activeTabIndex !== 1) {\n          this.changePropertyView(1);\n        }\n      } else if (event.item && event.item.containerfirstnode && event.item.containerfirstnode === true) {\n        let result = this.state.treeDataView;\n        const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\n        let itemText = \"\";\n\n        for (let i = 0; i < indices.length - 1; i++) {\n          result = result[indices[i]].items;\n          itemText = i > 0 ? itemText + \" -> \" + result[0].text : itemText + \"\" + result[0].text;\n        }\n\n        this.props.getContainerStorageCondition(event.item, this.props.Login.userInfo, this.props.Login.masterData, itemText);\n\n        if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\n          this.changePropertyView(2);\n        } else if (this.state.activeTabIndex === undefined) {\n          this.changePropertyView(2);\n        } else if (this.state.activeTabIndex !== 2) {\n          this.changePropertyView(2);\n        }\n      } else if (event.item && event.item.locationlastnode && event.item.locationlastnode === true) {\n        let containers = [];\n\n        if (event.item.items && event.item.items.length > 0) {\n          event.item.items.forEach(element => {\n            if (element.containerfirstnode === true) {\n              containers.push(element);\n            }\n          });\n        }\n\n        this.props.getContainers(event.item, this.props.Login.masterData, containers);\n\n        if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\n          this.changePropertyView(3);\n        } else if (this.state.activeTabIndex === undefined) {\n          this.changePropertyView(3);\n        } else if (this.state.activeTabIndex !== 3) {\n          this.changePropertyView(3);\n        }\n      } else {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            selectedItem: event.item\n          }\n        };\n        this.props.updateStore(updateInfo);\n      }\n    };\n\n    this.onComboChange = (comboData, fieldName, caseNo) => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (caseNo === 3) {\n        let nfilterStorageCategory = this.state.nfilterStorageCategory || {};\n        nfilterStorageCategory = comboData;\n        this.searchRef.current.value = \"\";\n        this.setState({\n          nfilterStorageCategory\n        });\n      } else if (caseNo === 4) {\n        selectedRecord[fieldName] = comboData;\n        this.props.loadApprovedLocationOnCombo(this.props.Login.userInfo, this.props.Login.masterData, selectedRecord);\n      } else if (caseNo === 5) {\n        selectedRecord[fieldName] = comboData;\n        this.props.loadApprovedLocationOnTreeData(this.props.Login.userInfo, this.props.Login.masterData, selectedRecord);\n      } else {\n        selectedRecord[fieldName] = comboData;\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.onExpandChangeView = event => {\n      event.item.expanded = !event.item.expanded;\n      this.forceUpdate();\n    };\n\n    this.handlePageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n      setTimeout(() => {\n        this._scrollBarRef.updateScroll();\n      });\n    };\n\n    this.moveItem = (userInfo, masterData) => {\n      if (this.state.activeTabIndex && this.state.activeTabIndex === 1) {\n        if (this.props.Login.masterData.sampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\n          this.props.openSampleStorageApprovedLocation(userInfo, masterData);\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_SELECTANYSAMPLE\"\n          }));\n        }\n      } else if (this.state.activeTabIndex && this.state.activeTabIndex === 3) {\n        if (this.props.Login.masterData.containers && this.props.Login.masterData.selectedContainer && this.props.Login.masterData.selectedContainer[0] !== undefined) {\n          this.props.openSampleStorageApprovedLocation(userInfo, masterData);\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_SELECTANYCONTAINER\"\n          }));\n        }\n      }\n    };\n\n    this.confirmDelete = ncontrolCode => {\n      if (this.props.Login.masterData.sampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n          id: \"IDS_DELETE\"\n        }), this.props.intl.formatMessage({\n          id: \"IDS_DEFAULTCONFIRMMSG\"\n        }), this.props.intl.formatMessage({\n          id: \"IDS_OK\"\n        }), this.props.intl.formatMessage({\n          id: \"IDS_CANCEL\"\n        }), () => this.deleteSampleStorageMaster(ncontrolCode));\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTANYSAMPLE\"\n        }));\n      }\n    };\n\n    this.deleteSampleStorageMaster = ncontrolCode => {\n      let inputData = [];\n      let data = [];\n      this.props.Login.masterData.selectedSampleStorageMaster.forEach(item => {\n        data.push({\n          \"nsamplecode\": item.nsamplecode,\n          \"ssampletraycode\": item.ssampletraycode\n        });\n      });\n      inputData[\"sampleStorageMaster\"] = data;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const inputParam = {\n        methodUrl: \"SampleStorageMaster\",\n        classUrl: \"samplestoragemaster\",\n        inputData: inputData,\n        operation: \"delete\",\n        searchRef: this.searchRef\n      };\n      const masterData = this.props.Login.masterData; // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n      //     const updateInfo = {\n      //         typeName: DEFAULT_RETURN,\n      //         data: {\n      //             loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\", openModal: true,\n      //             screenName: this.props.Login.inputParam.displayName\n      //         }\n      //     }\n      //     this.props.updateStore(updateInfo);\n      // }\n      // else {\n\n      this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\"); // }\n    };\n\n    this.loadStorageCondition = () => {\n      let openStorage = false;\n\n      if (this.props.Login.masterData.storageContainer === null || this.props.Login.masterData.storageContainer === undefined) {\n        mapTree(this.state.treeDataView, \"items\", item => {\n          if (item.id === this.props.Login.selectedItem.id) {\n            openStorage = true;\n          }\n\n          return item;\n        });\n      } else if (this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== undefined) {\n        openStorage = true;\n      }\n\n      if (openStorage === true) {\n        if (this.props.Login.selectedItem && this.props.Login.selectedItem.containerfirstnode === true) {\n          this.props.getStorageConditionFromMaster(this.props.Login.userInfo, this.props.Login.masterData);\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_SELECTANYCONTAINER\"\n          }));\n        }\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTANYCONTAINER\"\n        }));\n      }\n    };\n\n    this.discardSampleStorageMaster = ncontrolCode => {\n      let inputData = [];\n      let data = [];\n\n      if (this.props.Login.masterData.sampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\n        this.props.Login.masterData.selectedSampleStorageMaster.forEach(item => {\n          data.push({\n            \"nsamplecode\": item.nsamplecode,\n            \"ssampletraycode\": item.ssampletraycode,\n            \"npreregno\": item.npreregno,\n            \"ntransactionsamplecode\": item.ntransactionsamplecode,\n            \"sarno\": item.sarno,\n            \"ssamplearno\": item.ssamplearno\n          });\n        });\n        inputData[\"sampleStorageMaster\"] = data;\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\n        const inputParam = {\n          methodUrl: \"SampleStorageMaster\",\n          classUrl: \"samplestoragemaster\",\n          inputData: inputData,\n          operation: \"discard\",\n          searchRef: this.searchRef\n        };\n        const masterData = this.props.Login.masterData; // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        //     const updateInfo = {\n        //         typeName: DEFAULT_RETURN,\n        //         data: {\n        //             loadEsign: true, screenData: { inputParam, masterData }, operation: \"discard\", openModal: true,\n        //             screenName: this.props.Login.inputParam.displayName\n        //         }\n        //     }\n        //     this.props.updateStore(updateInfo);\n        // }\n        // else {\n\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\"); // }\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTANYSAMPLE\"\n        }));\n      }\n    };\n\n    this.sideNavDetail = screenName => {\n      const addId = this.state.controlMap.has(\"Add SampleStorageMaster\") && this.state.controlMap.get(\"Add SampleStorageMaster\").ncontrolcode;\n      const editId = this.state.controlMap.has(\"Edit SampleStorageMaster\") && this.state.controlMap.get(\"Edit SampleStorageMaster\").ncontrolcode;\n      const deleteId = this.state.controlMap.has(\"Delete SampleStorageMaster\") && this.state.controlMap.get(\"Delete SampleStorageMaster\").ncontrolcode;\n      const editContainerID = this.state.controlMap.has(\"Edit StorageContainer\") && this.state.controlMap.get(\"Edit StorageContainer\").ncontrolcode;\n      const moveId = this.state.controlMap.has(\"Move SampleStorageMaster\") && this.state.controlMap.get(\"Move SampleStorageMaster\").ncontrolcode;\n      const discardId = this.state.controlMap.has(\"Discard SampleStorageMaster\") && this.state.controlMap.get(\"Discard SampleStorageMaster\").ncontrolcode;\n\n      if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\n        return screenName == \"IDS_SAMPLEDETAILS\" ? /*#__PURE__*/React.createElement(React.Fragment, null, this.props.Login.sampleTrayCode && this.props.Login.sampleTrayCode !== undefined ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"actions-stripe\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"d-flex justify-content-end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Nav.Link, {\n          name: \"addsample\",\n          className: \"add-txt-btn\",\n          hidden: this.state.userRoleControlRights.indexOf(addId) === -1,\n          onClick: () => this.openModal(),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faPlus,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 45\n          }\n        }), \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"IDS_SAMPLE\",\n          defaultMessage: \"Sample\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 45\n          }\n        })), /*#__PURE__*/React.createElement(Nav.Link, {\n          name: \"deletesample\",\n          className: \"add-txt-btn\",\n          hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n          onClick: () => this.confirmDelete(deleteId),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faTrashAlt,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 45\n          }\n        }), \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"IDS_DELETE\",\n          defaultMessage: \"Delete\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 45\n          }\n        })), /*#__PURE__*/React.createElement(Nav.Link, {\n          name: \"movesample\",\n          className: \"add-txt-btn\",\n          hidden: this.state.userRoleControlRights.indexOf(moveId) === -1,\n          onClick: () => this.moveItem(this.props.Login.userInfo, this.props.Login.masterData),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faPlus,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 45\n          }\n        }), \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"IDS_MOVE\",\n          defaultMessage: \"Move\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 45\n          }\n        })), /*#__PURE__*/React.createElement(Nav.Link, {\n          name: \"discardsample\",\n          className: \"add-txt-btn\",\n          hidden: this.state.userRoleControlRights.indexOf(discardId) === -1,\n          onClick: () => this.discardSampleStorageMaster(discardId),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faArrowRight,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 45\n          }\n        }), \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"IDS_DISCARD\",\n          defaultMessage: \"Discard\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 45\n          }\n        })))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"toolbar-top-inner\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(TransactionListMasterJson, {\n          listMasterShowIcon: 1,\n          clickIconGroup: false,\n          splitChangeWidthPercentage: this.state.splitChangeWidthPercentage,\n          masterList: this.props.Login.masterData.sampleStorageMaster || [],\n          selectedMaster: this.props.Login.masterData.selectedSampleStorageMaster || [],\n          primaryKeyField: \"nsamplecode\",\n          filterColumnData: this.props.filterTransactionList,\n          getMasterDetail: this.props.getSampleMasterDetails,\n          inputParam: { ...this.props.Login.masterData\n          },\n          moreField: this.props.Login.masterData.sampleStorageMaster || [] // selectionList={this.props.Login.masterData.RealFilterStatusValue\n          //     && this.props.Login.masterData.RealFilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus : []}\n          ,\n          selectionColorField: \"scolorhexcode\",\n          mainField: \"ssamplearno\",\n          showStatusLink: true,\n          showStatusName: true // statusFieldName=\"stransdisplaystatus\"\n          // statusField=\"ntransactionstatus\"\n          ,\n          selectedListName: \"selectedSampleStorageMaster\" // searchListName=\"searchedSample\"\n          // searchRef={this.searchSampleRef}\n          // objectName=\"sample\"\n          ,\n          listName: \"IDS_SAMPLE\" // selectionField=\"ntransactionstatus\"\n          // selectionFieldName=\"stransdisplaystatus\"\n          // showFilter={this.props.Login.showFilter}\n          // openFilter={this.openFilter}\n          // closeFilter={this.closeFilter}\n          // onFilterSubmit={this.onFilterSubmit}\n          // subFields={this.state.DynamicSampleColumns}                                                 \n          ,\n          needMultiSelect: false,\n          needSingleSelect: true,\n          subListName: \"columnlist\",\n          jsonfield: \"jsondata\",\n          showDynamicFields: true,\n          showStatusBlink: true // filterParam={{\n          //     ...this.state.filterSampleParam,\n          //     childRefs: [{ ref: this.searchSubSampleRef, childFilteredListName: \"searchedSubSample\" },\n          //     { ref: this.searchTestRef, childFilteredListName: \"searchedTest\" }],\n          // }}\n          // subFieldsLabel={false}\n          ,\n          handlePageChange: this.handlePageChange,\n          skip: this.state.skip,\n          take: this.state.take,\n          needFilter: false,\n          hidePaging: false,\n          hideSearch: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 37\n          }\n        }))) : /*#__PURE__*/React.createElement(React.Fragment, null)) : screenName == \"IDS_CONTAINERS\" ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"actions-stripe\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"d-flex justify-content-end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Nav.Link, {\n          name: \"addsample\",\n          className: \"add-txt-btn\",\n          hidden: this.state.userRoleControlRights.indexOf(moveId) === -1,\n          onClick: () => this.moveItem(this.props.Login.userInfo, this.props.Login.masterData),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faPlus,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 41\n          }\n        }), \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"IDS_MOVE\",\n          defaultMessage: \"Move\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 41\n          }\n        })))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"toolbar-top-inner container-tab\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(TransactionListMasterJson, {\n          listMasterShowIcon: 1,\n          clickIconGroup: false,\n          splitChangeWidthPercentage: this.state.splitChangeWidthPercentage,\n          masterList: this.props.Login.masterData.containers || [],\n          selectedMaster: this.props.Login.masterData.selectedContainer || [],\n          primaryKeyField: \"id\",\n          filterColumnData: this.props.filterTransactionList,\n          getMasterDetail: this.props.getselectedContainer,\n          inputParam: { ...this.props.Login.masterData\n          },\n          selectionColorField: \"scolorhexcode\",\n          mainField: \"text\",\n          showStatusLink: true,\n          showStatusName: true,\n          selectedListName: \"selectedContainer\",\n          listName: \"IDS_SAMPLE\",\n          needMultiSelect: false,\n          needSingleSelect: true,\n          subListName: \"columnlist\",\n          jsonfield: \"jsondata\",\n          showDynamicFields: true,\n          showStatusBlink: true,\n          handlePageChange: this.handlePageChange,\n          skip: this.state.skip,\n          take: this.state.take,\n          needFilter: false,\n          hidePaging: false,\n          hideSearch: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 33\n          }\n        }))) : screenName == \"IDS_STORAGECONDITION\" ? /*#__PURE__*/React.createElement(ProductList, {\n          className: \"panel-main-content storage-tab\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 742,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Card, {\n          className: \"border-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Card.Header, {\n          className: \"no-padding\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Card.Subtitle, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"actions-stripe\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"d-flex justify-content-end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(Nav.Link, {\n          name: \"editContainer\",\n          className: \"add-txt-btn\",\n          hidden: this.state.userRoleControlRights.indexOf(editContainerID) === -1,\n          onClick: () => this.loadStorageCondition(),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 758,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"IDS_STORAGECONDITION\",\n          defaultMessage: \"Storage Condition\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 57\n          }\n        })))))), /*#__PURE__*/React.createElement(Card.Body, {\n          className: \"form-static-wrap no-padding\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 769,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          md: 12,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(FormGroup, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(FormLabel, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"IDS_STORAGECONDITIONNAME\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 774,\n            columnNumber: 57\n          }\n        })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 53\n          }\n        }, this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ? this.props.Login.masterData.storageContainer.sstorageconditionname : \"\" || \"\"))), /*#__PURE__*/React.createElement(Col, {\n          md: 12,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(FormGroup, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(FormLabel, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 783,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: \"IDS_STORAGELOCATIONNAME\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 784,\n            columnNumber: 57\n          }\n        })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 53\n          }\n        }, this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ? this.props.Login.containerLocation && this.props.Login.containerLocation : \"\"))))))) : \"\";\n      } else {\n        const masterData = { ...this.props.Login.masterData,\n          storageContainer: undefined,\n          containers: undefined,\n          sampleStorageMaster: undefined\n        };\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            activeTabIndex: undefined,\n            containerLocation: undefined,\n            sampleTrayCode: undefined,\n            containerCode: undefined,\n            locationCode: undefined,\n            masterData\n          }\n        };\n        this.props.updateStore(updateInfo);\n      }\n    };\n\n    this.changePropertyView = (index, event, status) => {\n      if (window.innerWidth > 992 && event && this.state.enableAutoClick || !event) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            activeTabIndex: this.state.activeTabIndex !== index ? index : 0 ? index : false\n          }\n        };\n        this.props.updateStore(updateInfo);\n      }\n    };\n\n    this.changePropertyViewClose = id => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          activeTabIndex: undefined\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onInputSwitchOnChange = event => {\n      if (event.target.name == \"PopupNav\") {\n        this.setState({\n          enablePropertyPopup: !this.state.enablePropertyPopup\n        });\n      } else {\n        this.setState({\n          enableAutoClick: !this.state.enableAutoClick\n        });\n      }\n    };\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onFilterSubmit = () => {\n      if (this.state.nfilterStorageCategory.value) {\n        let inputParam = {\n          inputData: {\n            nstoragecategorycode: this.state.nfilterStorageCategory.value,\n            userinfo: this.props.Login.userInfo,\n            nfilterStorageCategory: this.state.nfilterStorageCategory\n          }\n        };\n        this.props.changeStorageCategoryFilterOnSampleMaster(inputParam, this.props.Login.masterData.filterStorageCategory);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_STORAGECATEGORYNOTAVAILABLE\"\n        }));\n      }\n    };\n\n    this.itemRender = clickedItem => {\n      let item = clickedItem.item;\n\n      if (!this.state.toggleAction) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, clickedItem.item ? /*#__PURE__*/React.createElement(\"span\", {\n          className: `normal-node\n                         ${clickedItem.item.editable ? \"active-node\" : \"\"}\n                         ${item.expanded ? \"expand-node\" : \"collapse-node\"}\n                         `,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 911,\n            columnNumber: 25\n          }\n        }, item.containerfirstnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faBoxOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 56\n          }\n        }) : item.locationlastnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faLocationArrow,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 916,\n            columnNumber: 57\n          }\n        }) : item.containerlastnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faBox,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 917,\n            columnNumber: 62\n          }\n        }) : item.expanded ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faFolderOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 918,\n            columnNumber: 57\n          }\n        }) : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faFolder,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 918,\n            columnNumber: 99\n          }\n        }), item.text) // <ul className=\"list-inline mb-0\">\n        // <li className=\"list-inline-item mr-3 \">{clickedItem.item.text}</li>\n        // {clickedItem.item.editable ? (\n        // <>\n        // <li className=\"list-inline-item \">\n        // <span\n        // className=\"action-icon\"\n        // onClick={(e) => this.setProperties(e, clickedItem)}\n        // ></span>\n        // </li>\n        // </>\n        // ) : null}\n        // </ul>\n        : \"\");\n      }\n    };\n\n    this.onItemClick = event => {\n      // if (this.state.selectedItemMove) {\n      //     this.state.selectedItemMove.selected = false;\n      // }\n      // event.item.selected = true;\n      // this.setState({\n      //     selectedItem: event.item\n      // })\n      let newData = mapTree(this.state.treeData, \"items\", item => {\n        if (item.editable === true) {\n          item.editable = false;\n        } else if (item.id === event.item.id) {\n          item.editable = true;\n        }\n\n        return item;\n      }); // newData.map((data) => {\n      //     this.clearSelected(data, event.item)\n      // })\n\n      this.setState({\n        treeData: newData,\n        clickedItem: event.item\n      });\n    };\n\n    this.onExpandChange = event => {\n      event.item.expanded = !event.item.expanded;\n      this.forceUpdate();\n    };\n\n    this.onMoveClick = (saveType, formRef) => {\n      let inputParam = {};\n\n      if (this.state.activeTabIndex === 1) {\n        if (this.state.clickedItem && this.state.clickedItem.containerlastnode === true) {\n          if (this.state.clickedItem.id !== this.props.Login.sampleTrayCode) {\n            inputParam = {\n              selectedSamples: this.props.Login.masterData.selectedSampleStorageMaster,\n              moveTargetTrayCode: this.state.clickedItem.id,\n              nsamplestoragelocationcode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\n              moveContainers: false,\n              storageCategory: this.state.selectedRecord[\"nstoragecategorycode\"] && this.state.selectedRecord[\"nstoragecategorycode\"].value\n            };\n            this.props.moveItems(inputParam, this.props.Login.masterData);\n          }\n        }\n      } else if (this.state.activeTabIndex === 3) {\n        if (this.state.clickedItem && this.state.clickedItem.locationlastnode === true) {\n          if (this.state.clickedItem.id !== this.props.Login.locationCode) {\n            let getSampleTray = [];\n            let targetData = this.state.treeData || [];\n            let sourceData = this.state.treeDataView || [];\n            let newData = [];\n            let sameLocation = true;\n            let targetJsonData = {};\n            let SourceJsonData = {};\n\n            if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode === this.state.selectedRecord[\"nsamplestoragelocationcode\"].value) {\n              this.props.Login.masterData.selectedContainer.forEach(data => {\n                targetData = removeItems(targetData, \"items\", item => {\n                  return item.id === data.id;\n                });\n              });\n              newData = mapTree(targetData, \"items\", item => {\n                if (item.id === this.state.clickedItem.id) {\n                  item.items = item.items || [];\n                  item.items.push(...this.props.Login.masterData.selectedContainer);\n                }\n\n                if (item.expanded === false) {\n                  item.expanded = true;\n                }\n\n                if (item.selected && item.selected === true) {\n                  item.selected = false;\n                }\n\n                return item;\n              });\n              targetJsonData[\"data\"] = newData;\n            } else {\n              this.props.Login.masterData.selectedContainer.forEach(data => {\n                sourceData = removeItems(sourceData, \"items\", item => {\n                  return item.id === data.id;\n                });\n\n                if (sourceData.length > 0) {\n                  sourceData = mapTree(sourceData, \"items\", item => {\n                    if (item.selected && item.selected === true) {\n                      item.selected = false;\n                    }\n\n                    return item;\n                  });\n                }\n              });\n              newData = mapTree(targetData, \"items\", item => {\n                if (item.id === this.state.clickedItem.id) {\n                  item.items = item.items || [];\n                  item.items.push(...this.props.Login.masterData.selectedContainer);\n                }\n\n                if (item.expanded === false) {\n                  item.expanded = true;\n                }\n\n                if (item.selected && item.selected === true) {\n                  item.selected = false;\n                }\n\n                return item;\n              });\n              SourceJsonData[\"data\"] = sourceData;\n              targetJsonData[\"data\"] = newData;\n              this.props.Login.masterData.selectedContainer.forEach(data => {\n                mapTree([data], \"items\", item => {\n                  if (item.containerlastnode === true) {\n                    getSampleTray.push({\n                      id: item.id,\n                      text: item.text,\n                      nsamplestoragelocationcode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].value\n                    });\n                  }\n                });\n              });\n              sameLocation = false;\n            }\n\n            inputParam = {\n              selectedSamples: getSampleTray,\n              sourceLocationCode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\n              sourceVersionCode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode,\n              nsamplestoragelocationcode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestoragelocationcode,\n              nsamplestorageversioncode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestorageversioncode,\n              SourceJsonData: SourceJsonData,\n              targetJsonData: targetJsonData,\n              moveContainers: true,\n              storageCategory: this.props.Login.masterData.selectedSampleStorageVersion.nstoragecategorycode,\n              sameLocation\n            };\n            this.props.moveItems(inputParam, this.props.Login.masterData);\n          }\n        }\n      }\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      const inputParam = {\n        inputData: {\n          \"userinfo\": this.props.Login.userInfo\n        },\n        classUrl: \"samplestoragemaster\",\n        methodUrl: \"SampleStorageMaster\",\n        displayName: \"IDS_SAMPLESTORAGEMASTER\",\n        userInfo: this.props.Login.userInfo\n      };\n      this.props.callService(inputParam);\n    };\n\n    this.state = {\n      selectedRecord: {},\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      skip: 0,\n      detailSkip: 0,\n      detailTake: 10,\n      take: this.props.Login.settings ? this.props.Login.settings[3] : 25,\n      splitChangeWidthPercentage: 22,\n      enablePropertyPopup: false,\n      enableAutoClick: false,\n      treeDataView: undefined,\n      toggleActionView: false,\n      toggleAction: false,\n      propertyPopupWidth: \"60\",\n      splitChangeWidthPercentage: 28.6,\n      containers: [],\n      treeData: [],\n      selectedItem: undefined,\n      selectedItemMove: undefined\n    };\n    this.searchRef = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== \"\" && props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  componentDidUpdate(previousProps) {\n    let isComponentUpdated = false;\n    let {\n      filterData\n    } = this.state;\n    console.log(this.props.Login.masterData.searchedData);\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n        const userRoleControlRights = [];\n\n        if (this.props.Login.userRoleControlRights) {\n          this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n        }\n\n        const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n        this.setState({\n          controlMap,\n          userRoleControlRights\n        });\n      }\n    }\n\n    if (this.props.Login.masterData.approvedTreeData !== previousProps.Login.masterData.approvedTreeData) {\n      if (this.props.Login.masterData.approvedTreeData && this.props.Login.masterData.approvedTreeData !== undefined) {\n        this.setState({\n          treeData: this.props.Login.masterData.approvedTreeData\n        });\n      } //JSON.parse(this.props.Login.masterData.approvedTreeData[\"jsondata\"].value).data\n\n    }\n\n    if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\n      if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\n        this.setState({\n          treeDataView: JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data\n        });\n      } else {\n        this.setState({\n          treeDataView: undefined\n        });\n      }\n    }\n\n    let nfilterStorageCategory = this.state.nStorageCategory || {};\n    let filterStorageCategory = this.state.filterStorageCategory || {};\n\n    if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\n      if (this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined) {\n        const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\", \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\n        filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\n\n        if (filterStorageCategory && filterStorageCategory.length > 0) {\n          nfilterStorageCategory = filterStorageCategory[0];\n        }\n\n        isComponentUpdated = true;\n      }\n    } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\n      if (this.props.Login.masterData.nfilterStorageCategory && this.props.Login.masterData.nfilterStorageCategory !== undefined) {\n        nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\n        isComponentUpdated = true;\n      }\n    }\n\n    if (isComponentUpdated) {\n      this.setState({\n        nfilterStorageCategory,\n        filterStorageCategory\n      });\n    }\n\n    if (this.props.Login.activeTabIndex !== previousProps.Login.activeTabIndex) {\n      this.setState({\n        activeTabIndex: this.props.Login.activeTabIndex\n      });\n    }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.Login.selectedRecord\n      });\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      const filterData = this.generateBreadCrumData();\n      this.setState({\n        filterData\n      });\n    }\n  }\n\n  generateBreadCrumData() {\n    const breadCrumbData = [];\n\n    if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\n      breadCrumbData.push({\n        \"label\": \"IDS_STORAGECATEGORY\",\n        \"value\": this.props.Login.masterData.selectedStorageCategoryName && this.props.Login.masterData.selectedStorageCategoryName !== null ? this.props.Login.masterData.selectedStorageCategoryName : \"NA\" // \"value\": this.props.Login.masterData.approvedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\n        //     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\n\n      });\n    }\n\n    return breadCrumbData;\n  }\n\n  clearSelected(innerObj, selectedItem) {\n    // console.log(innerObj, selectedItem, \"aasd\")\n    if (innerObj.id == selectedItem.id) {\n      innerObj.selected = true;\n    } else {\n      innerObj.selected = false;\n    }\n\n    if (innerObj.items && innerObj.items.length > 0) {\n      innerObj.items.map(childObj => {\n        this.clearSelected(childObj, selectedItem);\n      });\n    }\n\n    return innerObj;\n  }\n\n  render() {\n    let mandatoryFields = [];\n\n    if (this.state.activeTabIndex === 1) {\n      mandatoryFields.push({\n        \"idsName\": \"IDS_SAMPLE\",\n        \"dataField\": \"ssamplearno\",\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      });\n    } else if (this.state.activeTabIndex === 2) {\n      mandatoryFields.push({\n        \"idsName\": \"IDS_STORAGECONDITIONNAME\",\n        \"dataField\": \"nstorageconditioncode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      });\n    }\n\n    const filterParam = {\n      inputListName: \"approvedSampleStorageLocation\",\n      selectedObject: \"selectedSampleStorageVersion\",\n      primaryKeyField: \"nsamplestorageversioncode\",\n      fetchUrl: \"samplestoragelocation/getActiveSampleStorageVersion\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: [\"ssamplestoragelocationname\"]\n    };\n    const breadCrumbData = this.state.filterData || [];\n    const confirmMessage = new ConfirmMessage();\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"client-listing-wrap toolbar-top-wrap mtop-4 screen-height-window\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1143,\n        columnNumber: 17\n      }\n    }, breadCrumbData.length > 0 ? /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1145,\n        columnNumber: 25\n      }\n    }) : \"\", /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      className: `toolbar-top ${this.state.activeTabIndex ? 'active-property-bar' : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1147,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1148,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListWrapper, {\n      className: `vertical-tab-top grid-master ${this.state.enablePropertyPopup ? 'active-popup' : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1149,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `tab-left-area ${this.state.activeTabIndex ? 'active' : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1150,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      formatMessage: this.props.intl.formatMessage,\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_SAMPLESTORAGEMASTER\"\n      }),\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.approvedSampleStorageLocation,\n      getMasterDetail: selectedItem => this.props.getSelectedApprovedStorageVersion(selectedItem, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.selectedSampleStorageVersion,\n      primaryKeyField: \"nsamplestoragelocationcode\",\n      mainField: \"ssamplestoragelocationname\" // firstField=\"sversionno\"\n      // secondField=\"stransdisplaystatus\"\n      ,\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      userRoleControlRights: this.state.userRoleControlRights,\n      hideAddButton: true // addId={addId}\n      ,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      hidePaging: false // openModal={() => this.props.getDesignTemplateMappingComboService(addParam)}\n      ,\n      showFilterIcon: true,\n      showFilter: this.props.Login.showFilter,\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      onFilterSubmit: this.onFilterSubmit,\n      filterComponent: [{\n        \"IDS_STORAGEFILTER\": /*#__PURE__*/React.createElement(StorageCategoryFilter, {\n          filterStorageCategory: this.state.filterStorageCategory || [],\n          nfilterStorageCategory: this.state.nfilterStorageCategory || {},\n          onComboChange: this.onComboChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1184,\n            columnNumber: 53\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1151,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tree-view-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1194,\n        columnNumber: 33\n      }\n    }, this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined ? /*#__PURE__*/React.createElement(TreeViewEditable, {\n      id: \"samplestoragelocation\",\n      name: \"samplestoragelocation\" // label=\"Sample Storage Location\"\n      ,\n      data: this.state.treeDataView,\n      expandIcons: true,\n      item: this.itemRenderView,\n      selectField: 'active-node',\n      onExpandChange: this.onExpandChangeView,\n      onItemClick: this.onItemClickView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1196,\n        columnNumber: 41\n      }\n    }) : /*#__PURE__*/React.createElement(React.Fragment, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${this.state.enablePropertyPopup ? 'active-popup' : \"\"} xs-grid-container vertical-tab ${this.state.activeTabIndex ? 'active' : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1211,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `${this.state.enablePropertyPopup ? 'active-popup' : \"\"} vertical-tab-content pager_wrap wrap-class ${this.state.activeTabIndex ? 'active' : \"\"}`,\n      style: {\n        width: this.state.enablePropertyPopup ? this.state.propertyPopupWidth + '%' : \"\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1212,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: ` vertical-tab-close ${this.state.activeTabIndex ? 'active' : \"\"}`,\n      onClick: () => this.changePropertyViewClose(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1213,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faChevronRight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1213,\n        columnNumber: 178\n      }\n    }), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: ` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 1 ? 'active' : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1214,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"inner_h4 no-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1215,\n        columnNumber: 45\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_SAMPLEDETAILS\"\n    })), this.state.activeTabIndex && this.state.activeTabIndex === 1 ? this.sideNavDetail(\"IDS_SAMPLEDETAILS\") : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: ` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 2 ? 'active' : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1220,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"inner_h4 no-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1221,\n        columnNumber: 45\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_STORAGECONDITION\"\n    })), this.state.activeTabIndex && this.state.activeTabIndex === 2 ? this.sideNavDetail(\"IDS_STORAGECONDITION\") : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: ` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 3 ? 'active' : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1226,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"inner_h4 no-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1227,\n        columnNumber: 45\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_CONTAINERS\"\n    })), this.state.activeTabIndex && this.state.activeTabIndex === 3 ? this.sideNavDetail(\"IDS_CONTAINERS\") : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1235,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1236,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: `${this.state.activeTabIndex && this.state.activeTabIndex === 1 ? 'active' : \"\"}`,\n      onClick: () => this.changePropertyView(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1237,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faEye,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1238,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1239,\n        columnNumber: 49\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_SAMPLEDETAILS\"\n    }))), /*#__PURE__*/React.createElement(\"li\", {\n      className: `${this.state.activeTabIndex && this.state.activeTabIndex === 2 ? 'active' : \"\"}`,\n      onClick: () => this.changePropertyView(2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1243,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1244,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1245,\n        columnNumber: 49\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_STORAGECONDITION\"\n    }))), /*#__PURE__*/React.createElement(\"li\", {\n      className: `${this.state.activeTabIndex && this.state.activeTabIndex === 3 ? 'active' : \"\"}`,\n      onClick: () => this.changePropertyView(3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1249,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faComments,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1250,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1251,\n        columnNumber: 49\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_CONTAINERS\"\n    })))))))))), this.props.Login.openModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal,\n      closeModal: this.closeModal,\n      operation: this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.intl.formatMessage({\n        id: this.state.activeTabIndex && this.state.activeTabIndex === 1 ? \"IDS_SAMPLE\" : \"IDS_STORAGECONDITIONNAME\"\n      }),\n      onSaveClick: this.onSaveClick,\n      selectedRecord: this.state.selectedRecord || {},\n      showSaveContinue: this.state.activeTabIndex && this.state.activeTabIndex === 1 ? true : false,\n      mandatoryFields: mandatoryFields,\n      addComponent: this.state.activeTabIndex && this.state.activeTabIndex === 1 ? /*#__PURE__*/React.createElement(AddSample, {\n        onInputChange: e => this.onInputChange(e),\n        selectedRecord: this.state.selectedRecord || {},\n        onKeyUp: e => this.onKeyUp(e),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1300,\n          columnNumber: 33\n        }\n      }) : this.state.activeTabIndex && this.state.activeTabIndex === 2 ? /*#__PURE__*/React.createElement(AddContainerStorageCondition, {\n        selectedRecord: this.state.selectedRecord || {},\n        onComboChange: this.onComboChange,\n        storageCondition: this.props.Login.masterData.storageCondition || [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1306,\n          columnNumber: 33\n        }\n      }) : /*#__PURE__*/React.createElement(React.Fragment, null),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1288,\n        columnNumber: 21\n      }\n    }), this.props.Login.openChildModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openChildModal,\n      closeModal: this.closeChildModal,\n      operation: this.props.intl.formatMessage({\n        id: \"IDS_MOVE\"\n      }),\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.intl.formatMessage({\n        id: this.state.activeTabIndex && this.state.activeTabIndex == 1 ? \"IDS_SAMPLE\" : \"IDS_CONTAINERS\"\n      }),\n      onSaveClick: this.onMoveClick,\n      selectedRecord: this.state.selectedRecord || {},\n      addComponent: /*#__PURE__*/React.createElement(MoveSampleOrContainers, {\n        treeData: this.state.treeData,\n        selectedRecord: this.state.selectedRecord || {},\n        itemRender: this.itemRender,\n        onExpandChange: this.onExpandChange,\n        onItemClick: this.onItemClick,\n        onComboChange: this.onComboChange,\n        storageCategory: this.props.Login.masterData.storageCategory || [],\n        approvedLocation: this.props.Login.masterData.approvedLocation || [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1327,\n          columnNumber: 29\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1319,\n        columnNumber: 21\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  updateStore,\n  validateEsignCredential,\n  getSampleMaster,\n  filterColumnData,\n  getSelectedSampleStorageLocation,\n  openPropertyModal,\n  editSampleStorageLocation,\n  approveSampleStorageLocation,\n  getSelectedSampleStorageVersion,\n  getContainerStorageCondition,\n  getStorageConditionFromMaster,\n  getSampleMasterDetails,\n  getContainers,\n  getselectedContainer,\n  changeStorageCategoryFilterOnSampleMaster,\n  openSampleStorageApprovedLocation,\n  loadApprovedLocationOnCombo,\n  loadApprovedLocationOnTreeData,\n  moveItems,\n  saveSampleStorageMaster,\n  getSelectedApprovedStorageVersion\n})(injectIntl(SampleStorageMaster));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/basemaster/SampleStorageMaster.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Form","Button","FontAwesomeIcon","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faFileInvoice","faEye","faLink","faChevronRight","faComments","faLaptopHouse","faBoxOpen","faBoxTissue","faBox","faLocationArrow","faFolderMinus","faFolderOpen","faArrowRight","toast","ListMaster","constructOptionList","getControlMap","showEsign","ReadOnlyText","ContentPanel","SlideOutModal","callService","crudMaster","validateEsignCredential","updateStore","getSelectedSampleStorageLocation","getSampleMaster","openPropertyModal","editSampleStorageLocation","approveSampleStorageLocation","getSelectedSampleStorageVersion","getContainerStorageCondition","getStorageConditionFromMaster","getSampleMasterDetails","getContainers","getselectedContainer","changeStorageCategoryFilterOnSampleMaster","openSampleStorageApprovedLocation","loadApprovedLocationOnCombo","filterColumnData","loadApprovedLocationOnTreeData","moveItems","saveSampleStorageMaster","getSelectedApprovedStorageVersion","DEFAULT_RETURN","ListWrapper","TreeViewEditable","mapTree","removeItems","ConfirmMessage","CustomSwitch","AddSample","AddContainerStorageCondition","ProductList","TransactionListMasterJson","BreadcrumbComponent","StorageCategoryFilter","MoveSampleOrContainers","faFolder","SampleStorageMaster","constructor","props","openModal","Login","selectedItem","containerlastnode","updateInfo","typeName","data","selectedRecord","operation","closeModal","closeChildModal","openChildModal","onInputChange","event","state","target","name","value","setState","onKeyUp","keyCode","onSaveClickSample","onSaveClick","saveType","formRef","activeTabIndex","onSaveClickContainer","inputData","userInfo","nsamplecode","sampleTrayCode","ssamplearno","masterData","selectedSampleStorageVersion","nsamplestoragelocationcode","inputParam","methodUrl","classUrl","displayName","storageContainer","ncontainerstoragecode","containerCode","undefined","nstorageconditioncode","itemRenderView","clickedItem","item","toggleActionView","selected","expanded","containerfirstnode","locationlastnode","text","onItemClickView","changePropertyView","result","treeDataView","indices","itemHierarchicalIndex","split","map","index","Number","itemText","i","length","items","containers","forEach","element","push","onComboChange","comboData","fieldName","caseNo","nfilterStorageCategory","searchRef","current","onExpandChangeView","forceUpdate","handlePageChange","e","skip","take","setTimeout","_scrollBarRef","updateScroll","moveItem","sampleStorageMaster","selectedSampleStorageMaster","warn","intl","formatMessage","id","selectedContainer","confirmDelete","ncontrolCode","confirmMessage","confirm","deleteSampleStorageMaster","ssampletraycode","loadStorageCondition","openStorage","discardSampleStorageMaster","npreregno","ntransactionsamplecode","sarno","sideNavDetail","screenName","addId","controlMap","has","get","ncontrolcode","editId","deleteId","editContainerID","moveId","discardId","userRoleControlRights","indexOf","splitChangeWidthPercentage","filterTransactionList","sstorageconditionname","containerLocation","locationCode","status","window","innerWidth","enableAutoClick","changePropertyViewClose","onInputSwitchOnChange","enablePropertyPopup","openFilter","showFilter","closeFilter","onFilterSubmit","nstoragecategorycode","userinfo","filterStorageCategory","itemRender","toggleAction","editable","onItemClick","newData","treeData","onExpandChange","onMoveClick","selectedSamples","moveTargetTrayCode","moveContainers","storageCategory","getSampleTray","targetData","sourceData","sameLocation","targetJsonData","SourceJsonData","sourceLocationCode","sourceVersionCode","nsamplestorageversioncode","reloadData","Map","detailSkip","detailTake","settings","propertyPopupWidth","selectedItemMove","createRef","getDerivedStateFromProps","masterStatus","error","componentDidUpdate","previousProps","isComponentUpdated","filterData","console","log","searchedData","nformcode","Object","values","approvedTreeData","JSON","parse","nStorageCategory","filterStorageCategoryMap","generateBreadCrumData","breadCrumbData","selectedStorageCategoryName","clearSelected","innerObj","childObj","render","mandatoryFields","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","searchFieldList","approvedSampleStorageLocation","width","storageCondition","approvedLocation","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faFileInvoice, faEye, faLink, faChevronRight, faComments, faLaptopHouse, faBoxOpen, faBoxTissue, faBox, faLocationArrow, faFolderMinus, faFolderOpen, faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, getSampleMaster,\r\n    openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, getContainerStorageCondition,\r\n    getStorageConditionFromMaster, getSampleMasterDetails, getContainers, getselectedContainer, changeStorageCategoryFilterOnSampleMaster,\r\n    openSampleStorageApprovedLocation, loadApprovedLocationOnCombo, filterColumnData,\r\n    loadApprovedLocationOnTreeData, moveItems, saveSampleStorageMaster, getSelectedApprovedStorageVersion\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\r\nimport { mapTree, removeItems } from \"@progress/kendo-react-treelist\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport CustomSwitch from '../../components/custom-switch/custom-switch.component';\r\nimport AddSample from '../basemaster/AddSample';\r\nimport AddContainerStorageCondition from './AddContainerStorageCondition';\r\nimport { ProductList } from '../product/product.styled';\r\nimport TransactionListMasterJson from '../../components/TransactionListMasterJson';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport StorageCategoryFilter from './StorageCategoryFilter';\r\nimport MoveSampleOrContainers from './MoveSampleOrContainers';\r\nimport { faFolder } from '@fortawesome/free-regular-svg-icons';\r\n\r\nclass SampleStorageMaster extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            enablePropertyPopup: false,\r\n            enableAutoClick: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            toggleAction: false,\r\n            propertyPopupWidth: \"60\",\r\n            splitChangeWidthPercentage: 28.6,\r\n            containers: [],\r\n            treeData: [],\r\n            selectedItem: undefined,\r\n            selectedItemMove: undefined\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    openModal = () => {\r\n        if (this.props.Login.selectedItem && this.props.Login.selectedItem.containerlastnode === true) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModal: true, selectedRecord: {},\r\n                    operation: \"create\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n    closeModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: false, selectedRecord: {}\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeChildModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openChildModal: false, selectedRecord: {}\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[event.target.name] = event.target.value;\r\n        this.setState({ selectedRecord });\r\n    };\r\n    onKeyUp = (event) => {\r\n        if (event.keyCode === 13) {\r\n            this.onSaveClickSample(2);\r\n        }\r\n    };\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.state.activeTabIndex === 1) {\r\n            this.onSaveClickSample(saveType, formRef);\r\n        } else {\r\n            this.onSaveClickContainer(saveType, formRef);\r\n        }\r\n    }\r\n    onSaveClickSample = (saveType, formRef) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        if (this.props.Login.operation === \"update\") {\r\n            inputData[\"sampleStorageMaster\"] = {\r\n                \"nsamplecode\": this.state.selectedRecord.nsamplecode ? this.state.selectedRecord.nsamplecode : -1,\r\n                \"ssampletraycode\": this.props.Login.sampleTrayCode ? this.props.Login.sampleTrayCode : \"\",\r\n                \"ssamplearno\": this.state.selectedRecord.ssamplearno ? this.state.selectedRecord.ssamplearno : \"\",\r\n                \"nsamplestoragelocationcode\": this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode\r\n            }\r\n        }\r\n        else {\r\n            //add               \r\n            inputData[\"sampleStorageMaster\"] = {\r\n                \"ssampletraycode\": this.props.Login.sampleTrayCode ? this.props.Login.sampleTrayCode : \"\",\r\n                \"ssamplearno\": this.state.selectedRecord.ssamplearno ? this.state.selectedRecord.ssamplearno : \"\",\r\n                \"nsamplestoragelocationcode\": this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode\r\n            }\r\n        }\r\n\r\n        const inputParam = {\r\n            methodUrl: this.props.Login.inputParam.methodUrl,\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\r\n            inputData: inputData,\r\n            operation: this.props.Login.operation,\r\n            saveType, formRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n        //     const updateInfo = {\r\n        //         typeName: DEFAULT_RETURN,\r\n        //         data: {\r\n        //             loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n        //         }\r\n        //     }\r\n        //     this.props.updateStore(updateInfo);\r\n        // }\r\n        // else {\r\n        // this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        this.props.saveSampleStorageMaster(this.props.Login.userInfo, this.props.Login.masterData, this.state.selectedRecord, inputParam);\r\n        // }\r\n\r\n    }\r\n\r\n    onSaveClickContainer = (saveType, formRef) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        inputData[\"containerStorageCondition\"] = { \"nstatus\": 1 };\r\n        if (this.props.Login.operation === \"update\") {\r\n            inputData[\"containerStorageCondition\"][\"ncontainerstoragecode\"] = this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ?\r\n                this.props.Login.masterData.storageContainer.ncontainerstoragecode : -1\r\n            inputData[\"containerStorageCondition\"][\"scontainercode\"] = this.props.Login.containerCode && this.props.Login.containerCode !== undefined ? this.props.Login.containerCode : \"\"\r\n            inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"] = this.state.selectedRecord.nstorageconditioncode && this.state.selectedRecord.nstorageconditioncode !== undefined ? this.state.selectedRecord.nstorageconditioncode.value : -1\r\n\r\n\r\n        }\r\n        inputData[\"containerStorageCondition\"][\"scontainercode\"] = this.props.Login.containerCode && this.props.Login.containerCode !== undefined ? this.props.Login.containerCode : \"\"\r\n        inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"] = this.state.selectedRecord.nstorageconditioncode && this.state.selectedRecord.nstorageconditioncode !== undefined ? this.state.selectedRecord.nstorageconditioncode.value : -1\r\n\r\n        const inputParam = {\r\n            methodUrl: \"ContainerStorageCondition\",\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\r\n            inputData: inputData,\r\n            operation: this.props.Login.operation,\r\n            saveType, formRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n        //     const updateInfo = {\r\n        //         typeName: DEFAULT_RETURN,\r\n        //         data: {\r\n        //             loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n        //         }\r\n        //     }\r\n        //     this.props.updateStore(updateInfo);\r\n        // }\r\n        // else {\r\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        // }\r\n\r\n    }\r\n\r\n\r\n    itemRenderView = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        if (!this.state.toggleActionView) {\r\n            return (\r\n                <>\r\n                    {item ? (\r\n                        <>\r\n                            <span className={`normal-node\r\n                            ${item.selected ? \"active-node\" : \"\"}\r\n                            ${item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                            `}>\r\n                                {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                    item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                        item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                            item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                {item.text}\r\n                            </span>\r\n                            {/* <ul className=\"list-inline mb-0\"> */}\r\n                            {/* {console.log(clickedItem,'===>')} */}\r\n                            {/* {clickedItem.item.editable ? (\r\n                                <>\r\n                                    <li className=\"list-inline-item\"> */}\r\n                            {/* <span\r\n                                            className=\"action-icon tree-toggle\"\r\n                                            onClick={(e) => this.setProperties(e, clickedItem)}\r\n                                        ></span> */}\r\n                            {/* </li> */}\r\n                            {/* </> */}\r\n                            {/* ) : null} */}\r\n                            {/* </ul> */}\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClickView = (event) => {\r\n        if (this.state.selectedItem) {\r\n            this.state.selectedItem.selected = false;\r\n        }\r\n\r\n        event.item.selected = true;\r\n        this.setState({\r\n            selectedItem: event.item\r\n        })\r\n        // let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n        //     if (item.editable === true) {\r\n        //         item.editable = false;\r\n        //     } else if (item.id === event.item.id) {\r\n        //         item.editable = true;\r\n        //     }\r\n        //     return item;\r\n        // });\r\n\r\n        // this.setState({ treeDataView: newData });\r\n\r\n        if (event.item && event.item.containerlastnode && event.item.containerlastnode === true) {\r\n\r\n            this.props.getSampleMaster(event.item, this.props.Login.userInfo, this.props.Login.masterData);\r\n\r\n            if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\r\n                this.changePropertyView(1);\r\n            } else if (this.state.activeTabIndex === undefined) {\r\n                this.changePropertyView(1);\r\n            } else if (this.state.activeTabIndex !== 1) {\r\n                this.changePropertyView(1);\r\n            }\r\n\r\n\r\n        } else if (event.item && event.item.containerfirstnode && event.item.containerfirstnode === true) {\r\n\r\n            let result = this.state.treeDataView;\r\n\r\n\r\n\r\n            const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n            let itemText = \"\";\r\n            for (let i = 0; i < indices.length - 1; i++) {\r\n\r\n                result = result[indices[i]].items;\r\n\r\n                itemText = i > 0 ? itemText + \" -> \" + result[0].text : itemText + \"\" + result[0].text;\r\n\r\n            }\r\n\r\n            this.props.getContainerStorageCondition(event.item, this.props.Login.userInfo, this.props.Login.masterData, itemText);\r\n\r\n            if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\r\n                this.changePropertyView(2);\r\n            } else if (this.state.activeTabIndex === undefined) {\r\n                this.changePropertyView(2);\r\n            } else if (this.state.activeTabIndex !== 2) {\r\n                this.changePropertyView(2);\r\n            }\r\n\r\n        } else if (event.item && event.item.locationlastnode && event.item.locationlastnode === true) {\r\n\r\n            let containers = [];\r\n            if (event.item.items && event.item.items.length > 0) {\r\n                event.item.items.forEach(element => {\r\n                    if (element.containerfirstnode === true) {\r\n                        containers.push(element);\r\n                    }\r\n                });\r\n            }\r\n\r\n            this.props.getContainers(event.item, this.props.Login.masterData, containers);\r\n            if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\r\n                this.changePropertyView(3);\r\n            } else if (this.state.activeTabIndex === undefined) {\r\n                this.changePropertyView(3);\r\n            } else if (this.state.activeTabIndex !== 3) {\r\n                this.changePropertyView(3);\r\n            }\r\n        } else {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    selectedItem: event.item\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n\r\n\r\n\r\n    };\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (caseNo === 3) {\r\n\r\n            let nfilterStorageCategory = this.state.nfilterStorageCategory || {}\r\n            nfilterStorageCategory = comboData;\r\n            this.searchRef.current.value = \"\";\r\n            this.setState({ nfilterStorageCategory })\r\n\r\n        } else if (caseNo === 4) {\r\n\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.loadApprovedLocationOnCombo(this.props.Login.userInfo, this.props.Login.masterData, selectedRecord);\r\n\r\n        } else if (caseNo === 5) {\r\n\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.loadApprovedLocationOnTreeData(this.props.Login.userInfo, this.props.Login.masterData, selectedRecord);\r\n        } else {\r\n\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n    onExpandChangeView = (event) => {\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n\r\n    componentDidUpdate(previousProps) {\r\n\r\n        let isComponentUpdated = false;\r\n        let { filterData } = this.state;\r\n        console.log(this.props.Login.masterData.searchedData);\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({ controlMap, userRoleControlRights });\r\n            }\r\n        }\r\n        if (this.props.Login.masterData.approvedTreeData !== previousProps.Login.masterData.approvedTreeData) {\r\n            if (this.props.Login.masterData.approvedTreeData && this.props.Login.masterData.approvedTreeData !== undefined) {\r\n                this.setState({\r\n                    treeData:\r\n                        this.props.Login.masterData.approvedTreeData\r\n                });\r\n            } //JSON.parse(this.props.Login.masterData.approvedTreeData[\"jsondata\"].value).data\r\n        }\r\n\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n                this.setState({\r\n                    treeDataView:\r\n                        JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    treeDataView: undefined\r\n                });\r\n            }\r\n        }\r\n\r\n        let nfilterStorageCategory = this.state.nStorageCategory || {};\r\n        let filterStorageCategory = this.state.filterStorageCategory || {};\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            if (this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined) {\r\n                const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                    \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\r\n                filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\r\n                if (filterStorageCategory && filterStorageCategory.length > 0) {\r\n                    nfilterStorageCategory = filterStorageCategory[0];\r\n                }\r\n                isComponentUpdated = true;\r\n            }\r\n        } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\r\n            if (this.props.Login.masterData.nfilterStorageCategory && this.props.Login.masterData.nfilterStorageCategory !== undefined) {\r\n                nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\r\n                isComponentUpdated = true;\r\n            }\r\n        }\r\n        if (isComponentUpdated) {\r\n            this.setState({ nfilterStorageCategory, filterStorageCategory });\r\n        }\r\n\r\n        if (this.props.Login.activeTabIndex !== previousProps.Login.activeTabIndex) {\r\n            this.setState({ activeTabIndex: this.props.Login.activeTabIndex });\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({\r\n                selectedRecord: this.props.Login.selectedRecord\r\n            });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n        setTimeout(() => { this._scrollBarRef.updateScroll() })\r\n    };\r\n\r\n    moveItem = (userInfo, masterData) => {\r\n        if (this.state.activeTabIndex && this.state.activeTabIndex === 1) {\r\n            if (this.props.Login.masterData.sampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\r\n                this.props.openSampleStorageApprovedLocation(userInfo, masterData);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYSAMPLE\" }));\r\n            }\r\n        } else if (this.state.activeTabIndex && this.state.activeTabIndex === 3) {\r\n            if (this.props.Login.masterData.containers && this.props.Login.masterData.selectedContainer && this.props.Login.masterData.selectedContainer[0] !== undefined) {\r\n                this.props.openSampleStorageApprovedLocation(userInfo, masterData);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYCONTAINER\" }));\r\n            }\r\n        }\r\n\r\n    }\r\n    confirmDelete = (ncontrolCode) => {\r\n        if (this.props.Login.masterData.sampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\r\n            this.confirmMessage.confirm(\"deleteMessage\",\r\n                this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                () => this.deleteSampleStorageMaster(ncontrolCode));\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYSAMPLE\" }));\r\n        }\r\n    };\r\n    deleteSampleStorageMaster = (ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        let data = [];\r\n\r\n        this.props.Login.masterData.selectedSampleStorageMaster.forEach(item => {\r\n            data.push({ \"nsamplecode\": item.nsamplecode, \"ssampletraycode\": item.ssampletraycode });\r\n        })\r\n\r\n        inputData[\"sampleStorageMaster\"] = data;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        const inputParam = {\r\n            methodUrl: \"SampleStorageMaster\",\r\n            classUrl: \"samplestoragemaster\",\r\n            inputData: inputData,\r\n            operation: \"delete\", searchRef: this.searchRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n        //     const updateInfo = {\r\n        //         typeName: DEFAULT_RETURN,\r\n        //         data: {\r\n        //             loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\", openModal: true,\r\n        //             screenName: this.props.Login.inputParam.displayName\r\n        //         }\r\n        //     }\r\n        //     this.props.updateStore(updateInfo);\r\n        // }\r\n        // else {\r\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        // }\r\n\r\n    }\r\n    loadStorageCondition = () => {\r\n        let openStorage = false;\r\n        if (this.props.Login.masterData.storageContainer === null || this.props.Login.masterData.storageContainer === undefined) {\r\n            mapTree(this.state.treeDataView, \"items\", (item) => {\r\n                if (item.id === this.props.Login.selectedItem.id) {\r\n                    openStorage = true;\r\n                }\r\n                return item;\r\n            });\r\n        } else if (this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== undefined) {\r\n            openStorage = true;\r\n        }\r\n        if (openStorage === true) {\r\n            if (this.props.Login.selectedItem && this.props.Login.selectedItem.containerfirstnode === true) {\r\n                this.props.getStorageConditionFromMaster(this.props.Login.userInfo, this.props.Login.masterData)\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYCONTAINER\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYCONTAINER\" }));\r\n        }\r\n\r\n    }\r\n    discardSampleStorageMaster = (ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        let data = [];\r\n        if (this.props.Login.masterData.sampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\r\n            this.props.Login.masterData.selectedSampleStorageMaster.forEach(item => {\r\n                data.push({\r\n                    \"nsamplecode\": item.nsamplecode, \"ssampletraycode\": item.ssampletraycode, \"npreregno\": item.npreregno,\r\n                    \"ntransactionsamplecode\": item.ntransactionsamplecode, \"sarno\": item.sarno, \"ssamplearno\": item.ssamplearno\r\n                });\r\n            })\r\n\r\n            inputData[\"sampleStorageMaster\"] = data;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n            const inputParam = {\r\n                methodUrl: \"SampleStorageMaster\",\r\n                classUrl: \"samplestoragemaster\",\r\n                inputData: inputData,\r\n                operation: \"discard\", searchRef: this.searchRef\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            //     const updateInfo = {\r\n            //         typeName: DEFAULT_RETURN,\r\n            //         data: {\r\n            //             loadEsign: true, screenData: { inputParam, masterData }, operation: \"discard\", openModal: true,\r\n            //             screenName: this.props.Login.inputParam.displayName\r\n            //         }\r\n            //     }\r\n            //     this.props.updateStore(updateInfo);\r\n            // }\r\n            // else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            // }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYSAMPLE\" }));\r\n        }\r\n    }\r\n    sideNavDetail = (screenName) => {\r\n\r\n        const addId = this.state.controlMap.has(\"Add SampleStorageMaster\") && this.state.controlMap.get(\"Add SampleStorageMaster\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageMaster\") && this.state.controlMap.get(\"Edit SampleStorageMaster\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageMaster\") && this.state.controlMap.get(\"Delete SampleStorageMaster\").ncontrolcode;\r\n        const editContainerID = this.state.controlMap.has(\"Edit StorageContainer\") && this.state.controlMap.get(\"Edit StorageContainer\").ncontrolcode;\r\n        const moveId = this.state.controlMap.has(\"Move SampleStorageMaster\") && this.state.controlMap.get(\"Move SampleStorageMaster\").ncontrolcode;\r\n        const discardId = this.state.controlMap.has(\"Discard SampleStorageMaster\") && this.state.controlMap.get(\"Discard SampleStorageMaster\").ncontrolcode;\r\n\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n            return (\r\n                screenName == \"IDS_SAMPLEDETAILS\" ?\r\n                    <>\r\n                        {this.props.Login.sampleTrayCode && this.props.Login.sampleTrayCode !== undefined ?\r\n                            <>\r\n                                <div className=\"actions-stripe\">\r\n                                    <div className=\"d-flex justify-content-end\">\r\n                                        <Nav.Link name=\"addsample\" className=\"add-txt-btn\"\r\n                                            hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                            onClick={() => this.openModal()}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faPlus} /> { }\r\n                                            <FormattedMessage id=\"IDS_SAMPLE\" defaultMessage=\"Sample\" />\r\n                                        </Nav.Link>\r\n\r\n                                        <Nav.Link name=\"deletesample\" className=\"add-txt-btn\"\r\n                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                            onClick={() => this.confirmDelete(deleteId)}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faTrashAlt} /> { }\r\n                                            <FormattedMessage id=\"IDS_DELETE\" defaultMessage=\"Delete\" />\r\n                                        </Nav.Link>\r\n\r\n                                        <Nav.Link name=\"movesample\" className=\"add-txt-btn\"\r\n                                            hidden={this.state.userRoleControlRights.indexOf(moveId) === -1}\r\n                                            onClick={() => this.moveItem(this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faPlus} /> { }\r\n                                            <FormattedMessage id=\"IDS_MOVE\" defaultMessage=\"Move\" />\r\n                                        </Nav.Link>\r\n\r\n                                        <Nav.Link name=\"discardsample\" className=\"add-txt-btn\"\r\n                                            hidden={this.state.userRoleControlRights.indexOf(discardId) === -1}\r\n                                            onClick={() => this.discardSampleStorageMaster(discardId)}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faArrowRight} /> { }\r\n                                            <FormattedMessage id=\"IDS_DISCARD\" defaultMessage=\"Discard\" />\r\n                                        </Nav.Link>\r\n\r\n                                    </div>\r\n                                </div>\r\n                                <div className='toolbar-top-inner'>\r\n                                    <TransactionListMasterJson\r\n                                        listMasterShowIcon={1}\r\n                                        clickIconGroup={false}\r\n                                        splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                        masterList={this.props.Login.masterData.sampleStorageMaster || []}\r\n                                        selectedMaster={this.props.Login.masterData.selectedSampleStorageMaster || []}\r\n                                        primaryKeyField=\"nsamplecode\"\r\n                                        filterColumnData={this.props.filterTransactionList}\r\n                                        getMasterDetail={this.props.getSampleMasterDetails}\r\n                                        inputParam={{\r\n                                            ...this.props.Login.masterData\r\n                                        }}\r\n                                        moreField={this.props.Login.masterData.sampleStorageMaster || []}\r\n                                        // selectionList={this.props.Login.masterData.RealFilterStatusValue\r\n                                        //     && this.props.Login.masterData.RealFilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus : []}\r\n                                        selectionColorField=\"scolorhexcode\"\r\n                                        mainField={\"ssamplearno\"}\r\n                                        showStatusLink={true}\r\n                                        showStatusName={true}\r\n                                        // statusFieldName=\"stransdisplaystatus\"\r\n                                        // statusField=\"ntransactionstatus\"\r\n                                        selectedListName=\"selectedSampleStorageMaster\"\r\n                                        // searchListName=\"searchedSample\"\r\n                                        // searchRef={this.searchSampleRef}\r\n                                        // objectName=\"sample\"\r\n                                        listName=\"IDS_SAMPLE\"\r\n                                        // selectionField=\"ntransactionstatus\"\r\n                                        // selectionFieldName=\"stransdisplaystatus\"\r\n                                        // showFilter={this.props.Login.showFilter}\r\n                                        // openFilter={this.openFilter}\r\n                                        // closeFilter={this.closeFilter}\r\n                                        // onFilterSubmit={this.onFilterSubmit}\r\n                                        // subFields={this.state.DynamicSampleColumns}                                                 \r\n                                        needMultiSelect={false}\r\n                                        needSingleSelect={true}\r\n                                        subListName=\"columnlist\"\r\n                                        jsonfield=\"jsondata\"\r\n                                        showDynamicFields={true}\r\n                                        showStatusBlink={true}\r\n                                        // filterParam={{\r\n                                        //     ...this.state.filterSampleParam,\r\n                                        //     childRefs: [{ ref: this.searchSubSampleRef, childFilteredListName: \"searchedSubSample\" },\r\n                                        //     { ref: this.searchTestRef, childFilteredListName: \"searchedTest\" }],\r\n                                        // }}\r\n                                        // subFieldsLabel={false}\r\n                                        handlePageChange={this.handlePageChange}\r\n                                        skip={this.state.skip}\r\n                                        take={this.state.take}\r\n                                        needFilter={false}\r\n                                        hidePaging={false}\r\n                                        hideSearch={true}\r\n                                    />\r\n                                </div>\r\n                            </>\r\n                            : <></>\r\n                        }\r\n                    </>\r\n                    : screenName == \"IDS_CONTAINERS\" ?\r\n                        <>\r\n                            <div className=\"actions-stripe\">\r\n                                <div className=\"d-flex justify-content-end\">\r\n                                    <Nav.Link name=\"addsample\" className=\"add-txt-btn\"\r\n                                        hidden={this.state.userRoleControlRights.indexOf(moveId) === -1}\r\n                                        onClick={() => this.moveItem(this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                    >\r\n                                        <FontAwesomeIcon icon={faPlus} /> { }\r\n                                        <FormattedMessage id=\"IDS_MOVE\" defaultMessage=\"Move\" />\r\n                                    </Nav.Link>\r\n                                </div>\r\n                            </div>\r\n                            <div className='toolbar-top-inner container-tab'>\r\n                                <TransactionListMasterJson\r\n                                    listMasterShowIcon={1}\r\n                                    clickIconGroup={false}\r\n                                    splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                    masterList={this.props.Login.masterData.containers || []}\r\n                                    selectedMaster={this.props.Login.masterData.selectedContainer || []}\r\n                                    primaryKeyField=\"id\"\r\n                                    filterColumnData={this.props.filterTransactionList}\r\n                                    getMasterDetail={this.props.getselectedContainer}\r\n                                    inputParam={{\r\n                                        ...this.props.Login.masterData\r\n                                    }}\r\n                                    selectionColorField=\"scolorhexcode\"\r\n                                    mainField={\"text\"}\r\n                                    showStatusLink={true}\r\n                                    showStatusName={true}\r\n                                    selectedListName=\"selectedContainer\"\r\n                                    listName=\"IDS_SAMPLE\"\r\n                                    needMultiSelect={false}\r\n                                    needSingleSelect={true}\r\n                                    subListName=\"columnlist\"\r\n                                    jsonfield=\"jsondata\"\r\n                                    showDynamicFields={true}\r\n                                    showStatusBlink={true}\r\n                                    handlePageChange={this.handlePageChange}\r\n                                    skip={this.state.skip}\r\n                                    take={this.state.take}\r\n                                    needFilter={false}\r\n                                    hidePaging={false}\r\n                                    hideSearch={true}\r\n\r\n                                />\r\n                            </div>\r\n                        </>\r\n                        : screenName == \"IDS_STORAGECONDITION\" ?\r\n                            <ProductList className=\"panel-main-content storage-tab\">\r\n                                {/* {this.props.Login.masterData.storageContainerCondition && this.props.Login.masterData.storageContainerCondition !== undefined ? */}\r\n                                <Card className=\"border-0\">\r\n                                    <Card.Header className=\"no-padding\">\r\n                                        <Card.Subtitle>\r\n                                            {/* <div className=\"d-inline\">\r\n                                                <Nav.Link name=\"editUser\" hidden={this.state.userRoleControlRights.indexOf(editContainerID) === -1}\r\n                                                    className=\"btn btn-circle outline-grey mr-2\"\r\n                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                    onClick={() => this.loadStorageCondition()}\r\n                                                >\r\n                                                    <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                </Nav.Link>\r\n                                            </div> */}\r\n                                            <div className=\"actions-stripe\">\r\n                                                <div className=\"d-flex justify-content-end\">\r\n                                                    <Nav.Link name=\"editContainer\" className=\"add-txt-btn\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(editContainerID) === -1}\r\n                                                        onClick={() => this.loadStorageCondition()}\r\n                                                    >\r\n                                                        {/* <FontAwesomeIcon icon={faPlus} /> { } */}\r\n                                                        <FormattedMessage id=\"IDS_STORAGECONDITION\" defaultMessage=\"Storage Condition\" />\r\n                                                    </Nav.Link>\r\n                                                </div>\r\n                                            </div>\r\n                                        </Card.Subtitle>\r\n                                    </Card.Header>\r\n                                    <Card.Body className=\"form-static-wrap no-padding\">\r\n                                        <Row>\r\n                                            <Col md={12}>\r\n                                                <FormGroup>\r\n                                                    <FormLabel>\r\n                                                        <FormattedMessage id=\"IDS_STORAGECONDITIONNAME\" />\r\n                                                    </FormLabel>\r\n                                                    <ReadOnlyText>\r\n                                                        {this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ? this.props.Login.masterData.storageContainer.sstorageconditionname : \"\" || \"\"}\r\n                                                    </ReadOnlyText>\r\n                                                </FormGroup>\r\n                                            </Col>\r\n                                            <Col md={12}>\r\n                                                <FormGroup>\r\n                                                    <FormLabel>\r\n                                                        <FormattedMessage id=\"IDS_STORAGELOCATIONNAME\" />\r\n                                                    </FormLabel>\r\n                                                    <ReadOnlyText>\r\n                                                        {this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ? (this.props.Login.containerLocation && this.props.Login.containerLocation) : \"\"}\r\n                                                    </ReadOnlyText>\r\n                                                </FormGroup>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Card.Body>\r\n                                </Card>\r\n                                {/* : \"\"} */}\r\n\r\n                            </ProductList>\r\n                            : \"\"\r\n            )\r\n        } else {\r\n            const masterData = {\r\n                ...this.props.Login.masterData, storageContainer: undefined,\r\n                containers: undefined, sampleStorageMaster: undefined\r\n            };\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    activeTabIndex: undefined,\r\n                    containerLocation: undefined,\r\n                    sampleTrayCode: undefined,\r\n                    containerCode: undefined,\r\n                    locationCode: undefined,\r\n                    masterData\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n    changePropertyView = (index, event, status) => {\r\n        if (window.innerWidth > 992 && event && this.state.enableAutoClick || !event) {\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    activeTabIndex: this.state.activeTabIndex !== index ? index : 0 ? index : false\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n    changePropertyViewClose = (id) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                activeTabIndex: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onInputSwitchOnChange = (event) => {\r\n        if (event.target.name == \"PopupNav\") {\r\n            this.setState({\r\n                enablePropertyPopup: !this.state.enablePropertyPopup\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                enableAutoClick: !this.state.enableAutoClick\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": this.props.Login.masterData.selectedStorageCategoryName && this.props.Login.masterData.selectedStorageCategoryName !== null ? this.props.Login.masterData.selectedStorageCategoryName : \"NA\"\r\n                    // \"value\": this.props.Login.masterData.approvedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\r\n                    //     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        if (this.state.nfilterStorageCategory.value) {\r\n            let inputParam = {\r\n                inputData: {\r\n                    nstoragecategorycode: this.state.nfilterStorageCategory.value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nfilterStorageCategory: this.state.nfilterStorageCategory\r\n\r\n                }\r\n            }\r\n            this.props.changeStorageCategoryFilterOnSampleMaster(inputParam, this.props.Login.masterData.filterStorageCategory);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STORAGECATEGORYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n    itemRender = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        if (!this.state.toggleAction) {\r\n            return (\r\n                <>\r\n                    {clickedItem.item ? (\r\n                        <span className={`normal-node\r\n                         ${clickedItem.item.editable ? \"active-node\" : \"\"}\r\n                         ${item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                         `}>\r\n                            {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                    item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                        item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                            {item.text}\r\n                        </span>\r\n                        // <ul className=\"list-inline mb-0\">\r\n                            // <li className=\"list-inline-item mr-3 \">{clickedItem.item.text}</li>\r\n                            // {clickedItem.item.editable ? (\r\n                                // <>\r\n                                    // <li className=\"list-inline-item \">\r\n                                        // <span\r\n                                        // className=\"action-icon\"\r\n                                        // onClick={(e) => this.setProperties(e, clickedItem)}\r\n                                        // ></span>\r\n                                    // </li>\r\n                                // </>\r\n                            // ) : null}\r\n                        // </ul>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClick = (event) => {\r\n        // if (this.state.selectedItemMove) {\r\n        //     this.state.selectedItemMove.selected = false;\r\n        // }\r\n\r\n        // event.item.selected = true;\r\n        // this.setState({\r\n        //     selectedItem: event.item\r\n        // })\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n            }\r\n            return item;\r\n        });\r\n        // newData.map((data) => {\r\n        //     this.clearSelected(data, event.item)\r\n        // })\r\n        this.setState({ treeData: newData, clickedItem: event.item });\r\n    };\r\n    clearSelected(innerObj, selectedItem) {\r\n        // console.log(innerObj, selectedItem, \"aasd\")\r\n        if (innerObj.id == selectedItem.id) {\r\n            innerObj.selected = true;\r\n        } else {\r\n            innerObj.selected = false;\r\n        }\r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            innerObj.items.map((childObj) => {\r\n                this.clearSelected(childObj, selectedItem)\r\n            })\r\n        }\r\n        return innerObj\r\n    }\r\n    onExpandChange = (event) => {\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n\r\n    onMoveClick = (saveType, formRef) => {\r\n        let inputParam = {};\r\n        if (this.state.activeTabIndex === 1) {\r\n\r\n            if (this.state.clickedItem && this.state.clickedItem.containerlastnode === true) {\r\n                if (this.state.clickedItem.id !== this.props.Login.sampleTrayCode) {\r\n\r\n                    inputParam = {\r\n                        selectedSamples: this.props.Login.masterData.selectedSampleStorageMaster,\r\n                        moveTargetTrayCode: this.state.clickedItem.id,\r\n                        nsamplestoragelocationcode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\r\n                        moveContainers: false,\r\n                        storageCategory: this.state.selectedRecord[\"nstoragecategorycode\"] && this.state.selectedRecord[\"nstoragecategorycode\"].value\r\n                    }\r\n                    this.props.moveItems(inputParam, this.props.Login.masterData);\r\n                }\r\n            }\r\n\r\n\r\n        } else if (this.state.activeTabIndex === 3) {\r\n\r\n            if (this.state.clickedItem && this.state.clickedItem.locationlastnode === true) {\r\n                if (this.state.clickedItem.id !== this.props.Login.locationCode) {\r\n\r\n                    let getSampleTray = [];\r\n                    let targetData = this.state.treeData || [];\r\n                    let sourceData = this.state.treeDataView || [];\r\n                    let newData = [];\r\n                    let sameLocation = true;\r\n                    let targetJsonData = {};\r\n                    let SourceJsonData = {};\r\n\r\n\r\n\r\n                    if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode === this.state.selectedRecord[\"nsamplestoragelocationcode\"].value) {\r\n                        this.props.Login.masterData.selectedContainer.forEach(data => {\r\n                            targetData = removeItems(targetData, \"items\", (item) => {\r\n                                return item.id === data.id;\r\n                            });\r\n                        })\r\n\r\n\r\n                        newData = mapTree(targetData, \"items\", (item) => {\r\n                            if (item.id === this.state.clickedItem.id) {\r\n                                item.items = item.items || [];\r\n                                item.items.push(...this.props.Login.masterData.selectedContainer);\r\n                            }\r\n                            if (item.expanded === false) {\r\n                                item.expanded = true;\r\n                            }\r\n                            if (item.selected && item.selected === true) {\r\n                                item.selected = false;\r\n                            }\r\n                            return item;\r\n                        });\r\n                        targetJsonData[\"data\"] = newData;\r\n                    } else {\r\n\r\n\r\n                        this.props.Login.masterData.selectedContainer.forEach(data => {\r\n                            sourceData = removeItems(sourceData, \"items\", (item) => {\r\n                                return item.id === data.id;\r\n                            });\r\n\r\n                            if (sourceData.length > 0) {\r\n                                sourceData = mapTree(sourceData, \"items\", (item) => {\r\n                                    if (item.selected && item.selected === true) {\r\n                                        item.selected = false;\r\n                                    }\r\n                                    return item;\r\n                                });\r\n                            }\r\n                        })\r\n\r\n\r\n                        newData = mapTree(targetData, \"items\", (item) => {\r\n                            if (item.id === this.state.clickedItem.id) {\r\n                                item.items = item.items || [];\r\n                                item.items.push(...this.props.Login.masterData.selectedContainer);\r\n                            }\r\n                            if (item.expanded === false) {\r\n                                item.expanded = true;\r\n                            }\r\n                            if (item.selected && item.selected === true) {\r\n                                item.selected = false;\r\n                            }\r\n                            return item;\r\n                        });\r\n                        SourceJsonData[\"data\"] = sourceData;\r\n                        targetJsonData[\"data\"] = newData;\r\n                        this.props.Login.masterData.selectedContainer.forEach(data => {\r\n\r\n                            mapTree([data], \"items\", (item) => {\r\n                                if (item.containerlastnode === true) {\r\n                                    getSampleTray.push({ id: item.id, text: item.text, nsamplestoragelocationcode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].value });\r\n                                }\r\n                            });\r\n                        })\r\n                        sameLocation = false;\r\n                    }\r\n\r\n\r\n                    inputParam = {\r\n                        selectedSamples: getSampleTray,\r\n                        sourceLocationCode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\r\n                        sourceVersionCode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode,\r\n                        nsamplestoragelocationcode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestoragelocationcode,\r\n                        nsamplestorageversioncode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestorageversioncode,\r\n                        SourceJsonData: SourceJsonData,\r\n                        targetJsonData: targetJsonData,\r\n                        moveContainers: true,\r\n                        storageCategory: this.props.Login.masterData.selectedSampleStorageVersion.nstoragecategorycode,\r\n                        sameLocation\r\n                    }\r\n                    this.props.moveItems(inputParam, this.props.Login.masterData);\r\n                }\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n            classUrl: \"samplestoragemaster\",\r\n            methodUrl: \"SampleStorageMaster\",\r\n            displayName: \"IDS_SAMPLESTORAGEMASTER\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n    render() {\r\n\r\n        let mandatoryFields = [];\r\n\r\n        if (this.state.activeTabIndex === 1) {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_SAMPLE\", \"dataField\": \"ssamplearno\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" });\r\n        } else if (this.state.activeTabIndex === 2) {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_STORAGECONDITIONNAME\", \"dataField\": \"nstorageconditioncode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n        }\r\n\r\n        const filterParam = {\r\n            inputListName: \"approvedSampleStorageLocation\", selectedObject: \"selectedSampleStorageVersion\", primaryKeyField: \"nsamplestorageversioncode\",\r\n            fetchUrl: \"samplestoragelocation/getActiveSampleStorageVersion\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap toolbar-top-wrap mtop-4 screen-height-window\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        : \"\"}\r\n                    <Row noGutters={true} className={`toolbar-top ${this.state.activeTabIndex ? 'active-property-bar' : \"\"}`}>\r\n                        <Col md={12}>\r\n                            <ListWrapper className={`vertical-tab-top grid-master ${this.state.enablePropertyPopup ? 'active-popup' : \"\"}`}>\r\n                                <div className={`tab-left-area ${this.state.activeTabIndex ? 'active' : \"\"}`}>\r\n                                    <ListMaster\r\n                                        formatMessage={this.props.intl.formatMessage}\r\n                                        screenName={this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGEMASTER\" })}\r\n                                        masterData={this.props.Login.masterData}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.approvedSampleStorageLocation}\r\n                                        getMasterDetail={(selectedItem) =>\r\n                                            this.props.getSelectedApprovedStorageVersion(\r\n                                                selectedItem, this.props.Login.userInfo,\r\n                                                this.props.Login.masterData\r\n                                            )}\r\n                                        selectedMaster={this.props.Login.masterData.selectedSampleStorageVersion}\r\n                                        primaryKeyField=\"nsamplestoragelocationcode\"\r\n                                        mainField=\"ssamplestoragelocationname\"\r\n                                        // firstField=\"sversionno\"\r\n                                        // secondField=\"stransdisplaystatus\"\r\n                                        filterColumnData={this.props.filterColumnData}\r\n                                        filterParam={filterParam}\r\n                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                        hideAddButton={true}\r\n                                        // addId={addId}\r\n                                        searchRef={this.searchRef}\r\n                                        reloadData={this.reloadData}\r\n                                        hidePaging={false}\r\n                                        // openModal={() => this.props.getDesignTemplateMappingComboService(addParam)}\r\n                                        showFilterIcon={true}\r\n                                        showFilter={this.props.Login.showFilter}\r\n                                        openFilter={this.openFilter}\r\n                                        closeFilter={this.closeFilter}\r\n                                        onFilterSubmit={this.onFilterSubmit}\r\n                                        filterComponent={[\r\n                                            {\r\n                                                \"IDS_STORAGEFILTER\":\r\n                                                    <StorageCategoryFilter\r\n                                                        filterStorageCategory={this.state.filterStorageCategory || []}\r\n                                                        nfilterStorageCategory={this.state.nfilterStorageCategory || {}}\r\n                                                        onComboChange={this.onComboChange}\r\n                                                    />\r\n                                            }\r\n                                        ]}\r\n                                    />\r\n\r\n                                </div>\r\n                                <div className='tree-view-container'>\r\n                                    {this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined ?\r\n                                        <TreeViewEditable\r\n                                            id=\"samplestoragelocation\"\r\n                                            name=\"samplestoragelocation\"\r\n                                            // label=\"Sample Storage Location\"\r\n                                            data={this.state.treeDataView}\r\n                                            expandIcons={true}\r\n                                            item={this.itemRenderView}\r\n                                            selectField={'active-node'}\r\n                                            onExpandChange={this.onExpandChangeView}\r\n                                            onItemClick={this.onItemClickView}\r\n                                        />\r\n                                        :\r\n                                        <></>\r\n                                    }\r\n                                </div>\r\n                                <div className={`${this.state.enablePropertyPopup ? 'active-popup' : \"\"} xs-grid-container vertical-tab ${this.state.activeTabIndex ? 'active' : \"\"}`} >\r\n                                    <div className={`${this.state.enablePropertyPopup ? 'active-popup' : \"\"} vertical-tab-content pager_wrap wrap-class ${this.state.activeTabIndex ? 'active' : \"\"}`} style={{ width: this.state.enablePropertyPopup ? this.state.propertyPopupWidth + '%' : \"\" }}>\r\n                                        <span className={` vertical-tab-close ${this.state.activeTabIndex ? 'active' : \"\"}`} onClick={() => this.changePropertyViewClose(false)}><FontAwesomeIcon icon={faChevronRight} /> </span>\r\n                                        <div className={` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 1 ? 'active' : \"\"}`}>\r\n                                            <h4 className='inner_h4 no-margin'>\r\n                                                {this.props.intl.formatMessage({ id: \"IDS_SAMPLEDETAILS\" })}\r\n                                            </h4>\r\n                                            {this.state.activeTabIndex && this.state.activeTabIndex === 1 ? this.sideNavDetail(\"IDS_SAMPLEDETAILS\") : \"\"}\r\n                                        </div>\r\n                                        <div className={` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 2 ? 'active' : \"\"}`}>\r\n                                            <h4 className='inner_h4 no-margin'>\r\n                                                {this.props.intl.formatMessage({ id: \"IDS_STORAGECONDITION\" })}\r\n                                            </h4>\r\n                                            {this.state.activeTabIndex && this.state.activeTabIndex === 2 ? this.sideNavDetail(\"IDS_STORAGECONDITION\") : \"\"}\r\n                                        </div>\r\n                                        <div className={` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 3 ? 'active' : \"\"}`}>\r\n                                            <h4 className='inner_h4 no-margin'>\r\n                                                {this.props.intl.formatMessage({ id: \"IDS_CONTAINERS\" })}\r\n                                            </h4>\r\n                                            {this.state.activeTabIndex && this.state.activeTabIndex === 3 ? this.sideNavDetail(\"IDS_CONTAINERS\") : \"\"}\r\n                                        </div>\r\n\r\n\r\n                                    </div>\r\n                                    <div className='tab-head'>\r\n                                        <ul>\r\n                                            <li className={`${this.state.activeTabIndex && this.state.activeTabIndex === 1 ? 'active' : \"\"}`} onClick={() => this.changePropertyView(1)}>\r\n                                                <FontAwesomeIcon icon={faEye} />\r\n                                                <span>\r\n                                                    {this.props.intl.formatMessage({ id: \"IDS_SAMPLEDETAILS\" })}\r\n                                                </span>\r\n                                            </li>\r\n                                            <li className={`${this.state.activeTabIndex && this.state.activeTabIndex === 2 ? 'active' : \"\"}`} onClick={() => this.changePropertyView(2)}>\r\n                                                <FontAwesomeIcon icon={faLink} />\r\n                                                <span>\r\n                                                    {this.props.intl.formatMessage({ id: \"IDS_STORAGECONDITION\" })}\r\n                                                </span>\r\n                                            </li>\r\n                                            <li className={`${this.state.activeTabIndex && this.state.activeTabIndex === 3 ? 'active' : \"\"}`} onClick={() => this.changePropertyView(3)}>\r\n                                                <FontAwesomeIcon icon={faComments} />\r\n                                                <span>\r\n                                                    {this.props.intl.formatMessage({ id: \"IDS_CONTAINERS\" })}\r\n                                                </span>\r\n                                            </li>\r\n\r\n                                        </ul>\r\n                                        {/* <span className='tab-click-toggle-btn'>\r\n                                            <CustomSwitch\r\n                                                label={\"Auto Show\"}\r\n                                                type=\"switch\"\r\n                                                name={\"Auto Click\"}\r\n                                                onChange={(event) => this.onInputSwitchOnChange(event)}\r\n                                                defaultValue={this.state.enableAutoClick}\r\n                                                isMandatory={false}\r\n                                                required={true}\r\n                                                checked={this.state.enableAutoClick}\r\n                                            />\r\n                                        </span> */}\r\n                                        {/* <span className='tab-click-toggle-btn'>\r\n                                            <CustomSwitch\r\n                                                label={\"Popup Nav\"}\r\n                                                type=\"switch\"\r\n                                                name={\"PopupNav\"}\r\n                                                onChange={(event) => this.onInputSwitchOnChange(event)}\r\n                                                defaultValue={this.state.enablePropertyPopup}\r\n                                                isMandatory={false}\r\n                                                required={true}\r\n                                                checked={this.state.enablePropertyPopup}\r\n                                            />\r\n                                        </span> */}\r\n                                    </div>\r\n                                </div>\r\n                            </ListWrapper>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: this.state.activeTabIndex && this.state.activeTabIndex === 1 ? \"IDS_SAMPLE\" : \"IDS_STORAGECONDITIONNAME\" })}\r\n                        onSaveClick={this.onSaveClick}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        showSaveContinue={this.state.activeTabIndex && this.state.activeTabIndex === 1 ? true : false}\r\n                        mandatoryFields={mandatoryFields}\r\n                        addComponent={\r\n\r\n                            this.state.activeTabIndex && this.state.activeTabIndex === 1 ? (\r\n                                <AddSample\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onKeyUp={(e) => this.onKeyUp(e)}\r\n                                />\r\n                            ) : this.state.activeTabIndex && this.state.activeTabIndex === 2 ? (\r\n                                <AddContainerStorageCondition\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onComboChange={this.onComboChange}\r\n                                    storageCondition={this.props.Login.masterData.storageCondition || []}\r\n                                />\r\n                            ) : (\r\n                                <></>\r\n                            )\r\n                        }\r\n                    />\r\n                }\r\n\r\n                {this.props.Login.openChildModal &&\r\n                    <SlideOutModal show={this.props.Login.openChildModal}\r\n                        closeModal={this.closeChildModal}\r\n                        operation={this.props.intl.formatMessage({ id: \"IDS_MOVE\" })}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: this.state.activeTabIndex && this.state.activeTabIndex == 1 ? \"IDS_SAMPLE\" : \"IDS_CONTAINERS\" })}\r\n                        onSaveClick={this.onMoveClick}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        addComponent={\r\n                            <MoveSampleOrContainers\r\n                                treeData={this.state.treeData}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                itemRender={this.itemRender}\r\n                                onExpandChange={this.onExpandChange}\r\n                                onItemClick={this.onItemClick}\r\n                                onComboChange={this.onComboChange}\r\n                                storageCategory={this.props.Login.masterData.storageCategory || []}\r\n                                approvedLocation={this.props.Login.masterData.approvedLocation || []}\r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential, getSampleMaster, filterColumnData,\r\n    getSelectedSampleStorageLocation, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation,\r\n    getSelectedSampleStorageVersion, getContainerStorageCondition, getStorageConditionFromMaster, getSampleMasterDetails,\r\n    getContainers, getselectedContainer, changeStorageCategoryFilterOnSampleMaster, openSampleStorageApprovedLocation,\r\n    loadApprovedLocationOnCombo, loadApprovedLocationOnTreeData, moveItems, saveSampleStorageMaster, getSelectedApprovedStorageVersion\r\n})(injectIntl(SampleStorageMaster));"]},"metadata":{},"sourceType":"module"}