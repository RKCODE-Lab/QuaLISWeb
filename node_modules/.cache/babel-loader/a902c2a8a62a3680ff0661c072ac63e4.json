{"ast":null,"code":"import React from'react';import{Row,Col,Nav}from'react-bootstrap';import{injectIntl}from'react-intl';import{connect}from'react-redux';import ParticipantsAccordion from'./ParticipantsAccordion';import CustomAccordion from'../../../components/custom-accordion/custom-accordion.component';import{getParticipantsAccordion,addtraineedocfile}from'../../../actions';import{faCertificate,faCogs,faUser}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var TrainingParticipantsTab=function TrainingParticipantsTab(props){var attendanceId=props.controlMap.has(\"Attendance\")&&props.controlMap.get(\"Attendance\").ncontrolcode;var certifiedId=props.controlMap.has(\"Certified\")&&props.controlMap.get(\"Certified\").ncontrolcode;var competentId=props.controlMap.has(\"Competent\")&&props.controlMap.get(\"Competent\").ncontrolcode;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":props.intl.formatMessage({id:\"IDS_ATTENDANCE\"})//data-for=\"tooltip_list_wrap\"\n,hidden:props.userRoleControlRights.indexOf(attendanceId)===-1,onClick:function onClick(){return props.getTrainingParticipantsAttended(props.Login.masterData.SelectedTrainingUpdate,props.selectedRecord,props.Login.userInfo,\"attended\",attendanceId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUser})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":props.intl.formatMessage({id:\"IDS_CERTIFIED\"})//data-for=\"tooltip_list_wrap\"\n,hidden:props.userRoleControlRights.indexOf(certifiedId)===-1,onClick:function onClick(){return props.getTrainingParticipantsCertified(props.Login.masterData.SelectedTrainingUpdate,props.selectedRecord,props.Login.userInfo,\"certify\",certifiedId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCertificate})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":props.intl.formatMessage({id:\"IDS_COMPETENT\"})//data-for=\"tooltip_list_wrap\"\n,hidden:props.userRoleControlRights.indexOf(competentId)===-1,onClick:function onClick(){return props.getTrainingParticipantsCompetent(props.Login.masterData.SelectedTrainingUpdate,props.selectedRecord,props.Login.userInfo,\"competent\",competentId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCogs}))),props.Login.masterData.Participants&&props.Login.masterData.Participants.length>0?/*#__PURE__*/React.createElement(CustomAccordion,{key:\"Participants\",accordionTitle:\"sfullname\",accordionComponent:participantsAccordion(props),inputParam:{masterData:props.Login.masterData,userInfo:props.Login.userInfo},accordionClick:props.getParticipantsAccordion,accordionPrimaryKey:\"nparticipantcode\",accordionObjectName:\"version\"//addtraineedocfile={props.addtraineedocfile}\n,selectedKey:props.Login.masterData.selectedParticipants.nparticipantcode}):\"\");};var participantsAccordion=function participantsAccordion(props){var accordionMap=new Map();props.Login.masterData.Participants.map(function(version){return accordionMap.set(version.nparticipantcode,/*#__PURE__*/React.createElement(ParticipantsAccordion,{version:version,addtraineedoc:props.addtraineedoc,addtraineedocfile:props.addtraineedocfile,userRoleControlRights:props.userRoleControlRights,controlMap:props.controlMap,userInfo:props.Login.userInfo,masterData:props.Login.masterData,inputParam:props.Login.inputParam,deleteRecord:props.deleteRecord,fetchParticipantsRecordByID:props.fetchParticipantsRecordByID,selectedId:props.Login.selectedId,viewVersionTemplate:props.viewVersionTemplate,viewTraineeDocumentFile:props.viewTraineeDocumentFile}));});return accordionMap;};export default connect(mapStateToProps,{getParticipantsAccordion:getParticipantsAccordion,addtraineedocfile:addtraineedocfile})(injectIntl(TrainingParticipantsTab));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/competencemanagement/trainingupdate/TrainingParticipantsTab.js"],"names":["React","Row","Col","Nav","injectIntl","connect","ParticipantsAccordion","CustomAccordion","getParticipantsAccordion","addtraineedocfile","faCertificate","faCogs","faUser","FontAwesomeIcon","mapStateToProps","state","Login","TrainingParticipantsTab","props","attendanceId","controlMap","has","get","ncontrolcode","certifiedId","competentId","intl","formatMessage","id","userRoleControlRights","indexOf","getTrainingParticipantsAttended","masterData","SelectedTrainingUpdate","selectedRecord","userInfo","getTrainingParticipantsCertified","getTrainingParticipantsCompetent","Participants","length","participantsAccordion","selectedParticipants","nparticipantcode","accordionMap","Map","map","version","set","addtraineedoc","inputParam","deleteRecord","fetchParticipantsRecordByID","selectedId","viewVersionTemplate","viewTraineeDocumentFile"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Row, Col, Nav } from 'react-bootstrap';\r\nimport { injectIntl } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport ParticipantsAccordion from './ParticipantsAccordion';\r\nimport CustomAccordion from '../../../components/custom-accordion/custom-accordion.component';\r\nimport {\r\n    getParticipantsAccordion,addtraineedocfile\r\n} from '../../../actions';\r\nimport { faCertificate, faCogs, faUser } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nconst TrainingParticipantsTab = (props) => {\r\n    const attendanceId = props.controlMap.has(\"Attendance\") && props.controlMap.get(\"Attendance\").ncontrolcode;\r\n    const certifiedId = props.controlMap.has(\"Certified\") && props.controlMap.get(\"Certified\").ncontrolcode;\r\n    const competentId = props.controlMap.has(\"Competent\") && props.controlMap.get(\"Competent\").ncontrolcode;\r\n    \r\n    return (\r\n       <>\r\n<div className=\"d-flex justify-content-end\">      \r\n          <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                            data-tip={props.intl.formatMessage({ id: \"IDS_ATTENDANCE\" })}\r\n                            //data-for=\"tooltip_list_wrap\"\r\n                            hidden={props.userRoleControlRights.indexOf(attendanceId) === -1}\r\n                            onClick={() => props.getTrainingParticipantsAttended(props.Login.masterData.SelectedTrainingUpdate,props.selectedRecord,props.Login.userInfo,\"attended\",attendanceId)}\r\n                        >\r\n                        <FontAwesomeIcon icon={faUser} />\r\n                        </Nav.Link>\r\n                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                            data-tip={props.intl.formatMessage({ id: \"IDS_CERTIFIED\" })}\r\n                            //data-for=\"tooltip_list_wrap\"\r\n                            hidden={props.userRoleControlRights.indexOf(certifiedId) === -1}\r\n                            onClick={() => props.getTrainingParticipantsCertified(props.Login.masterData.SelectedTrainingUpdate,props.selectedRecord,props.Login.userInfo,\"certify\",certifiedId)}\r\n                        >\r\n                                <FontAwesomeIcon icon={faCertificate} />\r\n                           \r\n                        </Nav.Link>\r\n                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                            data-tip={props.intl.formatMessage({ id: \"IDS_COMPETENT\" })}\r\n                            //data-for=\"tooltip_list_wrap\"\r\n                            hidden={props.userRoleControlRights.indexOf(competentId) === -1}\r\n                            onClick={() => props.getTrainingParticipantsCompetent(props.Login.masterData.SelectedTrainingUpdate,props.selectedRecord,props.Login.userInfo,\"competent\",competentId)}\r\n                        >\r\n                            <FontAwesomeIcon icon={faCogs} />\r\n                        </Nav.Link>\r\n            </div>\r\n           \r\n                {props.Login.masterData.Participants && props.Login.masterData.Participants.length > 0 ?\r\n                    <CustomAccordion\r\n                        key=\"Participants\"\r\n                        accordionTitle={\"sfullname\"}\r\n                        accordionComponent={participantsAccordion(props)}\r\n                        inputParam={{ masterData: props.Login.masterData, userInfo: props.Login.userInfo }}\r\n                        accordionClick={props.getParticipantsAccordion}\r\n                        accordionPrimaryKey={\"nparticipantcode\"}\r\n                        accordionObjectName={\"version\"}\r\n                        //addtraineedocfile={props.addtraineedocfile}\r\n                        selectedKey={props.Login.masterData.selectedParticipants.nparticipantcode}\r\n                    />\r\n                    : \"\"}\r\n    </>\r\n    );\r\n\r\n}\r\n\r\n\r\nconst participantsAccordion = (props) => {\r\n    const accordionMap = new Map();\r\n    props.Login.masterData.Participants.map((version) =>\r\n        accordionMap.set(version.nparticipantcode,\r\n            <ParticipantsAccordion\r\n                version={version}\r\n                addtraineedoc={props.addtraineedoc}\r\n                addtraineedocfile={props.addtraineedocfile}\r\n                userRoleControlRights={props.userRoleControlRights}\r\n                controlMap={props.controlMap}\r\n                userInfo={props.Login.userInfo}\r\n                masterData={props.Login.masterData}\r\n                inputParam={props.Login.inputParam}\r\n                deleteRecord={props.deleteRecord}\r\n                fetchParticipantsRecordByID={props.fetchParticipantsRecordByID}\r\n                selectedId={props.Login.selectedId}\r\n                viewVersionTemplate={props.viewVersionTemplate}\r\n                viewTraineeDocumentFile={props.viewTraineeDocumentFile}\r\n                \r\n            />)\r\n    )\r\n    return accordionMap;\r\n}\r\n\r\nexport default connect(mapStateToProps, {getParticipantsAccordion,addtraineedocfile})(injectIntl(TrainingParticipantsTab));"]},"metadata":{},"sourceType":"module"}