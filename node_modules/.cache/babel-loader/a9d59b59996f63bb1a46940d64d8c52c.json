{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{toast}from'react-toastify';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faTrashAlt,faPrint}from'@fortawesome/free-solid-svg-icons';import{showUnderDevelopment,callService,crudMaster,validateEsignCredential,updateStore,getGoodsInDetail,getGoodsInPrinterComboService,getGoodsInComboService,getChainCustodyComboDataService,filterColumnData,reloadGoodsIn}from'../../actions';import{showEsign,getControlMap,formatInputDate,convertDateValuetoString,rearrangeDateFormat}from'../../components/CommonScript';import ListMaster from'../../components/list-master/list-master.component';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import SampleReceivingTabs from'./SampleReceivingTabs';import Esign from'../audittrail/Esign';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import AddGoodsIn from'./AddGoodsIn';//import SampleReceivingFilter from './SampleReceivingFilter';\n// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\nimport{transactionStatus}from'../../components/Enumeration';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import{ListWrapper}from'../../components/client-group.styles';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import{ReadOnlyText,ContentPanel}from'../../components/App.styles';import{ReactComponent as GoodsReceivedIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/goods-received.svg\";import DateFilter from'../../components/DateFilter';import AddPrinter from'../registration/AddPrinter';import{Affix}from'rsuite';import ReactTooltip from'react-tooltip';// import { Tooltip } from '@progress/kendo-react-tooltip';\nvar mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var SampleReceiving=/*#__PURE__*/function(_React$Component){_inherits(SampleReceiving,_React$Component);var _super=_createSuper(SampleReceiving);function SampleReceiving(props){var _this;_classCallCheck(this,SampleReceiving);_this=_super.call(this,props);_this.ConfirmDelete=function(deleteParam){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteOrReceiveRecord(deleteParam);});};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(selectedRecord[\"sgoodsindate\"])selectedRecord[\"dgoodsindate\"]=rearrangeDateFormat(_this.props.Login.userInfo,selectedRecord[\"sgoodsindate\"]);var operation=_this.props.Login.operation;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"receive\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null,operation:operation}};_this.props.updateStore(updateInfo);};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;if(fieldName===\"nrecipientcode\"){if(comboData===null){selectedRecord[\"sdeptname\"]=\"\";//selectedRecord[\"sdeptcode\"] = 0;\n}else{_this.props.Login.recipientList.map(function(dataItem){if(dataItem.value===comboData.value){selectedRecord[\"sdeptname\"]=dataItem.item.sdeptname;//selectedRecord[\"ndeptcode\"] = dataItem.item.ndeptcode;\n}return null;});}}else if(fieldName===\"ntzgoodsindate\"){if(comboData===null){selectedRecord[\"ntzgoodsindate\"]=0;selectedRecord[\"stzgoodsindate\"]=\"\";}else{selectedRecord[\"stzgoodsindate\"]=comboData.label;}}_this.setState({selectedRecord:selectedRecord});};_this.onNumericInputOnChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"ntransactionstatus\")selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;else selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.onFilterSubmit=function(){_this.reloadData(true);};_this.reloadData=function(isFilterSubmit){_this.searchRef.current.value=\"\";// let obj = this.convertDatetoString(selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\n//     selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate))\nvar fromDate=_this.props.Login.masterData.FromDate;var toDate=_this.props.Login.masterData.ToDate;if(isFilterSubmit){var selectedRecord=_this.state.selectedRecord||{};if(selectedRecord&&selectedRecord[\"fromdate\"]!==undefined){fromDate=selectedRecord[\"fromdate\"];}if(selectedRecord&&selectedRecord[\"todate\"]!==undefined){toDate=selectedRecord[\"todate\"];}}//let obj = this.convertDatetoString(fromDate, toDate); \nvar obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo);var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,fromDate:obj.fromDate,toDate:obj.toDate,currentDate:null//currentdate: isDateChange === true ? null : formatInputDate(new Date(), true)\n},classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"GoodsIn\",displayName:\"IDS_GOODSIN\",userInfo:_this.props.Login.userInfo};//this.props.callService(inputParam);\n_this.props.reloadGoodsIn(inputParam);};_this.onSaveClick=function(saveType,formRef){if(_this.state.selectedRecord[\"nnoofpackages\"]<=0){return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERTHEPACKAGEGREATERTHANZERO\"}));}var inputData=[];inputData[\"ncontrolcode\"]=_this.props.Login.ncontrolCode;inputData[\"userinfo\"]=_this.props.Login.userInfo;// let obj = this.convertDatetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\n//     this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate))\nvar obj=convertDateValuetoString(_this.props.Login.masterData.FromDate,_this.props.Login.masterData.ToDate,_this.props.Login.userInfo);var fromDate=obj.fromDate;var toDate=obj.toDate;inputData[\"fromDate\"]=fromDate;inputData[\"toDate\"]=toDate;var postParam=undefined;if(_this.props.Login.operation===\"update\"){// edit\npostParam={inputListName:\"GoodsInList\",selectedObject:\"SelectedGoodsIn\",primaryKeyField:\"nrmsno\",unchangeList:[\"FromDate\",\"ToDate\"]};inputData[\"goodsin\"]=JSON.parse(JSON.stringify(_this.props.Login.selectedRecord));}else{//add               \ninputData[\"goodsin\"]={\"nsitecode\":_this.props.Login.userInfo.ntranssitecode};}inputData[\"goodsin\"][\"noutofhours\"]=_this.state.selectedRecord[\"noutofhours\"]?_this.state.selectedRecord[\"noutofhours\"]:transactionStatus.NO;inputData[\"goodsin\"][\"nmanufcode\"]=_this.state.selectedRecord[\"nmanufcode\"]?_this.state.selectedRecord[\"nmanufcode\"].value:-1;inputData[\"goodsin\"][\"nrecipientcode\"]=_this.state.selectedRecord[\"nrecipientcode\"]?_this.state.selectedRecord[\"nrecipientcode\"].value:-1;//inputData[\"goodsin\"][\"ndeptcode\"] = this.state.selectedRecord[\"ndeptcode\"] ? this.state.selectedRecord[\"ndeptcode\"] : -1;\ninputData[\"goodsin\"][\"ncouriercode\"]=_this.state.selectedRecord[\"ncouriercode\"]?_this.state.selectedRecord[\"ncouriercode\"].value:transactionStatus.NA;inputData[\"goodsin\"][\"sconsignmentno\"]=_this.state.selectedRecord[\"sconsignmentno\"]||\"\";inputData[\"goodsin\"][\"dgoodsindate\"]=_this.state.selectedRecord[\"dgoodsindate\"];inputData[\"goodsin\"][\"nnoofpackages\"]=_this.state.selectedRecord[\"nnoofpackages\"];inputData[\"goodsin\"][\"ssecurityrefno\"]=_this.state.selectedRecord[\"ssecurityrefno\"]||\"\";inputData[\"goodsin\"][\"scomments\"]=_this.state.selectedRecord[\"scomments\"]||\"\";inputData[\"goodsin\"][\"ntzgoodsindate\"]=_this.state.selectedRecord[\"ntzgoodsindate\"]?_this.state.selectedRecord[\"ntzgoodsindate\"].value:1;inputData[\"goodsin\"][\"stzgoodsindate\"]=_this.state.selectedRecord[\"stzgoodsindate\"]||\"\";var goodsInDate=inputData[\"goodsin\"][\"dgoodsindate\"];//need this conversion when the datatype of the field is 'Instant'\ninputData[\"goodsin\"][\"dgoodsindate\"]=formatInputDate(goodsInDate,false);var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"GoodsIn\",displayName:\"IDS_GOODSIN\",inputData:inputData,postParam:postParam,searchRef:_this.searchRef,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef};var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:\"IDS_GOODSIN\",operation:_this.props.Login.operation}};_this.props.updateStore(updateInfo);}else{var selectedRecord={\"dgoodsindate\":_this.props.Login.currentTime,//new Date(),\n\"stzgoodsindate\":_this.props.Login.userInfo.stimezoneid,\"ntzgoodsindate\":{\"value\":_this.props.Login.userInfo.ntimezonecode,\"label\":_this.props.Login.userInfo.stimezoneid}};_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",selectedRecord);}};_this.onSavePrinterClick=function(){var inputParam={classUrl:'barcode',methodUrl:'Barcode',displayName:_this.props.Login.inputParam.displayName,inputData:{nrmsno:_this.props.Login.dataToPrint,sprintername:_this.state.selectedRecord.sprintername?_this.state.selectedRecord.sprintername.value:'',userinfo:_this.props.Login.userInfo,ncontrolcode:_this.props.Login.ncontrolcode},operation:'printer'};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:_this.props.Login.inputParam.displayName}),operation:'printer'}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.deleteOrReceiveRecord=function(deleteParam){if(deleteParam.selectedRecord.ntransactionstatus===transactionStatus.GOODS_RECEIVED){var message=\"IDS_CANNOTDELETERECIVEDGOODS\";if(deleteParam.operation===\"receive\"){message=\"IDS_GOODSALREADYRECEIVED\";}toast.warn(_this.props.intl.formatMessage({id:message}));}else{var validUser=true;if(deleteParam.operation===\"receive\"&&deleteParam.selectedRecord.nrecipientcode!==_this.props.Login.userInfo.nusercode){validUser=false;}if(validUser){// let obj = this.convertDatetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\n//     this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate))\nvar obj=convertDateValuetoString(_this.state.selectedRecord[\"fromdate\"]||_this.props.Login.masterData&&_this.props.Login.masterData.FromDate,_this.state.selectedRecord[\"todate\"]||_this.props.Login.masterData&&_this.props.Login.masterData.ToDate,_this.props.Login.userInfo);var fromDate=obj.fromDate;var toDate=obj.toDate;var postParam={inputListName:\"GoodsInList\",selectedObject:\"SelectedGoodsIn\",primaryKeyField:\"nrmsno\",primaryKeyValue:deleteParam.selectedRecord.nrmsno,fetchUrl:\"goodsin/getGoodsIn\",fecthInputObject:{userinfo:_this.props.Login.userInfo,fromDate:fromDate,toDate:toDate},unchangeList:[\"FromDate\",\"ToDate\"]};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"GoodsIn\",displayName:\"IDS_GOODSIN\",inputData:{\"ncontrolcode\":deleteParam.ncontrolCode,\"goodsin\":deleteParam.selectedRecord,fromDate:fromDate,toDate:toDate,\"userinfo\":_this.props.Login.userInfo},operation:deleteParam.operation,postParam:postParam};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:\"IDS_GOODSIN\",operation:deleteParam.operation,selectedId:deleteParam.selectedRecord.nrmsno}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_INVALIDUSERTORECEIVE\"}));}}};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.state={masterStatus:\"\",error:\"\",selectedRecord:{},operation:\"\",selectedGoodsIn:undefined,screenName:undefined,userRoleControlRights:[],controlMap:new Map(),showSaveContinue:true};// this.breadCrumbData = [];\n_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();_this.searchFieldList=[\"nnoofpackages\",\"nrecipientcode\",\"nrmsno\",\"scomments\",\"sconsignmentno\",\"scouriername\",\"sdeptname\",\"sdisplaystatus\",\"sgoodsindate\",\"smanufname\",\"soutofhours\",\"sreceiveddate\",\"ssecurityrefno\",\"stzgoodsindate\",\"suserfullname\"];return _this;}_createClass(SampleReceiving,[{key:\"render\",value:function render(){var _this2=this;var goodsInStatusCSS=\"\";if(this.props.Login.masterData.SelectedGoodsIn&&this.props.Login.masterData.SelectedGoodsIn.ntransactionstatus===15){goodsInStatusCSS=\"outline-secondary\";}else if(this.props.Login.masterData.SelectedGoodsIn&&this.props.Login.masterData.SelectedGoodsIn.ntransactionstatus===16){goodsInStatusCSS=\"outline-success\";}var addId=this.state.controlMap.has(\"AddGoodsIn\")&&this.state.controlMap.get(\"AddGoodsIn\").ncontrolcode;var editId=this.state.controlMap.has(\"EditGoodsIn\")&&this.state.controlMap.get(\"EditGoodsIn\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteGoodsIn\")&&this.state.controlMap.get(\"DeleteGoodsIn\").ncontrolcode;var receiveId=this.state.controlMap.has(\"ReceiveGoodsIn\")&&this.state.controlMap.get(\"ReceiveGoodsIn\").ncontrolcode;var printBarcodeId=this.state.controlMap.has(\"PrintBarcode\")?this.state.controlMap.get(\"PrintBarcode\").ncontrolcode:-1;var addParam={screenName:\"IDS_GOODSIN\",primaryeyField:\"nrmsno\",primaryKeyValue:undefined,operation:\"create\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,ncontrolCode:addId};var editParam={screenName:\"IDS_GOODSIN\",operation:\"update\",primaryKeyField:\"nrmsno\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,ncontrolCode:editId};var deleteParam={screenName:\"IDS_GOODSIN\",methodUrl:\"GoodsIn\",operation:\"delete\",selectedRecord:this.props.Login.masterData.SelectedGoodsIn,ncontrolCode:deleteId};var receiveParam={screenName:\"IDS_GOODSIN\",methodUrl:\"GoodsIn\",selectedRecord:this.props.Login.masterData.SelectedGoodsIn,operation:\"receive\",ncontrolCode:receiveId};// let obj = this.convertDatetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\n//     this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate))\nvar obj=convertDateValuetoString(this.state.selectedRecord[\"fromdate\"]||this.props.Login.masterData&&this.props.Login.masterData.FromDate,this.state.selectedRecord[\"todate\"]||this.props.Login.masterData&&this.props.Login.masterData.ToDate,this.props.Login.userInfo);var fromDate=obj.fromDate;var toDate=obj.toDate;var filterParam={inputListName:\"GoodsInList\",selectedObject:\"SelectedGoodsIn\",primaryKeyField:\"nrmsno\",fetchUrl:\"goodsin/getGoodsIn\",fecthInputObject:{userinfo:this.props.Login.userInfo,fromDate:fromDate,toDate:toDate},masterData:this.props.Login.masterData,unchangeList:[\"FromDate\",\"ToDate\"],searchFieldList:this.searchFieldList};var mandatoryFields=[{\"idsName\":\"IDS_MANUFACTURER\",\"dataField\":\"nmanufcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_RECIPIENT\",\"dataField\":\"nrecipientcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_NOOFPACKAGES\",\"dataField\":\"nnoofpackages\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_GOODSINDATE\",\"dataField\":\"dgoodsindate\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_TIMEZONE\",\"dataField\":\"ntzgoodsindate\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];if(this.state.selectedRecord[\"noutofhours\"]===transactionStatus.YES){mandatoryFields.push({\"idsName\":\"IDS_SECURITYREFNO\",\"dataField\":\"ssecurityrefno\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});}//let breadCrumbDataDate = this.convertDatetoString(this.props.Login.masterData && this.props.Login.masterData.FromDate, this.props.Login.masterData && this.props.Login.masterData.ToDate)\nvar breadCrumbDataDate=convertDateValuetoString(this.props.Login.masterData&&this.props.Login.masterData.FromDate,this.props.Login.masterData&&this.props.Login.masterData.ToDate,this.props.Login.userInfo);var breadCrumbData=[{\"label\":\"IDS_FROM\",\"value\":breadCrumbDataDate.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":breadCrumbDataDate.breadCrumbto}];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster//formatMessage={this.props.intl.formatMessage}\n,{screenName:this.props.intl.formatMessage({id:\"IDS_GOODSIN\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.GoodsInList,getMasterDetail:function getMasterDetail(goodsIn){return _this2.props.getGoodsInDetail(goodsIn,fromDate,toDate,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.SelectedGoodsIn,primaryKeyField:\"nrmsno\",mainField:\"suserfullname\",firstField:\"nrmsno\",secondField:\"sdisplaystatus\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,hidePaging:false,addId:addId,openModal:function openModal(){return _this2.props.getGoodsInComboService(addParam);},searchRef:this.searchRef,reloadData:this.reloadData,needAccordianFilter:false,showFilterIcon:true,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,filterComponent:[{\"IDS_FILTER\":/*#__PURE__*/React.createElement(DateFilter,{selectedRecord:this.state.selectedRecord||{},handleDateChange:this.handleDateChange,fromDate:fromDate,toDate:toDate,userInfo:this.props.Login.userInfo})}]})),/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.GoodsInList&&this.props.Login.masterData.GoodsInList.length>0&&this.props.Login.masterData.SelectedGoodsIn?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.SelectedGoodsIn.nrmsno),/*#__PURE__*/React.createElement(Card.Subtitle,{className:\"text-muted font-weight-normal\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:10,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(goodsInStatusCSS,\" btn-sm ml-3\")},/*#__PURE__*/React.createElement(FormattedMessage,{id:this.props.Login.masterData.SelectedGoodsIn.sdisplaystatus,message:this.props.Login.masterData.SelectedGoodsIn.sdisplaystatus})))),/*#__PURE__*/React.createElement(Col,{md:2},/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"click\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\",style:{float:\"right\"}},/*#__PURE__*/React.createElement(Nav.Link,{name:\"editgoodsin\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),\"data-for\":\"tooltip_list_wrap\",className:\"btn btn-circle outline-grey mr-2\",onClick:function onClick(){return _this2.props.getGoodsInComboService(_objectSpread(_objectSpread({},editParam),{},{primaryKeyValue:_this2.props.Login.masterData.SelectedGoodsIn.nrmsno,fromDate:fromDate,toDate:toDate}));}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"deletegoodsin\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),className:\"btn btn-circle outline-grey mr-2\",\"data-for\":\"tooltip_list_wrap\",hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this2.ConfirmDelete(_objectSpread({},deleteParam));}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(ContentPanel,{className:\"d-flex justify-content-end dropdown badget_menu icon-group-wrap\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(receiveId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_RECEIVEDGOODS\"}),\"data-for\":\"tooltip_list_wrap\",onClick:function onClick(){return _this2.deleteOrReceiveRecord(_objectSpread({},receiveParam));}},/*#__PURE__*/React.createElement(GoodsReceivedIcon,{className:\"custom_icons\",width:\"20\",height:\"20\",name:\"goodsreceivedicon\"//title={this.props.intl.formatMessage({ id: \"IDS_RECEIVEDGOODS\" })} \n}))),/*#__PURE__*/React.createElement(Nav.Link,{name:\"printbarcode\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_PRINTBARCODE\"}),\"data-for\":\"tooltip_list_wrap\",hidden:this.state.userRoleControlRights.indexOf(printBarcodeId)===-1,className:\"btn btn-circle outline-grey mr-2\",onClick:function onClick(){return _this2.props.getGoodsInPrinterComboService({selectedGoodsIn:_this2.props.Login.masterData.SelectedGoodsIn,ncontrolcode:printBarcodeId,userInfo:_this2.props.Login.userInfo});}// onClick={this.props.showUnderDevelopment}\n},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPrint}))))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_RECIPIENT\",message:\"Recipient\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedGoodsIn.suserfullname))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DEPARTMENT\",message:\"Division\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedGoodsIn.sdeptname))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_MANUFACTURER\",message:\"Manufacturer\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedGoodsIn.smanufname))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_NOOFPACKAGES\",message:\"No. Of Packages\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedGoodsIn.nnoofpackages))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_GOODSINDATE\",message:\"GoodsIn Date\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedGoodsIn.sgoodsindate))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TIMEZONE\",message:\"Time Zone\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedGoodsIn.stzgoodsindate))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_OUTOFHOURS\",message:\"Out Of Hours\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedGoodsIn.soutofhours))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_RECEIVEDDATETIME\",message:\"Received Date\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedGoodsIn.sreceiveddate===null||this.props.Login.masterData.SelectedGoodsIn.sreceiveddate.length===0?'-':this.props.Login.masterData.SelectedGoodsIn.sreceiveddate))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_COURIERCARRIER\",message:\"Courier\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedGoodsIn.ncouriercode===-1?'-':this.props.Login.masterData.SelectedGoodsIn.scouriername))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_CONSIGNMENTNO\",message:\"Consignment No.\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedGoodsIn.sconsignmentno===null||this.props.Login.masterData.SelectedGoodsIn.sconsignmentno.length===0?'-':this.props.Login.masterData.SelectedGoodsIn.sconsignmentno))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_SECURITYREFNO\",message:\"Security Ref No.\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedGoodsIn.ssecurityrefno===null||this.props.Login.masterData.SelectedGoodsIn.ssecurityrefno.length===0?'-':this.props.Login.masterData.SelectedGoodsIn.ssecurityrefno))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_COMMENTS\",message:\"Comments\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedGoodsIn.scomments===null||this.props.Login.masterData.SelectedGoodsIn.scomments.length===0?'-':this.props.Login.masterData.SelectedGoodsIn.scomments)))),/*#__PURE__*/React.createElement(SampleReceivingTabs,{operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,userInfo:this.props.Login.userInfo,masterData:this.props.Login.masterData,crudMaster:this.props.crudMaster,errorCode:this.props.Login.errorCode,masterStatus:this.props.Login.masterStatus,openChildModal:this.props.Login.openChildModal,updateStore:this.props.updateStore,selectedRecord:this.props.Login.selectedRecord,getChainCustodyComboDataService:this.props.getChainCustodyComboDataService,ncontrolCode:this.props.Login.ncontrolCode,userRoleControlRights:this.state.userRoleControlRights,esignRights:this.props.Login.userRoleControlRights,screenData:this.props.Login.screenData,validateEsignCredential:this.props.validateEsignCredential,loadEsign:this.props.Login.loadEsign,controlMap:this.state.controlMap,selectedId:this.props.Login.selectedId,fromDate:fromDate,toDate:toDate,dataState:this.props.Login.dataState,timeZoneList:this.props.Login.timeZoneList||[],currentTime:this.props.Login.currentTime,settings:this.props.Login.settings}))):\"\"))))),this.props.Login.openModal?/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.props.Login.operation===\"printer\"?this.onSavePrinterClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,showSaveContinue:this.state.showSaveContinue,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.operation===\"printer\"?[{\"idsName\":\"IDS_PRINTER\",\"dataField\":\"sprintername\"}]:mandatoryFields,buttonLabel:this.props.Login.operation===\"printer\"?\"print\":undefined,loginoperation:this.props.Login.operation===\"printer\"?true:false,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.operation===\"printer\"?/*#__PURE__*/React.createElement(AddPrinter,{printer:this.props.Login.printerList,selectedPrinterData:this.state.selectedRecord||{},PrinterChange:this.onComboChange}):/*#__PURE__*/React.createElement(AddGoodsIn,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onNumericInputOnChange:this.onNumericInputOnChange,onComboChange:this.onComboChange,handleDateChange:this.handleDateChange,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,manufacturerList:this.props.Login.manufacturerList||[],courierList:this.props.Login.courierList||[],recipientList:this.props.Login.recipientList||[],timeZoneList:this.props.Login.timeZoneList||[],userInfo:this.props.Login.userInfo,currentTime:this.props.Login.currentTime})}):\"\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap});}if(this.props.Login.masterData!==previousProps.Login.masterData){var filterData=this.generateBreadCrumData();this.setState({filterData:filterData});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];//let selectedRecord = this.state.selectedRecord\n//  let obj = this.convertDatetoString((selectedRecord && selectedRecord[\"fromdate\"]) || this.props.Login.masterData.FromDate, (selectedRecord && selectedRecord[\"todate\"]) || this.props.Login.masterData.ToDate)\nif(this.props.Login.masterData&&this.props.Login.masterData.FromDate){//let obj = this.convertDatetoString(this.props.Login.masterData.FromDate, this.props.Login.masterData.ToDate);\nvar obj=convertDateValuetoString(this.props.Login.masterData.FromDate,this.props.Login.masterData.ToDate,this.props.Login.userInfo);breadCrumbData.push({\"label\":\"IDS_FROM\",\"value\":obj.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":obj.breadCrumbto});}return breadCrumbData;}},{key:\"componentWillUnmount\",value:// convertDatetoString(startDateValue, endDateValue) {\n//     const startDate = startDateValue ? new Date(startDateValue) : new Date();\n//     const endDate = endDateValue ? new Date(endDateValue) : new Date();\n//     const prevMonth = validateTwoDigitDate(String(startDate.getMonth() + 1));\n//     const currentMonth = validateTwoDigitDate(String(endDate.getMonth() + 1));\n//     const prevDay = validateTwoDigitDate(String(startDate.getDate()));\n//     const currentDay = validateTwoDigitDate(String(endDate.getDate()));\n//     const fromDateOnly = startDate.getFullYear() + '-' + prevMonth + '-' + prevDay\n//     const toDateOnly = endDate.getFullYear() + '-' + currentMonth + '-' + currentDay\n//     const fromDate = fromDateOnly + \"T00:00:00\";\n//     const toDate = toDateOnly + \"T23:59:59\";\n//     return ({ fromDate, toDate, breadCrumbFrom: fromDateOnly, breadCrumbto: toDateOnly })\n// }\nfunction componentWillUnmount(){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:[],inputParam:undefined,operation:null,modalName:undefined}};this.props.updateStore(updateInfo);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){// if (props.Login.masterStatus !== \"\") {\n//     if (props.screenName === \"IDS_GOODSIN\") {\nif(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return SampleReceiving;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,validateEsignCredential:validateEsignCredential,updateStore:updateStore,getGoodsInPrinterComboService:getGoodsInPrinterComboService,getGoodsInDetail:getGoodsInDetail,getGoodsInComboService:getGoodsInComboService,getChainCustodyComboDataService:getChainCustodyComboDataService,filterColumnData:filterColumnData,showUnderDevelopment:showUnderDevelopment,reloadGoodsIn:reloadGoodsIn})(injectIntl(SampleReceiving));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/goodsin/SampleReceiving.jsx"],"names":["React","connect","injectIntl","FormattedMessage","toast","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faPencilAlt","faTrashAlt","faPrint","showUnderDevelopment","callService","crudMaster","validateEsignCredential","updateStore","getGoodsInDetail","getGoodsInPrinterComboService","getGoodsInComboService","getChainCustodyComboDataService","filterColumnData","reloadGoodsIn","showEsign","getControlMap","formatInputDate","convertDateValuetoString","rearrangeDateFormat","ListMaster","SlideOutModal","SampleReceivingTabs","Esign","DEFAULT_RETURN","AddGoodsIn","transactionStatus","BreadcrumbComponent","ListWrapper","ConfirmMessage","ReadOnlyText","ContentPanel","DateFilter","AddPrinter","Affix","ReactTooltip","mapStateToProps","state","Login","SampleReceiving","props","ConfirmDelete","deleteParam","confirmMessage","confirm","intl","formatMessage","id","deleteOrReceiveRecord","openFilter","showFilter","updateInfo","typeName","data","closeFilter","closeModal","loadEsign","openModal","selectedRecord","userInfo","operation","selectedId","onComboChange","comboData","fieldName","recipientList","map","dataItem","value","item","sdeptname","label","setState","onNumericInputOnChange","name","onInputOnChange","event","target","type","checked","ACTIVE","DEACTIVE","YES","NO","handleDateChange","dateName","dateValue","onFilterSubmit","reloadData","isFilterSubmit","searchRef","current","fromDate","masterData","FromDate","toDate","ToDate","undefined","obj","inputParam","inputData","currentDate","classUrl","methodUrl","displayName","onSaveClick","saveType","formRef","warn","ncontrolCode","postParam","inputListName","selectedObject","primaryKeyField","unchangeList","JSON","parse","stringify","ntranssitecode","NA","goodsInDate","esignNeeded","userRoleControlRights","nformcode","screenData","screenName","currentTime","stimezoneid","ntimezonecode","onSavePrinterClick","nrmsno","dataToPrint","sprintername","userinfo","ncontrolcode","ntransactionstatus","GOODS_RECEIVED","message","validUser","nrecipientcode","nusercode","primaryKeyValue","fetchUrl","fecthInputObject","validateEsign","sreason","password","masterStatus","error","selectedGoodsIn","controlMap","Map","showSaveContinue","createRef","searchFieldList","goodsInStatusCSS","SelectedGoodsIn","addId","has","get","editId","deleteId","receiveId","printBarcodeId","addParam","primaryeyField","editParam","receiveParam","filterParam","mandatoryFields","push","breadCrumbDataDate","breadCrumbData","breadCrumbFrom","breadCrumbto","length","searchedData","GoodsInList","goodsIn","sdisplaystatus","float","indexOf","suserfullname","smanufname","nnoofpackages","sgoodsindate","stzgoodsindate","soutofhours","sreceiveddate","ncouriercode","scouriername","sconsignmentno","ssecurityrefno","scomments","errorCode","openChildModal","dataState","timeZoneList","settings","printerList","manufacturerList","courierList","previousProps","Object","values","filterData","generateBreadCrumData","modalName","Component"],"mappings":"yxBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,CAAqBC,gBAArB,KAA6C,YAA7C,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,CAAyBC,GAAzB,CAA8BC,SAA9B,CAAyCC,SAAzC,KAA0D,iBAA1D,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,WAAT,CAAsBC,UAAtB,CAAkCC,OAAlC,KAAiD,mCAAjD,CACA,OACIC,oBADJ,CAEIC,WAFJ,CAEiBC,UAFjB,CAE6BC,uBAF7B,CAEsDC,WAFtD,CAEmEC,gBAFnE,CAEqFC,6BAFrF,CAGIC,sBAHJ,CAG4BC,+BAH5B,CAG6DC,gBAH7D,CAG8EC,aAH9E,KAIO,eAJP,CAKA,OAASC,SAAT,CAAoBC,aAApB,CAAmCC,eAAnC,CAAqDC,wBAArD,CAA+EC,mBAA/E,KAA0G,+BAA1G,CACA,MAAOC,CAAAA,UAAP,KAAuB,oDAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,gDAA1B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,OAASC,cAAT,KAA+B,0BAA/B,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA;AACA;AACA,OAASC,iBAAT,KAAkC,8BAAlC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uCAAhC,CACA,OAASC,WAAT,KAA4B,sCAA5B,CACA,MAAOC,CAAAA,cAAP,KAA2B,0DAA3B,CACA,OAASC,YAAT,CAAuBC,YAAvB,KAA2C,6BAA3C,C,2HAEA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,4BAAvB,CACA,OAASC,KAAT,KAAsB,QAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,eAAzB,CACA;AAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC7B,MAAQ,CAAEC,KAAK,CAAED,KAAK,CAACC,KAAf,CAAR,CACH,CAFD,C,GAIMC,CAAAA,e,8HACF,yBAAYC,KAAZ,CAAmB,iDACf,uBAAMA,KAAN,EADe,MAsdnBC,aAtdmB,CAsdH,SAACC,WAAD,CAAiB,CAC7B,MAAKC,cAAL,CAAoBC,OAApB,CAA4B,eAA5B,CAA6C,MAAKJ,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAA7C,CAAkG,MAAKP,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAAlG,CACI,MAAKP,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CADJ,CACqD,MAAKP,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CADrD,CAEI,iBAAM,OAAKC,qBAAL,CAA2BN,WAA3B,CAAN,EAFJ,EAGH,CA1dkB,OAqfnBO,UArfmB,CAqfN,UAAM,CACf,GAAIC,CAAAA,UAAU,CAAG,CAAC,MAAKV,KAAL,CAAWF,KAAX,CAAiBY,UAAnC,CACA,GAAMC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE5B,cADK,CAEf6B,IAAI,CAAE,CAAEH,UAAU,CAAVA,UAAF,CAFS,CAAnB,CAIA,MAAKV,KAAL,CAAWhC,WAAX,CAAuB2C,UAAvB,EACH,CA5fkB,OA8fnBG,WA9fmB,CA8fL,UAAM,CAEhB,GAAMH,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE5B,cADK,CAEf6B,IAAI,CAAE,CAAEH,UAAU,CAAE,KAAd,CAFS,CAAnB,CAIA,MAAKV,KAAL,CAAWhC,WAAX,CAAuB2C,UAAvB,EACH,CArgBkB,OAugBnBI,UAvgBmB,CAugBN,UAAM,CACf,GAAIC,CAAAA,SAAS,CAAG,MAAKhB,KAAL,CAAWF,KAAX,CAAiBkB,SAAjC,CACA,GAAIC,CAAAA,SAAS,CAAG,MAAKjB,KAAL,CAAWF,KAAX,CAAiBmB,SAAjC,CACA,GAAIC,CAAAA,cAAc,CAAG,MAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,cAAtC,CAEA,GAAIA,cAAc,CAAC,cAAD,CAAlB,CACIA,cAAc,CAAC,cAAD,CAAd,CAAiCvC,mBAAmB,CAAC,MAAKqB,KAAL,CAAWF,KAAX,CAAiBqB,QAAlB,CAA4BD,cAAc,CAAC,cAAD,CAA1C,CAApD,CAEJ,GAAIE,CAAAA,SAAS,CAAG,MAAKpB,KAAL,CAAWF,KAAX,CAAiBsB,SAAjC,CACA,GAAI,MAAKpB,KAAL,CAAWF,KAAX,CAAiBkB,SAArB,CAAgC,CAC5B,GAAI,MAAKhB,KAAL,CAAWF,KAAX,CAAiBsB,SAAjB,GAA+B,QAA/B,EAA2C,MAAKpB,KAAL,CAAWF,KAAX,CAAiBsB,SAAjB,GAA+B,SAA9E,CAAyF,CACrFJ,SAAS,CAAG,KAAZ,CACAC,SAAS,CAAG,KAAZ,CACAC,cAAc,CAAG,EAAjB,CACH,CAJD,IAKK,CACDF,SAAS,CAAG,KAAZ,CACH,CACJ,CATD,IAUK,CACDC,SAAS,CAAG,KAAZ,CACAC,cAAc,CAAG,EAAjB,CACH,CAED,GAAMP,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE5B,cADK,CAEf6B,IAAI,CAAE,CAAEI,SAAS,CAATA,SAAF,CAAaD,SAAS,CAATA,SAAb,CAAwBE,cAAc,CAAdA,cAAxB,CAAwCG,UAAU,CAAE,IAApD,CAA0DD,SAAS,CAAEA,SAArE,CAFS,CAAnB,CAIA,MAAKpB,KAAL,CAAWhC,WAAX,CAAuB2C,UAAvB,EAEH,CAriBkB,OAuiBnBW,aAviBmB,CAuiBH,SAACC,SAAD,CAAYC,SAAZ,CAA0B,CACtC,GAAMN,CAAAA,cAAc,CAAG,MAAKrB,KAAL,CAAWqB,cAAX,EAA6B,EAApD,CACAA,cAAc,CAACM,SAAD,CAAd,CAA4BD,SAA5B,CAEA,GAAIC,SAAS,GAAK,gBAAlB,CAAoC,CAChC,GAAID,SAAS,GAAK,IAAlB,CAAwB,CACpBL,cAAc,CAAC,WAAD,CAAd,CAA8B,EAA9B,CACA;AACH,CAHD,IAIK,CACD,MAAKlB,KAAL,CAAWF,KAAX,CAAiB2B,aAAjB,CAA+BC,GAA/B,CAAmC,SAAAC,QAAQ,CAAI,CAC3C,GAAIA,QAAQ,CAACC,KAAT,GAAmBL,SAAS,CAACK,KAAjC,CAAwC,CACpCV,cAAc,CAAC,WAAD,CAAd,CAA8BS,QAAQ,CAACE,IAAT,CAAcC,SAA5C,CACA;AACH,CACD,MAAO,KAAP,CACH,CAND,EAOH,CACJ,CAdD,IAeK,IAAIN,SAAS,GAAK,gBAAlB,CAAoC,CACrC,GAAID,SAAS,GAAK,IAAlB,CAAwB,CACpBL,cAAc,CAAC,gBAAD,CAAd,CAAmC,CAAnC,CACAA,cAAc,CAAC,gBAAD,CAAd,CAAmC,EAAnC,CACH,CAHD,IAIK,CACDA,cAAc,CAAC,gBAAD,CAAd,CAAmCK,SAAS,CAACQ,KAA7C,CACH,CACJ,CAED,MAAKC,QAAL,CAAc,CAAEd,cAAc,CAAdA,cAAF,CAAd,EACH,CArkBkB,OAukBnBe,sBAvkBmB,CAukBM,SAACL,KAAD,CAAQM,IAAR,CAAiB,CACtC,GAAMhB,CAAAA,cAAc,CAAG,MAAKrB,KAAL,CAAWqB,cAAX,EAA6B,EAApD,CACAA,cAAc,CAACgB,IAAD,CAAd,CAAuBN,KAAvB,CACA,MAAKI,QAAL,CAAc,CAAEd,cAAc,CAAdA,cAAF,CAAd,EACH,CA3kBkB,OA6kBnBiB,eA7kBmB,CA6kBD,SAACC,KAAD,CAAW,CACzB,GAAMlB,CAAAA,cAAc,CAAG,MAAKrB,KAAL,CAAWqB,cAAX,EAA6B,EAApD,CAEA,GAAIkB,KAAK,CAACC,MAAN,CAAaC,IAAb,GAAsB,UAA1B,CAAsC,CAClC,GAAIF,KAAK,CAACC,MAAN,CAAaH,IAAb,GAAsB,oBAA1B,CACIhB,cAAc,CAACkB,KAAK,CAACC,MAAN,CAAaH,IAAd,CAAd,CAAoCE,KAAK,CAACC,MAAN,CAAaE,OAAb,GAAyB,IAAzB,CAAgCrD,iBAAiB,CAACsD,MAAlD,CAA2DtD,iBAAiB,CAACuD,QAAjH,CADJ,IAGIvB,CAAAA,cAAc,CAACkB,KAAK,CAACC,MAAN,CAAaH,IAAd,CAAd,CAAoCE,KAAK,CAACC,MAAN,CAAaE,OAAb,GAAyB,IAAzB,CAAgCrD,iBAAiB,CAACwD,GAAlD,CAAwDxD,iBAAiB,CAACyD,EAA9G,CACP,CALD,IAMK,CACDzB,cAAc,CAACkB,KAAK,CAACC,MAAN,CAAaH,IAAd,CAAd,CAAoCE,KAAK,CAACC,MAAN,CAAaT,KAAjD,CACH,CACD,MAAKI,QAAL,CAAc,CAAEd,cAAc,CAAdA,cAAF,CAAd,EACH,CA1lBkB,OA4lBnB0B,gBA5lBmB,CA4lBA,SAACC,QAAD,CAAWC,SAAX,CAAyB,CACxC,GAAQ5B,CAAAA,cAAR,CAA2B,MAAKrB,KAAhC,CAAQqB,cAAR,CACAA,cAAc,CAAC2B,QAAD,CAAd,CAA2BC,SAA3B,CACA,MAAKd,QAAL,CAAc,CAAEd,cAAc,CAAdA,cAAF,CAAd,EACH,CAhmBkB,OAkmBnB6B,cAlmBmB,CAkmBF,UAAM,CACnB,MAAKC,UAAL,CAAgB,IAAhB,EACH,CApmBkB,OAsmBnBA,UAtmBmB,CAsmBN,SAACC,cAAD,CAAoB,CAE7B,MAAKC,SAAL,CAAeC,OAAf,CAAuBvB,KAAvB,CAA+B,EAA/B,CACA;AACA;AAEA,GAAIwB,CAAAA,QAAQ,CAAG,MAAKpD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BC,QAA3C,CACA,GAAIC,CAAAA,MAAM,CAAG,MAAKvD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BG,MAAzC,CACA,GAAIP,cAAJ,CAAoB,CAChB,GAAI/B,CAAAA,cAAc,CAAG,MAAKrB,KAAL,CAAWqB,cAAX,EAA6B,EAAlD,CACA,GAAIA,cAAc,EAAIA,cAAc,CAAC,UAAD,CAAd,GAA+BuC,SAArD,CAAgE,CAC5DL,QAAQ,CAAGlC,cAAc,CAAC,UAAD,CAAzB,CACH,CACD,GAAIA,cAAc,EAAIA,cAAc,CAAC,QAAD,CAAd,GAA6BuC,SAAnD,CAA8D,CAC1DF,MAAM,CAAGrC,cAAc,CAAC,QAAD,CAAvB,CACH,CACJ,CACD;AACA,GAAIwC,CAAAA,GAAG,CAAGhF,wBAAwB,CAAC0E,QAAD,CAAWG,MAAX,CAAmB,MAAKvD,KAAL,CAAWF,KAAX,CAAiBqB,QAApC,CAAlC,CACA,GAAMwC,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACP,WAAY,MAAK5D,KAAL,CAAWF,KAAX,CAAiBqB,QADtB,CAEPiC,QAAQ,CAAEM,GAAG,CAACN,QAFP,CAGPG,MAAM,CAAEG,GAAG,CAACH,MAHL,CAIPM,WAAW,CAAC,IACZ;AALO,CADI,CAQfC,QAAQ,CAAE,MAAK9D,KAAL,CAAWF,KAAX,CAAiB6D,UAAjB,CAA4BG,QARvB,CASfC,SAAS,CAAE,SATI,CAUfC,WAAW,CAAE,aAVE,CAWf7C,QAAQ,CAAE,MAAKnB,KAAL,CAAWF,KAAX,CAAiBqB,QAXZ,CAAnB,CAaA;AACA,MAAKnB,KAAL,CAAW1B,aAAX,CAAyBqF,UAAzB,EACH,CAxoBkB,OA0oBnBM,WA1oBmB,CA0oBL,SAACC,QAAD,CAAWC,OAAX,CAAuB,CAEjC,GAAI,MAAKtE,KAAL,CAAWqB,cAAX,CAA0B,eAA1B,GAA8C,CAAlD,CAAqD,CACjD,MAAQjE,CAAAA,KAAK,CAACmH,IAAN,CAAW,MAAKpE,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,oCAAN,CAA9B,CAAX,CAAR,CACH,CACD,GAAIqD,CAAAA,SAAS,CAAG,EAAhB,CACAA,SAAS,CAAC,cAAD,CAAT,CAA4B,MAAK5D,KAAL,CAAWF,KAAX,CAAiBuE,YAA7C,CACAT,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAK5D,KAAL,CAAWF,KAAX,CAAiBqB,QAAzC,CACA;AACA;AACC,GAAIuC,CAAAA,GAAG,CAAGhF,wBAAwB,CAAC,MAAKsB,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BC,QAA7B,CAAuC,MAAKtD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BG,MAAnE,CAA0E,MAAKxD,KAAL,CAAWF,KAAX,CAAiBqB,QAA3F,CAAlC,CAED,GAAIiC,CAAAA,QAAQ,CAAGM,GAAG,CAACN,QAAnB,CACA,GAAIG,CAAAA,MAAM,CAAGG,GAAG,CAACH,MAAjB,CACAK,SAAS,CAAC,UAAD,CAAT,CAAwBR,QAAxB,CACAQ,SAAS,CAAC,QAAD,CAAT,CAAsBL,MAAtB,CAEA,GAAIe,CAAAA,SAAS,CAAGb,SAAhB,CAEA,GAAI,MAAKzD,KAAL,CAAWF,KAAX,CAAiBsB,SAAjB,GAA+B,QAAnC,CAA6C,CACzC;AACAkD,SAAS,CAAG,CAAEC,aAAa,CAAE,aAAjB,CAAgCC,cAAc,CAAE,iBAAhD,CAAmEC,eAAe,CAAE,QAApF,CAA8FC,YAAY,CAAE,CAAC,UAAD,CAAa,QAAb,CAA5G,CAAZ,CACAd,SAAS,CAAC,SAAD,CAAT,CAAuBe,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,MAAK7E,KAAL,CAAWF,KAAX,CAAiBoB,cAAhC,CAAX,CAAvB,CACH,CAJD,IAKK,CACD;AACA0C,SAAS,CAAC,SAAD,CAAT,CAAuB,CAAE,YAAa,MAAK5D,KAAL,CAAWF,KAAX,CAAiBqB,QAAjB,CAA0B2D,cAAzC,CAAvB,CACH,CAEDlB,SAAS,CAAC,SAAD,CAAT,CAAqB,aAArB,EAAsC,MAAK/D,KAAL,CAAWqB,cAAX,CAA0B,aAA1B,EAA2C,MAAKrB,KAAL,CAAWqB,cAAX,CAA0B,aAA1B,CAA3C,CAAsFhC,iBAAiB,CAACyD,EAA9I,CACAiB,SAAS,CAAC,SAAD,CAAT,CAAqB,YAArB,EAAqC,MAAK/D,KAAL,CAAWqB,cAAX,CAA0B,YAA1B,EAA0C,MAAKrB,KAAL,CAAWqB,cAAX,CAA0B,YAA1B,EAAwCU,KAAlF,CAA0F,CAAC,CAAhI,CACAgC,SAAS,CAAC,SAAD,CAAT,CAAqB,gBAArB,EAAyC,MAAK/D,KAAL,CAAWqB,cAAX,CAA0B,gBAA1B,EAA8C,MAAKrB,KAAL,CAAWqB,cAAX,CAA0B,gBAA1B,EAA4CU,KAA1F,CAAkG,CAAC,CAA5I,CACA;AACAgC,SAAS,CAAC,SAAD,CAAT,CAAqB,cAArB,EAAuC,MAAK/D,KAAL,CAAWqB,cAAX,CAA0B,cAA1B,EAA4C,MAAKrB,KAAL,CAAWqB,cAAX,CAA0B,cAA1B,EAA0CU,KAAtF,CAA8F1C,iBAAiB,CAAC6F,EAAvJ,CACAnB,SAAS,CAAC,SAAD,CAAT,CAAqB,gBAArB,EAAyC,MAAK/D,KAAL,CAAWqB,cAAX,CAA0B,gBAA1B,GAA+C,EAAxF,CACA0C,SAAS,CAAC,SAAD,CAAT,CAAqB,cAArB,EAAuC,MAAK/D,KAAL,CAAWqB,cAAX,CAA0B,cAA1B,CAAvC,CACA0C,SAAS,CAAC,SAAD,CAAT,CAAqB,eAArB,EAAwC,MAAK/D,KAAL,CAAWqB,cAAX,CAA0B,eAA1B,CAAxC,CACA0C,SAAS,CAAC,SAAD,CAAT,CAAqB,gBAArB,EAAyC,MAAK/D,KAAL,CAAWqB,cAAX,CAA0B,gBAA1B,GAA+C,EAAxF,CACA0C,SAAS,CAAC,SAAD,CAAT,CAAqB,WAArB,EAAoC,MAAK/D,KAAL,CAAWqB,cAAX,CAA0B,WAA1B,GAA0C,EAA9E,CACA0C,SAAS,CAAC,SAAD,CAAT,CAAqB,gBAArB,EAAyC,MAAK/D,KAAL,CAAWqB,cAAX,CAA0B,gBAA1B,EAA8C,MAAKrB,KAAL,CAAWqB,cAAX,CAA0B,gBAA1B,EAA4CU,KAA1F,CAAkG,CAA3I,CACAgC,SAAS,CAAC,SAAD,CAAT,CAAqB,gBAArB,EAAyC,MAAK/D,KAAL,CAAWqB,cAAX,CAA0B,gBAA1B,GAA+C,EAAxF,CAEA,GAAM8D,CAAAA,WAAW,CAAGpB,SAAS,CAAC,SAAD,CAAT,CAAqB,cAArB,CAApB,CAEA;AACAA,SAAS,CAAC,SAAD,CAAT,CAAqB,cAArB,EAAuCnF,eAAe,CAACuG,WAAD,CAAc,KAAd,CAAtD,CAEA,GAAMrB,CAAAA,UAAU,CAAG,CACfG,QAAQ,CAAE,MAAK9D,KAAL,CAAWF,KAAX,CAAiB6D,UAAjB,CAA4BG,QADvB,CAEfC,SAAS,CAAE,SAFI,CAGfC,WAAW,CAAE,aAHE,CAIfJ,SAAS,CAAEA,SAJI,CAIOU,SAAS,CAATA,SAJP,CAIkBpB,SAAS,CAAE,MAAKA,SAJlC,CAKf9B,SAAS,CAAE,MAAKpB,KAAL,CAAWF,KAAX,CAAiBsB,SALb,CAKwB8C,QAAQ,CAARA,QALxB,CAKkCC,OAAO,CAAPA,OALlC,CAAnB,CAQA,GAAMc,CAAAA,WAAW,CAAG1G,SAAS,CAAC,MAAKyB,KAAL,CAAWF,KAAX,CAAiBoF,qBAAlB,CAAyC,MAAKlF,KAAL,CAAWF,KAAX,CAAiBqB,QAAjB,CAA0BgE,SAAnE,CAA8E,MAAKnF,KAAL,CAAWF,KAAX,CAAiBuE,YAA/F,CAA7B,CACA,GAAIY,WAAJ,CAAiB,CACb,GAAMtE,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE5B,cADK,CAEf6B,IAAI,CAAE,CACFG,SAAS,CAAE,IADT,CACeoE,UAAU,CAAE,CAAEzB,UAAU,CAAVA,UAAF,CAAcN,UAAU,CAAE,MAAKrD,KAAL,CAAWF,KAAX,CAAiBuD,UAA3C,CAD3B,CAEFpC,SAAS,CAAE,IAFT,CAEeoE,UAAU,CAAE,aAF3B,CAGFjE,SAAS,CAAE,MAAKpB,KAAL,CAAWF,KAAX,CAAiBsB,SAH1B,CAFS,CAAnB,CAQA,MAAKpB,KAAL,CAAWhC,WAAX,CAAuB2C,UAAvB,EACH,CAVD,IAWK,CAED,GAAMO,CAAAA,cAAc,CAAG,CACnB,eAAgB,MAAKlB,KAAL,CAAWF,KAAX,CAAiBwF,WADd,CAC0B;AAC7C,iBAAkB,MAAKtF,KAAL,CAAWF,KAAX,CAAiBqB,QAAjB,CAA0BoE,WAFzB,CAGnB,iBAAkB,CAAE,QAAS,MAAKvF,KAAL,CAAWF,KAAX,CAAiBqB,QAAjB,CAA0BqE,aAArC,CAAoD,QAAS,MAAKxF,KAAL,CAAWF,KAAX,CAAiBqB,QAAjB,CAA0BoE,WAAvF,CAHC,CAAvB,CAKA,MAAKvF,KAAL,CAAWlC,UAAX,CAAsB6F,UAAtB,CAAkC,MAAK3D,KAAL,CAAWF,KAAX,CAAiBuD,UAAnD,CAA+D,WAA/D,CAA4EnC,cAA5E,EACH,CACJ,CAttBkB,OAwtBnBuE,kBAxtBmB,CAwtBE,UAAM,CACvB,GAAM9B,CAAAA,UAAU,CAAG,CACfG,QAAQ,CAAE,SADK,CAEfC,SAAS,CAAE,SAFI,CAGfC,WAAW,CAAE,MAAKhE,KAAL,CAAWF,KAAX,CAAiB6D,UAAjB,CAA4BK,WAH1B,CAIfJ,SAAS,CAAE,CACP8B,MAAM,CAAE,MAAK1F,KAAL,CAAWF,KAAX,CAAiB6F,WADlB,CAEPC,YAAY,CAAE,MAAK/F,KAAL,CAAWqB,cAAX,CAA0B0E,YAA1B,CACV,MAAK/F,KAAL,CAAWqB,cAAX,CAA0B0E,YAA1B,CAAuChE,KAD7B,CACqC,EAH5C,CAIPiE,QAAQ,CAAE,MAAK7F,KAAL,CAAWF,KAAX,CAAiBqB,QAJpB,CAKP2E,YAAY,CAAE,MAAK9F,KAAL,CAAWF,KAAX,CAAiBgG,YALxB,CAJI,CAWf1E,SAAS,CAAE,SAXI,CAAnB,CAcA,GAAI7C,SAAS,CAAC,MAAKyB,KAAL,CAAWF,KAAX,CAAiBoF,qBAAlB,CAAyC,MAAKlF,KAAL,CAAWF,KAAX,CAAiBqB,QAAjB,CAA0BgE,SAAnE,CAA8E,MAAKnF,KAAL,CAAWF,KAAX,CAAiBgG,YAA/F,CAAb,CAA2H,CACvH,GAAMnF,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE5B,cADK,CAEf6B,IAAI,CAAE,CACFG,SAAS,CAAE,IADT,CACeoE,UAAU,CAAE,CAAEzB,UAAU,CAAVA,UAAF,CAAcN,UAAU,CAAE,MAAKrD,KAAL,CAAWF,KAAX,CAAiBuD,UAA3C,CAD3B,CAEFpC,SAAS,CAAE,IAFT,CAEeoE,UAAU,CAAE,MAAKrF,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,MAAKP,KAAL,CAAWF,KAAX,CAAiB6D,UAAjB,CAA4BK,WAAlC,CAA9B,CAF3B,CAGF5C,SAAS,CAAE,SAHT,CAFS,CAAnB,CAQA,MAAKpB,KAAL,CAAWhC,WAAX,CAAuB2C,UAAvB,EACH,CAVD,IAWK,CACD,MAAKX,KAAL,CAAWlC,UAAX,CAAsB6F,UAAtB,CAAkC,MAAK3D,KAAL,CAAWF,KAAX,CAAiBuD,UAAnD,CAA+D,WAA/D,EACH,CACJ,CArvBkB,OAuvBnB7C,qBAvvBmB,CAuvBK,SAACN,WAAD,CAAiB,CAErC,GAAIA,WAAW,CAACgB,cAAZ,CAA2B6E,kBAA3B,GAAkD7G,iBAAiB,CAAC8G,cAAxE,CAAwF,CACpF,GAAIC,CAAAA,OAAO,CAAG,8BAAd,CACA,GAAI/F,WAAW,CAACkB,SAAZ,GAA0B,SAA9B,CAAyC,CACrC6E,OAAO,CAAG,0BAAV,CACH,CACDhJ,KAAK,CAACmH,IAAN,CAAW,MAAKpE,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE0F,OAAN,CAA9B,CAAX,EACH,CAND,IAOK,CACD,GAAIC,CAAAA,SAAS,CAAG,IAAhB,CACA,GAAIhG,WAAW,CAACkB,SAAZ,GAA0B,SAA1B,EAAuClB,WAAW,CAACgB,cAAZ,CAA2BiF,cAA3B,GAA8C,MAAKnG,KAAL,CAAWF,KAAX,CAAiBqB,QAAjB,CAA0BiF,SAAnH,CAA8H,CAC1HF,SAAS,CAAG,KAAZ,CACH,CAED,GAAIA,SAAJ,CAAe,CACX;AACA;AAEA,GAAIxC,CAAAA,GAAG,CAAGhF,wBAAwB,CAAC,MAAKmB,KAAL,CAAWqB,cAAX,CAA0B,UAA1B,GAA0C,MAAKlB,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,EAA+B,MAAKrD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BC,QAAtG,CACE,MAAKzD,KAAL,CAAWqB,cAAX,CAA0B,QAA1B,GAAwC,MAAKlB,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,EAA+B,MAAKrD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BG,MADrG,CAEE,MAAKxD,KAAL,CAAWF,KAAX,CAAiBqB,QAFnB,CAAlC,CAIA,GAAIiC,CAAAA,QAAQ,CAAGM,GAAG,CAACN,QAAnB,CACA,GAAIG,CAAAA,MAAM,CAAGG,GAAG,CAACH,MAAjB,CAEA,GAAMe,CAAAA,SAAS,CAAG,CACdC,aAAa,CAAE,aADD,CACgBC,cAAc,CAAE,iBADhC,CAEdC,eAAe,CAAE,QAFH,CAGd4B,eAAe,CAAEnG,WAAW,CAACgB,cAAZ,CAA2BwE,MAH9B,CAIdY,QAAQ,CAAE,oBAJI,CAKdC,gBAAgB,CAAE,CAAEV,QAAQ,CAAE,MAAK7F,KAAL,CAAWF,KAAX,CAAiBqB,QAA7B,CAAuCiC,QAAQ,CAARA,QAAvC,CAAiDG,MAAM,CAANA,MAAjD,CALJ,CAMdmB,YAAY,CAAE,CAAC,UAAD,CAAa,QAAb,CANA,CAAlB,CASA,GAAMf,CAAAA,UAAU,CAAG,CACfG,QAAQ,CAAE,MAAK9D,KAAL,CAAWF,KAAX,CAAiB6D,UAAjB,CAA4BG,QADvB,CAEfC,SAAS,CAAE,SAFI,CAGfC,WAAW,CAAE,aAHE,CAIfJ,SAAS,CAAE,CACP,eAAgB1D,WAAW,CAACmE,YADrB,CAEP,UAAWnE,WAAW,CAACgB,cAFhB,CAGPkC,QAAQ,CAARA,QAHO,CAGGG,MAAM,CAANA,MAHH,CAIP,WAAY,MAAKvD,KAAL,CAAWF,KAAX,CAAiBqB,QAJtB,CAJI,CAUfC,SAAS,CAAElB,WAAW,CAACkB,SAVR,CAUmBkD,SAAS,CAATA,SAVnB,CAAnB,CAaA,GAAI/F,SAAS,CAAC,MAAKyB,KAAL,CAAWF,KAAX,CAAiBoF,qBAAlB,CAAyC,MAAKlF,KAAL,CAAWF,KAAX,CAAiBqB,QAAjB,CAA0BgE,SAAnE,CAA8EjF,WAAW,CAACmE,YAA1F,CAAb,CAAsH,CAClH,GAAM1D,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE5B,cADK,CAEf6B,IAAI,CAAE,CACFG,SAAS,CAAE,IADT,CACeoE,UAAU,CAAE,CAAEzB,UAAU,CAAVA,UAAF,CAAcN,UAAU,CAAE,MAAKrD,KAAL,CAAWF,KAAX,CAAiBuD,UAA3C,CAD3B,CAEFpC,SAAS,CAAE,IAFT,CAEeoE,UAAU,CAAE,aAF3B,CAGFjE,SAAS,CAAElB,WAAW,CAACkB,SAHrB,CAGgCC,UAAU,CAAEnB,WAAW,CAACgB,cAAZ,CAA2BwE,MAHvE,CAFS,CAAnB,CAQA,MAAK1F,KAAL,CAAWhC,WAAX,CAAuB2C,UAAvB,EACH,CAVD,IAWK,CACD,MAAKX,KAAL,CAAWlC,UAAX,CAAsB6F,UAAtB,CAAkC,MAAK3D,KAAL,CAAWF,KAAX,CAAiBuD,UAAnD,CAA+D,WAA/D,EACH,CACJ,CA/CD,IAgDK,CACDpG,KAAK,CAACmH,IAAN,CAAW,MAAKpE,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,0BAAN,CAA9B,CAAX,EACH,CACJ,CACJ,CA1zBkB,OA4zBnBiG,aA5zBmB,CA4zBH,UAAM,CAClB,GAAM7C,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACP,0CACO,MAAK5D,KAAL,CAAWF,KAAX,CAAiBqB,QADxB,MAEIsF,OAAO,CAAE,MAAK5G,KAAL,CAAWqB,cAAX,CAA0B,eAA1B,CAFb,EADO,CAKPwF,QAAQ,CAAE,MAAK7G,KAAL,CAAWqB,cAAX,CAA0B,eAA1B,CALH,CADI,CAQfkE,UAAU,CAAE,MAAKpF,KAAL,CAAWF,KAAX,CAAiBsF,UARd,CAAnB,CAUA,MAAKpF,KAAL,CAAWjC,uBAAX,CAAmC4F,UAAnC,CAA+C,WAA/C,EACH,CAx0BkB,CAEf,MAAK9D,KAAL,CAAa,CAET8G,YAAY,CAAE,EAFL,CAGTC,KAAK,CAAE,EAHE,CAIT1F,cAAc,CAAE,EAJP,CAKTE,SAAS,CAAE,EALF,CAMTyF,eAAe,CAAEpD,SANR,CAOT4B,UAAU,CAAE5B,SAPH,CAQTyB,qBAAqB,CAAE,EARd,CAST4B,UAAU,CAAE,GAAIC,CAAAA,GAAJ,EATH,CAUTC,gBAAgB,CAAE,IAVT,CAAb,CAYA;AACA,MAAK9D,SAAL,CAAiBrG,KAAK,CAACoK,SAAN,EAAjB,CACA,MAAK9G,cAAL,CAAsB,GAAId,CAAAA,cAAJ,EAAtB,CACA,MAAK6H,eAAL,CAAuB,CAAC,eAAD,CAAkB,gBAAlB,CAAoC,QAApC,CAA8C,WAA9C,CACnB,gBADmB,CACD,cADC,CACe,WADf,CAEnB,gBAFmB,CAED,cAFC,CAEe,YAFf,CAGnB,aAHmB,CAGJ,eAHI,CAGa,gBAHb,CAG+B,gBAH/B,CAInB,eAJmB,CAAvB,CAjBe,aAsBlB,C,kDAoBD,iBAAS,iBACL,GAAIC,CAAAA,gBAAgB,CAAG,EAAvB,CACA,GAAI,KAAKnH,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,EAA+C,KAAKpH,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CrB,kBAA5C,GAAmE,EAAtH,CAA0H,CACtHoB,gBAAgB,CAAG,mBAAnB,CACH,CAFD,IAGK,IAAI,KAAKnH,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,EAA+C,KAAKpH,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CrB,kBAA5C,GAAmE,EAAtH,CAA0H,CAC3HoB,gBAAgB,CAAG,iBAAnB,CACH,CAED,GAAME,CAAAA,KAAK,CAAG,KAAKxH,KAAL,CAAWiH,UAAX,CAAsBQ,GAAtB,CAA0B,YAA1B,GAA2C,KAAKzH,KAAL,CAAWiH,UAAX,CAAsBS,GAAtB,CAA0B,YAA1B,EAAwCzB,YAAjG,CACA,GAAM0B,CAAAA,MAAM,CAAG,KAAK3H,KAAL,CAAWiH,UAAX,CAAsBQ,GAAtB,CAA0B,aAA1B,GAA4C,KAAKzH,KAAL,CAAWiH,UAAX,CAAsBS,GAAtB,CAA0B,aAA1B,EAAyCzB,YAApG,CACA,GAAM2B,CAAAA,QAAQ,CAAG,KAAK5H,KAAL,CAAWiH,UAAX,CAAsBQ,GAAtB,CAA0B,eAA1B,GAA8C,KAAKzH,KAAL,CAAWiH,UAAX,CAAsBS,GAAtB,CAA0B,eAA1B,EAA2CzB,YAA1G,CACA,GAAM4B,CAAAA,SAAS,CAAG,KAAK7H,KAAL,CAAWiH,UAAX,CAAsBQ,GAAtB,CAA0B,gBAA1B,GAA+C,KAAKzH,KAAL,CAAWiH,UAAX,CAAsBS,GAAtB,CAA0B,gBAA1B,EAA4CzB,YAA7G,CACA,GAAM6B,CAAAA,cAAc,CAAG,KAAK9H,KAAL,CAAWiH,UAAX,CAAsBQ,GAAtB,CAA0B,cAA1B,EAA4C,KAAKzH,KAAL,CAAWiH,UAAX,CAAsBS,GAAtB,CAA0B,cAA1B,EAA0CzB,YAAtF,CAAqG,CAAC,CAA7H,CAEA,GAAM8B,CAAAA,QAAQ,CAAG,CACbvC,UAAU,CAAE,aADC,CACcwC,cAAc,CAAE,QAD9B,CAEbxB,eAAe,CAAE5C,SAFJ,CAEerC,SAAS,CAAE,QAF1B,CAEoCuC,UAAU,CAAE,KAAK3D,KAAL,CAAWF,KAAX,CAAiB6D,UAFjE,CAGbxC,QAAQ,CAAE,KAAKnB,KAAL,CAAWF,KAAX,CAAiBqB,QAHd,CAGwBkD,YAAY,CAAEgD,KAHtC,CAAjB,CAOA,GAAMS,CAAAA,SAAS,CAAG,CACdzC,UAAU,CAAE,aADE,CACajE,SAAS,CAAE,QADxB,CACkCqD,eAAe,CAAE,QADnD,CAEdd,UAAU,CAAE,KAAK3D,KAAL,CAAWF,KAAX,CAAiB6D,UAFf,CAE2BxC,QAAQ,CAAE,KAAKnB,KAAL,CAAWF,KAAX,CAAiBqB,QAFtD,CAGdkD,YAAY,CAAEmD,MAHA,CAAlB,CAMA,GAAMtH,CAAAA,WAAW,CAAG,CAAEmF,UAAU,CAAE,aAAd,CAA6BtB,SAAS,CAAE,SAAxC,CAAmD3C,SAAS,CAAE,QAA9D,CAAwEF,cAAc,CAAE,KAAKlB,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAApH,CAAqI/C,YAAY,CAAEoD,QAAnJ,CAApB,CACA,GAAMM,CAAAA,YAAY,CAAG,CACjB1C,UAAU,CAAE,aADK,CACUtB,SAAS,CAAE,SADrB,CACgC7C,cAAc,CAAE,KAAKlB,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAD5E,CAEjBhG,SAAS,CAAE,SAFM,CAEKiD,YAAY,CAAEqD,SAFnB,CAArB,CAKA;AACA;AACA,GAAIhE,CAAAA,GAAG,CAAGhF,wBAAwB,CAAC,KAAKmB,KAAL,CAAWqB,cAAX,CAA0B,UAA1B,GAA0C,KAAKlB,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,EAA+B,KAAKrD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BC,QAAtG,CACE,KAAKzD,KAAL,CAAWqB,cAAX,CAA0B,QAA1B,GAAwC,KAAKlB,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,EAA+B,KAAKrD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BG,MADrG,CAEE,KAAKxD,KAAL,CAAWF,KAAX,CAAiBqB,QAFnB,CAAlC,CAIA,GAAIiC,CAAAA,QAAQ,CAAGM,GAAG,CAACN,QAAnB,CACA,GAAIG,CAAAA,MAAM,CAAGG,GAAG,CAACH,MAAjB,CAEA,GAAMyE,CAAAA,WAAW,CAAG,CAChBzD,aAAa,CAAE,aADC,CAEhBC,cAAc,CAAE,iBAFA,CAGhBC,eAAe,CAAE,QAHD,CAIhB6B,QAAQ,CAAE,oBAJM,CAKhBC,gBAAgB,CAAE,CAAEV,QAAQ,CAAE,KAAK7F,KAAL,CAAWF,KAAX,CAAiBqB,QAA7B,CAAuCiC,QAAQ,CAARA,QAAvC,CAAiDG,MAAM,CAANA,MAAjD,CALF,CAMhBF,UAAU,CAAE,KAAKrD,KAAL,CAAWF,KAAX,CAAiBuD,UANb,CAOhBqB,YAAY,CAAE,CAAC,UAAD,CAAa,QAAb,CAPE,CAQhBwC,eAAe,CAAE,KAAKA,eARN,CAApB,CAUA,GAAMe,CAAAA,eAAe,CAAG,CAAC,CAAE,UAAW,kBAAb,CAAiC,YAAa,YAA9C,CAA6D,iBAAiB,YAA9E,CAA4F,cAAe,WAA3G,CAAD,CACxB,CAAE,UAAW,eAAb,CAA8B,YAAa,gBAA3C,CAA+D,iBAAiB,YAAhF,CAA8F,cAAe,WAA7G,CADwB,CAExB,CAAE,UAAW,kBAAb,CAAiC,YAAa,eAA9C,CAAgE,iBAAiB,WAAjF,CAA8F,cAAe,SAA7G,CAFwB,CAGxB,CAAE,UAAW,iBAAb,CAAgC,YAAa,cAA7C,CAA8D,iBAAiB,YAA/E,CAA6F,cAAe,WAA5G,CAHwB,CAIxB,CAAE,UAAW,cAAb,CAA6B,YAAa,gBAA1C,CAA6D,iBAAiB,YAA9E,CAA4F,cAAe,WAA3G,CAJwB,CAAxB,CAMA,GAAI,KAAKpI,KAAL,CAAWqB,cAAX,CAA0B,aAA1B,IAA6ChC,iBAAiB,CAACwD,GAAnE,CAAwE,CACpEuF,eAAe,CAACC,IAAhB,CAAqB,CAAE,UAAW,mBAAb,CAAkC,YAAa,gBAA/C,CAAmE,iBAAiB,WAApF,CAAiG,cAAe,SAAhH,CAArB,EACH,CACD;AACA,GAAIC,CAAAA,kBAAkB,CAAGzJ,wBAAwB,CAAC,KAAKsB,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,EAA+B,KAAKrD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BC,QAA5D,CACjC,KAAKtD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,EAA+B,KAAKrD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BG,MAD1B,CAEjC,KAAKxD,KAAL,CAAWF,KAAX,CAAiBqB,QAFgB,CAAjD,CAIA,GAAMiH,CAAAA,cAAc,CAAG,CACnB,CACI,QAAS,UADb,CAEI,QAASD,kBAAkB,CAACE,cAFhC,CADmB,CAKnB,CACI,QAAS,QADb,CAEI,QAASF,kBAAkB,CAACG,YAFhC,CALmB,CAAvB,CAWA,mBACI,qDACI,oBAAC,WAAD,EAAa,SAAS,CAAC,4DAAvB,EACKF,cAAc,CAACG,MAAf,CAAwB,CAAxB,cACG,oBAAC,KAAD,EAAO,GAAG,CAAE,EAAZ,eACI,oBAAC,mBAAD,EAAqB,cAAc,CAAEH,cAArC,EADJ,CADH,CAGc,EAJnB,cASI,oBAAC,GAAD,EAAK,SAAS,CAAE,IAAhB,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,UAAW;AAAZ,EACI,UAAU,CAAE,KAAKpI,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,aAAN,CAA9B,CADhB,CAEI,UAAU,CAAE,KAAKP,KAAL,CAAWF,KAAX,CAAiBuD,UAFjC,CAGI,QAAQ,CAAE,KAAKrD,KAAL,CAAWF,KAAX,CAAiBqB,QAH/B,CAII,UAAU,CAAE,KAAKnB,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BmF,YAA5B,EAA4C,KAAKxI,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BoF,WAJxF,CAKI,eAAe,CAAE,yBAACC,OAAD,QAAa,CAAA,MAAI,CAAC1I,KAAL,CAAW/B,gBAAX,CAA4ByK,OAA5B,CAAqCtF,QAArC,CAA+CG,MAA/C,CAC1B,MAAI,CAACvD,KAAL,CAAWF,KAAX,CAAiBqB,QADS,CACC,MAAI,CAACnB,KAAL,CAAWF,KAAX,CAAiBuD,UADlB,CAAb,EALrB,CAOI,cAAc,CAAE,KAAKrD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAPhD,CAQI,eAAe,CAAC,QARpB,CASI,SAAS,CAAC,eATd,CAUI,UAAU,CAAC,QAVf,CAWI,WAAW,CAAC,gBAXhB,CAYI,gBAAgB,CAAE,KAAKpH,KAAL,CAAW3B,gBAZjC,CAaI,WAAW,CAAE2J,WAbjB,CAcI,qBAAqB,CAAE,KAAKnI,KAAL,CAAWqF,qBAdtC,CAeI,UAAU,CAAE,KAfhB,CAgBI,KAAK,CAAEmC,KAhBX,CAiBI,SAAS,CAAE,2BAAM,CAAA,MAAI,CAACrH,KAAL,CAAW7B,sBAAX,CAAkCyJ,QAAlC,CAAN,EAjBf,CAkBI,SAAS,CAAE,KAAK1E,SAlBpB,CAmBI,UAAU,CAAE,KAAKF,UAnBrB,CAoBI,mBAAmB,CAAE,KApBzB,CAsBI,cAAc,CAAE,IAtBpB,CAuBI,UAAU,CAAE,KAAKhD,KAAL,CAAWF,KAAX,CAAiBY,UAvBjC,CAwBI,UAAU,CAAE,KAAKD,UAxBrB,CAyBI,WAAW,CAAE,KAAKK,WAzBtB,CA0BI,cAAc,CAAE,KAAKiC,cA1BzB,CA6BI,eAAe,CAAE,CACb,CACI,0BACI,oBAAC,UAAD,EACI,cAAc,CAAE,KAAKlD,KAAL,CAAWqB,cAAX,EAA6B,EADjD,CAEI,gBAAgB,CAAE,KAAK0B,gBAF3B,CAGI,QAAQ,CAAEQ,QAHd,CAII,MAAM,CAAEG,MAJZ,CAKI,QAAQ,CAAE,KAAKvD,KAAL,CAAWF,KAAX,CAAiBqB,QAL/B,EAFR,CADa,CA7BrB,EADJ,CADJ,cA6CI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,YAAD,EAAc,SAAS,CAAC,oBAAxB,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,EACK,KAAKnB,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BoF,WAA5B,EAA2C,KAAKzI,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BoF,WAA5B,CAAwCF,MAAxC,CAAiD,CAA5F,EAAiG,KAAKvI,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA7H,cACG,qDACI,oBAAC,IAAD,CAAM,MAAN,mBACI,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,oBAAtB,EAA4C,KAAKpH,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4C1B,MAAxF,CADJ,cAEI,oBAAC,IAAD,CAAM,QAAN,EAAe,SAAS,CAAC,+BAAzB,eACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,QAAvB,eACI,0BAAI,SAAS,CAAC,+BAAd,eAEI,4BAAM,SAAS,4BAAsByB,gBAAtB,gBAAf,eAEI,oBAAC,gBAAD,EAAkB,EAAE,CAAE,KAAKnH,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CuB,cAAlE,CAAkF,OAAO,CAAE,KAAK3I,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CuB,cAAvI,EAFJ,CAFJ,CADJ,CADJ,cAUI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,YAAD,EAAc,KAAK,CAAC,QAApB,CAA6B,cAAc,CAAC,OAA5C,EADJ,cAGI,2BAAK,SAAS,CAAC,yBAAf,CAAyC,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAhD,eAEI,oBAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,aAAf,CAA6B,MAAM,CAAE,KAAK/I,KAAL,CAAWqF,qBAAX,CAAiC2D,OAAjC,CAAyCrB,MAAzC,IAAqD,CAAC,CAA3F,CACI,WAAU,KAAKxH,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CADd,CAEI,WAAS,mBAFb,CAGI,SAAS,CAAC,kCAHd,CAII,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACP,KAAL,CAAW7B,sBAAX,gCAAuC2J,SAAvC,MAAkDzB,eAAe,CAAE,MAAI,CAACrG,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4C1B,MAA/G,CAAuHtC,QAAQ,CAARA,QAAvH,CAAiIG,MAAM,CAANA,MAAjI,GAAN,EAJb,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAE9F,WAAvB,EANJ,CAFJ,cAWI,oBAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,eAAf,CACI,WAAU,KAAKuC,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CADd,CAEI,SAAS,CAAC,kCAFd,CAGI,WAAS,mBAHb,CAII,MAAM,CAAE,KAAKV,KAAL,CAAWqF,qBAAX,CAAiC2D,OAAjC,CAAyCpB,QAAzC,IAAuD,CAAC,CAJpE,CAKI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACxH,aAAL,kBAAwBC,WAAxB,EAAN,EALb,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAExC,UAAvB,EANJ,CAXJ,cA6BI,oBAAC,YAAD,EAAc,SAAS,CAAC,iEAAxB,eACI,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,kCAApB,CACI,MAAM,CAAE,KAAKmC,KAAL,CAAWqF,qBAAX,CAAiC2D,OAAjC,CAAyCnB,SAAzC,IAAwD,CAAC,CADrE,CAEI,WAAU,KAAK1H,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,mBAAN,CAA9B,CAFd,CAGI,WAAS,mBAHb,CAII,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,qBAAL,kBAAgCuH,YAAhC,EAAN,EAJb,eAMI,oBAAC,iBAAD,EAAmB,SAAS,CAAC,cAA7B,CAA4C,KAAK,CAAC,IAAlD,CAAuD,MAAM,CAAC,IAA9D,CACI,IAAI,CAAC,mBACL;AAFJ,EANJ,CADJ,CA7BJ,cA2CI,oBAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,cAAf,CACI,WAAU,KAAK/H,KAAL,CAAWK,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,kBAAN,CAA9B,CADd,CAEI,WAAS,mBAFb,CAGI,MAAM,CAAE,KAAKV,KAAL,CAAWqF,qBAAX,CAAiC2D,OAAjC,CAAyClB,cAAzC,IAA6D,CAAC,CAH1E,CAII,SAAS,CAAC,kCAJd,CAMI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC3H,KAAL,CAAW9B,6BAAX,CAAyC,CACpD2I,eAAe,CAAE,MAAI,CAAC7G,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eADO,CAEpDtB,YAAY,CAAE6B,cAFsC,CAGpDxG,QAAQ,CAAE,MAAI,CAACnB,KAAL,CAAWF,KAAX,CAAiBqB,QAHyB,CAAzC,CAAN,EAKT;AAXJ,eAaI,oBAAC,eAAD,EAAiB,IAAI,CAAExD,OAAvB,EAbJ,CA3CJ,CAHJ,CAVJ,CADJ,CAFJ,CADJ,cAiFI,oBAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,kBAArB,eAEI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,eAArB,CAAqC,OAAO,CAAC,WAA7C,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAKqC,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4C0B,aAA3D,CAFJ,CADJ,CADJ,cAOI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,gBAArB,CAAsC,OAAO,CAAC,UAA9C,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAK9I,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CtF,SAA3D,CAFJ,CADJ,CAPJ,cAaI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,kBAArB,CAAwC,OAAO,CAAC,cAAhD,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAK9B,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4C2B,UAA3D,CAFJ,CADJ,CAbJ,cAmBI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,kBAArB,CAAwC,OAAO,CAAC,iBAAhD,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAK/I,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4C4B,aAA3D,CAFJ,CADJ,CAnBJ,cA0BI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,iBAArB,CAAuC,OAAO,CAAC,cAA/C,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAKhJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4C6B,YAA3D,CAFJ,CADJ,CA1BJ,cAgCI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,cAArB,CAAoC,OAAO,CAAC,WAA5C,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAKjJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4C8B,cAA3D,CAFJ,CADJ,CAhCJ,cAsCI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,gBAArB,CAAsC,OAAO,CAAC,cAA9C,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAKlJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4C+B,WAA3D,CAFJ,CADJ,CAtCJ,cA4CI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,sBAArB,CAA4C,OAAO,CAAC,eAApD,EAAX,CADJ,cAEI,oBAAC,YAAD,MACK,KAAKnJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CgC,aAA5C,GAA8D,IAA9D,EAAsE,KAAKpJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CgC,aAA5C,CAA0Db,MAA1D,GAAqE,CAA3I,CACK,GADL,CACW,KAAKvI,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CgC,aAF5D,CAFJ,CADJ,CA5CJ,cAqDI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,oBAArB,CAA0C,OAAO,CAAC,SAAlD,EAAX,CADJ,cAEI,oBAAC,YAAD,MACK,KAAKpJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CiC,YAA5C,GAA6D,CAAC,CAA9D,CAAkE,GAAlE,CAAwE,KAAKrJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CkC,YADzH,CAFJ,CADJ,CArDJ,cA6DI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,mBAArB,CAAyC,OAAO,CAAC,iBAAjD,EAAX,CADJ,cAEI,oBAAC,YAAD,MAEK,KAAKtJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CmC,cAA5C,GAA+D,IAA/D,EAAuE,KAAKvJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CmC,cAA5C,CAA2DhB,MAA3D,GAAsE,CAA7I,CACK,GADL,CACW,KAAKvI,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CmC,cAH5D,CAFJ,CADJ,CA7DJ,cAuEI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,mBAArB,CAAyC,OAAO,CAAC,kBAAjD,EAAX,CADJ,cAEI,oBAAC,YAAD,MACK,KAAKvJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CoC,cAA5C,GAA+D,IAA/D,EAAuE,KAAKxJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CoC,cAA5C,CAA2DjB,MAA3D,GAAsE,CAA7I,CACK,GADL,CACW,KAAKvI,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CoC,cAF5D,CAFJ,CADJ,CAvEJ,cAgFI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,cAArB,CAAoC,OAAO,CAAC,UAA5C,EAAX,CADJ,cAEI,oBAAC,YAAD,MACK,KAAKxJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CqC,SAA5C,GAA0D,IAA1D,EAAkE,KAAKzJ,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CqC,SAA5C,CAAsDlB,MAAtD,GAAiE,CAAnI,CACK,GADL,CACW,KAAKvI,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4B+D,eAA5B,CAA4CqC,SAF5D,CAFJ,CADJ,CAhFJ,CAFJ,cA8FI,oBAAC,mBAAD,EACI,SAAS,CAAE,KAAKzJ,KAAL,CAAWF,KAAX,CAAiBsB,SADhC,CAEI,UAAU,CAAE,KAAKpB,KAAL,CAAWF,KAAX,CAAiB6D,UAFjC,CAGI,UAAU,CAAE,KAAK3D,KAAL,CAAWF,KAAX,CAAiBuF,UAHjC,CAII,QAAQ,CAAE,KAAKrF,KAAL,CAAWF,KAAX,CAAiBqB,QAJ/B,CAKI,UAAU,CAAE,KAAKnB,KAAL,CAAWF,KAAX,CAAiBuD,UALjC,CAMI,UAAU,CAAE,KAAKrD,KAAL,CAAWlC,UAN3B,CAOI,SAAS,CAAE,KAAKkC,KAAL,CAAWF,KAAX,CAAiB4J,SAPhC,CAQI,YAAY,CAAE,KAAK1J,KAAL,CAAWF,KAAX,CAAiB6G,YARnC,CASI,cAAc,CAAE,KAAK3G,KAAL,CAAWF,KAAX,CAAiB6J,cATrC,CAUI,WAAW,CAAE,KAAK3J,KAAL,CAAWhC,WAV5B,CAWI,cAAc,CAAE,KAAKgC,KAAL,CAAWF,KAAX,CAAiBoB,cAXrC,CAYI,+BAA+B,CAAE,KAAKlB,KAAL,CAAW5B,+BAZhD,CAaI,YAAY,CAAE,KAAK4B,KAAL,CAAWF,KAAX,CAAiBuE,YAbnC,CAcI,qBAAqB,CAAE,KAAKxE,KAAL,CAAWqF,qBAdtC,CAeI,WAAW,CAAE,KAAKlF,KAAL,CAAWF,KAAX,CAAiBoF,qBAflC,CAgBI,UAAU,CAAE,KAAKlF,KAAL,CAAWF,KAAX,CAAiBsF,UAhBjC,CAiBI,uBAAuB,CAAE,KAAKpF,KAAL,CAAWjC,uBAjBxC,CAkBI,SAAS,CAAE,KAAKiC,KAAL,CAAWF,KAAX,CAAiBkB,SAlBhC,CAmBI,UAAU,CAAE,KAAKnB,KAAL,CAAWiH,UAnB3B,CAoBI,UAAU,CAAE,KAAK9G,KAAL,CAAWF,KAAX,CAAiBuB,UApBjC,CAqBI,QAAQ,CAAE+B,QArBd,CAsBI,MAAM,CAAEG,MAtBZ,CAuBI,SAAS,CAAE,KAAKvD,KAAL,CAAWF,KAAX,CAAiB8J,SAvBhC,CAwBI,YAAY,CAAE,KAAK5J,KAAL,CAAWF,KAAX,CAAiB+J,YAAjB,EAAiC,EAxBnD,CAyBI,WAAW,CAAE,KAAK7J,KAAL,CAAWF,KAAX,CAAiBwF,WAzBlC,CA0BI,QAAQ,CAAI,KAAKtF,KAAL,CAAWF,KAAX,CAAiBgK,QA1BjC,EA9FJ,CAjFJ,CADH,CA8MK,EA/MV,CADJ,CADJ,CA7CJ,CATJ,CADJ,CAoRK,KAAK9J,KAAL,CAAWF,KAAX,CAAiBmB,SAAjB,cACG,oBAAC,aAAD,EAAe,IAAI,CAAE,KAAKjB,KAAL,CAAWF,KAAX,CAAiBmB,SAAtC,CACI,UAAU,CAAE,KAAKF,UADrB,CAEI,SAAS,CAAE,KAAKf,KAAL,CAAWF,KAAX,CAAiBsB,SAFhC,CAGI,UAAU,CAAE,KAAKpB,KAAL,CAAWF,KAAX,CAAiB6D,UAHjC,CAII,UAAU,CAAE,KAAK3D,KAAL,CAAWF,KAAX,CAAiBuF,UAJjC,CAKI,WAAW,CAAE,KAAKrF,KAAL,CAAWF,KAAX,CAAiBsB,SAAjB,GAA+B,SAA/B,CACT,KAAKqE,kBADI,CACiB,KAAKxB,WANvC,CAOI,KAAK,CAAE,KAAKjE,KAAL,CAAWF,KAAX,CAAiBkB,SAP5B,CAQI,aAAa,CAAE,KAAKwF,aARxB,CASI,YAAY,CAAE,KAAKxG,KAAL,CAAWF,KAAX,CAAiB6G,YATnC,CAUI,WAAW,CAAE,KAAK3G,KAAL,CAAWhC,WAV5B,CAWI,gBAAgB,CAAE,KAAK6B,KAAL,CAAWmH,gBAXjC,CAYI,cAAc,CAAE,KAAKnH,KAAL,CAAWqB,cAAX,EAA6B,EAZjD,CAaI,eAAe,CAAE,KAAKlB,KAAL,CAAWF,KAAX,CAAiBsB,SAAjB,GAA+B,SAA/B,CACb,CAAC,CAAE,UAAW,aAAb,CAA4B,YAAa,cAAzC,CAAD,CADa,CAEX6G,eAfV,CAgBI,WAAW,CAAK,KAAKjI,KAAL,CAAWF,KAAX,CAAiBsB,SAAjB,GAA+B,SAA/B,CAA0C,OAA1C,CAAkDqC,SAhBtE,CAiBI,cAAc,CAAK,KAAKzD,KAAL,CAAWF,KAAX,CAAiBsB,SAAjB,GAA+B,SAA/B,CAA2C,IAA3C,CAAkD,KAjBzE,CAkBI,YAAY,CAAE,KAAKpB,KAAL,CAAWF,KAAX,CAAiBkB,SAAjB,cACV,oBAAC,KAAD,EAAO,SAAS,CAAE,KAAKhB,KAAL,CAAWF,KAAX,CAAiBsB,SAAnC,CACI,eAAe,CAAE,KAAKe,eAD1B,CAEI,UAAU,CAAE,KAAKnC,KAAL,CAAWF,KAAX,CAAiB6D,UAFjC,CAGI,cAAc,CAAE,KAAK9D,KAAL,CAAWqB,cAAX,EAA6B,EAHjD,EADU,CAMR,KAAKlB,KAAL,CAAWF,KAAX,CAAiBsB,SAAjB,GAA+B,SAA/B,cACE,oBAAC,UAAD,EACI,OAAO,CAAE,KAAKpB,KAAL,CAAWF,KAAX,CAAiBiK,WAD9B,CAEI,mBAAmB,CAAE,KAAKlK,KAAL,CAAWqB,cAAX,EAA6B,EAFtD,CAGI,aAAa,CAAE,KAAKI,aAHxB,EADF,cAMI,oBAAC,UAAD,EACE,cAAc,CAAE,KAAKzB,KAAL,CAAWqB,cAAX,EAA6B,EAD/C,CAEE,eAAe,CAAE,KAAKiB,eAFxB,CAGE,sBAAsB,CAAE,KAAKF,sBAH/B,CAIE,aAAa,CAAE,KAAKX,aAJtB,CAKE,gBAAgB,CAAE,KAAKsB,gBALzB,CAME,SAAS,CAAE,KAAK5C,KAAL,CAAWF,KAAX,CAAiBsB,SAN9B,CAOE,UAAU,CAAE,KAAKpB,KAAL,CAAWF,KAAX,CAAiB6D,UAP/B,CAQE,gBAAgB,CAAE,KAAK3D,KAAL,CAAWF,KAAX,CAAiBkK,gBAAjB,EAAqC,EARzD,CASE,WAAW,CAAE,KAAKhK,KAAL,CAAWF,KAAX,CAAiBmK,WAAjB,EAAgC,EAT/C,CAUE,aAAa,CAAE,KAAKjK,KAAL,CAAWF,KAAX,CAAiB2B,aAAjB,EAAkC,EAVnD,CAWE,YAAY,CAAE,KAAKzB,KAAL,CAAWF,KAAX,CAAiB+J,YAAjB,EAAiC,EAXjD,CAYE,QAAQ,CAAE,KAAK7J,KAAL,CAAWF,KAAX,CAAiBqB,QAZ7B,CAaE,WAAW,CAAE,KAAKnB,KAAL,CAAWF,KAAX,CAAiBwF,WAbhC,EA9Bd,EADH,CA8CQ,EAlUb,CADJ,CAuUH,C,kCAED,4BAAmB4E,aAAnB,CAAkC,CAC9B,GAAI,KAAKlK,KAAL,CAAWF,KAAX,CAAiBoB,cAAjB,GAAoCgJ,aAAa,CAACpK,KAAd,CAAoBoB,cAA5D,CAA4E,CACxE,KAAKc,QAAL,CAAc,CAAEd,cAAc,CAAE,KAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,cAAnC,CAAd,EACH,CACD,GAAI,KAAKlB,KAAL,CAAWF,KAAX,CAAiBqB,QAAjB,CAA0BgE,SAA1B,GAAwC+E,aAAa,CAACpK,KAAd,CAAoBqB,QAApB,CAA6BgE,SAAzE,CAAoF,CAChF,GAAMD,CAAAA,qBAAqB,CAAG,EAA9B,CACA,GAAI,KAAKlF,KAAL,CAAWF,KAAX,CAAiBoF,qBAArB,CAA4C,CACxC,KAAKlF,KAAL,CAAWF,KAAX,CAAiBoF,qBAAjB,CAAuC,KAAKlF,KAAL,CAAWF,KAAX,CAAiBqB,QAAjB,CAA0BgE,SAAjE,GAA+EgF,MAAM,CAACC,MAAP,CAAc,KAAKpK,KAAL,CAAWF,KAAX,CAAiBoF,qBAAjB,CAAuC,KAAKlF,KAAL,CAAWF,KAAX,CAAiBqB,QAAjB,CAA0BgE,SAAjE,CAAd,EAA2FzD,GAA3F,CAA+F,SAAAG,IAAI,QAC9KqD,CAAAA,qBAAqB,CAACgD,IAAtB,CAA2BrG,IAAI,CAACiE,YAAhC,CAD8K,EAAnG,CAA/E,CAEH,CACD,GAAMgB,CAAAA,UAAU,CAAGtI,aAAa,CAAC,KAAKwB,KAAL,CAAWF,KAAX,CAAiBoF,qBAAlB,CAAyC,KAAKlF,KAAL,CAAWF,KAAX,CAAiBqB,QAAjB,CAA0BgE,SAAnE,CAAhC,CACA,KAAKnD,QAAL,CAAc,CAAEkD,qBAAqB,CAArBA,qBAAF,CAAyB4B,UAAU,CAAVA,UAAzB,CAAd,EACH,CACD,GAAI,KAAK9G,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,GAAgC6G,aAAa,CAACpK,KAAd,CAAoBuD,UAAxD,CAAoE,CAChE,GAAMgH,CAAAA,UAAU,CAAG,KAAKC,qBAAL,EAAnB,CACA,KAAKtI,QAAL,CAAc,CAAEqI,UAAU,CAAVA,UAAF,CAAd,EACH,CAEJ,C,qCASD,gCAAwB,CACpB,GAAMjC,CAAAA,cAAc,CAAG,EAAvB,CACA;AACD;AAEA,GAAI,KAAKpI,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,EAA+B,KAAKrD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BC,QAA/D,CAAyE,CACpE;AACA,GAAII,CAAAA,GAAG,CAAGhF,wBAAwB,CAAC,KAAKsB,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BC,QAA7B,CACC,KAAKtD,KAAL,CAAWF,KAAX,CAAiBuD,UAAjB,CAA4BG,MAD7B,CAEC,KAAKxD,KAAL,CAAWF,KAAX,CAAiBqB,QAFlB,CAAlC,CAIAiH,cAAc,CAACF,IAAf,CACI,CACI,QAAS,UADb,CAEI,QAASxE,GAAG,CAAC2E,cAFjB,CADJ,CAKI,CACI,QAAS,QADb,CAEI,QAAS3E,GAAG,CAAC4E,YAFjB,CALJ,EAUH,CACD,MAAOF,CAAAA,cAAP,CACH,C,oCAsVD;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,+BAAuB,CACnB,GAAMzH,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE5B,cADK,CAEf6B,IAAI,CAAE,CACFwC,UAAU,CAAE,EADV,CACcM,UAAU,CAAEF,SAD1B,CACqCrC,SAAS,CAAE,IADhD,CACsDmJ,SAAS,CAAE9G,SADjE,CAFS,CAAnB,CAMA,KAAKzD,KAAL,CAAWhC,WAAX,CAAuB2C,UAAvB,EACH,C,0CAz0BD,kCAAgCX,KAAhC,CAAuCH,KAAvC,CAA8C,CAC1C;AACA;AACA,GAAIG,KAAK,CAACF,KAAN,CAAY6G,YAAZ,GAA6B,EAA7B,EAAmC3G,KAAK,CAACF,KAAN,CAAY6G,YAAZ,GAA6B9G,KAAK,CAAC8G,YAA1E,CAAwF,CACpF1J,KAAK,CAACmH,IAAN,CAAWpE,KAAK,CAACF,KAAN,CAAY6G,YAAvB,EACA3G,KAAK,CAACF,KAAN,CAAY6G,YAAZ,CAA2B,EAA3B,CAEH,CACD,GAAI3G,KAAK,CAACF,KAAN,CAAY8G,KAAZ,GAAsB/G,KAAK,CAAC+G,KAAhC,CAAuC,CACnC3J,KAAK,CAAC2J,KAAN,CAAY5G,KAAK,CAACF,KAAN,CAAY8G,KAAxB,EACA5G,KAAK,CAACF,KAAN,CAAY8G,KAAZ,CAAoB,EAApB,CACH,CACD,GAAI5G,KAAK,CAACF,KAAN,CAAYoB,cAAZ,GAA+BuC,SAAnC,CAA8C,CAC1C,MAAO,CAAEvC,cAAc,CAAE,EAAlB,CAAP,CACH,CACD,MAAO,KAAP,CACH,C,6BAzCyBrE,KAAK,CAAC2N,S,EAq2BpC,cAAe1N,CAAAA,OAAO,CAAC8C,eAAD,CAAkB,CACpC/B,WAAW,CAAXA,WADoC,CACvBC,UAAU,CAAVA,UADuB,CACXC,uBAAuB,CAAvBA,uBADW,CACcC,WAAW,CAAXA,WADd,CAC2BE,6BAA6B,CAA7BA,6BAD3B,CAEpCD,gBAAgB,CAAhBA,gBAFoC,CAElBE,sBAAsB,CAAtBA,sBAFkB,CAEMC,+BAA+B,CAA/BA,+BAFN,CAEuCC,gBAAgB,CAAhBA,gBAFvC,CAGpCT,oBAAoB,CAApBA,oBAHoC,CAGdU,aAAa,CAAbA,aAHc,CAAlB,CAAP,CAIZvB,UAAU,CAACgD,eAAD,CAJE,CAAf","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt, faPrint } from '@fortawesome/free-solid-svg-icons';\r\nimport {\r\n    showUnderDevelopment,\r\n    callService, crudMaster, validateEsignCredential, updateStore, getGoodsInDetail, getGoodsInPrinterComboService,\r\n    getGoodsInComboService, getChainCustodyComboDataService, filterColumnData,reloadGoodsIn\r\n} from '../../actions';\r\nimport { showEsign, getControlMap, formatInputDate,  convertDateValuetoString, rearrangeDateFormat } from '../../components/CommonScript';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport SampleReceivingTabs from './SampleReceivingTabs';\r\nimport Esign from '../audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport AddGoodsIn from './AddGoodsIn';\r\n//import SampleReceivingFilter from './SampleReceivingFilter';\r\n// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\r\nimport { ReactComponent as GoodsReceivedIcon } from '../../assets/image/goods-received.svg';\r\nimport DateFilter from '../../components/DateFilter';\r\nimport AddPrinter from '../registration/AddPrinter';\r\nimport { Affix } from 'rsuite';\r\nimport ReactTooltip from 'react-tooltip';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass SampleReceiving extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            selectedRecord: {},\r\n            operation: \"\",\r\n            selectedGoodsIn: undefined,\r\n            screenName: undefined,\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            showSaveContinue: true\r\n        };\r\n        // this.breadCrumbData = [];\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        this.searchFieldList = [\"nnoofpackages\", \"nrecipientcode\", \"nrmsno\", \"scomments\",\r\n            \"sconsignmentno\", \"scouriername\", \"sdeptname\",\r\n            \"sdisplaystatus\", \"sgoodsindate\", \"smanufname\",\r\n            \"soutofhours\", \"sreceiveddate\", \"ssecurityrefno\", \"stzgoodsindate\",\r\n            \"suserfullname\"];\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        // if (props.Login.masterStatus !== \"\") {\r\n        //     if (props.screenName === \"IDS_GOODSIN\") {\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        let goodsInStatusCSS = \"\";\r\n        if (this.props.Login.masterData.SelectedGoodsIn && this.props.Login.masterData.SelectedGoodsIn.ntransactionstatus === 15) {\r\n            goodsInStatusCSS = \"outline-secondary\";\r\n        }\r\n        else if (this.props.Login.masterData.SelectedGoodsIn && this.props.Login.masterData.SelectedGoodsIn.ntransactionstatus === 16) {\r\n            goodsInStatusCSS = \"outline-success\";\r\n        }\r\n\r\n        const addId = this.state.controlMap.has(\"AddGoodsIn\") && this.state.controlMap.get(\"AddGoodsIn\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"EditGoodsIn\") && this.state.controlMap.get(\"EditGoodsIn\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteGoodsIn\") && this.state.controlMap.get(\"DeleteGoodsIn\").ncontrolcode\r\n        const receiveId = this.state.controlMap.has(\"ReceiveGoodsIn\") && this.state.controlMap.get(\"ReceiveGoodsIn\").ncontrolcode\r\n        const printBarcodeId = this.state.controlMap.has(\"PrintBarcode\") ? this.state.controlMap.get(\"PrintBarcode\").ncontrolcode : -1;\r\n\r\n        const addParam = {\r\n            screenName: \"IDS_GOODSIN\", primaryeyField: \"nrmsno\",\r\n            primaryKeyValue: undefined, operation: \"create\", inputParam: this.props.Login.inputParam,\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: addId\r\n        };\r\n\r\n\r\n        const editParam = {\r\n            screenName: \"IDS_GOODSIN\", operation: \"update\", primaryKeyField: \"nrmsno\",\r\n            inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo,\r\n            ncontrolCode: editId\r\n        };\r\n\r\n        const deleteParam = { screenName: \"IDS_GOODSIN\", methodUrl: \"GoodsIn\", operation: \"delete\", selectedRecord: this.props.Login.masterData.SelectedGoodsIn, ncontrolCode: deleteId };\r\n        const receiveParam = {\r\n            screenName: \"IDS_GOODSIN\", methodUrl: \"GoodsIn\", selectedRecord: this.props.Login.masterData.SelectedGoodsIn,\r\n            operation: \"receive\", ncontrolCode: receiveId\r\n        };\r\n\r\n        // let obj = this.convertDatetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\r\n        //     this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate))\r\n        let obj = convertDateValuetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\r\n                                            this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate),\r\n                                            this.props.Login.userInfo)\r\n       \r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n\r\n        const filterParam = {\r\n            inputListName: \"GoodsInList\",\r\n            selectedObject: \"SelectedGoodsIn\",\r\n            primaryKeyField: \"nrmsno\",\r\n            fetchUrl: \"goodsin/getGoodsIn\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo, fromDate, toDate },\r\n            masterData: this.props.Login.masterData,\r\n            unchangeList: [\"FromDate\", \"ToDate\"],\r\n            searchFieldList: this.searchFieldList\r\n        }\r\n        const mandatoryFields = [{ \"idsName\": \"IDS_MANUFACTURER\", \"dataField\": \"nmanufcode\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_RECIPIENT\", \"dataField\": \"nrecipientcode\"  , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n        { \"idsName\": \"IDS_NOOFPACKAGES\", \"dataField\": \"nnoofpackages\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_GOODSINDATE\", \"dataField\": \"dgoodsindate\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_TIMEZONE\", \"dataField\": \"ntzgoodsindate\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" }];\r\n\r\n        if (this.state.selectedRecord[\"noutofhours\"] === transactionStatus.YES) {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_SECURITYREFNO\", \"dataField\": \"ssecurityrefno\"  , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"});\r\n        }\r\n        //let breadCrumbDataDate = this.convertDatetoString(this.props.Login.masterData && this.props.Login.masterData.FromDate, this.props.Login.masterData && this.props.Login.masterData.ToDate)\r\n        let breadCrumbDataDate = convertDateValuetoString(this.props.Login.masterData && this.props.Login.masterData.FromDate, \r\n                        this.props.Login.masterData && this.props.Login.masterData.ToDate,\r\n                        this.props.Login.userInfo)\r\n        \r\n        const breadCrumbData = [\r\n            {\r\n                \"label\": \"IDS_FROM\",\r\n                \"value\": breadCrumbDataDate.breadCrumbFrom\r\n            },\r\n            {\r\n                \"label\": \"IDS_TO\",\r\n                \"value\": breadCrumbDataDate.breadCrumbto\r\n            }\r\n        ];\r\n\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n\r\n                    {/* <div className=\"client-listing-wrap mtop-4\"> */}\r\n                    {/* Start of get display*/}\r\n                    <Row noGutters={true}>\r\n                        <Col md={4}>\r\n                            <ListMaster //formatMessage={this.props.intl.formatMessage}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_GOODSIN\" })}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.GoodsInList}\r\n                                getMasterDetail={(goodsIn) => this.props.getGoodsInDetail(goodsIn, fromDate, toDate,\r\n                                    this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.SelectedGoodsIn}\r\n                                primaryKeyField=\"nrmsno\"\r\n                                mainField=\"suserfullname\"\r\n                                firstField=\"nrmsno\"\r\n                                secondField=\"sdisplaystatus\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                hidePaging={false}\r\n                                addId={addId}\r\n                                openModal={() => this.props.getGoodsInComboService(addParam)}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                needAccordianFilter={false}\r\n\r\n                                showFilterIcon={true}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n\r\n\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_FILTER\":\r\n                                            <DateFilter\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                handleDateChange={this.handleDateChange}\r\n                                                fromDate={fromDate}\r\n                                                toDate={toDate}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md={8}>\r\n                            <ContentPanel className=\"panel-main-content\">\r\n                                <Card className=\"border-0\">\r\n                                    {this.props.Login.masterData.GoodsInList && this.props.Login.masterData.GoodsInList.length > 0 && this.props.Login.masterData.SelectedGoodsIn ?\r\n                                        <>\r\n                                            <Card.Header>\r\n                                                <Card.Title className=\"product-title-main\">{this.props.Login.masterData.SelectedGoodsIn.nrmsno}</Card.Title>\r\n                                                <Card.Subtitle className=\"text-muted font-weight-normal\">\r\n                                                    <Row>\r\n                                                        <Col md={10} className=\"d-flex\">\r\n                                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n\r\n                                                                <span className={`btn btn-outlined ${goodsInStatusCSS} btn-sm ml-3`}>\r\n                                                                    {/* <i class=\"fas fa-check \"></i>  */}\r\n                                                                    <FormattedMessage id={this.props.Login.masterData.SelectedGoodsIn.sdisplaystatus} message={this.props.Login.masterData.SelectedGoodsIn.sdisplaystatus} />\r\n                                                                </span>\r\n                                                            </h2>\r\n                                                        </Col>\r\n                                                        <Col md={2}>\r\n                                                            <ReactTooltip place=\"bottom\" globalEventOff='click' />\r\n                                                            {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                            <div className=\"d-flex product-category\" style={{ float: \"right\" }}>\r\n\r\n                                                                <Nav.Link name=\"editgoodsin\" hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    onClick={() => this.props.getGoodsInComboService({ ...editParam, primaryKeyValue: this.props.Login.masterData.SelectedGoodsIn.nrmsno, fromDate, toDate })}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                                </Nav.Link>\r\n\r\n                                                                <Nav.Link name=\"deletegoodsin\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                    className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                    onClick={() => this.ConfirmDelete({ ...deleteParam })}>\r\n                                                                    <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                    {/* <ConfirmDialog\r\n                                                                            name=\"deleteMessage\"\r\n                                                                            message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                                            doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                                            doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                                            icon={faTrashAlt}\r\n                                                                            // title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                            handleClickDelete={() => this.deleteOrReceiveRecord({ ...deleteParam })}\r\n                                                                        /> */}\r\n                                                                </Nav.Link>\r\n                                                                <ContentPanel className=\"d-flex justify-content-end dropdown badget_menu icon-group-wrap\">\r\n                                                                    <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(receiveId) === -1}\r\n                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_RECEIVEDGOODS\" })}\r\n                                                                        data-for=\"tooltip_list_wrap\"\r\n                                                                        onClick={() => this.deleteOrReceiveRecord({ ...receiveParam })}>\r\n                                                                        {/* <Image src={checkedIcon} alt=\"filer-icon\" width=\"20\" height=\"20\" /> */}\r\n                                                                        <GoodsReceivedIcon className=\"custom_icons\" width=\"20\" height=\"20\"\r\n                                                                            name=\"goodsreceivedicon\"\r\n                                                                            //title={this.props.intl.formatMessage({ id: \"IDS_RECEIVEDGOODS\" })} \r\n                                                                            />\r\n                                                                    </Nav.Link>\r\n\r\n                                                                </ContentPanel>\r\n                                                                <Nav.Link name=\"printbarcode\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_PRINTBARCODE\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(printBarcodeId) === -1}\r\n                                                                    className=\"btn btn-circle outline-grey mr-2\"\r\n\r\n                                                                    onClick={() => this.props.getGoodsInPrinterComboService({\r\n                                                                        selectedGoodsIn: this.props.Login.masterData.SelectedGoodsIn,\r\n                                                                        ncontrolcode: printBarcodeId,\r\n                                                                        userInfo: this.props.Login.userInfo\r\n                                                                    })}\r\n                                                                    // onClick={this.props.showUnderDevelopment}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faPrint} />\r\n                                                                </Nav.Link>\r\n                                                            </div>\r\n                                                            {/* </Tooltip> */}\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                </Card.Subtitle>\r\n                                            </Card.Header>\r\n                                            <Card.Body className='form-static-wrap'>\r\n                                                {/* <Card.Text> */}\r\n                                                <Row>\r\n                                                    <Col md={4}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_RECIPIENT\" message=\"Recipient\" /></FormLabel>\r\n                                                            <ReadOnlyText>{this.props.Login.masterData.SelectedGoodsIn.suserfullname}</ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                    <Col md={4}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_DEPARTMENT\" message=\"Division\" /></FormLabel>\r\n                                                            <ReadOnlyText>{this.props.Login.masterData.SelectedGoodsIn.sdeptname}</ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                    <Col md={4}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_MANUFACTURER\" message=\"Manufacturer\" /></FormLabel>\r\n                                                            <ReadOnlyText>{this.props.Login.masterData.SelectedGoodsIn.smanufname}</ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                    <Col md={4}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_NOOFPACKAGES\" message=\"No. Of Packages\" /></FormLabel>\r\n                                                            <ReadOnlyText>{this.props.Login.masterData.SelectedGoodsIn.nnoofpackages}</ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n\r\n                                                    <Col md={4}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_GOODSINDATE\" message=\"GoodsIn Date\" /></FormLabel>\r\n                                                            <ReadOnlyText>{this.props.Login.masterData.SelectedGoodsIn.sgoodsindate}</ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                    <Col md={4}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_TIMEZONE\" message=\"Time Zone\" /></FormLabel>\r\n                                                            <ReadOnlyText>{this.props.Login.masterData.SelectedGoodsIn.stzgoodsindate}</ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                    <Col md={4}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_OUTOFHOURS\" message=\"Out Of Hours\" /></FormLabel>\r\n                                                            <ReadOnlyText>{this.props.Login.masterData.SelectedGoodsIn.soutofhours}</ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                    <Col md={4}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_RECEIVEDDATETIME\" message=\"Received Date\" /></FormLabel>\r\n                                                            <ReadOnlyText>\r\n                                                                {this.props.Login.masterData.SelectedGoodsIn.sreceiveddate === null || this.props.Login.masterData.SelectedGoodsIn.sreceiveddate.length === 0\r\n                                                                    ? '-' : this.props.Login.masterData.SelectedGoodsIn.sreceiveddate}\r\n                                                            </ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                    <Col md={4}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_COURIERCARRIER\" message=\"Courier\" /></FormLabel>\r\n                                                            <ReadOnlyText>\r\n                                                                {this.props.Login.masterData.SelectedGoodsIn.ncouriercode === -1 ? '-' : this.props.Login.masterData.SelectedGoodsIn.scouriername}\r\n                                                            </ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                    <Col md={4}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_CONSIGNMENTNO\" message=\"Consignment No.\" /></FormLabel>\r\n                                                            <ReadOnlyText>\r\n\r\n                                                                {this.props.Login.masterData.SelectedGoodsIn.sconsignmentno === null || this.props.Login.masterData.SelectedGoodsIn.sconsignmentno.length === 0\r\n                                                                    ? '-' : this.props.Login.masterData.SelectedGoodsIn.sconsignmentno}\r\n                                                            </ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                    <Col md={4}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_SECURITYREFNO\" message=\"Security Ref No.\" /></FormLabel>\r\n                                                            <ReadOnlyText>\r\n                                                                {this.props.Login.masterData.SelectedGoodsIn.ssecurityrefno === null || this.props.Login.masterData.SelectedGoodsIn.ssecurityrefno.length === 0\r\n                                                                    ? '-' : this.props.Login.masterData.SelectedGoodsIn.ssecurityrefno}\r\n                                                            </ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                    <Col md={4}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_COMMENTS\" message=\"Comments\" /></FormLabel>\r\n                                                            <ReadOnlyText>\r\n                                                                {this.props.Login.masterData.SelectedGoodsIn.scomments === null || this.props.Login.masterData.SelectedGoodsIn.scomments.length === 0\r\n                                                                    ? '-' : this.props.Login.masterData.SelectedGoodsIn.scomments}\r\n                                                            </ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                                {/* </Card.Text> */}\r\n\r\n                                                <SampleReceivingTabs\r\n                                                    operation={this.props.Login.operation}\r\n                                                    inputParam={this.props.Login.inputParam}\r\n                                                    screenName={this.props.Login.screenName}\r\n                                                    userInfo={this.props.Login.userInfo}\r\n                                                    masterData={this.props.Login.masterData}\r\n                                                    crudMaster={this.props.crudMaster}\r\n                                                    errorCode={this.props.Login.errorCode}\r\n                                                    masterStatus={this.props.Login.masterStatus}\r\n                                                    openChildModal={this.props.Login.openChildModal}\r\n                                                    updateStore={this.props.updateStore}\r\n                                                    selectedRecord={this.props.Login.selectedRecord}\r\n                                                    getChainCustodyComboDataService={this.props.getChainCustodyComboDataService}\r\n                                                    ncontrolCode={this.props.Login.ncontrolCode}\r\n                                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                                    esignRights={this.props.Login.userRoleControlRights}\r\n                                                    screenData={this.props.Login.screenData}\r\n                                                    validateEsignCredential={this.props.validateEsignCredential}\r\n                                                    loadEsign={this.props.Login.loadEsign}\r\n                                                    controlMap={this.state.controlMap}\r\n                                                    selectedId={this.props.Login.selectedId}\r\n                                                    fromDate={fromDate}\r\n                                                    toDate={toDate}\r\n                                                    dataState={this.props.Login.dataState}\r\n                                                    timeZoneList={this.props.Login.timeZoneList || []}\r\n                                                    currentTime={this.props.Login.currentTime}\r\n                                                    settings = {this.props.Login.settings}\r\n                                                />\r\n                                            </Card.Body>\r\n                                        </>\r\n                                        : \"\"\r\n                                    }\r\n                                </Card>\r\n                            </ContentPanel>\r\n                        </Col>\r\n                    </Row>\r\n                    {/* </div> */}\r\n                </ListWrapper>\r\n                {/* End of get display*/}\r\n\r\n                {/* Start of Modal Sideout*/}\r\n                {/* Below Condition Added to avoid unwanted rendering of SlideOut */}\r\n                {this.props.Login.openModal ?\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.props.Login.operation === \"printer\" ?\r\n                            this.onSavePrinterClick : this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        showSaveContinue={this.state.showSaveContinue}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.operation === \"printer\" ?\r\n                            [{ \"idsName\": \"IDS_PRINTER\", \"dataField\": \"sprintername\" }]\r\n                            : mandatoryFields}\r\n                        buttonLabel = { this.props.Login.operation === \"printer\" ?\"print\":undefined}\r\n                        loginoperation = { this.props.Login.operation === \"printer\" ? true : false }\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : this.props.Login.operation === \"printer\" ?\r\n                                <AddPrinter\r\n                                    printer={this.props.Login.printerList}\r\n                                    selectedPrinterData={this.state.selectedRecord || {}}\r\n                                    PrinterChange={this.onComboChange}\r\n                                />\r\n                                : <AddGoodsIn\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    onNumericInputOnChange={this.onNumericInputOnChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    handleDateChange={this.handleDateChange}\r\n                                    operation={this.props.Login.operation}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    manufacturerList={this.props.Login.manufacturerList || []}\r\n                                    courierList={this.props.Login.courierList || []}\r\n                                    recipientList={this.props.Login.recipientList || []}\r\n                                    timeZoneList={this.props.Login.timeZoneList || []}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    currentTime={this.props.Login.currentTime}\r\n                                />}\r\n                    /> : \"\"}\r\n                {/* End of Modal Sideout for GoodsIn Creation */}\r\n            </>\r\n        );\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ userRoleControlRights, controlMap });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n\r\n    }\r\n\r\n\r\n    ConfirmDelete = (deleteParam) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteOrReceiveRecord(deleteParam));\r\n    };\r\n\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        //let selectedRecord = this.state.selectedRecord\r\n       //  let obj = this.convertDatetoString((selectedRecord && selectedRecord[\"fromdate\"]) || this.props.Login.masterData.FromDate, (selectedRecord && selectedRecord[\"todate\"]) || this.props.Login.masterData.ToDate)\r\n          \r\n       if (this.props.Login.masterData && this.props.Login.masterData.FromDate) {\r\n            //let obj = this.convertDatetoString(this.props.Login.masterData.FromDate, this.props.Login.masterData.ToDate);\r\n            let obj = convertDateValuetoString(this.props.Login.masterData.FromDate, \r\n                                               this.props.Login.masterData.ToDate,\r\n                                               this.props.Login.userInfo);         \r\n            \r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_FROM\",\r\n                    \"value\": obj.breadCrumbFrom\r\n                },\r\n                {\r\n                    \"label\": \"IDS_TO\",\r\n                    \"value\": obj.breadCrumbto\r\n                },\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n\r\n        if (selectedRecord[\"sgoodsindate\"])\r\n            selectedRecord[\"dgoodsindate\"] = rearrangeDateFormat(this.props.Login.userInfo, selectedRecord[\"sgoodsindate\"]);\r\n\r\n        let operation = this.props.Login.operation;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"receive\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId: null, operation: operation }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n\r\n        if (fieldName === \"nrecipientcode\") {\r\n            if (comboData === null) {\r\n                selectedRecord[\"sdeptname\"] = \"\";\r\n                //selectedRecord[\"sdeptcode\"] = 0;\r\n            }\r\n            else {\r\n                this.props.Login.recipientList.map(dataItem => {\r\n                    if (dataItem.value === comboData.value) {\r\n                        selectedRecord[\"sdeptname\"] = dataItem.item.sdeptname\r\n                        //selectedRecord[\"ndeptcode\"] = dataItem.item.ndeptcode;\r\n                    }\r\n                    return null;\r\n                })\r\n            }\r\n        }\r\n        else if (fieldName === \"ntzgoodsindate\") {\r\n            if (comboData === null) {\r\n                selectedRecord[\"ntzgoodsindate\"] = 0;\r\n                selectedRecord[\"stzgoodsindate\"] = \"\";\r\n            }\r\n            else {\r\n                selectedRecord[\"stzgoodsindate\"] = comboData.label;\r\n            }\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onNumericInputOnChange = (value, name) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"ntransactionstatus\")\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n            else\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        this.reloadData(true);\r\n    }\r\n\r\n    reloadData = (isFilterSubmit) => {\r\n       \r\n        this.searchRef.current.value = \"\";\r\n        // let obj = this.convertDatetoString(selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\r\n        //     selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate))\r\n    \r\n        let fromDate = this.props.Login.masterData.FromDate;\r\n        let toDate = this.props.Login.masterData.ToDate;\r\n        if (isFilterSubmit) {\r\n            let selectedRecord = this.state.selectedRecord || {};\r\n            if (selectedRecord && selectedRecord[\"fromdate\"] !== undefined) {\r\n                fromDate = selectedRecord[\"fromdate\"];\r\n            }\r\n            if (selectedRecord && selectedRecord[\"todate\"] !== undefined) {\r\n                toDate = selectedRecord[\"todate\"];\r\n            }\r\n        }\r\n        //let obj = this.convertDatetoString(fromDate, toDate); \r\n        let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);   \r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": this.props.Login.userInfo,\r\n                fromDate: obj.fromDate,\r\n                toDate: obj.toDate,\r\n                currentDate:null\r\n                //currentdate: isDateChange === true ? null : formatInputDate(new Date(), true)\r\n            },\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"GoodsIn\",\r\n            displayName: \"IDS_GOODSIN\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        //this.props.callService(inputParam);\r\n        this.props.reloadGoodsIn(inputParam);\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n\r\n        if (this.state.selectedRecord[\"nnoofpackages\"] <= 0) {\r\n            return (toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERTHEPACKAGEGREATERTHANZERO\" })));\r\n        }\r\n        let inputData = [];\r\n        inputData[\"ncontrolcode\"] = this.props.Login.ncontrolCode;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        // let obj = this.convertDatetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\r\n        //     this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate))\r\n         let obj = convertDateValuetoString(this.props.Login.masterData.FromDate, this.props.Login.masterData.ToDate,this.props.Login.userInfo);\r\n      \r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        inputData[\"fromDate\"] = fromDate;\r\n        inputData[\"toDate\"] = toDate;\r\n\r\n        let postParam = undefined;\r\n\r\n        if (this.props.Login.operation === \"update\") {\r\n            // edit\r\n            postParam = { inputListName: \"GoodsInList\", selectedObject: \"SelectedGoodsIn\", primaryKeyField: \"nrmsno\", unchangeList: [\"FromDate\", \"ToDate\"] };\r\n            inputData[\"goodsin\"] = JSON.parse(JSON.stringify(this.props.Login.selectedRecord));\r\n        }\r\n        else {\r\n            //add               \r\n            inputData[\"goodsin\"] = { \"nsitecode\": this.props.Login.userInfo.ntranssitecode };\r\n        }\r\n\r\n        inputData[\"goodsin\"][\"noutofhours\"] = this.state.selectedRecord[\"noutofhours\"] ? this.state.selectedRecord[\"noutofhours\"] : transactionStatus.NO;\r\n        inputData[\"goodsin\"][\"nmanufcode\"] = this.state.selectedRecord[\"nmanufcode\"] ? this.state.selectedRecord[\"nmanufcode\"].value : -1;\r\n        inputData[\"goodsin\"][\"nrecipientcode\"] = this.state.selectedRecord[\"nrecipientcode\"] ? this.state.selectedRecord[\"nrecipientcode\"].value : -1;\r\n        //inputData[\"goodsin\"][\"ndeptcode\"] = this.state.selectedRecord[\"ndeptcode\"] ? this.state.selectedRecord[\"ndeptcode\"] : -1;\r\n        inputData[\"goodsin\"][\"ncouriercode\"] = this.state.selectedRecord[\"ncouriercode\"] ? this.state.selectedRecord[\"ncouriercode\"].value : transactionStatus.NA;\r\n        inputData[\"goodsin\"][\"sconsignmentno\"] = this.state.selectedRecord[\"sconsignmentno\"] || \"\";\r\n        inputData[\"goodsin\"][\"dgoodsindate\"] = this.state.selectedRecord[\"dgoodsindate\"];\r\n        inputData[\"goodsin\"][\"nnoofpackages\"] = this.state.selectedRecord[\"nnoofpackages\"];\r\n        inputData[\"goodsin\"][\"ssecurityrefno\"] = this.state.selectedRecord[\"ssecurityrefno\"] || \"\";\r\n        inputData[\"goodsin\"][\"scomments\"] = this.state.selectedRecord[\"scomments\"] || \"\";\r\n        inputData[\"goodsin\"][\"ntzgoodsindate\"] = this.state.selectedRecord[\"ntzgoodsindate\"] ? this.state.selectedRecord[\"ntzgoodsindate\"].value : 1;\r\n        inputData[\"goodsin\"][\"stzgoodsindate\"] = this.state.selectedRecord[\"stzgoodsindate\"] || \"\";\r\n\r\n        const goodsInDate = inputData[\"goodsin\"][\"dgoodsindate\"];\r\n\r\n        //need this conversion when the datatype of the field is 'Instant'\r\n        inputData[\"goodsin\"][\"dgoodsindate\"] = formatInputDate(goodsInDate, false);\r\n\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"GoodsIn\",\r\n            displayName: \"IDS_GOODSIN\",\r\n            inputData: inputData, postParam, searchRef: this.searchRef,\r\n            operation: this.props.Login.operation, saveType, formRef\r\n        }\r\n      \r\n        const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\r\n        if (esignNeeded) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSIN\",\r\n                    operation: this.props.Login.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n\r\n            const selectedRecord = {\r\n                \"dgoodsindate\": this.props.Login.currentTime,//new Date(),\r\n                \"stzgoodsindate\": this.props.Login.userInfo.stimezoneid,\r\n                \"ntzgoodsindate\": { \"value\": this.props.Login.userInfo.ntimezonecode, \"label\": this.props.Login.userInfo.stimezoneid },\r\n            };\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", selectedRecord);\r\n        }\r\n    }\r\n\r\n    onSavePrinterClick = () => {\r\n        const inputParam = {\r\n            classUrl: 'barcode',\r\n            methodUrl: 'Barcode',\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: {\r\n                nrmsno: this.props.Login.dataToPrint,\r\n                sprintername: this.state.selectedRecord.sprintername ?\r\n                    this.state.selectedRecord.sprintername.value : '',\r\n                userinfo: this.props.Login.userInfo,\r\n                ncontrolcode: this.props.Login.ncontrolcode\r\n            },\r\n            operation: 'printer'\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }),\r\n                    operation: 'printer'\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    deleteOrReceiveRecord = (deleteParam) => {\r\n\r\n        if (deleteParam.selectedRecord.ntransactionstatus === transactionStatus.GOODS_RECEIVED) {\r\n            let message = \"IDS_CANNOTDELETERECIVEDGOODS\";\r\n            if (deleteParam.operation === \"receive\") {\r\n                message = \"IDS_GOODSALREADYRECEIVED\";\r\n            }\r\n            toast.warn(this.props.intl.formatMessage({ id: message }));\r\n        }\r\n        else {\r\n            let validUser = true;\r\n            if (deleteParam.operation === \"receive\" && deleteParam.selectedRecord.nrecipientcode !== this.props.Login.userInfo.nusercode) {\r\n                validUser = false;\r\n            }\r\n\r\n            if (validUser) {\r\n                // let obj = this.convertDatetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\r\n                //     this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate))\r\n                \r\n                let obj = convertDateValuetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\r\n                                                    this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate),\r\n                                                    this.props.Login.userInfo)\r\n                   \r\n                let fromDate = obj.fromDate;\r\n                let toDate = obj.toDate;\r\n\r\n                const postParam = {\r\n                    inputListName: \"GoodsInList\", selectedObject: \"SelectedGoodsIn\",\r\n                    primaryKeyField: \"nrmsno\",\r\n                    primaryKeyValue: deleteParam.selectedRecord.nrmsno,\r\n                    fetchUrl: \"goodsin/getGoodsIn\",\r\n                    fecthInputObject: { userinfo: this.props.Login.userInfo, fromDate, toDate },\r\n                    unchangeList: [\"FromDate\", \"ToDate\"]\r\n                }\r\n\r\n                const inputParam = {\r\n                    classUrl: this.props.Login.inputParam.classUrl,\r\n                    methodUrl: \"GoodsIn\",\r\n                    displayName: \"IDS_GOODSIN\",\r\n                    inputData: {\r\n                        \"ncontrolcode\": deleteParam.ncontrolCode,\r\n                        \"goodsin\": deleteParam.selectedRecord,\r\n                        fromDate, toDate,\r\n                        \"userinfo\": this.props.Login.userInfo\r\n                    },\r\n                    operation: deleteParam.operation, postParam\r\n                }\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                            openModal: true, screenName: \"IDS_GOODSIN\",\r\n                            operation: deleteParam.operation, selectedId: deleteParam.selectedRecord.nrmsno\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }\r\n            }\r\n            else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INVALIDUSERTORECEIVE\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n    // convertDatetoString(startDateValue, endDateValue) {\r\n    //     const startDate = startDateValue ? new Date(startDateValue) : new Date();\r\n    //     const endDate = endDateValue ? new Date(endDateValue) : new Date();\r\n\r\n    //     const prevMonth = validateTwoDigitDate(String(startDate.getMonth() + 1));\r\n    //     const currentMonth = validateTwoDigitDate(String(endDate.getMonth() + 1));\r\n    //     const prevDay = validateTwoDigitDate(String(startDate.getDate()));\r\n    //     const currentDay = validateTwoDigitDate(String(endDate.getDate()));\r\n\r\n    //     const fromDateOnly = startDate.getFullYear() + '-' + prevMonth + '-' + prevDay\r\n    //     const toDateOnly = endDate.getFullYear() + '-' + currentMonth + '-' + currentDay\r\n    //     const fromDate = fromDateOnly + \"T00:00:00\";\r\n    //     const toDate = toDateOnly + \"T23:59:59\";\r\n    //     return ({ fromDate, toDate, breadCrumbFrom: fromDateOnly, breadCrumbto: toDateOnly })\r\n    // }\r\n\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getGoodsInPrinterComboService,\r\n    getGoodsInDetail, getGoodsInComboService, getChainCustodyComboDataService, filterColumnData,\r\n    showUnderDevelopment, reloadGoodsIn\r\n})(injectIntl(SampleReceiving));\r\n\r\n"]},"metadata":{},"sourceType":"module"}