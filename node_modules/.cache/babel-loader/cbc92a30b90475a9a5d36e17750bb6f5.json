{"ast":null,"code":"import _toConsumableArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import Axios from'axios';import{toast}from'react-toastify';import{DEFAULT_RETURN}from'./LoginTypes';import{initRequest}from'./LoginAction';import{intl}from'../components/App';import{sortData,constructOptionList,replaceUpdatedObject,constructjsonOptionList,constructjsonOptionDefault,childComboLoadForEdit,rearrangeDateFormat}from'../components/CommonScript';import{transactionStatus,attachmentType}from'../components/Enumeration';import{postCRUDOrganiseTransSearch,viewAttachment,crudMaster}from'./ServiceAction';export function getProtocolTemplateByConfigVersion(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"protocol/getProtocolTemplateList\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{defaultApprovalVersionValue:inputData.defaultApprovalVersionValue}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function ProtocolFilterSubmit(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"protocol/getProtocolData\",inputParam.inputData).then(function(response){var responseData=_objectSpread({},response.data);var masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);if(inputParam.searchRef!==undefined&&inputParam.searchRef.current!==null){inputParam.searchRef.current.value=\"\";masterData['searchedProtocol']=undefined;}sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export var getProtocolDetail=function getProtocolDetail(protocolItem){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/protocol/getActiveProtocolById\",{ndesigntemplatemappingcode:protocolItem.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode,napprovalconfigversioncode:protocolItem.masterData.realApprovalVersionValue.napprovalconfigversioncode,ntranscode:protocolItem.masterData.realStatusValue.ntransactionstatus,nprotocolcode:protocolItem.nprotocolcode,userinfo:protocolItem.userinfo}).then(function(response){var masterData=_objectSpread(_objectSpread({},protocolItem.masterData),response.data);//sortData(masterData);\ndispatch({type:DEFAULT_RETURN,payload:{loading:false,dataState:undefined,masterData:masterData}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};};export function completeProtocolAction(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"protocol/completeProtocol\",inputParam.inputData).then(function(response){if(response.data){replaceUpdatedObject(response.data[\"protocol\"],inputParam.inputData.masterData.protocol,\"nprotocolcode\");delete response.data[\"protocol\"];var masterData=_objectSpread(_objectSpread({},inputParam.inputData.masterData),response.data);var respObject=_objectSpread(_objectSpread({},inputParam.inputData),{},{masterData:masterData,//Added by sonia on 13th Feb 2025 for jira id:ALPD-5403\nloading:false,loadEsign:false,openModal:false});dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList,respObject));// dispatch({\n//     type: DEFAULT_RETURN,\n//     payload: {\n//         masterData,\n//         loading: false,\n//         loadEsign: false,\n//         openModal: false,\n//     }    \n// })\n}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,openModal:false}});toast.warn(response.data.rtn);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function dynamicAction(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"protocol/dynamicActionProtocol\",inputParam.inputData).then(function(response){if(response.data){replaceUpdatedObject(response.data[\"protocol\"],inputParam.inputData.masterData.protocol,\"nprotocolcode\");delete response.data[\"protocol\"];var masterData=_objectSpread(_objectSpread({},inputParam.inputData.masterData),response.data);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,loadEsign:false,openModal:false}});}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,openModal:false}});toast.warn(response.data.rtn);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function rejectProtocolAction(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"protocol/rejectProtocol\",inputParam.inputData).then(function(response){if(response.data){replaceUpdatedObject(response.data[\"protocol\"],inputParam.inputData.masterData.protocol,\"nprotocolcode\");delete response.data[\"protocol\"];var masterData=_objectSpread(_objectSpread({},inputParam.inputData.masterData),response.data);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,loadEsign:false,openModal:false}});}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,openModal:false}});toast.warn(response.data.rtn);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export var addProtocolFile=function addProtocolFile(inputParam){return function(dispatch){//if(inputParam.masterData.selectedProtocol[0].ntransactionstatus === transactionStatus.DRAFT || inputParam.masterData.selectedProtocol[0].ntransactionstatus === transactionStatus.CORRECTION){\ndispatch(initRequest(true));var urlArray=[rsapi.post(\"/linkmaster/getLinkMaster\",{userinfo:inputParam.userInfo})];if(inputParam.operation===\"update\"){urlArray.push(rsapi.post(\"/protocol/getActiveProtocolFileById\",{userinfo:inputParam.userInfo,genericlabel:inputParam.genericLabel,\"nprotocolcode\":inputParam.selectedRecord.nprotocolcode,\"nprotocolfilecode\":inputParam.selectedRecord.nprotocolfilecode}));}Axios.all(urlArray).then(function(response){var _payload;var linkMap=constructOptionList(response[0].data.LinkMaster,\"nlinkcode\",\"slinkname\",false,false,true);var linkmaster=linkMap.get(\"OptionList\");var selectedRecord={};var defaultLink=linkmaster.filter(function(items){return items.item.ndefaultlink===transactionStatus.YES;});var disabled=false;var editObject={};if(inputParam.operation===\"update\"){editObject=response[1].data.ProtocolFile[0];var nlinkcode={};var link={};if(editObject.nattachmenttypecode===attachmentType.LINK){nlinkcode={\"label\":editObject.slinkname,\"value\":editObject.nlinkcode};link={slinkfilename:editObject.sfilename,slinkdescription:editObject.sdescription,nlinkdefaultstatus:editObject.ndefaultstatus,sfilesize:'',nfilesize:0,ndefaultstatus:4,sfilename:''};}else{nlinkcode=defaultLink.length>0?defaultLink[0]:\"\";//{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\"\nlink={slinkfilename:'',slinkdescription:'',nlinkdefaultstatus:4,sfilesize:editObject.sfilesize,nfilesize:editObject.nfilesize,ndefaultstatus:editObject.ndefaultstatus,sfilename:editObject.sfilename,//ALPD-5615-->Added bu Vignesh R(08-04-2025)\nssystemfilename:editObject.ssystemfilename};}selectedRecord=_objectSpread(_objectSpread({},link),{},{nprotocolfilecode:editObject.nprotocolfilecode,nattachmenttypecode:editObject.nattachmenttypecode,sdescription:editObject.sdescription,nlinkcode:nlinkcode// disabled: true\n});}else{selectedRecord={nattachmenttypecode:response[0].data.AttachmentType.length>0?response[0].data.AttachmentType[0].nattachmenttypecode:attachmentType.FTP,nlinkcode:defaultLink.length>0?defaultLink[0]:\"\",disabled:disabled};}dispatch({type:DEFAULT_RETURN,payload:(_payload={},_defineProperty(_payload,inputParam.modalName,true),_defineProperty(_payload,\"operation\",inputParam.operation),_defineProperty(_payload,\"screenName\",inputParam.screenName),_defineProperty(_payload,\"ncontrolCode\",inputParam.ncontrolCode),_defineProperty(_payload,\"selectedRecord\",selectedRecord),_defineProperty(_payload,\"loading\",false),_defineProperty(_payload,\"linkMaster\",linkmaster),_defineProperty(_payload,\"showSaveContinue\",false),_defineProperty(_payload,\"editFiles\",editObject.nattachmenttypecode===attachmentType.FTP?editObject:{}),_payload)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});// }else{\n//     toast.warn(intl.formatMessage({ id:\"IDS_SELECTDRAFTCORRECTIONRECORD\" }));\n// }\n};};export function validateEsignforProtocol(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"login/validateEsignCredential\",inputParam.inputData).then(function(response){if(response.data===\"Success\"){var methodUrl=inputParam.screenData.inputParam.methodUrl;inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"]=inputParam.inputData.userinfo;if(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()]&&inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]){delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignreason\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"];}dispatch(dispatchMethods(inputParam[\"screenData\"]));}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data);}});};}function dispatchMethods(screenData){return function(dispatch){var action=screenData.inputParam.action;switch(action){case\"editprotocol\":dispatch(updateProtocolAction(screenData.inputParam,screenData.masterData,\"openModal\"));break;case\"deleteprotocol\":dispatch(crudMaster(screenData.inputParam,screenData.masterData,\"openModal\"));break;case\"editprotocolfile\":dispatch(crudMaster(screenData.inputParam,screenData.masterData,\"openChildModal\"));break;case\"deleteprotocolfile\":dispatch(crudMaster(screenData.inputParam,screenData.masterData,\"openChildModal\"));break;case\"complete\":dispatch(completeProtocolAction(screenData.inputParam,screenData.masterData));break;case\"dynamicAction\":dispatch(dynamicAction(screenData.inputParam,screenData.masterData));break;case\"reject\":dispatch(rejectProtocolAction(screenData.inputParam,screenData.masterData));break;case\"copy\":dispatch(crudMaster(screenData.inputParam,screenData.masterData,\"openModal\"));break;default:break;}};}export function getEditComboService(inputParam,columnList,selectedRecord1,childColumnList,comboComponents,withoutCombocomponent,editableComboList){return function(dispatch){dispatch(initRequest(true));var _inputParam=_objectSpread({},inputParam),userInfo=_inputParam.userInfo;var masterData=inputParam[\"masterData\"];var parentColumnList=[].concat(_toConsumableArray(columnList),_toConsumableArray(editableComboList));masterData[\"selectedProtocol\"]=[];masterData[\"selectedProtocol\"].push(inputParam[\"toedit\"]);var nprotocolcode=inputParam.toedit[inputParam.primaryKeyField];var ndesigntemplatemappingcode=inputParam.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode;var urlArray=[];var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var selectedProtocolData=rsapi.post(\"/protocol/getEditProtocolDetails\",{nprotocolcode:nprotocolcode,ndesigntemplatemappingcode:ndesigntemplatemappingcode,parentcolumnlist:parentColumnList,childcolumnlist:childColumnList,userinfo:userInfo});var dateService=rsapi.post(\"dynamicpreregdesign/dateValidation\",{datecolumnlist:withoutCombocomponent.filter(function(x){return x.inputtype===\"date\";}),userinfo:userInfo});urlArray=[timeZoneService,selectedProtocolData,dateService];Axios.all(urlArray).then(function(response){var selectedRecord=_objectSpread({},response[1].data[\"EditData\"]);selectedRecord=_objectSpread(_objectSpread({},selectedRecord),selectedRecord['jsondata']);var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:userInfo.stimezoneid,value:userInfo.ntimezonecode};var languagetypeCode=undefined;var comboData=response[1].data;delete comboData['EditData'];var comboValues={};if(columnList.length>0){columnList.map(function(x){if(x.inputtype==='combo'){if(comboData[x.label]&&comboData[x.label].length>0){if(comboData[x.label].length>0){if(comboData[x.label][0].label===undefined){var optionList=constructjsonOptionList(comboData[x.label]||[],x.valuemember,x.displaymember,false,false,true,undefined,x.source,x.isMultiLingual,languagetypeCode,x);comboData[x.label]=optionList.get(\"OptionList\");}else{comboData[x.label]=comboData[x.label];var _optionList=constructjsonOptionDefault(comboData[x.label]||[],x.valuemember,x.displaymember,false,false,true,undefined,x.source,x.isMultiLingual,languagetypeCode,x);}}else{comboData[x.label]=[];}comboValues=childComboLoadForEdit(x,comboData,selectedRecord,childColumnList,withoutCombocomponent);}else{comboValues={\"comboData\":comboData};}}else{comboValues=_objectSpread({comboData:comboData},comboValues);}});}else{comboValues={\"comboData\":comboData};}if(editableComboList.length>0){editableComboList.map(function(x){if(x.inputtype==='combo'){if(comboData[x.label]&&comboData[x.label].length>0){if(comboData[x.label].length>0){if(comboData[x.label][0].label===undefined){var optionList=constructjsonOptionList(comboData[x.label]||[],x.valuemember,x.displaymember,false,false,true,undefined,x.source,x.isMultiLingual,languagetypeCode,x);comboData[x.label]=optionList.get(\"OptionList\");}else{comboData[x.label]=comboData[x.label];var _optionList2=constructjsonOptionDefault(comboData[x.label]||[],x.valuemember,x.displaymember,false,false,true,undefined,x.source,x.isMultiLingual,languagetypeCode,x);}}else{comboData[x.label]=[];}comboValues={\"comboData\":comboData};}else{comboValues={\"comboData\":comboData};}}else{comboValues=_objectSpread({comboData:comboData},comboValues);}});}withoutCombocomponent.map(function(date){if(date.inputtype==='date'){selectedRecord[date.label]=selectedRecord[date.label]&&selectedRecord[date.label]!=='-'?rearrangeDateFormat(userInfo,selectedRecord[date.label]):\"\";if(date.nperiodcode){selectedRecord[date.label+\"value\"]=response[2].data[date.label]?new Date(response[2].data[date.label][\"datevalue\"]):null;}else{selectedRecord[date.label+\"value\"]=new Date();}if(date.hidebeforedate){selectedRecord[date.label+\"min\"]=selectedRecord[date.label+\"value\"];}if(date.hideafterdate){selectedRecord[date.label+\"max\"]=selectedRecord[date.label+\"value\"];}}});dispatch({type:DEFAULT_RETURN,payload:{operation:\"update\",screenName:\"IDS_PROTOCOL\",timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,selectedRecord:selectedRecord,ncontrolCode:inputParam.ncontrolCode,openModal:true,loading:false,comboData:comboValues.comboData,childColumnList:childColumnList,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,columnList:columnList,masterData:masterData}});//}\n}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.info(intl.formatMessage({id:error.response.data}));}});};}export function insertProtocolAction(inputParam,masterData){return function(dispatch){dispatch(initRequest(true));var requestUrl='';if(inputParam.isFileupload){requestUrl=rsapi.post(\"/protocol/createProtocolWithFile\",inputParam.formData);}else{requestUrl=rsapi.post(\"/protocol/createProtocol\",inputParam.inputData);}return requestUrl.then(function(response){if(response.data){var _objectSpread2;// let Protocol = updatedObjectWithNewElement(response.data[\"Protocol\"], masterData.Protocol, 'Protocol');\nvar protocol=response.data[\"protocol\"];var selectedProtocol=response.data[\"selectedProtocol\"];masterData=_objectSpread(_objectSpread(_objectSpread({},masterData),response.data),{},{selectedProtocol:selectedProtocol,protocol:protocol});var respObject=_objectSpread(_objectSpread({masterData:masterData},inputParam.inputData),{},(_objectSpread2={openModal:false,loadEsign:false,selectedRecord:undefined,loading:false},_defineProperty(_objectSpread2,\"selectedRecord\",{}),_defineProperty(_objectSpread2,\"protocolSkip\",0),_objectSpread2));inputParam.postParamList[0]['clearFilter']='yes';dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList,respObject));// dispatch({\n//     type: DEFAULT_RETURN, \n//     payload: { \n//         masterData,\n//        ...inputParam.inputData,\n//        openModal: false,\n//        loadEsign: false,                     \n//        selectedRecord: undefined,\n//        loading: false,                       \n//        selectedRecord: {},                      \n//        protocolSkip: 0,                       \n//     } \n// })\n}else{toast.warn(response.data.rtn);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});}}).catch(function(error){console.log(error);if(error.response.status===500){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.error(error.message);}else{toast.warn(error.response.data);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});}});};}export function updateProtocolAction(inputParam,masterData){return function(dispatch){dispatch(initRequest(true));var requestUrl='';if(inputParam.isFileupload){requestUrl=rsapi.post(\"/protocol/updateProtocolWithFile\",inputParam.formData);}else{requestUrl=rsapi.post(\"/protocol/updateProtocol\",inputParam.inputData);}return requestUrl.then(function(response){if(response.data){replaceUpdatedObject(response.data[\"protocol\"],masterData.protocol,\"nprotocolcode\");masterData=_objectSpread(_objectSpread({},masterData),{},{selectedProtocol:response.data[\"selectedProtocol\"]});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,loadEsign:false,openModal:false,selectedRecord:{}}});}else{toast.warn(response.data.rtn);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});}}).catch(function(error){if(error.response.status===500){toast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});}else if(error.response.status===302){dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,regEditParam:inputParam,openModal:false}});}else{toast.warn(error.response.data);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});}});};}export function copyProtocolAction(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"protocol/getCopyProtocol\",inputParam.inputData).then(function(response){var produtCategoryMap=constructOptionList(response.data&&response.data.productCategory||[],\"nproductcatcode\",\"sproductcatname\",undefined,undefined,false);var productMap=constructOptionList(response.data&&response.data.product||[],\"nproductcode\",\"sproductname\",undefined,undefined,false);var productCategory=produtCategoryMap.get(\"OptionList\");var product=productMap.get(\"OptionList\");var copyData=response.data&&response.data.copyProtocol;var productCategoryName=copyData[0][\"sproductcatname\"];var productName=copyData[0][\"sproductname\"];var protocolName=copyData[0][\"sprotocolname\"];var selectedRecord={};selectedRecord[\"sprotocolname\"]=\"\";selectedRecord[\"nproductcatcode\"]={\"value\":copyData[0][\"nproductcatcode\"],\"label\":copyData[0][\"sproductcatname\"]};selectedRecord[\"nproductcode\"]={\"value\":copyData[0][\"nproductcode\"],\"label\":copyData[0][\"sproductname\"]};dispatch({type:DEFAULT_RETURN,payload:{productCategory:productCategory,product:product,selectedRecord:selectedRecord,productCategoryName:productCategoryName,productName:productName,protocolName:protocolName,operation:inputParam.inputData.operation,screenName:inputParam.inputData.screenName,openModal:true,loading:false,ncontrolCode:inputParam.inputData.ncontrolCode}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function dynamicFileDownload(filedata){return function(dispatch){if(filedata.viewName==='InfoView'){if(filedata&&filedata[filedata.field[2]+['_ssystemfilename_Protocol']]!==undefined&&filedata[filedata.field[2]]!==\"\"){var inputParam={inputData:{viewFile:{ssystemfilename:filedata[filedata.field[2]+['_ssystemfilename_Protocol']],nprotocolcode:filedata.nprotocolcode,sfilename:filedata[filedata.field[2]]},userinfo:filedata.userInfo},classUrl:\"protocol\",operation:\"view\",methodUrl:\"ProtocolWithFile\"};dispatch(viewAttachment(inputParam));}else{toast.warn(intl.formatMessage({id:\"IDS_FILENOTUPLOADED\"}));}}};}export function getProduct(nproductcatcode,userInfo,selectedRecord){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"protocol/getProduct\",{\"nproductcatcode\":nproductcatcode,\"userinfo\":userInfo}).then(function(response){var product=[];var productMap=constructOptionList(response.data&&response.data.product||[],\"nproductcode\",\"sproductname\",undefined,undefined,false);product=productMap.get(\"OptionList\");selectedRecord[\"nproductcode\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{product:product,selectedRecord:selectedRecord,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/actions/ProtocolAction.js"],"names":["rsapi","Axios","toast","DEFAULT_RETURN","initRequest","intl","sortData","constructOptionList","replaceUpdatedObject","constructjsonOptionList","constructjsonOptionDefault","childComboLoadForEdit","rearrangeDateFormat","transactionStatus","attachmentType","postCRUDOrganiseTransSearch","viewAttachment","crudMaster","getProtocolTemplateByConfigVersion","inputData","dispatch","post","then","response","responseData","data","type","payload","masterData","defaultApprovalVersionValue","loading","catch","error","status","message","warn","ProtocolFilterSubmit","inputParam","searchRef","undefined","current","value","getProtocolDetail","protocolItem","ndesigntemplatemappingcode","realDesignTemplateMappingValue","napprovalconfigversioncode","realApprovalVersionValue","ntranscode","realStatusValue","ntransactionstatus","nprotocolcode","userinfo","dataState","completeProtocolAction","protocol","respObject","loadEsign","openModal","postParamList","rtn","dynamicAction","rejectProtocolAction","addProtocolFile","urlArray","userInfo","operation","push","genericlabel","genericLabel","selectedRecord","nprotocolfilecode","all","linkMap","LinkMaster","linkmaster","get","defaultLink","filter","items","item","ndefaultlink","YES","disabled","editObject","ProtocolFile","nlinkcode","link","nattachmenttypecode","LINK","slinkname","slinkfilename","sfilename","slinkdescription","sdescription","nlinkdefaultstatus","ndefaultstatus","sfilesize","nfilesize","length","ssystemfilename","AttachmentType","FTP","modalName","screenName","ncontrolCode","validateEsignforProtocol","methodUrl","screenData","toLowerCase","dispatchMethods","info","action","updateProtocolAction","getEditComboService","columnList","selectedRecord1","childColumnList","comboComponents","withoutCombocomponent","editableComboList","parentColumnList","toedit","primaryKeyField","defaultDesignTemplateMappingValue","timeZoneService","selectedProtocolData","parentcolumnlist","childcolumnlist","dateService","datecolumnlist","x","inputtype","timeZoneMap","timeZoneList","defaultTimeZone","label","stimezoneid","ntimezonecode","languagetypeCode","comboData","comboValues","map","optionList","valuemember","displaymember","source","isMultiLingual","date","nperiodcode","Date","hidebeforedate","hideafterdate","formatMessage","id","insertProtocolAction","requestUrl","isFileupload","formData","selectedProtocol","console","log","regEditParam","copyProtocolAction","produtCategoryMap","productCategory","productMap","product","copyData","copyProtocol","productCategoryName","productName","protocolName","dynamicFileDownload","filedata","viewName","field","viewFile","classUrl","getProduct","nproductcatcode"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport Axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { initRequest } from './LoginAction';\r\nimport { intl } from '../components/App';\r\nimport { sortData,constructOptionList,replaceUpdatedObject,constructjsonOptionList,constructjsonOptionDefault,childComboLoadForEdit\r\n    ,rearrangeDateFormat } from '../components/CommonScript';\r\nimport { transactionStatus, attachmentType } from '../components/Enumeration';\r\nimport { postCRUDOrganiseTransSearch,viewAttachment,crudMaster } from './ServiceAction';\r\n\r\nexport function getProtocolTemplateByConfigVersion(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"protocol/getProtocolTemplateList\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            defaultApprovalVersionValue: inputData.defaultApprovalVersionValue                           \r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function ProtocolFilterSubmit(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"protocol/getProtocolData\", inputParam.inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                \r\n                let masterData = {\r\n                    ...inputParam.masterData,\r\n                    ...responseData,\r\n                }\r\n                if (inputParam.searchRef !== undefined && inputParam.searchRef.current !== null) {\r\n                    inputParam.searchRef.current.value = \"\";\r\n                    masterData['searchedProtocol'] = undefined\r\n                }\r\n                \r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        loading: false\r\n                       \r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const getProtocolDetail = (protocolItem) => {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n       \r\n        rsapi.post(\"/protocol/getActiveProtocolById\", {ndesigntemplatemappingcode:protocolItem.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode,\r\n            napprovalconfigversioncode:protocolItem.masterData.realApprovalVersionValue.napprovalconfigversioncode,\r\n            ntranscode:protocolItem.masterData.realStatusValue.ntransactionstatus,\r\n            nprotocolcode: protocolItem.nprotocolcode,userinfo: protocolItem.userinfo })\r\n            .then(response => {                \r\n                    let masterData = {...protocolItem.masterData, ...response.data };\r\n\r\n                //sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        dataState: undefined,\r\n                        masterData\r\n                        \r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function completeProtocolAction(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"protocol/completeProtocol\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data) {\r\n                    replaceUpdatedObject(response.data[\"protocol\"], inputParam.inputData.masterData.protocol, \"nprotocolcode\");\r\n\r\n                    delete response.data[\"protocol\"];\r\n                    let masterData = {\r\n                        ...inputParam.inputData.masterData, ...response.data,                       \r\n                    }\r\n\r\n                    let respObject = {                        \r\n                        ...inputParam.inputData,\r\n                        masterData, //Added by sonia on 13th Feb 2025 for jira id:ALPD-5403\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        openModal: false\r\n                    }\r\n                    dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList, respObject))\r\n\r\n                   \r\n                    // dispatch({\r\n                    //     type: DEFAULT_RETURN,\r\n                    //     payload: {\r\n                    //         masterData,\r\n                    //         loading: false,\r\n                    //         loadEsign: false,\r\n                    //         openModal: false,\r\n                    //     }    \r\n                    // })\r\n                } else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false\r\n                        }\r\n                    });\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function dynamicAction(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"protocol/dynamicActionProtocol\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data) {\r\n                    replaceUpdatedObject(response.data[\"protocol\"], inputParam.inputData.masterData.protocol, \"nprotocolcode\");\r\n\r\n                    delete response.data[\"protocol\"];\r\n                    let masterData = {\r\n                        ...inputParam.inputData.masterData, ...response.data,\r\n                    }\r\n                    \r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            masterData,\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false,\r\n                        }    \r\n                    })\r\n                } else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false\r\n                        }\r\n                    });\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function rejectProtocolAction(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"protocol/rejectProtocol\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data) {\r\n                    replaceUpdatedObject(response.data[\"protocol\"], inputParam.inputData.masterData.protocol, \"nprotocolcode\");\r\n\r\n                    delete response.data[\"protocol\"];\r\n                    let masterData = {\r\n                        ...inputParam.inputData.masterData, ...response.data,\r\n                       \r\n                    }\r\n                   \r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            masterData,\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false,\r\n                        }    \r\n                    })\r\n                } else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false\r\n                        }\r\n                    });\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const addProtocolFile = (inputParam) => {\r\n    return (dispatch) => {\r\n        //if(inputParam.masterData.selectedProtocol[0].ntransactionstatus === transactionStatus.DRAFT || inputParam.masterData.selectedProtocol[0].ntransactionstatus === transactionStatus.CORRECTION){\r\n            dispatch(initRequest(true));\r\n            let urlArray = [rsapi.post(\"/linkmaster/getLinkMaster\", {\r\n                userinfo: inputParam.userInfo\r\n            })];\r\n            if (inputParam.operation === \"update\") {\r\n                urlArray.push(rsapi.post(\"/protocol/getActiveProtocolFileById\", {\r\n                    userinfo: inputParam.userInfo,\r\n                    genericlabel:inputParam.genericLabel,\r\n                    \"nprotocolcode\": inputParam.selectedRecord.nprotocolcode,\r\n                    \"nprotocolfilecode\" : inputParam.selectedRecord.nprotocolfilecode,\r\n                }))\r\n            }\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    const linkMap = constructOptionList(response[0].data.LinkMaster, \"nlinkcode\", \"slinkname\", false, false, true);\r\n                    const linkmaster = linkMap.get(\"OptionList\");\r\n                    let selectedRecord = {};\r\n                    const defaultLink = linkmaster.filter(items => items.item.ndefaultlink === transactionStatus.YES);\r\n                    let disabled = false;\r\n                    let editObject = {};\r\n                    if (inputParam.operation === \"update\") {\r\n                        editObject = response[1].data.ProtocolFile[0];\r\n                        let nlinkcode = {};\r\n                        let link = {};\r\n                        if (editObject.nattachmenttypecode === attachmentType.LINK) {\r\n                            nlinkcode = {\r\n                                \"label\": editObject.slinkname,\r\n                                \"value\": editObject.nlinkcode\r\n                            }\r\n    \r\n                            link = {\r\n                                slinkfilename: editObject.sfilename,\r\n                                slinkdescription: editObject.sdescription,\r\n                                nlinkdefaultstatus: editObject.ndefaultstatus,\r\n                                sfilesize: '',\r\n                                nfilesize: 0,\r\n                                ndefaultstatus: 4,\r\n                                sfilename: '',\r\n                            }\r\n    \r\n                        } else {\r\n                            nlinkcode = defaultLink.length > 0 ? defaultLink[0] : \"\" //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\"\r\n                            link = {\r\n                                slinkfilename: '',\r\n                                slinkdescription: '',\r\n                                nlinkdefaultstatus: 4,\r\n                                sfilesize: editObject.sfilesize,\r\n                                nfilesize: editObject.nfilesize,\r\n                                ndefaultstatus: editObject.ndefaultstatus,\r\n                                sfilename: editObject.sfilename,\r\n\t\t\t\t\t\t\t\t//ALPD-5615-->Added bu Vignesh R(08-04-2025)\r\n                                ssystemfilename:editObject.ssystemfilename\r\n                            }\r\n                        }\r\n    \r\n                        selectedRecord = {\r\n                            ...link,\r\n                            nprotocolfilecode: editObject.nprotocolfilecode,\r\n                            nattachmenttypecode: editObject.nattachmenttypecode,\r\n                            sdescription:editObject.sdescription,\r\n                            nlinkcode,\r\n    \r\n                            // disabled: true\r\n                        };\r\n                    } else {\r\n                        selectedRecord = {\r\n                            nattachmenttypecode: response[0].data.AttachmentType.length > 0 ?\r\n                                response[0].data.AttachmentType[0].nattachmenttypecode : attachmentType.FTP,\r\n                            nlinkcode: defaultLink.length > 0 ? defaultLink[0] : \"\", \r\n                            disabled\r\n                        };\r\n                    }\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            [inputParam.modalName]: true,\r\n                            operation: inputParam.operation,\r\n                            screenName: inputParam.screenName,\r\n                            ncontrolCode: inputParam.ncontrolCode,\r\n                            selectedRecord,\r\n                            loading: false,\r\n                            linkMaster: linkmaster,\r\n                            showSaveContinue: false,\r\n                            editFiles: editObject.nattachmenttypecode === attachmentType.FTP ? editObject : {}\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    });\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                });\r\n        // }else{\r\n        //     toast.warn(intl.formatMessage({ id:\"IDS_SELECTDRAFTCORRECTIONRECORD\" }));\r\n\r\n        // }\r\n      \r\n    }\r\n}\r\n\r\nexport function validateEsignforProtocol(inputParam) {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"login/validateEsignCredential\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data === \"Success\") {\r\n\r\n                    const methodUrl = inputParam.screenData.inputParam.methodUrl;\r\n                    inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"] = inputParam.inputData.userinfo;\r\n                    if (inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()] &&\r\n                        inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]) {\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"]\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignreason\"]\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"]\r\n                    }\r\n                    dispatch(dispatchMethods(inputParam[\"screenData\"]))\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data);\r\n                }\r\n            })\r\n    };\r\n}\r\n\r\nfunction dispatchMethods(screenData) {\r\n    return (dispatch) => {\r\n        let action = screenData.inputParam.action\r\n        switch (action) {\r\n            case \"editprotocol\":\r\n                dispatch(updateProtocolAction(screenData.inputParam, screenData.masterData, \"openModal\"));\r\n                break;\r\n            case \"deleteprotocol\":\r\n                dispatch(crudMaster(screenData.inputParam, screenData.masterData,\"openModal\"));\r\n                break; \r\n            case \"editprotocolfile\":\r\n                dispatch(crudMaster(screenData.inputParam, screenData.masterData,\"openChildModal\"));\r\n                break; \r\n            case \"deleteprotocolfile\":\r\n                dispatch(crudMaster(screenData.inputParam, screenData.masterData,\"openChildModal\"));\r\n                break;     \r\n            case \"complete\":\r\n                dispatch(completeProtocolAction(screenData.inputParam, screenData.masterData));\r\n                break;\r\n            case \"dynamicAction\":\r\n                dispatch(dynamicAction(screenData.inputParam, screenData.masterData));\r\n                break;\r\n            case \"reject\":\r\n                dispatch(rejectProtocolAction(screenData.inputParam, screenData.masterData));\r\n                break;\r\n            case \"copy\":\r\n                dispatch(crudMaster(screenData.inputParam, screenData.masterData, \"openModal\"));\r\n                break;    \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function getEditComboService(inputParam, columnList,\r\n    selectedRecord1, childColumnList, comboComponents,\r\n    withoutCombocomponent, editableComboList) {\r\n    return function (dispatch) {\r\n\r\n        dispatch(initRequest(true));\r\n        const { userInfo } = { ...inputParam };\r\n        let masterData = inputParam[\"masterData\"];\r\n        let parentColumnList = [...columnList, ...editableComboList];\r\n        \r\n        masterData[\"selectedProtocol\"] = [];\r\n        masterData[\"selectedProtocol\"].push(inputParam[\"toedit\"]);\r\n\r\n        const nprotocolcode = inputParam.toedit[inputParam.primaryKeyField];\r\n        const ndesigntemplatemappingcode = inputParam.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode;\r\n\r\n        let urlArray = [];\r\n\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        \r\n        const selectedProtocolData = rsapi.post(\"/protocol/getEditProtocolDetails\", {\r\n            nprotocolcode,ndesigntemplatemappingcode, parentcolumnlist: parentColumnList,\r\n            childcolumnlist: childColumnList,userinfo: userInfo\r\n        })\r\n\r\n        const dateService = rsapi.post(\"dynamicpreregdesign/dateValidation\", {\r\n            datecolumnlist: withoutCombocomponent.filter(x => x.inputtype === \"date\"),\r\n            userinfo: userInfo\r\n        })\r\n\r\n        urlArray = [timeZoneService, selectedProtocolData, dateService]\r\n\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let selectedRecord = { ...response[1].data[\"EditData\"] };\r\n                selectedRecord = { ...selectedRecord, ...selectedRecord['jsondata'] }\r\n                \r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: userInfo.stimezoneid, value: userInfo.ntimezonecode }\r\n\r\n                \r\n                    const languagetypeCode = undefined\r\n                    const comboData = response[1].data;\r\n                    delete comboData['EditData']\r\n                    let comboValues = {}\r\n                    if (columnList.length > 0) {\r\n                        columnList.map(x => {\r\n                            if (x.inputtype === 'combo') {\r\n                                if (comboData[x.label] && comboData[x.label].length > 0) \r\n                                {\r\n                                    if (comboData[x.label].length > 0) {\r\n                                        if (comboData[x.label][0].label === undefined) {\r\n                                            const optionList = constructjsonOptionList(comboData[x.label] || [], x.valuemember,\r\n                                                x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n                                            comboData[x.label] = optionList.get(\"OptionList\");\r\n                                        } else {\r\n                                            comboData[x.label] = comboData[x.label]\r\n                                            const optionList = constructjsonOptionDefault(comboData[x.label] || [], x.valuemember,\r\n                                                x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n                                        }\r\n                                    } else {\r\n                                        comboData[x.label] = []\r\n                                    }\r\n                                    \r\n                                    comboValues = childComboLoadForEdit(x, comboData, selectedRecord,\r\n                                        childColumnList, withoutCombocomponent)\r\n                                } else {\r\n                                    comboValues = {\r\n                                        \"comboData\": comboData,\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                comboValues = {\r\n                                    comboData: comboData,\r\n                                    ...comboValues\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                    else {\r\n                        comboValues = {\r\n                            \"comboData\": comboData,\r\n                        }\r\n                    }\r\n                    if (editableComboList.length > 0) {\r\n                        editableComboList.map(x => {\r\n                            if (x.inputtype === 'combo') {\r\n                                if (comboData[x.label] && comboData[x.label].length > 0) \r\n                                {\r\n                                    if (comboData[x.label].length > 0) {\r\n                                        if (comboData[x.label][0].label === undefined) {\r\n                                            const optionList = constructjsonOptionList(comboData[x.label] || [], x.valuemember,\r\n                                                x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n                                            comboData[x.label] = optionList.get(\"OptionList\");\r\n                                        } else {\r\n                                            comboData[x.label] = comboData[x.label]\r\n                                            const optionList = constructjsonOptionDefault(comboData[x.label] || [], x.valuemember,\r\n                                                x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n                                        }\r\n                                    } else {\r\n                                        comboData[x.label] = []\r\n                                    }\r\n                                    comboValues = {\r\n                                        \"comboData\": comboData,\r\n                                    }\r\n\r\n                                } else {\r\n                                    comboValues = {\r\n                                        \"comboData\": comboData,\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                comboValues = {\r\n                                    comboData: comboData,\r\n                                    ...comboValues\r\n                                }\r\n                            }\r\n                        })\r\n\r\n                    }\r\n\r\n                    withoutCombocomponent.map(date => {\r\n                        if (date.inputtype === 'date') {\r\n                            selectedRecord[date.label] = selectedRecord[date.label] && selectedRecord[date.label] !== '-' ?\r\n                                rearrangeDateFormat(userInfo, selectedRecord[date.label]) : \"\"\r\n\r\n                            if (date.nperiodcode) {\r\n                                selectedRecord[date.label + \"value\"] = response[2].data[date.label] ?\r\n                                    new Date(response[2].data[date.label][\"datevalue\"]) : null;\r\n                            } else {\r\n                                selectedRecord[date.label + \"value\"] = new Date();\r\n                            }\r\n\r\n                            if (date.hidebeforedate) {\r\n                                selectedRecord[date.label + \"min\"] = selectedRecord[date.label + \"value\"]\r\n                            }\r\n                            if (date.hideafterdate) {\r\n                                selectedRecord[date.label + \"max\"] = selectedRecord[date.label + \"value\"]\r\n                            }\r\n                        }\r\n                    })\r\n\r\n                   \r\n\r\n                    \r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                           \r\n                            operation: \"update\",\r\n                            screenName:\"IDS_PROTOCOL\",                           \r\n                            timeZoneList,\r\n                            defaultTimeZone,\r\n                            selectedRecord,\r\n                            ncontrolCode: inputParam.ncontrolCode,\r\n                            openModal: true,                           \r\n                            loading: false,                            \r\n                            comboData: comboValues.comboData,\r\n                            childColumnList, comboComponents,\r\n                            withoutCombocomponent,\r\n                            columnList,\r\n                            masterData\r\n                        }\r\n                    })\r\n                //}\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.info(intl.formatMessage({ id: error.response.data }));\r\n                }\r\n            })\r\n\r\n    }\r\n}\r\n\r\nexport function insertProtocolAction(inputParam, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let requestUrl = '';\r\n        if (inputParam.isFileupload) {\r\n            requestUrl = rsapi.post(\"/protocol/createProtocolWithFile\", inputParam.formData);\r\n        } else {\r\n            requestUrl = rsapi.post(\"/protocol/createProtocol\", inputParam.inputData);\r\n        }\r\n        return requestUrl\r\n            .then(response => {\r\n                if (response.data) {\r\n                    // let Protocol = updatedObjectWithNewElement(response.data[\"Protocol\"], masterData.Protocol, 'Protocol');\r\n                    let protocol = response.data[\"protocol\"];\r\n                    let selectedProtocol = response.data[\"selectedProtocol\"];    \r\n                    masterData = {\r\n                        ...masterData, ...response.data,\r\n                        selectedProtocol,protocol,\r\n                    }\r\n                    \r\n                    let respObject = {\r\n                        masterData,\r\n                        ...inputParam.inputData,\r\n                        openModal: false,\r\n                        loadEsign: false,                     \r\n                        selectedRecord: undefined,\r\n                        loading: false,                       \r\n                        selectedRecord: {},                      \r\n                        protocolSkip: 0,                       \r\n                    }\r\n\r\n                     inputParam.postParamList[0]['clearFilter'] = 'yes';\r\n                    dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList, respObject))\r\n                    // dispatch({\r\n                    //     type: DEFAULT_RETURN, \r\n                    //     payload: { \r\n                    //         masterData,\r\n                    //        ...inputParam.inputData,\r\n                    //        openModal: false,\r\n                    //        loadEsign: false,                     \r\n                    //        selectedRecord: undefined,\r\n                    //        loading: false,                       \r\n                    //        selectedRecord: {},                      \r\n                    //        protocolSkip: 0,                       \r\n                    //     } \r\n                    // })\r\n\r\n\r\n                } else {\r\n                    toast.warn(response.data.rtn);\r\n                    dispatch({ \r\n                        type: DEFAULT_RETURN, \r\n                        payload: { \r\n                            loading: false                            \r\n                        } \r\n                    })\r\n                }\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                if (error.response.status === 500) {\r\n                    dispatch({ \r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        } })\r\n                    toast.error(error.message);\r\n                }\r\n                else {                    \r\n                    toast.warn(error.response.data);\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            loading: false\r\n                        }\r\n                    });                    \r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function updateProtocolAction(inputParam, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let requestUrl = '';\r\n        if (inputParam.isFileupload) {\r\n            requestUrl = rsapi.post(\"/protocol/updateProtocolWithFile\", inputParam.formData);\r\n        } else {\r\n            requestUrl = rsapi.post(\"/protocol/updateProtocol\", inputParam.inputData);\r\n        }\r\n        return requestUrl\r\n            .then(response => {\r\n                if (response.data) {\r\n                  \r\n                    replaceUpdatedObject(response.data[\"protocol\"], masterData.protocol, \"nprotocolcode\");\r\n                    masterData = {\r\n                        ...masterData,\r\n                        selectedProtocol: response.data[\"selectedProtocol\"],               \r\n                    }\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            masterData,  loading: false, \r\n                            loadEsign: false, openModal: false,\r\n                             selectedRecord: {}\r\n                        }\r\n                    });\r\n                   \r\n                } else {\r\n                    toast.warn(response.data.rtn);\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                }\r\n                else if (error.response.status === 302) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            loading: false, loadEsign: false,\r\n                            regEditParam: inputParam,\r\n                            openModal:false\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false} })\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function copyProtocolAction(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"protocol/getCopyProtocol\", inputParam.inputData)\r\n            .then(response => {\r\n\r\n                const produtCategoryMap = constructOptionList(response.data && response.data.productCategory || [], \"nproductcatcode\",\r\n                    \"sproductcatname\", undefined, undefined, false);\r\n\r\n                const productMap = constructOptionList(response.data && response.data.product || [], \"nproductcode\",\r\n                    \"sproductname\", undefined, undefined, false);\r\n\r\n                const productCategory = produtCategoryMap.get(\"OptionList\");\r\n                const product = productMap.get(\"OptionList\");\r\n\r\n                const copyData = response.data && response.data.copyProtocol;\r\n                const productCategoryName = copyData[0][\"sproductcatname\"];\r\n                const productName = copyData[0][\"sproductname\"];\r\n                const protocolName = copyData[0][\"sprotocolname\"];\r\n\r\n                let selectedRecord = {};\r\n                selectedRecord[\"sprotocolname\"] = \"\";\r\n                \r\n                selectedRecord[\"nproductcatcode\"] = {\r\n                    \"value\": copyData[0][\"nproductcatcode\"],\r\n                    \"label\": copyData[0][\"sproductcatname\"]\r\n                };\r\n\r\n                selectedRecord[\"nproductcode\"] = {\r\n                    \"value\": copyData[0][\"nproductcode\"],\r\n                    \"label\": copyData[0][\"sproductname\"]\r\n                };\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                      \r\n                        productCategory,\r\n                        product,                       \r\n                        selectedRecord,\r\n                        productCategoryName,\r\n                        productName,\r\n                        protocolName,\r\n                        operation: inputParam.inputData.operation,\r\n                        screenName: inputParam.inputData.screenName,\r\n                        openModal: true,\r\n                        loading: false,\r\n                        ncontrolCode:inputParam.inputData.ncontrolCode,\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function dynamicFileDownload(filedata) {\r\n    return (dispatch) => {\r\n        if (filedata.viewName === 'InfoView') {\r\n            if (filedata && filedata[filedata.field[2] + ['_ssystemfilename_Protocol']] !== undefined && filedata[filedata.field[2]] !== \"\") {\r\n                const inputParam = {\r\n                    inputData: {\r\n                    viewFile: {\r\n                        ssystemfilename: filedata[filedata.field[2] + ['_ssystemfilename_Protocol']],\r\n                        nprotocolcode: filedata.nprotocolcode,\r\n                        sfilename: filedata[filedata.field[2]]\r\n                    },\r\n                    userinfo: filedata.userInfo\r\n                    },\r\n                    classUrl: \"protocol\",\r\n                    operation: \"view\",\r\n                    methodUrl: \"ProtocolWithFile\",\r\n                }\r\n                dispatch(viewAttachment(inputParam));\r\n            } else {\r\n                toast.warn(intl.formatMessage({ id: \"IDS_FILENOTUPLOADED\" }))\r\n            }      \r\n        }  \r\n    }\r\n}\r\n\r\nexport function getProduct(nproductcatcode,userInfo, selectedRecord) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"protocol/getProduct\", {\"nproductcatcode\": nproductcatcode,\"userinfo\": userInfo})\r\n            .then(response => {\r\n                let product = [];                \r\n                const productMap = constructOptionList(response.data && response.data.product || [], \"nproductcode\",\"sproductname\",\r\n                     undefined, undefined, false);\r\n                product = productMap.get(\"OptionList\");\r\n                selectedRecord[\"nproductcode\"]=\"\";\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        product,                      \r\n                        selectedRecord,\r\n                        loading: false\r\n\r\n                    }\r\n                });\r\n\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}