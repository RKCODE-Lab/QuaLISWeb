{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{PureComponent}from'react';import{connect}from'react-redux';import{NavLink}from'react-router-dom';import{Tab,Nav,Image,Badge,Accordion,Container}from'react-bootstrap';import Card from'react-bootstrap/Card';import Button from'react-bootstrap/Button';import{FormattedMessage,injectIntl}from'react-intl';import Preloader from'../preloader/preloader.component';import{callService,navPage,elnLoginAction,sdmsLoginAction,updateStore,getDashBoardForHome}from'../../actions';import{SidebarNav,SidebarBrand,SidebarBrandTxt,NavHeader,CollapseInner}from'../../components/sidebar/sidebar.styles';import MenuExpand from\"../../assets/image/menu-expand.svg\";import PrimaryLogo from'../../assets/image/sidebar-logo.png';import Logo from'../../assets/image/qualis-lims@3x.png';import'react-perfect-scrollbar/dist/css/styles.css';import{formatInputDate}from'../CommonScript';//import LogiLabLogo from '../../assets/image/logilablogo.png'\n//import SDMSLogo from '../../assets/image/sdmslogo.png'\nimport{toast}from'react-toastify';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faBell,faHome,faServer}from'@fortawesome/free-solid-svg-icons';import ContextAwareToggle from'./ContextAwareToggle';import PerfectScrollbar from'react-perfect-scrollbar';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var Menu=/*#__PURE__*/function(_PureComponent){_inherits(Menu,_PureComponent);var _super=_createSuper(Menu);function Menu(props){var _this;_classCallCheck(this,Menu);_this=_super.call(this,props);_this.getDetail=function(classUrl,methodUrl,formCode,displayName,moduleCode,formname,modulename){if(_this.props.inputRef.current)_this.props.inputRef.current.value=\"\";if(_this.props.Login.userInfo.nformcode!==formCode){var userInfo=_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{\"nformcode\":formCode,\"nmodulecode\":moduleCode,\"sformname\":formname.sdisplayname,\"smodulename\":modulename.sdisplayname});var inputParam={inputData:{\"userinfo\":userInfo,settings:_this.props.Login.settings,currentdate:formatInputDate(new Date(),true)},classUrl:classUrl,methodUrl:methodUrl,displayName:displayName,key:\"MenuId_\".concat(formname.nmenucode),serviceNeed:true};_this.props.menuHide();_this.props.callService(inputParam);}};_this.onELNLoginClick=function(){if(_this.props.Login.sdmselnsettings&&_this.props.Login.sdmselnsettings[3]){var serverUrl=_this.props.Login.sdmselnsettings[3]+\"Login/Validateuser\";var uiUrl=_this.props.Login.sdmselnsettings[4];var userInfo=_this.props.Login.userInfo;var inputParam={username:userInfo.sloginid,lssitemaster:{\"sitecode\":\"1\"},password:userInfo.spassword,lsusergroup:{\"usergroupname\":userInfo.suserrolename}};_this.props.elnLoginAction(inputParam,serverUrl,uiUrl);}else{toast.info(_this.intl.FormattedMessage({id:\"IDS_ELNSERVERURLNOTAVAILABLE\"}));}};_this.onSDMSLoginClick=function(){if(_this.props.Login.sdmselnsettings&&_this.props.Login.sdmselnsettings[1]){var serverUrl=_this.props.Login.sdmselnsettings[1]+\"/Login/validatelinkUser\";var uiUrl=_this.props.Login.sdmselnsettings[2];var userInfo=_this.props.Login.userInfo;var inputParam={sUserName:userInfo.sloginid,sSiteCode:\"DEFAULT\",sGroupName:userInfo.suserrolename};_this.props.sdmsLoginAction(inputParam,serverUrl,uiUrl);}else{toast.info(_this.intl.FormattedMessage({id:\"IDS_ELNSERVERURLNOTAVAILABLE\"}));}};_this.setKey=function(k){_this.setState({key:k});};_this.setKeyMenu=function(k){_this.setState({keyMenu:k});};_this.getDetailHome=function(menu){var userInfo=_objectSpread({},_this.props.Login.userInfo);userInfo['nformcode']=-1;userInfo['nmodulecode']=-1;userInfo['sformname']=null;userInfo['smodulename']=null;var inputParam={};if(menu.shomename==='apiservice'){inputParam={classUrl:menu.shomename,methodUrl:menu.smethodurl};}var updateInfo={typeName:DEFAULT_RETURN,data:_objectSpread({masterData:{},userInfo:userInfo,organisation:undefined,loading:false,displayName:menu.sdisplayname,shomename:menu.shomename},inputParam)};_this.props.layOutGetHome(updateInfo);};_this.toggleSearch=function(){_this.setState({showSearch:!_this.state.showSearch});};_this.ToggleAction=function(value){_this.setState({isSidebarActive:value,MenuVisible:!value});};_this.pinnedEvent=function(){var isPinned=_this.state.isPinned;_this.setState({isPinned:!isPinned});};_this.formRef=React.createRef();_this.state={show:false,nusermultirolecode:-1,selectedRecord:{},isSidebarActive:false,isPinned:false,MenuVisible:false,key:_this.props.Login.defaultMenuHome&&_this.props.Login.defaultMenuHome?\"MenuId_\".concat(_this.props.Login.defaultMenuHome.nhomedesigncode):\"MenuId_1\",keyMenu:_this.props.Login.menuDesign&&_this.props.Login.menuDesign?\"MenuId_\".concat(_this.props.Login.menuDesign[0].nmenucode):\"MenuId_-2\",alert:[]};_this.toggleMenu=_this.toggleMenu.bind(_assertThisInitialized(_this));return _this;}_createClass(Menu,[{key:\"toggleMenu\",value:function toggleMenu(){this.setState({MenuVisible:!this.state.MenuVisible});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.Login.menuDesign!==prevProps.Login.menuDesign){this.setState({key:this.props.Login.HomeDesign&&this.props.Login.HomeDesign[0]?\"MenuId_\".concat(this.props.Login.defaultMenuHome.nhomedesigncode):\"MenuId_1\"});}}},{key:\"render\",value:function render(){var _this2=this;var isSidebarActive=this.state.isSidebarActive;var _this$props$Login=this.props.Login,HomeDesign=_this$props$Login.HomeDesign,loading=_this$props$Login.loading,menuDesign=_this$props$Login.menuDesign;var activePage=this.props.Login.userInfo.nmodulecode;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Nav.Link,{className:\"text-center menu-toggle-btn\",onMouseEnter:function onMouseEnter(){return _this2.setState({MenuVisible:!_this2.state.MenuVisible});},onMouseLeave:function onMouseLeave(){return _this2.ToggleAction(true);}},/*#__PURE__*/React.createElement(\"img\",{src:MenuExpand,alt:\"Lims-Logo\",width:\"40\",height:\"40\"})),this.state.MenuVisible?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(SidebarNav,{className:\"d-flex side-nav sidebar sidebar-dark bg-gradient-primary   \".concat(this.state.keyMenu==='MenuId_-2'&&'toggled',\"  \").concat(this.props.fullView&&'sidebar-fullview'),onMouseEnter:function onMouseEnter(){return _this2.ToggleAction(false);},onMouseLeave:function onMouseLeave(){return _this2.ToggleAction(true);}},/*#__PURE__*/React.createElement(Tab.Container,{activeKey:this.state.keyMenu,onSelect:function onSelect(k){return _this2.setKeyMenu(k);}},/*#__PURE__*/React.createElement(Nav,{className:\"nav flex-column side-nav\",variant:\"pills\",key:\"MenuIcon\"},menuDesign&&menuDesign.map(function(menu){return menu.nmenucode!==-2?/*#__PURE__*/React.createElement(Nav.Link,{key:menu.nmenucode,eventKey:\"MenuId_\".concat(menu.nmenucode)},/*#__PURE__*/React.createElement(Image,{src:require(\"../../assets/image/\".concat(menu.smenuname.toLowerCase(),\".svg\")),alt:\"sidebar\",width:\"34\",height:\"34\"}),/*#__PURE__*/React.createElement(\"span\",null,menu.sdisplayname)):/*#__PURE__*/React.createElement(Nav.Link,{to:'/home',key:menu.nmenucode,eventKey:\"MenuId_\".concat(menu.nmenucode),onClick:function onClick(e){return _this2.getDetailHome(HomeDesign.filter(function(x){return x.shomename==='home';})[0]);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faHome,size:\"2x\"}),/*#__PURE__*/React.createElement(\"span\",null,_this2.props.intl.formatMessage({id:\"IDS_HOME\"})));}),/*#__PURE__*/React.createElement(Nav.Link,{className:\"mt-auto\"},/*#__PURE__*/React.createElement(Image,{src:PrimaryLogo,alt:\"Primary-Logo\",width:\"45\",height:\"60\"}))),/*#__PURE__*/React.createElement(Tab.Content,null,menuDesign&&menuDesign.map(function(menu){return/*#__PURE__*/React.createElement(Tab.Pane,{key:menu.nmenucode,eventKey:\"MenuId_\".concat(menu.nmenucode)},/*#__PURE__*/React.createElement(Accordion,{className:\"navbar-nav position-relative\",as:\"ul\",defaultActiveKey:activePage},/*#__PURE__*/React.createElement(SidebarBrand,{className:\"sidebar-brand d-flex align-items-center\"},/*#__PURE__*/React.createElement(SidebarBrandTxt,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:menu.sdisplayname,defaultMessage:menu.sdisplayname}))),/*#__PURE__*/React.createElement(PerfectScrollbar,{className:\"sidebar-scroll\"},menu.nmenucode!==-2&&menu.lstmodule.map(function(module){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Nav.Item,{key:module.nmodulecode,as:\"li\"},/*#__PURE__*/React.createElement(Card.Header,{className:\"pr-0\"},/*#__PURE__*/React.createElement(Accordion.Toggle,{as:Button,className:\"\".concat(activePage===module.nmodulecode?'show':''),variant:\"link\",eventKey:module.nmodulecode},/*#__PURE__*/React.createElement(NavHeader,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:module.sdisplayname,defaultMessage:module.sdisplayname})),/*#__PURE__*/React.createElement(Accordion.Collapse,{eventKey:module.nmodulecode},/*#__PURE__*/React.createElement(Card.Body,null)))),/*#__PURE__*/React.createElement(Accordion.Collapse,{eventKey:module.nmodulecode},/*#__PURE__*/React.createElement(CollapseInner,{className:\"bg-transparent py-2 collapse-inner rounded\"},module.lstforms!==null&&module.lstforms.map(function(forms){return/*#__PURE__*/React.createElement(NavLink,{className:\"collapse-item \".concat(forms.nformcode===_this2.props.Login.userInfo.nformcode?'active-form':''),key:forms.nformcode,nformcode:forms.nformcode,to:'/'+forms.sclassname,onClick:function onClick(){return _this2.getDetail(forms.sclassname.toLowerCase(),forms.surl,forms.nformcode,forms.sdisplayname,module.nmodulecode,forms,module);}},/*#__PURE__*/React.createElement(FormattedMessage,{id:forms.sdisplayname,defaultMessage:forms.sdisplayname}));})))));}))));}))))):/*#__PURE__*/React.createElement(React.Fragment,null,(this.props.history.history.location.pathname===\"/home\"||this.props.history.history.location.pathname===\"/dashboard\"||this.props.history.history.location.pathname===\"/alert\"||this.props.history.history.location.pathname===\"/apiservice\")&&/*#__PURE__*/React.createElement(SidebarNav,{className:\"d-flex side-nav sidebar sidebar-dark bg-gradient-primary toggled \".concat(this.props.fullView&&'sidebar-fullview')},/*#__PURE__*/React.createElement(Tab.Container,{activeKey:this.state.key,onSelect:function onSelect(k){return _this2.setKey(k);}},/*#__PURE__*/React.createElement(Nav,{className:\"nav flex-column side-nav\",variant:\"pills\",key:\"MenuIcon\"},HomeDesign&&HomeDesign.map(function(menu){return menu.shomename==='dashboard'?/*#__PURE__*/React.createElement(Nav.Link,{key:menu.nhomedesigncode,eventKey:\"MenuId_\".concat(menu.nhomedesigncode),onClick:function onClick(e){return _this2.getDetailHome(menu);}},/*#__PURE__*/React.createElement(Image,{src:require(\"../../assets/image/\".concat(menu.shomename.toLowerCase(),\".svg\")),alt:\"sidebar\",width:\"34\",height:\"34\"}),/*#__PURE__*/React.createElement(\"span\",null,menu.sdisplayname)):menu.shomename==='home'?/*#__PURE__*/React.createElement(Nav.Link,{to:'/home',key:menu.nhomedesigncode,eventKey:\"MenuId_\".concat(menu.nhomedesigncode),onClick:function onClick(e){return _this2.getDetailHome(menu);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faHome,size:\"2x\"}),/*#__PURE__*/React.createElement(\"span\",null,menu.sdisplayname)):menu.shomename==='apiservice'?/*#__PURE__*/React.createElement(Nav.Link,{to:'/apiservice',key:menu.nhomedesigncode,eventKey:\"MenuId_\".concat(menu.nhomedesigncode),onClick:function onClick(e){return _this2.getDetailHome(menu);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faServer,size:\"2x\"}),/*#__PURE__*/React.createElement(\"span\",null,menu.sdisplayname)):/*#__PURE__*/React.createElement(Nav.Link,{to:'/alert',key:menu.nhomedesigncode,eventKey:\"MenuId_\".concat(menu.nhomedesigncode),onClick:function onClick(e){return _this2.getDetailHome(menu);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBell,size:\"2x\"}),/*#__PURE__*/React.createElement(\"span\",null,menu.sdisplayname),_this2.props.Login.alert&&_this2.props.Login.alert.length>0?/*#__PURE__*/React.createElement(Badge,{style:{\"position\":\"relative\",\"bottom\":\"56px\",\"font-size\":\"0.7rem\",\"width\":\"20px\",\"left\":\"30px\"},pill:true,variant:\"danger\"},_this2.props.Login.alert&&_this2.props.Login.alert.length):\"\");}),/*#__PURE__*/React.createElement(Nav.Link,{className:\"mt-auto\"},/*#__PURE__*/React.createElement(Image,{src:PrimaryLogo,alt:\"Primary-Logo\",width:\"45\",height:\"60\"}))))))),/*#__PURE__*/React.createElement(Preloader,{loading:loading}));}}]);return Menu;}(PureComponent);export default connect(mapStateToProps,{callService:callService,navPage:navPage,elnLoginAction:elnLoginAction,sdmsLoginAction:sdmsLoginAction,updateStore:updateStore,getDashBoardForHome:getDashBoardForHome})(injectIntl(Menu));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/sidebar/sidebar.component.jsx"],"names":["React","PureComponent","connect","NavLink","Tab","Nav","Image","Badge","Accordion","Container","Card","Button","FormattedMessage","injectIntl","Preloader","callService","navPage","elnLoginAction","sdmsLoginAction","updateStore","getDashBoardForHome","SidebarNav","SidebarBrand","SidebarBrandTxt","NavHeader","CollapseInner","PrimaryLogo","Logo","formatInputDate","toast","DEFAULT_RETURN","FontAwesomeIcon","faBell","faHome","faServer","ContextAwareToggle","PerfectScrollbar","mapStateToProps","state","Login","Menu","props","getDetail","classUrl","methodUrl","formCode","displayName","moduleCode","formname","modulename","inputRef","current","value","userInfo","nformcode","sdisplayname","inputParam","inputData","settings","currentdate","Date","key","nmenucode","serviceNeed","menuHide","onELNLoginClick","sdmselnsettings","serverUrl","uiUrl","username","sloginid","lssitemaster","password","spassword","lsusergroup","suserrolename","info","intl","id","onSDMSLoginClick","sUserName","sSiteCode","sGroupName","setKey","k","setState","setKeyMenu","keyMenu","getDetailHome","menu","shomename","smethodurl","updateInfo","typeName","data","masterData","organisation","undefined","loading","layOutGetHome","toggleSearch","showSearch","ToggleAction","isSidebarActive","MenuVisible","pinnedEvent","isPinned","formRef","createRef","show","nusermultirolecode","selectedRecord","defaultMenuHome","nhomedesigncode","menuDesign","alert","toggleMenu","bind","prevProps","HomeDesign","activePage","nmodulecode","MenuExpand","fullView","map","require","smenuname","toLowerCase","e","filter","x","formatMessage","lstmodule","module","lstforms","forms","sclassname","surl","history","location","pathname","length"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Tab, Nav, Image, Badge,Accordion, Container } from 'react-bootstrap';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { FormattedMessage,injectIntl } from 'react-intl';\r\nimport Preloader from '../preloader/preloader.component';\r\nimport { callService, navPage, elnLoginAction, sdmsLoginAction, updateStore, getDashBoardForHome } from '../../actions'\r\nimport { SidebarNav, SidebarBrand, SidebarBrandTxt, NavHeader, CollapseInner } from '../../components/sidebar/sidebar.styles';\r\nimport MenuExpand from '../../assets/image/menu-expand.svg';\r\nimport PrimaryLogo from '../../assets/image/sidebar-logo.png';\r\nimport Logo from '../../assets/image/qualis-lims@3x.png';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport { formatInputDate } from '../CommonScript';\r\n//import LogiLabLogo from '../../assets/image/logilablogo.png'\r\n//import SDMSLogo from '../../assets/image/sdmslogo.png'\r\nimport { toast } from 'react-toastify';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBell, faHome, faServer } from '@fortawesome/free-solid-svg-icons';\r\nimport ContextAwareToggle from './ContextAwareToggle';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nconst mapStateToProps = (state) => {\r\n    return { Login: state.Login }\r\n}\r\nclass Menu extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef = React.createRef();\r\n        this.state = {\r\n            show: false,\r\n            nusermultirolecode: -1,\r\n            selectedRecord: {},\r\n            isSidebarActive: false,\r\n            isPinned: false,\r\n            MenuVisible: false,\r\n            key: this.props.Login.defaultMenuHome &&\r\n                this.props.Login.defaultMenuHome ?\r\n                `MenuId_${this.props.Login.defaultMenuHome.nhomedesigncode}` :\r\n                \"MenuId_1\",\r\n                keyMenu: this.props.Login.menuDesign &&\r\n                this.props.Login.menuDesign ?\r\n                `MenuId_${this.props.Login.menuDesign[0].nmenucode}` :\r\n                \"MenuId_-2\",\r\n            alert: []\r\n        }\r\n        this.toggleMenu = this.toggleMenu.bind(this);\r\n    }\r\n    toggleMenu() {\r\n        this.setState({ MenuVisible: !this.state.MenuVisible })\r\n    }\r\n\r\n\r\n    getDetail = (classUrl, methodUrl, formCode, displayName, moduleCode, formname, modulename) => {\r\n        if (this.props.inputRef.current)\r\n            this.props.inputRef.current.value = \"\"\r\n        if (this.props.Login.userInfo.nformcode !== formCode) {\r\n            const userInfo = {\r\n                ...this.props.Login.userInfo, \"nformcode\": formCode,\r\n                \"nmodulecode\": moduleCode, \"sformname\": formname.sdisplayname, \"smodulename\": modulename.sdisplayname\r\n            }\r\n            const inputParam = {\r\n                inputData: { \"userinfo\": userInfo, \r\n                settings : this.props.Login.settings,\r\n                currentdate: formatInputDate(new Date(), true) },\r\n                classUrl, methodUrl, displayName, key: `MenuId_${formname.nmenucode}`, serviceNeed: true\r\n            };\r\n            this.props.menuHide();\r\n            this.props.callService(inputParam);\r\n        }\r\n    }\r\n\r\n    onELNLoginClick = () => {\r\n        if (this.props.Login.sdmselnsettings && this.props.Login.sdmselnsettings[3]) {\r\n            const serverUrl = this.props.Login.sdmselnsettings[3] + \"Login/Validateuser\";\r\n            const uiUrl = this.props.Login.sdmselnsettings[4];\r\n            const userInfo = this.props.Login.userInfo;\r\n            const inputParam = {\r\n                username: userInfo.sloginid,\r\n                lssitemaster: { \"sitecode\": \"1\" },\r\n                password: userInfo.spassword,\r\n                lsusergroup: { \"usergroupname\": userInfo.suserrolename }\r\n            };\r\n            this.props.elnLoginAction(inputParam, serverUrl, uiUrl);\r\n        } else {\r\n            toast.info(this.intl.FormattedMessage({ id: \"IDS_ELNSERVERURLNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n    onSDMSLoginClick = () => {\r\n        if (this.props.Login.sdmselnsettings && this.props.Login.sdmselnsettings[1]) {\r\n            const serverUrl = this.props.Login.sdmselnsettings[1] + \"/Login/validatelinkUser\";\r\n            const uiUrl = this.props.Login.sdmselnsettings[2];\r\n            const userInfo = this.props.Login.userInfo;\r\n            const inputParam = {\r\n                sUserName: userInfo.sloginid,\r\n                sSiteCode: \"DEFAULT\",\r\n                sGroupName: userInfo.suserrolename\r\n            };\r\n            this.props.sdmsLoginAction(inputParam, serverUrl, uiUrl);\r\n        } else {\r\n            toast.info(this.intl.FormattedMessage({ id: \"IDS_ELNSERVERURLNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n    setKey = (k) => {\r\n        this.setState({ key: k })\r\n    }\r\n\r\n    setKeyMenu = (k) => {\r\n        this.setState({ keyMenu: k })\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.Login.menuDesign !== prevProps.Login.menuDesign) {\r\n            this.setState({\r\n                key: this.props.Login.HomeDesign && this.props.Login.HomeDesign[0] ?\r\n                    `MenuId_${this.props.Login.defaultMenuHome.nhomedesigncode}` : \"MenuId_1\"\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    getDetailHome = (menu) => {\r\n        const userInfo = {\r\n            ...this.props.Login.userInfo\r\n        }\r\n        userInfo['nformcode'] = -1\r\n        userInfo['nmodulecode'] = -1\r\n        userInfo['sformname'] = null\r\n        userInfo['smodulename'] = null\r\n\r\n        let inputParam = {}\r\n\r\n        if (menu.shomename === 'apiservice') {\r\n            inputParam = { classUrl: menu.shomename, methodUrl: menu.smethodurl }\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { masterData: {}, userInfo, organisation: undefined, loading: false, displayName: menu.sdisplayname, shomename: menu.shomename, ...inputParam }\r\n        }\r\n        this.props.layOutGetHome(updateInfo)\r\n\r\n\r\n\r\n    }\r\n    toggleSearch = () => {\r\n\r\n        this.setState({\r\n            showSearch: !this.state.showSearch\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const { isSidebarActive } = this.state;\r\n        const { HomeDesign, loading,menuDesign } = this.props.Login;\r\n        const activePage = this.props.Login.userInfo.nmodulecode;\r\n        return (\r\n            <>\r\n                <>                            \r\n                    <Nav.Link className=\"text-center menu-toggle-btn\" onMouseEnter={() => this.setState({ MenuVisible: !this.state.MenuVisible })} onMouseLeave={() => this.ToggleAction(true)}>\r\n                        <img src={MenuExpand} alt=\"Lims-Logo\" width=\"40\" height=\"40\" />\r\n                    </Nav.Link>                   \r\n                    {this.state.MenuVisible ?\r\n                        <> \r\n                            <SidebarNav className={`d-flex side-nav sidebar sidebar-dark bg-gradient-primary   ${this.state.keyMenu==='MenuId_-2' && 'toggled'}  ${this.props.fullView && 'sidebar-fullview'}`}   onMouseEnter={() => this.ToggleAction(false)} onMouseLeave={() => this.ToggleAction(true)} >\r\n                                <Tab.Container\r\n                                    activeKey={this.state.keyMenu}\r\n                                    onSelect={(k) => this.setKeyMenu(k)}>\r\n                                    {/* Left Menu Icon */}\r\n                                    <Nav className=\"nav flex-column side-nav\" variant=\"pills\" key='MenuIcon' >\r\n                                        {menuDesign && menuDesign.map((menu) => {\r\n                                            return (\r\n                                                menu.nmenucode !== -2 ?\r\n                                                    <Nav.Link key={menu.nmenucode} eventKey={`MenuId_${menu.nmenucode}`} >\r\n                                                        <Image src={require(`../../assets/image/${menu.smenuname.toLowerCase()}.svg`)} alt=\"sidebar\" width=\"34\" height=\"34\" />\r\n                                                        <span>{menu.sdisplayname}</span>\r\n                                                    </Nav.Link> : <Nav.Link to={'/home'} key={menu.nmenucode} eventKey={`MenuId_${menu.nmenucode}`}  \r\n                                                    onClick={(e) => this.getDetailHome(HomeDesign.filter(x=>x.shomename==='home')[0])}  >\r\n                                                        {/* <Image src={PrimaryLogo} alt=\"Primary-Logo\" width=\"45\" height=\"60\" /> */}\r\n                                                        <FontAwesomeIcon icon={faHome} size=\"2x\" />\r\n                                                        \r\n                                                        <span>{this.props.intl.formatMessage({id: \"IDS_HOME\"})}</span>\r\n                                                    </Nav.Link>)\r\n                                        })}\r\n                                                {/* <Nav.Link key={6} onClick={() => this.onELNLoginClick()}>\r\n                                                    <Image src={LogiLabLogo} alt=\"logilablogo\" width=\"45\" height=\"55\" />\r\n                                                </Nav.Link>\r\n                                                <Nav.Link key={7} onClick={() => this.onSDMSLoginClick()}>\r\n                                                    <Image src={SDMSLogo} alt=\"sdmslogo\" width=\"45\" height=\"55\" />\r\n                                                </Nav.Link> */}\r\n                                                {/* //key={this.state.key} eventKey={this.state.key}  */}\r\n                                                \r\n                                                <Nav.Link className=\"mt-auto\">\r\n                                                    <Image src={PrimaryLogo} alt=\"Primary-Logo\" width=\"45\" height=\"60\" />\r\n                                                </Nav.Link>\r\n                                             \r\n                    \r\n                                    </Nav>\r\n                                            {/* <Button className=\"rounded-circle border-0\" id=\"sidebarToggle\" ></Button> */}\r\n                                    <Tab.Content>   \r\n                                        {menuDesign && menuDesign.map(menu => {\r\n                                            return (\r\n                                                <Tab.Pane key={menu.nmenucode} eventKey={`MenuId_${menu.nmenucode}`}>\r\n                                                    <Accordion className=\"navbar-nav position-relative\" as=\"ul\" defaultActiveKey={activePage} >\r\n                                                        {/* onClick={() => this.pinnedEvent()} */}\r\n                                                        <SidebarBrand className=\"sidebar-brand d-flex align-items-center\">\r\n                                                            <SidebarBrandTxt>\r\n                                                                <FormattedMessage id={menu.sdisplayname}\r\n                                                                    defaultMessage={menu.sdisplayname} />\r\n                                                            </SidebarBrandTxt>\r\n                                                        </SidebarBrand>\r\n                                                        <PerfectScrollbar className=\"sidebar-scroll\">\r\n                                                            {\r\n                                                                menu.nmenucode!==-2&&(menu.lstmodule).map(module => {\r\n                                                                return (\r\n                                                                        <>\r\n                                                                        <Nav.Item key={module.nmodulecode} as=\"li\">\r\n                                                                            <Card.Header className='pr-0'>\r\n                                                                                <Accordion.Toggle as={Button} className={`${activePage === module.nmodulecode  ? 'show' : ''}`}\r\n                                                                                variant=\"link\" eventKey={module.nmodulecode}  >\r\n                                                                                    <NavHeader >\r\n                                                                                        <FormattedMessage id={module.sdisplayname} defaultMessage={module.sdisplayname} />\r\n                                                                                    </NavHeader>\r\n                                                                                    <Accordion.Collapse eventKey={module.nmodulecode}>\r\n                                                                                        <Card.Body></Card.Body>\r\n                                                                                    </Accordion.Collapse>\r\n                                                                                </Accordion.Toggle>\r\n                                                                                \r\n                                                                            </Card.Header>\r\n                                                                                {/* <ContextAwareToggle eventKey={module.nmodulecode}>\r\n                                                                                    <NavHeader >\r\n                                                                                        <FormattedMessage id={module.sdisplayname}\r\n                                                                                            defaultMessage={module.sdisplayname} />\r\n                                                                                    </NavHeader>\r\n                                                                                </ContextAwareToggle> */}                    \r\n                                                                            <Accordion.Collapse eventKey={module.nmodulecode}  >\r\n                                                                                <CollapseInner className=\"bg-transparent py-2 collapse-inner rounded\">\r\n                                                                                    {module.lstforms!==null&& (module.lstforms).map(forms => {\r\n                                                                                        return (\r\n                                                                                            <NavLink className={`collapse-item ${forms.nformcode === this.props.Login.userInfo.nformcode ? 'active-form' : ''}`} key={forms.nformcode}\r\n                                                                                                nformcode={forms.nformcode} to={'/' + forms.sclassname}\r\n                                                                                                onClick={() => this.getDetail(forms.sclassname.toLowerCase(), forms.surl,\r\n                                                                                                    forms.nformcode, forms.sdisplayname, module.nmodulecode, forms, module)}\r\n                                                                                            >\r\n                                                                                                <FormattedMessage id={forms.sdisplayname}\r\n                                                                                                    defaultMessage={forms.sdisplayname} />\r\n                                                                                            </NavLink>\r\n                                                                                        )\r\n                                                                                    })}\r\n                                                                                </CollapseInner>\r\n                                                                            </Accordion.Collapse>\r\n                                                                        </Nav.Item>\r\n                                                                        </>\r\n                                                                    )\r\n                                                                })\r\n                                                            }\r\n                                                        </PerfectScrollbar>                    \r\n                                                    </Accordion>\r\n                                                </Tab.Pane>)\r\n                                        })}            \r\n                                    </Tab.Content>\r\n                                </Tab.Container>\r\n                            </SidebarNav>\r\n                        </> :\r\n                        <>\r\n                        {(this.props.history.history.location.pathname === \"/home\" || this.props.history.history.location.pathname === \"/dashboard\" || this.props.history.history.location.pathname === \"/alert\" || this.props.history.history.location.pathname === \"/apiservice\")&&\r\n                        <SidebarNav className={`d-flex side-nav sidebar sidebar-dark bg-gradient-primary toggled ${this.props.fullView && 'sidebar-fullview'}`}>\r\n                            <Tab.Container activeKey={this.state.key} onSelect={(k) => this.setKey(k)}>\r\n                                {/* Left Menu Icon */}\r\n                                < Nav className=\"nav flex-column side-nav\" variant=\"pills\" key='MenuIcon'>                                  \r\n                                    {HomeDesign && HomeDesign.map((menu) => {\r\n                                        return (menu.shomename === 'dashboard' ?\r\n                                            <Nav.Link key={menu.nhomedesigncode} eventKey={`MenuId_${menu.nhomedesigncode}`} onClick={(e) => this.getDetailHome(menu)}  >\r\n                                                <Image src={require(`../../assets/image/${menu.shomename.toLowerCase()}.svg`)} alt=\"sidebar\" width=\"34\" height=\"34\" />\r\n                                                <span>{menu.sdisplayname}</span>\r\n                                            </Nav.Link>\r\n                                            : menu.shomename === 'home' ?\r\n                                                <Nav.Link to={'/home'} key={menu.nhomedesigncode} eventKey={`MenuId_${menu.nhomedesigncode}`}\r\n                                                    onClick={(e) => this.getDetailHome(menu)} >\r\n                                                    <FontAwesomeIcon icon={faHome} size=\"2x\" />\r\n                                                    <span>{menu.sdisplayname}</span>\r\n                                                </Nav.Link>\r\n                                            : menu.shomename === 'apiservice' ?\r\n                                                <Nav.Link to={'/apiservice'} key={menu.nhomedesigncode} eventKey={`MenuId_${menu.nhomedesigncode}`}\r\n                                                    onClick={(e) => this.getDetailHome(menu)}  >\r\n                                                    <FontAwesomeIcon icon={faServer} size=\"2x\" />\r\n                                                    <span>{menu.sdisplayname}</span>\r\n                                                </Nav.Link>\r\n                                            : \r\n                                                <Nav.Link to={'/alert'} key={menu.nhomedesigncode} eventKey={`MenuId_${menu.nhomedesigncode}`}\r\n                                                    onClick={(e) => this.getDetailHome(menu)}  >\r\n                                                    <FontAwesomeIcon icon={faBell} size=\"2x\" />\r\n                                                        <span>{menu.sdisplayname}</span>\r\n                                                        {this.props.Login.alert && this.props.Login.alert.length > 0 ?\r\n                                                            <Badge style={{\r\n                                                                \"position\": \"relative\",\r\n                                                                \"bottom\": \"56px\",\r\n                                                                \"font-size\": \"0.7rem\",\r\n                                                                \"width\": \"20px\",\r\n                                                                \"left\": \"30px\"\r\n                                                            }} pill variant=\"danger\">{this.props.Login.alert && this.props.Login.alert.length}</Badge>\r\n                                                            : \"\"}\r\n                                                </Nav.Link>\r\n                                        )\r\n                                    })}\r\n                                    <Nav.Link className=\"mt-auto\">\r\n                                        <Image src={PrimaryLogo} alt=\"Primary-Logo\" width=\"45\" height=\"60\" />\r\n                                    </Nav.Link>\r\n                                </Nav>\r\n                            </Tab.Container>                                      \r\n                        </SidebarNav>\r\n                         }\r\n                        </>\r\n                    }\r\n                </>\r\n                <Preloader loading={loading} />\r\n            </>\r\n        );\r\n    }\r\n    ToggleAction = (value) => {\r\n        this.setState({\r\n            isSidebarActive: value,\r\n            MenuVisible: !value\r\n        })\r\n    }\r\n    pinnedEvent = () => {\r\n        let { isPinned } = this.state;\r\n        this.setState({\r\n            isPinned: !isPinned\r\n        })\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { callService, navPage, elnLoginAction, sdmsLoginAction, updateStore, getDashBoardForHome })(injectIntl(Menu));\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}