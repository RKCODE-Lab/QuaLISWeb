{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{initRequest}from'./LoginAction';import{sortData}from'../components/CommonScript';import{toast}from'react-toastify';export function getSelectedSampleStorageLocation(inputParam,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/samplestoragelocation/getSelectedSampleStorageLocation\",{'userinfo':userInfo,\"nsamplestoragelocationcode\":inputParam.nsamplestoragelocationcode}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),{},{selectedSampleStorageLocation:response.data[\"selectedSampleStorageLocation\"]});sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function editSampleStorageLocation(inputParam,userInfo,masterData){return function(dispatch){var selectedRecord={};dispatch(initRequest(true));rsapi.post(\"/samplestoragelocation/getActiveSampleStorageVersion\",{'userinfo':userInfo,\"nsamplestorageversioncode\":inputParam.nsamplestorageversioncode}).then(function(response){masterData=_objectSpread({},masterData);sortData(masterData);selectedRecord[\"ssamplestoragelocationname\"]=response.data[\"selectedSampleStorageVersion\"][\"ssamplestoragelocationname\"];dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,treeData:JSON.parse(response.data[\"selectedSampleStorageVersion\"][\"jsondata\"].value).data,selectedRecord:selectedRecord,openModal:true,operation:\"update\",loadTreeProperties:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export var openPropertyModal=function openPropertyModal(clickedItem){return function(dispatch){var selectedRecord={};selectedRecord[\"locationlastnode\"]=clickedItem.item.locationlastnode===undefined?false:clickedItem.item.locationlastnode;selectedRecord[\"containerfirstnode\"]=clickedItem.item.containerfirstnode===undefined?false:clickedItem.item.containerfirstnode;selectedRecord[\"containerlastnode\"]=clickedItem.item.containerlastnode===undefined?false:clickedItem.item.containerlastnode;dispatch({type:DEFAULT_RETURN,payload:{selectedRecord:selectedRecord,loadTreeProperties:true,openModal:true,clickedItem:clickedItem,operation:\"update\"}});};};","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/SampleStorageLocationAction.js"],"names":["rsapi","DEFAULT_RETURN","initRequest","sortData","toast","getSelectedSampleStorageLocation","inputParam","userInfo","masterData","dispatch","post","nsamplestoragelocationcode","then","response","selectedSampleStorageLocation","data","type","payload","loading","catch","error","status","message","warn","editSampleStorageLocation","selectedRecord","nsamplestorageversioncode","treeData","JSON","parse","value","openModal","operation","loadTreeProperties","openPropertyModal","clickedItem","item","locationlastnode","undefined","containerfirstnode","containerlastnode"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { initRequest } from './LoginAction';\r\nimport { sortData } from '../components/CommonScript';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport function getSelectedSampleStorageLocation(inputParam, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/samplestoragelocation/getSelectedSampleStorageLocation\",\r\n            { 'userinfo': userInfo, \"nsamplestoragelocationcode\": inputParam.nsamplestoragelocationcode })\r\n            .then(response => {\r\n\r\n                masterData = {\r\n                    ...masterData, selectedSampleStorageLocation: response.data[\"selectedSampleStorageLocation\"]\r\n                };\r\n                sortData(masterData);\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false\r\n\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function editSampleStorageLocation(inputParam, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        let selectedRecord = {};\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/samplestoragelocation/getActiveSampleStorageVersion\",\r\n            { 'userinfo': userInfo, \"nsamplestorageversioncode\": inputParam.nsamplestorageversioncode })\r\n            .then(response => {\r\n               \r\n                masterData = {\r\n                    ...masterData\r\n                };\r\n                sortData(masterData);\r\n                selectedRecord[\"ssamplestoragelocationname\"] = response.data[\"selectedSampleStorageVersion\"][\"ssamplestoragelocationname\"]\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        treeData: JSON.parse(response.data[\"selectedSampleStorageVersion\"][\"jsondata\"].value).data,\r\n                        selectedRecord, openModal: true, operation: \"update\", loadTreeProperties: false\r\n\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const openPropertyModal = (clickedItem) => (dispatch) => {\r\n    let selectedRecord = {};\r\n    selectedRecord[\"locationlastnode\"] = clickedItem.item.locationlastnode === undefined ? false : clickedItem.item.locationlastnode;\r\n    selectedRecord[\"containerfirstnode\"] = clickedItem.item.containerfirstnode === undefined ? false : clickedItem.item.containerfirstnode;\r\n    selectedRecord[\"containerlastnode\"] = clickedItem.item.containerlastnode === undefined ? false : clickedItem.item.containerlastnode;\r\n    dispatch({\r\n        type: DEFAULT_RETURN,\r\n        payload: { selectedRecord, loadTreeProperties: true, openModal: true, clickedItem, operation: \"update\" }\r\n    });\r\n};"]},"metadata":{},"sourceType":"module"}