{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Row,Col,Card,Nav,FormGroup,FormLabel}from\"react-bootstrap\";import{connect}from\"react-redux\";import{toast}from\"react-toastify\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTrashAlt,faPencilAlt,faThumbsUp,faUserTimes,faCloudDownloadAlt,faCheckCircle,faEye}from'@fortawesome/free-solid-svg-icons';import{ReactComponent as ReportEdit}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/report-edit.svg\";import{injectIntl}from\"react-intl\";import{callService,crudMaster,validateEsignCredential,updateStore,changeProjectTypeFilter,filterColumnData,viewAttachment,addProjectMaster,ReportInfo,getProjectMaster,getProjectmasterAddMemberService,addProjectMasterFile,getuserComboServices,getClientByCategory,getQuotationByClient,closureProjectMaster,modalSave,projectMasterModal,getAvailableQuotation,validateEsignforModal,getActiveProjectQuotationById}from\"../../actions\";import ListMaster from\"../../components/list-master/list-master.component\";import{transactionStatus}from\"../../components/Enumeration\";import AddProjectMaster from\"../../pages/project/AddProjectMaster\";import ReportInfoProject from\"../../pages/project/ReportInfoProject\";import ProjectMasterTab from\"../../pages/project/ProjectMasterTab\";import ProjectMasterClosure from\"../../pages/project/ProjectMasterClosure\";import{DEFAULT_RETURN}from\"../../actions/LoginTypes\";import SlideOutModal from\"../../components/slide-out-modal/SlideOutModal\";import Esign from\"../audittrail/Esign\";import{showEsign,getControlMap,constructOptionList,formatInputDate,onDropAttachFileList,deleteAttachmentDropZone,create_UUID,rearrangeDateFormatDateOnly,Lims_JSON_stringify,replaceBackSlash}from\"../../components/CommonScript\";import{ReadOnlyText,ContentPanel}from\"../../components/App.styles\";import{process}from\"@progress/kendo-data-query\";import ConfirmMessage from\"../../components/confirm-alert/confirm-message.component\";import BreadcrumbComponent from\"../../components/Breadcrumb.Component\";import{Affix}from\"rsuite\";import ProjectMasterFilter from'./ProjectMasterFilter';import{ReactComponent as Closure}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/cancel-close-svgrepo-com.svg\";import{intl}from\"../../components/App\";import ModalShow from\"../../components/ModalShow\";import AddCompletionDate from\"../../pages/project/AddCompletionDate\";import ProjectMasterRetire from\"../../pages/project/ProjectMasterRetire\";import AddProjectInfoPreview from\"../../pages/project/AddProjectInfoPreview\";import ViewInfoDetails from\"../../components/ViewInfoDetails\";import{ReactComponent as RetireaQuotation}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/RetireaQuotation.svg\";var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var ProjectMaster=/*#__PURE__*/function(_Component){_inherits(ProjectMaster,_Component);var _super=_createSuper(ProjectMaster);function ProjectMaster(props){var _this;_classCallCheck(this,ProjectMaster);_this=_super.call(this,props);_this.sidebarExpandCollapse=function(){_this.setState({sidebarview:true});};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.onSaveModalClick=function(){if(_this.props.Login.masterData.SelectedProjectMaster&&_this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.APPROVED){var completeId=_this.state.controlMap.has(\"CompleteProjectMaster\")&&_this.state.controlMap.get(\"CompleteProjectMaster\").ncontrolcode;var retireId=_this.state.controlMap.has(\"RetireProjectMaster\")&&_this.state.controlMap.get(\"RetireProjectMaster\").ncontrolcode;var inputData=[];var inputParam=[];var projectMasterData=[];var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",primaryKeyValue:_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode,fetchUrl:\"projectmaster/getProjectMaster\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};if(_this.props.Login.screenName===\"IDS_PROJECTCOMPLETION\"){if(_this.state.selectedRecord[\"dprojectcompletiondate\"]){projectMasterData[\"dtransactiondate\"]=formatInputDate(_this.state.selectedRecord[\"dprojectcompletiondate\"],false);}projectMasterData[\"ntransdatetimezonecode\"]=_this.props.Login.userInfo.ntimezonecode?_this.props.Login.userInfo.ntimezonecode:\"-1\";inputParam={methodUrl:\"ProjectMaster\",classUrl:_this.props.Login.inputParam.classUrl,inputData:{\"userinfo\":_this.props.Login.userInfo,\"projectmaster\":_objectSpread(_objectSpread({},_this.props.Login.masterData.SelectedProjectMaster),{},{\"dtransactiondate\":projectMasterData[\"dtransactiondate\"],\"scompletionremarks\":_this.state.selectedRecord.scompletionremarks===undefined?\"\":_this.state.selectedRecord.scompletionremarks,\"ntransdatetimezonecode\":projectMasterData[\"ntransdatetimezonecode\"]})},operation:_this.props.Login.operation,modalShow:false,postParam:postParam,selectedRecord:_objectSpread({},_this.state.selectedRecord)};}// console.log(\"inputData\",inputData[\"projectmaster\"]);\nif(_this.props.Login.screenName===\"IDS_RETIREDPROJECT\"){if(_this.state.selectedRecord[\"dprojectretiredate\"]){projectMasterData[\"dtransactiondate\"]=formatInputDate(_this.state.selectedRecord[\"dprojectretiredate\"],false);}projectMasterData[\"ntransdatetimezonecode\"]=_this.props.Login.userInfo.ntimezonecode?_this.props.Login.userInfo.ntimezonecode:\"-1\";inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"ProjectMaster\",inputData:{\"userinfo\":_this.props.Login.userInfo,\"projectmaster\":_objectSpread(_objectSpread({},_this.props.Login.masterData.SelectedProjectMaster),{},{\"dtransactiondate\":projectMasterData[\"dtransactiondate\"],\"sretiredremarks\":_this.state.selectedRecord.sretiredremarks===undefined?\"\":_this.state.selectedRecord.sretiredremarks,\"ntransdatetimezonecode\":projectMasterData[\"ntransdatetimezonecode\"]})},operation:_this.props.Login.operation,postParam:postParam,isClearSearch:_this.props.Login.isClearSearch,selectedRecord:_objectSpread({},_this.state.selectedRecord),modalShow:false};}var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:_defineProperty({loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},operation:_this.props.Login.operation,// loadEsign: true, screenData: { inputParam, masterData },\nmodalShow:false,openModal:true,screenName:_this.props.Login.screenName===\"IDS_PROJECTCOMPLETION\"?\"IDS_PROJECTCOMPLETION\":\"IDS_RETIREDPROJECT\"},\"operation\",_this.props.Login.operation)};_this.props.updateStore(updateInfo);}else{_this.props.modalSave(inputParam,masterData);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}};_this.handleProjectMasterModal=function(selectedProjectMaster,modalShowdata,controId){//const completeId = this.state.controlMap.has(\"CompleteProjectMaster\") && this.state.controlMap.get(\"CompleteProjectMaster\").ncontrolcode;\n//  const editId = this.state.controlMap.has(\"EditProjectMaster\") && this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;\nif(selectedProjectMaster.ntransactionstatus===transactionStatus.APPROVED){if(modalShowdata===\"ProjectCompletion\"){var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:\"IDS_PROJECTCOMPLETION\",modalShow:true,operation:\"complete\",ncontrolCode:controId,selectedRecord:{\"dprojectcompletiondate\":new Date()}}};_this.props.updateStore(updateInfo);}else{var _updateInfo={typeName:DEFAULT_RETURN,data:{screenName:\"IDS_RETIREDPROJECT\",modalShow:true,operation:\"retire\",ncontrolCode:controId,selectedRecord:{\"dprojectretiredate\":new Date()}}};_this.props.updateStore(_updateInfo);}}else{toast.warn(intl.formatMessage({id:\"IDS_SELECTAPPROVEVERSION\"}));}};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){var projectMasterData=[];var inputParam={};projectMasterData[\"userinfo\"]=_this.props.Login.userInfo;var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\"};if(_this.props.Login.operation===\"update\"&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){postParam[\"primaryKeyValue\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;projectMasterData[\"projectMaster\"]={nprojectmastercode:_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode,//     nprojecttypecode:this.state.selectedRecord.nprojecttypecode.value,\nsprojecttitle:_this.state.selectedRecord.sprojecttitle,sprojectcode:_this.state.selectedRecord.sprojectcode,sprojectname:_this.state.selectedRecord.sprojectname,sprojectdescription:_this.state.selectedRecord.sprojectdescription,srfwid:_this.state.selectedRecord.srfwid,// drfwdate: formatInputDate(this.state.selectedRecord[\"drfwdate\"],false),\n// dprojectstartdate: formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false),\n//     nstudydirectorcode:this.state.selectedRecord.nstudydirectorcode.value,\n//     nteammembercode: this.state.selectedRecord.nteammembercode.value,\n//     nperiodcode: this.state.selectedRecord.nperiodcode.value,\nnprojectduration:_this.state.selectedRecord.nprojectduration,ntransactionstatus:_this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus};}else if(_this.props.Login.operation===\"create\"&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){projectMasterData[\"projectMaster\"]={nsitecode:_this.props.Login.userInfo.nmastersitecode,sprojecttitle:_this.state.selectedRecord.sprojecttitle,sprojectname:_this.state.selectedRecord.sprojectname,sprojectcode:_this.state.selectedRecord.sprojectcode===undefined?\"-\":_this.state.selectedRecord.sprojectcode,sprojectdescription:_this.state.selectedRecord.sprojectdescription===undefined?\"\":_this.state.selectedRecord.sprojectdescription,nprojectduration:parseInt(_this.state.selectedRecord.nprojectduration),//  ntransactionstatus: this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus\nntransactionstatus:transactionStatus.DRAFT,sfilename:_this.state.selectedRecord.sfilename===undefined?\"\":_this.state.selectedRecord.sfilename,sclosureremarks:_this.state.selectedRecord.sclosureremarks===undefined?\"\":_this.state.selectedRecord.sclosureremarks,sretiredremarks:_this.state.selectedRecord.sretiredremarks===undefined?\"\":_this.state.selectedRecord.sclosureremarks,scompletionremarks:_this.state.selectedRecord.scompletionremarks===undefined?\"\":_this.state.selectedRecord.scompletionremarks,srfwid:_this.state.selectedRecord.srfwid===undefined?\"\":_this.state.selectedRecord.srfwid};/*     this.projectMasterFieldList.map((item) => {\r\n             return (projectMasterData[\"projectMaster\"][item] = this.state.selectedRecord[item] == \"\" || this.state.selectedRecord[item] == undefined ?\r\n             undefined :this.state.selectedRecord[item]);\r\n           }); */}if((_this.props.Login.operation===\"create\"||_this.props.Login.operation===\"update\")&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){projectMasterData[\"projectMaster\"][\"nprojecttypecode\"]=_this.state.selectedRecord[\"nprojecttypecode\"]?_this.state.selectedRecord[\"nprojecttypecode\"].value:transactionStatus.NA;projectMasterData[\"projectMaster\"][\"nuserrolecode\"]=_this.state.selectedRecord[\"nuserrolecode\"]?_this.state.selectedRecord[\"nuserrolecode\"].value:transactionStatus.NA;projectMasterData[\"projectMaster\"][\"nusercode\"]=_this.state.selectedRecord[\"nusercode\"]?_this.state.selectedRecord[\"nusercode\"].value:transactionStatus.NA;// projectMasterData[\"projectMaster\"][\"nteammembercode\"] = this.state.selectedRecord[\"nteammembercode\"] ? this.state.selectedRecord[\"nteammembercode\"].value\n//   : transactionStatus.NA;\nprojectMasterData[\"projectMaster\"][\"nperiodcode\"]=_this.state.selectedRecord[\"nperiodcode\"]?_this.state.selectedRecord[\"nperiodcode\"].value:transactionStatus.NA;projectMasterData[\"projectMaster\"][\"nclientcatcode\"]=_this.state.selectedRecord[\"nperiodcode\"]?_this.state.selectedRecord[\"nclientcatcode\"].value:transactionStatus.NA;projectMasterData[\"projectMaster\"][\"nclientcode\"]=_this.state.selectedRecord[\"nclientcode\"]?_this.state.selectedRecord[\"nclientcode\"].value:transactionStatus.NA;projectMasterData[\"projectMaster\"][\"nquotationcode\"]=_this.state.selectedRecord[\"nquotationcode\"]?_this.state.selectedRecord[\"nquotationcode\"].value:transactionStatus.NA;projectMasterData[\"projectMaster\"][\"nautoprojectcode\"]=parseInt(_this.props.Login.settings[31])===transactionStatus.YES?transactionStatus.YES:transactionStatus.NO;// projectMasterData[\"projectMaster\"][\"needjsontemplate\"] = parseInt(this.props.Login.settings[29]) === transactionStatus.YES ? transactionStatus.YES : transactionStatus.NO;\n// if (this.state.selectedRecord[\"drfwdate\"] || this.state.selectedRecord[\"dprojectstartdate\"]) {\n//   if (this.props.Login.operation === \"create\") {\nif(_this.state.selectedRecord[\"drfwdate\"]){projectMasterData[\"projectMaster\"][\"drfwdate\"]=formatInputDate(_this.state.selectedRecord[\"drfwdate\"],false);}if(_this.state.selectedRecord[\"dexpectcompletiondate\"]){projectMasterData[\"projectMaster\"][\"dexpectcompletiondate\"]=formatInputDate(_this.state.selectedRecord[\"dexpectcompletiondate\"],false);}if(_this.state.selectedRecord[\"dprojectcompletiondate\"]){projectMasterData[\"projectMaster\"][\"dprojectcompletiondate\"]=formatInputDate(_this.state.selectedRecord[\"dprojectcompletiondate\"],false);}if(_this.state.selectedRecord[\"dretiredate\"]){projectMasterData[\"projectMaster\"][\"dprojectretiredate\"]=formatInputDate(_this.state.selectedRecord[\"dprojectretiredate\"],false);}if(_this.state.selectedRecord[\"dprojectclosuredate\"]){projectMasterData[\"projectMaster\"][\"dprojectclosuredate\"]=formatInputDate(_this.state.selectedRecord[\"dprojectclosuredate\"],false);}//projectMasterData[\"projectMaster\"][\"drfwdate\"] = this.state.selectedRecord[\"drfwdate\"]? formatInputDate(this.state.selectedRecord[\"drfwdate\"], false):\"\";\nprojectMasterData[\"projectMaster\"][\"dprojectstartdate\"]=formatInputDate(_this.state.selectedRecord[\"dprojectstartdate\"],false);projectMasterData[\"projectMaster\"][\"ntzrfwdate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";projectMasterData[\"projectMaster\"][\"ntzprojectstartdate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";projectMasterData[\"projectMaster\"][\"ntzrfwdate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";projectMasterData[\"projectMaster\"][\"ntzexpectcompletiondate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";projectMasterData[\"projectMaster\"][\"ntzprojectcompletiondate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";projectMasterData[\"projectMaster\"][\"ntzprojectretiredate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";projectMasterData[\"projectMaster\"][\"ntzprojectclosuredate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";//   }\n//   else {\n//     projectMasterData[\"projectMaster\"][\"drfwdate\"] = formatInputDate(this.state.selectedRecord[\"drfwdate\"],false);\n//     projectMasterData[\"projectMaster\"][\"dprojectstartdate\"] = formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false);\n//   }\n// }\n}if(_this.props.Login.operation===\"create\"&&_this.props.Login.screenName===\"IDS_ADDMEMBERS\"){projectMasterData[\"ProjectMember\"]={};projectMasterData[\"ProjectMember\"][\"nusercode\"]=_this.state.selectedRecord[\"nusercode\"][0]?_this.state.selectedRecord[\"nusercode\"][0].value:transactionStatus.NA;projectMasterData[\"ProjectMember\"][\"nprojectmastercode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;}if((_this.props.Login.operation===\"create\"||_this.props.Login.operation===\"update\")&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){inputParam={classUrl:\"projectmaster\",methodUrl:\"ProjectMaster\",inputData:projectMasterData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,postParam:postParam,searchRef:_this.searchRef,isClearSearch:_this.props.Login.isClearSearch,selectedRecord:_objectSpread({},_this.state.selectedRecord)};}/* else if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      inputParam = {\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMember\",\r\n        inputData: projectMasterData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n      }\r\n    } */ // if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_PROJECTCLOSURE\")) {\n//   inputParam = this.onSaveProjectMasterClosureFile(saveType, formRef);\n// }\nif(_this.props.Login.screenName===\"IDS_REPORTINFOPROJECT\"){inputParam=_this.onSaveReportInfoProject(saveType,formRef);}var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.onNumericInputOnChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.validateEsign=function(){var modalName;var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};if(_this.props.Login.screenName===\"IDS_PROJECTCOMPLETION\"||_this.props.Login.screenName===\"IDS_RETIREDPROJECT\"){_this.props.validateEsignforModal(inputParam);}else{_this.props.validateEsignCredential(inputParam,\"openModal\");}};_this.onSaveProjectMasterClosureFile=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var projectmasterclosureFile={};var projectmasterclosureFileArray=[];var formData=new FormData();var dtransactiondate=[];var tempData=Object.assign({},projectmasterclosureFile);var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\"};postParam[\"primaryKeyValue\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var uniquefilename=create_UUID()+'.'+fileExtension;tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"sfilename\"]=Lims_JSON_stringify(file.name?file.name:\"\",false);// tempData[\"sclosureremarks\"] =Lims_JSON_stringify(replaceBackSlash(selectedRecord.sclosureremarks ? selectedRecord.sclosureremarks.trim() : \"\"),false)  ;\nformData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);});}tempData[\"sclosureremarks\"]=Lims_JSON_stringify(replaceBackSlash(selectedRecord.sclosureremarks?selectedRecord.sclosureremarks.trim():\"\"),false);tempData[\"nprojectmastercode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;tempData[\"ntransactionstatus\"]=_this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus;tempData[\"nprojecttypecode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojecttypecode;tempData[\"sprojecttitle\"]=Lims_JSON_stringify(_this.props.Login.masterData.SelectedProjectMaster.sprojecttitle,false);tempData[\"sprojectcode\"]=Lims_JSON_stringify(_this.props.Login.masterData.SelectedProjectMaster.sprojectcode,false);tempData[\"ntransdatetimezonecode\"]=_this.props.Login.userInfo.ntimezonecode?_this.props.Login.userInfo.ntimezonecode:\"-1\";projectmasterclosureFileArray.push(tempData);dtransactiondate[\"dtransactiondate\"]=formatInputDate(_this.state.selectedRecord[\"dprojectclosuredate\"],false);// dtransactiondate[\"ntransdatetimezonecode\"] =  this.props.Login.userInfo.ntimezonecode ? this.props.Login.userInfo.ntimezonecode : \"-1\";\nformData.append(\"dtransactiondate\",dtransactiondate[\"dtransactiondate\"]);formData.append(\"ntransdatetimezonecode\",dtransactiondate[\"ntransdatetimezonecode\"]);formData.append(\"projectmaster\",JSON.stringify(projectmasterclosureFileArray[0]));formData.append(\"filecount\",acceptedFiles&&acceptedFiles.length);var closureId=_this.state.controlMap.has(\"ClosureProjectMaster\")&&_this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;var selectedId=null;// if (this.props.Login.operation === \"create\") {\n//   // edit\n//   postParam = { inputListName: \"ProjectMaster\", selectedObject: \"SelectedProjectMaster\", primaryKeyField: \"nprojectmastercode\",isSingleGet:true};\n//   selectedId = selectedRecord[\"nprojectmastercode\"];\n// }\nvar inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sformname:Lims_JSON_stringify(_this.props.Login.userInfo.sformname),smodulename:Lims_JSON_stringify(_this.props.Login.userInfo.smodulename),//ALPD-1826(while saving the file and link,audit trail is not captured the respective language)\nslanguagename:Lims_JSON_stringify(_this.props.Login.userInfo.slanguagename)})},formData:formData,isFileupload:true,operation:\"closure\",classUrl:\"projectmaster\",saveType:saveType,formRef:formRef,methodUrl:\"ProjectMasterFile\",postParam:postParam,searchRef:_this.searchRef,// openClosureModal:false,\nncontrolcode:closureId};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},screenName:\"IDS_PROJECTCLOSURE\",operation:_this.props.Login.operation}};_this.props.updateStore(updateInfo);}else{_this.props.closureProjectMaster(inputParam,masterData);}// return inputParam;\n};_this.DeleteProjectMaster=function(methodUrl,selectedProjectMaster,operation,ncontrolCode){var postParam={inputListName:\"ProjectMasterList\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",primaryKeyValue:selectedProjectMaster.nprojectmastercode,fetchUrl:\"projectmaster/getActiveProjectMasterById\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:methodUrl,postParam:postParam,inputData:{userinfo:_this.props.Login.userInfo,projectmaster:selectedProjectMaster},operation:operation,isClearSearch:_this.props.Login.isClearSearch,selectedRecord:_objectSpread({},_this.state.selectedRecord)};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROJECTMASTER\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"});};_this.onSaveReportInfoProject=function(saveType,formRef){var postParam=undefined;var inputData=[];var selectedRecord=_this.state.selectedRecord;postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\"};inputData[\"reportinfoproject\"]={};inputData[\"reportinfoproject\"][\"nprojectmastercode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;inputData[\"reportinfoproject\"][\"nprojecttypecode\"]=_this.props.Login.masterData.SelectedProjectType.nprojecttypecode;inputData[\"reportinfoproject\"][\"sreporttemplateversion\"]=selectedRecord.sreporttemplateversion;inputData[\"reportinfoproject\"][\"srevision\"]=selectedRecord.srevision;inputData[\"reportinfoproject\"][\"srevisionauthor\"]=selectedRecord.srevisionauthor;inputData[\"reportinfoproject\"][\"sintroduction\"]=selectedRecord.sintroduction;inputData[\"reportinfoproject\"][\"stestproductheadercomments\"]=selectedRecord.stestproductheadercomments;inputData[\"reportinfoproject\"][\"stestproductfootercomments1\"]=selectedRecord.stestproductfootercomments1;inputData[\"reportinfoproject\"][\"stestproductfootercomments2\"]=selectedRecord.stestproductfootercomments2;inputData[\"reportinfoproject\"][\"stestproductfootercomments3\"]=selectedRecord.stestproductfootercomments3;inputData[\"reportinfoproject\"][\"stestproductfootercomments4\"]=selectedRecord.stestproductfootercomments4;inputData[\"reportinfoproject\"][\"ssamplingdetails\"]=selectedRecord.ssamplingdetails;inputData[\"reportinfoproject\"][\"suncertainitymeasurement\"]=selectedRecord.suncertainitymeasurement;inputData[\"reportinfoproject\"][\"nreporttemplatecode\"]=_this.state.selectedRecord[\"nreporttemplatecode\"]?_this.state.selectedRecord[\"nreporttemplatecode\"].value:transactionStatus.NA;inputData[\"userinfo\"]=_this.props.Login.userInfo;var dataState=_this.state.dataState;var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"ReportInfoProject\",displayName:_this.props.Login.screenName,inputData:inputData,selectedId:_this.state.selectedRecord[\"nprojectmastercode\"],operation:\"update\",saveType:saveType,formRef:formRef,dataState:dataState,searchRef:_this.searchRef,postParam:postParam};return inputParam;// this.fieldprojectreportinfoList.map(item => {\n//     return inputData[\"projectreportinfo\"][item] = selectedRecord[item] !== null ? selectedRecord[item] : \"\";\n// })\n};_this.viewProjectMasterClosureFile=function(selectedProjectMaster,userInfo){var inputParam={inputData:{projectmasterclosurefile:selectedProjectMaster,userinfo:userInfo},classUrl:\"projectmaster\",operation:\"view\",methodUrl:\"AttachedProjectMasterClosureFile\",screenName:\"ProjectMaster Closure File\"};_this.props.viewAttachment(inputParam);};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:// const selectedRecord = this.state.selectedRecord || {};\nif(selectedRecord.nuserrolecode){if(parseInt(comboData.value)!==parseInt(selectedRecord.nuserrolecode.value)){// selectedRecord.nusercode={};\ndelete selectedRecord.nusercode;}}selectedRecord[fieldName]=comboData;selectedRecord[\"suserrolename\"]=comboData.item[\"suserrolename\"];_this.props.getuserComboServices({inputData:{userinfo:_this.props.Login.userInfo,sdisplayname:selectedRecord.nuserrolecode.label,primarykey:selectedRecord.nuserrolecode.value}},selectedRecord);// this.setState({ selectedRecord });\nbreak;case 2:// let nfilterProjectType = this.state.nfilterProjectType || {}\n// nfilterProjectType = comboData;\nvar selectedRecordfilter=_this.state.selectedRecordfilter||{};selectedRecordfilter[fieldName]=comboData;_this.setState({selectedRecordfilter:selectedRecordfilter});break;case 3:selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;case 4:if(selectedRecord.nclientcatcode){if(parseInt(comboData.value)!==parseInt(selectedRecord.nclientcatcode.value)){delete selectedRecord.nclientcode;if(selectedRecord.nquotationcode)delete selectedRecord.nquotationcode;}}selectedRecord[fieldName]=comboData;selectedRecord[\"sclientcatname\"]=comboData.item[\"sclientcatname\"];_this.props.getClientByCategory({inputData:{userinfo:_this.props.Login.userInfo,sdisplayname:selectedRecord.nclientcatcode.label,primarykey:selectedRecord.nclientcatcode.value}},selectedRecord);case 5:// if (selectedRecord.nclientcatcode) {\n//   if (this.props.Login.selec !== parseInt(selectedRecord.nclientcatcode.value)) {\n//   delete (selectedRecord.nclientcode);\n//     delete (selectedRecord.nquotationcode);\n//   }}\nif(selectedRecord.nclientcode){if(parseInt(comboData.value)!==parseInt(selectedRecord.nclientcode.value)){delete selectedRecord.nquotationcode;}}selectedRecord[fieldName]=comboData;selectedRecord[\"squotationno\"]=comboData.item[\"squotationno\"];_this.props.getQuotationByClient({inputData:{userinfo:_this.props.Login.userInfo,sdisplayname:selectedRecord.nclientcatcode.label,nclientcatcode:selectedRecord.nclientcatcode.value,nclientcode:parseInt(comboData.value)}},selectedRecord);default:break;}};_this.onDropProjectMasterFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"ntransactionstatus\")selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;// else if (event.target.name === \"nlockmode\")\n//     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\nelse selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.deleteProjectQuotation=function(deleteParam){var inputParam={classUrl:\"projectmaster\",methodUrl:\"ProjectQuotation\",//displayName: ,\ninputData:{\"ProjectQuotation\":deleteParam.selectedRecord,//.dataItem,\n\"nprojectquotationcode\":deleteParam.selectedRecord.nprojectquotationcode,\"userinfo\":_this.props.Login.userInfo},operation:\"delete\",selectedRecord:_objectSpread({},_this.state.selectedRecord)};if(_this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.DRAFT||_this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.APPROVED){if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openChildModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_QUOTATION\"}),operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTAPPROVEDRECORD\"}));}};_this.deleteProjectMember=function(deleteParam){var inputParam={classUrl:\"projectmaster\",methodUrl:\"ProjectMember\",//displayName: ,\ninputData:{\"projectmember\":deleteParam.selectedRecord,//.dataItem,\n\"nprojectmembercode\":deleteParam.selectedRecord.nprojectmembercode,\"userinfo\":_this.props.Login.userInfo},operation:\"delete\",selectedRecord:_objectSpread({},_this.state.selectedRecord)// priceDataState:this.state.priceDataState\n};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openChildModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_MEMBERS\"}),operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.onDropProjectMasterclosureFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.onNumericInputChange=function(value,name){console.log(\"value:\",value,name);var selectedRecord=_this.state.selectedRecord||{};if(name===\"nprojectduration\"){if(/^[0-9]+$/.test(value.target.value)||value.target.value===\"\"){selectedRecord[name]=value.target.value;}else{selectedRecord[name]=\"\";}}else{selectedRecord[name]=value;}_this.setState({selectedRecord:selectedRecord});};_this.approveProjectMaster=function(methodUrl,selectedProjectMaster,operation,ncontrolCode){if(selectedProjectMaster.ntransactionstatus===transactionStatus.DRAFT){var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",primaryKeyValue:selectedProjectMaster.nprojectmastercode,fetchUrl:\"projectmaster/getProjectMaster\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:methodUrl,postParam:postParam,inputData:{\"userinfo\":_this.props.Login.userInfo,\"projectmaster\":_objectSpread({},selectedProjectMaster),\"nautoprojectcode\":parseInt(_this.props.Login.settings[31])===transactionStatus.YES?transactionStatus.YES:transactionStatus.NO},operation:operation,isClearSearch:_this.props.Login.isClearSearch,selectedRecord:_objectSpread({},_this.state.selectedRecord)};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROJECTMASTER\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.onDropTestFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.state.data,event.dataState),dataState:event.dataState});};_this.historydataStateChange=function(event){_this.setState({dataResult:process(_this.state.data,event.historydataState),historydataState:event.historydataState});};_this.projectQuotationDataStateChange=function(event){_this.setState({dataResult:process(_this.state.data,event.projectQuotationDataState),projectQuotationDataState:event.projectQuotationDataState});};_this.ConfirmDelete=function(selectedProjectMaster,operation,deleteId,screenName){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.DeleteProjectMaster(screenName,selectedProjectMaster,operation,deleteId);});};_this.reloadData=function(){_this.searchRef.current.value=\"\";// if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\nif(_this.props.Login.masterData.SelectedProjectType!==undefined){if(Object.values(_this.props.Login.masterData.SelectedProjectType).length&&_this.props.Login.masterData.SelectedProjectType!==undefined){var inputParam={inputData:{// nprojecttypecode: this.state.selectedRecord.nprojecttypecode.value,\nnprojecttypecode:_this.props.Login.masterData.SelectedProjectType.nprojecttypecode,userinfo:_this.props.Login.userInfo,// nfilterProjectType: this.state.selectedRecord.nprojecttypecode,\nnfilterProjectType:_this.props.Login.masterData.SelectedProjectType},classUrl:\"projectmaster\",methodUrl:\"ProjectMasterByProjectType\"};_this.props.changeProjectTypeFilter(inputParam,_this.props.Login.masterData.filterProjectType);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PROJECTTYPENOTAVAILABLE\"}));}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;//let openClosureModal=this.props.Login.openClosureModal;\nvar selectedRecord=_this.state.selectedRecord;var modalShow=_this.props.Login.modalShow;;//    let selectedRecord = this.state.selectedRecord;\nif(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"approve\"){loadEsign=false;openModal=false;// if (this.props.Login.modalTitle === \"IDS_RETIREDPROJECT\" ||\n// this.props.Login.modalTitle === \"IDS_PROJECTCOMPLETION\") {\n// modalShow = true;\n// openModal = false;\n// openClosureModal = false}\n// openClosureModal=false;\nselectedRecord={};}else{loadEsign=false;if(_this.props.Login.screenName===\"IDS_RETIREDPROJECT\"||_this.props.Login.screenName===\"IDS_PROJECTCOMPLETION\"){modalShow=true;openModal=false;//openClosureModal = false\n}selectedRecord['esignpassword']='';selectedRecord['esigncomments']='';selectedRecord['esignreason']='';}}else{_this.props.Login.Client=[];_this.props.Login.QuotationNo=[];openModal=false;// openClosureModal=false;\nmodalShow=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,modalShow:modalShow,loadEsign:loadEsign,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.closeModalShow=function(){var loadEsign=_this.props.Login.loadEsign;var modalShow=_this.props.Login.modalShow;//let popUp = this.props.Login.popUp;\nvar selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){loadEsign=false;}else{modalShow=false;selectedRecord={};//popUp = undefined;\n}var updateInfo={typeName:DEFAULT_RETURN,data:{modalShow:modalShow,selectedRecord:selectedRecord,selectedId:null,loadEsign:loadEsign}};_this.props.updateStore(updateInfo);};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.ProjectMasterInfoPreview=function(viewId){var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:\"IDS_PROJECTINFO\",openModal:true,operation:\"view\",modalScreenSize:false,ncontrolcode:viewId}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){_this.searchRef.current.value=\"\";// if (this.state.nfilterProjectType.value) {\n// if (this.state.selectedRecord.nprojecttypecodevalue.value) {\n//if ((this.state.selectedRecord).length>0) {\n// if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\nif(_this.state.selectedRecordfilter.nprojecttypecodevalue!==undefined){if(Object.values(_this.state.selectedRecordfilter.nprojecttypecodevalue).length&&_this.state.selectedRecordfilter.nprojecttypecodevalue!==undefined){var inputParam={inputData:{nprojecttypecode:_this.state.selectedRecordfilter.nprojecttypecodevalue.value,userinfo:_this.props.Login.userInfo,// nfilterProjectType: this.state.nfilterProjectType,\nnfilterProjectType:_this.state.selectedRecordfilter.nprojecttypecodevalue},classUrl:\"projectmaster\",methodUrl:\"ProjectMasterByProjectType\"};_this.props.changeProjectTypeFilter(inputParam,_this.props.Login.masterData.filterProjectType);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PROJECTTYPENOTAVAILABLE\"}));}};var _dataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};var projectQuotationDataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],selectedProjectMaster:undefined,controlMap:new Map(),Instrument:[],dataState:_dataState,sidebarview:false,projectQuotationDataState:projectQuotationDataState};_this.searchRef=React.createRef();_this.searchFieldList=[\"sprojectcode\",\"sprojectname\",\"sprojecttitle\",\"suserrolename\",\"susername\",\"srfwdate\",\"sprojectstartdate\",\"sprojectdescription\",\"sversionstatus\",\"sfilename\",\"sclosureremarks\",\"sprojectduration\"];_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(ProjectMaster,[{key:\"render\",value:function render(){var _this2=this;var versionStatusCSS=\"outline-secondary\";var activeIconCSS=\"fa fa-check\";if(this.props.Login.masterData.SelectedProjectMaster&&this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.APPROVED){versionStatusCSS=\"outline-success\";}else if(this.props.Login.masterData.SelectedProjectMaster&&(this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.RETIRED||this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.CLOSED)){versionStatusCSS=\"outline-danger\";activeIconCSS=\"\";}else if(this.props.Login.masterData.SelectedProjectMaster&&this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.DRAFT){activeIconCSS=\"\";}if(this.props.Login.openModal){this.mandatoryFields=this.findMandatoryFields(this.props.Login.screenName,this.state.selectedRecord,this.props.Login.operation);}//console.log(\"master main\", this.props.Login.masterData);\n// let mandatoryFields = [];\nvar userInfo=this.props.Login.userInfo;var addId=this.state.controlMap.has(\"AddProjectMaster\")&&this.state.controlMap.get(\"AddProjectMaster\").ncontrolcode;var editId=this.state.controlMap.has(\"EditProjectMaster\")&&this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteProjectMaster\")&&this.state.controlMap.get(\"DeleteProjectMaster\").ncontrolcode;var approveId=this.state.controlMap.has(\"ApproveProjectMaster\")&&this.state.controlMap.get(\"ApproveProjectMaster\").ncontrolcode;var completeId=this.state.controlMap.has(\"CompleteProjectMaster\")&&this.state.controlMap.get(\"CompleteProjectMaster\").ncontrolcode;var viewId=this.state.controlMap.has(\"ViewProjectMaster\")&&this.state.controlMap.get(\"ViewProjectMaster\").ncontrolcode;// const addteammembersId = this.state.controlMap.has(\"AddTeamMembers\") && this.state.controlMap.get(\"AddTeamMembers\").ncontrolcode;\nvar retireId=this.state.controlMap.has(\"RetireProjectMaster\")&&this.state.controlMap.get(\"RetireProjectMaster\").ncontrolcode;var closureId=this.state.controlMap.has(\"ClosureProjectMaster\")&&this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;// const deleteteammembersId = this.state.controlMap.has(\"DeleteTeammembers\") && this.state.controlMap.get(\"DeleteTeammembers\").ncontrolcode;\nvar viewClosureFileId=this.state.controlMap.has(\"ViewProjectMasterClosureFile\")&&this.state.controlMap.get(\"ViewProjectMasterClosureFile\").ncontrolcode;var reportdetailId=this.state.controlMap.has(\"ReportInfoProject\")&&this.state.controlMap.get(\"ReportInfoProject\").ncontrolcode;var fieldsForGrid=[{\"idsName\":\"IDS_LOGINID\",\"dataField\":\"sloginid\",\"width\":\"200px\"},{\"idsName\":\"IDS_USER\",\"dataField\":\"steammembername\",\"width\":\"200px\"}];var SelectedProjectMaster=this.props.Login.masterData.SelectedProjectMaster;var selectedMaster=this.props.Login.masterData.SelectedProjectMaster;var selectedProjectMaster=this.props.Login.masterData.SelectedProjectMaster;var filterParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",fetchUrl:\"projectmaster/getActiveProjectMasterById\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var breadCrumbData=this.state.filterData||[];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.props.sidebarview?'4':\"2\")},/*#__PURE__*/React.createElement(ListMaster,{screenName:this.props.intl.formatMessage({id:\"IDS_PROJECTMASTER\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.ProjectMaster,getMasterDetail:function getMasterDetail(ProjectMasterdata){return _this2.props.getProjectMaster(ProjectMasterdata,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:selectedProjectMaster,primaryKeyField:\"nprojectmastercode\",mainField:\"sprojecttitle\",firstField:\"sprojectcode\",secondField:\"sversionstatus\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,searchRef:this.searchRef,reloadData:this.reloadData//     openModal={() => this.props.addProjectMaster(\"create\", SelectedProjectMaster, userInfo, addId, this.state.ProjectMasterList)}\n,openModal:function openModal(){return _this2.props.addProjectMaster(\"create\",SelectedProjectMaster,userInfo,addId,_this2.state.selectedRecordfilter,_this2.props.Login.masterData.SelectedProjectType);},isMultiSelecct:false,hidePaging:false,isClearSearch:this.props.Login.isClearSearch,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,showFilterIcon:true,showFilter:this.props.Login.showFilter,filterComponent:[{\"IDS_PROJECTMASTERFILTER\":/*#__PURE__*/React.createElement(ProjectMasterFilter,{filterProjectType:this.state.ProjectMasterList||[],nfilterProjectType:this.props.Login.masterData.SelectedProjectType||{},onComboChange:this.onComboChange,selectedRecord:this.state.selectedRecordfilter||{}})}]})),/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.props.sidebarview?'8':\"10\"),className:\"position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-view-btn-block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-view-btn \",onClick:this.props.parentFunction},!this.props.sidebarview?/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-less-than\"}):/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-greater-than\"}))),selectedProjectMaster?/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},selectedProjectMaster.sprojecttitle),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(versionStatusCSS,\" btn-sm ml-3\")},/*#__PURE__*/React.createElement(\"i\",{class:activeIconCSS}),selectedProjectMaster.sversionstatus)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(ViewInfoDetails,{userInfo:this.props.Login.userInfo,selectedObject:this.props.Login.masterData.SelectedProjectMaster,screenHiddenDetails:this.state.userRoleControlRights.indexOf(editId)===-1,screenName:this.props.Login.screenName,dataTip:this.props.intl.formatMessage({id:\"IDS_VIEW\"})// hidden={(this.state.userRoleControlRights.indexOf(viewClosureFileId) === -1) ? true : this.props.Login.masterData.SelectedProjectMaster&& this.props.Login.masterData.SelectedProjectMaster.sfilename&&this.props.Login.masterData.SelectedProjectMaster.sfilename==='-'? true : false}\n// downLoadIcon={this.props.Login.masterData.SelectedProjectMaster&& this.props.Login.masterData.SelectedProjectMaster.sfilename&&this.props.Login.masterData.SelectedProjectMaster.sfilename!='-'? true : false}\n,rowList:[[{dataField:\"sprojecttitle\",idsName:\"IDS_PROJECTTITLE\"},{dataField:\"sprojectcode\",idsName:\"IDS_PROJECTCODE\"}],[{dataField:\"sprojectname\",idsName:\"IDS_CLIENT\"},{dataField:\"suserrolename\",idsName:\"IDS_ROLE\"}],[{dataField:\"susername\",idsName:\"IDS_INCHARGE\"},{dataField:\"srfwdate\",idsName:\"IDS_RFWDATE\"}],[{dataField:\"sprojectstartdate\",idsName:\"IDS_STARTDATE\"},{dataField:\"sexpectcompletiondate\",idsName:\"IDS_EXPECTEDPROJECTCOMPLETIONDATE\"}],[{dataField:\"sclientcatname\",idsName:\"IDS_CLIENTCATEGORY\"},{dataField:\"sclientname\",idsName:\"IDS_CLIENT\"}],//ALPD-4468\n// [\n//   {dataField:\"squotationno\", idsName:\"IDS_QUOTATIONNO\"},\n//   {dataField:\"srfwid\", idsName:\"IDS_RFWID\"}\n// ],\n[{dataField:\"sprojectduration\",idsName:\"IDS_PROJECTDURATION\"},{dataField:\"sprojectdescription\",idsName:\"IDS_PROJECTDESCRIPTION\"}],[{dataField:\"sfilename\",idsName:\"IDS_CLOSUREFILENAME\"},{hidden:this.props.Login.masterData.SelectedProjectMaster&&this.props.Login.masterData.SelectedProjectMaster.sfilename&&this.props.Login.masterData.SelectedProjectMaster.sfilename!='-'&&this.state.userRoleControlRights.indexOf(viewClosureFileId)!==-1?false:true,onClick:this.viewProjectMasterClosureFile}]]}),parseInt(this.props.Login.settings[34])===transactionStatus.YES?/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",name:\"reportdetailstestname\",hidden:this.state.userRoleControlRights.indexOf(reportdetailId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REPORTINFOPROJECT\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(e){return _this2.props.ReportInfo(\"IDS_REPORTINFOPROJECT\",\"\",\"nprojectmastercode\",_this2.props.Login.masterData,_this2.props.Login.userInfo,reportdetailId,_this2.props.Login.settings[34]);}},/*#__PURE__*/React.createElement(ReportEdit,{className:\"custom_icons\",width:\"20\",height:\"20\"})):\"\",/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",name:\"edittestname\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.props.addProjectMaster(\"update\",selectedProjectMaster,userInfo,editId,_this2.state.selectedRecordfilter,addProjectMaster);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",name:\"deletetestname\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})//   data-for=\"tooltip_list_wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this2.ConfirmDelete(selectedProjectMaster,\"delete\",deleteId,\"ProjectMaster\");}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"approveProjectMaster\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.approveProjectMaster(\"ProjectMaster\",selectedProjectMaster,\"approve\",approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"completeProjectMaster\",hidden:this.state.userRoleControlRights.indexOf(completeId)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_COMPLETE\"}),onClick:function onClick(){return _this2.props.projectMasterModal(selectedProjectMaster,\"complete\",\"IDS_PROJECTCOMPLETION\",completeId,\"dprojectcompletiondate\",_this2.props.Login.userInfo);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCheckCircle})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"retireProjectMaster\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(retireId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_RETIRE\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.props.projectMasterModal(selectedProjectMaster,\"retire\",\"IDS_RETIREDPROJECT\",retireId,\"dprojectretiredate\",_this2.props.Login.userInfo);}},/*#__PURE__*/React.createElement(RetireaQuotation,null)),/*#__PURE__*/React.createElement(Nav.Link,{name:\"ClosureProjectMaster\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(closureId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_CLOSE\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.props.projectMasterModal(selectedProjectMaster,\"closure\",\"IDS_PROJECTCLOSURE\",closureId,\"dprojectclosuredate\",_this2.props.Login.userInfo);}},/*#__PURE__*/React.createElement(Closure,{className:\"custom_icons\",width:\"17\",height:\"20\"})))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap\"},/*#__PURE__*/React.createElement(Card,{className:\"at-tabs border-0\"},/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ProjectMasterTab,{primaryKeyField:\"nprojectmembercode\"// data={this.props.Login.masterData.ProjectMember}\n,data:this.state.data// dataResult={this.props.Login.masterData.ProjectMember}\n,projectMasterHistorydata:this.props.Login.masterData.ProjectMasterHistory,projectMasterdataResult:this.props.Login.masterData.ProjectMasterHistory,dataResult:this.state.dataResult,masterData:this.props.Login.masterData,screenName:this.props.Login.screenName,operation:this.props.Login.operation,openChildModal:this.props.Login.openChildModal,crudMaster:this.props.crudMaster,errorCode:this.props.Login.errorCode,validateEsignCredential:this.props.validateEsignCredential,loadEsign:this.props.Login.loadEsign,showAccordian:this.state.showAccordian,selectedRecord:this.state.selectedRecord||{}// dataState={{skip: 0, take: 10}}\n//dataState={this.props.Login.dataState}\n,dataState:this.state.dataState,dataStateChange:this.dataStateChange,extractedColumnList:fieldsForGrid,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo//    getProjectmasterAddMemberService={(this.props.Login.screenName,this.props.Login.operation,this.props.getProjectmasterAddMemberService,this.props.Login.userInfo,this.props.Login.ncontrolCode)}\n,getProjectmasterAddMemberService:this.props.getProjectmasterAddMemberService// --   fetchRecord={this.props.getPricingEditService}\n//--       editParam={{...editTestPriceParam, \"updateType\":\"Single\", priceDataState:this.state.priceDataState}}\n,deleteRecord:this.deleteProjectMember//  deleteParam={{operation:\"delete\"}}\n,methodUrl:\"Teammembers\"// reloadData={this.reloadData}\n// --      addRecord = {() => this.openModal(addId)}\n,pageable:true,onTabChange:this.onTabChange,updateStore:this.props.updateStore,scrollable:'scrollable'// gridHeight = {'600px'}\n,isActionRequired:true,isToolBarRequired:false,selectedId:this.props.Login.selectedId,viewAttachment:this.props.viewAttachment,MembersList:this.props.Login.MembersList,onComboChange:this.onComboChange// File\n,addProjectMasterFile:this.props.addProjectMasterFile,esignRights:this.props.Login.userRoleControlRights,ntransactionstatus:selectedProjectMaster.ntransactionstatus//  selectedRecord={this.props.Login.selectedRecord}\n,onDropProjectMasterFile:this.onDropProjectMasterFile,onInputOnChange:this.onInputOnChange,screenData:this.props.Login.screenData,deleteAttachment:this.deleteAttachment,ncontrolCode:this.props.Login.ncontrolCode,linkMaster:this.props.Login.linkMaster,historydataStateChange:this.historydataStateChange//ALPD-3566 Start\n,getAvailableQuotation:this.props.getAvailableQuotation,ProjectQuotationList:this.props.Login.ProjectQuotationList,projectQuotationdataResult:this.props.Login.masterData.ProjectQuotation,projectQuotationdata:this.props.Login.masterData.ProjectQuotation,projectQuotationDataState:this.state.projectQuotationDataState,projectQuotationDataStateChange:this.projectQuotationDataStateChange,deleteProjectQuotation:this.deleteProjectQuotation,getActiveProjectQuotationById:this.props.getActiveProjectQuotationById//ALPD-3566 End\n}))))))):\"\"))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal//size={this.props.Login.operation===\"create\" ? \"xl\" : \"lg\" }\n,closeModal:this.closeModal,hideSave:this.props.Login.screenName===\"IDS_PROJECTINFO\"?true:false,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.props.Login.screenName===\"IDS_PROJECTCLOSURE\"?this.onSaveProjectMasterClosureFile:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.mandatoryFields||[],addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_PROJECTMASTER\"?/*#__PURE__*/React.createElement(AddProjectMaster,{userInfo:this.props.Login.userInfo,selectedRecord:this.state.selectedRecord||{},ProjectType:this.props.Login.ProjectType,onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange// onNumericInputOnChange={this.onNumericInputOnChange}\n,onNumericInputChange:this.onNumericInputChange,handleDateChange:this.handleDateChange,Userrole:this.props.Login.Userrole,Users:this.props.Login.userList,TeamMembers:this.props.Login.TeamMembers,PeriodByControl:this.props.Login.PeriodByControl,settings:this.props.Login.settings,ClientCategory:this.props.Login.ClientCategory,Client:this.props.Login.Client,QuotationNo:this.props.Login.QuotationNo}):this.props.Login.screenName===\"IDS_REPORTINFOPROJECT\"?/*#__PURE__*/React.createElement(ReportInfoProject,{userInfo:this.props.Login.userInfo,selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,onNumericInputChange:this.onNumericInputChange,reportTemplateList:this.props.Login.reportTemplateList,settings:this.props.Login.settings}):this.props.Login.screenName===\"IDS_PROJECTCLOSURE\"?/*#__PURE__*/React.createElement(ProjectMasterClosure,{handleDateChange:this.handleDateChange,userInfo:this.props.Login.userInfo,selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onDrop:this.onDropProjectMasterclosureFile,onDropAccepted:this.onDropAccepted,deleteAttachment:this.deleteAttachment,actionType:this.state.actionType,onComboChange:this.onComboChange,linkMaster:this.props.linkMaster,editFiles:this.props.editFiles,maxSize:20,maxFiles:1,multiple:false,label:this.props.intl.formatMessage({id:\"IDS_FILENAME\"}),name:\"projectmasterclosurefilename\"}):this.props.Login.screenName===\"IDS_PROJECTINFO\"?/*#__PURE__*/React.createElement(AddProjectInfoPreview,{selectedProjectMaster:this.props.Login.masterData.SelectedProjectMaster,userInfo:this.props.Login.userInfo,viewProjectMasterClosureFile:this.viewProjectMasterClosureFile,userRoleControlRights:this.state.userRoleControlRights,viewClosureFileId:viewClosureFileId}):\"Parent\"}),this.props.Login.modalShow?/*#__PURE__*/React.createElement(ModalShow,{modalShow:this.props.Login.modalShow,closeModal:this.closeModalShow,onSaveClick:this.onSaveModalClick,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},modalTitle:this.props.Login.screenName,modalBody:this.props.Login.screenName===\"IDS_PROJECTCOMPLETION\"?/*#__PURE__*/React.createElement(AddCompletionDate,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,handleDateChange:this.handleDateChange,userInfo:this.props.Login.userInfo,esign:this.props.Login.loadEsign,currentTime:this.props.Login.currentTime,TimeZoneList:this.props.Login.TimeZoneList}):/*#__PURE__*/React.createElement(ProjectMasterRetire,{selectedRecord:this.state.selectedRecord||{},TimeZoneList:this.props.Login.TimeZoneList,onInputOnChange:this.onInputOnChange,handleDateChange:this.handleDateChange,userInfo:this.props.Login.userInfo//onComboChange={this.onComboChange}\n//currentTime={this.props.Login.currentTime}\n})}):\"\");}},{key:\"findMandatoryFields\",value:function findMandatoryFields(screenName,selectedRecord,operation){var mandatoryFields=[];if(screenName===\"IDS_PROJECTMASTER\"){mandatoryFields=[{\"idsName\":\"IDS_PROJECTTYPE\",\"dataField\":\"nprojecttypecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PROJECTTITLE\",\"dataField\":\"sprojecttitle\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_PROJECTNAME\",\"dataField\":\"sprojectname\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_ROLE\",\"dataField\":\"nuserrolecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_INCHARGE\",\"dataField\":\"nusercode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},//{ \"idsName\": \"IDS_RFWDATE\", \"dataField\": \"drfwdate\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\n{\"idsName\":\"IDS_STARTDATE\",\"dataField\":\"dprojectstartdate\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PROJECTDURATION\",\"dataField\":\"nprojectduration\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_DURATIONPERIOD\",\"dataField\":\"nperiodcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_CLIENTCATEGORY\",\"dataField\":\"nclientcatcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_CLIENT\",\"dataField\":\"nclientcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];mandatoryFields.forEach(function(item){return item.mandatory===true&&mandatoryFields.push(item);});if(parseInt(this.props.Login.settings[31])!=3)mandatoryFields.push({\"idsName\":\"IDS_PROJECTCODE\",\"dataField\":\"sprojectcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});return mandatoryFields;}else if(screenName===\"IDS_PROJECTCLOSURE\"){mandatoryFields=[//{ \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\n// { \"idsName\": \"IDS_REASONFORCLOSURE\", \"dataField\": \"sclosureremarks\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textarea\" },\n{\"idsName\":\"IDS_CLOSUREDATE\",\"dataField\":\"dprojectclosuredate\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"}];mandatoryFields.forEach(function(item){return item.mandatory===true&&mandatoryFields.push(item);});return mandatoryFields;}else if(screenName===\"IDS_REPORTINFOPROJECT\"){mandatoryFields=[{\"idsName\":\"IDS_REPORTTEMPLATEVERSION\",\"dataField\":\"sreporttemplateversion\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_REVISION\",\"dataField\":\"srevision\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_REVISIONAUTHOR\",\"dataField\":\"srevisionauthor\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_INTRODUCTION\",\"dataField\":\"sintroduction\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_TESTPRODUCTHEADERCOMMENTS\",\"dataField\":\"stestproductheadercomments\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_TESTPRODUCTFOOTERCOMMENTS1\",\"dataField\":\"stestproductfootercomments1\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_TESTPRODUCTFOOTERCOMMENTS2\",\"dataField\":\"stestproductfootercomments2\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_TESTPRODUCTFOOTERCOMMENTS3\",\"dataField\":\"stestproductfootercomments3\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_TESTPRODUCTFOOTERCOMMENTS4\",\"dataField\":\"stestproductfootercomments4\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_SAMPLINGDETAILS\",\"dataField\":\"ssamplingdetails\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_UNCERTAINITYOFMEASUREMENT\",\"dataField\":\"suncertainitymeasurement\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}// {\"idsName\": \"IDS_REPORTTEMPLATE\", \"dataField\": \"nreporttemplatecode\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\n];return mandatoryFields;}else if(screenName===\"IDS_RETIREDPROJECT\"){mandatoryFields=[{\"idsName\":\"IDS_RETIREDATE\",\"dataField\":\"dprojectretiredate\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"}];}else if(screenName===\"IDS_PROJECTCOMPLETION\"){mandatoryFields=[{\"idsName\":\"IDS_PROJECTCOMPLETEDDATE\",\"dataField\":\"dprojectcompletiondate\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"}];}else{return[];}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,selectedRecord=_this$state.selectedRecord,selectedRecordfilter=_this$state.selectedRecordfilter,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,filterData=_this$state.filterData,nfilterProjectType=_this$state.nfilterProjectType,filterProjectType=_this$state.filterProjectType;if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;this.setState({selectedRecord:selectedRecord,selectedRecordfilter:selectedRecordfilter});}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights,data:this.props.Login.masterData.ProjectMember,dataResult:process(this.props.Login.masterData.ProjectMember||[],this.state.dataState)});//   updateState = true;\n}var nprojecttypecode=this.state.nfilterProjectType||{};if(this.props.Login.masterData!==previousProps.Login.masterData){nfilterProjectType=this.state.nfilterProjectType||{};var _filterProjectType=constructOptionList(this.props.Login.masterData.filterProjectType||[],\"nprojecttypecode\",\"sprojecttypename\",undefined,undefined,undefined);var ProjectMasterList=_filterProjectType.get(\"OptionList\");nprojecttypecode=ProjectMasterList[0];//ALPD-3524\nif(this.props.Login.masterData.filterProjectType!==previousProps.Login.masterData.filterProjectType){selectedRecordfilter={nprojecttypecodevalue:nprojecttypecode};}selectedRecord={nprojecttypecodevalue:nprojecttypecode};// nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\nthis.setState({ProjectMasterList:ProjectMasterList,selectedRecordfilter:selectedRecordfilter,selectedRecord:selectedRecord,data:this.props.Login.masterData.ProjectMember,dataState:{skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5},dataResult:process(this.props.Login.masterData.ProjectMember||[],{skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5})});if(this.props.Login.masterData.SelectedProjectType&&this.props.Login.masterData.SelectedProjectType!==previousProps.Login.masterData.SelectedProjectType){nfilterProjectType={label:this.props.Login.masterData.SelectedProjectType.sprojecttypename,value:this.props.Login.masterData.SelectedProjectType.nprojecttypecode,item:this.props.Login.masterData.SelectedProjectType};}//  selectedRecordfilter = {nprojecttypecodevalue:nfilterProjectType}\nfilterData=this.generateBreadCrumData();updateState=true;this.setState({filterData:filterData,selectedRecordfilter:selectedRecordfilter});}if(this.props.Login.masterData.SelectedProjectType!==previousProps.Login.masterData.SelectedProjectType){var nprojecttypecodevalue=this.props.Login.masterData.SelectedProjectType?{label:this.props.Login.masterData.SelectedProjectType.sprojecttypename,value:this.props.Login.masterData.SelectedProjectType.nprojecttypecode,item:this.props.Login.masterData.SelectedProjectType}:\"\";//  nprojecttypecode=ProjectMasterList[ProjectMasterList.length-1];\nselectedRecordfilter={nprojecttypecodevalue:nprojecttypecodevalue};selectedRecord={nprojecttypecodevalue:nprojecttypecode};// nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\nthis.setState({selectedRecordfilter:selectedRecordfilter,selectedRecord:selectedRecord});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.SelectedProjectType){breadCrumbData.push({label:\"IDS_PROJECTTYPE\",value:this.props.Login.masterData.SelectedProjectType?this.props.Login.masterData.SelectedProjectType.sprojecttypename:\"NA\"});}else if(this.props.Login.masterData&&this.props.Login.masterData.SelectedProjectMaster){/*    breadCrumbData.push({\r\n            label: \"IDS_PROJECTTYPE\",\r\n            value: this.state.selectedRecord.nprojecttypecode\r\n              ? this.state.selectedRecord.nprojecttypecode.label\r\n              : \"NA\",\r\n          }); */breadCrumbData.push({label:\"IDS_PROJECTTYPE\",value:this.props.Login.masterData.SelectedProjectMaster?this.props.Login.masterData.SelectedProjectMaster.sprojecttypename:\"NA\"});}else{/*       breadCrumbData.push({\r\n             label: \"IDS_PROJECTTYPE\",\r\n             value:  this.state.selectedRecord.nprojecttypecodevalue\r\n               ? this.state.selectedRecord.nprojecttypecodevalue.label\r\n               : \"NA\",\r\n           }); */breadCrumbData.push({label:\"IDS_PROJECTTYPE\",value:this.props.Login.masterData.nfilterProjectType?this.props.Login.masterData.nfilterProjectType.label:\"NA\"});}return breadCrumbData;}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return ProjectMaster;}(Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,filterColumnData:filterColumnData,updateStore:updateStore,validateEsignCredential:validateEsignCredential,changeProjectTypeFilter:changeProjectTypeFilter,viewAttachment:viewAttachment,addProjectMaster:addProjectMaster,ReportInfo:ReportInfo,getProjectMaster:getProjectMaster,getProjectmasterAddMemberService:getProjectmasterAddMemberService,addProjectMasterFile:addProjectMasterFile,getuserComboServices:getuserComboServices,getClientByCategory:getClientByCategory,getQuotationByClient:getQuotationByClient,closureProjectMaster:closureProjectMaster,modalSave:modalSave,validateEsignforModal:validateEsignforModal,projectMasterModal:projectMasterModal,getAvailableQuotation:getAvailableQuotation,getActiveProjectQuotationById:getActiveProjectQuotationById})(injectIntl(ProjectMaster));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/project/ProjectMaster.jsx"],"names":["React","Component","Row","Col","Card","Nav","FormGroup","FormLabel","connect","toast","FontAwesomeIcon","faTrashAlt","faPencilAlt","faThumbsUp","faUserTimes","faCloudDownloadAlt","faCheckCircle","faEye","injectIntl","callService","crudMaster","validateEsignCredential","updateStore","changeProjectTypeFilter","filterColumnData","viewAttachment","addProjectMaster","ReportInfo","getProjectMaster","getProjectmasterAddMemberService","addProjectMasterFile","getuserComboServices","getClientByCategory","getQuotationByClient","closureProjectMaster","modalSave","projectMasterModal","getAvailableQuotation","validateEsignforModal","getActiveProjectQuotationById","ListMaster","transactionStatus","AddProjectMaster","ReportInfoProject","ProjectMasterTab","ProjectMasterClosure","DEFAULT_RETURN","SlideOutModal","Esign","showEsign","getControlMap","constructOptionList","formatInputDate","onDropAttachFileList","deleteAttachmentDropZone","create_UUID","rearrangeDateFormatDateOnly","Lims_JSON_stringify","replaceBackSlash","ReadOnlyText","ContentPanel","process","ConfirmMessage","BreadcrumbComponent","Affix","ProjectMasterFilter","intl","ModalShow","AddCompletionDate","ProjectMasterRetire","AddProjectInfoPreview","ViewInfoDetails","mapStateToProps","state","Login","ProjectMaster","props","sidebarExpandCollapse","setState","sidebarview","handleDateChange","dateName","dateValue","selectedRecord","onSaveModalClick","masterData","SelectedProjectMaster","ntransactionstatus","APPROVED","completeId","controlMap","has","get","ncontrolcode","retireId","inputData","inputParam","projectMasterData","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","nprojectmastercode","fetchUrl","fecthInputObject","userinfo","userInfo","screenName","ntimezonecode","methodUrl","classUrl","scompletionremarks","undefined","operation","modalShow","sretiredremarks","isClearSearch","userRoleControlRights","nformcode","ncontrolCode","updateInfo","typeName","data","loadEsign","screenData","openModal","warn","formatMessage","id","handleProjectMasterModal","selectedProjectMaster","modalShowdata","controId","Date","onInputOnChange","event","optional","target","type","name","checked","value","onSaveClick","saveType","formRef","sprojecttitle","sprojectcode","sprojectname","sprojectdescription","srfwid","nprojectduration","nsitecode","nmastersitecode","parseInt","DRAFT","sfilename","sclosureremarks","NA","settings","YES","NO","searchRef","onSaveReportInfoProject","onNumericInputOnChange","validateEsign","modalName","sreason","nreasoncode","spredefinedreason","label","password","onSaveProjectMasterClosureFile","acceptedFiles","projectmasterclosureFile","projectmasterclosureFileArray","formData","FormData","dtransactiondate","tempData","Object","assign","Array","isArray","length","forEach","file","index","splittedFileName","split","fileExtension","uniquefilename","append","trim","nprojecttypecode","push","JSON","stringify","closureId","selectedId","sformname","smodulename","slanguagename","isFileupload","DeleteProjectMaster","projectmaster","deleteAttachment","fieldName","actionType","SelectedProjectType","sreporttemplateversion","srevision","srevisionauthor","sintroduction","stestproductheadercomments","stestproductfootercomments1","stestproductfootercomments2","stestproductfootercomments3","stestproductfootercomments4","ssamplingdetails","suncertainitymeasurement","dataState","displayName","viewProjectMasterClosureFile","projectmasterclosurefile","onComboChange","comboData","caseNo","nuserrolecode","nusercode","item","sdisplayname","primarykey","selectedRecordfilter","nclientcatcode","nclientcode","nquotationcode","onDropProjectMasterFile","attachedFiles","maxSize","ACTIVE","DEACTIVE","deleteProjectQuotation","deleteParam","nprojectquotationcode","openChildModal","deleteProjectMember","nprojectmembercode","onDropProjectMasterclosureFile","onNumericInputChange","console","log","test","approveProjectMaster","onTabChange","tabProps","onDropTestFile","dataStateChange","dataResult","historydataStateChange","historydataState","projectQuotationDataStateChange","projectQuotationDataState","ConfirmDelete","deleteId","confirmMessage","confirm","reloadData","current","values","nfilterProjectType","filterProjectType","closeModal","Client","QuotationNo","closeModalShow","openFilter","showFilter","closeFilter","ProjectMasterInfoPreview","viewId","modalScreenSize","onFilterSubmit","nprojecttypecodevalue","skip","take","error","Map","Instrument","createRef","searchFieldList","versionStatusCSS","activeIconCSS","RETIRED","CLOSED","mandatoryFields","findMandatoryFields","addId","editId","approveId","viewClosureFileId","reportdetailId","fieldsForGrid","selectedMaster","filterParam","breadCrumbData","filterData","searchedData","ProjectMasterdata","ProjectMasterList","parentFunction","sversionstatus","indexOf","dataField","idsName","hidden","onClick","e","ProjectMasterHistory","errorCode","showAccordian","MembersList","linkMaster","ProjectQuotationList","ProjectQuotation","ProjectType","Userrole","userList","TeamMembers","PeriodByControl","ClientCategory","reportTemplateList","onDropAccepted","editFiles","masterStatus","currentTime","TimeZoneList","mandatory","previousProps","updateState","map","ProjectMember","sprojecttypename","generateBreadCrumData"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrashAlt, faPencilAlt, faThumbsUp, faUserTimes, faCloudDownloadAlt, faCheckCircle, faEye } from '@fortawesome/free-solid-svg-icons';\r\nimport { ReactComponent as ReportEdit } from '../../assets/image/report-edit.svg';\r\n\r\nimport { injectIntl } from \"react-intl\";\r\nimport {\r\n  callService, crudMaster, validateEsignCredential, updateStore, changeProjectTypeFilter, filterColumnData,\r\n  viewAttachment, addProjectMaster, ReportInfo, getProjectMaster, getProjectmasterAddMemberService, addProjectMasterFile, getuserComboServices,\r\n  getClientByCategory, getQuotationByClient, closureProjectMaster, modalSave, projectMasterModal,getAvailableQuotation,\r\n  validateEsignforModal,getActiveProjectQuotationById\r\n} from \"../../actions\";\r\n\r\nimport ListMaster from \"../../components/list-master/list-master.component\";\r\nimport { transactionStatus } from \"../../components/Enumeration\";\r\nimport AddProjectMaster from \"../../pages/project/AddProjectMaster\";\r\nimport ReportInfoProject from \"../../pages/project/ReportInfoProject\";\r\nimport ProjectMasterTab from \"../../pages/project/ProjectMasterTab\";\r\nimport ProjectMasterClosure from \"../../pages/project/ProjectMasterClosure\";\r\nimport { DEFAULT_RETURN } from \"../../actions/LoginTypes\";\r\nimport SlideOutModal from \"../../components/slide-out-modal/SlideOutModal\";\r\n\r\nimport Esign from \"../audittrail/Esign\";\r\nimport { showEsign, getControlMap, constructOptionList, formatInputDate, onDropAttachFileList, deleteAttachmentDropZone, create_UUID, rearrangeDateFormatDateOnly, Lims_JSON_stringify, replaceBackSlash }\r\n  from \"../../components/CommonScript\";\r\nimport { ReadOnlyText, ContentPanel } from \"../../components/App.styles\";\r\nimport { process } from \"@progress/kendo-data-query\";\r\nimport ConfirmMessage from \"../../components/confirm-alert/confirm-message.component\";\r\nimport BreadcrumbComponent from \"../../components/Breadcrumb.Component\";\r\nimport { Affix } from \"rsuite\";\r\nimport ProjectMasterFilter from './ProjectMasterFilter';\r\nimport { ReactComponent as Closure } from '../../assets/image/cancel-close-svgrepo-com.svg';\r\nimport { intl } from \"../../components/App\";\r\nimport ModalShow from \"../../components/ModalShow\";\r\nimport AddCompletionDate from \"../../pages/project/AddCompletionDate\";\r\nimport ProjectMasterRetire from \"../../pages/project/ProjectMasterRetire\";\r\nimport AddProjectInfoPreview from \"../../pages/project/AddProjectInfoPreview\";\r\nimport ViewInfoDetails from \"../../components/ViewInfoDetails\";\r\nimport {ReactComponent as RetireaQuotation} from '../../assets/image/RetireaQuotation.svg';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { Login: state.Login };\r\n};\r\n\r\nclass ProjectMaster extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const dataState = {\r\n      skip: 0,\r\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n    };\r\n    const projectQuotationDataState = {\r\n      skip: 0,\r\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n    };\r\n    this.state = {\r\n      selectedRecord: {},\r\n      error: \"\",\r\n      userRoleControlRights: [],\r\n      selectedProjectMaster: undefined,\r\n      controlMap: new Map(),\r\n      Instrument: [],\r\n      dataState,\r\n      sidebarview: false,\r\n      projectQuotationDataState\r\n    };\r\n    this.searchRef = React.createRef();\r\n    this.searchFieldList = [\"sprojectcode\", \"sprojectname\", \"sprojecttitle\", \"suserrolename\", \"susername\", \"srfwdate\", \"sprojectstartdate\", \"sprojectdescription\", \"sversionstatus\", \"sfilename\", \"sclosureremarks\", \"sprojectduration\"]\r\n    this.confirmMessage = new ConfirmMessage();\r\n  }\r\n  sidebarExpandCollapse = () => {\r\n    this.setState({\r\n      sidebarview: true\r\n    })\r\n  }\r\n\r\n  handleDateChange = (dateName, dateValue) => {\r\n    const { selectedRecord } = this.state;\r\n    selectedRecord[dateName] = dateValue;\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n\r\n  onSaveModalClick = () => {\r\n    if (this.props.Login.masterData.SelectedProjectMaster && this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.APPROVED) {\r\n      const completeId = this.state.controlMap.has(\"CompleteProjectMaster\") && this.state.controlMap.get(\"CompleteProjectMaster\").ncontrolcode;\r\n      const retireId = this.state.controlMap.has(\"RetireProjectMaster\") && this.state.controlMap.get(\"RetireProjectMaster\").ncontrolcode;\r\n\r\n      let inputData = [];\r\n      let inputParam = [];\r\n      let projectMasterData = [];\r\n\r\n      const postParam = {\r\n        inputListName: \"ProjectMaster\",\r\n        selectedObject: \"SelectedProjectMaster\",\r\n        primaryKeyField: \"nprojectmastercode\",\r\n        primaryKeyValue: this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode,\r\n        fetchUrl: \"projectmaster/getProjectMaster\",\r\n        fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      };\r\n\r\n      if (this.props.Login.screenName === \"IDS_PROJECTCOMPLETION\") {\r\n        if (this.state.selectedRecord[\"dprojectcompletiondate\"]) {\r\n          projectMasterData[\"dtransactiondate\"] = formatInputDate(this.state.selectedRecord[\"dprojectcompletiondate\"], false);\r\n        }\r\n        projectMasterData[\"ntransdatetimezonecode\"] = this.props.Login.userInfo.ntimezonecode ? this.props.Login.userInfo.ntimezonecode : \"-1\";\r\n\r\n        inputParam = {\r\n          methodUrl: \"ProjectMaster\",\r\n          classUrl: this.props.Login.inputParam.classUrl,\r\n          inputData: {\r\n            \"userinfo\": this.props.Login.userInfo,\r\n            \"projectmaster\": { ...this.props.Login.masterData.SelectedProjectMaster, \"dtransactiondate\": projectMasterData[\"dtransactiondate\"], \"scompletionremarks\": this.state.selectedRecord.scompletionremarks === undefined ? \"\" : this.state.selectedRecord.scompletionremarks, \"ntransdatetimezonecode\": projectMasterData[\"ntransdatetimezonecode\"] }\r\n          },\r\n          operation: this.props.Login.operation,\r\n          modalShow: false, postParam,\r\n          selectedRecord: { ...this.state.selectedRecord }\r\n        }\r\n\r\n\r\n      }\r\n\r\n\r\n      // console.log(\"inputData\",inputData[\"projectmaster\"]);\r\n\r\n\r\n      if (this.props.Login.screenName === \"IDS_RETIREDPROJECT\") {\r\n        if (this.state.selectedRecord[\"dprojectretiredate\"]) {\r\n          projectMasterData[\"dtransactiondate\"] = formatInputDate(this.state.selectedRecord[\"dprojectretiredate\"], false);\r\n        }\r\n        projectMasterData[\"ntransdatetimezonecode\"] = this.props.Login.userInfo.ntimezonecode ? this.props.Login.userInfo.ntimezonecode : \"-1\";\r\n\r\n        inputParam = {\r\n          classUrl: this.props.Login.inputParam.classUrl,\r\n          methodUrl: \"ProjectMaster\",\r\n          inputData: {\r\n            \"userinfo\": this.props.Login.userInfo,\r\n            \"projectmaster\": { ...this.props.Login.masterData.SelectedProjectMaster, \"dtransactiondate\": projectMasterData[\"dtransactiondate\"], \"sretiredremarks\": this.state.selectedRecord.sretiredremarks === undefined ? \"\" : this.state.selectedRecord.sretiredremarks, \"ntransdatetimezonecode\": projectMasterData[\"ntransdatetimezonecode\"] }\r\n          },\r\n          operation: this.props.Login.operation, postParam,\r\n          isClearSearch: this.props.Login.isClearSearch,\r\n          selectedRecord: { ...this.state.selectedRecord },\r\n          modalShow: false\r\n        }\r\n      }\r\n\r\n\r\n\r\n      const masterData = this.props.Login.masterData;\r\n\r\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true, screenData: { inputParam, masterData },\r\n            operation: this.props.Login.operation,\r\n            // loadEsign: true, screenData: { inputParam, masterData },\r\n            modalShow: false,\r\n            openModal: true, screenName: this.props.Login.screenName === \"IDS_PROJECTCOMPLETION\" ? \"IDS_PROJECTCOMPLETION\" : \"IDS_RETIREDPROJECT\", operation: this.props.Login.operation,\r\n          }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n      }\r\n      else {\r\n        this.props.modalSave(inputParam, masterData);\r\n      }\r\n    }\r\n    else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }));\r\n    }\r\n\r\n  };\r\n\r\n\r\n\r\n\r\n  handleProjectMasterModal = (selectedProjectMaster, modalShowdata, controId) => {\r\n\r\n    //const completeId = this.state.controlMap.has(\"CompleteProjectMaster\") && this.state.controlMap.get(\"CompleteProjectMaster\").ncontrolcode;\r\n    //  const editId = this.state.controlMap.has(\"EditProjectMaster\") && this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;\r\n\r\n\r\n    if (selectedProjectMaster.ntransactionstatus === transactionStatus.APPROVED) {\r\n\r\n      if (modalShowdata === \"ProjectCompletion\") {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            screenName: \"IDS_PROJECTCOMPLETION\",\r\n            modalShow: true,\r\n            operation: \"complete\",\r\n            ncontrolCode: controId,\r\n            selectedRecord: {\r\n              \"dprojectcompletiondate\": new Date()\r\n            }\r\n          },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n\r\n      }\r\n      else {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            screenName: \"IDS_RETIREDPROJECT\",\r\n            modalShow: true,\r\n            operation: \"retire\",\r\n            ncontrolCode: controId,\r\n            selectedRecord: {\r\n              \"dprojectretiredate\": new Date()\r\n            }\r\n          },\r\n\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n\r\n\r\n      }\r\n    } else {\r\n\r\n      toast.warn(intl.formatMessage({ id: \"IDS_SELECTAPPROVEVERSION\" }));\r\n\r\n    }\r\n\r\n  };\r\n\r\n\r\n  onInputOnChange = (event, optional) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (event.target.type === \"checkbox\") {\r\n      selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n    } else if (event.target.type === 'radio') {\r\n      selectedRecord[event.target.name] = optional;\r\n    } else {\r\n      selectedRecord[event.target.name] = event.target.value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n\r\n  onSaveClick = (saveType, formRef) => {\r\n\r\n    let projectMasterData = [];\r\n    let inputParam = {};\r\n    projectMasterData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n\r\n    let postParam = {\r\n      inputListName: \"ProjectMaster\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n\r\n    };\r\n\r\n    if ((this.props.Login.operation === \"update\") && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      postParam[\"primaryKeyValue\"] =\r\n        this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n\r\n      projectMasterData[\"projectMaster\"] = {\r\n        nprojectmastercode: this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode,\r\n        //     nprojecttypecode:this.state.selectedRecord.nprojecttypecode.value,\r\n        sprojecttitle: this.state.selectedRecord.sprojecttitle,\r\n        sprojectcode: this.state.selectedRecord.sprojectcode,\r\n        sprojectname: this.state.selectedRecord.sprojectname,\r\n        sprojectdescription: this.state.selectedRecord.sprojectdescription,\r\n        srfwid: this.state.selectedRecord.srfwid,\r\n\r\n        // drfwdate: formatInputDate(this.state.selectedRecord[\"drfwdate\"],false),\r\n        // dprojectstartdate: formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false),\r\n        //     nstudydirectorcode:this.state.selectedRecord.nstudydirectorcode.value,\r\n        //     nteammembercode: this.state.selectedRecord.nteammembercode.value,\r\n        //     nperiodcode: this.state.selectedRecord.nperiodcode.value,\r\n        nprojectduration: this.state.selectedRecord.nprojectduration,\r\n        ntransactionstatus: this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus,\r\n\r\n\r\n      };\r\n\r\n    } else if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      projectMasterData[\"projectMaster\"] = {\r\n\r\n        nsitecode: this.props.Login.userInfo.nmastersitecode,\r\n        sprojecttitle: this.state.selectedRecord.sprojecttitle,\r\n        sprojectname: this.state.selectedRecord.sprojectname,\r\n        sprojectcode: this.state.selectedRecord.sprojectcode === undefined ? \"-\" : this.state.selectedRecord.sprojectcode,\r\n        sprojectdescription: this.state.selectedRecord.sprojectdescription === undefined ? \"\" : this.state.selectedRecord.sprojectdescription,\r\n        nprojectduration: parseInt(this.state.selectedRecord.nprojectduration),\r\n        //  ntransactionstatus: this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus\r\n        ntransactionstatus: transactionStatus.DRAFT,\r\n        sfilename: this.state.selectedRecord.sfilename === undefined ? \"\" : this.state.selectedRecord.sfilename,\r\n        sclosureremarks: this.state.selectedRecord.sclosureremarks === undefined ? \"\" : this.state.selectedRecord.sclosureremarks,\r\n        sretiredremarks: this.state.selectedRecord.sretiredremarks === undefined ? \"\" : this.state.selectedRecord.sclosureremarks,\r\n        scompletionremarks: this.state.selectedRecord.scompletionremarks === undefined ? \"\" : this.state.selectedRecord.scompletionremarks,\r\n        srfwid: this.state.selectedRecord.srfwid === undefined ? \"\" : this.state.selectedRecord.srfwid,\r\n\r\n      };\r\n\r\n      /*     this.projectMasterFieldList.map((item) => {\r\n             return (projectMasterData[\"projectMaster\"][item] = this.state.selectedRecord[item] == \"\" || this.state.selectedRecord[item] == undefined ?\r\n             undefined :this.state.selectedRecord[item]);\r\n           }); */\r\n    }\r\n\r\n    if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      projectMasterData[\"projectMaster\"][\"nprojecttypecode\"] = this.state.selectedRecord[\"nprojecttypecode\"] ? this.state.selectedRecord[\"nprojecttypecode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nuserrolecode\"] = this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nusercode\"] = this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      // projectMasterData[\"projectMaster\"][\"nteammembercode\"] = this.state.selectedRecord[\"nteammembercode\"] ? this.state.selectedRecord[\"nteammembercode\"].value\r\n      //   : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nperiodcode\"] = this.state.selectedRecord[\"nperiodcode\"] ? this.state.selectedRecord[\"nperiodcode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nclientcatcode\"] = this.state.selectedRecord[\"nperiodcode\"] ? this.state.selectedRecord[\"nclientcatcode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nclientcode\"] = this.state.selectedRecord[\"nclientcode\"] ? this.state.selectedRecord[\"nclientcode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nquotationcode\"] = this.state.selectedRecord[\"nquotationcode\"] ? this.state.selectedRecord[\"nquotationcode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nautoprojectcode\"] = parseInt(this.props.Login.settings[31]) === transactionStatus.YES ? transactionStatus.YES : transactionStatus.NO;\r\n     // projectMasterData[\"projectMaster\"][\"needjsontemplate\"] = parseInt(this.props.Login.settings[29]) === transactionStatus.YES ? transactionStatus.YES : transactionStatus.NO;\r\n\r\n\r\n      // if (this.state.selectedRecord[\"drfwdate\"] || this.state.selectedRecord[\"dprojectstartdate\"]) {\r\n      //   if (this.props.Login.operation === \"create\") {\r\n\r\n      if (this.state.selectedRecord[\"drfwdate\"]) {\r\n        projectMasterData[\"projectMaster\"][\"drfwdate\"] = formatInputDate(this.state.selectedRecord[\"drfwdate\"], false);\r\n\r\n      }\r\n\r\n      if (this.state.selectedRecord[\"dexpectcompletiondate\"]) {\r\n        projectMasterData[\"projectMaster\"][\"dexpectcompletiondate\"] = formatInputDate(this.state.selectedRecord[\"dexpectcompletiondate\"], false);\r\n      }\r\n      if (this.state.selectedRecord[\"dprojectcompletiondate\"]) {\r\n        projectMasterData[\"projectMaster\"][\"dprojectcompletiondate\"] = formatInputDate(this.state.selectedRecord[\"dprojectcompletiondate\"], false);\r\n      }\r\n      if (this.state.selectedRecord[\"dretiredate\"]) {\r\n        projectMasterData[\"projectMaster\"][\"dprojectretiredate\"] = formatInputDate(this.state.selectedRecord[\"dprojectretiredate\"], false);\r\n      }\r\n      if (this.state.selectedRecord[\"dprojectclosuredate\"]) {\r\n        projectMasterData[\"projectMaster\"][\"dprojectclosuredate\"] = formatInputDate(this.state.selectedRecord[\"dprojectclosuredate\"], false);\r\n      }\r\n\r\n      //projectMasterData[\"projectMaster\"][\"drfwdate\"] = this.state.selectedRecord[\"drfwdate\"]? formatInputDate(this.state.selectedRecord[\"drfwdate\"], false):\"\";\r\n      projectMasterData[\"projectMaster\"][\"dprojectstartdate\"] = formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"], false);\r\n      projectMasterData[\"projectMaster\"][\"ntzrfwdate\"] = projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n      projectMasterData[\"projectMaster\"][\"ntzprojectstartdate\"] = projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n\r\n      projectMasterData[\"projectMaster\"][\"ntzrfwdate\"] = projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n      projectMasterData[\"projectMaster\"][\"ntzexpectcompletiondate\"] = projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n      projectMasterData[\"projectMaster\"][\"ntzprojectcompletiondate\"] = projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n      projectMasterData[\"projectMaster\"][\"ntzprojectretiredate\"] = projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n      projectMasterData[\"projectMaster\"][\"ntzprojectclosuredate\"] = projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n\r\n      //   }\r\n      //   else {\r\n\r\n      //     projectMasterData[\"projectMaster\"][\"drfwdate\"] = formatInputDate(this.state.selectedRecord[\"drfwdate\"],false);\r\n      //     projectMasterData[\"projectMaster\"][\"dprojectstartdate\"] = formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false);\r\n\r\n      //   }\r\n      // }\r\n    }\r\n\r\n    if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_ADDMEMBERS\")) {\r\n      projectMasterData[\"ProjectMember\"] = {};\r\n      projectMasterData[\"ProjectMember\"][\"nusercode\"] = this.state.selectedRecord[\"nusercode\"][0] ? this.state.selectedRecord[\"nusercode\"][0].value\r\n        : transactionStatus.NA;\r\n      projectMasterData[\"ProjectMember\"][\"nprojectmastercode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n    }\r\n\r\n\r\n\r\n    if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      inputParam = {\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMaster\",\r\n        inputData: projectMasterData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n        selectedRecord: { ...this.state.selectedRecord }\r\n\r\n      };\r\n    }/* else if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      inputParam = {\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMember\",\r\n        inputData: projectMasterData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n      }\r\n    } */\r\n\r\n    // if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_PROJECTCLOSURE\")) {\r\n\r\n    //   inputParam = this.onSaveProjectMasterClosureFile(saveType, formRef);\r\n\r\n    // }\r\n\r\n    if (\r\n      //(this.props.Login.operation === \"update\") &&\r\n      (this.props.Login.screenName === \"IDS_REPORTINFOPROJECT\")) {\r\n      inputParam = this.onSaveReportInfoProject(saveType, formRef);\r\n\r\n    }\r\n\r\n    const masterData = this.props.Login.masterData;\r\n\r\n    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true,\r\n          screenData: { inputParam, masterData },\r\n          saveType,\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n      this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n    }\r\n\r\n  };\r\n\r\n  onNumericInputOnChange = (value, name) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[name] = value;\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (props.Login.masterStatus !== \"\") {\r\n      if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n        toast.warn(props.Login.masterStatus);\r\n        props.Login.masterStatus = \"\";\r\n      }\r\n    }\r\n    if (props.Login.error !== state.error) {\r\n      toast.error(props.Login.error);\r\n      props.Login.error = \"\";\r\n    }\r\n    if (props.Login.selectedRecord === undefined) {\r\n      return { selectedRecord: {} };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  validateEsign = () => {\r\n    let modalName;\r\n    const inputParam = {\r\n      inputData: {\r\n        \"userinfo\": {\r\n          ...this.props.Login.userInfo,\r\n          sreason: this.state.selectedRecord[\"esigncomments\"],\r\n          nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n          spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n        },\r\n        password: this.state.selectedRecord[\"esignpassword\"]\r\n      },\r\n      screenData: this.props.Login.screenData\r\n    }\r\n    if ((this.props.Login.screenName === \"IDS_PROJECTCOMPLETION\" || this.props.Login.screenName === \"IDS_RETIREDPROJECT\")) {\r\n      this.props.validateEsignforModal(inputParam);\r\n\r\n    } else {\r\n      this.props.validateEsignCredential(inputParam, \"openModal\");\r\n\r\n    }\r\n  }\r\n\r\n\r\n  onSaveProjectMasterClosureFile = (saveType, formRef) => {\r\n\r\n    const selectedRecord = this.state.selectedRecord;\r\n    const acceptedFiles = selectedRecord.sfilename;\r\n\r\n    let projectmasterclosureFile = {};\r\n    let projectmasterclosureFileArray = [];\r\n\r\n    const formData = new FormData();\r\n    const dtransactiondate = [];\r\n    const tempData = Object.assign({}, projectmasterclosureFile);\r\n    let postParam = {\r\n      inputListName: \"ProjectMaster\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n\r\n    };\r\n    postParam[\"primaryKeyValue\"] = this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n\r\n    if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n      acceptedFiles.forEach((file, index) => {\r\n\r\n        const splittedFileName = file.name.split('.');\r\n        const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n        const uniquefilename = create_UUID() + '.' + fileExtension;\r\n        tempData[\"ssystemfilename\"] = uniquefilename;\r\n        tempData[\"sfilename\"] = Lims_JSON_stringify(file.name ? file.name : \"\", false);\r\n        // tempData[\"sclosureremarks\"] =Lims_JSON_stringify(replaceBackSlash(selectedRecord.sclosureremarks ? selectedRecord.sclosureremarks.trim() : \"\"),false)  ;\r\n\r\n        formData.append(\"uploadedFile\" + index, file);\r\n        formData.append(\"uniquefilename\" + index, uniquefilename);\r\n\r\n\r\n      });\r\n    }\r\n    tempData[\"sclosureremarks\"] = Lims_JSON_stringify(replaceBackSlash(selectedRecord.sclosureremarks ? selectedRecord.sclosureremarks.trim() : \"\"), false);\r\n\r\n    tempData[\"nprojectmastercode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n    tempData[\"ntransactionstatus\"] = this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus;\r\n    tempData[\"nprojecttypecode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojecttypecode;\r\n    tempData[\"sprojecttitle\"] = Lims_JSON_stringify(this.props.Login.masterData.SelectedProjectMaster.sprojecttitle, false);\r\n    tempData[\"sprojectcode\"] = Lims_JSON_stringify(this.props.Login.masterData.SelectedProjectMaster.sprojectcode, false);\r\n    tempData[\"ntransdatetimezonecode\"] = this.props.Login.userInfo.ntimezonecode ? this.props.Login.userInfo.ntimezonecode : \"-1\";\r\n\r\n    projectmasterclosureFileArray.push(tempData);\r\n\r\n\r\n\r\n    dtransactiondate[\"dtransactiondate\"] = formatInputDate(this.state.selectedRecord[\"dprojectclosuredate\"], false);\r\n\r\n    // dtransactiondate[\"ntransdatetimezonecode\"] =  this.props.Login.userInfo.ntimezonecode ? this.props.Login.userInfo.ntimezonecode : \"-1\";\r\n\r\n    formData.append(\"dtransactiondate\", dtransactiondate[\"dtransactiondate\"]);\r\n\r\n    formData.append(\"ntransdatetimezonecode\", dtransactiondate[\"ntransdatetimezonecode\"]);\r\n\r\n    formData.append(\"projectmaster\", JSON.stringify(projectmasterclosureFileArray[0]));\r\n    formData.append(\"filecount\", acceptedFiles && acceptedFiles.length);\r\n\r\n\r\n    const closureId = this.state.controlMap.has(\"ClosureProjectMaster\") && this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;\r\n\r\n    let selectedId = null;\r\n\r\n\r\n    // if (this.props.Login.operation === \"create\") {\r\n    //   // edit\r\n    //   postParam = { inputListName: \"ProjectMaster\", selectedObject: \"SelectedProjectMaster\", primaryKeyField: \"nprojectmastercode\",isSingleGet:true};\r\n    //   selectedId = selectedRecord[\"nprojectmastercode\"];\r\n    // }\r\n    const inputParam = {\r\n      inputData: {\r\n        \"userinfo\": {\r\n          ...this.props.Login.userInfo,\r\n          sformname: Lims_JSON_stringify(this.props.Login.userInfo.sformname),\r\n          smodulename: Lims_JSON_stringify(this.props.Login.userInfo.smodulename),\r\n          //ALPD-1826(while saving the file and link,audit trail is not captured the respective language)\r\n          slanguagename: Lims_JSON_stringify(this.props.Login.userInfo.slanguagename)\r\n        }\r\n      },\r\n      formData: formData,\r\n\r\n      isFileupload: true,\r\n      operation: \"closure\",\r\n      classUrl: \"projectmaster\",\r\n      saveType, formRef, methodUrl: \"ProjectMasterFile\", postParam,\r\n      searchRef: this.searchRef,\r\n      // openClosureModal:false,\r\n      ncontrolcode: closureId\r\n    }\r\n\r\n    const masterData = this.props.Login.masterData;\r\n\r\n    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true, screenData: { inputParam, masterData },\r\n          screenName: \"IDS_PROJECTCLOSURE\", operation: this.props.Login.operation\r\n        }\r\n      }\r\n      this.props.updateStore(updateInfo);\r\n\r\n    } else {\r\n      this.props.closureProjectMaster(inputParam, masterData);\r\n    }\r\n\r\n    // return inputParam;\r\n  }\r\n\r\n  DeleteProjectMaster = (methodUrl, selectedProjectMaster, operation, ncontrolCode) => {\r\n    const postParam = {\r\n      inputListName: \"ProjectMasterList\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n      primaryKeyValue: selectedProjectMaster.nprojectmastercode,\r\n      fetchUrl: \"projectmaster/getActiveProjectMasterById\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n    };\r\n\r\n    const inputParam = {\r\n      classUrl: this.props.Login.inputParam.classUrl,\r\n      methodUrl,\r\n      postParam,\r\n      inputData: {\r\n        userinfo: this.props.Login.userInfo,\r\n        projectmaster: selectedProjectMaster,\r\n      },\r\n      operation,\r\n      isClearSearch: this.props.Login.isClearSearch,\r\n      selectedRecord: { ...this.state.selectedRecord }\r\n\r\n    };\r\n\r\n    const masterData = this.props.Login.masterData;\r\n\r\n    if (\r\n      showEsign(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode,\r\n        ncontrolCode\r\n      )\r\n    ) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true,\r\n          screenData: { inputParam, masterData },\r\n          openModal: true,\r\n          screenName: \"IDS_PROJECTMASTER\",\r\n          operation,\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n      this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n    }\r\n  };\r\n\r\n  deleteAttachment = (event, file, fieldName) => {\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = deleteAttachmentDropZone(\r\n      selectedRecord[fieldName],\r\n      file\r\n    );\r\n\r\n    this.setState({\r\n      selectedRecord,\r\n      actionType: \"delete\",\r\n    });\r\n  };\r\n\r\n  onSaveReportInfoProject = (saveType, formRef) => {\r\n    let postParam = undefined;\r\n    let inputData = [];\r\n    const selectedRecord = this.state.selectedRecord;\r\n    postParam = {\r\n      inputListName: \"ProjectMaster\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n    };\r\n    inputData[\"reportinfoproject\"] = {};\r\n    inputData[\"reportinfoproject\"][\"nprojectmastercode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n    inputData[\"reportinfoproject\"][\"nprojecttypecode\"] = this.props.Login.masterData.SelectedProjectType.nprojecttypecode;\r\n    inputData[\"reportinfoproject\"][\"sreporttemplateversion\"] = selectedRecord.sreporttemplateversion;\r\n    inputData[\"reportinfoproject\"][\"srevision\"] = selectedRecord.srevision;\r\n    inputData[\"reportinfoproject\"][\"srevisionauthor\"] = selectedRecord.srevisionauthor;\r\n    inputData[\"reportinfoproject\"][\"sintroduction\"] = selectedRecord.sintroduction;\r\n    inputData[\"reportinfoproject\"][\"stestproductheadercomments\"] = selectedRecord.stestproductheadercomments;\r\n    inputData[\"reportinfoproject\"][\"stestproductfootercomments1\"] = selectedRecord.stestproductfootercomments1;\r\n    inputData[\"reportinfoproject\"][\"stestproductfootercomments2\"] = selectedRecord.stestproductfootercomments2;\r\n    inputData[\"reportinfoproject\"][\"stestproductfootercomments3\"] = selectedRecord.stestproductfootercomments3;\r\n    inputData[\"reportinfoproject\"][\"stestproductfootercomments4\"] = selectedRecord.stestproductfootercomments4;\r\n    inputData[\"reportinfoproject\"][\"ssamplingdetails\"] = selectedRecord.ssamplingdetails;\r\n    inputData[\"reportinfoproject\"][\"suncertainitymeasurement\"] = selectedRecord.suncertainitymeasurement;\r\n    inputData[\"reportinfoproject\"][\"nreporttemplatecode\"] = this.state.selectedRecord[\"nreporttemplatecode\"] ? this.state.selectedRecord[\"nreporttemplatecode\"].value\r\n      : transactionStatus.NA;\r\n    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    let dataState = this.state.dataState;\r\n\r\n\r\n    const inputParam = {\r\n      classUrl: this.props.Login.inputParam.classUrl,\r\n      methodUrl: \"ReportInfoProject\",\r\n      displayName: this.props.Login.screenName,\r\n      inputData: inputData,\r\n      selectedId: this.state.selectedRecord[\"nprojectmastercode\"],\r\n      operation: \"update\", saveType, formRef, dataState,\r\n      searchRef: this.searchRef,\r\n      postParam: postParam\r\n    }\r\n    return inputParam;\r\n\r\n\r\n    // this.fieldprojectreportinfoList.map(item => {\r\n    //     return inputData[\"projectreportinfo\"][item] = selectedRecord[item] !== null ? selectedRecord[item] : \"\";\r\n    // })\r\n  }\r\n\r\n  render() {\r\n\r\n\r\n    let versionStatusCSS = \"outline-secondary\";\r\n    let activeIconCSS = \"fa fa-check\"\r\n\r\n\r\n    if (this.props.Login.masterData.SelectedProjectMaster && this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.APPROVED) {\r\n      versionStatusCSS = \"outline-success\";\r\n    }\r\n    else if (this.props.Login.masterData.SelectedProjectMaster && ((this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.RETIRED) || (this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.CLOSED))) {\r\n      versionStatusCSS = \"outline-danger\";\r\n      activeIconCSS = \"\";\r\n    }\r\n    else if (this.props.Login.masterData.SelectedProjectMaster && this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.DRAFT) {\r\n      activeIconCSS = \"\";\r\n\r\n    }\r\n\r\n    if (this.props.Login.openModal) {\r\n      this.mandatoryFields = this.findMandatoryFields(this.props.Login.screenName, this.state.selectedRecord, this.props.Login.operation)\r\n    }\r\n\r\n    //console.log(\"master main\", this.props.Login.masterData);\r\n    // let mandatoryFields = [];\r\n    const { userInfo } = this.props.Login;\r\n    const addId = this.state.controlMap.has(\"AddProjectMaster\") && this.state.controlMap.get(\"AddProjectMaster\").ncontrolcode;\r\n    const editId = this.state.controlMap.has(\"EditProjectMaster\") && this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;\r\n    const deleteId = this.state.controlMap.has(\"DeleteProjectMaster\") && this.state.controlMap.get(\"DeleteProjectMaster\").ncontrolcode;\r\n    const approveId = this.state.controlMap.has(\"ApproveProjectMaster\") && this.state.controlMap.get(\"ApproveProjectMaster\").ncontrolcode;\r\n    const completeId = this.state.controlMap.has(\"CompleteProjectMaster\") && this.state.controlMap.get(\"CompleteProjectMaster\").ncontrolcode;\r\n    const viewId = this.state.controlMap.has(\"ViewProjectMaster\") && this.state.controlMap.get(\"ViewProjectMaster\").ncontrolcode;\r\n    // const addteammembersId = this.state.controlMap.has(\"AddTeamMembers\") && this.state.controlMap.get(\"AddTeamMembers\").ncontrolcode;\r\n    const retireId = this.state.controlMap.has(\"RetireProjectMaster\") && this.state.controlMap.get(\"RetireProjectMaster\").ncontrolcode;\r\n    const closureId = this.state.controlMap.has(\"ClosureProjectMaster\") && this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;\r\n    // const deleteteammembersId = this.state.controlMap.has(\"DeleteTeammembers\") && this.state.controlMap.get(\"DeleteTeammembers\").ncontrolcode;\r\n\r\n    const viewClosureFileId = this.state.controlMap.has(\"ViewProjectMasterClosureFile\") && this.state.controlMap.get(\"ViewProjectMasterClosureFile\").ncontrolcode;\r\n    const reportdetailId = this.state.controlMap.has(\"ReportInfoProject\") && this.state.controlMap.get(\"ReportInfoProject\").ncontrolcode;\r\n    const fieldsForGrid = [\r\n\r\n      { \"idsName\": \"IDS_LOGINID\", \"dataField\": \"sloginid\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_USER\", \"dataField\": \"steammembername\", \"width\": \"200px\" }\r\n\r\n    ]\r\n\r\n\r\n    const { SelectedProjectMaster } = this.props.Login.masterData;\r\n    const selectedMaster = this.props.Login.masterData.SelectedProjectMaster;\r\n    const selectedProjectMaster = this.props.Login.masterData.SelectedProjectMaster;\r\n\r\n    const filterParam = {\r\n      inputListName: \"ProjectMaster\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n      fetchUrl: \"projectmaster/getActiveProjectMasterById\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      masterData: this.props.Login.masterData,\r\n      searchFieldList: this.searchFieldList,\r\n    };\r\n    const breadCrumbData = this.state.filterData || [];\r\n    return (\r\n      <>\r\n        <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n          {breadCrumbData.length > 0 ? (\r\n            <Affix top={53}>\r\n              <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n            </Affix>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Row noGutters={true}>\r\n            <Col md={`${!this.props.sidebarview ? '4' : \"2\"}`}> \r\n              <ListMaster\r\n                screenName={this.props.intl.formatMessage({ id: \"IDS_PROJECTMASTER\" })}\r\n                masterData={this.props.Login.masterData}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.ProjectMaster}\r\n                getMasterDetail={(ProjectMasterdata) => this.props.getProjectMaster(ProjectMasterdata, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                selectedMaster={selectedProjectMaster}\r\n                primaryKeyField=\"nprojectmastercode\"\r\n                mainField=\"sprojecttitle\"\r\n                firstField=\"sprojectcode\"\r\n                secondField=\"sversionstatus\"\r\n                filterColumnData={this.props.filterColumnData}\r\n                filterParam={filterParam}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                addId={addId}\r\n                searchRef={this.searchRef}\r\n                reloadData={this.reloadData}\r\n                //     openModal={() => this.props.addProjectMaster(\"create\", SelectedProjectMaster, userInfo, addId, this.state.ProjectMasterList)}\r\n                openModal={() => this.props.addProjectMaster(\"create\", SelectedProjectMaster, userInfo, addId, this.state.selectedRecordfilter, this.props.Login.masterData.SelectedProjectType)}\r\n                isMultiSelecct={false}\r\n                hidePaging={false}\r\n                isClearSearch={this.props.Login.isClearSearch}\r\n\r\n                openFilter={this.openFilter}\r\n                closeFilter={this.closeFilter}\r\n                onFilterSubmit={this.onFilterSubmit}\r\n                showFilterIcon={true}\r\n                showFilter={this.props.Login.showFilter}\r\n                filterComponent={[\r\n                  {\r\n                    \"IDS_PROJECTMASTERFILTER\":\r\n                      <ProjectMasterFilter\r\n                        filterProjectType={this.state.ProjectMasterList || []}\r\n                        nfilterProjectType={this.props.Login.masterData.SelectedProjectType || {}}\r\n                        onComboChange={this.onComboChange}\r\n                        selectedRecord={this.state.selectedRecordfilter || {}}\r\n                      />\r\n                  }\r\n                ]}\r\n\r\n              />\r\n            </Col>\r\n            <Col md={`${!this.props.sidebarview ? '8' : \"10\"}`} className=\"position-relative\">\r\n                <div className=\"sidebar-view-btn-block\">\r\n                    <div className=\"sidebar-view-btn \" onClick={this.props.parentFunction}>\r\n                        {!this.props.sidebarview ?                    \r\n                            <i class=\"fa fa-less-than\"></i> :\r\n                            <i class=\"fa fa-greater-than\"></i> \r\n                        }\r\n                    </div>\r\n                </div>\r\n              {selectedProjectMaster ?\r\n                <ContentPanel className=\"panel-main-content\">\r\n                  <Card className=\"border-0\">\r\n                    <Card.Header>\r\n                      {/* <ReactTooltip place=\"bottom\" globalEventOff='click' /> */}\r\n                      <Card.Title className=\"product-title-main\">\r\n                        {selectedProjectMaster.sprojecttitle}\r\n                      </Card.Title>\r\n                      <Card.Subtitle>\r\n                        <div className=\"d-flex product-category\">\r\n                          <h2 className=\"product-title-sub flex-grow-1\">\r\n\r\n                            <span className={`btn btn-outlined ${versionStatusCSS} btn-sm ml-3`}>\r\n                              <i class={activeIconCSS}></i>\r\n                              {selectedProjectMaster.sversionstatus}\r\n\r\n                            </span>\r\n                          </h2>\r\n                          {/* </Col>\r\n                                                <Col md=\"4\"> */}\r\n                          {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                          <div className=\"d-inline\">\r\n                            {/* Don't delete these commented lines because additional info feature is needed for Agaram LIMS */}\r\n                            {/* Start Here */}\r\n                            {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"\" >  \r\n                                                            <FontAwesomeIcon icon={faEye} className=\"ActionIconColor\" onClick={(e)=>this.viewAdditionalInfo(e)} />\r\n                                                        </Nav.Link> */}\r\n                            {/* End Here */}\r\n                            <ViewInfoDetails \r\n                                userInfo={this.props.Login.userInfo}\r\n                                selectedObject ={this.props.Login.masterData.SelectedProjectMaster}\r\n                                screenHiddenDetails={this.state.userRoleControlRights.indexOf(editId) === -1}   \r\n                                screenName={this.props.Login.screenName}\r\n                                dataTip={this.props.intl.formatMessage({ id: \"IDS_VIEW\" })}\r\n                               // hidden={(this.state.userRoleControlRights.indexOf(viewClosureFileId) === -1) ? true : this.props.Login.masterData.SelectedProjectMaster&& this.props.Login.masterData.SelectedProjectMaster.sfilename&&this.props.Login.masterData.SelectedProjectMaster.sfilename==='-'? true : false}\r\n                               // downLoadIcon={this.props.Login.masterData.SelectedProjectMaster&& this.props.Login.masterData.SelectedProjectMaster.sfilename&&this.props.Login.masterData.SelectedProjectMaster.sfilename!='-'? true : false}\r\n                                rowList={[\r\n                                  [\r\n                                    {dataField:\"sprojecttitle\", idsName:\"IDS_PROJECTTITLE\"},                                    \r\n                                    {dataField:\"sprojectcode\", idsName:\"IDS_PROJECTCODE\"}                      \r\n                                  ],\r\n                                  [\r\n                                    {dataField:\"sprojectname\", idsName:\"IDS_CLIENT\"},\r\n                                    {dataField: \"suserrolename\", idsName: \"IDS_ROLE\"}                  \r\n                                  ],\r\n                                  [\r\n                                    {dataField:\"susername\", idsName:\"IDS_INCHARGE\"},\r\n                                    {dataField: \"srfwdate\", idsName:\"IDS_RFWDATE\"},            \r\n                                  ],\r\n                                  [\r\n                                    {dataField:\"sprojectstartdate\", idsName:\"IDS_STARTDATE\"},\r\n                                    {dataField:\"sexpectcompletiondate\", idsName:\"IDS_EXPECTEDPROJECTCOMPLETIONDATE\"}                \r\n                                  ],\r\n                                  [\r\n                                    {dataField:\"sclientcatname\", idsName:\"IDS_CLIENTCATEGORY\"},\r\n                                    {dataField:\"sclientname\", idsName:\"IDS_CLIENT\"}                        \r\n                        \r\n                                  ],\r\n                                  //ALPD-4468\r\n                                  // [\r\n                                  //   {dataField:\"squotationno\", idsName:\"IDS_QUOTATIONNO\"},\r\n                                  //   {dataField:\"srfwid\", idsName:\"IDS_RFWID\"}\r\n\r\n                                  // ],\r\n                                  [\r\n                                    {dataField:\"sprojectduration\", idsName:\"IDS_PROJECTDURATION\"},\r\n                                    {dataField:\"sprojectdescription\", idsName:\"IDS_PROJECTDESCRIPTION\"}\r\n\r\n                                  ],\r\n                                      [{dataField:\"sfilename\", idsName:\"IDS_CLOSUREFILENAME\"},\r\n                                      {                              \r\n                                       hidden:this.props.Login.masterData.SelectedProjectMaster&& this.props.Login.masterData.SelectedProjectMaster.sfilename&&this.props.Login.masterData.SelectedProjectMaster.sfilename!='-'&&  this.state.userRoleControlRights.indexOf(viewClosureFileId) !== -1 ? false : true,\r\n                                      onClick:this.viewProjectMasterClosureFile}]\r\n\r\n\r\n\r\n\r\n                                  \r\n                                ]}\r\n                            />\r\n                            {parseInt(this.props.Login.settings[34]) === transactionStatus.YES ?\r\n                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\" name=\"reportdetailstestname\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(reportdetailId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_REPORTINFOPROJECT\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={(e) => this.props.ReportInfo(\"IDS_REPORTINFOPROJECT\", \"\", \"nprojectmastercode\", this.props.Login.masterData, this.props.Login.userInfo, reportdetailId, this.props.Login.settings[34])}>\r\n                              <ReportEdit className=\"custom_icons\" width=\"20\" height=\"20\" />\r\n                            </Nav.Link>\r\n                            : \"\" }\r\n\r\n                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\" name=\"edittestname\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.props.addProjectMaster(\"update\", selectedProjectMaster, userInfo, editId, this.state.selectedRecordfilter, addProjectMaster)}>\r\n                              <FontAwesomeIcon icon={faPencilAlt} />\r\n                            </Nav.Link>\r\n                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" name=\"deletetestname\"\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                              //   data-for=\"tooltip_list_wrap\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                              onClick={() => this.ConfirmDelete(selectedProjectMaster, \"delete\", deleteId, \"ProjectMaster\")}\r\n                            >\r\n                              <FontAwesomeIcon icon={faTrashAlt} />\r\n\r\n                            </Nav.Link>\r\n                            <Nav.Link name=\"approveProjectMaster\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.approveProjectMaster(\"ProjectMaster\", selectedProjectMaster, \"approve\", approveId)}>\r\n                              <FontAwesomeIcon icon={faThumbsUp} />\r\n                            </Nav.Link>\r\n                            <Nav.Link name=\"completeProjectMaster\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(completeId) === -1}\r\n                              className=\"btn btn-circle outline-grey mr-2\"\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_COMPLETE\" })}\r\n                              onClick={() => this.props.projectMasterModal(selectedProjectMaster, \"complete\", \"IDS_PROJECTCOMPLETION\", completeId, \"dprojectcompletiondate\", this.props.Login.userInfo)}\r\n\r\n                            >\r\n                              <FontAwesomeIcon icon={faCheckCircle}\r\n                              />\r\n                            </Nav.Link>\r\n\r\n\r\n                            <Nav.Link name=\"retireProjectMaster\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(retireId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_RETIRE\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.props.projectMasterModal(selectedProjectMaster, \"retire\", \"IDS_RETIREDPROJECT\", retireId, \"dprojectretiredate\", this.props.Login.userInfo)}\r\n\r\n                            >\r\n                              {/* <FontAwesomeIcon icon={faUserTimes} /> */}\r\n                              <RetireaQuotation/>\r\n                            </Nav.Link>\r\n\r\n                            <Nav.Link name=\"ClosureProjectMaster\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(closureId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_CLOSE\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.props.projectMasterModal(selectedProjectMaster, \"closure\", \"IDS_PROJECTCLOSURE\", closureId, \"dprojectclosuredate\", this.props.Login.userInfo)}>\r\n                              {/* <FontAwesomeIcon icon={faWindowClose} /> */}\r\n                              <Closure className=\"custom_icons\" width=\"17\" height=\"20\" />\r\n                            </Nav.Link>\r\n\r\n\r\n\r\n                          </div>\r\n                          {/* </Tooltip> */}\r\n                        </div>\r\n                        {/* </Col>\r\n                                            </Row> */}\r\n                      </Card.Subtitle>\r\n                    </Card.Header>\r\n                    <Card.Body className=\"form-static-wrap\">\r\n                      {/* <Row>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTCODE\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectcode}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTNAME\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectname}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_ROLE\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.suserrolename}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_USER\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.susername}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        {/* <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_TEAMMEMBERS\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.steammembername}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col> \r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_RFWDATE\" })}</FormLabel>\r\n                            <ReadOnlyText>{rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.srfwdate)} </ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_STARTDATE\" })}</FormLabel>\r\n                            <ReadOnlyText>{rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.sprojectstartdate)} </ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_EXPECTEDPROJECTCOMPLETIONDATE\" })}</FormLabel>\r\n                            <ReadOnlyText>{rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.sexpectcompletiondate)} </ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTDURATION\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectduration}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        {/* <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_DURATIONPERIOD\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.speriodname}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>  \r\n\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTDESCRIPTION\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectdescription}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n\r\n                      </Row> */}\r\n                      {/* <Col md={12}>\r\n                        <div className=\"horizontal-line\"></div>\r\n                      </Col> */}\r\n\r\n                      {/* <Row>\r\n\r\n                        <Col md=\"3\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTCLOSURENAME\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sfilename}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n\r\n                        <Col md=\"3\"> \r\n                          <Nav.Link name=\"ClosureProjectMasterFile\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={(this.state.userRoleControlRights.indexOf(viewClosureFileId) === -1) ? true : selectedProjectMaster.sfilename === '-' ? true : false }\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_DOWNLOAD\" })}\r\n                              onClick={() => this.viewProjectMasterClosureFile(selectedProjectMaster, userInfo)}>\r\n                              <FontAwesomeIcon icon={faCloudDownloadAlt} />\r\n                            </Nav.Link> \r\n                       </Col> \r\n\r\n                        <Col md=\"3\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_REMARKS\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sclosureremarks}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n\r\n                        <Col md=\"3\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_CLOSUREDATE\" })}</FormLabel>\r\n                            <ReadOnlyText>{rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.sprojectclosuredate)} </ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n\r\n                      </Row>\r\n\r\n                      <Col md={12}>\r\n                        <div className=\"horizontal-line\"></div>\r\n                      </Col>\r\n                      <Row>\r\n\r\n                      <Col md=\"6\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_RETIREDATE\" })}</FormLabel>\r\n                            <ReadOnlyText>{rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.sprojectretiredate)} </ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                      <Col md=\"6\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_REMARKS\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sretiredremarks}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        </Row>\r\n\r\n                        <Col md={12}>\r\n                        <div className=\"horizontal-line\"></div>\r\n                      </Col>\r\n                      <Row>\r\n\r\n                      <Col md=\"6\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTCOMPLETIONDATE\" })}</FormLabel>\r\n                            <ReadOnlyText>{rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.sprojectcompletiondate)} </ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                      <Col md=\"6\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_REMARKS\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.scompletionremarks}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        </Row> */}\r\n\r\n                      <Card className=\"at-tabs border-0\">\r\n                        <Row noGutters>\r\n                          <Col md={12}>\r\n                            <ProjectMasterTab\r\n                              primaryKeyField={\"nprojectmembercode\"}\r\n                              // data={this.props.Login.masterData.ProjectMember}\r\n                              data={this.state.data}\r\n                              // dataResult={this.props.Login.masterData.ProjectMember}\r\n\r\n                              projectMasterHistorydata={this.props.Login.masterData.ProjectMasterHistory}\r\n                              projectMasterdataResult={this.props.Login.masterData.ProjectMasterHistory}\r\n                              dataResult={this.state.dataResult}\r\n                              masterData={this.props.Login.masterData}\r\n                              screenName={this.props.Login.screenName}\r\n                              operation={this.props.Login.operation}\r\n                              openChildModal={this.props.Login.openChildModal}\r\n                              crudMaster={this.props.crudMaster}\r\n                              errorCode={this.props.Login.errorCode}\r\n                              validateEsignCredential={this.props.validateEsignCredential}\r\n                              loadEsign={this.props.Login.loadEsign}\r\n                              showAccordian={this.state.showAccordian}\r\n                              selectedRecord={this.state.selectedRecord || {}}\r\n                              // dataState={{skip: 0, take: 10}}\r\n                              //dataState={this.props.Login.dataState}\r\n                              dataState={this.state.dataState}\r\n                              dataStateChange={this.dataStateChange}\r\n                              extractedColumnList={fieldsForGrid}\r\n                              controlMap={this.state.controlMap}\r\n                              userRoleControlRights={this.state.userRoleControlRights}\r\n                              inputParam={this.props.Login.inputParam}\r\n                              userInfo={this.props.Login.userInfo}\r\n                              //    getProjectmasterAddMemberService={(this.props.Login.screenName,this.props.Login.operation,this.props.getProjectmasterAddMemberService,this.props.Login.userInfo,this.props.Login.ncontrolCode)}\r\n                              getProjectmasterAddMemberService={this.props.getProjectmasterAddMemberService}\r\n                              // --   fetchRecord={this.props.getPricingEditService}\r\n                              //--       editParam={{...editTestPriceParam, \"updateType\":\"Single\", priceDataState:this.state.priceDataState}}\r\n                              deleteRecord={this.deleteProjectMember}\r\n                              //  deleteParam={{operation:\"delete\"}}\r\n                              methodUrl={\"Teammembers\"}\r\n                              // reloadData={this.reloadData}\r\n                              // --      addRecord = {() => this.openModal(addId)}\r\n                              pageable={true}\r\n                              onTabChange={this.onTabChange}\r\n                              updateStore={this.props.updateStore}\r\n                              scrollable={'scrollable'}\r\n                              // gridHeight = {'600px'}\r\n                              isActionRequired={true}\r\n                              isToolBarRequired={false}\r\n                              selectedId={this.props.Login.selectedId}\r\n                              viewAttachment={this.props.viewAttachment}\r\n                              MembersList={this.props.Login.MembersList}\r\n                              onComboChange={this.onComboChange}\r\n                              // File\r\n                              addProjectMasterFile={this.props.addProjectMasterFile}\r\n                              esignRights={this.props.Login.userRoleControlRights}\r\n                              ntransactionstatus={selectedProjectMaster.ntransactionstatus}\r\n                              //  selectedRecord={this.props.Login.selectedRecord}\r\n                              onDropProjectMasterFile={this.onDropProjectMasterFile}\r\n                              onInputOnChange={this.onInputOnChange}\r\n                              screenData={this.props.Login.screenData}\r\n                              deleteAttachment={this.deleteAttachment}\r\n                              ncontrolCode={this.props.Login.ncontrolCode}\r\n                              linkMaster={this.props.Login.linkMaster}\r\n                              historydataStateChange={this.historydataStateChange}\r\n                              //ALPD-3566 Start\r\n                              getAvailableQuotation={this.props.getAvailableQuotation}\r\n                              ProjectQuotationList={this.props.Login.ProjectQuotationList}\r\n                              projectQuotationdataResult={this.props.Login.masterData.ProjectQuotation}\r\n                              projectQuotationdata={this.props.Login.masterData.ProjectQuotation}\r\n                              projectQuotationDataState={this.state.projectQuotationDataState}\r\n                              projectQuotationDataStateChange={this.projectQuotationDataStateChange}\r\n                              deleteProjectQuotation={this.deleteProjectQuotation}\r\n                              getActiveProjectQuotationById={this.props.getActiveProjectQuotationById}\r\n                              //ALPD-3566 End\r\n                            />\r\n                          </Col>\r\n                        </Row>\r\n                      </Card>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </ContentPanel>\r\n                : \"\"\r\n              }\r\n            </Col>\r\n          </Row>\r\n\r\n\r\n        </div>\r\n        {/* End of get display */}\r\n\r\n        {/* Start of Modal Sideout for Test Creation */}\r\n        {(this.props.Login.openModal) &&\r\n          <SlideOutModal\r\n            show={this.props.Login.openModal}\r\n            //size={this.props.Login.operation===\"create\" ? \"xl\" : \"lg\" }\r\n            closeModal={this.closeModal}\r\n            hideSave={this.props.Login.screenName === \"IDS_PROJECTINFO\" ? true : false}\r\n            operation={this.props.Login.operation}\r\n            inputParam={this.props.Login.inputParam}\r\n            screenName={this.props.Login.screenName}\r\n            onSaveClick={this.props.Login.screenName === \"IDS_PROJECTCLOSURE\" ? this.onSaveProjectMasterClosureFile : this.onSaveClick}\r\n            esign={this.props.Login.loadEsign}\r\n            validateEsign={this.validateEsign}\r\n            selectedRecord={this.state.selectedRecord || {}}\r\n            mandatoryFields={this.mandatoryFields || []}\r\n            addComponent={this.props.Login.loadEsign ?\r\n              <Esign\r\n                operation={this.props.Login.operation}\r\n                onInputOnChange={this.onInputOnChange}\r\n                inputParam={this.props.Login.inputParam}\r\n                selectedRecord={this.state.selectedRecord || {}}\r\n              />\r\n              : (this.props.Login.screenName === \"IDS_PROJECTMASTER\") ?\r\n\r\n                <AddProjectMaster\r\n\r\n                  userInfo={this.props.Login.userInfo}\r\n                  selectedRecord={this.state.selectedRecord || {}}\r\n                  ProjectType={this.props.Login.ProjectType}\r\n                  onInputOnChange={this.onInputOnChange}\r\n                  onComboChange={this.onComboChange}\r\n                  // onNumericInputOnChange={this.onNumericInputOnChange}\r\n                  onNumericInputChange={this.onNumericInputChange}\r\n\r\n                  handleDateChange={this.handleDateChange}\r\n                  Userrole={this.props.Login.Userrole}\r\n                  Users={this.props.Login.userList}\r\n                  TeamMembers={this.props.Login.TeamMembers}\r\n                  PeriodByControl={this.props.Login.PeriodByControl}\r\n                  settings={this.props.Login.settings}\r\n                  ClientCategory={this.props.Login.ClientCategory}\r\n                  Client={this.props.Login.Client}\r\n                  QuotationNo={this.props.Login.QuotationNo}\r\n                />\r\n                : (this.props.Login.screenName === \"IDS_REPORTINFOPROJECT\") ?\r\n                  <ReportInfoProject\r\n                    userInfo={this.props.Login.userInfo}\r\n                    selectedRecord={this.state.selectedRecord || {}}\r\n                    onInputOnChange={this.onInputOnChange}\r\n                    onComboChange={this.onComboChange}\r\n                    onNumericInputChange={this.onNumericInputChange}\r\n                    reportTemplateList={this.props.Login.reportTemplateList}\r\n                    settings={this.props.Login.settings}\r\n\r\n                  /> :\r\n\r\n\r\n                  (this.props.Login.screenName === \"IDS_PROJECTCLOSURE\") ?\r\n\r\n                    <ProjectMasterClosure\r\n                      handleDateChange={this.handleDateChange}\r\n                      userInfo={this.props.Login.userInfo}\r\n\r\n                      selectedRecord={this.state.selectedRecord || {}}\r\n                      onInputOnChange={this.onInputOnChange}\r\n                      onDrop={this.onDropProjectMasterclosureFile}\r\n                      onDropAccepted={this.onDropAccepted}\r\n                      deleteAttachment={this.deleteAttachment}\r\n                      actionType={this.state.actionType}\r\n                      onComboChange={this.onComboChange}\r\n                      linkMaster={this.props.linkMaster}\r\n                      editFiles={this.props.editFiles}\r\n                      maxSize={20}\r\n                      maxFiles={1}\r\n                      multiple={false}\r\n                      label={this.props.intl.formatMessage({ id: \"IDS_FILENAME\" })}\r\n                      name=\"projectmasterclosurefilename\"\r\n\r\n                    ></ProjectMasterClosure>\r\n                    : (this.props.Login.screenName === \"IDS_PROJECTINFO\") ?\r\n                      <AddProjectInfoPreview\r\n                        selectedProjectMaster={this.props.Login.masterData.SelectedProjectMaster}\r\n                        userInfo={this.props.Login.userInfo}\r\n                        viewProjectMasterClosureFile={this.viewProjectMasterClosureFile}\r\n                        userRoleControlRights={this.state.userRoleControlRights}\r\n                        viewClosureFileId={viewClosureFileId}\r\n                      >\r\n                      </AddProjectInfoPreview>\r\n\r\n                      : \"Parent\"\r\n\r\n            }\r\n          />\r\n        }\r\n\r\n        {this.props.Login.modalShow ? (\r\n          <ModalShow\r\n            modalShow={this.props.Login.modalShow}\r\n            closeModal={this.closeModalShow}\r\n            onSaveClick={this.onSaveModalClick}\r\n            validateEsign={this.validateEsign}\r\n            masterStatus={this.props.Login.masterStatus}\r\n            updateStore={this.props.updateStore}\r\n            selectedRecord={this.state.selectedRecord || {}}\r\n            modalTitle={this.props.Login.screenName}\r\n            modalBody={\r\n              this.props.Login.screenName === \"IDS_PROJECTCOMPLETION\" ? (\r\n                <AddCompletionDate\r\n                  selectedRecord={this.state.selectedRecord || {}}\r\n                  onInputOnChange={this.onInputOnChange}\r\n                  handleDateChange={this.handleDateChange}\r\n                  userInfo={this.props.Login.userInfo}\r\n                  esign={this.props.Login.loadEsign}\r\n                  currentTime={this.props.Login.currentTime}\r\n                  TimeZoneList={this.props.Login.TimeZoneList}\r\n\r\n                />\r\n              ) : (\r\n                <ProjectMasterRetire\r\n                  selectedRecord={this.state.selectedRecord || {}}\r\n                  TimeZoneList={this.props.Login.TimeZoneList}\r\n                  onInputOnChange={this.onInputOnChange}\r\n                  handleDateChange={this.handleDateChange}\r\n                  userInfo={this.props.Login.userInfo}\r\n\r\n                //onComboChange={this.onComboChange}\r\n                //currentTime={this.props.Login.currentTime}\r\n                />\r\n              )\r\n            }\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n\r\n        {/* End of Modal Sideout for Test Creation */}\r\n      </>\r\n    );\r\n  }\r\n\r\n  viewProjectMasterClosureFile = (selectedProjectMaster, userInfo) => {\r\n    const inputParam = {\r\n      inputData: {\r\n        projectmasterclosurefile: selectedProjectMaster,\r\n        userinfo: userInfo\r\n      },\r\n      classUrl: \"projectmaster\",\r\n      operation: \"view\",\r\n      methodUrl: \"AttachedProjectMasterClosureFile\",\r\n      screenName: \"ProjectMaster Closure File\"\r\n    }\r\n    this.props.viewAttachment(inputParam);\r\n  }\r\n\r\n  findMandatoryFields(screenName, selectedRecord, operation) {\r\n    let mandatoryFields = [];\r\n    if (screenName === \"IDS_PROJECTMASTER\") {\r\n\r\n      mandatoryFields = [\r\n        { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nprojecttypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_PROJECTTITLE\", \"dataField\": \"sprojecttitle\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_PROJECTNAME\", \"dataField\": \"sprojectname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_ROLE\", \"dataField\": \"nuserrolecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_INCHARGE\", \"dataField\": \"nusercode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        //{ \"idsName\": \"IDS_RFWDATE\", \"dataField\": \"drfwdate\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_STARTDATE\", \"dataField\": \"dprojectstartdate\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_PROJECTDURATION\", \"dataField\": \"nprojectduration\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_DURATIONPERIOD\", \"dataField\": \"nperiodcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_CLIENTCATEGORY\", \"dataField\": \"nclientcatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_CLIENT\", \"dataField\": \"nclientcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n\r\n      ]\r\n\r\n      mandatoryFields.forEach(item => item.mandatory === true && mandatoryFields.push(item));\r\n      if (parseInt(this.props.Login.settings[31]) != 3)\r\n        mandatoryFields.push({ \"idsName\": \"IDS_PROJECTCODE\", \"dataField\": \"sprojectcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" });\r\n      return mandatoryFields;\r\n\r\n    }\r\n    else if (screenName === \"IDS_PROJECTCLOSURE\") {\r\n\r\n      mandatoryFields = [\r\n        //{ \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n        // { \"idsName\": \"IDS_REASONFORCLOSURE\", \"dataField\": \"sclosureremarks\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textarea\" },\r\n        { \"idsName\": \"IDS_CLOSUREDATE\", \"dataField\": \"dprojectclosuredate\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n\r\n      ]\r\n\r\n      mandatoryFields.forEach(item => item.mandatory === true && mandatoryFields.push(item));\r\n      return mandatoryFields;\r\n    }\r\n    else if (screenName === \"IDS_REPORTINFOPROJECT\") {\r\n      mandatoryFields = [\r\n        { \"idsName\": \"IDS_REPORTTEMPLATEVERSION\", \"dataField\": \"sreporttemplateversion\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_REVISION\", \"dataField\": \"srevision\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_REVISIONAUTHOR\", \"dataField\": \"srevisionauthor\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_INTRODUCTION\", \"dataField\": \"sintroduction\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_TESTPRODUCTHEADERCOMMENTS\", \"dataField\": \"stestproductheadercomments\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_TESTPRODUCTFOOTERCOMMENTS1\", \"dataField\": \"stestproductfootercomments1\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_TESTPRODUCTFOOTERCOMMENTS2\", \"dataField\": \"stestproductfootercomments2\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_TESTPRODUCTFOOTERCOMMENTS3\", \"dataField\": \"stestproductfootercomments3\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_TESTPRODUCTFOOTERCOMMENTS4\", \"dataField\": \"stestproductfootercomments4\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_SAMPLINGDETAILS\", \"dataField\": \"ssamplingdetails\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_UNCERTAINITYOFMEASUREMENT\", \"dataField\": \"suncertainitymeasurement\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        // {\"idsName\": \"IDS_REPORTTEMPLATE\", \"dataField\": \"nreporttemplatecode\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n\r\n      ]\r\n;\r\n     \r\n      return mandatoryFields;\r\n    }\r\n\r\n    else if (screenName === \"IDS_RETIREDPROJECT\") {\r\n      mandatoryFields = [\r\n        { \"idsName\": \"IDS_RETIREDATE\", \"dataField\": \"dprojectretiredate\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" }\r\n      ]\r\n    }\r\n    else if (screenName === \"IDS_PROJECTCOMPLETION\") {\r\n      mandatoryFields = [\r\n        { \"idsName\": \"IDS_PROJECTCOMPLETEDDATE\", \"dataField\": \"dprojectcompletiondate\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" }\r\n      ]\r\n    }\r\n    else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  onComboChange = (comboData, fieldName, caseNo) => {\r\n\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    switch (caseNo) {\r\n      case 1:\r\n        // const selectedRecord = this.state.selectedRecord || {};\r\n        if (selectedRecord.nuserrolecode) {\r\n          if (parseInt(comboData.value) !== parseInt(selectedRecord.nuserrolecode.value)) {\r\n            // selectedRecord.nusercode={};\r\n            delete (selectedRecord.nusercode);\r\n          }\r\n        }\r\n\r\n        selectedRecord[fieldName] = comboData;\r\n        selectedRecord[\"suserrolename\"] = comboData.item[\"suserrolename\"];\r\n        this.props.getuserComboServices({\r\n\r\n          inputData: {\r\n            userinfo: this.props.Login.userInfo,\r\n            sdisplayname: selectedRecord.nuserrolecode.label,\r\n            primarykey: selectedRecord.nuserrolecode.value,\r\n          }\r\n\r\n        }, selectedRecord);\r\n\r\n\r\n        // this.setState({ selectedRecord });\r\n\r\n        break;\r\n\r\n      case 2:\r\n        // let nfilterProjectType = this.state.nfilterProjectType || {}\r\n        // nfilterProjectType = comboData;\r\n        const selectedRecordfilter = this.state.selectedRecordfilter || {};\r\n        selectedRecordfilter[fieldName] = comboData;\r\n        this.setState({ selectedRecordfilter });\r\n        break;\r\n\r\n      case 3:\r\n\r\n        selectedRecord[fieldName] = comboData;\r\n        this.setState({ selectedRecord });\r\n        break;\r\n\r\n      case 4:\r\n        if (selectedRecord.nclientcatcode) {\r\n          if (parseInt(comboData.value) !== parseInt(selectedRecord.nclientcatcode.value)) {\r\n            delete (selectedRecord.nclientcode);\r\n            if (selectedRecord.nquotationcode)\r\n              delete (selectedRecord.nquotationcode);\r\n          }\r\n        }\r\n        selectedRecord[fieldName] = comboData;\r\n        selectedRecord[\"sclientcatname\"] = comboData.item[\"sclientcatname\"];\r\n\r\n        this.props.getClientByCategory({\r\n\r\n          inputData: {\r\n            userinfo: this.props.Login.userInfo,\r\n            sdisplayname: selectedRecord.nclientcatcode.label,\r\n            primarykey: selectedRecord.nclientcatcode.value,\r\n          }\r\n\r\n        }, selectedRecord);\r\n\r\n      case 5:\r\n        // if (selectedRecord.nclientcatcode) {\r\n        //   if (this.props.Login.selec !== parseInt(selectedRecord.nclientcatcode.value)) {\r\n        //   delete (selectedRecord.nclientcode);\r\n        //     delete (selectedRecord.nquotationcode);\r\n        //   }}\r\n        if (selectedRecord.nclientcode) {\r\n          if (parseInt(comboData.value) !== parseInt(selectedRecord.nclientcode.value)) {\r\n            delete (selectedRecord.nquotationcode);\r\n          }\r\n        }\r\n\r\n\r\n        selectedRecord[fieldName] = comboData;\r\n        selectedRecord[\"squotationno\"] = comboData.item[\"squotationno\"];\r\n        this.props.getQuotationByClient({\r\n\r\n          inputData: {\r\n            userinfo: this.props.Login.userInfo,\r\n            sdisplayname: selectedRecord.nclientcatcode.label,\r\n            nclientcatcode: selectedRecord.nclientcatcode.value,\r\n            nclientcode: parseInt(comboData.value)\r\n          }\r\n\r\n        }, selectedRecord);\r\n\r\n\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  onDropProjectMasterFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n    this.setState({ selectedRecord, actionType: \"new\" });\r\n  }\r\n\r\n  onInputOnChange = (event, optional) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (event.target.type === 'checkbox') {\r\n      if (event.target.name === \"ntransactionstatus\")\r\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n      // else if (event.target.name === \"nlockmode\")\r\n      //     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\r\n      else\r\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n    }\r\n    else if (event.target.type === 'radio') {\r\n      selectedRecord[event.target.name] = optional;\r\n    }\r\n    else {\r\n      selectedRecord[event.target.name] = event.target.value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n  }\r\n//ALPD-3566 Start\r\n  deleteProjectQuotation = (deleteParam) => {\r\n    const inputParam = {\r\n      classUrl: \"projectmaster\",\r\n      methodUrl: \"ProjectQuotation\",\r\n      //displayName: ,\r\n      inputData: {\r\n        \"ProjectQuotation\": deleteParam.selectedRecord,//.dataItem,\r\n        \"nprojectquotationcode\": deleteParam.selectedRecord.nprojectquotationcode,\r\n        \"userinfo\": this.props.Login.userInfo\r\n      },\r\n      operation: \"delete\",\r\n      selectedRecord: { ...this.state.selectedRecord }\r\n\r\n    }\r\n    if (this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.DRAFT\r\n      || this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.APPROVED) {\r\n\r\n    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n          openChildModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_QUOTATION\" }),\r\n          operation: deleteParam.operation\r\n        }\r\n      }\r\n      this.props.updateStore(updateInfo);\r\n    }\r\n    else {\r\n      this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n    }\r\n  }\r\n    else {\r\n\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTAPPROVEDRECORD\" }));\r\n  }\r\n  }\r\n//ALPD-3566 End\r\n  deleteProjectMember = (deleteParam) => {\r\n    const inputParam = {\r\n      classUrl: \"projectmaster\",\r\n      methodUrl: \"ProjectMember\",\r\n      //displayName: ,\r\n      inputData: {\r\n        \"projectmember\": deleteParam.selectedRecord,//.dataItem,\r\n        \"nprojectmembercode\": deleteParam.selectedRecord.nprojectmembercode,\r\n        \"userinfo\": this.props.Login.userInfo\r\n      },\r\n      operation: \"delete\",\r\n      selectedRecord: { ...this.state.selectedRecord }\r\n\r\n      // priceDataState:this.state.priceDataState\r\n    }\r\n\r\n    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n          openChildModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_MEMBERS\" }),\r\n          operation: deleteParam.operation\r\n        }\r\n      }\r\n      this.props.updateStore(updateInfo);\r\n    }\r\n    else {\r\n      this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n    }\r\n  }\r\n\r\n  onDropProjectMasterclosureFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n    this.setState({ selectedRecord, actionType: \"new\" });\r\n  }\r\n\r\n  /* onNumericInputChange = (value, name) => {\r\n    console.log(\"value:\", value, name);\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (name === \"nroundingdigits\") {\r\n        \r\n        if (/^-?\\d*?$/.test(value.target.value) || value.target.value === \"\") {\r\n            console.log(\"val:\", value.target.value);\r\n            selectedRecord[name] = value.target.value;\r\n        }\r\n    }\r\n    else {\r\n        selectedRecord[name] = value;\r\n    }\r\n  \r\n    this.setState({ selectedRecord });\r\n  } */\r\n\r\n  onNumericInputChange = (value, name) => {\r\n\r\n    console.log(\"value:\", value, name);\r\n\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n\r\n    if (name === \"nprojectduration\") {\r\n\r\n      if (/^[0-9]+$/.test(value.target.value) || value.target.value === \"\") {\r\n\r\n        selectedRecord[name] = value.target.value;\r\n      } else {\r\n\r\n        selectedRecord[name] = \"\";\r\n      }\r\n\r\n    }\r\n\r\n    else {\r\n\r\n      selectedRecord[name] = value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n\r\n  }\r\n\r\n  approveProjectMaster = (methodUrl, selectedProjectMaster, operation, ncontrolCode) => {\r\n    if (selectedProjectMaster.ntransactionstatus === transactionStatus.DRAFT) {\r\n\r\n      const postParam = {\r\n        inputListName: \"ProjectMaster\",\r\n        selectedObject: \"SelectedProjectMaster\",\r\n        primaryKeyField: \"nprojectmastercode\",\r\n        primaryKeyValue: selectedProjectMaster.nprojectmastercode,\r\n        fetchUrl: \"projectmaster/getProjectMaster\",\r\n        fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      };\r\n\r\n      const inputParam = {\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        methodUrl, postParam,\r\n        inputData: {\r\n          \"userinfo\": this.props.Login.userInfo,\r\n          \"projectmaster\": { ...selectedProjectMaster, },\r\n          \"nautoprojectcode\": parseInt(this.props.Login.settings[31]) === transactionStatus.YES ? transactionStatus.YES : transactionStatus.NO\r\n        },\r\n        operation,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n        selectedRecord: { ...this.state.selectedRecord }\r\n\r\n      }\r\n\r\n      const masterData = this.props.Login.masterData;\r\n\r\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true, screenData: { inputParam, masterData },\r\n            openModal: true, screenName: \"IDS_PROJECTMASTER\", operation\r\n          }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n      }\r\n      else {\r\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n      }\r\n    }\r\n    else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }));\r\n    }\r\n\r\n  }\r\n\r\n  // RetireProjectMaster = (methodUrl, selectedProjectMaster, operation, ncontrolCode) => {\r\n  //   if (selectedProjectMaster.ntransactionstatus === transactionStatus.CLOSED) {\r\n\r\n  //     const postParam = {\r\n  //       inputListName: \"ProjectMaster\",\r\n  //       selectedObject: \"SelectedProjectMaster\",\r\n  //       primaryKeyField: \"nprojectmastercode\",\r\n  //       primaryKeyValue: selectedProjectMaster.nprojectmastercode,\r\n  //       fetchUrl: \"projectmaster/getProjectMaster\",\r\n  //       fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n  //     };\r\n\r\n  //     const inputParam = {\r\n  //       classUrl: this.props.Login.inputParam.classUrl,\r\n  //       methodUrl, postParam,\r\n  //       inputData: {\r\n  //         \"userinfo\": this.props.Login.userInfo,\r\n  //         \"projectmaster\": selectedProjectMaster\r\n  //       },\r\n  //       operation,\r\n  //       isClearSearch: this.props.Login.isClearSearch\r\n  //     }\r\n\r\n  //     const masterData = this.props.Login.masterData;\r\n\r\n  //     if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n  //       const updateInfo = {\r\n  //         typeName: DEFAULT_RETURN,\r\n  //         data: {\r\n  //           loadEsign: true, screenData: { inputParam, masterData },\r\n  //           openModal: true, screenName: \"IDS_PROJECTMASTER\", operation\r\n  //         }\r\n  //       }\r\n  //       this.props.updateStore(updateInfo);\r\n  //     }\r\n  //     else {\r\n  //       this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n  //     }\r\n  //   }\r\n  //   else {\r\n  //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTCLOSEDVERSION\" }));\r\n  //   }\r\n\r\n  // }\r\n  onTabChange = (tabProps) => {\r\n    const screenName = tabProps.screenName;\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { screenName },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  onDropTestFile = (attachedFiles, fieldName, maxSize) => {\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = onDropAttachFileList(\r\n      selectedRecord[fieldName],\r\n      attachedFiles,\r\n      maxSize\r\n    );\r\n    this.setState({ selectedRecord, actionType: \"new\" });\r\n  };\r\n  /*\r\n  dataStateChange = (event) => {\r\n    this.setState({\r\n      dataResult: process(\r\n        this.props.Login.masterData[\"selectedSection\"],\r\n        event.dataState\r\n      ),\r\n      sectionDataState: event.dataState,\r\n    });\r\n  };\r\n*/\r\n  dataStateChange = (event) => {\r\n    this.setState({\r\n      dataResult: process(this.state.data, event.dataState),\r\n      dataState: event.dataState\r\n    });\r\n  }\r\n  historydataStateChange = (event) => {\r\n    this.setState({\r\n      dataResult: process(this.state.data, event.historydataState),\r\n      historydataState: event.historydataState\r\n    });\r\n  }\r\n//ALPD-3566 Start\r\n  projectQuotationDataStateChange = (event) => {\r\n    this.setState({\r\n      dataResult: process(this.state.data, event.projectQuotationDataState),\r\n      projectQuotationDataState: event.projectQuotationDataState\r\n    });\r\n  }\r\n//ALPD-3566 End\r\n  /*\r\n    tabDetail = () => {\r\n      const tabMap = new Map();\r\n      const deleteSecId =\r\n        this.state.controlMap.has(\"DeleteSection\") &&\r\n        this.state.controlMap.get(\"DeleteSection\").ncontrolcode;\r\n      const defaultSecId =\r\n        this.state.controlMap.has(\"DefaultSection\") &&\r\n        this.state.controlMap.get(\"DefaultSection\").ncontrolcode;\r\n      tabMap.set(\r\n        \"IDS_SECTION\",\r\n        <InstrumentSectionTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          dataState={this.props.Login.dataState}\r\n          masterData={this.props.Login.masterData[\"selectedSection\"] || []}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          userInfo={this.props.Login.userInfo}\r\n          inputParam={this.props.Login.inputParam}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteSecId={deleteSecId}\r\n          defaultSecId={defaultSecId}\r\n          defaultRecord={this.defaultRecord}\r\n          getAvailableInstData={this.props.getAvailableInstData}\r\n          InstrumentSection={this.props.Login.masterData.selectedSection || []}\r\n          screenName=\"IDS_SECTION\"\r\n          selectedRecord={this.state.selectedRecord}\r\n          settings={this.props.Login.settings}\r\n        />\r\n      );\r\n      tabMap.set(\r\n        \"IDS_INSTRUMENTVALIDATION\",\r\n        <InstrumentValidationTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          FileData={this.props.Login.masterData.ValidationFileData}\r\n          InstrumentValidation={this.props.Login.masterData.InstrumentValidation}\r\n          masterData={this.props.Login.masterData}\r\n          userInfo={this.props.Login.userInfo}\r\n          getDataForAddEditValidation={this.props.getDataForAddEditValidation}\r\n          inputParam={this.props.inputParam}\r\n          selectedRecord={this.state.selectedRecord}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteTabFileRecord={this.deleteTabFileRecord}\r\n          getTabDetails={this.props.getTabDetails}\r\n          addInstrumentFile={this.props.addInstrumentFile}\r\n          deleteAction={this.props.deleteAction}\r\n          ConfirmDelete={this.ConfirmDelete}\r\n          getDataForEdit={this.props.getDataForEdit}\r\n          addfilecllick={this.addInstrumentFile}\r\n          viewInstrumentFile={this.viewInstrumentFile}\r\n          screenName=\"IDS_INSTRUMENTVALIDATION\"\r\n        />\r\n      );\r\n      tabMap.set(\r\n        \"IDS_INSTRUMENTCALIBRATION\",\r\n        <InstrumentCalibrationTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          FileData={this.props.Login.masterData.CalibrationFileData}\r\n          InstrumentCalibration={\r\n            this.props.Login.masterData.InstrumentCalibration\r\n          }\r\n          masterData={this.props.Login.masterData}\r\n          userInfo={this.props.Login.userInfo}\r\n          getDataForAddEditCalibration={this.props.getDataForAddEditCalibration}\r\n          inputParam={this.props.inputParam}\r\n          selectedRecord={this.state.selectedRecord}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteTabFileRecord={this.deleteTabFileRecord}\r\n          getTabDetails={this.props.getTabDetails}\r\n          viewInstrumentFile={this.viewInstrumentFile}\r\n          addInstrumentFile={this.props.addInstrumentFile}\r\n          addfilecllick={this.addInstrumentCalibrationFile}\r\n          deleteAction={this.props.deleteAction}\r\n          ConfirmDelete={this.ConfirmDelete}\r\n          addOpenDate={this.props.addOpenDate}\r\n          OpenDate={this.props.OpenDate}\r\n          CloseDate={this.props.CloseDate}\r\n          screenName=\"IDS_INSTRUMENTCALIBRATION\"\r\n        />\r\n      );\r\n      tabMap.set(\r\n        \"IDS_INSTRUMENTMAINTENANCE\",\r\n        <InstrumentMaintenanceTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          FileData={this.props.Login.masterData.MaintenanceFileData}\r\n          InstrumentMaintenance={\r\n            this.props.Login.masterData.InstrumentMaintenance\r\n          }\r\n          masterData={this.props.Login.masterData}\r\n          userInfo={this.props.Login.userInfo}\r\n          getDataForAddEditMaintenance={this.props.getDataForAddEditMaintenance}\r\n          inputParam={this.props.inputParam}\r\n          selectedRecord={this.state.selectedRecord}\r\n          viewInstrumentFile={this.viewInstrumentFile}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteTabFileRecord={this.deleteTabFileRecord}\r\n          getTabDetails={this.props.getTabDetails}\r\n          addInstrumentFile={this.props.addInstrumentFile}\r\n          addfilecllick={this.addInstrumentMaintenanceFile}\r\n          deleteAction={this.props.deleteAction}\r\n          ConfirmDelete={this.ConfirmDelete}\r\n          addOpenDate={this.props.addOpenDate}\r\n          OpenDate={this.props.OpenDate}\r\n          CloseDate={this.props.CloseDate}\r\n          screenName=\"IDS_INSTRUMENTMAINTENANCE\"\r\n        />\r\n      );\r\n  \r\n      return tabMap;\r\n    }; */\r\n\r\n  ConfirmDelete = (selectedProjectMaster, operation, deleteId, screenName) => {\r\n    this.confirmMessage.confirm(\r\n      \"deleteMessage\",\r\n      this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n      () =>\r\n        this.DeleteProjectMaster(\r\n          screenName,\r\n          selectedProjectMaster,\r\n          operation,\r\n          deleteId\r\n\r\n        )\r\n    );\r\n  };\r\n\r\n\r\n\r\n  reloadData = () => {\r\n    this.searchRef.current.value = \"\";\r\n\r\n    // if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n    if (this.props.Login.masterData.SelectedProjectType !== undefined) {\r\n      if (Object.values(this.props.Login.masterData.SelectedProjectType).length && this.props.Login.masterData.SelectedProjectType !== undefined) {\r\n        let inputParam = {\r\n          inputData: {\r\n            // nprojecttypecode: this.state.selectedRecord.nprojecttypecode.value,\r\n            nprojecttypecode: this.props.Login.masterData.SelectedProjectType.nprojecttypecode,\r\n            userinfo: this.props.Login.userInfo,\r\n            // nfilterProjectType: this.state.selectedRecord.nprojecttypecode,\r\n            nfilterProjectType: this.props.Login.masterData.SelectedProjectType,\r\n          },\r\n          classUrl: \"projectmaster\",\r\n          methodUrl: \"ProjectMasterByProjectType\",\r\n        };\r\n\r\n        this.props.changeProjectTypeFilter(inputParam, this.props.Login.masterData.filterProjectType);\r\n      }\r\n    } else {\r\n      toast.warn(\r\n        this.props.intl.formatMessage({\r\n          id: \"IDS_PROJECTTYPENOTAVAILABLE\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n\r\n\r\n  closeModal = () => {\r\n    let loadEsign = this.props.Login.loadEsign;\r\n    let openModal = this.props.Login.openModal;\r\n    //let openClosureModal=this.props.Login.openClosureModal;\r\n    let selectedRecord = this.state.selectedRecord;\r\n    let modalShow = this.props.Login.modalShow;;\r\n    //    let selectedRecord = this.state.selectedRecord;\r\n    if (this.props.Login.loadEsign) {\r\n      if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"approve\") {\r\n        loadEsign = false;\r\n        openModal = false;\r\n        // if (this.props.Login.modalTitle === \"IDS_RETIREDPROJECT\" ||\r\n        // this.props.Login.modalTitle === \"IDS_PROJECTCOMPLETION\") {\r\n        // modalShow = true;\r\n        // openModal = false;\r\n        // openClosureModal = false}\r\n        // openClosureModal=false;\r\n        selectedRecord = {};\r\n      }\r\n      else {\r\n        loadEsign = false;\r\n        if (this.props.Login.screenName === \"IDS_RETIREDPROJECT\" ||\r\n          this.props.Login.screenName === \"IDS_PROJECTCOMPLETION\") {\r\n          modalShow = true;\r\n          openModal = false;\r\n          //openClosureModal = false\r\n\r\n        }\r\n        selectedRecord['esignpassword'] = '';\r\n        selectedRecord['esigncomments'] = '';\r\n        selectedRecord['esignreason'] = '';\r\n      }\r\n    }\r\n    else {\r\n      this.props.Login.Client = [];\r\n      this.props.Login.QuotationNo = [];\r\n      openModal = false;\r\n      // openClosureModal=false;\r\n      modalShow = false;\r\n      selectedRecord = {};\r\n    }\r\n\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { openModal, modalShow, loadEsign, selectedRecord }\r\n    }\r\n    this.props.updateStore(updateInfo);\r\n\r\n  }\r\n\r\n\r\n\r\n  closeModalShow = () => {\r\n    let loadEsign = this.props.Login.loadEsign;\r\n\r\n    let modalShow = this.props.Login.modalShow;\r\n    //let popUp = this.props.Login.popUp;\r\n    let selectedRecord = this.props.Login.selectedRecord;\r\n    if (this.props.Login.loadEsign) {\r\n      loadEsign = false;\r\n    } else {\r\n      modalShow = false;\r\n      selectedRecord = {};\r\n      //popUp = undefined;\r\n    }\r\n\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { modalShow, selectedRecord, selectedId: null, loadEsign, },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n\r\n  componentDidUpdate(previousProps) {\r\n    let updateState = false;\r\n    let {\r\n      selectedRecord,\r\n      selectedRecordfilter,\r\n      userRoleControlRights,\r\n      controlMap,\r\n      filterData,\r\n      nfilterProjectType,\r\n      filterProjectType,\r\n \r\n    } = this.state;\r\n \r\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n      selectedRecord = this.props.Login.selectedRecord;\r\n      updateState = true;\r\n      this.setState({ selectedRecord, selectedRecordfilter });\r\n    }\r\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n      userRoleControlRights = [];\r\n      if (this.props.Login.userRoleControlRights) {\r\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode\r\n        ] &&\r\n          Object.values(\r\n            this.props.Login.userRoleControlRights[\r\n            this.props.Login.userInfo.nformcode\r\n            ]\r\n          ).map((item) => userRoleControlRights.push(item.ncontrolcode));\r\n      }\r\n      controlMap = getControlMap(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode\r\n      );\r\n      this.setState({\r\n        controlMap, userRoleControlRights, data: this.props.Login.masterData.ProjectMember,\r\n        dataResult: process(this.props.Login.masterData.ProjectMember || [], this.state.dataState)\r\n      });\r\n      //   updateState = true;\r\n    }\r\n \r\n    let nprojecttypecode = this.state.nfilterProjectType || {};\r\n \r\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n      nfilterProjectType = this.state.nfilterProjectType || {};\r\n \r\n      const filterProjectType = constructOptionList(this.props.Login.masterData.filterProjectType || [], \"nprojecttypecode\",\r\n        \"sprojecttypename\", undefined, undefined, undefined);\r\n     \r\n \r\n       let ProjectMasterList = filterProjectType.get(\"OptionList\");\r\n      nprojecttypecode = ProjectMasterList[0];\r\n      //ALPD-3524\r\n      if (this.props.Login.masterData.filterProjectType !== previousProps.Login.masterData.filterProjectType) {\r\n      selectedRecordfilter = { nprojecttypecodevalue: nprojecttypecode }\r\n      }\r\n      selectedRecord = { nprojecttypecodevalue: nprojecttypecode }\r\n      // nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\r\n      this.setState({\r\n        ProjectMasterList,\r\n        selectedRecordfilter, selectedRecord, data: this.props.Login.masterData.ProjectMember, dataState: { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 },\r\n        dataResult: process(this.props.Login.masterData.ProjectMember || [], { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 })\r\n      });\r\n \r\n      if (this.props.Login.masterData.SelectedProjectType && this.props.Login.masterData.SelectedProjectType !== previousProps.Login.masterData.SelectedProjectType) {\r\n        nfilterProjectType = {\r\n          label: this.props.Login.masterData.SelectedProjectType.sprojecttypename,\r\n          value: this.props.Login.masterData.SelectedProjectType.nprojecttypecode,\r\n          item: this.props.Login.masterData.SelectedProjectType,\r\n        };\r\n      }\r\n      //  selectedRecordfilter = {nprojecttypecodevalue:nfilterProjectType}\r\n      filterData = this.generateBreadCrumData();\r\n      updateState = true;\r\n      this.setState({ filterData, selectedRecordfilter });\r\n    }\r\n \r\n    if (this.props.Login.masterData.SelectedProjectType !== previousProps.Login.masterData.SelectedProjectType) {\r\n \r\n      let nprojecttypecodevalue = this.props.Login.masterData.SelectedProjectType ?\r\n        {\r\n          label: this.props.Login.masterData.SelectedProjectType.sprojecttypename,\r\n          value: this.props.Login.masterData.SelectedProjectType.nprojecttypecode,\r\n          item: this.props.Login.masterData.SelectedProjectType\r\n        } : \"\"\r\n      //  nprojecttypecode=ProjectMasterList[ProjectMasterList.length-1];\r\n      selectedRecordfilter = { nprojecttypecodevalue }\r\n      selectedRecord = { nprojecttypecodevalue: nprojecttypecode }\r\n      // nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\r\n      this.setState({\r\n        selectedRecordfilter, selectedRecord\r\n \r\n      });\r\n \r\n    }\r\n \r\n \r\n \r\n  }\r\n  generateBreadCrumData() {\r\n    const breadCrumbData = [];\r\n    if (this.props.Login.masterData && this.props.Login.masterData.SelectedProjectType) {\r\n\r\n      breadCrumbData.push({\r\n        label: \"IDS_PROJECTTYPE\",\r\n        value: this.props.Login.masterData.SelectedProjectType\r\n          ? this.props.Login.masterData.SelectedProjectType.sprojecttypename\r\n          : \"NA\",\r\n      });\r\n\r\n    } else if (this.props.Login.masterData && this.props.Login.masterData.SelectedProjectMaster) {\r\n\r\n      /*    breadCrumbData.push({\r\n            label: \"IDS_PROJECTTYPE\",\r\n            value: this.state.selectedRecord.nprojecttypecode\r\n              ? this.state.selectedRecord.nprojecttypecode.label\r\n              : \"NA\",\r\n          }); */\r\n\r\n      breadCrumbData.push({\r\n        label: \"IDS_PROJECTTYPE\",\r\n        value: this.props.Login.masterData.SelectedProjectMaster\r\n          ? this.props.Login.masterData.SelectedProjectMaster.sprojecttypename\r\n          : \"NA\",\r\n      });\r\n\r\n    } else {\r\n\r\n      /*       breadCrumbData.push({\r\n             label: \"IDS_PROJECTTYPE\",\r\n             value:  this.state.selectedRecord.nprojecttypecodevalue\r\n               ? this.state.selectedRecord.nprojecttypecodevalue.label\r\n               : \"NA\",\r\n           }); */\r\n\r\n      breadCrumbData.push({\r\n        label: \"IDS_PROJECTTYPE\",\r\n        value: this.props.Login.masterData.nfilterProjectType\r\n          ? this.props.Login.masterData.nfilterProjectType.label\r\n          : \"NA\",\r\n      });\r\n\r\n    }\r\n    return breadCrumbData;\r\n  }\r\n\r\n  openFilter = () => {\r\n    let showFilter = !this.props.Login.showFilter;\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  closeFilter = () => {\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter: false },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  ProjectMasterInfoPreview = (viewId) => {\r\n\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: {\r\n        screenName: \"IDS_PROJECTINFO\",\r\n        openModal: true,\r\n        operation: \"view\",\r\n        modalScreenSize: false,\r\n        ncontrolcode: viewId\r\n\r\n      },\r\n    };\r\n\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  onFilterSubmit = () => {\r\n    this.searchRef.current.value = \"\";\r\n\r\n    // if (this.state.nfilterProjectType.value) {\r\n    // if (this.state.selectedRecord.nprojecttypecodevalue.value) {\r\n    //if ((this.state.selectedRecord).length>0) {\r\n\r\n    // if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n\r\n    if (this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n      if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n        let inputParam = {\r\n          inputData: {\r\n            nprojecttypecode: this.state.selectedRecordfilter.nprojecttypecodevalue.value,\r\n            userinfo: this.props.Login.userInfo,\r\n            // nfilterProjectType: this.state.nfilterProjectType,\r\n            nfilterProjectType: this.state.selectedRecordfilter.nprojecttypecodevalue,\r\n          },\r\n          classUrl: \"projectmaster\",\r\n          methodUrl: \"ProjectMasterByProjectType\",\r\n        };\r\n        this.props.changeProjectTypeFilter(\r\n          inputParam,\r\n          this.props.Login.masterData.filterProjectType\r\n        );\r\n      }\r\n    } else {\r\n      toast.warn(\r\n        this.props.intl.formatMessage({\r\n          id: \"IDS_PROJECTTYPENOTAVAILABLE\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  callService,\r\n  crudMaster,\r\n  filterColumnData,\r\n  updateStore,\r\n  validateEsignCredential,\r\n  changeProjectTypeFilter,\r\n  viewAttachment, addProjectMaster, ReportInfo, getProjectMaster, getProjectmasterAddMemberService, addProjectMasterFile,\r\n  getuserComboServices, getClientByCategory, getQuotationByClient, closureProjectMaster, modalSave, validateEsignforModal,\r\n  projectMasterModal,getAvailableQuotation,getActiveProjectQuotationById\r\n})(injectIntl(ProjectMaster));\r\n"]},"metadata":{},"sourceType":"module"}