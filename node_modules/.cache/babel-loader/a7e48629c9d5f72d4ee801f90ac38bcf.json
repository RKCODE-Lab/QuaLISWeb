{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{ListWrapper}from'../../components/client-group.styles';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{connect}from'react-redux';import rsapi from'../../rsapi';import{process}from'@progress/kendo-data-query';import DataGrid from'../../components/data-grid/data-grid.component';// import {\n//     callService, crudMaster, getTestMaster, addTest, updateStore, getTestDetails, formulaChangeFunction, filterColumnData,\n//     addParameter, validateEsignCredential, addCodedResult, addParameterSpecification, getAvailableData, addFormula,\n//     changeTestCategoryFilter, addTestFile, viewAttachment,getActiveTestContainerTypeById\n// } from '../../actions'\nimport{callService,crudMaster,getMethodComboService,getMethodDetail,getAvailableValidityData,fetchMethodValidityById,getMethodValidityUTCDate,updateStore,validateEsignCredential,filterColumnData}from'../../actions';import MethodValidityView from'./MethodValidityView';import{injectIntl}from'react-intl';import{toast}from'react-toastify';//import AddParameter from './AddParameter'\n//import AddTest from '../../pages/testmanagement/AddTest'\nimport SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{getControlMap,showEsign,constructOptionList}from'../../components/CommonScript';//import TestCategoryFilter from './TestCategoryFilter';\nimport ListMaster from'../../components/list-master/list-master.component';import{faTrashAlt,faPencilAlt,faCopy,faCheck}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{ReadOnlyText,ContentPanel,MediaLabel}from'../../components/App.styles';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import Esign from'../audittrail/Esign';// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\nimport{parameterType,transactionStatus}from'../../components/Enumeration';import'react-perfect-scrollbar/dist/css/styles.css';// import { Tooltip } from '@progress/kendo-react-tooltip';\nimport AddMethod from'./AddMethod';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import{Affix}from'rsuite';//import ReactTooltip from 'react-tooltip';\nvar Method=/*#__PURE__*/function(_Component){_inherits(Method,_Component);var _super=_createSuper(Method);function Method(props){var _this;_classCallCheck(this,Method);_this=_super.call(this,props);_this.onSaveClick=function(saveType,formRef){// if (this.state.selectedRecord[\"dvalidityenddate\"] !== undefined && this.state.selectedRecord[\"dvaliditystartdate\"] !== undefined) {\n//     if (this.state.selectedRecord[\"dvalidityenddate\"] < this.state.selectedRecord[\"dvaliditystartdate\"]) {\n//         toast.info(this.props.intl.formatMessage({ id: \"IDS_ENDDATEGRATERTHANSTARTDATE\" }));\n//         return;\n//     }\n// }\n//add / edit            \nvar inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;var dataState=undefined;var selectedId=null;inputData[\"method\"]={};if(_this.props.Login.operation===\"update\"){// edit\ndataState=_this.state.dataState;inputData[_this.props.Login.inputParam.methodUrl.toLowerCase()]=JSON.parse(JSON.stringify(_this.state.selectedRecord));selectedId=_this.props.Login.selectedRecord.nmethodcode;inputData[\"method\"][\"nmethodcode\"]=_this.props.Login.selectedRecord.nmethodcode;}else{//add               \ninputData[_this.props.Login.inputParam.methodUrl.toLowerCase()]={\"nsitecode\":_this.props.Login.userInfo.nmastersitecode};}inputData[\"method\"][\"ndefaultstatus\"]=_this.state.selectedRecord[\"ndefaultstatus\"]!==undefined&&_this.state.selectedRecord[\"ndefaultstatus\"]?_this.state.selectedRecord[\"ndefaultstatus\"]:transactionStatus.NO;inputData[\"method\"][\"nmethodcatcode\"]=_this.state.selectedRecord[\"nmethodcatcode\"]?_this.state.selectedRecord[\"nmethodcatcode\"].value:\"\";inputData[\"method\"][\"smethodname\"]=_this.state.selectedRecord[\"smethodname\"]?_this.state.selectedRecord[\"smethodname\"]:\"\";inputData[\"method\"][\"sdescription\"]=_this.state.selectedRecord[\"sdescription\"]?_this.state.selectedRecord[\"sdescription\"]:\"\";inputData[\"methodvalidity\"]={};if(_this.state.selectedRecord[\"nvalidityenable\"]===3){inputData[\"methodvalidity\"][\"dvaliditystartdate\"]=_this.state.selectedRecord[\"dvaliditystartdate\"]?_this.state.selectedRecord[\"dvaliditystartdate\"]:new Date();inputData[\"methodvalidity\"][\"dvalidityenddate\"]=_this.state.selectedRecord[\"dvalidityenddate\"]?_this.state.selectedRecord[\"dvalidityenddate\"]:new Date();inputData[\"methodvalidity\"][\"svaliditystartdate\"]=_this.state.selectedRecord[\"svaliditystartdate\"]?_this.state.selectedRecord[\"svaliditystartdate\"]:new Date();inputData[\"methodvalidity\"][\"svalidityenddate\"]=_this.state.selectedRecord[\"svalidityenddate\"]?_this.state.selectedRecord[\"svalidityenddate\"]:new Date();}var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"Method\",//this.props.Login.inputParam.methodUrl,\ndisplayName:_this.props.Login.inputParam.displayName,inputData:inputData,selectedId:selectedId,dataState:dataState,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,searchRef:_this.searchRef};var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:_this.props.Login.inputParam.displayName}),operation:_this.props.Login.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.ConfirmDelete=function(deleteParam,deleteID){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteRecord(deleteParam,deleteID);});};_this.deleteRecord=function(deleteParam,nControlcode){var _inputData;var postParam={inputListName:\"Method\",selectedObject:\"SelectedMethod\",primaryKeyField:\"nmethodcode\",primaryKeyValue:_this.props.Login.masterData.SelectedMethod.nmethodcode,fetchUrl:\"method/getMethod\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"Method\",//this.props.Login.inputParam.methodUrl,                        \ndisplayName:_this.props.Login.inputParam.displayName,inputData:(_inputData={},_defineProperty(_inputData,\"method\",_this.props.Login.masterData.SelectedMethod),_defineProperty(_inputData,\"userinfo\",_this.props.Login.userInfo),_inputData),operation:deleteParam.operation,dataState:_this.state.dataState,postParam:postParam};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,nControlcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:_this.props.Login.inputParam.displayName}),operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.onEsignInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;;_this.setState({selectedRecord:selectedRecord});};_this.handleDateChange=function(dateName,dateValue,sdatename){var selectedRecord=_this.state.selectedRecord;if(dateName===\"dvaliditystartdate\"){selectedRecord[\"dvalidityenddate\"]=dateValue;}selectedRecord[dateName]=dateValue;selectedRecord[sdatename]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord[\"agree\"]=transactionStatus.NO;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.reloadData=function(){_this.searchRef.current.value=\"\";var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"Method\",//this.props.Login.inputParam.methodUrl,\ndisplayName:_this.props.Login.inputParam.displayName,userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],controlMap:new Map(),skip:0,take:_this.props.Login.settings?_this.props.Login.settings[3]:25};_this.searchRef=React.createRef();// this.searchFieldList = [\"smethodname\", \"sdescription\",  \"smethodcategoryname\", \"stransactionstatus\"];\n_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(Method,[{key:\"render\",value:function render(){var _this2=this;//     const addId = this.props.Login.inputParam && this.state.controlMap.has(\"Add\".concat(this.props.Login.inputParam.methodUrl))\n//     && this.state.controlMap.get(\"Add\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\n//    const editId = this.props.Login.inputParam && this.state.controlMap.has(\"Edit\".concat(this.props.Login.inputParam.methodUrl))\n//     && this.state.controlMap.get(\"Edit\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\nvar addId=this.state.controlMap.has(\"AddMethod\")&&this.state.controlMap.get(\"AddMethod\").ncontrolcode;var editId=this.state.controlMap.has(\"EditMethod\")&&this.state.controlMap.get(\"EditMethod\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteMethod\")&&this.state.controlMap.get(\"DeleteMethod\").ncontrolcode;// const addParam = {screenName:\"Method\", primaryeyField: \"nmethodcode\", primaryKeyValue:undefined,  \n//     operation:\"create\", inputParam:this.props.Login.inputParam, userInfo : this.props.Login.userInfo, ncontrolCode: addId};\n//   const editParam = {screenName:this.props.Login.inputParam && this.props.Login.inputParam.displayName && this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }), operation:\"update\", \n//    primaryKeyField:\"nmethodcode\", inputParam:this.props.Login.inputParam,  userInfo:this.props.Login.userInfo,  ncontrolCode:editId};\nvar addParam={screenName:\"IDS_METHOD\",operation:\"create\",primaryKeyName:\"nmethodcode\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,ncontrolcode:addId};var editParam={screenName:\"IDS_METHOD\",operation:\"update\",primaryKeyName:\"nmethodcode\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,ncontrolcode:editId,inputListName:\"Method\",selectedObject:\"SelectedMethod\"};var editValidityId=this.state.controlMap.has(\"EditMethodValidity\")&&this.state.controlMap.get(\"EditMethodValidity\").ncontrolcode;var approveValidityId=this.state.controlMap.has(\"ApproveMethodValidity\")&&this.state.controlMap.get(\"ApproveMethodValidity\").ncontrolcode;var editValidityParam={screenName:\"IDS_METHODVALIDITY\",operation:\"update\",primaryKeyName:\"nmethodvaliditycode\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,ncontrolcode:editValidityId,inputListName:\"MethodValidity\",selectedObject:\"selectedRecord\"};var approveValidityParam={screenName:\"IDS_METHODVALIDITY\",operation:\"approve\",primaryKeyName:\"nmethodvaliditycode\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,ncontrolcode:approveValidityId,inputListName:\"MethodValidity\",selectedObject:\"selectedRecord\"};var mandatoryFields=[{\"idsName\":\"IDS_METHODCATEGORY\",\"dataField\":\"nmethodcatcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_METHODNAME\",\"dataField\":\"smethodname\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}// {idsName: \"IDS_VALIDITYSTARTDATE\",dataField: \"dvaliditystartdate\", mandatoryLabel: \"IDS_SELECT\",controlType: \"selectbox\"},\n// {idsName: \"IDS_VALIDITYENDDATE\",dataField: \"dvalidityenddate\",mandatoryLabel: \"IDS_SELECT\",controlType: \"selectbox\"},\n];var deleteParam={operation:\"delete\"};var filterParam={inputListName:\"Method\",selectedObject:\"SelectedMethod\",primaryKeyField:\"nmethodcode\",fetchUrl:\"method/getMethod\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"smethodname\",\"sdescription\",\"smethodcategoryname\",\"stransactionstatus\"]};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(ListMaster,{masterData:this.props.Login.masterData,screenName:this.props.intl.formatMessage({id:\"IDS_METHOD\"}),masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.Method,getMasterDetail:function getMasterDetail(method){return _this2.props.getMethodDetail(method,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.SelectedMethod,primaryKeyField:\"nmethodcode\",mainField:\"smethodname\",firstField:\"smethodcatname\",secondField:\"sdisplaystatus\",openModal:function openModal(){return _this2.props.getMethodComboService(addParam);},userRoleControlRights:this.state.userRoleControlRights,addId:addId,searchRef:this.searchRef,reloadData:this.reloadData,filterColumnData:this.props.filterColumnData,filterParam:filterParam})),/*#__PURE__*/React.createElement(Col,{md:8},this.props.Login.masterData.Method&&this.props.Login.masterData.Method.length>0&&this.props.Login.masterData.SelectedMethod&&Object.values(this.props.Login.masterData.SelectedMethod).length>0?/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.SelectedMethod.smethodname),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",name:\"editmethodname\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.props.getMethodComboService(editParam);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",name:\"deletemethodname\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})//data-for=\"tooltip_list_wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this2.ConfirmDelete(deleteParam,deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_DESCRIPTION\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedMethod.sdescription)))),/*#__PURE__*/React.createElement(MethodValidityView,{userInfo:this.props.Login.userInfo,dataState:this.props.Login.dataState,masterData:this.props.Login.masterData,inputParam:this.props.Login.inputParam,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,esignRights:this.props.Login.userRoleControlRights,screenData:this.props.Login.screenData,openChildModal:this.props.Login.openChildModal,fetchMethodValidityById:this.props.fetchMethodValidityById,editParam:editValidityParam,operation:this.props.Login.operation,screenName:this.props.Login.screenName,selectedRecord:this.props.Login.selectedRecord,selectedMethod:this.props.Login.masterData.SelectedMethod,loadEsign:this.props.Login.loadEsign,ncontrolCode:this.props.Login.ncontrolCode,crudMaster:this.props.crudMaster,getAvailableValidityData:this.props.getAvailableValidityData,getMethodDetails:this.props.getMethodDetails,getMethodValidityUTCDate:this.props.getMethodValidityUTCDate,updateStore:this.props.updateStore,validateEsignCredential:this.props.validateEsignCredential,settings:this.props.Login.settings,selectedId:this.props.Login.selectedId,approveParam:approveValidityParam})))):\"\"))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,selectedRecord:this.state.selectedRecord||{},mandatoryFields:mandatoryFields||[],addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onEsignInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):/*#__PURE__*/React.createElement(AddMethod,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,handleDateChange:this.handleDateChange,methodCategoryList:this.props.Login.methodCategoryList||[],operation:this.props.Login.operation,userInfo:this.props.Login.userInfo,inputParam:this.props.Login.inputParam})}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var isComponentUpdated=false;// if (this.props.Login.regparentSubSampleColumnList !== previousProps.Login.regparentSubSampleColumnList) {\n//     this.setState({\n//         regparentSubSampleColumnList: this.props.Login.regparentSubSampleColumnList,\n//         regSubSamplecomboComponents: this.props.Login.regSubSamplecomboComponents,\n//         regSubSamplewithoutCombocomponent: this.props.Login.regSubSamplewithoutCombocomponent\n//     });\n// }\nif(this.props.Login.showSaveContinue!==previousProps.Login.showSaveContinue){this.setState({showSaveContinue:this.props.Login.showSaveContinue});}if(this.props.Login!==previousProps.Login){this.PrevoiusLoginData=previousProps;}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap});}}// generateBreadCrumData() {\n//     const breadCrumbData = [];\n//     if (this.props.Login.masterData && this.props.Login.masterData.filterTestCategory) {\n//         breadCrumbData.push(\n//             {\n//                 \"label\": \"IDS_TESTCATEGORY\",\n//                 \"value\": this.props.Login.masterData.SelectedTestCat ? this.props.Login.masterData.SelectedTestCat.stestcategoryname : \"NA\"\n//             }\n//         );\n//     }\n//     return breadCrumbData;\n// }\n},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:[],inputParam:undefined,operation:null,modalName:undefined}};this.props.updateStore(updateInfo);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return Method;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,getMethodComboService:getMethodComboService,getMethodDetail:getMethodDetail,getAvailableValidityData:getAvailableValidityData,fetchMethodValidityById:fetchMethodValidityById,getMethodValidityUTCDate:getMethodValidityUTCDate,updateStore:updateStore,validateEsignCredential:validateEsignCredential,filterColumnData:filterColumnData})(injectIntl(Method));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/testmanagement/Method.jsx"],"names":["React","Component","ListWrapper","Row","Col","Card","Nav","FormGroup","FormLabel","connect","rsapi","process","DataGrid","callService","crudMaster","getMethodComboService","getMethodDetail","getAvailableValidityData","fetchMethodValidityById","getMethodValidityUTCDate","updateStore","validateEsignCredential","filterColumnData","MethodValidityView","injectIntl","toast","SlideOutModal","getControlMap","showEsign","constructOptionList","ListMaster","faTrashAlt","faPencilAlt","faCopy","faCheck","FontAwesomeIcon","ReadOnlyText","ContentPanel","MediaLabel","DEFAULT_RETURN","Esign","parameterType","transactionStatus","AddMethod","ConfirmMessage","BreadcrumbComponent","Affix","Method","props","onSaveClick","saveType","formRef","inputData","Login","userInfo","dataState","undefined","selectedId","operation","state","inputParam","methodUrl","toLowerCase","JSON","parse","stringify","selectedRecord","nmethodcode","nmastersitecode","NO","value","Date","classUrl","displayName","searchRef","esignNeeded","userRoleControlRights","nformcode","ncontrolCode","updateInfo","typeName","data","loadEsign","screenData","masterData","openModal","screenName","intl","formatMessage","id","ConfirmDelete","deleteParam","deleteID","confirmMessage","confirm","deleteRecord","nControlcode","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","SelectedMethod","fetchUrl","fecthInputObject","userinfo","onEsignInputOnChange","event","target","type","name","checked","YES","setState","onInputOnChange","onComboChange","comboData","fieldName","handleDateChange","dateName","dateValue","sdatename","closeModal","validateEsign","sreason","password","reloadData","current","error","controlMap","Map","skip","take","settings","createRef","addId","has","get","ncontrolcode","editId","deleteId","addParam","primaryKeyName","editParam","editValidityId","approveValidityId","editValidityParam","approveValidityParam","mandatoryFields","filterParam","searchFieldList","searchedData","method","length","Object","values","smethodname","indexOf","sdescription","openChildModal","getMethodDetails","methodCategoryList","previousProps","isComponentUpdated","showSaveContinue","PrevoiusLoginData","map","item","push","modalName","masterStatus","errorCode","warn","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {ListWrapper} from '../../components/client-group.styles';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport rsapi from '../../rsapi';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\n// import {\r\n//     callService, crudMaster, getTestMaster, addTest, updateStore, getTestDetails, formulaChangeFunction, filterColumnData,\r\n//     addParameter, validateEsignCredential, addCodedResult, addParameterSpecification, getAvailableData, addFormula,\r\n//     changeTestCategoryFilter, addTestFile, viewAttachment,getActiveTestContainerTypeById\r\n// } from '../../actions'\r\nimport { callService, crudMaster,getMethodComboService,getMethodDetail,getAvailableValidityData,fetchMethodValidityById,getMethodValidityUTCDate,updateStore, validateEsignCredential,filterColumnData } from '../../actions';\r\nimport MethodValidityView from './MethodValidityView';\r\nimport { injectIntl } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\n//import AddParameter from './AddParameter'\r\n//import AddTest from '../../pages/testmanagement/AddTest'\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { getControlMap, showEsign, constructOptionList } from '../../components/CommonScript';\r\n//import TestCategoryFilter from './TestCategoryFilter';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { faTrashAlt, faPencilAlt, faCopy, faCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ReadOnlyText, ContentPanel, MediaLabel } from '../../components/App.styles';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport Esign from '../audittrail/Esign';\r\n// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\r\nimport { parameterType, transactionStatus } from '../../components/Enumeration';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport AddMethod from './AddMethod';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { Affix } from 'rsuite';\r\n//import ReactTooltip from 'react-tooltip';\r\n\r\n\r\nclass Method extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = ({\r\n            selectedRecord: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            take: this.props.Login.settings ? this.props.Login.settings[3] : 25\r\n        });\r\n        this.searchRef = React.createRef();\r\n       // this.searchFieldList = [\"smethodname\", \"sdescription\",  \"smethodcategoryname\", \"stransactionstatus\"];\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n\r\n    //     const addId = this.props.Login.inputParam && this.state.controlMap.has(\"Add\".concat(this.props.Login.inputParam.methodUrl))\r\n    //     && this.state.controlMap.get(\"Add\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\r\n\r\n    //    const editId = this.props.Login.inputParam && this.state.controlMap.has(\"Edit\".concat(this.props.Login.inputParam.methodUrl))\r\n    //     && this.state.controlMap.get(\"Edit\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\r\n    const addId = this.state.controlMap.has(\"AddMethod\") && this.state.controlMap.get(\"AddMethod\").ncontrolcode;\r\n    const editId = this.state.controlMap.has(\"EditMethod\") && this.state.controlMap.get(\"EditMethod\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteMethod\") && this.state.controlMap.get(\"DeleteMethod\").ncontrolcode;\r\n\r\n        // const addParam = {screenName:\"Method\", primaryeyField: \"nmethodcode\", primaryKeyValue:undefined,  \r\n        //     operation:\"create\", inputParam:this.props.Login.inputParam, userInfo : this.props.Login.userInfo, ncontrolCode: addId};\r\n\r\n        //   const editParam = {screenName:this.props.Login.inputParam && this.props.Login.inputParam.displayName && this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }), operation:\"update\", \r\n        //    primaryKeyField:\"nmethodcode\", inputParam:this.props.Login.inputParam,  userInfo:this.props.Login.userInfo,  ncontrolCode:editId};\r\n        const addParam = {\r\n            screenName: \"IDS_METHOD\", operation: \"create\", primaryKeyName: \"nmethodcode\",\r\n            masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n            ncontrolcode: addId\r\n        }\r\n\r\n        const editParam = {\r\n            screenName: \"IDS_METHOD\", operation: \"update\", primaryKeyName: \"nmethodcode\",\r\n            masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n            ncontrolcode: editId, inputListName: \"Method\", selectedObject: \"SelectedMethod\"\r\n        };\r\n        const editValidityId = this.state.controlMap.has(\"EditMethodValidity\") && this.state.controlMap.get(\"EditMethodValidity\").ncontrolcode;\r\n        const approveValidityId = this.state.controlMap.has(\"ApproveMethodValidity\") && this.state.controlMap.get(\"ApproveMethodValidity\").ncontrolcode;\r\n    const editValidityParam = {\r\n      screenName: \"IDS_METHODVALIDITY\", operation: \"update\", primaryKeyName: \"nmethodvaliditycode\",\r\n      masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n      ncontrolcode: editValidityId, inputListName: \"MethodValidity\", selectedObject: \"selectedRecord\"\r\n  };\r\n  const approveValidityParam = {\r\n    screenName: \"IDS_METHODVALIDITY\", operation: \"approve\", primaryKeyName: \"nmethodvaliditycode\",\r\n    masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n    ncontrolcode: approveValidityId, inputListName: \"MethodValidity\", selectedObject: \"selectedRecord\"\r\n};\r\n        const mandatoryFields = [{\"idsName\":\"IDS_METHODCATEGORY\",\"dataField\":\"nmethodcatcode\", \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n        {\"idsName\":\"IDS_METHODNAME\",\"dataField\":\"smethodname\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n        // {idsName: \"IDS_VALIDITYSTARTDATE\",dataField: \"dvaliditystartdate\", mandatoryLabel: \"IDS_SELECT\",controlType: \"selectbox\"},\r\n        // {idsName: \"IDS_VALIDITYENDDATE\",dataField: \"dvalidityenddate\",mandatoryLabel: \"IDS_SELECT\",controlType: \"selectbox\"},\r\n        ];\r\n        const deleteParam = { operation: \"delete\" };\r\n        const filterParam = {\r\n            inputListName: \"Method\", selectedObject: \"SelectedMethod\", primaryKeyField: \"nmethodcode\",\r\n            fetchUrl: \"method/getMethod\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"smethodname\", \"sdescription\", \"smethodcategoryname\", \"stransactionstatus\"]\r\n        };\r\n\r\n        return (\r\n            <>\r\n                {/* Start of get display */}\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {/* {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    } */}\r\n                    <Row noGutters={true}>\r\n                        <Col md=\"4\">\r\n                            <ListMaster\r\n                                masterData={this.props.Login.masterData}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_METHOD\" })}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.Method}\r\n                                getMasterDetail={(method) => this.props.getMethodDetail(method, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.SelectedMethod}\r\n                                primaryKeyField=\"nmethodcode\"\r\n                                mainField=\"smethodname\"\r\n                                firstField=\"smethodcatname\"\r\n                                secondField=\"sdisplaystatus\"\r\n                                openModal={() => this.props.getMethodComboService(addParam)}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n\r\n                                \r\n                                \r\n                            />\r\n                        </Col>\r\n                        <Col md={8}>\r\n                            {this.props.Login.masterData.Method && this.props.Login.masterData.Method.length > 0 && this.props.Login.masterData.SelectedMethod && Object.values(this.props.Login.masterData.SelectedMethod).length > 0 ?\r\n                                <ContentPanel className=\"panel-main-content\">\r\n                                    <Card className=\"border-0\">\r\n                                        <Card.Header>\r\n                                            {/* <ReactTooltip place=\"bottom\" globalEventOff='click' /> */}\r\n                                            <Card.Title className=\"product-title-main\">\r\n                                                {this.props.Login.masterData.SelectedMethod.smethodname}\r\n                                            </Card.Title>\r\n                                            <Card.Subtitle>\r\n                                                {/* <Row>\r\n                                                <Col md={8}> */}\r\n                                                <div className=\"d-flex product-category\">\r\n                                                    <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                        {/* <MediaLabel className={`btn btn-outlined ${this.props.Login.masterData.SelectedMethod.nstatus === 1 ? \"outline-success\" : \"outline-secondary\"} btn-sm ml-3`}>\r\n                                                            {this.props.Login.masterData.SelectedMethod.nstatus === 1 && <FontAwesomeIcon icon={faCheck}></FontAwesomeIcon>}\r\n                                                            {this.props.Login.masterData.SelectedMethod.sdisplaystatus}\r\n                                                        </MediaLabel> */}\r\n                                                        \r\n                                                    </h2>\r\n                                                    {/* </Col>\r\n                                                <Col md=\"4\"> */}\r\n                                                    {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                    <div className=\"d-inline\">\r\n                                                       \r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\" name=\"editmethodname\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                            //data-for=\"tooltip_list_wrap\"\r\n                                                            onClick={() => this.props.getMethodComboService(editParam)}>\r\n                                                            <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" name=\"deletemethodname\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            //data-for=\"tooltip_list_wrap\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                            onClick={() => this.ConfirmDelete(deleteParam,deleteId)}\r\n                                                        >\r\n                                                            <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                            {/* <ConfirmDialog\r\n                                                                    name=\"deleteMessage\"\r\n                                                                    message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                                    doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                                    doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                                    icon={faTrashAlt}\r\n                                                                    // title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                    hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                    handleClickDelete={() => this.deleteAction(SelectedTest, \"delete\", deleteId, \"TestMaster\", \"openModal\")}\r\n                                                                /> */}\r\n                                                        </Nav.Link>\r\n                                                        \r\n                                                    </div>\r\n                                                    {/* </Tooltip> */}\r\n                                                </div>\r\n                                                {/* </Col>\r\n                                            </Row> */}\r\n                                            </Card.Subtitle>\r\n                                        </Card.Header>\r\n                                        <Card.Body className=\"form-static-wrap\">\r\n                                            <Row>\r\n                                                <Col md=\"12\">\r\n                                                    <FormGroup>\r\n                                                        <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_DESCRIPTION\" })}</FormLabel>\r\n                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedMethod.sdescription}</ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                {/* <Col md=\"6\">\r\n                                                    <FormGroup>\r\n                                                        <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_DISPLAYSTATUS\" })}</FormLabel>\r\n                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedMethod.sdisplaystatus}</ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                </Col> */}\r\n\r\n                                                \r\n                                               \r\n                                                {/* End Here */}\r\n                                            </Row>\r\n                                            <MethodValidityView\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                dataState={this.props.Login.dataState}\r\n                                                masterData={this.props.Login.masterData}\r\n                                                inputParam={this.props.Login.inputParam}\r\n                                                controlMap={this.state.controlMap}\r\n                                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                                esignRights={this.props.Login.userRoleControlRights}\r\n                                                screenData={this.props.Login.screenData}\r\n                                                openChildModal={this.props.Login.openChildModal}\r\n                                                fetchMethodValidityById={this.props.fetchMethodValidityById}\r\n                                                editParam={editValidityParam}\r\n                                                operation={this.props.Login.operation}\r\n                                                screenName={this.props.Login.screenName}\r\n                                                selectedRecord={this.props.Login.selectedRecord}\r\n                                                selectedMethod={this.props.Login.masterData.SelectedMethod}\r\n                                                loadEsign={this.props.Login.loadEsign}\r\n                                                ncontrolCode={this.props.Login.ncontrolCode}\r\n                                                crudMaster={this.props.crudMaster}\r\n                                                getAvailableValidityData={this.props.getAvailableValidityData}\r\n                                                getMethodDetails={this.props.getMethodDetails}\r\n                                                getMethodValidityUTCDate={this.props.getMethodValidityUTCDate}\r\n                                                updateStore={this.props.updateStore}\r\n                                                validateEsignCredential={this.props.validateEsignCredential}\r\n                                                settings = {this.props.Login.settings}\r\n                                                selectedId={this.props.Login.selectedId}\r\n                                                approveParam ={approveValidityParam}\r\n                                            ></MethodValidityView>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </ContentPanel>\r\n                                : \"\"\r\n                            }\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {/* End of get display */}\r\n\r\n                {/* Start of Modal Sideout for Test Creation */}\r\n                {this.props.Login.openModal && \r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={mandatoryFields || []}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign\r\n                                operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onEsignInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : <AddMethod  \r\n                            selectedRecord={this.state.selectedRecord ||{}}                                  \r\n                            onInputOnChange={this.onInputOnChange}\r\n                            onComboChange={this.onComboChange} \r\n                            handleDateChange={this.handleDateChange}\r\n                            methodCategoryList={this.props.Login.methodCategoryList ||[]}\r\n                            operation={this.props.Login.operation}\r\n                            userInfo={this.props.Login.userInfo}\r\n                            inputParam={this.props.Login.inputParam}  \r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n                {/* End of Modal Sideout for Test Creation */}\r\n            </>\r\n        );\r\n    }\r\n   \r\n    onSaveClick = (saveType, formRef) => {\r\n        // if (this.state.selectedRecord[\"dvalidityenddate\"] !== undefined && this.state.selectedRecord[\"dvaliditystartdate\"] !== undefined) {\r\n        //     if (this.state.selectedRecord[\"dvalidityenddate\"] < this.state.selectedRecord[\"dvaliditystartdate\"]) {\r\n        //         toast.info(this.props.intl.formatMessage({ id: \"IDS_ENDDATEGRATERTHANSTARTDATE\" }));\r\n        //         return;\r\n        //     }\r\n        // }\r\n        //add / edit            \r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        let dataState = undefined;\r\n        let selectedId = null;\r\n        inputData[\"method\"]={};\r\n        if ( this.props.Login.operation === \"update\"){\r\n            // edit\r\n            dataState = this.state.dataState;\r\n            inputData[this.props.Login.inputParam.methodUrl.toLowerCase()] = JSON.parse(JSON.stringify(this.state.selectedRecord));\r\n            selectedId = this.props.Login.selectedRecord.nmethodcode;              \r\n            inputData[\"method\"][\"nmethodcode\"] = this.props.Login.selectedRecord.nmethodcode;\r\n        }\r\n        else{\r\n            //add               \r\n            inputData[this.props.Login.inputParam.methodUrl.toLowerCase()] = {\"nsitecode\":this.props.Login.userInfo.nmastersitecode};      \r\n           \r\n        }   \r\n\r\n        inputData[\"method\"][\"ndefaultstatus\"] = this.state.selectedRecord[\"ndefaultstatus\"] !== undefined && this.state.selectedRecord[\"ndefaultstatus\"]? this.state.selectedRecord[\"ndefaultstatus\"]:transactionStatus.NO;\r\n        inputData[\"method\"][\"nmethodcatcode\"] = this.state.selectedRecord[\"nmethodcatcode\"]? this.state.selectedRecord[\"nmethodcatcode\"].value:\"\";\r\n        inputData[\"method\"][\"smethodname\"] = this.state.selectedRecord[\"smethodname\"]? this.state.selectedRecord[\"smethodname\"]:\"\";\r\n      \r\n        inputData[\"method\"][\"sdescription\"] = this.state.selectedRecord[\"sdescription\"]? this.state.selectedRecord[\"sdescription\"]:\"\";\r\n        inputData[\"methodvalidity\"]={};\r\n        if(this.state.selectedRecord[\"nvalidityenable\"]===3)\r\n        {\r\n        inputData[\"methodvalidity\"][\"dvaliditystartdate\"] = this.state.selectedRecord[\"dvaliditystartdate\"] ? this.state.selectedRecord[\"dvaliditystartdate\"] : new Date();\r\n        inputData[\"methodvalidity\"][\"dvalidityenddate\"] = this.state.selectedRecord[\"dvalidityenddate\"] ? this.state.selectedRecord[\"dvalidityenddate\"] : new Date();\r\n        inputData[\"methodvalidity\"][\"svaliditystartdate\"] = this.state.selectedRecord[\"svaliditystartdate\"] ? this.state.selectedRecord[\"svaliditystartdate\"] : new Date();\r\n        inputData[\"methodvalidity\"][\"svalidityenddate\"] = this.state.selectedRecord[\"svalidityenddate\"] ? this.state.selectedRecord[\"svalidityenddate\"] : new Date();\r\n        }   \r\n\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"Method\",//this.props.Login.inputParam.methodUrl,\r\n            displayName:this.props.Login.inputParam.displayName,  \r\n            inputData: inputData, selectedId, dataState,\r\n            operation: this.props.Login.operation, saveType, formRef,\r\n            searchRef: this.searchRef,\r\n\r\n        }\r\n       \r\n        const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\r\n        if (esignNeeded){\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign:true, screenData:{inputParam, masterData:this.props.Login.masterData}, \r\n                    openModal:true, screenName:this.props.intl.formatMessage({ id:this.props.Login.inputParam.displayName}),\r\n                    operation:this.props.Login.operation\r\n                    }\r\n                }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else{\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n       \r\n}\r\n\r\n    ConfirmDelete = (deleteParam,deleteID) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteRecord(deleteParam,deleteID));\r\n    }\r\n    deleteRecord = (deleteParam, nControlcode) => {\r\n        const postParam = {\r\n            inputListName: \"Method\", selectedObject: \"SelectedMethod\",\r\n            primaryKeyField: \"nmethodcode\",\r\n            primaryKeyValue: this.props.Login.masterData.SelectedMethod.nmethodcode,\r\n            fetchUrl: \"method/getMethod\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n                                classUrl: this.props.Login.inputParam.classUrl,\r\n                                methodUrl: \"Method\",//this.props.Login.inputParam.methodUrl,                        \r\n                                displayName:this.props.Login.inputParam.displayName,\r\n                                inputData: {[\"method\"] :this.props.Login.masterData.SelectedMethod,   //deleteParam.selectedRecord,\r\n                                            \"userinfo\": this.props.Login.userInfo},\r\n                                operation:deleteParam.operation,\r\n            dataState: this.state.dataState,\r\n            postParam\r\n                            }       \r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, nControlcode)){\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign:true, screenData:{inputParam, masterData:this.props.Login.masterData}, \r\n                    openModal:true, screenName:this.props.intl.formatMessage({ id:this.props.Login.inputParam.displayName}),\r\n                    operation:deleteParam.operation\r\n                    }\r\n                }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else{\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n    onEsignInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onInputOnChange=(event) => {\r\n        \r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox')\r\n        {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else{\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        \r\n        this.setState({selectedRecord});\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {      \r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;;   \r\n     \r\n        this.setState({selectedRecord});        \r\n    }\r\n    handleDateChange = (dateName, dateValue, sdatename) => {\r\n        const { selectedRecord } = this.state;\r\n        if(dateName === \"dvaliditystartdate\")\r\n        {\r\n           selectedRecord[\"dvalidityenddate\"] = dateValue;  \r\n        }\r\n        selectedRecord[dateName] = dateValue;\r\n        selectedRecord[sdatename] = dateValue;\r\n        this.setState({ selectedRecord });\r\n      };\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            } else {\r\n                loadEsign = false;\r\n                selectedRecord[\"agree\"] = transactionStatus.NO;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n\r\n        const inputParam = {\r\n                        inputData : {\"userinfo\":this.props.Login.userInfo},                        \r\n                        classUrl: this.props.Login.inputParam.classUrl,\r\n                        methodUrl: \"Method\",//this.props.Login.inputParam.methodUrl,\r\n                        displayName:this.props.Login.inputParam.displayName,\r\n                        userInfo: this.props.Login.userInfo\r\n                    };     \r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let isComponentUpdated = false;\r\n\r\n       \r\n\r\n        // if (this.props.Login.regparentSubSampleColumnList !== previousProps.Login.regparentSubSampleColumnList) {\r\n        //     this.setState({\r\n        //         regparentSubSampleColumnList: this.props.Login.regparentSubSampleColumnList,\r\n        //         regSubSamplecomboComponents: this.props.Login.regSubSamplecomboComponents,\r\n        //         regSubSamplewithoutCombocomponent: this.props.Login.regSubSamplewithoutCombocomponent\r\n        //     });\r\n\r\n        // }\r\n\r\n\r\n        if (this.props.Login.showSaveContinue !== previousProps.Login.showSaveContinue) {\r\n            this.setState({ showSaveContinue: this.props.Login.showSaveContinue });\r\n\r\n        }\r\n        if (this.props.Login !== previousProps.Login) {\r\n            this.PrevoiusLoginData = previousProps\r\n        }\r\n\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ userRoleControlRights, controlMap });\r\n        }\r\n        \r\n\r\n        \r\n       \r\n        \r\n    }\r\n\r\n    // generateBreadCrumData() {\r\n    //     const breadCrumbData = [];\r\n    //     if (this.props.Login.masterData && this.props.Login.masterData.filterTestCategory) {\r\n\r\n    //         breadCrumbData.push(\r\n    //             {\r\n    //                 \"label\": \"IDS_TESTCATEGORY\",\r\n    //                 \"value\": this.props.Login.masterData.SelectedTestCat ? this.props.Login.masterData.SelectedTestCat.stestcategoryname : \"NA\"\r\n    //             }\r\n    //         );\r\n    //     }\r\n    //     return breadCrumbData;\r\n    // }\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n                \r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster,getMethodComboService,getMethodDetail,getAvailableValidityData,fetchMethodValidityById,getMethodValidityUTCDate,updateStore, validateEsignCredential,filterColumnData,\r\n})(injectIntl(Method));"]},"metadata":{},"sourceType":"module"}