{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Row,Col,Card,FormGroup,FormLabel}from'react-bootstrap';import{injectIntl}from'react-intl';import CustomSwitch from'../../components/custom-switch/custom-switch.component';import FormMultiSelect from'../../components/form-multi-select/form-multi-select.component';import FormSelectSearch from'../../components/form-select-search/form-select-search.component';import FormNumericInput from'../../components/form-numeric-input/form-numeric-input.component';import{toast}from'react-toastify';import Axios from'axios';import{constructOptionList}from'../../components/CommonScript';import rsapi from'../../rsapi';import Preloader from'../../components/preloader/preloader.component';import FormInput from'../../components/form-input/form-input.component';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTrashAlt,faCopy,faPencilAlt,faSync,faPlus,faThumbsUp,faBoxOpen,faBox,faLocationArrow,faFolderMinus,faFolder,faFolderOpen,faArrowRight,faSearch,faTimes,faArrowDown,faHandPointLeft,faArrowUp,faClone,faPuzzlePiece,faCalculator,faEye,faTrashRestore}from'@fortawesome/free-solid-svg-icons';import{ReadOnlyText}from'../../components/App.styles';import TestPopOver from'../ResultEntryBySample/TestPopOver';var RetrieveOrDiposeSample=/*#__PURE__*/function(_React$Component){_inherits(RetrieveOrDiposeSample,_React$Component);var _super=_createSuper(RetrieveOrDiposeSample);function RetrieveOrDiposeSample(props){var _this;_classCallCheck(this,RetrieveOrDiposeSample);_this=_super.call(this,props);_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(!event.target.checked){selectedRecord['nunitcode']&&delete selectedRecord['nunitcode'];selectedRecord['nquantity']&&delete selectedRecord['nquantity'];selectedRecord['saliquotsampleid']&&delete selectedRecord['saliquotsampleid'];}selectedRecord[event.target.name]=event.target.checked;}else{selectedRecord[event.target.name]=event.target.value;}_this.props.childDataChange(selectedRecord);_this.setState({selectedRecord:selectedRecord});};_this.onNumericInputChange=function(value,field){var selectedRecord=_this.state.selectedRecord||{};var constantvalue=value.target.value;if(!isNaN(constantvalue)){selectedRecord[field]=constantvalue;_this.props.childDataChange(selectedRecord);_this.setState({selectedRecord:selectedRecord});}};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;_this.props.childDataChange(selectedRecord);_this.setState({selectedRecord:selectedRecord});};_this.state={selectedRecord:_this.props.selectedRecord,dynamicfields:_this.props.dynamicfields};return _this;}_createClass(RetrieveOrDiposeSample,[{key:\"getSelectedBarcodeData\",value:function getSelectedBarcodeData(e,inputParam){var _this2=this;if(e.keyCode===13){this.setState({loading:true});var selectedRecord=this.state.selectedRecord||{};var urlArray=[];var url1=rsapi.post(\"/samplestorageretrieval/getSelectedBarcodeData\",{// nprojecttypecode: this.state.selectedBarcodeValue.nprojecttypecode,\nspositionvalue:inputParam.spositionvalue,userinfo:this.props.userInfo});urlArray=[url1];Axios.all(urlArray).then(function(response){var dynamicfields=[];dynamicfields=[{\"idsName\":\"IDS_SAMPLEID\",\"dataField\":\"spositionvalue\",\"width\":\"200px\",\"staticField\":true},{\"idsName\":\"IDS_POSITION\",\"dataField\":\"sposition\",\"width\":\"200px\",\"staticField\":true},{\"idsName\":\"IDS_QUANTITY\",\"dataField\":\"nquantity\",\"width\":\"200px\",\"staticField\":true},{\"idsName\":\"IDS_UNIT\",\"dataField\":\"sunitname\",\"width\":\"200px\",\"staticField\":true}];var temparray2=response[0].data['selectedProjectTypeList']&&response[0].data['selectedProjectTypeList'].map(function(option){return{\"idsName\":option.sfieldname,\"dataField\":option.sfieldname,\"width\":\"200px\"};});dynamicfields=[].concat(_toConsumableArray(dynamicfields),_toConsumableArray(temparray2));_this2.setState({dynamicfields:dynamicfields,selectedBarcodeValue:_objectSpread({},response[0].data['selectedBarcodeValue']),loading:false});}).catch(function(error){_this2.setState({loading:false});if(error.response.status===500){toast.error(error.message);}else{_this2.setState({dynamicfields:[],selectedBarcodeValue:{}});toast.info(error.response.data);}});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this$state=this.state,selectedRecord=_this$state.selectedRecord,dynamicfields=_this$state.dynamicfields;var bool=false;if(this.props.dynamicfields!==previousProps.dynamicfields){bool=true;dynamicfields=this.props.dynamicfields||{};}if(this.props.selectedRecord!==previousProps.selectedRecord){bool=true;selectedRecord=this.props.selectedRecord||{};}if(bool){this.setState({selectedRecord:selectedRecord,dynamicfields:dynamicfields});}}},{key:\"render\",value:function render(){var _this3=this;var retrieve=this.props.controlMap.has(\"Retrieve\")&&this.props.controlMap.get(\"Retrieve\").ncontrolcode;var dispose=this.props.controlMap.has(\"Dispose\")&&this.props.controlMap.get(\"Dispose\").ncontrolcode;return/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormInput,{name:'spositionvalue',label:this.props.intl.formatMessage({id:\"IDS_SAMPLEID\"}),placeholder:this.props.intl.formatMessage({id:\"IDS_SAMPLEID\"}),value:this.state.selectedRecord['spositionvalue']?this.state.selectedRecord['spositionvalue']:\"\",maxLength:20,isMandatory:true,onKeyDown:function onKeyDown(event){return _this3.getSelectedBarcodeData(event,_this3.state.selectedRecord);},onChange:function onChange(event){return _this3.onInputOnChange(event);}})),/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",style:{float:\"right\",marginRight:\"1rem\"},onClick:function onClick(){return _this3.props.CRUDSampleStorageTransaction({sunitname:_this3.state.selectedRecord.nunitcode?_this3.state.selectedRecord.nunitcode.label:\"NA\",saliquotsampleid:_this3.state.selectedRecord.saliquotsampleid&&_this3.state.selectedRecord.saliquotsampleid!==\"\"?_this3.state.selectedRecord.saliquotsampleid:\"\",nquantity:_this3.state.selectedRecord.nquantity&&_this3.state.selectedRecord.nquantity!==\"\"?_this3.state.selectedRecord.nquantity:0,ncontrolcode:retrieve,'nsamplestoragetransactioncode':_this3.state.selectedBarcodeValue&&_this3.state.selectedBarcodeValue.nsamplestoragetransactioncode,userinfo:_this3.props.userInfo,scomments:_this3.state.selectedRecord.scomments&&_this3.state.selectedRecord.scomments!==\"\"?_this3.state.selectedRecord.scomments:\"-\",isRetrieve:true,spositionvalue:_this3.state.selectedRecord.spositionvalue,nneedaliquot:_this3.state.selectedRecord.nneedaliquot&&_this3.state.selectedRecord.nneedaliquot?true:false,nunitcode:_this3.state.selectedRecord.nunitcode&&_this3.state.selectedRecord.nunitcode!==\"\"?_this3.state.selectedRecord.nunitcode:0},'create');},hidden:this.props.userRoleControlRights.indexOf(retrieve)===-1},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashRestore}),\"  \",this.props.intl.formatMessage({id:\"IDS_RETRIEVE\"}))),/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",style:{float:\"right\",marginRight:\"1rem\"},onClick:function onClick(){return _this3.props.CRUDSampleStorageTransaction({sunitname:_this3.state.selectedRecord.nunitcode?_this3.state.selectedRecord.nunitcode.label:\"NA\",saliquotsampleid:_this3.state.selectedRecord.saliquotsampleid&&_this3.state.selectedRecord.saliquotsampleid!==\"\"?_this3.state.selectedRecord.saliquotsampleid:\"\",nquantity:_this3.state.selectedRecord.nquantity&&_this3.state.selectedRecord.nquantity!==\"\"?_this3.state.selectedRecord.nquantity:0,ncontrolcode:dispose,'nsamplestoragetransactioncode':_this3.state.selectedBarcodeValue&&_this3.state.selectedBarcodeValue.nsamplestoragetransactioncode,userinfo:_this3.props.userInfo,scomments:_this3.state.selectedRecord.scomments&&_this3.state.selectedRecord.scomments!==\"\"?_this3.state.selectedRecord.scomments:\"-\",isRetrieve:false,spositionvalue:_this3.state.selectedRecord.spositionvalue,nneedaliquot:_this3.state.selectedRecord.nneedaliquot&&_this3.state.selectedRecord.nneedaliquot?true:false},'create');},hidden:this.props.userRoleControlRights.indexOf(dispose)===-1},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt}),\"  \",this.props.intl.formatMessage({id:\"IDS_DISPOSE\"})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormInput,{name:'scomments',label:this.props.intl.formatMessage({id:\"IDS_COMMENTS\"}),placeholder:this.props.intl.formatMessage({id:\"IDS_COMMENTS\"}),value:this.state.selectedRecord['scomments']?this.state.selectedRecord['scomments']:\"\",maxLength:255,onChange:function onChange(event){return _this3.onInputOnChange(event);}}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(CustomSwitch,{id:\"nneedaliquot\",name:\"nneedaliquot\",type:\"switch\",label:this.props.intl.formatMessage({id:\"IDS_INPUTFORALIQUOTSAMPLE\"}),className:\"custom-switch-md\",checked:this.state.selectedRecord&&this.state.selectedRecord[\"nneedaliquot\"]?true:false,onChange:this.onInputOnChange}))),this.state.selectedRecord[\"nneedaliquot\"]&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormInput,{name:'saliquotsampleid',label:this.props.intl.formatMessage({id:\"IDS_NEWSAMPLEID\"}),placeholder:this.props.intl.formatMessage({id:\"IDS_NEWSAMPLEID\"}),value:this.state.selectedRecord['saliquotsampleid']?this.state.selectedRecord['saliquotsampleid']:\"\",maxLength:20,isMandatory:true,onChange:function onChange(event){return _this3.onInputOnChange(event);}})),/*#__PURE__*/React.createElement(Col,{md:6},\" \",/*#__PURE__*/React.createElement(TestPopOver,{intl:this.props.intl,needIcon:true,needPopoverTitleContent:true,placement:\"right\",stringList:['The Sample will be Restored to the Same Position']}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormInput,{label:this.props.intl.formatMessage({id:\"IDS_QUANTITY\"}),name:\"nquantity\",type:\"numeric\",onChange:function onChange(event){return _this3.onNumericInputChange(event,'nquantity');},placeholder:this.props.intl.formatMessage({id:\"IDS_QUANTITY\"}),value:this.state.selectedRecord[\"nquantity\"]?this.state.selectedRecord[\"nquantity\"]||[]:[],isMandatory:true,required:true,maxLength:\"5\"})),/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormSelectSearch,{name:\"nunitcode\",as:\"select\",onChange:function onChange(event){return _this3.onComboChange(event,'nunitcode');},formLabel:this.props.intl.formatMessage({id:\"IDS_UNITNAME\"}),isMandatory:true,value:this.state.selectedRecord[\"nunitcode\"]?this.state.selectedRecord[\"nunitcode\"]||[]:[],options:this.props.unitMapList?this.props.unitMapList:[],optionId:\"value\",optionValue:\"label\",isMulti:false,isDisabled:false,isSearchable:false,isClearable:true})))),/*#__PURE__*/React.createElement(Row,null,this.state.dynamicfields&&this.state.dynamicfields.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\" mb-2\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(\"span\",{style:{display:\"inline-block\",marginTop:\"1%\"}},/*#__PURE__*/React.createElement(\"h4\",null,this.props.intl.formatMessage({id:\"IDS_SAMPLEINFO\"})))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Row,null,this.state.dynamicfields&&this.state.dynamicfields.map(function(item,index){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{md:6,key:\"specInfo_\".concat(index)},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,item.hasOwnProperty('staticField')?_this3.props.intl.formatMessage({id:item.idsName}):item.idsName,\"  \"),/*#__PURE__*/React.createElement(ReadOnlyText,null,_this3.state.selectedBarcodeValue[item.dataField]===\"\"||_this3.state.selectedBarcodeValue[item.dataField]===undefined||_this3.state.selectedBarcodeValue[item.dataField]===null?\"-\":_this3.state.selectedBarcodeValue[item.dataField]))));})))))));}}]);return RetrieveOrDiposeSample;}(React.Component);export default injectIntl(RetrieveOrDiposeSample);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/storagemanagement/RetrieveOrDiposeSample.jsx"],"names":["React","Row","Col","Card","FormGroup","FormLabel","injectIntl","CustomSwitch","FormMultiSelect","FormSelectSearch","FormNumericInput","toast","Axios","constructOptionList","rsapi","Preloader","FormInput","FontAwesomeIcon","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faBoxOpen","faBox","faLocationArrow","faFolderMinus","faFolder","faFolderOpen","faArrowRight","faSearch","faTimes","faArrowDown","faHandPointLeft","faArrowUp","faClone","faPuzzlePiece","faCalculator","faEye","faTrashRestore","ReadOnlyText","TestPopOver","RetrieveOrDiposeSample","props","onInputOnChange","event","selectedRecord","state","target","type","checked","name","value","childDataChange","setState","onNumericInputChange","field","constantvalue","isNaN","onComboChange","comboData","fieldName","dynamicfields","e","inputParam","keyCode","loading","urlArray","url1","post","spositionvalue","userinfo","userInfo","all","then","response","temparray2","data","map","option","sfieldname","selectedBarcodeValue","catch","error","status","message","info","previousProps","bool","retrieve","controlMap","has","get","ncontrolcode","dispose","intl","formatMessage","id","getSelectedBarcodeData","float","marginRight","CRUDSampleStorageTransaction","sunitname","nunitcode","label","saliquotsampleid","nquantity","nsamplestoragetransactioncode","scomments","isRetrieve","nneedaliquot","userRoleControlRights","indexOf","unitMapList","length","display","marginTop","item","index","hasOwnProperty","idsName","dataField","undefined","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Row, Col, Card, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { injectIntl } from 'react-intl';\r\nimport CustomSwitch from '../../components/custom-switch/custom-switch.component';\r\nimport FormMultiSelect from '../../components/form-multi-select/form-multi-select.component';\r\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\r\nimport FormNumericInput from '../../components/form-numeric-input/form-numeric-input.component';\r\nimport { toast } from 'react-toastify';\r\nimport Axios from 'axios';\r\nimport { constructOptionList } from '../../components/CommonScript';\r\nimport rsapi from '../../rsapi';\r\nimport Preloader from '../../components/preloader/preloader.component';\r\nimport FormInput from '../../components/form-input/form-input.component';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight, faSearch, faTimes, faArrowDown, faHandPointLeft, faArrowUp, faClone, faPuzzlePiece, faCalculator, faEye, faTrashRestore } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { ReadOnlyText } from '../../components/App.styles';\r\nimport TestPopOver from '../ResultEntryBySample/TestPopOver';\r\n\r\n\r\nclass RetrieveOrDiposeSample extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            selectedRecord: this.props.selectedRecord,\r\n            dynamicfields: this.props.dynamicfields\r\n        }\r\n    }\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (!event.target.checked) {\r\n                selectedRecord['nunitcode'] && delete selectedRecord['nunitcode']\r\n                selectedRecord['nquantity'] && delete selectedRecord['nquantity']\r\n                selectedRecord['saliquotsampleid'] && delete selectedRecord['saliquotsampleid']\r\n            }\r\n            selectedRecord[event.target.name] = event.target.checked\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.props.childDataChange(selectedRecord);\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onNumericInputChange = (value, field) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let constantvalue = value.target.value;\r\n        if (!isNaN(constantvalue)) {\r\n            selectedRecord[field] = constantvalue;\r\n            this.props.childDataChange(selectedRecord);\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n        this.props.childDataChange(selectedRecord);\r\n        this.setState({ selectedRecord });\r\n    }\r\n    getSelectedBarcodeData(e, inputParam) {\r\n        if (e.keyCode === 13) {\r\n            this.setState({ loading: true })\r\n            let selectedRecord = this.state.selectedRecord || {};\r\n            let urlArray = [];\r\n            const url1 = rsapi.post(\"/samplestorageretrieval/getSelectedBarcodeData\", {\r\n                // nprojecttypecode: this.state.selectedBarcodeValue.nprojecttypecode,\r\n                spositionvalue: inputParam.spositionvalue,\r\n                userinfo: this.props.userInfo\r\n            });\r\n            urlArray = [url1];\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let dynamicfields = [];\r\n                    dynamicfields = [{ \"idsName\": \"IDS_SAMPLEID\", \"dataField\": \"spositionvalue\", \"width\": \"200px\", \"staticField\": true },\r\n                    { \"idsName\": \"IDS_POSITION\", \"dataField\": \"sposition\", \"width\": \"200px\", \"staticField\": true },\r\n                    { \"idsName\": \"IDS_QUANTITY\", \"dataField\": \"nquantity\", \"width\": \"200px\", \"staticField\": true },\r\n                    { \"idsName\": \"IDS_UNIT\", \"dataField\": \"sunitname\", \"width\": \"200px\", \"staticField\": true }];\r\n                    const temparray2 = response[0].data['selectedProjectTypeList'] && response[0].data['selectedProjectTypeList'].map((option) => {\r\n                        return { \"idsName\": option.sfieldname, \"dataField\": option.sfieldname, \"width\": \"200px\" };\r\n                    });\r\n                    dynamicfields = [...dynamicfields, ...temparray2]\r\n                    this.setState({\r\n                        dynamicfields,\r\n                        selectedBarcodeValue: { ...response[0].data['selectedBarcodeValue'] },\r\n                        loading: false\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        this.setState({\r\n                            dynamicfields: [],\r\n                            selectedBarcodeValue: {}\r\n                        })\r\n                        toast.info(error.response.data);\r\n                    }\r\n\r\n                })\r\n        }\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n        let { selectedRecord , dynamicfields\r\n        } = this.state\r\n        let bool = false;\r\n\r\n        if (this.props.dynamicfields !== previousProps.dynamicfields) {\r\n            bool = true;\r\n            dynamicfields = this.props.dynamicfields || {};\r\n        }\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n            bool = true;\r\n            selectedRecord = this.props.selectedRecord || {};\r\n        }\r\n        if (bool) {\r\n            this.setState({\r\n                selectedRecord , dynamicfields\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const retrieve = this.props.controlMap.has(\"Retrieve\") && this.props.controlMap.get(\"Retrieve\").ncontrolcode;\r\n        const dispose = this.props.controlMap.has(\"Dispose\") && this.props.controlMap.get(\"Dispose\").ncontrolcode;\r\n\r\n        return (\r\n            <Col md={12}>\r\n                <Row>\r\n                    <Col md={6}>\r\n                        <FormInput\r\n                            name={'spositionvalue'}\r\n                            label={this.props.intl.formatMessage({ id: \"IDS_SAMPLEID\" })}\r\n                            placeholder={this.props.intl.formatMessage({ id: \"IDS_SAMPLEID\" })}\r\n                            value={this.state.selectedRecord['spositionvalue']\r\n                                ? this.state.selectedRecord['spositionvalue'] : \"\"}\r\n                            maxLength={20}\r\n                            isMandatory={true}\r\n                            onKeyDown={(event) => this.getSelectedBarcodeData(event, this.state.selectedRecord)}\r\n                            onChange={(event) => this.onInputOnChange(event)}\r\n                        />\r\n                    </Col>\r\n                    <Col md={3}>\r\n                        <button className=\"btn btn-primary\" style={{ float: \"right\", marginRight: \"1rem\" }}\r\n                            onClick={() => this.props.CRUDSampleStorageTransaction({\r\n                                sunitname: this.state.selectedRecord.nunitcode ? this.state.selectedRecord.nunitcode.label : \"NA\",\r\n                                saliquotsampleid: this.state.selectedRecord.saliquotsampleid\r\n                                    && this.state.selectedRecord.saliquotsampleid !== \"\"\r\n                                    ? this.state.selectedRecord.saliquotsampleid : \"\",\r\n                                nquantity: this.state.selectedRecord.nquantity\r\n                                    && this.state.selectedRecord.nquantity !== \"\"\r\n                                    ? this.state.selectedRecord.nquantity : 0,\r\n                                ncontrolcode: retrieve,\r\n                                'nsamplestoragetransactioncode': this.state.selectedBarcodeValue && this.state.selectedBarcodeValue.nsamplestoragetransactioncode,\r\n                                userinfo: this.props.userInfo,\r\n                                scomments: this.state.selectedRecord.scomments && this.state.selectedRecord.scomments !== \"\"\r\n                                    ? this.state.selectedRecord.scomments : \"-\",\r\n                                isRetrieve: true,\r\n                                spositionvalue: this.state.selectedRecord.spositionvalue,\r\n                                nneedaliquot: this.state.selectedRecord.nneedaliquot &&\r\n                                    this.state.selectedRecord.nneedaliquot ? true : false,\r\n                                nunitcode: this.state.selectedRecord.nunitcode && this.state.selectedRecord.nunitcode !== \"\"\r\n                                    ? this.state.selectedRecord.nunitcode : 0\r\n                            }, 'create')}\r\n                            hidden={this.props.userRoleControlRights.indexOf(retrieve) === -1}\r\n                        >\r\n                            <FontAwesomeIcon icon={faTrashRestore}></FontAwesomeIcon>{\"  \"}\r\n                            {this.props.intl.formatMessage({ id: \"IDS_RETRIEVE\" })}\r\n\r\n\r\n                        </button>\r\n                    </Col>\r\n                    <Col md={3}>\r\n                        <button className=\"btn btn-primary\" style={{ float: \"right\", marginRight: \"1rem\" }}\r\n                            onClick={() => this.props.CRUDSampleStorageTransaction({\r\n                                sunitname: this.state.selectedRecord.nunitcode ? this.state.selectedRecord.nunitcode.label : \"NA\",\r\n                                saliquotsampleid: this.state.selectedRecord.saliquotsampleid\r\n                                    && this.state.selectedRecord.saliquotsampleid !== \"\"\r\n                                    ? this.state.selectedRecord.saliquotsampleid : \"\",\r\n                                nquantity: this.state.selectedRecord.nquantity\r\n                                    && this.state.selectedRecord.nquantity !== \"\"\r\n                                    ? this.state.selectedRecord.nquantity : 0,\r\n                                ncontrolcode: dispose,\r\n                                'nsamplestoragetransactioncode': this.state.selectedBarcodeValue && this.state.selectedBarcodeValue.nsamplestoragetransactioncode,\r\n                                userinfo: this.props.userInfo,\r\n                                scomments: this.state.selectedRecord.scomments && this.state.selectedRecord.scomments !== \"\"\r\n                                    ? this.state.selectedRecord.scomments : \"-\",\r\n                                isRetrieve: false,\r\n                                spositionvalue: this.state.selectedRecord.spositionvalue,\r\n                                nneedaliquot: this.state.selectedRecord.nneedaliquot &&\r\n                                    this.state.selectedRecord.nneedaliquot ? true : false\r\n                            }, 'create')}\r\n                            hidden={this.props.userRoleControlRights.indexOf(dispose) === -1}\r\n                        >\r\n                            <FontAwesomeIcon icon={faTrashAlt}></FontAwesomeIcon>{\"  \"}\r\n                            {this.props.intl.formatMessage({ id: \"IDS_DISPOSE\" })}\r\n\r\n                        </button>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={6}>\r\n                        <FormInput\r\n                            name={'scomments'}\r\n                            label={this.props.intl.formatMessage({ id: \"IDS_COMMENTS\" })}\r\n                            placeholder={this.props.intl.formatMessage({ id: \"IDS_COMMENTS\" })}\r\n                            value={this.state.selectedRecord['scomments']\r\n                                ? this.state.selectedRecord['scomments'] : \"\"}\r\n                            maxLength={255}\r\n                            onChange={(event) => this.onInputOnChange(event)}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={12}>\r\n                        <CustomSwitch\r\n                            id={\"nneedaliquot\"}\r\n                            name={\"nneedaliquot\"}\r\n                            type={\"switch\"}\r\n                            label={this.props.intl.formatMessage({ id: \"IDS_INPUTFORALIQUOTSAMPLE\" })}\r\n                            className={\"custom-switch-md\"}\r\n                            checked={this.state.selectedRecord && this.state.selectedRecord[\"nneedaliquot\"] ? true : false}\r\n                            onChange={this.onInputOnChange}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                {this.state.selectedRecord[\"nneedaliquot\"] &&\r\n                    <>\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <FormInput\r\n                                    name={'saliquotsampleid'}\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_NEWSAMPLEID\" })}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_NEWSAMPLEID\" })}\r\n                                    value={this.state.selectedRecord['saliquotsampleid']\r\n                                        ? this.state.selectedRecord['saliquotsampleid'] : \"\"}\r\n                                    maxLength={20}\r\n                                    isMandatory={true}\r\n                                    onChange={(event) => this.onInputOnChange(event)}\r\n                                />\r\n                            </Col>\r\n                            <Col md={6}> <TestPopOver intl={this.props.intl} needIcon={true} needPopoverTitleContent={true}\r\n                                placement=\"right\" stringList={['The Sample will be Restored to the Same Position']}\r\n                            ></TestPopOver></Col>\r\n\r\n                        </Row>\r\n\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <FormInput\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_QUANTITY\" })}\r\n                                    name={\"nquantity\"}\r\n                                    type=\"numeric\"\r\n                                    onChange={(event) => this.onNumericInputChange(event, 'nquantity')}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_QUANTITY\" })}\r\n                                    value={this.state.selectedRecord[\"nquantity\"] ? this.state.selectedRecord[\"nquantity\"] || [] : []}\r\n                                    isMandatory={true}\r\n                                    required={true}\r\n                                    maxLength={\"5\"} \r\n                                />\r\n                            </Col >\r\n                            <Col md={6}>\r\n                                <FormSelectSearch\r\n                                    name={\"nunitcode\"}\r\n                                    as={\"select\"}\r\n                                    onChange={(event) => this.onComboChange(event, 'nunitcode')}\r\n                                    formLabel={this.props.intl.formatMessage({ id: \"IDS_UNITNAME\" })}\r\n                                    isMandatory={true}\r\n                                    value={this.state.selectedRecord[\"nunitcode\"] ? this.state.selectedRecord[\"nunitcode\"] || [] : []}\r\n                                    options={this.props.unitMapList ? this.props.unitMapList : []}\r\n                                    optionId={\"value\"}\r\n                                    optionValue={\"label\"}\r\n                                    isMulti={false}\r\n                                    isDisabled={false}\r\n                                    isSearchable={false}\r\n                                    isClearable={true} />\r\n                            </Col>\r\n                        </Row>\r\n\r\n                    </>\r\n                }\r\n                <Row>\r\n                    {this.state.dynamicfields && this.state.dynamicfields.length > 0 && \r\n                        <div className=' mb-2'>\r\n                            <Card>\r\n                                <Card.Header>\r\n                                    <span style={{ display: \"inline-block\", marginTop: \"1%\" }} >\r\n                                        <h4>{this.props.intl.formatMessage({ id: \"IDS_SAMPLEINFO\" })}</h4>\r\n                                    </span>\r\n                                </Card.Header>\r\n                                <Card.Body>\r\n                                    <Row>\r\n                                        {\r\n                                            this.state.dynamicfields && this.state.dynamicfields.map((item, index) => {\r\n                                                return (\r\n                                                    <>\r\n                                                        <Col md={6} key={`specInfo_${index}`}>\r\n                                                            <FormGroup>\r\n                                                                <FormLabel>{\r\n                                                                    item.hasOwnProperty('staticField') ?\r\n                                                                        this.props.intl.formatMessage({ id: item.idsName }) : item.idsName}  </FormLabel>\r\n                                                                <ReadOnlyText>{this.state.selectedBarcodeValue[item.dataField] === \"\" ||\r\n                                                                    this.state.selectedBarcodeValue[item.dataField] === undefined ||\r\n                                                                    this.state.selectedBarcodeValue[item.dataField] === null ?\r\n                                                                    \"-\" : this.state.selectedBarcodeValue[item.dataField]}</ReadOnlyText>\r\n                                                            </FormGroup>\r\n                                                        </Col>\r\n                                                    </>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </Row>\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </div>}\r\n                </Row>\r\n            </Col>\r\n\r\n        )\r\n    }\r\n\r\n}\r\nexport default injectIntl(RetrieveOrDiposeSample);"]},"metadata":{},"sourceType":"module"}