{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\competencemanagement\\\\traininguserview\\\\UserView.jsx\";\nimport React, { Component } from 'react';\nimport { Row, Col, Card, FormGroup, FormLabel } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { callService, filterColumnData, changeTrainingUserViewDateFilter, getTrainingUserViewDetails, viewAttachment } from '../../../actions';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { toast } from 'react-toastify';\nimport { getControlMap, convertDateValuetoString } from '../../../components/CommonScript';\nimport ListMaster from '../../../components/list-master/list-master.component';\nimport { ReadOnlyText, ContentPanel } from '../../../components/App.styles';\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\nimport 'react-perfect-scrollbar/dist/css/styles.css'; // import ReactTooltip from 'react-tooltip';\n\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\nimport { Affix } from 'rsuite';\nimport TrainingUserViewDateFilter from '../../../pages/competencemanagement/traininguserview/TrainingUserViewDateFilter';\nimport UserViewTrainingDocumentTab from './UserViewTrainingDocumentTab';\nimport CustomTab from \"../../../components/custom-tabs/custom-tabs.component\";\nimport { designProperties } from '../../../components/Enumeration';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass UserView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.sidebarExpandCollapse = () => {\n      this.setState({\n        sidebarview: true\n      });\n    };\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onFilterSubmit = () => {\n      this.searchRef.current.value = \"\";\n      let fromDate = this.state.selectedRecord[\"fromdate\"] ? this.state.selectedRecord[\"fromdate\"] : this.props.Login.masterData.FromDate;\n      let toDate = this.state.selectedRecord[\"todate\"] ? this.state.selectedRecord[\"todate\"] : this.props.Login.masterData.ToDate;\n      let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);\n      let inputParam = {\n        inputData: {\n          fromDate: obj.fromDate,\n          toDate: obj.toDate,\n          usercode: this.props.Login.userInfo.nusercode,\n          userinfo: this.props.Login.userInfo\n        },\n        classUrl: \"userview\",\n        methodUrl: \"UserView\",\n        displayName: \"IDS_TRAININGUSERVIEW\",\n        userInfo: this.props.Login.userInfo\n      };\n      this.props.changeTrainingUserViewDateFilter(inputParam);\n    };\n\n    this.tabDetail = () => {\n      const moreField = [{\n        [designProperties.LABEL]: \"IDS_LINK\",\n        [designProperties.VALUE]: \"slinkname\"\n      }, {\n        [designProperties.LABEL]: \"IDS_CREATEDDATE\",\n        [designProperties.VALUE]: \"screateddate\"\n      }, {\n        [designProperties.LABEL]: \"IDS_DESCRIPTION\",\n        [designProperties.VALUE]: \"sfiledesc\"\n      }];\n      const subFields = [{\n        [designProperties.LABEL]: \"IDS_FILESIZE\",\n        [designProperties.VALUE]: \"sfilesize\",\n        \"fieldType\": \"size\"\n      }];\n      const tabMap = new Map();\n      tabMap.set(\"IDS_USERVIEWTRAININGDOCUMENT\", /*#__PURE__*/React.createElement(UserViewTrainingDocumentTab, {\n        controlMap: this.state.controlMap,\n        userRoleControlRights: this.state.userRoleControlRights,\n        masterData: this.props.Login.masterData,\n        userInfo: this.props.Login.userInfo,\n        TrainingDocuments: this.props.Login.masterData.TrainingDocuments,\n        screenName: \"IDS_USERVIEWTRAININGDOCUMENT\",\n        viewTrainingDocumentFile: this.viewTrainingDocumentFile,\n        moreField: moreField,\n        subFields: subFields,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }\n      }));\n      return tabMap;\n    };\n\n    this.handleDateChange = (dateName, dateValue) => {\n      const {\n        selectedRecord\n      } = this.state;\n      selectedRecord[dateName] = dateValue;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.reloadData = (selectedRecord, isDateChange) => {\n      this.searchRef.current.value = \"\";\n      let fromDate = this.props.Login.masterData.FromDate;\n      let toDate = this.props.Login.masterData.ToDate;\n      let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo, true);\n      const inputParam = {\n        inputData: {\n          \"userinfo\": this.props.Login.userInfo,\n          fromDate: obj.fromDate,\n          toDate: obj.toDate\n        },\n        classUrl: 'userview',\n        methodUrl: \"UserView\",\n        displayName: \"IDS_TRAININGUSERVIEW\",\n        userInfo: this.props.Login.userInfo\n      };\n      this.props.callService(inputParam);\n    };\n\n    this.viewTrainingDocumentFile = filedata => {\n      const inputParam = {\n        inputData: {\n          userviewfile: filedata,\n          userinfo: this.props.Login.userInfo\n        },\n        classUrl: \"userview\",\n        operation: \"view\",\n        methodUrl: \"UserViewFile\",\n        screenName: \"User View File\"\n      };\n      this.props.viewAttachment(inputParam);\n    };\n\n    this.state = {\n      selectedRecord: {},\n      error: \"\",\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      skip: 0,\n      take: this.props.Login.settings ? this.props.Login.settings[3] : 25,\n      sidebarview: false\n    };\n    this.searchRef = React.createRef();\n    this.searchFieldList = [\"strainingvenue\", \"strainingtopic\", \"strainername\"];\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\") {\n      if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\n        toast.warn(props.Login.masterStatus);\n        props.Login.masterStatus = \"\";\n      }\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  render() {\n    let obj = convertDateValuetoString(this.state.selectedRecord[\"fromdate\"] || this.props.Login.masterData && this.props.Login.masterData.FromDate, this.state.selectedRecord[\"todate\"] || this.props.Login.masterData && this.props.Login.masterData.ToDate, this.props.Login.userInfo);\n    let fromDate = obj.fromDate;\n    let toDate = obj.toDate;\n    const {\n      SelectedTrainingUserView\n    } = this.props.Login.masterData;\n    const filterParam = {\n      inputListName: \"TrainingUserView\",\n      selectedObject: \"SelectedTrainingUserView\",\n      primaryKeyField: \"nparticipantcode\",\n      fetchUrl: \"userview/getTrainingUserViewDetails\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: this.searchFieldList\n    };\n    let breadCrumbData = this.state.filterData || [];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, breadCrumbData.length > 0 ? /*#__PURE__*/React.createElement(Affix, {\n      top: 53,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    })) : \"\", /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.props.sidebarview ? '4' : \"2\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      searchRef: this.searchRef,\n      screenName: \"UserView\",\n      userRoleControlRights: this.state.userRoleControlRights,\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.TrainingUserView,\n      showFilterIcon: true,\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      onFilterSubmit: this.onFilterSubmit,\n      reloadData: this.reloadData,\n      getMasterDetail: master => this.props.getTrainingUserViewDetails(master, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.SelectedTrainingUserView,\n      showFilter: this.props.Login.showFilter,\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      primaryKeyField: \"nparticipantcode\",\n      mainField: \"strainingtopic\",\n      firstField: \"strainername\",\n      secondField: \"strainingvenue\",\n      filterComponent: [{\n        \"IDS_TRAININGUSERVIEWDATEFILTER\": /*#__PURE__*/React.createElement(TrainingUserViewDateFilter, {\n          selectedRecord: this.state.selectedRecord || {},\n          value: this.state.value || {},\n          handleDateChange: this.handleDateChange,\n          fromDate: fromDate,\n          toDate: toDate,\n          userInfo: this.props.Login.userInfo,\n          onFilterChange: this.onFilterChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 37\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.props.sidebarview ? '8' : \"10\"}`,\n      className: \"position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-view-btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-view-btn \",\n      onClick: this.props.parentFunction,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 33\n      }\n    }, !this.props.sidebarview ? /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-less-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 41\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-greater-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 41\n      }\n    }, this.props.Login.masterData.SelectedTrainingUserView ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData.SelectedTrainingUserView.strainingtopic), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 65\n      }\n    })))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_TRAININGTOPIC\",\n      message: \"Training Topic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 80\n      }\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 69\n      }\n    }, this.props.Login.masterData.SelectedTrainingUserView.strainingtopic))), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_TRAINERNAME\",\n      message: \"Trainer Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 80\n      }\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 69\n      }\n    }, this.props.Login.masterData.SelectedTrainingUserView.strainername))), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_TRAININGVENUE\",\n      message: \"Training Venue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 80\n      }\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 69\n      }\n    }, this.props.Login.masterData.SelectedTrainingUserView.strainingvenue))), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_TRAININGDATETIME\",\n      message: \"Training Date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 80\n      }\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 69\n      }\n    }, this.props.Login.masterData.SelectedTrainingUserView.strainingdatetime))), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_TRAININGSTATUS\",\n      message: \"Training Status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 80\n      }\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 69\n      }\n    }, this.props.Login.masterData.SelectedTrainingUserView.strainingstatus))), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_TRAININGCATEGORY\",\n      message: \"Training Category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 80\n      }\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 69\n      }\n    }, this.props.Login.masterData.SelectedTrainingUserView.strainingcategoryname)))), SelectedTrainingUserView && /*#__PURE__*/React.createElement(CustomTab, {\n      tabDetail: this.tabDetail(),\n      onTabChange: this.onTabChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 86\n      }\n    }))) : \"\"))))))));\n  }\n\n  generateBreadCrumData() {\n    const breadCrumbData = [];\n    let obj = convertDateValuetoString(this.props.Login.masterData.FromDate, this.props.Login.masterData.ToDate, this.props.Login.userInfo);\n    breadCrumbData.push({\n      \"label\": \"IDS_FROM\",\n      \"value\": obj.breadCrumbFrom\n    }, {\n      \"label\": \"IDS_TO\",\n      \"value\": obj.breadCrumbto\n    });\n    return breadCrumbData;\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.Login.selectedRecord\n      });\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n        const userRoleControlRights = [];\n\n        if (this.props.Login.userRoleControlRights) {\n          this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n        }\n\n        const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n        this.setState({\n          userRoleControlRights,\n          controlMap,\n          data: this.props.Login.masterData.TrainingUserView\n        });\n      } else {\n        if (this.props.Login.masterData.TrainingUserView) {\n          this.setState({\n            data: this.props.Login.masterData.TrainingUserView,\n            dataState: {\n              skip: 0,\n              take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n            }\n          });\n        }\n      }\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      const filterData = this.generateBreadCrumData();\n      this.setState({\n        filterData\n      });\n    }\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  filterColumnData,\n  changeTrainingUserViewDateFilter,\n  getTrainingUserViewDetails,\n  viewAttachment\n})(injectIntl(UserView));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/competencemanagement/traininguserview/UserView.jsx"],"names":["React","Component","Row","Col","Card","FormGroup","FormLabel","connect","callService","filterColumnData","changeTrainingUserViewDateFilter","getTrainingUserViewDetails","viewAttachment","FormattedMessage","injectIntl","toast","getControlMap","convertDateValuetoString","ListMaster","ReadOnlyText","ContentPanel","DEFAULT_RETURN","BreadcrumbComponent","Affix","TrainingUserViewDateFilter","UserViewTrainingDocumentTab","CustomTab","designProperties","mapStateToProps","state","Login","UserView","constructor","props","sidebarExpandCollapse","setState","sidebarview","openFilter","showFilter","updateInfo","typeName","data","updateStore","closeFilter","onFilterSubmit","searchRef","current","value","fromDate","selectedRecord","masterData","FromDate","toDate","ToDate","obj","userInfo","inputParam","inputData","usercode","nusercode","userinfo","classUrl","methodUrl","displayName","tabDetail","moreField","LABEL","VALUE","subFields","tabMap","Map","set","controlMap","userRoleControlRights","TrainingDocuments","viewTrainingDocumentFile","handleDateChange","dateName","dateValue","reloadData","isDateChange","filedata","userviewfile","operation","screenName","error","skip","take","settings","createRef","searchFieldList","getDerivedStateFromProps","masterStatus","errorCode","warn","render","SelectedTrainingUserView","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","breadCrumbData","filterData","length","searchedData","TrainingUserView","master","onFilterChange","parentFunction","strainingtopic","strainername","strainingvenue","strainingdatetime","strainingstatus","strainingcategoryname","onTabChange","generateBreadCrumData","push","breadCrumbFrom","breadCrumbto","componentDidUpdate","previousProps","nformcode","Object","values","map","item","ncontrolcode","dataState","parseInt"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Card, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {\r\n    callService,filterColumnData,changeTrainingUserViewDateFilter,getTrainingUserViewDetails,viewAttachment\r\n} from '../../../actions'\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport { getControlMap ,convertDateValuetoString } from '../../../components/CommonScript';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\nimport { ReadOnlyText, ContentPanel} from '../../../components/App.styles';\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\r\nimport { Affix } from 'rsuite';\r\nimport TrainingUserViewDateFilter from '../../../pages/competencemanagement/traininguserview/TrainingUserViewDateFilter';\r\nimport UserViewTrainingDocumentTab from './UserViewTrainingDocumentTab';\r\nimport CustomTab from \"../../../components/custom-tabs/custom-tabs.component\";\r\nimport { designProperties } from '../../../components/Enumeration';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass UserView extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = ({\r\n            selectedRecord: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            take: this.props.Login.settings ? this.props.Login.settings[3] : 25,\r\n            sidebarview: false\r\n        });\r\n        this.searchRef = React.createRef();\r\n        this.searchFieldList = [\"strainingvenue\", \"strainingtopic\", \"strainername\"]\r\n    }\r\n    sidebarExpandCollapse = () => {\r\n        this.setState({\r\n            sidebarview: true\r\n        })          \r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n\r\n        let obj = convertDateValuetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\r\n            this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate),\r\n            this.props.Login.userInfo)\r\n\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        const { SelectedTrainingUserView } = this.props.Login.masterData;\r\n        const filterParam = {\r\n            inputListName: \"TrainingUserView\", selectedObject: \"SelectedTrainingUserView\", primaryKeyField: \"nparticipantcode\",\r\n            fetchUrl: \"userview/getTrainingUserViewDetails\", fecthInputObject: { userinfo: this.props.Login.userInfo }, masterData: this.props.Login.masterData,\r\n            searchFieldList: this.searchFieldList\r\n        };\r\n              \r\n        let breadCrumbData = this.state.filterData || [];\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                    {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                    <Row noGutters={true}>\r\n                        <Col md={`${!this.props.sidebarview ? '4' : \"2\"}`}> \r\n                        <ListMaster\r\n                         searchRef={this.searchRef}\r\n                         screenName={\"UserView\"}\r\n                         userRoleControlRights={this.state.userRoleControlRights}\r\n                         masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.TrainingUserView}\r\n                         showFilterIcon={true}\r\n                         openFilter={this.openFilter}\r\n                         closeFilter={this.closeFilter}\r\n                         onFilterSubmit={this.onFilterSubmit}\r\n                         reloadData={this.reloadData}\r\n                         getMasterDetail={(master) => this.props.getTrainingUserViewDetails(master, this.props.Login.userInfo, this.props.Login.masterData)}       \r\n                         selectedMaster={this.props.Login.masterData.SelectedTrainingUserView}\r\n                         showFilter={this.props.Login.showFilter}\r\n                         filterColumnData={this.props.filterColumnData}\r\n                         filterParam={filterParam}\r\n                         primaryKeyField=\"nparticipantcode\"\r\n                                mainField=\"strainingtopic\"\r\n                                firstField=\"strainername\"\r\n                                secondField=\"strainingvenue\"\r\n                                filterComponent={[\r\n                                {\r\n                                  \"IDS_TRAININGUSERVIEWDATEFILTER\": (\r\n                                    <TrainingUserViewDateFilter\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                value={this.state.value || {}}\r\n                                                handleDateChange={this.handleDateChange}\r\n                                                fromDate={fromDate}\r\n                                                toDate={toDate}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                onFilterChange={this.onFilterChange}\r\n                                               \r\n                                            />\r\n                                  ),\r\n                                },\r\n                              ]}\r\n\r\n                            />\r\n                        </Col>\r\n                        <Col md={`${!this.props.sidebarview ? '8' : \"10\"}`} className=\"position-relative\">\r\n                            <div className=\"sidebar-view-btn-block\">\r\n                                <div className=\"sidebar-view-btn \" onClick={this.props.parentFunction}>\r\n                                    {!this.props.sidebarview ?                    \r\n                                        <i class=\"fa fa-less-than\"></i> :\r\n                                        <i class=\"fa fa-greater-than\"></i> \r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <ContentPanel className=\"panel-main-content\">\r\n                                        <Card className=\"border-0\">\r\n                                            {this.props.Login.masterData.SelectedTrainingUserView ?\r\n                                                <>\r\n                                                    <Card.Header>\r\n                                                       \r\n                                                        <Card.Title className=\"product-title-main\">\r\n                                                            {this.props.Login.masterData.SelectedTrainingUserView.strainingtopic}\r\n                                                        </Card.Title>\r\n                                                        <Card.Subtitle>\r\n                                                            <div className=\"d-flex product-category\">\r\n                                                                <h2 className=\"product-title-sub flex-grow-1\">\r\n\r\n                                                                    \r\n                                                                </h2>\r\n                                                                \r\n                                                            </div>\r\n\r\n                                                        </Card.Subtitle>\r\n                                                    </Card.Header>\r\n                                                    <Card.Body>\r\n                                                        <Row>\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGTOPIC\" message=\"Training Topic\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingtopic}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAINERNAME\" message=\"Trainer Name\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainername}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGVENUE\" message=\"Training Venue\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingvenue }\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGDATETIME\" message=\"Training Date\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingdatetime}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            {/* <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGTIME\" message=\"Training Time\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingtime}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col> */}\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGSTATUS\" message=\"Training Status\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.SelectedTrainingUserView.strainingstatus}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGCATEGORY\" message=\"Training Category\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.SelectedTrainingUserView.strainingcategoryname}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            {/* <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_ATTENDANCESTATUS\" message=\"Attendance Status\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.SelectedTrainingUserView.sattendancestatus}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>  */}\r\n                                                                                    \r\n                                                                                                                      \r\n                                                        </Row>\r\n                                                        {SelectedTrainingUserView && <CustomTab tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />}\r\n\r\n                                                    </Card.Body>\r\n\r\n                                                </>\r\n                                                : \"\"\r\n                                            }\r\n                                        </Card>\r\n                                    </ContentPanel>\r\n                                </Col></Row>\r\n                        </Col>\r\n                    </Row>\r\n            </div>\r\n\r\n            </>\r\n        );\r\n    }\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter;\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { showFilter },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      };\r\n    \r\n      closeFilter = () => {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { showFilter: false },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      };\r\n    \r\n      onFilterSubmit = () => {\r\n        this.searchRef.current.value = \"\";\r\n       let fromDate= this.state.selectedRecord[\"fromdate\"] ?this.state.selectedRecord[\"fromdate\"]: this.props.Login.masterData.FromDate;\r\n       let toDate= this.state.selectedRecord[\"todate\"] ? this.state.selectedRecord[\"todate\"]: this.props.Login.masterData.ToDate;\r\n\r\n        let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);  \r\n        let inputParam ={\r\n             inputData : {\r\n            fromDate: obj.fromDate,\r\n            toDate: obj.toDate,\r\n            \r\n            usercode: this.props.Login.userInfo.nusercode,\r\n            userinfo: this.props.Login.userInfo,\r\n        },\r\n        \r\n        classUrl: \"userview\",\r\n        methodUrl: \"UserView\",\r\n        displayName: \"IDS_TRAININGUSERVIEW\",\r\n        userInfo: this.props.Login.userInfo\r\n    };\r\n    this.props.changeTrainingUserViewDateFilter(inputParam);\r\n\r\n    }\r\n    tabDetail = () => {\r\n        const moreField=[\r\n            {[designProperties.LABEL]: \"IDS_LINK\",[designProperties.VALUE]:\"slinkname\"}, \r\n            {[designProperties.LABEL]: \"IDS_CREATEDDATE\",[designProperties.VALUE]:\"screateddate\"}, \r\n            {[designProperties.LABEL]: \"IDS_DESCRIPTION\",[designProperties.VALUE]:\"sfiledesc\"}\r\n        ];\r\n        const subFields=[\r\n            {[designProperties.LABEL]: \"IDS_FILESIZE\",[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\r\n        ];\r\n\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_USERVIEWTRAININGDOCUMENT\",\r\n            <UserViewTrainingDocumentTab\r\n            controlMap={this.state.controlMap}\r\n            userRoleControlRights={this.state.userRoleControlRights}\r\n                masterData={this.props.Login.masterData}\r\n                userInfo={this.props.Login.userInfo}\r\n                TrainingDocuments={this.props.Login.masterData.TrainingDocuments}\r\n                screenName=\"IDS_USERVIEWTRAININGDOCUMENT\"\r\n                viewTrainingDocumentFile={this.viewTrainingDocumentFile}\r\n                moreField={moreField}\r\n                subFields={subFields}\r\n            />\r\n    \r\n            );\r\n            return tabMap;\r\n\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n    \r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n            let obj = convertDateValuetoString(this.props.Login.masterData.FromDate,\r\n                this.props.Login.masterData.ToDate,\r\n                this.props.Login.userInfo);\r\n            breadCrumbData.push(\r\n\r\n                {\r\n                    \"label\": \"IDS_FROM\",\r\n                    \"value\": obj.breadCrumbFrom\r\n                },\r\n                {\r\n                    \"label\": \"IDS_TO\",\r\n                    \"value\": obj.breadCrumbto\r\n                }\r\n            );\r\n        \r\n        return breadCrumbData;\r\n    }\r\n\r\n   \r\n    reloadData = (selectedRecord, isDateChange) => {\r\n        this.searchRef.current.value = \"\";\r\n\r\n        let fromDate = this.props.Login.masterData.FromDate;\r\n        let toDate = this.props.Login.masterData.ToDate;       \r\n        let obj = convertDateValuetoString(fromDate,toDate, this.props.Login.userInfo, true);\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": this.props.Login.userInfo,\r\n                fromDate:obj.fromDate, \r\n                toDate:obj.toDate,\r\n            },\r\n            classUrl: 'userview',\r\n            methodUrl: \"UserView\",\r\n            displayName: \"IDS_TRAININGUSERVIEW\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    viewTrainingDocumentFile = (filedata) => {\r\n        const inputParam = {\r\n            inputData: {\r\n                userviewfile: filedata,\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            classUrl: \"userview\",\r\n            operation: \"view\",\r\n            methodUrl: \"UserViewFile\",\r\n            screenName: \"User View File\"\r\n        }\r\n        this.props.viewAttachment(inputParam);\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({\r\n                    userRoleControlRights, controlMap, data: this.props.Login.masterData.TrainingUserView,\r\n                });\r\n            }\r\n            else {\r\n                if (this.props.Login.masterData.TrainingUserView) {\r\n                    this.setState({\r\n                        data: this.props.Login.masterData.TrainingUserView,\r\n                        dataState : {skip:0,take:this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5},\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService,filterColumnData,changeTrainingUserViewDateFilter,getTrainingUserViewDetails,viewAttachment\r\n})(injectIntl(UserView));\r\n\r\n"]},"metadata":{},"sourceType":"module"}