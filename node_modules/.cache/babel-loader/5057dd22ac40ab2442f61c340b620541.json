{"ast":null,"code":"import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Row,Col,Card,Nav,FormGroup,FormLabel}from\"react-bootstrap\";import{connect}from\"react-redux\";import{toast}from\"react-toastify\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faCheck,faTrashAlt}from\"@fortawesome/free-solid-svg-icons\";import WorklistPreparationFilter from'./WorklistPreparationFilter';import{rearrangeDateFormat,convertDateValuetoString}from'../../components/CommonScript';import{injectIntl}from\"react-intl\";import Esign from\"../audittrail/Esign\";import AddWorklistSection from'../worklist/AddWorklistSection';import AddWorklistSample from'../worklist/AddWorklistSample';import CustomTab from\"../../components/custom-tabs/custom-tabs.component\";import WorklistHistoryTab from\"./WorklistHistoryTab\";import WorklistSampleTab from\"./WorklistSampleTab\";import{designProperties,transactionStatus,REPORTTYPE,SUBSAMPLEAUDITMULTILINGUALFIELDS}from'../../components/Enumeration';import SpecificationInfo from'../testgroup/SpecificationInfo';//import { ReactComponent as Closure } from '../../assets/image/prepared-worklist.svg';\nimport{ReactComponent as Closure}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/prepared.svg\";import{ReactComponent as ReportIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/report-Icon.svg\";import{callService,crudMaster,validateEsignCredential,updateStore,getSectionAndTest,getWorklistDetail,OpenDate,CloseDate,viewAttachment,getInstrumentCombo,getWorklistSample,getRegTypeTestWise,getRegTypeWorklist,getSectionbaseTest,onWorklistApproveClick,getWorklistDetailFilter,getEditSectionAndTest,createWorklistCreation,filterColumnData,getConfigVersionTestWise,ViewSampleDetails,getWorklisthistoryAction,reportWorklist,getRegSubTypeWise}from\"../../actions\";import ListMaster from\"../../components/list-master/list-master.component\";import{DEFAULT_RETURN}from\"../../actions/LoginTypes\";import SlideOutModal from\"../../components/slide-out-modal/SlideOutModal\";import{showEsign,getControlMap,constructOptionList}from\"../../components/CommonScript\";import{ContentPanel,MediaLabel}from\"../../components/App.styles\";import{process}from\"@progress/kendo-data-query\";import ConfirmMessage from\"../../components/confirm-alert/confirm-message.component\";import BreadcrumbComponent from\"../../components/Breadcrumb.Component\";import{Affix}from\"rsuite\";import DataGrid from'../../components/data-grid/data-grid.component';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var WorkList=/*#__PURE__*/function(_Component){_inherits(WorkList,_Component);var _super=_createSuper(WorkList);function WorkList(props){var _this;_classCallCheck(this,WorkList);_this=_super.call(this,props);_this.handleDateChange=function(dateName,dateValue){if(dateValue===null){dateValue=new Date();}// let toDate;\n// let fromDate;\nvar fromdate=_this.props.Login.masterData.fromDate?rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate):new Date();var todate=_this.props.Login.masterData.toDate?rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate):new Date();var obj={};if(dateName==='fromDate'){obj=convertDateValuetoString(dateValue,todate,_this.props.Login.userInfo);fromdate=obj.fromDate;todate=obj.toDate;var fromDate=obj.fromDate;var toDate=obj.toDate;}else{obj=convertDateValuetoString(fromdate,dateValue,_this.props.Login.userInfo);fromdate=obj.fromDate;todate=obj.toDate;var _fromDate=obj.fromDate;var _toDate=obj.toDate;}var inputParam={inputData:{nflag:2,nregtypecode:_this.props.Login.masterData.RegTypeValue&&_this.props.Login.masterData.RegTypeValue.nregtypecode,nregsubtypecode:_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,nneedtemplatebasedflow:_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nneedtemplatebasedflow,fromdate:String(fromdate),todate:String(todate),userinfo:_this.props.Login.userInfo},masterData:_this.props.Login.masterData};_this.props.getConfigVersionTestWise(inputParam);};_this.onFilterComboChange=function(comboData,fieldName){if(comboData){var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var inputParamData={};if(fieldName==='nsampletypecode'){if(comboData.value!==_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode){inputParamData={nflag:2,fromdate:obj.fromDate,todate:obj.toDate,nsampletypecode:comboData.value,userinfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,defaultSampleTypeValue:comboData.item};_this.props.getRegTypeWorklist(inputParamData);}}else if(fieldName==='nregtypecode'){if(comboData.value!==_this.props.Login.masterData.defaultRegTypeValue.nregtypecode){var _inputParamData;inputParamData=(_inputParamData={nflag:3,fromdate:obj.fromDate,todate:obj.toDate,nsampletypecode:_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode,nregtypecode:comboData.value,userinfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData},_defineProperty(_inputParamData,\"nregtypecode\",comboData.value),_defineProperty(_inputParamData,\"masterData\",_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{RegTypeValue:comboData.item//RegistrationSubTypeList: inputParam.masterData.RegistrationSubTypeList\n})),_inputParamData);_this.props.getRegSubTypeWise(inputParamData);}}else if(fieldName==='nregsubtypecode'){if(comboData.value!==_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode){var inputData={nflag:4,fromdate:obj.fromDate,todate:obj.toDate,nsampletypecode:_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode,nregtypecode:_this.props.Login.masterData.RegTypeValue.nregtypecode,nneedtemplatebasedflow:comboData.item.nneedtemplatebasedflow,nregsubtypecode:comboData.value,userinfo:_this.props.Login.userInfo};inputParamData={inputData:inputData,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{RegSubTypeValue:comboData.item//RegistrationSubTypeList: inputParam.masterData.RegistrationSubTypeList\n})};_this.props.getConfigVersionTestWise(inputParamData);}}else if(fieldName==='ntransactionstatus'){if(comboData.value!==_this.props.Login.masterData.FilterStatusValue.ntransactionstatus){var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{FilterStatusValue:comboData.item});var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:masterData}};_this.props.updateStore(updateInfo);}}else if(fieldName==='napproveconfversioncode'){if(comboData.value!==_this.props.Login.masterData.defaultApprovalVersionValue.napproveconfversioncode){var _masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultApprovalVersionValue:comboData.item});var _updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_masterData}};_this.props.updateStore(_updateInfo);}}//\n}};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){var inputData=[];var instSection=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);inputData['fromdate']=obj.fromDate;inputData['todate']=obj.toDate;if(_this.props.Login.screenName===\"IDS_WORKLIST\"){var postParam=undefined;inputData[\"worklist\"]={nstatus:_this.props.Login.userInfo.nmastersitecode};inputData[\"worklist\"][\"nsampletypecode\"]=_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode;inputData[\"worklist\"][\"nsectioncode\"]=_this.state.selectedRecord[\"nsectioncode\"].value;inputData[\"worklist\"][\"ntestcode\"]=_this.state.selectedRecord[\"ntestcode\"].value;inputData[\"worklist\"][\"nregtypecode\"]=_this.props.Login.masterData.RegTypeValue.nregtypecode;inputData[\"worklist\"][\"nregsubtypecode\"]=_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode;inputData[\"ndesigntemplatemappingcode\"]=_this.props.Login.masterData.ndesigntemplatemappingcode;var defaultFilterStatusValue=_this.props.Login.masterData.FilterStatus[1];var FilterStatusValue=_this.props.Login.masterData.FilterStatus[1];if(_this.props.Login.operation===\"update\"){inputData[\"worklist\"][\"nworklistcode\"]=_this.props.Login.masterData.selectedWorklist.nworklistcode;}var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"Worklist\",inputData:inputData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,postParam:postParam,searchRef:_this.searchRef};//const masterData = this.props.Login.masterData;\nvar masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultFilterStatusValue:defaultFilterStatusValue,FilterStatusValue:FilterStatusValue});if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:{masterData:masterData}},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}//add / edit  \nvar validList=true;if(_this.props.Login.screenName===\"IDS_WORKLISTSAMPLE\"&&_this.state.addedComponentList.length>1000){validList=false;}if(validList){var saveList=[];if(_this.props.Login.screenName===\"IDS_WORKLISTSAMPLE\"){var compList=_this.state.addedComponentList||[];//compList.map(item=>saveList.push({\"npreregno\": item.npreregno}));\nif(compList.length>0){compList.map(function(item){return saveList.indexOf(item.ntransactionsamplecode)===-1?saveList.push(item):\"\";});var _masterData2=_this.props.Login.masterData;var _inputData={worklistcompcreationlist:saveList,userinfo:_this.props.Login.userInfo,worklistcreation:_this.props.Login.masterData.selectedWorklist,ndesigntemplatemappingcode:_this.props.Login.masterData.ndesigntemplatemappingcode};var dataState=undefined;var selectedId=null;var _postParam=undefined;var _inputParam={classUrl:\"worklist\",methodUrl:\"WorklistCreation\",inputData:_inputData,selectedId:selectedId,dataState:dataState,postParam:_postParam,operation:\"create\",saveType:saveType,masterData:_masterData2};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var _updateInfo2={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:_inputParam,masterData:_masterData2},saveType:saveType}};_this.props.updateStore(_updateInfo2);}else{//this.props.crudMaster(inputParam,masterData, \"openChildModal\");\n_this.props.createWorklistCreation(_inputParam);}}else{//this.props.crudMaster(inputParam,masterData, \"openChildModal\");\ntoast.warn(_this.props.intl.formatMessage({id:\"IDS_SELCETONESAMPLE\"}));}}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_EXCEEDSMAXINSERT\"}));}};_this.DeleteWorklistSample=function(operation,ncontrolCode){var inputData=[];if(operation.screenName===\"IDS_WORKLISTSAMPLE\"){var dataState=_this.state.sectionDataState;inputData[\"worklistsample\"]={nsitecode:_this.props.Login.userInfo.ntranssitecode};inputData[\"worklistsample\"][\"nworklistcode\"]=operation.selectedRecord.nworklistcode;inputData[\"worklistsample\"][\"nworklistsamplecode\"]=operation.selectedRecord.nworklistsamplecode;inputData[\"worklistsample\"][\"ntransactiontestcode\"]=operation.selectedRecord.ntransactiontestcode;inputData[\"worklistsample\"][\"ntransactionsamplecode\"]=operation.selectedRecord.ntransactionsamplecode;inputData[\"worklistsample\"][\"sarno\"]=operation.selectedRecord.sarno;inputData[\"worklistsample\"][\"ssamplearno\"]=operation.selectedRecord.ssamplearno;inputData[\"worklistsample\"][\"stestname\"]=operation.selectedRecord.stestsynonym;inputData[\"worklistsample\"][\"nregsubtypecode\"]=operation.selectedRecord.nregsubtypecode;inputData[\"worklistsample\"][\"nregtypecode\"]=operation.selectedRecord.nregtypecode;inputData['ndesigntemplatemappingcode']=_this.props.Login.masterData.ndesigntemplatemappingcode;inputData[\"userinfo\"]=_this.props.Login.userInfo;var inputParam={methodUrl:\"WorklistSample\",classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,operation:\"delete\",dataState:dataState};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,operation.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"worklist\",operation:operation.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}};_this.selectionChange=function(event){var addedComponentList=_this.state.addedComponentList||[];var addComponentDataList=_this.props.Login.addComponentDataList.map(function(item){if(item.ntransactiontestcode===event.dataItem.ntransactiontestcode){item.selected=!event.dataItem.selected;if(item.selected){var newItem=JSON.parse(JSON.stringify(item));newItem[\"jsondata\"]={};newItem[\"jsonuidata\"]={};delete newItem['selected'];//newItem.selected = false;\nnewItem[\"jsondata\"]['worklist']=item;newItem[\"jsonuidata\"]['worklist']=item;addedComponentList.push(newItem);}else{addedComponentList=addedComponentList.filter(function(item1){return item1.ntransactiontestcode!==item.ntransactiontestcode;});}}return item;});_this.setState({addComponentDataList:addComponentDataList,addedComponentList:addedComponentList,addSelectAll:_this.valiateCheckAll(addComponentDataList),deleteSelectAll:_this.valiateCheckAll(addedComponentList)});};_this.specificationReport=function(ncontrolCode){if(_this.props.Login.masterData.selectedWorklist){var inputParam={inputData:{sprimarykeyname:'nworklistcode',userinfo:_this.props.Login.userInfo,ncontrolcode:ncontrolCode,nworklistcode:_this.props.Login.masterData.selectedWorklist.nworklistcode,nreporttypecode:REPORTTYPE.CONTROLBASED}};_this.props.reportWorklist(inputParam['inputData']);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\"}));}};_this.headerSelectionChange=function(event){var checked=event.syntheticEvent.target.checked;var addComponentDataList=event.dataItems;//this.state.addedComponentList || [];\nvar addedComponentList=[];if(checked){var _this$setState;var data=event.dataItems.map(function(item){//const data = this.state.addComponentDataList.map(item => {\nif(addedComponentList.findIndex(function(x){return x.ntransactiontestcode===item.ntransactiontestcode;})===-1){// addedComponentList.push({ ...item, selected: false });\nitem.selected=checked;var newItem=JSON.parse(JSON.stringify(item));newItem[\"jsondata\"]={};newItem[\"jsonuidata\"]={};delete newItem['selected'];//newItem.selected = false;\nnewItem[\"jsondata\"]['worklist']=item;newItem[\"jsonuidata\"]['worklist']=item;addedComponentList.push(newItem);//item.selected = false;\nreturn item;}else{var olditem=JSON.parse(JSON.stringify(addedComponentList[addedComponentList.findIndex(function(x){return x.ntransactiontestcode===item.ntransactiontestcode;})]));olditem.selected=checked;var _newItem=JSON.parse(JSON.stringify(olditem));_newItem.selected=false;_newItem[\"jsondata\"]={};_newItem[\"jsonuidata\"]={};delete _newItem['selected'];_newItem[\"jsondata\"]['worklist']=olditem;_newItem[\"jsonuidata\"]['worklist']=olditem;addedComponentList.push(_newItem);return olditem;}});_this.setState((_this$setState={addComponentDataList:data,addedComponentList:addedComponentList,addSelectAll:_this.valiateCheckAll(addedComponentList),deleteSelectAll:_this.valiateCheckAll(addedComponentList)},_defineProperty(_this$setState,\"addSelectAll\",checked),_defineProperty(_this$setState,\"deleteSelectAll\",false),_this$setState));}//   if (checked) {\n//     const data = event.dataItems.map(item => {\n//         if (addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\n//           addComponentDataList.push({ ...item, selected: false });\n//             item.selected = checked;   \n//             let newItem = JSON.parse(JSON.stringify(item));\n//             newItem.selected = false;\n//             newItem[\"jsondata\"]={};\n//             newItem[\"jsonuidata\"]={};\n//             newItem[\"jsondata\"]['worklist'] = item\n//             newItem[\"jsonuidata\"]['worklist'] = item    \n//             addedComponentList.push(newItem);\n//             return item;\n//         } else {\n//             let olditem = JSON.parse(JSON.stringify(addComponentDataList[addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\n//             olditem.selected = checked;\n//             let newItem = JSON.parse(JSON.stringify(olditem));\n//             newItem.selected = false;\n//             newItem[\"jsondata\"]={};\n//             newItem[\"jsonuidata\"]={};\n//             newItem[\"jsondata\"]['worklist'] = olditem\n//             newItem[\"jsonuidata\"]['worklist'] = olditem\n//             addedComponentList.push(newItem);\n//             return olditem;\n//         }\n//     });\n//     this.setState({\n//       addComponentDataList: data,\n//         addedComponentList:addedComponentList,\n//         addComponentDataList,\n//         addSelectAll: checked, \n//         deleteSelectAll: false\n//     });\n// }\nelse{var _this$setState2;var addedComponentData=_this.state.addedComponentList||[];var deletedListdData=_this.state.deletedList||[];var _data=_this.state.addComponentDataList.map(function(item){addedComponentData=addedComponentData.filter(function(item1){return item1.npreregno!==item.npreregno;});deletedListdData=deletedListdData.filter(function(item1){return item1.npreregno!==item.npreregno;});item.selected=checked;return item;});// console.log(\"data:\",data1, data2);\n_this.setState((_this$setState2={addComponentDataList:_data,addedComponentList:addedComponentData,deletedList:deletedListdData,addSelectAll:_this.valiateCheckAll(addedComponentList),deleteSelectAll:_this.valiateCheckAll(addedComponentList)},_defineProperty(_this$setState2,\"addSelectAll\",checked),_defineProperty(_this$setState2,\"deleteSelectAll\",false),_this$setState2));}};_this.validateEsign=function(){var inputParam={inputData:{userinfo:_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.tabDetail=function(){var tabMap=new Map();var deleteSecId=_this.state.controlMap.has(\"DeleteWorklistSample\")&&_this.state.controlMap.get(\"DeleteWorklistSample\").ncontrolcode;var addSampleId=_this.state.controlMap.has(\"AddSamples\")&&_this.state.controlMap.get(\"AddSamples\").ncontrolcode;var viewSampleId=_this.state.controlMap.has(\"ViewWorklistSample\")&&_this.state.controlMap.get(\"ViewWorklistSample\").ncontrolcode;tabMap.set(\"IDS_WORKLISTSAMPLE\",/*#__PURE__*/React.createElement(WorklistSampleTab,{controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,dataState:_this.props.Login.masterData.WorklistSamples,selectedWorklist:_this.props.Login.masterData.WorklistSamples,extractedColumnList:_this.gridfillingColumn(_this.state.DynamicGridItem)||[],detailedFieldList:_this.gridfillingColumn(_this.state.DynamicGridMoreItem)||[],userInfo:_this.props.Login.userInfo,inputParam:_this.props.Login.inputParam,deleteRecord:_this.DeleteWorklistSample,deleteSecId:deleteSecId,defaultRecord:_this.defaultRecord,WorklistSamples:_this.props.Login.masterData.WorklistSamples||[],viewSample:_this.viewSample,screenName:\"IDS_WORKLISTSAMPLE\",selectedRecord:_this.state.selectedRecord,settings:_this.props.Login.settings,getWorklistSample:_this.props.getWorklistSample,masterData:_this.props.Login.masterData,addSampleId:addSampleId,viewSampleId:viewSampleId}));tabMap.set(\"IDS_WORKLISTHISTORY\",/*#__PURE__*/React.createElement(WorklistHistoryTab,{dataState:_this.props.Login.masterData.WorklistHistory,selectedWorklistHistory:_this.props.Login.masterData.WorklistHistory,InstrumentSection:_this.props.Login.masterData.WorklistHistory||[],userInfo:_this.props.Login.userInfo//inputParam={this.props.Login.inputParam}\n// deleteRecord={this.DeleteWorklistSample}\n// deleteSecId={deleteSecId}\n// defaultSecId={defaultSecId}\n// defaultRecord={this.defaultRecord}\n,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,screenName:\"IDS_WORKLISTHISTORY\",selectedRecord:_this.state.selectedRecord,settings:_this.props.Login.settings}));return tabMap;};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;if(screenName==\"IDS_WORKLISTHISTORY\"){var inputData={masterData:_this.props.Login.masterData,userInfo:_this.props.Login.userInfo,nworklistcode:_this.props.Login.masterData.selectedWorklist.nworklistcode};_this.props.getWorklisthistoryAction(inputData,true);}else{var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName,activeKey:\"IDS_WORKLISTSAMPLE\"}};_this.props.updateStore(updateInfo);}};_this.reloadData=function(){_this.searchRef.current.value=\"\";var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var realFromDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate);var realToDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate);var defaultSampleTypeValue=_this.props.Login.masterData.defaultSampleTypeValue;var defaultRegTypeValue=_this.props.Login.masterData.defaultRegTypeValue;var defaultRegSubTypeValue=_this.props.Login.masterData.defaultRegSubTypeValue;var defaultFilterStatusValue=_this.props.Login.masterData.defaultFilterStatusValue;var defaultApprovalVersionValue=_this.props.Login.masterData.defaultApprovalVersion;var defaultApprovalVersion=_this.props.Login.masterData.defaultApprovalVersionValue;var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realFromDate:realFromDate,realToDate:realToDate,defaultSampleTypeValue:defaultSampleTypeValue,defaultRegTypeValue:defaultRegTypeValue,defaultRegSubTypeValue:defaultRegSubTypeValue,defaultFilterStatusValue:defaultFilterStatusValue,defaultApprovalVersionValue:defaultApprovalVersionValue});var inputData={nsampletypecode:_this.props.Login.masterData.defaultSampleTypeValue&&_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode||-1,nregtypecode:parseInt(_this.props.Login.masterData.defaultRegTypeValue&&_this.props.Login.masterData.defaultRegTypeValue.nregtypecode)||-1,nregsubtypecode:parseInt(_this.props.Login.masterData.defaultRegSubTypeValue&&_this.props.Login.masterData.defaultRegSubTypeValue.nregsubtypecode)||-1,ntransactionstatus:_this.props.Login.masterData.defaultFilterStatusValue&&_this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus||-1,userinfo:_this.props.Login.userInfo,napprovalconfigversioncode:_this.props.Login.masterData.defaultApprovalVersionValue&&_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode||-1};if(inputData.nsampletypecode!==-1&&inputData.nregtypecode!==-1&&inputData.nregsubtypecode!==-1&&inputData.napprovalconfigversioncode!==-1&&inputData.ntransactionstatus!==\"-1\"){inputData['fromdate']=obj.fromDate;inputData['todate']=obj.toDate;inputData['ndesigntemplatemappingcode']=_this.props.Login.masterData.ndesigntemplatemappingcode;var inputParam={masterData:masterData,inputData:inputData,searchTestRef:_this.searchTestRef,skip:_this.state.skip,take:_this.state.take,testskip:_this.state.testskip,testtake:_this.state.testtake};_this.props.getWorklistDetailFilter(inputParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTALLVALUESINFILTER\"}));}};_this.ConfirmDelete=function(operation,deleteId){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.DeleteWorklist(operation,deleteId,operation.screenName?operation.screenName:\"IDS_WORKLIST\");});};_this.DeleteWorklist=function(operation,ncontrolCode){var inputData=[];inputData[\"worklist\"]=_this.props.Login.masterData.selectedWorklist;inputData[\"userinfo\"]=_this.props.Login.userInfo;var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);inputData['fromdate']=obj.fromDate;inputData['todate']=obj.toDate;inputData['ndesigntemplatemappingcode']=_this.props.Login.masterData.ndesigntemplatemappingcode;var postParam={inputListName:\"Worklist\",selectedObject:\"selectedWorklist\",primaryKeyField:\"nworklistcode\",primaryKeyValue:_this.props.Login.masterData.selectedWorklist.nworklistcode//fecthInputObject: { userinfo: this.props.Login.userInfo },\n};var inputParam={methodUrl:\"Worklist\",postParam:postParam,classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,operation:operation.operation};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"Worklist\",operation:operation.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.onApproveClick=function(){//onClick={() => this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, approvalId)}\n//if (this.props.Login.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.DRAFT) {\nvar ncontrolCode=_this.state.controlMap.has(\"GenerateWorklist\")&&_this.state.controlMap.get(\"GenerateWorklist\").ncontrolcode;var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;var masterData=_this.props.Login.masterData;// //add               \nvar postParam=undefined;inputData[\"worklist\"]=masterData.selectedWorklist;inputData[\"ncontrolCode\"]=ncontrolCode;inputData[\"ndesigntemplatemappingcode\"]=masterData.ndesigntemplatemappingcode;// inputData[\"supplier\"] = this.props.Login.masterData.SelectedSupplier;\npostParam={inputListName:\"Worklist\",selectedObject:\"selectedWorklist\",primaryKeyField:\"nworklistcode\"};var inputParam={classUrl:'worklist',methodUrl:\"Worklist\",inputData:inputData,operation:\"approve\",postParam:postParam};var saveType;var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,openModal:true,operation:\"approve\"}};_this.props.updateStore(updateInfo);}else{//this.props.crudMaster(inputParam, masterData, \"openModal\");\n_this.props.onWorklistApproveClick(_this.props.Login.masterData,_this.props.Login.userInfo,_this.confirmMessage,ncontrolCode);}};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};if(comboData!==null){switch(caseNo){case 1:if(selectedRecord[fieldName]&&selectedRecord[fieldName].value!==comboData.value){delete selectedRecord[\"ntestcode\"];}selectedRecord[fieldName]=comboData;//this.setState({ selectedRecord });\n_this.props.getSectionbaseTest(selectedRecord,_this.props.Login.userInfo,_this.props.Login.masterData,_this.props.Login.ncontrolCode);break;default:break;}}else{if(selectedRecord[\"nsectioncode\"]){delete selectedRecord[\"nsectioncode\"];delete selectedRecord[\"nusercode\"];}var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var modalShow=_this.props.Login.modalShow;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if((_this.props.Login.operation.operation?_this.props.Login.operation.operation:_this.props.Login.operation)===\"delete\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord[\"agree\"]=transactionStatus.NO;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";modalShow=true;openModal=false;}}else{openModal=false;modalShow=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,modalShow:modalShow,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.viewSample=function(viewdetails){//let openModal = this.props.Login.openModal;\n//let openModal = true;\n//let screenName = 'IDS_VIEWDETAILS'\n_this.props.ViewSampleDetails(_this.props.Login.masterData,\"IDS_PREVIOUSRESULTVIEW\",_this.props.Login.userInfo,viewdetails);};_this.closeModalShow=function(){var loadEsign=_this.props.Login.loadEsign;var modalShow=_this.props.Login.modalShow;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){loadEsign=false;}else{modalShow=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{modalShow:modalShow,selectedRecord:selectedRecord,selectedId:null,loadEsign:loadEsign}};_this.props.updateStore(updateInfo);};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var realFromDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate);var realToDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate);var defaultSampleTypeValue=_this.props.Login.masterData.defaultSampleTypeValue;var defaultRegTypeValue=_this.props.Login.masterData.RegTypeValue;var defaultRegSubTypeValue=_this.props.Login.masterData.RegSubTypeValue;var defaultFilterStatusValue=_this.props.Login.masterData.FilterStatusValue;var defaultApprovalVersion=_this.props.Login.masterData.defaultApprovalVersionValue;var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realFromDate:realFromDate,realToDate:realToDate,defaultSampleTypeValue:defaultSampleTypeValue,defaultRegTypeValue:defaultRegTypeValue,defaultRegSubTypeValue:defaultRegSubTypeValue,defaultFilterStatusValue:defaultFilterStatusValue,defaultApprovalVersion:defaultApprovalVersion});var inputData={//npreregno: \"0\",\nnsampletypecode:_this.props.Login.masterData.defaultSampleTypeValue&&_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode||-1,nregtypecode:parseInt(_this.props.Login.masterData.defaultRegTypeValue&&_this.props.Login.masterData.defaultRegTypeValue.nregtypecode)||-1,nregsubtypecode:parseInt(_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode)||-1,ntransactionstatus:_this.props.Login.masterData.FilterStatusValue&&_this.props.Login.masterData.FilterStatusValue.ntransactionstatus||-1,napprovalconfigversioncode:_this.props.Login.masterData.defaultApprovalVersionValue&&_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode||-1,userinfo:_this.props.Login.userInfo// activeTestTab: this.props.Login.activeTestTab,\n};if(inputData.nsampletypecode!==-1&&inputData.nregtypecode!==-1&&inputData.nregsubtypecode!==-1&&inputData.napprovalconfigversioncode!==-1&&inputData.ntransactionstatus!==\"-1\"){inputData['fromdate']=obj.fromDate;inputData['todate']=obj.toDate;inputData['ndesigntemplatemappingcode']=_this.props.Login.masterData.ndesigntemplatemappingcode;var inputParam={masterData:masterData,inputData:inputData,searchTestRef:_this.searchTestRef,skip:_this.state.skip,take:_this.state.take,testskip:_this.state.testskip,testtake:_this.state.testtake};_this.props.getWorklistDetailFilter(inputParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTALLVALUESINFILTER\"}));}};var sectionDataState={skip:0,take:10};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],selectedWorklist:undefined,controlMap:new Map(),Instrument:[],sectionDataState:sectionDataState,addComponentDataList:[],addedComponentList:[],RegistrationSubTypeList:[],FilterStatusList:[],SampletypeList:[],RegTypeValue:[],ConfigVersionList:[]};_this.searchRef=React.createRef();_this.searchFieldList=[\"sworklistno\",\"stestname\"];_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(WorkList,[{key:\"gridfillingColumn\",value:function gridfillingColumn(data){var _this2=this;var temparray=data&&data.map(function(option){return{\"idsName\":option[designProperties.LABEL][_this2.props.Login.userInfo.slanguagetypecode],\"dataField\":option[designProperties.VALUE],\"width\":\"200px\",\"columnSize\":\"3\"};});return temparray;}// onNumericInputOnChange = (value, name) => {\n//   const selectedRecord = this.state.selectedRecord || {};\n//   selectedRecord[name] = value;\n//   this.setState({ selectedRecord });\n// };\n},{key:\"valiateCheckAll\",value:// onApproveClick = () => {\n//   //if (this.props.Login.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.DRAFT) {\n//   const ncontrolCode = this.state.controlMap.has(\"ApproveSupplier\") && this.state.controlMap.get(\"ApproveSupplier\").ncontrolcode\n//   let inputData = [];\n//   inputData[\"userinfo\"] = this.props.Login.userInfo;\n//   //add               \n//   let postParam = undefined;\n//   inputData[\"supplier\"] = { \"nsuppliercode\": this.props.Login.masterData.SelectedSupplier[\"nsuppliercode\"] ? this.props.Login.masterData.SelectedSupplier[\"nsuppliercode\"].Value : \"\" };\n//   inputData[\"supplier\"] = this.props.Login.masterData.SelectedSupplier;\n//   postParam = { inputListName: \"Supplier\", selectedObject: \"SelectedSupplier\", primaryKeyField: \"nsuppliercode\" };\n//   const inputParam = {\n//     classUrl: 'supplier',\n//     methodUrl: \"Supplier\",\n//     inputData: inputData,\n//     operation: \"approve\", postParam\n//   }\n//   let saveType;\n//   const masterData = this.props.Login.masterData;\n//   const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\n//   if (esignNeeded) {\n//     const updateInfo = {\n//       typeName: DEFAULT_RETURN,\n//       data: {\n//         loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"approve\"\n//       }\n//     }\n//     this.props.updateStore(updateInfo);\n//   }\n//   else {\n//     this.props.crudMaster(inputParam, masterData, \"openModal\");\n//   }\n//   // }\n//   // else {\n//   //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORDTOAPPROVE\" }));\n//   // }\n// }\nfunction valiateCheckAll(data){var selectAll=true;// let checkRepeatComponent;\n//  let addedComponentList = this.state.addedComponentList || [];\nif(data&&data.length>0){data.forEach(function(dataItem){if(dataItem.selected){if(dataItem.selected===false){selectAll=false;}}else{selectAll=false;// checkRepeatComponent=this.state.addComponentDataList.filter(item=>item.npreregno==data.npreregno)\n// if(checkRepeatComponent.length>0){\n//     selectAll = true;\n// }else{\n//     selectAll = false;\n// }\n}});}else{//if (gridType === \"originalgrid\"){\nselectAll=false;// }\n}return selectAll;}},{key:\"render\",value:function render(){var _this3=this;var obj=convertDateValuetoString(this.props.Login.masterData.fromDate,this.props.Login.masterData.toDate,this.props.Login.userInfo);var mandatoryFields=[];this.feildsForGrid=[// { \"idsName\": \"IDS_TEST\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" },       \n{\"idsName\":\"IDS_PARAMETER\",\"dataField\":\"sparametersynonym\",\"width\":\"100px\"},{\"idsName\":\"IDS_RESULT\",\"dataField\":\"sfinal\",\"width\":\"100px\"},{\"idsName\":\"IDS_GRADE\",\"dataField\":\"sgradename\",\"width\":\"200px\"}];this.extractedColumnList=[//  { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\n{\"idsName\":\"IDS_NEWCOMMENTS\",\"dataField\":\"scomments\",\"width\":\"350px\"},{\"idsName\":\"IDS_USERNAME\",\"dataField\":\"susername\",\"width\":\"200px\"},{\"idsName\":\"IDS_USERROLE\",\"dataField\":\"suserrolename\",\"width\":\"200px\"},{\"idsName\":\"IDS_ACTIONTYPE\",\"dataField\":\"sactiontype\",\"width\":\"200px\"},{\"idsName\":\"IDS_MODULENAME\",\"dataField\":\"smodulename\",\"width\":\"200px\"},{\"idsName\":\"IDS_FORMNAME\",\"dataField\":\"sformname\",\"width\":\"200px\"},{\"idsName\":\"IDS_REASON\",\"dataField\":\"spredefinedreason\",\"width\":\"200px\"},{\"idsName\":\"IDS_ESIGNCOMMENTS\",\"dataField\":\"sreason\",\"width\":\"200px\"}];var auditInfoFields=[{\"fieldName\":\"sarno\",\"label\":\"IDS_ARNO\"},{\"fieldName\":\"spatientid\",\"label\":\"IDS_PATIENTID\"},{\"fieldName\":\"sfirstname\",\"label\":\"IDS_PATIENTNAME\"},{\"fieldName\":\"sage\",\"label\":\"IDS_AGE\"},{\"fieldName\":\"sgendername\",\"label\":\"IDS_GENDER\"},{\"fieldName\":\"stestsynonym\",\"label\":\"IDS_TEST\"},{\"fieldName\":\"sregdate\",\"label\":\"IDS_REGISTRATIONDATE\"},{\"fieldName\":\"scompletedate\",\"label\":\"IDS_COMPLETEDDATEANDTIME\"}];if(this.props.Login.screenName===\"IDS_WORKLIST\"){mandatoryFields.push({mandatory:true,idsName:\"IDS_ADDSECTION\",dataField:\"nsectioncode\",mandatoryLabel:\"IDS_SELECT\",controlType:\"selectbox\"},{mandatory:true,idsName:\"IDS_TEST\",dataField:\"ntestcode\",mandatoryLabel:\"IDS_SELECT\",controlType:\"selectbox\"});}var addId=this.state.controlMap.has(\"AddWorklist\")&&this.state.controlMap.get(\"AddWorklist\").ncontrolcode;// const editId =\n//   this.state.controlMap.has(\"EditWorklist\") &&\n//   this.state.controlMap.get(\"EditWorklist\").ncontrolcode;\nvar deleteId=this.state.controlMap.has(\"DeleteWorklist\")&&this.state.controlMap.get(\"DeleteWorklist\").ncontrolcode;var approvalId=this.state.controlMap.has(\"GenerateWorklist\")&&this.state.controlMap.get(\"GenerateWorklist\").ncontrolcode;var reportId=this.state.controlMap.has(\"WorklistReport\")&&this.state.controlMap.get(\"WorklistReport\").ncontrolcode;// const addSampleId =\n//   this.state.controlMap.has(\"AddWorklistSample\") &&\n//   this.state.controlMap.get(\"AddWorklistSample\").ncontrolcode;\n// const deleteSampleId =\n// this.state.controlMap.has(\"DeleteWorklistSample\") &&\n// this.state.controlMap.get(\"DeleteWorklistSample\").ncontrolcode;\nvar selectedWorklist=this.props.Login.masterData.selectedWorklist;var filterParam={inputListName:\"Worklist\",selectedObject:\"selectedWorklist\",primaryKeyField:\"nworklistcode\",fetchUrl:\"worklist/getWorklistSample\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var breadCrumbData=this.state.filterData||[];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{formatMessage:this.props.intl.formatMessage,screenName:\"worklist\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.Worklist,getMasterDetail:function getMasterDetail(worklist){return _this3.props.getWorklistDetail(worklist,_this3.props.Login.userInfo,_this3.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedWorklist,primaryKeyField:\"nworklistcode\",mainField:\"sworklistno\",firstField:\"stestname\",secondField:\"ssectionname\",isIDSField:\"Yes\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,searchRef:this.searchRef,addId:addId//hidePaging={true}\n,reloadData:this.reloadData,openModal:function openModal(){return _this3.props.getSectionAndTest(\"IDS_WORKLIST\",\"create\",\"nworklistcode\",_this3.props.Login.masterData,_this3.props.Login.userInfo,addId);},openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,showFilterIcon:true,showFilter:this.props.Login.showFilter,filterComponent:[{IDS_WORKLISTFILTER:/*#__PURE__*/React.createElement(WorklistPreparationFilter,{SampleTypeValue:this.props.Login.masterData.defaultSampleTypeValue||{},RegTypeValue:this.props.Login.masterData.RegTypeValue||{},RegSubTypeValue:this.props.Login.masterData.RegSubTypeValue||{},RegSubType:this.state.RegistrationSubTypeList||[],RegType:this.state.RegistrationTypeList||[],userInfo:this.props.Login.userInfo||{},ApprovalVersion:this.state.ConfigVersionList||[],ApprovalVersionValue:this.props.Login.masterData.defaultApprovalVersionValue||[]//SampleType={this.state.stateSampleType || []}\n,FilterStatusValue:this.props.Login.masterData.FilterStatusValue||{},FilterStatus:this.state.FilterStatusList||[],RegistrationType:this.state.stateRegistrationType||[],RegistrationSubType:this.state.stateRegistrationSubType||[],fromDate:this.props.Login.masterData.fromDate?rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.fromDate):new Date(),toDate:this.props.Login.masterData.toDate?rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.toDate):new Date(),handleDateChange:this.handleDateChange,onFilterComboChange:this.onFilterComboChange,SampleType:this.state.SampletypeList||[]})}]})),/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.Worklist&&this.props.Login.masterData.Worklist.length>0&&this.props.Login.masterData.selectedWorklist?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.selectedWorklist.sworklistno),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(MediaLabel,{className:\"btn btn-outlined \".concat(this.props.Login.masterData.selectedWorklist.ntransactionstatus===83?\"outline-success\":\"outline-secondary\",\" btn-sm ml-3\")},this.props.Login.masterData.selectedWorklist.ntransactionstatus===83&&/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCheck}),this.props.Login.masterData.selectedWorklist.stransdisplaystatus)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"deleteWorklist\",className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})//   data-for=\"tooltip_list_wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this3.ConfirmDelete({operation:\"delete\",screenName:\"IDS_WORKLIST\"},deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approvalId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_PREPARED\"})//onClick={() => this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, approvalId)}\n,onClick:function onClick(){return _this3.onApproveClick();}},/*#__PURE__*/React.createElement(Closure,{className:\"custom_icons\",width:\"17\",height:\"20\"})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(reportId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REPORT\"}),onClick:function onClick(){return _this3.specificationReport(reportId);}},/*#__PURE__*/React.createElement(ReportIcon,{className:\"custom_icons\",width:\"17\",height:\"20\"})))))),/*#__PURE__*/React.createElement(Card.Body,null,selectedWorklist&&/*#__PURE__*/React.createElement(CustomTab,{activeKey:this.props.Login.activeKey?this.props.Login.activeKey:\"IDS_WORKLISTSAMPLE\",tabDetail:this.tabDetail(),onTabChange:this.onTabChange}))):\"\"))))))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,mandatoryFields:mandatoryFields,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},hideSave:this.props.Login.screenName===\"IDS_PREVIOUSRESULTVIEW\"?true:false,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_WORKLIST\"?/*#__PURE__*/React.createElement(AddWorklistSection//onNumericInputOnChange={this.onNumericInputOnChange}\n,{selectedRecord:this.props.Login.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,SectionValue:this.props.Login.Section,TestValue:this.props.Login.Test,handleDateChange:this.handleDateChange}):this.props.Login.screenName===\"IDS_WORKLISTSAMPLE\"?/*#__PURE__*/React.createElement(AddWorklistSample,{selectionChange:this.selectionChange,headerSelectionChange:this.headerSelectionChange,addComponentDataList:this.props.Login.addComponentDataList,addSelectAll:this.state.addSelectAll//onNumericInputOnChange={this.onNumericInputOnChange}\n,selectedRecord:this.props.Login.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,TestValue:this.props.Login.Test,handleDateChange:this.handleDateChange}):this.props.Login.screenName===\"IDS_PREVIOUSRESULTVIEW\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card,{className:\"one\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(SpecificationInfo,{controlMap:this.state.controlMap,auditInfoFields:auditInfoFields,userRoleControlRights:this.state.userRoleControlRights,selectedSpecification:this.props.Login.masterData.viewdetails,userInfo:this.props.Login.userInfo,selectedNode:this.props.Login.masterData.selectedNode,selectedRecord:this.state.filterData,approvalRoleActionDetail:this.props.Login.masterData.ApprovalRoleActionDetail,screenName:\"IDS_SPECIFICATIONINFO\"}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"ntransactiontestcode\"//data={this.props.Login.addComponentDataList || []}\n,detailedFieldList:this.feildsForGrid,extractedColumnList:this.feildsForGrid,dataResult:this.props.Login.masterData.AuditModifiedComments&&this.props.Login.masterData.AuditModifiedComments.length>0&&process(this.props.Login.masterData.AuditModifiedComments,{skip:0,take:10}),dataState:{skip:0,take:10},selectionChange:this.selectionChange,headerSelectionChange:this.headerSelectionChange})):\"\"}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,selectedRecord=_this$state.selectedRecord,addedComponentList=_this$state.addedComponentList,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,filterData=_this$state.filterData,nfilterInstrumentCategory=_this$state.nfilterInstrumentCategory,filterInstrumentCategory=_this$state.filterInstrumentCategory,RegistrationSubTypeList=_this$state.RegistrationSubTypeList,FilterStatusList=_this$state.FilterStatusList,SampletypeList=_this$state.SampletypeList,RegistrationTypeList=_this$state.RegistrationTypeList,DynamicGridItem=_this$state.DynamicGridItem,DynamicGridMoreItem=_this$state.DynamicGridMoreItem,ConfigVersionList=_this$state.ConfigVersionList,subsampleGridItem=_this$state.subsampleGridItem,sampleGridItem=_this$state.sampleGridItem,_this$state$testGridI=_this$state.testGridItem,testGridItem=_this$state$testGridI===void 0?[]:_this$state$testGridI,samplegridmoreitem=_this$state.samplegridmoreitem,testGridItems=_this$state.testGridItems,addSelectAll=_this$state.addSelectAll,deleteSelectAll=_this$state.deleteSelectAll;if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);updateState=true;}if(this.props.Login.masterData!==previousProps.Login.masterData){var RegistrationSubTypeListMap=constructOptionList(this.props.Login.masterData.RegistrationSubType||[],\"nregsubtypecode\",\"sregsubtypename\",\"nsorter\",'ascending','nregsubtypecode',false);RegistrationSubTypeList=RegistrationSubTypeListMap.get(\"OptionList\");var RegistrationTypeListMap=constructOptionList(this.props.Login.masterData.RegistrationType||[],\"nregtypecode\",\"sregtypename\",\"nsorter\",'ascending','nregtypecode',false);RegistrationTypeList=RegistrationTypeListMap.get(\"OptionList\");var FilterStatusListMap=constructOptionList(this.props.Login.masterData.FilterStatus||[],\"ntransactionstatus\",\"stransdisplaystatus\",undefined,undefined,false);FilterStatusList=FilterStatusListMap.get(\"OptionList\");var SampletypeListMap=constructOptionList(this.props.Login.masterData.SampleType||[],\"nsampletypecode\",\"ssampletypename\",'ascending','nsampletypecode',false);SampletypeList=SampletypeListMap.get(\"OptionList\");var ConfigVersionListMap=constructOptionList(this.props.Login.masterData.ApprovalConfigVersion||[],\"napprovalconfigversioncode\",\"sversionname\",'descending','ntransactionstatus',false);ConfigVersionList=ConfigVersionListMap.get(\"OptionList\");nfilterInstrumentCategory=this.state.nfilterInstrumentCategory||{};addSelectAll=false;deleteSelectAll=true;if(this.props.Login.masterData.SelectedInsCat&&this.props.Login.masterData.SelectedInsCat!==previousProps.Login.masterData.SelectedInsCat){nfilterInstrumentCategory={label:this.props.Login.masterData.SelectedInsCat.stestsynonym,value:this.props.Login.masterData.SelectedInsCat.ntestcode,item:this.props.Login.masterData.SelectedInsCat};}filterData=this.generateBreadCrumData();updateState=true;}if(this.props.Login.masterData.DynamicDesign&&this.props.Login.masterData.DynamicDesign!==previousProps.Login.masterData.DynamicDesign){var dynamicColumn=JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata.value);testGridItem[0]=dynamicColumn.testListFields.releasetestfields[0]?dynamicColumn.testListFields.releasetestfields[0]:[];sampleGridItem=dynamicColumn.samplegriditem?dynamicColumn.samplegriditem:[];subsampleGridItem=dynamicColumn.subsamplelistitem?dynamicColumn.subsamplelistitem:[];testGridItems=dynamicColumn.testListFields.testlistitem?dynamicColumn.testListFields.testlistitem:[];//testGridItem= dynamicColumn.conditionfields ? dynamicColumn.conditionfields : [];\nDynamicGridItem=[].concat(_toConsumableArray(testGridItems),_toConsumableArray(testGridItem),_toConsumableArray(sampleGridItem),_toConsumableArray(subsampleGridItem));samplegridmoreitem=dynamicColumn.samplegridmoreitem?dynamicColumn.samplegridmoreitem:[];DynamicGridMoreItem=_toConsumableArray(samplegridmoreitem);//DynamicGridItem.push(dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [])\n}if(this.props.Login.masterData.filterInstrumentCategory!==previousProps.Login.masterData.filterInstrumentCategory){var insCategoryMap=constructOptionList(this.props.Login.masterData.filterInstrumentCategory||[],\"ntestcode\",\"stestsynonym\",\"ntestcategorycode\",\"ascending\",false);filterInstrumentCategory=insCategoryMap.get(\"OptionList\");if(insCategoryMap.get(\"DefaultValue\")){nfilterInstrumentCategory=insCategoryMap.get(\"DefaultValue\");}else if(filterInstrumentCategory&&filterInstrumentCategory.length>0){nfilterInstrumentCategory=filterInstrumentCategory[0];}updateState=true;}// let updateState = false;\nvar updateStateObject={};if(this.props.Login.addedComponentList!==previousProps.Login.addedComponentList){addSelectAll=false;deleteSelectAll=true;this.setState({addedComponentList:this.props.Login.addedComponentList,addSelectAll:addSelectAll,deleteSelectAll:deleteSelectAll});}if(this.props.addedComponentList!==previousProps.addedComponentList){// this.setState({ addedComponentList : this.props.addedComponentList});\nupdateState=true;updateStateObject=_objectSpread(_objectSpread({},updateStateObject),{},{addedComponentList:this.props.addedComponentList});}if(updateState){this.setState({selectedRecord:selectedRecord,userRoleControlRights:userRoleControlRights,controlMap:controlMap,filterData:filterData,nfilterInstrumentCategory:nfilterInstrumentCategory,filterInstrumentCategory:filterInstrumentCategory,RegistrationSubTypeList:RegistrationSubTypeList,FilterStatusList:FilterStatusList,SampletypeList:SampletypeList,RegistrationTypeList:RegistrationTypeList,DynamicGridItem:DynamicGridItem,ConfigVersionList:ConfigVersionList,DynamicGridMoreItem:DynamicGridMoreItem,addSelectAll:addSelectAll,deleteSelectAll:deleteSelectAll});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){//obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\nvar breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.Worklist){var obj=convertDateValuetoString(this.props.Login.masterData.fromDate,this.props.Login.masterData.toDate,this.props.Login.userInfo);breadCrumbData.push({\"label\":\"IDS_FROM\",\"value\":obj.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":obj.breadCrumbto},// {\n//   \"label\": \"IDS_SAMPLETYPE\",\n//   \"value\": this.props.Login.masterData.defaultSampleTypeValue ? this.props.Login.masterData.defaultSampleTypeValue.ssampletypename || \"NA\" :\n//     this.props.Login.masterData.defaultSampleTypeValue ? this.props.Login.masterData.defaultSampleTypeValue.ssampletypename || \"NA\" : \"NA\"\n// },\n{\"label\":\"IDS_REGTYPE\",\"value\":this.props.Login.masterData.defaultRegTypeValue?this.props.Login.masterData.defaultRegTypeValue.sregtypename||\"NA\":this.props.Login.masterData.defaultRegTypeValue?this.props.Login.masterData.defaultRegTypeValue.sregtypename||\"NA\":\"NA\"},{\"label\":\"IDS_REGSUBTYPE\",\"value\":this.props.Login.masterData.defaultRegSubTypeValue?this.props.Login.masterData.defaultRegSubTypeValue.sregsubtypename||\"NA\":this.props.Login.masterData.defaultRegSubTypeValue?this.props.Login.masterData.defaultRegSubTypeValue.sregsubtypename:\"NA\"},// {\n//   \"label\": \"IDS_CONFIGVERSION\",\n//   \"value\": this.props.Login.masterData.defaultApprovalVersion ?\n//     this.props.Login.masterData.defaultApprovalVersion.sversionname || \"NA\" :\n//     this.props.Login.masterData.defaultApprovalVersion ? this.props.Login.masterData.defaultApprovalVersion.sversionname || \"NA\" : \"NA\"\n// },\n{\"label\":\"IDS_WORKLISTSTATUS\",\"value\":this.props.Login.masterData.defaultFilterStatusValue?this.props.Login.masterData.defaultFilterStatusValue.stransdisplaystatus||\"NA\":this.props.Login.masterData.defaultFilterStatusValue?this.props.Login.masterData.defaultFilterStatusValue.stransdisplaystatus||\"NA\":\"NA\"}//];\n);}return breadCrumbData;}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return WorkList;}(Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,getWorklistDetail:getWorklistDetail,filterColumnData:filterColumnData,getSectionAndTest:getSectionAndTest,updateStore:updateStore,validateEsignCredential:validateEsignCredential,onWorklistApproveClick:onWorklistApproveClick,OpenDate:OpenDate,CloseDate:CloseDate,viewAttachment:viewAttachment,getInstrumentCombo:getInstrumentCombo,getWorklistSample:getWorklistSample,getRegTypeTestWise:getRegTypeTestWise,getRegTypeWorklist:getRegTypeWorklist,getSectionbaseTest:getSectionbaseTest,getWorklistDetailFilter:getWorklistDetailFilter,getEditSectionAndTest:getEditSectionAndTest,createWorklistCreation:createWorklistCreation,getConfigVersionTestWise:getConfigVersionTestWise,ViewSampleDetails:ViewSampleDetails,getWorklisthistoryAction:getWorklisthistoryAction,reportWorklist:reportWorklist,getRegSubTypeWise:getRegSubTypeWise})(injectIntl(WorkList));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/worklist/WorkList.jsx"],"names":["React","Component","Row","Col","Card","Nav","FormGroup","FormLabel","connect","toast","FontAwesomeIcon","faCheck","faTrashAlt","WorklistPreparationFilter","rearrangeDateFormat","convertDateValuetoString","injectIntl","Esign","AddWorklistSection","AddWorklistSample","CustomTab","WorklistHistoryTab","WorklistSampleTab","designProperties","transactionStatus","REPORTTYPE","SUBSAMPLEAUDITMULTILINGUALFIELDS","SpecificationInfo","callService","crudMaster","validateEsignCredential","updateStore","getSectionAndTest","getWorklistDetail","OpenDate","CloseDate","viewAttachment","getInstrumentCombo","getWorklistSample","getRegTypeTestWise","getRegTypeWorklist","getSectionbaseTest","onWorklistApproveClick","getWorklistDetailFilter","getEditSectionAndTest","createWorklistCreation","filterColumnData","getConfigVersionTestWise","ViewSampleDetails","getWorklisthistoryAction","reportWorklist","getRegSubTypeWise","ListMaster","DEFAULT_RETURN","SlideOutModal","showEsign","getControlMap","constructOptionList","ContentPanel","MediaLabel","process","ConfirmMessage","BreadcrumbComponent","Affix","DataGrid","mapStateToProps","state","Login","WorkList","props","handleDateChange","dateName","dateValue","Date","fromdate","masterData","fromDate","userInfo","todate","toDate","obj","inputParam","inputData","nflag","nregtypecode","RegTypeValue","nregsubtypecode","RegSubTypeValue","nneedtemplatebasedflow","String","userinfo","onFilterComboChange","comboData","fieldName","inputParamData","value","defaultSampleTypeValue","nsampletypecode","item","defaultRegTypeValue","FilterStatusValue","ntransactionstatus","updateInfo","typeName","data","defaultApprovalVersionValue","napproveconfversioncode","onInputOnChange","event","optional","selectedRecord","target","type","name","checked","setState","onSaveClick","saveType","formRef","instSection","screenName","postParam","undefined","nstatus","nmastersitecode","ndesigntemplatemappingcode","defaultFilterStatusValue","FilterStatus","operation","selectedWorklist","nworklistcode","classUrl","methodUrl","searchRef","userRoleControlRights","nformcode","ncontrolCode","loadEsign","screenData","validList","addedComponentList","length","saveList","compList","map","indexOf","ntransactionsamplecode","push","worklistcompcreationlist","worklistcreation","dataState","selectedId","warn","intl","formatMessage","id","DeleteWorklistSample","sectionDataState","nsitecode","ntranssitecode","nworklistsamplecode","ntransactiontestcode","sarno","ssamplearno","stestsynonym","openModal","selectionChange","addComponentDataList","dataItem","selected","newItem","JSON","parse","stringify","filter","item1","addSelectAll","valiateCheckAll","deleteSelectAll","specificationReport","sprimarykeyname","ncontrolcode","nreporttypecode","CONTROLBASED","headerSelectionChange","syntheticEvent","dataItems","findIndex","x","olditem","addedComponentData","deletedListdData","deletedList","npreregno","validateEsign","sreason","password","tabDetail","tabMap","Map","deleteSecId","controlMap","has","get","addSampleId","viewSampleId","set","WorklistSamples","gridfillingColumn","DynamicGridItem","DynamicGridMoreItem","defaultRecord","viewSample","settings","WorklistHistory","onTabChange","tabProps","activeKey","reloadData","current","realFromDate","realToDate","defaultRegSubTypeValue","defaultApprovalVersion","parseInt","napprovalconfigversioncode","searchTestRef","skip","take","testskip","testtake","ConfirmDelete","deleteId","confirmMessage","confirm","DeleteWorklist","inputListName","selectedObject","primaryKeyField","primaryKeyValue","onApproveClick","esignNeeded","onComboChange","caseNo","closeModal","modalShow","NO","viewdetails","closeModalShow","openFilter","showFilter","closeFilter","onFilterSubmit","error","Instrument","RegistrationSubTypeList","FilterStatusList","SampletypeList","ConfigVersionList","createRef","searchFieldList","temparray","option","LABEL","slanguagetypecode","VALUE","selectAll","forEach","mandatoryFields","feildsForGrid","extractedColumnList","auditInfoFields","mandatory","idsName","dataField","mandatoryLabel","controlType","addId","approvalId","reportId","filterParam","fetchUrl","fecthInputObject","breadCrumbData","filterData","searchedData","Worklist","worklist","IDS_WORKLISTFILTER","RegistrationTypeList","stateRegistrationType","stateRegistrationSubType","sworklistno","stransdisplaystatus","masterStatus","Section","Test","selectedNode","ApprovalRoleActionDetail","AuditModifiedComments","previousProps","updateState","nfilterInstrumentCategory","filterInstrumentCategory","subsampleGridItem","sampleGridItem","testGridItem","samplegridmoreitem","testGridItems","Object","values","RegistrationSubTypeListMap","RegistrationSubType","RegistrationTypeListMap","RegistrationType","FilterStatusListMap","SampletypeListMap","SampleType","ConfigVersionListMap","ApprovalConfigVersion","SelectedInsCat","label","ntestcode","generateBreadCrumData","DynamicDesign","dynamicColumn","jsondata","testListFields","releasetestfields","samplegriditem","subsamplelistitem","testlistitem","insCategoryMap","updateStateObject","breadCrumbFrom","breadCrumbto","sregtypename","sregsubtypename","errorCode"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCheck, faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport WorklistPreparationFilter from './WorklistPreparationFilter'\r\nimport { rearrangeDateFormat, convertDateValuetoString } from '../../components/CommonScript';\r\nimport { injectIntl } from \"react-intl\";\r\nimport Esign from \"../audittrail/Esign\";\r\nimport AddWorklistSection from '../worklist/AddWorklistSection';\r\nimport AddWorklistSample from '../worklist/AddWorklistSample';\r\nimport CustomTab from \"../../components/custom-tabs/custom-tabs.component\";\r\nimport WorklistHistoryTab from \"./WorklistHistoryTab\";\r\nimport WorklistSampleTab from \"./WorklistSampleTab\";\r\nimport { designProperties, transactionStatus,REPORTTYPE,SUBSAMPLEAUDITMULTILINGUALFIELDS } from '../../components/Enumeration';\r\nimport SpecificationInfo from '../testgroup/SpecificationInfo';\r\n//import { ReactComponent as Closure } from '../../assets/image/prepared-worklist.svg';\r\nimport { ReactComponent as Closure } from '../../assets/image/prepared.svg';\r\nimport { ReactComponent as ReportIcon } from '../../assets/image/report-Icon.svg';\r\nimport {\r\n  callService,\r\n  crudMaster,\r\n  validateEsignCredential,\r\n  updateStore,\r\n  getSectionAndTest,\r\n  getWorklistDetail,\r\n  OpenDate,\r\n  CloseDate, viewAttachment, getInstrumentCombo, getWorklistSample, getRegTypeTestWise,\r\n  getRegTypeWorklist, getSectionbaseTest, onWorklistApproveClick\r\n  , getWorklistDetailFilter, getEditSectionAndTest, createWorklistCreation, filterColumnData, getConfigVersionTestWise,\r\n  ViewSampleDetails, getWorklisthistoryAction,reportWorklist,getRegSubTypeWise\r\n} from \"../../actions\";\r\n\r\nimport ListMaster from \"../../components/list-master/list-master.component\";\r\nimport { DEFAULT_RETURN } from \"../../actions/LoginTypes\";\r\nimport SlideOutModal from \"../../components/slide-out-modal/SlideOutModal\";\r\n\r\nimport {\r\n  showEsign,\r\n  getControlMap,\r\n  constructOptionList,\r\n} from \"../../components/CommonScript\";\r\nimport { ContentPanel, MediaLabel } from \"../../components/App.styles\";\r\n\r\nimport { process } from \"@progress/kendo-data-query\";\r\nimport ConfirmMessage from \"../../components/confirm-alert/confirm-message.component\";\r\n\r\nimport BreadcrumbComponent from \"../../components/Breadcrumb.Component\";\r\nimport { Affix } from \"rsuite\";\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nconst mapStateToProps = (state) => {\r\n  return { Login: state.Login };\r\n};\r\n\r\nclass WorkList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const sectionDataState = { skip: 0, take: 10 };\r\n    this.state = {\r\n      selectedRecord: {},\r\n      error: \"\",\r\n      userRoleControlRights: [],\r\n      selectedWorklist: undefined,\r\n      controlMap: new Map(),\r\n      Instrument: [],\r\n      sectionDataState,\r\n      addComponentDataList: [],\r\n      addedComponentList: [],\r\n      RegistrationSubTypeList: [], FilterStatusList: [], SampletypeList: [], RegTypeValue: [], ConfigVersionList: []\r\n    };\r\n    this.searchRef = React.createRef();\r\n    this.searchFieldList = [\"sworklistno\", \"stestname\"];\r\n    this.confirmMessage = new ConfirmMessage();\r\n  }\r\n\r\n  handleDateChange = (dateName, dateValue) => {\r\n\r\n\r\n    if (dateValue === null) {\r\n      dateValue = new Date();\r\n    }\r\n    // let toDate;\r\n    // let fromDate;\r\n    let fromdate = this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()\r\n    let todate = this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()\r\n    let obj = {}\r\n    if (dateName === 'fromDate') {\r\n      obj = convertDateValuetoString(dateValue, todate, this.props.Login.userInfo)\r\n      fromdate = obj.fromDate\r\n      todate = obj.toDate\r\n      let fromDate = obj.fromDate\r\n      let toDate = obj.toDate\r\n    } else {\r\n      obj = convertDateValuetoString(fromdate, dateValue, this.props.Login.userInfo)\r\n      fromdate = obj.fromDate\r\n      todate = obj.toDate\r\n      let fromDate = obj.fromDate\r\n      let toDate = obj.toDate\r\n\r\n    }\r\n    let inputParam = {\r\n      inputData: {\r\n        nflag: 2,\r\n        nregtypecode: this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n        nregsubtypecode: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n        nneedtemplatebasedflow: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedtemplatebasedflow,\r\n        fromdate: String(fromdate),\r\n        todate: String(todate),\r\n        userinfo: this.props.Login.userInfo\r\n      },\r\n      masterData: this.props.Login.masterData\r\n\r\n    }\r\n    this.props.getConfigVersionTestWise(inputParam)\r\n\r\n  };\r\n\r\n\r\n\r\n  onFilterComboChange = (comboData, fieldName) => {\r\n\r\n    if (comboData) {\r\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n      let inputParamData = {};\r\n      if (fieldName === 'nsampletypecode') {\r\n        if (comboData.value !== this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode) {\r\n          inputParamData = {\r\n            nflag: 2,\r\n            fromdate: obj.fromDate,\r\n            todate: obj.toDate,\r\n            nsampletypecode: comboData.value,\r\n            userinfo: this.props.Login.userInfo,\r\n            masterData: this.props.Login.masterData,\r\n            defaultSampleTypeValue: comboData.item\r\n          };\r\n          this.props.getRegTypeWorklist(inputParamData)\r\n        }\r\n      } else if (fieldName === 'nregtypecode') {\r\n        if (comboData.value !== this.props.Login.masterData.defaultRegTypeValue.nregtypecode) {\r\n          inputParamData = {\r\n            nflag: 3,\r\n            fromdate: obj.fromDate,\r\n            todate: obj.toDate,\r\n            nsampletypecode: this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode,\r\n            nregtypecode: comboData.value,\r\n            userinfo: this.props.Login.userInfo,\r\n            masterData: this.props.Login.masterData,\r\n            nregtypecode: comboData.value,\r\n            masterData: {\r\n              ...this.props.Login.masterData,\r\n              RegTypeValue: comboData.item,\r\n              //RegistrationSubTypeList: inputParam.masterData.RegistrationSubTypeList\r\n            }\r\n            //defaultRegTypeValue: comboData.item\r\n\r\n\r\n          }\r\n          this.props.getRegSubTypeWise(inputParamData)\r\n        }\r\n\r\n\r\n\r\n      } else if (fieldName === 'nregsubtypecode') {\r\n       \r\n        if (comboData.value !== this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) {\r\n          let inputData = {\r\n            nflag: 4,\r\n            fromdate: obj.fromDate,\r\n            todate: obj.toDate,\r\n            nsampletypecode: this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode,\r\n            nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n            nneedtemplatebasedflow: comboData.item.nneedtemplatebasedflow,\r\n            nregsubtypecode: comboData.value,\r\n            userinfo: this.props.Login.userInfo\r\n          }\r\n          inputParamData = {\r\n            inputData,\r\n            masterData: {\r\n              ...this.props.Login.masterData,\r\n              RegSubTypeValue: comboData.item,\r\n              //RegistrationSubTypeList: inputParam.masterData.RegistrationSubTypeList\r\n            }\r\n          }\r\n          this.props.getConfigVersionTestWise(inputParamData)\r\n        }\r\n      }\r\n\r\n      else if (fieldName === 'ntransactionstatus') {\r\n        if (comboData.value !== this.props.Login.masterData.FilterStatusValue.ntransactionstatus) {\r\n          let masterData = { ...this.props.Login.masterData, FilterStatusValue: comboData.item }\r\n          const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { masterData }\r\n          }\r\n          this.props.updateStore(updateInfo);\r\n        }\r\n      }\r\n\r\n\r\n      else if (fieldName === 'napproveconfversioncode') {\r\n        if (comboData.value !== this.props.Login.masterData.defaultApprovalVersionValue.napproveconfversioncode) {\r\n          let masterData = { ...this.props.Login.masterData, defaultApprovalVersionValue: comboData.item }\r\n          const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { masterData }\r\n          }\r\n          this.props.updateStore(updateInfo);\r\n        }\r\n      }\r\n\r\n      //\r\n    }\r\n  }\r\n\r\n  onInputOnChange = (event, optional) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (event.target.type === \"checkbox\") {\r\n      selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n    } else if (event.target.type === 'radio') {\r\n      selectedRecord[event.target.name] = optional;\r\n    } else {\r\n      selectedRecord[event.target.name] = event.target.value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n\r\n\r\n  onSaveClick = (saveType, formRef) => {\r\n    let inputData = [];\r\n    let instSection = [];\r\n    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n    inputData['fromdate'] = obj.fromDate;\r\n    inputData['todate'] = obj.toDate;\r\n    if (this.props.Login.screenName === \"IDS_WORKLIST\") {\r\n      let postParam = undefined;\r\n      inputData[\"worklist\"] = {\r\n        nstatus: this.props.Login.userInfo.nmastersitecode,\r\n      };\r\n      inputData[\"worklist\"][\"nsampletypecode\"] = this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode\r\n      inputData[\"worklist\"][\"nsectioncode\"] = this.state.selectedRecord[\"nsectioncode\"].value\r\n      inputData[\"worklist\"][\"ntestcode\"] = this.state.selectedRecord[\"ntestcode\"].value\r\n      inputData[\"worklist\"][\"nregtypecode\"] = this.props.Login.masterData.RegTypeValue.nregtypecode\r\n      inputData[\"worklist\"][\"nregsubtypecode\"] = this.props.Login.masterData.RegSubTypeValue.nregsubtypecode\r\n      inputData[\"ndesigntemplatemappingcode\"]= this.props.Login.masterData.ndesigntemplatemappingcode\r\n      let defaultFilterStatusValue=this.props.Login.masterData.FilterStatus[1];\r\n      let FilterStatusValue=this.props.Login.masterData.FilterStatus[1];\r\n      if (this.props.Login.operation === \"update\") { inputData[\"worklist\"][\"nworklistcode\"] = this.props.Login.masterData.selectedWorklist.nworklistcode }\r\n\r\n      const inputParam = {\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        methodUrl: \"Worklist\",\r\n        inputData: inputData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n      };\r\n      //const masterData = this.props.Login.masterData;\r\n      let masterData = {...this.props.Login.masterData\r\n        ,defaultFilterStatusValue,\r\n        FilterStatusValue      }\r\n      if (\r\n        showEsign(\r\n          this.props.Login.userRoleControlRights,\r\n          this.props.Login.userInfo.nformcode,\r\n          this.props.Login.ncontrolCode\r\n        )\r\n      ) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true,\r\n            screenData: { inputParam, masterData:{          \r\n              masterData     \r\n            } \r\n            },\r\n            saveType,\r\n          },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      } else {\r\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n      }\r\n    }\r\n\r\n\r\n\r\n    //add / edit  \r\n\r\n    let validList = true;\r\n    if (this.props.Login.screenName === \"IDS_WORKLISTSAMPLE\" && this.state.addedComponentList.length > 1000) {\r\n      validList = false;\r\n    }\r\n\r\n    if (validList) {\r\n      let saveList = [];\r\n      if (this.props.Login.screenName === \"IDS_WORKLISTSAMPLE\") {\r\n        const compList = this.state.addedComponentList || [];\r\n        //compList.map(item=>saveList.push({\"npreregno\": item.npreregno}));\r\n        if(compList.length>0)\r\n        {\r\n\r\n        compList.map(item => saveList.indexOf(item.ntransactionsamplecode) === -1 ?\r\n          saveList.push(item) : \"\");\r\n        const masterData = this.props.Login.masterData;\r\n        const inputData = {\r\n          worklistcompcreationlist: saveList,\r\n          userinfo: this.props.Login.userInfo,\r\n          worklistcreation: this.props.Login.masterData.selectedWorklist,\r\n          ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode\r\n        };\r\n\r\n        let dataState = undefined;\r\n        let selectedId = null;\r\n        let postParam = undefined;\r\n\r\n        const inputParam = {\r\n          classUrl: \"worklist\",\r\n          methodUrl: \"WorklistCreation\",\r\n          inputData: inputData, selectedId, dataState, postParam,\r\n          operation: \"create\", saveType, masterData\r\n        };\r\n\r\n\r\n\r\n        if (\r\n          showEsign(\r\n            this.props.Login.userRoleControlRights,\r\n            this.props.Login.userInfo.nformcode,\r\n            this.props.Login.ncontrolCode\r\n          )\r\n        ) {\r\n          const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n              loadEsign: true, screenData: { inputParam, masterData: masterData }, saveType\r\n            }\r\n          }\r\n          this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n          //this.props.crudMaster(inputParam,masterData, \"openChildModal\");\r\n          this.props.createWorklistCreation(inputParam);\r\n        }\r\n\r\n\r\n      }\r\n      else {\r\n        //this.props.crudMaster(inputParam,masterData, \"openChildModal\");\r\n        toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELCETONESAMPLE\" }));\r\n      }\r\n\r\n\r\n      }\r\n\r\n\r\n\r\n      \r\n    }\r\n    else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_EXCEEDSMAXINSERT\" }));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  DeleteWorklistSample = (operation, ncontrolCode) => {\r\n    let inputData = [];\r\n    if (operation.screenName === \"IDS_WORKLISTSAMPLE\") {\r\n      const dataState = this.state.sectionDataState;\r\n      inputData[\"worklistsample\"] = {\r\n        nsitecode: this.props.Login.userInfo.ntranssitecode,\r\n      };\r\n      inputData[\"worklistsample\"][\"nworklistcode\"] =\r\n        operation.selectedRecord.nworklistcode;\r\n      inputData[\"worklistsample\"][\"nworklistsamplecode\"] =\r\n        operation.selectedRecord.nworklistsamplecode;\r\n      inputData[\"worklistsample\"][\"ntransactiontestcode\"] =\r\n        operation.selectedRecord.ntransactiontestcode;\r\n      inputData[\"worklistsample\"][\"ntransactionsamplecode\"] =\r\n        operation.selectedRecord.ntransactionsamplecode;\r\n        inputData[\"worklistsample\"][\"sarno\"] =\r\n        operation.selectedRecord.sarno;\r\n        inputData[\"worklistsample\"][\"ssamplearno\"] =\r\n        operation.selectedRecord.ssamplearno;\r\n        inputData[\"worklistsample\"][\"stestname\"] =\r\n        operation.selectedRecord.stestsynonym;\r\n        inputData[\"worklistsample\"][\"nregsubtypecode\"] =\r\n        operation.selectedRecord.nregsubtypecode;\r\n        inputData[\"worklistsample\"][\"nregtypecode\"] =\r\n        operation.selectedRecord.nregtypecode;\r\n        inputData['ndesigntemplatemappingcode'] = this.props.Login.masterData.ndesigntemplatemappingcode;\r\n\r\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n      const inputParam = {\r\n        methodUrl: \"WorklistSample\",\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        inputData: inputData,\r\n        operation: \"delete\",\r\n        dataState: dataState,\r\n      };\r\n      const masterData = this.props.Login.masterData;\r\n      if (\r\n        showEsign(\r\n          this.props.Login.userRoleControlRights,\r\n          this.props.Login.userInfo.nformcode,\r\n          operation.ncontrolCode\r\n        )\r\n      ) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true,\r\n            screenData: { inputParam, masterData },\r\n            openModal: true,\r\n            screenName: \"worklist\",\r\n            operation: operation.operation,\r\n          },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      } else {\r\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  gridfillingColumn(data) {\r\n    const temparray = data && data.map((option) => {\r\n      return { \"idsName\": option[designProperties.LABEL][this.props.Login.userInfo.slanguagetypecode], \"dataField\": option[designProperties.VALUE], \"width\": \"200px\", \"columnSize\": \"3\" };\r\n    });\r\n\r\n    return temparray;\r\n  }\r\n  // onNumericInputOnChange = (value, name) => {\r\n  //   const selectedRecord = this.state.selectedRecord || {};\r\n  //   selectedRecord[name] = value;\r\n  //   this.setState({ selectedRecord });\r\n  // };\r\n\r\n\r\n  selectionChange = (event) => {\r\n    let addedComponentList = this.state.addedComponentList || [];\r\n    const addComponentDataList = this.props.Login.addComponentDataList.map(item => {\r\n      if (item.ntransactiontestcode === event.dataItem.ntransactiontestcode) {\r\n        item.selected = !event.dataItem.selected;\r\n        if (item.selected) {\r\n          const newItem = JSON.parse(JSON.stringify(item));\r\n          newItem[\"jsondata\"] = {}\r\n          newItem[\"jsonuidata\"] = {}\r\n          delete newItem['selected']\r\n          //newItem.selected = false;\r\n          newItem[\"jsondata\"]['worklist'] = item\r\n          newItem[\"jsonuidata\"]['worklist'] = item\r\n          addedComponentList.push(newItem);\r\n        }\r\n        else {\r\n          addedComponentList = addedComponentList.filter(item1 => item1.ntransactiontestcode !== item.ntransactiontestcode)\r\n        }\r\n      }\r\n      return item;\r\n    });\r\n    this.setState({\r\n      addComponentDataList, addedComponentList,\r\n      addSelectAll: this.valiateCheckAll(addComponentDataList),\r\n      deleteSelectAll: this.valiateCheckAll(addedComponentList)\r\n    });\r\n  }\r\n\r\n  specificationReport = ( ncontrolCode) => {\r\n    if (this.props.Login.masterData.selectedWorklist) {\r\n        const inputParam = {\r\n            inputData: {\r\n                sprimarykeyname: 'nworklistcode',\r\n                userinfo: this.props.Login.userInfo,\r\n                ncontrolcode: ncontrolCode,\r\n                nworklistcode: this.props.Login.masterData.selectedWorklist.nworklistcode,\r\n                nreporttypecode: REPORTTYPE.CONTROLBASED,\r\n\r\n            },\r\n        }\r\n        this.props.reportWorklist(inputParam['inputData']);\r\n    } else {\r\n        toast.warn(this.props.intl.formatMessage({ id: \"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\" }));\r\n    }\r\n}\r\n\r\n  headerSelectionChange = (event) => {\r\n    const checked = event.syntheticEvent.target.checked;\r\n    let addComponentDataList = event.dataItems //this.state.addedComponentList || [];\r\n    let addedComponentList=[];\r\n   \r\n\r\n    if (checked) {\r\n      const data = event.dataItems.map(item => {\r\n        //const data = this.state.addComponentDataList.map(item => {\r\n        if (addedComponentList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\r\n         \r\n         \r\n         // addedComponentList.push({ ...item, selected: false });\r\n          item.selected = checked;\r\n          const newItem = JSON.parse(JSON.stringify(item));\r\n          newItem[\"jsondata\"] = {}\r\n          newItem[\"jsonuidata\"] = {}\r\n          delete newItem['selected']\r\n          //newItem.selected = false;\r\n          newItem[\"jsondata\"]['worklist'] = item\r\n          newItem[\"jsonuidata\"]['worklist'] = item\r\n          addedComponentList.push(newItem);\r\n          //item.selected = false;\r\n          return item;\r\n        } else {\r\n          let olditem = JSON.parse(JSON.stringify(addedComponentList[addedComponentList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\r\n          olditem.selected = checked;\r\n          let newItem = JSON.parse(JSON.stringify(olditem));\r\n          newItem.selected = false;\r\n                    newItem[\"jsondata\"]={};\r\n                    newItem[\"jsonuidata\"]={};\r\n                    delete newItem['selected']\r\n                    newItem[\"jsondata\"]['worklist'] = olditem\r\n                    newItem[\"jsonuidata\"]['worklist'] = olditem\r\n                    addedComponentList.push(newItem);\r\n          return olditem;\r\n        }\r\n\r\n      });\r\n\r\n\r\n      this.setState({\r\n        addComponentDataList: data, addedComponentList,\r\n        addSelectAll: this.valiateCheckAll(addedComponentList),\r\n        deleteSelectAll: this.valiateCheckAll(addedComponentList),\r\n        addSelectAll: checked, deleteSelectAll: false\r\n      });\r\n    }\r\n\r\n\r\n  //   if (checked) {\r\n  //     const data = event.dataItems.map(item => {\r\n  //         if (addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\r\n  //           addComponentDataList.push({ ...item, selected: false });\r\n  //             item.selected = checked;   \r\n  //             let newItem = JSON.parse(JSON.stringify(item));\r\n  //             newItem.selected = false;\r\n  //             newItem[\"jsondata\"]={};\r\n  //             newItem[\"jsonuidata\"]={};\r\n  //             newItem[\"jsondata\"]['worklist'] = item\r\n  //             newItem[\"jsonuidata\"]['worklist'] = item    \r\n  //             addedComponentList.push(newItem);\r\n  //             return item;\r\n  //         } else {\r\n  //             let olditem = JSON.parse(JSON.stringify(addComponentDataList[addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\r\n  //             olditem.selected = checked;\r\n  //             let newItem = JSON.parse(JSON.stringify(olditem));\r\n  //             newItem.selected = false;\r\n  //             newItem[\"jsondata\"]={};\r\n  //             newItem[\"jsonuidata\"]={};\r\n  //             newItem[\"jsondata\"]['worklist'] = olditem\r\n  //             newItem[\"jsonuidata\"]['worklist'] = olditem\r\n  //             addedComponentList.push(newItem);\r\n  //             return olditem;\r\n              \r\n  //         }\r\n\r\n  //     });\r\n\r\n\r\n  //     this.setState({\r\n  //       addComponentDataList: data,\r\n  //         addedComponentList:addedComponentList,\r\n  //         addComponentDataList,\r\n  //         addSelectAll: checked, \r\n  //         deleteSelectAll: false\r\n  //     });\r\n  // }\r\n    else {\r\n      let addedComponentData = this.state.addedComponentList || [];\r\n      let deletedListdData = this.state.deletedList || [];\r\n\r\n      const data = this.state.addComponentDataList.map(item => {\r\n        addedComponentData = addedComponentData.filter(item1 => item1.npreregno !== item.npreregno);\r\n        deletedListdData = deletedListdData.filter(item1 => item1.npreregno !== item.npreregno);\r\n        item.selected = checked;\r\n        return item;\r\n      });\r\n\r\n      // console.log(\"data:\",data1, data2);\r\n      this.setState({\r\n        addComponentDataList: data, addedComponentList: addedComponentData, deletedList: deletedListdData,\r\n        addSelectAll: this.valiateCheckAll(addedComponentList),\r\n        deleteSelectAll: this.valiateCheckAll(addedComponentList),\r\n        addSelectAll: checked, deleteSelectAll: false\r\n      });\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  // onApproveClick = () => {\r\n  //   //if (this.props.Login.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.DRAFT) {\r\n  //   const ncontrolCode = this.state.controlMap.has(\"ApproveSupplier\") && this.state.controlMap.get(\"ApproveSupplier\").ncontrolcode\r\n  //   let inputData = [];\r\n  //   inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n  //   //add               \r\n  //   let postParam = undefined;\r\n  //   inputData[\"supplier\"] = { \"nsuppliercode\": this.props.Login.masterData.SelectedSupplier[\"nsuppliercode\"] ? this.props.Login.masterData.SelectedSupplier[\"nsuppliercode\"].Value : \"\" };\r\n  //   inputData[\"supplier\"] = this.props.Login.masterData.SelectedSupplier;\r\n  //   postParam = { inputListName: \"Supplier\", selectedObject: \"SelectedSupplier\", primaryKeyField: \"nsuppliercode\" };\r\n  //   const inputParam = {\r\n  //     classUrl: 'supplier',\r\n  //     methodUrl: \"Supplier\",\r\n  //     inputData: inputData,\r\n  //     operation: \"approve\", postParam\r\n  //   }\r\n  //   let saveType;\r\n\r\n  //   const masterData = this.props.Login.masterData;\r\n\r\n  //   const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\r\n  //   if (esignNeeded) {\r\n  //     const updateInfo = {\r\n  //       typeName: DEFAULT_RETURN,\r\n  //       data: {\r\n  //         loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"approve\"\r\n  //       }\r\n  //     }\r\n  //     this.props.updateStore(updateInfo);\r\n  //   }\r\n  //   else {\r\n  //     this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n  //   }\r\n\r\n  //   // }\r\n  //   // else {\r\n  //   //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORDTOAPPROVE\" }));\r\n  //   // }\r\n  // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  valiateCheckAll(data) {\r\n\r\n    let selectAll = true;\r\n\r\n    // let checkRepeatComponent;\r\n\r\n    //  let addedComponentList = this.state.addedComponentList || [];\r\n\r\n    if (data && data.length > 0) {\r\n\r\n      data.forEach(dataItem => {\r\n\r\n        if (dataItem.selected) {\r\n\r\n          if (dataItem.selected === false) {\r\n\r\n            selectAll = false;\r\n\r\n          }\r\n\r\n        }\r\n\r\n        else {\r\n\r\n          selectAll = false;\r\n\r\n          // checkRepeatComponent=this.state.addComponentDataList.filter(item=>item.npreregno==data.npreregno)\r\n\r\n          // if(checkRepeatComponent.length>0){\r\n\r\n          //     selectAll = true;\r\n\r\n          // }else{\r\n\r\n          //     selectAll = false;\r\n\r\n          // }\r\n\r\n        }\r\n\r\n      })\r\n\r\n    }\r\n\r\n    else {\r\n\r\n      //if (gridType === \"originalgrid\"){\r\n\r\n      selectAll = false;\r\n\r\n      // }\r\n\r\n    }\r\n\r\n    return selectAll;\r\n\r\n  }\r\n\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (props.Login.masterStatus !== \"\") {\r\n      if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n        toast.warn(props.Login.masterStatus);\r\n        props.Login.masterStatus = \"\";\r\n      }\r\n    }\r\n    if (props.Login.error !== state.error) {\r\n      toast.error(props.Login.error);\r\n      props.Login.error = \"\";\r\n    }\r\n    if (props.Login.selectedRecord === undefined) {\r\n      return { selectedRecord: {} };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  validateEsign = () => {\r\n    const inputParam = {\r\n      inputData: {\r\n        userinfo: {\r\n          ...this.props.Login.userInfo,\r\n          sreason: this.state.selectedRecord[\"esigncomments\"],\r\n        },\r\n        password: this.state.selectedRecord[\"esignpassword\"],\r\n      },\r\n      screenData: this.props.Login.screenData,\r\n    };\r\n\r\n    this.props.validateEsignCredential(inputParam, \"openModal\");\r\n\r\n  };\r\n\r\n\r\n\r\n  // onSwitchChange = (item, key, methodUrl) => {\r\n  //   let dataItem = item;\r\n  //   dataItem[\"ndefaultstatus\"] = 3;\r\n  //   const inputParam = {\r\n  //     inputData: {\r\n  //       [key]: dataItem,\r\n  //       userinfo: this.props.userInfo,\r\n  //     },\r\n  //     classUrl: \"testmaster\",\r\n  //     operation: \"setDefault\",\r\n  //     methodUrl: methodUrl,\r\n  //   };\r\n  //   this.props.crudMaster(\r\n  //     inputParam,\r\n  //     this.props.masterData,\r\n  //     \"openChildModal\",\r\n  //     {}\r\n  //   );\r\n  // };\r\n\r\n  tabDetail = () => {\r\n    const tabMap = new Map();\r\n    const deleteSecId =\r\n      this.state.controlMap.has(\"DeleteWorklistSample\") &&\r\n      this.state.controlMap.get(\"DeleteWorklistSample\").ncontrolcode;\r\n    const addSampleId =\r\n      this.state.controlMap.has(\"AddSamples\") &&\r\n      this.state.controlMap.get(\"AddSamples\").ncontrolcode;\r\n\r\n      const viewSampleId =\r\n      this.state.controlMap.has(\"ViewWorklistSample\") &&\r\n      this.state.controlMap.get(\"ViewWorklistSample\").ncontrolcode;\r\n\r\n    tabMap.set(\r\n\r\n      \"IDS_WORKLISTSAMPLE\",\r\n      <WorklistSampleTab\r\n        controlMap={this.state.controlMap}\r\n        userRoleControlRights={this.state.userRoleControlRights}\r\n        dataState={this.props.Login.masterData.WorklistSamples}\r\n        selectedWorklist={this.props.Login.masterData.WorklistSamples}\r\n        extractedColumnList={this.gridfillingColumn(this.state.DynamicGridItem) || []}\r\n        detailedFieldList={this.gridfillingColumn(this.state.DynamicGridMoreItem) || []}\r\n        \r\n        userInfo={this.props.Login.userInfo}\r\n        inputParam={this.props.Login.inputParam}\r\n        deleteRecord={this.DeleteWorklistSample}\r\n        deleteSecId={deleteSecId}\r\n        defaultRecord={this.defaultRecord}\r\n        WorklistSamples={this.props.Login.masterData.WorklistSamples || []}\r\n        viewSample={this.viewSample}\r\n        screenName=\"IDS_WORKLISTSAMPLE\"\r\n        selectedRecord={this.state.selectedRecord}\r\n        settings={this.props.Login.settings}\r\n        getWorklistSample={this.props.getWorklistSample}\r\n        masterData={this.props.Login.masterData}\r\n        addSampleId={addSampleId}\r\n        viewSampleId={viewSampleId}\r\n      />\r\n\r\n    );\r\n    tabMap.set(\r\n      \"IDS_WORKLISTHISTORY\",\r\n      <WorklistHistoryTab\r\n        dataState={this.props.Login.masterData.WorklistHistory}\r\n        selectedWorklistHistory={this.props.Login.masterData.WorklistHistory}\r\n        InstrumentSection={this.props.Login.masterData.WorklistHistory || []}\r\n        userInfo={this.props.Login.userInfo}\r\n        //inputParam={this.props.Login.inputParam}\r\n        // deleteRecord={this.DeleteWorklistSample}\r\n        // deleteSecId={deleteSecId}\r\n        // defaultSecId={defaultSecId}\r\n        // defaultRecord={this.defaultRecord}\r\n        controlMap={this.state.controlMap}\r\n        userRoleControlRights={this.state.userRoleControlRights}\r\n        screenName=\"IDS_WORKLISTHISTORY\"\r\n        selectedRecord={this.state.selectedRecord}\r\n        settings={this.props.Login.settings}\r\n      />\r\n    );\r\n\r\n\r\n    return tabMap;\r\n  };\r\n\r\n\r\n\r\n  render() {\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n    let mandatoryFields = [];\r\n    this.feildsForGrid =\r\n      [\r\n        // { \"idsName\": \"IDS_TEST\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" },       \r\n        { \"idsName\": \"IDS_PARAMETER\", \"dataField\": \"sparametersynonym\", \"width\": \"100px\" },\r\n        { \"idsName\": \"IDS_RESULT\", \"dataField\": \"sfinal\", \"width\": \"100px\" },\r\n        { \"idsName\": \"IDS_GRADE\", \"dataField\": \"sgradename\", \"width\": \"200px\" },\r\n      ];\r\n    this.extractedColumnList = [\r\n\r\n      //  { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\r\n      { \"idsName\": \"IDS_NEWCOMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\r\n      { \"idsName\": \"IDS_USERNAME\", \"dataField\": \"susername\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"suserrolename\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_ACTIONTYPE\", \"dataField\": \"sactiontype\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_MODULENAME\", \"dataField\": \"smodulename\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_FORMNAME\", \"dataField\": \"sformname\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_REASON\", \"dataField\": \"spredefinedreason\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_ESIGNCOMMENTS\", \"dataField\": \"sreason\", \"width\": \"200px\" },\r\n\r\n\r\n    ]\r\n\r\n    const auditInfoFields = [{ \"fieldName\": \"sarno\", \"label\": \"IDS_ARNO\" }, \r\n    { \"fieldName\": \"spatientid\", \"label\": \"IDS_PATIENTID\" },   \r\n    { \"fieldName\": \"sfirstname\", \"label\": \"IDS_PATIENTNAME\" },\r\n    { \"fieldName\": \"sage\", \"label\": \"IDS_AGE\" },\r\n    { \"fieldName\": \"sgendername\", \"label\": \"IDS_GENDER\" },\r\n    { \"fieldName\": \"stestsynonym\", \"label\": \"IDS_TEST\" },\r\n    { \"fieldName\": \"sregdate\", \"label\": \"IDS_REGISTRATIONDATE\" },\r\n    { \"fieldName\": \"scompletedate\", \"label\": \"IDS_COMPLETEDDATEANDTIME\" }\r\n    \r\n    ];\r\n\r\n    if (this.props.Login.screenName === \"IDS_WORKLIST\") {\r\n      mandatoryFields.push(\r\n        {\r\n          mandatory: true,\r\n          idsName: \"IDS_ADDSECTION\",\r\n          dataField: \"nsectioncode\",\r\n          mandatoryLabel: \"IDS_SELECT\",\r\n          controlType: \"selectbox\",\r\n        }, {\r\n        mandatory: true,\r\n        idsName: \"IDS_TEST\",\r\n        dataField: \"ntestcode\",\r\n        mandatoryLabel: \"IDS_SELECT\",\r\n        controlType: \"selectbox\",\r\n      }\r\n      );\r\n\r\n    }\r\n\r\n    const addId =\r\n      this.state.controlMap.has(\"AddWorklist\") &&\r\n      this.state.controlMap.get(\"AddWorklist\").ncontrolcode;\r\n    // const editId =\r\n    //   this.state.controlMap.has(\"EditWorklist\") &&\r\n    //   this.state.controlMap.get(\"EditWorklist\").ncontrolcode;\r\n    const deleteId =\r\n    this.state.controlMap.has(\"DeleteWorklist\") &&\r\n    this.state.controlMap.get(\"DeleteWorklist\").ncontrolcode;\r\n\r\n    const approvalId =\r\n      this.state.controlMap.has(\"GenerateWorklist\") &&\r\n      this.state.controlMap.get(\"GenerateWorklist\").ncontrolcode;\r\n\r\n      const reportId =\r\n      this.state.controlMap.has(\"WorklistReport\") &&\r\n      this.state.controlMap.get(\"WorklistReport\").ncontrolcode;\r\n\r\n    // const addSampleId =\r\n    //   this.state.controlMap.has(\"AddWorklistSample\") &&\r\n    //   this.state.controlMap.get(\"AddWorklistSample\").ncontrolcode;\r\n    // const deleteSampleId =\r\n    // this.state.controlMap.has(\"DeleteWorklistSample\") &&\r\n    // this.state.controlMap.get(\"DeleteWorklistSample\").ncontrolcode;\r\n\r\n    const { selectedWorklist } = this.props.Login.masterData;\r\n    const filterParam = {\r\n      inputListName: \"Worklist\",\r\n      selectedObject: \"selectedWorklist\",\r\n      primaryKeyField: \"nworklistcode\",\r\n      fetchUrl: \"worklist/getWorklistSample\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      masterData: this.props.Login.masterData,\r\n      searchFieldList: this.searchFieldList,\r\n    };\r\n    const breadCrumbData = this.state.filterData || [];\r\n    return (\r\n      <>\r\n        <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n          {breadCrumbData.length > 0 ? (\r\n            <Affix top={53}>\r\n              <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n            </Affix>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Row noGutters={true}>\r\n            <Col md={4}>\r\n              <ListMaster\r\n                formatMessage={this.props.intl.formatMessage}\r\n                screenName={\"worklist\"}\r\n                masterData={this.props.Login.masterData}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterList={\r\n                  this.props.Login.masterData.searchedData ||\r\n                  this.props.Login.masterData.Worklist\r\n                }\r\n                getMasterDetail={(worklist) =>\r\n                  this.props.getWorklistDetail(\r\n                    worklist,\r\n                    this.props.Login.userInfo,\r\n                    this.props.Login.masterData\r\n                  )\r\n                }\r\n                selectedMaster={this.props.Login.masterData.selectedWorklist}\r\n                primaryKeyField=\"nworklistcode\"\r\n                mainField=\"sworklistno\"\r\n                firstField=\"stestname\"\r\n                secondField=\"ssectionname\"\r\n                isIDSField=\"Yes\"\r\n                filterColumnData={this.props.filterColumnData}\r\n                filterParam={filterParam}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                searchRef={this.searchRef}\r\n                addId={addId}\r\n                //hidePaging={true}\r\n                reloadData={this.reloadData}\r\n                openModal={() =>\r\n                  this.props.getSectionAndTest(\r\n                    \"IDS_WORKLIST\",\r\n                    \"create\",\r\n                    \"nworklistcode\",\r\n                    this.props.Login.masterData,\r\n                    this.props.Login.userInfo,\r\n                    addId\r\n                  )\r\n                }\r\n                openFilter={this.openFilter}\r\n                closeFilter={this.closeFilter}\r\n                onFilterSubmit={this.onFilterSubmit}\r\n                showFilterIcon={true}\r\n                showFilter={this.props.Login.showFilter}\r\n                filterComponent={[\r\n                  {\r\n                    IDS_WORKLISTFILTER: (\r\n                      <WorklistPreparationFilter\r\n                        SampleTypeValue={this.props.Login.masterData.defaultSampleTypeValue || {}}\r\n                        RegTypeValue={this.props.Login.masterData.RegTypeValue || {}}\r\n                        RegSubTypeValue={this.props.Login.masterData.RegSubTypeValue || {}}\r\n                        RegSubType={this.state.RegistrationSubTypeList || []}\r\n                        RegType={this.state.RegistrationTypeList || []}\r\n                        userInfo={this.props.Login.userInfo || {}}\r\n                        ApprovalVersion={this.state.ConfigVersionList || []}\r\n                        ApprovalVersionValue={this.props.Login.masterData.defaultApprovalVersionValue || []}\r\n\r\n                        //SampleType={this.state.stateSampleType || []}\r\n                        FilterStatusValue={this.props.Login.masterData.FilterStatusValue || {}}\r\n                        FilterStatus={this.state.FilterStatusList || []}\r\n                        RegistrationType={this.state.stateRegistrationType || []}\r\n                        RegistrationSubType={this.state.stateRegistrationSubType || []}\r\n                        fromDate={this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()}\r\n                        toDate={this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()}\r\n                        handleDateChange={this.handleDateChange}\r\n                        onFilterComboChange={this.onFilterComboChange}\r\n                        SampleType={this.state.SampletypeList || []}\r\n\r\n                      />\r\n                    ),\r\n                  },\r\n                ]}\r\n              />\r\n            </Col>\r\n\r\n\r\n\r\n\r\n            <Col md={8}>\r\n              <Row>\r\n                <Col md={12}>\r\n                  <ContentPanel className=\"panel-main-content\">\r\n                    <Card className=\"border-0\">\r\n                      {this.props.Login.masterData.Worklist && this.props.Login.masterData.Worklist.length > 0 && this.props.Login.masterData.selectedWorklist ? (\r\n                        <>\r\n                          <Card.Header>\r\n                            <Card.Title className=\"product-title-main\">\r\n                              {\r\n                                this.props.Login.masterData.selectedWorklist\r\n                                  .sworklistno\r\n                              }\r\n                            </Card.Title>\r\n                            <Card.Subtitle>\r\n                              <div className=\"d-flex product-category\">\r\n                                <h2 className=\"product-title-sub flex-grow-1\">\r\n                                  <MediaLabel className={`btn btn-outlined ${this.props.Login.masterData.selectedWorklist.ntransactionstatus === 83 ? \"outline-success\" : \"outline-secondary\"} btn-sm ml-3`}>\r\n                                    {this.props.Login.masterData.selectedWorklist.ntransactionstatus === 83 && <FontAwesomeIcon icon={faCheck}></FontAwesomeIcon>}\r\n                                    {this.props.Login.masterData.selectedWorklist.stransdisplaystatus}\r\n                                  </MediaLabel>\r\n                                </h2>\r\n                                <div className=\"d-inline\">\r\n                                   {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                    //    data-for=\"tooltip_list_wrap\"\r\n                                    hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                    onClick={() => this.props.getEditSectionAndTest(\r\n                                      \"IDS_WORKLIST\",\r\n                                      \"update\",\r\n                                      \"nworklistcode\",\r\n                                      this.props.Login.masterData,\r\n                                      this.props.Login.userInfo,\r\n                                      editId\r\n                                    )\r\n\r\n                                      //\"Checklist\",\"nchecklistcode\",this.props.Login.masterData.selectedchecklist.nchecklistcode)\r\n                                    }>\r\n                                    <FontAwesomeIcon icon={faPencilAlt} title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                  </Nav.Link> */}\r\n\r\n\r\n                                  <Nav.Link\r\n                                    name=\"deleteWorklist\"\r\n                                    className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\"\r\n                                    data-tip={this.props.intl.formatMessage({\r\n                                      id: \"IDS_DELETE\",\r\n                                    })}\r\n                                    //   data-for=\"tooltip_list_wrap\"\r\n                                    hidden={\r\n                                      this.state.userRoleControlRights.indexOf(\r\n                                        deleteId\r\n                                      ) === -1\r\n                                    }\r\n                                    onClick={() =>\r\n                                      this.ConfirmDelete(\r\n                                        {\r\n                                          operation: \"delete\",\r\n                                          screenName: \"IDS_WORKLIST\",\r\n                                        },\r\n                                        deleteId\r\n                                      )\r\n                                    }\r\n                                  >\r\n                                    <FontAwesomeIcon icon={faTrashAlt} />\r\n                                  </Nav.Link>\r\n\r\n                                  <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                    hidden={this.state.userRoleControlRights.indexOf(approvalId) === -1}\r\n                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_PREPARED\" })}\r\n                                    //onClick={() => this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, approvalId)}\r\n                                    onClick={() =>this.onApproveClick()}\r\n                                  >\r\n                                    {/* <FontAwesomeIcon icon={faThumbsUp} title={this.props.intl.formatMessage({ id: \"IDS_PREPARED\" })} /> */}\r\n                                    <Closure className=\"custom_icons\" width=\"17\" height=\"20\" />\r\n                                  </Nav.Link>      \r\n\r\n\r\n                                  <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                    hidden={this.state.userRoleControlRights.indexOf(reportId) === -1}\r\n                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_REPORT\" })}\r\n                                    onClick={() => this.specificationReport(reportId)}\r\n                                  >\r\n                                    {/* <FontAwesomeIcon icon={faThumbsUp} title={this.props.intl.formatMessage({ id: \"IDS_PREPARED\" })} /> */}\r\n                                    <ReportIcon className=\"custom_icons\" width=\"17\" height=\"20\" />\r\n                                  </Nav.Link>                            \r\n\r\n                                </div>\r\n                              </div>\r\n                            </Card.Subtitle>\r\n                          </Card.Header>\r\n\r\n\r\n                          <Card.Body>\r\n\r\n                            {selectedWorklist && (\r\n                              <CustomTab\r\n                                activeKey={this.props.Login.activeKey ? this.props.Login.activeKey : \"IDS_WORKLISTSAMPLE\"}\r\n                                tabDetail={this.tabDetail()}\r\n                                onTabChange={this.onTabChange}\r\n                              />\r\n                            )}\r\n                          </Card.Body>\r\n                        </>\r\n                      ) : (\r\n                        \"\"\r\n                      )\r\n                      }\r\n                    </Card>\r\n                  </ContentPanel>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n\r\n\r\n\r\n          </Row>\r\n        </div>\r\n        {this.props.Login.openModal && (\r\n          <SlideOutModal\r\n            show={this.props.Login.openModal}\r\n            closeModal={this.closeModal}\r\n            operation={this.props.Login.operation}\r\n            inputParam={this.props.Login.inputParam}\r\n            screenName={this.props.Login.screenName}\r\n            onSaveClick={this.onSaveClick}\r\n            esign={this.props.Login.loadEsign}\r\n            validateEsign={this.validateEsign}\r\n            masterStatus={this.props.Login.masterStatus}\r\n            mandatoryFields={mandatoryFields}\r\n            updateStore={this.props.updateStore}\r\n            selectedRecord={this.state.selectedRecord || {}}\r\n            hideSave={this.props.Login.screenName === \"IDS_PREVIOUSRESULTVIEW\" ? true : false}\r\n\r\n\r\n            addComponent={\r\n              this.props.Login.loadEsign ? (\r\n                <Esign\r\n                  operation={this.props.Login.operation}\r\n                  onInputOnChange={this.onInputOnChange}\r\n                  inputParam={this.props.Login.inputParam}\r\n                  selectedRecord={this.state.selectedRecord || {}}\r\n                />\r\n              )\r\n                : this.props.Login.screenName === \"IDS_WORKLIST\" ? (\r\n                  <AddWorklistSection\r\n                    //onNumericInputOnChange={this.onNumericInputOnChange}\r\n                    selectedRecord={this.props.Login.selectedRecord || {}}\r\n                    onInputOnChange={this.onInputOnChange}\r\n                    onComboChange={this.onComboChange}\r\n                    SectionValue={this.props.Login.Section}\r\n                    TestValue={this.props.Login.Test}\r\n                    handleDateChange={this.handleDateChange}\r\n                  />\r\n                )\r\n\r\n\r\n                  : this.props.Login.screenName === \"IDS_WORKLISTSAMPLE\" ? (\r\n                    <AddWorklistSample\r\n                      selectionChange={this.selectionChange}\r\n                      headerSelectionChange={this.headerSelectionChange}\r\n                      addComponentDataList={this.props.Login.addComponentDataList}\r\n                      addSelectAll={this.state.addSelectAll}\r\n                      //onNumericInputOnChange={this.onNumericInputOnChange}\r\n                      selectedRecord={this.props.Login.selectedRecord || {}}\r\n                      onInputOnChange={this.onInputOnChange}\r\n                      onComboChange={this.onComboChange}\r\n                      TestValue={this.props.Login.Test}\r\n                      handleDateChange={this.handleDateChange}\r\n                    />\r\n                  )\r\n\r\n\r\n                    : this.props.Login.screenName === \"IDS_PREVIOUSRESULTVIEW\" ? (\r\n                      <>\r\n\r\n                        <Card className='one' >\r\n                          <Card.Body>\r\n                            <SpecificationInfo\r\n                              controlMap={this.state.controlMap}\r\n                              auditInfoFields={auditInfoFields}\r\n                              userRoleControlRights={this.state.userRoleControlRights}\r\n                              selectedSpecification={this.props.Login.masterData.viewdetails}\r\n                              userInfo={this.props.Login.userInfo}\r\n                              selectedNode={this.props.Login.masterData.selectedNode}\r\n                              selectedRecord={this.state.filterData}\r\n                              approvalRoleActionDetail={this.props.Login.masterData.ApprovalRoleActionDetail}\r\n                              screenName=\"IDS_SPECIFICATIONINFO\"\r\n\r\n                            />\r\n                          </Card.Body>\r\n                        </Card>\r\n                        <br></br>\r\n\r\n                        <DataGrid\r\n                          primaryKeyField={\"ntransactiontestcode\"}\r\n                          //data={this.props.Login.addComponentDataList || []}\r\n                          detailedFieldList={this.feildsForGrid}\r\n                          extractedColumnList={this.feildsForGrid}\r\n                          dataResult={this.props.Login.masterData.AuditModifiedComments && this.props.Login.masterData.AuditModifiedComments.length > 0\r\n                            && process(this.props.Login.masterData.AuditModifiedComments, { skip: 0, take: 10 })}\r\n                          dataState={{ skip: 0, take: 10 }}\r\n                          selectionChange={this.selectionChange}\r\n                          headerSelectionChange={this.headerSelectionChange}\r\n\r\n\r\n                        />\r\n                      </>\r\n                    )\r\n\r\n                      : (\r\n                        \"\"\r\n                      )\r\n            }\r\n\r\n\r\n          />\r\n        )}\r\n\r\n\r\n      </>\r\n    );\r\n  }\r\n\r\n\r\n\r\n\r\n  onTabChange = (tabProps) => {\r\n    const screenName = tabProps.screenName;\r\n    if (screenName == \"IDS_WORKLISTHISTORY\") {\r\n      let inputData = {\r\n        masterData: this.props.Login.masterData,\r\n        userInfo: this.props.Login.userInfo,\r\n        nworklistcode: this.props.Login.masterData.selectedWorklist.nworklistcode\r\n      }\r\n      this.props.getWorklisthistoryAction(inputData, true);\r\n    } else {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: { screenName, activeKey: \"IDS_WORKLISTSAMPLE\" }\r\n      }\r\n\r\n      this.props.updateStore(updateInfo);\r\n\r\n    }\r\n  };\r\n\r\n \r\n  // dataStateChange = (event) => {\r\n  //   this.setState({\r\n  //     dataResult: process(\r\n  //       this.props.Login.masterData[\"selectedSection\"],\r\n  //       event.dataState\r\n  //     ),\r\n  //     sectionDataState: event.dataState,\r\n  //   });\r\n  // };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  reloadData = () => {\r\n    this.searchRef.current.value = \"\";\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n    let realFromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\r\n    let realToDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\r\n\r\n    let defaultSampleTypeValue = this.props.Login.masterData.defaultSampleTypeValue\r\n    let defaultRegTypeValue = this.props.Login.masterData.defaultRegTypeValue\r\n    let defaultRegSubTypeValue = this.props.Login.masterData.defaultRegSubTypeValue\r\n    let defaultFilterStatusValue = this.props.Login.masterData.defaultFilterStatusValue\r\n     let defaultApprovalVersionValue=this.props.Login.masterData.defaultApprovalVersion\r\n     let defaultApprovalVersion = this.props.Login.masterData.defaultApprovalVersionValue\r\n    let masterData = { ...this.props.Login.masterData, realFromDate, realToDate, defaultSampleTypeValue, defaultRegTypeValue, defaultRegSubTypeValue, defaultFilterStatusValue,defaultApprovalVersionValue }\r\n    let inputData = {\r\n      nsampletypecode: (this.props.Login.masterData.defaultSampleTypeValue && this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode) || -1,\r\n      nregtypecode: parseInt(this.props.Login.masterData.defaultRegTypeValue && this.props.Login.masterData.defaultRegTypeValue.nregtypecode) || -1,\r\n      nregsubtypecode: parseInt(this.props.Login.masterData.defaultRegSubTypeValue && this.props.Login.masterData.defaultRegSubTypeValue.nregsubtypecode) || -1,\r\n      ntransactionstatus: (this.props.Login.masterData.defaultFilterStatusValue && this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus) || -1,\r\n      userinfo: this.props.Login.userInfo,\r\n      napprovalconfigversioncode: (this.props.Login.masterData.defaultApprovalVersionValue && this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode) || -1,\r\n\r\n    }\r\n    if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1 && inputData.napprovalconfigversioncode !== -1 && inputData.ntransactionstatus !== \"-1\") {\r\n\r\n      inputData['fromdate'] = obj.fromDate;\r\n      inputData['todate'] = obj.toDate;\r\n      inputData['ndesigntemplatemappingcode'] = this.props.Login.masterData.ndesigntemplatemappingcode;\r\n      let inputParam = {\r\n        masterData,\r\n        inputData,\r\n        searchTestRef: this.searchTestRef,\r\n        skip: this.state.skip,\r\n        take: this.state.take,\r\n        testskip: this.state.testskip,\r\n        testtake: this.state.testtake,\r\n\r\n\r\n      }\r\n      this.props.getWorklistDetailFilter(inputParam)\r\n    } else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }))\r\n    }\r\n  };\r\n\r\n\r\n\r\n  ConfirmDelete = (operation, deleteId) => {\r\n    this.confirmMessage.confirm(\r\n      \"deleteMessage\",\r\n      this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n      () =>\r\n        this.DeleteWorklist(\r\n          operation,\r\n          deleteId,\r\n          operation.screenName ? operation.screenName : \"IDS_WORKLIST\"\r\n        )\r\n    );\r\n  };\r\n\r\n\r\n\r\n  DeleteWorklist = (operation, ncontrolCode) => {\r\n    let inputData = [];\r\n\r\n    inputData[\"worklist\"] = this.props.Login.masterData.selectedWorklist;\r\n    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n    inputData['fromdate'] = obj.fromDate;\r\n    inputData['todate'] = obj.toDate;\r\n    inputData['ndesigntemplatemappingcode'] = this.props.Login.masterData.ndesigntemplatemappingcode;\r\n\r\n\r\n    const postParam = {\r\n      inputListName: \"Worklist\",\r\n      selectedObject: \"selectedWorklist\",\r\n      primaryKeyField: \"nworklistcode\",\r\n      primaryKeyValue:\r\n        this.props.Login.masterData.selectedWorklist.nworklistcode,\r\n      //fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n    };\r\n\r\n    const inputParam = {\r\n      methodUrl: \"Worklist\",\r\n      postParam,\r\n      classUrl: this.props.Login.inputParam.classUrl,\r\n      inputData: inputData,\r\n      operation: operation.operation,\r\n    };\r\n    const masterData = this.props.Login.masterData;\r\n    if (\r\n      showEsign(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode,\r\n        ncontrolCode\r\n      )\r\n    ) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true,\r\n          screenData: { inputParam, masterData },\r\n          openModal: true,\r\n          screenName: \"Worklist\",\r\n          operation: operation.operation,\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n      this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n    }\r\n\r\n  };\r\n\r\n\r\n\r\n  onApproveClick = () => {\r\n\r\n\r\n     //onClick={() => this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, approvalId)}\r\n    //if (this.props.Login.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.DRAFT) {\r\n     const ncontrolCode = this.state.controlMap.has(\"GenerateWorklist\") && this.state.controlMap.get(\"GenerateWorklist\").ncontrolcode\r\n     let inputData = [];\r\n    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    const masterData = this.props.Login.masterData;\r\n    // //add               \r\n     let postParam = undefined;\r\n     inputData[\"worklist\"] =  masterData.selectedWorklist ;\r\n     inputData[\"ncontrolCode\"] =  ncontrolCode;\r\n     inputData[\"ndesigntemplatemappingcode\"] =masterData.ndesigntemplatemappingcode \r\n     // inputData[\"supplier\"] = this.props.Login.masterData.SelectedSupplier;\r\n     postParam = { inputListName: \"Worklist\", selectedObject: \"selectedWorklist\", primaryKeyField: \"nworklistcode\" };\r\n    const inputParam = {\r\n        classUrl: 'worklist',\r\n        methodUrl: \"Worklist\",\r\n        inputData: inputData,\r\n        operation: \"approve\", postParam\r\n    }\r\n     let saveType;\r\n\r\n    \r\n\r\n    const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\r\n    if (esignNeeded) {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"approve\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    else {\r\n        //this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n       this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, ncontrolCode)\r\n    }\r\n\r\n  \r\n}\r\n\r\n\r\n\r\n  onComboChange = (comboData, fieldName, caseNo) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n\r\n    if (comboData !== null) {\r\n      switch (caseNo) {\r\n        case 1:\r\n          if (selectedRecord[fieldName] && selectedRecord[fieldName].value !== comboData.value) {\r\n            delete selectedRecord[\"ntestcode\"]\r\n          }\r\n          selectedRecord[fieldName] = comboData;\r\n          //this.setState({ selectedRecord });\r\n          this.props.getSectionbaseTest(selectedRecord, this.props.Login.userInfo, this.props.Login.masterData,this.props.Login.ncontrolCode)\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    else {\r\n      if (selectedRecord[\"nsectioncode\"]) {\r\n        delete selectedRecord[\"nsectioncode\"];\r\n        delete selectedRecord[\"nusercode\"];\r\n\r\n      }\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: { selectedRecord }\r\n      }\r\n      this.props.updateStore(updateInfo);\r\n    }\r\n  };\r\n\r\n  closeModal = () => {\r\n    let loadEsign = this.props.Login.loadEsign;\r\n    let openModal = this.props.Login.openModal;\r\n    let modalShow = this.props.Login.modalShow;\r\n    let selectedRecord = this.props.Login.selectedRecord;\r\n    if (this.props.Login.loadEsign) {\r\n      if ((this.props.Login.operation.operation ? this.props.Login.operation.operation : this.props.Login.operation) === \"delete\") {\r\n        loadEsign = false;\r\n        openModal = false;\r\n        selectedRecord = {};\r\n      } else {\r\n        loadEsign = false;\r\n        selectedRecord[\"agree\"] = transactionStatus.NO;\r\n        selectedRecord['esignpassword'] = \"\"\r\n        selectedRecord['esigncomments'] = \"\"\r\n        selectedRecord['esignreason'] = \"\"\r\n        modalShow = true;\r\n        openModal = false;\r\n\r\n      }\r\n    } else {\r\n      openModal = false;\r\n      modalShow = false;\r\n      selectedRecord = {};\r\n    }\r\n\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { openModal, modalShow, loadEsign, selectedRecord, selectedId: null },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n\r\n\r\n  viewSample = (viewdetails) => {\r\n    //let openModal = this.props.Login.openModal;\r\n    //let openModal = true;\r\n    //let screenName = 'IDS_VIEWDETAILS'\r\n\r\n    this.props.ViewSampleDetails(this.props.Login.masterData, \"IDS_PREVIOUSRESULTVIEW\", this.props.Login.userInfo, viewdetails);\r\n  };\r\n\r\n  closeModalShow = () => {\r\n    let loadEsign = this.props.Login.loadEsign;\r\n\r\n    let modalShow = this.props.Login.modalShow;\r\n    let selectedRecord = this.props.Login.selectedRecord;\r\n    if (this.props.Login.loadEsign) {\r\n      loadEsign = false;\r\n    } else {\r\n      modalShow = false;\r\n      selectedRecord = {};\r\n    }\r\n\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { modalShow, selectedRecord, selectedId: null, loadEsign },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  componentDidUpdate(previousProps) {\r\n    let updateState = false;\r\n    let {\r\n      selectedRecord, addedComponentList,\r\n      userRoleControlRights,\r\n      controlMap,\r\n      filterData,\r\n      nfilterInstrumentCategory,\r\n      filterInstrumentCategory, RegistrationSubTypeList, FilterStatusList, SampletypeList,\r\n      RegistrationTypeList, DynamicGridItem, DynamicGridMoreItem,ConfigVersionList,subsampleGridItem,sampleGridItem,testGridItem=[],samplegridmoreitem,testGridItems\r\n    ,addSelectAll,deleteSelectAll} = this.state;\r\n    if (\r\n      this.props.Login.selectedRecord !== previousProps.Login.selectedRecord\r\n    ) {\r\n      selectedRecord = this.props.Login.selectedRecord;\r\n      updateState = true;\r\n    }\r\n    if (\r\n      this.props.Login.userInfo.nformcode !==\r\n      previousProps.Login.userInfo.nformcode\r\n    ) {\r\n      userRoleControlRights = [];\r\n      if (this.props.Login.userRoleControlRights) {\r\n        this.props.Login.userRoleControlRights[\r\n          this.props.Login.userInfo.nformcode\r\n        ] &&\r\n          Object.values(\r\n            this.props.Login.userRoleControlRights[\r\n            this.props.Login.userInfo.nformcode\r\n            ]\r\n          ).map((item) => userRoleControlRights.push(item.ncontrolcode));\r\n      }\r\n      controlMap = getControlMap(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode\r\n      );\r\n      updateState = true;\r\n    }\r\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n      const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", \"nsorter\", 'ascending', 'nregsubtypecode', false);\r\n      RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n\r\n      const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationType || [], \"nregtypecode\", \"sregtypename\", \"nsorter\", 'ascending', 'nregtypecode', false);\r\n      RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n\r\n      const FilterStatusListMap = constructOptionList(this.props.Login.masterData.FilterStatus || [], \"ntransactionstatus\", \"stransdisplaystatus\", undefined, undefined, false);\r\n      FilterStatusList = FilterStatusListMap.get(\"OptionList\");\r\n\r\n      const SampletypeListMap = constructOptionList(this.props.Login.masterData.SampleType || [], \"nsampletypecode\", \"ssampletypename\", 'ascending', 'nsampletypecode', false);\r\n      SampletypeList = SampletypeListMap.get(\"OptionList\");\r\n      const ConfigVersionListMap = constructOptionList(this.props.Login.masterData.ApprovalConfigVersion || [], \"napprovalconfigversioncode\", \"sversionname\", 'descending', 'ntransactionstatus', false);\r\n      ConfigVersionList = ConfigVersionListMap.get(\"OptionList\");\r\n      nfilterInstrumentCategory = this.state.nfilterInstrumentCategory || {};\r\n      addSelectAll=false;\r\n      deleteSelectAll=true;\r\n      if (\r\n        this.props.Login.masterData.SelectedInsCat &&\r\n        this.props.Login.masterData.SelectedInsCat !==\r\n        previousProps.Login.masterData.SelectedInsCat\r\n      ) {\r\n        nfilterInstrumentCategory = {\r\n          label: this.props.Login.masterData.SelectedInsCat.stestsynonym,\r\n          value: this.props.Login.masterData.SelectedInsCat.ntestcode,\r\n          item: this.props.Login.masterData.SelectedInsCat,\r\n        };\r\n      }\r\n      filterData = this.generateBreadCrumData();\r\n      updateState = true;\r\n    }\r\n\r\n    if (this.props.Login.masterData.DynamicDesign && this.props.Login.masterData.DynamicDesign !== previousProps.Login.masterData.DynamicDesign) {\r\n      const dynamicColumn = JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata.value)\r\n\r\n\r\n      testGridItem[0]= dynamicColumn.testListFields.releasetestfields[0] ? dynamicColumn.testListFields.releasetestfields[0] : [];\r\n     sampleGridItem = dynamicColumn.samplegriditem ? dynamicColumn.samplegriditem : [];\r\n      subsampleGridItem = dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [];\r\n      testGridItems=dynamicColumn.testListFields.testlistitem? dynamicColumn.testListFields.testlistitem : [];\r\n      //testGridItem= dynamicColumn.conditionfields ? dynamicColumn.conditionfields : [];\r\n      \r\n            DynamicGridItem=[...testGridItems,...testGridItem,...sampleGridItem,...subsampleGridItem]\r\n            samplegridmoreitem = dynamicColumn.samplegridmoreitem ? dynamicColumn.samplegridmoreitem : [];\r\n            DynamicGridMoreItem=[...samplegridmoreitem]\r\n      //DynamicGridItem.push(dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [])\r\n    }\r\n\r\n\r\n    if (\r\n      this.props.Login.masterData.filterInstrumentCategory !==\r\n      previousProps.Login.masterData.filterInstrumentCategory\r\n    ) {\r\n      const insCategoryMap = constructOptionList(\r\n        this.props.Login.masterData.filterInstrumentCategory || [],\r\n        \"ntestcode\",\r\n        \"stestsynonym\",\r\n        \"ntestcategorycode\",\r\n        \"ascending\",\r\n        false\r\n      );\r\n      filterInstrumentCategory = insCategoryMap.get(\"OptionList\");\r\n      if (insCategoryMap.get(\"DefaultValue\")) {\r\n        nfilterInstrumentCategory = insCategoryMap.get(\"DefaultValue\");\r\n      } else if (\r\n        filterInstrumentCategory &&\r\n        filterInstrumentCategory.length > 0\r\n      ) {\r\n        nfilterInstrumentCategory = filterInstrumentCategory[0];\r\n      }\r\n      updateState = true;\r\n    }\r\n\r\n\r\n    // let updateState = false;\r\n    let updateStateObject = {};\r\n    if (this.props.Login.addedComponentList !== previousProps.Login.addedComponentList) {\r\n\r\n      addSelectAll=false;\r\n      deleteSelectAll=true;\r\n\r\n      this.setState({\r\n        addedComponentList: this.props.Login.addedComponentList,\r\n        addSelectAll,deleteSelectAll\r\n      });\r\n    }\r\n\r\n    if (this.props.addedComponentList !== previousProps.addedComponentList) {\r\n      // this.setState({ addedComponentList : this.props.addedComponentList});\r\n      updateState = true;\r\n      updateStateObject = { ...updateStateObject, addedComponentList: this.props.addedComponentList };\r\n    }\r\n\r\n\r\n    if (updateState) {\r\n      this.setState({\r\n        selectedRecord,\r\n        userRoleControlRights,\r\n        controlMap,\r\n        filterData,\r\n        nfilterInstrumentCategory,\r\n        filterInstrumentCategory, RegistrationSubTypeList, FilterStatusList, SampletypeList,\r\n        RegistrationTypeList, DynamicGridItem, ConfigVersionList,DynamicGridMoreItem,addSelectAll,deleteSelectAll\r\n      });\r\n    }\r\n  }\r\n\r\n  generateBreadCrumData() {\r\n    //obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n\r\n    const breadCrumbData = [];\r\n    if (this.props.Login.masterData && this.props.Login.masterData.Worklist) {\r\n      const obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n\r\n      breadCrumbData.push({\r\n\r\n        \"label\": \"IDS_FROM\",\r\n        \"value\": obj.breadCrumbFrom\r\n      }, {\r\n        \"label\": \"IDS_TO\",\r\n        \"value\": obj.breadCrumbto\r\n      },\r\n        // {\r\n        //   \"label\": \"IDS_SAMPLETYPE\",\r\n        //   \"value\": this.props.Login.masterData.defaultSampleTypeValue ? this.props.Login.masterData.defaultSampleTypeValue.ssampletypename || \"NA\" :\r\n        //     this.props.Login.masterData.defaultSampleTypeValue ? this.props.Login.masterData.defaultSampleTypeValue.ssampletypename || \"NA\" : \"NA\"\r\n        // },\r\n         {\r\n        \"label\": \"IDS_REGTYPE\",\r\n        \"value\": this.props.Login.masterData.defaultRegTypeValue ? this.props.Login.masterData.defaultRegTypeValue.sregtypename || \"NA\" :\r\n          this.props.Login.masterData.defaultRegTypeValue ? this.props.Login.masterData.defaultRegTypeValue.sregtypename || \"NA\" : \"NA\"\r\n      }, {\r\n        \"label\": \"IDS_REGSUBTYPE\",\r\n        \"value\": this.props.Login.masterData.defaultRegSubTypeValue ? this.props.Login.masterData.defaultRegSubTypeValue.sregsubtypename || \"NA\" :\r\n          this.props.Login.masterData.defaultRegSubTypeValue ?\r\n            this.props.Login.masterData.defaultRegSubTypeValue.sregsubtypename : \"NA\"\r\n      },\r\n\r\n        // {\r\n        //   \"label\": \"IDS_CONFIGVERSION\",\r\n        //   \"value\": this.props.Login.masterData.defaultApprovalVersion ?\r\n        //     this.props.Login.masterData.defaultApprovalVersion.sversionname || \"NA\" :\r\n        //     this.props.Login.masterData.defaultApprovalVersion ? this.props.Login.masterData.defaultApprovalVersion.sversionname || \"NA\" : \"NA\"\r\n        // },\r\n\r\n\r\n        {\r\n          \"label\": \"IDS_WORKLISTSTATUS\",\r\n          \"value\": this.props.Login.masterData.defaultFilterStatusValue ?\r\n            this.props.Login.masterData.defaultFilterStatusValue.stransdisplaystatus || \"NA\" :\r\n            this.props.Login.masterData.defaultFilterStatusValue ?\r\n              this.props.Login.masterData.defaultFilterStatusValue.stransdisplaystatus || \"NA\" : \"NA\"\r\n        }\r\n        //];\r\n      );\r\n    }\r\n    return breadCrumbData;\r\n  }\r\n\r\n  openFilter = () => {\r\n    let showFilter = !this.props.Login.showFilter;\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  closeFilter = () => {\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter: false },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  onFilterSubmit = () => {\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n\r\n    let realFromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\r\n    let realToDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\r\n\r\n    let defaultSampleTypeValue = this.props.Login.masterData.defaultSampleTypeValue\r\n    let defaultRegTypeValue = this.props.Login.masterData.RegTypeValue\r\n    let defaultRegSubTypeValue = this.props.Login.masterData.RegSubTypeValue\r\n    let defaultFilterStatusValue = this.props.Login.masterData.FilterStatusValue\r\n    let defaultApprovalVersion = this.props.Login.masterData.defaultApprovalVersionValue\r\n    let masterData = { ...this.props.Login.masterData, realFromDate, realToDate, defaultSampleTypeValue, defaultRegTypeValue, defaultRegSubTypeValue, defaultFilterStatusValue, defaultApprovalVersion }\r\n    let inputData = {\r\n      //npreregno: \"0\",\r\n      nsampletypecode: (this.props.Login.masterData.defaultSampleTypeValue && this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode) || -1,\r\n      nregtypecode: parseInt(this.props.Login.masterData.defaultRegTypeValue && this.props.Login.masterData.defaultRegTypeValue.nregtypecode) || -1,\r\n      nregsubtypecode: parseInt(this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) || -1,\r\n      ntransactionstatus: (this.props.Login.masterData.FilterStatusValue && this.props.Login.masterData.FilterStatusValue.ntransactionstatus) || -1,\r\n      napprovalconfigversioncode: (this.props.Login.masterData.defaultApprovalVersionValue && this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode) || -1,\r\n\r\n      userinfo: this.props.Login.userInfo,\r\n      // activeTestTab: this.props.Login.activeTestTab,\r\n\r\n    }\r\n    if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1 && inputData.napprovalconfigversioncode !== -1\r\n      && inputData.ntransactionstatus !== \"-1\") {\r\n\r\n      inputData['fromdate'] = obj.fromDate;\r\n      inputData['todate'] = obj.toDate;\r\n      inputData['ndesigntemplatemappingcode'] = this.props.Login.masterData.ndesigntemplatemappingcode;\r\n      let inputParam = {\r\n        masterData,\r\n        inputData,\r\n        searchTestRef: this.searchTestRef,\r\n        skip: this.state.skip,\r\n        take: this.state.take,\r\n        testskip: this.state.testskip,\r\n        testtake: this.state.testtake,\r\n\r\n\r\n      }\r\n      this.props.getWorklistDetailFilter(inputParam)\r\n    } else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }))\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  callService,\r\n  crudMaster,\r\n  getWorklistDetail,\r\n  filterColumnData,\r\n  getSectionAndTest,\r\n  updateStore,\r\n  validateEsignCredential,\r\n  onWorklistApproveClick,\r\n  OpenDate,\r\n  CloseDate, viewAttachment, getInstrumentCombo, getWorklistSample, getRegTypeTestWise, getRegTypeWorklist,\r\n  getSectionbaseTest, getWorklistDetailFilter, getEditSectionAndTest, createWorklistCreation, getConfigVersionTestWise,\r\n  ViewSampleDetails, getWorklisthistoryAction,reportWorklist,getRegSubTypeWise\r\n})(injectIntl(WorkList));\r\n"]},"metadata":{},"sourceType":"module"}