{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{initRequest}from\"./LoginAction\";import rsapi from\"../rsapi\";import{sortData,getComboLabelValue}from\"../components/CommonScript\";import{DEFAULT_RETURN}from\"./LoginTypes\";import{toast}from'react-toastify';import Axios from\"axios\";import{constructOptionList}from\"../components/CommonScript\";import{intl}from'../components/App';import{transactionStatus}from\"../components/Enumeration\";export function getSubmitterDetail(submitter,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"submitter/getSelectedSubmitterDetail\",{ssubmittercode:submitter.ssubmittercode,userinfo:userInfo}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getSubmitterCombo(screenName,operation,primaryKeyName,masterData,userInfo,ncontrolCode){return function(dispatch){if(masterData.selectedInstitutionCategory!==null){if(masterData.selectedInstitution!==null){if(masterData.selectedInstitutionSite!==null){var urlArray=[];var InstitutionDepartment=rsapi.post(\"/submitter/getInstitutionDepartment\",{\"userinfo\":userInfo});if(operation===\"create\"){urlArray=[InstitutionDepartment];}else{var _rsapi$post;var Submitter=rsapi.post(\"/submitter/getActiveSubmitterById\",(_rsapi$post={},_defineProperty(_rsapi$post,primaryKeyName,masterData.selectedSubmitter[primaryKeyName]),_defineProperty(_rsapi$post,\"userinfo\",userInfo),_rsapi$post));urlArray=[InstitutionDepartment,Submitter];}dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};var institutionDepartmentMap=constructOptionList(response[0].data.InstitutionDepartment||[],\"ninstitutiondeptcode\",\"sinstitutiondeptname\",undefined,undefined,false);var InstitutionDepartment=institutionDepartmentMap.get(\"OptionList\");selectedRecord[\"ntransactionstatus\"]=transactionStatus.ACTIVE;if(operation===\"update\"){selectedRecord=response[1].data;selectedRecord[\"ninstitutiondeptcode\"]=getComboLabelValue(selectedRecord,response[0].data.InstitutionDepartment,\"ninstitutiondeptcode\",\"sinstitutiondeptname\");}dispatch({type:DEFAULT_RETURN,payload:{InstitutionDepartment:InstitutionDepartment,isOpen:true,masterData:masterData,selectedRecord:selectedRecord,operation:operation,screenName:screenName,openModal:true,ncontrolCode:ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}else{toast.warn(intl.formatMessage({id:\"IDS_CONFIGINSTITUTIONSITE\"}));}}else{toast.warn(intl.formatMessage({id:\"IDS_CONFIGINSTITUTION\"}));}}else{toast.warn(intl.formatMessage({id:\"IDS_CONFIGINSTITUTIONCATEGORY\"}));}};}export function getInstitution(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"submitter/getInstitutionByCategory\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{defaultInstitutionCategory:inputData.defaultInstitutionCategory}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getInstitutionSite(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"submitter/getInstitutionSiteByInstitution\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{defaultInstitution:inputData.defaultInstitution}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export var changeInstitutionCategoryFilterSubmit=function changeInstitutionCategoryFilterSubmit(inputParam,FilterInstitutionCategory,defaultInstitutionCategory,FilterInstitution,defaultInstitution,FilterInstitutionSite,defaultInstitutionSite){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/submitter/get\"+inputParam.methodUrl,inputParam.inputData).then(function(response){var masterData=response.data;sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{loading:false,masterData:_objectSpread(_objectSpread({},masterData),{},{FilterInstitutionCategory:FilterInstitutionCategory,defaultInstitutionCategory:defaultInstitutionCategory,selectedInstitutionCategory:defaultInstitutionCategory,FilterInstitution:FilterInstitution,defaultInstitution:defaultInstitution,selectedInstitution:defaultInstitution,FilterInstitutionSite:FilterInstitutionSite,defaultInstitutionSite:defaultInstitutionSite,selectedInstitutionSite:defaultInstitutionSite})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.error(error.message);});};};","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/SubmitterAction.js"],"names":["initRequest","rsapi","sortData","getComboLabelValue","DEFAULT_RETURN","toast","Axios","constructOptionList","intl","transactionStatus","getSubmitterDetail","submitter","userInfo","masterData","dispatch","post","ssubmittercode","userinfo","then","response","data","type","payload","operation","modalName","undefined","loading","catch","error","status","message","warn","getSubmitterCombo","screenName","primaryKeyName","ncontrolCode","selectedInstitutionCategory","selectedInstitution","selectedInstitutionSite","urlArray","InstitutionDepartment","Submitter","selectedSubmitter","all","selectedRecord","institutionDepartmentMap","get","ACTIVE","isOpen","openModal","formatMessage","id","getInstitution","inputData","responseData","defaultInstitutionCategory","getInstitutionSite","defaultInstitution","changeInstitutionCategoryFilterSubmit","inputParam","FilterInstitutionCategory","FilterInstitution","FilterInstitutionSite","defaultInstitutionSite","methodUrl"],"mappings":"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","sourcesContent":["import { initRequest } from \"./LoginAction\";\r\nimport rsapi from \"../rsapi\";\r\nimport { sortData,getComboLabelValue } from \"../components/CommonScript\";\r\nimport { DEFAULT_RETURN } from \"./LoginTypes\";\r\nimport { toast } from 'react-toastify';\r\nimport Axios from \"axios\";\r\nimport { constructOptionList } from \"../components/CommonScript\";\r\nimport { intl} from '../components/App';\r\nimport { transactionStatus } from \"../components/Enumeration\";\r\n\r\nexport function getSubmitterDetail (submitter, userInfo, masterData) {\r\n    return function (dispatch) {   \r\n    dispatch(initRequest(true));\r\n    return rsapi.post(\"submitter/getSelectedSubmitterDetail\", {ssubmittercode:submitter.ssubmittercode, userinfo:userInfo})\r\n   .then(response=>{     \r\n        masterData = {...masterData, ...response.data};       \r\n        sortData(masterData);\r\n        dispatch({type: DEFAULT_RETURN, payload:{masterData, operation:null, modalName:undefined, \r\n             loading:false}});   \r\n   })\r\n   .catch(error=>{\r\n        dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n       if (error.response.status === 500){\r\n           toast.error(error.message);\r\n       } \r\n       else{               \r\n           toast.warn(error.response.data);\r\n       }  \r\n  \r\n   })\r\n}}  \r\n\r\nexport function getSubmitterCombo(screenName, operation, primaryKeyName, masterData, userInfo, ncontrolCode) {\r\n    return function (dispatch) {\r\n        if(masterData.selectedInstitutionCategory!==null){\r\n            if(masterData.selectedInstitution!==null){\r\n                if(masterData.selectedInstitutionSite!==null){\r\n                    let urlArray = [];\r\n                    const InstitutionDepartment = rsapi.post(\"/submitter/getInstitutionDepartment\", {\"userinfo\": userInfo});\r\n                    if (operation === \"create\") {\r\n                        urlArray = [InstitutionDepartment];\r\n\r\n                    } else {\r\n                        const Submitter = rsapi.post(\"/submitter/getActiveSubmitterById\", {\r\n                                          [primaryKeyName]: masterData.selectedSubmitter[primaryKeyName],\r\n                                          \"userinfo\": userInfo\r\n                        });\r\n                        urlArray = [InstitutionDepartment,Submitter];\r\n                    }\r\n                    dispatch(initRequest(true));\r\n                    Axios.all(urlArray)\r\n                    .then(response => {\r\n                        let selectedRecord ={};\r\n                        const institutionDepartmentMap = constructOptionList(response[0].data.InstitutionDepartment || [], \"ninstitutiondeptcode\",\r\n                             \"sinstitutiondeptname\", undefined, undefined, false);        \r\n\r\n                        const InstitutionDepartment = institutionDepartmentMap.get(\"OptionList\");              \r\n                        selectedRecord[\"ntransactionstatus\"]  = transactionStatus.ACTIVE;\r\n\r\n                 \r\n                        if (operation === \"update\") {\r\n                            selectedRecord = response[1].data;\r\n                            selectedRecord[\"ninstitutiondeptcode\"] = getComboLabelValue(selectedRecord, response[0].data.InstitutionDepartment, \r\n                                \"ninstitutiondeptcode\", \"sinstitutiondeptname\");      \r\n                        }\r\n\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                InstitutionDepartment,                       \r\n                                isOpen: true,\r\n                                masterData:masterData,\r\n                                selectedRecord,\r\n                                operation: operation,\r\n                                screenName: screenName,\r\n                                openModal: true,\r\n                                ncontrolCode: ncontrolCode,\r\n                                loading: false,\r\n                       \r\n                            }\r\n                        });\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false\r\n                            }\r\n                        })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(intl.formatMessage({ id: error.message  }));\r\n                        } else {\r\n                        toast.warn(intl.formatMessage({id: error.response.data }));\r\n                        }\r\n                    })\r\n\r\n                }else{\r\n                    toast.warn(intl.formatMessage({ id: \"IDS_CONFIGINSTITUTIONSITE\" }));\r\n                }\r\n            }else{\r\n                toast.warn(intl.formatMessage({ id: \"IDS_CONFIGINSTITUTION\" }));\r\n            }\r\n        }else{\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CONFIGINSTITUTIONCATEGORY\" }));\r\n        }\r\n    }\r\n\r\n}\r\nexport function getInstitution(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"submitter/getInstitutionByCategory\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            defaultInstitutionCategory: inputData.defaultInstitutionCategory,\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getInstitutionSite(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"submitter/getInstitutionSiteByInstitution\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            defaultInstitution: inputData.defaultInstitution,\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const changeInstitutionCategoryFilterSubmit = (inputParam,FilterInstitutionCategory,defaultInstitutionCategory,FilterInstitution,defaultInstitution,FilterInstitutionSite,defaultInstitutionSite) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/submitter/get\" + inputParam.methodUrl, inputParam.inputData)\r\n            .then(response => {\r\n                const masterData = response.data\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        masterData: {\r\n                            ...masterData,\r\n                            FilterInstitutionCategory,\r\n                            defaultInstitutionCategory,\r\n                            selectedInstitutionCategory:defaultInstitutionCategory,\r\n                            FilterInstitution,\r\n                            defaultInstitution,\r\n                            selectedInstitution:defaultInstitution,\r\n                            FilterInstitutionSite,\r\n                            defaultInstitutionSite,\r\n                            selectedInstitutionSite:defaultInstitutionSite\r\n\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}