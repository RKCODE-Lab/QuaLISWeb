{"ast":null,"code":"import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import{LocalizationProvider}from'@progress/kendo-react-intl';import React from'react';import{injectIntl}from'react-intl';import ReactTooltip from'react-tooltip';import{AtTabs}from'../../components/custom-tabs/custom-tabs.styles';import CustomSwitch from'../../components/custom-switch/custom-switch.component';import PerfectScrollbar from'react-perfect-scrollbar';import Tabs,{TabPane}from\"rc-tabs\";import{AtTableWrap}from'../../components/data-grid/data-grid.styles';import{formCode,SampleType}from'../../components/Enumeration';import'rc-tabs/assets/index.css';import{Grid,GridColumn}from'@progress/kendo-react-grid';var ConfigureAuditFields=/*#__PURE__*/function(_React$Component){_inherits(ConfigureAuditFields,_React$Component);var _super=_createSuper(ConfigureAuditFields);function ConfigureAuditFields(props){var _this;_classCallCheck(this,ConfigureAuditFields);_this=_super.call(this,props);_this.onTabChange=function(tab){_this.setState({selectedScreen:_this.state.screens.find(function(screen){return screen.eventKey===tab;})});};_this.onAuditTabChange=function(tab){_this.setState({selectedAuditTable:_this.state.auditTable.find(function(screen){return screen.eventKey===tab;}),extractedColumnList:tab===\"registrationsample\"?_this.state.subSampleColumnList:_this.state.sampleColumnList});};if(_this.props.selectedSampleType===SampleType.Masters){var screens=[{eventKey:'dynamicmaster',name:_this.props.formName,formcode:Object.keys(_this.props.auditData)[0]}];var sampleColumnList=[{\"title\":\"IDS_AUDITOTHERACTIONCAPTURE\",\"field\":\"sampleauditfields\",\"width\":\"600px\"},{\"title\":\"IDS_AUDITEDITCAPTURE\",\"field\":\"sampleauditeditfields\",\"width\":\"600px\"}];var auditTable=[{eventKey:'dynamicmaster',name:\"IDS_FIELDS\"}];_this.state={screens:screens,auditTable:auditTable,sampleColumnList:sampleColumnList,extractedColumnList:sampleColumnList,selectedScreen:{eventKey:'dynamicmaster',name:_this.props.formName,formcode:Object.keys(_this.props.auditData)[0]},selectedAuditTable:{eventKey:'dynamicmaster',name:\"IDS_FIELDS\",formcode:1}};}else if(_this.props.selectedSampleType===SampleType.GOODSIN){var _screens=[{eventKey:'goodsinsample',name:\"IDS_GOODSIN\",formcode:Object.keys(_this.props.auditData)[0]}];var _sampleColumnList=[{\"title\":\"IDS_AUDITOTHERACTIONCAPTURE\",\"field\":\"sampleauditfields\",\"width\":\"600px\"},{\"title\":\"IDS_AUDITEDITCAPTURE\",\"field\":\"sampleauditeditfields\",\"width\":\"600px\"}];var _auditTable=[{eventKey:'goodsinsample',name:\"IDS_FIELDS\"}];_this.state={screens:_screens,auditTable:_auditTable,sampleColumnList:_sampleColumnList,extractedColumnList:_sampleColumnList,selectedScreen:{eventKey:'goodsinsample',name:\"IDS_GOODSIN\",formcode:Object.keys(_this.props.auditData)[0]},selectedAuditTable:{eventKey:'goodsinsample',name:\"IDS_FIELDS\",formcode:1}};}//Added by sonia on 11th NOV 2024 for jira id:ALPD-5025\nelse if(_this.props.selectedSampleType===SampleType.PROTOCOL){var _screens2=[{eventKey:'protocol',name:\"IDS_PROTOCOL\",formcode:Object.keys(_this.props.auditData)[0]}];var _sampleColumnList2=[{\"title\":\"IDS_AUDITOTHERACTIONCAPTURE\",\"field\":\"sampleauditfields\",\"width\":\"600px\"},{\"title\":\"IDS_AUDITEDITCAPTURE\",\"field\":\"sampleauditeditfields\",\"width\":\"600px\"}];var _auditTable2=[{eventKey:'protocol',name:\"IDS_FIELDS\"}];_this.state={screens:_screens2,auditTable:_auditTable2,sampleColumnList:_sampleColumnList2,extractedColumnList:_sampleColumnList2,selectedScreen:{eventKey:'protocol',name:\"IDS_GOIDS_PROTOCOLODSIN\",formcode:Object.keys(_this.props.auditData)[0]},selectedAuditTable:{eventKey:'protocol',name:\"IDS_FIELDS\",formcode:1}};}else{var _screens3=[{eventKey:'registration',name:\"IDS_SAMPLEREGISTRATION\",formcode:formCode.SAMPLEREGISTRATION}];var _sampleColumnList3=[{\"title\":\"IDS_AUDITOTHERACTIONCAPTURE\",\"field\":\"sampleauditfields\",\"width\":\"600px\"},{\"title\":\"IDS_AUDITEDITCAPTURE\",\"field\":\"sampleauditeditfields\",\"width\":\"600px\"}];var subSampleColumnList=[{\"title\":\"IDS_AUDITOTHERACTIONCAPTURE\",\"field\":\"subsampleauditfields\",\"width\":\"600px\"},{\"title\":\"IDS_AUDITEDITCAPTURE\",\"field\":\"subsampleauditeditfields\",\"width\":\"600px\"}];var _auditTable3=[{eventKey:'registration',name:\"IDS_SAMPLEFIELDS\"}];if(_this.props.needSubSample){_auditTable3.push({eventKey:'registrationsample',name:\"IDS_SUBSAMPLEFIELDS\"});}_this.state={screens:_screens3,auditTable:_auditTable3,sampleColumnList:_sampleColumnList3,subSampleColumnList:subSampleColumnList,extractedColumnList:_sampleColumnList3,selectedScreen:{eventKey:'registration',name:\"IDS_SAMPLEREGISTRATION\",formcode:formCode.SAMPLEREGISTRATION},selectedAuditTable:{eventKey:'registration',name:\"IDS_SAMPLEFIELDS\",formcode:1}};}return _this;}_createClass(ConfigureAuditFields,[{key:\"render\",value:function render(){var _this2=this;//console.log(\"props:\",this.props, this.state);\n//console.log(\" this.props.dataResult[this.state.selectedScreen.formcode]:\", this.props.dataResult[this.state.selectedScreen.formcode]);\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AtTabs,null,/*#__PURE__*/React.createElement(Tabs,{activeKey:this.state.selectedScreen.eventKey,moreIcon:\"...\",onChange:this.onTabChange},this.state.screens.map(function(screen){return/*#__PURE__*/ (//{\n//return console.log(\"screen.name:\", screen.name, this.props.dataResult[this.state.selectedScreen.formcode]),\nReact.createElement(TabPane,{name:screen.eventKey,tab:_this2.props.intl.formatMessage({id:screen.name}),key:screen.eventKey},/*#__PURE__*/React.createElement(Tabs,{activeKey:_this2.state.selectedAuditTable.eventKey,moreIcon:\"...\",onChange:_this2.onAuditTabChange},_this2.state.auditTable.map(function(auditTable){return/*#__PURE__*/ (//{\n//return console.log(\"screen.name2:\", auditTable.name, this.props.dataResult[this.state.selectedScreen.formcode][this.state.selectedAuditTable.eventKey]),\nReact.createElement(TabPane,{name:auditTable.eventKey,tab:_this2.props.intl.formatMessage({id:auditTable.name}),key:auditTable.eventKey},/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",id:\"tooltip-grid-wrap\",globalEventOff:\"click\"}),/*#__PURE__*/React.createElement(AtTableWrap,{className:\"at-list-table\"},/*#__PURE__*/React.createElement(LocalizationProvider,{language:\"lang\"},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Grid,Object.assign({className:\"active-paging\",style:{height:'550px'},resizable:true,reorderable:true,scrollable:\"scrollable\",data:_this2.props.dataResult[_this2.state.selectedScreen.formcode][_this2.state.selectedAuditTable.eventKey]},_this2.state.dataState,{onDataStateChange:_this2.dataStateChange}),/*#__PURE__*/React.createElement(GridColumn,{field:\"label\",title:_this2.props.intl.formatMessage({id:\"IDS_FIELDS\"}),cell:function cell(row){return/*#__PURE__*/React.createElement(\"td\",{\"data-tip\":row[\"dataItem\"]['label'],\"data-for\":\"tooltip-grid-wrap\"},row[\"dataItem\"]['label']);}}),_this2.state.extractedColumnList.map(function(column){return/*#__PURE__*/React.createElement(GridColumn,{field:column.field,title:_this2.props.intl.formatMessage({id:column.title}),headerClassName:\"text-center\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"td\",{style:{textAlign:\"center\"},\"data-tip\":_this2.props.intl.formatMessage({id:column.title}),\"data-for\":\"tooltip-grid-wrap\"},/*#__PURE__*/React.createElement(CustomSwitch,{type:\"switch\",id:row[\"dataItem\"][column.field],onChange:function onChange(event){return _this2.props.onChangeToggle(event,row[\"dataItem\"],column.field,row.dataIndex,_this2.state.selectedScreen.formcode,_this2.props.operation);},checked:row[\"dataItem\"][column.field]||false,name:row[\"dataItem\"][\"label\"]+\"_\"+row.dataIndex+\"_\"+row.columnIndex}));}});}))))),/*#__PURE__*/React.createElement(ReactTooltip,null))));}//}\n))));}//}\n))));}}]);return ConfigureAuditFields;}(React.Component);export default injectIntl(ConfigureAuditFields);","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/designtemplatemapping/ConfigureAuditFields.jsx"],"names":["LocalizationProvider","React","injectIntl","ReactTooltip","AtTabs","CustomSwitch","PerfectScrollbar","Tabs","TabPane","AtTableWrap","formCode","SampleType","Grid","GridColumn","ConfigureAuditFields","props","onTabChange","tab","setState","selectedScreen","state","screens","find","screen","eventKey","onAuditTabChange","selectedAuditTable","auditTable","extractedColumnList","subSampleColumnList","sampleColumnList","selectedSampleType","Masters","name","formName","formcode","Object","keys","auditData","GOODSIN","PROTOCOL","SAMPLEREGISTRATION","needSubSample","push","map","intl","formatMessage","id","height","dataResult","dataState","dataStateChange","row","column","field","title","textAlign","event","onChangeToggle","dataIndex","operation","columnIndex","Component"],"mappings":"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","sourcesContent":["import { LocalizationProvider } from '@progress/kendo-react-intl';\r\nimport React from 'react'\r\nimport { injectIntl} from 'react-intl'\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { AtTabs } from '../../components/custom-tabs/custom-tabs.styles';\r\nimport CustomSwitch from '../../components/custom-switch/custom-switch.component';\r\n\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport Tabs, { TabPane } from \"rc-tabs\";\r\nimport { AtTableWrap } from '../../components/data-grid/data-grid.styles';\r\nimport { formCode, SampleType } from '../../components/Enumeration';\r\nimport 'rc-tabs/assets/index.css';\r\nimport { Grid, GridColumn } from '@progress/kendo-react-grid';\r\n\r\n\r\nclass ConfigureAuditFields extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        if(this.props.selectedSampleType === SampleType.Masters ){\r\n            const  screens = [{ eventKey: 'dynamicmaster', name:this.props.formName, formcode: Object.keys(this.props.auditData)[0] }];\r\n            let sampleColumnList =[  { \"title\": \"IDS_AUDITOTHERACTIONCAPTURE\", \"field\": \"sampleauditfields\", \"width\": \"600px\" },\r\n                                     { \"title\": \"IDS_AUDITEDITCAPTURE\", \"field\": \"sampleauditeditfields\", \"width\": \"600px\" },\r\n                                ];\r\n            const  auditTable = [{ eventKey: 'dynamicmaster', name: \"IDS_FIELDS\" },];\r\n\r\n            this.state = {\r\n                screens,auditTable,\r\n                sampleColumnList,\r\n                extractedColumnList:sampleColumnList,\r\n                selectedScreen: { eventKey: 'dynamicmaster', name:this.props.formName, formcode:  Object.keys(this.props.auditData)[0]},\r\n                selectedAuditTable: { eventKey: 'dynamicmaster', name: \"IDS_FIELDS\", formcode: 1}\r\n            }\r\n        }\r\n        else if(this.props.selectedSampleType === SampleType.GOODSIN){\r\n            const  screens = [{ eventKey: 'goodsinsample', name:\"IDS_GOODSIN\", formcode: Object.keys(this.props.auditData)[0] }];\r\n            let sampleColumnList =[  { \"title\": \"IDS_AUDITOTHERACTIONCAPTURE\", \"field\": \"sampleauditfields\", \"width\": \"600px\" },\r\n                                     { \"title\": \"IDS_AUDITEDITCAPTURE\", \"field\": \"sampleauditeditfields\", \"width\": \"600px\" },\r\n                                ];\r\n            const  auditTable = [{ eventKey: 'goodsinsample', name: \"IDS_FIELDS\" },];\r\n\r\n            this.state = {\r\n                screens,auditTable,\r\n                sampleColumnList,\r\n                extractedColumnList:sampleColumnList,\r\n                selectedScreen: { eventKey: 'goodsinsample', name:\"IDS_GOODSIN\", formcode:  Object.keys(this.props.auditData)[0]},\r\n                selectedAuditTable: { eventKey: 'goodsinsample', name: \"IDS_FIELDS\", formcode: 1}\r\n            } \r\n        }\r\n        //Added by sonia on 11th NOV 2024 for jira id:ALPD-5025\r\n        else if(this.props.selectedSampleType === SampleType.PROTOCOL){\r\n            const  screens = [{ eventKey: 'protocol', name:\"IDS_PROTOCOL\", formcode: Object.keys(this.props.auditData)[0] }];\r\n            let sampleColumnList =[  { \"title\": \"IDS_AUDITOTHERACTIONCAPTURE\", \"field\": \"sampleauditfields\", \"width\": \"600px\" },\r\n                                     { \"title\": \"IDS_AUDITEDITCAPTURE\", \"field\": \"sampleauditeditfields\", \"width\": \"600px\" },\r\n                                ];\r\n            const  auditTable = [{ eventKey: 'protocol', name: \"IDS_FIELDS\" },];\r\n\r\n            this.state = {\r\n                screens,auditTable,\r\n                sampleColumnList,\r\n                extractedColumnList:sampleColumnList,\r\n                selectedScreen: { eventKey: 'protocol', name:\"IDS_GOIDS_PROTOCOLODSIN\", formcode:  Object.keys(this.props.auditData)[0]},\r\n                selectedAuditTable: { eventKey: 'protocol', name: \"IDS_FIELDS\", formcode: 1}\r\n            } \r\n        }\r\n        else{\r\n            const  screens = [{ eventKey: 'registration', name: \"IDS_SAMPLEREGISTRATION\", formcode: formCode.SAMPLEREGISTRATION }];\r\n            let sampleColumnList =[  { \"title\": \"IDS_AUDITOTHERACTIONCAPTURE\", \"field\": \"sampleauditfields\", \"width\": \"600px\" },\r\n                                    { \"title\": \"IDS_AUDITEDITCAPTURE\", \"field\": \"sampleauditeditfields\", \"width\": \"600px\" },];\r\n            \r\n            let subSampleColumnList =[  { \"title\": \"IDS_AUDITOTHERACTIONCAPTURE\", \"field\": \"subsampleauditfields\", \"width\": \"600px\" },\r\n                                        { \"title\": \"IDS_AUDITEDITCAPTURE\", \"field\": \"subsampleauditeditfields\", \"width\": \"600px\" },];\r\n        \r\n\r\n            const  auditTable = [{ eventKey: 'registration', name: \"IDS_SAMPLEFIELDS\" },];\r\n            if(this.props.needSubSample){\r\n                    auditTable.push({ eventKey: 'registrationsample', name: \"IDS_SUBSAMPLEFIELDS\"});\r\n            }\r\n            this.state = {\r\n                screens,auditTable,\r\n                sampleColumnList, subSampleColumnList,\r\n                extractedColumnList:sampleColumnList,\r\n                selectedScreen: { eventKey: 'registration', name: \"IDS_SAMPLEREGISTRATION\", formcode: formCode.SAMPLEREGISTRATION },\r\n                selectedAuditTable: { eventKey: 'registration', name: \"IDS_SAMPLEFIELDS\", formcode: 1}\r\n            }\r\n        }\r\n    }\r\n    onTabChange = (tab) => {\r\n        this.setState({\r\n            selectedScreen: this.state.screens.find(screen => screen.eventKey === tab)\r\n        })\r\n    }\r\n\r\n    onAuditTabChange = (tab) => {\r\n        this.setState({\r\n            selectedAuditTable: this.state.auditTable.find(screen => screen.eventKey === tab),\r\n            extractedColumnList: tab === \"registrationsample\" ? this.state.subSampleColumnList : this.state.sampleColumnList\r\n        })\r\n    }\r\n    render() {\r\n      \r\n        //console.log(\"props:\",this.props, this.state);\r\n        //console.log(\" this.props.dataResult[this.state.selectedScreen.formcode]:\", this.props.dataResult[this.state.selectedScreen.formcode]);\r\n        return (\r\n            <>\r\n        {/* {this.props.selectedSampleType === SampleType.Masters ?\r\n                    <PerfectScrollbar>\r\n                        <ReactTooltip place=\"bottom\" id=\"tooltip-grid-wrap\" globalEventOff='click' />\r\n                        <AtTableWrap className=\"at-list-table\">\r\n                            <LocalizationProvider language=\"lang\">\r\n                                <>\r\n                                    \r\n                                </>\r\n                            </LocalizationProvider>\r\n                        </AtTableWrap>\r\n                        <ReactTooltip />\r\n                    </PerfectScrollbar>        \r\n\r\n                : */}\r\n                <AtTabs>\r\n                    <Tabs activeKey={this.state.selectedScreen.eventKey} moreIcon=\"...\" onChange={this.onTabChange}>\r\n                        {this.state.screens.map(screen =>//{\r\n                       //return console.log(\"screen.name:\", screen.name, this.props.dataResult[this.state.selectedScreen.formcode]),\r\n                            <TabPane name={screen.eventKey} tab={this.props.intl.formatMessage({ id: screen.name })} key={screen.eventKey}>\r\n                              \r\n                              <Tabs activeKey={this.state.selectedAuditTable.eventKey} moreIcon=\"...\" onChange={this.onAuditTabChange}>\r\n                                    {this.state.auditTable.map(auditTable =>//{\r\n                                        //return console.log(\"screen.name2:\", auditTable.name, this.props.dataResult[this.state.selectedScreen.formcode][this.state.selectedAuditTable.eventKey]),\r\n                                        <TabPane name={auditTable.eventKey} tab={this.props.intl.formatMessage({ id: auditTable.name })} key={auditTable.eventKey}>\r\n                                        \r\n                                        <PerfectScrollbar>\r\n                                                <ReactTooltip place=\"bottom\" id=\"tooltip-grid-wrap\" globalEventOff='click' />\r\n                                                <AtTableWrap className=\"at-list-table\">\r\n                                                    <LocalizationProvider language=\"lang\">\r\n                                                        <>\r\n                                                        <Grid\r\n                                                                className={\"active-paging\"}\r\n                                                                style={{ height: '550px' }}\r\n                                                                resizable\r\n                                                                reorderable\r\n                                                                scrollable={\"scrollable\"}\r\n                                                                data={this.props.dataResult[this.state.selectedScreen.formcode][this.state.selectedAuditTable.eventKey]}\r\n                                                                {...this.state.dataState}\r\n                                                                onDataStateChange={this.dataStateChange}>\r\n                                                                <GridColumn\r\n                                                                    field=\"label\"\r\n                                                                    title={this.props.intl.formatMessage({ id: \"IDS_FIELDS\" })}\r\n                                                                    cell={(row) => (\r\n                                                                        <td data-tip={row[\"dataItem\"]['label']} data-for=\"tooltip-grid-wrap\">\r\n                                                                            {row[\"dataItem\"]['label']}\r\n                                                                        </td>\r\n                                                                    )}\r\n                                                                />\r\n                                                                {this.state.extractedColumnList.map(column =>\r\n                                                                    <GridColumn\r\n                                                                        field={column.field}\r\n                                                                        title={this.props.intl.formatMessage({ id: column.title })}\r\n                                                                        headerClassName=\"text-center\"\r\n                                                                        cell={(row) => (\r\n                                                                            <td style={{ textAlign: \"center\" }} data-tip={this.props.intl.formatMessage({ id: column.title })} data-for=\"tooltip-grid-wrap\">\r\n                                                                                <CustomSwitch type=\"switch\" id={row[\"dataItem\"][column.field]}\r\n                                                                                    onChange={(event) => this.props.onChangeToggle(event, row[\"dataItem\"], column.field, \r\n                                                                                                    row.dataIndex, this.state.selectedScreen.formcode,\r\n                                                                                                    this.props.operation)}\r\n                                                                                    checked={row[\"dataItem\"][column.field] || false}\r\n                                                                                    name={row[\"dataItem\"][\"label\"] + \"_\" + row.dataIndex + \"_\" + row.columnIndex} />\r\n                                                                            \r\n                                                                            \r\n                                                                            </td>)}\r\n                                                                    />\r\n                                                                )}\r\n\r\n                                                        </Grid>\r\n                                                        </> \r\n                                                    \r\n                                                    </LocalizationProvider>\r\n                                                </AtTableWrap>\r\n                                                <ReactTooltip />\r\n                                            </PerfectScrollbar>\r\n                                            \r\n                                        </TabPane>\r\n                                        //}\r\n                                    )}\r\n                                </Tabs>\r\n                                \r\n                             </TabPane>\r\n                             //}\r\n                        )}\r\n                    </Tabs>\r\n                </AtTabs>\r\n           {/* // }  */}\r\n            </>\r\n        );\r\n    }\r\n\r\n\r\n}\r\nexport default injectIntl(ConfigureAuditFields)"]},"metadata":{},"sourceType":"module"}