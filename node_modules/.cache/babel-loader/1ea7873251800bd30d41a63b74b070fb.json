{"ast":null,"code":"//import { CommonDragLogic } from '@progress/kendo-react-grid/dist/npm/drag/CommonDragLogic';\nimport { toast } from 'react-toastify';\nimport { rearrangeDateFormatforKendoDataTool } from '../actions';\nimport { checkBoxOperation, designProperties, transactionStatus } from './Enumeration'; //import CryptoJS from 'crypto-js';\n//import CryptoJS from 'crypto-js';\n\nimport CryptoJS from 'crypto-js';\nimport { intl } from '../components/App'; //added by perumalraj on 07-08-2020\n\nexport function extractFieldHeader(fieldList) {\n  let columnList = [];\n\n  if (fieldList !== undefined && fieldList.length !== 0) {\n    columnList = fieldList.filter(function (value, index, arr) {\n      return value[\"controlType\"] !== \"NA\";\n    });\n  }\n\n  return columnList;\n}\nexport function ltrim(text) {\n  if (text !== undefined) {\n    return text.replace(/^\\s+/, \"\").replace(/\\\\n/g, '');\n  }\n}\nexport function whitespaceTrim(event) {\n  if (event.target !== undefined) event.target.value = event.target.value.trim();\n  return event;\n}\nexport function rtrim(text) {\n  if (text !== undefined && text !== \"\") return text.replace(/\\s+$/, \"\");\n}\nexport function getCurrentDateTime() {\n  const tempDate = new Date();\n  const date = tempDate.getFullYear() + '-' + (tempDate.getMonth() + 1) + '-' + tempDate.getDate() + ' ' + tempDate.getHours() + ':' + tempDate.getMinutes() + ':' + tempDate.getSeconds();\n  return date;\n}\nexport function sortData(masterData, sortType, columnName) {\n  if (masterData) {\n    if (Array.isArray(masterData)) {\n      sortByField(masterData, sortType, columnName);\n    } else {\n      Object.keys(masterData).map(data => {\n        if (Array.isArray(masterData[data])) {\n          sortByField(masterData[data], sortType, columnName);\n        }\n\n        return null;\n      });\n    }\n  }\n\n  return masterData;\n} // export function sortDataForDate(sampleList){\n//   let value=[];\n//   sampleList.map((item,index)=> {\n//     const valueFormed={\"dtransactiondate\":new Date(item.dtransactiondate),...sampleList[index]}\n//     value.push(valueFormed)})\n//     sampleList = value.sort(compareDatetime);\n//     sampleList.reverse();\n//      // (objA, objB) => Number(objA.dtransactiondate) - Number(objB.dtransactiondate),\n//    // );\n//     return sampleList;\n//   }\n\nexport function sortDataForDate(sampleList, DateColumn, AdditionalColumn) {\n  let value = [];\n  sampleList.map((item, index) => {\n    const valueFormed = { //DateColumn:new Date(item[DateColumn]),\n      ...sampleList[index]\n    };\n    value.push(valueFormed);\n  });\n  sampleList = value.sort((a, b) => {\n    const dateValueA = new Date(a[DateColumn]).getTime();\n    const dateValueB = new Date(b[DateColumn]).getTime();\n    const valueA = a[AdditionalColumn];\n    const valueB = b[AdditionalColumn];\n\n    if (dateValueA === dateValueB) {\n      return valueA - valueB; //valueA.toString().localeCompare(valueB.toString())\n    } else {\n      return dateValueA - dateValueB;\n    }\n  }); // sampleList = value.sort(compareDatetime);\n\n  sampleList.reverse(); // (objA, objB) => Number(objA.dtransactiondate) - Number(objB.dtransactiondate),\n  // );\n\n  return sampleList;\n}\n\nfunction compareDatetime(a, b) {\n  const dateA = new Date(a.dtransactiondate).getTime();\n  const dateB = new Date(b.dtransactiondate).getTime();\n  const sarnoA = a.sarno;\n  const sarnoB = b.sarno;\n\n  if (dateA === dateB) {\n    return sarnoA.toString().localeCompare(sarnoB.toString()); // sarnoA-sarnoB\n  } else {\n    return dateA - dateB;\n  }\n}\n\nexport function sortDataByParent(masterData, parentList, columnName) {\n  let childDataList = [];\n  parentList.map(item => {\n    masterData.map(item1 => {\n      if (item[columnName] === item1[columnName]) {\n        childDataList.push(item1);\n      }\n    });\n  });\n  return childDataList;\n}\nexport function sortByField(masterData, sortType, columnName) {\n  if (masterData !== undefined && masterData.length > 0) {\n    if (columnName === undefined || columnName === null) {\n      if (masterData[0] !== undefined) {\n        columnName = Object.keys(masterData[0])[0];\n      }\n    }\n\n    if (sortType === \"ascending\") {\n      masterData.sort((obj1, obj2) => obj1[columnName] !== null && obj2[columnName] !== null ? typeof obj1[columnName] === 'string' && typeof obj2[columnName] === 'string' ? obj1[columnName].toLowerCase() > obj2[columnName].toLowerCase() ? 1 : -1 : obj1[columnName] > obj2[columnName] ? 1 : -1 : \"\");\n    } else {\n      // console.log(columnName)\n      masterData.sort((obj1, obj2) => obj1[columnName] !== null && obj2[columnName] !== null ? typeof obj1[columnName] === 'string' && typeof obj2[columnName] === 'string' ? obj1[columnName].toLowerCase() < obj2[columnName].toLowerCase() ? 1 : -1 : obj1[columnName] < obj2[columnName] ? 1 : -1 : \"\");\n    }\n  }\n\n  return masterData;\n}\nexport function searchData(filterValue, originalData, fieldList) {\n  let searchedData = [];\n\n  if (originalData && originalData.length > 0) {\n    let temp = originalData.filter(item => {\n      const itemArray = [];\n      fieldList.map(itemKey => item[itemKey] && item[itemKey] !== null ? itemArray.push(typeof item[itemKey] === \"string\" ? item[itemKey].toLowerCase() : item[itemKey].toString().toLowerCase()) : \"\"); //   console.log(itemArray.findIndex(element => element.includes(filterValue.toLowerCase())) > -1)\n      //  console.log(filterValue.toLowerCase())\n\n      return itemArray.findIndex(element => element.includes(filterValue.toLowerCase())) > -1;\n    });\n    searchedData = temp;\n  }\n\n  return searchedData;\n} //end- search logic\n//For Searching Json Data\n\nexport function searchJsonData(filterValue, originalData, fieldList) {\n  let searchedData = [];\n\n  if (originalData.length > 0) {\n    let temp = originalData.filter(item => {\n      const itemArray = [];\n      fieldList.map(itemKey => itemKey.jsonfeild ? item[itemKey.jsonfeild][itemKey.feild] && item[itemKey.jsonfeild][itemKey.feild] !== null ? itemArray.push(typeof item[itemKey.jsonfeild][itemKey.feild] === \"string\" ? item[itemKey.jsonfeild][itemKey.feild].toLowerCase() : item[itemKey.jsonfeild][itemKey.feild].toString().toLowerCase()) : \"\" : item[itemKey.feild] && item[itemKey.feild] !== null ? itemArray.push(typeof item[itemKey.feild] === \"string\" ? item[itemKey.feild].toLowerCase() : item[itemKey.feild].toString().toLowerCase()) : \"\"); //   console.log(itemArray.findIndex(element => element.includes(filterValue.toLowerCase())) > -1)\n      //  console.log(filterValue.toLowerCase())\n\n      return itemArray.findIndex(element => element.includes(filterValue.toLowerCase())) > -1;\n    });\n    searchedData = temp;\n  }\n\n  return searchedData;\n} //Given by Perumal\n//To get Label Value Pair for a search select combo box\n\nexport function getComboLabelValue(selectedItem, optionList, findKey, labelKey, jsonfeild, slanguagetypecode) {\n  let lblValueList = [];\n  optionList.map(option => {\n    if (option[jsonfeild]) {\n      if (selectedItem && selectedItem[findKey] === option[findKey]) {\n        lblValueList.push({\n          \"value\": option[findKey],\n          \"label\": option[jsonfeild][labelKey][slanguagetypecode] ? option[jsonfeild][labelKey][slanguagetypecode] : option[jsonfeild][labelKey]\n        });\n      }\n\n      return null;\n    } else {\n      if (selectedItem && selectedItem[findKey] === option[findKey]) {\n        lblValueList.push({\n          \"value\": option[findKey],\n          \"label\": option[labelKey]\n        });\n      }\n\n      return null;\n    }\n  });\n  return selectedItem[findKey] = lblValueList[0];\n} // To provide esign rights\n\nexport function showEsign(itemMap, nformcode, ncontrolcode) {\n  const controlList = itemMap[nformcode] ? Object.values(itemMap[nformcode]) : [];\n  const index = controlList.findIndex(x => x.ncontrolcode === ncontrolcode);\n  return controlList[index] && controlList[index].nneedesign === 3 ? true : false;\n} // To provide control rights\n\nexport function getControlMap(itemMap, nformcode) {\n  const controlList = itemMap ? itemMap[nformcode] ? Object.values(itemMap[nformcode]) : [] : [];\n  const controlMap = new Map();\n  controlList.map(item => {\n    return controlMap.set(item.scontrolname, { ...item\n    });\n  });\n  return controlMap;\n}\nexport function formatDate(date, dateType) {\n  let d = new Date(date),\n      month = '' + (d.getMonth() + 1),\n      day = '' + d.getDate(),\n      year = '' + d.getFullYear(),\n      hour = '' + d.getHours(),\n      min = '' + d.getMinutes(),\n      sec = '' + d.getSeconds();\n  if (month.length < 2) month = '0' + month;\n  if (day.length < 2) day = '0' + day;\n  if (hour.length < 2) hour = '0' + hour;\n  if (min.length < 2) min = '0' + min;\n  if (sec.length < 2) sec = '0' + sec;\n  return [year, month, day].join('-').concat(\" \" + hour + \":\" + min + \":\" + sec); // if(dateType === \"dateonly\"){\n  //   return [year, month, day].join('-')\n  // }\n  // else if(dateType === \"timeonly\"){\n  //   return [hour + \":\" + min + \":\" + sec];\n  // }\n  // else{\n  //   return [year, month, day].join('-').concat(\" \" + hour + \":\" + min + \":\" + sec);\n  // }  \n}\nexport function getStartOfDay(date) {\n  date.setHours(0, 0, 0);\n  return formatDate(date);\n}\nexport function getEndOfDay(date) {\n  date.setHours(23, 59, 59);\n  return formatDate(date);\n}\nexport function getDateByMinutes(date, holdMinutes) {\n  const someDate = new Date(date);\n  const adjustedDate = new Date(someDate);\n  return adjustedDate.setMinutes(someDate.getMinutes() + holdMinutes);\n}\nexport function validateTwoDigitDate(value) {\n  if (value.length === 1) {\n    value = \"0\".concat(value);\n  }\n\n  return value;\n} // To provide esign rights for child Tabs\n\nexport function showEsignForChildTabs(itemMap, ncontrolcode) {\n  //  const controlList = itemMap[nformcode] ? Object.values(itemMap[nformcode]) : [];\n  const index = itemMap.findIndex(x => x.ncontrolcode === ncontrolcode);\n  return itemMap[index] && itemMap[index].nneedesign === 3 ? true : false;\n}\nexport function addDays(dateValue, daysToAdd) {\n  const copy = new Date(Number(dateValue));\n  copy.setDate(dateValue.getDate() + daysToAdd);\n  return copy;\n}\nexport function validatePhoneNumber(inputValue) {\n  let output = \"\"; // Get the regular expression to test against for this particular object\n\n  let regAllow = /^[0-9,',',\\n,\\s,[,\\], '+',-]+$/; // Check for an allowed character, if not found, cancel the keypress's event bubbling\n\n  if (inputValue.match(regAllow)) {\n    // Do nothing, i.e. allow.\n    output = inputValue;\n  }\n\n  return output;\n}\nexport function validateDays(inputValue) {\n  let output = \"\";\n  let isTrue = false;\n  let regAllow = /^[+|-]?[0-9]+$/;\n\n  if (inputValue.length > 1) {\n    const s = inputValue.substring(inputValue.length - 1);\n\n    if (s !== \"+\" && s !== \"-\") {\n      isTrue = regAllow.test(inputValue);\n    }\n  } else {\n    const s = inputValue.substring(inputValue.length - 1);\n\n    if (s !== \"+\" && s !== \"-\") {\n      isTrue = regAllow.test(inputValue);\n    } else {\n      isTrue = true;\n    }\n  }\n\n  if (isTrue) {\n    output = inputValue;\n  }\n\n  return output;\n}\nexport function validateCreateView(inputValue) {\n  const regAllow = /^[a-z0-9_]+$/;\n  const regLagAllow = /[а-яЁё]/;\n  const regStringAllow = /^[a-z]+$/; //  /[а-яЁё]/\n  //  /^[a-z]+$/\n  //return  regStringAllow.test(inputValue[0]) ? regAllow.test(inputValue[inputValue.length-1]) ?\n  // inputValue : \"\"  : regStringAllow.test(inputValue) ? inputValue : \"\";\n\n  return regLagAllow.test(inputValue[inputValue.length - 1]) ? inputValue : regStringAllow.test(inputValue[inputValue.length - 1]) ? inputValue : inputValue.length > 1 ? regAllow.test(inputValue[inputValue.length - 1]) ? inputValue : \"\" : \"\";\n}\nexport function validateEmail(inputValue) {\n  let output = true;\n  const emailAddresses = inputValue.split(','); //let regAllow = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  //checks for presence of '@', '.' and 2 characters after '.'\n  //let regAllow = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n  //let regAllow = /^[a-zA-Z0-9!@#\\$%\\^\\&*\\)\\(+=._-]+$/g;\n  //A form with an email field that that must be in the following order: characters@characters.domain \n  //(characters followed by an @ sign, followed by more characters, and then a \".\". After the \".\" sign, you can only write 2 to 3 letters from a to z:\n\n  let regAllow = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/; // Check for an allowed character, if not found, cancel the keypress's event bubbling\n\n  for (const emailAddress of emailAddresses) {\n    if (!emailAddress.match(regAllow)) {\n      // If any email address is invalid, return false\n      output = false;\n      break;\n    }\n  } // if (inputValue.match(regAllow)) {\n  //   // Do nothing, i.e. allow.\n  //   output = true;//inputValue;\n  // }\n\n\n  return output;\n}\nexport function formatInputDate(date, includeMilliseconds) {\n  let formattedDate = \"\";\n\n  if (includeMilliseconds) {\n    formattedDate = date.getFullYear() + \"-\" + (\"00\" + (date.getMonth() + 1)).slice(-2) + \"-\" + (\"00\" + date.getDate()).slice(-2) + 'T' + (\"00\" + date.getHours()).slice(-2) + \":\" + (\"00\" + date.getMinutes()).slice(-2) + \":\" + (\"00\" + date.getSeconds()).slice(-2) + \".\" + (\"000\" + date.getMilliseconds()).slice(-3) + \"Z\";\n  } else {\n    formattedDate = date.getFullYear() + \"-\" + (\"00\" + (date.getMonth() + 1)).slice(-2) + \"-\" + (\"00\" + date.getDate()).slice(-2) + 'T' + (\"00\" + date.getHours()).slice(-2) + \":\" + (\"00\" + date.getMinutes()).slice(-2) + \":\" + (\"00\" + date.getSeconds()).slice(-2) + \"Z\";\n  }\n\n  return formattedDate;\n}\nexport function formatInputDateWithoutT(date, includeMilliseconds) {\n  let formattedDate = \"\";\n\n  if (includeMilliseconds) {\n    formattedDate = date.getFullYear() + \"-\" + (\"00\" + (date.getMonth() + 1)).slice(-2) + \"-\" + (\"00\" + date.getDate()).slice(-2) + \" \" + (\"00\" + date.getHours()).slice(-2) + \":\" + (\"00\" + date.getMinutes()).slice(-2) + \":\" + (\"00\" + date.getSeconds()).slice(-2) + \".\" + (\"000\" + date.getMilliseconds()).slice(-3);\n  } else {\n    formattedDate = date.getFullYear() + \"-\" + (\"00\" + (date.getMonth() + 1)).slice(-2) + \"-\" + (\"00\" + date.getDate()).slice(-2) + \" \" + (\"00\" + date.getHours()).slice(-2) + \":\" + (\"00\" + date.getMinutes()).slice(-2) + \":\" + (\"00\" + date.getSeconds()).slice(-2);\n  }\n\n  return formattedDate;\n}\nexport function create_UUID() {\n  var dt = new Date().getTime();\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (dt + Math.random() * 16) % 16 | 0;\n    dt = Math.floor(dt / 16);\n    return (c === 'x' ? r : r && 0x3 | 0x8).toString(16);\n  });\n  return uuid;\n} //added by perumalraj on 03/11/2020\n//compare two arrays of object and filter the record which are not present in the second array and vice versa\n// export function filterRecordBasedOnTwoArrays(firstArray, secondArray, PrimaryKey,SecondaryKey) {\n//   let filterArray;\n//     if(SecondaryKey !==undefined){\n//       filterArray = firstArray.filter(function (x) {\n//         return !secondArray.some(function (y) {\n//           //console.log(y)\n//           return x[PrimaryKey] === y[PrimaryKey] || x[SecondaryKey] === y[SecondaryKey]\n//         })\n//       });\n//     }else{\n//       filterArray = firstArray.filter(function (x) {\n//         return !secondArray.some(function (y) {\n//           //console.log(y)\n//           return x[PrimaryKey] === y[PrimaryKey]\n//         })\n//       });\n//     } \n//   return filterArray;\n// }\n\nexport function filterRecordBasedOnTwoArrays(firstArray, secondArray, PrimaryKey) {\n  const filterArray = firstArray.filter(function (x) {\n    return !secondArray.some(function (y) {\n      //console.log(y)\n      return x[PrimaryKey] === y[PrimaryKey];\n    });\n  });\n  return filterArray;\n}\nexport function listDataFromDynamicArray(arr, indexvalue) {\n  return arr && arr.filter(x => x[indexvalue]);\n} // export const fileViewURL = 'http://192.168.0.79:8097/';\n//Added by P.Sudharshanan\n\nexport function replaceUpdatedObject(newList, oldList, primaryKey) {\n  newList && newList.length > 0 && newList.map(newlistItem => {\n    let oldIndex = oldList ? oldList.findIndex(x => x[primaryKey] === newlistItem[primaryKey]) : -1;\n\n    if (oldIndex !== -1) {\n      oldList.splice(oldIndex, 1, newlistItem);\n    }\n\n    return null;\n  });\n  return oldList;\n} //added by perumalraj for insert newly added element into an array\n\nexport function updatedObjectWithNewElement(oldList, newList, name) {\n  let newlistItem = newList;\n\n  if (name === 'Sample') {\n    newlistItem.map((item, index) => {\n      if (oldList[0].npreregno === item.npreregno) {\n        newlistItem.splice(index, 1); // [newFirstElement].concat(array)\n      }\n    });\n    newlistItem.unshift(oldList[0]);\n    oldList = [...newlistItem];\n  } else {\n    oldList = [...newlistItem, ...oldList];\n  }\n\n  return oldList;\n} //added by perumalraj for replace the old values wih new one into an array\n\nexport function replaceObjectWithNewElement(oldList) {\n  oldList = [...oldList];\n  return oldList;\n} //Added by L.Subashini to find the index positions nf the occurence of the specified character\n// export const findIndices = (str, char) =>\n//   str.split('').reduce((indices, letter, index) => {\n//     letter === char && indices.push(index);\n//     return indices;\n//   }, [])\n//added by perumalraj on 23/12/2020\n//compare two arrays of object and filter the record which are not present in the second array and vice versa\n\nexport function filterStatusBasedOnTwoArrays(firstArray, secondArray, PrimaryKey, colorColName) {\n  // const Peru = Object.keys(Array2).map(function (k) { return Array2[k][PrimaryKey] }).join(\",\");\n  // alert(Peru);\n  //const TestSet = new Set(Peru);\n  // const FinalOutput = [\n  //   ...Array1.filter(({ PrimaryKey }) => !TestSet.has(PrimaryKey))\n  // ];\n  // Array1 = Array1.filter(val => !Array2.includes(val[PrimaryKey]));\n  // alert(Array1)\n  // return Array1;\n  const filterArray = firstArray.filter(function (x) {\n    return secondArray.some(function (y) {\n      if (x[PrimaryKey] === y[PrimaryKey]) {\n        x[colorColName] = y[colorColName];\n      }\n\n      return x[PrimaryKey] === y[PrimaryKey];\n    });\n  });\n  return filterArray;\n}\nexport function constructOptionList(options, optionId, optionValue, sortField, sortOrder, alphabeticalSort, defaultStatusFieldName) {\n  const optionMap = new Map();\n  const defaultValue = [];\n  const defaultStatus = defaultStatusFieldName ? defaultStatusFieldName : \"ndefaultstatus\";\n  const optionList = Object.values(sortField ? sortOrder === \"ascending\" ? options.sort((itemA, itemB) => itemA[sortField] < itemB[sortField] ? -1 : 1) : options.sort((itemA, itemB) => itemA[sortField] > itemB[sortField] ? -1 : 1) : alphabeticalSort ? options.sort((itemA, itemB) => typeof itemA[optionValue] === 'string' ? itemA[optionValue].toLowerCase() < itemB[optionValue].toLowerCase() ? -1 : 1 : itemA[optionValue] < itemB[optionValue] ? -1 : 1) : options).map(item => {\n    if (item && item[defaultStatus] === transactionStatus.YES) {\n      defaultValue.push({\n        label: item[optionValue],\n        value: item[optionId],\n        item: item\n      });\n    }\n\n    return {\n      label: item[optionValue],\n      value: item[optionId],\n      item: item\n    };\n  });\n  optionMap.set(\"OptionList\", optionList);\n\n  if (defaultValue.length > 0) {\n    optionMap.set(\"DefaultValue\", defaultValue[0]);\n  }\n\n  return optionMap;\n}\nexport function constructjsonOptionList(options, optionId, optionValue, sortField, sortOrder, alphabeticalSort, defaultStatusFieldName, source, isMultiLingual, languageTypeCode, column) {\n  const optionMap = new Map();\n  const defaultValue = [];\n  defaultStatusFieldName = defaultStatusFieldName ? defaultStatusFieldName : \"ndefaultstatus\"; // const optionList = Object.values((sortField ? ((sortOrder === \"ascending\" ?\n  //   options.sort((itemA, itemB) =>\n  //     itemA[source].value ? JSON.parse(itemA[source].value)[sortField] : itemA[source][sortField] <\n  //       itemB[source].value ? JSON.parse(itemB[source].value)[sortField] : itemB[source][sortField] ? -1 : 1\n  //   )\n  //   :\n  //   options = options.sort((itemA, itemB) =>\n  //     itemA[source].value ? JSON.parse(itemA[source].value)[sortField] : itemB[source].value ? JSON.parse(itemB[source].value)[sortField] : itemB[source][sortField] ? -1 : 1\n  //   )\n  // ))\n  //   : (alphabeticalSort ?\n  //     options.sort((itemA, itemB) =>\n  //     (typeof (JSON.parse(itemA[source].value)[optionValue]) === 'string' ?\n  //       JSON.parse(itemA[source].value)[optionValue].toLowerCase() < JSON.parse(itemB[source].value)[optionValue].toLowerCase() ?\n  //         -1 : 1 : JSON.parse(itemA[source].value)[optionValue] < JSON.parse(itemB[source].value)[optionValue] ? -1 : 1)) : options)\n  // )\n  // )\n\n  const optionList = options.map(item => {\n    const jsondata = item[source] ? item[source].value ? JSON.parse(item[source].value) : item.jsondata : item.jsondata;\n    let defaultStatus = jsondata[defaultStatusFieldName] || item[defaultStatusFieldName];\n\n    if (defaultStatus === transactionStatus.YES) {\n      defaultValue.push({\n        label: isMultiLingual ? jsondata[optionValue] ? jsondata[optionValue][languageTypeCode] || jsondata[optionValue]['en-US'] : jsondata['jsondata'][optionValue][languageTypeCode] || jsondata['jsondata'][optionValue]['en-US'] : jsondata[optionValue],\n        // ALPD-3839\n        value: jsondata[optionId] || item[optionId],\n        item: { ...item,\n          pkey: optionId,\n          nquerybuildertablecode: column ? column.nquerybuildertablecode : -100,\n          source: source\n        }\n      });\n    }\n\n    let label = isMultiLingual ? jsondata[optionValue] ? jsondata[optionValue][languageTypeCode] || jsondata[optionValue]['en-US'] : jsondata['jsondata'][optionValue][languageTypeCode] || jsondata['jsondata'][optionValue]['en-US'] : jsondata[optionValue];\n    let value = jsondata[optionId] || item[optionId];\n    return {\n      label,\n      value,\n      item: { ...item,\n        pkey: optionId,\n        nquerybuildertablecode: column ? column.nquerybuildertablecode : -100,\n        source: source\n      }\n    };\n  });\n  optionMap.set(\"OptionList\", optionList);\n\n  if (defaultValue.length > 0) {\n    optionMap.set(\"DefaultValue\", defaultValue[0]);\n  }\n\n  return optionMap;\n}\nexport function constructjsonOptionDefault(options, optionId, optionValue, sortField, sortOrder, alphabeticalSort, defaultStatusFieldName, source, isMultiLingual, languageTypeCode, column) {\n  const optionMap = new Map();\n  const defaultValue = [];\n  defaultStatusFieldName = defaultStatusFieldName ? defaultStatusFieldName : \"ndefaultstatus\"; // const optionList = Object.values((sortField ? ((sortOrder === \"ascending\" ?\n  //   options.sort((itemA, itemB) =>\n  //     itemA[source].value ? JSON.parse(itemA[source].value)[sortField] : itemA[source][sortField] <\n  //       itemB[source].value ? JSON.parse(itemB[source].value)[sortField] : itemB[source][sortField] ? -1 : 1\n  //   )\n  //   :\n  //   options = options.sort((itemA, itemB) =>\n  //     itemA[source].value ? JSON.parse(itemA[source].value)[sortField] : itemB[source].value ? JSON.parse(itemB[source].value)[sortField] : itemB[source][sortField] ? -1 : 1\n  //   )\n  // ))\n  //   : (alphabeticalSort ?\n  //     options.sort((itemA, itemB) =>\n  //     (typeof (JSON.parse(itemA[source].value)[optionValue]) === 'string' ?\n  //       JSON.parse(itemA[source].value)[optionValue].toLowerCase() < JSON.parse(itemB[source].value)[optionValue].toLowerCase() ?\n  //         -1 : 1 : JSON.parse(itemA[source].value)[optionValue] < JSON.parse(itemB[source].value)[optionValue] ? -1 : 1)) : options)\n  // )\n  // )\n\n  const optionList = options.map(item => {\n    const jsondata = item[source] ? item[source].value ? JSON.parse(item[source].value) : item.item.jsondata : item.item.jsondata;\n    let defaultStatus = jsondata[defaultStatusFieldName] || item[defaultStatusFieldName];\n\n    if (defaultStatus === transactionStatus.YES) {\n      defaultValue.push({\n        label: isMultiLingual ? jsondata[optionValue] ? jsondata[optionValue][languageTypeCode] : jsondata['jsondata'][optionValue][languageTypeCode] : jsondata[optionValue],\n        value: jsondata[optionId],\n        //ALPD-2106\n        item: { ...item.item,\n          pkey: optionId,\n          nquerybuildertablecode: column ? column.nquerybuildertablecode : -100,\n          source: source\n        }\n      });\n    }\n  }); //optionMap.set(\"OptionList\", optionList);\n\n  if (defaultValue.length > 0) {\n    optionMap.set(\"DefaultValue\", defaultValue[0]);\n  }\n\n  return optionMap;\n}\nexport function validateLoginId(inputValue) {\n  let output = false; //let regAllow = /^\\w+(\\w+)*$/;\n\n  let regAllow = /^[a-zA-Z0-9-_]*$/; //let regAllow = /^[a-zA-Z0-9!@#\\$%\\^\\&*\\)\\(+=._-]+$/g;\n\n  if (inputValue.match(regAllow)) {\n    output = true;\n  }\n\n  return output;\n} //added by perumalraj on 02-02-2021 for single click java function in list master view and \n\nexport function fillRecordBasedOnCheckBoxSelection(masterData, backEndResponse, mapKeys, CheckBoxOperation, primaryKeyName, removeElementFromArray) {\n  //if (CheckBoxOperation === 1) {  //check box select\n  if (CheckBoxOperation === checkBoxOperation.MULTISELECT) {\n    //check box select  \n    mapKeys.forEach(item => {\n      return masterData[item] = updatedObjectWithNewElement(masterData[item] ? masterData[item] : [], backEndResponse[item] ? backEndResponse[item] : []); //return masterData[item] = replaceOnlyNewList(backEndResponse[item] ? backEndResponse[item] : []);\n    }); //} else if (CheckBoxOperation === 2) {  //check box de-select\n  } else if (CheckBoxOperation === checkBoxOperation.DESELECT) {\n    //check box de-select  \n    mapKeys.forEach(item => {\n      return masterData[item] = filterRecordBasedOnPrimaryKeyName(masterData[item] ? masterData[item] : [], removeElementFromArray.length > 0 && removeElementFromArray[0][primaryKeyName] ? removeElementFromArray[0][primaryKeyName] : \"\", primaryKeyName);\n    }); //} else if (CheckBoxOperation === 3) {  //single select\n  } else if (CheckBoxOperation === checkBoxOperation.SINGLESELECT) {\n    //single select  \n    mapKeys.forEach(item => {\n      return masterData[item] = replaceObjectWithNewElement(backEndResponse[item] ? backEndResponse[item] : []);\n    }); //} else if (CheckBoxOperation === 4) {  //single de-select \n  } else if (CheckBoxOperation === checkBoxOperation.SINGLEDESELECT) {\n    //single de-select  \n    mapKeys.forEach(item => {\n      return masterData[item] = getRecordBasedOnPrimaryKeyName(masterData[item] ? masterData[item] : [], backEndResponse.length > 0 && backEndResponse[0][primaryKeyName] ? backEndResponse[0][primaryKeyName] : \"\", primaryKeyName);\n    }); // return masterData[item] = replaceObjectWithNewElement(masterData[item] ? masterData[item] : [], backEndResponse[item] ? backEndResponse[item] : []);\n    //} else if (CheckBoxOperation === 5) {  //after multi select and then click single record\n  } else if (CheckBoxOperation === checkBoxOperation.QUICKSELECTSTATUS) {\n    //after multi select and then click single record  \n    mapKeys.forEach(item => {\n      let filteredmasterData = filterRecordBasedOnTwoArrays(masterData[item] ? masterData[item] : [], removeElementFromArray, primaryKeyName);\n      return masterData[item] = updatedObjectWithNewElement(filteredmasterData, backEndResponse[item] ? backEndResponse[item] : []);\n    }); //} else if (CheckBoxOperation === 6) {  //after multi select and then click single record\n  } else if (CheckBoxOperation === checkBoxOperation.QUICKSELECTNONE) {\n    //after multi select and then click single record  \n    mapKeys.forEach(item => {\n      filterRecordBasedOnTwoArrays(masterData[item] ? masterData[item] : [], removeElementFromArray, primaryKeyName);\n      return masterData[item] = getSameRecordFromTwoArrays(masterData[item] ? masterData[item] : [], backEndResponse ? backEndResponse : [], primaryKeyName);\n    });\n  } //else if (CheckBoxOperation === 7) {  //check box select\n  else if (CheckBoxOperation === checkBoxOperation.QUICKSELECTALL) {\n    //check box select  \n    mapKeys.forEach(item => {\n      //return masterData[item] = updatedObjectWithNewElement(masterData[item] ? masterData[item] : [], backEndResponse[item] ? backEndResponse[item] : []);\n      return masterData[item] = replaceOnlyNewList(backEndResponse[item] ? backEndResponse[item] : []);\n    });\n  } else {\n    Object.keys(backEndResponse).forEach(item => {\n      return masterData[item] = backEndResponse[item];\n    });\n  }\n} //added by Sathish on 06-04-2022\n\nexport function reArrangeArrays(firstArray, secondArray, PrimaryKey) {\n  let filterArray = [];\n\n  for (var i = 0; i < firstArray.length; i++) {\n    for (var j = 0; j < secondArray.length; j++) {\n      if (firstArray[i][PrimaryKey] == secondArray[j][PrimaryKey]) {\n        filterArray.push(secondArray[j]);\n      }\n    }\n  }\n\n  return filterArray;\n} //added by Sathish on 31-03-2022\n\nexport function replaceOnlyNewList(newList) {\n  const array = [];\n  array.push(...newList);\n  return array;\n} //added by perumalraj on 02-02-2021\n\nexport function filterRecordBasedOnPrimaryKeyName(masterData, value, primaryKeyName) {\n  const finalValueAfterFilter = masterData.filter(function (master) {\n    return master[primaryKeyName] !== value;\n  });\n  return finalValueAfterFilter;\n} //added by perumalraj on 02-02-2021\n\nexport function getRecordBasedOnPrimaryKeyName(masterData, value, primaryKeyName) {\n  const finalValueAfterFilter = masterData.filter(function (master) {\n    return master[primaryKeyName] === value;\n  });\n  return finalValueAfterFilter;\n} //added by perumalraj on 06/02/2021\n//compare two arrays of object and filter the record which are not present in the second array and first array data will be \n//returned with the filtered data\n// export function getSameRecordFromTwoArrays(firstArray, secondArray, PrimaryKey) {\n//   const filterArray = firstArray.filter(function (x) {\n//     if (Array.isArray(secondArray)) {\n//       return secondArray.some(function (y) {\n//         return x[PrimaryKey] === y[PrimaryKey]\n//       })\n//     }\n//   });\n//   return filterArray;\n// }\n\nexport function getSameRecordFromTwoArrays(firstArray, secondArray, PrimaryKey, SecondaryKey) {\n  let filterArray;\n\n  if (SecondaryKey !== undefined) {\n    filterArray = firstArray.filter(function (x) {\n      if (Array.isArray(secondArray)) {\n        return secondArray.some(function (y) {\n          return x[PrimaryKey] === y[PrimaryKey] && x[SecondaryKey] === y[SecondaryKey];\n        });\n      }\n    });\n  } else {\n    filterArray = firstArray.filter(function (x) {\n      if (Array.isArray(secondArray)) {\n        return secondArray.some(function (y) {\n          return x[PrimaryKey] === y[PrimaryKey];\n        });\n      }\n    });\n  }\n\n  return filterArray;\n} //added by perumalraj on 16-02-2021\n//compare two arrays and remove the same element and add the newer one into it\n\nexport function getRemovedRecordAndAddNewRecord(firstArray, secondArray, ElementToSearch, PrimaryKey) {\n  ElementToSearch.forEach(item => {\n    let itemAfterfilter = filterRecordBasedOnPrimaryKeyName(firstArray, item, PrimaryKey);\n    firstArray = itemAfterfilter;\n  });\n  return updatedObjectWithNewElement(firstArray, secondArray);\n}\nexport function bytesToSize(bytes) {\n  if (!isNaN(parseInt(bytes))) {\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) return '0 Byte';\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n  } else {\n    return bytes;\n  }\n}\nexport function onDropAttachFileList(selectedRecord, attachedFiles, maxSize) {\n  if (selectedRecord) {\n    let listFile = selectedRecord ? selectedRecord : [];\n\n    if (listFile.length + attachedFiles.length <= maxSize || maxSize === 0) {\n      attachedFiles && attachedFiles.length > 0 && attachedFiles.map(newlistItem => {\n        let oldIndex = listFile ? listFile.findIndex(x => x['name'] === newlistItem['name']) : -1;\n\n        if (oldIndex === -1) {\n          listFile.splice(listFile.length, 0, newlistItem);\n        } else {\n          listFile.splice(oldIndex, 1, newlistItem);\n        }\n\n        return null;\n      });\n      return listFile;\n    }\n\n    return attachedFiles;\n  } else {\n    return attachedFiles;\n  }\n}\nexport function deleteAttachmentDropZone(selectedRecord, file) {\n  let remainingList;\n\n  if (typeof selectedRecord === \"string\") {\n    remainingList = \"\";\n  } else {\n    if (selectedRecord.length >= 1) {\n      const fileList = selectedRecord.filter(fileItem => {\n        return fileItem.name !== file.name;\n      });\n      remainingList = fileList;\n    } else {\n      remainingList = \"\";\n    }\n  }\n\n  return remainingList;\n}\nexport function checkCancelAndReject(sample) {\n  return sample.ntransactionstatus === transactionStatus.CANCELLED || sample.ntransactionstatus === transactionStatus.REJECT;\n}\nexport function covertDatetoString(newDate) {\n  const startDate = new Date(newDate);\n  const prevMonth = validateTwoDigitDate(String(startDate.getMonth() + 1));\n  const prevDay = validateTwoDigitDate(String(startDate.getDate()));\n  const fromDate = startDate.getFullYear() + '-' + prevMonth + '-' + prevDay;\n  return fromDate;\n}\nexport function convertDatetoStringByTimeZone(userInfo, value) {\n  const dateValue = new Date(value);\n  const prevMonth = validateTwoDigitDate(String(dateValue.getMonth() + 1));\n  const prevDay = validateTwoDigitDate(String(dateValue.getDate()));\n  const dateArray = [];\n  const splitChar = getSplitCharacter(userInfo);\n  const firstField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[0];\n  const secondField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[1];\n\n  if (firstField === \"dd\") {\n    dateArray.push(prevDay);\n    dateArray.push(splitChar);\n\n    if (secondField === \"MM\") {\n      dateArray.push(prevMonth);\n      dateArray.push(splitChar);\n      dateArray.push(dateValue.getFullYear());\n    } else {\n      dateArray.push(dateValue.getFullYear());\n      dateArray.push(splitChar);\n      dateArray.push(prevMonth);\n    }\n  } else if (firstField === \"MM\") {\n    dateArray.push(prevMonth);\n    dateArray.push(splitChar);\n\n    if (secondField === \"dd\") {\n      dateArray.push(prevDay);\n      dateArray.push(splitChar);\n      dateArray.push(dateValue.getFullYear());\n    } else {\n      dateArray.push(dateValue.getFullYear());\n      dateArray.push(splitChar);\n      dateArray.push(prevDay);\n    }\n  } else {\n    dateArray.push(dateValue.getFullYear());\n    dateArray.push(splitChar);\n\n    if (secondField === \"dd\") {\n      dateArray.push(prevDay);\n      dateArray.push(splitChar);\n      dateArray.push(prevMonth);\n    } else {\n      dateArray.push(prevMonth);\n      dateArray.push(splitChar);\n      dateArray.push(prevDay);\n    }\n  }\n\n  return dateArray;\n}\nexport function convertDateValuetoString(startDateValue, endDateValue, userInfo, noBreadCrumb) {\n  const startDate = startDateValue ? rearrangeDateFormat(userInfo, startDateValue) : new Date();\n  const endDate = endDateValue ? rearrangeDateFormat(userInfo, endDateValue) : new Date(); // const startDate = startDateValue ? new Date(startDateValue) : new Date();\n  // const endDate = endDateValue ? new Date(endDateValue) : new Date();\n\n  const prevMonth = validateTwoDigitDate(String(startDate.getMonth() + 1));\n  const currentMonth = validateTwoDigitDate(String(endDate.getMonth() + 1));\n  const prevDay = validateTwoDigitDate(String(startDate.getDate()));\n  const currentDay = validateTwoDigitDate(String(endDate.getDate())); //const splitChar = userInfo.ssitedatetime && userInfo.ssitedatetime.indexOf(\"/\") !== -1 ? \"/\" : \"-\";\n\n  const fromDateOnly = startDate.getFullYear() + '-' + prevMonth + '-' + prevDay;\n  const toDateOnly = endDate.getFullYear() + '-' + currentMonth + '-' + currentDay;\n  const fromDate = fromDateOnly + \"T00:00:00\";\n  const toDate = toDateOnly + \"T23:59:59\";\n\n  if (noBreadCrumb) {\n    return {\n      fromDate,\n      toDate\n    };\n  } else {\n    const breadCrumbFrom = convertDatetoStringByTimeZone(userInfo, startDate); //startDate.getFullYear() + splitChar + prevMonth + splitChar + prevDay;\n\n    const breadCrumbto = convertDatetoStringByTimeZone(userInfo, endDate); //endDate.getFullYear() + splitChar + currentMonth + splitChar + currentDay;\n\n    return {\n      fromDate,\n      toDate,\n      breadCrumbFrom,\n      breadCrumbto\n    };\n  }\n}\nexport function getSplitCharacter(userInfo) {\n  const specialChars = `\\`_-\\[\\]'\"\\\\|,.\\/`;\n  let splitChar = '';\n  userInfo.ssitedatetime && userInfo.ssitedatetime.split('').some(word => {\n    if (splitChar === undefined || splitChar === '') {\n      if (specialChars.includes(word)) {\n        splitChar = word;\n      }\n    }\n  });\n  specialChars.split('').some(specialChar => {\n    if (splitChar === undefined || splitChar === '') {\n      userInfo.ssitedatetime && userInfo.ssitedatetime.split('').some(word => {\n        if (splitChar === undefined || splitChar === '') {\n          if (word.includes(specialChar)) {\n            splitChar = word;\n          }\n        }\n      });\n    }\n  });\n  return splitChar;\n}\nexport function rearrangeDateFormat(userInfo, dateValue) {\n  // let splitChar = userInfo.ssitedatetime \n  // && userInfo.ssitedatetime.indexOf(\"/\") !== -1 ? \"/\" : \"-\";\n  let splitChar = getSplitCharacter(userInfo); //   console.log(\"splitChar:\", splitChar);\n\n  if (typeof dateValue === \"string\") {\n    //(splitChar === \"/\" || splitChar === \"-\") &&\n    const firstField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[0]; // console.log(\"firstField:\", firstField);\n\n    const timeSplitChar = dateValue.indexOf(\"T\") !== -1 ? \"T\" : \" \";\n    const datetime = dateValue.split(timeSplitChar);\n    const dateArray = datetime[0].split(splitChar);\n\n    if (firstField === \"dd\") {\n      const day = dateArray[0];\n      const month = dateArray[1];\n      const year = dateArray[2];\n      const time = datetime[1] || \"00:00:00\";\n      const formatted = year + \"-\" + month + \"-\" + day + \"T\" + time;\n      return new Date(formatted);\n    } else if (firstField === \"yyyy\") {\n      const year = dateArray[0];\n      const month = dateArray[1];\n      const day = dateArray[2];\n      const time = datetime[1] || \"00:00:00\";\n      const formatted = year + \"-\" + month + \"-\" + day + \"T\" + time;\n      return new Date(formatted);\n    } else {\n      return new Date(dateValue);\n    }\n  } else {\n    return dateValue;\n  }\n}\nexport function rearrangeDateFormatforUI(userInfo, dateValue) {\n  let splitChar = \"-\"; //   console.log(\"splitChar:\", splitChar);\n\n  if (typeof dateValue === \"string\") {\n    //(splitChar === \"/\" || splitChar === \"-\") &&\n    const firstField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[0]; // console.log(\"firstField:\", firstField);\n\n    const timeSplitChar = dateValue.indexOf(\"T\") !== -1 ? \"T\" : \" \";\n    const datetime = dateValue.split(timeSplitChar);\n    const dateArray = datetime[0].split(splitChar);\n\n    if (firstField === \"dd\") {\n      const day = dateArray[0];\n      const month = dateArray[1];\n      const year = dateArray[2];\n      const time = datetime[1] || \"00:00:00\";\n      const formatted = year + \"-\" + month + \"-\" + day + \"T\" + time;\n      return new Date(formatted);\n    } else if (firstField === \"yyyy\") {\n      const year = dateArray[0];\n      const month = dateArray[1];\n      const day = dateArray[2];\n      const time = datetime[1] || \"00:00:00\";\n      const formatted = year + \"-\" + month + \"-\" + day + \"T\" + time;\n      return new Date(formatted);\n    } else {\n      return new Date(dateValue);\n    }\n  } else {\n    return dateValue;\n  }\n}\nexport function convertUTCDateToLocalDate(date) {\n  var newDate = new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000);\n  var offset = date.getTimezoneOffset() / 60;\n  var hours = date.getHours();\n  newDate.setHours(hours - offset);\n  return newDate;\n}\nexport function convertDateTimetoString(inputDate, userInfo) {\n  // let splitChar = userInfo.ssitedatetime && userInfo.ssitedatetime.indexOf(\"/\") !== -1 ? \"/\" : \"-\";\n  const specialChars = `\\`_-\\[\\]'\"\\\\|,.\\/`;\n  let splitChar = '';\n  userInfo.ssitedatetime && userInfo.ssitedatetime.split('').some(word => {\n    if (splitChar === undefined || splitChar === '') {\n      if (specialChars.includes(word)) {\n        splitChar = word;\n      }\n    }\n  });\n  const month = validateTwoDigitDate(String(inputDate.getMonth() + 1));\n  const day = validateTwoDigitDate(String(inputDate.getDate()));\n  const year = inputDate.getFullYear();\n  const hours = validateTwoDigitDate(String(inputDate.getHours()));\n  const minutes = validateTwoDigitDate(String(inputDate.getMinutes()));\n  const seconds = validateTwoDigitDate(String(inputDate.getSeconds())); //if (splitChar === \"/\" || splitChar === \"-\") {\n\n  const firstField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[0];\n\n  if (firstField === \"dd\") {\n    return day + splitChar + month + splitChar + year + \" \" + hours + \":\" + minutes + \":\" + seconds;\n  } else if (firstField === \"yyyy\") {\n    return year + splitChar + month + splitChar + day + \"T\" + hours + \":\" + minutes + \":\" + seconds;\n  } else {\n    return new Date(inputDate);\n  } // } else {\n  //   return inputDate;\n  // }\n\n}\nexport function convertDateTimetoStringDBFormat(inputDate, userInfo) {\n  // let splitChar = userInfo.ssitedatetime &&\n  //   userInfo.ssitedatetime.indexOf(\"/\") !== -1 ? \"/\" : \"-\";\n  const specialChars = `\\`_-\\[\\]'\"\\\\|,.\\/`;\n  let splitChar = '';\n  userInfo.ssitedatetime && userInfo.ssitedatetime.split('').some(word => {\n    if (splitChar === undefined || splitChar === '') {\n      if (specialChars.includes(word)) {\n        splitChar = word;\n      }\n    }\n  });\n  let dbformat = \"-\";\n  const month = validateTwoDigitDate(String(inputDate.getMonth() + 1));\n  const day = validateTwoDigitDate(String(inputDate.getDate()));\n  const year = inputDate.getFullYear();\n  const hours = validateTwoDigitDate(String(inputDate.getHours()));\n  const minutes = validateTwoDigitDate(String(inputDate.getMinutes()));\n  const seconds = validateTwoDigitDate(String(inputDate.getSeconds())); // if (splitChar === \"/\" || splitChar === \"-\") {\n\n  const firstField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[0];\n\n  if (firstField === \"dd\") {\n    return year + dbformat + month + dbformat + day + \" \" + hours + \":\" + minutes + \":\" + seconds;\n  } else if (firstField === \"yyyy\") {\n    return year + dbformat + month + dbformat + day + \" \" + hours + \":\" + minutes + \":\" + seconds;\n  } else {\n    return new Date(inputDate);\n  } // } else {\n  //   return inputDate;\n  // }\n\n}\nexport function parentChildComboLoad(columnList, comboData, selectedRecord, childColumnList, withoutCombocomponent, ParentComboValues, languagetypeCode, userinfo, comboComponents) {\n  //console.log(\"columnList:\", columnList);\n  let comboValues = {};\n\n  if (columnList.length > 0) {\n    columnList.map((x, index) => {\n      if (x.inputtype === 'combo' && (x.readonly === undefined || x.readonly === false)) {\n        if (comboData[x.label] && comboData[x.label].length > 0) //&& comboData[x.label][0].hasOwnProperty(x.source) \n          {\n            selectedRecord[x.label] = undefined;\n\n            if (comboData[x.label].length > 0) {\n              if (comboData[x.label][0].label === undefined) {\n                const optionList = constructjsonOptionList(comboData[x.label] || [], x.valuemember, x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x);\n                comboData[x.label] = optionList.get(\"OptionList\");\n\n                if (optionList.get(\"DefaultValue\") !== undefined) {\n                  selectedRecord[x.label] = optionList.get(\"DefaultValue\");\n                }\n              } else {\n                comboData[x.label] = comboData[x.label];\n                const optionList = constructjsonOptionDefault(comboData[x.label] || [], x.valuemember, x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x);\n\n                if (optionList.get(\"DefaultValue\") !== undefined) {\n                  selectedRecord[x.label] = optionList.get(\"DefaultValue\");\n                }\n              }\n            } else {\n              comboData[x.label] = [];\n            }\n\n            comboValues = childComboLoad(x, comboData, selectedRecord, childColumnList, withoutCombocomponent, languagetypeCode, userinfo, selectedRecord[x.label]);\n          } else {\n          selectedRecord[x.label] = undefined;\n          comboValues = childComboLoad(x, comboData, selectedRecord, childColumnList, withoutCombocomponent, languagetypeCode, userinfo, selectedRecord[x.label]); //   comboValues = {\n          //   \"comboData\": comboData,\n          //   \"selectedRecord\": selectedRecord\n          // }\n        }\n      } else if (x.inputtype === 'combo' && x.readonly === true && ParentComboValues.child.some(y => y.label === x.label && y.isdifferentdisplaycolumn)) {\n        let index = ParentComboValues.child.findIndex(y => y.label === x.label);\n        selectedRecord = { ...selectedRecord,\n          [x.label]: {\n            label: ParentComboValues.item.jsondata ? ParentComboValues.item.jsondata[ParentComboValues.child[index].displaycolumnname] : ParentComboValues.item[ParentComboValues.child[index].displaycolumnname] || \"\",\n            value: ParentComboValues.item.jsondata ? ParentComboValues.item.jsondata[ParentComboValues.child[index].tablecolumnname] : ParentComboValues.item[ParentComboValues.child[index].tablecolumnname] || -1\n          }\n        };\n        comboValues = {\n          comboData: comboData,\n          ...comboValues,\n          selectedRecord\n        };\n      } else if (x.inputtype === 'combo' && x.readonly === true) {\n        selectedRecord = { ...selectedRecord,\n          [x.label]: {\n            label: ParentComboValues.item.jsondata ? ParentComboValues.item.jsondata[x.displaymember] : ParentComboValues.item[x.displaymember] || \"\",\n            value: ParentComboValues.item.jsondata ? ParentComboValues.item.jsondata[x.valuemember] : ParentComboValues.item[x.valuemember] || -1\n          }\n        };\n        comboValues = {\n          comboData: comboData,\n          ...comboValues,\n          selectedRecord\n        };\n      } else {\n        if (x.isMultiLingual) {\n          selectedRecord = { ...selectedRecord,\n            [x.label]: ParentComboValues.item.jsondata ? ParentComboValues.item.jsondata[x.displaymember][languagetypeCode] : ParentComboValues.item[x.displaymember][languagetypeCode] || \"\"\n          };\n        } else {\n          if (x.inputtype === \"date\") {\n            selectedRecord = { ...selectedRecord,\n              [x.label]: ParentComboValues.item.jsondata ? rearrangeDateFormatforKendoDataTool(userinfo, ParentComboValues.item.jsondata[x.displaymember]) : rearrangeDateFormatforKendoDataTool(userinfo, ParentComboValues.item[x.displaymember])\n            };\n\n            if (x.child) {\n              const Age = withoutCombocomponent.filter(x => x.name === 'Age');\n              x.child.map(k => {\n                if (k.label === Age[0].label) {\n                  const age = ageCalculate(selectedRecord[x.label]);\n                  selectedRecord[Age[0].label] = age;\n                }\n              });\n            }\n          } else {\n            selectedRecord = { ...selectedRecord,\n              [x.label]: ParentComboValues.item.jsondata ? ParentComboValues.item.jsondata[x.displaymember] : ParentComboValues.item[x.displaymember] || \"\"\n            };\n          }\n        }\n\n        comboValues = {\n          comboData: comboData,\n          ...comboValues,\n          selectedRecord\n        }; // comboValues[\"selectedRecord\"][x.label] = ParentComboValues[x.displaymember] ||\"\"\n      }\n    });\n  } else {\n    comboValues = {\n      \"comboData\": comboData,\n      \"selectedRecord\": selectedRecord\n    };\n  }\n\n  return comboValues;\n}\nexport function childComboLoad(x, comboData, selectedRecord, childColumnList, withoutCombocomponent, languagetypeCode, userinfo, ParentComboValues) {\n  if (selectedRecord[x.label] !== undefined) {\n    if (x.hasOwnProperty(\"child\")) {\n      x.child.map(y => {\n        const index = childColumnList[x.label].findIndex(z => z.label === y.label);\n\n        if (index !== -1) {\n          if (childColumnList[x.label][index].inputtype === 'combo' && childColumnList[x.label][index].readonly === true && y.isdifferentdisplaycolumn && y.isdifferentdisplaycolumn === true) {\n            selectedRecord = { ...selectedRecord,\n              [childColumnList[x.label][index].label]: {\n                label: ParentComboValues.item.jsondata ? ParentComboValues.item.jsondata[y.displaycolumnname] : ParentComboValues.item[y.displaycolumnname] || \"\",\n                value: ParentComboValues.item.jsondata ? ParentComboValues.item.jsondata[y.tablecolumnname] : ParentComboValues.item[y.tablecolumnname] || -1\n              }\n            };\n          } else if (childColumnList[x.label][index].inputtype === 'combo' && childColumnList[x.label][index].readonly === true) {\n            selectedRecord = { ...selectedRecord,\n              [childColumnList[x.label][index].label]: {\n                label: ParentComboValues.item.jsondata ? ParentComboValues.item.jsondata[childColumnList[x.label][index].displaymember] : ParentComboValues.item[childColumnList[x.label][index].displaymember] || \"\",\n                value: ParentComboValues.item.jsondata ? ParentComboValues.item.jsondata[childColumnList[x.label][index].valuemember] : ParentComboValues.item[childColumnList[x.label][index].valuemember] || -1\n              }\n            };\n          } else if (comboData[y.label] && comboData[y.label].length > 0) {\n            if (comboData[y.label][0].label === undefined) {\n              // ALPD-3833\n              const isMultilingual = childColumnList[x.label] && childColumnList[x.label][index] && childColumnList[x.label][index].isMultiLingual || undefined;\n              const optionChildList = constructjsonOptionList(comboData[y.label] || [], childColumnList[x.label][index].valuemember, childColumnList[x.label][index].displaymember, false, false, true, undefined, childColumnList[x.label][index].source, isMultilingual, languagetypeCode, y);\n              comboData[y.label] = optionChildList.get(\"OptionList\");\n\n              if (optionChildList.get(\"DefaultValue\") !== undefined) {\n                selectedRecord[y.label] = optionChildList.get(\"DefaultValue\");\n                const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label]);\n                selectedRecord = { ...selectedRecord,\n                  ...newRecord1.selectedRecord\n                };\n                comboData = { ...comboData,\n                  ...newRecord1.comboData\n                };\n              } else {\n                selectedRecord[y.label] = undefined;\n              }\n            } else {\n              //below code need to be veriifed for 'x' to be replced with 'y' or viceversa?\n              comboData[y.label] = comboData[y.label];\n              const optionChildList = constructjsonOptionDefault(comboData[y.label] || [], childColumnList[x.label][index].valuemember, childColumnList[x.label][index].displaymember, false, false, true, undefined, childColumnList[x.label][index].source, undefined, undefined, y);\n\n              if (optionChildList.get(\"DefaultValue\") !== undefined) {\n                selectedRecord[y.label] = optionChildList.get(\"DefaultValue\");\n                const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label]);\n                selectedRecord = { ...selectedRecord,\n                  ...newRecord1.selectedRecord\n                };\n                comboData = { ...comboData,\n                  ...newRecord1.comboData\n                };\n              } else {\n                selectedRecord[y.label] = undefined;\n              }\n            }\n          } else {\n            selectedRecord[y.label] = undefined;\n            comboData[y.label] = [];\n            const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label]);\n            selectedRecord = { ...selectedRecord,\n              ...newRecord1.selectedRecord\n            };\n            comboData = { ...comboData,\n              ...newRecord1.comboData\n            };\n          }\n        } else {\n          const readonlyfields = withoutCombocomponent.findIndex(k => k.label === y.label);\n\n          if (readonlyfields !== -1) {\n            if (withoutCombocomponent[readonlyfields][\"isMultiLingual\"]) {\n              selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ? selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]][languagetypeCode] : selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]][languagetypeCode];\n            } else {\n              if (withoutCombocomponent[readonlyfields][\"inputtype\"] === \"date\") {\n                selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ? rearrangeDateFormatforKendoDataTool(userinfo, selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]]) : rearrangeDateFormatforKendoDataTool(userinfo, selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]]);\n\n                if (withoutCombocomponent[readonlyfields].child) {\n                  const Age = withoutCombocomponent.filter(x => x.name === 'Age');\n                  withoutCombocomponent[readonlyfields].child.map(k => {\n                    if (k.label === Age[0].label) {\n                      const age = ageCalculate(selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]]);\n                      selectedRecord[Age[0].label] = age;\n                    }\n                  });\n                }\n              } else {\n                selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ? selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]] : selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]];\n              }\n            }\n          }\n        }\n      });\n    }\n  } else if (x.name === 'manualsampleid' && selectedRecord['Order Type'].value === 1) {\n    if (x.hasOwnProperty(\"child\")) {\n      x.child.map(y => {\n        const index = childColumnList[x.label].findIndex(z => z.label === y.label);\n\n        if (index !== -1) {\n          if (childColumnList[x.label][index].inputtype === 'combo' && childColumnList[x.label][index].readonly === true) {\n            selectedRecord = { ...selectedRecord,\n              [childColumnList[x.label][index].label]: {\n                label: ParentComboValues.item.jsondata ? ParentComboValues.item.jsondata[childColumnList[x.label][index].displaymember] : ParentComboValues.item[childColumnList[x.label][index].displaymember] || \"\",\n                value: ParentComboValues.item.jsondata ? ParentComboValues.item.jsondata[childColumnList[x.label][index].valuemember] : ParentComboValues.item[childColumnList[x.label][index].valuemember] || -1\n              }\n            };\n          } else if (comboData[y.label] && comboData[y.label].length > 0) {\n            if (comboData[y.label][0].label === undefined) {\n              const optionChildList = constructjsonOptionList(comboData[y.label] || [], childColumnList[x.label][index].valuemember, childColumnList[x.label][index].displaymember, false, false, true, undefined, childColumnList[x.label][index].source, y.isMultiLingual, languagetypeCode, y);\n              comboData[y.label] = optionChildList.get(\"OptionList\");\n\n              if (optionChildList.get(\"DefaultValue\") !== undefined) {\n                selectedRecord[y.label] = optionChildList.get(\"DefaultValue\");\n                const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label]);\n                selectedRecord = { ...selectedRecord,\n                  ...newRecord1.selectedRecord\n                };\n                comboData = { ...comboData,\n                  ...newRecord1.comboData\n                };\n              } else {\n                selectedRecord[y.label] = undefined;\n                const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label]);\n                selectedRecord = { ...selectedRecord,\n                  ...newRecord1.selectedRecord\n                };\n                comboData = { ...comboData,\n                  ...newRecord1.comboData\n                };\n              }\n            } else {\n              //below code need to be veriifed for 'x' to be replced with 'y' or viceversa?\n              comboData[y.label] = comboData[y.label];\n              const optionChildList = constructjsonOptionDefault(comboData[y.label] || [], childColumnList[x.label][index].valuemember, childColumnList[x.label][index].displaymember, false, false, true, undefined, childColumnList[x.label][index].source, undefined, undefined, y);\n\n              if (optionChildList.get(\"DefaultValue\") !== undefined) {\n                selectedRecord[y.label] = optionChildList.get(\"DefaultValue\");\n                const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label]);\n                selectedRecord = { ...selectedRecord,\n                  ...newRecord1.selectedRecord\n                };\n                comboData = { ...comboData,\n                  ...newRecord1.comboData\n                };\n              } else {\n                selectedRecord[y.label] = undefined;\n                const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label]);\n                selectedRecord = { ...selectedRecord,\n                  ...newRecord1.selectedRecord\n                };\n                comboData = { ...comboData,\n                  ...newRecord1.comboData\n                };\n              }\n            }\n          } else {\n            selectedRecord[y.label] = undefined;\n            comboData[y.label] = [];\n            const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label]);\n            selectedRecord = { ...selectedRecord,\n              ...newRecord1.selectedRecord\n            };\n            comboData = { ...comboData,\n              ...newRecord1.comboData\n            };\n          }\n        } else {\n          const readonlyfields = withoutCombocomponent.findIndex(k => k.label === y.label);\n\n          if (readonlyfields !== -1) {\n            if (withoutCombocomponent[readonlyfields][\"isMultiLingual\"]) {\n              selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ? selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]][languagetypeCode] : selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]][languagetypeCode];\n            } else {\n              if (withoutCombocomponent[readonlyfields][\"inputtype\"] === \"date\") {\n                selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ? rearrangeDateFormatforKendoDataTool(userinfo, selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]]) : rearrangeDateFormatforKendoDataTool(userinfo, selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]]);\n\n                if (withoutCombocomponent[readonlyfields].child) {\n                  const Age = withoutCombocomponent.filter(x => x.name === 'Age');\n                  withoutCombocomponent[readonlyfields].child.map(k => {\n                    if (k.label === Age[0].label) {\n                      const age = ageCalculate(selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]]);\n                      selectedRecord[Age[0].label] = age;\n                    }\n                  });\n                }\n              } else {\n                selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ? selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]] : selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]];\n              }\n            }\n          }\n        }\n      });\n    }\n  } else {\n    if (x.hasOwnProperty(\"child\")) {\n      x.child.map(y => {\n        selectedRecord[y.label] = undefined;\n        const index = childColumnList[x.label] && childColumnList[x.label].findIndex(z => z.label === y.label);\n\n        if (index !== undefined && index !== -1) {\n          comboData[y.label] = undefined;\n          const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent);\n          selectedRecord = { ...selectedRecord,\n            ...newRecord1.selectedRecord\n          };\n          comboData = { ...comboData,\n            ...newRecord1.comboData\n          };\n        } else {\n          const index = withoutCombocomponent.findIndex(b => b.label === y.label);\n\n          if (index !== -1) {\n            if (withoutCombocomponent[index].hasOwnProperty(\"child\")) {\n              withoutCombocomponent[index].child.map(k => {\n                selectedRecord[k.label] = undefined;\n              });\n            }\n          }\n        }\n      });\n    }\n  }\n\n  const newRecord = {\n    \"comboData\": comboData,\n    \"selectedRecord\": selectedRecord\n  };\n  return newRecord;\n}\nexport function childComboLoadForEdit(x, comboData, selectedRecord, childColumnList, withoutCombocomponent, languagetypeCode) {\n  if (selectedRecord[x.label] !== undefined) {\n    if (x.hasOwnProperty(\"child\")) {\n      x.child.map(y => {\n        const index = childColumnList[x.label].findIndex(z => z.label === y.label);\n\n        if (index !== -1) {\n          // const childOptionData = comboData[y.label].filter(filterData =>\n          //     JSON.parse(filterData[y.source].value)[x.valuemember] === selectedRecord[x.label].item[x.valuemember])\n          if (comboData[y.label] && comboData[y.label].length > 0) {\n            if (comboData[y.label][0].label === undefined) {\n              const optionChildList = constructjsonOptionList(comboData[y.label] || [], childColumnList[x.label][index].valuemember, childColumnList[x.label][index].displaymember, false, false, true, undefined, childColumnList[x.label][index].source, y.isMultiLingual, languagetypeCode, y);\n              comboData[y.label] = optionChildList.get(\"OptionList\"); // if (optionChildList.get(\"DefaultValue\") !== undefined) {\n              //   selectedRecord[y.label] = optionChildList.get(\"DefaultValue\")\n\n              childComboLoadForEdit(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent); // } else {\n              //   selectedRecord[y.label] = undefined\n              // }\n            } else {\n              comboData[y.label] = comboData[y.label];\n              const optionChildList = constructjsonOptionList(comboData[y.label] || [], childColumnList[x.label][index].valuemember, childColumnList[x.label][index].displaymember, false, false, true, undefined, childColumnList[x.label][index].source, undefined, undefined, y); // if (optionChildList.get(\"DefaultValue\") !== undefined) {\n              //   selectedRecord[y.label] = optionChildList.get(\"DefaultValue\")\n\n              childComboLoadForEdit(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent); // } else {\n              //   selectedRecord[y.label] = undefined\n              // }\n            }\n          } else {\n            comboData[y.label] = [];\n          }\n        } //else {\n        //   const readonlyfields = withoutCombocomponent.findIndex(k => k.label === y.label);\n        //   if (readonlyfields !== -1) {\n        //     if(withoutCombocomponent[readonlyfields][\"isMultiLingual\"]){\n        //     selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ?\n        //       selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]][languagetypeCode] : selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]][languagetypeCode] \n        //     }else{\n        //       selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ?\n        //       selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]] : selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]]\n        //     }\n        //   }\n        // }\n\n      });\n    }\n  } else {\n    if (x.hasOwnProperty(\"child\")) {\n      x.child.map(y => {\n        selectedRecord[y.label] = undefined;\n        comboData[y.label] = undefined;\n      });\n    }\n  }\n\n  const newRecord = {\n    \"comboData\": comboData,\n    \"selectedRecord\": selectedRecord\n  };\n  return newRecord;\n}\nexport function comboChild(data, columnList, childColumnList, slice) {\n  let retunObj = {}; // if (data.findIndex(x => x.label === columnList.label) !== -1) {\n\n  if (!childColumnList.hasOwnProperty(columnList.label)) {\n    if (childColumnList[columnList.label] === undefined) {\n      if (columnList.hasOwnProperty(\"child\")) {\n        let childList = [];\n        columnList.child.map(childData => {\n          const index = data.findIndex(x => x.label === childData.label);\n\n          if (index !== -1) {\n            childList.push(data[index]);\n\n            if (slice) {\n              data = [...data.slice(0, index), ...data.slice(index + 1)];\n            }\n          }\n        });\n        childColumnList[columnList.label] = childList;\n\n        if (childList.length > 0) {\n          childList.map(y => {\n            if (y.hasOwnProperty(\"child\")) {\n              const val = comboChild(data, y, childColumnList, slice);\n              retunObj[\"data\"] = val.data;\n              retunObj[\"childColumnList\"] = val.childColumnList;\n            } else {\n              retunObj[\"data\"] = data;\n              retunObj[\"childColumnList\"] = childColumnList;\n            }\n          });\n        } else {\n          retunObj[\"data\"] = data;\n          retunObj[\"childColumnList\"] = childColumnList;\n        }\n      } else {\n        retunObj[\"data\"] = data;\n        retunObj[\"childColumnList\"] = childColumnList;\n      }\n    } else {\n      retunObj[\"data\"] = data;\n      retunObj[\"childColumnList\"] = childColumnList;\n    }\n  } else {\n    retunObj[\"data\"] = data;\n    retunObj[\"childColumnList\"] = childColumnList;\n  }\n\n  return retunObj;\n}\nexport function ageCalculate(date, checkValue) {\n  const now = new Date();\n  const today = new Date(now.getYear(), now.getMonth(), now.getDate());\n  let yearNow = now.getYear();\n  let monthNow = now.getMonth();\n  let dateNow = now.getDate();\n  let dob = new Date(date);\n  let yearDob = dob.getYear();\n  let monthDob = dob.getMonth();\n  let dateDob = dob.getDate();\n  let age = {};\n  let ageString = \"\";\n  let yearString = \"\";\n  let monthString = \"\";\n  let dayString = \"\";\n  let yearAge = yearNow - yearDob;\n  let monthAge = 0;\n  let dateAge = 0;\n  if (monthNow >= monthDob) monthAge = monthNow - monthDob;else {\n    yearAge--;\n    monthAge = 12 + monthNow - monthDob;\n  }\n  if (dateNow >= dateDob) dateAge = dateNow - dateDob;else {\n    monthAge--;\n    dateAge = 31 + dateNow - dateDob;\n\n    if (monthAge < 0) {\n      monthAge = 11;\n      yearAge--;\n    }\n  }\n  age = {\n    years: yearAge,\n    months: monthAge,\n    days: dateAge\n  };\n  if (age.years > 1) yearString = intl.formatMessage({\n    id: \"IDS_YEARS\"\n  });else yearString = intl.formatMessage({\n    id: \"IDS_YEAR\"\n  });\n  if (age.months > 1) monthString = intl.formatMessage({\n    id: \"IDS_MONTHS\"\n  });else monthString = intl.formatMessage({\n    id: \"IDS_MONTH\"\n  });\n  if (age.days > 1) dayString = intl.formatMessage({\n    id: \"IDS_DAYS\"\n  });else dayString = intl.formatMessage({\n    id: \"IDS_DAY\"\n  });\n\n  if (checkValue === true) {\n    if (age.years > 0 && age.months > 0 && age.days > 0) ageString = age.years;else if (age.years === 0 && age.months === 0 && age.days > 0) ageString = \"1\";else if (age.years > 0 && age.months === 0 && age.days === 0) ageString = age.years;else if (age.years > 0 && age.months > 0 && age.days === 0) ageString = age.years;else if (age.years === 0 && age.months > 0 && age.days > 0) ageString = \"1\";else if (age.years > 0 && age.months === 0 && age.days > 0) ageString = age.years;else if (age.years === 0 && age.months > 0 && age.days === 0) ageString = age.months;else ageString = \"1\"; // console.log(ageString);\n  } else {\n    if (age.years > 0 && age.months > 0 && age.days > 0) ageString = age.years + yearString + \", \" + age.months + monthString + \" and \" + age.days + dayString + \" \";else if (age.years === 0 && age.months === 0 && age.days > 0) ageString = \" \" + age.days + dayString + \" \";else if (age.years > 0 && age.months === 0 && age.days === 0) ageString = age.years + yearString + \"  \";else if (age.years > 0 && age.months > 0 && age.days === 0) ageString = age.years + yearString + \" and \" + age.months + monthString + \" \";else if (age.years === 0 && age.months > 0 && age.days > 0) ageString = age.months + monthString + \" and \" + age.days + dayString + \"\";else if (age.years > 0 && age.months === 0 && age.days > 0) ageString = age.years + yearString + \" and \" + age.days + dayString + \" \";else if (age.years === 0 && age.months > 0 && age.days === 0) ageString = age.months + monthString + \" \";else ageString = \"0 \" + intl.formatMessage({\n      id: \"IDS_DAYS\"\n    }); // console.log(ageString);\n  }\n\n  return ageString;\n} // export function ageCalculateOnlyForYear(date,checkValue) {\n//   const now = new Date();\n//   const today = new Date(now.getYear(), now.getMonth(), now.getDate());\n//   let yearNow = now.getYear();\n//   let monthNow = now.getMonth();\n//   let dateNow = now.getDate();\n//   let dob = new Date(date);\n//   let yearDob = dob.getYear();\n//   let monthDob = dob.getMonth();\n//   let dateDob = dob.getDate();\n//   let age = {};\n//   let ageString = \"\";\n//   let yearAge = yearNow - yearDob;\n//   let monthAge = 0;\n//   let dateAge = 0;\n//   if (monthNow >= monthDob)\n//     monthAge = monthNow - monthDob;\n//   else {\n//     yearAge--;\n//     monthAge = 12 + monthNow - monthDob;\n//   }\n//   if (dateNow >= dateDob)\n//     dateAge = dateNow - dateDob;\n//   else {\n//     monthAge--;\n//     dateAge = 31 + dateNow - dateDob;\n//     if (monthAge < 0) {\n//       monthAge = 11;\n//       yearAge--;\n//     }\n//   }\n//   age = {\n//     years: yearAge,\n//     months: monthAge,\n//     days: dateAge\n//   };\n//   if ((age.years > 0) && (age.months > 0) && (age.days > 0))\n//     ageString = age.years;\n//   else if ((age.years === 0) && (age.months === 0) && (age.days > 0))\n//     ageString = \"1\";\n//   else if ((age.years > 0) && (age.months === 0) && (age.days === 0))\n//     ageString = age.years ;\n//   else if ((age.years > 0) && (age.months > 0) && (age.days === 0))\n//     ageString = age.years;\n//   else if ((age.years === 0) && (age.months > 0) && (age.days > 0))\n//     ageString = \"1\";\n//   else if ((age.years > 0) && (age.months === 0) && (age.days > 0))\n//     ageString = age.years;\n//   else if ((age.years === 0) && (age.months > 0) && (age.days === 0))\n//     ageString = age.months;\n//   else ageString = \"1\";\n//   return ageString;\n// }\n\nexport function rearrangeDateFormatDateOnly(userInfo, dateValue) {\n  // let splitChar = userInfo.ssitedatetime && userInfo.ssitedatetime.indexOf(\"/\") !== -1 ? \"/\" : \"-\";\n  const specialChars = `\\`_-\\[\\]'\"\\\\|,.\\/`;\n  let splitChar = '';\n  userInfo.ssitedatetime && userInfo.ssitedatetime.split('').some(word => {\n    if (splitChar === undefined || splitChar === '') {\n      if (specialChars.includes(word)) {\n        splitChar = word;\n      }\n    }\n  });\n\n  if (typeof dateValue === \"string\") {\n    //(splitChar === \"/\" || splitChar === \"-\") &&\n    const firstField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[0];\n    const timeSplitChar = dateValue.indexOf(\"T\") !== -1 ? \"T\" : \" \";\n    const datetime = dateValue.split(timeSplitChar);\n    return datetime[0];\n  } else {\n    return dateValue;\n  }\n}\nexport function getSameRecordFromTwoDifferentArrays(firstArray, secondArray, PrimaryKey) {\n  let filterArray = [];\n\n  for (var i = 0; i < firstArray.length; i++) {\n    for (var j = 0; j < secondArray.length; j++) {\n      if (firstArray[i][PrimaryKey] == secondArray[j][PrimaryKey]) {\n        filterArray.push(secondArray[j]);\n      }\n    }\n  }\n\n  return filterArray;\n}\nexport function childComboClear(inputParam) {\n  if (inputParam.control.child && inputParam.control.child.length > 0) {\n    inputParam.control.child.map(item => {\n      inputParam.selectedRecord[item.label] = null;\n      delete inputParam.comboData[item.label];\n      const comboComponents = inputParam.comboComponents.filter(x => x.label === item.label);\n\n      if (comboComponents.length > 0) {\n        if (comboComponents[0].child && comboComponents[0].child.length > 0) {\n          const inputChilParam = {\n            control: comboComponents[0],\n            comboComponents: inputParam.comboComponents,\n            withoutCombocomponent: inputParam.withoutCombocomponent,\n            selectedRecord: inputParam.selectedRecord,\n            comboData: inputParam.comboData\n          };\n          const {\n            selectedRecord,\n            comboData\n          } = childComboClear(inputChilParam);\n          inputParam['selectedRecord'] = selectedRecord;\n          inputParam['comboData'] = comboData;\n        }\n      }\n    });\n  } // else if(inputParam.control.dependedChildValues && inputParam.control.dependedChildValues.length > 0){\n  //     inputParam.control.dependedChildValues.map(item => {\n  //       inputParam.selectedRecord[item.label] = null;\n  //       delete inputParam.comboData[item.label]\n  //       const comboComponents = inputParam.comboComponents.filter(x => x.label === item.label)\n  //       if (comboComponents.length > 0) {\n  //         if (comboComponents[0].dependedChildValues && comboComponents[0].dependedChildValues.length > 0) {\n  //           const inputChilParam = {\n  //             control: comboComponents[0], comboComponents: inputParam.comboComponents,\n  //             withoutCombocomponent: inputParam.withoutCombocomponent,\n  //             selectedRecord: inputParam.selectedRecord, comboData: inputParam.comboData\n  //           }\n  //           const { selectedRecord, comboData } = childComboClear(inputChilParam)\n  //           inputParam['selectedRecord'] = selectedRecord\n  //           inputParam['comboData'] = comboData\n  //         }\n  //       }\n  //     })\n  //   }\n\n\n  return {\n    selectedRecord: inputParam.selectedRecord,\n    comboData: inputParam.comboData\n  };\n}\nexport function childComboClearSubSample(inputParam) {\n  if (inputParam.control.child && inputParam.control.child.length > 0) {\n    inputParam.control.child.map(item => {\n      inputParam.selectedRecord[item.label] = null;\n      const optionList = constructjsonOptionDefault(inputParam.comboData[inputParam.control.label] || [], inputParam.control.valuemember, inputParam.control.displaymember, false, false, true, undefined, inputParam.control.source, inputParam.control.isMultiLingual);\n\n      if (optionList.get(\"DefaultValue\") === undefined) {\n        delete inputParam.comboData[item.label];\n      }\n\n      const comboComponents = inputParam.comboComponents.filter(x => x.label === item.label);\n\n      if (comboComponents.length > 0) {\n        if (comboComponents[0].child && comboComponents[0].child.length > 0) {\n          const inputChilParam = {\n            control: comboComponents[0],\n            comboComponents: inputParam.comboComponents,\n            withoutCombocomponent: inputParam.withoutCombocomponent,\n            selectedRecord: inputParam.selectedRecord,\n            comboData: inputParam.comboData,\n            clearComboData: true\n          };\n          const {\n            selectedRecord,\n            comboData\n          } = childComboClearSubSample(inputChilParam);\n          inputParam['selectedRecord'] = selectedRecord;\n          inputParam['comboData'] = comboData;\n        }\n      }\n    });\n  }\n\n  return {\n    selectedRecord: inputParam.selectedRecord,\n    comboData: inputParam.comboData\n  };\n}\nexport function CF_encryptionData(Data) {\n  const salt = CryptoJS.lib.WordArray.random(128 / 8);\n  const key = CryptoJS.PBKDF2(\"AGARAM_SDMS_SCRT\", salt, {\n    keySize: 128 / 32,\n    iterations: 100\n  });\n  const iv = CryptoJS.lib.WordArray.random(128 / 8);\n  const encrypted = CryptoJS.AES.encrypt(JSON.stringify(Data), key, {\n    iv: iv,\n    padding: CryptoJS.pad.Pkcs7,\n    mode: CryptoJS.mode.CBC\n  });\n  const transitmessage = salt.toString() + iv.toString() + encrypted.toString();\n  const ct = {\n    EncryptData: transitmessage\n  };\n  return ct;\n}\nexport function removeIndex(data, removeIndex) {\n  const data1 = [...data.splice(0, removeIndex), ...data.splice(removeIndex + 1)];\n  return data1;\n}\nexport function compareArrays(a, b) {\n  let boolean = false;\n\n  if (a.length === b.length) {\n    boolean = a.every(x => b.some(y => y.toString() === x.toString()));\n  }\n\n  return boolean;\n}\n;\nexport function Lims_JSON_stringify(s, emit_unicode) {\n  var json = s;\n  return emit_unicode ? json : json.replace(/[\\u007f-\\uffff]/g, function (c) {\n    return '\\\\u' + ('0000' + c.charCodeAt(0).toString(16)).slice(-4);\n  });\n}\nexport function copyText(text) {\n  if (navigator && navigator.clipboard) {\n    navigator.clipboard.writeText(text);\n  } else {\n    var textField = document.createElement('textarea');\n    textField.innerText = text;\n    document.body.appendChild(textField);\n    textField.select();\n    document.execCommand('copy');\n    textField.remove();\n  }\n}\nexport function childSpecLoadCheck(templateManRecord, childcolumnlist, productCategory, map, parentLabel, selectedRecord) {\n  let val = {\n    productCategory,\n    map\n  };\n\n  if (templateManRecord.child && templateManRecord.child.length > 0) {\n    templateManRecord.child.map(ch => {\n      const indexTemplateMandatory1 = childcolumnlist[parentLabel].findIndex(z => z.label === ch.label && z.templatemandatory && z.name === 'Product Category');\n\n      if (indexTemplateMandatory1 !== -1) {\n        const data = childcolumnlist[parentLabel][indexTemplateMandatory1];\n\n        if (data.name === 'Product Category') {\n          val = {\n            productCategory: selectedRecord[data.label] === undefined ? false : true,\n            map: { ...map,\n              nproductcatcode: selectedRecord[data.label] ? selectedRecord[data.label].value : -1,\n              nproductcode: -1\n            }\n          };\n        }\n      } else {\n        if (childcolumnlist[ch.label]) {\n          const vals = childcolumnlist[templateManRecord.label].filter(x => x.label === ch.label);\n\n          if (vals.length > 0) {\n            val = childSpecLoadCheck(vals[0], childcolumnlist, val.productCategory, val.map, ch.label, selectedRecord);\n          }\n        }\n      }\n    });\n  }\n\n  return { ...val\n  };\n} //remove space for react awesome query builder\n\nexport function removeSpaceFromFirst(str, query1) {\n  let query = query1;\n\n  if (str !== undefined) {\n    const index = str.indexOf(\"'\"); // if(index !== undefined){\n\n    if (index !== -1) {\n      const st = str.substring(0, index + 1);\n      const st1 = str.substring(index + 1);\n      const index1 = st1.indexOf(\"'\");\n\n      if (st1.substring(0, 1) === \" \") {\n        query = query + st + st1.substring(1, index1 + 1);\n        query = removeSpaceFromFirst(st1.substring(index1 + 1), query);\n      } else if (st1.substring(0, 1) === \"%\") {\n        if (st1.substring(1, 2) === \" \") {\n          query = query + st + st1.substring(0, 1) + st1.substring(2, index1 + 1);\n          query = removeSpaceFromFirst(st1.substring(index1 + 1), query);\n        } else {\n          query = query + st + st1.substring(0, index1 + 1);\n          query = removeSpaceFromFirst(st1.substring(index1 + 1), query);\n        }\n      } else {\n        query = query + st + st1.substring(0, index1 + 1);\n        query = removeSpaceFromFirst(st1.substring(index1 + 1), query);\n      }\n    } else {\n      query = query + str;\n    }\n  } else {\n    query = str;\n  }\n\n  return query;\n} //Added For Mandatory Validation Start\n\nexport function onSaveMandatoryValidation(selectedRecord, mandatoryFields, onSaveClick, loadEsign) {\n  const failedControls = [];\n  const startLabel = [];\n  let label = \"IDS_ENTER\";\n  mandatoryFields.forEach(item => {\n    if (selectedRecord[item.dataField] === undefined || selectedRecord[item.dataField] === null) {\n      const alertMessage = (item.alertPreFix ? item.alertPreFix + \" \" : '') + intl.formatMessage({\n        id: item.idsName\n      }) + (item.alertSuffix ? \" \" + item.alertSuffix : '');\n      failedControls.push(alertMessage);\n      startLabel.push(item.mandatoryLabel);\n    } else {\n      if (item.validateFunction) {\n        const validateData = item.validateFunction;\n\n        if (selectedRecord[item.dataField].trim().length === 0) {\n          const alertMessage = intl.formatMessage({\n            id: item.idsName\n          });\n          failedControls.push(alertMessage);\n          startLabel.push(item.mandatoryLabel);\n        } else if (validateData(selectedRecord[item.dataField]) === false) {\n          const alertMessage = (item.alertPreFix ? item.alertPreFix + \" \" : '') + intl.formatMessage({\n            id: item.idsName\n          }) + (item.alertSuffix ? \" \" + item.alertSuffix : '');\n          failedControls.push(alertMessage);\n          startLabel.push(item.mandatoryLabel);\n        }\n      } else {\n        if (typeof selectedRecord[item.dataField] === \"object\") {\n          if (item.ismultilingual == \"true\") {\n            let dataArray = 0;\n            Object.values(selectedRecord[item.dataField]).map(lang => {\n              if (lang.length === 0) {\n                dataArray++;\n              }\n            });\n\n            if (dataArray > 0) {\n              const alertMessage = (item.alertPreFix ? item.alertPreFix + \" \" : '') + intl.formatMessage({\n                id: item.idsName\n              }) + (item.alertSuffix ? \" \" + item.alertSuffix : '');\n              failedControls.push(alertMessage);\n              startLabel.push(item.mandatoryLabel); //\"I\n            }\n          } else {\n            if (selectedRecord[item.dataField] && selectedRecord[item.dataField].length === 0) {\n              const alertMessage = (item.alertPreFix ? item.alertPreFix + \" \" : '') + intl.formatMessage({\n                id: item.idsName\n              }) + (item.alertSuffix ? \" \" + item.alertSuffix : '');\n              failedControls.push(alertMessage);\n              startLabel.push(item.mandatoryLabel);\n            }\n          }\n        } else if (typeof selectedRecord[item.dataField] === \"string\") {\n          if (selectedRecord[item.dataField].trim().length === 0) {\n            const alertMessage = (item.alertPreFix ? item.alertPreFix + \" \" : '') + intl.formatMessage({\n              id: item.idsName\n            }) + (item.alertSuffix ? \" \" + item.alertSuffix : '');\n            failedControls.push(alertMessage);\n            startLabel.push(item.mandatoryLabel);\n          }\n        } else {\n          if (selectedRecord[item.dataField].length === 0) {\n            const alertMessage = (item.alertPreFix ? item.alertPreFix + \" \" : '') + intl.formatMessage({\n              id: item.idsName\n            }) + (item.alertSuffix ? \" \" + item.alertSuffix : '');\n            failedControls.push(alertMessage);\n            startLabel.push(item.mandatoryLabel);\n          }\n        }\n      }\n    }\n  });\n\n  if (failedControls.length === 0) {\n    //ALPD-3511 For checking esign agree\n    if (loadEsign && loadEsign === true && selectedRecord.hasOwnProperty(\"agree\") && selectedRecord[\"agree\"] === transactionStatus.NO) {\n      toast.info(intl.formatMessage({\n        id: \"IDS_CHECKAGREE\"\n      }));\n    } else {\n      onSaveClick();\n    }\n  } else {\n    label = startLabel[0] === undefined ? label : startLabel[0];\n    toast.info(`${intl.formatMessage({\n      id: label\n    })} ${failedControls[0]}`);\n  }\n} //Added for Mandatory Validation End\n\nexport function conditionBasedInput(control, value, name, defaultValue) {\n  let inputvalues;\n\n  if (control) {\n    switch (control && control.label === name) {\n      case control['isnumeric']:\n        {\n          //if (!control.ncustomization) {\n          if ((control.precision && control.precision.length) > 0) {\n            let count = 0;\n            let splitDotvalue = value.split(\"\");\n            splitDotvalue.map(x => {\n              if (x === '.') {\n                count++;\n              }\n            });\n            let precision = parseInt(control.precision);\n            const regexPattern = new RegExp(`^-?\\\\d*(\\\\.\\\\d{0,${precision}})?$`);\n\n            if (regexPattern.test(value)) {\n              if (parseFloat(control.max) < parseFloat(value)) {\n                inputvalues = value.includes('.') ? control.max.includes('.') ? control.max : parseInt(control.max).toFixed(parseInt(control.precision)) : parseInt(control.max).toFixed(parseInt(control.precision));\n              } else if (parseFloat(control.min) > parseFloat(value)) {\n                inputvalues = control.min.includes('.') ? control.min : parseInt(control.min).toFixed(parseInt(control.precision)); //:parseInt(control.min).toFixed(parseInt(control.precision));//defaultValue//control.min+'.' + valueSplit['1'];\n              } else {\n                if (value !== '') {\n                  let valueNumeric = parseInt(value.replace(/[^0-9.]/g, ''));\n                  inputvalues = count === 1 ? value : valueNumeric.toFixed(parseInt(control.precision));\n                }\n              }\n            } else {\n              inputvalues = defaultValue;\n            } //     let splitDotvalue=[];\n            //     let valueSplit=[];\n            //     let count=0;\n            //     valueSplit=value.split(\".\");\n            //     splitDotvalue=value.split(\"\");\n            //     splitDotvalue.map(x=>{\n            //       if(x==='.'){\n            //         count++;\n            //       }\n            //     })\n            //  //   let str=parseInt(control.sfieldlength)-parseInt(control.precision)\n            //     if (parseInt(control.max) < parseInt(value)) {\n            //       inputvalues =count === 1?control.max: control.max+'.' + valueSplit['1'];\n            //     } else if (parseInt(control.min) > parseInt(value)) {\n            //       inputvalues = defaultValue//control.min+'.' + valueSplit['1'];\n            //     }else{\n            //     //if(parseInt(str) <parseInt(valueSplit['0'] && valueSplit['0'].length)){\n            //      // inputvalues =   (valueSplit['0'].slice(0, -1) + '' )+'.' + valueSplit['1'];\n            //     //}else\n            //      if(parseInt(control.precision)<parseInt(valueSplit['1'] && valueSplit['1'].length)){\n            //       inputvalues = valueSplit['0']+'.'+ (valueSplit['1'].slice(0, -1) + '' );\n            //     }else{\n            //     let ValueString=value.replace(/[^0-9.]/g, '');\n            //    let valueNumeric=parseInt(value.replace(/[^0-9.]/g, ''));\n            //    // inputvalues =count > 1 ?  value.slice(0, -1) + '' :count === 1 ? \n            //     inputvalues =count > 1 ?  defaultValue : count === 1 ? \n            //     ValueString : value.match(/^[0-9]+$/) == null ? \"\": valueNumeric.toFixed(parseInt(control.precision));\n            //   }\n            // }\n\n          } else {\n            if (parseInt(control.max) < parseInt(value)) {\n              inputvalues = control.max;\n            } else if (parseInt(control.min) > parseInt(value)) {\n              inputvalues = control.min;\n            } else {\n              inputvalues = value.replace(/[^0-9]/g, '');\n            }\n          } // } else {\n          // inputvalues = value.replace(/[^0-9]/g, '');\n          ///  }\n\n\n          break;\n        }\n\n      case control['isalphabetsmall']:\n        {\n          inputvalues = value.replace(/[^a-z]/g, '');\n          break;\n        }\n\n      case control['isalphabetcaptial']:\n        {\n          inputvalues = value.replace(/[^A-Z]/g, '');\n          break;\n        }\n\n      case control['isalphabetspl']:\n        {\n          if (control.ncustomization) {\n            let notAllowChar = false;\n\n            if (control.nsplcharnotallow) {\n              const splChar = control.nsplcharnotallow.split(/(?!$)/u);\n              const valueList = value.split(/(?!$)/u);\n              splChar.map(item => {\n                valueList.map(item1 => {\n                  if (item === item1) {\n                    notAllowChar = true;\n                  }\n                });\n              });\n            }\n\n            if (parseInt(control.nmaxsmallletters) < value.replace(/[^a-z]/g, '').length || parseInt(control.nmaxcapticalletters) < value.replace(/[^A-Z]/g, '').length || parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length || parseInt(control.nmaxletters) < value.replace(/[^A-Z]/g, '').length) {\n              inputvalues = defaultValue;\n            } else {\n              inputvalues = control.naviodsplchar ? notAllowChar ? defaultValue : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '') : control.ncasesensitive ? value.replace(/[^A-Z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '') : control.ncaptialletters ? value.replace(/[^A-Z.!#$@%&'*+\",./=?^_`{|}~-]/g, '') : control.nsmallletters ? value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/g, '') : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\n            } // if (control.ncasesensitive) {\n            //   if (parseInt(control.nmaxsmallletters) < value.replace(/[^a-z]/g, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else if (parseInt(control.nmaxcapticalletters) < value.replace(/[^A-Z]/g, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   }\n            //   else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else {\n            //     inputvalues = control.naviodsplchar ? notAllowChar ? value.slice(0, -1) + '' : value.replace(/[^A-Z.!#$@%&'*+\",./=?^_`{|}~-]/g, '') : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\n            //   }\n            // } else if (control.ncaptialletters) {\n            //   if (parseInt(control.nmaxletters) < value.replace(/[^A-Z]/g, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   }\n            //   else {\n            //     inputvalues = control.naviodsplchar ? notAllowChar ? value.slice(0, -1) + '' : value.replace(/[^A-Z.!#$@%&'*+\",./=?^_`{|}~-]/g, '') : value.replace(/[^A-Z.!#$@%&'*+\",./=?^_`{|}~-]/g, '');\n            //   }\n            // } else if (control.nsmallletters) {\n            //   if (parseInt(control.nmaxletters) < value.replace(/[^a-z]/g, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else {\n            //     inputvalues = control.naviodsplchar ? notAllowChar ? value.slice(0, -1) + '' : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/g, '') : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/g, '');\n            //   }\n            // } else {\n            //   if (parseInt(control.nmaxletters) < value.replace(/[^a-zA-Z]/gi, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else {\n            //     inputvalues = control.naviodsplchar ? notAllowChar ? value.slice(0, -1) + '' : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '') : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\n            //   }\n            // }\n\n          } else {\n            inputvalues = value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\n          }\n\n          break;\n        }\n\n      case control['isnumericspl']:\n        {\n          if (control.ncustomization) {\n            let notAllowChar = false;\n\n            if (control.nsplcharnotallow) {\n              const splChar = control.nsplcharnotallow.split(/(?!$)/u);\n              const valueList = value.split(/(?!$)/u);\n              splChar.map(item => {\n                valueList.map(item1 => {\n                  if (item === item1) {\n                    notAllowChar = true;\n                  }\n                });\n              }); //splChar.map(item => { if (item === value.charAt(value.length - 1)) { notAllowChar = true } })\n            }\n\n            if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length || parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\n              inputvalues = defaultValue; //inputvalues = value.slice(0, -1) + '';\n            } //else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\n            // inputvalues = value.slice(0, -1) + '';\n            // } \n            else {\n              inputvalues = control.naviodsplchar ? notAllowChar ? defaultValue : value.replace(/[^0-9.!#$@%&'*+\",./=?^_`{|}~-]/g, '') : value.replace(/[^0-9.!#$@%&'*+\",./=?^_`{|}~-]/g, '');\n            }\n          } else {\n            inputvalues = value.replace(/[^0-9.!#$@%&'*+\",./=?^_`{|}~-]/g, '');\n          }\n\n          break;\n        }\n\n      case control['isalphanumeric']:\n        {\n          if (control.ncustomization) {\n            if (parseInt(control.nmaxsmallletters) < value.replace(/[^a-z]/g, '').length || parseInt(control.nmaxcapticalletters) < value.replace(/[^A-Z]/g, '').length || parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length || parseInt(control.nmaxletters) < value.replace(/[^A-Z]/g, '').length) {\n              inputvalues = defaultValue;\n            } else {\n              inputvalues = control.ncasesensitive ? value.replace(/[^a-z0-9]/gi, '') : control.ncaptialletters ? value.replace(/[^A-Z0-9]/g, '') : control.nsmallletters ? value.replace(/[^a-z0-9]/g, '') : value.replace(/[^a-z0-9]/gi, '');\n            } // if (control.ncasesensitive) {\n            //   if (parseInt(control.nmaxsmallletters) < value.replace(/[^a-z]/g, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else if (parseInt(control.nmaxcapticalletters) < value.replace(/[^A-Z]/g, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else {\n            //     inputvalues = value.replace(/[^a-z0-9]/gi, '');\n            //   }\n            // } else if (control.ncaptialletters) {\n            //   if (parseInt(control.nmaxletters) < value.replace(/[^A-Z]/g, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   }\n            //   else if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else {\n            //     inputvalues = value.replace(/[^A-Z0-9]/g, '');\n            //   }\n            // } else if (control.nsmallletters) {\n            //   if (parseInt(control.nmaxletters) < value.replace(/[^a-z]/g, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else {\n            //     inputvalues = value.replace(/[^a-z0-9]/g, '');\n            //   }\n            // }\n            // else {\n            //   if (parseInt(control.nmaxletters) < value.replace(/[^a-zA-Z]/gi, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/gi, '').length) {\n            //     inputvalues = value.slice(0, -1) + '';\n            //   } else {\n            //     inputvalues = value.replace(/[^a-z0-9]/gi, '');\n            //   }\n            // }\n\n          } else {\n            inputvalues = value.replace(/[^a-z0-9]/gi, '');\n          }\n\n          break;\n        }\n\n      case control['startnospecialcharacter']:\n        {\n          // if(value[0] !== '' && value[0].match(/[^a-zA-Z0-9]/)){\n          if (/[^a-zA-Z0-9]/.test(value[0])) {\n            inputvalues = defaultValue;\n          } else {\n            inputvalues = value;\n          }\n\n          break;\n        }\n\n      default:\n        if (control.ncustomization) {\n          // if (control.ncasesensitive) {\n          //   if (parseInt(control.nmaxsmallletters) < value.replace(/[^a-z]/g, '').length) {\n          //     inputvalues = value.slice(0, -1) + '';\n          //   } else if (parseInt(control.nmaxcapticalletters) < value.replace(/[^A-Z]/g, '').length) {\n          //     inputvalues = value.slice(0, -1) + '';\n          //   } else if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length) {\n          //     inputvalues = value.slice(0, -1) + '';\n          //   } else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\n          //     inputvalues = value.slice(0, -1) + '';\n          //   } else {\n          //     inputvalues = value.replace(/[^a-z0-9.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\n          //   }\n          // } else {\n          //   if (parseInt(control.nmaxletters) < value.replace(/[^a-zA-Z]/gi, '').length) {\n          //     inputvalues = value.slice(0, -1) + '';\n          //   } else if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/gi, '').length) {\n          //     inputvalues = value.slice(0, -1) + '';\n          //   }\n          //   else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\n          //     inputvalues = value.slice(0, -1) + '';\n          //   } else {\n          //     inputvalues = value.replace(/[^a-z0-9.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\n          //   }\n          // }\n          if (parseInt(control.nmaxsmallletters) < value.replace(/[^a-z]/g, '').length || parseInt(control.nmaxcapticalletters) < value.replace(/[^A-Z]/g, '').length || parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length || parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length || parseInt(control.nmaxletters) < value.replace(/[^a-zA-Z]/gi, '').length) {\n            inputvalues = defaultValue; // inputvalues = value.slice(0, -1) + '';\n          } else {\n            inputvalues = value.replace(/[^a-z0-9.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\n          }\n        } else {\n          inputvalues = value;\n        }\n\n        break;\n    }\n  } else {\n    inputvalues = value;\n  }\n\n  return inputvalues;\n}\nexport function replaceBackSlash(dataList) {\n  return dataList.replaceAll('\\\\', '\\\\\\\\\\\\\\\\').replaceAll('\\n', '\\\\\\\\n').replaceAll('\"', '\\\\\"').trim();\n}\n;\nexport function checkFilterIsEmptyQueryBuilder(treeData) {\n  let ParentItem = { ...treeData\n  };\n  let isFilterEmpty = true;\n  let childArray = ParentItem.children1;\n\n  if (childArray && childArray.length > 0 && childArray !== undefined) {\n    for (var i = 0; i < childArray.length; i++) {\n      let childData = childArray[i];\n\n      if (!childData.hasOwnProperty('children1')) {\n        if (childData.properties.field !== null && childData.properties.operator !== \"is_empty\" && childData.properties.operator !== \"is_not_empty\" && childData.properties.operator !== \"is_null\" && childData.properties.operator !== \"is_not_null\") {\n          if (childData.properties.field !== null && (childData.properties.operator === \"not_equal\" || childData.properties.operator === \"equal\") && childData.properties.valueSrc[0] === 'func') {\n            isFilterEmpty = childData.properties.value[0] && childData.properties.value[0].args.str && childData.properties.value[0].args.str.value !== \"\" && childData.properties.value[0] && childData.properties.value[0].args.str && childData.properties.value[0].args.str.value !== undefined ? true : false;\n          } else {\n            isFilterEmpty = childData.properties.value[0] !== \"\" && childData.properties.value[0] !== undefined ? true : false;\n          }\n\n          if (!isFilterEmpty) {\n            return isFilterEmpty;\n          }\n        }\n      } else {\n        if (childData) {\n          ParentItem = checkFilterIsEmptyQueryBuilder(childData);\n\n          if (!ParentItem) {\n            return ParentItem;\n          }\n        }\n      }\n    }\n  }\n\n  return isFilterEmpty;\n}\nexport function getFilterConditionsBasedonDataType(extractedColumnList, comboValues) {\n  let fields = {};\n\n  if (extractedColumnList.length > 0) {\n    extractedColumnList.map(field => {\n      field[\"staticField\"] = field && field.staticField ? true : false;\n      let fieldName = field.staticField ? field.dataField : field.idsName;\n\n      switch (field.filterinputtype) {\n        case \"textinput\":\n          fields = { ...fields,\n            [field.dataField]: {\n              \"label\": field.staticField ? intl.formatMessage({\n                id: field.idsName\n              }) : field.idsName,\n              \"type\": \"text\",\n              \"valueSources\": [\"value\", \"func\"]\n            }\n          };\n          break;\n\n        case \"combo\":\n          fields = { ...fields,\n            [field.dataField]: {\n              \"label\": field.staticField ? intl.formatMessage({\n                id: field.idsName\n              }) : field.idsName,\n              \"type\": \"select\",\n              \"valueSources\": [\"value\"],\n              \"fieldSettings\": {\n                \"listValues\": comboValues && comboValues[fieldName]\n              }\n            }\n          };\n          break;\n\n        case \"date\":\n          fields = { ...fields,\n            [field.dataField]: {\n              \"label\": field.staticField ? intl.formatMessage({\n                id: field.idsName\n              }) : field.idsName,\n              \"type\": \"date\",\n              \"valueSources\": [\"value\"]\n            }\n          };\n          break;\n\n        case \"Numeric\":\n          fields = { ...fields,\n            [field.dataField]: {\n              \"label\": field.staticField ? intl.formatMessage({\n                id: field.idsName\n              }) : field.idsName,\n              \"type\": \"number\",\n              \"valueSources\": [\"value\"]\n            }\n          };\n          break;\n      }\n    });\n  }\n\n  return fields;\n}\nexport function queryBuilderfillingColumns(data, slanguagetypecode) {\n  const temparray = [];\n  data && data.map(option => {\n    if (option.samplefiltertypefields === true) {\n      temparray.push({\n        \"idsName\": option.realData[designProperties.LABEL][slanguagetypecode],\n        \"dataField\": option[designProperties.RECORDTYPE] === 'static' ? \"(jsondata->>'\" + option[designProperties.PRIMARYKEY] + \"')::int\" : option.realData[designProperties.LISTITEM] === 'combo' ? \"(jsondata->'\" + option.realData[designProperties.VALUE] + \"'->>'\" + option.realData[designProperties.PRIMARYKEY] + \"')::int\" : option.realData[designProperties.LISTITEM] === 'Numeric' ? \"(jsondata->>'\" + option.realData[designProperties.VALUE] + \"')::int\" : \"(jsondata->>'\" + option.realData[designProperties.VALUE] + \"')\",\n        \"width\": \"200px\",\n        \"filterinputtype\": option.realData[designProperties.LISTITEM]\n      });\n    }\n\n    ;\n  });\n  return temparray;\n}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/CommonScript.js"],"names":["toast","rearrangeDateFormatforKendoDataTool","checkBoxOperation","designProperties","transactionStatus","CryptoJS","intl","extractFieldHeader","fieldList","columnList","undefined","length","filter","value","index","arr","ltrim","text","replace","whitespaceTrim","event","target","trim","rtrim","getCurrentDateTime","tempDate","Date","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","sortData","masterData","sortType","columnName","Array","isArray","sortByField","Object","keys","map","data","sortDataForDate","sampleList","DateColumn","AdditionalColumn","item","valueFormed","push","sort","a","b","dateValueA","getTime","dateValueB","valueA","valueB","reverse","compareDatetime","dateA","dtransactiondate","dateB","sarnoA","sarno","sarnoB","toString","localeCompare","sortDataByParent","parentList","childDataList","item1","obj1","obj2","toLowerCase","searchData","filterValue","originalData","searchedData","temp","itemArray","itemKey","findIndex","element","includes","searchJsonData","jsonfeild","feild","getComboLabelValue","selectedItem","optionList","findKey","labelKey","slanguagetypecode","lblValueList","option","showEsign","itemMap","nformcode","ncontrolcode","controlList","values","x","nneedesign","getControlMap","controlMap","Map","set","scontrolname","formatDate","dateType","d","month","day","year","hour","min","sec","join","concat","getStartOfDay","setHours","getEndOfDay","getDateByMinutes","holdMinutes","someDate","adjustedDate","setMinutes","validateTwoDigitDate","showEsignForChildTabs","addDays","dateValue","daysToAdd","copy","Number","setDate","validatePhoneNumber","inputValue","output","regAllow","match","validateDays","isTrue","s","substring","test","validateCreateView","regLagAllow","regStringAllow","validateEmail","emailAddresses","split","emailAddress","formatInputDate","includeMilliseconds","formattedDate","slice","getMilliseconds","formatInputDateWithoutT","create_UUID","dt","uuid","c","r","Math","random","floor","filterRecordBasedOnTwoArrays","firstArray","secondArray","PrimaryKey","filterArray","some","y","listDataFromDynamicArray","indexvalue","replaceUpdatedObject","newList","oldList","primaryKey","newlistItem","oldIndex","splice","updatedObjectWithNewElement","name","npreregno","unshift","replaceObjectWithNewElement","filterStatusBasedOnTwoArrays","colorColName","constructOptionList","options","optionId","optionValue","sortField","sortOrder","alphabeticalSort","defaultStatusFieldName","optionMap","defaultValue","defaultStatus","itemA","itemB","YES","label","constructjsonOptionList","source","isMultiLingual","languageTypeCode","column","jsondata","JSON","parse","pkey","nquerybuildertablecode","constructjsonOptionDefault","validateLoginId","fillRecordBasedOnCheckBoxSelection","backEndResponse","mapKeys","CheckBoxOperation","primaryKeyName","removeElementFromArray","MULTISELECT","forEach","DESELECT","filterRecordBasedOnPrimaryKeyName","SINGLESELECT","SINGLEDESELECT","getRecordBasedOnPrimaryKeyName","QUICKSELECTSTATUS","filteredmasterData","QUICKSELECTNONE","getSameRecordFromTwoArrays","QUICKSELECTALL","replaceOnlyNewList","reArrangeArrays","i","j","array","finalValueAfterFilter","master","SecondaryKey","getRemovedRecordAndAddNewRecord","ElementToSearch","itemAfterfilter","bytesToSize","bytes","isNaN","parseInt","sizes","log","round","pow","onDropAttachFileList","selectedRecord","attachedFiles","maxSize","listFile","deleteAttachmentDropZone","file","remainingList","fileList","fileItem","checkCancelAndReject","sample","ntransactionstatus","CANCELLED","REJECT","covertDatetoString","newDate","startDate","prevMonth","String","prevDay","fromDate","convertDatetoStringByTimeZone","userInfo","dateArray","splitChar","getSplitCharacter","firstField","ssitedatetime","secondField","convertDateValuetoString","startDateValue","endDateValue","noBreadCrumb","rearrangeDateFormat","endDate","currentMonth","currentDay","fromDateOnly","toDateOnly","toDate","breadCrumbFrom","breadCrumbto","specialChars","word","specialChar","timeSplitChar","indexOf","datetime","time","formatted","rearrangeDateFormatforUI","convertUTCDateToLocalDate","getTimezoneOffset","offset","hours","convertDateTimetoString","inputDate","minutes","seconds","convertDateTimetoStringDBFormat","dbformat","parentChildComboLoad","comboData","childColumnList","withoutCombocomponent","ParentComboValues","languagetypeCode","userinfo","comboComponents","comboValues","inputtype","readonly","valuemember","displaymember","get","childComboLoad","child","isdifferentdisplaycolumn","displaycolumnname","tablecolumnname","Age","k","age","ageCalculate","hasOwnProperty","z","isMultilingual","optionChildList","newRecord1","readonlyfields","newRecord","childComboLoadForEdit","comboChild","retunObj","childList","childData","val","checkValue","now","today","getYear","yearNow","monthNow","dateNow","dob","yearDob","monthDob","dateDob","ageString","yearString","monthString","dayString","yearAge","monthAge","dateAge","years","months","days","formatMessage","id","rearrangeDateFormatDateOnly","getSameRecordFromTwoDifferentArrays","childComboClear","inputParam","control","inputChilParam","childComboClearSubSample","clearComboData","CF_encryptionData","Data","salt","lib","WordArray","key","PBKDF2","keySize","iterations","iv","encrypted","AES","encrypt","stringify","padding","pad","Pkcs7","mode","CBC","transitmessage","ct","EncryptData","removeIndex","data1","compareArrays","boolean","every","Lims_JSON_stringify","emit_unicode","json","charCodeAt","copyText","navigator","clipboard","writeText","textField","document","createElement","innerText","body","appendChild","select","execCommand","remove","childSpecLoadCheck","templateManRecord","childcolumnlist","productCategory","parentLabel","ch","indexTemplateMandatory1","templatemandatory","nproductcatcode","nproductcode","vals","removeSpaceFromFirst","str","query1","query","st","st1","index1","onSaveMandatoryValidation","mandatoryFields","onSaveClick","loadEsign","failedControls","startLabel","dataField","alertMessage","alertPreFix","idsName","alertSuffix","mandatoryLabel","validateFunction","validateData","ismultilingual","dataArray","lang","NO","info","conditionBasedInput","inputvalues","precision","count","splitDotvalue","regexPattern","RegExp","parseFloat","max","toFixed","valueNumeric","ncustomization","notAllowChar","nsplcharnotallow","splChar","valueList","nmaxsmallletters","nmaxcapticalletters","nsplchar","nmaxletters","naviodsplchar","ncasesensitive","ncaptialletters","nsmallletters","nmaxnumeric","replaceBackSlash","dataList","replaceAll","checkFilterIsEmptyQueryBuilder","treeData","ParentItem","isFilterEmpty","childArray","children1","properties","field","operator","valueSrc","args","getFilterConditionsBasedonDataType","extractedColumnList","fields","staticField","fieldName","filterinputtype","queryBuilderfillingColumns","temparray","samplefiltertypefields","realData","LABEL","RECORDTYPE","PRIMARYKEY","LISTITEM","VALUE"],"mappings":"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","sourcesContent":["//import { CommonDragLogic } from '@progress/kendo-react-grid/dist/npm/drag/CommonDragLogic';\r\nimport { toast } from 'react-toastify';\r\nimport { rearrangeDateFormatforKendoDataTool } from '../actions';\r\nimport { checkBoxOperation, designProperties, transactionStatus } from './Enumeration';\r\n//import CryptoJS from 'crypto-js';\r\n//import CryptoJS from 'crypto-js';\r\nimport CryptoJS from 'crypto-js';\r\nimport { intl } from '../components/App';\r\n\r\n//added by perumalraj on 07-08-2020\r\nexport function extractFieldHeader(fieldList) {\r\n  let columnList = [];\r\n  if (fieldList !== undefined && fieldList.length !== 0) {\r\n    columnList = fieldList.filter(function (value, index, arr) {\r\n      return (value[\"controlType\"] !== \"NA\");\r\n    });\r\n  }\r\n  return columnList;\r\n}\r\nexport function ltrim(text) {\r\n  if (text !== undefined) {\r\n    return text.replace(/^\\s+/, \"\").replace(/\\\\n/g, '')\r\n  }\r\n\r\n}\r\nexport function whitespaceTrim(event) {\r\n  if (event.target !== undefined)\r\n    event.target.value = event.target.value.trim()\r\n  return event\r\n}\r\nexport function rtrim(text) {\r\n  if (text !== undefined && text !== \"\")\r\n    return text.replace(/\\s+$/, \"\");\r\n}\r\nexport function getCurrentDateTime() {\r\n  const tempDate = new Date();\r\n  const date = tempDate.getFullYear() + '-' + (tempDate.getMonth() + 1) + '-' + tempDate.getDate() + ' ' + tempDate.getHours() + ':' + tempDate.getMinutes() + ':' + tempDate.getSeconds();\r\n  return date;\r\n}\r\n\r\nexport function sortData(masterData, sortType, columnName) {\r\n  if (masterData) {\r\n    if (Array.isArray(masterData)) {\r\n      sortByField(masterData, sortType, columnName);\r\n    }\r\n    else {\r\n      Object.keys(masterData).map((data) => {\r\n        if (Array.isArray(masterData[data])) {\r\n          sortByField(masterData[data], sortType, columnName)\r\n        }\r\n        return null;\r\n      });\r\n    }\r\n  }\r\n  return masterData;\r\n}\r\n\r\n// export function sortDataForDate(sampleList){\r\n//   let value=[];\r\n//   sampleList.map((item,index)=> {\r\n//     const valueFormed={\"dtransactiondate\":new Date(item.dtransactiondate),...sampleList[index]}\r\n//     value.push(valueFormed)})\r\n//     sampleList = value.sort(compareDatetime);\r\n//     sampleList.reverse();\r\n//      // (objA, objB) => Number(objA.dtransactiondate) - Number(objB.dtransactiondate),\r\n//    // );\r\n//     return sampleList;\r\n//   }\r\n\r\nexport function sortDataForDate(sampleList,DateColumn,AdditionalColumn){\r\n  let value=[];\r\n  sampleList.map((item,index)=> {\r\n    const valueFormed={\r\n      //DateColumn:new Date(item[DateColumn]),\r\n      ...sampleList[index]}\r\n    value.push(valueFormed)})\r\n    sampleList = value.sort((a,b)=>{\r\n    const dateValueA = new Date(a[DateColumn]).getTime();\r\n    const dateValueB = new Date(b[DateColumn]).getTime();\r\n    const valueA=a[AdditionalColumn];\r\n    const valueB=b[AdditionalColumn];\r\n    if(dateValueA === dateValueB){\r\n     return valueA-valueB\r\n     //valueA.toString().localeCompare(valueB.toString())\r\n    }else{\r\n      return dateValueA - dateValueB;\r\n    }\r\n   });\r\n    // sampleList = value.sort(compareDatetime);\r\n    sampleList.reverse();\r\n    // (objA, objB) => Number(objA.dtransactiondate) - Number(objB.dtransactiondate),\r\n    // );\r\n    return sampleList;\r\n  }\r\n   \r\n  function compareDatetime(a, b) {\r\n    const dateA = new Date(a.dtransactiondate).getTime();\r\n    const dateB = new Date(b.dtransactiondate).getTime();\r\n    const sarnoA=a.sarno;\r\n    const sarnoB=b.sarno;\r\n    if(dateA === dateB){\r\n     return sarnoA.toString().localeCompare(sarnoB.toString())\r\n     // sarnoA-sarnoB\r\n     \r\n    }else{\r\n      return dateA - dateB;\r\n    }\r\n  }\r\n   export function sortDataByParent(masterData,parentList,columnName){\r\n    let childDataList=[];\r\n    parentList.map(item=>{\r\n      masterData.map(item1=>{\r\n        if(item[columnName]===item1[columnName]){\r\n          childDataList.push(item1);\r\n        }\r\n      })\r\n    })\r\n    return childDataList;\r\n   }\r\n\r\n\r\n\r\nexport function sortByField(masterData, sortType, columnName) {\r\n  if (masterData !== undefined && masterData.length > 0) {\r\n    if (columnName === undefined || columnName === null) {\r\n      if (masterData[0] !== undefined) {\r\n        columnName = Object.keys(masterData[0])[0];\r\n      }\r\n    }\r\n    if (sortType === \"ascending\") {\r\n      masterData.sort((obj1, obj2) => obj1[columnName] !== null && obj2[columnName] !== null ?\r\n        ((typeof (obj1[columnName]) === 'string' && typeof (obj2[columnName]) === 'string') ?\r\n          obj1[columnName].toLowerCase() > obj2[columnName].toLowerCase() ? 1 : -1\r\n          : obj1[columnName] > obj2[columnName] ? 1 : -1)\r\n        : \"\"\r\n      );\r\n\r\n    }\r\n    else {\r\n      // console.log(columnName)\r\n      masterData.sort((obj1, obj2) => obj1[columnName] !== null && obj2[columnName] !== null ?\r\n        ((typeof (obj1[columnName]) === 'string' && typeof (obj2[columnName]) === 'string') ?\r\n          obj1[columnName].toLowerCase() < obj2[columnName].toLowerCase() ? 1 : -1\r\n          : obj1[columnName] < obj2[columnName] ? 1 : -1)\r\n        : \"\"\r\n      );\r\n    }\r\n  }\r\n  return masterData;\r\n}\r\n\r\nexport function searchData(filterValue, originalData, fieldList) {\r\n  let searchedData = [];\r\n\r\n  if (originalData && originalData.length > 0) {\r\n    let temp = originalData.filter(item => {\r\n      const itemArray = [];\r\n      fieldList.map(itemKey =>\r\n        item[itemKey] && item[itemKey] !== null ?\r\n          itemArray.push(typeof item[itemKey] === \"string\" ? item[itemKey].toLowerCase()\r\n            : item[itemKey].toString().toLowerCase())\r\n          : \"\")\r\n      //   console.log(itemArray.findIndex(element => element.includes(filterValue.toLowerCase())) > -1)\r\n      //  console.log(filterValue.toLowerCase())\r\n      return itemArray.findIndex(element => element.includes(filterValue.toLowerCase())) > -1\r\n    }\r\n    )\r\n    searchedData = temp;\r\n  }\r\n  return searchedData;\r\n}\r\n//end- search logic\r\n\r\n//For Searching Json Data\r\nexport function searchJsonData(filterValue, originalData, fieldList) {\r\n  let searchedData = [];\r\n\r\n  if (originalData.length > 0) {\r\n    let temp = originalData.filter(item => {\r\n      const itemArray = [];\r\n      fieldList.map(itemKey =>\r\n        itemKey.jsonfeild ?\r\n          item[itemKey.jsonfeild][itemKey.feild] && item[itemKey.jsonfeild][itemKey.feild] !== null ?\r\n            itemArray.push(typeof item[itemKey.jsonfeild][itemKey.feild] === \"string\" ? item[itemKey.jsonfeild][itemKey.feild].toLowerCase()\r\n              : item[itemKey.jsonfeild][itemKey.feild].toString().toLowerCase())\r\n            : \"\"\r\n          :\r\n          item[itemKey.feild] && item[itemKey.feild] !== null ?\r\n            itemArray.push(typeof item[itemKey.feild] === \"string\" ?\r\n              item[itemKey.feild].toLowerCase()\r\n              : item[itemKey.feild].toString().toLowerCase())\r\n            : \"\")\r\n      //   console.log(itemArray.findIndex(element => element.includes(filterValue.toLowerCase())) > -1)\r\n      //  console.log(filterValue.toLowerCase())\r\n      return itemArray.findIndex(element => element.includes(filterValue.toLowerCase())) > -1\r\n    }\r\n    )\r\n    searchedData = temp;\r\n  }\r\n  return searchedData;\r\n}\r\n\r\n\r\n\r\n//Given by Perumal\r\n//To get Label Value Pair for a search select combo box\r\nexport function getComboLabelValue(selectedItem, optionList, findKey, labelKey, jsonfeild, slanguagetypecode) {\r\n\r\n  let lblValueList = [];\r\n  optionList.map((option) => {\r\n    if (option[jsonfeild]) {\r\n      if (selectedItem && selectedItem[findKey] === option[findKey]) {\r\n        lblValueList.push({\r\n          \"value\": option[findKey], \"label\": option[jsonfeild][labelKey][slanguagetypecode] ?\r\n            option[jsonfeild][labelKey][slanguagetypecode] : option[jsonfeild][labelKey]\r\n        })\r\n      }\r\n      return null;\r\n    }\r\n    else {\r\n      if (selectedItem && selectedItem[findKey] === option[findKey]) {\r\n        lblValueList.push({ \"value\": option[findKey], \"label\": option[labelKey] })\r\n      }\r\n      return null;\r\n    }\r\n\r\n  })\r\n  return selectedItem[findKey] = lblValueList[0];\r\n}\r\n\r\n// To provide esign rights\r\nexport function showEsign(itemMap, nformcode, ncontrolcode) {\r\n  const controlList = itemMap[nformcode] ? Object.values(itemMap[nformcode]) : [];\r\n  const index = controlList.findIndex(x => x.ncontrolcode === ncontrolcode);\r\n  return controlList[index] && controlList[index].nneedesign === 3 ? true : false;\r\n}\r\n\r\n// To provide control rights\r\nexport function getControlMap(itemMap, nformcode) {\r\n  const controlList = itemMap ? itemMap[nformcode] ? Object.values(itemMap[nformcode]) : [] : [];\r\n  const controlMap = new Map();\r\n  controlList.map(item => {\r\n    return controlMap.set(item.scontrolname, { ...item })\r\n  })\r\n  return controlMap;\r\n}\r\n\r\nexport function formatDate(date, dateType) {\r\n  let d = new Date(date),\r\n    month = '' + (d.getMonth() + 1),\r\n    day = '' + d.getDate(),\r\n    year = '' + d.getFullYear(),\r\n    hour = '' + d.getHours(),\r\n    min = '' + d.getMinutes(),\r\n    sec = '' + d.getSeconds();\r\n\r\n  if (month.length < 2) month = '0' + month;\r\n  if (day.length < 2) day = '0' + day;\r\n\r\n  if (hour.length < 2) hour = '0' + hour;\r\n  if (min.length < 2) min = '0' + min;\r\n  if (sec.length < 2) sec = '0' + sec;\r\n\r\n  return [year, month, day].join('-').concat(\" \" + hour + \":\" + min + \":\" + sec);\r\n\r\n  // if(dateType === \"dateonly\"){\r\n  //   return [year, month, day].join('-')\r\n  // }\r\n  // else if(dateType === \"timeonly\"){\r\n  //   return [hour + \":\" + min + \":\" + sec];\r\n  // }\r\n  // else{\r\n  //   return [year, month, day].join('-').concat(\" \" + hour + \":\" + min + \":\" + sec);\r\n  // }  \r\n}\r\n\r\nexport function getStartOfDay(date) {\r\n  date.setHours(0, 0, 0);\r\n  return formatDate(date);\r\n}\r\n\r\nexport function getEndOfDay(date) {\r\n  date.setHours(23, 59, 59);\r\n  return formatDate(date);\r\n}\r\n\r\nexport function getDateByMinutes(date, holdMinutes) {\r\n  const someDate = new Date(date);\r\n  const adjustedDate = new Date(someDate);\r\n  return adjustedDate.setMinutes(someDate.getMinutes() + holdMinutes);\r\n}\r\n\r\nexport function validateTwoDigitDate(value) {\r\n  if (value.length === 1) {\r\n    value = \"0\".concat(value);\r\n  }\r\n  return value;\r\n}\r\n\r\n// To provide esign rights for child Tabs\r\nexport function showEsignForChildTabs(itemMap, ncontrolcode) {\r\n  //  const controlList = itemMap[nformcode] ? Object.values(itemMap[nformcode]) : [];\r\n  const index = itemMap.findIndex(x => x.ncontrolcode === ncontrolcode);\r\n  return itemMap[index] && itemMap[index].nneedesign === 3 ? true : false;\r\n}\r\n\r\nexport function addDays(dateValue, daysToAdd) {\r\n  const copy = new Date(Number(dateValue))\r\n  copy.setDate(dateValue.getDate() + daysToAdd);\r\n  return copy;\r\n}\r\n\r\nexport function validatePhoneNumber(inputValue) {\r\n  let output = \"\";\r\n  // Get the regular expression to test against for this particular object\r\n  let regAllow = /^[0-9,',',\\n,\\s,[,\\], '+',-]+$/;\r\n  // Check for an allowed character, if not found, cancel the keypress's event bubbling\r\n  if (inputValue.match(regAllow)) {\r\n    // Do nothing, i.e. allow.\r\n    output = inputValue;\r\n  }\r\n  return output;\r\n}\r\n\r\nexport function validateDays(inputValue) {\r\n  let output = \"\";\r\n  let isTrue = false;\r\n  let regAllow = /^[+|-]?[0-9]+$/\r\n  if (inputValue.length > 1) {\r\n    const s = inputValue.substring(inputValue.length - 1)\r\n    if (s !== \"+\" && s !== \"-\") {\r\n      isTrue = regAllow.test(inputValue);\r\n    }\r\n  } else {\r\n    const s = inputValue.substring(inputValue.length - 1)\r\n    if (s !== \"+\" && s !== \"-\") {\r\n      isTrue = regAllow.test(inputValue);\r\n    } else {\r\n      isTrue = true\r\n    }\r\n  }\r\n  if (isTrue) {\r\n    output = inputValue;\r\n  }\r\n  return output;\r\n}\r\n\r\nexport function validateCreateView(inputValue) {\r\n  const regAllow = /^[a-z0-9_]+$/\r\n  const regLagAllow =/[а-яЁё]/\r\n  const regStringAllow =/^[a-z]+$/\r\n  //  /[а-яЁё]/\r\n  //  /^[a-z]+$/\r\n //return  regStringAllow.test(inputValue[0]) ? regAllow.test(inputValue[inputValue.length-1]) ?\r\n // inputValue : \"\"  : regStringAllow.test(inputValue) ? inputValue : \"\";\r\n     return  regLagAllow.test(inputValue[inputValue.length-1]) ? \r\n     inputValue : regStringAllow.test(inputValue[inputValue.length-1]) ? inputValue : inputValue.length>1?regAllow.test(inputValue[inputValue.length-1])?inputValue: \"\":\"\";\r\n}\r\n\r\n\r\nexport function validateEmail(inputValue) {\r\n  let output = true;\r\n  const emailAddresses = inputValue.split(',');\r\n  //let regAllow = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  //checks for presence of '@', '.' and 2 characters after '.'\r\n  //let regAllow = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n  //let regAllow = /^[a-zA-Z0-9!@#\\$%\\^\\&*\\)\\(+=._-]+$/g;\r\n\r\n  //A form with an email field that that must be in the following order: characters@characters.domain \r\n  //(characters followed by an @ sign, followed by more characters, and then a \".\". After the \".\" sign, you can only write 2 to 3 letters from a to z:\r\n  let regAllow = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n\r\n  // Check for an allowed character, if not found, cancel the keypress's event bubbling\r\n  for (const emailAddress of emailAddresses) {\r\n    if (!emailAddress.match(regAllow)) {\r\n      // If any email address is invalid, return false\r\n      output = false;\r\n      break;\r\n    }\r\n  }\r\n  // if (inputValue.match(regAllow)) {\r\n\r\n  //   // Do nothing, i.e. allow.\r\n  //   output = true;//inputValue;\r\n  // }\r\n  return output;\r\n}\r\n\r\nexport function formatInputDate(date, includeMilliseconds) {\r\n  let formattedDate = \"\";\r\n  if (includeMilliseconds) {\r\n    formattedDate = date.getFullYear() + \"-\" +\r\n      (\"00\" + (date.getMonth() + 1)).slice(-2) + \"-\" +\r\n      (\"00\" + date.getDate()).slice(-2) +\r\n      'T' +\r\n      (\"00\" + date.getHours()).slice(-2) + \":\" +\r\n      (\"00\" + date.getMinutes()).slice(-2) + \":\" +\r\n      (\"00\" + date.getSeconds()).slice(-2)\r\n      + \".\" +\r\n      (\"000\" + date.getMilliseconds()).slice(-3) + \"Z\";\r\n  }\r\n  else {\r\n    formattedDate = date.getFullYear() + \"-\" +\r\n      (\"00\" + (date.getMonth() + 1)).slice(-2) + \"-\" +\r\n      (\"00\" + date.getDate()).slice(-2) +\r\n      'T' +\r\n      (\"00\" + date.getHours()).slice(-2) + \":\" +\r\n      (\"00\" + date.getMinutes()).slice(-2) + \":\" +\r\n      (\"00\" + date.getSeconds()).slice(-2) + \"Z\";\r\n  }\r\n  return formattedDate;\r\n}\r\n\r\nexport function formatInputDateWithoutT(date, includeMilliseconds) {\r\n  let formattedDate = \"\";\r\n  if (includeMilliseconds) {\r\n    formattedDate = date.getFullYear() + \"-\" +\r\n      (\"00\" + (date.getMonth() + 1)).slice(-2) + \"-\" +\r\n      (\"00\" + date.getDate()).slice(-2) + \" \" +\r\n      (\"00\" + date.getHours()).slice(-2) + \":\" +\r\n      (\"00\" + date.getMinutes()).slice(-2) + \":\" +\r\n      (\"00\" + date.getSeconds()).slice(-2)\r\n      + \".\" +\r\n      (\"000\" + date.getMilliseconds()).slice(-3);\r\n  }\r\n  else {\r\n    formattedDate = date.getFullYear() + \"-\" +\r\n      (\"00\" + (date.getMonth() + 1)).slice(-2) + \"-\" +\r\n      (\"00\" + date.getDate()).slice(-2) + \" \" +\r\n      (\"00\" + date.getHours()).slice(-2) + \":\" +\r\n      (\"00\" + date.getMinutes()).slice(-2) + \":\" +\r\n      (\"00\" + date.getSeconds()).slice(-2);\r\n  }\r\n  return formattedDate;\r\n}\r\n\r\nexport function create_UUID() {\r\n  var dt = new Date().getTime();\r\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n    var r = (dt + Math.random() * 16) % 16 | 0;\r\n    dt = Math.floor(dt / 16);\r\n    return (c === 'x' ? r : (r && 0x3 | 0x8)).toString(16);\r\n  });\r\n  return uuid;\r\n}\r\n\r\n//added by perumalraj on 03/11/2020\r\n//compare two arrays of object and filter the record which are not present in the second array and vice versa\r\n// export function filterRecordBasedOnTwoArrays(firstArray, secondArray, PrimaryKey,SecondaryKey) {\r\n//   let filterArray;\r\n//     if(SecondaryKey !==undefined){\r\n//       filterArray = firstArray.filter(function (x) {\r\n//         return !secondArray.some(function (y) {\r\n//           //console.log(y)\r\n//           return x[PrimaryKey] === y[PrimaryKey] || x[SecondaryKey] === y[SecondaryKey]\r\n//         })\r\n//       });\r\n//     }else{\r\n//       filterArray = firstArray.filter(function (x) {\r\n//         return !secondArray.some(function (y) {\r\n//           //console.log(y)\r\n//           return x[PrimaryKey] === y[PrimaryKey]\r\n//         })\r\n//       });\r\n//     } \r\n//   return filterArray;\r\n// }\r\n\r\nexport function filterRecordBasedOnTwoArrays(firstArray, secondArray, PrimaryKey) {\r\n  const filterArray = firstArray.filter(function (x) {\r\n    return !secondArray.some(function (y) {\r\n      //console.log(y)\r\n      return x[PrimaryKey] === y[PrimaryKey]\r\n    })\r\n  });\r\n  return filterArray;\r\n}\r\n\r\nexport function listDataFromDynamicArray(arr, indexvalue) {\r\n  return arr && arr.filter(x => x[indexvalue]);\r\n}\r\n\r\n// export const fileViewURL = 'http://192.168.0.79:8097/';\r\n\r\n//Added by P.Sudharshanan\r\nexport function replaceUpdatedObject(newList, oldList, primaryKey) {\r\n  newList && newList.length > 0 && newList.map(newlistItem => {\r\n    let oldIndex = oldList ? oldList.findIndex(x => x[primaryKey] === newlistItem[primaryKey]) : -1\r\n    if(oldIndex !== -1){\r\n    oldList.splice(oldIndex, 1, newlistItem)\r\n  }\r\n    return null;\r\n  })\r\n  return oldList;\r\n}\r\n//added by perumalraj for insert newly added element into an array\r\nexport function updatedObjectWithNewElement(oldList, newList,name) {\r\n let newlistItem=newList;\r\nif(name==='Sample'){\r\n newlistItem.map((item,index)=>{\r\n  if(oldList[0].npreregno===item.npreregno){\r\n    newlistItem.splice(index,1)\r\n   // [newFirstElement].concat(array)\r\n   }\r\n  })\r\n  newlistItem.unshift(oldList[0]);\r\n  oldList =[...newlistItem];\r\n}else {\r\n oldList =[...newlistItem, ...oldList];\r\n}\r\n  return oldList;\r\n}\r\n//added by perumalraj for replace the old values wih new one into an array\r\nexport function replaceObjectWithNewElement(oldList) {\r\n  oldList = [...oldList];\r\n  return oldList;\r\n}\r\n\r\n//Added by L.Subashini to find the index positions nf the occurence of the specified character\r\n// export const findIndices = (str, char) =>\r\n//   str.split('').reduce((indices, letter, index) => {\r\n//     letter === char && indices.push(index);\r\n//     return indices;\r\n//   }, [])\r\n\r\n//added by perumalraj on 23/12/2020\r\n//compare two arrays of object and filter the record which are not present in the second array and vice versa\r\nexport function filterStatusBasedOnTwoArrays(firstArray, secondArray, PrimaryKey, colorColName) {\r\n  // const Peru = Object.keys(Array2).map(function (k) { return Array2[k][PrimaryKey] }).join(\",\");\r\n  // alert(Peru);\r\n  //const TestSet = new Set(Peru);\r\n  // const FinalOutput = [\r\n  //   ...Array1.filter(({ PrimaryKey }) => !TestSet.has(PrimaryKey))\r\n  // ];\r\n  // Array1 = Array1.filter(val => !Array2.includes(val[PrimaryKey]));\r\n  // alert(Array1)\r\n  // return Array1;\r\n  const filterArray = firstArray.filter(function (x) {\r\n    return secondArray.some(function (y) {\r\n      if (x[PrimaryKey] === y[PrimaryKey]) {\r\n        x[colorColName] = y[colorColName];\r\n      }\r\n      return x[PrimaryKey] === y[PrimaryKey]\r\n    })\r\n  });\r\n  return filterArray;\r\n}\r\n\r\nexport function constructOptionList(options, optionId,\r\n  optionValue, sortField, sortOrder, alphabeticalSort,\r\n  defaultStatusFieldName) {\r\n  const optionMap = new Map();\r\n  const defaultValue = [];\r\n  const defaultStatus = defaultStatusFieldName ? defaultStatusFieldName : \"ndefaultstatus\";\r\n  const optionList = Object.values((sortField ? ((sortOrder === \"ascending\" ?\r\n    options.sort((itemA, itemB) => itemA[sortField] < itemB[sortField] ? -1 : 1)\r\n    : options.sort((itemA, itemB) => itemA[sortField] > itemB[sortField] ? -1 : 1))\r\n  )\r\n    : (alphabeticalSort ?\r\n      options.sort((itemA, itemB) =>\r\n      (typeof (itemA[optionValue]) === 'string' ?\r\n        itemA[optionValue].toLowerCase() < itemB[optionValue].toLowerCase() ?\r\n          -1 : 1 : itemA[optionValue] < itemB[optionValue] ? -1 : 1)) : options)\r\n  )\r\n  ).map(item => {\r\n    if (item && item[defaultStatus] === transactionStatus.YES) {\r\n      (defaultValue.push(\r\n        {\r\n          label: item[optionValue], value: item[optionId],\r\n          item: item\r\n        }\r\n      ))\r\n    }\r\n    return {\r\n      label: item[optionValue], value: item[optionId],\r\n      item: item\r\n    }\r\n  });\r\n  optionMap.set(\"OptionList\", optionList);\r\n  if (defaultValue.length > 0) {\r\n    optionMap.set(\"DefaultValue\", defaultValue[0]);\r\n  }\r\n  return optionMap;\r\n}\r\n\r\nexport function constructjsonOptionList(options,\r\n  optionId, optionValue, sortField, sortOrder,\r\n  alphabeticalSort, defaultStatusFieldName,\r\n  source, isMultiLingual, languageTypeCode, column) {\r\n  const optionMap = new Map();\r\n  const defaultValue = [];\r\n  defaultStatusFieldName = defaultStatusFieldName ? defaultStatusFieldName : \"ndefaultstatus\";\r\n  // const optionList = Object.values((sortField ? ((sortOrder === \"ascending\" ?\r\n  //   options.sort((itemA, itemB) =>\r\n  //     itemA[source].value ? JSON.parse(itemA[source].value)[sortField] : itemA[source][sortField] <\r\n  //       itemB[source].value ? JSON.parse(itemB[source].value)[sortField] : itemB[source][sortField] ? -1 : 1\r\n  //   )\r\n\r\n  //   :\r\n  //   options = options.sort((itemA, itemB) =>\r\n  //     itemA[source].value ? JSON.parse(itemA[source].value)[sortField] : itemB[source].value ? JSON.parse(itemB[source].value)[sortField] : itemB[source][sortField] ? -1 : 1\r\n  //   )\r\n  // ))\r\n  //   : (alphabeticalSort ?\r\n  //     options.sort((itemA, itemB) =>\r\n  //     (typeof (JSON.parse(itemA[source].value)[optionValue]) === 'string' ?\r\n  //       JSON.parse(itemA[source].value)[optionValue].toLowerCase() < JSON.parse(itemB[source].value)[optionValue].toLowerCase() ?\r\n  //         -1 : 1 : JSON.parse(itemA[source].value)[optionValue] < JSON.parse(itemB[source].value)[optionValue] ? -1 : 1)) : options)\r\n  // )\r\n  // )\r\n  const optionList = options.map(item => {\r\n    const jsondata = item[source] ? item[source].value ?\r\n      JSON.parse(item[source].value) : item.jsondata : item.jsondata\r\n    let defaultStatus = jsondata[defaultStatusFieldName]\r\n      || item[defaultStatusFieldName]\r\n    if (defaultStatus === transactionStatus.YES) {\r\n      defaultValue.push({\r\n        label: isMultiLingual ?\r\n          jsondata[optionValue] ? jsondata[optionValue][languageTypeCode] || jsondata[optionValue]['en-US'] :\r\n            jsondata['jsondata'][optionValue][languageTypeCode] || jsondata['jsondata'][optionValue]['en-US'] :\r\n          jsondata[optionValue],\r\n          // ALPD-3839\r\n        value: jsondata[optionId] || item[optionId],\r\n        item: {\r\n          ...item, pkey: optionId,\r\n          nquerybuildertablecode: column ? column.nquerybuildertablecode : -100,\r\n          source: source\r\n        }\r\n      })\r\n    }\r\n    let label = isMultiLingual ?\r\n      jsondata[optionValue] ? jsondata[optionValue][languageTypeCode] || jsondata[optionValue]['en-US'] :\r\n        jsondata['jsondata'][optionValue][languageTypeCode] || jsondata['jsondata'][optionValue]['en-US'] :\r\n      jsondata[optionValue];\r\n    let value = jsondata[optionId] || item[optionId]\r\n    return {\r\n      label, value, item: {\r\n        ...item, pkey: optionId, nquerybuildertablecode: column ? column.nquerybuildertablecode : -100,\r\n        source: source\r\n      }\r\n    }\r\n  });\r\n  optionMap.set(\"OptionList\", optionList);\r\n  if (defaultValue.length > 0) {\r\n    optionMap.set(\"DefaultValue\", defaultValue[0]);\r\n  }\r\n  return optionMap;\r\n}\r\n\r\n\r\nexport function constructjsonOptionDefault(options,\r\n  optionId, optionValue, sortField, sortOrder,\r\n  alphabeticalSort, defaultStatusFieldName,\r\n  source, isMultiLingual, languageTypeCode, column) {\r\n  const optionMap = new Map();\r\n  const defaultValue = [];\r\n  defaultStatusFieldName = defaultStatusFieldName ? defaultStatusFieldName : \"ndefaultstatus\";\r\n  // const optionList = Object.values((sortField ? ((sortOrder === \"ascending\" ?\r\n  //   options.sort((itemA, itemB) =>\r\n  //     itemA[source].value ? JSON.parse(itemA[source].value)[sortField] : itemA[source][sortField] <\r\n  //       itemB[source].value ? JSON.parse(itemB[source].value)[sortField] : itemB[source][sortField] ? -1 : 1\r\n  //   )\r\n\r\n  //   :\r\n  //   options = options.sort((itemA, itemB) =>\r\n  //     itemA[source].value ? JSON.parse(itemA[source].value)[sortField] : itemB[source].value ? JSON.parse(itemB[source].value)[sortField] : itemB[source][sortField] ? -1 : 1\r\n  //   )\r\n  // ))\r\n  //   : (alphabeticalSort ?\r\n  //     options.sort((itemA, itemB) =>\r\n  //     (typeof (JSON.parse(itemA[source].value)[optionValue]) === 'string' ?\r\n  //       JSON.parse(itemA[source].value)[optionValue].toLowerCase() < JSON.parse(itemB[source].value)[optionValue].toLowerCase() ?\r\n  //         -1 : 1 : JSON.parse(itemA[source].value)[optionValue] < JSON.parse(itemB[source].value)[optionValue] ? -1 : 1)) : options)\r\n  // )\r\n  // )\r\n  const optionList = options.map(item => {\r\n    const jsondata = item[source] ? item[source].value ?\r\n      JSON.parse(item[source].value) : item.item.jsondata : item.item.jsondata\r\n    let defaultStatus = jsondata[defaultStatusFieldName]\r\n      || item[defaultStatusFieldName]\r\n    if (defaultStatus === transactionStatus.YES) {\r\n      defaultValue.push({\r\n        label: isMultiLingual ?\r\n          jsondata[optionValue] ? jsondata[optionValue][languageTypeCode] : jsondata['jsondata'][optionValue][languageTypeCode] :\r\n          jsondata[optionValue],\r\n        value: jsondata[optionId],\r\n        //ALPD-2106\r\n        item: { ...item.item, pkey: optionId, nquerybuildertablecode: column ? column.nquerybuildertablecode : -100, source: source }\r\n      })\r\n    }\r\n  });\r\n  //optionMap.set(\"OptionList\", optionList);\r\n  if (defaultValue.length > 0) {\r\n    optionMap.set(\"DefaultValue\", defaultValue[0]);\r\n  }\r\n  return optionMap;\r\n}\r\n\r\n\r\nexport function validateLoginId(inputValue) {\r\n  let output = false;\r\n  //let regAllow = /^\\w+(\\w+)*$/;\r\n  let regAllow = /^[a-zA-Z0-9-_]*$/;\r\n  //let regAllow = /^[a-zA-Z0-9!@#\\$%\\^\\&*\\)\\(+=._-]+$/g;\r\n  if (inputValue.match(regAllow)) {\r\n    output = true;\r\n  }\r\n  return output;\r\n}\r\n\r\n//added by perumalraj on 02-02-2021 for single click java function in list master view and \r\nexport function fillRecordBasedOnCheckBoxSelection(masterData, backEndResponse, mapKeys, CheckBoxOperation, primaryKeyName, removeElementFromArray) {\r\n  //if (CheckBoxOperation === 1) {  //check box select\r\n  if (CheckBoxOperation === checkBoxOperation.MULTISELECT) {  //check box select  \r\n    mapKeys.forEach((item) => {\r\n      return masterData[item] = updatedObjectWithNewElement(masterData[item] ? masterData[item] : [], backEndResponse[item] ? backEndResponse[item] : []);\r\n      //return masterData[item] = replaceOnlyNewList(backEndResponse[item] ? backEndResponse[item] : []);\r\n    });\r\n  //} else if (CheckBoxOperation === 2) {  //check box de-select\r\n  } else if (CheckBoxOperation === checkBoxOperation.DESELECT) {  //check box de-select  \r\n    \r\n    mapKeys.forEach((item) => {\r\n      return masterData[item] = filterRecordBasedOnPrimaryKeyName(masterData[item] ? masterData[item] : [], removeElementFromArray.length > 0 && removeElementFromArray[0][primaryKeyName] ? removeElementFromArray[0][primaryKeyName] : \"\", primaryKeyName);\r\n    });\r\n  //} else if (CheckBoxOperation === 3) {  //single select\r\n  } else if (CheckBoxOperation === checkBoxOperation.SINGLESELECT) {  //single select  \r\n    mapKeys.forEach((item) => {\r\n      return masterData[item] = replaceObjectWithNewElement(backEndResponse[item] ? backEndResponse[item] : []);\r\n    })\r\n  //} else if (CheckBoxOperation === 4) {  //single de-select \r\n  } else if (CheckBoxOperation === checkBoxOperation.SINGLEDESELECT) {  //single de-select  \r\n    mapKeys.forEach((item) => {\r\n      return masterData[item] = getRecordBasedOnPrimaryKeyName(masterData[item] ? masterData[item] : [], backEndResponse.length > 0 && backEndResponse[0][primaryKeyName] ? backEndResponse[0][primaryKeyName] : \"\", primaryKeyName);\r\n    });\r\n\r\n    // return masterData[item] = replaceObjectWithNewElement(masterData[item] ? masterData[item] : [], backEndResponse[item] ? backEndResponse[item] : []);\r\n  //} else if (CheckBoxOperation === 5) {  //after multi select and then click single record\r\n  } else if (CheckBoxOperation === checkBoxOperation.QUICKSELECTSTATUS) {  //after multi select and then click single record  \r\n    mapKeys.forEach((item) => {\r\n      let filteredmasterData = filterRecordBasedOnTwoArrays(masterData[item] ? masterData[item] : [], removeElementFromArray, primaryKeyName);\r\n      return masterData[item] = updatedObjectWithNewElement(filteredmasterData, backEndResponse[item] ? backEndResponse[item] : []);\r\n    });\r\n  //} else if (CheckBoxOperation === 6) {  //after multi select and then click single record\r\n  } else if (CheckBoxOperation === checkBoxOperation.QUICKSELECTNONE) {  //after multi select and then click single record  \r\n    mapKeys.forEach((item) => {\r\n      filterRecordBasedOnTwoArrays(masterData[item] ? masterData[item] : [], removeElementFromArray, primaryKeyName);\r\n      return masterData[item] = getSameRecordFromTwoArrays(masterData[item] ? masterData[item] : [], backEndResponse ? backEndResponse : [], primaryKeyName);\r\n    });\r\n  }\r\n  //else if (CheckBoxOperation === 7) {  //check box select\r\n  else if (CheckBoxOperation === checkBoxOperation.QUICKSELECTALL) {  //check box select  \r\n    mapKeys.forEach((item) => {\r\n      //return masterData[item] = updatedObjectWithNewElement(masterData[item] ? masterData[item] : [], backEndResponse[item] ? backEndResponse[item] : []);\r\n      return masterData[item] = replaceOnlyNewList(backEndResponse[item] ? backEndResponse[item] : []);\r\n    });\r\n  } else {\r\n    Object.keys(backEndResponse).forEach((item) => {\r\n      return masterData[item] = backEndResponse[item]\r\n    })\r\n  }\r\n}\r\n//added by Sathish on 06-04-2022\r\nexport function reArrangeArrays(firstArray, secondArray, PrimaryKey) {\r\n  let filterArray = [];\r\n  for (var i = 0; i < firstArray.length; i++) {\r\n    for (var j = 0; j < secondArray.length; j++) {\r\n      if (firstArray[i][PrimaryKey] == secondArray[j][PrimaryKey]) {\r\n        filterArray.push(secondArray[j]);\r\n      }\r\n    }\r\n  }\r\n  return filterArray;\r\n}\r\n\r\n//added by Sathish on 31-03-2022\r\nexport function replaceOnlyNewList(newList) {\r\n  const array = [];\r\n  array.push(...newList);\r\n  return array;\r\n}\r\n\r\n//added by perumalraj on 02-02-2021\r\nexport function filterRecordBasedOnPrimaryKeyName(masterData, value, primaryKeyName) {\r\n  const finalValueAfterFilter = masterData.filter(function (master) {\r\n    return master[primaryKeyName] !== value;\r\n  });\r\n  return finalValueAfterFilter;\r\n}\r\n\r\n//added by perumalraj on 02-02-2021\r\nexport function getRecordBasedOnPrimaryKeyName(masterData, value, primaryKeyName) {\r\n  const finalValueAfterFilter = masterData.filter(function (master) {\r\n    return master[primaryKeyName] === value;\r\n  });\r\n  return finalValueAfterFilter;\r\n}\r\n\r\n//added by perumalraj on 06/02/2021\r\n//compare two arrays of object and filter the record which are not present in the second array and first array data will be \r\n//returned with the filtered data\r\n// export function getSameRecordFromTwoArrays(firstArray, secondArray, PrimaryKey) {\r\n//   const filterArray = firstArray.filter(function (x) {\r\n//     if (Array.isArray(secondArray)) {\r\n//       return secondArray.some(function (y) {\r\n//         return x[PrimaryKey] === y[PrimaryKey]\r\n//       })\r\n//     }\r\n//   });\r\n//   return filterArray;\r\n\r\n// }\r\n\r\nexport function getSameRecordFromTwoArrays(firstArray, secondArray, PrimaryKey, SecondaryKey) {\r\n  let filterArray;\r\n  if (SecondaryKey !== undefined) {\r\n    filterArray = firstArray.filter(function (x) {\r\n      if (Array.isArray(secondArray)) {\r\n        return secondArray.some(function (y) {\r\n          return x[PrimaryKey] === y[PrimaryKey] && x[SecondaryKey] === y[SecondaryKey]\r\n        })\r\n      }\r\n    });\r\n  } else {\r\n    filterArray = firstArray.filter(function (x) {\r\n      if (Array.isArray(secondArray)) {\r\n        return secondArray.some(function (y) {\r\n          return x[PrimaryKey] === y[PrimaryKey]\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  return filterArray;\r\n\r\n}\r\n\r\n//added by perumalraj on 16-02-2021\r\n//compare two arrays and remove the same element and add the newer one into it\r\nexport function getRemovedRecordAndAddNewRecord(firstArray, secondArray, ElementToSearch, PrimaryKey) {\r\n  ElementToSearch.forEach(item => {\r\n    let itemAfterfilter = filterRecordBasedOnPrimaryKeyName(firstArray, item, PrimaryKey);\r\n    firstArray = itemAfterfilter;\r\n  });\r\n  return updatedObjectWithNewElement(firstArray, secondArray);\r\n}\r\n\r\nexport function bytesToSize(bytes) {\r\n  if (!isNaN(parseInt(bytes))) {\r\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    if (bytes === 0) return '0 Byte';\r\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\r\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\r\n  } else {\r\n    return bytes;\r\n  }\r\n}\r\n\r\nexport function onDropAttachFileList(selectedRecord, attachedFiles, maxSize) {\r\n  if (selectedRecord) {\r\n    let listFile = selectedRecord ? selectedRecord : []\r\n    if (listFile.length + attachedFiles.length <= maxSize || maxSize === 0) {\r\n      attachedFiles && attachedFiles.length > 0 && attachedFiles.map(newlistItem => {\r\n        let oldIndex = listFile ? listFile.findIndex(x => x['name'] === newlistItem['name']) : -1\r\n        if (oldIndex === -1) {\r\n          listFile.splice(listFile.length, 0, newlistItem)\r\n        } else {\r\n          listFile.splice(oldIndex, 1, newlistItem)\r\n        }\r\n        return null;\r\n      })\r\n      return listFile;\r\n    }\r\n    return attachedFiles;\r\n  } else {\r\n    return attachedFiles;\r\n  }\r\n}\r\n\r\nexport function deleteAttachmentDropZone(selectedRecord, file) {\r\n  let remainingList;\r\n  if (typeof selectedRecord === \"string\") {\r\n    remainingList = \"\";\r\n  }\r\n  else {\r\n    if (selectedRecord.length >= 1) {\r\n      const fileList = selectedRecord.filter(fileItem => {\r\n        return fileItem.name !== file.name\r\n      })\r\n      remainingList = fileList;\r\n    }\r\n    else {\r\n      remainingList = \"\";\r\n    }\r\n  }\r\n  return remainingList;\r\n}\r\n\r\nexport function checkCancelAndReject(sample) {\r\n  return (sample.ntransactionstatus === transactionStatus.CANCELLED || sample.ntransactionstatus === transactionStatus.REJECT)\r\n}\r\n\r\nexport function covertDatetoString(newDate) {\r\n  const startDate = new Date(newDate);\r\n  const prevMonth = validateTwoDigitDate(String(startDate.getMonth() + 1));\r\n  const prevDay = validateTwoDigitDate(String(startDate.getDate()));\r\n  const fromDate = startDate.getFullYear() + '-' + prevMonth + '-' + prevDay\r\n  return fromDate;\r\n}\r\n\r\nexport function convertDatetoStringByTimeZone(userInfo, value) {\r\n\r\n  const dateValue = new Date(value);\r\n  const prevMonth = validateTwoDigitDate(String(dateValue.getMonth() + 1));\r\n  const prevDay = validateTwoDigitDate(String(dateValue.getDate()));\r\n  const dateArray = [];\r\n\r\n  const splitChar = getSplitCharacter(userInfo);\r\n  const firstField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[0];\r\n  const secondField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[1];\r\n\r\n  if (firstField === \"dd\") {\r\n    dateArray.push(prevDay);\r\n    dateArray.push(splitChar);\r\n    if (secondField === \"MM\") {\r\n      dateArray.push(prevMonth);\r\n      dateArray.push(splitChar);\r\n      dateArray.push(dateValue.getFullYear());\r\n    }\r\n    else {\r\n      dateArray.push(dateValue.getFullYear());\r\n      dateArray.push(splitChar);\r\n      dateArray.push(prevMonth);\r\n    }\r\n  }\r\n  else if (firstField === \"MM\") {\r\n    dateArray.push(prevMonth);\r\n    dateArray.push(splitChar);\r\n    if (secondField === \"dd\") {\r\n      dateArray.push(prevDay);\r\n      dateArray.push(splitChar);\r\n      dateArray.push(dateValue.getFullYear());\r\n    }\r\n    else {\r\n      dateArray.push(dateValue.getFullYear());\r\n      dateArray.push(splitChar);\r\n      dateArray.push(prevDay);\r\n    }\r\n  }\r\n  else {\r\n    dateArray.push(dateValue.getFullYear());\r\n    dateArray.push(splitChar);\r\n    if (secondField === \"dd\") {\r\n      dateArray.push(prevDay);\r\n      dateArray.push(splitChar);\r\n      dateArray.push(prevMonth);\r\n    }\r\n    else {\r\n      dateArray.push(prevMonth);\r\n      dateArray.push(splitChar);\r\n      dateArray.push(prevDay);\r\n    }\r\n  }\r\n  return dateArray;\r\n}\r\n\r\nexport function convertDateValuetoString(startDateValue, endDateValue, userInfo, noBreadCrumb) {\r\n\r\n  const startDate = startDateValue ? rearrangeDateFormat(userInfo, startDateValue) : new Date();\r\n  const endDate = endDateValue ? rearrangeDateFormat(userInfo, endDateValue) : new Date();\r\n\r\n  // const startDate = startDateValue ? new Date(startDateValue) : new Date();\r\n  // const endDate = endDateValue ? new Date(endDateValue) : new Date();\r\n\r\n  const prevMonth = validateTwoDigitDate(String(startDate.getMonth() + 1));\r\n  const currentMonth = validateTwoDigitDate(String(endDate.getMonth() + 1));\r\n  const prevDay = validateTwoDigitDate(String(startDate.getDate()));\r\n  const currentDay = validateTwoDigitDate(String(endDate.getDate()));\r\n\r\n  //const splitChar = userInfo.ssitedatetime && userInfo.ssitedatetime.indexOf(\"/\") !== -1 ? \"/\" : \"-\";\r\n  const fromDateOnly = startDate.getFullYear() + '-' + prevMonth + '-' + prevDay;\r\n  const toDateOnly = endDate.getFullYear() + '-' + currentMonth + '-' + currentDay;\r\n  const fromDate = fromDateOnly + \"T00:00:00\";\r\n  const toDate = toDateOnly + \"T23:59:59\";\r\n\r\n  if (noBreadCrumb) {\r\n    return ({ fromDate, toDate });\r\n  }\r\n  else {\r\n    const breadCrumbFrom = convertDatetoStringByTimeZone(userInfo, startDate);//startDate.getFullYear() + splitChar + prevMonth + splitChar + prevDay;\r\n    const breadCrumbto = convertDatetoStringByTimeZone(userInfo, endDate);//endDate.getFullYear() + splitChar + currentMonth + splitChar + currentDay;\r\n\r\n    return ({ fromDate, toDate, breadCrumbFrom, breadCrumbto });\r\n  }\r\n\r\n}\r\n\r\nexport function getSplitCharacter(userInfo) {\r\n  const specialChars = `\\`_-\\[\\]'\"\\\\|,.\\/`\r\n  let splitChar = '';\r\n  userInfo.ssitedatetime\r\n    && userInfo.ssitedatetime.split('').some(word => {\r\n      if (splitChar === undefined || splitChar === '') {\r\n        if (specialChars.includes(word)) {\r\n          splitChar = word;\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n  specialChars.split('').some(specialChar => {\r\n    if (splitChar === undefined || splitChar === '') {\r\n      userInfo.ssitedatetime && userInfo.ssitedatetime.split('').some(word => {\r\n        if (splitChar === undefined || splitChar === '') {\r\n          if (word.includes(specialChar)) {\r\n            splitChar = word;\r\n          }\r\n        }\r\n      })\r\n    }\r\n  });\r\n  return splitChar;\r\n}\r\n\r\nexport function rearrangeDateFormat(userInfo, dateValue) {\r\n\r\n  // let splitChar = userInfo.ssitedatetime \r\n  // && userInfo.ssitedatetime.indexOf(\"/\") !== -1 ? \"/\" : \"-\";\r\n\r\n  let splitChar = getSplitCharacter(userInfo);\r\n\r\n  //   console.log(\"splitChar:\", splitChar);\r\n  if (typeof dateValue === \"string\") {//(splitChar === \"/\" || splitChar === \"-\") &&\r\n    const firstField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[0];\r\n    // console.log(\"firstField:\", firstField);\r\n    const timeSplitChar = dateValue.indexOf(\"T\") !== -1 ? \"T\" : \" \"\r\n    const datetime = dateValue.split(timeSplitChar);\r\n    const dateArray = datetime[0].split(splitChar);\r\n    if (firstField === \"dd\") {\r\n      const day = dateArray[0];\r\n      const month = dateArray[1];\r\n      const year = dateArray[2];\r\n      const time = datetime[1] || \"00:00:00\";\r\n\r\n      const formatted = year + \"-\" + month + \"-\" + day + \"T\" + time;\r\n      return new Date(formatted);\r\n    }\r\n    else if (firstField === \"yyyy\") {\r\n      const year = dateArray[0];\r\n      const month = dateArray[1];\r\n      const day = dateArray[2];\r\n      const time = datetime[1] || \"00:00:00\";\r\n      const formatted = year + \"-\" + month + \"-\" + day + \"T\" + time;\r\n      return new Date(formatted);\r\n    }\r\n    else {\r\n      return new Date(dateValue);\r\n    }\r\n  }\r\n  else {\r\n    return dateValue;\r\n  }\r\n}\r\n\r\nexport function rearrangeDateFormatforUI(userInfo, dateValue) {\r\n\r\n  let splitChar = \"-\";\r\n  //   console.log(\"splitChar:\", splitChar);\r\n  if (typeof dateValue === \"string\") {//(splitChar === \"/\" || splitChar === \"-\") &&\r\n    const firstField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[0];\r\n    // console.log(\"firstField:\", firstField);\r\n    const timeSplitChar = dateValue.indexOf(\"T\") !== -1 ? \"T\" : \" \"\r\n    const datetime = dateValue.split(timeSplitChar);\r\n    const dateArray = datetime[0].split(splitChar);\r\n    if (firstField === \"dd\") {\r\n      const day = dateArray[0];\r\n      const month = dateArray[1];\r\n      const year = dateArray[2];\r\n      const time = datetime[1] || \"00:00:00\";\r\n\r\n      const formatted = year + \"-\" + month + \"-\" + day + \"T\" + time;\r\n      return new Date(formatted);\r\n    }\r\n    else if (firstField === \"yyyy\") {\r\n      const year = dateArray[0];\r\n      const month = dateArray[1];\r\n      const day = dateArray[2];\r\n      const time = datetime[1] || \"00:00:00\";\r\n      const formatted = year + \"-\" + month + \"-\" + day + \"T\" + time;\r\n      return new Date(formatted);\r\n    }\r\n    else {\r\n      return new Date(dateValue);\r\n    }\r\n  }\r\n  else {\r\n    return dateValue;\r\n  }\r\n}\r\n\r\nexport function convertUTCDateToLocalDate(date) {\r\n  var newDate = new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000);\r\n\r\n  var offset = date.getTimezoneOffset() / 60;\r\n  var hours = date.getHours();\r\n\r\n  newDate.setHours(hours - offset);\r\n\r\n  return newDate;\r\n}\r\n\r\nexport function convertDateTimetoString(inputDate, userInfo) {\r\n\r\n  // let splitChar = userInfo.ssitedatetime && userInfo.ssitedatetime.indexOf(\"/\") !== -1 ? \"/\" : \"-\";\r\n\r\n  const specialChars = `\\`_-\\[\\]'\"\\\\|,.\\/`\r\n  let splitChar = '';\r\n  userInfo.ssitedatetime\r\n    && userInfo.ssitedatetime.split('').some(word => {\r\n      if (splitChar === undefined || splitChar === '') {\r\n        if (specialChars.includes(word)) {\r\n          splitChar = word;\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n  const month = validateTwoDigitDate(String(inputDate.getMonth() + 1));\r\n  const day = validateTwoDigitDate(String(inputDate.getDate()));\r\n  const year = inputDate.getFullYear();\r\n  const hours = validateTwoDigitDate(String(inputDate.getHours()));\r\n  const minutes = validateTwoDigitDate(String(inputDate.getMinutes()));\r\n  const seconds = validateTwoDigitDate(String(inputDate.getSeconds()));\r\n\r\n  //if (splitChar === \"/\" || splitChar === \"-\") {\r\n  const firstField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[0];\r\n  if (firstField === \"dd\") {\r\n    return day + splitChar + month + splitChar + year + \" \" + hours + \":\" + minutes + \":\" + seconds;\r\n  } else if (firstField === \"yyyy\") {\r\n    return year + splitChar + month + splitChar + day + \"T\" + hours + \":\" + minutes + \":\" + seconds;\r\n  } else {\r\n    return new Date(inputDate);\r\n  }\r\n  // } else {\r\n  //   return inputDate;\r\n  // }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function convertDateTimetoStringDBFormat(inputDate, userInfo) {\r\n\r\n  // let splitChar = userInfo.ssitedatetime &&\r\n  //   userInfo.ssitedatetime.indexOf(\"/\") !== -1 ? \"/\" : \"-\";\r\n\r\n  const specialChars = `\\`_-\\[\\]'\"\\\\|,.\\/`\r\n  let splitChar = '';\r\n  userInfo.ssitedatetime\r\n    && userInfo.ssitedatetime.split('').some(word => {\r\n      if (splitChar === undefined || splitChar === '') {\r\n        if (specialChars.includes(word)) {\r\n          splitChar = word;\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n  let dbformat = \"-\"\r\n\r\n  const month = validateTwoDigitDate(String(inputDate.getMonth() + 1));\r\n  const day = validateTwoDigitDate(String(inputDate.getDate()));\r\n  const year = inputDate.getFullYear();\r\n  const hours = validateTwoDigitDate(String(inputDate.getHours()));\r\n  const minutes = validateTwoDigitDate(String(inputDate.getMinutes()));\r\n  const seconds = validateTwoDigitDate(String(inputDate.getSeconds()));\r\n\r\n  // if (splitChar === \"/\" || splitChar === \"-\") {\r\n  const firstField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[0];\r\n  if (firstField === \"dd\") {\r\n    return year + dbformat + month + dbformat + day + \" \" + hours + \":\" + minutes + \":\" + seconds;\r\n  } else if (firstField === \"yyyy\") {\r\n    return year + dbformat + month + dbformat + day + \" \" + hours + \":\" + minutes + \":\" + seconds;\r\n  } else {\r\n    return new Date(inputDate);\r\n  }\r\n  // } else {\r\n  //   return inputDate;\r\n  // }\r\n}\r\n\r\n\r\n\r\nexport function parentChildComboLoad(columnList, comboData, selectedRecord,\r\n  childColumnList, withoutCombocomponent, ParentComboValues,\r\n  languagetypeCode, userinfo, comboComponents) {\r\n  //console.log(\"columnList:\", columnList);\r\n  let comboValues = {}\r\n  if (columnList.length > 0) {\r\n    columnList.map((x, index) => {\r\n      if (x.inputtype === 'combo' && (x.readonly === undefined || x.readonly === false)) {\r\n        if (comboData[x.label] && comboData[x.label].length > 0) //&& comboData[x.label][0].hasOwnProperty(x.source) \r\n        {\r\n          selectedRecord[x.label] = undefined;\r\n          if (comboData[x.label].length > 0) {\r\n            if (comboData[x.label][0].label === undefined) {\r\n              const optionList = constructjsonOptionList(comboData[x.label] || [], x.valuemember,\r\n                x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n              comboData[x.label] = optionList.get(\"OptionList\");\r\n              if (optionList.get(\"DefaultValue\") !== undefined) {\r\n                selectedRecord[x.label] = optionList.get(\"DefaultValue\")\r\n              }\r\n            } else {\r\n              comboData[x.label] = comboData[x.label]\r\n              const optionList = constructjsonOptionDefault(comboData[x.label] || [], x.valuemember,\r\n                x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n              if (optionList.get(\"DefaultValue\") !== undefined) {\r\n                selectedRecord[x.label] = optionList.get(\"DefaultValue\")\r\n              }\r\n            }\r\n          } else {\r\n            comboData[x.label] = []\r\n          }\r\n          comboValues = childComboLoad(x, comboData, selectedRecord, childColumnList,\r\n            withoutCombocomponent, languagetypeCode, userinfo, selectedRecord[x.label])\r\n        } else {\r\n          selectedRecord[x.label] = undefined\r\n\r\n          comboValues = childComboLoad(x, comboData, selectedRecord, childColumnList,\r\n            withoutCombocomponent, languagetypeCode, userinfo, selectedRecord[x.label])\r\n\r\n          //   comboValues = {\r\n          //   \"comboData\": comboData,\r\n          //   \"selectedRecord\": selectedRecord\r\n          // }\r\n        }\r\n      }else if (x.inputtype === 'combo' && x.readonly === true && ParentComboValues.child.some(y=> y.label===x.label && y.isdifferentdisplaycolumn)) {\r\n        let index = ParentComboValues.child.findIndex(y=> y.label===x.label)\r\n        \r\n        selectedRecord = {\r\n\r\n          ...selectedRecord,\r\n          [x.label]: {\r\n            label: ParentComboValues.item.jsondata ?\r\n              ParentComboValues.item.jsondata[ParentComboValues.child[index].displaycolumnname] :\r\n              ParentComboValues.item[ParentComboValues.child[index].displaycolumnname] || \"\",\r\n            value: ParentComboValues.item.jsondata ?\r\n              ParentComboValues.item.jsondata[ParentComboValues.child[index].tablecolumnname] :\r\n              ParentComboValues.item[ParentComboValues.child[index].tablecolumnname] || -1\r\n          }\r\n        }\r\n\r\n        comboValues = {\r\n          comboData: comboData,\r\n          ...comboValues,\r\n          selectedRecord\r\n        }\r\n      } else if (x.inputtype === 'combo' && x.readonly === true) {\r\n        selectedRecord = {\r\n          ...selectedRecord,\r\n          [x.label]: {\r\n            label: ParentComboValues.item.jsondata ?\r\n              ParentComboValues.item.jsondata[x.displaymember] :\r\n              ParentComboValues.item[x.displaymember] || \"\",\r\n            value: ParentComboValues.item.jsondata ?\r\n              ParentComboValues.item.jsondata[x.valuemember] :\r\n              ParentComboValues.item[x.valuemember] || -1\r\n          }\r\n        }\r\n\r\n        comboValues = {\r\n          comboData: comboData,\r\n          ...comboValues,\r\n          selectedRecord\r\n        }\r\n      }\r\n      else {\r\n        if (x.isMultiLingual) {\r\n          selectedRecord = {\r\n            ...selectedRecord,\r\n            [x.label]: ParentComboValues.item.jsondata ?\r\n              ParentComboValues.item.jsondata[x.displaymember][languagetypeCode] : ParentComboValues.item[x.displaymember][languagetypeCode] || \"\"\r\n          }\r\n        } else {\r\n          if (x.inputtype === \"date\") {\r\n            selectedRecord = {\r\n              ...selectedRecord,\r\n              [x.label]: ParentComboValues.item.jsondata ?\r\n                rearrangeDateFormatforKendoDataTool(userinfo, ParentComboValues.item.jsondata[x.displaymember]) :\r\n                rearrangeDateFormatforKendoDataTool(userinfo, ParentComboValues.item[x.displaymember])\r\n            }\r\n\r\n            if (x.child) {\r\n              const Age = withoutCombocomponent.filter(x => x.name === 'Age');\r\n              x.child.map(k => {\r\n                if (k.label === Age[0].label) {\r\n                  const age = ageCalculate(selectedRecord[x.label]);\r\n\r\n                  selectedRecord[Age[0].label] = age\r\n                }\r\n              })\r\n            }\r\n\r\n          } else {\r\n            selectedRecord = {\r\n              ...selectedRecord,\r\n              [x.label]: ParentComboValues.item.jsondata ?\r\n                ParentComboValues.item.jsondata[x.displaymember] :\r\n                ParentComboValues.item[x.displaymember] || \"\"\r\n            }\r\n          }\r\n\r\n        }\r\n        comboValues = {\r\n          comboData: comboData,\r\n          ...comboValues,\r\n          selectedRecord\r\n        }\r\n        // comboValues[\"selectedRecord\"][x.label] = ParentComboValues[x.displaymember] ||\"\"\r\n      }\r\n    })\r\n  }\r\n  else {\r\n    comboValues = {\r\n      \"comboData\": comboData,\r\n      \"selectedRecord\": selectedRecord\r\n    }\r\n  }\r\n\r\n  return comboValues;\r\n}\r\n\r\n\r\nexport function childComboLoad(x, comboData, selectedRecord, childColumnList,\r\n  withoutCombocomponent, languagetypeCode, userinfo, ParentComboValues) {\r\n  if (selectedRecord[x.label] !== undefined) {\r\n    if (x.hasOwnProperty(\"child\")) {\r\n      x.child.map(y => {\r\n        const index = childColumnList[x.label].findIndex(z => z.label === y.label)\r\n        if (index !== -1) {\r\n          if (childColumnList[x.label][index].inputtype === 'combo' && childColumnList[x.label][index].readonly === true && (y.isdifferentdisplaycolumn && y.isdifferentdisplaycolumn === true)) {\r\n            selectedRecord = {\r\n              ...selectedRecord,\r\n              [childColumnList[x.label][index].label]: {\r\n                label: ParentComboValues.item.jsondata ?\r\n                  ParentComboValues.item.jsondata[y.displaycolumnname] :\r\n                  ParentComboValues.item[y.displaycolumnname] || \"\",\r\n                value: ParentComboValues.item.jsondata ?\r\n                  ParentComboValues.item.jsondata[y.tablecolumnname] :\r\n                  ParentComboValues.item[y.tablecolumnname] || -1\r\n              }\r\n            }\r\n          }\r\n          else if (childColumnList[x.label][index].inputtype === 'combo' && childColumnList[x.label][index].readonly === true) {\r\n            selectedRecord = {\r\n              ...selectedRecord,\r\n              [childColumnList[x.label][index].label]: {\r\n                label: ParentComboValues.item.jsondata ?\r\n                  ParentComboValues.item.jsondata[childColumnList[x.label][index].displaymember] :\r\n                  ParentComboValues.item[childColumnList[x.label][index].displaymember] || \"\",\r\n                value: ParentComboValues.item.jsondata ?\r\n                  ParentComboValues.item.jsondata[childColumnList[x.label][index].valuemember] :\r\n                  ParentComboValues.item[childColumnList[x.label][index].valuemember] || -1\r\n              }\r\n            }\r\n          }\r\n          else if (comboData[y.label] && comboData[y.label].length > 0) {\r\n            if (comboData[y.label][0].label === undefined) {\r\n              // ALPD-3833\r\n              const isMultilingual=  (childColumnList[x.label] && childColumnList[x.label][index] && childColumnList[x.label][index].isMultiLingual) || undefined;\r\n              const optionChildList = constructjsonOptionList(comboData[y.label] || [], childColumnList[x.label][index].valuemember,\r\n                childColumnList[x.label][index].displaymember, false, false, true, undefined, childColumnList[x.label][index].source, isMultilingual, languagetypeCode, y)\r\n              comboData[y.label] = optionChildList.get(\"OptionList\");\r\n              if (optionChildList.get(\"DefaultValue\") !== undefined) {\r\n                selectedRecord[y.label] = optionChildList.get(\"DefaultValue\")\r\n                const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label])\r\n                selectedRecord = { ...selectedRecord, ...newRecord1.selectedRecord }\r\n                comboData = { ...comboData, ...newRecord1.comboData }\r\n\r\n              } else {\r\n                selectedRecord[y.label] = undefined\r\n              }\r\n            } else {\r\n              //below code need to be veriifed for 'x' to be replced with 'y' or viceversa?\r\n              comboData[y.label] = comboData[y.label]\r\n              const optionChildList = constructjsonOptionDefault(comboData[y.label] || [], childColumnList[x.label][index].valuemember,\r\n                childColumnList[x.label][index].displaymember, false, false, true, undefined, childColumnList[x.label][index].source, undefined, undefined, y)\r\n              if (optionChildList.get(\"DefaultValue\") !== undefined) {\r\n                selectedRecord[y.label] = optionChildList.get(\"DefaultValue\")\r\n                const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label])\r\n                selectedRecord = { ...selectedRecord, ...newRecord1.selectedRecord }\r\n                comboData = { ...comboData, ...newRecord1.comboData }\r\n\r\n              } else {\r\n                selectedRecord[y.label] = undefined\r\n              }\r\n            }\r\n          } else {\r\n            selectedRecord[y.label] = undefined\r\n            comboData[y.label] = []\r\n            const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label])\r\n            selectedRecord = { ...selectedRecord, ...newRecord1.selectedRecord }\r\n            comboData = { ...comboData, ...newRecord1.comboData }\r\n          }\r\n        } else {\r\n          const readonlyfields = withoutCombocomponent.findIndex(k => k.label === y.label);\r\n          if (readonlyfields !== -1) {\r\n\r\n            if (withoutCombocomponent[readonlyfields][\"isMultiLingual\"]) {\r\n              selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ?\r\n                selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]][languagetypeCode] : selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]][languagetypeCode]\r\n            } else {\r\n              if (withoutCombocomponent[readonlyfields][\"inputtype\"] === \"date\") {\r\n                selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ?\r\n                  rearrangeDateFormatforKendoDataTool(userinfo, selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]]) :\r\n                  rearrangeDateFormatforKendoDataTool(userinfo, selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]])\r\n\r\n                if (withoutCombocomponent[readonlyfields].child) {\r\n                  const Age = withoutCombocomponent.filter(x => x.name === 'Age');\r\n                  withoutCombocomponent[readonlyfields].child.map(k => {\r\n                    if (k.label === Age[0].label) {\r\n                      const age = ageCalculate(selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]]);\r\n\r\n                      selectedRecord[Age[0].label] = age\r\n                    }\r\n                  })\r\n                }\r\n              } else {\r\n                selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ?\r\n                  selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]] : selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]]\r\n              }\r\n\r\n            }\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n  else if (x.name === 'manualsampleid' && selectedRecord['Order Type'].value === 1) {\r\n    if (x.hasOwnProperty(\"child\")) {\r\n      x.child.map(y => {\r\n        const index = childColumnList[x.label].findIndex(z => z.label === y.label)\r\n        if (index !== -1) {\r\n          if (childColumnList[x.label][index].inputtype === 'combo' && childColumnList[x.label][index].readonly === true) {\r\n            selectedRecord = {\r\n              ...selectedRecord,\r\n              [childColumnList[x.label][index].label]: {\r\n                label: ParentComboValues.item.jsondata ?\r\n                  ParentComboValues.item.jsondata[childColumnList[x.label][index].displaymember] :\r\n                  ParentComboValues.item[childColumnList[x.label][index].displaymember] || \"\",\r\n                value: ParentComboValues.item.jsondata ?\r\n                  ParentComboValues.item.jsondata[childColumnList[x.label][index].valuemember] :\r\n                  ParentComboValues.item[childColumnList[x.label][index].valuemember] || -1\r\n              }\r\n            }\r\n          }\r\n          else if (comboData[y.label] && comboData[y.label].length > 0) {\r\n            if (comboData[y.label][0].label === undefined) {\r\n              const optionChildList = constructjsonOptionList(comboData[y.label] || [], childColumnList[x.label][index].valuemember,\r\n                childColumnList[x.label][index].displaymember, false, false, true, undefined, childColumnList[x.label][index].source, y.isMultiLingual, languagetypeCode, y)\r\n              comboData[y.label] = optionChildList.get(\"OptionList\");\r\n              if (optionChildList.get(\"DefaultValue\") !== undefined) {\r\n                selectedRecord[y.label] = optionChildList.get(\"DefaultValue\")\r\n                const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label])\r\n                selectedRecord = { ...selectedRecord, ...newRecord1.selectedRecord }\r\n                comboData = { ...comboData, ...newRecord1.comboData }\r\n              } else {\r\n                selectedRecord[y.label] = undefined\r\n                const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label])\r\n                selectedRecord = { ...selectedRecord, ...newRecord1.selectedRecord }\r\n                comboData = { ...comboData, ...newRecord1.comboData }\r\n              }\r\n            } else {\r\n              //below code need to be veriifed for 'x' to be replced with 'y' or viceversa?\r\n              comboData[y.label] = comboData[y.label]\r\n              const optionChildList = constructjsonOptionDefault(comboData[y.label] || [], childColumnList[x.label][index].valuemember,\r\n                childColumnList[x.label][index].displaymember, false, false, true, undefined, childColumnList[x.label][index].source, undefined, undefined, y)\r\n              if (optionChildList.get(\"DefaultValue\") !== undefined) {\r\n                selectedRecord[y.label] = optionChildList.get(\"DefaultValue\")\r\n                const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label])\r\n                selectedRecord = { ...selectedRecord, ...newRecord1.selectedRecord }\r\n                comboData = { ...comboData, ...newRecord1.comboData }\r\n              } else {\r\n                selectedRecord[y.label] = undefined\r\n                const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label])\r\n                selectedRecord = { ...selectedRecord, ...newRecord1.selectedRecord }\r\n                comboData = { ...comboData, ...newRecord1.comboData }\r\n              }\r\n            }\r\n          } else {\r\n            selectedRecord[y.label] = undefined\r\n            comboData[y.label] = []\r\n            const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent, userinfo.slanguagetypecode, userinfo, selectedRecord[y.label])\r\n            selectedRecord = { ...selectedRecord, ...newRecord1.selectedRecord }\r\n            comboData = { ...comboData, ...newRecord1.comboData }\r\n          }\r\n        } else {\r\n          const readonlyfields = withoutCombocomponent.findIndex(k => k.label === y.label);\r\n          if (readonlyfields !== -1) {\r\n\r\n            if (withoutCombocomponent[readonlyfields][\"isMultiLingual\"]) {\r\n              selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ?\r\n                selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]][languagetypeCode] : selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]][languagetypeCode]\r\n            } else {\r\n              if (withoutCombocomponent[readonlyfields][\"inputtype\"] === \"date\") {\r\n                selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ?\r\n                  rearrangeDateFormatforKendoDataTool(userinfo, selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]]) :\r\n                  rearrangeDateFormatforKendoDataTool(userinfo, selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]])\r\n\r\n                if (withoutCombocomponent[readonlyfields].child) {\r\n                  const Age = withoutCombocomponent.filter(x => x.name === 'Age');\r\n                  withoutCombocomponent[readonlyfields].child.map(k => {\r\n                    if (k.label === Age[0].label) {\r\n                      const age = ageCalculate(selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]]);\r\n\r\n                      selectedRecord[Age[0].label] = age\r\n                    }\r\n                  })\r\n                }\r\n              } else {\r\n                selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ?\r\n                  selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]] : selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]]\r\n              }\r\n\r\n            }\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  else {\r\n    if (x.hasOwnProperty(\"child\")) {\r\n      x.child.map(y => {\r\n        selectedRecord[y.label] = undefined\r\n        const index = childColumnList[x.label] && childColumnList[x.label].findIndex(z => z.label === y.label)\r\n        if (index !== undefined && index !== -1) {\r\n          comboData[y.label] = undefined\r\n          const newRecord1 = childComboLoad(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent)\r\n          selectedRecord = { ...selectedRecord, ...newRecord1.selectedRecord }\r\n          comboData = { ...comboData, ...newRecord1.comboData }\r\n        }\r\n\r\n        else {\r\n          const index = withoutCombocomponent.findIndex(b => b.label === y.label)\r\n          if (index !== -1) {\r\n            if (withoutCombocomponent[index].hasOwnProperty(\"child\")) {\r\n              withoutCombocomponent[index].child.map(k => {\r\n                selectedRecord[k.label] = undefined\r\n              })\r\n            }\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n  const newRecord = {\r\n    \"comboData\": comboData,\r\n    \"selectedRecord\": selectedRecord\r\n  }\r\n  return newRecord;\r\n}\r\n\r\n\r\n\r\nexport function childComboLoadForEdit(x, comboData, selectedRecord, childColumnList, withoutCombocomponent, languagetypeCode) {\r\n  if (selectedRecord[x.label] !== undefined) {\r\n    if (x.hasOwnProperty(\"child\")) {\r\n      x.child.map(y => {\r\n        const index = childColumnList[x.label].findIndex(z => z.label === y.label)\r\n        if (index !== -1) {\r\n          // const childOptionData = comboData[y.label].filter(filterData =>\r\n          //     JSON.parse(filterData[y.source].value)[x.valuemember] === selectedRecord[x.label].item[x.valuemember])\r\n          if (comboData[y.label] && comboData[y.label].length > 0) {\r\n            if (comboData[y.label][0].label === undefined) {\r\n              const optionChildList = constructjsonOptionList(comboData[y.label] || [], childColumnList[x.label][index].valuemember,\r\n                childColumnList[x.label][index].displaymember, false, false, true, undefined, childColumnList[x.label][index].source, y.isMultiLingual, languagetypeCode, y)\r\n              comboData[y.label] = optionChildList.get(\"OptionList\");\r\n\r\n              // if (optionChildList.get(\"DefaultValue\") !== undefined) {\r\n              //   selectedRecord[y.label] = optionChildList.get(\"DefaultValue\")\r\n              childComboLoadForEdit(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent)\r\n              // } else {\r\n              //   selectedRecord[y.label] = undefined\r\n              // }\r\n            } else {\r\n              comboData[y.label] = comboData[y.label]\r\n              const optionChildList = constructjsonOptionList(comboData[y.label] || [], childColumnList[x.label][index].valuemember,\r\n                childColumnList[x.label][index].displaymember, false, false, true, undefined, childColumnList[x.label][index].source, undefined, undefined, y)\r\n              // if (optionChildList.get(\"DefaultValue\") !== undefined) {\r\n              //   selectedRecord[y.label] = optionChildList.get(\"DefaultValue\")\r\n              childComboLoadForEdit(childColumnList[x.label][index], comboData, selectedRecord, childColumnList, withoutCombocomponent)\r\n              // } else {\r\n              //   selectedRecord[y.label] = undefined\r\n              // }\r\n            }\r\n          } else {\r\n            comboData[y.label] = []\r\n          }\r\n        }\r\n        //else {\r\n        //   const readonlyfields = withoutCombocomponent.findIndex(k => k.label === y.label);\r\n        //   if (readonlyfields !== -1) {\r\n\r\n        //     if(withoutCombocomponent[readonlyfields][\"isMultiLingual\"]){\r\n        //     selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ?\r\n        //       selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]][languagetypeCode] : selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]][languagetypeCode] \r\n        //     }else{\r\n        //       selectedRecord[withoutCombocomponent[readonlyfields][\"label\"]] = selectedRecord[x.label].item.jsondata ?\r\n        //       selectedRecord[x.label].item.jsondata[withoutCombocomponent[readonlyfields][\"displaymember\"]] : selectedRecord[x.label].item[withoutCombocomponent[readonlyfields][\"displaymember\"]]\r\n        //     }\r\n        //   }\r\n        // }\r\n      })\r\n    }\r\n  } else {\r\n    if (x.hasOwnProperty(\"child\")) {\r\n      x.child.map(y => {\r\n        selectedRecord[y.label] = undefined\r\n        comboData[y.label] = undefined\r\n      })\r\n    }\r\n  }\r\n  const newRecord = {\r\n    \"comboData\": comboData,\r\n    \"selectedRecord\": selectedRecord\r\n  }\r\n  return newRecord;\r\n}\r\n\r\n\r\nexport function comboChild(data, columnList, childColumnList, slice) {\r\n  let retunObj = {}\r\n  // if (data.findIndex(x => x.label === columnList.label) !== -1) {\r\n  if (!childColumnList.hasOwnProperty(columnList.label)) {\r\n    if (childColumnList[columnList.label] === undefined) {\r\n      if (columnList.hasOwnProperty(\"child\")) {\r\n        let childList = []\r\n        columnList.child.map(childData => {\r\n          const index = data.findIndex(x => x.label === childData.label)\r\n          if (index !== -1) {\r\n            childList.push(data[index])\r\n            if (slice) {\r\n              data = [...data.slice(0, index), ...data.slice(index + 1)]\r\n            }\r\n          }\r\n        })\r\n        childColumnList[columnList.label] = childList;\r\n        if (childList.length > 0) {\r\n          childList.map(y => {\r\n            if (y.hasOwnProperty(\"child\")) {\r\n              const val = comboChild(data, y, childColumnList, slice)\r\n              retunObj[\"data\"] = val.data;\r\n              retunObj[\"childColumnList\"] = val.childColumnList;\r\n            } else {\r\n              retunObj[\"data\"] = data;\r\n              retunObj[\"childColumnList\"] = childColumnList;\r\n            }\r\n          })\r\n        } else {\r\n          retunObj[\"data\"] = data;\r\n          retunObj[\"childColumnList\"] = childColumnList;\r\n        }\r\n      } else {\r\n        retunObj[\"data\"] = data;\r\n        retunObj[\"childColumnList\"] = childColumnList;\r\n      }\r\n    } else {\r\n      retunObj[\"data\"] = data;\r\n      retunObj[\"childColumnList\"] = childColumnList;\r\n\r\n    }\r\n  } else {\r\n    retunObj[\"data\"] = data;\r\n    retunObj[\"childColumnList\"] = childColumnList;\r\n\r\n  }\r\n  return retunObj;\r\n}\r\nexport function ageCalculate(date, checkValue) {\r\n  const now = new Date();\r\n  const today = new Date(now.getYear(), now.getMonth(), now.getDate());\r\n\r\n  let yearNow = now.getYear();\r\n  let monthNow = now.getMonth();\r\n  let dateNow = now.getDate();\r\n\r\n  let dob = new Date(date);\r\n\r\n  let yearDob = dob.getYear();\r\n  let monthDob = dob.getMonth();\r\n  let dateDob = dob.getDate();\r\n  let age = {};\r\n  let ageString = \"\";\r\n  let yearString = \"\";\r\n  let monthString = \"\";\r\n  let dayString = \"\";\r\n\r\n\r\n  let yearAge = yearNow - yearDob;\r\n  let monthAge = 0;\r\n  let dateAge = 0;\r\n\r\n  if (monthNow >= monthDob)\r\n    monthAge = monthNow - monthDob;\r\n  else {\r\n    yearAge--;\r\n    monthAge = 12 + monthNow - monthDob;\r\n  }\r\n\r\n  if (dateNow >= dateDob)\r\n    dateAge = dateNow - dateDob;\r\n  else {\r\n    monthAge--;\r\n    dateAge = 31 + dateNow - dateDob;\r\n\r\n    if (monthAge < 0) {\r\n      monthAge = 11;\r\n      yearAge--;\r\n    }\r\n  }\r\n\r\n  age = {\r\n    years: yearAge,\r\n    months: monthAge,\r\n    days: dateAge\r\n  };\r\n\r\n  if (age.years > 1) yearString = intl.formatMessage({ id: \"IDS_YEARS\" });\r\n  else yearString = intl.formatMessage({ id: \"IDS_YEAR\" });\r\n  if (age.months > 1) monthString = intl.formatMessage({ id: \"IDS_MONTHS\" });\r\n  else monthString = intl.formatMessage({ id: \"IDS_MONTH\" });\r\n  if (age.days > 1) dayString = intl.formatMessage({ id: \"IDS_DAYS\" });\r\n  else dayString = intl.formatMessage({ id: \"IDS_DAY\" });\r\n\r\n  if (checkValue === true) {\r\n    if ((age.years > 0) && (age.months > 0) && (age.days > 0))\r\n      ageString = age.years;\r\n    else if ((age.years === 0) && (age.months === 0) && (age.days > 0))\r\n      ageString = \"1\";\r\n    else if ((age.years > 0) && (age.months === 0) && (age.days === 0))\r\n      ageString = age.years;\r\n    else if ((age.years > 0) && (age.months > 0) && (age.days === 0))\r\n      ageString = age.years;\r\n    else if ((age.years === 0) && (age.months > 0) && (age.days > 0))\r\n      ageString = \"1\";\r\n    else if ((age.years > 0) && (age.months === 0) && (age.days > 0))\r\n      ageString = age.years;\r\n    else if ((age.years === 0) && (age.months > 0) && (age.days === 0))\r\n      ageString = age.months;\r\n    else ageString = \"1\";\r\n    // console.log(ageString);\r\n\r\n  }\r\n  else {\r\n    if ((age.years > 0) && (age.months > 0) && (age.days > 0))\r\n      ageString = age.years + yearString + \", \" + age.months + monthString + \" and \" + age.days + dayString + \" \";\r\n    else if ((age.years === 0) && (age.months === 0) && (age.days > 0))\r\n      ageString = \" \" + age.days + dayString + \" \";\r\n    else if ((age.years > 0) && (age.months === 0) && (age.days === 0))\r\n      ageString = age.years + yearString + \"  \";\r\n    else if ((age.years > 0) && (age.months > 0) && (age.days === 0))\r\n      ageString = age.years + yearString + \" and \" + age.months + monthString + \" \";\r\n    else if ((age.years === 0) && (age.months > 0) && (age.days > 0))\r\n      ageString = age.months + monthString + \" and \" + age.days + dayString + \"\";\r\n    else if ((age.years > 0) && (age.months === 0) && (age.days > 0))\r\n      ageString = age.years + yearString + \" and \" + age.days + dayString + \" \";\r\n    else if ((age.years === 0) && (age.months > 0) && (age.days === 0))\r\n      ageString = age.months + monthString + \" \";\r\n    else ageString = \"0 \" + intl.formatMessage({ id: \"IDS_DAYS\" });\r\n    // console.log(ageString);\r\n  }\r\n  return ageString;\r\n\r\n}\r\n// export function ageCalculateOnlyForYear(date,checkValue) {\r\n//   const now = new Date();\r\n//   const today = new Date(now.getYear(), now.getMonth(), now.getDate());\r\n\r\n//   let yearNow = now.getYear();\r\n//   let monthNow = now.getMonth();\r\n//   let dateNow = now.getDate();\r\n\r\n//   let dob = new Date(date);\r\n\r\n//   let yearDob = dob.getYear();\r\n//   let monthDob = dob.getMonth();\r\n//   let dateDob = dob.getDate();\r\n//   let age = {};\r\n//   let ageString = \"\";\r\n\r\n//   let yearAge = yearNow - yearDob;\r\n//   let monthAge = 0;\r\n//   let dateAge = 0;\r\n\r\n//   if (monthNow >= monthDob)\r\n//     monthAge = monthNow - monthDob;\r\n//   else {\r\n//     yearAge--;\r\n//     monthAge = 12 + monthNow - monthDob;\r\n//   }\r\n\r\n//   if (dateNow >= dateDob)\r\n//     dateAge = dateNow - dateDob;\r\n//   else {\r\n//     monthAge--;\r\n//     dateAge = 31 + dateNow - dateDob;\r\n\r\n//     if (monthAge < 0) {\r\n//       monthAge = 11;\r\n//       yearAge--;\r\n//     }\r\n//   }\r\n\r\n//   age = {\r\n//     years: yearAge,\r\n//     months: monthAge,\r\n//     days: dateAge\r\n//   };\r\n\r\n//   if ((age.years > 0) && (age.months > 0) && (age.days > 0))\r\n//     ageString = age.years;\r\n//   else if ((age.years === 0) && (age.months === 0) && (age.days > 0))\r\n//     ageString = \"1\";\r\n//   else if ((age.years > 0) && (age.months === 0) && (age.days === 0))\r\n//     ageString = age.years ;\r\n//   else if ((age.years > 0) && (age.months > 0) && (age.days === 0))\r\n//     ageString = age.years;\r\n//   else if ((age.years === 0) && (age.months > 0) && (age.days > 0))\r\n//     ageString = \"1\";\r\n//   else if ((age.years > 0) && (age.months === 0) && (age.days > 0))\r\n//     ageString = age.years;\r\n//   else if ((age.years === 0) && (age.months > 0) && (age.days === 0))\r\n//     ageString = age.months;\r\n//   else ageString = \"1\";\r\n//   return ageString;\r\n// }\r\n\r\n\r\nexport function rearrangeDateFormatDateOnly(userInfo, dateValue) {\r\n\r\n  // let splitChar = userInfo.ssitedatetime && userInfo.ssitedatetime.indexOf(\"/\") !== -1 ? \"/\" : \"-\";\r\n\r\n  const specialChars = `\\`_-\\[\\]'\"\\\\|,.\\/`\r\n  let splitChar = '';\r\n  userInfo.ssitedatetime\r\n    && userInfo.ssitedatetime.split('').some(word => {\r\n      if (splitChar === undefined || splitChar === '') {\r\n        if (specialChars.includes(word)) {\r\n          splitChar = word;\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n  if (typeof dateValue === \"string\") {//(splitChar === \"/\" || splitChar === \"-\") &&\r\n    const firstField = userInfo.ssitedatetime && userInfo.ssitedatetime.split(splitChar)[0];\r\n    const timeSplitChar = dateValue.indexOf(\"T\") !== -1 ? \"T\" : \" \"\r\n    const datetime = dateValue.split(timeSplitChar);\r\n    return datetime[0];\r\n  }\r\n  else {\r\n    return dateValue;\r\n  }\r\n}\r\n\r\n\r\nexport function getSameRecordFromTwoDifferentArrays(firstArray, secondArray, PrimaryKey) {\r\n  let filterArray = [];\r\n  for (var i = 0; i < firstArray.length; i++) {\r\n    for (var j = 0; j < secondArray.length; j++) {\r\n      if (firstArray[i][PrimaryKey] == secondArray[j][PrimaryKey]) {\r\n        filterArray.push(secondArray[j]);\r\n      }\r\n    }\r\n  }\r\n  return filterArray;\r\n}\r\n\r\nexport function childComboClear(inputParam) {\r\n  if (inputParam.control.child && inputParam.control.child.length > 0) {\r\n    inputParam.control.child.map(item => {\r\n      inputParam.selectedRecord[item.label] = null;\r\n      delete inputParam.comboData[item.label]\r\n      const comboComponents = inputParam.comboComponents.filter(x => x.label === item.label)\r\n      if (comboComponents.length > 0) {\r\n        if (comboComponents[0].child && comboComponents[0].child.length > 0) {\r\n\r\n          const inputChilParam = {\r\n            control: comboComponents[0], comboComponents: inputParam.comboComponents,\r\n            withoutCombocomponent: inputParam.withoutCombocomponent,\r\n            selectedRecord: inputParam.selectedRecord, comboData: inputParam.comboData\r\n          }\r\n          const { selectedRecord, comboData } = childComboClear(inputChilParam)\r\n          inputParam['selectedRecord'] = selectedRecord\r\n          inputParam['comboData'] = comboData\r\n        }\r\n\r\n      }\r\n    })\r\n  }\r\n  // else if(inputParam.control.dependedChildValues && inputParam.control.dependedChildValues.length > 0){\r\n  //     inputParam.control.dependedChildValues.map(item => {\r\n  //       inputParam.selectedRecord[item.label] = null;\r\n  //       delete inputParam.comboData[item.label]\r\n  //       const comboComponents = inputParam.comboComponents.filter(x => x.label === item.label)\r\n  //       if (comboComponents.length > 0) {\r\n  //         if (comboComponents[0].dependedChildValues && comboComponents[0].dependedChildValues.length > 0) {\r\n  \r\n  //           const inputChilParam = {\r\n  //             control: comboComponents[0], comboComponents: inputParam.comboComponents,\r\n  //             withoutCombocomponent: inputParam.withoutCombocomponent,\r\n  //             selectedRecord: inputParam.selectedRecord, comboData: inputParam.comboData\r\n  //           }\r\n  //           const { selectedRecord, comboData } = childComboClear(inputChilParam)\r\n  //           inputParam['selectedRecord'] = selectedRecord\r\n  //           inputParam['comboData'] = comboData\r\n  //         }\r\n  \r\n  //       }\r\n  //     })\r\n  //   }\r\n  \r\n  return { selectedRecord: inputParam.selectedRecord, comboData: inputParam.comboData }\r\n}\r\n\r\nexport function childComboClearSubSample(inputParam) {\r\n  if (inputParam.control.child && inputParam.control.child.length > 0) {\r\n    inputParam.control.child.map(item => {\r\n      inputParam.selectedRecord[item.label] = null;\r\n\r\n      const optionList = constructjsonOptionDefault(inputParam.comboData[inputParam.control.label] || [], inputParam.control.valuemember,\r\n        inputParam.control.displaymember, false, false, true, undefined, inputParam.control.source, inputParam.control.isMultiLingual)\r\n      if (optionList.get(\"DefaultValue\") === undefined) {\r\n        delete inputParam.comboData[item.label]\r\n      }\r\n      const comboComponents = inputParam.comboComponents.filter(x => x.label === item.label)\r\n      if (comboComponents.length > 0) {\r\n        if (comboComponents[0].child && comboComponents[0].child.length > 0) {\r\n\r\n          const inputChilParam = {\r\n            control: comboComponents[0], comboComponents: inputParam.comboComponents,\r\n            withoutCombocomponent: inputParam.withoutCombocomponent,\r\n            selectedRecord: inputParam.selectedRecord, comboData: inputParam.comboData, clearComboData: true\r\n          }\r\n          const { selectedRecord, comboData } = childComboClearSubSample(inputChilParam)\r\n          inputParam['selectedRecord'] = selectedRecord\r\n          inputParam['comboData'] = comboData\r\n        }\r\n\r\n      }\r\n    })\r\n  }\r\n  return { selectedRecord: inputParam.selectedRecord, comboData: inputParam.comboData }\r\n}\r\n\r\nexport function CF_encryptionData(Data) {\r\n  const salt = CryptoJS.lib.WordArray.random(128 / 8);\r\n  const key = CryptoJS.PBKDF2(\"AGARAM_SDMS_SCRT\", salt, {\r\n    keySize: 128 / 32,\r\n    iterations: 100,\r\n  });\r\n  const iv = CryptoJS.lib.WordArray.random(128 / 8);\r\n  const encrypted = CryptoJS.AES.encrypt(JSON.stringify(Data), key, {\r\n    iv: iv,\r\n    padding: CryptoJS.pad.Pkcs7,\r\n    mode: CryptoJS.mode.CBC,\r\n  });\r\n  const transitmessage = salt.toString() + iv.toString() + encrypted.toString();\r\n  const ct = {\r\n    EncryptData: transitmessage,\r\n  };\r\n  return ct;\r\n}\r\nexport function removeIndex(data, removeIndex) {\r\n  const data1 = [...data.splice(0, removeIndex), ...data.splice(removeIndex + 1)]\r\n  return data1\r\n}\r\n\r\nexport function compareArrays(a, b) {\r\n  let boolean = false;\r\n  if (a.length === b.length) {\r\n    boolean = a.every(x => b.some(y => y.toString() === x.toString()));\r\n  }\r\n  return boolean;\r\n};\r\n\r\nexport function Lims_JSON_stringify(s, emit_unicode) {\r\n  var json = s;\r\n  return emit_unicode ? json : json.replace(/[\\u007f-\\uffff]/g,\r\n    function (c) {\r\n      return '\\\\u' + ('0000' + c.charCodeAt(0).toString(16)).slice(-4);\r\n    }\r\n  );\r\n}\r\n\r\nexport function copyText(text) {\r\n  if (navigator && navigator.clipboard) {\r\n    navigator.clipboard.writeText(text)\r\n  } else {\r\n    var textField = document.createElement('textarea')\r\n    textField.innerText = text\r\n    document.body.appendChild(textField)\r\n    textField.select()\r\n    document.execCommand('copy')\r\n    textField.remove()\r\n  }\r\n\r\n}\r\n\r\nexport function childSpecLoadCheck(templateManRecord, childcolumnlist, productCategory, map, parentLabel, selectedRecord) {\r\n  let val = { productCategory, map }\r\n  if (templateManRecord.child && templateManRecord.child.length > 0) {\r\n    templateManRecord.child.map(ch => {\r\n      const indexTemplateMandatory1 = childcolumnlist[parentLabel].findIndex(z => z.label === ch.label && z.templatemandatory && z.name === 'Product Category')\r\n      if (indexTemplateMandatory1 !== -1) {\r\n        const data = childcolumnlist[parentLabel][indexTemplateMandatory1]\r\n        if (data.name === 'Product Category') {\r\n          val = {\r\n            productCategory: selectedRecord[data.label] === undefined ? false : true, map: {\r\n              ...map, nproductcatcode: selectedRecord[data.label] ?\r\n                selectedRecord[data.label].value : -1, nproductcode: -1\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        if (childcolumnlist[ch.label]) {\r\n          const vals = childcolumnlist[templateManRecord.label].filter(x => x.label === ch.label)\r\n          if (vals.length > 0) {\r\n            val = childSpecLoadCheck(vals[0], childcolumnlist, val.productCategory, val.map, ch.label, selectedRecord)\r\n          }\r\n\r\n        }\r\n      }\r\n    })\r\n  }\r\n  return { ...val }\r\n}\r\n\r\n//remove space for react awesome query builder\r\nexport function removeSpaceFromFirst(str, query1) {\r\n  let query = query1;\r\n  if(str!==undefined){\r\n    const index = str.indexOf(\"'\");\r\n  // if(index !== undefined){\r\n  if (index !== -1  ) {\r\n    const st = str.substring(0, index + 1);\r\n    const st1 = str.substring(index + 1);\r\n    const index1 = st1.indexOf(\"'\");\r\n    if (st1.substring(0, 1) === \" \") {\r\n      query = query + st + st1.substring(1, index1 + 1);\r\n      query = removeSpaceFromFirst(st1.substring(index1 + 1), query)\r\n    } else if (st1.substring(0, 1) === \"%\") {\r\n      if (st1.substring(1, 2) === \" \") {\r\n        query = query + st + st1.substring(0, 1) + st1.substring(2, index1 + 1);\r\n        query = removeSpaceFromFirst(st1.substring(index1 + 1), query);\r\n      } else {\r\n        query = query + st + st1.substring(0, index1 + 1);\r\n        query = removeSpaceFromFirst(st1.substring(index1 + 1), query);\r\n      }\r\n    } else {\r\n      query = query + st + st1.substring(0, index1 + 1);\r\n      query = removeSpaceFromFirst(st1.substring(index1 + 1), query);\r\n    }\r\n  } else {\r\n    query = query + str;\r\n  }\r\n}else{\r\n  query=str;\r\n}\r\n  return query\r\n}\r\n\r\n//Added For Mandatory Validation Start\r\nexport function onSaveMandatoryValidation(selectedRecord, mandatoryFields, onSaveClick, loadEsign) {\r\n  const failedControls = [];\r\n  const startLabel = [];\r\n  let label = \"IDS_ENTER\";\r\n  mandatoryFields.forEach(item => {\r\n    if (selectedRecord[item.dataField] === undefined || selectedRecord[item.dataField] === null) {\r\n      const alertMessage = (item.alertPreFix ? item.alertPreFix + \" \" : '') +\r\n        intl.formatMessage({ id: item.idsName }) + (item.alertSuffix ? \" \" + item.alertSuffix : '')\r\n      failedControls.push(alertMessage);\r\n      startLabel.push(item.mandatoryLabel)\r\n    }\r\n    else {\r\n      if (item.validateFunction) {\r\n        const validateData = item.validateFunction;\r\n        if (selectedRecord[item.dataField].trim().length === 0) {\r\n          const alertMessage = intl.formatMessage({ id: item.idsName });\r\n          failedControls.push(alertMessage);\r\n          startLabel.push(item.mandatoryLabel)\r\n        }\r\n        else if (validateData(selectedRecord[item.dataField]) === false) {\r\n          const alertMessage = (item.alertPreFix ? item.alertPreFix + \" \" : '') + intl.formatMessage({ id: item.idsName }) + (item.alertSuffix ? \" \" + item.alertSuffix : '')\r\n          failedControls.push(alertMessage);\r\n          startLabel.push(item.mandatoryLabel)\r\n        }\r\n      }\r\n      else {\r\n        if (typeof selectedRecord[item.dataField] === \"object\") {\r\n          if (item.ismultilingual == \"true\") {\r\n            let dataArray = 0;\r\n            Object.values(selectedRecord[item.dataField])\r\n              .map(lang => {\r\n                if (lang.length === 0) {\r\n                  dataArray++\r\n                }\r\n              }\r\n              )\r\n            if (dataArray > 0) {\r\n              const alertMessage = (item.alertPreFix ? item.alertPreFix + \" \" : '') + intl.formatMessage({ id: item.idsName }) + (item.alertSuffix ? \" \" + item.alertSuffix : '')\r\n              failedControls.push(alertMessage);\r\n              startLabel.push(item.mandatoryLabel)//\"I\r\n            }\r\n          } else {\r\n            if (selectedRecord[item.dataField] && selectedRecord[item.dataField].length === 0) {\r\n              const alertMessage = (item.alertPreFix ? item.alertPreFix + \" \" : '') + intl.formatMessage({ id: item.idsName }) + (item.alertSuffix ? \" \" + item.alertSuffix : '')\r\n              failedControls.push(alertMessage);\r\n              startLabel.push(item.mandatoryLabel)\r\n            }\r\n          }\r\n        }\r\n        else if (typeof selectedRecord[item.dataField] === \"string\") {\r\n          if (selectedRecord[item.dataField].trim().length === 0) {\r\n            const alertMessage = (item.alertPreFix ? item.alertPreFix + \" \" : '') + intl.formatMessage({ id: item.idsName }) + (item.alertSuffix ? \" \" + item.alertSuffix : '')\r\n            failedControls.push(alertMessage);\r\n            startLabel.push(item.mandatoryLabel)\r\n          }\r\n        }\r\n        else {\r\n          if (selectedRecord[item.dataField].length === 0\r\n          ) {\r\n            const alertMessage = (item.alertPreFix ? item.alertPreFix + \" \" : '') + intl.formatMessage({ id: item.idsName }) + (item.alertSuffix ? \" \" + item.alertSuffix : '')\r\n            failedControls.push(alertMessage);\r\n            startLabel.push(item.mandatoryLabel)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n  if (failedControls.length === 0) {\r\n    //ALPD-3511 For checking esign agree\r\n    if(loadEsign && loadEsign === true && selectedRecord.hasOwnProperty(\"agree\") && selectedRecord[\"agree\"] === transactionStatus.NO){\r\n      toast.info(intl.formatMessage({ id: \"IDS_CHECKAGREE\" }));\r\n    } else {\r\n      onSaveClick();\r\n    }\r\n  }\r\n  else {\r\n    label = startLabel[0] === undefined ? label : startLabel[0];\r\n    toast.info(`${intl.formatMessage({ id: label })} ${failedControls[0]}`);\r\n  }\r\n\r\n}\r\n//Added for Mandatory Validation End\r\nexport function conditionBasedInput(control, value, name,defaultValue) {\r\n  let inputvalues;\r\n  if (control) {\r\n    switch (control && control.label === name) {\r\n\r\n      case control['isnumeric']: {\r\n        //if (!control.ncustomization) {\r\n         if( (control.precision && control.precision.length) > 0 ){\r\n              let count=0;\r\n        let  splitDotvalue=value.split(\"\");\r\n              splitDotvalue.map(x=>{\r\n            if(x==='.'){\r\n              count++;\r\n            }\r\n          })\r\n          let precision=parseInt(control.precision);\r\n          const regexPattern = new RegExp(`^-?\\\\d*(\\\\.\\\\d{0,${precision}})?$`);\r\n          if(regexPattern.test(value)){\r\n            if (parseFloat(control.max) < parseFloat(value)) {\r\n            inputvalues =value.includes('.')?control.max.includes('.')?control.max:parseInt(control.max).toFixed(parseInt(control.precision)):parseInt(control.max).toFixed(parseInt(control.precision));\r\n          } else if (parseFloat(control.min) > parseFloat(value)) {\r\n            inputvalues = control.min.includes('.')?control.min:parseInt(control.min).toFixed(parseInt(control.precision))//:parseInt(control.min).toFixed(parseInt(control.precision));//defaultValue//control.min+'.' + valueSplit['1'];\r\n          }else{\r\n            if(value!== ''){\r\n            let valueNumeric=parseInt(value.replace(/[^0-9.]/g, ''));\r\n            inputvalues= count === 1 ? value: valueNumeric.toFixed(parseInt(control.precision));\r\n            }\r\n          }\r\n          }else{\r\n            inputvalues=defaultValue;\r\n          }\r\n      //     let splitDotvalue=[];\r\n      //     let valueSplit=[];\r\n      //     let count=0;\r\n      //     valueSplit=value.split(\".\");\r\n      //     splitDotvalue=value.split(\"\");\r\n      //     splitDotvalue.map(x=>{\r\n      //       if(x==='.'){\r\n      //         count++;\r\n      //       }\r\n      //     })\r\n      //  //   let str=parseInt(control.sfieldlength)-parseInt(control.precision)\r\n      //     if (parseInt(control.max) < parseInt(value)) {\r\n      //       inputvalues =count === 1?control.max: control.max+'.' + valueSplit['1'];\r\n      //     } else if (parseInt(control.min) > parseInt(value)) {\r\n      //       inputvalues = defaultValue//control.min+'.' + valueSplit['1'];\r\n      //     }else{\r\n      //     //if(parseInt(str) <parseInt(valueSplit['0'] && valueSplit['0'].length)){\r\n      //      // inputvalues =   (valueSplit['0'].slice(0, -1) + '' )+'.' + valueSplit['1'];\r\n      //     //}else\r\n      //      if(parseInt(control.precision)<parseInt(valueSplit['1'] && valueSplit['1'].length)){\r\n      //       inputvalues = valueSplit['0']+'.'+ (valueSplit['1'].slice(0, -1) + '' );\r\n      //     }else{\r\n      //     let ValueString=value.replace(/[^0-9.]/g, '');\r\n      //    let valueNumeric=parseInt(value.replace(/[^0-9.]/g, ''));\r\n      //    // inputvalues =count > 1 ?  value.slice(0, -1) + '' :count === 1 ? \r\n      //     inputvalues =count > 1 ?  defaultValue : count === 1 ? \r\n      //     ValueString : value.match(/^[0-9]+$/) == null ? \"\": valueNumeric.toFixed(parseInt(control.precision));\r\n      //   }\r\n      // }\r\n            }\r\n            else{\r\n          if (parseInt(control.max) < parseInt(value)) {\r\n            inputvalues = control.max\r\n          } else if (parseInt(control.min) > parseInt(value)) {\r\n            inputvalues = control.min\r\n          } else {\r\n            inputvalues = value.replace(/[^0-9]/g, '');\r\n          }\r\n        }\r\n       // } else {\r\n         // inputvalues = value.replace(/[^0-9]/g, '');\r\n      ///  }\r\n        break;\r\n      }\r\n      case control['isalphabetsmall']: {\r\n        inputvalues = value.replace(/[^a-z]/g, '');\r\n        break;\r\n      }\r\n      case control['isalphabetcaptial']: {\r\n        inputvalues = value.replace(/[^A-Z]/g, '');\r\n        break;\r\n      }\r\n      case control['isalphabetspl']: {\r\n        if (control.ncustomization) {\r\n          let notAllowChar = false;\r\n          if (control.nsplcharnotallow) {\r\n            const splChar = control.nsplcharnotallow.split(/(?!$)/u);\r\n            const valueList=value.split(/(?!$)/u);\r\n            splChar.map(item => { valueList.map(item1=>{if(item === item1){notAllowChar = true}}) })  \r\n          }\r\n          if((parseInt(control.nmaxsmallletters) < value.replace(/[^a-z]/g, '').length)\r\n          ||(parseInt(control.nmaxcapticalletters) < value.replace(/[^A-Z]/g, '').length)\r\n          ||(parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length)\r\n          ||(parseInt(control.nmaxletters) < value.replace(/[^A-Z]/g, '').length))\r\n          {\r\n            inputvalues=defaultValue;\r\n          }else{\r\n            inputvalues=\r\n            control.naviodsplchar ? \r\n            (notAllowChar ? defaultValue : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '')):\r\n            control.ncasesensitive ?  value.replace(/[^A-Z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '') : \r\n            control.ncaptialletters ?  value.replace(/[^A-Z.!#$@%&'*+\",./=?^_`{|}~-]/g, '') :\r\n            control.nsmallletters ? value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/g, '') \r\n            :value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '')\r\n            \r\n          }\r\n          // if (control.ncasesensitive) {\r\n          //   if (parseInt(control.nmaxsmallletters) < value.replace(/[^a-z]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else if (parseInt(control.nmaxcapticalletters) < value.replace(/[^A-Z]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   }\r\n          //   else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else {\r\n          //     inputvalues = control.naviodsplchar ? notAllowChar ? value.slice(0, -1) + '' : value.replace(/[^A-Z.!#$@%&'*+\",./=?^_`{|}~-]/g, '') : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\r\n          //   }\r\n          // } else if (control.ncaptialletters) {\r\n          //   if (parseInt(control.nmaxletters) < value.replace(/[^A-Z]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   }\r\n          //   else {\r\n          //     inputvalues = control.naviodsplchar ? notAllowChar ? value.slice(0, -1) + '' : value.replace(/[^A-Z.!#$@%&'*+\",./=?^_`{|}~-]/g, '') : value.replace(/[^A-Z.!#$@%&'*+\",./=?^_`{|}~-]/g, '');\r\n          //   }\r\n          // } else if (control.nsmallletters) {\r\n          //   if (parseInt(control.nmaxletters) < value.replace(/[^a-z]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else {\r\n          //     inputvalues = control.naviodsplchar ? notAllowChar ? value.slice(0, -1) + '' : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/g, '') : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/g, '');\r\n          //   }\r\n          // } else {\r\n          //   if (parseInt(control.nmaxletters) < value.replace(/[^a-zA-Z]/gi, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else {\r\n\r\n          //     inputvalues = control.naviodsplchar ? notAllowChar ? value.slice(0, -1) + '' : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '') : value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\r\n          //   }\r\n          // }\r\n        } else {\r\n          inputvalues = value.replace(/[^a-z.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\r\n        }\r\n        break;\r\n      }\r\n      case control['isnumericspl']: {\r\n        if (control.ncustomization) {\r\n          let notAllowChar = false;\r\n          if (control.nsplcharnotallow) {\r\n            const splChar = control.nsplcharnotallow.split(/(?!$)/u);\r\n            const valueList=value.split(/(?!$)/u);\r\n            splChar.map(item => { valueList.map(item1=>{if(item === item1){notAllowChar = true}}) })  \r\n            //splChar.map(item => { if (item === value.charAt(value.length - 1)) { notAllowChar = true } })\r\n          }\r\n          if ((parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length)\r\n          ||(parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) ) {\r\n            inputvalues=defaultValue;\r\n            //inputvalues = value.slice(0, -1) + '';\r\n          } \r\n          //else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\r\n           // inputvalues = value.slice(0, -1) + '';\r\n         // } \r\n          else {\r\n            inputvalues = control.naviodsplchar ? notAllowChar ? defaultValue : \r\n            value.replace(/[^0-9.!#$@%&'*+\",./=?^_`{|}~-]/g, '') : value.replace(/[^0-9.!#$@%&'*+\",./=?^_`{|}~-]/g, '');\r\n\r\n          }\r\n        } else {\r\n          inputvalues = value.replace(/[^0-9.!#$@%&'*+\",./=?^_`{|}~-]/g, '');\r\n        } break;\r\n      }\r\n      case control['isalphanumeric']: {\r\n        if (control.ncustomization) {\r\n          if((parseInt(control.nmaxsmallletters) < value.replace(/[^a-z]/g, '').length)\r\n          ||(parseInt(control.nmaxcapticalletters) < value.replace(/[^A-Z]/g, '').length)\r\n        ||(parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length)\r\n        ||(parseInt(control.nmaxletters) < value.replace(/[^A-Z]/g, '').length))\r\n          {\r\n            inputvalues=defaultValue;\r\n          }else{\r\n            inputvalues = control.ncasesensitive ? value.replace(/[^a-z0-9]/gi, '') : \r\n            control.ncaptialletters?value.replace(/[^A-Z0-9]/g, ''):\r\n            control.nsmallletters?value.replace(/[^a-z0-9]/g, ''):value.replace(/[^a-z0-9]/gi, '');\r\n          }\r\n          // if (control.ncasesensitive) {\r\n          //   if (parseInt(control.nmaxsmallletters) < value.replace(/[^a-z]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else if (parseInt(control.nmaxcapticalletters) < value.replace(/[^A-Z]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else {\r\n          //     inputvalues = value.replace(/[^a-z0-9]/gi, '');\r\n          //   }\r\n          // } else if (control.ncaptialletters) {\r\n          //   if (parseInt(control.nmaxletters) < value.replace(/[^A-Z]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   }\r\n          //   else if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else {\r\n          //     inputvalues = value.replace(/[^A-Z0-9]/g, '');\r\n          //   }\r\n          // } else if (control.nsmallletters) {\r\n          //   if (parseInt(control.nmaxletters) < value.replace(/[^a-z]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else {\r\n          //     inputvalues = value.replace(/[^a-z0-9]/g, '');\r\n          //   }\r\n          // }\r\n          // else {\r\n          //   if (parseInt(control.nmaxletters) < value.replace(/[^a-zA-Z]/gi, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/gi, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else {\r\n          //     inputvalues = value.replace(/[^a-z0-9]/gi, '');\r\n          //   }\r\n          // }\r\n        } else {\r\n          inputvalues = value.replace(/[^a-z0-9]/gi, '');\r\n        }\r\n        break;\r\n      }\r\n      case control['startnospecialcharacter']: {\r\n        // if(value[0] !== '' && value[0].match(/[^a-zA-Z0-9]/)){\r\n          if(/[^a-zA-Z0-9]/.test(value[0])){\r\n\r\n          inputvalues=defaultValue;\r\n        }else{\r\n          inputvalues=value;\r\n        }\r\n        break;\r\n      }\r\n\r\n      default:\r\n        if (control.ncustomization) {\r\n          // if (control.ncasesensitive) {\r\n          //   if (parseInt(control.nmaxsmallletters) < value.replace(/[^a-z]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else if (parseInt(control.nmaxcapticalletters) < value.replace(/[^A-Z]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else {\r\n          //     inputvalues = value.replace(/[^a-z0-9.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\r\n          //   }\r\n          // } else {\r\n          //   if (parseInt(control.nmaxletters) < value.replace(/[^a-zA-Z]/gi, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else if (parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/gi, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   }\r\n          //   else if (parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length) {\r\n          //     inputvalues = value.slice(0, -1) + '';\r\n          //   } else {\r\n          //     inputvalues = value.replace(/[^a-z0-9.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\r\n          //   }\r\n          // }\r\n          if((parseInt(control.nmaxsmallletters) < value.replace(/[^a-z]/g, '').length)\r\n           ||(parseInt(control.nmaxcapticalletters) < value.replace(/[^A-Z]/g, '').length)\r\n           ||(parseInt(control.nmaxnumeric) < value.replace(/[^0-9]/g, '').length)\r\n           ||(parseInt(control.nsplchar) < value.replace(/[^!#$@%&'*+\",./=?^_`{|}~-]/gi, '').length)\r\n           ||(parseInt(control.nmaxletters) < value.replace(/[^a-zA-Z]/gi, '').length))\r\n           {\r\n            inputvalues=defaultValue;\r\n           // inputvalues = value.slice(0, -1) + '';\r\n           }else{\r\n            inputvalues = value.replace(/[^a-z0-9.!#$@%&'*+\",./=?^_`{|}~-]/gi, '');\r\n           }\r\n        } else {\r\n          inputvalues = value;\r\n        }\r\n        break;\r\n    }\r\n  } else {\r\n    inputvalues = value;\r\n  }\r\n  return inputvalues;\r\n}\r\n\r\nexport function replaceBackSlash(dataList){ \r\n\r\n  return (dataList.replaceAll('\\\\','\\\\\\\\\\\\\\\\').replaceAll('\\n','\\\\\\\\n').replaceAll('\"','\\\\\"').trim());\r\n  \r\n };\r\n\r\n \r\n export function checkFilterIsEmptyQueryBuilder(treeData) {\r\n  let ParentItem = { ...treeData };\r\n  let isFilterEmpty=true;\r\n      let childArray = ParentItem.children1;\r\n      if (childArray && childArray.length > 0 && childArray !== undefined) {\r\n          for (var i = 0; i < childArray.length; i++) {\r\n              let childData = childArray[i]\r\n              if (!childData.hasOwnProperty('children1')) {\r\n                  if( childData.properties.field !== null && childData.properties.operator!==\"is_empty\"\r\n                    && childData.properties.operator!==\"is_not_empty\"\r\n                    && childData.properties.operator!==\"is_null\"\r\n                    && childData.properties.operator!==\"is_not_null\" ){\r\n                      if( childData.properties.field !== null && (childData.properties.operator===\"not_equal\"||childData.properties.operator===\"equal\") &&\r\n                      childData.properties.valueSrc[0]==='func'){\r\n                     isFilterEmpty= childData.properties.value[0] && childData.properties.value[0].args.str && childData.properties.value[0].args.str.value!==\"\" && \r\n                     childData.properties.value[0] && childData.properties.value[0].args.str && childData.properties.value[0].args.str.value!==undefined ? true:false;\r\n                      }else{\r\n                      isFilterEmpty= (childData.properties.value[0]!==\"\" && childData.properties.value[0]!==undefined)? true:false;\r\n                      }\r\n                      if(!isFilterEmpty){\r\n                      return isFilterEmpty;\r\n                  }\r\n              }\r\n              } else {\r\n                  if (childData) {\r\n                      ParentItem = checkFilterIsEmptyQueryBuilder(childData)\r\n                      if(!ParentItem){\r\n                          return ParentItem;\r\n                      }\r\n                  } \r\n              }\r\n          }\r\n      }\r\n      return isFilterEmpty;\r\n}\r\n\r\nexport function getFilterConditionsBasedonDataType(extractedColumnList,comboValues) {\r\n  let fields = {};\r\n  if (extractedColumnList.length > 0) {\r\n    extractedColumnList.map(field => {\r\n      field[\"staticField\"]=field && field.staticField?true:false\r\n        let fieldName = field.staticField ? field.dataField : field.idsName;\r\n        switch (field.filterinputtype) {\r\n            case \"textinput\":\r\n                fields = {\r\n                    ...fields,\r\n                    [field.dataField]: {\r\n                        \"label\": field.staticField ? intl.formatMessage({\r\n                            id: field.idsName,\r\n                        }) : field.idsName,\r\n                        \"type\": \"text\",\r\n                        \"valueSources\": [\"value\", \"func\"],\r\n                    }\r\n                }\r\n                break;\r\n            case \"combo\":\r\n                fields = {\r\n                    ...fields,\r\n                    [field.dataField]: {\r\n                        \"label\": field.staticField ? intl.formatMessage({\r\n                            id: field.idsName,\r\n                        }) : field.idsName,\r\n                        \"type\": \"select\",\r\n                        \"valueSources\": [\"value\"],\r\n                        \"fieldSettings\": {\r\n                            \"listValues\": comboValues && comboValues[fieldName]\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            case \"date\":\r\n                fields = {\r\n                    ...fields,\r\n                    [field.dataField]: {\r\n                        \"label\": field.staticField ? intl.formatMessage({\r\n                            id: field.idsName,\r\n                        }) : field.idsName,\r\n                        \"type\": \"date\",\r\n                        \"valueSources\": [\"value\"],\r\n                    }\r\n                }\r\n                break;\r\n            case \"Numeric\":\r\n                fields = {\r\n                    ...fields,\r\n                    [field.dataField]: {\r\n                        \"label\": field.staticField ? intl.formatMessage({\r\n                            id: field.idsName,\r\n                        }) : field.idsName,\r\n                        \"type\": \"number\",\r\n                        \"valueSources\": [\"value\"],\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    });\r\n}\r\nreturn fields;\r\n}\r\nexport function queryBuilderfillingColumns(data,slanguagetypecode){\r\n  const temparray =[];\r\n  data && data.map((option) => {  \r\n    if(option.samplefiltertypefields ===true) { \r\n     temparray.push( {\r\n         \"idsName\": option.realData[designProperties.LABEL][slanguagetypecode],\r\n         \"dataField\": option[designProperties.RECORDTYPE]==='static'?\"(jsondata->>'\"+option[designProperties.PRIMARYKEY]+\"')::int\" :option.realData[designProperties.LISTITEM]==='combo'? \r\n         \"(jsondata->'\"+option.realData[designProperties.VALUE]+\"'->>'\"+option.realData[designProperties.PRIMARYKEY]+\"')::int\" : option.realData[designProperties.LISTITEM]==='Numeric'?\"(jsondata->>'\"+option.realData[designProperties.VALUE]+\"')::int\":\"(jsondata->>'\"+option.realData[designProperties.VALUE]+\"')\", \"width\": \"200px\", \"filterinputtype\": option.realData[designProperties.LISTITEM]\r\n     })\r\n };\r\n });\r\n return temparray;\r\n}"]},"metadata":{},"sourceType":"module"}