{"ast":null,"code":"import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import{initRequest}from'./LoginAction';import{constructOptionList,sortData}from'../components/CommonScript';import{intl}from'../components/App';import Axios from'axios';export function getMISRightsDetail(MISRights,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"misrights/getMISRights\",{nuserrolecode:MISRights.nuserrolecode,userinfo:userInfo}).then(function(response){masterData=_objectSpread(_objectSpread(_objectSpread({},masterData),response.data),{},{updateDataState:true});sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getDashBoardRightsComboDataService(DashBoardparam){return function(dispatch){var contactData={\"nuserrolecode\":DashBoardparam.masterData.SelectedMIS.nuserrolecode,\"userinfo\":DashBoardparam.userInfo};var contactService=rsapi.post(\"misrights/getDashBoardTypeByUserRole\",contactData);var urlArray=[];urlArray=[contactService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};var DashBoardType=constructOptionList(response[0].data||[],\"ndashboardtypecode\",\"sdashboardtypename\",false,false,true).get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{DashBoardType:DashBoardType,selectedDashBoardRights:[],selectedRecord:selectedRecord,openChildModal:true,operation:DashBoardparam.operation,screenName:DashBoardparam.screenName,ncontrolCode:DashBoardparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getReportRightsComboDataService(ReportParamparam){return function(dispatch){var contactData={\"nuserrolecode\":ReportParamparam.masterData.SelectedMIS.nuserrolecode,\"userinfo\":ReportParamparam.userInfo};var contactService=rsapi.post(\"misrights/getReportByUserRole\",contactData);var urlArray=[];urlArray=[contactService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};var Reports=constructOptionList(response[0].data||[],\"nreportcode\",\"sreportname\",false,false,true).get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{Reports:Reports,selectedReportRights:[],selectedRecord:selectedRecord,openChildModal:true,operation:ReportParamparam.operation,screenName:ReportParamparam.screenName,ncontrolCode:ReportParamparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getAlertRightsComboDataService(AlertParamparam){return function(dispatch){var contactData={\"nuserrolecode\":AlertParamparam.masterData.SelectedMIS.nuserrolecode,\"userinfo\":AlertParamparam.userInfo};var contactService=rsapi.post(\"misrights/getAlertByUserRole\",contactData);var urlArray=[];urlArray=[contactService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};var Alert=constructOptionList(response[0].data||[],\"nsqlquerycode\",\"sscreenheader\",false,false,true).get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{Alert:Alert,selectedAlertRights:[],selectedRecord:selectedRecord,openChildModal:true,operation:AlertParamparam.operation,screenName:AlertParamparam.screenName,ncontrolCode:AlertParamparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getHomeRightsComboDataService(HomeParamparam){return function(dispatch){var contactData={\"nuserrolecode\":HomeParamparam.masterData.SelectedMIS.nuserrolecode,\"userinfo\":HomeParamparam.userInfo};var contactService=rsapi.post(\"misrights/getHomeDashBoardRightsByUserRole\",contactData);var urlArray=[];urlArray=[contactService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};var HomeRights=constructOptionList(response[0].data||[],\"ndashboardhomeprioritycode\",\"sdashboardhomepagename\",false,false,true).get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{HomeRights:HomeRights,selectedHomeRights:[],selectedRecord:selectedRecord,openChildModal:true,operation:HomeParamparam.operation,screenName:HomeParamparam.screenName,ncontrolCode:HomeParamparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getAlertHomeRightsComboDataService(AlertHomeParamparam){return function(dispatch){var contactData={\"nuserrolecode\":AlertHomeParamparam.masterData.SelectedMIS.nuserrolecode,\"userinfo\":AlertHomeParamparam.userInfo};var contactService=rsapi.post(\"misrights/getAlertHomeRightsByUserRole\",contactData);var urlArray=[];urlArray=[contactService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};var AlertHomeRights=constructOptionList(response[0].data||[],\"nsqlquerycode\",\"sscreenheader\",false,false,true).get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{AlertHomeRights:AlertHomeRights,selectedAlertHomeRights:[],selectedRecord:selectedRecord,openChildModal:true,operation:AlertHomeParamparam.operation,screenName:AlertHomeParamparam.screenName,ncontrolCode:AlertHomeParamparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/actions/MISRightsAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","initRequest","constructOptionList","sortData","intl","Axios","getMISRightsDetail","MISRights","userInfo","masterData","dispatch","post","nuserrolecode","userinfo","then","response","data","updateDataState","type","payload","operation","modalName","undefined","loading","catch","error","status","message","warn","getDashBoardRightsComboDataService","DashBoardparam","contactData","SelectedMIS","contactService","urlArray","all","selectedRecord","DashBoardType","get","selectedDashBoardRights","openChildModal","screenName","ncontrolCode","formatMessage","id","getReportRightsComboDataService","ReportParamparam","Reports","selectedReportRights","getAlertRightsComboDataService","AlertParamparam","Alert","selectedAlertRights","getHomeRightsComboDataService","HomeParamparam","HomeRights","selectedHomeRights","getAlertHomeRightsComboDataService","AlertHomeParamparam","AlertHomeRights","selectedAlertHomeRights"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport {DEFAULT_RETURN} from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport { initRequest} from './LoginAction';\r\nimport {  constructOptionList, sortData} from '../components/CommonScript';\r\nimport { intl } from '../components/App';\r\nimport Axios from 'axios';\r\n\r\nexport function getMISRightsDetail (MISRights, userInfo, masterData) {\r\n    return function (dispatch) {   \r\n    dispatch(initRequest(true));\r\n    return rsapi.post(\"misrights/getMISRights\", {nuserrolecode:MISRights.nuserrolecode, userinfo:userInfo})\r\n   .then(response=>{     \r\n        masterData = {...masterData, ...response.data,updateDataState:true};       \r\n        sortData(masterData);\r\n        dispatch({type: DEFAULT_RETURN, payload:{masterData, operation:null, modalName:undefined, \r\n             loading:false}});   \r\n   })\r\n   .catch(error=>{\r\n        dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n       if (error.response.status === 500){\r\n           toast.error(error.message);\r\n       } \r\n       else{               \r\n           toast.warn(error.response.data);\r\n       }  \r\n  \r\n   })\r\n}}\r\n\r\nexport function getDashBoardRightsComboDataService(DashBoardparam) {\r\n    return function (dispatch) {\r\n            const contactData = {\r\n                \"nuserrolecode\": DashBoardparam.masterData.SelectedMIS.nuserrolecode,\r\n                \"userinfo\": DashBoardparam.userInfo\r\n\r\n            }\r\n            const contactService = rsapi.post(\"misrights/getDashBoardTypeByUserRole\", contactData);\r\n            let urlArray = [];\r\n                urlArray = [contactService];\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let selectedRecord = {};\r\n                    const   DashBoardType= constructOptionList(response[0].data  || [], \"ndashboardtypecode\", \"sdashboardtypename\", false, false, true).get(\"OptionList\"); \r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            DashBoardType,\r\n                            selectedDashBoardRights: [],\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n                            operation: DashBoardparam.operation, screenName: DashBoardparam.screenName,\r\n                            ncontrolCode: DashBoardparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n       \r\n    }\r\n}\r\nexport function getReportRightsComboDataService(ReportParamparam) {\r\n    return function (dispatch) {\r\n            const contactData = {\r\n                \"nuserrolecode\": ReportParamparam.masterData.SelectedMIS.nuserrolecode,\r\n                \"userinfo\": ReportParamparam.userInfo\r\n\r\n            }\r\n            const contactService = rsapi.post(\"misrights/getReportByUserRole\", contactData);\r\n            let urlArray = [];\r\n                urlArray = [contactService];\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let selectedRecord = {};\r\n                    const   Reports= constructOptionList(response[0].data  || [], \"nreportcode\", \"sreportname\", false, false, true).get(\"OptionList\"); \r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            Reports,\r\n                            selectedReportRights: [],\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n                            operation: ReportParamparam.operation, screenName: ReportParamparam.screenName,\r\n                            ncontrolCode: ReportParamparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n       \r\n    }\r\n}\r\nexport function getAlertRightsComboDataService(AlertParamparam) {\r\n    return function (dispatch) {\r\n            const contactData = {\r\n                \"nuserrolecode\": AlertParamparam.masterData.SelectedMIS.nuserrolecode,\r\n                \"userinfo\": AlertParamparam.userInfo\r\n            }\r\n            const contactService = rsapi.post(\"misrights/getAlertByUserRole\", contactData);\r\n            let urlArray = [];\r\n                urlArray = [contactService];\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let selectedRecord = {};\r\n                    const   Alert= constructOptionList(response[0].data  || [], \"nsqlquerycode\", \"sscreenheader\", false, false, true).get(\"OptionList\"); \r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            Alert,\r\n                            selectedAlertRights: [],\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n                            operation: AlertParamparam.operation, screenName: AlertParamparam.screenName,\r\n                            ncontrolCode: AlertParamparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n       \r\n    }\r\n}\r\n\r\nexport function getHomeRightsComboDataService(HomeParamparam) {\r\n    return function (dispatch) {\r\n            const contactData = {\r\n                \"nuserrolecode\": HomeParamparam.masterData.SelectedMIS.nuserrolecode,\r\n                \"userinfo\": HomeParamparam.userInfo\r\n            }\r\n            const contactService = rsapi.post(\"misrights/getHomeDashBoardRightsByUserRole\", contactData);\r\n            let urlArray = [];\r\n                urlArray = [contactService];\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let selectedRecord = {};\r\n                    const   HomeRights= constructOptionList(response[0].data  || [], \"ndashboardhomeprioritycode\", \"sdashboardhomepagename\", false, false, true).get(\"OptionList\"); \r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            HomeRights,\r\n                            selectedHomeRights: [],\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n                            operation: HomeParamparam.operation, screenName: HomeParamparam.screenName,\r\n                            ncontrolCode: HomeParamparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n       \r\n    }\r\n}\r\n\r\n\r\nexport function getAlertHomeRightsComboDataService(AlertHomeParamparam) {\r\n    return function (dispatch) {\r\n            const contactData = {\r\n                \"nuserrolecode\": AlertHomeParamparam.masterData.SelectedMIS.nuserrolecode,\r\n                \"userinfo\": AlertHomeParamparam.userInfo\r\n            }\r\n            const contactService = rsapi.post(\"misrights/getAlertHomeRightsByUserRole\", contactData);\r\n            let urlArray = [];\r\n                urlArray = [contactService];\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let selectedRecord = {};\r\n                    const   AlertHomeRights= constructOptionList(response[0].data  || [], \"nsqlquerycode\", \"sscreenheader\", false, false, true).get(\"OptionList\"); \r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            AlertHomeRights,\r\n                            selectedAlertHomeRights: [],\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n                            operation: AlertHomeParamparam.operation, screenName: AlertHomeParamparam.screenName,\r\n                            ncontrolCode: AlertHomeParamparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n       \r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}