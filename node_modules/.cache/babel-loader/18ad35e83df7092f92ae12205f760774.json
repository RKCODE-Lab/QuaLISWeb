{"ast":null,"code":"import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Row,Col,Card,Nav,FormGroup,FormLabel,InputGroup,FormControl}from'react-bootstrap';import{connect}from'react-redux';import{toast}from'react-toastify';import{FormattedMessage}from'react-intl';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faTrashAlt}from'@fortawesome/free-solid-svg-icons';import{callService,crudMaster,updateStore,getSiteDetail,getSiteCombo,validateEsignCredential,filterColumnData}from'../../actions';import{injectIntl}from'react-intl';import ListMaster from'../../components/list-master/list-master.component';import{transactionStatus}from'../../components/Enumeration';import{showEsign,validatePhoneNumber,getControlMap,validateEmail}from'../../components/CommonScript';import{ReadOnlyText,ContentPanel}from'../../components/App.styles';import ReactTooltip from'react-tooltip';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import AddSite from'../../pages/basemaster/AddSite';import Esign from'../audittrail/Esign';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var Site=/*#__PURE__*/function(_Component){_inherits(Site,_Component);var _super=_createSuper(Site);function Site(props){var _this;_classCallCheck(this,Site);_this=_super.call(this,props);_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.onSaveClick=function(saveType,formRef){//add / edit\nvar isValidateEmail=_this.state.selectedRecord[\"semail\"]?validateEmail(_this.state.selectedRecord[\"semail\"]):true;if(isValidateEmail){var dataState=undefined;var operation=\"\";var inputData=[];var selectedId=null;inputData[\"userinfo\"]=_this.props.Login.userInfo;var postParam={selectedObject:\"selectedSite\",primaryKeyField:\"nsitecode\",inputListName:\"Site\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};if(_this.props.Login.operation===\"update\"){postParam['primaryKeyValue']=_this.props.Login.masterData.selectedSite.nsitecode;inputData[\"site\"]={\"nsitecode\":_this.props.Login.masterData.selectedSite.nsitecode,\"nmastersitecode\":_this.props.Login.userInfo.nmastersitecode,\"scontactperson\":_this.state.selectedRecord.scontactperson!==null?_this.state.selectedRecord.scontactperson:\"\",\"ssiteaddress\":_this.state.selectedRecord.ssiteaddress,\"sphoneno\":_this.state.selectedRecord.sphoneno,\"ssitename\":_this.state.selectedRecord.ssitename,\"sfaxno\":_this.state.selectedRecord.sfaxno,\"semail\":_this.state.selectedRecord.semail!==null?_this.state.selectedRecord.semail:\"\",\"ndefaultstatus\":_this.state.selectedRecord.ndefaultstatus};operation=\"update\";dataState=_this.state.dataState;selectedId=_this.props.Login.selectedId;}else{inputData[\"site\"]={\"nmastersitecode\":_this.props.Login.userInfo.nmastersitecode,\"scontactperson\":_this.state.selectedRecord.scontactperson!==null?_this.state.selectedRecord.scontactperson:\"\",\"ssiteaddress\":_this.state.selectedRecord.ssiteaddress,\"sphoneno\":_this.state.selectedRecord.sphoneno,\"ssitename\":_this.state.selectedRecord.ssitename,\"sfaxno\":_this.state.selectedRecord.sfaxno,\"semail\":_this.state.selectedRecord.semail!==null?_this.state.selectedRecord.semail:\"\",\"ndefaultstatus\":_this.state.selectedRecord.ndefaultstatus};operation=\"create\";}inputData[\"site\"][\"ntimezonecode\"]=_this.state.selectedRecord[\"ntimezonecode\"]?_this.state.selectedRecord[\"ntimezonecode\"].value:\"-1\";var inputParam={classUrl:\"site\",methodUrl:\"SiteScreen\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,postParam:postParam,searchRef:_this.searchRef,operation:operation,saveType:saveType,formRef:formRef,dataState:dataState,selectedId:selectedId};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_ENTERVALIDEMAIL\"}));}};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{if(event.target.name===\"sphoneno\"){if(event.target.value!==\"\"){event.target.value=validatePhoneNumber(event.target.value);selectedRecord[event.target.name]=event.target.value!==\"\"?event.target.value:selectedRecord[event.target.name];}else{selectedRecord[event.target.name]=event.target.value;}}else{selectedRecord[event.target.name]=event.target.value;}}_this.setState({selectedRecord:selectedRecord});};_this.DeleteSite=function(operation,ncontrolCode){var inputData=[];inputData[\"site\"]=_this.props.Login.masterData.selectedSite;inputData[\"userinfo\"]=_this.props.Login.userInfo;var postParam={inputListName:\"Site\",selectedObject:\"selectedSite\",primaryKeyField:\"nsitecode\",primaryKeyValue:_this.props.Login.masterData.selectedSite.nsitecode,fecthInputObject:{userinfo:_this.props.Login.userInfo},fetchUrl:\"site/getSiteScreen\"};var inputParam={methodUrl:\"SiteScreen\",postParam:postParam,classUrl:\"site\",inputData:inputData,operation:\"delete\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"Site\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.ConfirmDelete=function(deleteId){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.DeleteSite(\"delete\",deleteId,\"IDS_SITE\");});};_this.reloadData=function(){_this.searchRef.current.value=\"\";var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:\"site\",methodUrl:\"SiteScreen\",displayName:\"IDS_SITE\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.onComboChange=function(comboData,fieldName){if(comboData!==null){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}};var sectionDataState={skip:0,take:10};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],selectedSite:undefined,controlMap:new Map(),Site:[],sectionDataState:sectionDataState};_this.searchRef=React.createRef();_this.searchFieldList=[\"ssitename\",\"ssiteaddress\",\"scontactperson\",\"sphoneno\",\"semail\",\"sfaxno\"];_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(Site,[{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,controlMap=_this$state.controlMap,selectedRecord=_this$state.selectedRecord,userRoleControlRights=_this$state.userRoleControlRights,dataState=_this$state.dataState;if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);}dataState={skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5};updateState=true;}else if(this.props.Login.selectedRecord!==this.state.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;}if(updateState){this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,selectedRecord:selectedRecord,dataState:dataState});}}},{key:\"render\",value:function render(){var _this2=this;var mandatoryFields=[];mandatoryFields.push({\"mandatory\":true,\"idsName\":\"IDS_SITENAME\",\"dataField\":\"ssitename\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"mandatory\":true,\"idsName\":\"IDS_SITEADDRESS\",\"dataField\":\"ssiteaddress\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"mandatory\":true,\"idsName\":\"IDS_PHONENO\",\"dataField\":\"sphoneno\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"mandatory\":true,\"idsName\":\"IDS_FAXNO\",\"dataField\":\"sfaxno\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});var addId=this.state.controlMap.has(\"AddSite\")&&this.state.controlMap.get(\"AddSite\").ncontrolcode;var editId=this.state.controlMap.has(\"EditSite\")&&this.state.controlMap.get(\"EditSite\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteSite\")&&this.state.controlMap.get(\"DeleteSite\").ncontrolcode;var filterParam={inputListName:\"Site\",selectedObject:\"selectedSite\",primaryKeyField:\"nsitecode\",fetchUrl:\"site/getSiteScreen\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var selectedSite=this.props.Login.masterData.selectedSite;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"click\",id:\"tooltip_list_wrap\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{formatMessage:this.props.intl.formatMessage,screenName:\"Site\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.Site,getMasterDetail:function getMasterDetail(_Site){return _this2.props.getSiteDetail(_Site,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedSite,primaryKeyField:\"nsitecode\",mainField:\"ssitename\",firstField:\"scontactperson\",secondField:\"stransdisplaystatus\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,searchRef:this.searchRef,addId:addId,hidePaging:false,openModal:function openModal(){return _this2.props.getSiteCombo(\"IDS_SITE\",\"create\",\"nsitecode\",_this2.props.Login.masterData,_this2.props.Login.userInfo,addId);},reloadData:this.reloadData})),/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.selectedSite?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.selectedSite.ssitename),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"editSite\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),\"data-for\":\"tooltip_list_wrap\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1,className:\"btn btn-circle outline-grey mr-2\",onClick:function onClick(e){return _this2.props.getSiteCombo(\"IDS_SITE\",\"update\",\"nsitecode\",_this2.props.Login.masterData,_this2.props.Login.userInfo,editId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"deleteSite\",className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),\"data-for\":\"tooltip_list_wrap\",hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this2.ConfirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})))))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_SITENAME\",message:\"Sitename\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedSite.ssitename))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_SITEADDRESS\",message:\"Site Address\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedSite.ssiteaddress))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_CONTACTPERSON\",message:\"Contact Person\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedSite.scontactperson===null||this.props.Login.masterData.selectedSite.scontactperson.length===0?'-':this.props.Login.masterData.selectedSite.scontactperson))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_PHONENO\",message:\"Phone Number\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedSite.sphoneno))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_FAXNO\",message:\"Fax No\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedSite.sfaxno))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_EMAIL\",message:\"Email\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedSite.semail===null||this.props.Login.masterData.selectedSite.semail.length===0?'-':this.props.Login.masterData.selectedSite.semail))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TIMEZONE\",message:\"Time\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedSite.ntimezonecode===null||this.props.Login.masterData.selectedSite.ntimezonecode.length===0?'-':this.props.Login.masterData.selectedSite.stimezoneid)))))):\"\"))))))),this.props.Login.openModal?/*#__PURE__*/React.createElement(SlideOutModal,{show:true,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:'IDS_SITE',esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,mandatoryFields:mandatoryFields,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},onSaveClick:this.onSaveClick,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):/*#__PURE__*/React.createElement(AddSite,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,TimeZoneList:this.props.Login.TimeZoneList,onComboChange:this.onComboChange})}):\"\");}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return Site;}(Component);export default connect(mapStateToProps,{filterColumnData:filterColumnData,callService:callService,updateStore:updateStore,getSiteDetail:getSiteDetail,crudMaster:crudMaster,getSiteCombo:getSiteCombo,validateEsignCredential:validateEsignCredential})(injectIntl(Site));","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/pages/basemaster/Site.jsx"],"names":["React","Component","Row","Col","Card","Nav","FormGroup","FormLabel","InputGroup","FormControl","connect","toast","FormattedMessage","FontAwesomeIcon","faPencilAlt","faTrashAlt","callService","crudMaster","updateStore","getSiteDetail","getSiteCombo","validateEsignCredential","filterColumnData","injectIntl","ListMaster","transactionStatus","showEsign","validatePhoneNumber","getControlMap","validateEmail","ReadOnlyText","ContentPanel","ReactTooltip","SlideOutModal","AddSite","Esign","DEFAULT_RETURN","ConfirmMessage","mapStateToProps","state","Login","Site","props","validateEsign","inputParam","inputData","userInfo","sreason","selectedRecord","password","screenData","closeModal","loadEsign","openModal","operation","updateInfo","typeName","data","selectedId","onSaveClick","saveType","formRef","isValidateEmail","dataState","undefined","postParam","selectedObject","primaryKeyField","inputListName","fecthInputObject","userinfo","masterData","selectedSite","nsitecode","nmastersitecode","scontactperson","ssiteaddress","sphoneno","ssitename","sfaxno","semail","ndefaultstatus","value","classUrl","methodUrl","displayName","searchRef","userRoleControlRights","nformcode","ncontrolCode","info","intl","formatMessage","id","onInputOnChange","event","target","type","name","checked","YES","NO","setState","DeleteSite","primaryKeyValue","fetchUrl","screenName","ConfirmDelete","deleteId","confirmMessage","confirm","reloadData","current","onComboChange","comboData","fieldName","sectionDataState","skip","take","error","controlMap","Map","createRef","searchFieldList","previousProps","updateState","Object","values","map","item","push","ncontrolcode","settings","parseInt","mandatoryFields","addId","has","get","editId","filterParam","searchedData","indexOf","e","length","ntimezonecode","stimezoneid","masterStatus","TimeZoneList","warn"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, InputGroup, FormControl } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { toast } from 'react-toastify';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport {callService, crudMaster, updateStore, getSiteDetail,getSiteCombo,\r\n        validateEsignCredential,filterColumnData} from '../../actions';\r\n\r\nimport { injectIntl } from 'react-intl';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport { showEsign,validatePhoneNumber, getControlMap ,validateEmail} from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport AddSite from '../../pages/basemaster/AddSite';\r\nimport Esign from '../audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\nclass Site extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const sectionDataState = { skip: 0, take: 10 };\r\n        this.state = ({\r\n            selectedRecord: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            selectedSite: undefined,\r\n            controlMap: new Map(),\r\n            Site: [],\r\n            sectionDataState\r\n        });\r\n        this.searchRef = React.createRef();\r\n        this.searchFieldList = [\"ssitename\", \"ssiteaddress\",\"scontactperson\", \"sphoneno\", \"semail\", \"sfaxno\"]\r\n        this.confirmMessage = new ConfirmMessage();\r\n      \r\n    }\r\n \r\n    componentDidUpdate(previousProps) {\r\n        let updateState = false;\r\n        let { controlMap, selectedRecord, userRoleControlRights,dataState } = this.state;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n\r\n                \r\n            }\r\n            dataState = {skip:0,take:this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5}\r\n            updateState = true;\r\n        }\r\n        else if (this.props.Login.selectedRecord !== this.state.selectedRecord) {\r\n\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            updateState = true;\r\n\r\n        }\r\n\r\n      if (updateState) {\r\n            this.setState({\r\n                userRoleControlRights, controlMap, selectedRecord,dataState\r\n            });\r\n        }\r\n    }   \r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n   closeModal = () => {\r\n    let loadEsign = this.props.Login.loadEsign;\r\n    let openModal = this.props.Login.openModal;\r\n    let selectedRecord = this.props.Login.selectedRecord;\r\n    if (this.props.Login.loadEsign) {\r\n        if (this.props.Login.operation === \"delete\") {\r\n            loadEsign = false;\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        else {\r\n            loadEsign = false;\r\n        }\r\n    }\r\n    else {\r\n        openModal = false;\r\n        selectedRecord = {};\r\n    }\r\n\r\n    const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: { openModal, loadEsign, selectedRecord, selectedId: null }\r\n    }\r\n    this.props.updateStore(updateInfo);\r\n\r\n}\r\nstatic getDerivedStateFromProps(props, state) {\r\n\r\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n        toast.warn(props.Login.masterStatus);\r\n        props.Login.masterStatus = \"\";\r\n    }\r\n\r\n    if (props.Login.error !== state.error) {\r\n        toast.error(props.Login.error)\r\n        props.Login.error = \"\";\r\n    }\r\n    if (props.Login.selectedRecord === undefined) {\r\n        return { selectedRecord: {} }\r\n    }\r\n    return null;\r\n}\r\nonSaveClick = (saveType, formRef) => {\r\n    //add / edit\r\n    const isValidateEmail = this.state.selectedRecord[\"semail\"]? validateEmail(this.state.selectedRecord[\"semail\"]): true;\r\n if (isValidateEmail) {  \r\n    let dataState = undefined;\r\n    let operation = \"\";\r\n    let inputData = [];\r\n    let selectedId = null;\r\n    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    let postParam = {\r\n        selectedObject: \"selectedSite\",\r\n        primaryKeyField: \"nsitecode\",\r\n        inputListName: \"Site\",\r\n        fecthInputObject: { userinfo: this.props.Login.userInfo }\r\n    }\r\n    if (this.props.Login.operation === \"update\") {\r\n        postParam['primaryKeyValue'] = this.props.Login.masterData.selectedSite.nsitecode;\r\n        inputData[\"site\"] = { \"nsitecode\": this.props.Login.masterData.selectedSite.nsitecode,\r\n                           \"nmastersitecode\": this.props.Login.userInfo.nmastersitecode,\r\n                           \"scontactperson\": this.state.selectedRecord.scontactperson!==null?this.state.selectedRecord.scontactperson:\"\",\r\n                           \"ssiteaddress\": this.state.selectedRecord.ssiteaddress ,\r\n                           \"sphoneno\": this.state.selectedRecord.sphoneno, \r\n                           \"ssitename\": this.state.selectedRecord.ssitename,\r\n                           \"sfaxno\": this.state.selectedRecord.sfaxno ,\r\n                           \"semail\":this.state.selectedRecord.semail!==null?this.state.selectedRecord.semail:\"\" ,\r\n                           \"ndefaultstatus\":this.state.selectedRecord.ndefaultstatus}\r\n\r\n\r\n        operation = \"update\";\r\n        dataState = this.state.dataState;\r\n        selectedId = this.props.Login.selectedId;\r\n    }\r\n    else {\r\n\r\n        inputData[\"site\"] = { \"nmastersitecode\": this.props.Login.userInfo.nmastersitecode,\r\n                            \"scontactperson\": this.state.selectedRecord.scontactperson!==null?this.state.selectedRecord.scontactperson:\"\",\r\n                            \"ssiteaddress\": this.state.selectedRecord.ssiteaddress ,\r\n                            \"sphoneno\": this.state.selectedRecord.sphoneno,\r\n                            \"ssitename\": this.state.selectedRecord.ssitename,\r\n                            \"sfaxno\": this.state.selectedRecord.sfaxno ,\r\n                            \"semail\": this.state.selectedRecord.semail!==null?this.state.selectedRecord.semail:\"\" ,\r\n                            \"ndefaultstatus\":this.state.selectedRecord.ndefaultstatus};\r\n\r\n\r\n        operation = \"create\";\r\n    }\r\n    inputData[\"site\"][\"ntimezonecode\"] = this.state.selectedRecord[\"ntimezonecode\"] ? this.state.selectedRecord[\"ntimezonecode\"].value : \"-1\";\r\n\r\n\r\n    const inputParam = {\r\n        classUrl: \"site\",\r\n        methodUrl: \"SiteScreen\",\r\n        displayName: this.props.Login.inputParam.displayName,\r\n        inputData: inputData,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n        operation: operation, saveType, formRef, dataState, selectedId\r\n    }\r\n\r\n       const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n      else {\r\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n    }\r\n}\r\nelse {\r\n        toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERVALIDEMAIL\" }))\r\n    }\r\n}\r\n\r\n\r\nonInputOnChange = (event) => {\r\n\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n  if (event.target.type === 'checkbox') {\r\n       selectedRecord[event.target.name] = event.target.checked === true ?transactionStatus.YES : transactionStatus.NO;\r\n  }\r\n  else {\r\n    if (event.target.name === \"sphoneno\") {\r\n        if (event.target.value !== \"\") {\r\n            event.target.value = validatePhoneNumber(event.target.value);\r\n            selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value\r\n        }\r\n    }\r\n\r\n    else {\r\n        selectedRecord[event.target.name] = event.target.value;\r\n    }\r\n  }\r\n    this.setState({ selectedRecord });\r\n}\r\n\r\nDeleteSite = (operation, ncontrolCode) => {\r\n    let inputData = [];\r\n\r\n        inputData[\"site\"] = this.props.Login.masterData.selectedSite;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        const postParam = {\r\n            inputListName: \"Site\", selectedObject: \"selectedSite\",\r\n            primaryKeyField: \"nsitecode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedSite.nsitecode,\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            fetchUrl:\"site/getSiteScreen\"\r\n        }\r\n\r\n        const inputParam = {\r\n            methodUrl: \"SiteScreen\", postParam,\r\n            classUrl: \"site\",\r\n            inputData: inputData,\r\n            operation: \"delete\"\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"Site\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n\r\n\r\n}\r\n\r\n\r\nConfirmDelete = (deleteId) => {\r\n    this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n        this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n        () => this.DeleteSite(\"delete\", deleteId, \"IDS_SITE\"));\r\n}\r\n\r\nreloadData = () => {\r\n    this.searchRef.current.value = \"\";\r\n    const inputParam = {\r\n        inputData: { \"userinfo\": this.props.Login.userInfo },\r\n        classUrl: \"site\",\r\n        methodUrl: \"SiteScreen\",\r\n        displayName: \"IDS_SITE\",\r\n        userInfo: this.props.Login.userInfo\r\n    };\r\n\r\n    this.props.callService(inputParam);\r\n}\r\n\r\nonComboChange = (comboData, fieldName) => {\r\n    if (comboData !== null) {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n}\r\nrender(){\r\n    let mandatoryFields = [];\r\n            mandatoryFields.push(\r\n                { \"mandatory\": true, \"idsName\": \"IDS_SITENAME\", \"dataField\": \"ssitename\"  , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n                { \"mandatory\": true, \"idsName\": \"IDS_SITEADDRESS\", \"dataField\": \"ssiteaddress\"  , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n                { \"mandatory\": true, \"idsName\": \"IDS_PHONENO\", \"dataField\": \"sphoneno\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                { \"mandatory\": true, \"idsName\": \"IDS_FAXNO\", \"dataField\": \"sfaxno\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n               \r\n            )\r\n    const addId = this.state.controlMap.has(\"AddSite\") && this.state.controlMap.get(\"AddSite\").ncontrolcode;\r\n    const editId = this.state.controlMap.has(\"EditSite\") && this.state.controlMap.get(\"EditSite\").ncontrolcode;\r\n    const deleteId = this.state.controlMap.has(\"DeleteSite\") && this.state.controlMap.get(\"DeleteSite\").ncontrolcode;\r\n    \r\n    const filterParam = {\r\n        inputListName: \"Site\", selectedObject: \"selectedSite\", primaryKeyField: \"nsitecode\",\r\n        fetchUrl: \"site/getSiteScreen\", fecthInputObject: { userinfo: this.props.Login.userInfo }, masterData: this.props.Login.masterData,\r\n        searchFieldList: this.searchFieldList\r\n    };\r\n    const { selectedSite } = this.props.Login.masterData;\r\n    return(\r\n        \r\n         <>\r\n                         <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" />\r\n                         <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n        <Row noGutters={true}>\r\n        <Col md={4}>\r\n                            <ListMaster\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={\"Site\"}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.Site}\r\n                                getMasterDetail={(Site) => this.props.getSiteDetail(Site, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedSite}\r\n                                primaryKeyField=\"nsitecode\"\r\n                                mainField=\"ssitename\"\r\n                                firstField=\"scontactperson\"\r\n                                secondField=\"stransdisplaystatus\"\r\n\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                searchRef={this.searchRef}\r\n                                addId={addId}\r\n                                hidePaging={false}\r\n\r\n                                openModal={() => this.props.getSiteCombo(\"IDS_SITE\", \"create\", \"nsitecode\", this.props.Login.masterData, this.props.Login.userInfo, addId)}\r\n                                reloadData={this.reloadData}\r\n\r\n                            />\r\n\r\n                        </Col>\r\n                        <Col md={8}>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <ContentPanel className=\"panel-main-content\">\r\n                                        <Card className=\"border-0\">\r\n                                            {this.props.Login.masterData.selectedSite ?\r\n                                                <>\r\n                                                    <Card.Header>\r\n                                                       \r\n                                                        <Card.Title className=\"product-title-main\">\r\n                                                            {this.props.Login.masterData.selectedSite.ssitename}\r\n                                                        </Card.Title>\r\n                                                        <Card.Subtitle>\r\n                                                            <div className=\"d-flex product-category\">\r\n                                                                <h2 className=\"product-title-sub flex-grow-1\">\r\n\r\n                                                                    \r\n                                                                </h2>\r\n                                                                <div className=\"d-inline\">\r\n                                                                    <Nav.Link name=\"editSite\"\r\n                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                        data-for=\"tooltip_list_wrap\"\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                        className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                        onClick={(e) => this.props.getSiteCombo(\"IDS_SITE\", \"update\", \"nsitecode\", this.props.Login.masterData, this.props.Login.userInfo, editId)}\r\n                                                                    >\r\n                                                                        <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                                    </Nav.Link>\r\n                                                                    <Nav.Link name=\"deleteSite\" className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\"\r\n                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                        data-for=\"tooltip_list_wrap\"\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                        onClick={() => this.ConfirmDelete(deleteId)}>\r\n                                                                        <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                        \r\n                                                                    </Nav.Link>\r\n\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                        </Card.Subtitle>\r\n                                                    </Card.Header>\r\n                                                    <Card.Body>\r\n                                                        <Row>\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_SITENAME\" message=\"Sitename\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.selectedSite.ssitename}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_SITEADDRESS\" message=\"Site Address\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.selectedSite.ssiteaddress}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_CONTACTPERSON\" message=\"Contact Person\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.selectedSite.scontactperson === null || this.props.Login.masterData.selectedSite.scontactperson.length === 0 ? '-' :\r\n                                                                    this.props.Login.masterData.selectedSite.scontactperson}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_PHONENO\" message=\"Phone Number\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.selectedSite.sphoneno}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_FAXNO\" message=\"Fax No\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.selectedSite.sfaxno}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_EMAIL\" message=\"Email\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.selectedSite.semail === null || this.props.Login.masterData.selectedSite.semail.length === 0 ? '-' :\r\n                                                                            this.props.Login.masterData.selectedSite.semail}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TIMEZONE\" message=\"Time\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.selectedSite.ntimezonecode === null || this.props.Login.masterData.selectedSite.ntimezonecode.length === 0 ? '-' :\r\n                                                                            this.props.Login.masterData.selectedSite.stimezoneid}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col> \r\n                                                                                    \r\n                                                                                                                      \r\n                                                        </Row>\r\n                                                    \r\n                                                    </Card.Body>\r\n\r\n                                                </>\r\n                                                : \"\"\r\n                                            }\r\n                                        </Card>\r\n                                    </ContentPanel>\r\n                                </Col></Row>\r\n                        </Col>\r\n                    </Row>\r\n                        </div>\r\n                        {this.props.Login.openModal ? \r\n                    <SlideOutModal show={true}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={'IDS_SITE'}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        mandatoryFields={mandatoryFields}\r\n\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        onSaveClick={this.onSaveClick}\r\n\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : <AddSite\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                TimeZoneList={this.props.Login.TimeZoneList}\r\n                                onComboChange={this.onComboChange}\r\n\r\n                            />}\r\n                    />\r\n                    \r\n               :\"\"} \r\n         </>\r\n    )\r\n}\r\n}\r\n\r\nexport default connect(mapStateToProps, {filterColumnData, callService,updateStore,\r\n                       getSiteDetail,crudMaster,getSiteCombo, validateEsignCredential \r\n}\r\n)(injectIntl(Site));\r\n\r\n"]},"metadata":{},"sourceType":"module"}