{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\submitter\\\\institution\\\\InstitutionSiteTab.jsx\";\nimport React from 'react';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { Nav, Row, Col } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport DataGrid from '../../../components/data-grid/data-grid.component';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { process } from '@progress/kendo-data-query';\n\nclass InstitiutionSiteTab extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      siteDataState: {\n        skip: 0,\n        take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n      }\n    };\n  }\n\n  render() {\n    const addSiteId = this.props.controlMap.has(\"AddInstitutionSite\") && this.props.controlMap.get(\"AddInstitutionSite\").ncontrolcode;\n    const InstitutionSiteColumnList = [{\n      \"idsName\": \"IDS_INSTITUTIONSITE\",\n      \"dataField\": \"sinstitutionsitename\",\n      \"width\": \"150px\"\n    }, {\n      \"idsName\": \"IDS_CITY\",\n      \"dataField\": \"scityname\",\n      \"width\": \"150px\"\n    }, {\n      \"idsName\": \"IDS_COUNTRY\",\n      \"dataField\": \"scountryname\",\n      \"width\": \"150px\"\n    }, {\n      \"idsName\": \"IDS_LIMSSITE\",\n      \"dataField\": \"ssitename\",\n      \"width\": \"150px\"\n    }];\n    const detailedFieldList = [{\n      \"idsName\": \"IDS_INSTITUTIONSITEADDRESS\",\n      \"dataField\": \"sinstitutionsiteaddress\",\n      \"width\": \"300px\"\n    }, {\n      \"idsName\": \"IDS_CITYCODE\",\n      \"dataField\": \"scitycode\",\n      \"width\": \"250px\"\n    }, {\n      \"idsName\": \"IDS_ZIPCODE\",\n      \"dataField\": \"szipcode\",\n      \"width\": \"250px\"\n    }, {\n      \"idsName\": \"IDS_STATE\",\n      \"dataField\": \"sstate\",\n      \"width\": \"250px\"\n    }, {\n      \"idsName\": \"IDS_LIMSSITECODE\",\n      \"dataField\": \"ssitecode\",\n      \"width\": \"250px\"\n    }, {\n      \"idsName\": \"IDS_TELEPHONE\",\n      \"dataField\": \"stelephone\",\n      \"width\": \"250px\"\n    }, {\n      \"idsName\": \"IDS_FAX\",\n      \"dataField\": \"sfaxno\",\n      \"width\": \"250px\"\n    }, {\n      \"idsName\": \"IDS_EMAIL\",\n      \"dataField\": \"semail\",\n      \"width\": \"250px\"\n    }, {\n      \"idsName\": \"IDS_WEBSITE\",\n      \"dataField\": \"swebsite\",\n      \"width\": \"250px\"\n    }];\n    const methodUrl = \"InstitutionSite\";\n    const methodParam = {\n      screenName: \"IDS_INSTITUTIONSITE\",\n      instItem: this.props.selectedInstitution,\n      operation: \"create\",\n      userInfo: this.props.userInfo,\n      ncontrolCode: addSiteId,\n      selectedRecord: this.props.selectedRecord\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"actions-stripe\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      name: \"addsite\",\n      className: \"add-txt-btn\",\n      hidden: this.props.userRoleControlRights.indexOf(addSiteId) === -1,\n      onClick: () => this.props.getInstitutionSiteData(methodParam),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 29\n      }\n    }), \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_ADDSITE\",\n      defaultMessage: \"Add Site\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DataGrid, {\n      key: \"institutitonsitekey\",\n      primaryKeyField: \"ninstitutionsitecode\",\n      data: this.props.InstitutionSiteData,\n      dataResult: process(this.props.InstitutionSiteData || [], this.state.siteDataState),\n      dataState: this.state.siteDataState,\n      dataStateChange: event => this.setState({\n        siteDataState: event.dataState\n      }),\n      extractedColumnList: InstitutionSiteColumnList,\n      detailedFieldList: detailedFieldList,\n      expandField: \"expanded\",\n      controlMap: this.props.controlMap,\n      userRoleControlRights: this.props.userRoleControlRights,\n      inputParam: this.props.inputParam,\n      userInfo: this.props.userInfo,\n      deleteRecord: this.props.deleteRecord,\n      fetchRecord: this.props.fetchRecord,\n      editParam: this.props.editParam,\n      onSwitchChange: this.props.defaultRecord,\n      pageable: true,\n      scrollable: 'scrollable',\n      isActionRequired: true,\n      deleteParam: {\n        operation: \"delete\",\n        methodUrl,\n        screenName: this.props.screenName\n      },\n      methodUrl: methodUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }))));\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.InstitutionSiteData !== previousProps.InstitutionSiteData) {\n      let {\n        siteDataState\n      } = this.state;\n\n      if (this.props.dataState === undefined) {\n        siteDataState = {\n          skip: 0,\n          take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n        };\n      }\n\n      this.setState({\n        siteDataState\n      });\n    }\n  }\n\n}\n\n;\nexport default injectIntl(InstitiutionSiteTab);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/submitter/institution/InstitutionSiteTab.jsx"],"names":["React","injectIntl","FormattedMessage","Nav","Row","Col","FontAwesomeIcon","DataGrid","faPlus","process","InstitiutionSiteTab","Component","constructor","props","state","siteDataState","skip","take","settings","parseInt","render","addSiteId","controlMap","has","get","ncontrolcode","InstitutionSiteColumnList","detailedFieldList","methodUrl","methodParam","screenName","instItem","selectedInstitution","operation","userInfo","ncontrolCode","selectedRecord","userRoleControlRights","indexOf","getInstitutionSiteData","InstitutionSiteData","event","setState","dataState","inputParam","deleteRecord","fetchRecord","editParam","defaultRecord","componentDidUpdate","previousProps","undefined"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,gBAArB,QAA6C,YAA7C;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,GAAnB,QAA8B,iBAA9B;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,QAAP,MAAqB,mDAArB;AACA,SAASC,MAAT,QAAuB,mCAAvB;AACA,SAASC,OAAT,QAAwB,4BAAxB;;AACA,MAAOC,mBAAP,SAAmCV,KAAK,CAACW,SAAzC,CAAkD;AAC9CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACnB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAc;AACVC,MAAAA,aAAa,EAAE;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWK,QAAX,GAAsBC,QAAQ,CAAC,KAAKN,KAAL,CAAWK,QAAX,CAAoB,EAApB,CAAD,CAA9B,GAA0D;AAA3E;AADL,KAAd;AAGH;;AAGME,EAAAA,MAAM,GAAE;AACP,UAAMC,SAAS,GAAG,KAAKR,KAAL,CAAWS,UAAX,CAAsBC,GAAtB,CAA0B,oBAA1B,KAAmD,KAAKV,KAAL,CAAWS,UAAX,CAAsBE,GAAtB,CAA0B,oBAA1B,EAAgDC,YAArH;AACA,UAAMC,yBAAyB,GAAG,CAC9B;AAAC,iBAAU,qBAAX;AAAiC,mBAAY,sBAA7C;AAAoE,eAAQ;AAA5E,KAD8B,EAE9B;AAAC,iBAAU,UAAX;AAAsB,mBAAY,WAAlC;AAA8C,eAAQ;AAAtD,KAF8B,EAG9B;AAAC,iBAAU,aAAX;AAAyB,mBAAY,cAArC;AAAoD,eAAQ;AAA5D,KAH8B,EAI9B;AAAC,iBAAU,cAAX;AAA0B,mBAAY,WAAtC;AAAkD,eAAQ;AAA1D,KAJ8B,CAAlC;AAOA,UAAMC,iBAAiB,GAAG,CACtB;AAAE,iBAAW,4BAAb;AAA2C,mBAAa,yBAAxD;AAAmF,eAAS;AAA5F,KADsB,EAEtB;AAAE,iBAAW,cAAb;AAA6B,mBAAa,WAA1C;AAAuD,eAAS;AAAhE,KAFsB,EAGtB;AAAE,iBAAW,aAAb;AAA4B,mBAAa,UAAzC;AAAqD,eAAS;AAA9D,KAHsB,EAItB;AAAE,iBAAW,WAAb;AAA0B,mBAAa,QAAvC;AAAiD,eAAS;AAA1D,KAJsB,EAKtB;AAAE,iBAAW,kBAAb;AAAiC,mBAAa,WAA9C;AAA2D,eAAS;AAApE,KALsB,EAMtB;AAAE,iBAAW,eAAb;AAA8B,mBAAa,YAA3C;AAAyD,eAAS;AAAlE,KANsB,EAOtB;AAAE,iBAAW,SAAb;AAAwB,mBAAa,QAArC;AAA+C,eAAS;AAAxD,KAPsB,EAQtB;AAAE,iBAAW,WAAb;AAA0B,mBAAa,QAAvC;AAAiD,eAAS;AAA1D,KARsB,EAStB;AAAE,iBAAW,aAAb;AAA4B,mBAAa,UAAzC;AAAqD,eAAS;AAA9D,KATsB,CAA1B;AAYA,UAAMC,SAAS,GAAG,iBAAlB;AACA,UAAMC,WAAW,GAAG;AAACC,MAAAA,UAAU,EAAC,qBAAZ;AAChBC,MAAAA,QAAQ,EAAC,KAAKlB,KAAL,CAAWmB,mBADJ;AACwBC,MAAAA,SAAS,EAAC,QADlC;AAC2CC,MAAAA,QAAQ,EAAC,KAAKrB,KAAL,CAAWqB,QAD/D;AAECC,MAAAA,YAAY,EAAEd,SAFf;AAEyBe,MAAAA,cAAc,EAAC,KAAKvB,KAAL,CAAWuB;AAFnD,KAApB;AAGJ,wBACI,uDACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,IAAI,EAAC,SAAf;AAAyB,MAAA,SAAS,EAAC,aAAnC;AAAiD,MAAA,MAAM,EAAE,KAAKvB,KAAL,CAAWwB,qBAAX,CAAiCC,OAAjC,CAAyCjB,SAAzC,MAAwD,CAAC,CAAlH;AACQ,MAAA,OAAO,EAAE,MAAI,KAAKR,KAAL,CAAW0B,sBAAX,CAAkCV,WAAlC,CADrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGQ,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAKrB,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHR,oBAIQ,oBAAC,gBAAD;AAAkB,MAAA,EAAE,EAAC,aAArB;AAAmC,MAAA,cAAc,EAAC,UAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJR,CADJ,CADJ,CADJ,eAWI,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAE,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,QAAD;AACG,MAAA,GAAG,EAAC,qBADP;AAEG,MAAA,eAAe,EAAG,sBAFrB;AAGG,MAAA,IAAI,EAAI,KAAKK,KAAL,CAAW2B,mBAHtB;AAIG,MAAA,UAAU,EAAI/B,OAAO,CAAC,KAAKI,KAAL,CAAW2B,mBAAX,IAAgC,EAAjC,EAAoC,KAAK1B,KAAL,CAAWC,aAA/C,CAJxB;AAKG,MAAA,SAAS,EAAI,KAAKD,KAAL,CAAWC,aAL3B;AAMG,MAAA,eAAe,EAAK0B,KAAD,IAAW,KAAKC,QAAL,CAAc;AAAE3B,QAAAA,aAAa,EAAE0B,KAAK,CAACE;AAAvB,OAAd,CANjC;AAOG,MAAA,mBAAmB,EAAIjB,yBAP1B;AAQG,MAAA,iBAAiB,EAAEC,iBARtB;AASG,MAAA,WAAW,EAAC,UATf;AAUG,MAAA,UAAU,EAAI,KAAKd,KAAL,CAAWS,UAV5B;AAWG,MAAA,qBAAqB,EAAE,KAAKT,KAAL,CAAWwB,qBAXrC;AAYG,MAAA,UAAU,EAAI,KAAKxB,KAAL,CAAW+B,UAZ5B;AAaG,MAAA,QAAQ,EAAI,KAAK/B,KAAL,CAAWqB,QAb1B;AAcG,MAAA,YAAY,EAAI,KAAKrB,KAAL,CAAWgC,YAd9B;AAeG,MAAA,WAAW,EAAG,KAAKhC,KAAL,CAAWiC,WAf5B;AAgBG,MAAA,SAAS,EAAG,KAAKjC,KAAL,CAAWkC,SAhB1B;AAiBG,MAAA,cAAc,EAAI,KAAKlC,KAAL,CAAWmC,aAjBhC;AAkBG,MAAA,QAAQ,EAAE,IAlBb;AAmBG,MAAA,UAAU,EAAE,YAnBf;AAoBG,MAAA,gBAAgB,EAAE,IApBrB;AAqBG,MAAA,WAAW,EAAE;AAACf,QAAAA,SAAS,EAAC,QAAX;AAAqBL,QAAAA,SAArB;AAA+BE,QAAAA,UAAU,EAAC,KAAKjB,KAAL,CAAWiB;AAArD,OArBhB;AAsBG,MAAA,SAAS,EAAEF,SAtBd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CAXJ,CADJ;AA4CH;;AACDqB,EAAAA,kBAAkB,CAACC,aAAD,EAAgB;AAC9B,QAAI,KAAKrC,KAAL,CAAW2B,mBAAX,KAAmCU,aAAa,CAACV,mBAArD,EAA0E;AACtE,UAAI;AAAEzB,QAAAA;AAAF,UAAmB,KAAKD,KAA5B;;AACA,UAAI,KAAKD,KAAL,CAAW8B,SAAX,KAAwBQ,SAA5B,EAAuC;AACnCpC,QAAAA,aAAa,GAAG;AAAEC,UAAAA,IAAI,EAAE,CAAR;AAAWC,UAAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWK,QAAX,GAAsBC,QAAQ,CAAC,KAAKN,KAAL,CAAWK,QAAX,CAAoB,EAApB,CAAD,CAA9B,GAA0D;AAA3E,SAAhB;AACH;;AACD,WAAKwB,QAAL,CAAc;AAAE3B,QAAAA;AAAF,OAAd;AACH;AAEJ;;AAxFiD;;AAyFjD;AAED,eAAed,UAAU,CAACS,mBAAD,CAAzB","sourcesContent":["import React from 'react';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Nav, Row, Col } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport DataGrid from '../../../components/data-grid/data-grid.component';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { process } from '@progress/kendo-data-query';\r\nclass  InstitiutionSiteTab extends React.Component{\r\n    constructor(props) {\r\n    super(props);\r\n    this.state = ({\r\n        siteDataState: { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 },\r\n    });\r\n}\r\n\r\n\r\n       render(){\r\n        const addSiteId = this.props.controlMap.has(\"AddInstitutionSite\") && this.props.controlMap.get(\"AddInstitutionSite\").ncontrolcode;\r\n        const InstitutionSiteColumnList = [\r\n            {\"idsName\":\"IDS_INSTITUTIONSITE\",\"dataField\":\"sinstitutionsitename\",\"width\":\"150px\"},\r\n            {\"idsName\":\"IDS_CITY\",\"dataField\":\"scityname\",\"width\":\"150px\"},\r\n            {\"idsName\":\"IDS_COUNTRY\",\"dataField\":\"scountryname\",\"width\":\"150px\"},\r\n            {\"idsName\":\"IDS_LIMSSITE\",\"dataField\":\"ssitename\",\"width\":\"150px\"}\r\n        ];\r\n\r\n        const detailedFieldList = [\r\n            { \"idsName\": \"IDS_INSTITUTIONSITEADDRESS\", \"dataField\": \"sinstitutionsiteaddress\", \"width\": \"300px\" },\r\n            { \"idsName\": \"IDS_CITYCODE\", \"dataField\": \"scitycode\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_ZIPCODE\", \"dataField\": \"szipcode\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_STATE\", \"dataField\": \"sstate\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_LIMSSITECODE\", \"dataField\": \"ssitecode\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_TELEPHONE\", \"dataField\": \"stelephone\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_FAX\", \"dataField\": \"sfaxno\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_EMAIL\", \"dataField\": \"semail\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_WEBSITE\", \"dataField\": \"swebsite\", \"width\": \"250px\" },\r\n        ];\r\n\r\n        const methodUrl = \"InstitutionSite\";\r\n        const methodParam = {screenName:\"IDS_INSTITUTIONSITE\",\r\n            instItem:this.props.selectedInstitution,operation:\"create\",userInfo:this.props.userInfo,\r\n                             ncontrolCode: addSiteId,selectedRecord:this.props.selectedRecord,};\r\n    return (\r\n        <>\r\n            <div className=\"actions-stripe\">\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <Nav.Link name=\"addsite\" className=\"add-txt-btn\" hidden={this.props.userRoleControlRights.indexOf(addSiteId) === -1}\r\n                            onClick={()=>this.props.getInstitutionSiteData(methodParam)}\r\n                            >\r\n                            <FontAwesomeIcon icon = { faPlus } /> { }\r\n                            <FormattedMessage id=\"IDS_ADDSITE\" defaultMessage=\"Add Site\"></FormattedMessage>\r\n                        </Nav.Link>\r\n                </div>\r\n            </div>\r\n            <Row noGutters={true}>\r\n                <Col md=\"12\">\r\n                    <DataGrid\r\n                       key=\"institutitonsitekey\"\r\n                       primaryKeyField = \"ninstitutionsitecode\"\r\n                       data = {this.props.InstitutionSiteData}\r\n                       dataResult = {process(this.props.InstitutionSiteData||[],this.state.siteDataState)}\r\n                       dataState = {this.state.siteDataState}\r\n                       dataStateChange = {(event) => this.setState({ siteDataState: event.dataState })}\r\n                       extractedColumnList = {InstitutionSiteColumnList}\r\n                       detailedFieldList={detailedFieldList}\r\n                       expandField=\"expanded\" \r\n                       controlMap = {this.props.controlMap}\r\n                       userRoleControlRights={this.props.userRoleControlRights}\r\n                       inputParam = {this.props.inputParam}\r\n                       userInfo = {this.props.userInfo}\r\n                       deleteRecord = {this.props.deleteRecord}\r\n                       fetchRecord ={this.props.fetchRecord}\r\n                       editParam ={this.props.editParam}\r\n                       onSwitchChange = {this.props.defaultRecord}\r\n                       pageable={true}\r\n                       scrollable={'scrollable'}\r\n                       isActionRequired={true}\r\n                       deleteParam={{operation:\"delete\", methodUrl,screenName:this.props.screenName}}\r\n                       methodUrl={methodUrl}\r\n                       \r\n                    >\r\n                    </DataGrid>\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    );\r\n}\r\ncomponentDidUpdate(previousProps) {\r\n    if (this.props.InstitutionSiteData !== previousProps.InstitutionSiteData) {\r\n        let { siteDataState} = this.state;\r\n        if (this.props.dataState=== undefined) {\r\n            siteDataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 };\r\n        }\r\n        this.setState({ siteDataState });\r\n    }\r\n\r\n}\r\n};\r\n\r\nexport default injectIntl(InstitiutionSiteTab);"]},"metadata":{},"sourceType":"module"}