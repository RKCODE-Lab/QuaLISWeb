{"ast":null,"code":"import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{toast}from'react-toastify';import{callService,crudMaster}from'../../../actions';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faCopy,faThumbsUp,faTrashAlt}from'@fortawesome/free-solid-svg-icons';import{sortData,getControlMap,showEsign,constructOptionList}from'../../../components/CommonScript';import{process}from'@progress/kendo-data-query';import ListMaster from'../../../components/list-master/list-master.component';import Esign from'../../audittrail/Esign';import SampleFilter from'./SampleFilter';import AddApprovalConfig from'./AddApprovalConfig';import SlideOutModal from'../../../components/slide-out-modal/SlideOutModal';import{ReadOnlyText,ContentPanel}from'../../../components/App.styles';import{openModal,updateStore,getApprovalConfigVersion,getApprovalConfigEditData,copyVersion,setDefault,validateEsignCredential,getFilterChange,getRoleDetails,getCopySubType,filterColumnData,getApprovalConfigurationVersion,approveVersion}from'../../../actions';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';import{ApprovalSubType,designProperties,transactionStatus}from'../../../components/Enumeration';import FilterStatusTab from'./FilterStatusTab';import ValidationStatusTab from'./ValidationStatusTab';import UserRoleAccordion from'./UserRoleAccordion';import CustomAccordion from'../../../components/custom-accordion/custom-accordion.component';import DecisionStatusTab from'./DecisionStatusTab';import ActionStatusTab from'./ActionStatusTab';// import { Tooltip } from '@progress/kendo-react-tooltip';\nimport BreadcrumbComponent from'../../../components/Breadcrumb.Component';import ConfirmMessage from'../../../components/confirm-alert/confirm-message.component';import{Affix}from'rsuite';import FormInput from'../../../components/form-input/form-input.component';import FormSelectSearch from'../../../components/form-select-search/form-select-search.component';// import ReactTooltip from 'react-tooltip';\nvar mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var ApprovalConfig=/*#__PURE__*/function(_React$Component){_inherits(ApprovalConfig,_React$Component);var _super=_createSuper(ApprovalConfig);function ApprovalConfig(props){var _this;_classCallCheck(this,ApprovalConfig);_this=_super.call(this,props);_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.handleClose=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"approve\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.deleteApprovalConfigVersion=function(deleteId){if(_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.APPROVED||_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}else{var postParam={inputListName:\"versionData\",selectedObject:\"selectedVersion\",primaryKeyField:\"napproveconfversioncode\",primaryKeyValue:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,fetchUrl:\"approvalconfig/getApprovalConfigVersion\",fecthInputObject:{napprovalsubtypecode:_this.approvalSubTypeValue.value,userinfo:_this.props.Login.userInfo}// unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\",\n//  \"registrationTypeValue\", \"registrationSubType\", \"registrationSubTypeValue\",\n//     \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\n};var inputData={'approvalconfigversion':{napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:_this.approvalSubTypeValue.value,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue.value,userinfo:_this.props.Login.userInfo}};inputData['userinfo']=_this.props.Login.userInfo;var inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:inputData,postParam:postParam,operation:\"delete\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteId)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},operation:\"delete\",openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"})}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}};_this.approveVersion=function(approveId){if(_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.APPROVED||_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}else{if(_this.approvalSubTypeValue.value===2){var inputData={// 'approvalconfigversion': {\nnapprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:_this.approvalSubTypeValue.value,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1,userinfo:_this.props.Login.userInfo,nregsubtypecode:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue.value:-1,sregsubtypename:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue.label:\"\",nregtypecode:_this.props.Login.masterData.registrationTypeValue?_this.props.Login.masterData.registrationTypeValue.value:-1// nregtypecode:this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1,\n// }\n};inputData['userinfo']=_this.props.Login.userInfo;//  inputData['userinfo'] = this.props.Login.userInfo\nvar inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:inputData,operation:\"approve\",ncontrolcode:approveId};//const masterData = this.props.Login.masterData;\n_this.props.approveVersion(inputParam);// if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\n//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: {\n//             loadEsign: true, screenData: { inputParam, masterData },\n//             openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\n//         }\n//     }\n//     this.props.updateStore(updateInfo);\n// }\n// else {\n//     this.props.crudMaster(inputParam, masterData, \"openModal\");\n// }\n}else{var _inputData={'approvalconfigversion':{napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:_this.approvalSubTypeValue.value,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1,userinfo:_this.props.Login.userInfo,nregsubtypecode:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue.value:-1,sregsubtypename:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue.label:\"\",nregtypecode:_this.props.Login.masterData.registrationTypeValue?_this.props.Login.masterData.registrationTypeValue.value:-1}};_inputData['userinfo']=_this.props.Login.userInfo;var _inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:_inputData,operation:\"updateapprove\",ncontrolcode:approveId};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,approveId)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:_inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"}),operation:\"approve\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(_inputParam,_this.props.Login.masterData,\"openModal\");}}}};_this.getGridJsondata=function(templatedata){var gridItem=[];var gridMoreItem=[];var masterdatefields=[];var masterdateconstraints=[];var masteruniquevalidation=[];var mastercombinationunique=[];var editable=[];var jdynamiccolumns=[];var jnumericcolumns=[];var templatePrimaryKey=\"\";var mastertemplatefields=[];var sampleAuditFields=[];var sampleAuditEditable=[];var sampleAuditMultilingualFields=[];templatedata&&templatedata.map(function(row){return row.children&&row.children.map(function(column){column.children&&column.children.map(function(component,index){//console.log(\"component2:\", component);\nif(component.hasOwnProperty('children')){component.children.map(function(componentRow){var _componentRow$label,_mastertemplatefields;// console.log(\"component row2:\", componentRow);\ncomponentRow.unique&&masteruniquevalidation.push(_defineProperty({},designProperties.LABEL,componentRow.label));componentRow.unique&&mastercombinationunique.push(_defineProperty({},componentRow.label,(_componentRow$label={},_defineProperty(_componentRow$label,designProperties.LABEL,componentRow.displayname),_defineProperty(_componentRow$label,designProperties.VALUE,componentRow.label),_componentRow$label)));templatePrimaryKey=templatePrimaryKey===\"\"&&componentRow.unique?componentRow.label:templatePrimaryKey;var filterinputtype=\"text\";var comboDataInputObject={};if(componentRow.inputtype==='combo'){comboDataInputObject={\"predefinedtablename\":componentRow.source,\"predefinedvaluemember\":componentRow.valuemember,\"predefineddisplaymember\":componentRow.displaymember,\"predefinedismultilingual\":false,\"predefinedconditionalString\":\"\\\"\"+componentRow.valuemember+\"\\\"\"+\" > '0' \"};jnumericcolumns.push(_objectSpread({\"columnname\":componentRow.displaymember,\"displayname\":componentRow.displayname,\"foriegntablePK\":componentRow.label,// \"ismultilingual\": true,\n// \"conditionstring\": \" and nformcode in (\"+componentRow.table.item.nformcode+\") \",\n\"tablecolumnname\":componentRow.valuemember,\"foriegntablename\":componentRow.source},comboDataInputObject));filterinputtype=\"predefinednumeric\";}// samplesearchfields.push(componentRow.label)\nif(componentRow.inputtype==='date'){var _masterdatefields$pus;filterinputtype=\"date\";masterdatefields.push((_masterdatefields$pus={},_defineProperty(_masterdatefields$pus,designProperties.VALUE,componentRow.label),_defineProperty(_masterdatefields$pus,\"dateonly\",componentRow.dateonly||false),_masterdatefields$pus));masterdateconstraints=componentRow.dateConstraintArraySQL?[].concat(_toConsumableArray(componentRow.dateConstraintArraySQL),_toConsumableArray(masterdateconstraints)):masterdateconstraints;}if(componentRow.inputtype==='Numeric'||componentRow.inputtype==='radio'){filterinputtype=\"numeric\";}jdynamiccolumns.push(_objectSpread({default:componentRow.unique?true:false,filterinputtype:filterinputtype,columnname:componentRow.label,displayname:componentRow.displayname},comboDataInputObject));// displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\n// componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\nif(componentRow.mandatory||componentRow.templatemandatory){var _gridItem$push;gridItem.push((_gridItem$push={},_defineProperty(_gridItem$push,designProperties.LABEL,componentRow.displayname),_defineProperty(_gridItem$push,designProperties.VALUE,componentRow.label),_gridItem$push));sampleAuditEditable.push(componentRow.label);}else{var _gridMoreItem$push;gridMoreItem.push((_gridMoreItem$push={},_defineProperty(_gridMoreItem$push,designProperties.LABEL,componentRow.displayname),_defineProperty(_gridMoreItem$push,designProperties.VALUE,componentRow.label),_gridMoreItem$push));}mastertemplatefields.push((_mastertemplatefields={},_defineProperty(_mastertemplatefields,designProperties.LABEL,componentRow.displayname),_defineProperty(_mastertemplatefields,designProperties.VALUE,componentRow.label),_mastertemplatefields));sampleAuditFields.push(componentRow.label);sampleAuditMultilingualFields.push(_defineProperty({},componentRow.label,componentRow.displayname));if(componentRow.templatemandatory){editable.push({label:componentRow.label,editableuntill:[]});}else{editable.push({label:componentRow.label,editableuntill:[transactionStatus.DRAFT]});}return null;});}else{var _component$label,_mastertemplatefields2;//console.log(\"component2:\", component);\ncomponent.unique&&masteruniquevalidation.push(_defineProperty({},designProperties.LABEL,component.label));component.unique&&mastercombinationunique.push(_defineProperty({},component.label,(_component$label={},_defineProperty(_component$label,designProperties.LABEL,component.displayname),_defineProperty(_component$label,designProperties.VALUE,component.label),_component$label)));templatePrimaryKey=templatePrimaryKey===\"\"&&component.unique?component.label:templatePrimaryKey;var filterinputtype=\"text\";var comboDataInputObject={};mastertemplatefields.push((_mastertemplatefields2={},_defineProperty(_mastertemplatefields2,designProperties.LABEL,component.displayname),_defineProperty(_mastertemplatefields2,designProperties.VALUE,component.label),_mastertemplatefields2));sampleAuditFields.push(component.label);sampleAuditMultilingualFields.push(_defineProperty({},component.label,component.displayname));if(component.inputtype==='combo'){filterinputtype=\"predefinednumeric\";comboDataInputObject={\"predefinedtablename\":component.source,\"predefinedvaluemember\":component.valuemember,\"predefineddisplaymember\":component.displaymember,\"predefinedismultilingual\":false,\"predefinedconditionalString\":\"\\\"\"+component.valuemember+\"\\\"\"+\" > '0'\"};jnumericcolumns.push(_objectSpread({\"columnname\":component.label,\"displayname\":component.displayname,\"foriegntablePK\":component.label,// \"ismultilingual\": true,\n//\"conditionstring\": \" and nformcode in (\" + component.table.item.nformcode + \") \",\n\"tablecolumnname\":component.column.value,\"foriegntablename\":component.source},comboDataInputObject));}// samplesearchfields.push(component.label)\nif(component.inputtype==='date'){var _masterdatefields$pus2;filterinputtype=\"date\";masterdatefields.push((_masterdatefields$pus2={},_defineProperty(_masterdatefields$pus2,designProperties.VALUE,component.label),_defineProperty(_masterdatefields$pus2,\"dateonly\",component.dateonly||false),_masterdatefields$pus2));masterdateconstraints=component.dateConstraintArraySQL?[].concat(_toConsumableArray(component.dateConstraintArraySQL),_toConsumableArray(masterdateconstraints)):masterdateconstraints;}if(component.inputtype==='numeric'||component.inputtype==='radio'){filterinputtype=\"numeric\";}jdynamiccolumns.push(_objectSpread({default:component.unique?true:false,columnname:component.label,displayname:component.displayname,filterinputtype:filterinputtype},comboDataInputObject));if(component.mandatory||component.templatemandatory){var _gridItem$push2;gridItem.push((_gridItem$push2={},_defineProperty(_gridItem$push2,designProperties.LABEL,component.displayname),_defineProperty(_gridItem$push2,designProperties.VALUE,component.label),_gridItem$push2));sampleAuditEditable.push(component.label);}else{var _gridMoreItem$push2;gridMoreItem.push((_gridMoreItem$push2={},_defineProperty(_gridMoreItem$push2,designProperties.LABEL,component.displayname),_defineProperty(_gridMoreItem$push2,designProperties.VALUE,component.label),_gridMoreItem$push2));}if(component.templatemandatory){editable.push({label:component.label,editableuntill:[]});}else{editable.push({label:component.label,editableuntill:[transactionStatus.DRAFT]});}return null;}});});});var jsondata={griditem:gridItem,gridmoreitem:gridMoreItem,masterdatefields:masterdatefields,masterdateconstraints:masterdateconstraints,masteruniquevalidation:masteruniquevalidation,editable:editable,mastertemplatefields:mastertemplatefields,mastercombinationunique:mastercombinationunique,sampleAuditFields:sampleAuditFields,sampleAuditEditable:sampleAuditEditable,sampleAuditMultilingualFields:sampleAuditMultilingualFields};//console.log(\"dynamiccolumns:\", jdynamiccolumns);\nreturn{jsondata:jsondata,jdynamiccolumns:jdynamiccolumns,jnumericcolumns:jnumericcolumns,templatePrimaryKey:templatePrimaryKey};};_this.approveVersion1=function(approveId){if(_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.APPROVED||_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}else{var postParam={inputListName:\"versionData\",selectedObject:\"selectedVersion\",primaryKeyField:\"napproveconfversioncode\",primaryKeyValue:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,fetchUrl:\"approvalconfig/getApprovalConfigVersion\",fecthInputObject:{napprovalsubtypecode:_this.approvalSubTypeValue.value,userinfo:_this.props.Login.userInfo},unchangeList:[\"approvalsubtype\",\"approvalSubTypeValue\",\"registrationType\",\"registrationTypeValue\",\"registrationSubType\",\"registrationSubTypeValue\",\"ApprovalsubtypeList\",\"RegistrationTypeList\",\"RegistrationSubTypeList\"]};var _this$getGridJsondata=_this.getGridJsondata(_this.props.Login.selectedTemplate&&_this.props.Login.selectedTemplate),jdynamiccolumns=_this$getGridJsondata.jdynamiccolumns,jnumericcolumns=_this$getGridJsondata.jnumericcolumns,templatePrimaryKey=_this$getGridJsondata.templatePrimaryKey;var inputData={'approvalconfigversion':{napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:_this.approvalSubTypeValue.value,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1,userinfo:_this.props.Login.userInfo,nregsubtypecode:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue.value:-1,sregsubtypename:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue.label:\"\",sviewname:_this.state.selectedRecord.sviewname,ndesigntemplatemappingcode:_this.state.selectedRecord.ndesigntemplatemappingcode.value,sregtemplatename:_this.state.selectedRecord.ndesigntemplatemappingcode.label},jdynamiccolumns:jdynamiccolumns,jnumericcolumns:jnumericcolumns,sprimarykey:templatePrimaryKey};inputData['userinfo']=_this.props.Login.userInfo;// inputData['jsondata'] = this.props.Login.userInfo\nvar inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:inputData,postParam:postParam,operation:\"updateapprove\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,approveId)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"}),operation:\"approve\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}};_this.onSaveClick=function(saveType,formRef){var postParam=undefined;if(_this.props.Login.operation===\"copy\"){var subTypeCode=_this.approvalSubTypeValue.value;var inputData={approvalconfigversion:{napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:subTypeCode,sversionname:_this.state.selectedRecord.sversionname,nregtypecode:subTypeCode===ApprovalSubType.TESTRESULTAPPROVAL?_this.state.selectedRecord['regtype']?_this.state.selectedRecord['regtype'].value:_this.state.registrationTypeValue[0].value:-1,nregsubtypecode:subTypeCode===ApprovalSubType.TESTRESULTAPPROVAL?_this.state.selectedRecord['regsubtype']?_this.state.selectedRecord['regsubtype'].value:_this.state.registrationSubTypeValue[0].value:-1,userinfo:_this.props.Login.userInfo,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1}};inputData['userinfo']=_this.props.Login.userInfo;var inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:inputData,postParam:postParam,searchRef:_this.searchRef,operation:\"copy\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"}),operation:\"copy\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else if(_this.props.Login.operation==='approve'){_this.approveVersion1(_this.props.Login.ncontrolcode);}else{var bool=true;var errormessage=[];var _inputData2={};var approvalconfigrole=[];var filterDetailCount=0;var validationDetailCount=0;var decisionDetailCount=0;var actionDetailCount=0;_inputData2[\"userinfo\"]=_this.props.Login.userInfo;_inputData2['napprovalconfigcode']=_this.props.Login.masterData.realApprovalConfigCode;_inputData2['ntreeversiontempcode']=_this.props.Login.userRoleTree[0].ntreeversiontempcode;_inputData2['napprovalsubtypecode']=_this.approvalSubTypeValue.value;var isAutoApprovalVersion=_this.state.selectedRecord['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord['IDS_AUTOAPPROVAL']===transactionStatus.YES?true:false;var userRoleTree=_this.props.Login.userRoleTree.reverse();userRoleTree.map(function(role){var approvalconfigrolefilterdetail=[];var approvalconfigrolevalidationdetail=[];var approvalconfigroledecisiondetail=[];var approvalconfigroleactiondetail=[];//to fill role details\nif(_this.state.selectedRecord[role.nuserrolecode]){approvalconfigrole.push({napprovalconfigrolecode:_this.props.Login.operation==='create'?0:role.napprovalconfigrolecode,napprovalconfigcode:role.napprovalconfigcode,ntreeversiontempcode:role.ntreeversiontempcode,nuserrolecode:role.nuserrolecode,nchecklistversioncode:_this.state.selectedRecord[role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode].checklist?_this.state.selectedRecord[role.nuserrolecode].checklist:transactionStatus.NA:transactionStatus.NA,npartialapprovalneed:_this.state.selectedRecord[role.nuserrolecode]['Partial Approval_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Partial Approval_'+role.nuserrolecode]:transactionStatus.YES,nsectionwiseapprovalneed:_this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL']&&_this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL']===transactionStatus.NO?_this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE']?_this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE']:transactionStatus.NO:transactionStatus.NO,// nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] ?\n//     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] : transactionStatus.NO,\n// nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] ?\n//     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] : transactionStatus.NO,\n// nretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] ?\n//     this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] : transactionStatus.NO,\n// nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] ?\n//     this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] : transactionStatus.NO,\n// nlevelno: role.nlevelno,\nnrecomretestneed:_this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_'+role.nuserrolecode]:transactionStatus.NO,nrecomrecalcneed:_this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_'+role.nuserrolecode]:transactionStatus.NO,nretestneed:_this.state.selectedRecord[role.nuserrolecode]['Retest_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Retest_'+role.nuserrolecode]:transactionStatus.NO,nrecalcneed:_this.state.selectedRecord[role.nuserrolecode]['Recalc_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Recalc_'+role.nuserrolecode]:transactionStatus.NO,nlevelno:role.nlevelno,napprovalstatuscode:_this.state.selectedRecord[role.nuserrolecode].approvalstatus?_this.state.selectedRecord[role.nuserrolecode].approvalstatus:transactionStatus.NA,nautoapproval:_this.state.selectedRecord['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord['IDS_AUTOAPPROVAL']===transactionStatus.YES?transactionStatus.YES:_this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL']?_this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL']:transactionStatus.NO,nautoapprovalstatuscode:_this.state.selectedRecord['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord['IDS_AUTOAPPROVAL']===transactionStatus.YES?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus:_this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord[role.nuserrolecode].approvalstatus?_this.state.selectedRecord[role.nuserrolecode].approvalstatus:transactionStatus.NA,nautodescisionstatuscode:_this.state.selectedRecord['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord['IDS_AUTOAPPROVAL']===transactionStatus.YES?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0]?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0]:transactionStatus.PASS:_this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord[role.nuserrolecode].decisionstatus&&_this.state.selectedRecord[role.nuserrolecode].decisionstatus.length>0?_this.state.selectedRecord[role.nuserrolecode].decisionstatus[0]:transactionStatus.DRAFT// :this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus&&this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus.length>0 ?\n// :transactionStatus.NA\n,ncorrectionneed:_this.state.selectedRecord[role.nuserrolecode]['IDS_CORRECTION']?_this.state.selectedRecord[role.nuserrolecode]['IDS_CORRECTION']:transactionStatus.NO,nesignneed:_this.state.selectedRecord[role.nuserrolecode]['e-Sign_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['e-Sign_'+role.nuserrolecode]:transactionStatus.NO,ntransactionstatus:transactionStatus.DRAFT,nsitecode:_this.props.Login.userInfo.nmastersitecode,nstatus:transactionStatus.ACTIVE});if(_this.state.selectedRecord[role.nuserrolecode].filterstatus){_this.state.selectedRecord[role.nuserrolecode].filterstatus.map(function(filterValue){filterDetailCount++;approvalconfigrolefilterdetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:filterValue,nstatus:transactionStatus.ACTIVE});return null;});}if(_this.state.selectedRecord[role.nuserrolecode].validationstatus){_this.state.selectedRecord[role.nuserrolecode].validationstatus.map(function(validationValue){validationDetailCount++;approvalconfigrolevalidationdetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:validationValue,nstatus:transactionStatus.ACTIVE});return null;});}if(_this.state.selectedRecord[role.nuserrolecode].decisionstatus){_this.state.selectedRecord[role.nuserrolecode].decisionstatus.map(function(decisionValue){decisionDetailCount++;approvalconfigroledecisiondetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:decisionValue,nstatus:transactionStatus.ACTIVE});return null;});}_this.state.selectedRecord[\"actionStatus_\".concat(role.nuserrolecode)]?_this.state.selectedRecord[\"actionStatus_\".concat(role.nuserrolecode)].map(function(actionValue){actionDetailCount++;approvalconfigroleactiondetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:actionValue,nstatus:transactionStatus.ACTIVE});return null;}):approvalconfigroleactiondetail.push();actionDetailCount++;approvalconfigroleactiondetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:_this.state.selectedRecord[role.nuserrolecode].approvalstatus?_this.state.selectedRecord[role.nuserrolecode].approvalstatus:-1,nstatus:transactionStatus.ACTIVE});_inputData2[\"approvalconfigrolefilterdetail_\".concat([role.nuserrolecode])]=approvalconfigrolefilterdetail;_inputData2[\"approvalconfigrolevalidationdetail_\".concat([role.nuserrolecode])]=approvalconfigrolevalidationdetail;_inputData2[\"approvalconfigroledecisiondetail_\".concat([role.nuserrolecode])]=approvalconfigroledecisiondetail;_inputData2[\"approvalconfigroleactiondetail_\".concat([role.nuserrolecode])]=approvalconfigroleactiondetail;bool=bool?true:false;return null;}else{bool=false;errormessage.push(role.suserrolename);return false;}});//role map\n_inputData2['approvalconfigrole']=approvalconfigrole;_inputData2['rolecount']=_this.props.Login.userRoleTree.length;_inputData2['filterdetailcount']=filterDetailCount;_inputData2['validationdetailcount']=validationDetailCount;_inputData2['decisiondetailcount']=decisionDetailCount;_inputData2['actioncount']=actionDetailCount;_inputData2['ntreeversiontempcode']=_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1;var finalInputData={};var _inputParam2={};if(bool){if(_this.props.Login.operation===\"update\"){// edit\npostParam={inputListName:\"versionData\",selectedObject:\"selectedVersion\",primaryKeyField:\"napproveconfversioncode\"};var temp1={};_this.props.Login.versionConfig.map(function(temp){if(temp.ntranscode===81){temp1['nneedautoapproval']=_this.state.selectedRecord[temp.stransdisplaystatus]?_this.state.selectedRecord[temp.stransdisplaystatus]:transactionStatus.NO;}else if(temp.ntranscode===85){temp1['nneedautocomplete']=_this.state.selectedRecord[temp.stransdisplaystatus]?_this.state.selectedRecord[temp.stransdisplaystatus]:transactionStatus.NO;}});_inputData2['approvalconfigautoapproval']=_objectSpread({napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,sversionname:_this.state.selectedRecord.sversionname,//  nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\n//  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\nnautoapprovalstatus:_this.props.Login.userRoleTree&&_this.props.Login.userRoleTree.length>0&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus:transactionStatus.NA,nautodescisionstatus:isAutoApprovalVersion?transactionStatus.PASS:_this.props.Login.userRoleTree&&_this.props.Login.userRoleTree.length>0&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0]||transactionStatus.DRAFT:transactionStatus.DRAFT,nautoallot:_this.state.selectedRecord['IDS_AUTOALLOT']?_this.state.selectedRecord['IDS_AUTOALLOT']:transactionStatus.NO,nneedjoballocation:_this.state.selectedRecord['IDS_JOBALLOCATION']?_this.state.selectedRecord['IDS_JOBALLOCATION']:transactionStatus.NO,nstatus:transactionStatus.ACTIVE},temp1);}else{_inputData2['approveconfigversion']={napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napproveconfversionno:-1,ntransactionstatus:transactionStatus.DRAFT,ntreeversiontempcode:_this.props.Login.userRoleTree[0].ntreeversiontempcode,sapproveconfversiondesc:'-',nsitecode:_this.props.Login.userInfo.nmastersitecode,nstatus:transactionStatus.ACTIVE};var _temp={};_this.props.Login.versionConfig.map(function(temp){if(temp.ntranscode===81){_temp['nneedautoapproval']=_this.state.selectedRecord[temp.stransdisplaystatus]?_this.state.selectedRecord[temp.stransdisplaystatus]:transactionStatus.NO;}else if(temp.ntranscode===85){_temp['nneedautocomplete']=_this.state.selectedRecord[temp.stransdisplaystatus]?_this.state.selectedRecord[temp.stransdisplaystatus]:transactionStatus.NO;}});_inputData2['approvalconfigautoapproval']=_objectSpread({napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,sversionname:_this.state.selectedRecord.sversionname,// nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\n//  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\nnautoapprovalstatus:_this.props.Login.userRoleTree&&_this.props.Login.userRoleTree.length>0&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus:transactionStatus.NA,nautodescisionstatus:isAutoApprovalVersion?transactionStatus.PASS:_this.props.Login.userRoleTree&&_this.props.Login.userRoleTree.length>0&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0]||transactionStatus.DRAFT:transactionStatus.DRAFT,nautoallot:_this.state.selectedRecord['IDS_AUTOALLOT']?_this.state.selectedRecord['IDS_AUTOALLOT']:transactionStatus.NO,nneedjoballocation:_this.state.selectedRecord['IDS_JOBALLOCATION']?_this.state.selectedRecord['IDS_JOBALLOCATION']:transactionStatus.NO,nstatus:transactionStatus.ACTIVE},_temp);}finalInputData['approvalconfigversion']=_inputData2;finalInputData['userinfo']=_this.props.Login.userInfo;_inputParam2={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:finalInputData,saveType:saveType,formRef:formRef,operation:_this.props.Login.operation,postParam:postParam,searchRef:_this.searchRef};var _masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var _updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:_inputParam2,masterData:_masterData},saveType:saveType,openModal:true,operation:_this.props.Login.operation,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"})}};_this.props.updateStore(_updateInfo);}else{_this.props.crudMaster(_inputParam2,_masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_FILLDETAILSFOR\"})+\" \"+errormessage.join(\",\"));}}};_this.ConfirmDelete=function(deleteId){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteApprovalConfigVersion(deleteId);});};_this.onInputOnChange=function(event,role,action){var selectedRecord=_this.state.selectedRecord||{};if(role){var roleDetails=_this.state.selectedRecord[role.nuserrolecode]||{};var fieldName=event.target.name.split('_')[0]+'_'+event.target.name.split('_')[1];var actionArray=selectedRecord[\"actionStatus_\".concat(role.nuserrolecode)]||[];if(event.target.type==='checkbox'){if(action){if(event.target.checked){actionArray.push(action.ntranscode);}else{actionArray.splice(actionArray.indexOf(action.ntranscode),1);}selectedRecord[\"actionStatus_\".concat(role.nuserrolecode)]=actionArray;}roleDetails[fieldName]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;if(fieldName==='IDS_PARTIALAPPROVAL'&&roleDetails[\"IDS_PARTIALAPPROVAL\"]&&roleDetails[\"IDS_PARTIALAPPROVAL\"]===transactionStatus.YES){roleDetails['IDS_SECTIONWISEAPPROVE']=transactionStatus.NO;}selectedRecord[role.nuserrolecode]=roleDetails;}else{roleDetails[fieldName]=event.target.value;selectedRecord[role.nuserrolecode]=roleDetails;}}else{if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{if(event.target.name==='sviewname'){selectedRecord[event.target.name]=event.target.value.replace(/[^\\w\\s]/gi,\"\");}else{selectedRecord[event.target.name]=event.target.value;}}}_this.setState({selectedRecord:selectedRecord});};_this.onComboChange=function(comboData,role,comboName){var selectedRecord=_this.state.selectedRecord||{};if(role){var roleDetails=_this.state.selectedRecord[role.nuserrolecode]||{};var fieldName=comboName.split('_')[0];var filterArray=[];roleDetails[fieldName]=[];if(comboData){selectedRecord[comboName]=comboData;if(fieldName==='checklist'){selectedRecord[\"checklistVersion_\".concat(role.nuserrolecode)]={label:comboData.item.schecklistversionname,value:comboData.item.nchecklistversioncode};filterArray=comboData.item.nchecklistversioncode;}else{if(Array.isArray(comboData)){comboData.map(function(item){return filterArray.push(item.value);});}else{filterArray=comboData.value;}}roleDetails[fieldName]=filterArray;selectedRecord[role.nuserrolecode]=roleDetails;}else{selectedRecord[comboName]=[];filterArray=[];roleDetails[fieldName]=filterArray;selectedRecord[role.nuserrolecode]=roleDetails;}_this.setState({selectedRecord:selectedRecord});}else{selectedRecord[comboName]=comboData;if(comboName==='regtype'){_this.props.getCopySubType(comboData,selectedRecord,_this.props.Login.userInfo,_this.props.Login.masterData,_this.props.Login.optCopyRegType);}else{_this.setState({selectedRecord:selectedRecord});}}};_this.onFilterComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};var approvalSubTypeValue=_this.props.Login.masterData.approvalSubTypeValue;var registrationTypeValue=_this.props.Login.masterData.registrationTypeValue;var registrationSubTypeValue;if(comboData){selectedRecord[fieldName]=comboData.value;var inputData={};if(fieldName==='napprovalsubtypecode'){approvalSubTypeValue=comboData;inputData={nFlag:2,napprovalsubtypecode:comboData.value,userinfo:_this.props.Login.userInfo};}else if(fieldName==='nregtypecode'){registrationTypeValue=comboData;inputData={nFlag:3,napprovalsubtypecode:approvalSubTypeValue.value,nregtypecode:comboData.value,userinfo:_this.props.Login.userInfo};}else if(fieldName==='nregsubtypecode'){registrationSubTypeValue=comboData;inputData={nFlag:4,napprovalsubtypecode:approvalSubTypeValue.value,nregtypecode:registrationTypeValue.value,nregsubtypecode:comboData.value,userinfo:_this.props.Login.userInfo};}if(fieldName==='ntreeversiontempcode'){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{userroleTemplateValue:comboData})}};_this.props.updateStore(updateInfo);}else{var oldState={approvalsubtype:_this.props.Login.masterData.approvalsubtype,registrationtype:_this.props.Login.masterData.registrationType,registrationsubtype:_this.props.Login.masterData.registrationSubType,approvalSubTypeValue:approvalSubTypeValue,registrationTypeValue:registrationTypeValue,registrationSubTypeValue:registrationSubTypeValue,RegistrationTypeList:_this.state.RegistrationTypeList,RegistrationSubTypeList:_this.state.RegistrationSubTypeList};var inputParamData={inputData:inputData,masterData:_this.props.Login.masterData};_this.props.getFilterChange(inputParamData,oldState);}}else{selectedRecord[fieldName]=\"\";if(fieldName==='napprovalsubtypecode'){_this.approvalSubTypeValue=[];registrationTypeValue=[];registrationSubTypeValue=[];}else if(fieldName==='nregtypecode'){registrationTypeValue=[];registrationSubTypeValue=[];}else{registrationSubTypeValue=[];}_this.setState({selectedRecord:selectedRecord});}// this.searchRef.current.value = \"\"\n};_this.getApprovalConfigurationVersion=function(){if(_this.props.Login.masterData.approvalSubTypeValue){//this.searchRef.current.value = \"\"\nvar masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realApprovalSubTypeValue:_this.props.Login.masterData.approvalSubTypeValue?_this.props.Login.masterData.approvalSubTypeValue:-1,realRegistrationTypeValue:_this.props.Login.masterData.registrationTypeValue?_this.props.Login.masterData.registrationTypeValue:-1,realRegistrationSubTypeValue:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue:-1,realApprovalConfigCode:_this.props.Login.masterData.approvalConfigCode||-1,realTreeVersionTemplateValue:_this.props.Login.masterData.userroleTemplateValue||-1});var inputData={napprovalsubtypecode:_this.props.Login.masterData.approvalSubTypeValue?_this.props.Login.masterData.approvalSubTypeValue.value:-1,napprovalconfigcode:_this.props.Login.masterData.approvalConfigCode,ntreeversiontempcode:_this.props.Login.masterData.userroleTemplateValue.value,userinfo:_this.props.Login.userInfo};var inputParamData={inputData:inputData,masterData:masterData,searchRef:_this.searchRef};_this.props.getApprovalConfigurationVersion(inputParamData);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_APPROVALSUBTYPENOTAVAILABLE\"}));}};_this.reloadData=function(){// this.searchRef.current.value = \"\";\n// const inputParam = {\n//     inputData: { \"userinfo\": this.props.Login.userInfo },\n//     classUrl: \"approvalconfig\",\n//     methodUrl: \"ApprovalConfigFilter\",\n//     userInfo: this.props.Login.userInfo,\n//     displayName: \"IDS_APPROVALCONFIG\"\n// };\n// this.props.callService(inputParam);\n_this.getApprovalConfigurationVersion();};_this.userRoleAccordion=function(userRoleList){var accordionMap=new Map();userRoleList=sortData(userRoleList,'ascending','nlevelno');userRoleList.map(function(role){return accordionMap.set(role.napprovalconfigrolecode,/*#__PURE__*/React.createElement(UserRoleAccordion,{role:role,roleConfig:_this.props.Login.masterData.roleConfig,userRoleControlRights:_this.state.userRoleControlRights,controlMap:_this.state.controlMap,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,deleteRecord:_this.deleteRecord,tabDetail:_this.tabDetail(role),onTabOnChange:_this.onTabOnChange}));});return accordionMap;};_this.tabDetail=function(){var selectedRole=_this.props.Login.masterData.selectedRole?_this.props.Login.masterData.selectedRole:_this.props.Login.masterData.approvalconfigRoleNames&&_this.props.Login.masterData.approvalconfigRoleNames.length>0&&sortData(_this.props.Login.masterData.approvalconfigRoleNames,'ascending','nlevelno')[0];var tabMap=new Map();tabMap.set(\"IDS_FILTERSTATUS\",/*#__PURE__*/React.createElement(FilterStatusTab,{filterData:process(_this.props.Login.masterData.roleFilters?// sortData(this.props.Login.masterData.roleFilters) : [],\n// { skip: this.state.dataState.skip, take: this.state.dataState.take })}\nsortData(_this.props.Login.masterData.roleFilters):[],_this.state.filterStatusState),setDefault:_this.props.setDefault,selectedRole:selectedRole,napprovalsubtypecode:_this.approvalSubTypeValue.value,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,dataState:_this.state.filterStatusState,dataStateChange:function dataStateChange(event){return _this.setState({filterStatusState:event.dataState});},screenName:\"IDS_FILTERSTATUS\"}));tabMap.set(\"IDS_VALIDATIONSTATUS\",/*#__PURE__*/React.createElement(ValidationStatusTab,{validationStatus:process(_this.props.Login.masterData.roleValidations?sortData(_this.props.Login.masterData.roleValidations):[],_this.state.validationStatusState)// sortData(this.props.Login.masterData.roleValidations) : [],\n// { skip: this.state.dataState.skip, take: this.state.dataState.take })}\n,selectedRole:selectedRole,napprovalsubtypecode:_this.approvalSubTypeValue.value,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,dataState:_this.state.validationStatusState,dataStateChange:function dataStateChange(event){return _this.setState({validationStatusState:event.dataState});},screenName:\"IDS_VALIDATIONSTATUS\"}));// if (this.props.Login.masterData.roleDecisions && this.props.Login.masterData.roleDecisions.length > 0) {\n//     tabMap.set(\"IDS_DECISIONSTATUS\",\n//         <DecisionStatusTab\n//             decisionData={process(this.props.Login.masterData.roleDecisions ? sortData(this.props.Login.masterData.roleDecisions) : [],\n//                 { skip: this.state.dataState.skip, take: this.state.dataState.take })}\n//             setDefault={this.props.setDefault}\n//             selectedRole={selectedRole}\n//             napprovalsubtypecode={this.approvalSubTypeValue.value}\n//             userInfo={this.props.Login.userInfo}\n//             masterData={this.props.Login.masterData}\n//             screenName=\"IDS_DECISIONSTATUS\"\n//         />)\n// }\ntabMap.set(\"IDS_ACTIONSTATUS\",/*#__PURE__*/React.createElement(ActionStatusTab,{actionData:process(_this.props.Login.masterData.roleActions?sortData(_this.props.Login.masterData.roleActions):[],{skip:_this.state.dataState.skip,take:_this.state.dataState.take}),setDefault:_this.props.setDefault,selectedRole:selectedRole,napprovalsubtypecode:_this.approvalSubTypeValue.value,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,screenName:\"IDS_ACTIONSTATUS\"}));return tabMap;};_this.onTabOnChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};var dataState={skip:0,take:10};var filterStatusState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};var validationStatusState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};_this.state={userRoleControlRights:[],controlMap:new Map(),openModal:false,masterStatus:\"\",error:\"\",approvalConfigCode:-1,dataResult:[],dataState:dataState,selectedRecord:{},ApprovalsubtypeList:[],RegistrationTypeList:[],RegistrationSubTypeList:[],UserRoleTemplateList:[],filterStatusState:filterStatusState,validationStatusState:validationStatusState};_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(ApprovalConfig,[{key:\"render\",value:function render(){var _this2=this;var versionStatusCSS=\"outline-secondary\";if(this.props.Login.masterData.selectedVersion&&this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.APPROVED){versionStatusCSS=\"outline-success\";}else if(this.props.Login.masterData.selectedVersion&&this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.RETIRED){versionStatusCSS=\"outline-danger\";}var editId=this.state.controlMap.has(\"EditApprovalConfig\")&&this.state.controlMap.get(\"EditApprovalConfig\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteApprovalConfig\")&&this.state.controlMap.get(\"DeleteApprovalConfig\").ncontrolcode;var approveId=this.state.controlMap.has(\"ApproveApprovalConfig\")&&this.state.controlMap.get(\"ApproveApprovalConfig\").ncontrolcode;var copyId=this.state.controlMap.has(\"CopyApprovalConfig\")&&this.state.controlMap.get(\"CopyApprovalConfig\").ncontrolcode;var addId=this.state.controlMap.has(\"AddApprovalConfig\")&&this.state.controlMap.get(\"AddApprovalConfig\").ncontrolcode;this.approvalSubTypeValue=this.props.Login.masterData.realApprovalSubTypeValue?this.props.Login.masterData.realApprovalSubTypeValue:this.props.Login.masterData.approvalSubTypeValue?this.props.Login.masterData.approvalSubTypeValue:this.props.Login.masterData.approvalsubtype?this.props.Login.masterData.approvalsubtype.length>0?{value:sortData(this.props.Login.masterData.approvalsubtype,'ascending','napprovalsubtypecode')[0].napprovalsubtypecode,label:sortData(this.props.Login.masterData.approvalsubtype,'ascending','napprovalsubtypecode')[0].ssubtypename}:{}:{};var filterParam={inputListName:\"versionData\",selectedObject:\"selectedVersion\",primaryKeyField:\"napproveconfversioncode\",searchFieldList:[\"sversionname\",\"sversionstatus\",\"sapproveconfversiondesc\"],fetchUrl:\"approvalconfig/getApprovalConfigVersion\",fecthInputObject:{napprovalsubtypecode:this.approvalSubTypeValue.value,userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,sortField:\"napproveconfversioncode\",sortOrder:\"descending\",//NIBSCRT-2294\nunchangeList:[\"approvalsubtype\",\"approvalSubTypeValue\",\"registrationType\",\"registrationTypeValue\",\"registrationSubType\",\"registrationSubTypeValue\",\"ApprovalsubtypeList\",\"RegistrationTypeList\",\"RegistrationSubTypeList\",\"treeVersionTemplate\",\"userroleTemplateValue\",\"realApprovalSubTypeValue\",\"realRegistrationTypeValue\",\"realRegistrationSubTypeValue\",\"realTreeVersionTemplateValue\",\"approvalConfigCode\",\"realApprovalConfigCode\"]};var selectedRole=this.props.Login.masterData.selectedRole?this.props.Login.masterData.selectedRole:this.props.Login.masterData.approvalconfigRoleNames&&this.props.Login.masterData.approvalconfigRoleNames.length>0&&sortData(this.props.Login.masterData.approvalconfigRoleNames,'ascending','nlevelno')[0];var mandatoryFields=[{\"idsName\":\"IDS_VERSIONNAME\",\"dataField\":\"sversionname\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];this.props.Login.operation!=='copy'&&this.props.Login.userRoleTree&&this.props.Login.userRoleTree.map(function(role){mandatoryFields.push({\"idsName\":\"IDS_APPROVALSTATUS\",\"alertSuffix\":\" - \".concat(role.suserrolename),\"dataField\":\"approvalstatus_\".concat(role.nuserrolecode),\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});mandatoryFields.push({\"idsName\":\"IDS_FILTERSTATUS\",\"alertSuffix\":\" - \".concat(role.suserrolename),\"dataField\":\"filterstatus_\".concat(role.nuserrolecode),\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});mandatoryFields.push({\"idsName\":\"IDS_VALIDATIONSTATUS\",\"alertSuffix\":\" - \".concat(role.suserrolename),\"dataField\":\"validationstatus_\".concat(role.nuserrolecode),\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});if(_this2.props.Login.decisionStatusOptions&&_this2.props.Login.decisionStatusOptions.length>0){mandatoryFields.push({\"idsName\":\"IDS_DECISIONSTATUS\",\"alertSuffix\":\" - \".concat(role.suserrolename),\"dataField\":\"decisionstatus_\".concat(role.nuserrolecode)});}return null;});var breadCrumbData=[];if(this.props.Login.masterData.realApprovalSubTypeValue&&this.props.Login.masterData.realApprovalSubTypeValue.value===ApprovalSubType.TESTRESULTAPPROVAL){breadCrumbData=[{\"label\":\"IDS_APPROVALSUBTYPE\",\"value\":this.props.Login.masterData.realApprovalSubTypeValue?this.props.Login.masterData.realApprovalSubTypeValue.label:\"NA\"},{\"label\":\"IDS_REGISTRATIONTYPE\",\"value\":this.props.Login.masterData.realRegistrationTypeValue?this.props.Login.masterData.realRegistrationTypeValue.label:\"NA\"},{\"label\":\"IDS_REGISTRATIONSUBTYPE\",\"value\":this.props.Login.masterData.realRegistrationSubTypeValue?this.props.Login.masterData.realRegistrationSubTypeValue.label:\"NA\"},{\"label\":\"IDS_USERROLETEMPLATE\",\"value\":this.props.Login.masterData.realTreeVersionTemplateValue?this.props.Login.masterData.realTreeVersionTemplateValue.label:\"NA\"}];}else{breadCrumbData=[{\"label\":\"IDS_APPROVALSUBTYPE\",\"value\":this.props.Login.masterData.realApprovalSubTypeValue?this.props.Login.masterData.realApprovalSubTypeValue.label:\"NA\"},{\"label\":\"IDS_USERROLETEMPLATE\",\"value\":this.props.Login.masterData.realTreeVersionTemplateValue?this.props.Login.masterData.realTreeVersionTemplateValue.label:\"NA\"}];}// console.log(\"this.approvalSubTypeValue:\", Object.keys(this.approvalSubTypeValue).length);\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{filterColumnData:this.props.filterColumnData,masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,screenName:this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"}),masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.versionData,getMasterDetail:function getMasterDetail(version){return _this2.props.getApprovalConfigVersion(version,_this2.approvalSubTypeValue.value,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedVersion,primaryKeyField:\"napproveconfversioncode\",mainField:\"sversionname\",firstField:\"sapproveconfversiondesc\",secondField:\"sversionstatus\",isIDSField:\"Yes\",searchRef:this.searchRef,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,openModal:function openModal(){return _this2.props.openModal(\"create\",_this2.props.Login.masterData.realApprovalConfigCode,_this2.approvalSubTypeValue.value,_this2.props.Login.userInfo,addId,_this2.props.Login.masterData.realTreeVersionTemplateValue?_this2.props.Login.masterData.realTreeVersionTemplateValue.value:-10);},needAccordianFilter:false,reloadData:this.reloadData,hidePaging:true,showFilterIcon:true,onFilterSubmit:this.getApprovalConfigurationVersion,filterComponent:[{\"IDS_SAMPLEFILTER\":/*#__PURE__*/React.createElement(SampleFilter,{selectedRecord:this.state.selectedRecord||{},filterComboChange:this.onFilterComboChange,approvalSubTypeOptions:this.state.ApprovalsubtypeList,approvalSubTypeValue:this.props.Login.masterData.approvalSubTypeValue,registrationTypeOptions:this.state.RegistrationTypeList,registrationTypeValue:this.props.Login.masterData.registrationTypeValue,registrationSubTypeOptions:this.state.RegistrationSubTypeList,registrationSubTypeValue:this.props.Login.masterData.registrationSubTypeValue,userroleTemplateOptions:this.state.UserRoleTemplateList,userroleTemplateValue:this.props.Login.masterData.userroleTemplateValue})}]})),/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.selectedVersion?Object.entries(this.props.Login.masterData.selectedVersion).length>0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"product-title-main\"},this.props.Login.masterData.selectedVersion.sversionname)),/*#__PURE__*/React.createElement(Card.Subtitle,{className:\"readonly-text font-weight-normal\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},\"\".concat(this.props.intl.formatMessage({id:\"IDS_VERSIONNO\"}),\":\").concat(this.props.Login.masterData.selectedVersion.sapproveconfversiondesc),/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(versionStatusCSS,\" btn-sm ml-3\")},this.props.Login.masterData.selectedVersion.sversionstatus))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\",style:{float:\"right\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline \"},/*#__PURE__*/React.createElement(Nav.Link,{hidden:this.state.userRoleControlRights.indexOf(editId)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"})//  data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.props.getApprovalConfigEditData(_this2.props.Login.masterData.selectedVersion.napproveconfversioncode,_this2.approvalSubTypeValue.value,_this2.props.Login.userInfo,_this2.props.Login.masterData,editId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt,title:this.props.intl.formatMessage({id:\"IDS_EDIT\"})})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})//  data-for=\"tooltip_list_wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this2.ConfirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"})// data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.approveVersion(approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})),/*#__PURE__*/React.createElement(Nav.Link,{hidden:this.state.userRoleControlRights.indexOf(copyId)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_COPY\"})//  data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.props.copyVersion(_this2.approvalSubTypeValue.value,_this2.props.Login.userInfo,_this2.props.Login.masterData,copyId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCopy,title:this.props.intl.formatMessage({id:\"IDS_COPY\"})}))))))))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Text,null,/*#__PURE__*/React.createElement(Row,null,this.props.Login.masterData.versionConfig?this.props.Login.masterData.versionConfig.map(function(item){return/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:item.stransdisplaystatus})),/*#__PURE__*/React.createElement(ReadOnlyText,null,_this2.props.Login.masterData.selectedVersion[\"\".concat(item.ntranscode)])));}):\"\")),/*#__PURE__*/React.createElement(Row,{oGutters:true},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Card,{className:\"at-tabs\"},this.props.Login.masterData?this.props.Login.masterData.approvalconfigRoleNames.length>0?/*#__PURE__*/React.createElement(CustomAccordion,{key:\"UserRoles\",accordionTitle:\"suserrolename\",accordionComponent:this.userRoleAccordion(this.props.Login.masterData.approvalconfigRoleNames),inputParam:{masterData:this.props.Login.masterData,userinfo:this.props.Login.userInfo,napprovalsubtypecode:this.approvalSubTypeValue.value},accordionClick:this.props.getRoleDetails,accordionPrimaryKey:\"napprovalconfigrolecode\",accordionObjectName:\"role\",selectedKey:selectedRole.napprovalconfigrolecode}):\"\":\"\"))))):\"\":\"\"))))),this.props.Login.openModal?/*#__PURE__*/React.createElement(SlideOutModal,{onSaveClick:this.onSaveClick,operation:this.props.Login.operation,screenName:\"IDS_APPROVALCONFIG\",closeModal:this.handleClose,show:this.props.Login.openModal,inputParam:this.props.Login.inputParam,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.operation==='approve'?[{\"idsName\":\"IDS_VIEWNAME\",\"dataField\":\"sviewname\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_TEMPLATEMAPPING\",\"dataField\":\"ndesigntemplatemappingcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"combo\"}]:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.operation==='approve'?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormSelectSearch,{name:\"ndesigntemplatemappingcode\",formLabel:this.props.intl.formatMessage({id:\"IDS_TEMPLATEMAPPING\"}),placeholder:\"Please Select...\",options:this.props.Login.designTemplateMapping// optionId=\"ntimezonecode\"\n// optionValue=\"stimezoneid\"\n,value:this.state.selectedRecord[\"ndesigntemplatemappingcode\"]//defaultValue={props.selectedRecord[\"ndesigntemplatemapping\"]}\n,isMandatory:true,isMulti:false,isSearchable:false,isClearable:false,isDisabled:true,closeMenuOnSelect:true,onChange:function onChange(event){return _this2.onComboChange(event,'ndesigntemplatemappingcode');}}),/*#__PURE__*/React.createElement(FormInput,{label:this.props.intl.formatMessage({id:\"IDS_VIEWNAME\"}),name:\"sviewname\",type:\"text\",onChange:function onChange(event){return _this2.onInputOnChange(event);},placeholder:this.props.intl.formatMessage({id:\"IDS_VIEWNAME\"}),value:this.state.selectedRecord[\"sviewname\"],isMandatory:true//required={true}\n,maxLength:100})))):/*#__PURE__*/React.createElement(AddApprovalConfig,{selectedRecord:this.state.selectedRecord?this.state.selectedRecord:{},userRoleTree:this.props.Login.userRoleTree,approvalSubTypeValue:this.approvalSubTypeValue,onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,approvalStatusOptions:this.props.Login.approvalStatusOptions,approvalStatusValue:this.props.Login.approvalStatusValue,filterStatusOptions:this.props.Login.filterStatusOptions,filterStatusValues:this.props.Login.filterStatusValues,topLevelValidStatusOptions:this.props.Login.topLevelValidStatusOptions,validationStatusOptions:this.props.Login.validationStatusOptions,validationStatusValues:this.props.Login.validationStatusValues,decisionStatusOptions:this.props.Login.decisionStatusOptions,decisionStatusValues:this.props.Login.decisionStatusValues,actionStatus:this.props.Login.actionStatus,checklistOptions:this.props.Login.checklistOptions,checklistValues:this.props.Login.checklistValues,roleConfig:this.props.Login.roleConfig,versionConfig:this.props.Login.versionConfig,operation:this.props.Login.operation,nsubType:this.approvalSubTypeValue.value,registrationTypeOptions:this.props.Login.optCopyRegType,registrationTypeValue:this.state.registrationTypeValue,registrationSubTypeOptions:this.props.Login.optCopyRegSubType,registrationSubTypeValue:this.state.registrationSubTypeValue,selectedVersion:this.props.Login.masterData.selectedVersion,masterData:this.props.Login.masterData})}):\"\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this$state=this.state,selectedRecord=_this$state.selectedRecord,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,ApprovalsubtypeList=_this$state.ApprovalsubtypeList,RegistrationTypeList=_this$state.RegistrationTypeList,RegistrationSubTypeList=_this$state.RegistrationSubTypeList,UserRoleTemplateList=_this$state.UserRoleTemplateList,filterStatusState=_this$state.filterStatusState,validationStatusState=_this$state.validationStatusState;var updateState=false;if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);// const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode','ascending', false);\n// const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'ascending', 'nregtypecode', false);\n// const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'ascending', 'nregsubtypecode', false);\nvar ApprovalsubtypeListMap=constructOptionList(this.props.Login.masterData.approvalsubtype||[],\"napprovalsubtypecode\",\"ssubtypename\",'ntemplatecode','ascending',false);var RegistrationTypeListMap=constructOptionList(this.props.Login.masterData.registrationType||[],\"nregtypecode\",\"sregtypename\",'nsorter','ascending',false);var RegistrationSubTypeListMap=constructOptionList(this.props.Login.masterData.registrationSubType||[],\"nregsubtypecode\",\"sregsubtypename\",'nsorter','ascending',false);var UserRoleTemplateListMap=constructOptionList(this.props.Login.masterData.treeVersionTemplate||[],\"ntreeversiontempcode\",\"sversiondescription\",'ntransactionstatus','descending',false);ApprovalsubtypeList=ApprovalsubtypeListMap.get(\"OptionList\");RegistrationTypeList=RegistrationTypeListMap.get(\"OptionList\");RegistrationSubTypeList=RegistrationSubTypeListMap.get(\"OptionList\");UserRoleTemplateList=UserRoleTemplateListMap.get(\"OptionList\");updateState=true;}if(this.props.Login.masterData!==previousProps.Login.masterData){//this.setState({  RegistrationTypeList,RegistrationSubTypeList,templateVersionOptionList});  \n// RegistrationTypeList=this.props.Login.masterData.RegistrationTypeList\n// RegistrationSubTypeList=this.props.Login.masterData.RegistrationSubTypeList\nvar _RegistrationTypeListMap=constructOptionList(this.props.Login.masterData.registrationType||[],\"nregtypecode\",\"sregtypename\",'nsorter','ascending',false);var _RegistrationSubTypeListMap=constructOptionList(this.props.Login.masterData.registrationSubType||[],\"nregsubtypecode\",\"sregsubtypename\",'nsorter','ascending',false);var _UserRoleTemplateListMap=constructOptionList(this.props.Login.masterData.treeVersionTemplate||[],\"ntreeversiontempcode\",\"sversiondescription\",'ntransactionstatus','descending',false);RegistrationTypeList=_RegistrationTypeListMap.get(\"OptionList\");RegistrationSubTypeList=_RegistrationSubTypeListMap.get(\"OptionList\");UserRoleTemplateList=_UserRoleTemplateListMap.get(\"OptionList\");updateState=true;// if (this.props.dataState === undefined) {\n//     filterStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\n//     validationStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\n// }\n}if(updateState){this.setState({selectedRecord:selectedRecord,userRoleControlRights:userRoleControlRights,controlMap:controlMap,ApprovalsubtypeList:ApprovalsubtypeList,RegistrationTypeList:RegistrationTypeList,RegistrationSubTypeList:RegistrationSubTypeList,UserRoleTemplateList:UserRoleTemplateList,filterStatusState:filterStatusState,validationStatusState:validationStatusState});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:[],inputParam:undefined,operation:null,modalName:undefined}};this.props.updateStore(updateInfo);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return ApprovalConfig;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,openModal:openModal,updateStore:updateStore,getApprovalConfigVersion:getApprovalConfigVersion,getApprovalConfigEditData:getApprovalConfigEditData,copyVersion:copyVersion,getFilterChange:getFilterChange,validateEsignCredential:validateEsignCredential,getCopySubType:getCopySubType,getRoleDetails:getRoleDetails,setDefault:setDefault,filterColumnData:filterColumnData,getApprovalConfigurationVersion:getApprovalConfigurationVersion,approveVersion:approveVersion})(injectIntl(ApprovalConfig));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/configurationmaster/approvalconfig/ApprovalConfig.jsx"],"names":["React","connect","injectIntl","FormattedMessage","toast","callService","crudMaster","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faPencilAlt","faCopy","faThumbsUp","faTrashAlt","sortData","getControlMap","showEsign","constructOptionList","process","ListMaster","Esign","SampleFilter","AddApprovalConfig","SlideOutModal","ReadOnlyText","ContentPanel","openModal","updateStore","getApprovalConfigVersion","getApprovalConfigEditData","copyVersion","setDefault","validateEsignCredential","getFilterChange","getRoleDetails","getCopySubType","filterColumnData","getApprovalConfigurationVersion","approveVersion","DEFAULT_RETURN","ApprovalSubType","designProperties","transactionStatus","FilterStatusTab","ValidationStatusTab","UserRoleAccordion","CustomAccordion","DecisionStatusTab","ActionStatusTab","BreadcrumbComponent","ConfirmMessage","Affix","FormInput","FormSelectSearch","mapStateToProps","state","Login","ApprovalConfig","props","validateEsign","inputParam","inputData","userInfo","sreason","selectedRecord","password","screenData","handleClose","loadEsign","operation","updateInfo","typeName","data","selectedId","deleteApprovalConfigVersion","deleteId","masterData","selectedVersion","ntransactionstatus","APPROVED","RETIRED","warn","intl","formatMessage","id","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","napproveconfversioncode","fetchUrl","fecthInputObject","napprovalsubtypecode","approvalSubTypeValue","value","userinfo","napprovalconfigversioncode","napprovalconfigcode","realApprovalConfigCode","ntreeversiontempcode","realTreeVersionTemplateValue","methodUrl","classUrl","displayName","userRoleControlRights","nformcode","screenName","approveId","nregsubtypecode","registrationSubTypeValue","sregsubtypename","label","nregtypecode","registrationTypeValue","ncontrolcode","getGridJsondata","templatedata","gridItem","gridMoreItem","masterdatefields","masterdateconstraints","masteruniquevalidation","mastercombinationunique","editable","jdynamiccolumns","jnumericcolumns","templatePrimaryKey","mastertemplatefields","sampleAuditFields","sampleAuditEditable","sampleAuditMultilingualFields","map","row","children","column","component","index","hasOwnProperty","componentRow","unique","push","LABEL","displayname","VALUE","filterinputtype","comboDataInputObject","inputtype","source","valuemember","displaymember","dateonly","dateConstraintArraySQL","default","columnname","mandatory","templatemandatory","editableuntill","DRAFT","jsondata","griditem","gridmoreitem","approveVersion1","unchangeList","selectedTemplate","sviewname","ndesigntemplatemappingcode","sregtemplatename","sprimarykey","onSaveClick","saveType","formRef","undefined","subTypeCode","approvalconfigversion","sversionname","TESTRESULTAPPROVAL","searchRef","bool","errormessage","approvalconfigrole","filterDetailCount","validationDetailCount","decisionDetailCount","actionDetailCount","userRoleTree","isAutoApprovalVersion","YES","reverse","role","approvalconfigrolefilterdetail","approvalconfigrolevalidationdetail","approvalconfigroledecisiondetail","approvalconfigroleactiondetail","nuserrolecode","napprovalconfigrolecode","nchecklistversioncode","checklist","NA","npartialapprovalneed","nsectionwiseapprovalneed","NO","nrecomretestneed","nrecomrecalcneed","nretestneed","nrecalcneed","nlevelno","napprovalstatuscode","approvalstatus","nautoapproval","nautoapprovalstatuscode","nautodescisionstatuscode","decisionstatus","PASS","length","ncorrectionneed","nesignneed","nsitecode","nmastersitecode","nstatus","ACTIVE","filterstatus","filterValue","validationstatus","validationValue","decisionValue","actionValue","suserrolename","finalInputData","temp1","versionConfig","temp","ntranscode","stransdisplaystatus","nautoapprovalstatus","nautodescisionstatus","nautoallot","nneedjoballocation","napproveconfversionno","sapproveconfversiondesc","join","ConfirmDelete","confirmMessage","confirm","onInputOnChange","event","action","roleDetails","fieldName","target","name","split","actionArray","type","checked","splice","indexOf","replace","setState","onComboChange","comboData","comboName","filterArray","item","schecklistversionname","Array","isArray","optCopyRegType","onFilterComboChange","nFlag","userroleTemplateValue","oldState","approvalsubtype","registrationtype","registrationType","registrationsubtype","registrationSubType","RegistrationTypeList","RegistrationSubTypeList","inputParamData","realApprovalSubTypeValue","realRegistrationTypeValue","realRegistrationSubTypeValue","approvalConfigCode","reloadData","userRoleAccordion","userRoleList","accordionMap","Map","set","roleConfig","controlMap","deleteRecord","tabDetail","onTabOnChange","selectedRole","approvalconfigRoleNames","tabMap","roleFilters","filterStatusState","dataState","roleValidations","validationStatusState","roleActions","skip","take","tabProps","settings","parseInt","masterStatus","error","dataResult","ApprovalsubtypeList","UserRoleTemplateList","createRef","versionStatusCSS","editId","has","get","copyId","addId","ssubtypename","filterParam","searchFieldList","sortField","sortOrder","mandatoryFields","decisionStatusOptions","breadCrumbData","searchedData","versionData","version","Object","entries","sversionstatus","float","designTemplateMapping","approvalStatusOptions","approvalStatusValue","filterStatusOptions","filterStatusValues","topLevelValidStatusOptions","validationStatusOptions","validationStatusValues","decisionStatusValues","actionStatus","checklistOptions","checklistValues","optCopyRegSubType","previousProps","updateState","values","ApprovalsubtypeListMap","RegistrationTypeListMap","RegistrationSubTypeListMap","UserRoleTemplateListMap","treeVersionTemplate","modalName","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport { callService, crudMaster } from '../../../actions';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faCopy, faThumbsUp, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { sortData, getControlMap, showEsign, constructOptionList } from '../../../components/CommonScript'\r\nimport { process } from '@progress/kendo-data-query';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\nimport Esign from '../../audittrail/Esign';\r\nimport SampleFilter from './SampleFilter';\r\nimport AddApprovalConfig from './AddApprovalConfig';\r\nimport SlideOutModal from '../../../components/slide-out-modal/SlideOutModal';\r\nimport { ReadOnlyText, ContentPanel } from '../../../components/App.styles';\r\nimport {\r\n    openModal, updateStore, getApprovalConfigVersion, getApprovalConfigEditData, copyVersion, setDefault, validateEsignCredential,\r\n    getFilterChange, getRoleDetails, getCopySubType, filterColumnData, getApprovalConfigurationVersion, approveVersion\r\n} from '../../../actions'\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\nimport { ApprovalSubType, designProperties, transactionStatus } from '../../../components/Enumeration';\r\nimport FilterStatusTab from './FilterStatusTab';\r\nimport ValidationStatusTab from './ValidationStatusTab';\r\nimport UserRoleAccordion from './UserRoleAccordion';\r\nimport CustomAccordion from '../../../components/custom-accordion/custom-accordion.component';\r\nimport DecisionStatusTab from './DecisionStatusTab';\r\nimport ActionStatusTab from './ActionStatusTab';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\r\nimport ConfirmMessage from '../../../components/confirm-alert/confirm-message.component';\r\nimport { Affix } from 'rsuite';\r\nimport FormInput from '../../../components/form-input/form-input.component';\r\nimport FormSelectSearch from '../../../components/form-select-search/form-select-search.component';\r\n// import ReactTooltip from 'react-tooltip';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass ApprovalConfig extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const dataState = {\r\n            skip: 0,\r\n            take: 10,\r\n        };\r\n        const filterStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n        const validationStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n\r\n        this.state = {\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            openModal: false, masterStatus: \"\", error: \"\",\r\n            approvalConfigCode: -1,\r\n            dataResult: [], dataState: dataState, selectedRecord: {},\r\n            ApprovalsubtypeList: [],\r\n            RegistrationTypeList: [],\r\n            RegistrationSubTypeList: [],\r\n            UserRoleTemplateList: [],\r\n            filterStatusState,\r\n            validationStatusState\r\n\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\") {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\":\r\n                {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    handleClose = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"approve\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {}\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    deleteApprovalConfigVersion = (deleteId) => {\r\n\r\n        if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED ||\r\n            this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }))\r\n        }\r\n        else {\r\n            const postParam = {\r\n                inputListName: \"versionData\", selectedObject: \"selectedVersion\",\r\n                primaryKeyField: \"napproveconfversioncode\",\r\n                primaryKeyValue: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\r\n                fecthInputObject: { napprovalsubtypecode: this.approvalSubTypeValue.value, userinfo: this.props.Login.userInfo },\r\n                // unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\",\r\n                //  \"registrationTypeValue\", \"registrationSubType\", \"registrationSubTypeValue\",\r\n                //     \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\r\n            }\r\n            const inputData = {\r\n                'approvalconfigversion': {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue.value,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData, postParam,\r\n                operation: \"delete\"\r\n\r\n            }\r\n\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteId)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\",\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" })\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    approveVersion = (approveId) => {\r\n        if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED ||\r\n            this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }))\r\n        } else {\r\n         \r\n            if(this.approvalSubTypeValue.value===2){\r\n            const inputData = {\r\n                // 'approvalconfigversion': {\r\n                napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\r\n                userinfo: this.props.Login.userInfo,\r\n                nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\r\n                sregsubtypename: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.label : \"\",\r\n                nregtypecode: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1,\r\n                // nregtypecode:this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1,\r\n                // }\r\n\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n            //  inputData['userinfo'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData,\r\n                operation: \"approve\",ncontrolcode:approveId\r\n            }\r\n            //const masterData = this.props.Login.masterData;\r\n            this.props.approveVersion(inputParam);\r\n\r\n            // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\r\n            //     const updateInfo = {\r\n            //         typeName: DEFAULT_RETURN,\r\n            //         data: {\r\n            //             loadEsign: true, screenData: { inputParam, masterData },\r\n            //             openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\r\n            //         }\r\n            //     }\r\n            //     this.props.updateStore(updateInfo);\r\n            // }\r\n            // else {\r\n            //     this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            // }\r\n        }else{\r\n            const inputData = {\r\n                 'approvalconfigversion': {\r\n                napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\r\n                userinfo: this.props.Login.userInfo,\r\n                nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\r\n                sregsubtypename: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.label : \"\",\r\n                nregtypecode: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1,\r\n                 }\r\n                \r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData,\r\n                operation: \"updateapprove\",ncontrolcode:approveId\r\n            }\r\n              if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData:this.props.Login.masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            }\r\n        }\r\n        }\r\n\r\n    }\r\n    getGridJsondata = (templatedata) => {\r\n        let gridItem = [];\r\n        let gridMoreItem = [];\r\n        let masterdatefields = [];\r\n        let masterdateconstraints = [];\r\n        let masteruniquevalidation = [];\r\n        let mastercombinationunique = [];\r\n        let editable = [];\r\n        let jdynamiccolumns = [];\r\n        let jnumericcolumns = [];\r\n        let templatePrimaryKey = \"\";\r\n        let mastertemplatefields = [];\r\n        let sampleAuditFields = [];\r\n        let sampleAuditEditable = [];\r\n        let sampleAuditMultilingualFields = [];\r\n\r\n        templatedata && templatedata.map(row =>\r\n            row.children && row.children.map(column => {\r\n                column.children && column.children.map((component, index) => {\r\n                    //console.log(\"component2:\", component);\r\n                    if (component.hasOwnProperty('children')) {\r\n                        component.children.map(componentRow => {\r\n                            // console.log(\"component row2:\", componentRow);\r\n                            componentRow.unique && masteruniquevalidation.push({ [designProperties.LABEL]: componentRow.label });\r\n                            componentRow.unique && mastercombinationunique.push({ [componentRow.label]: { [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label } })\r\n\r\n\r\n                            templatePrimaryKey = templatePrimaryKey === \"\" && componentRow.unique ? componentRow.label : templatePrimaryKey;\r\n\r\n                            let filterinputtype = \"text\";\r\n                            let comboDataInputObject = {};\r\n\r\n                            if (componentRow.inputtype === 'combo') {\r\n\r\n                                comboDataInputObject = {\r\n                                    \"predefinedtablename\": componentRow.source,\r\n                                    \"predefinedvaluemember\": componentRow.valuemember,\r\n                                    \"predefineddisplaymember\": componentRow.displaymember,\r\n                                    \"predefinedismultilingual\": false,\r\n                                    \"predefinedconditionalString\": \"\\\"\"+componentRow.valuemember+\"\\\"\" + \" > '0' \"\r\n                                };\r\n                                jnumericcolumns.push({\r\n                                    \"columnname\": componentRow.displaymember,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"foriegntablePK\": componentRow.label,\r\n                                    // \"ismultilingual\": true,\r\n                                    // \"conditionstring\": \" and nformcode in (\"+componentRow.table.item.nformcode+\") \",\r\n                                    \"tablecolumnname\": componentRow.valuemember,\r\n                                    \"foriegntablename\": componentRow.source,\r\n                                    ...comboDataInputObject\r\n                                })\r\n                                filterinputtype = \"predefinednumeric\";\r\n                            }\r\n                            // samplesearchfields.push(componentRow.label)\r\n                            if (componentRow.inputtype === 'date') {\r\n                                filterinputtype = \"date\";\r\n                                masterdatefields.push({ [designProperties.VALUE]: componentRow.label, dateonly: componentRow.dateonly || false });\r\n                                masterdateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\r\n                            }\r\n                            if (componentRow.inputtype === 'Numeric' || componentRow.inputtype === 'radio') {\r\n                                filterinputtype = \"numeric\";\r\n                            }\r\n\r\n                            jdynamiccolumns.push({\r\n                                default: componentRow.unique ? true : false,\r\n                                filterinputtype,\r\n                                columnname: componentRow.label,\r\n                                displayname: componentRow.displayname,\r\n                                ...comboDataInputObject\r\n                            })\r\n                            // displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            // componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.mandatory || componentRow.templatemandatory) {\r\n                                gridItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                                sampleAuditEditable.push(componentRow.label);\r\n                            }\r\n                            else {\r\n                                gridMoreItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            }\r\n                            mastertemplatefields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            sampleAuditFields.push(componentRow.label);\r\n                            sampleAuditMultilingualFields.push({[componentRow.label] : componentRow.displayname});\r\n                           \r\n                          \r\n                            if (componentRow.templatemandatory) {\r\n                                editable.push({ label: componentRow.label, editableuntill: [] })\r\n                            }\r\n                            else {\r\n                                editable.push({ label: componentRow.label, editableuntill: [transactionStatus.DRAFT] })\r\n                            }\r\n\r\n                            return null;\r\n                        })\r\n                    } else {\r\n                        //console.log(\"component2:\", component);\r\n                        component.unique && masteruniquevalidation.push({ [designProperties.LABEL]: component.label });\r\n                        component.unique && mastercombinationunique.push({ [component.label]: { [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label } })\r\n                        templatePrimaryKey = templatePrimaryKey === \"\" && component.unique ? component.label : templatePrimaryKey;\r\n\r\n\r\n                        let filterinputtype = \"text\";\r\n                        let comboDataInputObject = {};\r\n\r\n                        mastertemplatefields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        sampleAuditFields.push(component.label);\r\n                        sampleAuditMultilingualFields.push({[component.label] : component.displayname});\r\n                       \r\n                        if (component.inputtype === 'combo') {\r\n                            filterinputtype = \"predefinednumeric\";\r\n                            comboDataInputObject = {\r\n                                \"predefinedtablename\": component.source,\r\n                                \"predefinedvaluemember\": component.valuemember,\r\n                                \"predefineddisplaymember\": component.displaymember,\r\n                                \"predefinedismultilingual\": false,\r\n                                \"predefinedconditionalString\": \"\\\"\"+component.valuemember+\"\\\"\" + \" > '0'\"\r\n                            };\r\n                            jnumericcolumns.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"foriegntablePK\": component.label,\r\n                                // \"ismultilingual\": true,\r\n                                //\"conditionstring\": \" and nformcode in (\" + component.table.item.nformcode + \") \",\r\n                                \"tablecolumnname\": component.column.value,\r\n                                \"foriegntablename\": component.source,\r\n                                ...comboDataInputObject\r\n                            })\r\n                        }\r\n                        // samplesearchfields.push(component.label)\r\n                        if (component.inputtype === 'date') {\r\n                            filterinputtype = \"date\";\r\n                            masterdatefields.push({ [designProperties.VALUE]: component.label, dateonly: component.dateonly || false });\r\n                            masterdateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\r\n                        }\r\n                        if (component.inputtype === 'numeric' || component.inputtype === 'radio') {\r\n                            filterinputtype = \"numeric\";\r\n                        }\r\n\r\n                        jdynamiccolumns.push({\r\n                            default: component.unique ? true : false,\r\n                            columnname: component.label,\r\n                            displayname: component.displayname,\r\n                            filterinputtype,\r\n                            ...comboDataInputObject\r\n                        });\r\n                      \r\n                        if (component.mandatory || component.templatemandatory) {\r\n                            gridItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                            sampleAuditEditable.push(component.label);\r\n                        } else {\r\n                            gridMoreItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label });\r\n                        }\r\n                        if (component.templatemandatory) {\r\n                            editable.push({ label: component.label, editableuntill: [] });\r\n\r\n                        }\r\n                        else {\r\n                            editable.push({ label: component.label, editableuntill: [transactionStatus.DRAFT] })\r\n                        }\r\n                        return null;\r\n                    }\r\n\r\n                })\r\n            })\r\n        );\r\n        let jsondata = {\r\n            griditem: gridItem,\r\n            gridmoreitem: gridMoreItem,\r\n            masterdatefields,\r\n            masterdateconstraints,\r\n            masteruniquevalidation,\r\n            editable,\r\n            mastertemplatefields,\r\n            mastercombinationunique,\r\n            sampleAuditFields,\r\n            sampleAuditEditable,\r\n            sampleAuditMultilingualFields\r\n        }\r\n\r\n        //console.log(\"dynamiccolumns:\", jdynamiccolumns);\r\n        return { jsondata, jdynamiccolumns, jnumericcolumns, templatePrimaryKey };\r\n    }\r\n\r\n\r\n    approveVersion1 = (approveId) => {\r\n        if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED ||\r\n            this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }))\r\n        } else {\r\n            const postParam = {\r\n                inputListName: \"versionData\", selectedObject: \"selectedVersion\",\r\n                primaryKeyField: \"napproveconfversioncode\",\r\n                primaryKeyValue: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\r\n                fecthInputObject: { napprovalsubtypecode: this.approvalSubTypeValue.value, userinfo: this.props.Login.userInfo },\r\n                unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\", \"registrationTypeValue\", \"registrationSubType\",\r\n                    \"registrationSubTypeValue\", \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\r\n            }\r\n            \r\n            let {  jdynamiccolumns, jnumericcolumns, templatePrimaryKey } =  this.getGridJsondata(this.props.Login.selectedTemplate &&\r\n                this.props.Login.selectedTemplate);\r\n            const inputData = {\r\n                'approvalconfigversion': {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\r\n                    sregsubtypename: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.label : \"\",\r\n                    sviewname:this.state.selectedRecord.sviewname,\r\n                    ndesigntemplatemappingcode:this.state.selectedRecord.ndesigntemplatemappingcode.value,\r\n                    sregtemplatename:this.state.selectedRecord.ndesigntemplatemappingcode.label,\r\n                },jdynamiccolumns,jnumericcolumns,sprimarykey:templatePrimaryKey\r\n\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n\r\n\r\n           // inputData['jsondata'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData, postParam,\r\n                operation: \"updateapprove\"\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        let postParam = undefined;\r\n        if (this.props.Login.operation === \"copy\") {\r\n\r\n            const subTypeCode = this.approvalSubTypeValue.value;\r\n\r\n            const inputData = {\r\n                approvalconfigversion: {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: subTypeCode,\r\n                    sversionname: this.state.selectedRecord.sversionname,\r\n                    nregtypecode: subTypeCode === ApprovalSubType.TESTRESULTAPPROVAL ? this.state.selectedRecord['regtype'] ? this.state.selectedRecord['regtype'].value : this.state.registrationTypeValue[0].value : -1,\r\n                    nregsubtypecode: subTypeCode === ApprovalSubType.TESTRESULTAPPROVAL ? this.state.selectedRecord['regsubtype'] ? this.state.selectedRecord['regsubtype'].value : this.state.registrationSubTypeValue[0].value : -1,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1\r\n                }\r\n\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData, postParam, searchRef: this.searchRef,\r\n                operation: \"copy\"\r\n            }\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"copy\"\r\n                    }\r\n                }\r\n\r\n                this.props.updateStore(updateInfo);\r\n\r\n            } else {\r\n\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n\r\n            }\r\n\r\n        }else if(this.props.Login.operation==='approve'){\r\n            this.approveVersion1(this.props.Login.ncontrolcode);\r\n        }\r\n        else {\r\n\r\n            let bool = true;\r\n            let errormessage = [];\r\n            let inputData = {};\r\n            let approvalconfigrole = [];\r\n            let filterDetailCount = 0;\r\n            let validationDetailCount = 0;\r\n            let decisionDetailCount = 0;\r\n            let actionDetailCount = 0;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            inputData['napprovalconfigcode'] = this.props.Login.masterData.realApprovalConfigCode\r\n            inputData['ntreeversiontempcode'] = this.props.Login.userRoleTree[0].ntreeversiontempcode\r\n            inputData['napprovalsubtypecode'] = this.approvalSubTypeValue.value\r\n            let isAutoApprovalVersion = this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ? true : false;\r\n\r\n            const userRoleTree = this.props.Login.userRoleTree.reverse();\r\n            userRoleTree.map(role => {\r\n                let approvalconfigrolefilterdetail = [];\r\n                let approvalconfigrolevalidationdetail = [];\r\n                let approvalconfigroledecisiondetail = [];\r\n                let approvalconfigroleactiondetail = [];\r\n                //to fill role details\r\n                if (this.state.selectedRecord[role.nuserrolecode]) {\r\n                    approvalconfigrole.push({\r\n                        napprovalconfigrolecode: this.props.Login.operation === 'create' ? 0 : role.napprovalconfigrolecode,\r\n                        napprovalconfigcode: role.napprovalconfigcode,\r\n                        ntreeversiontempcode: role.ntreeversiontempcode,\r\n                        nuserrolecode: role.nuserrolecode,\r\n                        nchecklistversioncode: this.state.selectedRecord[role.nuserrolecode] ? this.state.selectedRecord[role.nuserrolecode].checklist ?\r\n                            this.state.selectedRecord[role.nuserrolecode].checklist : transactionStatus.NA : transactionStatus.NA,\r\n                        npartialapprovalneed: this.state.selectedRecord[role.nuserrolecode]['Partial Approval_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Partial Approval_' + role.nuserrolecode] : transactionStatus.YES,\r\n                        nsectionwiseapprovalneed: this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL'] === transactionStatus.NO ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE'] ?\r\n                                this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE'] : transactionStatus.NO\r\n                            : transactionStatus.NO,\r\n                        // nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] : transactionStatus.NO,\r\n                        // nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] : transactionStatus.NO,\r\n                        // nretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] : transactionStatus.NO,\r\n                        // nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] : transactionStatus.NO,\r\n                        // nlevelno: role.nlevelno,\r\n                        nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nretestneed: this.state.selectedRecord[role.nuserrolecode]['Retest_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Retest_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['Recalc_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Recalc_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nlevelno: role.nlevelno,\r\n                        napprovalstatuscode: this.state.selectedRecord[role.nuserrolecode].approvalstatus ? this.state.selectedRecord[role.nuserrolecode].approvalstatus : transactionStatus.NA,\r\n\r\n                        nautoapproval: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ? transactionStatus.YES :\r\n                            this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] ? this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] : transactionStatus.NO,\r\n\r\n                        nautoapprovalstatuscode: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ?\r\n                            this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus\r\n                            : this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode].approvalstatus ?\r\n                                this.state.selectedRecord[role.nuserrolecode].approvalstatus\r\n                                : transactionStatus.NA\r\n                        ,\r\n                        nautodescisionstatuscode: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ?\r\n                            this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] : transactionStatus.PASS\r\n                            : this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode].decisionstatus && this.state.selectedRecord[role.nuserrolecode].decisionstatus.length > 0 ?\r\n                                this.state.selectedRecord[role.nuserrolecode].decisionstatus[0] : transactionStatus.DRAFT\r\n                        // :this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus&&this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus.length>0 ?\r\n                        // :transactionStatus.NA\r\n                        ,\r\n                        ncorrectionneed: this.state.selectedRecord[role.nuserrolecode]['IDS_CORRECTION'] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['IDS_CORRECTION'] : transactionStatus.NO,\r\n                        nesignneed: this.state.selectedRecord[role.nuserrolecode]['e-Sign_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['e-Sign_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        ntransactionstatus: transactionStatus.DRAFT,\r\n                        nsitecode: this.props.Login.userInfo.nmastersitecode,\r\n                        nstatus: transactionStatus.ACTIVE\r\n\r\n                    })\r\n\r\n\r\n                    if (this.state.selectedRecord[role.nuserrolecode].filterstatus) {\r\n                        this.state.selectedRecord[role.nuserrolecode].filterstatus.map(filterValue => {\r\n                            filterDetailCount++;\r\n                            approvalconfigrolefilterdetail.push({\r\n                                napprovalconfigcode: role.napprovalconfigcode,\r\n                                nuserrolecode: role.nuserrolecode,\r\n                                nlevelno: role.nlevelno,\r\n                                ntransactionstatus: filterValue,\r\n                                nstatus: transactionStatus.ACTIVE\r\n                            })\r\n                            return null;\r\n                        })\r\n                    }\r\n\r\n                    if (this.state.selectedRecord[role.nuserrolecode].validationstatus) {\r\n                        this.state.selectedRecord[role.nuserrolecode].validationstatus.map(validationValue => {\r\n                            validationDetailCount++;\r\n                            approvalconfigrolevalidationdetail.push({\r\n                                napprovalconfigcode: role.napprovalconfigcode,\r\n                                nuserrolecode: role.nuserrolecode,\r\n                                nlevelno: role.nlevelno,\r\n                                ntransactionstatus: validationValue,\r\n                                nstatus: transactionStatus.ACTIVE\r\n                            })\r\n                            return null;\r\n                        })\r\n                    }\r\n\r\n                    if (this.state.selectedRecord[role.nuserrolecode].decisionstatus) {\r\n                        this.state.selectedRecord[role.nuserrolecode].decisionstatus.map(decisionValue => {\r\n                            decisionDetailCount++;\r\n                            approvalconfigroledecisiondetail.push({\r\n                                napprovalconfigcode: role.napprovalconfigcode,\r\n                                nuserrolecode: role.nuserrolecode,\r\n                                nlevelno: role.nlevelno,\r\n                                ntransactionstatus: decisionValue,\r\n                                nstatus: transactionStatus.ACTIVE\r\n                            });\r\n                            return null;\r\n                        })\r\n                    }\r\n\r\n                    this.state.selectedRecord[`actionStatus_${role.nuserrolecode}`] ? this.state.selectedRecord[`actionStatus_${role.nuserrolecode}`].map(actionValue => {\r\n                        actionDetailCount++;\r\n                        approvalconfigroleactiondetail.push({\r\n                            napprovalconfigcode: role.napprovalconfigcode,\r\n                            nuserrolecode: role.nuserrolecode,\r\n                            nlevelno: role.nlevelno,\r\n                            ntransactionstatus: actionValue,\r\n                            nstatus: transactionStatus.ACTIVE\r\n                        });\r\n                        return null;\r\n                    }) : approvalconfigroleactiondetail.push();\r\n                    actionDetailCount++;\r\n                    approvalconfigroleactiondetail.push({\r\n                        napprovalconfigcode: role.napprovalconfigcode,\r\n                        nuserrolecode: role.nuserrolecode,\r\n                        nlevelno: role.nlevelno,\r\n                        ntransactionstatus: this.state.selectedRecord[role.nuserrolecode].approvalstatus ? this.state.selectedRecord[role.nuserrolecode].approvalstatus : -1,\r\n                        nstatus: transactionStatus.ACTIVE\r\n                    });\r\n\r\n                    inputData[`approvalconfigrolefilterdetail_${[role.nuserrolecode]}`] = approvalconfigrolefilterdetail\r\n                    inputData[`approvalconfigrolevalidationdetail_${[role.nuserrolecode]}`] = approvalconfigrolevalidationdetail\r\n                    inputData[`approvalconfigroledecisiondetail_${[role.nuserrolecode]}`] = approvalconfigroledecisiondetail\r\n                    inputData[`approvalconfigroleactiondetail_${[role.nuserrolecode]}`] = approvalconfigroleactiondetail\r\n                    bool = bool ? true : false\r\n                    return null;\r\n                } else {\r\n                    bool = false\r\n                    errormessage.push(role.suserrolename)\r\n                    return false;\r\n                }\r\n            })//role map\r\n\r\n            inputData['approvalconfigrole'] = approvalconfigrole\r\n            inputData['rolecount'] = this.props.Login.userRoleTree.length\r\n            inputData['filterdetailcount'] = filterDetailCount\r\n            inputData['validationdetailcount'] = validationDetailCount\r\n            inputData['decisiondetailcount'] = decisionDetailCount\r\n            inputData['actioncount'] = actionDetailCount\r\n            inputData['ntreeversiontempcode'] = this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1;\r\n            let finalInputData = {}\r\n            let inputParam = {}\r\n            if (bool) {\r\n                if (this.props.Login.operation === \"update\") {\r\n                    // edit\r\n                    postParam = { inputListName: \"versionData\", selectedObject: \"selectedVersion\", primaryKeyField: \"napproveconfversioncode\" };\r\n\r\n                    const temp1 = {};\r\n                    this.props.Login.versionConfig.map(temp => {\r\n                        if (temp.ntranscode === 81) {\r\n                            temp1['nneedautoapproval'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n                        else if (temp.ntranscode === 85) {\r\n                            temp1['nneedautocomplete'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n\r\n\r\n\r\n                    })\r\n\r\n\r\n                    inputData['approvalconfigautoapproval'] = {\r\n                        napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        sversionname: this.state.selectedRecord.sversionname,\r\n                        //  nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\r\n                        //  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\r\n                        nautoapprovalstatus: this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus : transactionStatus.NA,\r\n                        nautodescisionstatus: isAutoApprovalVersion ? transactionStatus.PASS : this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus ? (this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] || transactionStatus.DRAFT) : transactionStatus.DRAFT,\r\n                        nautoallot: this.state.selectedRecord['IDS_AUTOALLOT'] ? this.state.selectedRecord['IDS_AUTOALLOT'] : transactionStatus.NO,\r\n                        nneedjoballocation: this.state.selectedRecord['IDS_JOBALLOCATION'] ? this.state.selectedRecord['IDS_JOBALLOCATION'] : transactionStatus.NO,\r\n                        nstatus: transactionStatus.ACTIVE,\r\n                        ...temp1\r\n                    }\r\n                }\r\n                else {\r\n\r\n\r\n                    inputData['approveconfigversion'] = {\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        napproveconfversionno: -1,\r\n                        ntransactionstatus: transactionStatus.DRAFT,\r\n                        ntreeversiontempcode: this.props.Login.userRoleTree[0].ntreeversiontempcode,\r\n                        sapproveconfversiondesc: '-',\r\n                        nsitecode: this.props.Login.userInfo.nmastersitecode,\r\n                        nstatus: transactionStatus.ACTIVE\r\n                    }\r\n                    const temp1 = {};\r\n                    this.props.Login.versionConfig.map(temp => {\r\n                        if (temp.ntranscode === 81) {\r\n                            temp1['nneedautoapproval'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n                        else if (temp.ntranscode === 85) {\r\n                            temp1['nneedautocomplete'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n\r\n\r\n\r\n                    })\r\n                    inputData['approvalconfigautoapproval'] = {\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        sversionname: this.state.selectedRecord.sversionname,\r\n                        // nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\r\n                        //  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\r\n                        nautoapprovalstatus: this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus : transactionStatus.NA,\r\n                        nautodescisionstatus: isAutoApprovalVersion ? transactionStatus.PASS : this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus ? (this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] || transactionStatus.DRAFT) : transactionStatus.DRAFT,\r\n                        nautoallot: this.state.selectedRecord['IDS_AUTOALLOT'] ? this.state.selectedRecord['IDS_AUTOALLOT'] : transactionStatus.NO,\r\n                        nneedjoballocation: this.state.selectedRecord['IDS_JOBALLOCATION'] ? this.state.selectedRecord['IDS_JOBALLOCATION'] : transactionStatus.NO,\r\n                        nstatus: transactionStatus.ACTIVE,\r\n                        ...temp1\r\n                    }\r\n                }\r\n                finalInputData['approvalconfigversion'] = inputData\r\n                finalInputData['userinfo'] = this.props.Login.userInfo\r\n                inputParam = {\r\n                    methodUrl: 'ApprovalConfigVersion',\r\n                    classUrl: this.props.Login.inputParam.classUrl,\r\n                    displayName: \"IDS_APPROVALCONFIG\",\r\n                    inputData: finalInputData, saveType, formRef,\r\n                    operation: this.props.Login.operation,\r\n                    postParam, searchRef: this.searchRef\r\n\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType,\r\n                            openModal: true, operation: this.props.Login.operation, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" })\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_FILLDETAILSFOR\" }) + \" \" + errormessage.join(\",\"))\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        let versionStatusCSS = \"outline-secondary\";\r\n        if (this.props.Login.masterData.selectedVersion && this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED) {\r\n            versionStatusCSS = \"outline-success\";\r\n        }\r\n        else if (this.props.Login.masterData.selectedVersion && this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            versionStatusCSS = \"outline-danger\";\r\n        }\r\n        const editId = this.state.controlMap.has(\"EditApprovalConfig\") && this.state.controlMap.get(\"EditApprovalConfig\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteApprovalConfig\") && this.state.controlMap.get(\"DeleteApprovalConfig\").ncontrolcode\r\n        const approveId = this.state.controlMap.has(\"ApproveApprovalConfig\") && this.state.controlMap.get(\"ApproveApprovalConfig\").ncontrolcode\r\n        const copyId = this.state.controlMap.has(\"CopyApprovalConfig\") && this.state.controlMap.get(\"CopyApprovalConfig\").ncontrolcode\r\n        const addId = this.state.controlMap.has(\"AddApprovalConfig\") && this.state.controlMap.get(\"AddApprovalConfig\").ncontrolcode\r\n\r\n        this.approvalSubTypeValue = this.props.Login.masterData.realApprovalSubTypeValue ?\r\n            this.props.Login.masterData.realApprovalSubTypeValue\r\n            : this.props.Login.masterData.approvalSubTypeValue ?\r\n                this.props.Login.masterData.approvalSubTypeValue\r\n                : this.props.Login.masterData.approvalsubtype ? this.props.Login.masterData.approvalsubtype.length > 0 ?\r\n                    {\r\n                        value: sortData(this.props.Login.masterData.approvalsubtype, 'ascending', 'napprovalsubtypecode')[0].napprovalsubtypecode,\r\n                        label: sortData(this.props.Login.masterData.approvalsubtype, 'ascending', 'napprovalsubtypecode')[0].ssubtypename\r\n                    } : {} : {};\r\n\r\n        const filterParam = {\r\n            inputListName: \"versionData\",\r\n            selectedObject: \"selectedVersion\",\r\n            primaryKeyField: \"napproveconfversioncode\",\r\n            searchFieldList: [\"sversionname\", \"sversionstatus\", \"sapproveconfversiondesc\"],\r\n            fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\r\n            fecthInputObject: { napprovalsubtypecode: this.approvalSubTypeValue.value, userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            sortField: \"napproveconfversioncode\", sortOrder: \"descending\",\r\n\r\n            //NIBSCRT-2294\r\n            unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\", \"registrationTypeValue\",\r\n                \"registrationSubType\", \"registrationSubTypeValue\", \"ApprovalsubtypeList\",\r\n                \"RegistrationTypeList\", \"RegistrationSubTypeList\", \"treeVersionTemplate\", \"userroleTemplateValue\",\r\n                \"realApprovalSubTypeValue\", \"realRegistrationTypeValue\", \"realRegistrationSubTypeValue\",\r\n                \"realTreeVersionTemplateValue\", \"approvalConfigCode\", \"realApprovalConfigCode\"]\r\n        };\r\n        const selectedRole = this.props.Login.masterData.selectedRole ? this.props.Login.masterData.selectedRole : this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 && sortData(this.props.Login.masterData.approvalconfigRoleNames, 'ascending', 'nlevelno')[0]\r\n\r\n        const mandatoryFields = [{ \"idsName\": \"IDS_VERSIONNAME\", \"dataField\": \"sversionname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }]\r\n        this.props.Login.operation !== 'copy' && this.props.Login.userRoleTree && this.props.Login.userRoleTree.map(role => {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_APPROVALSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `approvalstatus_${role.nuserrolecode}`, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n            mandatoryFields.push({ \"idsName\": \"IDS_FILTERSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `filterstatus_${role.nuserrolecode}`, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n            mandatoryFields.push({ \"idsName\": \"IDS_VALIDATIONSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `validationstatus_${role.nuserrolecode}`, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n            if (this.props.Login.decisionStatusOptions && this.props.Login.decisionStatusOptions.length > 0) {\r\n                mandatoryFields.push({ \"idsName\": \"IDS_DECISIONSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `decisionstatus_${role.nuserrolecode}` });\r\n            }\r\n            return null;\r\n        });\r\n        let breadCrumbData = []\r\n        if (this.props.Login.masterData.realApprovalSubTypeValue && this.props.Login.masterData.realApprovalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL) {\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_APPROVALSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_REGISTRATIONTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegistrationTypeValue ? this.props.Login.masterData.realRegistrationTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_REGISTRATIONSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegistrationSubTypeValue ? this.props.Login.masterData.realRegistrationSubTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_USERROLETEMPLATE\",\r\n                    \"value\": this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.label : \"NA\"\r\n                }\r\n            ];\r\n        } else {\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_APPROVALSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_USERROLETEMPLATE\",\r\n                    \"value\": this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.label : \"NA\"\r\n                }\r\n            ]\r\n        }\r\n        // console.log(\"this.approvalSubTypeValue:\", Object.keys(this.approvalSubTypeValue).length);\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    <Affix top={53}>\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                    </Affix>\r\n                    <Row noGutters={true}>\r\n                        <Col md={4}>\r\n                            <ListMaster\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" })}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.versionData}\r\n                                getMasterDetail={(version) => this.props.getApprovalConfigVersion(version, this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedVersion}\r\n                                primaryKeyField=\"napproveconfversioncode\"\r\n                                mainField=\"sversionname\"\r\n                                firstField=\"sapproveconfversiondesc\"\r\n                                secondField=\"sversionstatus\"\r\n                                isIDSField=\"Yes\"\r\n                                searchRef={this.searchRef}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                openModal={() => this.props.openModal(\"create\", this.props.Login.masterData.realApprovalConfigCode, this.approvalSubTypeValue.value,\r\n                                    this.props.Login.userInfo, addId, this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -10)}\r\n                                needAccordianFilter={false}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={true}\r\n                                showFilterIcon={true}\r\n                                onFilterSubmit={this.getApprovalConfigurationVersion}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_SAMPLEFILTER\":\r\n                                            <SampleFilter\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                filterComboChange={this.onFilterComboChange}\r\n                                                approvalSubTypeOptions={this.state.ApprovalsubtypeList}\r\n                                                approvalSubTypeValue={this.props.Login.masterData.approvalSubTypeValue}\r\n                                                registrationTypeOptions={this.state.RegistrationTypeList}\r\n                                                registrationTypeValue={this.props.Login.masterData.registrationTypeValue}\r\n                                                registrationSubTypeOptions={this.state.RegistrationSubTypeList}\r\n                                                registrationSubTypeValue={this.props.Login.masterData.registrationSubTypeValue}\r\n                                                userroleTemplateOptions={this.state.UserRoleTemplateList}\r\n                                                userroleTemplateValue={this.props.Login.masterData.userroleTemplateValue}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md={8}>\r\n                            <ContentPanel className=\"panel-main-content\">\r\n                                <Card className=\"border-0\">\r\n                                    {this.props.Login.masterData.selectedVersion ? Object.entries(this.props.Login.masterData.selectedVersion).length > 0 ?\r\n                                        <>\r\n                                            <Card.Header>\r\n                                                {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                                                <Card.Title>\r\n                                                    <h1 className=\"product-title-main\">{this.props.Login.masterData.selectedVersion.sversionname}</h1>\r\n                                                </Card.Title>\r\n                                                <Card.Subtitle className=\"readonly-text font-weight-normal\">\r\n                                                    <Row>\r\n                                                        <Col md={8} >\r\n                                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                {`${this.props.intl.formatMessage({ id: \"IDS_VERSIONNO\" })}:${this.props.Login.masterData.selectedVersion.sapproveconfversiondesc}`}\r\n                                                                <span className={`btn btn-outlined ${versionStatusCSS} btn-sm ml-3`}>\r\n                                                                    {/* <i class=\"fas fa-check \"></i>  */}\r\n                                                                    {this.props.Login.masterData.selectedVersion.sversionstatus}\r\n                                                                </span>\r\n                                                            </h2>\r\n                                                        </Col>\r\n                                                        <Col md={4}>\r\n                                                            <>\r\n                                                                <div className=\"d-flex product-category\" style={{ float: \"right\" }}>\r\n                                                                    {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                                    <div className=\"d-inline \">\r\n                                                                        <Nav.Link\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                            //  data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.props.getApprovalConfigEditData(this.props.Login.masterData.selectedVersion.napproveconfversioncode, this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData, editId)}>\r\n                                                                            <FontAwesomeIcon icon={faPencilAlt} title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                                        </Nav.Link>\r\n                                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                            //  data-for=\"tooltip_list_wrap\"\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                            onClick={() => this.ConfirmDelete(deleteId)}>\r\n                                                                            <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                            {/* <ConfirmDialog\r\n                                                                        name=\"deleteMessage\"\r\n                                                                        message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                                        doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                                        doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                                        icon={faTrashAlt}\r\n                                                                        //title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                        handleClickDelete={() => this.deleteApprovalConfigVersion(deleteId)}\r\n                                                                    /> */}\r\n                                                                        </Nav.Link>\r\n                                                                        <Nav.Link\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                            // data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.approveVersion(approveId)}>\r\n                                                                            <FontAwesomeIcon icon={faThumbsUp} />\r\n                                                                        </Nav.Link>\r\n                                                                        <Nav.Link\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_COPY\" })}\r\n                                                                            //  data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.props.copyVersion(this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData, copyId)}>\r\n                                                                            <FontAwesomeIcon icon={faCopy} title={this.props.intl.formatMessage({ id: \"IDS_COPY\" })} />\r\n                                                                        </Nav.Link>\r\n                                                                    </div>\r\n                                                                    {/* </Tooltip> */}\r\n                                                                </div>\r\n                                                            </>\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                </Card.Subtitle>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                                <Card.Text>\r\n                                                    <Row>\r\n                                                        {this.props.Login.masterData.versionConfig ? this.props.Login.masterData.versionConfig.map(item =>\r\n                                                            <Col md=\"6\">\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id={item.stransdisplaystatus} /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.selectedVersion[`${item.ntranscode}`]}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                        ) : \"\"}\r\n                                                    </Row>\r\n                                                </Card.Text>\r\n                                                <Row oGutters={true}>\r\n                                                    <Col md={12}>\r\n                                                        <Card className=\"at-tabs\">\r\n                                                            {this.props.Login.masterData ? this.props.Login.masterData.approvalconfigRoleNames.length > 0 ?\r\n                                                                <CustomAccordion\r\n                                                                    key=\"UserRoles\"\r\n                                                                    accordionTitle=\"suserrolename\"\r\n                                                                    accordionComponent={this.userRoleAccordion(this.props.Login.masterData.approvalconfigRoleNames)}\r\n                                                                    inputParam={{ masterData: this.props.Login.masterData, userinfo: this.props.Login.userInfo, napprovalsubtypecode: this.approvalSubTypeValue.value }}\r\n                                                                    accordionClick={this.props.getRoleDetails}\r\n                                                                    accordionPrimaryKey={\"napprovalconfigrolecode\"}\r\n                                                                    accordionObjectName={\"role\"}\r\n                                                                    selectedKey={selectedRole.napprovalconfigrolecode}\r\n\r\n                                                                />\r\n                                                                : \"\" : \"\"}\r\n                                                        </Card>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            </Card.Body>\r\n                                        </>\r\n                                        : \"\" : \"\"}\r\n                                </Card>\r\n                            </ContentPanel>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {this.props.Login.openModal ?\r\n                    <SlideOutModal\r\n                        onSaveClick={this.onSaveClick}\r\n                        operation={this.props.Login.operation}\r\n                        screenName={\"IDS_APPROVALCONFIG\"}\r\n                        closeModal={this.handleClose}\r\n                        show={this.props.Login.openModal}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.operation==='approve'?[{ \"idsName\": \"IDS_VIEWNAME\", \"dataField\": \"sviewname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                        { \"idsName\": \"IDS_TEMPLATEMAPPING\", \"dataField\": \"ndesigntemplatemappingcode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"combo\" }]: mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : this.props.Login.operation === 'approve' ?\r\n                                <>\r\n                                    <Row>\r\n                                        <Col md={12}>\r\n                                        <FormSelectSearch\r\n                                                name={\"ndesigntemplatemappingcode\"}\r\n                                                formLabel={this.props.intl.formatMessage({ id: \"IDS_TEMPLATEMAPPING\" })}\r\n                                                placeholder=\"Please Select...\"\r\n                                                options={this.props.Login.designTemplateMapping}\r\n                                                // optionId=\"ntimezonecode\"\r\n                                                // optionValue=\"stimezoneid\"\r\n                                                value={this.state.selectedRecord[\"ndesigntemplatemappingcode\"]}\r\n                                                //defaultValue={props.selectedRecord[\"ndesigntemplatemapping\"]}\r\n                                                isMandatory={true}\r\n                                                isMulti={false}\r\n                                                isSearchable={false}\r\n                                                isClearable={false}\r\n                                                isDisabled={true}\r\n                                                closeMenuOnSelect={true}\r\n                                                onChange={(event) => this.onComboChange(event, 'ndesigntemplatemappingcode')}\r\n                                            />\r\n                                            <FormInput\r\n                                                label={this.props.intl.formatMessage({ id: \"IDS_VIEWNAME\" })}\r\n                                                name={\"sviewname\"}\r\n                                                type=\"text\"\r\n                                                onChange={(event) => this.onInputOnChange(event)}\r\n                                                placeholder={this.props.intl.formatMessage({ id: \"IDS_VIEWNAME\" })}\r\n                                                value={this.state.selectedRecord[\"sviewname\"]}\r\n                                                isMandatory={true}\r\n                                                //required={true}\r\n                                                maxLength={100}\r\n                                            />\r\n                                           \r\n                                        </Col>\r\n                                    </Row>\r\n                                </>\r\n                                :\r\n                                <AddApprovalConfig\r\n                                    selectedRecord={this.state.selectedRecord ? this.state.selectedRecord : {}}\r\n                                    userRoleTree={this.props.Login.userRoleTree}\r\n                                    approvalSubTypeValue={this.approvalSubTypeValue}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    approvalStatusOptions={this.props.Login.approvalStatusOptions}\r\n                                    approvalStatusValue={this.props.Login.approvalStatusValue}\r\n                                    filterStatusOptions={this.props.Login.filterStatusOptions}\r\n                                    filterStatusValues={this.props.Login.filterStatusValues}\r\n                                    topLevelValidStatusOptions={this.props.Login.topLevelValidStatusOptions}\r\n                                    validationStatusOptions={this.props.Login.validationStatusOptions}\r\n                                    validationStatusValues={this.props.Login.validationStatusValues}\r\n                                    decisionStatusOptions={this.props.Login.decisionStatusOptions}\r\n                                    decisionStatusValues={this.props.Login.decisionStatusValues}\r\n                                    actionStatus={this.props.Login.actionStatus}\r\n                                    checklistOptions={this.props.Login.checklistOptions}\r\n                                    checklistValues={this.props.Login.checklistValues}\r\n                                    roleConfig={this.props.Login.roleConfig}\r\n                                    versionConfig={this.props.Login.versionConfig}\r\n                                    operation={this.props.Login.operation}\r\n                                    nsubType={this.approvalSubTypeValue.value}\r\n                                    registrationTypeOptions={this.props.Login.optCopyRegType}\r\n                                    registrationTypeValue={this.state.registrationTypeValue}\r\n                                    registrationSubTypeOptions={this.props.Login.optCopyRegSubType}\r\n                                    registrationSubTypeValue={this.state.registrationSubTypeValue}\r\n                                    selectedVersion={this.props.Login.masterData.selectedVersion}\r\n                                    masterData={this.props.Login.masterData}\r\n\r\n                                />}\r\n                    />\r\n                    : \"\"}\r\n            </>\r\n        );\r\n    }\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteApprovalConfigVersion(deleteId));\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n        let { selectedRecord, userRoleControlRights, controlMap, ApprovalsubtypeList,\r\n            RegistrationTypeList, RegistrationSubTypeList, UserRoleTemplateList, filterStatusState, validationStatusState } = this.state;\r\n        let updateState = false;\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            // const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode','ascending', false);\r\n            // const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'ascending', 'nregtypecode', false);\r\n            // const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'ascending', 'nregsubtypecode', false);\r\n            const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode', 'ascending', false);\r\n            const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'nsorter', 'ascending', false);\r\n            const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nsorter', 'ascending', false);\r\n            const UserRoleTemplateListMap = constructOptionList(this.props.Login.masterData.treeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntransactionstatus', 'descending', false);\r\n\r\n            ApprovalsubtypeList = ApprovalsubtypeListMap.get(\"OptionList\");\r\n            RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n            RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n            UserRoleTemplateList = UserRoleTemplateListMap.get(\"OptionList\");\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            //this.setState({  RegistrationTypeList,RegistrationSubTypeList,templateVersionOptionList});  \r\n            // RegistrationTypeList=this.props.Login.masterData.RegistrationTypeList\r\n            // RegistrationSubTypeList=this.props.Login.masterData.RegistrationSubTypeList\r\n\r\n            const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'nsorter', 'ascending', false);\r\n            const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nsorter', 'ascending', false);\r\n            const UserRoleTemplateListMap = constructOptionList(this.props.Login.masterData.treeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntransactionstatus', 'descending', false);\r\n\r\n            RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n            RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n            UserRoleTemplateList = UserRoleTemplateListMap.get(\"OptionList\");\r\n            updateState = true;\r\n\r\n            // if (this.props.dataState === undefined) {\r\n            //     filterStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n            //     validationStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n            // }\r\n        }\r\n        if (updateState) {\r\n            this.setState({\r\n                selectedRecord, userRoleControlRights, controlMap, ApprovalsubtypeList,\r\n                RegistrationTypeList, RegistrationSubTypeList, UserRoleTemplateList, filterStatusState, validationStatusState\r\n            })\r\n        }\r\n    }\r\n    onInputOnChange = (event, role, action) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (role) {\r\n            let roleDetails = this.state.selectedRecord[role.nuserrolecode] || {}\r\n            const fieldName = event.target.name.split('_')[0] + '_' + event.target.name.split('_')[1]\r\n            let actionArray = selectedRecord[`actionStatus_${role.nuserrolecode}`] || [];\r\n            if (event.target.type === 'checkbox') {\r\n                if (action) {\r\n                    if (event.target.checked) {\r\n                        actionArray.push(action.ntranscode);\r\n                    } else {\r\n                        actionArray.splice(actionArray.indexOf(action.ntranscode), 1)\r\n                    }\r\n                    selectedRecord[`actionStatus_${role.nuserrolecode}`] = actionArray\r\n                }\r\n                roleDetails[fieldName] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO\r\n                if (fieldName === 'IDS_PARTIALAPPROVAL' && roleDetails[\"IDS_PARTIALAPPROVAL\"] && roleDetails[\"IDS_PARTIALAPPROVAL\"] === transactionStatus.YES) {\r\n                    roleDetails['IDS_SECTIONWISEAPPROVE'] = transactionStatus.NO\r\n                }\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            }\r\n            else {\r\n                roleDetails[fieldName] = event.target.value\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            }\r\n        }\r\n        else {\r\n            if (event.target.type === 'checkbox') {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            }\r\n            else {\r\n                if(event.target.name==='sviewname'){\r\n                    selectedRecord[event.target.name] = event.target.value.replace(/[^\\w\\s]/gi, \"\")\r\n\r\n                }else{\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n                \r\n            }\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onComboChange = (comboData, role, comboName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (role) {\r\n            let roleDetails = this.state.selectedRecord[role.nuserrolecode] || {}\r\n            const fieldName = comboName.split('_')[0]\r\n            let filterArray = [];\r\n            roleDetails[fieldName] = [];\r\n            if (comboData) {\r\n                selectedRecord[comboName] = comboData\r\n                if (fieldName === 'checklist') {\r\n                    selectedRecord[`checklistVersion_${role.nuserrolecode}`] = { label: comboData.item.schecklistversionname, value: comboData.item.nchecklistversioncode }\r\n                    filterArray = comboData.item.nchecklistversioncode;\r\n\r\n                } else {\r\n                    if (Array.isArray(comboData)) {\r\n                        comboData.map(item => {\r\n                            return (filterArray.push(item.value))\r\n                        })\r\n                    } else {\r\n                        filterArray = comboData.value;\r\n                    }\r\n                }\r\n                roleDetails[fieldName] = filterArray\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            } else {\r\n                selectedRecord[comboName] = []\r\n                filterArray = []\r\n                roleDetails[fieldName] = filterArray\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            }\r\n            this.setState({ selectedRecord });\r\n        } else {\r\n            selectedRecord[comboName] = comboData\r\n\r\n            if (comboName === 'regtype') {\r\n                this.props.getCopySubType(comboData, selectedRecord, this.props.Login.userInfo, this.props.Login.masterData, this.props.Login.optCopyRegType)\r\n            } else {\r\n                this.setState({ selectedRecord });\r\n            }\r\n\r\n        }\r\n    }\r\n    onFilterComboChange = (comboData, fieldName) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n\r\n        let approvalSubTypeValue = this.props.Login.masterData.approvalSubTypeValue;\r\n        let registrationTypeValue = this.props.Login.masterData.registrationTypeValue;\r\n        let registrationSubTypeValue;\r\n\r\n        if (comboData) {\r\n\r\n            selectedRecord[fieldName] = comboData.value;\r\n            let inputData = {};\r\n            if (fieldName === 'napprovalsubtypecode') {\r\n\r\n                approvalSubTypeValue = comboData\r\n                inputData = { nFlag: 2, napprovalsubtypecode: comboData.value, userinfo: this.props.Login.userInfo };\r\n\r\n            } else if (fieldName === 'nregtypecode') {\r\n\r\n                registrationTypeValue = comboData\r\n                inputData = { nFlag: 3, napprovalsubtypecode: approvalSubTypeValue.value, nregtypecode: comboData.value, userinfo: this.props.Login.userInfo }\r\n\r\n            } else if (fieldName === 'nregsubtypecode') {\r\n\r\n                registrationSubTypeValue = comboData\r\n                inputData = {\r\n                    nFlag: 4, napprovalsubtypecode: approvalSubTypeValue.value,\r\n                    nregtypecode: registrationTypeValue.value,\r\n                    nregsubtypecode: comboData.value,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n            }\r\n            if (fieldName === 'ntreeversiontempcode') {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        masterData: {\r\n                            ...this.props.Login.masterData,\r\n                            userroleTemplateValue: comboData\r\n                        }\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                const oldState = {\r\n                    approvalsubtype: this.props.Login.masterData.approvalsubtype,\r\n                    registrationtype: this.props.Login.masterData.registrationType,\r\n                    registrationsubtype: this.props.Login.masterData.registrationSubType,\r\n                    approvalSubTypeValue,\r\n                    registrationTypeValue,\r\n                    registrationSubTypeValue,\r\n                    RegistrationTypeList: this.state.RegistrationTypeList,\r\n                    RegistrationSubTypeList: this.state.RegistrationSubTypeList,\r\n                }\r\n                let inputParamData = { inputData, masterData: this.props.Login.masterData }\r\n                this.props.getFilterChange(inputParamData, oldState)\r\n            }\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = \"\";\r\n            if (fieldName === 'napprovalsubtypecode') {\r\n\r\n                this.approvalSubTypeValue = []\r\n                registrationTypeValue = []\r\n                registrationSubTypeValue = []\r\n\r\n            } else if (fieldName === 'nregtypecode') {\r\n\r\n                registrationTypeValue = []\r\n                registrationSubTypeValue = []\r\n\r\n            } else {\r\n\r\n                registrationSubTypeValue = []\r\n\r\n            }\r\n\r\n\r\n            this.setState({ selectedRecord });\r\n        }\r\n        // this.searchRef.current.value = \"\"\r\n\r\n    }\r\n    getApprovalConfigurationVersion = () => {\r\n        if (this.props.Login.masterData.approvalSubTypeValue) {\r\n            //this.searchRef.current.value = \"\"\r\n            let masterData = {\r\n                ...this.props.Login.masterData,\r\n                realApprovalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue : -1,\r\n                realRegistrationTypeValue: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue : -1,\r\n                realRegistrationSubTypeValue: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue : -1,\r\n                realApprovalConfigCode: this.props.Login.masterData.approvalConfigCode || -1,\r\n                realTreeVersionTemplateValue: this.props.Login.masterData.userroleTemplateValue || -1,\r\n\r\n            }\r\n            const inputData = {\r\n                napprovalsubtypecode: this.props.Login.masterData.approvalSubTypeValue ?\r\n                    this.props.Login.masterData.approvalSubTypeValue.value : -1,\r\n                napprovalconfigcode: this.props.Login.masterData.approvalConfigCode,\r\n                ntreeversiontempcode: this.props.Login.masterData.userroleTemplateValue.value,\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n            let inputParamData = { inputData, masterData, searchRef: this.searchRef }\r\n            this.props.getApprovalConfigurationVersion(inputParamData);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_APPROVALSUBTYPENOTAVAILABLE\" }))\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    reloadData = () => {\r\n        // this.searchRef.current.value = \"\";\r\n        // const inputParam = {\r\n        //     inputData: { \"userinfo\": this.props.Login.userInfo },\r\n        //     classUrl: \"approvalconfig\",\r\n        //     methodUrl: \"ApprovalConfigFilter\",\r\n        //     userInfo: this.props.Login.userInfo,\r\n        //     displayName: \"IDS_APPROVALCONFIG\"\r\n        // };\r\n        // this.props.callService(inputParam);\r\n        this.getApprovalConfigurationVersion()\r\n    }\r\n    userRoleAccordion = (userRoleList) => {\r\n        const accordionMap = new Map();\r\n        userRoleList = sortData(userRoleList, 'ascending', 'nlevelno')\r\n        userRoleList.map((role) =>\r\n            accordionMap.set(role.napprovalconfigrolecode,\r\n                <UserRoleAccordion\r\n                    role={role}\r\n                    roleConfig={this.props.Login.masterData.roleConfig}\r\n                    userRoleControlRights={this.state.userRoleControlRights}\r\n                    controlMap={this.state.controlMap}\r\n                    userInfo={this.props.Login.userInfo}\r\n                    masterData={this.props.Login.masterData}\r\n                    deleteRecord={this.deleteRecord}\r\n                    tabDetail={this.tabDetail(role)}\r\n                    onTabOnChange={this.onTabOnChange}\r\n                />)\r\n        )\r\n        return accordionMap;\r\n    }\r\n    tabDetail = () => {\r\n        const selectedRole = this.props.Login.masterData.selectedRole ? this.props.Login.masterData.selectedRole : this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 && sortData(this.props.Login.masterData.approvalconfigRoleNames, 'ascending', 'nlevelno')[0]\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_FILTERSTATUS\",\r\n            <FilterStatusTab\r\n                filterData={process(this.props.Login.masterData.roleFilters ?\r\n                    // sortData(this.props.Login.masterData.roleFilters) : [],\r\n                    // { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                    sortData(this.props.Login.masterData.roleFilters) : [], this.state.filterStatusState)}\r\n                setDefault={this.props.setDefault}\r\n                selectedRole={selectedRole}\r\n                napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterData={this.props.Login.masterData}\r\n                dataState={this.state.filterStatusState}\r\n                dataStateChange={(event) => this.setState({ filterStatusState: event.dataState })}\r\n                screenName=\"IDS_FILTERSTATUS\"\r\n            />\r\n        )\r\n\r\n        tabMap.set(\"IDS_VALIDATIONSTATUS\",\r\n            <ValidationStatusTab\r\n                validationStatus={process(this.props.Login.masterData.roleValidations ?\r\n                    sortData(this.props.Login.masterData.roleValidations) : [], this.state.validationStatusState)}\r\n                // sortData(this.props.Login.masterData.roleValidations) : [],\r\n                // { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                selectedRole={selectedRole}\r\n                napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterData={this.props.Login.masterData}\r\n                dataState={this.state.validationStatusState}\r\n                dataStateChange={(event) => this.setState({ validationStatusState: event.dataState })}\r\n                screenName=\"IDS_VALIDATIONSTATUS\"\r\n            />)\r\n        // if (this.props.Login.masterData.roleDecisions && this.props.Login.masterData.roleDecisions.length > 0) {\r\n        //     tabMap.set(\"IDS_DECISIONSTATUS\",\r\n        //         <DecisionStatusTab\r\n        //             decisionData={process(this.props.Login.masterData.roleDecisions ? sortData(this.props.Login.masterData.roleDecisions) : [],\r\n        //                 { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n        //             setDefault={this.props.setDefault}\r\n        //             selectedRole={selectedRole}\r\n        //             napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n        //             userInfo={this.props.Login.userInfo}\r\n        //             masterData={this.props.Login.masterData}\r\n        //             screenName=\"IDS_DECISIONSTATUS\"\r\n        //         />)\r\n        // }\r\n        tabMap.set(\"IDS_ACTIONSTATUS\",\r\n            <ActionStatusTab\r\n                actionData={process(this.props.Login.masterData.roleActions ? sortData(this.props.Login.masterData.roleActions) : [],\r\n                    { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                setDefault={this.props.setDefault}\r\n                selectedRole={selectedRole}\r\n                napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterData={this.props.Login.masterData}\r\n                screenName=\"IDS_ACTIONSTATUS\"\r\n            />)\r\n        return tabMap;\r\n    }\r\n    onTabOnChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n}\r\nexport default connect(mapStateToProps,\r\n    {\r\n        callService, crudMaster, openModal, updateStore, getApprovalConfigVersion, getApprovalConfigEditData, copyVersion, getFilterChange\r\n        , validateEsignCredential, getCopySubType, getRoleDetails, setDefault, filterColumnData,\r\n        getApprovalConfigurationVersion, approveVersion\r\n    })\r\n    (injectIntl(ApprovalConfig));"]},"metadata":{},"sourceType":"module"}