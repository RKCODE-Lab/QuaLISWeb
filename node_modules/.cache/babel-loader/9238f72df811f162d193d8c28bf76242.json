{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{initRequest}from'./LoginAction';import{sortData,constructOptionList}from'../components/CommonScript';import{toast}from'react-toastify';import{transactionStatus}from'../components/Enumeration';import Axios from'axios';export function getSampleMaster(selectedItem,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/samplestoragemaster/getSampleMaster\",{'userinfo':userInfo,\"sampleTrayCode\":selectedItem.id}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),{},{sampleStorageMaster:response.data[\"sampleStorageMaster\"],selectedSampleStorageMaster:response.data[\"selectedSampleStorageMaster\"]});// sortData(masterData);\ndispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,sampleTrayCode:selectedItem.id,selectedItem:selectedItem}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getSelectedApprovedStorageVersion(inputParam,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/samplestoragelocation/getActiveSampleStorageVersion\",{'userinfo':userInfo,\"nsamplestorageversioncode\":parseInt(inputParam.nsamplestorageversioncode)}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),{},{selectedSampleStorageVersion:response.data[\"selectedSampleStorageVersion\"],storageContainer:undefined,containers:undefined,sampleStorageMaster:undefined});// sortData(masterData);\ndispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,containerLocation:undefined,activeTabIndex:undefined}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getSampleMasterDetails(masterData){return function(dispatch){dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData}});};}export function getselectedContainer(masterData){return function(dispatch){dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData}});};}export function getContainers(selectedItem,masterData,containers){return function(dispatch){masterData=_objectSpread(_objectSpread({},masterData),{},{containers:containers,selectedContainer:containers.length>0?[containers[0]]:[]});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,locationCode:selectedItem.id,selectedItem:selectedItem}});};}export function getContainerStorageCondition(selectedItem,userInfo,masterData,containerLocation){return function(dispatch){dispatch(initRequest(true));var operation=\"\";rsapi.post(\"/samplestoragemaster/getContainerStorageCondition\",{'userinfo':userInfo,\"containerCode\":selectedItem.id}).then(function(response){if(response.data[\"storageContainer\"]!==null){operation=\"update\";}else{operation=\"create\";}masterData=_objectSpread(_objectSpread({},masterData),{},{storageContainer:response.data[\"storageContainer\"]});// sortData(masterData);\ndispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,containerCode:selectedItem.id,containerLocation:containerLocation,operation:operation,selectedItem:selectedItem}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getStorageConditionFromMaster(userInfo,masterData){return function(dispatch){dispatch(initRequest(true));var selectedRecord={};var urlArray=[];var operation=\"\";if(masterData[\"storageContainer\"]&&masterData[\"storageContainer\"]!==null){var geStorageCondition=rsapi.post(\"/storagecondition/getStorageCondition\",{'userinfo':userInfo});var getSampleStorageCondition=rsapi.post(\"/samplestoragemaster/getContainerStorageConditionByID\",{'userinfo':userInfo,\"containerStorageCode\":masterData[\"storageContainer\"].ncontainerstoragecode});urlArray=[geStorageCondition,getSampleStorageCondition];operation=\"update\";}else{var _geStorageCondition=rsapi.post(\"/storagecondition/getStorageCondition\",{'userinfo':userInfo});urlArray=[_geStorageCondition];operation=\"create\";}Axios.all(urlArray).then(function(response){var conditionMap=constructOptionList(response[0].data,\"nstorageconditioncode\",\"sstorageconditionname\",false,false,true);var conditionMaster=conditionMap.get(\"OptionList\");if(masterData[\"storageContainer\"]&&masterData[\"storageContainer\"]!==null){conditionMaster.map(function(item){return item.value===response[1].data[\"nstorageconditioncode\"]?selectedRecord[\"nstorageconditioncode\"]={\"label\":item.label,\"value\":item.value,\"item\":item}:\"\";});masterData=_objectSpread(_objectSpread({},masterData),{},{storageCondition:conditionMaster,storageContainer:response[1].data});}else{var defaultCondition=conditionMaster.filter(function(items){return items.item.ndefaultstatus===transactionStatus.YES;});if(defaultCondition.length>0){selectedRecord[\"nstorageconditioncode\"]={\"label\":defaultCondition[0].label,\"value\":defaultCondition[0].value,\"item\":defaultCondition};}masterData=_objectSpread(_objectSpread({},masterData),{},{storageCondition:conditionMaster});}dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,selectedRecord:selectedRecord,openModal:true,operation:operation}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export var changeStorageCategoryFilterOnSampleMaster=function changeStorageCategoryFilterOnSampleMaster(inputParam,filterStorageCategory){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/samplestoragemaster/getSampleStorageMasterByCategory\",inputParam.inputData).then(function(response){var masterData=response.data;dispatch({type:DEFAULT_RETURN,payload:{loading:false,masterData:_objectSpread(_objectSpread({},masterData),{},{filterStorageCategory:filterStorageCategory,nfilterStorageCategory:inputParam.inputData.nfilterStorageCategory,storageContainer:undefined,containers:undefined,sampleStorageMaster:undefined}),containerLocation:undefined,activeTabIndex:undefined}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.error(error.message);});};};export function openSampleStorageApprovedLocation(userInfo,masterData){return function(dispatch){dispatch(initRequest(true));var selectedRecord={};var urlArray=[];var geStorageCategory=rsapi.post(\"/storagecategory/getStorageCategory\",{'userinfo':userInfo});var getApprovedLocation=rsapi.post(\"/samplestoragemaster/getSampleStorageMasterByCategory\",{'userinfo':userInfo,\"nstoragecategorycode\":masterData[\"selectedSampleStorageVersion\"].nstoragecategorycode});urlArray=[geStorageCategory,getApprovedLocation];Axios.all(urlArray).then(function(response){var conditionMap=constructOptionList(response[0].data,\"nstoragecategorycode\",\"sstoragecategoryname\",false,false,true);var conditionMaster=conditionMap.get(\"OptionList\");var locationMap=constructOptionList(response[1].data[\"approvedSampleStorageLocation\"],\"nsamplestoragelocationcode\",\"ssamplestoragelocationname\",false,false,true);var locationMaster=locationMap.get(\"OptionList\");conditionMaster.map(function(item){return item.value===masterData[\"selectedSampleStorageVersion\"].nstoragecategorycode?selectedRecord[\"nstoragecategorycode\"]={\"label\":item.label,\"value\":item.value,\"item\":item.item}:\"\";});var approvedTreeData=[];locationMaster.map(function(item){return item.value===masterData[\"selectedSampleStorageVersion\"].nsamplestoragelocationcode?selectedRecord[\"nsamplestoragelocationcode\"]={\"label\":item.label,\"value\":item.value,\"item\":item.item}:\"\";});locationMaster.map(function(item){return item.value===masterData[\"selectedSampleStorageVersion\"].nsamplestoragelocationcode?approvedTreeData=item.item:\"\";});masterData=_objectSpread(_objectSpread({},masterData),{},{storageCategory:conditionMaster,approvedLocation:locationMaster,approvedTreeData:JSON.parse(approvedTreeData[\"jsondata\"].value).data});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,selectedRecord:selectedRecord,openChildModal:true}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function loadApprovedLocationOnCombo(userInfo,masterData,selectedRecord){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/samplestoragemaster/getSampleStorageMasterByCategory\",{'userinfo':userInfo,\"nstoragecategorycode\":selectedRecord.nstoragecategorycode.value}).then(function(response){var locationMap=constructOptionList(response.data[\"approvedSampleStorageLocation\"],\"nsamplestoragelocationcode\",\"ssamplestoragelocationname\",false,false,true);var locationMaster=locationMap.get(\"OptionList\");selectedRecord[\"nsamplestoragelocationcode\"]=[];var approvedTreeData=[];masterData=_objectSpread(_objectSpread({},masterData),{},{approvedLocation:locationMaster,approvedTreeData:approvedTreeData});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,selectedRecord:selectedRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function loadApprovedLocationOnTreeData(userInfo,masterData,selectedRecord){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/samplestoragemaster/getApprovedSampleStorageLocationByID\",{'userinfo':userInfo,\"nstoragecategorycode\":selectedRecord.nstoragecategorycode.value,\"nsamplestoragelocationcode\":selectedRecord.nsamplestoragelocationcode.value}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),{},{approvedTreeData:JSON.parse(response.data[0][\"jsondata\"].value).data});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,selectedRecord:selectedRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function moveItems(inputParam,masterData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/samplestoragemaster/moveItems\",inputParam).then(function(response){// if (inputParam.moveContainers === true) {\nmasterData=_objectSpread(_objectSpread({},masterData),{},{selectedSampleStorageVersion:response.data[0]});// } else {\n//     masterData = {\n//         ...masterData, selectedSampleStorageVersion: response.data[0]\n//     };\n// }\ndispatch({type:DEFAULT_RETURN,payload:{loading:false,openChildModal:false,masterData:masterData,activeTabIndex:undefined}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function saveSampleStorageMaster(userInfo,masterData,selectedRecord,inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/samplestoragemaster/createSampleStorageMaster\",{'userinfo':userInfo,\"sampleStorageMaster\":inputParam.inputData[\"sampleStorageMaster\"]}).then(function(response){selectedRecord[\"ssamplearno\"]=\"\";masterData=_objectSpread(_objectSpread({},masterData),{},{sampleStorageMaster:response.data[\"sampleStorageMaster\"],selectedSampleStorageMaster:response.data[\"selectedSampleStorageMaster\"]});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,selectedRecord:selectedRecord,openModal:inputParam.saveType===2?true:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/SampleStorageMasterAction.js"],"names":["rsapi","DEFAULT_RETURN","initRequest","sortData","constructOptionList","toast","transactionStatus","Axios","getSampleMaster","selectedItem","userInfo","masterData","dispatch","post","id","then","response","sampleStorageMaster","data","selectedSampleStorageMaster","type","payload","loading","sampleTrayCode","catch","error","status","message","warn","getSelectedApprovedStorageVersion","inputParam","parseInt","nsamplestorageversioncode","selectedSampleStorageVersion","storageContainer","undefined","containers","containerLocation","activeTabIndex","getSampleMasterDetails","getselectedContainer","getContainers","selectedContainer","length","locationCode","getContainerStorageCondition","operation","containerCode","getStorageConditionFromMaster","selectedRecord","urlArray","geStorageCondition","getSampleStorageCondition","ncontainerstoragecode","all","conditionMap","conditionMaster","get","map","item","value","label","storageCondition","defaultCondition","filter","items","ndefaultstatus","YES","openModal","changeStorageCategoryFilterOnSampleMaster","filterStorageCategory","inputData","nfilterStorageCategory","openSampleStorageApprovedLocation","geStorageCategory","getApprovedLocation","nstoragecategorycode","locationMap","locationMaster","approvedTreeData","nsamplestoragelocationcode","storageCategory","approvedLocation","JSON","parse","openChildModal","loadApprovedLocationOnCombo","loadApprovedLocationOnTreeData","moveItems","saveSampleStorageMaster","saveType"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { initRequest } from './LoginAction';\r\nimport { sortData, constructOptionList } from '../components/CommonScript';\r\nimport { toast } from 'react-toastify';\r\nimport { transactionStatus } from '../components/Enumeration';\r\nimport Axios from 'axios';\r\n\r\nexport function getSampleMaster(selectedItem, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/samplestoragemaster/getSampleMaster\",\r\n            { 'userinfo': userInfo, \"sampleTrayCode\": selectedItem.id })\r\n            .then(response => {\r\n\r\n                masterData = {\r\n                    ...masterData, sampleStorageMaster: response.data[\"sampleStorageMaster\"],\r\n                    selectedSampleStorageMaster: response.data[\"selectedSampleStorageMaster\"]\r\n                };\r\n                // sortData(masterData);\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        sampleTrayCode: selectedItem.id,\r\n                        selectedItem\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\nexport function getSelectedApprovedStorageVersion(inputParam, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/samplestoragelocation/getActiveSampleStorageVersion\",\r\n            { 'userinfo': userInfo, \"nsamplestorageversioncode\": parseInt(inputParam.nsamplestorageversioncode) })\r\n            .then(response => {\r\n\r\n                masterData = {\r\n                    ...masterData, selectedSampleStorageVersion: response.data[\"selectedSampleStorageVersion\"], storageContainer: undefined,\r\n                    containers: undefined, sampleStorageMaster: undefined\r\n                };\r\n                // sortData(masterData);\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        containerLocation: undefined,\r\n                        activeTabIndex: undefined\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function getSampleMasterDetails(masterData) {\r\n    return function (dispatch) {\r\n        dispatch({\r\n            type: DEFAULT_RETURN,\r\n            payload: {\r\n                masterData,\r\n            }\r\n        });\r\n    }\r\n}\r\nexport function getselectedContainer(masterData) {\r\n    return function (dispatch) {\r\n\r\n        dispatch({\r\n            type: DEFAULT_RETURN,\r\n            payload: {\r\n                masterData,\r\n            }\r\n        });\r\n    }\r\n}\r\nexport function getContainers(selectedItem, masterData, containers) {\r\n    return function (dispatch) {\r\n\r\n        masterData = {\r\n            ...masterData, containers: containers, selectedContainer: containers.length > 0 ? [containers[0]] : []\r\n        };\r\n\r\n        dispatch({\r\n            type: DEFAULT_RETURN,\r\n            payload: {\r\n                masterData,\r\n                locationCode: selectedItem.id,\r\n                selectedItem\r\n            }\r\n        });\r\n    }\r\n}\r\nexport function getContainerStorageCondition(selectedItem, userInfo, masterData, containerLocation) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let operation = \"\";\r\n        rsapi.post(\"/samplestoragemaster/getContainerStorageCondition\",\r\n            { 'userinfo': userInfo, \"containerCode\": selectedItem.id })\r\n            .then(response => {\r\n\r\n                if (response.data[\"storageContainer\"] !== null) {\r\n                    operation = \"update\";\r\n                } else {\r\n                    operation = \"create\";\r\n                }\r\n                masterData = {\r\n                    ...masterData, storageContainer: response.data[\"storageContainer\"]\r\n                };\r\n                // sortData(masterData);\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        containerCode: selectedItem.id,\r\n                        containerLocation,\r\n                        operation,\r\n                        selectedItem\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function getStorageConditionFromMaster(userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let selectedRecord = {};\r\n        let urlArray = [];\r\n        let operation = \"\";\r\n        if (masterData[\"storageContainer\"] && masterData[\"storageContainer\"] !== null) {\r\n\r\n            const geStorageCondition = rsapi.post(\"/storagecondition/getStorageCondition\",\r\n                { 'userinfo': userInfo })\r\n\r\n            const getSampleStorageCondition = rsapi.post(\"/samplestoragemaster/getContainerStorageConditionByID\",\r\n                { 'userinfo': userInfo, \"containerStorageCode\": masterData[\"storageContainer\"].ncontainerstoragecode });\r\n\r\n            urlArray = [geStorageCondition, getSampleStorageCondition];\r\n            operation = \"update\"\r\n        } else {\r\n\r\n\r\n            const geStorageCondition = rsapi.post(\"/storagecondition/getStorageCondition\",\r\n                { 'userinfo': userInfo })\r\n\r\n            urlArray = [geStorageCondition];\r\n            operation = \"create\"\r\n        }\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n\r\n                const conditionMap = constructOptionList(response[0].data, \"nstorageconditioncode\", \"sstorageconditionname\", false, false, true);\r\n                const conditionMaster = conditionMap.get(\"OptionList\");\r\n\r\n                if (masterData[\"storageContainer\"] && masterData[\"storageContainer\"] !== null) {\r\n                    conditionMaster.map(item => item.value === response[1].data[\"nstorageconditioncode\"] ?\r\n                        selectedRecord[\"nstorageconditioncode\"] = {\r\n                            \"label\": item.label,\r\n                            \"value\": item.value,\r\n                            \"item\": item\r\n                        }\r\n                        : \"\");\r\n\r\n                    masterData = {\r\n                        ...masterData, storageCondition: conditionMaster, storageContainer: response[1].data\r\n                    };\r\n                } else {\r\n\r\n                    const defaultCondition = conditionMaster.filter(items => items.item.ndefaultstatus === transactionStatus.YES);\r\n                    if (defaultCondition.length > 0) {\r\n                        selectedRecord[\"nstorageconditioncode\"] = {\r\n                            \"label\": defaultCondition[0].label,\r\n                            \"value\": defaultCondition[0].value,\r\n                            \"item\": defaultCondition\r\n                        }\r\n                    }\r\n                    masterData = {\r\n                        ...masterData, storageCondition: conditionMaster\r\n                    };\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        selectedRecord,\r\n                        openModal: true,\r\n                        operation\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\nexport const changeStorageCategoryFilterOnSampleMaster = (inputParam, filterStorageCategory) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/samplestoragemaster/getSampleStorageMasterByCategory\", inputParam.inputData)\r\n            .then(response => {\r\n                const masterData = response.data\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        masterData: {\r\n                            ...masterData,\r\n                            filterStorageCategory,\r\n                            nfilterStorageCategory: inputParam.inputData.nfilterStorageCategory,\r\n                            storageContainer: undefined,\r\n                            containers: undefined, sampleStorageMaster: undefined\r\n                        },\r\n                        containerLocation: undefined,\r\n                        activeTabIndex: undefined\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\nexport function openSampleStorageApprovedLocation(userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let selectedRecord = {};\r\n        let urlArray = [];\r\n\r\n\r\n        const geStorageCategory = rsapi.post(\"/storagecategory/getStorageCategory\",\r\n            { 'userinfo': userInfo })\r\n\r\n        const getApprovedLocation = rsapi.post(\"/samplestoragemaster/getSampleStorageMasterByCategory\",\r\n            {\r\n                'userinfo': userInfo, \"nstoragecategorycode\": masterData[\"selectedSampleStorageVersion\"].nstoragecategorycode\r\n            });\r\n\r\n        urlArray = [geStorageCategory, getApprovedLocation];\r\n\r\n\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n\r\n                const conditionMap = constructOptionList(response[0].data, \"nstoragecategorycode\", \"sstoragecategoryname\", false, false, true);\r\n                const conditionMaster = conditionMap.get(\"OptionList\");\r\n\r\n                const locationMap = constructOptionList(response[1].data[\"approvedSampleStorageLocation\"], \"nsamplestoragelocationcode\", \"ssamplestoragelocationname\", false, false, true);\r\n                const locationMaster = locationMap.get(\"OptionList\");\r\n\r\n\r\n                conditionMaster.map(item => item.value === masterData[\"selectedSampleStorageVersion\"].nstoragecategorycode ?\r\n                    selectedRecord[\"nstoragecategorycode\"] = {\r\n                        \"label\": item.label,\r\n                        \"value\": item.value,\r\n                        \"item\": item.item\r\n                    }\r\n                    : \"\");\r\n\r\n                let approvedTreeData = [];\r\n                locationMaster.map(item => item.value === masterData[\"selectedSampleStorageVersion\"].nsamplestoragelocationcode ?\r\n                    selectedRecord[\"nsamplestoragelocationcode\"] = {\r\n                        \"label\": item.label,\r\n                        \"value\": item.value,\r\n                        \"item\": item.item\r\n                    }\r\n                    : \"\");\r\n\r\n                locationMaster.map(item => item.value === masterData[\"selectedSampleStorageVersion\"].nsamplestoragelocationcode ?\r\n                    approvedTreeData = item.item\r\n                    : \"\");\r\n\r\n                masterData = {\r\n                    ...masterData, storageCategory: conditionMaster, approvedLocation: locationMaster, approvedTreeData: JSON.parse(approvedTreeData[\"jsondata\"].value).data\r\n                };\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        selectedRecord,\r\n                        openChildModal: true,\r\n\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function loadApprovedLocationOnCombo(userInfo, masterData, selectedRecord) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/samplestoragemaster/getSampleStorageMasterByCategory\",\r\n            {\r\n                'userinfo': userInfo, \"nstoragecategorycode\": selectedRecord.nstoragecategorycode.value\r\n            })\r\n            .then(response => {\r\n\r\n                const locationMap = constructOptionList(response.data[\"approvedSampleStorageLocation\"], \"nsamplestoragelocationcode\", \"ssamplestoragelocationname\", false, false, true);\r\n                const locationMaster = locationMap.get(\"OptionList\");\r\n\r\n                selectedRecord[\"nsamplestoragelocationcode\"] = [];\r\n                let approvedTreeData = [];\r\n\r\n                masterData = {\r\n                    ...masterData, approvedLocation: locationMaster, approvedTreeData\r\n                };\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        selectedRecord\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function loadApprovedLocationOnTreeData(userInfo, masterData, selectedRecord) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/samplestoragemaster/getApprovedSampleStorageLocationByID\",\r\n            {\r\n                'userinfo': userInfo, \"nstoragecategorycode\": selectedRecord.nstoragecategorycode.value, \"nsamplestoragelocationcode\": selectedRecord.nsamplestoragelocationcode.value\r\n            })\r\n            .then(response => {\r\n\r\n                masterData = {\r\n                    ...masterData, approvedTreeData: JSON.parse(response.data[0][\"jsondata\"].value).data\r\n                };\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        selectedRecord\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function moveItems(inputParam, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/samplestoragemaster/moveItems\", inputParam)\r\n            .then(response => {\r\n\r\n                // if (inputParam.moveContainers === true) {\r\n                masterData = {\r\n                    ...masterData, selectedSampleStorageVersion: response.data[0]\r\n                };\r\n                // } else {\r\n                //     masterData = {\r\n                //         ...masterData, selectedSampleStorageVersion: response.data[0]\r\n                //     };\r\n                // }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        openChildModal: false,\r\n                        masterData,\r\n                        activeTabIndex: undefined\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function saveSampleStorageMaster(userInfo, masterData, selectedRecord, inputParam) {\r\n    return function (dispatch) {\r\n       \r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/samplestoragemaster/createSampleStorageMaster\",\r\n            {\r\n                'userinfo': userInfo, \"sampleStorageMaster\": inputParam.inputData[\"sampleStorageMaster\"]\r\n            })\r\n            .then(response => {\r\n\r\n                selectedRecord[\"ssamplearno\"] = \"\";\r\n                masterData = {\r\n                    ...masterData, sampleStorageMaster: response.data[\"sampleStorageMaster\"],\r\n                    selectedSampleStorageMaster: response.data[\"selectedSampleStorageMaster\"]\r\n                };\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        selectedRecord,\r\n                        openModal: inputParam.saveType === 2 ? true : false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}