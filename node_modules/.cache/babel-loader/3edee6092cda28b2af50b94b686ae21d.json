{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\testgroup\\\\TestGroupParameterAccordion.jsx\";\nimport React, { useState } from 'react';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { faPencilAlt, faPlus, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { process } from '@progress/kendo-data-query';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Row, Col, Nav, FormGroup, FormLabel, Card } from 'react-bootstrap';\nimport { ReadOnlyText } from '../../components/App.styles';\nimport { parameterType, SampleType, transactionStatus } from '../../components/Enumeration';\nimport PredefinedParameterTab from '../testmanagement/PredefinedParameterTab';\nimport NumericParameterTab from './NumericParameterTab';\nimport { faEye } from '@fortawesome/free-regular-svg-icons';\nimport DataGrid from '../../components/data-grid/data-grid.component';\nimport { AtTableWrap } from '../../components/client-group.styles';\nimport { Grid, GridColumn } from '@progress/kendo-react-grid';\nimport ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\nimport { ContentPanel } from '../product/product.styled';\n\nconst TestGroupParameterAccordion = props => {\n  const isActionRequired = true;\n  const gridHeight = 'auto';\n  const parameterFieldName = [{\n    \"sparametersynonym\": \"IDS_PARAMETERSYNONYM\"\n  }, {\n    \"sdisplaystatus\": \"IDS_PARAMETERTYPE\"\n  }, {\n    \"nsorter\": \"IDS_SORTER\"\n  }, {\n    \"schecklistname\": \"IDS_CHECKLISTNAME\"\n  }, {\n    \"schecklistversionname\": \"IDS_CHECKLISTVERSION\"\n  }, {\n    \"nroundingdigits\": \"IDS_ROUNDINGDIGITS\",\n    \"nparametertypecode\": parameterType.NUMERIC\n  }, {\n    \"sunitname\": \"IDS_UNIT\",\n    \"nparametertypecode\": parameterType.NUMERIC\n  }, {\n    \"sreportmandatory\": \"IDS_REPORTMANDATORY\"\n  }, {\n    \"sresultmandatory\": \"IDS_RESULTMANDATORY\"\n  }, //{ \"sspecdesc\": \"IDS_SPECDESCRIPTION\" }\n  {\n    \"sspecdesc\": \"IDS_PARAMETERDESCRIPTION\"\n  }, {\n    \"sisadhocparameter\": \"IDS_ADHOCPARAMETER\"\n  }];\n  const specLimitFieldName = [{\n    \"sminlod\": \"IDS_MINLOD\"\n  }, {\n    \"smaxlod\": \"IDS_MAXLOD\"\n  }, {\n    \"sminloq\": \"IDS_MINLOQ\"\n  }, {\n    \"smaxloq\": \"IDS_MAXLOQ\"\n  }, {\n    \"sminb\": \"IDS_MINB\"\n  }, {\n    \"smaxb\": \"IDS_MAXB\"\n  }, {\n    \"smina\": \"IDS_MINA\"\n  }, {\n    \"smaxa\": \"IDS_MAXA\"\n  }, {\n    \"sresultvalue\": \"IDS_DEFAULTRESULT\"\n  }];\n  const formulaFieldName = [{\n    \"sformulaname\": \"IDS_FORMULANAME\"\n  }, {\n    \"sformulacalculationdetail\": \"IDS_FORMULA\"\n  }];\n  const editParameterId = props.controlMap && props.controlMap.has(\"EditParameter\") && props.controlMap.get(\"EditParameter\").ncontrolcode;\n  const editViewCLId = props.controlMap && props.controlMap.has(\"EditParameter\") && props.controlMap.get(\"EditParameter\").ncontrolcode;\n  const {\n    selectedParameter,\n    userInfo,\n    userRoleControlRights,\n    testGroupTestFormula,\n    testGroupTestNumericParameter,\n    testGroupTestPredefinedParameter,\n    testGroupCharParameter,\n    selectedSpecification,\n    filterData,\n    testGroupTestClinicalSpec,\n    optionalData,\n    selectedNode\n  } = props;\n  const viewCheckListParam = {\n    nchecklistversioncode: selectedParameter.nchecklistversioncode,\n    flag: 1,\n    ntransactionresultcode: 0,\n    userinfo: userInfo\n  };\n  const addClinicalSpec = props.controlMap && props.controlMap.has(\"AddClinicalSpec\") && props.controlMap.get(\"AddClinicalSpec\").ncontrolcode;\n  const editClinicalSpec = props.controlMap && props.controlMap.has(\"EditClinicalSpec\") && props.controlMap.get(\"EditClinicalSpec\").ncontrolcode;\n  const deleteClinicalSpec = props.controlMap && props.controlMap.has(\"DeleteClinicalSpec\") && props.controlMap.get(\"DeleteClinicalSpec\").ncontrolcode;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fixed_list_height\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    className: \"d-flex justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, selectedParameter && selectedParameter.nchecklistversioncode !== -1 && /*#__PURE__*/React.createElement(Nav.Link, {\n    className: \"btn btn-circle outline-grey mr-2\",\n    hidden: userRoleControlRights.indexOf(editViewCLId) === -1,\n    onClick: () => props.viewTestGroupCheckList(viewCheckListParam),\n    \"data-tip\": props.intl.formatMessage({\n      id: \"IDS_VIEW\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEye,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Nav.Link, {\n    className: \"btn btn-circle outline-grey mr-2\",\n    hidden: userRoleControlRights.indexOf(editParameterId) === -1,\n    \"data-tip\": props.intl.formatMessage({\n      id: \"IDS_EDIT\"\n    }),\n    onClick: () => props.editTestGroupParameter(\"update\", selectedParameter, userInfo, editParameterId, selectedSpecification, filterData, props.masterData),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faPencilAlt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, parameterFieldName.map(item => {\n    return item.nparametertypecode === undefined || item.nparametertypecode && item.nparametertypecode === props.testgrouptestparameter.nparametertypecode ? Object.keys(item)[0] === \"sparametersynonym\" || Object.keys(item)[0] === \"sspecdesc\" ? /*#__PURE__*/React.createElement(Col, {\n      md: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 41\n      }\n    }, props.intl.formatMessage({\n      id: Object.values(item)[0]\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 41\n      }\n    }, selectedParameter[Object.keys(item)[0]]))) : /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 41\n      }\n    }, props.intl.formatMessage({\n      id: Object.values(item)[0]\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 41\n      }\n    }, selectedParameter[Object.keys(item)[0]] === \"NA\" ? '-' : selectedParameter[Object.keys(item)[0]]))) : \"\";\n  })), selectedParameter.nparametertypecode === parameterType.NUMERIC && /*#__PURE__*/React.createElement(React.Fragment, null, testGroupTestNumericParameter && testGroupTestNumericParameter.length > 0 && props.filterData.nsampletypecode.item && props.filterData.nsampletypecode.item.nclinicaltyperequired !== transactionStatus.YES &&\n  /*#__PURE__*/\n  //props.masterData.selectedNode.nsampletypecode !== SampleType.CLINICALTYPE &&\n  React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"horizontal-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }, specLimitFieldName.map(item => {\n    return /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 49\n      }\n    }, props.intl.formatMessage({\n      id: Object.values(item)[0]\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 49\n      }\n    }, testGroupTestNumericParameter[0][Object.keys(item)[0]])));\n  }))), testGroupTestFormula && testGroupTestFormula.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"horizontal-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 29\n    }\n  }, formulaFieldName.map(item => {\n    return /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 49\n      }\n    }, props.intl.formatMessage({\n      id: Object.values(item)[0]\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 49\n      }\n    }, testGroupTestFormula[0][Object.keys(item)[0]])));\n  }))), props.filterData.nsampletypecode.item && props.filterData.nsampletypecode.item.nclinicaltyperequired === transactionStatus.YES &&\n  /*#__PURE__*/\n  //props.masterData.selectedNode.nsampletypecode === SampleType.CLINICALTYPE &&\n  React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    className: \"no-gutters pt-2 pb-2 col-12 text-right border-bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    name: \"addclinicalspec\",\n    className: \"add-txt-btn\",\n    hidden: props.userRoleControlRights.indexOf(addClinicalSpec) === -1,\n    onClick: () => props.openModal(\"create\", selectedParameter, userInfo, optionalData, props.masterData),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faPlus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 25\n    }\n  }), \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"IDS_CLINICALSPEC\",\n    defaultMessage: \"Clinical Spec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 25\n    }\n  }))))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(DataGrid, Object.assign({\n    primaryKeyField: \"ntestgrouptestclinicspeccode\",\n    expandField: \"expanded\" //detailedFieldList={props.detailedFieldList || []}\n    ,\n    gridHeight: gridHeight + 'px',\n    extractedColumnList: props.extractedColumnList || [] //inputParam={props.inputParam}\n    ,\n    userInfo: props.userInfo,\n    scrollable: \"scrollable\" //gridHeight={'200px'}\n    ,\n    isActionRequired: true //fixedScroll={true}\n    ,\n    data: props.data,\n    total: props.data && props.data.length || 0,\n    dataState: props.dataState,\n    dataStateChange: props.dataStateChange,\n    dataResult: process(testGroupTestClinicalSpec || [], props.dataState)\n  }, props.dataState, {\n    controlMap: props.controlMap,\n    userRoleControlRights: [],\n    methodUrl: \"testgrouptestclinicspeccode\",\n    pageable: true,\n    selectedId: props.selectedId,\n    hasDynamicColSize: props.hasDynamicColSize,\n    hideDetailBand: true,\n    actionIcons: [{\n      title: props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      controlname: \"faPencilAlt\",\n      objectName: \"mastertoedit\",\n      hidden: userRoleControlRights.indexOf(editClinicalSpec) === -1,\n      //onClick: (viewdetails) => this.ViewAuditDetails(viewdetails)\n      onClick: viewdetails => props.EditSpecDetails(viewdetails, editClinicalSpec)\n    }, {\n      title: props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }),\n      controlname: \"faTrashAlt\",\n      objectName: \"mastertodelete\",\n      hidden: userRoleControlRights.indexOf(deleteClinicalSpec) === -1,\n      onClick: viewdetails => props.DeleteSpecDetails(viewdetails, deleteClinicalSpec)\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 49\n    }\n  })))))), selectedParameter.nparametertypecode === parameterType.PREDEFINED && /*#__PURE__*/React.createElement(PredefinedParameterTab, {\n    primaryKeyName: \"ntestgrouptestpredefcode\",\n    predefinedParameterList: testGroupTestPredefinedParameter,\n    selectedParameter: selectedParameter,\n    userInfo: userInfo,\n    optionalData: {\n      testgroupspecification: selectedSpecification\n    },\n    methodUrl: \"TestGroupPredefParameter\",\n    addId: props.controlMap.has(\"AddCodedResult\") && props.controlMap.get(\"AddCodedResult\").ncontrolcode,\n    editId: props.controlMap.has(\"EditCodedResult\") && props.controlMap.get(\"EditCodedResult\").ncontrolcode,\n    deleteId: props.controlMap.has(\"DeleteCodedResult\") && props.controlMap.get(\"DeleteCodedResult\").ncontrolcode,\n    viewId: props.controlMap.has(\"ViewSubCodedResult\") && props.controlMap.get(\"ViewSubCodedResult\").ncontrolcode,\n    userRoleControlRights: props.userRoleControlRights,\n    deleteAction: props.deleteAction,\n    onSwitchChange: props.onSwitchChange,\n    openModal: props.addTestGroupCodedResult,\n    subCodedResultView: props.subCodedResultView,\n    masterData: props.masterData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }), selectedParameter.nparametertypecode === parameterType.CHARACTER && testGroupCharParameter.length > 0 && props.testGroupCharParameter[0].scharname && props.testGroupCharParameter[0].scharname !== \"null\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"horizontal-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 29\n    }\n  }, props.intl.formatMessage({\n    id: \"IDS_TESTCHARACTER\"\n  })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 29\n    }\n  }, props.testGroupCharParameter[0].scharname)))));\n};\n\nexport default injectIntl(TestGroupParameterAccordion);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/testgroup/TestGroupParameterAccordion.jsx"],"names":["React","useState","injectIntl","FormattedMessage","faPencilAlt","faPlus","faTrashAlt","process","FontAwesomeIcon","Row","Col","Nav","FormGroup","FormLabel","Card","ReadOnlyText","parameterType","SampleType","transactionStatus","PredefinedParameterTab","NumericParameterTab","faEye","DataGrid","AtTableWrap","Grid","GridColumn","ConfirmDialog","ContentPanel","TestGroupParameterAccordion","props","isActionRequired","gridHeight","parameterFieldName","NUMERIC","specLimitFieldName","formulaFieldName","editParameterId","controlMap","has","get","ncontrolcode","editViewCLId","selectedParameter","userInfo","userRoleControlRights","testGroupTestFormula","testGroupTestNumericParameter","testGroupTestPredefinedParameter","testGroupCharParameter","selectedSpecification","filterData","testGroupTestClinicalSpec","optionalData","selectedNode","viewCheckListParam","nchecklistversioncode","flag","ntransactionresultcode","userinfo","addClinicalSpec","editClinicalSpec","deleteClinicalSpec","indexOf","viewTestGroupCheckList","intl","formatMessage","id","editTestGroupParameter","masterData","map","item","nparametertypecode","undefined","testgrouptestparameter","Object","keys","values","length","nsampletypecode","nclinicaltyperequired","YES","openModal","extractedColumnList","data","dataState","dataStateChange","selectedId","hasDynamicColSize","title","controlname","objectName","hidden","onClick","viewdetails","EditSpecDetails","DeleteSpecDetails","PREDEFINED","testgroupspecification","deleteAction","onSwitchChange","addTestGroupCodedResult","subCodedResultView","CHARACTER","scharname"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { faPencilAlt, faPlus, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Row, Col, Nav, FormGroup, FormLabel, Card } from 'react-bootstrap';\r\nimport { ReadOnlyText } from '../../components/App.styles';\r\nimport { parameterType, SampleType, transactionStatus } from '../../components/Enumeration';\r\nimport PredefinedParameterTab from '../testmanagement/PredefinedParameterTab';\r\nimport NumericParameterTab from './NumericParameterTab';\r\nimport { faEye } from '@fortawesome/free-regular-svg-icons';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport { AtTableWrap } from '../../components/client-group.styles';\r\nimport { Grid, GridColumn } from '@progress/kendo-react-grid';\r\nimport ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\r\nimport { ContentPanel } from '../product/product.styled';\r\n\r\n\r\n\r\nconst TestGroupParameterAccordion = (props) => {\r\n    const isActionRequired = true;\r\n    const gridHeight = 'auto'\r\n    const parameterFieldName = [\r\n        { \"sparametersynonym\": \"IDS_PARAMETERSYNONYM\" },\r\n        { \"sdisplaystatus\": \"IDS_PARAMETERTYPE\" },\r\n        { \"nsorter\": \"IDS_SORTER\" },\r\n        { \"schecklistname\": \"IDS_CHECKLISTNAME\" },\r\n        { \"schecklistversionname\": \"IDS_CHECKLISTVERSION\" },\r\n        { \"nroundingdigits\": \"IDS_ROUNDINGDIGITS\", \"nparametertypecode\": parameterType.NUMERIC },\r\n        { \"sunitname\": \"IDS_UNIT\", \"nparametertypecode\": parameterType.NUMERIC },\r\n        { \"sreportmandatory\": \"IDS_REPORTMANDATORY\" }, { \"sresultmandatory\": \"IDS_RESULTMANDATORY\" },\r\n        //{ \"sspecdesc\": \"IDS_SPECDESCRIPTION\" }\r\n        { \"sspecdesc\": \"IDS_PARAMETERDESCRIPTION\" },\r\n        { \"sisadhocparameter\":\"IDS_ADHOCPARAMETER\"}\r\n    ];\r\n\r\n\r\n    const specLimitFieldName = [\r\n        { \"sminlod\": \"IDS_MINLOD\" }, { \"smaxlod\": \"IDS_MAXLOD\" },\r\n        { \"sminloq\": \"IDS_MINLOQ\" }, { \"smaxloq\": \"IDS_MAXLOQ\" },\r\n        { \"sminb\": \"IDS_MINB\" }, { \"smaxb\": \"IDS_MAXB\" },\r\n        { \"smina\": \"IDS_MINA\" }, { \"smaxa\": \"IDS_MAXA\" },\r\n        { \"sresultvalue\": \"IDS_DEFAULTRESULT\" }\r\n    ];\r\n    const formulaFieldName = [{ \"sformulaname\": \"IDS_FORMULANAME\" }, { \"sformulacalculationdetail\": \"IDS_FORMULA\" }];\r\n    const editParameterId = props.controlMap && props.controlMap.has(\"EditParameter\") && props.controlMap.get(\"EditParameter\").ncontrolcode;\r\n    const editViewCLId = props.controlMap && props.controlMap.has(\"EditParameter\") && props.controlMap.get(\"EditParameter\").ncontrolcode;\r\n    const { selectedParameter, userInfo, userRoleControlRights, testGroupTestFormula, testGroupTestNumericParameter,\r\n        testGroupTestPredefinedParameter, testGroupCharParameter, selectedSpecification, filterData, testGroupTestClinicalSpec, optionalData,selectedNode } = props;\r\n    const viewCheckListParam = { nchecklistversioncode: selectedParameter.nchecklistversioncode, flag: 1, ntransactionresultcode: 0, userinfo: userInfo };\r\n    const addClinicalSpec = props.controlMap && props.controlMap.has(\"AddClinicalSpec\") && props.controlMap.get(\"AddClinicalSpec\").ncontrolcode;\r\n    const editClinicalSpec = props.controlMap && props.controlMap.has(\"EditClinicalSpec\") && props.controlMap.get(\"EditClinicalSpec\").ncontrolcode;\r\n    const deleteClinicalSpec = props.controlMap && props.controlMap.has(\"DeleteClinicalSpec\") && props.controlMap.get(\"DeleteClinicalSpec\").ncontrolcode;\r\n\r\n    return (\r\n\r\n        <div className=\"fixed_list_height\">\r\n            <Row>\r\n                <Col md={12} className=\"d-flex justify-content-end\">\r\n                    {selectedParameter && selectedParameter.nchecklistversioncode !== -1 &&\r\n                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\" hidden={userRoleControlRights.indexOf(editViewCLId) === -1}\r\n                            onClick={() => props.viewTestGroupCheckList(viewCheckListParam)}\r\n                            data-tip={props.intl.formatMessage({ id: \"IDS_VIEW\" })}>\r\n                            <FontAwesomeIcon icon={faEye} />\r\n                        </Nav.Link>\r\n                    }\r\n                    <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                        hidden={userRoleControlRights.indexOf(editParameterId) === -1}\r\n                        data-tip={props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                        onClick={() => props.editTestGroupParameter(\"update\", selectedParameter, userInfo, editParameterId, selectedSpecification, filterData,\r\n                            props.masterData)}>\r\n                        <FontAwesomeIcon icon={faPencilAlt} />\r\n                    </Nav.Link>\r\n                </Col>\r\n            </Row>\r\n\r\n\r\n\r\n            <Row>\r\n\r\n                {parameterFieldName.map(item => {\r\n                    return (\r\n                        item.nparametertypecode === undefined\r\n                            || (item.nparametertypecode\r\n                                && item.nparametertypecode === props.testgrouptestparameter.nparametertypecode) ?\r\n                            (Object.keys(item)[0] === \"sparametersynonym\" || Object.keys(item)[0] === \"sspecdesc\") ?\r\n                                <Col md=\"12\">\r\n                                    <FormGroup>\r\n                                        <FormLabel>{props.intl.formatMessage({ id: Object.values(item)[0] })}</FormLabel>\r\n                                        <ReadOnlyText>{selectedParameter[Object.keys(item)[0]]}</ReadOnlyText>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                                : <Col md=\"6\">\r\n                                    <FormGroup>\r\n                                        <FormLabel>{props.intl.formatMessage({ id: Object.values(item)[0] })}</FormLabel>\r\n                                        <ReadOnlyText>{selectedParameter[Object.keys(item)[0]] === \"NA\" ? '-' : selectedParameter[Object.keys(item)[0]]}</ReadOnlyText>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                            : \"\"\r\n\r\n                    )\r\n                }\r\n                )}\r\n            </Row>\r\n\r\n            {selectedParameter.nparametertypecode === parameterType.NUMERIC &&\r\n                <>\r\n                    {testGroupTestNumericParameter && testGroupTestNumericParameter.length > 0 && props.filterData.nsampletypecode.item && props.filterData.nsampletypecode.item.nclinicaltyperequired !==transactionStatus.YES &&//props.masterData.selectedNode.nsampletypecode !== SampleType.CLINICALTYPE &&\r\n                        <>\r\n                            <Row>\r\n                                <Col >\r\n                                    <div className=\"horizontal-line\"></div>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                {specLimitFieldName.map(item => {\r\n                                    return (\r\n                                        <Col md=\"6\">\r\n                                            <FormGroup>\r\n                                                <FormLabel>{props.intl.formatMessage({ id: Object.values(item)[0] })}</FormLabel>\r\n                                                <ReadOnlyText>{testGroupTestNumericParameter[0][Object.keys(item)[0]]}</ReadOnlyText>\r\n                                            </FormGroup>\r\n                                        </Col>\r\n                                    )\r\n                                })}\r\n                            </Row>\r\n                        </>\r\n                    }\r\n                    {testGroupTestFormula && testGroupTestFormula.length > 0 &&\r\n                        <>\r\n                            <Row>\r\n                                <Col >\r\n                                    <div className=\"horizontal-line\"></div>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                {formulaFieldName.map(item => {\r\n                                    return (\r\n                                        <Col md=\"6\">\r\n                                            <FormGroup>\r\n                                                <FormLabel>{props.intl.formatMessage({ id: Object.values(item)[0] })}</FormLabel>\r\n                                                <ReadOnlyText>{testGroupTestFormula[0][Object.keys(item)[0]]}</ReadOnlyText>\r\n                                            </FormGroup>\r\n                                        </Col>\r\n                                    )\r\n                                })}\r\n                            </Row>\r\n                        </>   \r\n                    }\r\n\r\n                    {props.filterData.nsampletypecode.item && props.filterData.nsampletypecode.item.nclinicaltyperequired ===transactionStatus.YES &&//props.masterData.selectedNode.nsampletypecode === SampleType.CLINICALTYPE &&\r\n                        <>\r\n                            <Row className=\"no-gutters pt-2 pb-2 col-12 text-right border-bottom\">\r\n                                <Col md={12}>\r\n                            <div className=\"d-flex justify-content-end\">\r\n                                \r\n                            <Nav.Link name=\"addclinicalspec\" className=\"add-txt-btn\" hidden={props.userRoleControlRights.indexOf(addClinicalSpec) === -1}\r\n                        onClick={() =>  props.openModal(\"create\", selectedParameter, userInfo, optionalData, props.masterData)}>\r\n                        <FontAwesomeIcon icon={faPlus} /> { }\r\n                        <FormattedMessage id=\"IDS_CLINICALSPEC\" defaultMessage=\"Clinical Spec\" />\r\n                    </Nav.Link>\r\n                                       \r\n                                    </div>\r\n                                </Col>\r\n                            </Row>\r\n                            {/* {props.siteAddress.nmanufsitecode === props.masterData.ManufacturerSiteAddress.nmanufsitecode ? */}\r\n                            <Row>\r\n                                <Col>\r\n                                    {/* <ContentPanel className=\"panel-main-content\">\r\n                                        <Card className=\"border-0\">\r\n                                            <Card.Body className='form-static-wrap padding-class'> */}\r\n                                                <DataGrid\r\n                                                    primaryKeyField={\"ntestgrouptestclinicspeccode\"}\r\n                                                    expandField=\"expanded\"\r\n\r\n                                                    //detailedFieldList={props.detailedFieldList || []}\r\n                                                    gridHeight={gridHeight + 'px'}\r\n                                                    extractedColumnList={props.extractedColumnList || []}\r\n                                                    //inputParam={props.inputParam}\r\n                                                    userInfo={props.userInfo}\r\n                                                    scrollable={\"scrollable\"}\r\n                                                    //gridHeight={'200px'}\r\n                                                    isActionRequired={true}\r\n                                                    //fixedScroll={true}\r\n                                                    data={props.data}\r\n                                                    total={props.data && props.data.length || 0}\r\n                                                    dataState={props.dataState}\r\n                                                    dataStateChange={props.dataStateChange}\r\n                                                    dataResult={process(testGroupTestClinicalSpec || [], props.dataState)}{...props.dataState}\r\n                                                    controlMap={props.controlMap}\r\n                                                    userRoleControlRights={[]}\r\n                                                    methodUrl=\"testgrouptestclinicspeccode\"\r\n                                                    pageable={true}\r\n                                                    selectedId={props.selectedId}\r\n                                                    hasDynamicColSize={props.hasDynamicColSize}\r\n                                                    hideDetailBand={true}\r\n                                                    actionIcons={[{\r\n                                                        title: props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                        controlname: \"faPencilAlt\",\r\n                                                        objectName: \"mastertoedit\",\r\n                                                        hidden: userRoleControlRights.indexOf(editClinicalSpec) === -1,\r\n                                                        //onClick: (viewdetails) => this.ViewAuditDetails(viewdetails)\r\n                                                        onClick: (viewdetails) => props.EditSpecDetails(viewdetails,editClinicalSpec)\r\n\r\n                                                    },\r\n                                                    {\r\n                                                        title: props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                        controlname: \"faTrashAlt\",\r\n                                                        objectName: \"mastertodelete\",\r\n                                                        hidden: userRoleControlRights.indexOf(deleteClinicalSpec) === -1,\r\n                                                        onClick: (viewdetails) => props.DeleteSpecDetails(viewdetails,deleteClinicalSpec)\r\n                                                    }\r\n                                                    ]}\r\n\r\n\r\n\r\n                                                >\r\n                                                </DataGrid>\r\n\r\n                                            {/* </Card.Body>\r\n                                        </Card>\r\n                                    </ContentPanel> */}\r\n                                </Col>\r\n                            </Row>\r\n                        </>\r\n                    }\r\n                </>\r\n            }\r\n            {selectedParameter.nparametertypecode === parameterType.PREDEFINED &&\r\n                <PredefinedParameterTab\r\n                    primaryKeyName=\"ntestgrouptestpredefcode\"\r\n                    predefinedParameterList={testGroupTestPredefinedParameter}\r\n                    selectedParameter={selectedParameter}\r\n                    userInfo={userInfo}\r\n                    optionalData={{ testgroupspecification: selectedSpecification }}\r\n                    methodUrl=\"TestGroupPredefParameter\"\r\n                    addId={props.controlMap.has(\"AddCodedResult\") && props.controlMap.get(\"AddCodedResult\").ncontrolcode}\r\n                    editId={props.controlMap.has(\"EditCodedResult\") && props.controlMap.get(\"EditCodedResult\").ncontrolcode}\r\n                    deleteId={props.controlMap.has(\"DeleteCodedResult\") && props.controlMap.get(\"DeleteCodedResult\").ncontrolcode}\r\n                    viewId={props.controlMap.has(\"ViewSubCodedResult\") && props.controlMap.get(\"ViewSubCodedResult\").ncontrolcode}\r\n                    userRoleControlRights={props.userRoleControlRights}\r\n                    deleteAction={props.deleteAction}\r\n                    onSwitchChange={props.onSwitchChange}\r\n                    openModal={props.addTestGroupCodedResult}\r\n                    subCodedResultView={props.subCodedResultView}\r\n                    masterData={props.masterData}\r\n                />\r\n            }\r\n            {selectedParameter.nparametertypecode === parameterType.CHARACTER &&\r\n                testGroupCharParameter.length > 0 && props.testGroupCharParameter[0].scharname &&\r\n                props.testGroupCharParameter[0].scharname !== \"null\" &&\r\n                <>\r\n                    <Row>\r\n                        <Col >\r\n                            <div className=\"horizontal-line\"></div>\r\n                        </Col>\r\n                    </Row>\r\n                    <Col md={12}>\r\n                        <FormGroup>\r\n                            <FormLabel>{props.intl.formatMessage({ id: \"IDS_TESTCHARACTER\" })}</FormLabel>\r\n                            <ReadOnlyText>{props.testGroupCharParameter[0].scharname}</ReadOnlyText>\r\n                        </FormGroup>\r\n                    </Col>\r\n                </>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default injectIntl(TestGroupParameterAccordion);\r\n"]},"metadata":{},"sourceType":"module"}