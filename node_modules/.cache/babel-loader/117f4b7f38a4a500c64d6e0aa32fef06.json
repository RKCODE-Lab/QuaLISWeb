{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\components\\\\sidebar\\\\sidebar.component.jsx\";\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { Tab, Nav, Image, Accordion, Button } from 'react-bootstrap';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Preloader from '../preloader/preloader.component';\nimport ContextAwareToggle from './ContextAwareToggle';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { callService, navPage, elnLoginAction, sdmsLoginAction } from '../../actions';\nimport { SidebarNav, SidebarBrand, SidebarBrandTxt, NavHeader, CollapseInner } from '../../components/sidebar/sidebar.styles'; // import HomeListLogo from '../../assets/image/homelist.svg';\n\nimport toggleExpand from \"../../assets/image/expand-icon.svg\";\nimport toggleCollapse from \"../../assets/image/collapse-icon.svg\";\nimport PrimaryLogo from '../../assets/image/sidebar-logo.png';\nimport 'react-perfect-scrollbar/dist/css/styles.css';\nimport { formatInputDate } from '../CommonScript'; //import LogiLabLogo from '../../assets/image/logilablogo.png'\n//import SDMSLogo from '../../assets/image/sdmslogo.png'\n\nimport { toast } from 'react-toastify';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass Menu extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.getDetail = (classUrl, methodUrl, formCode, displayName, moduleCode, formname, modulename) => {\n      if (this.props.Login.userInfo.nformcode !== formCode) {\n        const userInfo = { ...this.props.Login.userInfo,\n          \"nformcode\": formCode,\n          \"nmodulecode\": moduleCode,\n          \"sformname\": formname.sdisplayname,\n          \"smodulename\": modulename.sdisplayname\n        };\n        const inputParam = {\n          inputData: {\n            \"userinfo\": userInfo,\n            currentdate: formatInputDate(new Date(), true)\n          },\n          classUrl,\n          methodUrl,\n          displayName\n        };\n        this.props.callService(inputParam);\n      }\n    };\n\n    this.onELNLoginClick = () => {\n      if (this.props.Login.sdmselnsettings && this.props.Login.sdmselnsettings[3]) {\n        const serverUrl = this.props.Login.sdmselnsettings[3] + \"Login/Validateuser\";\n        const uiUrl = this.props.Login.sdmselnsettings[4];\n        const userInfo = this.props.Login.userInfo;\n        const inputParam = {\n          username: userInfo.sloginid,\n          lssitemaster: {\n            \"sitecode\": \"1\"\n          },\n          password: userInfo.spassword,\n          lsusergroup: {\n            \"usergroupname\": userInfo.suserrolename\n          }\n        };\n        this.props.elnLoginAction(inputParam, serverUrl, uiUrl);\n      } else {\n        toast.info(this.intl.FormattedMessage({\n          id: \"IDS_ELNSERVERURLNOTAVAILABLE\"\n        }));\n      }\n    };\n\n    this.onSDMSLoginClick = () => {\n      if (this.props.Login.sdmselnsettings && this.props.Login.sdmselnsettings[1]) {\n        const serverUrl = this.props.Login.sdmselnsettings[1] + \"/Login/validatelinkUser\";\n        const uiUrl = this.props.Login.sdmselnsettings[2];\n        const userInfo = this.props.Login.userInfo;\n        const inputParam = {\n          sUserName: userInfo.sloginid,\n          sSiteCode: \"DEFAULT\",\n          sGroupName: userInfo.suserrolename\n        };\n        this.props.sdmsLoginAction(inputParam, serverUrl, uiUrl);\n      } else {\n        toast.info(this.intl.FormattedMessage({\n          id: \"IDS_ELNSERVERURLNOTAVAILABLE\"\n        }));\n      }\n    };\n\n    this.setKey = k => {\n      this.setState({\n        key: k\n      });\n    };\n\n    this.ToggleAction = value => {\n      this.setState({\n        isSidebarActive: value\n      });\n    };\n\n    this.pinnedEvent = () => {\n      let {\n        isPinned\n      } = this.state;\n      this.setState({\n        isPinned: !isPinned\n      });\n    };\n\n    this.formRef = React.createRef();\n    this.state = {\n      show: false,\n      nusermultirolecode: -1,\n      selectedRecord: {},\n      isSidebarActive: false,\n      isPinned: false,\n      key: this.props.Login.menuDesign && this.props.Login.menuDesign[0] ? `MenuId_${this.props.Login.menuDesign[0].nmenucode}` : \"MenuId_0\"\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.Login.menuDesign !== prevProps.Login.menuDesign) {\n      this.setState({\n        key: this.props.Login.menuDesign && this.props.Login.menuDesign[0] ? `MenuId_${this.props.Login.menuDesign[0].nmenucode}` : \"MenuId_0\"\n      });\n    }\n  }\n\n  render() {\n    const {\n      isSidebarActive\n    } = this.state;\n    const {\n      menuDesign,\n      loading\n    } = this.props.Login;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Preloader, {\n      loading: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(SidebarNav, {\n      className: `d-flex side-nav sidebar sidebar-dark bg-gradient-primary ${isSidebarActive && !this.state.isPinned ? 'toggled' : ''} ${this.state.isPinned && 'at-sidebar-pinned'}`,\n      onMouseEnter: () => this.ToggleAction(false),\n      onMouseLeave: () => this.ToggleAction(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Tab.Container, {\n      activeKey: this.state.key,\n      onSelect: k => this.setKey(k),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      className: \"nav flex-column side-nav\",\n      variant: \"pills\",\n      key: \"MenuIcon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"text-center\",\n      key: this.state.key,\n      onClick: () => this.pinnedEvent(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: !this.state.isPinned ? toggleExpand : toggleCollapse,\n      alt: \"sidebar\",\n      width: \"34\",\n      height: \"34\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 33\n      }\n    })), menuDesign && menuDesign.map(menu => {\n      return /*#__PURE__*/React.createElement(Nav.Link, {\n        key: menu.nmenucode,\n        eventKey: `MenuId_${menu.nmenucode}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        src: require(`../../assets/image/${menu.smenuname.toLowerCase()}.svg`),\n        alt: \"sidebar\",\n        width: \"34\",\n        height: \"34\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 41\n        }\n      }));\n    }), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"mt-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: PrimaryLogo,\n      alt: \"Primary-Logo\",\n      width: \"45\",\n      height: \"60\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      className: \"rounded-circle border-0\",\n      id: \"sidebarToggle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Tab.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }, menuDesign && menuDesign.map(menu => {\n      return /*#__PURE__*/React.createElement(Tab.Pane, {\n        key: menu.nmenucode,\n        eventKey: `MenuId_${menu.nmenucode}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Accordion, {\n        className: \"navbar-nav position-relative\",\n        as: \"ul\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(SidebarBrand, {\n        className: \"sidebar-brand d-flex align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(SidebarBrandTxt, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: menu.sdisplayname,\n        defaultMessage: menu.sdisplayname,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 53\n        }\n      }))), /*#__PURE__*/React.createElement(PerfectScrollbar, {\n        className: \"sidebar-scroll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 45\n        }\n      }, menu.lstmodule.map(module => {\n        return /*#__PURE__*/React.createElement(Nav.Item, {\n          key: module.nmodulecode,\n          as: \"li\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 61\n          }\n        }, /*#__PURE__*/React.createElement(ContextAwareToggle, {\n          eventKey: module.nmodulecode,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 65\n          }\n        }, /*#__PURE__*/React.createElement(NavHeader, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 69\n          }\n        }, /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: module.sdisplayname,\n          defaultMessage: module.sdisplayname,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 73\n          }\n        }))), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n          eventKey: module.nmodulecode,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 65\n          }\n        }, /*#__PURE__*/React.createElement(CollapseInner, {\n          className: \"bg-transparent py-2 collapse-inner rounded\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 69\n          }\n        }, module.lstforms.map(forms => {\n          return /*#__PURE__*/React.createElement(NavLink, {\n            className: `collapse-item ${forms.nformcode === this.props.Login.userInfo.nformcode ? 'active-form' : ''}`,\n            key: forms.nformcode,\n            nformcode: forms.nformcode,\n            to: '/' + forms.sclassname,\n            onClick: () => this.getDetail(forms.sclassname.toLowerCase(), forms.surl, forms.nformcode, forms.sdisplayname, module.nmodulecode, forms, module),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 85\n            }\n          }, /*#__PURE__*/React.createElement(FormattedMessage, {\n            id: forms.sdisplayname,\n            defaultMessage: forms.sdisplayname,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 89\n            }\n          }));\n        }))));\n      }))));\n    })))));\n  } // selectInputOnChange = (ComboVal, fieldName) =>  {\n  //     this.setState({ [fieldName] : ComboVal }); \n  // }\n\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  navPage,\n  elnLoginAction,\n  sdmsLoginAction\n})(injectIntl(Menu));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/sidebar/sidebar.component.jsx"],"names":["React","PureComponent","connect","NavLink","Tab","Nav","Image","Accordion","Button","FormattedMessage","injectIntl","Preloader","ContextAwareToggle","PerfectScrollbar","callService","navPage","elnLoginAction","sdmsLoginAction","SidebarNav","SidebarBrand","SidebarBrandTxt","NavHeader","CollapseInner","PrimaryLogo","formatInputDate","toast","mapStateToProps","state","Login","Menu","constructor","props","getDetail","classUrl","methodUrl","formCode","displayName","moduleCode","formname","modulename","userInfo","nformcode","sdisplayname","inputParam","inputData","currentdate","Date","onELNLoginClick","sdmselnsettings","serverUrl","uiUrl","username","sloginid","lssitemaster","password","spassword","lsusergroup","suserrolename","info","intl","id","onSDMSLoginClick","sUserName","sSiteCode","sGroupName","setKey","k","setState","key","ToggleAction","value","isSidebarActive","pinnedEvent","isPinned","formRef","createRef","show","nusermultirolecode","selectedRecord","menuDesign","nmenucode","componentDidUpdate","prevProps","render","loading","toggleExpand","toggleCollapse","map","menu","require","smenuname","toLowerCase","lstmodule","module","nmodulecode","lstforms","forms","sclassname","surl"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Tab, Nav, Image, Accordion, Button } from 'react-bootstrap';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport Preloader from '../preloader/preloader.component';\r\nimport ContextAwareToggle from './ContextAwareToggle';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport { callService, navPage, elnLoginAction, sdmsLoginAction } from '../../actions'\r\nimport { SidebarNav, SidebarBrand, SidebarBrandTxt, NavHeader, CollapseInner } from '../../components/sidebar/sidebar.styles';\r\n// import HomeListLogo from '../../assets/image/homelist.svg';\r\nimport toggleExpand from '../../assets/image/expand-icon.svg';\r\nimport toggleCollapse from '../../assets/image/collapse-icon.svg';\r\nimport PrimaryLogo from '../../assets/image/sidebar-logo.png';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport { formatInputDate } from '../CommonScript';\r\n//import LogiLabLogo from '../../assets/image/logilablogo.png'\r\n//import SDMSLogo from '../../assets/image/sdmslogo.png'\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { Login: state.Login }\r\n}\r\n\r\nclass Menu extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef = React.createRef();\r\n        this.state = {\r\n            show: false,\r\n            nusermultirolecode: -1,\r\n            selectedRecord: {},\r\n            isSidebarActive: false,\r\n            isPinned: false,\r\n            key: this.props.Login.menuDesign &&\r\n                this.props.Login.menuDesign[0] ?\r\n                `MenuId_${this.props.Login.menuDesign[0].nmenucode}` :\r\n                \"MenuId_0\"\r\n        }\r\n    }\r\n\r\n    getDetail = (classUrl, methodUrl, formCode, displayName, moduleCode, formname, modulename) => {\r\n\r\n        if (this.props.Login.userInfo.nformcode !== formCode) {\r\n            const userInfo = {\r\n                ...this.props.Login.userInfo, \"nformcode\": formCode,\r\n                \"nmodulecode\": moduleCode, \"sformname\" : formname.sdisplayname, \"smodulename\" : modulename.sdisplayname\r\n            }\r\n            const inputParam = {\r\n                inputData: { \"userinfo\": userInfo, currentdate: formatInputDate(new Date(), true) },\r\n                classUrl, methodUrl, displayName\r\n            };\r\n\r\n            this.props.callService(inputParam);\r\n        }\r\n    }\r\n\r\n    onELNLoginClick = () => {\r\n        if (this.props.Login.sdmselnsettings && this.props.Login.sdmselnsettings[3]) {\r\n            const serverUrl = this.props.Login.sdmselnsettings[3] + \"Login/Validateuser\";\r\n            const uiUrl = this.props.Login.sdmselnsettings[4];\r\n            const userInfo = this.props.Login.userInfo;\r\n            const inputParam = {\r\n                username: userInfo.sloginid,\r\n                lssitemaster: { \"sitecode\": \"1\" },\r\n                password: userInfo.spassword,\r\n                lsusergroup: { \"usergroupname\": userInfo.suserrolename }\r\n            };\r\n            this.props.elnLoginAction(inputParam, serverUrl, uiUrl);\r\n        } else {\r\n            toast.info(this.intl.FormattedMessage({ id: \"IDS_ELNSERVERURLNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n    onSDMSLoginClick = () => {\r\n        if (this.props.Login.sdmselnsettings && this.props.Login.sdmselnsettings[1]) {\r\n            const serverUrl = this.props.Login.sdmselnsettings[1] + \"/Login/validatelinkUser\";\r\n            const uiUrl = this.props.Login.sdmselnsettings[2];\r\n            const userInfo = this.props.Login.userInfo;\r\n            const inputParam = {\r\n                sUserName: userInfo.sloginid,\r\n                sSiteCode: \"DEFAULT\",\r\n                sGroupName: userInfo.suserrolename\r\n            };\r\n            this.props.sdmsLoginAction(inputParam, serverUrl, uiUrl);\r\n        } else {\r\n            toast.info(this.intl.FormattedMessage({ id: \"IDS_ELNSERVERURLNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n    setKey = (k) => {\r\n        this.setState({ key: k })\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.Login.menuDesign !== prevProps.Login.menuDesign) {\r\n            this.setState({ key: this.props.Login.menuDesign && this.props.Login.menuDesign[0] ? `MenuId_${this.props.Login.menuDesign[0].nmenucode}` : \"MenuId_0\" })\r\n        }\r\n    }\r\n    render() {\r\n\r\n        const { isSidebarActive } = this.state;\r\n        const { menuDesign, loading } = this.props.Login;\r\n\r\n        return (\r\n            <>\r\n                <Preloader loading={loading} />\r\n\r\n                <SidebarNav className={`d-flex side-nav sidebar sidebar-dark bg-gradient-primary ${isSidebarActive && !this.state.isPinned ? 'toggled' : ''} ${this.state.isPinned && 'at-sidebar-pinned'}`} onMouseEnter={() => this.ToggleAction(false)} onMouseLeave={() => this.ToggleAction(true)}\r\n                >\r\n                    <Tab.Container\r\n                        activeKey={this.state.key}\r\n                        onSelect={(k) => this.setKey(k)} >\r\n                        {/* Left Menu Icon */}\r\n                        < Nav className=\"nav flex-column side-nav\" variant=\"pills\" key='MenuIcon' >\r\n                            {/* <Nav.Link key={this.state.key} eventKey={this.state.key} onClick={() => this.ToggleAction1(false)}>\r\n                                <Image src={PrimaryLogo} alt=\"Primary-Logo\" width=\"45\" height=\"60\" />\r\n                            </Nav.Link> */}\r\n                            <Nav.Link className=\"text-center\" key={this.state.key} onClick={() => this.pinnedEvent(false)}>\r\n                                <Image src={!this.state.isPinned ? toggleExpand : toggleCollapse} alt=\"sidebar\" width=\"34\" height=\"34\" />\r\n                            </Nav.Link>\r\n\r\n                            {menuDesign && menuDesign.map((menu) => {\r\n                                return (\r\n                                    <Nav.Link key={menu.nmenucode} eventKey={`MenuId_${menu.nmenucode}`} >\r\n                                        <Image src={require(`../../assets/image/${menu.smenuname.toLowerCase()}.svg`)} alt=\"sidebar\" width=\"34\" height=\"34\" />\r\n                                    </Nav.Link>)\r\n                            })}\r\n                            {/* <Nav.Link key={6} onClick={() => this.onELNLoginClick()}>\r\n                                <Image src={LogiLabLogo} alt=\"logilablogo\" width=\"45\" height=\"55\" />\r\n                            </Nav.Link>\r\n                            <Nav.Link key={7} onClick={() => this.onSDMSLoginClick()}>\r\n                                <Image src={SDMSLogo} alt=\"sdmslogo\" width=\"45\" height=\"55\" />\r\n                            </Nav.Link> */}\r\n                            {/* //key={this.state.key} eventKey={this.state.key}  */}\r\n                            <Nav.Link className=\"mt-auto\">\r\n                                <Image src={PrimaryLogo} alt=\"Primary-Logo\" width=\"45\" height=\"60\" />\r\n                            </Nav.Link>\r\n                        </Nav>\r\n                        <Button className=\"rounded-circle border-0\" id=\"sidebarToggle\" ></Button>\r\n                        <Tab.Content>\r\n                            {menuDesign && menuDesign.map(menu => {\r\n                                return (\r\n                                    <Tab.Pane key={menu.nmenucode} eventKey={`MenuId_${menu.nmenucode}`}>\r\n                                        <Accordion className=\"navbar-nav position-relative\" as=\"ul\" >\r\n                                            {/* onClick={() => this.pinnedEvent()} */}\r\n                                            <SidebarBrand className=\"sidebar-brand d-flex align-items-center\">\r\n                                                <SidebarBrandTxt>\r\n                                                    <FormattedMessage id={menu.sdisplayname}\r\n                                                        defaultMessage={menu.sdisplayname} />\r\n                                                </SidebarBrandTxt>\r\n                                            </SidebarBrand>\r\n                                            <PerfectScrollbar className=\"sidebar-scroll\">\r\n                                                {\r\n                                                    (menu.lstmodule).map(module => {\r\n\r\n                                                        return (\r\n\r\n                                                            <Nav.Item key={module.nmodulecode} as=\"li\">\r\n                                                                <ContextAwareToggle eventKey={module.nmodulecode} >\r\n                                                                    <NavHeader>\r\n                                                                        <FormattedMessage id={module.sdisplayname}\r\n                                                                            defaultMessage={module.sdisplayname} />\r\n                                                                    </NavHeader>\r\n                                                                </ContextAwareToggle>\r\n\r\n                                                                <Accordion.Collapse eventKey={module.nmodulecode}>\r\n                                                                    <CollapseInner className=\"bg-transparent py-2 collapse-inner rounded\">\r\n                                                                        {\r\n                                                                            (module.lstforms).map(forms => {\r\n                                                                                return (\r\n                                                                                    <NavLink className={`collapse-item ${forms.nformcode === this.props.Login.userInfo.nformcode ? 'active-form' : ''}`} key={forms.nformcode}\r\n                                                                                        nformcode={forms.nformcode} to={'/' + forms.sclassname}\r\n                                                                                        onClick={() => this.getDetail(forms.sclassname.toLowerCase(), forms.surl, \r\n                                                                                            forms.nformcode, forms.sdisplayname, module.nmodulecode,forms,module)}\r\n                                                                                    >\r\n                                                                                        <FormattedMessage id={forms.sdisplayname}\r\n                                                                                            defaultMessage={forms.sdisplayname} />\r\n                                                                                    </NavLink>\r\n                                                                                )\r\n                                                                            })\r\n                                                                        }\r\n                                                                    </CollapseInner>\r\n                                                                </Accordion.Collapse>\r\n                                                            </Nav.Item>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </PerfectScrollbar>\r\n\r\n                                        </Accordion>\r\n                                    </Tab.Pane>)\r\n                            })}\r\n\r\n                        </Tab.Content>\r\n                    </Tab.Container>\r\n                </SidebarNav>\r\n            </>\r\n        );\r\n    }\r\n    ToggleAction = (value) => {\r\n\r\n        this.setState({\r\n            isSidebarActive: value\r\n        })\r\n    }\r\n    // ToggleAction1 = (value) => {\r\n    // let isSidebarActive = this.state.isSidebarActive;\r\n    // let isPinned  = this.state.isPinned;\r\n    //     this.setState({\r\n    //         isSidebarActive: !isSidebarActive,\r\n    //         isPinned: !isPinned\r\n    //     })\r\n    // }\r\n    pinnedEvent = () => {\r\n        let { isPinned } = this.state;\r\n        this.setState({\r\n            isPinned: !isPinned\r\n        })\r\n    }\r\n    // selectInputOnChange = (ComboVal, fieldName) =>  {\r\n    //     this.setState({ [fieldName] : ComboVal }); \r\n    // }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, { callService, navPage, elnLoginAction, sdmsLoginAction })(injectIntl(Menu));\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}