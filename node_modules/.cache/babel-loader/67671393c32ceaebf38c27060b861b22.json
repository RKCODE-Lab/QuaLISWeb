{"ast":null,"code":"import _readOnlyError from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/readOnlyError\";import _toConsumableArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import{initRequest}from'./LoginAction';import{sortData,constructOptionList,parentChildComboLoad,rearrangeDateFormat,ageCalculate,comboChild,validateEmail,getSameRecordFromTwoArrays,removeIndex,childSpecLoadCheck,constructjsonOptionList,constructjsonOptionDefault,rearrangeDateFormatforUI,childComboLoadForEdit}from'../components/CommonScript';import{getcomponentdata,getValidComponent,replaceChildFromChildren}from'../components/droparea/helpers';import{ReactComponents,SampleType,transactionStatus,formCode}from'../components/Enumeration';import Axios from'axios';import{getTreeByProduct}from'./RegistrationAction';import{intl}from'../components/App';export function getReactInputFields(userinfo,operation,respObj,ncontrolCode){return function(dispatch){dispatch(initRequest(true));// console.log(\"respObj:\", respObj);\nvar listURL=[];listURL[0]=rsapi.post(\"dynamicpreregdesign/getReactComponents\",{userinfo:userinfo});listURL[1]=rsapi.post(\"dynamicpreregdesign/getReactInputFields\",{userinfo:userinfo});listURL[2]=rsapi.post(\"registrationsubtype/getPeriods\",{userinfo:userinfo});listURL[3]=rsapi.post(\"dynamicpreregdesign/getReactStaticFilterTables\",{userinfo:userinfo});Axios.all(listURL).then(function(response){respObj=respObj?_objectSpread({},respObj):{};dispatch({type:DEFAULT_RETURN,payload:_objectSpread({ReactInputFields:response[1].data,ReactComponents:response[0].data.components,Period:constructOptionList(response[2].data,'nperiodcode','speriodname').get(\"OptionList\"),ReactTables:constructOptionList(response[0].data.tables,'nquerybuildertablecode','sdisplayname').get(\"OptionList\"),staticfiltertables:constructOptionList(response[3].data,'nquerybuilderstaticfiltercode','displayname').get(\"OptionList\"),selectedFieldRecord:{},openModal:false,loading:false,openPortal:true,operation:operation,showFilter:false,ncontrolcode:ncontrolCode},respObj)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function selectRegistrationTemplate(template,masterData,userinfo){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"dynamicpreregdesign/getRegistrationTemplateById\",{nreactregtemplatecode:template.nreactregtemplatecode,userinfo:userinfo}).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},masterData),{},{selectedTemplate:response.data}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getDefaultTemplate(ComboData,sampleType,userInfo,masterData){return function(dispatch){// dispatch(initRequest(true));\n// rsapi.post(\"dynamicpreregdesign/getDefaultTemplate\", {\n//     nsampletypecode: sampleType.value,\n//     userinfo: userInfo,\n//     SubSample:false\n// })\nvar url=[];if(ComboData.value===SampleType.SUBSAMPLE){var str=rsapi.post(\"dynamicpreregdesign/getDefaultSampleType\",{userinfo:userInfo,nsampletypecode:sampleType.SampleType&&sampleType.SampleType.value});url=[str];}else{var _str=rsapi.post(\"dynamicpreregdesign/getDefaultTemplate\",{nsubsampletypecode:sampleType.SubSampleType&&sampleType.SubSampleType.value,userinfo:userInfo,nsampletypecode:sampleType.SampleType&&sampleType.SampleType.value||masterData.selectedSampleType.nsampletypecode,SubSample:String(sampleType.SampleType&&sampleType.SampleType.value||masterData.selectedSampleType.nsampletypecode)==='-1'?true:false});url=[_str];}dispatch(initRequest(true));Axios.all(url).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:ComboData.value===SampleType.SUBSAMPLE?_objectSpread(_objectSpread({},masterData),{},{DefaultTemplateList:response[0].data[\"DefaultTemplateList\"],selectedDefaultTemplate:response[0].data[\"selectedDefaultTemplate\"],selectedSampleType:sampleType.SampleType.item,DefaultSampleTypeList:response[0].data[\"SampleTypeList\"],selectedSampleTypeList:response[0].data[\"selectedSampleTypeList\"]// selectedSampleTypeList:sampleType.item,\n}):_objectSpread(_objectSpread({},masterData),{},{DefaultTemplateList:response[0].data[\"DefaultTemplateList\"],selectedDefaultTemplate:response[0].data[\"selectedDefaultTemplate\"],selectedSampleTypeList:sampleType.SubSampleType&&sampleType.SubSampleType.item,selectedSampleType:sampleType.SampleType&&sampleType.SampleType.item||masterData.selectedSampleType}),// realSampleType: [{\n//     \"label\": \"IDS_SAMPLETYPE\",\n//     \"value\": sampleType.label,\n//     \"item\": sampleType\n// }],\nloading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}// export function getDefaultSampleType(sampleType, userInfo, masterData,SampleTypeName,selectedSampleType) {\n//     return function (dispatch) {\n//     let url=[];\n//         if(sampleType.label===\"Sub Sample\"){\n//       const str=  rsapi.post(\"dynamicpreregdesign/getDefaultSampleType\", {\n//             userinfo: userInfo,\n//             nsampletypecode: sampleType.value\n//         })\n//         url=[str];\n//     }else{\n//         const str=  rsapi.post(\"dynamicpreregdesign/getDefaultTemplate\", {\n//             nsubsampletypecode: sampleType.value,\n//             userinfo: userInfo,SubSample:true,nsampletypecode:selectedSampleType.value\n//         })\n//         url=[str];\n//     }\n//     dispatch(initRequest(true));\n//     Axios.all(url)\n//          .then(response => {\n//                 dispatch({\n//                     type: DEFAULT_RETURN,\n//                     payload: { masterData: sampleType.label===\"Sub Sample\"?{ ...masterData, \n//                                             DefaultSampleTypeList :response[0].data[\"SampleTypeList\"],\n//                                             selectedSampleTypeList: response[0].data[\"selectedSampleTypeList\"],SampleTypeName,\n//                                             selectedSampleType:sampleType.item,\n//                                             DefaultTemplateList :response[0].data[\"DefaultTemplateList\"],\n//                                             selectedDefaultTemplate: response[0].data[\"selectedDefaultTemplate\"],\n//                                             //defaultTemplateOptions:[],selectedDefaultTemplate:[],DefaultTemplateList:[]\n//                                             }:{ ...masterData, \n//                                                 DefaultTemplateList :response[0].data[\"DefaultTemplateList\"],\n//                                                 selectedDefaultTemplate: response[0].data[\"selectedDefaultTemplate\"],\n//                                                 selectedSampleTypeList:sampleType.item,\n//                                                 }, \n//                                 loading: false }\n//                 })\n//             })\n//             .catch(error => {\n//                 dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\n//                 if (error.response.status === 500) {\n//                     toast.error(error.message);\n//                 } else {\n//                     toast.warn(error.response.data);\n//                 }\n//             })\n//     }\n// }\nexport function getRegistrationTemplate(selectedSampleType,selectedDefaultTemplate,masterData,userinfo,selectedDefaultSampleType){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"dynamicpreregdesign/getDynamicPreRegDesign\",{nsampletypecode:selectedSampleType.value,SampleType:selectedSampleType.label,ndefaulttemplatecode:selectedDefaultTemplate.value,userinfo:userinfo,SubSample:selectedSampleType.label===\"Sub Sample\"?true:false,nsubsampletypecode:selectedDefaultSampleType.value}).then(function(response){masterData=_objectSpread(_objectSpread(_objectSpread({},masterData),response.data),{},{searchedData:undefined,selectedDefaultTemplate:selectedDefaultTemplate.item});sortData(masterData);var realSampleTypes=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":selectedSampleType.label,\"item\":selectedSampleType},// realDefaultTemplate: [\nselectedSampleType.value===SampleType.SUBSAMPLE?{\"label\":\"IDS_SUBSAMPLEBASEDSAMPLETYPE\",\"value\":selectedDefaultSampleType.label,\"item\":selectedDefaultSampleType}:\"\",{\"label\":\"IDS_TEMPLATETYPE\",\"value\":selectedDefaultTemplate.label,\"item\":selectedDefaultTemplate}];var realSampleType=[];realSampleTypes.map(function(item,index){if(item===\"\"){delete realSampleTypes[index];}else{realSampleType.push(item);}});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,realSampleType:realSampleType,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getEditRegTemplate(masterData,userinfo,editId){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"dynamicpreregdesign/getRegistrationTemplateById\",{nreactregtemplatecode:masterData.selectedTemplate.nreactregtemplatecode,userinfo:userinfo}).then(function(response){var jsonData=response.data.jsondata;sortData(masterData);var respObj={masterData:masterData,ncontrolcode:editId,openPortal:true,loading:false,openModal:false,design:jsonData,selectedRecord:{templatename:response.data.sregtemplatename}};if(response.data.ntransactionstatus===transactionStatus.DRAFT){// let jsonData = response.data.jsondata;\n// sortData(masterData)\n// const respObj = {\n//     masterData,\n//     ncontrolcode: editId,\n//     openPortal: true,\n//     loading: false,\n//     openModal: false,\n//     design: jsonData,\n//     selectedRecord: { templateName: response.data.sregtemplatename }\n// }                \ndispatch(getReactInputFields(userinfo,\"update\",respObj));}else{dispatch(getReactInputFields(userinfo,\"viewdesign\",respObj));// dispatch({ type: DEFAULT_RETURN, payload: { loading: false, masterStatus: \"IDS_SELECTDRAFTRECORD\" } })\n}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getJsonValue(PGjsonData){if(Array.isArray(PGjsonData)){var JSONData=[];PGjsonData.map(function(data){return JSONData.push(JSON.parse(data.jsondata));});return JSONData;}else{return JSON.parse(PGjsonData);}}export function getTableColumns(design,selectedFieldRecord,stablename,userinfo,path,columnInfo,componentData,updateComponents,showFilter){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"dynamicpreregdesign/getTableColumns\",{\"nquerybuildertablecode\":stablename||0,userinfo:userinfo}).then(function(response){columnInfo=columnInfo||{};var staicColumns=response.data.jstaticcolumns||[];var dynamicColumns=response.data.jdynamiccolumns||[];var multilingualColumns=response.data.jmultilingualcolumn||[];var numericColumns=response.data.jnumericcolumns||[];var primaryKeyName=response.data.sprimarykeyname;columnInfo=_objectSpread(_objectSpread({},columnInfo),{},_defineProperty({},stablename,{staicColumns:staicColumns,dynamicColumns:dynamicColumns,multilingualColumns:multilingualColumns,numericColumns:numericColumns,primaryKeyName:primaryKeyName}));var defaultColumn={};var comboData=[];var filterColumns=[];//  let selectedComponentpath=componentData.selectedComponentpath\nstaicColumns.map(function(item){comboData.push({label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"static\",item:item});if(item.default){defaultColumn={label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"static\",item:item};}});dynamicColumns.map(function(item){comboData.push({label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"dynamic\",item:item});if(item.default){defaultColumn={label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"dynamic\",item:item};}});multilingualColumns.map(function(item){comboData.push({label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"static\",item:item});if(item.default){defaultColumn={label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"static\",item:item};}});filterColumns=[].concat(comboData);numericColumns.map(function(item){filterColumns.push({label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.tablecolumnname,type:\"numeric\",item:item});});if(defaultColumn.item&&defaultColumn.item.ismultilingual){selectedFieldRecord['isMultiLingual']=true;}if(updateComponents){componentData=componentData||{};selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{column:defaultColumn,displaymember:defaultColumn.value,valuemember:primaryKeyName});design=replaceChildFromChildren(design,path,selectedFieldRecord);if(selectedFieldRecord.componentcode!==ReactComponents.COMBO&&selectedFieldRecord.componentcode!==ReactComponents.FRONTENDSEARCHFILTER&&selectedFieldRecord.componentcode!==ReactComponents.BACKENDSEARCHFILTER){var validComponents=getValidComponent(selectedFieldRecord,componentData.components,columnInfo);componentData=_objectSpread(_objectSpread({},componentData),{},{validComponents:validComponents});}}else if(componentData===undefined||componentData.components===undefined){componentData=componentData||{};if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){var isdefaultColumn=Object.keys(defaultColumn).length>0?true:false;selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{filterfields:isdefaultColumn?[_objectSpread({type:defaultColumn.type},defaultColumn.item)]:[],customsearchfilter:isdefaultColumn?[defaultColumn]:undefined,displaymember:defaultColumn.value,valuemember:primaryKeyName,kendoFilter:{logic:\"and\",filters:[]}});}else{selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{column:defaultColumn,displaymember:defaultColumn.value,valuemember:primaryKeyName});}design=replaceChildFromChildren(design,path,selectedFieldRecord);if(selectedFieldRecord.componentcode!==ReactComponents.COMBO&&selectedFieldRecord.componentcode!==ReactComponents.FRONTENDSEARCHFILTER&&selectedFieldRecord.componentcode!==ReactComponents.BACKENDSEARCHFILTER){var _validComponents=getValidComponent(selectedFieldRecord,componentData.components,columnInfo);componentData=_objectSpread(_objectSpread({},componentData),{},{validComponents:_validComponents});}}else{var _validComponents2=getValidComponent(selectedFieldRecord,componentData.components,columnInfo);var parentRadioValue=[];if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){if(selectedFieldRecord.parentPath){var oldParentData=getcomponentdata(design,selectedFieldRecord.parentPath.split(\"-\"));if(oldParentData.hasOwnProperty('child')){oldParentData.child.map(function(item){if(item.label===selectedFieldRecord.label){parentRadioValue=oldParentData.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});}});}}}componentData=_objectSpread(_objectSpread({},componentData),{},{validComponents:_validComponents2,parentRadioValue:parentRadioValue});}columnInfo=_objectSpread(_objectSpread({},columnInfo),{},_defineProperty({},stablename,_objectSpread(_objectSpread({},columnInfo[stablename]),{},{tableColumn:comboData,filterColumns:filterColumns})));var optionalPayload={selectedComponentpath:Array.isArray(path)?path.join(\"-\"):undefined};dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread(_objectSpread({loading:false,design:design,// selectedComponentpath,\nselectedFieldRecord:selectedFieldRecord},optionalPayload),{},{tableColumn:comboData,filterColumns:filterColumns,columnInfo:columnInfo,primaryKeyName:primaryKeyName,selectedComponentpath:componentData.path},componentData),{},{showFilter:showFilter})});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getForeignTableData(design,selectedFieldRecord,stablename,userinfo,path,columnInfo,componentData,updateComponents){return function(dispatch){var parentcolumnlist=[{source:selectedFieldRecord.filtercolumn.item.foriegntablename,valuemember:selectedFieldRecord.filtercolumn.item.foriegntablePK,displaymember:selectedFieldRecord.filtercolumn.item.columnname,conditionstring:selectedFieldRecord.filtercolumn.item.conditionstring,label:\"filterData\",inputtype:\"combo\",isMultiLingual:selectedFieldRecord.filtercolumn.item.ismultilingual}];rsapi.post(\"dynamicpreregdesign/getComboValues\",{parentcolumnlist:parentcolumnlist,userinfo:userinfo}).then(function(response){var comboData=[];var selectedRecord={};var newcomboData=parentChildComboLoad(parentcolumnlist,response.data,selectedRecord,[],[],undefined,userinfo.slanguagetypecode,userinfo);// sortData(masterData)\nvar comboData1=newcomboData.comboData;var selectedRecord1=newcomboData.selectedRecord;if(updateComponents){componentData=componentData||{};// selectedFieldRecord = { ...selectedFieldRecord };\ndesign=replaceChildFromChildren(design,path,selectedFieldRecord);if(selectedFieldRecord.componentcode!==ReactComponents.COMBO){var validComponents=getValidComponent(selectedFieldRecord,componentData.components,columnInfo);componentData=_objectSpread(_objectSpread({},componentData),{},{validComponents:validComponents});}}dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({loading:false,design:design,selectedFieldRecord:selectedFieldRecord,masterDataValue:comboData,columnInfo:columnInfo},componentData),comboData1)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getPreviewTemplate(masterData,userinfo,editId,columnList,selectedRecord,childColumnList,comboComponents,withoutCombocomponent,openPortal,openModal,mapOfFilterRegData,preview,operation,screenName,importData){return function(dispatch){if(mapOfFilterRegData[\"userInfo\"]===undefined){mapOfFilterRegData[\"userInfo\"]=userinfo;}dispatch(initRequest(true));var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var actualService=rsapi.post(\"dynamicpreregdesign/getComboValues\",{parentcolumnlist:columnList?columnList.filter(function(x){return x.inputtype!=='backendsearchfilter'&&x.inputtype!=='frontendsearchfilter'&&x.readonly!==true;}):[],childcolumnlist:childColumnList?childColumnList:[],userinfo:userinfo});var dateService=rsapi.post(\"dynamicpreregdesign/dateValidation\",{datecolumnlist:withoutCombocomponent.filter(function(x){return x.inputtype===\"date\";}),userinfo:userinfo});var currentDate=rsapi.post(\"timezone/getLocalTimeByZone\",{userinfo:userinfo});var siteService={};var schedulerMasterService={};if(userinfo.nformcode===formCode.SCHEDULERCONFIGURATION){siteService=rsapi.post(\"schedulerconfiguration/getSiteByUser\",{userinfo:userinfo});schedulerMasterService=rsapi.post(\"schedulerconfiguration/getSchedulerMaster\",{userinfo:userinfo});}Axios.all([timeZoneService,actualService,dateService,currentDate,siteService,schedulerMasterService]).then(function(response){var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:userinfo.stimezoneid,value:userinfo.ntimezonecode};var newcomboData=parentChildComboLoad(columnList.filter(function(x){return x.inputtype!=='backendsearchfilter'&&x.inputtype!=='frontendsearchfilter'&&x.readonly!==true;}),response[1].data,selectedRecord,childColumnList,withoutCombocomponent,undefined,userinfo.slanguagetypecode,userinfo);// sortData(masterData)\nvar siteMap=[];var siteList=[];var schedulerMap=[];var schedulerList=[];var comboData1=newcomboData.comboData;var selectedRecord1=newcomboData.selectedRecord;if(userinfo.nformcode===formCode.SCHEDULERCONFIGURATION){siteMap=constructOptionList(response[4].data.userSite||[],\"nsitecode\",\"ssitename\",undefined,undefined,true);siteList=siteMap.get(\"OptionList\");var SchedulerSite=siteList.filter(function(item){return item.value===userinfo.nsitecode;});if(SchedulerSite.length>0){selectedRecord1=_objectSpread(_objectSpread({},selectedRecord1),{},{\"SchedulerSite\":SchedulerSite[0]});}schedulerMap=constructOptionList(response[5].data.ScheduleMaster||[],\"nschedulecode\",\"sschedulename\",undefined,undefined,true);schedulerList=schedulerMap.get(\"OptionList\");}withoutCombocomponent.map(function(componentrow){if(componentrow.inputtype===\"date\"){//  if (componentrow.mandatory) {\nif(componentrow.loadcurrentdate){selectedRecord1[componentrow.label]=componentrow.loadcurrentdate?rearrangeDateFormat(userinfo,response[3].data):\"\";if(masterData.selectedTemplate&&masterData.selectedTemplate.nsampletypecode===SampleType.CLINICALTYPE){var Age=withoutCombocomponent.filter(function(item){return item.name===\"Age\";});selectedRecord[Age[0].label]=ageCalculate(selectedRecord1[componentrow.label]);}selectedRecord1[componentrow.label+\"value\"]=selectedRecord1[componentrow.label];}else if(componentrow.nperiodcode){selectedRecord1[componentrow.label+\"value\"]=response[2].data[componentrow.label]?new Date(response[2].data[componentrow.label][\"datevalue\"]):null;if(componentrow.loadselecteddate){selectedRecord1[componentrow.label]=response[2].data[componentrow.label]?new Date(response[2].data[componentrow.label][\"datevalue\"]):null;}//    selectedRecord1[componentrow.label]=response[2].data[componentrow.label]?\n//    new Date(response[2].data[componentrow.label]):null;\n}else{selectedRecord1[componentrow.label+\"value\"]=new Date();}if(componentrow.hidebeforedate){selectedRecord1[componentrow.label+\"min\"]=selectedRecord1[componentrow.label+\"value\"];}if(componentrow.hideafterdate){selectedRecord1[componentrow.label+\"max\"]=selectedRecord1[componentrow.label+\"value\"];}// }else{\n//     selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? new Date() : \"\";\n// }\n// if (componentrow.timezone) {\n//     sampleRegistration[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\n//         { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\n//         defaulttimezone ? defaulttimezone : -1\n// }\n}else if(componentrow.inputtype===\"radio\"||componentrow.inputtype===\"checkbox\"||componentrow.inputtype===\"predefineddropdown\"){if(componentrow['radiodefaultvalue']){if(componentrow.inputtype===\"checkbox\"){var val='';componentrow.radiodefaultvalue&&componentrow.radiodefaultvalue.length>0&&componentrow.radiodefaultvalue.map(function(x,i){val=val+(i===componentrow.radiodefaultvalue.length-1?x.label:x.label+',');});selectedRecord1[componentrow.label]=val;}else if(componentrow.inputtype===\"predefineddropdown\"){selectedRecord1[componentrow.label]=componentrow.radiodefaultvalue?componentrow.radiodefaultvalue:\"\";}else{selectedRecord1[componentrow.label]=componentrow.radiodefaultvalue?componentrow.radiodefaultvalue.label:\"\";}}else{if(componentrow.inputtype===\"radio\"){selectedRecord1[componentrow.label]=componentrow.radioOptions?componentrow.radioOptions.tags[0].text:\"\";}}}});//console.log(\"selectedRecord1 action1:\", selectedRecord1);\nif(preview){dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:comboData1,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,screenName:screenName,operation:\"preview\",importData:importData,siteList:siteList,schedulerList:schedulerList// childOperation:true\n}});}else{if(mapOfFilterRegData.nsampletypecode===SampleType.PRODUCT){var ProductCategory=comboComponents.filter(function(x){return x.name==='Product Category';});if(ProductCategory.length>0){var nproductcatcode=selectedRecord1[ProductCategory[0].label]&&selectedRecord1[ProductCategory[0].label].value;var ncategorybasedFlow=selectedRecord1[ProductCategory[0].label]&&selectedRecord1[ProductCategory[0].label]['item']&&selectedRecord1[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(mapOfFilterRegData.sampletypecategorybasedflow===transactionStatus.YES){ncategorybasedFlow=transactionStatus.YES;}if(ncategorybasedFlow!==undefined){if(ncategorybasedFlow===transactionStatus.YES){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=nproductcatcode;var inputParam={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData,siteList:siteList,schedulerList:schedulerList// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,inputParam));}else{var Product=comboComponents.filter(function(x){return x.name==='Product';});if(Product.length>0){var nproductcode=selectedRecord1[Product[0].label]&&selectedRecord1[Product[0].label].value;mapOfFilterRegData['nproductcode']=nproductcode!==undefined?nproductcode:-1;mapOfFilterRegData['nproductcatcode']=nproductcatcode;var _inputParam={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam));}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam2={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam2));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam3={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData,siteList:siteList,schedulerList:schedulerList//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam3));}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam4={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};//console.log(\"selectedRecord1 action2:\", selectedRecord1);\ndispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam4));}}else if(mapOfFilterRegData.nsampletypecode===SampleType.INSTRUMENT){var InstrumentCategory=comboComponents.filter(function(x){return x.name==='Instrument Category';});if(InstrumentCategory.length>0){var ninstrumentcatcode=selectedRecord1[InstrumentCategory[0].label]&&selectedRecord1[InstrumentCategory[0].label].value;var _ncategorybasedFlow=selectedRecord1[InstrumentCategory[0].label]&&selectedRecord1[InstrumentCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(mapOfFilterRegData.sampletypecategorybasedflow===transactionStatus.YES){_ncategorybasedFlow=transactionStatus.YES;}if(_ncategorybasedFlow!==undefined){if(_ncategorybasedFlow===transactionStatus.YES){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=ninstrumentcatcode;var _inputParam5={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData,siteList:siteList,schedulerList:schedulerList// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam5));}else{var Instrument=comboComponents.filter(function(x){return x.name==='Instrument';});if(Instrument.length>0){var ninstrumentcode=selectedRecord1[Instrument[0].label]&&selectedRecord1[Instrument[0].label].value;mapOfFilterRegData['nproductcode']=ninstrumentcode!==undefined?ninstrumentcode:-1;mapOfFilterRegData['nproductcatcode']=ninstrumentcatcode;var _inputParam6={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData,siteList:siteList,schedulerList:schedulerList//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam6));}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam7={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam7));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam8={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData,siteList:siteList,schedulerList:schedulerList// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam8));}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam9={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData,siteList:siteList,schedulerList:schedulerList// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam9));}}else if(mapOfFilterRegData.nsampletypecode===SampleType.MATERIAL){var MaterialType=comboComponents.filter(function(x){return x.name==='Material Type';});if(MaterialType.length>0){var nmaterialtypecode=selectedRecord1[MaterialType[0].label]&&selectedRecord1[MaterialType[0].label].value;if(nmaterialtypecode!==undefined){var MaterialCategory=comboComponents.filter(function(x){return x.name==='Material Category';});if(MaterialCategory.length>0){var nmaterialcatcode=selectedRecord1[MaterialCategory[0].label]&&selectedRecord1[MaterialCategory[0].label].value;var _ncategorybasedFlow2=selectedRecord1[MaterialCategory[0].label]&&selectedRecord1[MaterialCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(mapOfFilterRegData.sampletypecategorybasedflow===transactionStatus.YES){_ncategorybasedFlow2=transactionStatus.YES;}if(_ncategorybasedFlow2!==undefined){if(_ncategorybasedFlow2===transactionStatus.YES){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=nmaterialcatcode;var _inputParam10={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam10));}else{var Material=comboComponents.filter(function(x){return x.name==='Material';});if(Material.length>0){var nmaterialcode=selectedRecord1[Material[0].label]&&selectedRecord1[Material[0].label].value;mapOfFilterRegData['nproductcode']=nmaterialcode!==undefined?nmaterialcode:-1;mapOfFilterRegData['nproductcatcode']=nmaterialcatcode;var _inputParam11={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam11));}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam12={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam12));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam13={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam13));}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam14={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam14));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam15={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam15));}}else if(mapOfFilterRegData.nsampletypecode===SampleType.CLINICALTYPE){var _ProductCategory=comboComponents.filter(function(x){return x.name==='Product Category';});var dateComp=withoutCombocomponent.filter(function(item){return item.name===\"Date Of Birth\";});if(dateComp[0].label!==undefined){var ageComp=withoutCombocomponent.filter(function(item){return item.name===\"Age\";});var age=ageCalculate(selectedRecord1[dateComp[0].label]);selectedRecord1[ageComp[0].label]=age;}if(_ProductCategory.length>0){var _nproductcatcode=selectedRecord1[_ProductCategory[0].label]?selectedRecord1[_ProductCategory[0].label].value:-1;var _ncategorybasedFlow3=selectedRecord1[_ProductCategory[0].label]?selectedRecord1[_ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow']:undefined;if(mapOfFilterRegData.sampletypecategorybasedflow===transactionStatus.YES){_ncategorybasedFlow3=transactionStatus.YES;}if(_ncategorybasedFlow3!==undefined){if(_ncategorybasedFlow3===transactionStatus.YES){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=_nproductcatcode;var _inputParam16={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam16));}else{var _Product=comboComponents.filter(function(x){return x.name==='Product';});if(_Product.length>0){var _nproductcode=selectedRecord1[_Product[0].label]&&selectedRecord1[_Product[0].label].value;mapOfFilterRegData['nproductcode']=_nproductcode!==undefined?_nproductcode:-1;mapOfFilterRegData['nproductcatcode']=_nproductcatcode;var _inputParam17={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam17));}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam18={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam18));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam19={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam19));}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam20={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};//console.log(\"selectedRecord1 action2:\", selectedRecord1);\ndispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam20));}}else if(mapOfFilterRegData.nsampletypecode===SampleType.PROJECTSAMPLETYPE){var _ProductCategory2=comboComponents.filter(function(x){return x.name==='Product Category';});var project=comboComponents.filter(function(x){return x.name==='Project Code';});var nprojectMasterCode=-1;if(project&&project.length>0&&mapOfFilterRegData['nprojectSpecReqd']==transactionStatus.YES){nprojectMasterCode=selectedRecord1[project[0].label]&&selectedRecord1[project[0].label].value;}if(_ProductCategory2.length>0){var _nproductcatcode2=selectedRecord1[_ProductCategory2[0].label]&&selectedRecord1[_ProductCategory2[0].label].value;var _ncategorybasedFlow4=selectedRecord1[_ProductCategory2[0].label]&&selectedRecord1[_ProductCategory2[0].label]['item']['jsondata']['ncategorybasedflow'];if(mapOfFilterRegData.sampletypecategorybasedflow===transactionStatus.YES){_ncategorybasedFlow4=transactionStatus.YES;}if(_ncategorybasedFlow4!==undefined){if(_ncategorybasedFlow4===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=_nproductcatcode2;mapOfFilterRegData['nprojectmastercode']=nprojectMasterCode||-1;var _inputParam21={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam21));}else{var _Product2=comboComponents.filter(function(x){return x.name==='Product';});if(_Product2.length>0){var _nproductcode2=selectedRecord1[_Product2[0].label]&&selectedRecord1[_Product2[0].label].value;mapOfFilterRegData['nproductcode']=_nproductcode2!==undefined?_nproductcode2:-1;mapOfFilterRegData['nproductcatcode']=_nproductcatcode2;mapOfFilterRegData['nprojectmastercode']=nprojectMasterCode||-1;var _inputParam22={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam22));}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;mapOfFilterRegData['nprojectmastercode']=nprojectMasterCode||-1;var _inputParam23={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam23));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;mapOfFilterRegData['nprojectmastercode']=nprojectMasterCode||-1;var _inputParam24={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam24));}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;mapOfFilterRegData['nprojectmastercode']=nprojectMasterCode||-1;var _inputParam25={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};//console.log(\"selectedRecord1 action2:\", selectedRecord1);\ndispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam25));}}else if(mapOfFilterRegData.nsampletypecode===SampleType.GOODSIN){dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:comboData1,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,screenName:screenName,operation:operation,importData:importData}});//Added by sonia on 11th NOV 2024 for jira id:ALPD-5025    \n}else if(mapOfFilterRegData.nsampletypecode===SampleType.PROTOCOL){dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:comboData1,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,screenName:screenName,operation:operation,importData:importData}});}else if(mapOfFilterRegData.nsampletypecode===SampleType.STABILITY){var _ProductCategory3=comboComponents.filter(function(x){return x.name==='Product Category';});if(_ProductCategory3.length>0){var _nproductcatcode3=selectedRecord1[_ProductCategory3[0].label]&&selectedRecord1[_ProductCategory3[0].label].value;var _ncategorybasedFlow5=selectedRecord1[_ProductCategory3[0].label]&&selectedRecord1[_ProductCategory3[0].label]['item']&&selectedRecord1[_ProductCategory3[0].label]['item']['jsondata']['ncategorybasedflow'];if(mapOfFilterRegData.sampletypecategorybasedflow===transactionStatus.YES){_ncategorybasedFlow5=transactionStatus.YES;}if(_ncategorybasedFlow5!==undefined){if(_ncategorybasedFlow5===transactionStatus.YES){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=_nproductcatcode3;mapOfFilterRegData['nsampletypecode']=SampleType.PRODUCT;var _inputParam26={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData,siteList:siteList,schedulerList:schedulerList// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam26));}else{var _Product3=comboComponents.filter(function(x){return x.name==='Product';});if(_Product3.length>0){var _nproductcode3=selectedRecord1[_Product3[0].label]&&selectedRecord1[_Product3[0].label].value;mapOfFilterRegData['nproductcode']=_nproductcode3!==undefined?_nproductcode3:-1;mapOfFilterRegData['nproductcatcode']=_nproductcatcode3;var _inputParam27={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam27));}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam28={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam28));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam29={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData,siteList:siteList,schedulerList:schedulerList//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam29));}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam30={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName,importData:importData//loadPreregister:true\n};//console.log(\"selectedRecord1 action2:\", selectedRecord1);\ndispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam30));}}}}).catch(function(error){//console.log(\"error:\", error);\ndispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getChildValues(inputParem,userinfo,selectedRecord,comboData,parentcolumnlist,childcolumnlist,withoutCombocomponent,parentListWithReadonly,productCategory,product,mapOfRegFilterData,instrumentCategory,instrument,materialCategory,material,materialType,subsample,project,comboComponents){return function(dispatch){var _rsapi$post;dispatch(initRequest(true));rsapi.post('dynamicpreregdesign/getChildValues',(_rsapi$post={child:inputParem.child,parentdata:inputParem.item.jsondata,parentsource:inputParem.source},_defineProperty(_rsapi$post,inputParem.primarykeyField,inputParem.value),_defineProperty(_rsapi$post,\"valuemember\",inputParem.primarykeyField),_defineProperty(_rsapi$post,\"childcolumnlist\",childcolumnlist),_defineProperty(_rsapi$post,\"userinfo\",userinfo),_defineProperty(_rsapi$post,\"parentcolumnlist\",parentcolumnlist),_defineProperty(_rsapi$post,\"isInstrumentScheduler\",userinfo.nformcode===formCode.SCHEDULERCONFIGURATION&&mapOfRegFilterData.nsampletypecode===2&&inputParem.primarykeyField==='ninstrumentcatcode'?true:false),_defineProperty(_rsapi$post,\"nregionalsitecode\",userinfo.nformcode===formCode.SCHEDULERCONFIGURATION&&mapOfRegFilterData.nsampletypecode===2&&inputParem.primarykeyField==='ninstrumentcatcode'?selectedRecord.SchedulerSite.value:-1),_rsapi$post)).then(function(response){var returnObj=_objectSpread(_objectSpread({},comboData),response.data);// ALPD-3793 \nif(mapOfRegFilterData==undefined){mapOfRegFilterData={};}// ALPD-3673 VISHAKH\nmapOfRegFilterData[\"userInfo\"]=userinfo;returnObj=parentChildComboLoad(parentListWithReadonly,returnObj,selectedRecord,childcolumnlist,withoutCombocomponent,inputParem,userinfo.slanguagetypecode,userinfo,comboComponents);selectedRecord=_objectSpread(_objectSpread({},selectedRecord),returnObj.selectedRecord);if(subsample){dispatch({type:DEFAULT_RETURN,payload:{loading:false,SubSamplecomboData:_objectSpread({},returnObj.comboData),selectComponent:selectedRecord,screenName:inputParem.screenName,selectedMaster:[],addMaster:false,selectedControl:[],masterComboColumnFiled:[],masterDesign:[],masterextractedColumnList:[],masterfieldList:[],masterdataList:[],mastercomboComponents:[],masterwithoutCombocomponent:[],masterIndex:undefined,loadCustomSearchFilter:false}});}// else if (childSpec) {\n//     if (mapOfRegFilterData.nsampletypecode === SampleType.PROJECTSAMPLETYPE && mapOfRegFilterData.nprojectSpecReqd === 3) {\n//     }\n//     else if (mapOfRegFilterData.nsampletypecode === SampleType.CLINICALTYPE) {\n//         if (mapOfRegFilterData.childSpecBasedAddMaster\n//             && mapOfRegFilterData.childSpecBasedAddMaster) {\n//             if (mapOfRegFilterData.ProductCategory[0]\n//                 && selectedRecord[mapOfRegFilterData.ProductCategory[0].label]===undefined) {\n//                 selectedRecord[mapOfRegFilterData.ProductCategory[0].label]=returnObj[mapOfRegFilterData.ProductCategory[0].label]&&returnObj[mapOfRegFilterData.ProductCategory[0].label][0]\n//             }\n//             const label = mapOfRegFilterData.ProductCategory[0].label\n//             let ncategorybasedflow = selectedRecord[label] &&\n//                 selectedRecord[label]['item']['jsondata']['ncategorybasedflow'];\n//             if (ncategorybasedflow === transactionStatus.YES) {\n//                 mapOfRegFilterData['nproductcatcode'] = selectedRecord[label].value\n//                 mapOfRegFilterData['nproductcode'] = -1\n//                 dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\n//             }\n//         }\n//         else if (mapOfRegFilterData.ProductCategory && mapOfRegFilterData.ProductCategory[0]\n//             && selectedRecord[mapOfRegFilterData.ProductCategory[0].label]) {\n//             const label = mapOfRegFilterData.ProductCategory[0].label\n//             let ncategorybasedflow = selectedRecord[label] &&\n//                 selectedRecord[label]['item']['jsondata']['ncategorybasedflow'];\n//             if (ncategorybasedflow === transactionStatus.YES) {\n//                 mapOfRegFilterData['nproductcatcode'] = selectedRecord[label].value\n//                 mapOfRegFilterData['nproductcode'] = -1\n//                 dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\n//             }\n//             else {\n//                 if (mapOfRegFilterData.ProductCategory[0].child && mapOfRegFilterData.ProductCategory[0].child) {\n//                     let pt = []\n//                     mapOfRegFilterData.ProductCategory[0].child.map(x =>\n//                         pt = comboComponents1.filter(y => y.label === x.label && y.name === 'Product')\n//                     )\n//                     if (pt.length > 0) {\n//                         if (pt && pt[0]) {\n//                             const pclabel = mapOfRegFilterData.ProductCategory[0].label\n//                             const label = pt[0].label\n//                             if (selectedRecord[pclabel] && selectedRecord[pclabel].value &&\n//                                 selectedRecord[label] && selectedRecord[label].value) {\n//                                 mapOfRegFilterData['nproductcatcode'] = selectedRecord[pclabel].value\n//                                 mapOfRegFilterData['nproductcode'] = selectedRecord[label].value\n//                                 dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\n//                             }\n//                         }\n//                     }\n//                 }\n//             }\n//         } else if (mapOfRegFilterData.childSpec && mapOfRegFilterData.childSpec) {\n//             if (selectedRecord[inputParem.label] && selectedRecord[inputParem.label]) {\n//                 const TemplateChild = parentcolumnlist && parentcolumnlist.filter(x => x.child && x.child.length > 0)\n//                 if (TemplateChild && TemplateChild.length > 0) {\n//                     let pc = {}\n//                     TemplateChild.map(x => {\n//                         x.child && x.child.map(y => {\n//                             const data = comboComponents1.filter(x => x.label === y.label)\n//                             if (data && data[0].templatemandatory) {\n//                                 const name = data[0].name\n//                                 if (name === \"Product Category\") {\n//                                     pc = data[0]\n//                                 }\n//                             }\n//                         })\n//                     })\n//                     if (pc && pc.label) {\n//                         if (selectedRecord[pc.label]\n//                             && selectedRecord[pc.label].value) {\n//                             let ncategorybasedflow = selectedRecord[pc.label] &&\n//                                 selectedRecord[pc.label]['item']['jsondata']['ncategorybasedflow'];\n//                             if (ncategorybasedflow === transactionStatus.YES) {\n//                                 mapOfRegFilterData['nproductcatcode'] = selectedRecord[pc.label].value\n//                                 mapOfRegFilterData['nproductcode'] = -1\n//                                 dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\n//                             } else {\n//                                 if (pc.child && pc.child > 0) {\n//                                     let pt = []\n//                                     pc.child.map(x =>\n//                                         pt = comboComponents1.filter(y => y.label === x.label && y.name === 'Product')\n//                                     )\n//                                     if (pt.length > 0) {\n//                                         if (selectedRecord[pt[0].label] && selectedRecord[pt[0].label].value) {\n//                                             mapOfRegFilterData['nproductcatcode'] = selectedRecord[pc.label].value\n//                                             mapOfRegFilterData['nproductcode'] = selectedRecord[pt[0].label].value\n//                                             dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\n//                                         }\n//                                     }\n//                                 }\n//                             }\n//                         }\n//                     }\n//                 } else {\n//                     selectedRecord[\"nallottedspeccode\"] = \"\"\n//                     selectedRecord[\"sversion\"] = \"\"\n//                     dispatch({\n//                         type: DEFAULT_RETURN,\n//                         payload: {\n//                             loading: false,\n//                             comboData: { ...returnObj.comboData },\n//                             selectedRecord,\n//                             AgaramTree: [],\n//                             ActiveKey: [],\n//                             FocusKey: [],\n//                             OpenNodes: [],\n//                             Test: [],\n//                             SelectedTest: [],\n//                             selectedSpec: {},\n//                             Component: [],\n//                             selectComponent: {},\n//                             selectedComponent: {},\n//                             Specification: [],\n//                             selectedMaster: [],\n//                             subSampleDataGridList: []\n//                         }\n//                     })\n//                 }\n//             } else {\n//                 selectedRecord[\"nallottedspeccode\"] = \"\"\n//                 selectedRecord[\"sversion\"] = \"\"\n//                 dispatch({\n//                     type: DEFAULT_RETURN,\n//                     payload: {\n//                         loading: false,\n//                         comboData: { ...returnObj.comboData },\n//                         selectedRecord,\n//                         AgaramTree: [],\n//                         ActiveKey: [],\n//                         FocusKey: [],\n//                         OpenNodes: [],\n//                         Test: [],\n//                         SelectedTest: [],\n//                         selectedSpec: {},\n//                         Component: [],\n//                         selectComponent: {},\n//                         selectedComponent: {},\n//                         Specification: [],\n//                         selectedMaster: [],\n//                         subSampleDataGridList: []\n//                     }\n//                 })\n//             }\n//         }\n//         else {\n//             selectedRecord[\"nallottedspeccode\"] = \"\"\n//             selectedRecord[\"sversion\"] = \"\"\n//             dispatch({\n//                 type: DEFAULT_RETURN,\n//                 payload: {\n//                     loading: false,\n//                     comboData: { ...returnObj.comboData },\n//                     selectedRecord,\n//                     AgaramTree: [],\n//                     ActiveKey: [],\n//                     FocusKey: [],\n//                     OpenNodes: [],\n//                     Test: [],\n//                     SelectedTest: [],\n//                     selectedSpec: {},\n//                     Component: [],\n//                     selectComponent: {},\n//                     selectedComponent: {},\n//                     Specification: [],\n//                     selectedMaster: [],\n//                     subSampleDataGridList: []\n//                 }\n//             })\n//         }\n//     }\n// }\nelse if(project){//console.log(\"data:\", mapOfRegFilterData, selectedRecord );\ndispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else if(productCategory){dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else if(product){if(selectedRecord[inputParem.nameofdefaultcomp===\"Product\"?inputParem.label:inputParem.ProductName]){mapOfRegFilterData[\"nproductcode\"]=selectedRecord[inputParem.nameofdefaultcomp===\"Product\"?inputParem.label:inputParem.ProductName]?selectedRecord[inputParem.nameofdefaultcomp===\"Product\"?inputParem.label:inputParem.ProductName].value:-1;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[],selectedMaster:[],subSampleDataGridList:[]}});}}else if(instrumentCategory){dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else if(materialCategory){dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else if(instrument){if(selectedRecord[inputParem.nameofdefaultcomp===\"Instrument Name\"?inputParem.label:inputParem.InstrumentName]){mapOfRegFilterData[\"nproductcode\"]=selectedRecord[inputParem.nameofdefaultcomp===\"Instrument Name\"?inputParem.label:inputParem.InstrumentName]?selectedRecord[inputParem.nameofdefaultcomp===\"Instrument Name\"?inputParem.label:inputParem.InstrumentName].value:-1;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[],selectedMaster:[],addMaster:false}});}}else if(material){if(selectedRecord[inputParem.nameofdefaultcomp===\"Material\"?inputParem.label:inputParem.MaterialName]){mapOfRegFilterData[\"nproductcode\"]=selectedRecord[inputParem.nameofdefaultcomp===\"Material\"?inputParem.label:inputParem.MaterialName]?selectedRecord[inputParem.nameofdefaultcomp===\"Material\"?inputParem.label:inputParem.MaterialName].value:-1;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[],selectedMaster:[],addMaster:false}});}}else if(materialType){if(selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialCategoryName:inputParem.label]){var _productCategory=selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialCategoryName:inputParem.label]?selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialCategoryName:inputParem.label]:undefined;//  mapOfRegFilterData[\"nproductcatcode\"]\nif(_productCategory!==undefined){if(_productCategory.item.ncategorybasedflow===3||_productCategory.item.jsondata&&_productCategory.item.jsondata.ncategorybasedflow===3){mapOfRegFilterData[\"nproductcatcode\"]=_productCategory.value;mapOfRegFilterData[\"nproductcode\"]=-1;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{var _product=selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialName:inputParem.label]?selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialName:inputParem.label]:undefined;if(_product!==undefined){mapOfRegFilterData[\"nproductcatcode\"]=_productCategory.value;mapOfRegFilterData[\"nproductcode\"]=_product.value;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{var _product2=selectedRecord[inputParem.nameofdefaultcomp===\"MaterialType\"?inputParem.MaterialName:inputParem.label]?selectedRecord[inputParem.nameofdefaultcomp===\"MaterialType\"?inputParem.MaterialName:inputParem.label]:undefined;if(_product2!==undefined){mapOfRegFilterData[\"nproductcatcode\"]=_productCategory.value;mapOfRegFilterData[\"nproductcode\"]=_product2.value;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[],selectedMaster:[],addMaster:false}});}}}}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[],selectedMaster:[],addMaster:false}});}}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[],selectedMaster:[],addMaster:false}});}}else{var _productCategory2=false;var map={};if(userinfo.nformcode===43){if(mapOfRegFilterData.nsampletypecode===SampleType.CLINICALTYPE||mapOfRegFilterData.nsampletypecode===SampleType.PRODUCT){if(inputParem.child&&inputParem.child.length>0){inputParem.child.map(function(y){var indexTemplateMandatory=parentcolumnlist.findIndex(function(z){return z.label===y.label&&z.templatemandatory&&(z.name==='Product Category'||z.name==='Product');});if(indexTemplateMandatory!==-1){var templateManRecord=parentcolumnlist[indexTemplateMandatory];//  if (inputParem.nsampletypecode === SampleType.CLINICALTYPE) {\nif(templateManRecord.name==='Product Category'){_productCategory2=true;if(selectedRecord[templateManRecord.label]){map={nproductcatcode:selectedRecord[templateManRecord.label].value,nproductcode:map.nproductcode||-1};}}else if(templateManRecord.name==='Product'){_productCategory2=true;if(selectedRecord[templateManRecord.label]){map={nproductcatcode:map.nproductcatcode||-1,nproductcode:selectedRecord[templateManRecord.label].value};}}else{map={nproductcatcode:-1,nproductcode:-1};}//  }\n}else{var _indexTemplateMandatory=parentcolumnlist.findIndex(function(z){return z.label===y.label;});if(_indexTemplateMandatory!==-1){var _templateManRecord=parentcolumnlist[_indexTemplateMandatory];if(_templateManRecord.child&&_templateManRecord.child.length>0){var val=childSpecLoadCheck(_templateManRecord,childcolumnlist,_productCategory2,map,y.label,selectedRecord);if(val.productCategory){_productCategory2=val.productCategory;map=_objectSpread(_objectSpread({},map),val.map);}}}}});}if(_productCategory2){//ALPD-5678--Added by Vignesh R(10-04-2025)-->Sample Registration --> In Etica clinical type --> default spec is loaded.\nmapOfRegFilterData=_objectSpread(_objectSpread({},mapOfRegFilterData),{},{nproductcatcode:map.nproductcatcode,nproductcode:map.nproductcode,ntestgroupspecrequired:inputParem.ntestgroupspecrequired});dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData),inputParem));}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,selectedMaster:[],addMaster:false,selectedControl:[],masterComboColumnFiled:[],masterDesign:[],masterextractedColumnList:[],masterfieldList:[],masterdataList:[],mastercomboComponents:[],masterwithoutCombocomponent:[],masterIndex:undefined,screenName:inputParem.screenName,loadCustomSearchFilter:false}});}}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,selectedMaster:[],addMaster:false,selectedControl:[],masterComboColumnFiled:[],masterDesign:[],masterextractedColumnList:[],masterfieldList:[],masterdataList:[],mastercomboComponents:[],masterwithoutCombocomponent:[],masterIndex:undefined,screenName:inputParem.screenName,loadCustomSearchFilter:false}});}}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,selectedMaster:[],addMaster:false,selectedControl:[],masterComboColumnFiled:[],masterDesign:[],masterextractedColumnList:[],masterfieldList:[],masterdataList:[],mastercomboComponents:[],masterwithoutCombocomponent:[],masterIndex:undefined,screenName:inputParem.screenName,loadCustomSearchFilter:false}});}}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function validatePreview(inputParam){return function(dispatch){rsapi.post(\"dynamicpreregdesign/validatePreview\",_objectSpread({},inputParam)).then(function(response){if(response.data.rtn===\"Success\"){toast.info(intl.formatMessage({id:\"IDS_SUCCESSFULLYVALIDATE\"}));dispatch({type:DEFAULT_RETURN,payload:{loading:false}});}else{toast.warn(response.data.rtn);dispatch({type:DEFAULT_RETURN,payload:{loading:false,showConfirmAlert:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function addMasterRecord(inputParam){return function(dispatch){dispatch(initRequest(true));var requestUrl='';if(inputParam.isFileupload){var formData=inputParam.formData;formData.append(\"userinfo\",JSON.stringify(inputParam.inputData.userinfo));requestUrl=rsapi.post(inputParam.classUrl+\"/\"+inputParam.operation+inputParam.methodUrl,formData);}else{requestUrl=rsapi.post(inputParam.classUrl+\"/\"+inputParam.operation+inputParam.methodUrl,_objectSpread({},inputParam.inputData));}return requestUrl.then(function(response){if(response.status===202){//HttpStatus:Accepted\n//Use this block when u need to display any success message\ndispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.success(response.data);}else if(response.status===208){//HttpStatus:Accepted\n//208-Already Reported\ndispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.warn(response.data);}else{var masterIndex=inputParam.masterIndex;var data=[];var data1=sortData(response.data);if(inputParam.selectedControl[masterIndex].table.item.component==='Dynamic'){data=constructOptionList(data1.DynamicMasterData,inputParam.selectedControl[masterIndex].valuemember,inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\");}else if(inputParam.selectedControl[masterIndex].table.item.nformcode===137){if(inputParam.selectedControl[masterIndex].inputtype==='backendsearchfilter'||inputParam.selectedControl[masterIndex].inputtype==='frontendsearchfilter'){//   data = constructOptionList(data1.PatientList, inputParam.selectedControl[masterIndex].valuemember, inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\")\ndata=[{label:data1.SelectedPatient[inputParam.selectedControl[masterIndex].displaymember],value:data1.SelectedPatient[inputParam.selectedControl[masterIndex].valuemember],item:data1.SelectedPatient}];}else{data=constructOptionList(data1.PatientList,inputParam.selectedControl[masterIndex].valuemember,inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\");}}else if(inputParam.selectedControl[masterIndex].table.item.nformcode===43){if(inputParam.selectedControl[masterIndex].inputtype==='backendsearchfilter'||inputParam.selectedControl[masterIndex].inputtype==='frontendsearchfilter'){//   data = constructOptionList(data1.PatientList, inputParam.selectedControl[masterIndex].valuemember, inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\")\ndata=[{label:data1.ExternalOrder[inputParam.selectedControl[masterIndex].displaymember],value:data1.ExternalOrder[inputParam.selectedControl[masterIndex].valuemember],item:data1.ExternalOrder}];}else{data=constructOptionList(data1.ExternalOrder,inputParam.selectedControl[masterIndex].valuemember,inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\");}}else{data=constructOptionList(data1,inputParam.selectedControl[masterIndex].valuemember,inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\");}var newdata=data.map(function(item1,index){item1=_objectSpread(_objectSpread({},item1),{},{item:{jsondata:_objectSpread(_objectSpread({},item1.item),{},{jsondata:_objectSpread({},item1.item)})}});return item1;});if(masterIndex===0){var selectedRecord=inputParam.selectedRecord||{};var selectedControl=inputParam.selectedControl||{};var comboData1={};if(inputParam.operation==='create'){comboData1=_objectSpread(_objectSpread({},newdata[0]),{},{item:_objectSpread(_objectSpread({},newdata[0].item),{},{\"pkey\":selectedControl[masterIndex].valuemember,\"nquerybuildertablecode\":selectedControl[masterIndex].nquerybuildertablecode,\"source\":selectedControl[masterIndex].source})});}else{var value=inputParam.selectedControl[masterIndex].table.item.component==='Dynamic'?inputParam.masterEditObject[masterIndex].item?inputParam.masterEditObject[masterIndex].item.jsondata.ndynamicmastercode:inputParam.masterEditObject[masterIndex].ndynamicmastercode:inputParam.masterEditObject[masterIndex].value;var combodata=[];if(inputParam.selectedControl[masterIndex].table.item.component==='Dynamic'){combodata=newdata.filter(function(x){return x.item.jsondata.ndynamicmastercode===value;});}else{combodata=newdata.filter(function(x){return x.value===value;});}comboData1=_objectSpread(_objectSpread({},combodata[0]),{},{item:_objectSpread(_objectSpread({},combodata[0].item),{},{\"pkey\":selectedControl[masterIndex].valuemember,\"nquerybuildertablecode\":selectedControl[masterIndex].nquerybuildertablecode,\"source\":selectedControl[masterIndex].source})});}selectedRecord[selectedControl[masterIndex].label]=comboData1;if(inputParam.selectedControl[masterIndex].table.item.nformcode===137){selectedRecord['spatientid']=comboData1.item['jsondata']['spatientid'];}if(inputParam.selectedControl[masterIndex].table.item.nformcode===43){selectedRecord['nexternalordercode']=comboData1.item['nexternalordercode'];}var comboData=inputParam.comboData;comboData[selectedControl[masterIndex].label]=newdata;if(selectedControl[masterIndex].child&&selectedControl[masterIndex].child.length>0){var childComboList=getSameRecordFromTwoArrays(inputParam.comboComponents,selectedControl[masterIndex].child,\"label\");var childColumnList={};childComboList.map(function(columnList){var val=comboChild(inputParam.comboComponents,columnList,childColumnList,false);childColumnList=val.childColumnList;});var parentList=getSameRecordFromTwoArrays(inputParam.withoutCombocomponent,selectedControl[masterIndex].child,\"label\");var inputParem={child:selectedControl[masterIndex].child,source:selectedControl[masterIndex].source,primarykeyField:selectedControl[masterIndex].valuemember,value:comboData1.value,item:comboData1.item,screenName:inputParam.screenName,nsampletypecode:inputParam.nsampletypecode?inputParam.nsampletypecode:-1,loginProps:inputParam.loginProps,//ALPD-5678--Added by Vignesh R(10-04-2025)-->Sample Registration --> In Etica clinical type --> default spec is loaded.\nntestgroupspecrequired:inputParam.ntestgroupspecrequired};if(inputParam.loadSubSample){dispatch(getChildValues(inputParem,inputParam.inputData.userinfo,selectedRecord,comboData,childComboList,childColumnList,inputParam.withoutCombocomponent,[].concat(_toConsumableArray(childComboList),_toConsumableArray(parentList)),false,false,{},false,false,false,false,false,true,false));}else{dispatch(getChildValues(inputParem,inputParam.inputData.userinfo,selectedRecord,comboData,childComboList,childColumnList,inputParam.withoutCombocomponent,[].concat(_toConsumableArray(childComboList),_toConsumableArray(parentList)),false,false,inputParam.nsampletypecode===5?{nportalrequired:inputParam.nportalrequired&&inputParam.nportalrequired,nsampletypecode:inputParam.nsampletypecode,nneedsubsample:inputParam.nneedsubsample}:{},false,false,false,false,false,false,false,inputParam.comboComponents));}}else{var _payload;dispatch({type:DEFAULT_RETURN,payload:(_payload={loading:false,addMaster:false},_defineProperty(_payload,inputParam.comboName,comboData),_defineProperty(_payload,\"selectedMaster\",[]),_defineProperty(_payload,inputParam.selectedRecordName,selectedRecord),_defineProperty(_payload,\"screenName\",inputParam.screenName),_defineProperty(_payload,\"masterIndex\",undefined),_defineProperty(_payload,\"mastercomboComponents\",[]),_defineProperty(_payload,\"masterwithoutCombocomponent\",[]),_defineProperty(_payload,\"masterComboColumnFiled\",[]),_defineProperty(_payload,\"masterextractedColumnList\",[]),_defineProperty(_payload,\"masterdataList\",[]),_defineProperty(_payload,\"masterDesign\",[]),_defineProperty(_payload,\"masterfieldList\",[]),_defineProperty(_payload,\"masterOperation\",[]),_defineProperty(_payload,\"masterEditObject\",[]),_payload)});}}else{var selectedMaster=inputParam.selectedMaster||[];var _selectedControl=inputParam.selectedControl||[];var _comboData={};if(inputParam.operation==='create'){_comboData=_objectSpread(_objectSpread({},newdata[0]),{},{item:_objectSpread(_objectSpread({},newdata[0].item),{},{\"pkey\":_selectedControl[masterIndex].valuemember,\"nquerybuildertablecode\":_selectedControl[masterIndex].nquerybuildertablecode,\"source\":_selectedControl[masterIndex].source})});}else{var _value=inputParam.selectedControl[masterIndex].table.item.component==='Dynamic'?inputParam.masterEditObject[masterIndex].item?inputParam.masterEditObject[masterIndex].item.jsondata.ndynamicmastercode:inputParam.masterEditObject[masterIndex].ndynamicmastercode:inputParam.masterEditObject[masterIndex].value;var _combodata=[];if(inputParam.selectedControl[masterIndex].table.item.component==='Dynamic'){_combodata=newdata.filter(function(x){return x.item.jsondata.ndynamicmastercode===_value;});}else{_combodata=newdata.filter(function(x){return x.value===_value;});}_comboData=_objectSpread(_objectSpread({},_combodata[0]),{},{item:_objectSpread(_objectSpread({},_combodata[0].item),{},{\"pkey\":_selectedControl[masterIndex].valuemember,\"nquerybuildertablecode\":_selectedControl[masterIndex].nquerybuildertablecode,\"source\":_selectedControl[masterIndex].source})});}selectedMaster[masterIndex-1][_selectedControl[masterIndex].label]=_comboData;// const comboData = inputParam.comboData\n// comboData[selectedControl[masterIndex].label] = newdata\nvar masterdataList=inputParam.masterdataList||[];masterdataList[masterIndex-1]=_objectSpread(_objectSpread({},masterdataList[masterIndex-1]),{},_defineProperty({},_selectedControl[masterIndex].label,newdata));if(_selectedControl[masterIndex].child&&_selectedControl[masterIndex].child.length>0){var _childComboList=getSameRecordFromTwoArrays(inputParam.mastercomboComponents[masterIndex-1],_selectedControl[masterIndex].child,\"label\");var _childColumnList={};_childComboList.map(function(columnList){var val=comboChild(inputParam.mastercomboComponents[masterIndex-1],columnList,_childColumnList,false);_childColumnList=val.childColumnList;});var _parentList=getSameRecordFromTwoArrays(inputParam.masterwithoutCombocomponent[masterIndex-1],_selectedControl[masterIndex].child,\"label\");var _inputParem={child:_selectedControl[masterIndex].child,source:_selectedControl[masterIndex].source,primarykeyField:_selectedControl[masterIndex].valuemember,value:_comboData.value,item:_comboData.item,screenName:inputParam.screenName};dispatch(getChildValuesForMasterAdd(_inputParem,inputParam.inputData.userinfo,selectedMaster,inputParam.masterdataList,_childComboList,_childColumnList,inputParam.masterwithoutCombocomponent,[].concat(_toConsumableArray(_childComboList),_toConsumableArray(_parentList)),masterIndex,inputParam));}else{_selectedControl=_selectedControl&&removeIndex(_selectedControl,masterIndex);selectedMaster=selectedMaster&&removeIndex(selectedMaster,masterIndex);var mastercomboComponents=inputParam.mastercomboComponents&&removeIndex(inputParam.mastercomboComponents,masterIndex);var masterwithoutCombocomponent=inputParam.masterwithoutCombocomponent&&removeIndex(inputParam.masterwithoutCombocomponent,masterIndex);var masterComboColumnFiled=inputParam.masterComboColumnFiled&&removeIndex(inputParam.masterComboColumnFiled,masterIndex);var masterextractedColumnList=inputParam.masterextractedColumnList&&removeIndex(inputParam.masterextractedColumnList,masterIndex);masterdataList=masterdataList&&removeIndex(masterdataList,masterIndex);var masterDesign=inputParam.masterDesign&&removeIndex(inputParam.masterDesign,masterIndex);var masterfieldList=inputParam.masterfieldList&&removeIndex(inputParam.masterfieldList,masterIndex);var masterOperation=inputParam.masterOperation&&removeIndex(inputParam.masterOperation,masterIndex);var masterEditObject=inputParam.masterEditObject&&removeIndex(inputParam.masterEditObject,masterIndex);var screenName=_selectedControl[masterIndex-1].displayname[inputParam.userinfo.slanguagetypecode];masterIndex=parseInt(masterIndex)-1;dispatch({type:DEFAULT_RETURN,payload:{selectedControl:_selectedControl,selectedMaster:selectedMaster,mastercomboComponents:mastercomboComponents,masterwithoutCombocomponent:masterwithoutCombocomponent,masterComboColumnFiled:masterComboColumnFiled,masterextractedColumnList:masterextractedColumnList,masterdataList:masterdataList,masterDesign:masterDesign,masterfieldList:masterfieldList,masterOperation:masterOperation,masterEditObject:masterEditObject,loading:false,// addMaster: false,\n// masterdataList,\n// selectedMaster: {},\n//  selectedMaster: selectedMaster,\nscreenName:screenName,masterIndex:masterIndex}});}}}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}// export function removeIndex(data, removeIndex) {\n//     const data1 = [...data.splice(0, removeIndex), ...data.splice(removeIndex + 1)]\n//     return data1\n// }\nexport function getAddMasterCombo(inputParam){return function(dispatch){dispatch(initRequest(true));var urlArray=[];var masterIndex=inputParam.masterIndex;inputParam.masterComboColumnFiled[masterIndex].map(function(item){if(item.needService===undefined){urlArray.push(rsapi.post(item.classUrl+\"/\"+item.methodUrl,{userinfo:inputParam.userinfo}));item[\"fetchIndex\"]=urlArray.length-1;}});if(inputParam.selectedControl[masterIndex].table.item.nformcode===137){urlArray.push(rsapi.post(\"timezone/getLocalTimeByZone\",{userinfo:inputParam.userinfo}));}Axios.all(urlArray).then(function(response){var ComboFieldData=[];var masterdataList=inputParam.masterdataList;inputParam.masterComboColumnFiled[masterIndex].map(function(item,index){if(item.needService===undefined){ComboFieldData=constructOptionList(item.objectValue===null?response[item.fetchIndex].data||[]:response[item.fetchIndex].data[item.objectValue],item.foreignDataField,item.dataField,undefined,undefined,undefined);masterdataList[masterIndex][item.dataField]=ComboFieldData.get(\"OptionList\");//selectedMaster[masterIndex][item.dataField] = ComboFieldData.get(\"DefaultValue\");\n}else{if(item.child!==undefined){masterdataList[masterIndex][item.dataField]=[];}else if(item.useService!==undefined){masterdataList[masterIndex][item.dataField]=masterdataList[masterIndex][inputParam.masterComboColumnFiled[masterIndex][item.useService].dataField];}}});var currentTime='';var selectedMaster=inputParam.selectedMaster||[];if(inputParam.selectedControl[masterIndex].table.item.nformcode===137){//const data=inputParam.masterComboColumnFiled.filter(x=>x.needService===undefined)\ncurrentTime=rearrangeDateFormat(inputParam.userinfo,response[urlArray.length-1].data);selectedMaster[masterIndex][\"ddob\"]=rearrangeDateFormat(inputParam.userinfo,response[urlArray.length-1].data);selectedMaster[masterIndex][\"sage\"]=ageCalculate(selectedMaster[\"ddob\"]);selectedMaster[masterIndex][\"nneedcurrentaddress\"]=transactionStatus.NO;selectedMaster[masterIndex][\"today\"]=inputParam.userinfo;}dispatch({type:DEFAULT_RETURN,payload:{masterIndex:masterIndex,selectedMaster:selectedMaster,masterdataList:masterdataList,addMaster:true,loading:false,selectedControl:inputParam.selectedControl,masterfieldList:inputParam.masterfieldList,masterextractedColumnList:inputParam.masterextractedColumnList,masterprimaryKeyField:inputParam.masterprimaryKeyField,masterComboColumnFiled:inputParam.masterComboColumnFiled,screenName:inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode],mastercomboComponents:inputParam.mastercomboComponents,masterwithoutCombocomponent:inputParam.masterwithoutCombocomponent,masterDesign:inputParam.masterDesign,masterOperation:inputParam.masterOperation}});}).catch(function(error){dispatch(initRequest(false));if(error.response.status===500){toast.error(error.message);}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getDynamicMasterTempalte(inputParam){return function(dispatch){var _this=this;dispatch(initRequest(true));var masterIndex=inputParam.masterIndex;rsapi.post(inputParam.selectedControl[masterIndex].table.item.classUrl+\"/getMasterDesign\",{userinfo:_objectSpread(_objectSpread({},inputParam.userinfo),{},{nformcode:inputParam.selectedControl[inputParam.masterIndex].table.item.nformcode})}).then(function(response){var design=response.data;var masterwithoutCombocomponent=inputParam.masterwithoutCombocomponent||[];var data=inputParam.masterdesignData||[];var masterextractedColumnList=inputParam.masterextractedColumnList||[];//masterwithoutCombocomponent[masterIndex] = []\n// masterextractedColumnList[masterIndex] = []\ndata[masterIndex]=[];design.slideoutdesign.map(function(row){row.children.map(function(column){column.children.map(function(component){if(component.hasOwnProperty(\"children\")){component.children.map(function(componentrow){if(componentrow.inputtype===\"combo\"){data[masterIndex].push(componentrow);}else{masterwithoutCombocomponent[masterIndex].push(componentrow);}if(componentrow.mandatory===true){if(componentrow.inputtype===\"email\"){masterextractedColumnList[masterIndex].push({\"mandatory\":true,\"idsName\":componentrow.label,\"dataField\":componentrow.label,\"alertPreFix\":_this.props.intl.formatMessage({id:\"IDS_VALID\"}),\"validateFunction\":validateEmail,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});}else{masterextractedColumnList[masterIndex].push({\"mandatory\":true,\"idsName\":componentrow.label,\"dataField\":componentrow.label,\"mandatoryLabel\":componentrow.inputtype===\"combo\"?\"IDS_SELECT\":\"IDS_ENTER\",\"controlType\":componentrow.inputtype===\"combo\"?\"selectbox\":\"textbox\"});}}});}else{component.inputtype===\"combo\"?data[masterIndex].push(component):masterwithoutCombocomponent[masterIndex].push(component);if(component.mandatory===true){if(component.inputtype===\"email\"){masterextractedColumnList[masterIndex].push({\"mandatory\":true,\"idsName\":component.label,\"dataField\":component.label,\"alertPreFix\":_this.props.intl.formatMessage({id:\"IDS_VALID\"}),\"validateFunction\":validateEmail,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});}else{masterextractedColumnList[masterIndex].push({\"mandatory\":true,\"idsName\":component.label,\"dataField\":component.label,\"mandatoryLabel\":component.inputtype===\"combo\"?\"IDS_SELECT\":\"IDS_ENTER\",\"controlType\":component.inputtype===\"combo\"?\"selectbox\":\"textbox\"});}}}});});});var comboComponents=inputParam.mastercomboComponents||[];comboComponents[masterIndex]=data[masterIndex];var childColumnList={};data[masterIndex].map(function(columnList){var val=comboChild(data[masterIndex],columnList,childColumnList,true);data[masterIndex]=val.data;childColumnList=val.childColumnList;});var masterdesignData=inputParam.masterdesignData||[];masterdesignData[masterIndex]=_toConsumableArray(data[masterIndex]);var masterDesign=inputParam.masterDesign||[];masterDesign[masterIndex]=design;inputParam=_objectSpread(_objectSpread({},inputParam),{},{masterchildColumnList:childColumnList,mastercomboComponents:comboComponents,masterextractedColumnList:masterextractedColumnList,masterwithoutCombocomponent:masterwithoutCombocomponent,masterDesign:masterDesign,masterdesignData:masterdesignData,masterOperation:inputParam.masterOperation});if(inputParam.masterOperation[masterIndex]==='create'){dispatch(getDynamicMasterComboForAdd(inputParam,true));}else{dispatch(getEditMasterCombo(inputParam));}}).catch(function(error){dispatch(initRequest(false));if(error.response.status===500){toast.error(error.message);}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getDynamicMasterComboForAdd(inputParam,preview){return function(dispatch){dispatch(initRequest(true));var masterIndex=inputParam.masterIndex;var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var actualService=rsapi.post(\"dynamicpreregdesign/getComboValues\",{parentcolumnlist:inputParam.masterdesignData[masterIndex],childcolumnlist:inputParam.masterchildColumnList,userinfo:inputParam.userinfo});var dateService=rsapi.post(\"dynamicpreregdesign/dateValidation\",{datecolumnlist:inputParam.masterwithoutCombocomponent[masterIndex].filter(function(x){return x.inputtype===\"date\";}),userinfo:inputParam.userinfo});var urlArray=[timeZoneService,actualService,dateService];Axios.all(urlArray).then(function(response){var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:inputParam.userinfo.stimezoneid,value:inputParam.userinfo.ntimezonecode};var selectedMaster=inputParam.selectedMaster||[];selectedMaster[masterIndex]=selectedMaster[masterIndex]&&_objectSpread({},selectedMaster[masterIndex])||{};var newcomboData=parentChildComboLoad(inputParam.masterdesignData[masterIndex],response[1].data,selectedMaster[masterIndex],inputParam.masterchildColumnList,inputParam.masterwithoutCombocomponent[masterIndex],undefined,inputParam.userinfo.slanguagetypecode,inputParam.userinfo);var comboData1=newcomboData.comboData;var selectedRecord1=newcomboData.selectedRecord;inputParam.masterwithoutCombocomponent[masterIndex].map(function(componentrow){if(componentrow.inputtype==='date'){selectedRecord1[selectedRecord1.label]=selectedRecord1[selectedRecord1.label]&&selectedRecord1[componentrow.label]!=='-'?rearrangeDateFormat(inputParam.userinfo,selectedRecord1[componentrow.label]):\"\";if(selectedRecord1.nperiodcode){selectedRecord1[componentrow.label+\"value\"]=response[2].data[componentrow.label]?new Date(response[2].data[componentrow.label][\"datevalue\"]):null;}else{selectedRecord1[componentrow.label+\"value\"]=new Date();}if(componentrow.hidebeforedate){selectedRecord1[componentrow.label+\"min\"]=selectedRecord1[componentrow.label+\"value\"];}if(componentrow.hideafterdate){selectedRecord1[componentrow.label+\"max\"]=selectedRecord1[componentrow.label+\"value\"];}}else if(componentrow.inputtype===\"radio\"||componentrow.inputtype===\"checkbox\"||componentrow.inputtype===\"predefineddropdown\"){if(componentrow['radiodefaultvalue']){if(componentrow.inputtype===\"checkbox\"){var val='';componentrow.radiodefaultvalue&&componentrow.radiodefaultvalue.length>0&&componentrow.radiodefaultvalue.map(function(x,i){val=val+(i===componentrow.radiodefaultvalue.length-1?x.label:x.label+',');});selectedRecord1[componentrow.label]=val;}else if(componentrow.inputtype===\"predefineddropdown\"){selectedRecord1[componentrow.label]=componentrow.radiodefaultvalue?componentrow.radiodefaultvalue:\"\";}else{selectedRecord1[componentrow.label]=componentrow.radiodefaultvalue?componentrow.radiodefaultvalue.label:\"\";}}else{if(componentrow.inputtype===\"radio\"){selectedRecord1[componentrow.label]=componentrow.radioOptions?componentrow.radioOptions.tags[0].text:\"\";}}}});//const masterchildColumnList=inputParam.masterchildColumnList || []\n// masterchildColumnList[masterIndex] = comboData1\nvar masterdataList=inputParam.masterdataList||[];masterdataList[masterIndex]=comboData1;selectedMaster[masterIndex]=_objectSpread(_objectSpread({},selectedMaster[masterIndex]),{},{selectedRecord1:selectedRecord1});if(preview){dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},inputParam),{},{mastertimeZoneList:timeZoneList,masterdefaultTimeZone:defaultTimeZone,loading:false,addMaster:true,masterdataList:masterdataList,selectedMaster:selectedMaster,mastercomboComponents:inputParam.mastercomboComponents,masterwithoutCombocomponent:inputParam.masterwithoutCombocomponent,masterdesignData:inputParam.masterdesignData,masterIndex:masterIndex,// masterchildColumnList: inputParam.masterchildColumnList,\nscreenName:inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode]// operation: inputParam.masterOperation[masterIndex],\n})});}}).catch(function(error){// console.log(\"error:\", error);\ndispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getChildValuesForAddMaster(inputParam,userinfo,selectedMaster,comboData,parentcolumnlist,childcolumnlist,withoutCombocomponent,parentListWithReadonly,masterIndex){return function(dispatch){var _rsapi$post2;dispatch(initRequest(true));rsapi.post('dynamicpreregdesign/getChildValues',(_rsapi$post2={child:inputParam.child,parentdata:inputParam.item.jsondata,parentsource:inputParam.source},_defineProperty(_rsapi$post2,inputParam.primarykeyField,inputParam.value),_defineProperty(_rsapi$post2,\"valuemember\",inputParam.primarykeyField),_defineProperty(_rsapi$post2,\"childcolumnlist\",childcolumnlist),_defineProperty(_rsapi$post2,\"userinfo\",userinfo),_defineProperty(_rsapi$post2,\"parentcolumnlist\",parentcolumnlist),_rsapi$post2)).then(function(response){var returnObj=_objectSpread(_objectSpread({},comboData[masterIndex]),response.data);returnObj=parentChildComboLoad(parentListWithReadonly,returnObj,selectedMaster[masterIndex],childcolumnlist,withoutCombocomponent[masterIndex],inputParam,userinfo.slanguagetypecode,userinfo);selectedMaster[masterIndex]=_objectSpread(_objectSpread({},selectedMaster[masterIndex]),returnObj.selectedRecord);var masterdataList=comboData||[];masterdataList[masterIndex]=returnObj.comboData;dispatch({type:DEFAULT_RETURN,payload:{loading:false,masterdataList:masterdataList,selectedMaster:selectedMaster}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getChildComboMaster(selectedMaster,filedName,item,selectedControl,masterComboColumnFiled,masterdataList,userInfo,masterIndex){return function(dispatch){dispatch(initRequest(true));var urlArray=[];var obj=masterComboColumnFiled[masterIndex][item.childIndex];if(obj.ismutipleparent){var _inputData;var inputData=(_inputData={},_defineProperty(_inputData,item.foreignDataField,selectedMaster[masterIndex][item.tableDataField]),_defineProperty(_inputData,obj.parentMutipleTableDataField,selectedMaster[masterIndex][obj.parentMutipleTableDataField]),_inputData);urlArray.push(rsapi.post(obj.classUrl+\"/\"+obj.methodUrl,_objectSpread(_objectSpread({},inputData),{},{userinfo:userInfo})));}else{var _rsapi$post3;urlArray.push(rsapi.post(obj.classUrl+\"/\"+obj.methodUrl,(_rsapi$post3={},_defineProperty(_rsapi$post3,item.foreignDataField,selectedMaster[masterIndex][item.tableDataField]),_defineProperty(_rsapi$post3,\"userinfo\",userInfo),_rsapi$post3)));}Axios.all(urlArray).then(function(response){selectedMaster[masterIndex][obj.dataField]=undefined;var ComboFieldData=constructOptionList(obj.objectValue===null?response[0].data||[]:response[0].data[obj.objectValue],obj.foreignDataField,obj.foreignDisplayMember,undefined,undefined,undefined);masterdataList[masterIndex][obj.dataField]=ComboFieldData.get(\"OptionList\");if(item.childFieldToClear){item.childFieldToClear.forEach(function(item1){var _objectSpread5;return selectedMaster[masterIndex]=_objectSpread(_objectSpread({},selectedMaster[masterIndex]),{},(_objectSpread5={},_defineProperty(_objectSpread5,item1.label,undefined),_defineProperty(_objectSpread5,item1.tablecolumnname,undefined),_objectSpread5)),masterdataList[masterIndex]=_objectSpread(_objectSpread({},masterdataList[masterIndex]),{},_defineProperty({},item1.label,[]));});}dispatch({type:DEFAULT_RETURN,payload:{selectedMaster:selectedMaster,masterdataList:masterdataList,loading:false}});}).catch(function(error){dispatch(initRequest(false));if(error.response.status===500){toast.error(error.message);}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getChildValuesForMasterAdd(inputParem,userinfo,selectedMaster,masterdataList,parentcolumnlist,childcolumnlist,withoutCombocomponent,parentListWithReadonly,masterIndex,inputParam){return function(dispatch){var _rsapi$post4;dispatch(initRequest(true));rsapi.post('dynamicpreregdesign/getChildValues',(_rsapi$post4={child:inputParem.child,parentdata:inputParem.item.jsondata,parentsource:inputParem.source},_defineProperty(_rsapi$post4,inputParem.primarykeyField,inputParem.value),_defineProperty(_rsapi$post4,\"valuemember\",inputParem.primarykeyField),_defineProperty(_rsapi$post4,\"childcolumnlist\",childcolumnlist),_defineProperty(_rsapi$post4,\"userinfo\",userinfo),_defineProperty(_rsapi$post4,\"parentcolumnlist\",parentcolumnlist),_rsapi$post4)).then(function(response){var returnObj=_objectSpread(_objectSpread({},masterdataList[masterIndex-1]),response.data);returnObj=parentChildComboLoad(parentListWithReadonly,returnObj,selectedMaster[masterIndex-1],childcolumnlist,withoutCombocomponent[masterIndex-1],inputParem,userinfo.slanguagetypecode,userinfo);selectedMaster[masterIndex-1]=_objectSpread(_objectSpread({},selectedMaster[masterIndex-1]),returnObj.selectedRecord);masterdataList[masterIndex-1]=returnObj.comboData;// const dataList = {\n// }\nvar selectedControl=inputParam.selectedControl&&removeIndex(inputParam.selectedControl,masterIndex);selectedMaster=selectedMaster&&removeIndex(selectedMaster,masterIndex);var mastercomboComponents=inputParam.mastercomboComponents&&removeIndex(inputParam.mastercomboComponents,masterIndex);var masterwithoutCombocomponent=inputParam.masterwithoutCombocomponent&&removeIndex(inputParam.masterwithoutCombocomponent,masterIndex);var masterComboColumnFiled=inputParam.masterComboColumnFiled&&removeIndex(inputParam.masterComboColumnFiled,masterIndex);var masterextractedColumnList=inputParam.masterextractedColumnList&&removeIndex(inputParam.masterextractedColumnList,masterIndex);masterdataList=masterdataList&&removeIndex(masterdataList,masterIndex);var masterDesign=inputParam.masterDesign&&removeIndex(inputParam.masterDesign,masterIndex);var masterfieldList=inputParam.masterfieldList&&removeIndex(inputParam.masterfieldList,masterIndex);var screenName=selectedControl[masterIndex-1].displayname[inputParam.userinfo.slanguagetypecode];masterIndex=parseInt(masterIndex)-1;dispatch({type:DEFAULT_RETURN,payload:{// selectedControl: inputParam.selectedControl && removeIndex(inputParam.selectedControl, masterIndex),\n// selectedMaster: selectedMaster && removeIndex(selectedMaster, masterIndex),\n// mastercomboComponents: inputParam.mastercomboComponents && removeIndex(inputParam.mastercomboComponents, masterIndex),\n// masterwithoutCombocomponent: inputParam.masterwithoutCombocomponent && removeIndex(inputParam.masterwithoutCombocomponent, masterIndex),\n// masterComboColumnFiled: inputParam.masterComboColumnFiled && removeIndex(inputParam.masterComboColumnFiled, masterIndex),\n// masterextractedColumnList: inputParam.masterextractedColumnList && removeIndex(inputParam.masterextractedColumnList, masterIndex),\n// masterdataList: masterdataList && removeIndex(masterdataList, masterIndex),\n// masterDesign: inputParam.masterDesign && removeIndex(inputParam.masterDesign, masterIndex),\n// masterfieldList: inputParam.masterfieldList && removeIndex(inputParam.masterfieldList, masterIndex),\n// screenName: inputParam.selectedControl[masterIndex - 1].displayname[userinfo.slanguagetypecode],\n// loading: false,\n//masterdataList,\n//selectedMaster,\n// ...dataList,\n//   masterIndex: (parseInt(masterIndex) - 1),\n// screenName: inputParem.screenName\nselectedControl:selectedControl,selectedMaster:selectedMaster,mastercomboComponents:mastercomboComponents,masterwithoutCombocomponent:masterwithoutCombocomponent,masterComboColumnFiled:masterComboColumnFiled,masterextractedColumnList:masterextractedColumnList,masterdataList:masterdataList,masterDesign:masterDesign,masterfieldList:masterfieldList,loading:false,// addMaster: false,\n// masterdataList,\n// selectedMaster: {},\n//  selectedMaster: selectedMaster,\nscreenName:screenName,masterIndex:masterIndex}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function viewExternalportalDetail(selectedControl,comboData,userinfo){return function(dispatch){if(selectedControl.table.item.nquerybuildertablecode===222){dispatch(initRequest(true));rsapi.post('dynamicpreregdesign/getExternalportalDetail',{nexternalordercode:comboData.value,nquerybuildertablecode:selectedControl.table.item.nquerybuildertablecode,userinfo:userinfo}).then(function(response){var Map1=new Map();response.data.Sample.map(function(item){var newData=response.data.Test.filter(function(x){return x.nexternalordersamplecode===item.nexternalordersamplecode;});Map1.set(item.nexternalordersamplecode,Object.values(newData));});dispatch({type:DEFAULT_RETURN,payload:{isDynamicViewSlideOut:true,dynamicExternalSample:response.data.Sample,dynamicExternalTestChild:Map1,dynamicGridSelectedId:response.data.Sample.length>0?Object.keys(response.data.Sample[0].nexternalordersamplecode):null,loading:false,selectedDynamicViewControl:selectedControl// dynamicExternalSubSample:[],\n// dynamicExternalTest:[]\n}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}};}export function getEditMaster(inputParam){return function(dispatch){dispatch(initRequest(true));var masterIndex=inputParam.masterIndex;var componentName=inputParam.selectedControl[masterIndex].table.item.component;var valueMember=inputParam.selectedControl[masterIndex].valuemember;if(componentName==='Type1Component'||componentName==='Type2Component'){rsapi.post(inputParam.selectedControl[masterIndex].table.item.classUrl+\"/getActive\"+inputParam.selectedControl[masterIndex].table.item.methodUrl+\"ById\",_defineProperty({userinfo:inputParam.userinfo},valueMember,inputParam.masterEditObject[masterIndex]['value'])).then(function(response){if(response.status===202){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.success(response.data);}else if(response.status===208){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.warn(response.data);}else{var _masterIndex=inputParam.masterIndex;var data=response.data;var selectedMaster=inputParam.selectedMaster||[];inputParam.masterextractedColumnList[_masterIndex].map(function(item){var fieldName=item.dataField;if(item.controlType===\"checkbox\"){selectedMaster[_masterIndex][item.controlName]=data[item.controlName]?data[item.controlName]:transactionStatus.NO;}else{selectedMaster[_masterIndex][fieldName]=data[fieldName]?data[fieldName]:\"\";}});dispatch({type:DEFAULT_RETURN,payload:{masterIndex:_masterIndex,selectedMaster:selectedMaster,masterdataList:inputParam.masterdataList,addMaster:true,loading:false,selectedControl:inputParam.selectedControl,masterfieldList:inputParam.masterfieldList,masterextractedColumnList:inputParam.masterextractedColumnList,masterprimaryKeyField:inputParam.masterprimaryKeyField,masterComboColumnFiled:inputParam.masterComboColumnFiled,screenName:inputParam.selectedControl[_masterIndex].displayname[inputParam.userinfo.slanguagetypecode],mastercomboComponents:inputParam.mastercomboComponents,masterwithoutCombocomponent:inputParam.masterwithoutCombocomponent,masterDesign:inputParam.masterDesign,masterEditObject:inputParam.masterEditObject,masterOperation:inputParam.masterOperation}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else if(componentName==='Type3Component'){var urlArray=[];urlArray.push(rsapi.post(inputParam.selectedControl[masterIndex].table.item.classUrl+\"/getActive\"+inputParam.selectedControl[masterIndex].table.item.methodUrl+\"ById\",_defineProperty({userinfo:inputParam.userinfo},valueMember,inputParam.masterEditObject[masterIndex]['value'])));inputParam.masterComboColumnFiled[masterIndex].map(function(item){// if (item.needService === undefined) {\nvar input={};if(item.needService===false){if(item.ismutipleparent){var _input;input=(_input={},_defineProperty(_input,item[\"parenttableDataField\"],inputParam.masterEditObject[masterIndex].item.jsondata?inputParam.masterEditObject[masterIndex].item.jsondata[item[\"parenttableDataField\"]]:inputParam.masterEditObject[masterIndex].item[item[\"parenttableDataField\"]]),_defineProperty(_input,item[\"parentMutipleTableDataField\"],inputParam.masterEditObject[masterIndex].item.jsondata?inputParam.masterEditObject[masterIndex].item.jsondata[item[\"parentMutipleTableDataField\"]]:inputParam.masterEditObject[masterIndex].item[item[\"parentMutipleTableDataField\"]]),_input);}else{input=_defineProperty({},item[\"parenttableDataField\"],inputParam.masterEditObject[masterIndex].item.jsondata?inputParam.masterEditObject[masterIndex].item.jsondata[item[\"parenttableDataField\"]]:inputParam.masterEditObject[masterIndex].item[item[\"parenttableDataField\"]]);}// input = { [item[\"parenttableDataField\"]]: inputParam.masterEditObject[masterIndex].item.jsondata ? inputParam.masterEditObject[masterIndex].item.jsondata[item[\"parenttableDataField\"]] : inputParam.masterEditObject[masterIndex].item[item[\"parenttableDataField\"]] }\n}urlArray.push(rsapi.post(item.classUrl+\"/\"+item.methodUrl,_objectSpread({userinfo:inputParam.userinfo},input)));item[\"fetchIndex\"]=urlArray.length-1;// }\n});if(inputParam.selectedControl[masterIndex].table.item.nformcode===137){urlArray.push(rsapi.post(\"timezone/getLocalTimeByZone\",{userinfo:inputParam.userinfo}));}Axios.all(urlArray).then(function(response){var ComboFieldData=[];var masterdataList=inputParam.masterdataList;var data=response[0].data;var selectedMaster=inputParam.selectedMaster||[];inputParam.masterextractedColumnList[masterIndex].map(function(item){var fieldName=item.dataField;var fieldNamePK=item.tableDataField;// if (item.controlType === \"selectbox\") {\n//     // inputData[methodUrl][fieldName] = this.state.selectedMaster[fieldName] ? this.state.selectedMaster[fieldName].label ? this.state.selectedMaster[fieldName].label : \"\" : -1;\n//     selectedMaster[masterIndex][fieldName]= {lable:data[item.dataField],value:data[item.tableDataField]};\n// }\nif(item.controlType===\"datepicker\"){selectedMaster[masterIndex][fieldName]=rearrangeDateFormat(inputParam.userinfo,data[item.dateField]?data[item.dateField]:\"\");}else if(item.controlType===\"checkbox\"){selectedMaster[masterIndex][item.controlName]=data[item.controlName]?data[item.controlName]:transactionStatus.NO;}else{selectedMaster[masterIndex][fieldName]=data[fieldName]?data[fieldName]:\"\";selectedMaster[masterIndex][fieldNamePK]=data[fieldNamePK]?data[fieldNamePK]:-1;}});inputParam.masterComboColumnFiled[masterIndex].map(function(item,index){//  if (item.needService === undefined) {\nvar fieldName=item.dataField;ComboFieldData=constructOptionList(item.objectValue===null?response[item.fetchIndex].data||[]:response[item.fetchIndex].data[item.objectValue],item.foreignDataField,item.dataField,undefined,undefined,undefined);masterdataList[masterIndex][item.dataField]=ComboFieldData.get(\"OptionList\");if(masterdataList[masterIndex][item.dataField].length>0){selectedMaster[masterIndex][fieldName]=_objectSpread({},masterdataList[masterIndex][item.dataField].filter(function(x){return x.item[item.foreignDataField]===data[item.tableDataField];})[0]);}// } else {\n//     if (item.child !== undefined) {\n//         masterdataList[masterIndex][item.dataField] = []\n//     } else if (item.useService !== undefined) {\n//         masterdataList[masterIndex][item.dataField] = masterdataList[masterIndex][inputParam.masterComboColumnFiled[masterIndex][item.useService].dataField]\n//     }\n// }\n});var currentTime='';if(inputParam.selectedControl[masterIndex].table.item.nformcode===137){//const data=inputParam.masterComboColumnFiled.filter(x=>x.needService===undefined)\ncurrentTime=rearrangeDateFormat(inputParam.userinfo,response[urlArray.length-1].data);selectedMaster[masterIndex][\"ddob\"]=rearrangeDateFormat(inputParam.userinfo,response[urlArray.length-1].data);selectedMaster[masterIndex][\"sage\"]=ageCalculate(selectedMaster[\"ddob\"]);selectedMaster[masterIndex][\"nneedcurrentaddress\"]=transactionStatus.NO;selectedMaster[masterIndex][\"today\"]=inputParam.userinfo;}dispatch({type:DEFAULT_RETURN,payload:{masterIndex:masterIndex,selectedMaster:selectedMaster,masterdataList:masterdataList,addMaster:true,loading:false,selectedControl:inputParam.selectedControl,masterfieldList:inputParam.masterfieldList,masterextractedColumnList:inputParam.masterextractedColumnList,masterprimaryKeyField:inputParam.masterprimaryKeyField,masterComboColumnFiled:inputParam.masterComboColumnFiled,screenName:inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode],mastercomboComponents:inputParam.mastercomboComponents,masterwithoutCombocomponent:inputParam.masterwithoutCombocomponent,masterDesign:inputParam.masterDesign,masterOperation:inputParam.masterOperation,masterEditObject:inputParam.masterEditObject}});}).catch(function(error){dispatch(initRequest(false));if(error.response.status===500){toast.error(error.message);}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}else if(componentName==='Dynamic'){dispatch(getDynamicMasterTempalte(inputParam));}};}export function getEditMasterCombo(inputParam){return function(dispatch){dispatch(initRequest(true));var urlArray=[];var masterIndex=inputParam.masterIndex;var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var selectedMaster1=rsapi.post(\"/dynamicmaster/getActiveDynamicMasterById\",{ndynamicmastercode:inputParam.masterEditObject[masterIndex].item?inputParam.masterEditObject[masterIndex].item.jsondata.ndynamicmastercode:inputParam.masterEditObject[masterIndex].ndynamicmastercode,parentcolumnlist:inputParam.masterdesignData[masterIndex],childcolumnlist:inputParam.masterchildColumnList,userinfo:inputParam.userinfo});urlArray=[timeZoneService,selectedMaster1];Axios.all(urlArray).then(function(response){var data=_objectSpread({},response[1].data[\"EditData\"]);var selectedMaster=inputParam.selectedMaster||[];selectedMaster[masterIndex]=selectedMaster[masterIndex]&&_objectSpread({},selectedMaster[masterIndex])||{};var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:inputParam.userinfo.stimezoneid,value:inputParam.userinfo.ntimezonecode};var selectedRecord1=_objectSpread({},data);var languagetypeCode=undefined;var comboData=response[1].data;delete comboData['EditData'];var comboValues={};if(inputParam.masterdesignData[masterIndex].length>0){inputParam.masterdesignData[masterIndex].map(function(x){if(x.inputtype==='combo'){if(comboData[x.label]&&comboData[x.label].length>0)//&& comboData[x.label][0].hasOwnProperty(x.source) \n{if(comboData[x.label].length>0){if(comboData[x.label][0].label===undefined){var optionList=constructjsonOptionList(comboData[x.label]||[],x.valuemember,x.displaymember,false,false,true,undefined,x.source,x.isMultiLingual,languagetypeCode,x);comboData[x.label]=optionList.get(\"OptionList\");}else{comboData[x.label]=comboData[x.label];var _optionList=constructjsonOptionDefault(comboData[x.label]||[],x.valuemember,x.displaymember,false,false,true,undefined,x.source,x.isMultiLingual,languagetypeCode,x);}}else{comboData[x.label]=[];}comboValues=childComboLoadForEdit(x,comboData,selectedRecord1,inputParam.masterchildColumnList,inputParam.masterwithoutCombocomponent[masterIndex]);}else{comboValues={\"comboData\":comboData};}}else{comboValues=_objectSpread({comboData:comboData},comboValues);}});}else{comboValues={\"comboData\":comboData};}if(inputParam.masterwithoutCombocomponent[masterIndex].length>0){inputParam.masterwithoutCombocomponent[masterIndex].map(function(item){if(item.inputtype===\"date\"){if(selectedRecord1[item.label]){_objectSpread(_objectSpread({},selectedRecord1),{},_defineProperty({},item.label,rearrangeDateFormatforUI(inputParam.userinfo,selectedRecord1[item.label]))),_readOnlyError(\"selectedRecord1\");}}});}var masterdataList=inputParam.masterdataList||[];masterdataList[masterIndex]=comboValues.comboData;selectedMaster[masterIndex]=_objectSpread(_objectSpread({},selectedMaster[masterIndex]),selectedRecord1);dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},inputParam),{},{mastertimeZoneList:timeZoneList,masterdefaultTimeZone:defaultTimeZone,loading:false,addMaster:true,masterdataList:masterdataList,selectedMaster:selectedMaster,mastercomboComponents:inputParam.mastercomboComponents,masterwithoutCombocomponent:inputParam.masterwithoutCombocomponent,masterdesignData:inputParam.masterdesignData,masterIndex:masterIndex,screenName:inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode],masterOperation:inputParam.masterOperation,masterEditObject:inputParam.masterEditObject})});}).catch(function(error){console.log(\"error:\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/actions/DynamicPreRegDesignAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","initRequest","sortData","constructOptionList","parentChildComboLoad","rearrangeDateFormat","ageCalculate","comboChild","validateEmail","getSameRecordFromTwoArrays","removeIndex","childSpecLoadCheck","constructjsonOptionList","constructjsonOptionDefault","rearrangeDateFormatforUI","childComboLoadForEdit","getcomponentdata","getValidComponent","replaceChildFromChildren","ReactComponents","SampleType","transactionStatus","formCode","Axios","getTreeByProduct","intl","getReactInputFields","userinfo","operation","respObj","ncontrolCode","dispatch","listURL","post","all","then","response","type","payload","ReactInputFields","data","components","Period","get","ReactTables","tables","staticfiltertables","selectedFieldRecord","openModal","loading","openPortal","showFilter","ncontrolcode","catch","error","status","message","warn","selectRegistrationTemplate","template","masterData","nreactregtemplatecode","selectedTemplate","getDefaultTemplate","ComboData","sampleType","userInfo","url","value","SUBSAMPLE","str","nsampletypecode","nsubsampletypecode","SubSampleType","selectedSampleType","SubSample","String","DefaultTemplateList","selectedDefaultTemplate","item","DefaultSampleTypeList","selectedSampleTypeList","getRegistrationTemplate","selectedDefaultSampleType","label","ndefaulttemplatecode","searchedData","undefined","realSampleTypes","realSampleType","map","index","push","getEditRegTemplate","editId","jsonData","jsondata","design","selectedRecord","templatename","sregtemplatename","ntransactionstatus","DRAFT","getJsonValue","PGjsonData","Array","isArray","JSONData","JSON","parse","getTableColumns","stablename","path","columnInfo","componentData","updateComponents","staicColumns","jstaticcolumns","dynamicColumns","jdynamiccolumns","multilingualColumns","jmultilingualcolumn","numericColumns","jnumericcolumns","primaryKeyName","sprimarykeyname","defaultColumn","comboData","filterColumns","displayname","slanguagetypecode","columnname","default","tablecolumnname","ismultilingual","column","displaymember","valuemember","componentcode","COMBO","FRONTENDSEARCHFILTER","BACKENDSEARCHFILTER","validComponents","isdefaultColumn","Object","keys","length","filterfields","customsearchfilter","kendoFilter","logic","filters","parentRadioValue","parentPath","oldParentData","split","hasOwnProperty","child","radioOptions","tags","id","text","tableColumn","optionalPayload","selectedComponentpath","join","getForeignTableData","parentcolumnlist","source","filtercolumn","foriegntablename","foriegntablePK","conditionstring","inputtype","isMultiLingual","newcomboData","comboData1","selectedRecord1","masterDataValue","getPreviewTemplate","columnList","childColumnList","comboComponents","withoutCombocomponent","mapOfFilterRegData","preview","screenName","importData","timeZoneService","actualService","filter","x","readonly","childcolumnlist","dateService","datecolumnlist","currentDate","siteService","schedulerMasterService","nformcode","SCHEDULERCONFIGURATION","timeZoneMap","timeZoneList","defaultTimeZone","stimezoneid","ntimezonecode","siteMap","siteList","schedulerMap","schedulerList","userSite","SchedulerSite","nsitecode","ScheduleMaster","componentrow","loadcurrentdate","CLINICALTYPE","Age","name","nperiodcode","Date","loadselecteddate","hidebeforedate","hideafterdate","val","radiodefaultvalue","i","PRODUCT","ProductCategory","nproductcatcode","ncategorybasedFlow","sampletypecategorybasedflow","YES","inputParam","Product","nproductcode","INSTRUMENT","InstrumentCategory","ninstrumentcatcode","Instrument","ninstrumentcode","MATERIAL","MaterialType","nmaterialtypecode","MaterialCategory","nmaterialcatcode","Material","nmaterialcode","dateComp","ageComp","age","PROJECTSAMPLETYPE","project","nprojectMasterCode","GOODSIN","PROTOCOL","STABILITY","getChildValues","inputParem","parentListWithReadonly","productCategory","product","mapOfRegFilterData","instrumentCategory","instrument","materialCategory","material","materialType","subsample","parentdata","parentsource","primarykeyField","returnObj","SubSamplecomboData","selectComponent","selectedMaster","addMaster","selectedControl","masterComboColumnFiled","masterDesign","masterextractedColumnList","masterfieldList","masterdataList","mastercomboComponents","masterwithoutCombocomponent","masterIndex","loadCustomSearchFilter","nameofdefaultcomp","ProductName","AgaramTree","ActiveKey","FocusKey","OpenNodes","Test","SelectedTest","selectedSpec","Component","selectedComponent","Specification","subSampleDataGridList","InstrumentName","MaterialName","MaterialCategoryName","ncategorybasedflow","y","indexTemplateMandatory","findIndex","z","templatemandatory","templateManRecord","ntestgroupspecrequired","validatePreview","rtn","info","formatMessage","showConfirmAlert","addMasterRecord","requestUrl","isFileupload","formData","append","stringify","inputData","classUrl","methodUrl","success","data1","table","component","DynamicMasterData","SelectedPatient","PatientList","ExternalOrder","newdata","item1","nquerybuildertablecode","masterEditObject","ndynamicmastercode","combodata","childComboList","parentList","loginProps","loadSubSample","nportalrequired","nneedsubsample","comboName","selectedRecordName","getChildValuesForMasterAdd","masterOperation","parseInt","getAddMasterCombo","urlArray","needService","ComboFieldData","objectValue","fetchIndex","foreignDataField","dataField","useService","currentTime","NO","masterprimaryKeyField","getDynamicMasterTempalte","masterdesignData","slideoutdesign","row","children","mandatory","props","masterchildColumnList","getDynamicMasterComboForAdd","getEditMasterCombo","mastertimeZoneList","masterdefaultTimeZone","getChildValuesForAddMaster","getChildComboMaster","filedName","obj","childIndex","ismutipleparent","tableDataField","parentMutipleTableDataField","foreignDisplayMember","childFieldToClear","forEach","viewExternalportalDetail","nexternalordercode","Map1","Map","Sample","newData","nexternalordersamplecode","set","values","isDynamicViewSlideOut","dynamicExternalSample","dynamicExternalTestChild","dynamicGridSelectedId","selectedDynamicViewControl","getEditMaster","componentName","valueMember","fieldName","controlType","controlName","input","fieldNamePK","dateField","selectedMaster1","languagetypeCode","comboValues","optionList","console","log"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport { initRequest } from './LoginAction';\r\nimport { sortData, constructOptionList, parentChildComboLoad, rearrangeDateFormat, ageCalculate, comboChild, validateEmail, getSameRecordFromTwoArrays, removeIndex, childSpecLoadCheck, constructjsonOptionList, constructjsonOptionDefault, rearrangeDateFormatforUI, childComboLoadForEdit } from '../components/CommonScript';\r\nimport { getcomponentdata, getValidComponent, replaceChildFromChildren } from '../components/droparea/helpers';\r\nimport { ReactComponents, SampleType, transactionStatus,formCode } from '../components/Enumeration';\r\nimport Axios from 'axios';\r\nimport { getTreeByProduct } from './RegistrationAction';\r\nimport { intl } from '../components/App';\r\n\r\nexport function getReactInputFields(userinfo, operation, respObj, ncontrolCode) {\r\n\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        // console.log(\"respObj:\", respObj);\r\n        const listURL = [];\r\n        listURL[0] = rsapi.post(\"dynamicpreregdesign/getReactComponents\", { userinfo })\r\n        listURL[1] = rsapi.post(\"dynamicpreregdesign/getReactInputFields\", { userinfo })\r\n        listURL[2] = rsapi.post(\"registrationsubtype/getPeriods\", { userinfo })\r\n        listURL[3] = rsapi.post(\"dynamicpreregdesign/getReactStaticFilterTables\", { userinfo })\r\n        Axios.all(listURL)\r\n            .then(response => {\r\n                respObj = respObj ? { ...respObj } : {}\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        ReactInputFields: response[1].data,\r\n                        ReactComponents: response[0].data.components,\r\n                        Period: constructOptionList(response[2].data, 'nperiodcode', 'speriodname').get(\"OptionList\"),\r\n                        ReactTables: constructOptionList(response[0].data.tables, 'nquerybuildertablecode', 'sdisplayname').get(\"OptionList\"),\r\n                        staticfiltertables: constructOptionList(response[3].data, 'nquerybuilderstaticfiltercode', 'displayname').get(\"OptionList\"),\r\n                        selectedFieldRecord: {},\r\n                        openModal: false,\r\n                        loading: false,\r\n                        openPortal: true,\r\n                        operation,\r\n                        showFilter: false,\r\n                        ncontrolcode: ncontrolCode,\r\n                        ...respObj\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function selectRegistrationTemplate(template, masterData, userinfo) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"dynamicpreregdesign/getRegistrationTemplateById\", {\r\n            nreactregtemplatecode: template.nreactregtemplatecode,\r\n            userinfo\r\n        })\r\n            .then(response => {\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: { masterData: { ...masterData, selectedTemplate: response.data }, loading: false }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getDefaultTemplate(ComboData, sampleType, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        // dispatch(initRequest(true));\r\n        // rsapi.post(\"dynamicpreregdesign/getDefaultTemplate\", {\r\n        //     nsampletypecode: sampleType.value,\r\n        //     userinfo: userInfo,\r\n        //     SubSample:false\r\n        // })\r\n        let url = [];\r\n        if (ComboData.value === SampleType.SUBSAMPLE) {\r\n            const str = rsapi.post(\"dynamicpreregdesign/getDefaultSampleType\", {\r\n                userinfo: userInfo,\r\n                nsampletypecode: sampleType.SampleType && sampleType.SampleType.value\r\n            })\r\n            url = [str];\r\n        } else {\r\n            const str = rsapi.post(\"dynamicpreregdesign/getDefaultTemplate\", {\r\n                nsubsampletypecode: sampleType.SubSampleType && sampleType.SubSampleType.value,\r\n                userinfo: userInfo,\r\n                nsampletypecode: sampleType.SampleType && sampleType.SampleType.value || masterData.selectedSampleType.nsampletypecode,\r\n                SubSample: String(sampleType.SampleType && sampleType.SampleType.value || masterData.selectedSampleType.nsampletypecode) === '-1' ? true : false\r\n\r\n            })\r\n            url = [str];\r\n        }\r\n        dispatch(initRequest(true));\r\n        Axios.all(url)\r\n            .then(response => {\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: ComboData.value === SampleType.SUBSAMPLE ? {\r\n                            ...masterData,\r\n                            DefaultTemplateList: response[0].data[\"DefaultTemplateList\"],\r\n                            selectedDefaultTemplate: response[0].data[\"selectedDefaultTemplate\"],\r\n                            selectedSampleType: sampleType.SampleType.item,\r\n                            DefaultSampleTypeList: response[0].data[\"SampleTypeList\"],\r\n                            selectedSampleTypeList: response[0].data[\"selectedSampleTypeList\"],\r\n                            // selectedSampleTypeList:sampleType.item,\r\n                        } : {\r\n                            ...masterData,\r\n                            DefaultTemplateList: response[0].data[\"DefaultTemplateList\"],\r\n                            selectedDefaultTemplate: response[0].data[\"selectedDefaultTemplate\"],\r\n                            selectedSampleTypeList: sampleType.SubSampleType && sampleType.SubSampleType.item,\r\n                            selectedSampleType: sampleType.SampleType && sampleType.SampleType.item || masterData.selectedSampleType,\r\n                        },\r\n                        // realSampleType: [{\r\n                        //     \"label\": \"IDS_SAMPLETYPE\",\r\n                        //     \"value\": sampleType.label,\r\n                        //     \"item\": sampleType\r\n                        // }],\r\n\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n// export function getDefaultSampleType(sampleType, userInfo, masterData,SampleTypeName,selectedSampleType) {\r\n//     return function (dispatch) {\r\n//     let url=[];\r\n//         if(sampleType.label===\"Sub Sample\"){\r\n//       const str=  rsapi.post(\"dynamicpreregdesign/getDefaultSampleType\", {\r\n//             userinfo: userInfo,\r\n//             nsampletypecode: sampleType.value\r\n//         })\r\n//         url=[str];\r\n//     }else{\r\n//         const str=  rsapi.post(\"dynamicpreregdesign/getDefaultTemplate\", {\r\n//             nsubsampletypecode: sampleType.value,\r\n//             userinfo: userInfo,SubSample:true,nsampletypecode:selectedSampleType.value\r\n//         })\r\n//         url=[str];\r\n//     }\r\n//     dispatch(initRequest(true));\r\n//     Axios.all(url)\r\n//          .then(response => {\r\n//                 dispatch({\r\n//                     type: DEFAULT_RETURN,\r\n//                     payload: { masterData: sampleType.label===\"Sub Sample\"?{ ...masterData, \r\n//                                             DefaultSampleTypeList :response[0].data[\"SampleTypeList\"],\r\n//                                             selectedSampleTypeList: response[0].data[\"selectedSampleTypeList\"],SampleTypeName,\r\n//                                             selectedSampleType:sampleType.item,\r\n//                                             DefaultTemplateList :response[0].data[\"DefaultTemplateList\"],\r\n//                                             selectedDefaultTemplate: response[0].data[\"selectedDefaultTemplate\"],\r\n//                                             //defaultTemplateOptions:[],selectedDefaultTemplate:[],DefaultTemplateList:[]\r\n//                                             }:{ ...masterData, \r\n//                                                 DefaultTemplateList :response[0].data[\"DefaultTemplateList\"],\r\n//                                                 selectedDefaultTemplate: response[0].data[\"selectedDefaultTemplate\"],\r\n//                                                 selectedSampleTypeList:sampleType.item,\r\n//                                                 }, \r\n\r\n//                                 loading: false }\r\n//                 })\r\n//             })\r\n//             .catch(error => {\r\n//                 dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n//                 if (error.response.status === 500) {\r\n//                     toast.error(error.message);\r\n//                 } else {\r\n//                     toast.warn(error.response.data);\r\n//                 }\r\n//             })\r\n//     }\r\n// }\r\n\r\n\r\nexport function getRegistrationTemplate(selectedSampleType, selectedDefaultTemplate, masterData, userinfo, selectedDefaultSampleType) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"dynamicpreregdesign/getDynamicPreRegDesign\", {\r\n            nsampletypecode: selectedSampleType.value,\r\n            SampleType: selectedSampleType.label,\r\n            ndefaulttemplatecode: selectedDefaultTemplate.value,\r\n            userinfo, SubSample: selectedSampleType.label === \"Sub Sample\" ? true : false,\r\n            nsubsampletypecode: selectedDefaultSampleType.value\r\n        })\r\n            .then(response => {\r\n                masterData = { ...masterData, ...response.data, searchedData: undefined,selectedDefaultTemplate:selectedDefaultTemplate.item }\r\n                sortData(masterData)\r\n                let realSampleTypes = [{\r\n                    \"label\": \"IDS_SAMPLETYPE\",\r\n                    \"value\": selectedSampleType.label,\r\n                    \"item\": selectedSampleType\r\n                },\r\n                // realDefaultTemplate: [\r\n                selectedSampleType.value === SampleType.SUBSAMPLE ? {\r\n                    \"label\": \"IDS_SUBSAMPLEBASEDSAMPLETYPE\",\r\n                    \"value\": selectedDefaultSampleType.label,\r\n                    \"item\": selectedDefaultSampleType\r\n                } : \"\", {\r\n                    \"label\": \"IDS_TEMPLATETYPE\",\r\n                    \"value\": selectedDefaultTemplate.label,\r\n                    \"item\": selectedDefaultTemplate\r\n                }]\r\n                let realSampleType = [];\r\n                realSampleTypes.map((item, index) => {\r\n                    if (item === \"\") {\r\n                        delete (realSampleTypes[index])\r\n                    } else {\r\n                        realSampleType.push(item)\r\n                    }\r\n                })\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        realSampleType,\r\n                        loading: false,\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getEditRegTemplate(masterData, userinfo, editId) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"dynamicpreregdesign/getRegistrationTemplateById\", {\r\n            nreactregtemplatecode: masterData.selectedTemplate.nreactregtemplatecode,\r\n            userinfo\r\n        })\r\n            .then(response => {\r\n                let jsonData = response.data.jsondata;\r\n                sortData(masterData)\r\n\r\n                const respObj = {\r\n                    masterData,\r\n                    ncontrolcode: editId,\r\n                    openPortal: true,\r\n                    loading: false,\r\n                    openModal: false,\r\n                    design: jsonData,\r\n                    selectedRecord: { templatename: response.data.sregtemplatename }\r\n                }\r\n                if (response.data.ntransactionstatus === transactionStatus.DRAFT) {\r\n                    // let jsonData = response.data.jsondata;\r\n                    // sortData(masterData)\r\n\r\n                    // const respObj = {\r\n                    //     masterData,\r\n                    //     ncontrolcode: editId,\r\n                    //     openPortal: true,\r\n                    //     loading: false,\r\n                    //     openModal: false,\r\n                    //     design: jsonData,\r\n                    //     selectedRecord: { templateName: response.data.sregtemplatename }\r\n                    // }                \r\n                    dispatch(getReactInputFields(userinfo, \"update\", respObj))\r\n                }\r\n                else {\r\n                    dispatch(getReactInputFields(userinfo, \"viewdesign\", respObj))\r\n                    // dispatch({ type: DEFAULT_RETURN, payload: { loading: false, masterStatus: \"IDS_SELECTDRAFTRECORD\" } })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getJsonValue(PGjsonData) {\r\n\r\n    if (Array.isArray(PGjsonData)) {\r\n        let JSONData = [];\r\n        PGjsonData.map(data => {\r\n            return JSONData.push(JSON.parse(data.jsondata))\r\n        })\r\n        return JSONData;\r\n    } else {\r\n        return JSON.parse(PGjsonData);\r\n    }\r\n\r\n}\r\n\r\nexport function getTableColumns(design, selectedFieldRecord, stablename,\r\n    userinfo, path, columnInfo, componentData, updateComponents, showFilter) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"dynamicpreregdesign/getTableColumns\", { \"nquerybuildertablecode\": stablename || 0, userinfo })\r\n            .then(response => {\r\n                columnInfo = columnInfo || {}\r\n                const staicColumns = response.data.jstaticcolumns || []\r\n                const dynamicColumns = response.data.jdynamiccolumns || []\r\n                const multilingualColumns = response.data.jmultilingualcolumn || []\r\n                const numericColumns = response.data.jnumericcolumns || []\r\n                const primaryKeyName = response.data.sprimarykeyname\r\n                columnInfo = {\r\n                    ...columnInfo,\r\n                    [stablename]: {\r\n                        staicColumns,\r\n                        dynamicColumns,\r\n                        multilingualColumns,\r\n                        numericColumns,\r\n                        primaryKeyName\r\n                    }\r\n                }\r\n                let defaultColumn = {};\r\n                let comboData = []\r\n                let filterColumns = [];\r\n               \r\n                //  let selectedComponentpath=componentData.selectedComponentpath\r\n                staicColumns.map(item => {\r\n                    comboData.push({\r\n                        label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                        value: item.columnname,\r\n                        type: \"static\",\r\n                        item\r\n                    })\r\n                    if (item.default) {\r\n                        defaultColumn = {\r\n                            label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                            value: item.columnname,\r\n                            type: \"static\",\r\n                            item\r\n                        }\r\n                    }\r\n                })\r\n                dynamicColumns.map(item => {\r\n                    comboData.push({\r\n                        label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                        value: item.columnname,\r\n                        type: \"dynamic\",\r\n                        item\r\n                    })\r\n                    if (item.default) {\r\n                        defaultColumn = {\r\n                            label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                            value: item.columnname,\r\n                            type: \"dynamic\",\r\n                            item\r\n                        }\r\n                    }\r\n                })\r\n                multilingualColumns.map(item => {\r\n                    comboData.push({\r\n                        label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                        value: item.columnname,\r\n                        type: \"static\",\r\n                        item\r\n                    })\r\n                    if (item.default) {\r\n                        defaultColumn = {\r\n                            label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                            value: item.columnname,\r\n                            type: \"static\",\r\n                            item\r\n                        }\r\n                    }\r\n                })\r\n                filterColumns = [...comboData];\r\n                numericColumns.map(item => {\r\n                    filterColumns.push({\r\n                        label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                        value: item.tablecolumnname,\r\n                        type: \"numeric\",\r\n                        item\r\n                    })\r\n                })\r\n                if (defaultColumn.item && defaultColumn.item.ismultilingual) {\r\n                    selectedFieldRecord['isMultiLingual'] = true;\r\n                }\r\n                if (updateComponents) {\r\n                    componentData = componentData || {}\r\n                    selectedFieldRecord = { ...selectedFieldRecord, column: defaultColumn, displaymember: defaultColumn.value, valuemember: primaryKeyName };\r\n                    design = replaceChildFromChildren(design, path, selectedFieldRecord)\r\n                    if (selectedFieldRecord.componentcode !== ReactComponents.COMBO\r\n                        && selectedFieldRecord.componentcode !== ReactComponents.FRONTENDSEARCHFILTER\r\n                        && selectedFieldRecord.componentcode !== ReactComponents.BACKENDSEARCHFILTER) {\r\n                        let validComponents = getValidComponent(selectedFieldRecord, componentData.components, columnInfo);\r\n                        componentData = { ...componentData, validComponents }\r\n                    }\r\n                } else if (componentData === undefined || componentData.components === undefined) {\r\n                    componentData = componentData || {}\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER\r\n                        || selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                         let  isdefaultColumn= Object.keys(defaultColumn).length>0 ? true : false;  \r\n                        selectedFieldRecord = { ...selectedFieldRecord, filterfields:isdefaultColumn ? [{ type: defaultColumn.type, ...defaultColumn.item }] :[], customsearchfilter:isdefaultColumn?  [defaultColumn] : undefined, displaymember: defaultColumn.value, valuemember: primaryKeyName,kendoFilter:{\r\n                            logic: \"and\",\r\n                            filters: []\r\n                        }};\r\n                    } else {\r\n                        selectedFieldRecord = { ...selectedFieldRecord, column: defaultColumn, displaymember: defaultColumn.value, valuemember: primaryKeyName };\r\n                    }\r\n\r\n                    design = replaceChildFromChildren(design, path, selectedFieldRecord)\r\n\r\n                    if (selectedFieldRecord.componentcode !== ReactComponents.COMBO\r\n                        && selectedFieldRecord.componentcode !== ReactComponents.FRONTENDSEARCHFILTER\r\n                        && selectedFieldRecord.componentcode !== ReactComponents.BACKENDSEARCHFILTER) {\r\n                        let validComponents = getValidComponent(selectedFieldRecord, componentData.components, columnInfo);\r\n                        componentData = { ...componentData, validComponents }\r\n                    }\r\n                } else {\r\n                    let validComponents = getValidComponent(selectedFieldRecord, componentData.components, columnInfo);\r\n                    let parentRadioValue = []\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER || selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                        if (selectedFieldRecord.parentPath) {\r\n                            let oldParentData = getcomponentdata(design, selectedFieldRecord.parentPath.split(\"-\"))\r\n                            if (oldParentData.hasOwnProperty('child')) {\r\n                                oldParentData.child.map(item => {\r\n                                    if (item.label === selectedFieldRecord.label) {\r\n                                        parentRadioValue = oldParentData.radioOptions.tags.map(item => {\r\n                                            return { value: item.id, label: item.text, item }\r\n                                        })\r\n                                    }\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                    componentData = { ...componentData, validComponents, parentRadioValue }\r\n                }\r\n\r\n                \r\n                columnInfo = {\r\n                    ...columnInfo,\r\n                    [stablename]: { ...columnInfo[stablename], tableColumn: comboData, filterColumns }\r\n                }\r\n                let optionalPayload = {\r\n                    selectedComponentpath: Array.isArray(path) ? path.join(\"-\") : undefined,\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        design,\r\n                        // selectedComponentpath,\r\n                        selectedFieldRecord,\r\n                        ...optionalPayload,\r\n                        tableColumn: comboData,\r\n                        filterColumns,\r\n                        columnInfo,\r\n                        primaryKeyName,\r\n                        selectedComponentpath: componentData.path,\r\n                        ...componentData,\r\n                        showFilter: showFilter,\r\n                        \r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getForeignTableData(design, selectedFieldRecord, stablename, userinfo, path, columnInfo, componentData, updateComponents) {\r\n    return function (dispatch) {\r\n        let parentcolumnlist = [{\r\n            source: selectedFieldRecord.filtercolumn.item.foriegntablename,\r\n            valuemember: selectedFieldRecord.filtercolumn.item.foriegntablePK,\r\n            displaymember: selectedFieldRecord.filtercolumn.item.columnname,\r\n            conditionstring: selectedFieldRecord.filtercolumn.item.conditionstring,\r\n            label: \"filterData\",\r\n            inputtype: \"combo\",\r\n            isMultiLingual: selectedFieldRecord.filtercolumn.item.ismultilingual\r\n        }]\r\n        rsapi.post(\"dynamicpreregdesign/getComboValues\", { parentcolumnlist, userinfo })\r\n            .then(response => {\r\n                let comboData = [];\r\n                let selectedRecord = {};\r\n                const newcomboData = parentChildComboLoad(parentcolumnlist, response.data,\r\n                    selectedRecord, [], [], undefined, userinfo.slanguagetypecode, userinfo)\r\n                // sortData(masterData)\r\n\r\n                const comboData1 = newcomboData.comboData\r\n                const selectedRecord1 = newcomboData.selectedRecord\r\n                if (updateComponents) {\r\n                    componentData = componentData || {}\r\n                    // selectedFieldRecord = { ...selectedFieldRecord };\r\n                    design = replaceChildFromChildren(design, path, selectedFieldRecord)\r\n                    if (selectedFieldRecord.componentcode !== ReactComponents.COMBO) {\r\n                        let validComponents = getValidComponent(selectedFieldRecord, componentData.components, columnInfo);\r\n                        componentData = { ...componentData, validComponents }\r\n                    }\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        design,\r\n                        selectedFieldRecord,\r\n                        masterDataValue: comboData,\r\n                        columnInfo,\r\n                        ...componentData,\r\n                        ...comboData1\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getPreviewTemplate(masterData, userinfo,\r\n    editId, columnList, selectedRecord, childColumnList, comboComponents,\r\n    withoutCombocomponent, openPortal, openModal, mapOfFilterRegData, preview, operation, screenName,importData) {\r\n    return function (dispatch) {\r\n        if(mapOfFilterRegData[\"userInfo\"]===undefined){\r\n        mapOfFilterRegData[\"userInfo\"]=userinfo;\r\n        }\r\n        dispatch(initRequest(true));\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\r\n            parentcolumnlist: columnList ? columnList.filter(x => (x.inputtype !== 'backendsearchfilter' && x.inputtype !== 'frontendsearchfilter') && (x.readonly !== true)) : [],\r\n            childcolumnlist: childColumnList ? childColumnList : [],\r\n            userinfo\r\n        })\r\n        const dateService = rsapi.post(\"dynamicpreregdesign/dateValidation\", {\r\n            datecolumnlist: withoutCombocomponent.filter(x => x.inputtype === \"date\"),\r\n            userinfo\r\n        })\r\n\r\n        const currentDate = rsapi.post(\"timezone/getLocalTimeByZone\", {\r\n            userinfo\r\n        })\r\n        let siteService={};\r\n        let schedulerMasterService={};\r\n        if(userinfo.nformcode===formCode.SCHEDULERCONFIGURATION){\r\n             siteService = rsapi.post(\"schedulerconfiguration/getSiteByUser\", {\r\n                userinfo\r\n            })\r\n\r\n            schedulerMasterService = rsapi.post(\"schedulerconfiguration/getSchedulerMaster\", {\r\n                userinfo\r\n            })\r\n        }\r\n        \r\n        Axios.all([timeZoneService, actualService, dateService, currentDate,siteService,schedulerMasterService])\r\n            .then(response => {\r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: userinfo.stimezoneid, value: userinfo.ntimezonecode }\r\n                const newcomboData = parentChildComboLoad(columnList.filter(x => (x.inputtype !== 'backendsearchfilter' && x.inputtype !== 'frontendsearchfilter') && (x.readonly !== true)), response[1].data, selectedRecord,\r\n                    childColumnList, withoutCombocomponent, undefined, userinfo.slanguagetypecode, userinfo)\r\n                // sortData(masterData)\r\n                let siteMap=[];\r\n                let siteList=[];\r\n                let schedulerMap=[];\r\n                let schedulerList=[];\r\n                const comboData1 = newcomboData.comboData\r\n                let selectedRecord1 = newcomboData.selectedRecord\r\n\r\n                if(userinfo.nformcode===formCode.SCHEDULERCONFIGURATION){\r\n                    siteMap = constructOptionList(response[4].data.userSite || [], \"nsitecode\", \"ssitename\", undefined, undefined, true);\r\n                     siteList = siteMap.get(\"OptionList\");\r\n\r\n\r\n                    let SchedulerSite= siteList.filter(item=>item.value===userinfo.nsitecode);\r\n\r\n                    if(SchedulerSite.length>0){\r\n                        selectedRecord1={...selectedRecord1,\"SchedulerSite\":SchedulerSite[0]}\r\n                    }\r\n                    schedulerMap = constructOptionList(response[5].data.ScheduleMaster || [], \"nschedulecode\", \"sschedulename\", undefined, undefined, true);\r\n                    schedulerList = schedulerMap.get(\"OptionList\");\r\n\r\n\r\n                }\r\n                withoutCombocomponent.map(componentrow => {\r\n                    if (componentrow.inputtype === \"date\") {\r\n                        //  if (componentrow.mandatory) {\r\n                        if (componentrow.loadcurrentdate) {\r\n                            selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? rearrangeDateFormat(userinfo, response[3].data) : \"\";\r\n                            if (masterData.selectedTemplate && masterData.selectedTemplate.nsampletypecode === SampleType.CLINICALTYPE) {\r\n                                const Age = withoutCombocomponent.filter(item =>\r\n                                    item.name === \"Age\");\r\n                                selectedRecord[Age[0].label] = ageCalculate(selectedRecord1[componentrow.label])\r\n                            }\r\n                            selectedRecord1[componentrow.label + \"value\"] = selectedRecord1[componentrow.label];\r\n                        } else if (componentrow.nperiodcode) {\r\n                            selectedRecord1[componentrow.label + \"value\"] = response[2].data[componentrow.label] ?\r\n                                new Date(response[2].data[componentrow.label][\"datevalue\"]) : null;\r\n                            if (componentrow.loadselecteddate) {\r\n                                selectedRecord1[componentrow.label] = response[2].data[componentrow.label] ?\r\n                                    new Date(response[2].data[componentrow.label][\"datevalue\"]) : null;\r\n                            }\r\n                            //    selectedRecord1[componentrow.label]=response[2].data[componentrow.label]?\r\n                            //    new Date(response[2].data[componentrow.label]):null;\r\n                        } else {\r\n                            selectedRecord1[componentrow.label + \"value\"] = new Date();\r\n                        }\r\n\r\n                        if (componentrow.hidebeforedate) {\r\n                            selectedRecord1[componentrow.label + \"min\"] = selectedRecord1[componentrow.label + \"value\"]\r\n                        }\r\n                        if (componentrow.hideafterdate) {\r\n                            selectedRecord1[componentrow.label + \"max\"] = selectedRecord1[componentrow.label + \"value\"]\r\n                        }\r\n\r\n                        // }else{\r\n                        //     selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? new Date() : \"\";\r\n                        // }\r\n                        // if (componentrow.timezone) {\r\n                        //     sampleRegistration[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\r\n                        //         { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\r\n                        //         defaulttimezone ? defaulttimezone : -1\r\n                        // }\r\n                    }\r\n                    else if (componentrow.inputtype === \"radio\"\r\n                        || componentrow.inputtype === \"checkbox\"\r\n                        || componentrow.inputtype === \"predefineddropdown\") {\r\n\r\n                        if (componentrow['radiodefaultvalue']) {\r\n                            if (componentrow.inputtype === \"checkbox\") {\r\n\r\n                                let val = ''\r\n                                componentrow.radiodefaultvalue &&\r\n                                    componentrow.radiodefaultvalue.length > 0 && componentrow.radiodefaultvalue.map((x, i) => {\r\n                                        val = val + (i === componentrow.radiodefaultvalue.length - 1 ? x.label : x.label + ',')\r\n                                    })\r\n\r\n                                selectedRecord1[componentrow.label] = val\r\n\r\n                            } else if (componentrow.inputtype === \"predefineddropdown\") {\r\n                                selectedRecord1[componentrow.label] = componentrow.radiodefaultvalue ?\r\n                                    componentrow.radiodefaultvalue : \"\";\r\n                            } else {\r\n                                selectedRecord1[componentrow.label] = componentrow.radiodefaultvalue ?\r\n                                    componentrow.radiodefaultvalue.label : \"\";\r\n                            }\r\n\r\n                        } else {\r\n                            if (componentrow.inputtype === \"radio\") {\r\n                                selectedRecord1[componentrow.label] = componentrow.radioOptions ?\r\n                                    componentrow.radioOptions.tags[0].text : \"\";\r\n                            }\r\n                        }\r\n\r\n                    }\r\n\r\n\r\n\r\n                })\r\n                //console.log(\"selectedRecord1 action1:\", selectedRecord1);\r\n                if (preview) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            timeZoneList,\r\n                            defaultTimeZone,\r\n                            masterData,\r\n                            ncontrolcode: editId,\r\n                            openModal,\r\n                            loading: false,\r\n                            comboData: comboData1,\r\n                            selectedRecord: selectedRecord1,\r\n                            comboComponents,\r\n                            withoutCombocomponent,\r\n                            openPortal,\r\n                            columnList,\r\n                            childColumnList,\r\n                            screenName,\r\n                            operation: \"preview\",\r\n                            importData,\r\n                            siteList,\r\n                            schedulerList\r\n\r\n                            // childOperation:true\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    if (mapOfFilterRegData.nsampletypecode === SampleType.PRODUCT) {\r\n                        const ProductCategory = comboComponents.filter(x => x.name === 'Product Category');\r\n                        if (ProductCategory.length > 0) {\r\n                            const nproductcatcode = selectedRecord1[ProductCategory[0].label] &&\r\n                                selectedRecord1[ProductCategory[0].label].value;\r\n                            let ncategorybasedFlow = selectedRecord1[ProductCategory[0].label]\r\n                                && selectedRecord1[ProductCategory[0].label]['item'] && selectedRecord1[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (mapOfFilterRegData.sampletypecategorybasedflow === transactionStatus.YES) {\r\n                                ncategorybasedFlow = transactionStatus.YES;\r\n                            }\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === transactionStatus.YES) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = nproductcatcode;\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName,\r\n                                        importData,\r\n                                        siteList,\r\n                                        schedulerList\r\n                                        // loadPreregister:true\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Product = comboComponents.filter(x => x.name === 'Product');\r\n                                    if (Product.length > 0) {\r\n                                        const nproductcode = selectedRecord1[Product[0].label]\r\n                                            && selectedRecord1[Product[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = nproductcode !== undefined ? nproductcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            importData\r\n                                            // loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        mapOfFilterRegData['nproductcode'] = -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = -1\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            importData\r\n                                            //loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                mapOfFilterRegData['nproductcode'] = -1;\r\n                                mapOfFilterRegData['nproductcatcode'] = -1\r\n                                const inputParam = {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName,\r\n                                    importData,\r\n                                    siteList,\r\n                                    schedulerList\r\n                                    //loadPreregister:true\r\n                                }\r\n                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                    selectedRecord1,\r\n                                    newcomboData.comboData, inputParam))\r\n                            }\r\n                        } else {\r\n                            mapOfFilterRegData['nproductcode'] = -1;\r\n                            mapOfFilterRegData['nproductcatcode'] = -1\r\n                            const inputParam = {\r\n                                timeZoneList,\r\n                                defaultTimeZone,\r\n                                masterData,\r\n                                ncontrolcode: editId,\r\n                                openModal,\r\n                                comboComponents,\r\n                                withoutCombocomponent,\r\n                                openPortal,\r\n                                columnList,\r\n                                childColumnList,\r\n                                operation,\r\n                                screenName,\r\n                                importData\r\n                                //loadPreregister:true\r\n                            }\r\n                            //console.log(\"selectedRecord1 action2:\", selectedRecord1);\r\n                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                selectedRecord1,\r\n                                newcomboData.comboData, inputParam))\r\n                        }\r\n                    } else if (mapOfFilterRegData.nsampletypecode === SampleType.INSTRUMENT) {\r\n                        const InstrumentCategory = comboComponents.filter(x => x.name === 'Instrument Category');\r\n                        if (InstrumentCategory.length > 0) {\r\n                            const ninstrumentcatcode = selectedRecord1[InstrumentCategory[0].label] &&\r\n                                selectedRecord1[InstrumentCategory[0].label].value\r\n                            let ncategorybasedFlow = selectedRecord1[InstrumentCategory[0].label]\r\n                                && selectedRecord1[InstrumentCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n\r\n                            if (mapOfFilterRegData.sampletypecategorybasedflow === transactionStatus.YES) {\r\n                                ncategorybasedFlow = transactionStatus.YES;\r\n                            }\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === transactionStatus.YES) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = ninstrumentcatcode\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName,\r\n                                        importData,siteList,\r\n                                        schedulerList\r\n                                        // loadPreregister:true\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Instrument = comboComponents.filter(x => x.name === 'Instrument');\r\n                                    if (Instrument.length > 0) {\r\n                                        const ninstrumentcode = selectedRecord1[Instrument[0].label]\r\n                                            && selectedRecord1[Instrument[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = ninstrumentcode !== undefined ? ninstrumentcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = ninstrumentcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            importData,\r\n                                            siteList,\r\n                                            schedulerList\r\n                                            //loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        mapOfFilterRegData['nproductcode'] = -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = -1\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            importData\r\n                                            //loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                mapOfFilterRegData['nproductcode'] = -1;\r\n                                mapOfFilterRegData['nproductcatcode'] = -1\r\n                                const inputParam = {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName,\r\n                                    importData,\r\n                                    siteList,\r\n                                    schedulerList\r\n                                    // loadPreregister:true\r\n                                }\r\n                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                    selectedRecord1,\r\n                                    newcomboData.comboData, inputParam))\r\n                            }\r\n                        } else {\r\n                            mapOfFilterRegData['nproductcode'] = -1;\r\n                            mapOfFilterRegData['nproductcatcode'] = -1\r\n                            const inputParam = {\r\n                                timeZoneList,\r\n                                defaultTimeZone,\r\n                                masterData,\r\n                                ncontrolcode: editId,\r\n                                openModal,\r\n                                comboComponents,\r\n                                withoutCombocomponent,\r\n                                openPortal,\r\n                                columnList,\r\n                                childColumnList,\r\n                                operation,\r\n                                screenName,\r\n                                importData,\r\n                                siteList,\r\n                                schedulerList\r\n                                // loadPreregister:true\r\n                            }\r\n                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                selectedRecord1,\r\n                                newcomboData.comboData, inputParam))\r\n                        }\r\n                    } else if (mapOfFilterRegData.nsampletypecode === SampleType.MATERIAL) {\r\n                        const MaterialType = comboComponents.filter(x => x.name === 'Material Type');\r\n                        if (MaterialType.length > 0) {\r\n                            const nmaterialtypecode = selectedRecord1[MaterialType[0].label] &&\r\n                                selectedRecord1[MaterialType[0].label].value\r\n                            if (nmaterialtypecode !== undefined) {\r\n                                const MaterialCategory = comboComponents.filter(x => x.name === 'Material Category');\r\n                                if (MaterialCategory.length > 0) {\r\n                                    const nmaterialcatcode = selectedRecord1[MaterialCategory[0].label] &&\r\n                                        selectedRecord1[MaterialCategory[0].label].value\r\n                                    let ncategorybasedFlow = selectedRecord1[MaterialCategory[0].label]\r\n                                        && selectedRecord1[MaterialCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n\r\n                                    if (mapOfFilterRegData.sampletypecategorybasedflow === transactionStatus.YES) {\r\n                                        ncategorybasedFlow = transactionStatus.YES;\r\n                                    }\r\n                                    if (ncategorybasedFlow !== undefined) {\r\n                                        if (ncategorybasedFlow === transactionStatus.YES) {\r\n                                            mapOfFilterRegData['nproductcode'] = -1;\r\n                                            mapOfFilterRegData['nproductcatcode'] = nmaterialcatcode\r\n                                            const inputParam = {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName,\r\n                                                importData\r\n                                                // loadPreregister:true\r\n                                            }\r\n                                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                selectedRecord1,\r\n                                                newcomboData.comboData, inputParam))\r\n                                        }\r\n                                        else {\r\n                                            const Material = comboComponents.filter(x => x.name === 'Material');\r\n                                            if (Material.length > 0) {\r\n                                                const nmaterialcode = selectedRecord1[Material[0].label]\r\n                                                    && selectedRecord1[Material[0].label].value;\r\n\r\n                                                mapOfFilterRegData['nproductcode'] = nmaterialcode !== undefined ? nmaterialcode : -1;\r\n                                                mapOfFilterRegData['nproductcatcode'] = nmaterialcatcode\r\n\r\n                                                const inputParam = {\r\n                                                    timeZoneList,\r\n                                                    defaultTimeZone,\r\n                                                    masterData,\r\n                                                    ncontrolcode: editId,\r\n                                                    openModal,\r\n                                                    comboComponents,\r\n                                                    withoutCombocomponent,\r\n                                                    openPortal,\r\n                                                    columnList,\r\n                                                    childColumnList,\r\n                                                    operation,\r\n                                                    screenName,\r\n                                                    importData\r\n                                                    // loadPreregister:true\r\n                                                }\r\n                                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                    selectedRecord1,\r\n                                                    newcomboData.comboData, inputParam))\r\n                                            } else {\r\n                                                mapOfFilterRegData['nproductcode'] = -1;\r\n                                                mapOfFilterRegData['nproductcatcode'] = -1\r\n                                                const inputParam = {\r\n                                                    timeZoneList,\r\n                                                    defaultTimeZone,\r\n                                                    masterData,\r\n                                                    ncontrolcode: editId,\r\n                                                    openModal,\r\n                                                    comboComponents,\r\n                                                    withoutCombocomponent,\r\n                                                    openPortal,\r\n                                                    columnList,\r\n                                                    childColumnList,\r\n                                                    operation,\r\n                                                    screenName,\r\n                                                    importData\r\n                                                    //loadPreregister:true\r\n                                                }\r\n                                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                    selectedRecord1,\r\n                                                    newcomboData.comboData, inputParam))\r\n                                            }\r\n                                        }\r\n\r\n                                    } else {\r\n                                        mapOfFilterRegData['nproductcode'] = -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = -1\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            importData\r\n                                            // loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    }\r\n                                } else {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = -1\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName,\r\n                                        importData\r\n                                        //loadPreregister:true\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n\r\n                            }\r\n\r\n                        } else {\r\n                            mapOfFilterRegData['nproductcode'] = -1;\r\n                            mapOfFilterRegData['nproductcatcode'] = -1\r\n                            const inputParam = {\r\n                                timeZoneList,\r\n                                defaultTimeZone,\r\n                                masterData,\r\n                                ncontrolcode: editId,\r\n                                openModal,\r\n                                comboComponents,\r\n                                withoutCombocomponent,\r\n                                openPortal,\r\n                                columnList,\r\n                                childColumnList,\r\n                                operation,\r\n                                screenName,\r\n                                importData\r\n                                // loadPreregister:true\r\n                            }\r\n                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                selectedRecord1,\r\n                                newcomboData.comboData, inputParam))\r\n                        }\r\n\r\n                    }\r\n                    else if (mapOfFilterRegData.nsampletypecode === SampleType.CLINICALTYPE) {\r\n                        const ProductCategory = comboComponents.filter(x => x.name === 'Product Category');\r\n                        const dateComp = withoutCombocomponent.filter(item => item.name === \"Date Of Birth\");\r\n                        if (dateComp[0].label !== undefined) {\r\n                            const ageComp = withoutCombocomponent.filter(item => item.name === \"Age\");\r\n                            const age = ageCalculate(selectedRecord1[dateComp[0].label]);\r\n                            selectedRecord1[ageComp[0].label] = age;\r\n                        }\r\n                        if (ProductCategory.length > 0) {\r\n                            const nproductcatcode = selectedRecord1[ProductCategory[0].label] ?\r\n                                selectedRecord1[ProductCategory[0].label].value : -1;\r\n                            let ncategorybasedFlow = selectedRecord1[ProductCategory[0].label]\r\n                                ? selectedRecord1[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow']\r\n                                : undefined;\r\n                            if (mapOfFilterRegData.sampletypecategorybasedflow === transactionStatus.YES) {\r\n                                ncategorybasedFlow = transactionStatus.YES;\r\n                            }\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === transactionStatus.YES) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName,\r\n                                        importData\r\n                                        // loadPreregister:true\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Product = comboComponents.filter(x => x.name === 'Product');\r\n                                    if (Product.length > 0) {\r\n                                        const nproductcode = selectedRecord1[Product[0].label]\r\n                                            && selectedRecord1[Product[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = nproductcode !== undefined ? nproductcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            importData\r\n                                            // loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        mapOfFilterRegData['nproductcode'] = -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = -1\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            importData\r\n                                            //loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                mapOfFilterRegData['nproductcode'] = -1;\r\n                                mapOfFilterRegData['nproductcatcode'] = -1\r\n                                const inputParam = {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName,\r\n                                    importData\r\n                                    //loadPreregister:true\r\n                                }\r\n                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                    selectedRecord1,\r\n                                    newcomboData.comboData, inputParam))\r\n                            }\r\n                        } else {\r\n                            mapOfFilterRegData['nproductcode'] = -1;\r\n                            mapOfFilterRegData['nproductcatcode'] = -1\r\n                            const inputParam = {\r\n                                timeZoneList,\r\n                                defaultTimeZone,\r\n                                masterData,\r\n                                ncontrolcode: editId,\r\n                                openModal,\r\n                                comboComponents,\r\n                                withoutCombocomponent,\r\n                                openPortal,\r\n                                columnList,\r\n                                childColumnList,\r\n                                operation,\r\n                                screenName,\r\n                                importData\r\n                                //loadPreregister:true\r\n                            }\r\n                            //console.log(\"selectedRecord1 action2:\", selectedRecord1);\r\n                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                selectedRecord1,\r\n                                newcomboData.comboData, inputParam))\r\n                        }\r\n                    }\r\n                    else if (mapOfFilterRegData.nsampletypecode === SampleType.PROJECTSAMPLETYPE) {\r\n                        const ProductCategory = comboComponents.filter(x => x.name === 'Product Category');\r\n                        const project = comboComponents.filter(x => x.name === 'Project Code');\r\n                        let nprojectMasterCode = -1;\r\n                        if (project && project.length > 0 && mapOfFilterRegData['nprojectSpecReqd'] == transactionStatus.YES) {\r\n                            nprojectMasterCode = selectedRecord1[project[0].label] &&\r\n                                selectedRecord1[project[0].label].value;\r\n                        }\r\n\r\n                        if (ProductCategory.length > 0) {\r\n                            const nproductcatcode = selectedRecord1[ProductCategory[0].label] &&\r\n                                selectedRecord1[ProductCategory[0].label].value;\r\n                            let ncategorybasedFlow = selectedRecord1[ProductCategory[0].label]\r\n                                && selectedRecord1[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (mapOfFilterRegData.sampletypecategorybasedflow === transactionStatus.YES) {\r\n                                ncategorybasedFlow = transactionStatus.YES;\r\n                            }\r\n\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === 3) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = nproductcatcode;\r\n                                    mapOfFilterRegData['nprojectmastercode'] = nprojectMasterCode || -1;\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName,\r\n                                        importData\r\n                                        // loadPreregister:true\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Product = comboComponents.filter(x => x.name === 'Product');\r\n                                    if (Product.length > 0) {\r\n                                        const nproductcode = selectedRecord1[Product[0].label]\r\n                                            && selectedRecord1[Product[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = nproductcode !== undefined ? nproductcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = nproductcatcode;\r\n                                        mapOfFilterRegData['nprojectmastercode'] = nprojectMasterCode || -1;\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            importData\r\n                                            // loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        mapOfFilterRegData['nproductcode'] = -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = -1;\r\n                                        mapOfFilterRegData['nprojectmastercode'] = nprojectMasterCode || -1;\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            importData\r\n                                            //loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                mapOfFilterRegData['nproductcode'] = -1;\r\n                                mapOfFilterRegData['nproductcatcode'] = -1;\r\n                                mapOfFilterRegData['nprojectmastercode'] = nprojectMasterCode || -1;\r\n                                const inputParam = {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName,\r\n                                    importData\r\n                                    //loadPreregister:true\r\n                                }\r\n                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                    selectedRecord1,\r\n                                    newcomboData.comboData, inputParam))\r\n                            }\r\n                        }\r\n                        else {\r\n                            mapOfFilterRegData['nproductcode'] = -1;\r\n                            mapOfFilterRegData['nproductcatcode'] = -1;\r\n                            mapOfFilterRegData['nprojectmastercode'] = nprojectMasterCode || -1;\r\n                            const inputParam = {\r\n                                timeZoneList,\r\n                                defaultTimeZone,\r\n                                masterData,\r\n                                ncontrolcode: editId,\r\n                                openModal,\r\n                                comboComponents,\r\n                                withoutCombocomponent,\r\n                                openPortal,\r\n                                columnList,\r\n                                childColumnList,\r\n                                operation,\r\n                                screenName,\r\n                                importData\r\n                                //loadPreregister:true\r\n                            }\r\n                            //console.log(\"selectedRecord1 action2:\", selectedRecord1);\r\n                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                selectedRecord1,\r\n                                newcomboData.comboData, inputParam))\r\n                        }\r\n                    }else if(mapOfFilterRegData.nsampletypecode === SampleType.GOODSIN){\r\n\r\n                        \r\n\r\n                        dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            timeZoneList,\r\n                            defaultTimeZone,\r\n                            masterData,\r\n                            ncontrolcode: editId,\r\n                            openModal,\r\n                            loading: false,\r\n                            comboData: comboData1,\r\n                            selectedRecord: selectedRecord1,\r\n                            comboComponents,\r\n                            withoutCombocomponent,\r\n                            openPortal,\r\n                            columnList,\r\n                            childColumnList,\r\n                            screenName,\r\n                            operation,\r\n                            importData\r\n\r\n                        }\r\n                        })\r\n                    //Added by sonia on 11th NOV 2024 for jira id:ALPD-5025    \r\n                    }else if(mapOfFilterRegData.nsampletypecode === SampleType.PROTOCOL){                         \r\n\r\n                        dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            timeZoneList,\r\n                            defaultTimeZone,\r\n                            masterData,\r\n                            ncontrolcode: editId,\r\n                            openModal,\r\n                            loading: false,\r\n                            comboData: comboData1,\r\n                            selectedRecord: selectedRecord1,\r\n                            comboComponents,\r\n                            withoutCombocomponent,\r\n                            openPortal,\r\n                            columnList,\r\n                            childColumnList,\r\n                            screenName,\r\n                            operation,\r\n                            importData\r\n\r\n                    }\r\n                        })\r\n                    }\r\n                    else if(mapOfFilterRegData.nsampletypecode === SampleType.STABILITY){   \r\n                        const ProductCategory = comboComponents.filter(x => x.name === 'Product Category');\r\n                        if (ProductCategory.length > 0) {\r\n                            const nproductcatcode = selectedRecord1[ProductCategory[0].label] &&\r\n                                selectedRecord1[ProductCategory[0].label].value;\r\n                            let ncategorybasedFlow = selectedRecord1[ProductCategory[0].label]\r\n                                && selectedRecord1[ProductCategory[0].label]['item'] && selectedRecord1[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (mapOfFilterRegData.sampletypecategorybasedflow === transactionStatus.YES) {\r\n                                ncategorybasedFlow = transactionStatus.YES;\r\n                            }\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === transactionStatus.YES) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = nproductcatcode;\r\n                                    mapOfFilterRegData['nsampletypecode']=SampleType.PRODUCT;\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName,\r\n                                        importData,\r\n                                        siteList,\r\n                                        schedulerList\r\n                                        // loadPreregister:true\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Product = comboComponents.filter(x => x.name === 'Product');\r\n                                    if (Product.length > 0) {\r\n                                        const nproductcode = selectedRecord1[Product[0].label]\r\n                                            && selectedRecord1[Product[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = nproductcode !== undefined ? nproductcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            importData\r\n                                            // loadPreregister:true\r\n                }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        mapOfFilterRegData['nproductcode'] = -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = -1\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            importData\r\n                                            //loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                mapOfFilterRegData['nproductcode'] = -1;\r\n                                mapOfFilterRegData['nproductcatcode'] = -1\r\n                                const inputParam = {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName,\r\n                                    importData,\r\n                                    siteList,\r\n                                    schedulerList\r\n                                    //loadPreregister:true\r\n                                }\r\n                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                    selectedRecord1,\r\n                                    newcomboData.comboData, inputParam))\r\n                            }\r\n                        } else {\r\n                            mapOfFilterRegData['nproductcode'] = -1;\r\n                            mapOfFilterRegData['nproductcatcode'] = -1\r\n                            const inputParam = {\r\n                                timeZoneList,\r\n                                defaultTimeZone,\r\n                                masterData,\r\n                                ncontrolcode: editId,\r\n                                openModal,\r\n                                comboComponents,\r\n                                withoutCombocomponent,\r\n                                openPortal,\r\n                                columnList,\r\n                                childColumnList,\r\n                                operation,\r\n                                screenName,\r\n                                importData\r\n                                //loadPreregister:true\r\n                            }\r\n                            //console.log(\"selectedRecord1 action2:\", selectedRecord1);\r\n                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                selectedRecord1,\r\n                                newcomboData.comboData, inputParam))\r\n                        }\r\n                    }\r\n\r\n\r\n                }\r\n            })\r\n            .catch(error => {\r\n                //console.log(\"error:\", error);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getChildValues(inputParem,\r\n    userinfo, selectedRecord, comboData, parentcolumnlist,\r\n    childcolumnlist, withoutCombocomponent, parentListWithReadonly,\r\n    productCategory, product, mapOfRegFilterData,\r\n    instrumentCategory, instrument, materialCategory,\r\n    material, materialType, subsample, project, comboComponents) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post('dynamicpreregdesign/getChildValues', {\r\n            child: inputParem.child,\r\n            parentdata: inputParem.item.jsondata,\r\n            parentsource: inputParem.source,\r\n            [inputParem.primarykeyField]: inputParem.value,\r\n            valuemember: inputParem.primarykeyField,\r\n            childcolumnlist,\r\n            userinfo,\r\n            parentcolumnlist,\r\n            isInstrumentScheduler:(userinfo.nformcode===formCode.SCHEDULERCONFIGURATION && mapOfRegFilterData.nsampletypecode===2 &&inputParem.primarykeyField==='ninstrumentcatcode' )\r\n            ?true:false,\r\n            nregionalsitecode:(userinfo.nformcode===formCode.SCHEDULERCONFIGURATION && mapOfRegFilterData.nsampletypecode===2&&inputParem.primarykeyField==='ninstrumentcatcode')?selectedRecord.SchedulerSite.value:-1\r\n           // dependedMemberValue:inputParem.parentDataValue\r\n        })\r\n            .then(response => {\r\n                let returnObj = { ...comboData, ...response.data }\r\n                // ALPD-3793 \r\n                if(mapOfRegFilterData == undefined){\r\n                 mapOfRegFilterData = {}\r\n                }\r\n                // ALPD-3673 VISHAKH\r\n                mapOfRegFilterData[\"userInfo\"] = userinfo; \r\n                returnObj = parentChildComboLoad(parentListWithReadonly, returnObj,\r\n                    selectedRecord, childcolumnlist,\r\n                    withoutCombocomponent, inputParem,\r\n                    userinfo.slanguagetypecode, userinfo, comboComponents)\r\n                selectedRecord = { ...selectedRecord, ...returnObj.selectedRecord }\r\n                if (subsample) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            SubSamplecomboData: { ...returnObj.comboData },\r\n                            selectComponent: selectedRecord,\r\n                            screenName: inputParem.screenName,\r\n                            selectedMaster: [],\r\n                            addMaster: false,\r\n                            selectedControl: [],\r\n                            masterComboColumnFiled: [],\r\n                            masterDesign: [],\r\n                            masterextractedColumnList: [],\r\n                            masterfieldList: [],\r\n                            masterdataList: [],\r\n                            mastercomboComponents: [],\r\n                            masterwithoutCombocomponent: [],\r\n                            masterIndex: undefined,\r\n                            loadCustomSearchFilter: false,\r\n                        }\r\n                    })\r\n                }\r\n                // else if (childSpec) {\r\n\r\n                //     if (mapOfRegFilterData.nsampletypecode === SampleType.PROJECTSAMPLETYPE && mapOfRegFilterData.nprojectSpecReqd === 3) {\r\n\r\n                //     }\r\n                //     else if (mapOfRegFilterData.nsampletypecode === SampleType.CLINICALTYPE) {\r\n                //         if (mapOfRegFilterData.childSpecBasedAddMaster\r\n                //             && mapOfRegFilterData.childSpecBasedAddMaster) {\r\n                //             if (mapOfRegFilterData.ProductCategory[0]\r\n                //                 && selectedRecord[mapOfRegFilterData.ProductCategory[0].label]===undefined) {\r\n\r\n                //                 selectedRecord[mapOfRegFilterData.ProductCategory[0].label]=returnObj[mapOfRegFilterData.ProductCategory[0].label]&&returnObj[mapOfRegFilterData.ProductCategory[0].label][0]\r\n\r\n                //             }\r\n                //             const label = mapOfRegFilterData.ProductCategory[0].label\r\n\r\n                //             let ncategorybasedflow = selectedRecord[label] &&\r\n                //                 selectedRecord[label]['item']['jsondata']['ncategorybasedflow'];\r\n\r\n                //             if (ncategorybasedflow === transactionStatus.YES) {\r\n                //                 mapOfRegFilterData['nproductcatcode'] = selectedRecord[label].value\r\n                //                 mapOfRegFilterData['nproductcode'] = -1\r\n                //                 dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\r\n                //             }\r\n\r\n                //         }\r\n                //         else if (mapOfRegFilterData.ProductCategory && mapOfRegFilterData.ProductCategory[0]\r\n                //             && selectedRecord[mapOfRegFilterData.ProductCategory[0].label]) {\r\n                //             const label = mapOfRegFilterData.ProductCategory[0].label\r\n\r\n                //             let ncategorybasedflow = selectedRecord[label] &&\r\n                //                 selectedRecord[label]['item']['jsondata']['ncategorybasedflow'];\r\n\r\n                //             if (ncategorybasedflow === transactionStatus.YES) {\r\n                //                 mapOfRegFilterData['nproductcatcode'] = selectedRecord[label].value\r\n                //                 mapOfRegFilterData['nproductcode'] = -1\r\n                //                 dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\r\n                //             }\r\n                //             else {\r\n                //                 if (mapOfRegFilterData.ProductCategory[0].child && mapOfRegFilterData.ProductCategory[0].child) {\r\n                //                     let pt = []\r\n                //                     mapOfRegFilterData.ProductCategory[0].child.map(x =>\r\n                //                         pt = comboComponents1.filter(y => y.label === x.label && y.name === 'Product')\r\n                //                     )\r\n                //                     if (pt.length > 0) {\r\n                //                         if (pt && pt[0]) {\r\n                //                             const pclabel = mapOfRegFilterData.ProductCategory[0].label\r\n                //                             const label = pt[0].label\r\n                //                             if (selectedRecord[pclabel] && selectedRecord[pclabel].value &&\r\n                //                                 selectedRecord[label] && selectedRecord[label].value) {\r\n                //                                 mapOfRegFilterData['nproductcatcode'] = selectedRecord[pclabel].value\r\n                //                                 mapOfRegFilterData['nproductcode'] = selectedRecord[label].value\r\n                //                                 dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\r\n                //                             }\r\n                //                         }\r\n                //                     }\r\n\r\n                //                 }\r\n\r\n                //             }\r\n                //         } else if (mapOfRegFilterData.childSpec && mapOfRegFilterData.childSpec) {\r\n                //             if (selectedRecord[inputParem.label] && selectedRecord[inputParem.label]) {\r\n                //                 const TemplateChild = parentcolumnlist && parentcolumnlist.filter(x => x.child && x.child.length > 0)\r\n                //                 if (TemplateChild && TemplateChild.length > 0) {\r\n                //                     let pc = {}\r\n                //                     TemplateChild.map(x => {\r\n                //                         x.child && x.child.map(y => {\r\n                //                             const data = comboComponents1.filter(x => x.label === y.label)\r\n                //                             if (data && data[0].templatemandatory) {\r\n                //                                 const name = data[0].name\r\n                //                                 if (name === \"Product Category\") {\r\n                //                                     pc = data[0]\r\n                //                                 }\r\n                //                             }\r\n                //                         })\r\n                //                     })\r\n\r\n                //                     if (pc && pc.label) {\r\n                //                         if (selectedRecord[pc.label]\r\n                //                             && selectedRecord[pc.label].value) {\r\n\r\n                //                             let ncategorybasedflow = selectedRecord[pc.label] &&\r\n                //                                 selectedRecord[pc.label]['item']['jsondata']['ncategorybasedflow'];\r\n\r\n                //                             if (ncategorybasedflow === transactionStatus.YES) {\r\n                //                                 mapOfRegFilterData['nproductcatcode'] = selectedRecord[pc.label].value\r\n                //                                 mapOfRegFilterData['nproductcode'] = -1\r\n                //                                 dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\r\n                //                             } else {\r\n                //                                 if (pc.child && pc.child > 0) {\r\n                //                                     let pt = []\r\n                //                                     pc.child.map(x =>\r\n                //                                         pt = comboComponents1.filter(y => y.label === x.label && y.name === 'Product')\r\n                //                                     )\r\n                //                                     if (pt.length > 0) {\r\n                //                                         if (selectedRecord[pt[0].label] && selectedRecord[pt[0].label].value) {\r\n                //                                             mapOfRegFilterData['nproductcatcode'] = selectedRecord[pc.label].value\r\n                //                                             mapOfRegFilterData['nproductcode'] = selectedRecord[pt[0].label].value\r\n                //                                             dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\r\n                //                                         }\r\n                //                                     }\r\n                //                                 }\r\n\r\n                //                             }\r\n\r\n                //                         }\r\n                //                     }\r\n                //                 } else {\r\n                //                     selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                //                     selectedRecord[\"sversion\"] = \"\"\r\n                //                     dispatch({\r\n                //                         type: DEFAULT_RETURN,\r\n                //                         payload: {\r\n                //                             loading: false,\r\n                //                             comboData: { ...returnObj.comboData },\r\n                //                             selectedRecord,\r\n                //                             AgaramTree: [],\r\n                //                             ActiveKey: [],\r\n                //                             FocusKey: [],\r\n                //                             OpenNodes: [],\r\n                //                             Test: [],\r\n                //                             SelectedTest: [],\r\n                //                             selectedSpec: {},\r\n                //                             Component: [],\r\n                //                             selectComponent: {},\r\n                //                             selectedComponent: {},\r\n                //                             Specification: [],\r\n                //                             selectedMaster: [],\r\n                //                             subSampleDataGridList: []\r\n                //                         }\r\n                //                     })\r\n                //                 }\r\n                //             } else {\r\n                //                 selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                //                 selectedRecord[\"sversion\"] = \"\"\r\n                //                 dispatch({\r\n                //                     type: DEFAULT_RETURN,\r\n                //                     payload: {\r\n                //                         loading: false,\r\n                //                         comboData: { ...returnObj.comboData },\r\n                //                         selectedRecord,\r\n                //                         AgaramTree: [],\r\n                //                         ActiveKey: [],\r\n                //                         FocusKey: [],\r\n                //                         OpenNodes: [],\r\n                //                         Test: [],\r\n                //                         SelectedTest: [],\r\n                //                         selectedSpec: {},\r\n                //                         Component: [],\r\n                //                         selectComponent: {},\r\n                //                         selectedComponent: {},\r\n                //                         Specification: [],\r\n                //                         selectedMaster: [],\r\n                //                         subSampleDataGridList: []\r\n                //                     }\r\n                //                 })\r\n                //             }\r\n\r\n\r\n                //         }\r\n                //         else {\r\n                //             selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                //             selectedRecord[\"sversion\"] = \"\"\r\n                //             dispatch({\r\n                //                 type: DEFAULT_RETURN,\r\n                //                 payload: {\r\n                //                     loading: false,\r\n                //                     comboData: { ...returnObj.comboData },\r\n                //                     selectedRecord,\r\n                //                     AgaramTree: [],\r\n                //                     ActiveKey: [],\r\n                //                     FocusKey: [],\r\n                //                     OpenNodes: [],\r\n                //                     Test: [],\r\n                //                     SelectedTest: [],\r\n                //                     selectedSpec: {},\r\n                //                     Component: [],\r\n                //                     selectComponent: {},\r\n                //                     selectedComponent: {},\r\n                //                     Specification: [],\r\n                //                     selectedMaster: [],\r\n                //                     subSampleDataGridList: []\r\n                //                 }\r\n                //             })\r\n                //         }\r\n                //     }\r\n                // }\r\n                else if (project) {\r\n                    //console.log(\"data:\", mapOfRegFilterData, selectedRecord );\r\n                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\r\n                }\r\n                else if (productCategory) {\r\n                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\r\n                }\r\n                else if (product) {\r\n                    if (selectedRecord[inputParem.nameofdefaultcomp === \"Product\" ? inputParem.label : inputParem.ProductName]) {\r\n                        mapOfRegFilterData[\"nproductcode\"] = selectedRecord[inputParem.nameofdefaultcomp === \"Product\" ? inputParem.label : inputParem.ProductName] ? selectedRecord[inputParem.nameofdefaultcomp === \"Product\" ? inputParem.label : inputParem.ProductName].value : -1\r\n                        dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                    } else {\r\n                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                        selectedRecord[\"sversion\"] = \"\"\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                AgaramTree: [],\r\n                                ActiveKey: [],\r\n                                FocusKey: [],\r\n                                OpenNodes: [],\r\n                                Test: [],\r\n                                SelectedTest: [],\r\n                                selectedSpec: {},\r\n                                Component: [],\r\n                                selectComponent: {},\r\n                                selectedComponent: {},\r\n                                Specification: [],\r\n                                selectedMaster: [],\r\n                                subSampleDataGridList: []\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n                else if (instrumentCategory) {\r\n                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                }\r\n                else if (materialCategory) {\r\n                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                }\r\n                else if (instrument) {\r\n                    if (selectedRecord[inputParem.nameofdefaultcomp === \"Instrument Name\" ? inputParem.label : inputParem.InstrumentName]) {\r\n                        mapOfRegFilterData[\"nproductcode\"] = selectedRecord[inputParem.nameofdefaultcomp === \"Instrument Name\" ?\r\n                            inputParem.label : inputParem.InstrumentName] ? selectedRecord[inputParem.nameofdefaultcomp === \"Instrument Name\" ? inputParem.label : inputParem.InstrumentName].value : -1\r\n                        dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                    } else {\r\n                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                        selectedRecord[\"sversion\"] = \"\"\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                AgaramTree: [],\r\n                                ActiveKey: [],\r\n                                FocusKey: [],\r\n                                OpenNodes: [],\r\n                                Test: [],\r\n                                SelectedTest: [],\r\n                                selectedSpec: {},\r\n                                Component: [],\r\n                                selectComponent: {},\r\n                                selectedComponent: {},\r\n                                Specification: [],\r\n                                selectedMaster: [],\r\n                                addMaster: false\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n                else if (material) {\r\n                    if (selectedRecord[inputParem.nameofdefaultcomp === \"Material\" ? inputParem.label : inputParem.MaterialName]) {\r\n                        mapOfRegFilterData[\"nproductcode\"] = selectedRecord[inputParem.nameofdefaultcomp === \"Material\" ?\r\n                            inputParem.label : inputParem.MaterialName] ? selectedRecord[inputParem.nameofdefaultcomp === \"Material\" ? inputParem.label : inputParem.MaterialName].value : -1\r\n                        dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                    } else {\r\n                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                        selectedRecord[\"sversion\"] = \"\"\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                AgaramTree: [],\r\n                                ActiveKey: [],\r\n                                FocusKey: [],\r\n                                OpenNodes: [],\r\n                                Test: [],\r\n                                SelectedTest: [],\r\n                                selectedSpec: {},\r\n                                Component: [],\r\n                                selectComponent: {},\r\n                                selectedComponent: {},\r\n                                Specification: [],\r\n                                selectedMaster: [],\r\n                                addMaster: false\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n                else if (materialType) {\r\n                    if (selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ? inputParem.MaterialCategoryName : inputParem.label]) {\r\n                        const productCategory = selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ?\r\n                            inputParem.MaterialCategoryName : inputParem.label] ? selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ?\r\n                                inputParem.MaterialCategoryName : inputParem.label] : undefined\r\n\r\n                        //  mapOfRegFilterData[\"nproductcatcode\"]\r\n                        if (productCategory !== undefined) {\r\n                            if (productCategory.item.ncategorybasedflow === 3||\r\n                               // ALPD-5474 added the condition by neeraj \r\n                                //Sample Registration and Schedular Configuration --> In spefic scenario spec is not loading.\r\n                                (productCategory.item.jsondata &&productCategory.item.jsondata.ncategorybasedflow === 3)) {\r\n                                mapOfRegFilterData[\"nproductcatcode\"] = productCategory.value\r\n                                mapOfRegFilterData[\"nproductcode\"] = -1\r\n                                dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                            } else {\r\n\r\n                                const product = selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ?\r\n                                    inputParem.MaterialName : inputParem.label] ? selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ?\r\n                                        inputParem.MaterialName : inputParem.label] : undefined\r\n                                if (product !== undefined) {\r\n                                    mapOfRegFilterData[\"nproductcatcode\"] = productCategory.value\r\n                                    mapOfRegFilterData[\"nproductcode\"] = product.value\r\n                                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                                } else {\r\n\r\n                                    const product = selectedRecord[inputParem.nameofdefaultcomp === \"MaterialType\" ?\r\n                                        inputParem.MaterialName : inputParem.label] ? selectedRecord[inputParem.nameofdefaultcomp === \"MaterialType\" ?\r\n                                            inputParem.MaterialName : inputParem.label] : undefined\r\n                                    if (product !== undefined) {\r\n                                        mapOfRegFilterData[\"nproductcatcode\"] = productCategory.value\r\n                                        mapOfRegFilterData[\"nproductcode\"] = product.value\r\n                                        dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                                    } else {\r\n                                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                                        selectedRecord[\"sversion\"] = \"\"\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                loading: false,\r\n                                                comboData: { ...returnObj.comboData },\r\n                                                selectedRecord,\r\n                                                AgaramTree: [],\r\n                                                ActiveKey: [],\r\n                                                FocusKey: [],\r\n                                                OpenNodes: [],\r\n                                                Test: [],\r\n                                                SelectedTest: [],\r\n                                                selectedSpec: {},\r\n                                                Component: [],\r\n                                                selectComponent: {},\r\n                                                selectedComponent: {},\r\n                                                Specification: [],\r\n                                                selectedMaster: [],\r\n                                                addMaster: false\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n                        } else {\r\n                            selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                            selectedRecord[\"sversion\"] = \"\"\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    loading: false,\r\n                                    comboData: { ...returnObj.comboData },\r\n                                    selectedRecord,\r\n                                    AgaramTree: [],\r\n                                    ActiveKey: [],\r\n                                    FocusKey: [],\r\n                                    OpenNodes: [],\r\n                                    Test: [],\r\n                                    SelectedTest: [],\r\n                                    selectedSpec: {},\r\n                                    Component: [],\r\n                                    selectComponent: {},\r\n                                    selectedComponent: {},\r\n                                    Specification: [],\r\n                                    selectedMaster: [],\r\n                                    addMaster: false\r\n                                }\r\n                            })\r\n                        }\r\n                    } else {\r\n                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                        selectedRecord[\"sversion\"] = \"\"\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                AgaramTree: [],\r\n                                ActiveKey: [],\r\n                                FocusKey: [],\r\n                                OpenNodes: [],\r\n                                Test: [],\r\n                                SelectedTest: [],\r\n                                selectedSpec: {},\r\n                                Component: [],\r\n                                selectComponent: {},\r\n                                selectedComponent: {},\r\n                                Specification: [],\r\n                                selectedMaster: [],\r\n                                addMaster: false\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n                else {\r\n\r\n                    let productCategory = false\r\n                    let map = {}\r\n                    if (userinfo.nformcode === 43) {\r\n                        if (mapOfRegFilterData.nsampletypecode === SampleType.CLINICALTYPE || mapOfRegFilterData.nsampletypecode === SampleType.PRODUCT ) {\r\n                            if (inputParem.child && inputParem.child.length > 0) {\r\n                                inputParem.child.map(y => {\r\n                                    const indexTemplateMandatory = parentcolumnlist.findIndex(z => z.label === y.label && z.templatemandatory && (z.name === 'Product Category' || z.name === 'Product'))\r\n                                    if (indexTemplateMandatory !== -1) {\r\n                                        const templateManRecord = parentcolumnlist[indexTemplateMandatory]\r\n                                        //  if (inputParem.nsampletypecode === SampleType.CLINICALTYPE) {\r\n                                        if (templateManRecord.name === 'Product Category') {\r\n                                            productCategory = true\r\n                                            if (selectedRecord[templateManRecord.label]) {\r\n                                                map = {\r\n                                                    nproductcatcode: selectedRecord[templateManRecord.label].value,\r\n                                                    nproductcode: map.nproductcode ||-1\r\n                                                }\r\n                                            } \r\n                                        }\r\n                                            else if (templateManRecord.name === 'Product') {\r\n                                                productCategory = true\r\n                                                if (selectedRecord[templateManRecord.label]) {\r\n                                                    map = {\r\n                                                        nproductcatcode: map.nproductcatcode || -1,\r\n                                                        nproductcode: selectedRecord[templateManRecord.label].value,\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                                else {\r\n                                                map = {\r\n                                                    nproductcatcode: -1,\r\n                                                    nproductcode: -1\r\n                                                }\r\n                                            }\r\n                                            //  }\r\n                                        \r\n\r\n                                    } else {\r\n                                        const indexTemplateMandatory = parentcolumnlist.findIndex(z => z.label === y.label)\r\n                                        if (indexTemplateMandatory !== -1) {\r\n                                            const templateManRecord = parentcolumnlist[indexTemplateMandatory]\r\n                                            if (templateManRecord.child && templateManRecord.child.length > 0) {\r\n                                                const val = childSpecLoadCheck(templateManRecord, childcolumnlist, productCategory, map, y.label, selectedRecord)\r\n                                                if (val.productCategory) {\r\n                                                    productCategory = val.productCategory\r\n                                                    map = { ...map, ...val.map }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n\r\n                                })\r\n                            }\r\n\r\n                            if (productCategory) {\r\n\t\t\t\t\t\t\t\t//ALPD-5678--Added by Vignesh R(10-04-2025)-->Sample Registration --> In Etica clinical type --> default spec is loaded.\r\n                                mapOfRegFilterData = { ...mapOfRegFilterData, nproductcatcode: map.nproductcatcode, nproductcode: map.nproductcode ,ntestgroupspecrequired:inputParem.ntestgroupspecrequired}\r\n                                dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData },inputParem));\r\n                            } else {\r\n                                dispatch({\r\n                                    type: DEFAULT_RETURN,\r\n                                    payload: {\r\n                                        loading: false,\r\n                                        comboData: { ...returnObj.comboData },\r\n                                        selectedRecord,\r\n                                        selectedMaster: [],\r\n                                        addMaster: false,\r\n                                        selectedControl: [],\r\n                                        masterComboColumnFiled: [],\r\n                                        masterDesign: [],\r\n                                        masterextractedColumnList: [],\r\n                                        masterfieldList: [],\r\n                                        masterdataList: [],\r\n                                        mastercomboComponents: [],\r\n                                        masterwithoutCombocomponent: [],\r\n                                        masterIndex: undefined,\r\n                                        screenName: inputParem.screenName,\r\n                                        loadCustomSearchFilter: false,\r\n                                       \r\n                                    }\r\n                                })\r\n                            }\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    loading: false,\r\n                                    comboData: { ...returnObj.comboData },\r\n                                    selectedRecord,\r\n                                    selectedMaster: [],\r\n                                    addMaster: false,\r\n                                    selectedControl: [],\r\n                                    masterComboColumnFiled: [],\r\n                                    masterDesign: [],\r\n                                    masterextractedColumnList: [],\r\n                                    masterfieldList: [],\r\n                                    masterdataList: [],\r\n                                    mastercomboComponents: [],\r\n                                    masterwithoutCombocomponent: [],\r\n                                    masterIndex: undefined,\r\n                                    screenName: inputParem.screenName,\r\n                                    loadCustomSearchFilter: false,\r\n                                  \r\n                                }\r\n                            })\r\n                        }\r\n\r\n                    } else {\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                selectedMaster: [],\r\n                                addMaster: false,\r\n                                selectedControl: [],\r\n                                masterComboColumnFiled: [],\r\n                                masterDesign: [],\r\n                                masterextractedColumnList: [],\r\n                                masterfieldList: [],\r\n                                masterdataList: [],\r\n                                mastercomboComponents: [],\r\n                                masterwithoutCombocomponent: [],\r\n                                masterIndex: undefined,\r\n                                screenName: inputParem.screenName,\r\n                                loadCustomSearchFilter: false,\r\n                               \r\n                            }\r\n                        })\r\n                    }\r\n\r\n\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function validatePreview(inputParam) {\r\n    return function (dispatch) {\r\n\r\n        rsapi.post(\"dynamicpreregdesign/validatePreview\", { ...inputParam })\r\n            .then(response => {\r\n                if (response.data.rtn === \"Success\") {\r\n                    toast.info(intl.formatMessage({\r\n                        id: \"IDS_SUCCESSFULLYVALIDATE\"\r\n                    }));\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                        }\r\n                    })\r\n                } else {\r\n                    toast.warn(response.data.rtn);\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false, showConfirmAlert: false } })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function addMasterRecord(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let requestUrl = '';\r\n        if (inputParam.isFileupload) {\r\n          const formData = inputParam.formData;\r\n          formData.append(\"userinfo\", JSON.stringify(inputParam.inputData.userinfo));\r\n          requestUrl = rsapi.post(inputParam.classUrl + \"/\" + inputParam.operation + inputParam.methodUrl, formData);\r\n        } else {\r\n          requestUrl = rsapi.post(inputParam.classUrl + \"/\" + inputParam.operation + inputParam.methodUrl, { ...inputParam.inputData });\r\n        }\r\n       return requestUrl\r\n            .then(response => {\r\n                if (response.status === 202) {\r\n                    //HttpStatus:Accepted\r\n                    //Use this block when u need to display any success message\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    toast.success(response.data);\r\n                }\r\n                else if (response.status === 208) {\r\n                    //HttpStatus:Accepted\r\n                    //208-Already Reported\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    toast.warn(response.data);\r\n                } else {\r\n                    let masterIndex = inputParam.masterIndex\r\n                    let data = []\r\n                    const data1 = sortData(response.data);\r\n                    if (inputParam.selectedControl[masterIndex].table.item.component === 'Dynamic') {\r\n                        data = constructOptionList(data1.DynamicMasterData, inputParam.selectedControl[masterIndex].valuemember, inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\")\r\n                    }\r\n                    else if (inputParam.selectedControl[masterIndex].table.item.nformcode === 137) {\r\n                        if (inputParam.selectedControl[masterIndex].inputtype === 'backendsearchfilter'\r\n                            || inputParam.selectedControl[masterIndex].inputtype === 'frontendsearchfilter') {\r\n                            //   data = constructOptionList(data1.PatientList, inputParam.selectedControl[masterIndex].valuemember, inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\")\r\n                            data = [{ label: data1.SelectedPatient[inputParam.selectedControl[masterIndex].displaymember], value: data1.SelectedPatient[inputParam.selectedControl[masterIndex].valuemember], item: data1.SelectedPatient }]\r\n                        } else {\r\n                            data = constructOptionList(data1.PatientList, inputParam.selectedControl[masterIndex].valuemember, inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\")\r\n                        }\r\n\r\n                    }\r\n                    else if (inputParam.selectedControl[masterIndex].table.item.nformcode === 43) {\r\n                        if (inputParam.selectedControl[masterIndex].inputtype === 'backendsearchfilter'\r\n                            || inputParam.selectedControl[masterIndex].inputtype === 'frontendsearchfilter') {\r\n                            //   data = constructOptionList(data1.PatientList, inputParam.selectedControl[masterIndex].valuemember, inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\")\r\n                            data = [{ label: data1.ExternalOrder[inputParam.selectedControl[masterIndex].displaymember], value: data1.ExternalOrder[inputParam.selectedControl[masterIndex].valuemember], item: data1.ExternalOrder }]\r\n                        } else {\r\n                            data = constructOptionList(data1.ExternalOrder, inputParam.selectedControl[masterIndex].valuemember, inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\")\r\n                        }\r\n                        \r\n                    }\r\n                    else {\r\n                        data = constructOptionList(data1, inputParam.selectedControl[masterIndex].valuemember, inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\")\r\n                    }\r\n\r\n                    const newdata = data.map((item1, index) => {\r\n                        item1 = { ...item1, item: { jsondata: { ...item1.item, jsondata: { ...item1.item } } } }\r\n                        return item1;\r\n                    })\r\n                    if (masterIndex === 0) {\r\n                        const selectedRecord = inputParam.selectedRecord || {}\r\n                        const selectedControl = inputParam.selectedControl || {}\r\n                        let comboData1 = {}\r\n                        if (inputParam.operation === 'create') {\r\n                            comboData1 = {\r\n                                ...newdata[0], item: {\r\n                                    ...newdata[0].item, \"pkey\": selectedControl[masterIndex].valuemember,\r\n                                    \"nquerybuildertablecode\": selectedControl[masterIndex].nquerybuildertablecode,\r\n                                    \"source\": selectedControl[masterIndex].source\r\n                                }\r\n                            }\r\n                        } else {\r\n                            const value = inputParam.selectedControl[masterIndex].table.item.component === 'Dynamic' ?\r\n                                inputParam.masterEditObject[masterIndex].item ? inputParam.masterEditObject[masterIndex].item.jsondata.ndynamicmastercode : inputParam.masterEditObject[masterIndex].ndynamicmastercode : inputParam.masterEditObject[masterIndex].value\r\n                            let combodata = []\r\n                            if (inputParam.selectedControl[masterIndex].table.item.component === 'Dynamic') {\r\n                                combodata = newdata.filter(x => x.item.jsondata.ndynamicmastercode === value)\r\n                            } else {\r\n                                combodata = newdata.filter(x => x.value === value)\r\n                            }\r\n\r\n\r\n                            comboData1 = {\r\n                                ...combodata[0], item: {\r\n                                    ...combodata[0].item, \"pkey\": selectedControl[masterIndex].valuemember,\r\n                                    \"nquerybuildertablecode\": selectedControl[masterIndex].nquerybuildertablecode,\r\n                                    \"source\": selectedControl[masterIndex].source\r\n                                }\r\n                            }\r\n                        }\r\n\r\n\r\n                        selectedRecord[selectedControl[masterIndex].label] = comboData1\r\n                        if (inputParam.selectedControl[masterIndex].table.item.nformcode === 137) {\r\n                            selectedRecord['spatientid'] = comboData1.item['jsondata']['spatientid']\r\n                        }\r\n                        if (inputParam.selectedControl[masterIndex].table.item.nformcode === 43) {\r\n                            selectedRecord['nexternalordercode'] = comboData1.item['nexternalordercode']\r\n                        }\r\n                        const comboData = inputParam.comboData\r\n                        comboData[selectedControl[masterIndex].label] = newdata\r\n\r\n                        if (selectedControl[masterIndex].child && selectedControl[masterIndex].child.length > 0) {\r\n                            const childComboList = getSameRecordFromTwoArrays(inputParam.comboComponents, selectedControl[masterIndex].child, \"label\")\r\n                            let childColumnList = {};\r\n                            childComboList.map(columnList => {\r\n                                const val = comboChild(inputParam.comboComponents, columnList, childColumnList, false);\r\n                                childColumnList = val.childColumnList\r\n                            })\r\n\r\n                            const parentList = getSameRecordFromTwoArrays(inputParam.withoutCombocomponent, selectedControl[masterIndex].child, \"label\")\r\n\r\n\r\n                            const inputParem = {\r\n                                child: selectedControl[masterIndex].child,\r\n                                source: selectedControl[masterIndex].source,\r\n                                primarykeyField: selectedControl[masterIndex].valuemember,\r\n                                value: comboData1.value,\r\n                                item: comboData1.item,\r\n                                screenName: inputParam.screenName,\r\n                                nsampletypecode: inputParam.nsampletypecode ? inputParam.nsampletypecode : -1,\r\n                                loginProps: inputParam.loginProps,\r\n\t\t\t\t\t\t\t\t//ALPD-5678--Added by Vignesh R(10-04-2025)-->Sample Registration --> In Etica clinical type --> default spec is loaded.\r\n                                ntestgroupspecrequired:inputParam.ntestgroupspecrequired\r\n                            }\r\n\r\n                            \r\n                            if (inputParam.loadSubSample) {\r\n                                dispatch(getChildValues(inputParem,\r\n                                    inputParam.inputData.userinfo, selectedRecord, comboData,\r\n                                    childComboList, childColumnList,\r\n                                    inputParam.withoutCombocomponent,\r\n                                    [...childComboList, ...parentList], false, false, {},\r\n                                    false, false, false,\r\n                                    false, false, true, false))\r\n                            } else {\r\n                                dispatch(getChildValues(inputParem,\r\n                                    inputParam.inputData.userinfo, selectedRecord, comboData,\r\n                                    childComboList, childColumnList,\r\n                                    inputParam.withoutCombocomponent,\r\n                                    [...childComboList, ...parentList], false, false, inputParam.nsampletypecode === 5 ? { nportalrequired: inputParam.nportalrequired && inputParam.nportalrequired, nsampletypecode: inputParam.nsampletypecode, nneedsubsample: inputParam.nneedsubsample } : {},\r\n                                    false, false, false,\r\n                                    false, false, false, false, inputParam.comboComponents))\r\n                            }\r\n\r\n\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    loading: false,\r\n                                    addMaster: false,\r\n                                    [inputParam.comboName]: comboData,\r\n                                    selectedMaster: [],\r\n                                    [inputParam.selectedRecordName]: selectedRecord,\r\n                                    screenName: inputParam.screenName,\r\n                                    masterIndex: undefined,\r\n                                    mastercomboComponents: [],\r\n                                    masterwithoutCombocomponent: [],\r\n                                    masterComboColumnFiled: [],\r\n                                    masterextractedColumnList: [],\r\n                                    masterdataList: [],\r\n                                    masterDesign: [],\r\n                                    masterfieldList: [],\r\n                                    masterOperation: [],\r\n                                    masterEditObject: [],\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                    else {\r\n\r\n                        let selectedMaster = inputParam.selectedMaster || []\r\n                        let selectedControl = inputParam.selectedControl || []\r\n                        let comboData1 = {}\r\n\r\n                        if (inputParam.operation === 'create') {\r\n                            comboData1 = {\r\n                                ...newdata[0], item: {\r\n                                    ...newdata[0].item, \"pkey\": selectedControl[masterIndex].valuemember,\r\n                                    \"nquerybuildertablecode\": selectedControl[masterIndex].nquerybuildertablecode,\r\n                                    \"source\": selectedControl[masterIndex].source\r\n                                }\r\n                            }\r\n                        } else {\r\n                            const value = inputParam.selectedControl[masterIndex].table.item.component === 'Dynamic' ?\r\n                                inputParam.masterEditObject[masterIndex].item ? inputParam.masterEditObject[masterIndex].item.jsondata.ndynamicmastercode : inputParam.masterEditObject[masterIndex].ndynamicmastercode : inputParam.masterEditObject[masterIndex].value\r\n                            let combodata = []\r\n                            if (inputParam.selectedControl[masterIndex].table.item.component === 'Dynamic') {\r\n                                combodata = newdata.filter(x => x.item.jsondata.ndynamicmastercode === value)\r\n                            } else {\r\n                                combodata = newdata.filter(x => x.value === value)\r\n                            }\r\n\r\n                            comboData1 = {\r\n                                ...combodata[0], item: {\r\n                                    ...combodata[0].item, \"pkey\": selectedControl[masterIndex].valuemember,\r\n                                    \"nquerybuildertablecode\": selectedControl[masterIndex].nquerybuildertablecode,\r\n                                    \"source\": selectedControl[masterIndex].source\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        selectedMaster[masterIndex - 1][selectedControl[masterIndex].label] = comboData1\r\n\r\n                        // const comboData = inputParam.comboData\r\n                        // comboData[selectedControl[masterIndex].label] = newdata\r\n\r\n                        let masterdataList = inputParam.masterdataList || []\r\n                        masterdataList[masterIndex - 1] = { ...masterdataList[masterIndex - 1], [selectedControl[masterIndex].label]: newdata }\r\n\r\n                        if (selectedControl[masterIndex].child && selectedControl[masterIndex].child.length > 0) {\r\n                            const childComboList = getSameRecordFromTwoArrays(inputParam.mastercomboComponents[masterIndex - 1], selectedControl[masterIndex].child, \"label\")\r\n                            let childColumnList = {};\r\n                            childComboList.map(columnList => {\r\n                                const val = comboChild(inputParam.mastercomboComponents[masterIndex - 1], columnList, childColumnList, false);\r\n                                childColumnList = val.childColumnList\r\n                            })\r\n\r\n                            const parentList = getSameRecordFromTwoArrays(inputParam.masterwithoutCombocomponent[masterIndex - 1], selectedControl[masterIndex].child, \"label\")\r\n\r\n                            const inputParem = {\r\n                                child: selectedControl[masterIndex].child,\r\n                                source: selectedControl[masterIndex].source,\r\n                                primarykeyField: selectedControl[masterIndex].valuemember,\r\n                                value: comboData1.value,\r\n                                item: comboData1.item,\r\n                                screenName: inputParam.screenName\r\n                            }\r\n\r\n                            dispatch(getChildValuesForMasterAdd(inputParem,\r\n                                inputParam.inputData.userinfo, selectedMaster, inputParam.masterdataList,\r\n                                childComboList, childColumnList,\r\n                                inputParam.masterwithoutCombocomponent,\r\n                                [...childComboList, ...parentList], masterIndex, inputParam))\r\n\r\n\r\n\r\n                        } else {\r\n\r\n                            selectedControl = selectedControl && removeIndex(selectedControl, masterIndex)\r\n                            selectedMaster = selectedMaster && removeIndex(selectedMaster, masterIndex)\r\n\r\n                            const mastercomboComponents = inputParam.mastercomboComponents && removeIndex(inputParam.mastercomboComponents, masterIndex)\r\n                            const masterwithoutCombocomponent = inputParam.masterwithoutCombocomponent && removeIndex(inputParam.masterwithoutCombocomponent, masterIndex)\r\n                            const masterComboColumnFiled = inputParam.masterComboColumnFiled && removeIndex(inputParam.masterComboColumnFiled, masterIndex)\r\n                            const masterextractedColumnList = inputParam.masterextractedColumnList && removeIndex(inputParam.masterextractedColumnList, masterIndex)\r\n                            masterdataList = masterdataList && removeIndex(masterdataList, masterIndex)\r\n                            const masterDesign = inputParam.masterDesign && removeIndex(inputParam.masterDesign, masterIndex)\r\n                            const masterfieldList = inputParam.masterfieldList && removeIndex(inputParam.masterfieldList, masterIndex)\r\n                            const masterOperation = inputParam.masterOperation && removeIndex(inputParam.masterOperation, masterIndex)\r\n                            const masterEditObject = inputParam.masterEditObject && removeIndex(inputParam.masterEditObject, masterIndex)\r\n                            const screenName = selectedControl[masterIndex - 1].displayname[inputParam.userinfo.slanguagetypecode]\r\n                            masterIndex = (parseInt(masterIndex) - 1)\r\n\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    selectedControl,\r\n                                    selectedMaster,\r\n                                    mastercomboComponents,\r\n                                    masterwithoutCombocomponent,\r\n                                    masterComboColumnFiled,\r\n                                    masterextractedColumnList,\r\n                                    masterdataList,\r\n                                    masterDesign,\r\n                                    masterfieldList,\r\n                                    masterOperation,\r\n                                    masterEditObject,\r\n                                    loading: false,\r\n                                    // addMaster: false,\r\n                                    // masterdataList,\r\n                                    // selectedMaster: {},\r\n                                    //  selectedMaster: selectedMaster,\r\n\r\n                                    screenName,\r\n                                    masterIndex,\r\n\r\n                                }\r\n                            })\r\n                        }\r\n\r\n                    }\r\n\r\n\r\n                }\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n// export function removeIndex(data, removeIndex) {\r\n//     const data1 = [...data.splice(0, removeIndex), ...data.splice(removeIndex + 1)]\r\n//     return data1\r\n// }\r\n\r\nexport function getAddMasterCombo(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let urlArray = [];\r\n        let masterIndex = inputParam.masterIndex\r\n        inputParam.masterComboColumnFiled[masterIndex].map(item => {\r\n            if (item.needService === undefined) {\r\n                urlArray.push(rsapi.post(item.classUrl + \"/\" + item.methodUrl, { userinfo: inputParam.userinfo }));\r\n                item[\"fetchIndex\"] = urlArray.length - 1;\r\n            }\r\n        }\r\n        )\r\n        if (inputParam.selectedControl[masterIndex].table.item.nformcode === 137) {\r\n            urlArray.push(rsapi.post(\"timezone/getLocalTimeByZone\", { userinfo: inputParam.userinfo }));\r\n        }\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let ComboFieldData = [];\r\n                let masterdataList = inputParam.masterdataList;\r\n\r\n                inputParam.masterComboColumnFiled[masterIndex].map((item, index) => {\r\n                    if (item.needService === undefined) {\r\n\r\n                        ComboFieldData = constructOptionList(item.objectValue === null ? response[item.fetchIndex].data || [] : response[item.fetchIndex].data[item.objectValue],\r\n                            item.foreignDataField, item.dataField, undefined, undefined, undefined,);\r\n                        masterdataList[masterIndex][item.dataField] = ComboFieldData.get(\"OptionList\");\r\n                        //selectedMaster[masterIndex][item.dataField] = ComboFieldData.get(\"DefaultValue\");\r\n\r\n                    } else {\r\n                        if (item.child !== undefined) {\r\n                            masterdataList[masterIndex][item.dataField] = []\r\n                        } else if (item.useService !== undefined) {\r\n                            masterdataList[masterIndex][item.dataField] = masterdataList[masterIndex][inputParam.masterComboColumnFiled[masterIndex][item.useService].dataField]\r\n                        }\r\n\r\n                    }\r\n                });\r\n                let currentTime = ''\r\n                let selectedMaster = inputParam.selectedMaster || []\r\n                if (inputParam.selectedControl[masterIndex].table.item.nformcode === 137) {\r\n                    //const data=inputParam.masterComboColumnFiled.filter(x=>x.needService===undefined)\r\n                    currentTime = rearrangeDateFormat(inputParam.userinfo, response[urlArray.length - 1].data);\r\n                    selectedMaster[masterIndex][\"ddob\"] = rearrangeDateFormat(inputParam.userinfo, response[urlArray.length - 1].data);\r\n                    selectedMaster[masterIndex][\"sage\"] = ageCalculate(selectedMaster[\"ddob\"])\r\n                    selectedMaster[masterIndex][\"nneedcurrentaddress\"] = transactionStatus.NO;\r\n                    selectedMaster[masterIndex][\"today\"] = inputParam.userinfo;\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterIndex,\r\n                        selectedMaster,\r\n                        masterdataList,\r\n                        addMaster: true,\r\n                        loading: false,\r\n                        selectedControl: inputParam.selectedControl,\r\n                        masterfieldList: inputParam.masterfieldList,\r\n                        masterextractedColumnList: inputParam.masterextractedColumnList,\r\n                        masterprimaryKeyField: inputParam.masterprimaryKeyField,\r\n                        masterComboColumnFiled: inputParam.masterComboColumnFiled,\r\n                        screenName: inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode],\r\n                        mastercomboComponents: inputParam.mastercomboComponents,\r\n                        masterwithoutCombocomponent: inputParam.masterwithoutCombocomponent,\r\n                        masterDesign: inputParam.masterDesign,\r\n                        masterOperation: inputParam.masterOperation,\r\n                       \r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch(initRequest(false));\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getDynamicMasterTempalte(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const masterIndex = inputParam.masterIndex\r\n        rsapi.post(inputParam.selectedControl[masterIndex].table.item.classUrl + \"/getMasterDesign\",\r\n            { userinfo: { ...inputParam.userinfo, nformcode: inputParam.selectedControl[inputParam.masterIndex].table.item.nformcode } })\r\n            .then(response => {\r\n                const design = response.data\r\n                const masterwithoutCombocomponent = inputParam.masterwithoutCombocomponent || []\r\n                let data = inputParam.masterdesignData || []\r\n                const masterextractedColumnList = inputParam.masterextractedColumnList || []\r\n\r\n                //masterwithoutCombocomponent[masterIndex] = []\r\n                // masterextractedColumnList[masterIndex] = []\r\n                data[masterIndex] = []\r\n                design.slideoutdesign.map(row => {\r\n                    row.children.map(column => {\r\n                        column.children.map(component => {\r\n                            if (component.hasOwnProperty(\"children\")) {\r\n                                component.children.map(componentrow => {\r\n                                    if (componentrow.inputtype === \"combo\") {\r\n                                        data[masterIndex].push(componentrow)\r\n                                    } else {\r\n                                        masterwithoutCombocomponent[masterIndex].push(componentrow)\r\n                                    }\r\n                                    if (componentrow.mandatory === true) {\r\n                                        if (componentrow.inputtype === \"email\") {\r\n                                            masterextractedColumnList[masterIndex].push({\r\n                                                \"mandatory\": true, \"idsName\": componentrow.label,\r\n                                                \"dataField\": componentrow.label,\r\n                                                \"alertPreFix\": this.props.intl.formatMessage({ id: \"IDS_VALID\" }),\r\n                                                \"validateFunction\": validateEmail,\r\n                                                \"mandatoryLabel\": \"IDS_ENTER\",\r\n                                                \"controlType\": \"textbox\"\r\n                                            })\r\n                                        }\r\n                                        else {\r\n                                            masterextractedColumnList[masterIndex].push({\r\n                                                \"mandatory\": true,\r\n                                                \"idsName\": componentrow.label,\r\n                                                \"dataField\": componentrow.label,\r\n                                                \"mandatoryLabel\": componentrow.inputtype === \"combo\" ?\r\n                                                    \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                                \"controlType\": componentrow.inputtype === \"combo\" ?\r\n                                                    \"selectbox\" : \"textbox\"\r\n                                            })\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n                            else {\r\n                                component.inputtype === \"combo\" ?\r\n                                    data[masterIndex].push(component)\r\n                                    : masterwithoutCombocomponent[masterIndex].push(component)\r\n\r\n                                if (component.mandatory === true) {\r\n                                    if (component.inputtype === \"email\") {\r\n                                        masterextractedColumnList[masterIndex].push({\r\n                                            \"mandatory\": true, \"idsName\": component.label,\r\n                                            \"dataField\": component.label,\r\n                                            \"alertPreFix\": this.props.intl.formatMessage({ id: \"IDS_VALID\" }),\r\n                                            \"validateFunction\": validateEmail,\r\n                                            \"mandatoryLabel\": \"IDS_ENTER\",\r\n                                            \"controlType\": \"textbox\"\r\n                                        })\r\n                                    }\r\n                                    else {\r\n                                        masterextractedColumnList[masterIndex].push({\r\n                                            \"mandatory\": true,\r\n                                            \"idsName\": component.label,\r\n                                            \"dataField\": component.label,\r\n                                            \"mandatoryLabel\": component.inputtype === \"combo\" ?\r\n                                                \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                            \"controlType\": component.inputtype === \"combo\" ?\r\n                                                \"selectbox\" : \"textbox\"\r\n                                        })\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n                const comboComponents = inputParam.mastercomboComponents || []\r\n                comboComponents[masterIndex] = data[masterIndex];\r\n                let childColumnList = {};\r\n                data[masterIndex].map(columnList => {\r\n                    const val = comboChild(data[masterIndex], columnList, childColumnList, true);\r\n                    data[masterIndex] = val.data;\r\n                    childColumnList = val.childColumnList\r\n                })\r\n\r\n                const masterdesignData = inputParam.masterdesignData || []\r\n                masterdesignData[masterIndex] = [...data[masterIndex]]\r\n                const masterDesign = inputParam.masterDesign || []\r\n                masterDesign[masterIndex] = design\r\n                inputParam = {\r\n                    ...inputParam,\r\n                    masterchildColumnList: childColumnList,\r\n                    mastercomboComponents: comboComponents,\r\n                    masterextractedColumnList,\r\n                    masterwithoutCombocomponent,\r\n                    masterDesign,\r\n                    masterdesignData,\r\n                    masterOperation: inputParam.masterOperation\r\n                }\r\n\r\n\r\n                if (inputParam.masterOperation[masterIndex] === 'create') {\r\n\r\n                    dispatch(getDynamicMasterComboForAdd(inputParam, true))\r\n                } else {\r\n                    dispatch(getEditMasterCombo(inputParam))\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch(initRequest(false));\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getDynamicMasterComboForAdd(inputParam, preview) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const masterIndex = inputParam.masterIndex\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\r\n            parentcolumnlist: inputParam.masterdesignData[masterIndex],\r\n            childcolumnlist: inputParam.masterchildColumnList,\r\n            userinfo: inputParam.userinfo\r\n        })\r\n        const dateService = rsapi.post(\"dynamicpreregdesign/dateValidation\", {\r\n            datecolumnlist: inputParam.masterwithoutCombocomponent[masterIndex].filter(x => x.inputtype === \"date\"),\r\n            userinfo: inputParam.userinfo\r\n        })\r\n        let urlArray = [timeZoneService, actualService, dateService];\r\n\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: inputParam.userinfo.stimezoneid, value: inputParam.userinfo.ntimezonecode }\r\n                let selectedMaster = inputParam.selectedMaster || []\r\n                selectedMaster[masterIndex] = selectedMaster[masterIndex] && { ...selectedMaster[masterIndex] } || {}\r\n                const newcomboData = parentChildComboLoad(inputParam.masterdesignData[masterIndex], response[1].data, selectedMaster[masterIndex], inputParam.masterchildColumnList,\r\n                    inputParam.masterwithoutCombocomponent[masterIndex], undefined, inputParam.userinfo.slanguagetypecode, inputParam.userinfo)\r\n\r\n                const comboData1 = newcomboData.comboData\r\n                const selectedRecord1 = newcomboData.selectedRecord\r\n                inputParam.masterwithoutCombocomponent[masterIndex].map(componentrow => {\r\n                    if (componentrow.inputtype === 'date') {\r\n                        selectedRecord1[selectedRecord1.label] = selectedRecord1[selectedRecord1.label] && selectedRecord1[componentrow.label] !== '-' ?\r\n                            rearrangeDateFormat(inputParam.userinfo, selectedRecord1[componentrow.label]) : \"\"\r\n\r\n                        if (selectedRecord1.nperiodcode) {\r\n                            selectedRecord1[componentrow.label + \"value\"] = response[2].data[componentrow.label] ?\r\n                                new Date(response[2].data[componentrow.label][\"datevalue\"]) : null;\r\n                        } else {\r\n                            selectedRecord1[componentrow.label + \"value\"] = new Date();\r\n                        }\r\n\r\n                        if (componentrow.hidebeforedate) {\r\n                            selectedRecord1[componentrow.label + \"min\"] = selectedRecord1[componentrow.label + \"value\"]\r\n                        }\r\n                        if (componentrow.hideafterdate) {\r\n                            selectedRecord1[componentrow.label + \"max\"] = selectedRecord1[componentrow.label + \"value\"]\r\n                        }\r\n                    }\r\n                    else if (componentrow.inputtype === \"radio\"\r\n                        || componentrow.inputtype === \"checkbox\"\r\n                        || componentrow.inputtype === \"predefineddropdown\") {\r\n\r\n                        if (componentrow['radiodefaultvalue']) {\r\n                            if (componentrow.inputtype === \"checkbox\") {\r\n\r\n                                let val = ''\r\n                                componentrow.radiodefaultvalue &&\r\n                                    componentrow.radiodefaultvalue.length > 0 && componentrow.radiodefaultvalue.map((x, i) => {\r\n                                        val = val + (i === componentrow.radiodefaultvalue.length - 1 ? x.label : x.label + ',')\r\n                                    })\r\n\r\n                                selectedRecord1[componentrow.label] = val\r\n\r\n                            } else if (componentrow.inputtype === \"predefineddropdown\") {\r\n                                selectedRecord1[componentrow.label] = componentrow.radiodefaultvalue ?\r\n                                    componentrow.radiodefaultvalue : \"\";\r\n                            } else {\r\n                                selectedRecord1[componentrow.label] = componentrow.radiodefaultvalue ?\r\n                                    componentrow.radiodefaultvalue.label : \"\";\r\n                            }\r\n\r\n                        } else {\r\n                            if (componentrow.inputtype === \"radio\") {\r\n                                selectedRecord1[componentrow.label] = componentrow.radioOptions ?\r\n                                    componentrow.radioOptions.tags[0].text : \"\";\r\n                            }\r\n                        }\r\n\r\n                    }\r\n\r\n                })\r\n                //const masterchildColumnList=inputParam.masterchildColumnList || []\r\n                // masterchildColumnList[masterIndex] = comboData1\r\n                const masterdataList = inputParam.masterdataList || []\r\n                masterdataList[masterIndex] = comboData1\r\n                selectedMaster[masterIndex] = { ...selectedMaster[masterIndex], selectedRecord1 }\r\n                if (preview) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            ...inputParam,\r\n                            mastertimeZoneList: timeZoneList,\r\n                            masterdefaultTimeZone: defaultTimeZone,\r\n                            loading: false,\r\n                            addMaster: true,\r\n                            masterdataList,\r\n                            selectedMaster,\r\n                            mastercomboComponents: inputParam.mastercomboComponents,\r\n                            masterwithoutCombocomponent: inputParam.masterwithoutCombocomponent,\r\n                            masterdesignData: inputParam.masterdesignData,\r\n                            masterIndex,\r\n                            // masterchildColumnList: inputParam.masterchildColumnList,\r\n                            screenName: inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode],\r\n                            // operation: inputParam.masterOperation[masterIndex],\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                // console.log(\"error:\", error);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getChildValuesForAddMaster(inputParam,\r\n    userinfo, selectedMaster, comboData, parentcolumnlist,\r\n    childcolumnlist, withoutCombocomponent, parentListWithReadonly, masterIndex\r\n) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post('dynamicpreregdesign/getChildValues', {\r\n            child: inputParam.child,\r\n            parentdata: inputParam.item.jsondata,\r\n            parentsource: inputParam.source,\r\n            [inputParam.primarykeyField]: inputParam.value,\r\n            valuemember: inputParam.primarykeyField,\r\n            childcolumnlist,\r\n            userinfo,\r\n            parentcolumnlist\r\n        })\r\n            .then(response => {\r\n                let returnObj = { ...comboData[masterIndex], ...response.data }\r\n                returnObj = parentChildComboLoad(parentListWithReadonly, returnObj, selectedMaster[masterIndex], childcolumnlist, withoutCombocomponent[masterIndex], inputParam, userinfo.slanguagetypecode, userinfo)\r\n                selectedMaster[masterIndex] = { ...selectedMaster[masterIndex], ...returnObj.selectedRecord }\r\n                const masterdataList = comboData || []\r\n                masterdataList[masterIndex] = returnObj.comboData\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        masterdataList,\r\n                        selectedMaster\r\n                    }\r\n                })\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport function getChildComboMaster(selectedMaster, filedName,\r\n    item, selectedControl, masterComboColumnFiled, masterdataList, userInfo, masterIndex) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let urlArray = [];\r\n        const obj = masterComboColumnFiled[masterIndex][item.childIndex]\r\n        if(obj.ismutipleparent){\r\n            let inputData={\r\n                [item.foreignDataField]: selectedMaster[masterIndex][item.tableDataField], \r\n                [obj.parentMutipleTableDataField]: selectedMaster[masterIndex][obj.parentMutipleTableDataField], \r\n            }\r\n        urlArray.push(rsapi.post(obj.classUrl + \"/\" + obj.methodUrl, { ...inputData, userinfo: userInfo }))\r\n        }else{\r\n            urlArray.push(rsapi.post(obj.classUrl + \"/\" + obj.methodUrl, { [item.foreignDataField]: selectedMaster[masterIndex][item.tableDataField], userinfo: userInfo }))\r\n        }\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                selectedMaster[masterIndex][obj.dataField] = undefined\r\n                const ComboFieldData = constructOptionList(obj.objectValue === null ? response[0].data || [] : response[0].data[obj.objectValue], obj.foreignDataField,\r\n                    obj.foreignDisplayMember, undefined, undefined, undefined);\r\n                masterdataList[masterIndex][obj.dataField] = ComboFieldData.get(\"OptionList\");\r\n\r\n\r\n                if (item.childFieldToClear) {\r\n                    item.childFieldToClear.forEach(item1 => (\r\n\r\n                        selectedMaster[masterIndex] = {\r\n                            ...selectedMaster[masterIndex],\r\n                            [item1.label]: undefined,\r\n                            [item1.tablecolumnname]: undefined\r\n                        },\r\n                        masterdataList[masterIndex] = {\r\n                            ...masterdataList[masterIndex],\r\n                            [item1.label]: []\r\n                        }\r\n                    )\r\n                    );\r\n\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        selectedMaster,\r\n                        masterdataList,\r\n                        loading: false,\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch(initRequest(false));\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function getChildValuesForMasterAdd(inputParem,\r\n    userinfo, selectedMaster, masterdataList, parentcolumnlist,\r\n    childcolumnlist, withoutCombocomponent, parentListWithReadonly,\r\n    masterIndex, inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post('dynamicpreregdesign/getChildValues', {\r\n            child: inputParem.child,\r\n            parentdata: inputParem.item.jsondata,\r\n            parentsource: inputParem.source,\r\n            [inputParem.primarykeyField]: inputParem.value,\r\n            valuemember: inputParem.primarykeyField,\r\n            childcolumnlist,\r\n            userinfo,\r\n            parentcolumnlist\r\n        })\r\n            .then(response => {\r\n                let returnObj = { ...masterdataList[masterIndex - 1], ...response.data }\r\n                returnObj = parentChildComboLoad(parentListWithReadonly, returnObj,\r\n                    selectedMaster[masterIndex - 1],\r\n                    childcolumnlist, withoutCombocomponent[masterIndex - 1], inputParem,\r\n                    userinfo.slanguagetypecode, userinfo)\r\n                selectedMaster[masterIndex - 1] = { ...selectedMaster[masterIndex - 1], ...returnObj.selectedRecord }\r\n                masterdataList[masterIndex - 1] = returnObj.comboData\r\n\r\n\r\n                // const dataList = {\r\n\r\n                // }\r\n                const selectedControl = inputParam.selectedControl && removeIndex(inputParam.selectedControl, masterIndex)\r\n                selectedMaster = selectedMaster && removeIndex(selectedMaster, masterIndex)\r\n\r\n                const mastercomboComponents = inputParam.mastercomboComponents && removeIndex(inputParam.mastercomboComponents, masterIndex)\r\n                const masterwithoutCombocomponent = inputParam.masterwithoutCombocomponent && removeIndex(inputParam.masterwithoutCombocomponent, masterIndex)\r\n                const masterComboColumnFiled = inputParam.masterComboColumnFiled && removeIndex(inputParam.masterComboColumnFiled, masterIndex)\r\n                const masterextractedColumnList = inputParam.masterextractedColumnList && removeIndex(inputParam.masterextractedColumnList, masterIndex)\r\n                masterdataList = masterdataList && removeIndex(masterdataList, masterIndex)\r\n                const masterDesign = inputParam.masterDesign && removeIndex(inputParam.masterDesign, masterIndex)\r\n                const masterfieldList = inputParam.masterfieldList && removeIndex(inputParam.masterfieldList, masterIndex)\r\n                const screenName = selectedControl[masterIndex - 1].displayname[inputParam.userinfo.slanguagetypecode]\r\n                masterIndex = (parseInt(masterIndex) - 1)\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        // selectedControl: inputParam.selectedControl && removeIndex(inputParam.selectedControl, masterIndex),\r\n                        // selectedMaster: selectedMaster && removeIndex(selectedMaster, masterIndex),\r\n                        // mastercomboComponents: inputParam.mastercomboComponents && removeIndex(inputParam.mastercomboComponents, masterIndex),\r\n                        // masterwithoutCombocomponent: inputParam.masterwithoutCombocomponent && removeIndex(inputParam.masterwithoutCombocomponent, masterIndex),\r\n                        // masterComboColumnFiled: inputParam.masterComboColumnFiled && removeIndex(inputParam.masterComboColumnFiled, masterIndex),\r\n                        // masterextractedColumnList: inputParam.masterextractedColumnList && removeIndex(inputParam.masterextractedColumnList, masterIndex),\r\n                        // masterdataList: masterdataList && removeIndex(masterdataList, masterIndex),\r\n                        // masterDesign: inputParam.masterDesign && removeIndex(inputParam.masterDesign, masterIndex),\r\n                        // masterfieldList: inputParam.masterfieldList && removeIndex(inputParam.masterfieldList, masterIndex),\r\n                        // screenName: inputParam.selectedControl[masterIndex - 1].displayname[userinfo.slanguagetypecode],\r\n                        // loading: false,\r\n                        //masterdataList,\r\n                        //selectedMaster,\r\n                        // ...dataList,\r\n                        //   masterIndex: (parseInt(masterIndex) - 1),\r\n                        // screenName: inputParem.screenName\r\n\r\n\r\n                        selectedControl,\r\n                        selectedMaster,\r\n                        mastercomboComponents,\r\n                        masterwithoutCombocomponent,\r\n                        masterComboColumnFiled,\r\n                        masterextractedColumnList,\r\n                        masterdataList,\r\n                        masterDesign,\r\n                        masterfieldList,\r\n                        loading: false,\r\n                        // addMaster: false,\r\n                        // masterdataList,\r\n                        // selectedMaster: {},\r\n                        //  selectedMaster: selectedMaster,\r\n\r\n                        screenName,\r\n                        masterIndex,\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function viewExternalportalDetail(selectedControl, comboData, userinfo) {\r\n    return function (dispatch) {\r\n        if (selectedControl.table.item.nquerybuildertablecode === 222) {\r\n            dispatch(initRequest(true));\r\n            rsapi.post('dynamicpreregdesign/getExternalportalDetail', {\r\n                nexternalordercode: comboData.value,\r\n                nquerybuildertablecode: selectedControl.table.item.nquerybuildertablecode,\r\n                userinfo,\r\n            })\r\n                .then(response => {\r\n                    let Map1 = new Map();\r\n                    response.data.Sample.map((item) => {\r\n                        const newData = response.data.Test.filter(x => x.nexternalordersamplecode === item.nexternalordersamplecode)\r\n                        Map1.set(item.nexternalordersamplecode, Object.values(newData))\r\n                    })\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            isDynamicViewSlideOut: true,\r\n                            dynamicExternalSample: response.data.Sample,\r\n                            dynamicExternalTestChild: Map1,\r\n                            dynamicGridSelectedId: response.data.Sample.length > 0 ? Object.keys(response.data.Sample[0].nexternalordersamplecode) : null,\r\n                            loading: false,\r\n                            selectedDynamicViewControl: selectedControl\r\n                            // dynamicExternalSubSample:[],\r\n                            // dynamicExternalTest:[]\r\n\r\n                        }\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nexport function getEditMaster(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let masterIndex = inputParam.masterIndex\r\n        const componentName = inputParam.selectedControl[masterIndex].table.item.component;\r\n        const valueMember = inputParam.selectedControl[masterIndex].valuemember;\r\n\r\n        if (componentName === 'Type1Component' || componentName === 'Type2Component') {\r\n            rsapi.post(inputParam.selectedControl[masterIndex].table.item.classUrl + \"/getActive\" + inputParam.selectedControl[masterIndex].table.item.methodUrl + \"ById\", { userinfo: inputParam.userinfo, [valueMember]: inputParam.masterEditObject[masterIndex]['value'] })\r\n                .then(response => {\r\n                    if (response.status === 202) {\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                loading: false\r\n                            }\r\n                        })\r\n                        toast.success(response.data);\r\n                    }\r\n                    else if (response.status === 208) {\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                loading: false\r\n                            }\r\n                        })\r\n                        toast.warn(response.data);\r\n                    } else {\r\n                        let masterIndex = inputParam.masterIndex\r\n                        const data = response.data;\r\n                        let selectedMaster = inputParam.selectedMaster || []\r\n\r\n                        inputParam.masterextractedColumnList[masterIndex].map(item => {\r\n                            let fieldName = item.dataField;\r\n                            if (item.controlType === \"checkbox\") {\r\n                                selectedMaster[masterIndex][item.controlName] = data[item.controlName] ? data[item.controlName] : transactionStatus.NO;\r\n                            }\r\n                            else {\r\n                                selectedMaster[masterIndex][fieldName] = data[fieldName] ? data[fieldName] : \"\";\r\n                            }\r\n                        });\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                masterIndex,\r\n                                selectedMaster,\r\n                                masterdataList: inputParam.masterdataList,\r\n                                addMaster: true,\r\n                                loading: false,\r\n                                selectedControl: inputParam.selectedControl,\r\n                                masterfieldList: inputParam.masterfieldList,\r\n                                masterextractedColumnList: inputParam.masterextractedColumnList,\r\n                                masterprimaryKeyField: inputParam.masterprimaryKeyField,\r\n                                masterComboColumnFiled: inputParam.masterComboColumnFiled,\r\n                                screenName: inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode],\r\n                                mastercomboComponents: inputParam.mastercomboComponents,\r\n                                masterwithoutCombocomponent: inputParam.masterwithoutCombocomponent,\r\n                                masterDesign: inputParam.masterDesign, masterEditObject: inputParam.masterEditObject, masterOperation: inputParam.masterOperation\r\n                            }\r\n                        })\r\n                    }\r\n\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n\r\n\r\n        } else if (componentName === 'Type3Component') {\r\n            let urlArray = [];\r\n            urlArray.push(rsapi.post(inputParam.selectedControl[masterIndex].table.item.classUrl + \"/getActive\" + inputParam.selectedControl[masterIndex].table.item.methodUrl + \"ById\", { userinfo: inputParam.userinfo, [valueMember]: inputParam.masterEditObject[masterIndex]['value'] }))\r\n\r\n\r\n            inputParam.masterComboColumnFiled[masterIndex].map(item => {\r\n                // if (item.needService === undefined) {\r\n                let input = {}\r\n                if (item.needService === false) {\r\n                    if(item.ismutipleparent){\r\n                        input = { [item[\"parenttableDataField\"]]: inputParam.masterEditObject[masterIndex].item.jsondata ? inputParam.masterEditObject[masterIndex].item.jsondata[item[\"parenttableDataField\"]] : inputParam.masterEditObject[masterIndex].item[item[\"parenttableDataField\"]],\r\n                        [item[\"parentMutipleTableDataField\"]]: inputParam.masterEditObject[masterIndex].item.jsondata ? inputParam.masterEditObject[masterIndex].item.jsondata[item[\"parentMutipleTableDataField\"]] : inputParam.masterEditObject[masterIndex].item[item[\"parentMutipleTableDataField\"]]\r\n                    }\r\n    \r\n                            }else{\r\n                       input = { [item[\"parenttableDataField\"]]: inputParam.masterEditObject[masterIndex].item.jsondata ? inputParam.masterEditObject[masterIndex].item.jsondata[item[\"parenttableDataField\"]] : inputParam.masterEditObject[masterIndex].item[item[\"parenttableDataField\"]] }\r\n     \r\n                            }\r\n                    // input = { [item[\"parenttableDataField\"]]: inputParam.masterEditObject[masterIndex].item.jsondata ? inputParam.masterEditObject[masterIndex].item.jsondata[item[\"parenttableDataField\"]] : inputParam.masterEditObject[masterIndex].item[item[\"parenttableDataField\"]] }\r\n                }\r\n                urlArray.push(rsapi.post(item.classUrl + \"/\" + item.methodUrl, { userinfo: inputParam.userinfo, ...input }));\r\n                item[\"fetchIndex\"] = urlArray.length - 1;\r\n                // }\r\n            }\r\n            )\r\n            if (inputParam.selectedControl[masterIndex].table.item.nformcode === 137) {\r\n                urlArray.push(rsapi.post(\"timezone/getLocalTimeByZone\", { userinfo: inputParam.userinfo }));\r\n            }\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let ComboFieldData = [];\r\n                    let masterdataList = inputParam.masterdataList;\r\n                    const data = response[0].data;\r\n                    let selectedMaster = inputParam.selectedMaster || []\r\n\r\n\r\n                    inputParam.masterextractedColumnList[masterIndex].map(item => {\r\n                        let fieldName = item.dataField;\r\n                        let fieldNamePK = item.tableDataField;\r\n\r\n                        // if (item.controlType === \"selectbox\") {\r\n                        //     // inputData[methodUrl][fieldName] = this.state.selectedMaster[fieldName] ? this.state.selectedMaster[fieldName].label ? this.state.selectedMaster[fieldName].label : \"\" : -1;\r\n                        //     selectedMaster[masterIndex][fieldName]= {lable:data[item.dataField],value:data[item.tableDataField]};\r\n\r\n                        // }\r\n                        if (item.controlType === \"datepicker\") {\r\n                            selectedMaster[masterIndex][fieldName] = rearrangeDateFormat(inputParam.userinfo, data[item.dateField] ? data[item.dateField] : \"\");\r\n                        }\r\n                        else if (item.controlType === \"checkbox\") {\r\n                            selectedMaster[masterIndex][item.controlName] = data[item.controlName] ? data[item.controlName] : transactionStatus.NO;\r\n                        }\r\n                        else {\r\n                            selectedMaster[masterIndex][fieldName] = data[fieldName] ? data[fieldName] : \"\";\r\n                            selectedMaster[masterIndex][fieldNamePK] = data[fieldNamePK] ? data[fieldNamePK] : -1;\r\n                        }\r\n\r\n\r\n                    })\r\n\r\n\r\n                    inputParam.masterComboColumnFiled[masterIndex].map((item, index) => {\r\n                        //  if (item.needService === undefined) {\r\n                        let fieldName = item.dataField;\r\n                        ComboFieldData = constructOptionList(item.objectValue === null ? response[item.fetchIndex].data || [] : response[item.fetchIndex].data[item.objectValue], item.foreignDataField,\r\n                            item.dataField, undefined, undefined, undefined);\r\n                        masterdataList[masterIndex][item.dataField] = ComboFieldData.get(\"OptionList\");\r\n\r\n                        if (masterdataList[masterIndex][item.dataField].length > 0) {\r\n                            selectedMaster[masterIndex][fieldName] = { ...masterdataList[masterIndex][item.dataField].filter(x => x.item[item.foreignDataField] === data[item.tableDataField])[0] }\r\n                        }\r\n\r\n\r\n\r\n\r\n                        // } else {\r\n                        //     if (item.child !== undefined) {\r\n                        //         masterdataList[masterIndex][item.dataField] = []\r\n                        //     } else if (item.useService !== undefined) {\r\n                        //         masterdataList[masterIndex][item.dataField] = masterdataList[masterIndex][inputParam.masterComboColumnFiled[masterIndex][item.useService].dataField]\r\n                        //     }\r\n\r\n                        // }\r\n                    });\r\n                    let currentTime = ''\r\n\r\n                    if (inputParam.selectedControl[masterIndex].table.item.nformcode === 137) {\r\n                        //const data=inputParam.masterComboColumnFiled.filter(x=>x.needService===undefined)\r\n                        currentTime = rearrangeDateFormat(inputParam.userinfo, response[urlArray.length - 1].data);\r\n                        selectedMaster[masterIndex][\"ddob\"] = rearrangeDateFormat(inputParam.userinfo, response[urlArray.length - 1].data);\r\n                        selectedMaster[masterIndex][\"sage\"] = ageCalculate(selectedMaster[\"ddob\"])\r\n                        selectedMaster[masterIndex][\"nneedcurrentaddress\"] = transactionStatus.NO;\r\n                        selectedMaster[masterIndex][\"today\"] = inputParam.userinfo;\r\n                    }\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            masterIndex,\r\n                            selectedMaster,\r\n                            masterdataList,\r\n                            addMaster: true,\r\n                            loading: false,\r\n                            selectedControl: inputParam.selectedControl,\r\n                            masterfieldList: inputParam.masterfieldList,\r\n                            masterextractedColumnList: inputParam.masterextractedColumnList,\r\n                            masterprimaryKeyField: inputParam.masterprimaryKeyField,\r\n                            masterComboColumnFiled: inputParam.masterComboColumnFiled,\r\n                            screenName: inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode],\r\n                            mastercomboComponents: inputParam.mastercomboComponents,\r\n                            masterwithoutCombocomponent: inputParam.masterwithoutCombocomponent,\r\n                            masterDesign: inputParam.masterDesign, masterOperation: inputParam.masterOperation, masterEditObject: inputParam.masterEditObject\r\n                        }\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    dispatch(initRequest(false));\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(intl.formatMessage({\r\n                            id: error.response.data\r\n                        }));\r\n                    }\r\n                })\r\n\r\n\r\n        }\r\n        else if (componentName === 'Dynamic') {\r\n\r\n            dispatch(getDynamicMasterTempalte(inputParam))\r\n\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\nexport function getEditMasterCombo(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let urlArray = [];\r\n        let masterIndex = inputParam.masterIndex\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const selectedMaster1 = rsapi.post(\"/dynamicmaster/getActiveDynamicMasterById\", {\r\n            ndynamicmastercode: inputParam.masterEditObject[masterIndex].item ? inputParam.masterEditObject[masterIndex].item.jsondata.ndynamicmastercode : inputParam.masterEditObject[masterIndex].ndynamicmastercode,\r\n            parentcolumnlist: inputParam.masterdesignData[masterIndex],\r\n            childcolumnlist: inputParam.masterchildColumnList,\r\n            userinfo: inputParam.userinfo\r\n        })\r\n        urlArray = [timeZoneService, selectedMaster1]\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let data = { ...response[1].data[\"EditData\"] };\r\n                let selectedMaster = inputParam.selectedMaster || []\r\n                selectedMaster[masterIndex] = selectedMaster[masterIndex] && { ...selectedMaster[masterIndex] } || {}\r\n\r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: inputParam.userinfo.stimezoneid, value: inputParam.userinfo.ntimezonecode };\r\n                const selectedRecord1 = { ...data }\r\n                const languagetypeCode = undefined;\r\n                const comboData = response[1].data;\r\n                delete comboData['EditData']\r\n                let comboValues = {}\r\n                if (inputParam.masterdesignData[masterIndex].length > 0) {\r\n                    inputParam.masterdesignData[masterIndex].map(x => {\r\n                        if (x.inputtype === 'combo') {\r\n                            if (comboData[x.label] && comboData[x.label].length > 0) //&& comboData[x.label][0].hasOwnProperty(x.source) \r\n                            {\r\n                                if (comboData[x.label].length > 0) {\r\n                                    if (comboData[x.label][0].label === undefined) {\r\n                                        const optionList = constructjsonOptionList(comboData[x.label] || [], x.valuemember,\r\n                                            x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n                                        comboData[x.label] = optionList.get(\"OptionList\");\r\n                                    } else {\r\n                                        comboData[x.label] = comboData[x.label]\r\n                                        const optionList = constructjsonOptionDefault(comboData[x.label] || [], x.valuemember,\r\n                                            x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n                                    }\r\n                                } else {\r\n                                    comboData[x.label] = []\r\n                                }\r\n\r\n                                comboValues = childComboLoadForEdit(x, comboData, selectedRecord1,\r\n                                    inputParam.masterchildColumnList, inputParam.masterwithoutCombocomponent[masterIndex])\r\n                            } else {\r\n                                comboValues = {\r\n                                    \"comboData\": comboData,\r\n                                }\r\n                            }\r\n                        } else {\r\n                            comboValues = {\r\n                                comboData: comboData,\r\n                                ...comboValues\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    comboValues = {\r\n                        \"comboData\": comboData,\r\n                    }\r\n                }\r\n\r\n                if (inputParam.masterwithoutCombocomponent[masterIndex].length > 0) {\r\n                    inputParam.masterwithoutCombocomponent[masterIndex].map(item => {\r\n                        if (item.inputtype === \"date\") {\r\n                            if (selectedRecord1[item.label]) {\r\n                                selectedRecord1 = { ...selectedRecord1, [item.label]: rearrangeDateFormatforUI(inputParam.userinfo, selectedRecord1[item.label]) }\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n                const masterdataList = inputParam.masterdataList || []\r\n                masterdataList[masterIndex] = comboValues.comboData\r\n                selectedMaster[masterIndex] = { ...selectedMaster[masterIndex], ...selectedRecord1 }\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        ...inputParam,\r\n                        mastertimeZoneList: timeZoneList,\r\n                        masterdefaultTimeZone: defaultTimeZone,\r\n                        loading: false,\r\n                        addMaster: true,\r\n                        masterdataList,\r\n                        selectedMaster,\r\n                        mastercomboComponents: inputParam.mastercomboComponents,\r\n                        masterwithoutCombocomponent: inputParam.masterwithoutCombocomponent,\r\n                        masterdesignData: inputParam.masterdesignData,\r\n                        masterIndex,\r\n                        screenName: inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode],\r\n                        masterOperation: inputParam.masterOperation,\r\n                        masterEditObject: inputParam.masterEditObject,\r\n\r\n                    }\r\n                })\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(\"error:\", error);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}