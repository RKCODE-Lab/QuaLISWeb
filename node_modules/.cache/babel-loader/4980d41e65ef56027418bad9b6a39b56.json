{"ast":null,"code":"import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import{callService,crudMaster,updateStore,getGoodsInFilterSubmit,validateEsignCredential,getGoodsInComboService,getGoodsInDetail,getClient,getProjectType,getProject,filterColumnData,getPreviewTemplate,viewInformation,checkListGoodsIn,downloadGoodsIn,onSaveGoodsInCheckList,validateEsignGoodsIn,generateControlBasedReport}from'../../actions';import{toast}from'react-toastify';import{convertDateValuetoString,rearrangeDateFormat,getControlMap,showEsign,formatInputDate,comboChild,convertDateTimetoStringDBFormat,onDropAttachFileList,deleteAttachmentDropZone,Lims_JSON_stringify}from'../../components/CommonScript';import{ListWrapper}from'../../components/client-group.styles';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{Col,Row,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import GoodsInFilter from'./GoodsInFilter';import ListMaster from'../../components/list-master/list-master.component';import AddGoodsIn from'./AddGoodsIn';import Esign from'../audittrail/Esign';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{SampleType,designProperties,transactionStatus}from'../../components/Enumeration';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import{ContentPanel,ReadOnlyText}from'../../components/App.styles';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faTrashAlt,faThumbsUp,faListAlt,faCloudDownloadAlt,faEye}from'@fortawesome/free-solid-svg-icons';import DynamicSlideout from'../dynamicpreregdesign/DynamicSlideout';import DataGrid from'../../components/data-grid/data-grid.component';import{process}from'@progress/kendo-data-query';import{ReactComponent as GoodsReceivedIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/goods-received.svg\";import{ReactComponent as DownloadGoods}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/Download Goods.svg\";import AddFile from'./AddFile';import GoodsInView from'./GoodsInView';import GoodsInChecklist from'./GoodsInChecklist';import{templateChangeHandler}from'../checklist/checklist/checklistMethods';import{REPORTTYPE}from'../../components/Enumeration';import{ReactComponent as ReceiveGoods}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/Receive Goods.svg\";import{Affix}from'rsuite';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var GoodsIn=/*#__PURE__*/function(_React$Component){_inherits(GoodsIn,_React$Component);var _super=_createSuper(GoodsIn);function GoodsIn(props){var _this;_classCallCheck(this,GoodsIn);_this=_super.call(this,props);_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.handleFilterDateChange=function(dateName,dateValue){var masterData=_this.props.Login.masterData;masterData[dateName]=dateValue;_this.setState({masterData:masterData});};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.dynamicHandleDateChange=function(dateValue,dateName){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.onTemplateInputChange=function(event,control){var selectedRecord=templateChangeHandler(1,_this.state.selectedRecord,event,control);_this.setState({selectedRecord:selectedRecord});};_this.onTemplateComboChange=function(comboData,control){var selectedRecord=templateChangeHandler(2,_this.state.selectedRecord,comboData,control);_this.setState({selectedRecord:selectedRecord});};_this.onTemplateDateChange=function(dateData,control){var selectedRecord=templateChangeHandler(3,_this.state.selectedRecord,dateData,control);_this.setState({selectedRecord:selectedRecord});};_this.onFilterSubmit=function(){var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var realfromDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate);var realtoDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate);var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realfromDate:realfromDate,realtoDate:realtoDate});var inputData={fromDate:obj.fromDate,toDate:obj.toDate,userinfo:_this.props.Login.userInfo};var inputParam={masterData:masterData,inputData:inputData};_this.props.getGoodsInFilterSubmit(inputParam);};_this.reloadData=function(){_this.searchRef.current.value=\"\";var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var realfromDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate);var realtoDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate);var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realfromDate:realfromDate,realtoDate:realtoDate});var inputData={fromDate:obj.fromDate,toDate:obj.toDate,userinfo:_this.props.Login.userInfo};var inputParam={masterData:masterData,inputData:inputData};_this.props.getGoodsInFilterSubmit(inputParam);};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var screenName=_this.props.Login.screenName;var operation=_this.props.Login.operation;var openTemplateModal=_this.props.Login.openTemplateModal;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"receive\"||_this.props.Login.operation===\"approve\"){loadEsign=false;openModal=false;openTemplateModal=false;selectedRecord={};}else{if(_this.props.Login.operation===\"checklist\"){openModal=false;}loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";}}else{openModal=false;openTemplateModal=false;selectedRecord={};screenName=\"\";operation=\"\";}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,openTemplateModal:openTemplateModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null,screenName:screenName,operation:operation}};_this.props.updateStore(updateInfo);};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};if(_this.props.Login.operation===\"checklist\"){_this.props.validateEsignGoodsIn(inputParam,\"openModal\");}else{_this.props.validateEsignCredential(inputParam,\"openModal\");}};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}else if(event.target.name===\"noutofhours\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}else{selectedRecord[event.target.name]=event.target.checked===true?1:2;}}else{if(event.target.value!==\"\"){selectedRecord[event.target.name]=event.target.value!==\"\"?event.target.value:selectedRecord[event.target.name];}else{selectedRecord[event.target.name]=event.target.value;}}_this.setState({selectedRecord:selectedRecord});};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};if(fieldName===\"nclientcatcode\"){selectedRecord[\"nclientcatcode\"]=comboData;_this.props.getClient(_this.state.selectedRecord.nclientcatcode.value,_this.props.Login.masterData,_this.props.Login.userInfo,selectedRecord);}else if(fieldName===\"nclientcode\"){selectedRecord[\"nclientcode\"]=comboData;_this.props.getProjectType(_this.state.selectedRecord.nclientcatcode.value,_this.state.selectedRecord.nclientcode.value,_this.props.Login.masterData,_this.props.Login.userInfo,selectedRecord);}else if(fieldName===\"nprojecttypecode\"){selectedRecord[\"nprojecttypecode\"]=comboData;if(comboData!==null){_this.props.getProject(_this.state.selectedRecord.nclientcatcode.value,_this.state.selectedRecord.nclientcode.value,_this.state.selectedRecord.nprojecttypecode.value,_this.props.Login.masterData,_this.props.Login.userInfo,selectedRecord);}else{delete selectedRecord[\"nprojecttypecode\"];delete selectedRecord[\"nprojectmastercode\"];_this.setState({selectedRecord:selectedRecord});}}else if(fieldName===\"nprojectmastercode\"){selectedRecord[\"nprojectmastercode\"]=comboData;_this.setState({selectedRecord:selectedRecord});}else if(fieldName===\"ncouriercode\"){if(comboData!==null){selectedRecord[\"ncouriercode\"]=comboData;}else{delete selectedRecord[\"ncouriercode\"];}//selectedRecord[\"ncouriercode\"] = comboData;\n_this.setState({selectedRecord:selectedRecord});}};_this.onDynamicComboChange=function(comboData,control,customName){var selectedRecord=_this.state.selectedRecord||{};var comboName=customName||control.label;if(comboData){comboData[\"item\"]=_objectSpread(_objectSpread({},comboData[\"item\"]),{},{\"pkey\":control.valuemember,\"nquerybuildertablecode\":control.nquerybuildertablecode,source:control.source});selectedRecord[comboName]=comboData;}else{selectedRecord[comboName]=[];}_this.setState({selectedRecord:selectedRecord});};_this.onNumericInputOnChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.onNumericBlur=function(control){var selectedRecord=_this.state.selectedRecord;if(selectedRecord[control.label]){if(control.max){if(!(selectedRecord[control.label]<parseFloat(control.max))){selectedRecord[control.label]=control.precision?parseFloat(control.max):parseInt(control.max);}}if(control.min){if(!(selectedRecord[control.label]>parseFloat(control.min))){selectedRecord[control.label]=control.precision?parseFloat(control.min):parseInt(control.min);}}}_this.setState({selectedRecord:selectedRecord});};_this.sampleInfoDataStateChange=function(event){_this.setState({dataResult:process(_this.props.Login.masterData.GoodsInSample,event.dataState),sampleGridDataState:event.dataState});};_this.generateControlBasedReportReport=function(downloadGoodsIn){//if(this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.RECEIVED  || this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.APPROVED ){\nvar inputParam={primaryKeyField:\"ngoodsincode\",sreportlink:_this.props.Login.reportSettings[15],smrttemplatelink:_this.props.Login.reportSettings[16],nreporttypecode:REPORTTYPE.CONTROLBASED,ncontrolcode:downloadGoodsIn,primaryKeyValue:_this.props.Login.masterData.selectedGoodsIn.ngoodsincode,ngoodsincode:_this.props.Login.masterData.selectedGoodsIn.ngoodsincode,ngoodsincode_componentcode:REPORTTYPE.CONTROLBASED,ngoodsincode_componentname:'Number',ntranscode:_this.props.Login.masterData.selectedGoodsIn.ntransactionstatus,userinfo:_this.props.Login.userInfo};_this.props.generateControlBasedReport(inputParam);//  }else{\n//     toast.warn( this.props.intl.formatMessage({ id: \"IDS_SELECTDOENLOADRECEIVEAPPROVE\" }));\n// }\n};_this.onSaveClick=function(saveType,formRef){if(_this.props.Login.screenName===\"IDS_GOODSIN\"){if(_this.state.selectedRecord[\"nnoofpackages\"]<=0){return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERTHEPACKAGEGREATERTHANZERO\"}));}var postParam=undefined;var dataState=undefined;var inputData=[];inputData[\"goodsin\"]={};inputData[\"userinfo\"]=_this.props.Login.userInfo;var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var fromDate=obj.fromDate;var toDate=obj.toDate;inputData[\"fromDate\"]=fromDate;inputData[\"toDate\"]=toDate;if(_this.props.Login.operation===\"update\"){postParam={inputListName:\"GoodsIn\",selectedObject:\"selectedGoodsIn\",primaryKeyField:\"ngoodsincode\"};postParam[\"primaryKeyValue\"]=_this.props.Login.masterData.selectedGoodsIn.ngoodsincode;inputData[\"goodsin\"][\"ngoodsincode\"]=_this.props.Login.masterData.selectedGoodsIn.ngoodsincode;}inputData[\"goodsin\"][\"nclientcatcode\"]=_this.state.selectedRecord[\"nclientcatcode\"]?_this.state.selectedRecord[\"nclientcatcode\"].value:-1;inputData[\"goodsin\"][\"nclientcode\"]=_this.state.selectedRecord[\"nclientcode\"]?_this.state.selectedRecord[\"nclientcode\"].value:-1;inputData[\"goodsin\"][\"nprojecttypecode\"]=_this.state.selectedRecord[\"nprojecttypecode\"]?_this.state.selectedRecord[\"nprojecttypecode\"].value:-1;inputData[\"goodsin\"][\"nprojectmastercode\"]=_this.state.selectedRecord[\"nprojectmastercode\"]?_this.state.selectedRecord[\"nprojectmastercode\"].value:-1;inputData[\"goodsin\"][\"ncouriercode\"]=_this.state.selectedRecord[\"ncouriercode\"]?_this.state.selectedRecord[\"ncouriercode\"].value:-1;inputData[\"goodsin\"][\"nnoofpackages\"]=_this.state.selectedRecord[\"nnoofpackages\"];inputData[\"goodsin\"][\"noutofhours\"]=_this.state.selectedRecord[\"noutofhours\"]?_this.state.selectedRecord[\"noutofhours\"]:transactionStatus.NO;inputData[\"goodsin\"][\"sconsignmentno\"]=_this.state.selectedRecord[\"sconsignmentno\"]?_this.state.selectedRecord[\"sconsignmentno\"]:\"\";inputData[\"goodsin\"][\"ssecurityrefno\"]=_this.state.selectedRecord[\"ssecurityrefno\"]?_this.state.selectedRecord[\"ssecurityrefno\"]:\"\";inputData[\"goodsin\"][\"scomments\"]=_this.state.selectedRecord[\"scomments\"]?_this.state.selectedRecord[\"scomments\"]:\"\";inputData[\"goodsin\"][\"dgoodsindatetime\"]=formatInputDate(_this.state.selectedRecord[\"dgoodsindatetime\"],false);//inputData[\"goodsin\"][\"ntzgoodsindatetime\"] = this.state.selectedRecord[\"ntimezonecode\"] ? this.state.selectedRecord[\"ntimezonecode\"].value : 1;\nvar inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"GoodsIn\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,selectedId:_this.state.selectedRecord[\"ngoodsincode\"],operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,dataState:dataState,searchRef:_this.searchRef,postParam:postParam};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:\"IDS_GOODSIN\",operation:_this.props.Login.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}}else if(_this.props.Login.screenName===\"IDS_GOODSINSAMPLE\"&&_this.props.Login.operation===\"create\"){_this.insertGoodsInSample();}else if(_this.props.Login.screenName===\"IDS_GOODSINSAMPLE\"&&_this.props.Login.operation===\"import\"){_this.importGoodsInSample();}};_this.ConfirmDelete=function(deleteId){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.DeleteGoodsIn(\"delete\",deleteId);});};_this.DeleteGoodsIn=function(operation,ncontrolCode){var inputData=[];var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var fromDate=obj.fromDate;var toDate=obj.toDate;inputData[\"fromDate\"]=fromDate;inputData[\"toDate\"]=toDate;inputData[\"goodsin\"]=_this.props.Login.masterData.selectedGoodsIn;inputData[\"userinfo\"]=_this.props.Login.userInfo;var postParam={inputListName:\"GoodsIn\",selectedObject:\"selectedGoodsIn\",primaryKeyField:\"ngoodsincode\",primaryKeyValue:_this.props.Login.masterData.selectedGoodsIn.ngoodsincode,fetchUrl:\"goodsin/getActiveGoodsInById\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={methodUrl:\"GoodsIn\",classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,operation:\"delete\",postParam:postParam};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_GOODSIN\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.receiveGoodsIn=function(operation,ncontrolCode){var inputData=[];inputData[\"goodsin\"]=_this.props.Login.masterData.selectedGoodsIn;inputData[\"userinfo\"]=_this.props.Login.userInfo;var postParam={inputListName:\"GoodsIn\",selectedObject:\"selectedGoodsIn\",primaryKeyField:\"ngoodsincode\",primaryKeyValue:_this.props.Login.masterData.selectedGoodsIn.ngoodsincode,fetchUrl:\"goodsin/getActiveGoodsInById\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={methodUrl:\"GoodsIn\",classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,operation:\"receive\",postParam:postParam};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_GOODSIN\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.approveGoodsIn=function(operation,ncontrolCode){var inputData=[];inputData[\"goodsin\"]=_this.props.Login.masterData.selectedGoodsIn;inputData[\"userinfo\"]=_this.props.Login.userInfo;var postParam={inputListName:\"GoodsIn\",selectedObject:\"selectedGoodsIn\",primaryKeyField:\"ngoodsincode\",primaryKeyValue:_this.props.Login.masterData.selectedGoodsIn.ngoodsincode,fetchUrl:\"goodsin/getActiveGoodsInById\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={methodUrl:\"GoodsIn\",classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,operation:\"approve\",postParam:postParam};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_GOODSIN\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.openSampleGoodsIn=function(){var addSampleId=_this.state.controlMap.has(\"AddSampleGoodsIn\")?_this.state.controlMap.get(\"AddSampleGoodsIn\").ncontrolcode:-1;var Status=_this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;if(Status===transactionStatus.APPROVED){toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTRECEIVERECORD\"}));}else{_this.addSampleGoodsIn(\"IDS_GOODSINSAMPLE\",\"create\",_this.props.Login.masterData,_this.state.selectedRecord,_this.props.Login.userInfo,addSampleId);}};_this.addSampleGoodsIn=function(ScreenName,operation,masterData,selectedRecord,userInfo,controlCode,importData){var data=[];var withoutCombocomponent=[];var mandatorySampleFields=[];var Layout=_this.props.Login.masterData.DesignTemplateMapping&&_this.props.Login.masterData.DesignTemplateMapping[0].jsondata;if(Layout!==undefined&&Layout!==null){Layout.map(function(row){row.children.map(function(column){column.children.map(function(component){if(component.hasOwnProperty(\"children\")){component.children.map(function(componentrow){if(componentrow.inputtype===\"combo\"||componentrow.inputtype===\"backendsearchfilter\"||componentrow.inputtype===\"frontendsearchfilter\"){data.push(componentrow);}else{withoutCombocomponent.push(componentrow);}if(componentrow.mandatory===true){mandatorySampleFields.push({\"mandatory\":true,\"idsName\":componentrow.label,\"dataField\":componentrow.label,\"mandatoryLabel\":componentrow.inputtype===\"combo\"?\"IDS_SELECT\":\"IDS_ENTER\",\"controlType\":componentrow.inputtype===\"combo\"?\"selectbox\":\"textbox\"});}});}else{component.inputtype===\"combo\"||component.inputtype===\"backendsearchfilter\"||component.inputtype===\"frontendsearchfilter\"?data.push(component):withoutCombocomponent.push(component);if(component.mandatory===true){mandatorySampleFields.push({\"mandatory\":true,\"idsName\":component.label,\"dataField\":component.label,\"mandatoryLabel\":component.inputtype===\"combo\"?\"IDS_SELECT\":\"IDS_ENTER\",\"controlType\":component.inputtype===\"combo\"?\"selectbox\":\"textbox\"});}}});_this.setState({mandatorySampleFields:mandatorySampleFields});});});var comboComponents=data;var childColumnList={};data.map(function(columnList){var val=comboChild(data,columnList,childColumnList,true);data=val.data;childColumnList=val.childColumnList;return null;});var mapOfFilterRegData={nsampletypecode:parseInt(SampleType.GOODSIN)};_this.props.getPreviewTemplate(masterData,userInfo,controlCode,data,selectedRecord,childColumnList,comboComponents,withoutCombocomponent,false,true,mapOfFilterRegData,false,operation,ScreenName,importData);}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_CONFIGUREGOODSINTEMPLATE\"}));}};_this.ImportFile=function(){var Status=_this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;var updateInfo={};if(Status===transactionStatus.APPROVED){toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTRECEIVERECORD\"}));}else{updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true,operation:\"import\",screenName:\"IDS_GOODSINSAMPLE\"}};_this.props.updateStore(updateInfo);}};_this.onDropSampleFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"});};_this.DeleteGoodsInSample=function(deleteParam){var inputData=[];var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var fromDate=obj.fromDate;var toDate=obj.toDate;inputData[\"fromDate\"]=fromDate;inputData[\"toDate\"]=toDate;inputData[\"ngoodsincode\"]=deleteParam.selectedRecord.ngoodsincode;inputData[\"ngoodsinsamplecode\"]=deleteParam.selectedRecord.ngoodsinsamplecode;inputData[\"ndesigntemplatemappingcode\"]=deleteParam.selectedRecord.ndesigntemplatemappingcode;inputData[\"ntransactionstatus\"]=_this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;inputData[\"userinfo\"]=_this.props.Login.userInfo;var postParam={inputListName:\"GoodsIn\",selectedObject:\"selectedGoodsIn\",primaryKeyField:\"ngoodsincode\",primaryKeyValue:_this.props.Login.masterData.selectedGoodsIn.ngoodsincode,fetchUrl:\"goodsin/getActiveGoodsInById\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={methodUrl:\"GoodsInSample\",classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,operation:\"delete\",postParam:postParam};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_GOODSINSAMPLE\",operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.insertGoodsInSample=function(){var Map={};var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var fromDate=obj.fromDate;var toDate=obj.toDate;Map[\"fromDate\"]=fromDate;Map[\"toDate\"]=toDate;Map[\"ngoodsincode\"]=_this.props.Login.masterData.selectedGoodsIn.ngoodsincode;Map[\"ndesigntemplatemappingcode\"]=_this.props.Login.masterData.DesignTemplateMapping[0].ndesigntemplatemappingcode;var param=_this.goodsInSample(_this.props.Login.masterData,_this.state.selectedRecord,_this.props.Login.masterData.DesignTemplateMapping[0].jsondata,_this.props.Login.userInfo,_this.props.Login.defaultTimeZone,'create',_this.props.Login.comboComponents);Map[\"GoodsInSample\"]=param.GoodsInSample;Map[\"DateList\"]=param.dateList;Map[\"userinfo\"]=_this.props.Login.userInfo;Map[\"combinationunique\"]=_this.state.DynamicCombinationUnique;var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"GoodsInSample\",displayName:_this.props.Login.inputParam.displayName,inputData:Map,selectedId:_this.state.selectedRecord[\"ngoodsinsamplecode\"],operation:'create',searchRef:_this.searchRef};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_GOODSIN\"}),operation:'create'}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.goodsInSample=function(masterData,selectedRecord,templateList,userInfo,defaulttimeZone,operation,comboComponents){var GoodsInSample={};var dateList=[];GoodsInSample[\"ngoodsincode\"]=masterData.selectedGoodsIn.ngoodsincode;GoodsInSample[\"ndesigntemplatemappingcode\"]=masterData.DesignTemplateMapping[0].ndesigntemplatemappingcode;GoodsInSample[\"nunitcode\"]=selectedRecord[comboComponents[comboComponents.findIndex(function(x){return x.name==='Unit';})]['label']]?selectedRecord[comboComponents[comboComponents.findIndex(function(x){return x.name==='Unit';})]['label']].value:-1;GoodsInSample[\"nquantity\"]=selectedRecord[\"Quantity\"];GoodsInSample[\"sexternalsampleid\"]=selectedRecord[\"External Sample Id\"];GoodsInSample[\"scomments\"]=selectedRecord[\"Comments\"];GoodsInSample[\"jsondata\"]={};GoodsInSample[\"jsonuidata\"]={};templateList&&templateList.map(function(row){return row.children.map(function(column){return column.children.map(function(component){if(component.hasOwnProperty(\"children\")){return component.children.map(function(componentrow){if(componentrow.inputtype===\"combo\"||componentrow.inputtype===\"predefineddropdown\"){if(componentrow.inputtype===\"predefineddropdown\"){GoodsInSample[\"jsondata\"][componentrow.label]=selectedRecord[componentrow.label]?{value:selectedRecord[componentrow.label].value,label:selectedRecord[componentrow.label].label}:-1;GoodsInSample[\"jsonuidata\"][componentrow.label]=selectedRecord[componentrow.label]?selectedRecord[componentrow.label].label:\"\";}else{GoodsInSample[\"jsondata\"][componentrow.label]=selectedRecord[componentrow.label]?_defineProperty({value:selectedRecord[componentrow.label].value,label:selectedRecord[componentrow.label].label,pkey:componentrow.valuemember,nquerybuildertablecode:componentrow.nquerybuildertablecode,source:componentrow.source},componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember,operation===\"update\"?selectedRecord[componentrow.label].item?selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]:selectedRecord[componentrow.label][componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]:selectedRecord[componentrow.label].item?selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]:selectedRecord[componentrow.label][componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]?selectedRecord[componentrow.label][componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]:selectedRecord[componentrow.label].vale):-1;GoodsInSample[\"jsonuidata\"][componentrow.label]=selectedRecord[componentrow.label]?selectedRecord[componentrow.label].label:\"\";}}else if(componentrow.inputtype===\"date\"){if(componentrow.mandatory){GoodsInSample[\"jsondata\"][componentrow.label]=typeof selectedRecord[componentrow.label]===\"object\"?convertDateTimetoStringDBFormat(selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:new Date(),userInfo):typeof selectedRecord[componentrow.label]===\"number\"?convertDateTimetoStringDBFormat(selectedRecord[componentrow.label]?new Date(selectedRecord[componentrow.label]):new Date(),userInfo):selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:\"\";GoodsInSample[\"jsonuidata\"][componentrow.label]=GoodsInSample[\"jsondata\"][componentrow.label];}else{GoodsInSample[\"jsondata\"][componentrow.label]=componentrow.loadcurrentdate?typeof selectedRecord[componentrow.label]===\"object\"?convertDateTimetoStringDBFormat(selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:new Date(),userInfo):typeof selectedRecord[componentrow.label]===\"number\"?convertDateTimetoStringDBFormat(selectedRecord[componentrow.label]?new Date(selectedRecord[componentrow.label]):new Date(),userInfo):selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:\"\":selectedRecord[componentrow.label]?typeof selectedRecord[componentrow.label]===\"object\"?convertDateTimetoStringDBFormat(selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:new Date(),userInfo):typeof selectedRecord[componentrow.label]===\"number\"?convertDateTimetoStringDBFormat(selectedRecord[componentrow.label]?new Date(selectedRecord[componentrow.label]):new Date(),userInfo):selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:\"\":\"\";GoodsInSample[\"jsonuidata\"][componentrow.label]=GoodsInSample[\"jsondata\"][componentrow.label];}if(componentrow.timezone){GoodsInSample[\"jsondata\"][\"tz\".concat(componentrow.label)]=selectedRecord[\"tz\".concat(componentrow.label)]?{value:selectedRecord[\"tz\".concat(componentrow.label)].value,label:selectedRecord[\"tz\".concat(componentrow.label)].label}:defaulttimeZone?defaulttimeZone:-1;GoodsInSample[\"jsonuidata\"][\"tz\".concat(componentrow.label)]=GoodsInSample[\"jsondata\"][\"tz\".concat(componentrow.label)];}dateList.push(componentrow.label);}else{GoodsInSample[\"jsondata\"][componentrow.label]=selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:\"\";GoodsInSample[\"jsonuidata\"][componentrow.label]=GoodsInSample[\"jsondata\"][componentrow.label];}});return GoodsInSample;}else{if(component.inputtype===\"combo\"||component.inputtype===\"predefineddropdown\"){if(component.inputtype===\"predefineddropdown\"){GoodsInSample[\"jsondata\"][component.label]=selectedRecord[component.label]?{value:selectedRecord[component.label].value,label:selectedRecord[component.label].label}:-1;GoodsInSample[\"jsonuidata\"][component.label]=selectedRecord[component.label]?selectedRecord[component.label].label:\"\";}else{GoodsInSample[\"jsondata\"][component.label]=selectedRecord[component.label]?_defineProperty({value:selectedRecord[component.label].value,label:selectedRecord[component.label].label,pkey:component.valuemember,nquerybuildertablecode:component.nquerybuildertablecode,source:component.source},component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember,operation===\"update\"?selectedRecord[component.label].item?selectedRecord[component.label].item.jsondata[component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]:selectedRecord[component.label][component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]:selectedRecord[component.label].item?selectedRecord[component.label].item.jsondata[component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]:selectedRecord[component.label][component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]?selectedRecord[component.label][component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]:selectedRecord[component.label].vale):-1;GoodsInSample[\"jsonuidata\"][component.label]=selectedRecord[component.label]?selectedRecord[component.label].label:\"\";}}else if(component.inputtype===\"date\"){if(component.mandatory){console.log(typeof selectedRecord[component.label]===\"object\");GoodsInSample[\"jsondata\"][component.label]=typeof selectedRecord[component.label]===\"object\"?convertDateTimetoStringDBFormat(selectedRecord[component.label]?selectedRecord[component.label]:new Date(),userInfo):typeof selectedRecord[component.label]===\"number\"?convertDateTimetoStringDBFormat(selectedRecord[component.label]?new Date(selectedRecord[component.label]):new Date(),userInfo):selectedRecord[component.label]?selectedRecord[component.label]:\"\";GoodsInSample[\"jsonuidata\"][component.label]=GoodsInSample[\"jsondata\"][component.label];}else{GoodsInSample[\"jsondata\"][component.label]=component.loadcurrentdate?typeof selectedRecord[component.label]===\"object\"?convertDateTimetoStringDBFormat(selectedRecord[component.label]?selectedRecord[component.label]:new Date(),userInfo):typeof selectedRecord[component.label]===\"number\"?convertDateTimetoStringDBFormat(selectedRecord[component.label]?new Date(selectedRecord[component.label]):new Date(),userInfo):selectedRecord[component.label]?selectedRecord[component.label]:\"\":selectedRecord[component.label]?typeof selectedRecord[component.label]===\"object\"?convertDateTimetoStringDBFormat(selectedRecord[component.label]?selectedRecord[component.label]:new Date(),userInfo):typeof selectedRecord[component.label]===\"number\"?convertDateTimetoStringDBFormat(selectedRecord[component.label]?new Date(selectedRecord[component.label]):new Date(),userInfo):selectedRecord[component.label]?selectedRecord[component.label]:\"\":\"\";GoodsInSample[\"jsonuidata\"][component.label]=GoodsInSample[\"jsondata\"][component.label];}if(component.timezone){GoodsInSample[\"jsondata\"][\"tz\".concat(component.label)]=selectedRecord[\"tz\".concat(component.label)]?{value:selectedRecord[\"tz\".concat(component.label)].value,label:selectedRecord[\"tz\".concat(component.label)].label}:defaulttimeZone?defaulttimeZone:-1;GoodsInSample[\"jsonuidata\"][\"tz\".concat(component.label)]=GoodsInSample[\"jsondata\"][\"tz\".concat(component.label)];}dateList.push(component.label);}else{GoodsInSample[\"jsondata\"][component.label]=selectedRecord[component.label]?selectedRecord[component.label]:\"\";GoodsInSample[\"jsonuidata\"][component.label]=GoodsInSample[\"jsondata\"][component.label];}return GoodsInSample;}});});});var param={GoodsInSample:GoodsInSample,dateList:dateList};return param;};_this.importGoodsInSample=function(){var formData=new FormData();var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.stemplatefilename;var comboComponents=[];var data=[];var withoutCombocomponent=[];var mandatory=[];var mandatoryImportFields={};var exportFieldProperties=[];if(acceptedFiles&&acceptedFiles.length===1){acceptedFiles.forEach(function(file,index){formData.append(\"uploadedFile\",file);});var dateList=[];_this.state.DynamicDateField.map(function(x){dateList.push(x['2']);});var exportList=[];_this.state.DynamicExportfields.map(function(x){exportList.push(x['2']);});var Layout=_this.props.Login.masterData.DesignTemplateMapping&&_this.props.Login.masterData.DesignTemplateMapping[0].jsondata;if(Layout!==undefined){Layout.map(function(row){row.children.map(function(column){column.children.map(function(component){if(component.hasOwnProperty(\"children\")){component.children.map(function(componentrow){if(exportList.length>0){exportFieldProperties.push(componentrow);}if(componentrow.inputtype===\"combo\"||componentrow.inputtype===\"backendsearchfilter\"||componentrow.inputtype===\"frontendsearchfilter\"){data.push(componentrow);}else{withoutCombocomponent.push(componentrow);}if(componentrow.mandatory===true){mandatory.push({\"mandatory\":true,\"idsName\":componentrow.label,\"dataField\":componentrow.label,\"mandatoryLabel\":componentrow.inputtype===\"combo\"?\"IDS_SELECT\":\"IDS_ENTER\",\"controlType\":componentrow.inputtype===\"combo\"?\"selectbox\":\"textbox\"});}});}else{if(exportList.length>0){exportFieldProperties.push(component);}component.inputtype===\"combo\"||component.inputtype===\"backendsearchfilter\"||component.inputtype===\"frontendsearchfilter\"?data.push(component):withoutCombocomponent.push(component);if(component.mandatory===true){mandatory.push({\"mandatory\":true,\"idsName\":component.label,\"dataField\":component.label,\"mandatoryLabel\":component.inputtype===\"combo\"?\"IDS_SELECT\":\"IDS_ENTER\",\"controlType\":component.inputtype===\"combo\"?\"selectbox\":\"textbox\"});}}});});});comboComponents=data;}mandatory.map(function(x){mandatoryImportFields[x.dataField]=x.mandatory;});formData.append('mandatoryFields',Lims_JSON_stringify(JSON.stringify(mandatoryImportFields),false));formData.append('comboComponents',Lims_JSON_stringify(JSON.stringify(comboComponents),false));formData.append('dateconstraints',Lims_JSON_stringify(JSON.stringify(_this.state.DynamicDateConstraints),false));formData.append('datelist',Lims_JSON_stringify(JSON.stringify(dateList),false));formData.append('exportFields',Lims_JSON_stringify(JSON.stringify(exportList),false));formData.append('exportFieldProperties',Lims_JSON_stringify(JSON.stringify(exportFieldProperties),false));formData.append('combinationunique',Lims_JSON_stringify(JSON.stringify(_this.state.DynamicCombinationUnique),false));formData.append('ndesigntemplatemappingcode',_this.props.Login.masterData.ndesigntemplatemappingcode);formData.append(\"ngoodsincode\",_this.props.Login.masterData.selectedGoodsIn.ngoodsincode);formData.append(\"ntransactionstatus\",_this.props.Login.masterData.selectedGoodsIn.ntransactionstatus);var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"GoodsInSample\",displayName:_this.props.Login.inputParam.displayName,inputData:{userinfo:_this.props.Login.userInfo},formData:formData,isFileupload:true,operation:_this.props.Login.operation};//ALPD 3415\n// const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\n// if (esignNeeded) {\n//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: {\n//             loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\n//             openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_GOODSINSAMPLE\" }),\n//             operation: this.props.Login.operation,\n//         },\n//     }\n//     this.props.updateStore(updateInfo);\n// }\n// else {\n_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");// }                                                                                                                                                                                                                \n}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTTHEFILE\"}));}};_this.insertGoodsInChecklist=function(){var inputData=[];inputData[\"ngoodsincode\"]=_this.state.selectedRecord.ngoodsincode;inputData[\"ndesigntemplatemappingcode\"]=parseInt(_this.props.Login.masterData.ndesigntemplatemappingcode&&_this.props.Login.masterData.ndesigntemplatemappingcode);inputData[\"userinfo\"]=_this.props.Login.userInfo;var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"GoodsInChecklist\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:_this.props.Login.operation,selectedRecord:_this.state.selectedRecord};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,openTemplateModal:true,screenName:\"IDS_GOODSINCHECKLIST\",operation:_this.props.Login.operation}};_this.props.updateStore(updateInfo);}else{_this.props.onSaveGoodsInCheckList(inputParam);}};_this.searchRef=React.createRef();_this.formRef=React.createRef();_this.confirmMessage=new ConfirmMessage();_this.state={dataState:{skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5},sampleGridDataState:{skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5},userRoleControlRights:[],controlMap:new Map(),masterStatus:\"\",error:\"\",selectedRecord:{},filterGoodsInParam:{},operation:\"\",firstPane:0,paneHeight:0,secondPaneHeight:0,tabPane:0,skip:0,take:_this.props.Login.settings&&_this.props.Login.settings[3],splitChangeWidthPercentage:28.6,goodsinSearchField:[],propertyPopupWidth:\"60\",data:[],mandatorySampleFields:[]};return _this;}_createClass(GoodsIn,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({firstPane:height-80,parentHeight:height-50});}}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){// Rendering the component only if \n// passed props value is changed\nif(nextState.data.length>0&&nextState.data===this.state.data){return false;}else{return true;}}},{key:\"render\",value:function render(){var _this2=this;var obj=convertDateValuetoString(this.props.Login.masterData.realfromDate,this.props.Login.masterData.realtoDate,this.props.Login.userInfo);var fromDate=this.props.Login.masterData.fromDate?rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.fromDate):new Date();var toDate=this.props.Login.masterData.toDate?rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.toDate):new Date();var addId=this.state.controlMap.has(\"AddGoodsIn\")?this.state.controlMap.get(\"AddGoodsIn\").ncontrolcode:-1;var editId=this.state.controlMap.has(\"EditGoodsIn\")?this.state.controlMap.get(\"EditGoodsIn\").ncontrolcode:-1;var deleteId=this.state.controlMap.has(\"DeleteGoodsIn\")?this.state.controlMap.get(\"DeleteGoodsIn\").ncontrolcode:-1;var receiveId=this.state.controlMap.has(\"ReceiveGoodsIn\")?this.state.controlMap.get(\"ReceiveGoodsIn\").ncontrolcode:-1;var approveId=this.state.controlMap.has(\"ApproveGoodsIn\")?this.state.controlMap.get(\"ApproveGoodsIn\").ncontrolcode:-1;var checklistId=this.state.controlMap.has(\"ChecklistGoodsIn\")?this.state.controlMap.get(\"ChecklistGoodsIn\").ncontrolcode:-1;var downloadGoodsIn=this.state.controlMap.has(\"DownloadGoodsIn\")?this.state.controlMap.get(\"DownloadGoodsIn\").ncontrolcode:-1;var deleteSampleId=this.state.controlMap.has(\"DeleteSampleGoodsIn\")?this.state.controlMap.get(\"DeleteSampleGoodsIn\").ncontrolcode:-1;var goodsinAddParam={screenName:\"IDS_GOODSIN\",operation:\"create\",primaryKeyField:\"ngoodsincode\",userInfo:this.props.Login.userInfo,ncontrolCode:addId};var goodsinEditParam={screenName:\"IDS_GOODSIN\",operation:\"update\",primaryKeyField:\"ngoodsincode\",userInfo:this.props.Login.userInfo,ncontrolCode:editId,masterData:this.props.Login.masterData};var goodsinDeleteSampleParam={screenName:\"IDS_GOODSINSAMPLE\",methodUrl:\"GoodsIn\",operation:\"delete\",ncontrolCode:deleteSampleId};var filterParam={inputListName:\"GoodsIn\",selectedObject:\"selectedGoodsIn\",primaryKeyField:\"ngoodsincode\",fetchUrl:\"goodsin/getActiveGoodsInById\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"sgoodsinid1\",\"sclientname\",\"sprojectname\",\"scouriername\",\"nnoofpackages\",\"sconsignmentno\",\"sgoodsindatetime\",\"ssecurityrefno\",\"scomments\",\"stransdisplaystatus\"]};var viewInfoFields=[];viewInfoFields.push({\"fieldName\":\"sclientcatname\",\"label\":\"IDS_CLIENTCATEGORY\"},{\"fieldName\":\"sclientname\",\"label\":\"IDS_CLIENT\"},{\"fieldName\":\"sprojecttypename\",\"label\":\"IDS_PROJECTTYPE\"},{\"fieldName\":\"sprojectname\",\"label\":\"IDS_PROJECT\"},{\"fieldName\":\"scouriername\",\"label\":\"IDS_COURIERCARRIER\"},{\"fieldName\":\"nnoofpackages\",\"label\":\"IDS_NOOFPACKAGES\"},{\"fieldName\":\"sconsignmentno\",\"label\":\"IDS_CONSIGNMENTNO\"},{\"fieldName\":\"sgoodsindatetime\",\"label\":\"IDS_GOODSINDATE\"},{\"fieldName\":\"sviewstatus\",\"label\":\"IDS_OUTOFHOURS\"},{\"fieldName\":\"ssecurityrefno\",\"label\":\"IDS_SECURITYREFNO\"},{\"fieldName\":\"scomments\",\"label\":\"IDS_COMMENTS\"});var breadCrumbData=[];breadCrumbData=[{\"label\":\"IDS_FROM\",\"value\":obj.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":obj.breadCrumbto}];var mandatoryFields=[];if(this.props.Login.screenName===\"IDS_GOODSIN\"){mandatoryFields.push({\"idsName\":\"IDS_CLIENTCATEGORY\",\"dataField\":\"nclientcatcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_CLIENT\",\"dataField\":\"nclientcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_NOOFPACKAGES\",\"dataField\":\"nnoofpackages\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_GOODSINDATE\",\"dataField\":\"dgoodsindatetime\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});if(this.props.Login.userInfo.istimezoneshow===transactionStatus.YES){mandatoryFields.push({\"idsName\":\"IDS_TIMEZONE\",\"dataField\":\"ntzgoodsindate\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});}if(this.state.selectedRecord[\"noutofhours\"]===transactionStatus.YES){mandatoryFields.push({\"idsName\":\"IDS_SECURITYREFNO\",\"dataField\":\"ssecurityrefno\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});}}var userStatusCSS=\"\";var activeIconCSS=\"fa fa-check\";if(this.props.Login.masterData.selectedGoodsIn&&this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.DRAFT){userStatusCSS=\"outline-secondary\";activeIconCSS=\"\";}else if(this.props.Login.masterData.selectedGoodsIn&&this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.RECEIVED){userStatusCSS=\"outline-success\";}else{userStatusCSS=\"outline-Final\";}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.props.sidebarview?'4':\"2\")},/*#__PURE__*/React.createElement(ListMaster,{formatMessage:this.props.intl.formatMessage,screenName:\"IDS_GOODSIN\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.GoodsIn//masterList={this.props.Login.masterData.searchedData}\n,getMasterDetail:function getMasterDetail(_GoodsIn){return _this2.props.getGoodsInDetail(_GoodsIn,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedGoodsIn,primaryKeyField:\"ngoodsincode\",mainField:\"sgoodsinid1\",firstField:\"sclientcatname\",secondField:\"sclientname\",isIDSField:\"Yes\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,searchRef:this.searchRef,reloadData:this.reloadData,hidePaging:false,openModal:function openModal(){return _this2.props.getGoodsInComboService(goodsinAddParam);},openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,showFilterIcon:true,showFilter:this.props.Login.showFilter,filterComponent:[{\"IDS_GOODSINFILTER\":/*#__PURE__*/React.createElement(GoodsInFilter,{fromDate:fromDate,toDate:toDate,handleFilterDateChange:this.handleFilterDateChange,userInfo:this.props.Login.userInfo})}]})),/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.props.sidebarview?'8':\"10\"),className:\"position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-view-btn-block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-view-btn \",onClick:this.props.parentFunction},!this.props.sidebarview?/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-less-than\"}):/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-greater-than\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},this.props.Login.masterData.selectedGoodsIn&&this.props.Login.masterData.GoodsIn&&this.props.Login.masterData.GoodsIn.length>0&&this.props.Login.masterData.selectedGoodsIn?/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.selectedGoodsIn.sgoodsinid1),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(userStatusCSS,\" btn-sm\")},/*#__PURE__*/React.createElement(\"i\",{className:activeIconCSS}),this.props.Login.masterData.selectedGoodsIn.stransdisplaystatus)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline \"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(e){return _this2.props.getGoodsInComboService(goodsinEditParam);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt,title:this.props.intl.formatMessage({id:\"IDS_EDIT\"})})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),onClick:function onClick(){return _this2.ConfirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(receiveId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_RECEIVE\"}),onClick:function onClick(){return _this2.receiveGoodsIn(\"receive\",receiveId);}},/*#__PURE__*/React.createElement(ReceiveGoods,null)),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"}),onClick:function onClick(){return _this2.approveGoodsIn(\"approve\",approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",href:\"#\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_VIEWINFO\"}),onClick:function onClick(){return _this2.props.viewInformation(_this2.props.Login.masterData.selectedGoodsIn.ngoodsincode,_this2.props.Login.userInfo,_this2.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(checklistId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_CHECKLIST\"}),onClick:function onClick(){return _this2.props.checkListGoodsIn(_this2.props.Login.masterData,_this2.props.Login.masterData.selectedGoodsIn,_this2.state.Checklist,checklistId,_this2.props.Login.userInfo);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faListAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(downloadGoodsIn)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DOWNLOADFILE\"})//onClick={() => this.props.downloadGoodsIn()}>\n,onClick:function onClick(){return _this2.props.generateControlBasedReport(downloadGoodsIn,_this2.props.Login.masterData.selectedGoodsIn,_this2.props.Login,\"ngoodsincode\",_this2.props.Login.masterData.selectedGoodsIn.ngoodsincode);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCloudDownloadAlt})))))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"ngoodsinsamplecode\",data:this.props.Login.masterData.GoodsInSample||[],dataResult:process(this.props.Login.masterData.GoodsInSample||[],this.state.sampleGridDataState),dataState:this.state.sampleGridDataState,dataStateChange:this.sampleInfoDataStateChange,extractedColumnList:this.gridfillingColumn(this.state.DynamicGridItem)||[],detailedFieldList:this.gridfillingColumn(this.state.DynamicGridMoreField)||[],exportFieldList:this.gridfillingColumn(this.state.DynamicExportItem)||[],userInfo:this.props.Login.userInfo,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam//editParam={goodsinSampleEditParam}\n//fetchRecord={this.editSampleGoodsIn}\n,deleteRecord:this.DeleteGoodsInSample,deleteParam:goodsinDeleteSampleParam,methodUrl:\"SampleGoodsIn\",pageable:true,isComponent:false,hasDynamicColSize:true,isActionRequired:true,isToolBarRequired:true,isAddRequired:true,addRecord:this.openSampleGoodsIn,isRefreshRequired:false,isImportRequired:true,isDownloadPDFRequired:false,isDownloadExcelRequired:false,import:this.ImportFile,scrollable:'scrollable',gridHeight:'600px',expandField:\"expanded\",screenName:\"Goods In Sample\"}))):\"\")))))),this.props.Login.openModal?/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign// masterStatus={this.props.Login.masterStatus}\n,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},noSave:this.props.Login.operation===\"view\"?true:false,mandatoryFields:this.props.Login.screenName===\"IDS_GOODSINSAMPLE\"&&this.props.Login.operation===\"create\"?this.state.mandatorySampleFields:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_GOODSIN\"&&(this.props.Login.operation===\"create\"||this.props.Login.operation===\"update\")?/*#__PURE__*/React.createElement(AddGoodsIn,{onNumericInputOnChange:this.onNumericInputOnChange,onInputOnChange:this.onInputOnChange,handleDateChange:this.handleDateChange,onComboChange:this.onComboChange,formatMessage:this.props.intl.formatMessage,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,ClientCategory:this.props.Login.ClientCategory,Client:this.props.Login.Client,ProjectType:this.props.Login.ProjectType,Courier:this.props.Login.Courier,Project:this.props.Login.Project,TimeZone:this.props.Login.TimeZone,selectedRecord:this.state.selectedRecord||{},currentTime:this.props.Login.currentTime||[],userInfo:this.props.Login.userInfo}):this.props.Login.screenName===\"IDS_GOODSIN\"&&this.props.Login.operation===\"view\"?/*#__PURE__*/React.createElement(GoodsInView,{userInfo:this.props.Login.userInfo,selectedRecordView:this.props.Login.masterData.selectedRecordView,viewInfoFields:viewInfoFields||[]}):this.props.Login.screenName===\"IDS_GOODSINSAMPLE\"&&this.props.Login.operation===\"create\"?/*#__PURE__*/React.createElement(DynamicSlideout,{selectedRecord:this.props.Login.selectedRecord,templateData:this.props.Login.masterData.DesignTemplateMapping&&this.props.Login.masterData.DesignTemplateMapping[0].jsondata,handleDateChange:this.dynamicHandleDateChange,onInputOnChange:this.onInputOnChange,onNumericInputChange:this.onNumericInputOnChange,comboData:this.props.Login.comboData,onComboChange:this.onDynamicComboChange,onDropFile:this.onDropFile,deleteAttachment:this.deleteAttachment,onNumericBlur:this.onNumericBlur,userInfo:this.props.Login.userInfo,timeZoneList:this.props.Login.timeZoneList,defaultTimeZone:this.props.Login.defaultTimeZone,Login:this.props.Login,addMasterRecord:this.addMasterRecord,editMasterRecord:this.editMasterRecord,userRoleControlRights:this.props.Login.userRoleControlRights}):this.props.Login.screenName===\"IDS_GOODSINSAMPLE\"&&this.props.Login.operation===\"import\"?/*#__PURE__*/React.createElement(AddFile,{selectedRecord:this.state.selectedRecord||{},onDrop:this.onDropSampleFile,deleteAttachment:this.deleteAttachment,actionType:this.state.actionType,operation:this.props.Login.operation,screenName:this.props.Login.screenName}):\"\"}):this.props.Login.screenName===\"IDS_GOODSINCHECKLIST\"&&this.props.Login.operation===\"checklist\"?/*#__PURE__*/React.createElement(GoodsInChecklist,{templateData:this.props.Login.masterData.ChecklistData,needSaveButton:this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.RECEIVED?true:false,formRef:this.formRef,onTemplateInputChange:this.onTemplateInputChange,handleClose:this.closeModal,onTemplateComboChange:this.onTemplateComboChange,screenName:this.props.Login.screenName,onSaveClick:this.insertGoodsInChecklist,Login:this.props.Login,viewScreen:this.props.Login.openTemplateModal,selectedGoodsIn:this.props.Login.masterData.selectedGoodsIn,selectedRecord:this.state.selectedRecord||[],onTemplateDateChange:this.onTemplateDateChange,needValidation:true}):\"\");}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var activeTabIndex=this.props.Login.activeTabIndex;var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:[],inputParam:undefined,operation:null,modalName:undefined}};this.props.updateStore(updateInfo);}},{key:\"gridfillingColumn\",value:function gridfillingColumn(data){var _this3=this;var temparray=data&&data.map(function(option){return{\"idsName\":option[designProperties.LABEL][_this3.props.Login.userInfo.slanguagetypecode]||\"-\",\"dataField\":option[designProperties.VALUE],\"width\":\"200px\",\"columnSize\":\"3\",\"dataType\":option[designProperties.LISTITEM]};});return temparray;}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this$state=this.state,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,selectedRecord=_this$state.selectedRecord,skip=_this$state.skip,take=_this$state.take,masterData=_this$state.masterData,sampleGridDataState=_this$state.sampleGridDataState,DynamicGridItem=_this$state.DynamicGridItem,DynamicGridMoreField=_this$state.DynamicGridMoreField,DynamicExportItem=_this$state.DynamicExportItem,DynamicDateField=_this$state.DynamicDateField,DynamicTemplateField=_this$state.DynamicTemplateField,DynamicDateConstraints=_this$state.DynamicDateConstraints,DynamicCombinationUnique=_this$state.DynamicCombinationUnique,Checklist=_this$state.Checklist,DynamicExportfields=_this$state.DynamicExportfields;var bool=false;if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);bool=true;}}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;bool=true;}if(this.props.Login.masterData!==previousProps.Login.masterData){bool=true;skip=this.props.Login.skip===undefined?skip:this.props.Login.skip;take=this.props.Login.take||take;}if(this.props.Login.sampleGridDataState&&this.props.Login.sampleGridDataState!==previousProps.Login.sampleGridDataState){sampleGridDataState=this.props.Login.sampleGridDataState;}if(this.props.Login.masterData.DynamicDesign&&this.props.Login.masterData.DynamicDesign!==previousProps.Login.masterData.DynamicDesign){var dynamicColumn=JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata&&this.props.Login.masterData.DynamicDesign.jsondata.value);if(dynamicColumn!==null){DynamicGridItem=dynamicColumn.griditem?dynamicColumn.griditem:[];DynamicGridMoreField=dynamicColumn.gridmoreitem?dynamicColumn.gridmoreitem:[];DynamicExportItem=dynamicColumn.exportFields?dynamicColumn.exportFields:[];DynamicDateField=dynamicColumn.datefields?dynamicColumn.datefields:[];DynamicTemplateField=dynamicColumn.templatefields?dynamicColumn.templatefields:[];DynamicDateConstraints=dynamicColumn.dateconstraints?dynamicColumn.dateconstraints:[];DynamicCombinationUnique=dynamicColumn.combinationunique?dynamicColumn.combinationunique:[];Checklist=dynamicColumn.checklist?dynamicColumn.checklist:[];DynamicExportfields=dynamicColumn.exportFields?dynamicColumn.exportFields:[];}}if(bool){this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,selectedRecord:selectedRecord,skip:skip,take:take,masterData:masterData,sampleGridDataState:sampleGridDataState,DynamicGridItem:DynamicGridItem,DynamicGridMoreField:DynamicGridMoreField,DynamicExportItem:DynamicExportItem,DynamicDateField:DynamicDateField,DynamicTemplateField:DynamicTemplateField,DynamicDateConstraints:DynamicDateConstraints,DynamicCombinationUnique:DynamicCombinationUnique,Checklist:Checklist,DynamicExportfields:DynamicExportfields});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.multilingualMsg!==undefined&&props.Login.multilingualMsg!==\"\"){toast.warn(props.intl.formatMessage({id:props.Login.multilingualMsg}));props.Login.multilingualMsg=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return GoodsIn;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,getGoodsInFilterSubmit:getGoodsInFilterSubmit,validateEsignCredential:validateEsignCredential,getGoodsInComboService:getGoodsInComboService,getGoodsInDetail:getGoodsInDetail,getClient:getClient,getProjectType:getProjectType,getProject:getProject,filterColumnData:filterColumnData,getPreviewTemplate:getPreviewTemplate,viewInformation:viewInformation,checkListGoodsIn:checkListGoodsIn,downloadGoodsIn:downloadGoodsIn,onSaveGoodsInCheckList:onSaveGoodsInCheckList,validateEsignGoodsIn:validateEsignGoodsIn,generateControlBasedReport:generateControlBasedReport})(injectIntl(GoodsIn));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/goodsin/GoodsIn.jsx"],"names":["React","connect","injectIntl","FormattedMessage","BreadcrumbComponent","callService","crudMaster","updateStore","getGoodsInFilterSubmit","validateEsignCredential","getGoodsInComboService","getGoodsInDetail","getClient","getProjectType","getProject","filterColumnData","getPreviewTemplate","viewInformation","checkListGoodsIn","downloadGoodsIn","onSaveGoodsInCheckList","validateEsignGoodsIn","generateControlBasedReport","toast","convertDateValuetoString","rearrangeDateFormat","getControlMap","showEsign","formatInputDate","comboChild","convertDateTimetoStringDBFormat","onDropAttachFileList","deleteAttachmentDropZone","Lims_JSON_stringify","ListWrapper","DEFAULT_RETURN","Col","Row","Card","Nav","FormGroup","FormLabel","GoodsInFilter","ListMaster","AddGoodsIn","Esign","SlideOutModal","SampleType","designProperties","transactionStatus","ConfirmMessage","ContentPanel","ReadOnlyText","FontAwesomeIcon","faPencilAlt","faTrashAlt","faThumbsUp","faListAlt","faCloudDownloadAlt","faEye","DynamicSlideout","DataGrid","process","AddFile","GoodsInView","GoodsInChecklist","templateChangeHandler","REPORTTYPE","Affix","mapStateToProps","state","Login","GoodsIn","props","openFilter","showFilter","updateInfo","typeName","data","closeFilter","handleFilterDateChange","dateName","dateValue","masterData","setState","handleDateChange","selectedRecord","dynamicHandleDateChange","onTemplateInputChange","event","control","onTemplateComboChange","comboData","onTemplateDateChange","dateData","onFilterSubmit","obj","fromDate","toDate","userInfo","realfromDate","realtoDate","inputData","userinfo","inputParam","reloadData","searchRef","current","value","closeModal","loadEsign","openModal","screenName","operation","openTemplateModal","selectedId","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","screenData","onInputOnChange","target","type","name","checked","onComboChange","fieldName","nclientcatcode","nclientcode","nprojecttypecode","onDynamicComboChange","customName","comboName","valuemember","nquerybuildertablecode","source","onNumericInputOnChange","onNumericBlur","max","parseFloat","precision","parseInt","min","sampleInfoDataStateChange","dataResult","GoodsInSample","dataState","sampleGridDataState","generateControlBasedReportReport","primaryKeyField","sreportlink","reportSettings","smrttemplatelink","nreporttypecode","CONTROLBASED","ncontrolcode","primaryKeyValue","selectedGoodsIn","ngoodsincode","ngoodsincode_componentcode","ngoodsincode_componentname","ntranscode","ntransactionstatus","onSaveClick","saveType","formRef","warn","intl","formatMessage","id","postParam","undefined","inputListName","selectedObject","NO","classUrl","methodUrl","displayName","userRoleControlRights","nformcode","ncontrolCode","insertGoodsInSample","importGoodsInSample","ConfirmDelete","deleteId","confirmMessage","confirm","DeleteGoodsIn","fetchUrl","fecthInputObject","receiveGoodsIn","approveGoodsIn","openSampleGoodsIn","addSampleId","controlMap","has","get","Status","APPROVED","info","addSampleGoodsIn","ScreenName","controlCode","importData","withoutCombocomponent","mandatorySampleFields","Layout","DesignTemplateMapping","jsondata","map","row","children","column","component","hasOwnProperty","componentrow","inputtype","push","mandatory","comboComponents","childColumnList","columnList","val","mapOfFilterRegData","nsampletypecode","GOODSIN","ImportFile","onDropSampleFile","attachedFiles","maxSize","actionType","deleteAttachment","file","DeleteGoodsInSample","deleteParam","ngoodsinsamplecode","ndesigntemplatemappingcode","Map","param","goodsInSample","defaultTimeZone","dateList","DynamicCombinationUnique","templateList","defaulttimeZone","findIndex","x","pkey","table","item","vale","Date","loadcurrentdate","timezone","console","log","formData","FormData","acceptedFiles","stemplatefilename","mandatoryImportFields","exportFieldProperties","length","forEach","index","append","DynamicDateField","exportList","DynamicExportfields","dataField","JSON","stringify","DynamicDateConstraints","isFileupload","insertGoodsInChecklist","createRef","skip","take","settings","masterStatus","error","filterGoodsInParam","firstPane","paneHeight","secondPaneHeight","tabPane","splitChangeWidthPercentage","goodsinSearchField","propertyPopupWidth","parentHeight","height","clientHeight","nextProps","nextState","addId","editId","receiveId","approveId","checklistId","deleteSampleId","goodsinAddParam","goodsinEditParam","goodsinDeleteSampleParam","filterParam","searchFieldList","viewInfoFields","breadCrumbData","breadCrumbFrom","breadCrumbto","mandatoryFields","istimezoneshow","YES","userStatusCSS","activeIconCSS","DRAFT","RECEIVED","sidebarview","searchedData","parentFunction","sgoodsinid1","stransdisplaystatus","indexOf","e","Checklist","gridfillingColumn","DynamicGridItem","DynamicGridMoreField","DynamicExportItem","ClientCategory","Client","ProjectType","Courier","Project","TimeZone","currentTime","selectedRecordView","onDropFile","timeZoneList","addMasterRecord","editMasterRecord","ChecklistData","activeTabIndex","modalName","temparray","option","LABEL","slanguagetypecode","VALUE","LISTITEM","previousProps","DynamicTemplateField","bool","Object","values","DynamicDesign","dynamicColumn","parse","griditem","gridmoreitem","exportFields","datefields","templatefields","dateconstraints","combinationunique","checklist","multilingualMsg","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl,FormattedMessage } from 'react-intl';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { callService,crudMaster,updateStore,getGoodsInFilterSubmit,validateEsignCredential,getGoodsInComboService,getGoodsInDetail,getClient,getProjectType,getProject,filterColumnData,getPreviewTemplate,viewInformation,checkListGoodsIn,downloadGoodsIn,onSaveGoodsInCheckList,validateEsignGoodsIn,generateControlBasedReport  } from '../../actions';\r\nimport { toast } from 'react-toastify';\r\nimport { convertDateValuetoString, rearrangeDateFormat, getControlMap,showEsign,formatInputDate,comboChild,convertDateTimetoStringDBFormat,onDropAttachFileList,deleteAttachmentDropZone,Lims_JSON_stringify } from '../../components/CommonScript';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport {  Col, Row, Card, Nav,FormGroup,FormLabel } from 'react-bootstrap';\r\nimport GoodsInFilter from './GoodsInFilter';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport AddGoodsIn  from './AddGoodsIn';\r\nimport Esign from '../audittrail/Esign';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { SampleType, designProperties,transactionStatus } from '../../components/Enumeration';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport { ContentPanel,ReadOnlyText } from '../../components/App.styles';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt,faThumbsUp,faListAlt,faCloudDownloadAlt, faEye } from '@fortawesome/free-solid-svg-icons';\r\nimport DynamicSlideout from '../dynamicpreregdesign/DynamicSlideout';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { ReactComponent as GoodsReceivedIcon } from '../../assets/image/goods-received.svg';\r\nimport { ReactComponent as DownloadGoods} from '../../assets/image/Download Goods.svg';\r\nimport AddFile from './AddFile';\r\nimport GoodsInView from './GoodsInView';\r\nimport GoodsInChecklist from './GoodsInChecklist';\r\nimport { templateChangeHandler } from '../checklist/checklist/checklistMethods';\r\nimport { REPORTTYPE } from '../../components/Enumeration';\r\nimport { ReactComponent as ReceiveGoods} from '../../assets/image/Receive Goods.svg';\r\nimport { Affix } from 'rsuite';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\nclass GoodsIn extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.searchRef = React.createRef();    \r\n        this.formRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n\r\n        this.state = {\r\n            dataState: { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 },\r\n            sampleGridDataState : {  skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 },\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            selectedRecord: {},\r\n            filterGoodsInParam: {},\r\n            operation: \"\",           \r\n            firstPane: 0,\r\n            paneHeight: 0,\r\n            secondPaneHeight: 0,\r\n            tabPane: 0,          \r\n            skip: 0,\r\n            take: this.props.Login.settings && this.props.Login.settings[3],           \r\n            splitChangeWidthPercentage: 28.6,\r\n            goodsinSearchField: [],           \r\n            propertyPopupWidth: \"60\",\r\n            data: [],\r\n            mandatorySampleFields:[]\r\n        \r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\") {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.multilingualMsg !== undefined && props.Login.multilingualMsg !== \"\") {\r\n            toast.warn(props.intl.formatMessage({ id: props.Login.multilingualMsg }));\r\n            props.Login.multilingualMsg = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        // Rendering the component only if \r\n        // passed props value is changed\r\n        if (nextState.data.length > 0 && nextState.data === this.state.data) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.realfromDate, this.props.Login.masterData.realtoDate, this.props.Login.userInfo);\r\n\r\n        let fromDate=this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date();\r\n        let toDate=this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date();\r\n\r\n        const addId = this.state.controlMap.has(\"AddGoodsIn\") ? this.state.controlMap.get(\"AddGoodsIn\").ncontrolcode : -1;\r\n        const editId = this.state.controlMap.has(\"EditGoodsIn\") ? this.state.controlMap.get(\"EditGoodsIn\").ncontrolcode : -1;\r\n        const deleteId = this.state.controlMap.has(\"DeleteGoodsIn\") ? this.state.controlMap.get(\"DeleteGoodsIn\").ncontrolcode : -1;\r\n        const receiveId = this.state.controlMap.has(\"ReceiveGoodsIn\") ? this.state.controlMap.get(\"ReceiveGoodsIn\").ncontrolcode : -1;\r\n        const approveId = this.state.controlMap.has(\"ApproveGoodsIn\") ? this.state.controlMap.get(\"ApproveGoodsIn\").ncontrolcode : -1;\r\n        const checklistId = this.state.controlMap.has(\"ChecklistGoodsIn\") ? this.state.controlMap.get(\"ChecklistGoodsIn\").ncontrolcode : -1;\r\n        const downloadGoodsIn = this.state.controlMap.has(\"DownloadGoodsIn\") ? this.state.controlMap.get(\"DownloadGoodsIn\").ncontrolcode : -1; \r\n        const deleteSampleId = this.state.controlMap.has(\"DeleteSampleGoodsIn\") ? this.state.controlMap.get(\"DeleteSampleGoodsIn\").ncontrolcode : -1; \r\n \r\n\r\n        const goodsinAddParam = {\r\n            screenName: \"IDS_GOODSIN\", operation: \"create\", primaryKeyField: \"ngoodsincode\",\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: addId\r\n        };\r\n\r\n        const goodsinEditParam = {\r\n            screenName: \"IDS_GOODSIN\", operation: \"update\", primaryKeyField: \"ngoodsincode\",\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: editId,masterData:this.props.Login.masterData\r\n            \r\n        };\r\n\r\n        const goodsinDeleteSampleParam = { \r\n            screenName: \"IDS_GOODSINSAMPLE\", methodUrl: \"GoodsIn\", operation: \"delete\", ncontrolCode: deleteSampleId };        \r\n\r\n        const filterParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\", primaryKeyField: \"ngoodsincode\",\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"sgoodsinid1\",\"sclientname\", \"sprojectname\", \"scouriername\",\"nnoofpackages\",\"sconsignmentno\",\"sgoodsindatetime\",\"ssecurityrefno\",\"scomments\" ,\"stransdisplaystatus\"]\r\n        };\r\n\r\n        const viewInfoFields=[];\r\n        viewInfoFields.push(\r\n            { \"fieldName\": \"sclientcatname\", \"label\": \"IDS_CLIENTCATEGORY\"},\r\n            { \"fieldName\": \"sclientname\", \"label\": \"IDS_CLIENT\"},\r\n            { \"fieldName\": \"sprojecttypename\", \"label\": \"IDS_PROJECTTYPE\"},\r\n            { \"fieldName\": \"sprojectname\", \"label\": \"IDS_PROJECT\"},\r\n            { \"fieldName\": \"scouriername\", \"label\": \"IDS_COURIERCARRIER\"},\r\n            { \"fieldName\": \"nnoofpackages\", \"label\": \"IDS_NOOFPACKAGES\"},\r\n            { \"fieldName\": \"sconsignmentno\", \"label\": \"IDS_CONSIGNMENTNO\"},\r\n            { \"fieldName\": \"sgoodsindatetime\", \"label\": \"IDS_GOODSINDATE\"},\r\n            { \"fieldName\": \"sviewstatus\", \"label\": \"IDS_OUTOFHOURS\"},\r\n            { \"fieldName\": \"ssecurityrefno\", \"label\": \"IDS_SECURITYREFNO\"},\r\n            { \"fieldName\": \"scomments\", \"label\": \"IDS_COMMENTS\"}\r\n        )                        \r\n                                           \r\n\r\n        let breadCrumbData = [];\r\n        breadCrumbData = [\r\n            {\r\n                \"label\": \"IDS_FROM\",\r\n                \"value\": obj.breadCrumbFrom\r\n            },\r\n            {\r\n                \"label\": \"IDS_TO\",\r\n                \"value\": obj.breadCrumbto\r\n            }\r\n        ]; \r\n\r\n        let mandatoryFields = [];\r\n            if(this.props.Login.screenName===\"IDS_GOODSIN\"){\r\n                mandatoryFields.push(\r\n                    { \"idsName\": \"IDS_CLIENTCATEGORY\", \"dataField\": \"nclientcatcode\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_CLIENT\", \"dataField\": \"nclientcode\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_NOOFPACKAGES\", \"dataField\": \"nnoofpackages\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                    { \"idsName\": \"IDS_GOODSINDATE\", \"dataField\": \"dgoodsindatetime\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n    \r\n                )\r\n    \r\n                if(this.props.Login.userInfo.istimezoneshow === transactionStatus.YES){\r\n                    mandatoryFields.push({ \"idsName\": \"IDS_TIMEZONE\", \"dataField\": \"ntzgoodsindate\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n                }\r\n    \r\n                if (this.state.selectedRecord[\"noutofhours\"] === transactionStatus.YES) {\r\n                    mandatoryFields.push({ \"idsName\": \"IDS_SECURITYREFNO\", \"dataField\": \"ssecurityrefno\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"});\r\n                }\r\n            }\r\n           \r\n\r\n            let userStatusCSS = \"\";\r\n            let activeIconCSS = \"fa fa-check\";\r\n            if (this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.selectedGoodsIn.ntransactionstatus === transactionStatus.DRAFT) {\r\n                userStatusCSS = \"outline-secondary\";\r\n                activeIconCSS = \"\";\r\n            }\r\n            else if (this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.selectedGoodsIn.ntransactionstatus === transactionStatus.RECEIVED) {\r\n                userStatusCSS = \"outline-success\";\r\n            }\r\n            else {\r\n                userStatusCSS = \"outline-Final\";\r\n            }\r\n   \r\n\r\n        \r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                    <Row noGutters={true} >\r\n                        <Col md={`${!this.props.sidebarview ? '4' : \"2\"}`}> \r\n                            <ListMaster\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={\"IDS_GOODSIN\"}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.GoodsIn}\r\n                                //masterList={this.props.Login.masterData.searchedData}\r\n                                getMasterDetail={(GoodsIn) => this.props.getGoodsInDetail(GoodsIn, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedGoodsIn}\r\n                                primaryKeyField=\"ngoodsincode\"\r\n                                mainField=\"sgoodsinid1\"\r\n                                firstField=\"sclientcatname\"\r\n                                secondField=\"sclientname\"\r\n                                isIDSField=\"Yes\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={false}\r\n                                openModal={() => this.props.getGoodsInComboService(goodsinAddParam)}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n                                showFilterIcon={true}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_GOODSINFILTER\":\r\n                                            <GoodsInFilter\r\n                                                fromDate={fromDate}\r\n                                                toDate={toDate}\r\n                                                handleFilterDateChange={this.handleFilterDateChange}\r\n                                                userInfo={this.props.Login.userInfo}\r\n\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md={`${!this.props.sidebarview ? '8' : \"10\"}`} className=\"position-relative\">\r\n                            <div className=\"sidebar-view-btn-block\">\r\n                                <div className=\"sidebar-view-btn \" onClick={this.props.parentFunction}>\r\n                                    {!this.props.sidebarview ?                    \r\n                                        <i class=\"fa fa-less-than\"></i> :\r\n                                        <i class=\"fa fa-greater-than\"></i> \r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <ContentPanel className=\"panel-main-content\">\r\n                                        {this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.GoodsIn && this.props.Login.masterData.GoodsIn.length > 0 && this.props.Login.masterData.selectedGoodsIn ?\r\n                                            <Card className=\"border-0\">\r\n                                                <Card.Header>\r\n                                                <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedGoodsIn.sgoodsinid1}</Card.Title>\r\n                                                <Card.Subtitle>\r\n                                                    <div className=\"d-flex product-category\">\r\n                                                        <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                            <span className={`btn btn-outlined ${userStatusCSS} btn-sm`}>\r\n                                                                <i className={activeIconCSS}></i>\r\n                                                                {this.props.Login.masterData.selectedGoodsIn.stransdisplaystatus}\r\n                                                            </span>\r\n                                                        </h2>\r\n                                                        <div className=\"d-inline \">\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                            onClick={(e) => this.props.getGoodsInComboService(goodsinEditParam)} >\r\n                                                            <FontAwesomeIcon icon={faPencilAlt} title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            onClick={() => this.ConfirmDelete(deleteId)}>\r\n                                                            <FontAwesomeIcon icon={faTrashAlt} />                                                            \r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(receiveId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_RECEIVE\" })}\r\n                                                            onClick={() => this.receiveGoodsIn(\"receive\",receiveId)}>\r\n                                                            <ReceiveGoods/>\r\n                                                            {/* <GoodsReceivedIcon className=\"custom_icons\" width=\"20\" height=\"20\"\r\n                                                                            name=\"goodsreceivedicon\"/>                                                                                                                        */}\r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                            onClick={() => this.approveGoodsIn(\"approve\",approveId)}>\r\n                                                            <FontAwesomeIcon icon={faThumbsUp} />                                                            \r\n                                                        </Nav.Link> \r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_VIEWINFO\" })}\r\n                                                            onClick={() => this.props.viewInformation(this.props.Login.masterData.selectedGoodsIn.ngoodsincode,this.props.Login.userInfo,this.props.Login.masterData)}>\r\n                                                            <FontAwesomeIcon icon={faEye} />                                                            \r\n                                                        </Nav.Link> \r\n\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                             hidden={this.state.userRoleControlRights.indexOf(checklistId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_CHECKLIST\" })}\r\n                                                            onClick={() => this.props.checkListGoodsIn(this.props.Login.masterData,this.props.Login.masterData.selectedGoodsIn,this.state.Checklist,checklistId,this.props.Login.userInfo)}>\r\n                                                            <FontAwesomeIcon icon={faListAlt} />                                                            \r\n                                                        </Nav.Link> \r\n\r\n                                                         <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(downloadGoodsIn) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DOWNLOADFILE\" })}\r\n                                                            //onClick={() => this.props.downloadGoodsIn()}>\r\n                                                            onClick={() =>this.props.generateControlBasedReport(downloadGoodsIn,this.props.Login.masterData.selectedGoodsIn,this.props.Login,\"ngoodsincode\",this.props.Login.masterData.selectedGoodsIn.ngoodsincode)}> \r\n                                                             <FontAwesomeIcon icon={faCloudDownloadAlt} /> \r\n                                                         </Nav.Link>                                              \r\n                                                        \r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Card.Subtitle>\r\n                                                </Card.Header>\r\n                                                <Card.Body>                                           \r\n                                                    <DataGrid\r\n                                                        primaryKeyField={\"ngoodsinsamplecode\"}\r\n                                                        data={this.props.Login.masterData.GoodsInSample ||[]}\r\n                                                        dataResult={process(this.props.Login.masterData.GoodsInSample ||[], this.state.sampleGridDataState)}\r\n                                                        dataState={this.state.sampleGridDataState}\r\n                                                        dataStateChange={this.sampleInfoDataStateChange}\r\n                                                        extractedColumnList={this.gridfillingColumn(this.state.DynamicGridItem) || []}\r\n                                                        detailedFieldList={this.gridfillingColumn(this.state.DynamicGridMoreField) || []} \r\n                                                        exportFieldList={this.gridfillingColumn(this.state.DynamicExportItem) || []} \r\n                                                        userInfo={this.props.Login.userInfo}\r\n                                                        controlMap={this.state.controlMap}\r\n                                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                                        inputParam={this.props.Login.inputParam}\r\n                                                        //editParam={goodsinSampleEditParam}\r\n                                                        //fetchRecord={this.editSampleGoodsIn}\r\n                                                        deleteRecord = {this.DeleteGoodsInSample}\r\n                                                        deleteParam={goodsinDeleteSampleParam}\r\n                                                        methodUrl ={\"SampleGoodsIn\"}\r\n                                                        pageable={true}\r\n                                                        isComponent={false}\r\n                                                        hasDynamicColSize={true}\r\n                                                        isActionRequired={true}\r\n                                                        isToolBarRequired={true}\r\n                                                        isAddRequired={true}\r\n                                                        addRecord={this.openSampleGoodsIn}\r\n                                                        isRefreshRequired ={false}\r\n                                                        isImportRequired={true}\r\n                                                        isDownloadPDFRequired={false}\r\n                                                        isDownloadExcelRequired={false}\r\n                                                        import={this.ImportFile}\r\n                                                        scrollable={'scrollable'}\r\n                                                        gridHeight={'600px'}\r\n                                                        expandField=\"expanded\"\r\n                                                        screenName =\"Goods In Sample\"\r\n                                                    />\r\n\r\n                       \r\n\r\n                                                </Card.Body>\r\n\r\n                                            </Card>\r\n                                        :\"\"}\r\n                                    </ContentPanel>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>   \r\n\r\n                    </Row>\r\n                </ListWrapper>  \r\n                { this.props.Login.openModal ?\r\n                    <SlideOutModal \r\n                        show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                       // masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        noSave={this.props.Login.operation === \"view\" ? true : false}\r\n                        mandatoryFields={this.props.Login.screenName ===\"IDS_GOODSINSAMPLE\" && this.props.Login.operation ===\"create\" ? this.state.mandatorySampleFields :  mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ? (\r\n                            <Esign \r\n                            operation={this.props.Login.operation}\r\n                            formatMessage={this.props.intl.formatMessage}\r\n                            onInputOnChange={this.onInputOnChange}\r\n                            inputParam={this.props.Login.inputParam}\r\n                            selectedRecord={this.state.selectedRecord || {}}\r\n                        />\r\n                        ) : this.props.Login.screenName ===  \"IDS_GOODSIN\"  && (this.props.Login.operation ===  \"create\" || this.props.Login.operation === \"update\") ? (\r\n                            <AddGoodsIn\r\n                                onNumericInputOnChange={this.onNumericInputOnChange}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                handleDateChange ={this.handleDateChange}\r\n                                onComboChange={this.onComboChange}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                operation={this.props.Login.operation}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                ClientCategory ={this.props.Login.ClientCategory}\r\n                                Client={this.props.Login.Client}\r\n                                ProjectType={this.props.Login.ProjectType}\r\n                                Courier={this.props.Login.Courier}\r\n                                Project={this.props.Login.Project}\r\n                                TimeZone={this.props.Login.TimeZone}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                currentTime={this.props.Login.currentTime || []}\r\n                                userInfo={this.props.Login.userInfo}\r\n    \r\n                            />\r\n                        ) : this.props.Login.screenName === \"IDS_GOODSIN\" && this.props.Login.operation ===\"view\" ? (\r\n                            <GoodsInView\r\n                                userInfo={this.props.Login.userInfo}\r\n                                selectedRecordView={this.props.Login.masterData.selectedRecordView}\r\n                                viewInfoFields={viewInfoFields|| []}\r\n                            />  \r\n\r\n                        ): this.props.Login.screenName === \"IDS_GOODSINSAMPLE\" && this.props.Login.operation ===\"create\" ? (                                \r\n                                    <DynamicSlideout\r\n                                        selectedRecord={this.props.Login.selectedRecord}\r\n                                        templateData={this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping [0].jsondata}\r\n                                        handleDateChange={this.dynamicHandleDateChange}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onNumericInputChange={this.onNumericInputOnChange}\r\n                                        comboData={this.props.Login.comboData}\r\n                                        onComboChange={this.onDynamicComboChange}\r\n                                        onDropFile={this.onDropFile}\r\n                                        deleteAttachment={this.deleteAttachment}\r\n                                        onNumericBlur={this.onNumericBlur}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        timeZoneList={this.props.Login.timeZoneList}\r\n                                        defaultTimeZone={this.props.Login.defaultTimeZone}\r\n                                        Login={this.props.Login}\r\n                                        addMasterRecord={this.addMasterRecord}\r\n                                        editMasterRecord={this.editMasterRecord}\r\n                                        userRoleControlRights={this.props.Login.userRoleControlRights}\r\n                                    ></DynamicSlideout>  \r\n                                                    \r\n                        ): this.props.Login.screenName ===\"IDS_GOODSINSAMPLE\" && this.props.Login.operation ===\"import\" ? (\r\n                                <AddFile\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onDrop={this.onDropSampleFile}\r\n                                    deleteAttachment={this.deleteAttachment}\r\n                                    actionType={this.state.actionType}\r\n                                    operation={this.props.Login.operation}    \r\n                                    screenName={this.props.Login.screenName}\r\n                               \r\n                                />\r\n                        ):( \"\" )\r\n                        \r\n                        \r\n                        }\r\n                    />\r\n                : \r\n                this.props.Login.screenName === \"IDS_GOODSINCHECKLIST\" && this.props.Login.operation ===\"checklist\" ? (\r\n                    <GoodsInChecklist\r\n                        templateData={this.props.Login.masterData.ChecklistData}\r\n                        needSaveButton={this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.RECEIVED ? true:false}\r\n                        formRef={this.formRef}\r\n                        onTemplateInputChange={this.onTemplateInputChange}\r\n                        handleClose={this.closeModal}\r\n                        onTemplateComboChange={this.onTemplateComboChange}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.insertGoodsInChecklist}\r\n                        Login={this.props.Login}\r\n                        viewScreen={this.props.Login.openTemplateModal}\r\n                        selectedGoodsIn ={this.props.Login.masterData.selectedGoodsIn}\r\n                        selectedRecord={this.state.selectedRecord || []}\r\n                        onTemplateDateChange={this.onTemplateDateChange}\r\n                        needValidation={true}\r\n                    /> \r\n                ) :(\"\")\r\n                } \r\n                \r\n            </>\r\n        )\r\n    }\r\n    componentWillUnmount() {\r\n        let activeTabIndex=this.props.Login.activeTabIndex\r\n         const updateInfo = {\r\n             typeName: DEFAULT_RETURN,\r\n             data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n             }\r\n         }\r\n         this.props.updateStore(updateInfo);\r\n     }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    handleFilterDateChange = (dateName, dateValue) => {\r\n        let masterData = this.props.Login.masterData;\r\n        masterData[dateName] = dateValue;         \r\n        this.setState ({masterData});\r\n\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    dynamicHandleDateChange = (dateValue, dateName) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onTemplateInputChange = (event, control) => {\r\n        let selectedRecord = templateChangeHandler(1, this.state.selectedRecord, event, control)\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onTemplateComboChange = (comboData, control) => {\r\n        let selectedRecord = templateChangeHandler(2, this.state.selectedRecord, comboData, control)\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onTemplateDateChange = (dateData, control) => {\r\n        let selectedRecord = templateChangeHandler(3, this.state.selectedRecord, dateData, control)\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onFilterSubmit = () => {         \r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let realfromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\r\n        let realtoDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\r\n        let masterData = { ...this.props.Login.masterData, realfromDate, realtoDate};\r\n        let inputData ={\r\n            fromDate: obj.fromDate,\r\n            toDate : obj.toDate,\r\n            userinfo: this.props.Login.userInfo,\r\n\r\n        }       \r\n        let inputParam = {\r\n            masterData,\r\n            inputData\r\n        }\r\n        this.props.getGoodsInFilterSubmit(inputParam);\r\n\r\n        \r\n\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let realfromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\r\n        let realtoDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\r\n        let masterData = { ...this.props.Login.masterData, realfromDate, realtoDate};\r\n        let inputData ={\r\n            fromDate: obj.fromDate,\r\n            toDate : obj.toDate,\r\n            userinfo: this.props.Login.userInfo,\r\n\r\n        }       \r\n        let inputParam = {\r\n            masterData,\r\n            inputData\r\n        }\r\n        this.props.getGoodsInFilterSubmit(inputParam);\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let screenName = this.props.Login.screenName;\r\n        let operation = this.props.Login.operation;\r\n        let openTemplateModal = this.props.Login.openTemplateModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"receive\" ||this.props.Login.operation === \"approve\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                openTemplateModal =false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                if(this.props.Login.operation === \"checklist\"){\r\n                    openModal = false;\r\n                }\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason']=\"\"\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            openTemplateModal =false;\r\n            selectedRecord = {};\r\n            screenName =\"\";\r\n            operation =\"\";\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal,openTemplateModal, loadEsign, selectedRecord, selectedId: null ,screenName,operation}\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        if(this.props.Login.operation === \"checklist\"){\r\n            this.props.validateEsignGoodsIn(inputParam, \"openModal\");\r\n\r\n        }else {\r\n            this.props.validateEsignCredential(inputParam, \"openModal\");\r\n        }\r\n        \r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }else if(event.target.name === \"noutofhours\"){\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            } else {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 1 : 2;\r\n            }\r\n        } \r\n        else {\r\n                if (event.target.value !== \"\") {\r\n                    selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n           \r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if(fieldName === \"nclientcatcode\"){\r\n            selectedRecord[\"nclientcatcode\"] = comboData;\r\n            this.props.getClient(this.state.selectedRecord.nclientcatcode.value,this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\r\n        }else if(fieldName === \"nclientcode\"){\r\n            selectedRecord[\"nclientcode\"] = comboData;\r\n            this.props.getProjectType(this.state.selectedRecord.nclientcatcode.value,this.state.selectedRecord.nclientcode.value,this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\r\n        }else if(fieldName === \"nprojecttypecode\"){\r\n            selectedRecord[\"nprojecttypecode\"] = comboData;\r\n            if(comboData !==null){\r\n                this.props.getProject(this.state.selectedRecord.nclientcatcode.value,this.state.selectedRecord.nclientcode.value,this.state.selectedRecord.nprojecttypecode.value,this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\r\n            }else {\r\n                delete selectedRecord[\"nprojecttypecode\"];\r\n                delete selectedRecord[\"nprojectmastercode\"];\r\n                this.setState({ selectedRecord });\r\n            }\r\n        }else if(fieldName === \"nprojectmastercode\"){\r\n            selectedRecord[\"nprojectmastercode\"] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }else if(fieldName === \"ncouriercode\"){\r\n            if(comboData !==null){\r\n                selectedRecord[\"ncouriercode\"] = comboData;\r\n            }else {\r\n                delete selectedRecord[\"ncouriercode\"];\r\n            }\r\n            //selectedRecord[\"ncouriercode\"] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n\r\n    onDynamicComboChange = (comboData, control, customName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let comboName = customName || control.label;\r\n        if (comboData) {\r\n            \r\n            comboData[\"item\"] = {\r\n                ...comboData[\"item\"], \"pkey\": control.valuemember,\r\n                \"nquerybuildertablecode\": control.nquerybuildertablecode, source: control.source\r\n            };\r\n            selectedRecord[comboName] = comboData;\r\n        } else {\r\n            selectedRecord[comboName] = [];\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }   \r\n\r\n    onNumericInputOnChange = (value, name) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    onNumericBlur = (control) => {\r\n        let selectedRecord = this.state.selectedRecord\r\n        if (selectedRecord[control.label]) {\r\n            if (control.max) {\r\n                if (!(selectedRecord[control.label] < parseFloat(control.max))) {\r\n                    selectedRecord[control.label] = control.precision ? parseFloat(control.max) : parseInt(control.max)\r\n                }\r\n            }\r\n            if (control.min) {\r\n                if (!(selectedRecord[control.label] > parseFloat(control.min))) {\r\n                    selectedRecord[control.label] = control.precision ? parseFloat(control.min) : parseInt(control.min)\r\n                }\r\n            }\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    sampleInfoDataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.GoodsInSample,event.dataState),\r\n            sampleGridDataState: event.dataState\r\n        });\r\n      \r\n    }\r\n\r\n//     onDownloadClick = (ncontrolCode) => {\r\n//         const inputParam = {\r\n\r\n//             inputData: {  \r\n//                 downloadGoodsIn,\r\n//                 selectedRecord :this.props.Login.masterData.selectedGoodsIn,\r\n//                 userinfo: this.props.Login.userInfo,\r\n//                 Login:this.props.Login,\r\n//                 ncontrolcode: ncontrolCode,\r\n//                 ngoodsincode:this.props.Login.masterData.selectedGoodsIn.ngoodsincode, \r\n//                 ngoodsincode_componentcode: 5,\r\n//                 ngoodsincode_componentname: 'Number'\r\n\r\n//             },\r\n//         }\r\n//         this.props.downloadGoodsIn(inputParam['inputData']);\r\n   \r\n// }\r\n\r\n\r\ngenerateControlBasedReportReport= (downloadGoodsIn) => {\r\n    //if(this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.RECEIVED  || this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.APPROVED ){\r\n       let inputParam={\r\n           primaryKeyField: \"ngoodsincode\",\r\n           sreportlink:this.props.Login.reportSettings[15],\r\n           smrttemplatelink:this.props.Login.reportSettings[16],\r\n           nreporttypecode: REPORTTYPE.CONTROLBASED,\r\n           ncontrolcode:downloadGoodsIn,\r\n           primaryKeyValue:this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n           ngoodsincode:this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n           ngoodsincode_componentcode: REPORTTYPE.CONTROLBASED,\r\n           ngoodsincode_componentname: 'Number',\r\n           ntranscode:this.props.Login.masterData.selectedGoodsIn.ntransactionstatus,\r\n           userinfo: this.props.Login.userInfo\r\n\r\n       }\r\n       this.props.generateControlBasedReport(inputParam);\r\n   //  }else{\r\n   //     toast.warn( this.props.intl.formatMessage({ id: \"IDS_SELECTDOENLOADRECEIVEAPPROVE\" }));\r\n   // }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    gridfillingColumn(data) {\r\n        const temparray = data && data.map((option) => {\r\n            return { \"idsName\": option[designProperties.LABEL][this.props.Login.userInfo.slanguagetypecode] || \"-\", \"dataField\": option[designProperties.VALUE], \"width\": \"200px\", \"columnSize\": \"3\", \"dataType\": option[designProperties.LISTITEM] };\r\n        });\r\n        return temparray;\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n\r\n        if(this.props.Login.screenName ===  \"IDS_GOODSIN\"){\r\n            if(this.state.selectedRecord[\"nnoofpackages\"]<=0){\r\n                return (toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERTHEPACKAGEGREATERTHANZERO\" })));\r\n            }\r\n    \r\n            let postParam = undefined;\r\n            let dataState = undefined;\r\n            let inputData = [];\r\n            inputData[\"goodsin\"] = {};\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    \r\n            let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n            let fromDate = obj.fromDate;\r\n            let toDate = obj.toDate;\r\n            inputData[\"fromDate\"] = fromDate;\r\n            inputData[\"toDate\"] = toDate;\r\n    \r\n            if (this.props.Login.operation === \"update\") {\r\n                postParam = {\r\n                    inputListName: \"GoodsIn\",\r\n                    selectedObject: \"selectedGoodsIn\",\r\n                    primaryKeyField: \"ngoodsincode\",\r\n                };\r\n    \r\n                postParam[\"primaryKeyValue\"] = this.props.Login.masterData.selectedGoodsIn.ngoodsincode;\r\n                inputData[\"goodsin\"][\"ngoodsincode\"]= this.props.Login.masterData.selectedGoodsIn.ngoodsincode;\r\n            }\r\n            inputData[\"goodsin\"][\"nclientcatcode\"] = this.state.selectedRecord[\"nclientcatcode\"] ? this.state.selectedRecord[\"nclientcatcode\"].value : -1;              \r\n            inputData[\"goodsin\"][\"nclientcode\"] = this.state.selectedRecord[\"nclientcode\"] ? this.state.selectedRecord[\"nclientcode\"].value : -1;\r\n            inputData[\"goodsin\"][\"nprojecttypecode\"] = this.state.selectedRecord[\"nprojecttypecode\"] ? this.state.selectedRecord[\"nprojecttypecode\"].value : -1;\r\n            inputData[\"goodsin\"][\"nprojectmastercode\"] = this.state.selectedRecord[\"nprojectmastercode\"] ? this.state.selectedRecord[\"nprojectmastercode\"].value : -1;\r\n            inputData[\"goodsin\"][\"ncouriercode\"] = this.state.selectedRecord[\"ncouriercode\"] ? this.state.selectedRecord[\"ncouriercode\"].value :-1;\r\n            inputData[\"goodsin\"][\"nnoofpackages\"] = this.state.selectedRecord[\"nnoofpackages\"];\r\n            inputData[\"goodsin\"][\"noutofhours\"] = this.state.selectedRecord[\"noutofhours\"] ? this.state.selectedRecord[\"noutofhours\"] :transactionStatus.NO;\r\n            inputData[\"goodsin\"][\"sconsignmentno\"] = this.state.selectedRecord[\"sconsignmentno\"] ? this.state.selectedRecord[\"sconsignmentno\"] : \"\";\r\n            inputData[\"goodsin\"][\"ssecurityrefno\"] = this.state.selectedRecord[\"ssecurityrefno\"] ? this.state.selectedRecord[\"ssecurityrefno\"] : \"\";\r\n            inputData[\"goodsin\"][\"scomments\"] = this.state.selectedRecord[\"scomments\"] ? this.state.selectedRecord[\"scomments\"] : \"\";\r\n            inputData[\"goodsin\"][\"dgoodsindatetime\"] =  formatInputDate(this.state.selectedRecord[\"dgoodsindatetime\"], false);\r\n                //inputData[\"goodsin\"][\"ntzgoodsindatetime\"] = this.state.selectedRecord[\"ntimezonecode\"] ? this.state.selectedRecord[\"ntimezonecode\"].value : 1;\r\n    \r\n    \r\n            \r\n            const inputParam = {\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                methodUrl: \"GoodsIn\",\r\n                displayName: this.props.Login.inputParam.displayName,\r\n                inputData: inputData,\r\n                selectedId: this.state.selectedRecord[\"ngoodsincode\"],\r\n                operation: this.props.Login.operation, saveType, formRef, dataState,\r\n                searchRef: this.searchRef,\r\n                postParam:postParam\r\n                    \r\n            }\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                        openModal: true, screenName:  \"IDS_GOODSIN\",\r\n                        operation: this.props.Login.operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            }\r\n        }else if(this.props.Login.screenName === \"IDS_GOODSINSAMPLE\" && this.props.Login.operation ===\"create\"){\r\n            this.insertGoodsInSample();             \r\n        }else if(this.props.Login.screenName ===\"IDS_GOODSINSAMPLE\" && this.props.Login.operation === \"import\"){\r\n            this.importGoodsInSample();\r\n        }      \r\n    }\r\n   \r\n\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.DeleteGoodsIn(\"delete\",deleteId));\r\n    }\r\n\r\n    DeleteGoodsIn= (operation, ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        inputData[\"fromDate\"] = fromDate;\r\n        inputData[\"toDate\"] = toDate;\r\n\r\n\r\n        inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;  \r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n        const postParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\",\r\n            primaryKeyField: \"ngoodsincode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"GoodsIn\", \r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"delete\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSIN\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n\r\n    receiveGoodsIn= (operation, ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;  \r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n        const postParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\",\r\n            primaryKeyField: \"ngoodsincode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"GoodsIn\", \r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"receive\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSIN\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    approveGoodsIn= (operation, ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;  \r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n        const postParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\",\r\n            primaryKeyField: \"ngoodsincode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"GoodsIn\", \r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"approve\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSIN\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n     openSampleGoodsIn = () => {\r\n        const addSampleId = this.state.controlMap.has(\"AddSampleGoodsIn\") ? this.state.controlMap.get(\"AddSampleGoodsIn\").ncontrolcode : -1;\r\n        const Status = this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\r\n        if(Status === transactionStatus.APPROVED) {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECEIVERECORD\" }));\r\n        }else {\r\n            this.addSampleGoodsIn(\"IDS_GOODSINSAMPLE\", \"create\", this.props.Login.masterData,this.state.selectedRecord,this.props.Login.userInfo,addSampleId);\r\n        }\r\n\r\n     }\r\n\r\n     \r\n\r\n    addSampleGoodsIn = (ScreenName, operation, masterData,selectedRecord, userInfo, controlCode,importData) => {\r\n\r\n            let data = [];\r\n            const withoutCombocomponent = [];\r\n            let mandatorySampleFields = [];\r\n            const Layout = this.props.Login.masterData.DesignTemplateMapping\r\n                && this.props.Login.masterData.DesignTemplateMapping[0].jsondata\r\n            if (Layout !== undefined && Layout !==null) {\r\n                Layout.map(row => {\r\n                    row.children.map(column => {\r\n                        column.children.map(component => {\r\n                            if(component.hasOwnProperty(\"children\")) {\r\n                                component.children.map(componentrow => {\r\n                                    if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"backendsearchfilter\"\r\n                                        || componentrow.inputtype === \"frontendsearchfilter\") {\r\n                                        data.push(componentrow)\r\n                                    } else {\r\n                                        withoutCombocomponent.push(componentrow)\r\n                                    }\r\n                                    if(componentrow.mandatory=== true){\r\n                                        mandatorySampleFields.push({\r\n                                            \"mandatory\": true,\r\n                                            \"idsName\": componentrow.label,\r\n                                            \"dataField\": componentrow.label,\r\n                                            \"mandatoryLabel\": componentrow.inputtype === \"combo\" ?\r\n                                                \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                            \"controlType\": componentrow.inputtype === \"combo\" ?\r\n                                                \"selectbox\" : \"textbox\"\r\n                                        })\r\n                                    }\r\n                                })\r\n                            }else {\r\n                                component.inputtype === \"combo\" || component.inputtype === \"backendsearchfilter\"\r\n                                  || component.inputtype === \"frontendsearchfilter\" ?\r\n                                     data.push(component) : withoutCombocomponent.push(component)\r\n                                    if(component.mandatory ===true){\r\n                                        mandatorySampleFields.push({\r\n                                            \"mandatory\": true,\r\n                                            \"idsName\": component.label,\r\n                                            \"dataField\": component.label,\r\n                                            \"mandatoryLabel\": component.inputtype === \"combo\" ?\r\n                                                \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                            \"controlType\": component.inputtype === \"combo\" ?\r\n                                                \"selectbox\" : \"textbox\"\r\n                                        })\r\n                                    }\r\n\r\n                            }\r\n                        })\r\n                        this.setState({mandatorySampleFields:mandatorySampleFields});  \r\n                    })   \r\n\r\n                })\r\n                const comboComponents = data\r\n                let childColumnList = {};\r\n                data.map(columnList => {\r\n                    const val = comboChild(data, columnList, childColumnList, true);\r\n                    data = val.data;\r\n                    childColumnList = val.childColumnList\r\n                    return null;\r\n                })\r\n                const mapOfFilterRegData = {\r\n                    nsampletypecode: parseInt(SampleType.GOODSIN),\r\n\r\n                }  \r\n         \r\n                this.props.getPreviewTemplate(masterData, userInfo, controlCode,\r\n                    data, selectedRecord, childColumnList,comboComponents, withoutCombocomponent, false, true,\r\n                    mapOfFilterRegData, false, operation, ScreenName, importData)                \r\n            } else  {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_CONFIGUREGOODSINTEMPLATE\" }));\r\n            }\r\n        \r\n    }\r\n\r\n    ImportFile = () => {\r\n        const Status = this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\r\n        let updateInfo ={};\r\n        if(Status === transactionStatus.APPROVED ){\r\n             toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECEIVERECORD\" }));\r\n        }else {\r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModal:true,\r\n                    operation: \"import\",\r\n                    screenName : \"IDS_GOODSINSAMPLE\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);       \r\n        }\r\n\r\n    }\r\n    \r\n    onDropSampleFile = (attachedFiles, fieldName, maxSize) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(\r\n            selectedRecord[fieldName],attachedFiles,maxSize);\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    };\r\n\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName],file);\r\n\r\n        this.setState({selectedRecord,actionType: \"delete\"});\r\n    };\r\n\r\n    // editSampleGoodsIn = (goodsinSampleEditParam) => {\r\n    //     let data = [];\r\n    //     const withoutCombocomponent = []\r\n    //     const Layout = this.props.Login.masterData.DesignTemplateMapping\r\n    //                     && this.props.Login.masterData.DesignTemplateMapping[0].jsondata\r\n    //     if (Layout !== undefined) {\r\n    //         Layout.map(row => {\r\n    //             return row.children.map(column => {\r\n    //                 return column.children.map(component => {\r\n    //                     return component.hasOwnProperty(\"children\") ?\r\n    //                         component.children.map(componentrow => {\r\n    //                             if (componentrow.inputtype === \"combo\") {\r\n    //                                 data.push(componentrow)\r\n    //                             } else {\r\n    //                                 withoutCombocomponent.push(componentrow)\r\n    //                             }\r\n\r\n    //                             return null;\r\n    //                         })\r\n    //                         : component.inputtype === \"combo\" ?\r\n    //                             data.push(component) : withoutCombocomponent.push(component)\r\n    //                 })\r\n    //             })\r\n    //         })\r\n    //         const comboComponents = data\r\n    //         let childColumnList = {};\r\n    //         data.map(columnList => {\r\n    //             const val = comboChild(data, columnList, childColumnList, true);\r\n    //             data = val.data;\r\n    //             childColumnList = val.childColumnList\r\n    //             return null;\r\n    //         })\r\n\r\n    //         this.props.getEditGoodsInSampleService(goodsinSampleEditParam,data, this.state.selectedRecord, childColumnList,\r\n    //             comboComponents, withoutCombocomponent)\r\n    //     } else {\r\n    //         toast.info(\"Configure the  template\")\r\n    //     }\r\n\r\n    // }\r\n\r\n    DeleteGoodsInSample= (deleteParam) => {\r\n        let inputData = [];\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        inputData[\"fromDate\"] = fromDate;\r\n        inputData[\"toDate\"] = toDate;\r\n\r\n        inputData[\"ngoodsincode\"] =deleteParam.selectedRecord.ngoodsincode;\r\n        inputData[\"ngoodsinsamplecode\"] =deleteParam.selectedRecord.ngoodsinsamplecode;\r\n        inputData[\"ndesigntemplatemappingcode\"] =deleteParam.selectedRecord.ndesigntemplatemappingcode;\r\n        inputData[\"ntransactionstatus\"] =this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n        const postParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\",\r\n            primaryKeyField: \"ngoodsincode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"GoodsInSample\", \r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"delete\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSINSAMPLE\", operation:deleteParam.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n\r\n    insertGoodsInSample= () => {\r\n        let Map ={};\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        Map[\"fromDate\"] = fromDate;\r\n        Map[\"toDate\"] = toDate;\r\n\r\n        Map[\"ngoodsincode\"] =this.props.Login.masterData.selectedGoodsIn.ngoodsincode;  \r\n        Map[\"ndesigntemplatemappingcode\"] =this.props.Login.masterData.DesignTemplateMapping[0].ndesigntemplatemappingcode;\r\n        const param =  this.goodsInSample(this.props.Login.masterData,this.state.selectedRecord,\r\n            this.props.Login.masterData.DesignTemplateMapping [0].jsondata,\r\n            this.props.Login.userInfo,this.props.Login.defaultTimeZone, 'create',this.props.Login.comboComponents);  \r\n        Map[\"GoodsInSample\"] = param.GoodsInSample;\r\n        Map[\"DateList\"] = param.dateList;\r\n        Map[\"userinfo\"] = this.props.Login.userInfo;\r\n        Map[\"combinationunique\"] = this.state.DynamicCombinationUnique;\r\n\r\n \r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"GoodsInSample\",\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: Map,\r\n            selectedId: this.state.selectedRecord[\"ngoodsinsamplecode\"],\r\n            operation: 'create',\r\n            searchRef: this.searchRef\r\n                \r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_GOODSIN\"}),\r\n                    operation: 'create'\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n\r\n\r\n\r\n    }\r\n    \r\n    goodsInSample = (masterData,selectedRecord,templateList,userInfo,defaulttimeZone,operation,comboComponents) => {\r\n        let GoodsInSample = {};\r\n        let dateList = [];\r\n        GoodsInSample[\"ngoodsincode\"] = masterData.selectedGoodsIn.ngoodsincode;  \r\n        GoodsInSample[\"ndesigntemplatemappingcode\"] =masterData.DesignTemplateMapping[0].ndesigntemplatemappingcode;\r\n    \r\n    \r\n        GoodsInSample[\"nunitcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Unit')]['label']] ?\r\n            selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Unit')]['label']].value : -1;\r\n        GoodsInSample[\"nquantity\"] = selectedRecord[\"Quantity\"];\r\n        GoodsInSample[\"sexternalsampleid\"] = selectedRecord[\"External Sample Id\"];\r\n        GoodsInSample[\"scomments\"] = selectedRecord[\"Comments\"];\r\n      \r\n        GoodsInSample[\"jsondata\"] = {};\r\n        GoodsInSample[\"jsonuidata\"] = {};\r\n\r\n\r\n        templateList && templateList.map(row => {\r\n            return row.children.map(column => {\r\n                return column.children.map(component => {\r\n                    if (component.hasOwnProperty(\"children\")) {\r\n                        return component.children.map(componentrow => {\r\n                            if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"predefineddropdown\") {\r\n                                if (componentrow.inputtype === \"predefineddropdown\") {\r\n                                    GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                        {\r\n                                            value: selectedRecord[componentrow.label].value,\r\n                                            label: selectedRecord[componentrow.label].label\r\n                                           \r\n    \r\n                                        } : -1\r\n                                    GoodsInSample[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\r\n    \r\n                                } else {\r\n                                    GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                        {\r\n                                            value: selectedRecord[componentrow.label].value,\r\n                                            label: selectedRecord[componentrow.label].label,\r\n                                            pkey: componentrow.valuemember,\r\n                                            nquerybuildertablecode: componentrow.nquerybuildertablecode,\r\n                                            source: componentrow.source,\r\n                                            [componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]: operation === \"update\" ?\r\n                                                selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] :\r\n                                                    selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]\r\n                                                :\r\n                                                selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] :\r\n                                                    selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] ? selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]\r\n                                                        : selectedRecord[componentrow.label].vale\r\n    \r\n                                        } : -1\r\n                                    GoodsInSample[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\r\n    \r\n                                }\r\n                            }\r\n                            else if (componentrow.inputtype === \"date\") {\r\n                                if (componentrow.mandatory) {\r\n                                    GoodsInSample[\"jsondata\"][componentrow.label] = (typeof selectedRecord[componentrow.label] === \"object\") ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                            selectedRecord[componentrow.label] : new Date(), userInfo) :\r\n                                        (typeof selectedRecord[componentrow.label] === \"number\") ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                new Date(selectedRecord[componentrow.label]) : new Date(), userInfo)\r\n                                            : selectedRecord[componentrow.label] ?\r\n                                                selectedRecord[componentrow.label] : \"\";\r\n    \r\n                                    GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label]\r\n                                } else {\r\n                                    GoodsInSample[\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ?\r\n                                        typeof selectedRecord[componentrow.label] === \"object\" ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                selectedRecord[componentrow.label] : new Date(), userInfo) :\r\n                                            typeof selectedRecord[componentrow.label] === \"number\" ?\r\n                                                convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                    new Date(selectedRecord[componentrow.label]) : new Date(), userInfo)\r\n    \r\n                                                : selectedRecord[componentrow.label] ?\r\n                                                    selectedRecord[componentrow.label] : \"\" :\r\n                                        selectedRecord[componentrow.label] ? typeof selectedRecord[componentrow.label] === \"object\" ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ?\r\n                                                convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                    new Date(selectedRecord[componentrow.label]) : new Date(), userInfo)\r\n    \r\n                                                : selectedRecord[componentrow.label] ?\r\n                                                    selectedRecord[componentrow.label]\r\n                                                    : \"\" : \"\";\r\n    \r\n                                    GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label]\r\n                                }\r\n                                if (componentrow.timezone) {\r\n                                    GoodsInSample[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\r\n                                        { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\r\n                                        defaulttimeZone ? defaulttimeZone : -1\r\n    \r\n                                    GoodsInSample[\"jsonuidata\"][`tz${componentrow.label}`] = GoodsInSample[\"jsondata\"][`tz${componentrow.label}`]\r\n                                }\r\n                                dateList.push(componentrow.label)\r\n                            }\r\n    \r\n                            else {\r\n                                GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                    selectedRecord[componentrow.label] : \"\"\r\n    \r\n                                GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label]\r\n                            }\r\n                        })\r\n                        return GoodsInSample;\r\n    \r\n                    }\r\n                    else {\r\n                        if (component.inputtype === \"combo\" || component.inputtype === \"predefineddropdown\") {\r\n                            if (component.inputtype === \"predefineddropdown\") {\r\n                                GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                    {\r\n                                        value: selectedRecord[component.label].value,\r\n                                        label: selectedRecord[component.label].label,\r\n                                       \r\n    \r\n                                    } : -1\r\n                                GoodsInSample[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\r\n    \r\n                            } else {\r\n                                GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                    {\r\n                                        value: selectedRecord[component.label].value,\r\n                                        label: selectedRecord[component.label].label,\r\n                                        pkey: component.valuemember,\r\n                                        nquerybuildertablecode: component.nquerybuildertablecode,\r\n                                        source: component.source,\r\n                                        [component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]: operation === \"update\" ?\r\n                                            selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] :\r\n                                                selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                            :\r\n                                            selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] :\r\n                                                selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] ? selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                                    : selectedRecord[component.label].vale\r\n    \r\n                                    } : -1\r\n                                    GoodsInSample[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\r\n    \r\n                            }                            \r\n                        }\r\n                        else if (component.inputtype === \"date\") {\r\n                            if (component.mandatory) {\r\n                                console.log(typeof selectedRecord[component.label] === \"object\")\r\n                                GoodsInSample[\"jsondata\"][component.label] = typeof selectedRecord[component.label] === \"object\" ?\r\n    \r\n                                    convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                        selectedRecord[component.label] : new Date(), userInfo) :\r\n                                    (typeof selectedRecord[component.label] === \"number\") ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            new Date(selectedRecord[component.label]) : new Date(), userInfo) :\r\n                                        selectedRecord[component.label] ?\r\n                                            selectedRecord[component.label] : \"\";\r\n    \r\n                                GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label]\r\n                            } else {\r\n                                GoodsInSample[\"jsondata\"][component.label] = component.loadcurrentdate ?\r\n                                    typeof selectedRecord[component.label] === \"object\" ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            selectedRecord[component.label] : new Date(), userInfo) :\r\n                                        typeof selectedRecord[component.label] === \"number\" ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                                new Date(selectedRecord[component.label]) : new Date(), userInfo)\r\n    \r\n                                            : selectedRecord[component.label] ?\r\n                                                selectedRecord[component.label] : \"\" :\r\n                                    selectedRecord[component.label] ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                        selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            new Date(selectedRecord[component.label]) : new Date(), userInfo)\r\n                                        : selectedRecord[component.label] ?\r\n                                            selectedRecord[component.label] : \"\" : \"\";\r\n    \r\n                                GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label]\r\n                            }\r\n                            if (component.timezone) {\r\n                                GoodsInSample[\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ?\r\n                                    { value: selectedRecord[`tz${component.label}`].value, label: selectedRecord[`tz${component.label}`].label } :\r\n                                    defaulttimeZone ? defaulttimeZone : -1\r\n    \r\n                                GoodsInSample[\"jsonuidata\"][`tz${component.label}`] = GoodsInSample[\"jsondata\"][`tz${component.label}`]\r\n                            }\r\n                            dateList.push(component.label)\r\n                        }\r\n                        else {\r\n                            GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                selectedRecord[component.label] : \"\"\r\n    \r\n                            GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label]\r\n                        }\r\n                        return GoodsInSample;\r\n                    }\r\n                }\r\n                )\r\n            })\r\n        })\r\n        const param = { GoodsInSample, dateList }\r\n        return param;\r\n\r\n    }\r\n\r\n    importGoodsInSample =() => {\r\n\r\n        const formData = new FormData();\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.stemplatefilename;\r\n        let comboComponents=[];\r\n        let data = [];\r\n        const withoutCombocomponent = [];\r\n        let mandatory =[];\r\n        let mandatoryImportFields={};    \r\n        const exportFieldProperties =[];\r\n\r\n\r\n        if(acceptedFiles && acceptedFiles.length ===1){\r\n            acceptedFiles.forEach((file, index) => {\r\n                formData.append(\"uploadedFile\", file);\r\n            });\r\n            const dateList = [];\r\n            this.state.DynamicDateField.map(x=> {\r\n                dateList.push(x['2'])\r\n            });\r\n\r\n            const exportList =[]; \r\n            this.state.DynamicExportfields.map(x=> {\r\n                exportList.push(x['2'])\r\n            });\r\n           \r\n        const Layout = this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping[0].jsondata\r\n        if (Layout !== undefined) {\r\n            Layout.map(row => {\r\n                row.children.map(column => {\r\n                    column.children.map(component => {\r\n                        if(component.hasOwnProperty(\"children\")) {\r\n                            component.children.map(componentrow => {\r\n\r\n                                if(exportList.length> 0){\r\n                                    exportFieldProperties.push(componentrow);\r\n                                }\r\n\r\n                                if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"backendsearchfilter\"\r\n                                    || componentrow.inputtype === \"frontendsearchfilter\") {\r\n                                    data.push(componentrow)\r\n                                } else {\r\n                                    withoutCombocomponent.push(componentrow)\r\n                                }\r\n                                if(componentrow.mandatory=== true){\r\n                                    mandatory.push({\r\n                                        \"mandatory\": true,\r\n                                        \"idsName\": componentrow.label,\r\n                                        \"dataField\": componentrow.label,\r\n                                        \"mandatoryLabel\": componentrow.inputtype === \"combo\" ?\r\n                                            \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                        \"controlType\": componentrow.inputtype === \"combo\" ?\r\n                                            \"selectbox\" : \"textbox\"\r\n                                    })\r\n                                }\r\n                            })\r\n                        }else {\r\n                            if(exportList.length> 0){\r\n                                exportFieldProperties.push(component);\r\n                            }\r\n\r\n                            component.inputtype === \"combo\" || component.inputtype === \"backendsearchfilter\"\r\n                              || component.inputtype === \"frontendsearchfilter\" ?\r\n                                 data.push(component) : withoutCombocomponent.push(component)\r\n                                if(component.mandatory ===true){\r\n                                    mandatory.push({\r\n                                        \"mandatory\": true,\r\n                                        \"idsName\": component.label,\r\n                                        \"dataField\": component.label,\r\n                                        \"mandatoryLabel\": component.inputtype === \"combo\" ?\r\n                                        \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                        \"controlType\": component.inputtype === \"combo\" ?\r\n                                            \"selectbox\" : \"textbox\"\r\n                                    })\r\n                                }\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            comboComponents = data\r\n        }      \r\n        mandatory.map(x=>{\r\n            mandatoryImportFields[x.dataField]=x.mandatory;\r\n\r\n          })\r\n\r\n            formData.append('mandatoryFields',Lims_JSON_stringify(JSON.stringify(mandatoryImportFields),false))\r\n            formData.append('comboComponents', Lims_JSON_stringify(JSON.stringify(comboComponents), false))\r\n            formData.append('dateconstraints', Lims_JSON_stringify(JSON.stringify(this.state.DynamicDateConstraints), false))\r\n            formData.append('datelist', Lims_JSON_stringify(JSON.stringify(dateList), false))\r\n            formData.append('exportFields', Lims_JSON_stringify(JSON.stringify(exportList), false))\r\n            formData.append('exportFieldProperties', Lims_JSON_stringify(JSON.stringify(exportFieldProperties), false))\r\n            formData.append('combinationunique', Lims_JSON_stringify(JSON.stringify(this.state.DynamicCombinationUnique), false))\r\n            formData.append('ndesigntemplatemappingcode', this.props.Login.masterData.ndesigntemplatemappingcode)\r\n            formData.append(\"ngoodsincode\",this.props.Login.masterData.selectedGoodsIn.ngoodsincode)\r\n            formData.append(\"ntransactionstatus\",this.props.Login.masterData.selectedGoodsIn.ntransactionstatus)\r\n\r\n            const inputParam = {\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                methodUrl: \"GoodsInSample\",\r\n                displayName: this.props.Login.inputParam.displayName,\r\n                inputData: { userinfo: this.props.Login.userInfo },\r\n                formData: formData,\r\n                isFileupload: true,\r\n                operation: this.props.Login.operation,\r\n\r\n            }\r\n            //ALPD 3415\r\n            // const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\r\n            // if (esignNeeded) {\r\n            //     const updateInfo = {\r\n            //         typeName: DEFAULT_RETURN,\r\n            //         data: {\r\n            //             loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n            //             openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_GOODSINSAMPLE\" }),\r\n            //             operation: this.props.Login.operation,\r\n            //         },\r\n\r\n            //     }\r\n            //     this.props.updateStore(updateInfo);\r\n            // }\r\n            // else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            // }                                                                                                                                                                                                                \r\n\r\n        }else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTTHEFILE\" }))\r\n        }\r\n\r\n    }\r\n\r\n\r\n    insertGoodsInChecklist = () => {\r\n        let inputData = [];     \r\n        inputData[\"ngoodsincode\"] =this.state.selectedRecord.ngoodsincode;\r\n        inputData[\"ndesigntemplatemappingcode\"]  = parseInt(this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode);\r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"GoodsInChecklist\",\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: inputData,\r\n            operation: this.props.Login.operation, \r\n            selectedRecord:this.state.selectedRecord\r\n                \r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true,openTemplateModal:true, screenName:  \"IDS_GOODSINCHECKLIST\",\r\n                    operation: this.props.Login.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }        \r\n        else {\r\n            this.props.onSaveGoodsInCheckList(inputParam);\r\n        }\r\n\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let { userRoleControlRights, controlMap,selectedRecord,skip, take,masterData,sampleGridDataState,\r\n            DynamicGridItem,DynamicGridMoreField,DynamicExportItem,DynamicDateField,DynamicTemplateField,\r\n            DynamicDateConstraints,DynamicCombinationUnique,Checklist,DynamicExportfields } = this.state;\r\n        let bool = false;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                bool = true;\r\n            }\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord\r\n            bool = true;\r\n        }     \r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {     \r\n\r\n            bool = true;\r\n            skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip\r\n            take = this.props.Login.take || take   \r\n        }\r\n\r\n        if (this.props.Login.sampleGridDataState && this.props.Login.sampleGridDataState !== previousProps.Login.sampleGridDataState) {\r\n            sampleGridDataState = this.props.Login.sampleGridDataState;\r\n        }\r\n\r\n        if (this.props.Login.masterData.DynamicDesign && this.props.Login.masterData.DynamicDesign !== previousProps.Login.masterData.DynamicDesign) {\r\n            const dynamicColumn = JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata && this.props.Login.masterData.DynamicDesign.jsondata.value)\r\n            if(dynamicColumn !== null){\r\n                DynamicGridItem = dynamicColumn.griditem ? dynamicColumn.griditem : [];\r\n                DynamicGridMoreField = dynamicColumn.gridmoreitem ? dynamicColumn.gridmoreitem : [];\r\n                DynamicExportItem = dynamicColumn.exportFields ? dynamicColumn.exportFields : [];\r\n                DynamicDateField = dynamicColumn.datefields ? dynamicColumn.datefields : [];\r\n                DynamicTemplateField = dynamicColumn.templatefields ? dynamicColumn.templatefields : [];\r\n                DynamicDateConstraints = dynamicColumn.dateconstraints ? dynamicColumn.dateconstraints : [];\r\n                DynamicCombinationUnique = dynamicColumn.combinationunique ?  dynamicColumn.combinationunique : [] ;  \r\n                Checklist = dynamicColumn.checklist ? dynamicColumn.checklist : [] ;      \r\n                DynamicExportfields =dynamicColumn.exportFields ? dynamicColumn.exportFields  : [];     \r\n            }\r\n            \r\n\r\n        }    \r\n\r\n        \r\n        if (bool) {\r\n            this.setState({\r\n                userRoleControlRights, controlMap,selectedRecord,skip, take,masterData,sampleGridDataState,\r\n                DynamicGridItem,DynamicGridMoreField,DynamicExportItem, DynamicDateField,DynamicTemplateField ,\r\n                DynamicDateConstraints,DynamicCombinationUnique,Checklist,DynamicExportfields\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore,getGoodsInFilterSubmit,validateEsignCredential,\r\n    getGoodsInComboService ,getGoodsInDetail,getClient,getProjectType,getProject,filterColumnData,\r\n    getPreviewTemplate,viewInformation,checkListGoodsIn,downloadGoodsIn,\r\n    onSaveGoodsInCheckList,validateEsignGoodsIn,generateControlBasedReport\r\n    \r\n})(injectIntl(GoodsIn))"]},"metadata":{},"sourceType":"module"}