{"ast":null,"code":"import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faTrashAlt,faThumbsUp,faUserLock,faClock,faList,faListUl,faListDots,faChevronCircleDown}from'@fortawesome/free-solid-svg-icons';//,faUserTimes, faTrash\nimport{falistUl}from'@fortawesome/free-regular-svg-icons';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{toast}from'react-toastify';import{callService,crudMaster,validateEsignCredential,updateStore,getDesignTemplateMappingDetail,getMappedFieldProps,editFieldConfigService,auditFieldConfigService,getDesignTemplateMappingComboService,filterColumnData,reloadDesignTemplateMapping,getTMPFilterRegType,getTMPFilterRegSubType,getTMPFilterSubmit,combinationUniqueConfigService}from'../../actions';import TemplateFilter from'./TemplateFilter';import{ContentPanel,ReadOnlyText}from'../../components/App.styles';import{getControlMap,showEsign,convertDateValuetoString,constructOptionList,constructjsonOptionDefault}from'../../components/CommonScript';//searchData, sortData,\nimport ListMaster from'../../components/list-master/list-master.component';// import DateTimePicker from '../../components/date-time-picker/date-time-picker.component';\nimport SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import AddDesignTemplateMapping from'./AddDesignTemplateMapping';import Esign from'../../pages/audittrail/Esign';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import{ListWrapper}from'../../components/client-group.styles';import{designProperties,formCode,TemplateType,transactionStatus,templateMappingAction}from'../../components/Enumeration';import AddSynonym from'../../components/droparea/AddSynonym';import{Affix}from'rsuite';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import ReactTooltip from'react-tooltip';import ConfigureScreenFields from'./ConfigureScreenFields';import ConfigureEditFields from'./ConfigureEditFields';import ConfigureUniqueFields from'./ConfigureUniqueFields.jsx';//import ConfigureAuditFields from './ConfigureAuditFields';\nimport CustomPopover from'../../components/customPopover';import{faCaretDown}from'@fortawesome/free-solid-svg-icons';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var DesignTemplateMapping=/*#__PURE__*/function(_React$Component){_inherits(DesignTemplateMapping,_React$Component);var _super=_createSuper(DesignTemplateMapping);function DesignTemplateMapping(props){var _this;_classCallCheck(this,DesignTemplateMapping);_this=_super.call(this,props);// const dataState = {\n//     skip: 0,\n//     take: 10,\n// };\n_this.filterComboChange=function(event,fieldname){if(event!==null){// let uRL = \"\";\nvar inputData=[];if(fieldname===\"sampleType\"){inputData={userinfo:_this.props.Login.userInfo,nflag:1,nsampletypecode:parseInt(event.value)};var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultsampletype:event});var inputParam={masterData:masterData,inputData:inputData};if(event.value===TemplateType.Masters){var masterTypeArray=_this.state.masterTypeArray;var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_objectSpread(_objectSpread({},masterData),{},{masterTypeArray:masterTypeArray,defaultMasterType:masterTypeArray[0],qualisforms:[],defaultform:_this.state.newMasterForm,nregtypecode:-1,nregsubtypecode:-1})}};_this.props.updateStore(updateInfo);}else{_this.props.getTMPFilterRegType(inputParam);}}else if(fieldname===\"registrationType\"){inputData={userinfo:_this.props.Login.userInfo,nregtypecode:parseInt(event.value),nsampletypecode:_this.props.Login.masterData.defaultsampletype.value};var _masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultregtype:event});var _inputParam={masterData:_masterData,inputData:inputData};_this.props.getTMPFilterRegSubType(_inputParam);}else if(fieldname===\"registrationSubType\"){var _masterData2=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultregsubtype:event});var _updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_masterData2}};_this.props.updateStore(_updateInfo);}else if(fieldname===\"masterType\"){var _masterData3=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultMasterType:event});inputData={userinfo:_this.props.Login.userInfo,nflag:1,nsampletypecode:TemplateType.Masters};var _inputParam2={masterData:_masterData3,inputData:inputData};if(event.value===1){var _updateInfo2={typeName:DEFAULT_RETURN,data:{masterData:_objectSpread(_objectSpread({},_masterData3),{},{qualisforms:[],defaultform:_this.state.newMasterForm})}};_this.props.updateStore(_updateInfo2);}else{_this.props.getTMPFilterRegType(_inputParam2);}}else{var _masterData4=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultform:event});var _updateInfo3={typeName:DEFAULT_RETURN,data:{masterData:_masterData4}};_this.props.updateStore(_updateInfo3);}}};_this.actionMethod=function(value){if(value.method===templateMappingAction.CONFIGSAMPLEDISPLAY){_this.openFieldConfiguration(value.controlId,\"configure\");}else if(value.method===templateMappingAction.CONFIGSAMPLEEDIT){_this.editFieldConfiguration(value.controlId,'configureedit');}else if(value.method===templateMappingAction.CONFIGSUBSAMPLEDISPLAY){_this.openFieldConfiguration(value.controlId,'configuresubsample');}else if(value.method===templateMappingAction.CONFIGSUBSAMPLEEDIT){_this.editFieldConfiguration(value.controlId,'configuresubsampleedit');}else if(value.method===templateMappingAction.CONFIGUNIQUE){_this.openCombinationUniqueFieldConfiguration(value.controlId);}};_this.reloadData=function(){_this.searchRef.current.value=\"\";var inputData={userinfo:_this.props.Login.userInfo,nregtypecode:parseInt(_this.props.Login.masterData.realRegTypeValue?_this.props.Login.masterData.realRegTypeValue.value||-1:-1),nregsubtypecode:parseInt(_this.props.Login.masterData.realRegSubTypeValue?_this.props.Login.masterData.realRegSubTypeValue.value||-1:-1),nsampletypecode:_this.props.Login.masterData.realSampleValue.value,nformcode:_this.props.Login.masterData.realFormValue?_this.props.Login.masterData[\"realFormValue\"].value:-1};var inputParam={masterData:_this.props.Login.masterData,inputData:inputData};_this.props.reloadDesignTemplateMapping(inputParam);};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){var inputData={userinfo:_this.props.Login.userInfo,nregtypecode:_this.props.Login.masterData.defaultsampletype.value===TemplateType.Masters?transactionStatus.NA:parseInt(_this.props.Login.masterData.defaultregtype?_this.props.Login.masterData.defaultregtype.value||-1:-1),nregsubtypecode:_this.props.Login.masterData.defaultsampletype.value===TemplateType.Masters?transactionStatus.NA:parseInt(_this.props.Login.masterData.defaultregsubtype?_this.props.Login.masterData.defaultregsubtype.value||-1:-1),nsampletypecode:_this.props.Login.masterData.defaultsampletype.value,nformcode:_this.props.Login.masterData.defaultform?_this.props.Login.masterData.defaultform.value||-1:-1};var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realSampleValue:_this.props.Login.masterData.defaultsampletype,realFormValue:_this.props.Login.masterData.defaultform,realRegTypeValue:_this.props.Login.masterData.defaultregtype,realRegSubTypeValue:_this.props.Login.masterData.defaultregsubtype});var inputParam={masterData:masterData,inputData:inputData};_this.props.getTMPFilterSubmit(inputParam);};_this.onApproveClick=function(){if(_this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus!==transactionStatus.RETIRED){var _inputParam3;var ncontrolCode=_this.state.controlMap.has(\"ApproveDesignTemplateMapping\")&&_this.state.controlMap.get(\"ApproveDesignTemplateMapping\").ncontrolcode;var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;var postParam=undefined;inputData[\"designtemplatemapping\"]={\"ndesigntemplatemappingcode\":_this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"]?_this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"].Value:\"\"};inputData[\"designtemplatemapping\"]=_this.props.Login.masterData.selectedDesignTemplateMapping;postParam={inputListName:\"DesignTemplateMapping\",selectedObject:\"selectedDesignTemplateMapping\",primaryKeyField:\"ndesigntemplatemappingcode\"};var inputParam=(_inputParam3={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:'designtemplatemapping',methodUrl:\"DesignTemplateMapping\"},_defineProperty(_inputParam3,\"inputData\",inputData),_defineProperty(_inputParam3,\"operation\",\"approve\"),_defineProperty(_inputParam3,\"postParam\",postParam),_inputParam3);var saveType;var masterData=_this.props.Login.masterData;var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,openModal:true,operation:\"approve\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_TEMPLATERETIRED\"}));}};_this.ConfirmDelete=function(){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteTemplate();});};_this.deleteTemplate=function(){if(_this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus===transactionStatus.DRAFT){var _inputParam4;var ncontrolCode=_this.state.controlMap.has(\"DeleteDesignTemplateMapping\")&&_this.state.controlMap.get(\"DeleteDesignTemplateMapping\").ncontrolcode;var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;var postParam=undefined;inputData[\"designtemplatemapping\"]={\"ndesigntemplatemappingcode\":_this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"]?_this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"].Value:\"\"};inputData[\"designtemplatemapping\"]=_this.props.Login.masterData.selectedDesignTemplateMapping;postParam={inputListName:\"DesignTemplateMapping\",selectedObject:\"selectedDesignTemplateMapping\",primaryKeyField:\"ndesigntemplatemappingcode\"};var inputParam=(_inputParam4={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:'designtemplatemapping',methodUrl:\"DesignTemplateMapping\"},_defineProperty(_inputParam4,\"inputData\",inputData),_defineProperty(_inputParam4,\"operation\",\"delete\"),_defineProperty(_inputParam4,\"postParam\",postParam),_inputParam4);var saveType;var masterData=_this.props.Login.masterData;var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,openModal:true,operation:\"delete\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTRECORDTODELETE\"}));}};_this.deleteCombinationUnique=function(index,eventKey){if(eventKey===\"subsample\"){var dataList=_this.props.Login.subsampledataList||[];var dataListCount=_this.props.Login.subsampledataListCount||[];dataListCount=[].concat(_toConsumableArray(dataListCount.slice(0,index)),_toConsumableArray(dataListCount.slice(index+1)));//   delete dataListCount[index]\nif(dataList[index]||dataList[index]===null){dataList=[].concat(_toConsumableArray(dataList.slice(0,index)),_toConsumableArray(dataList.slice(index+1)));// delete dataList[index]\n}var updateInfo={typeName:DEFAULT_RETURN,data:{subsampledataListCount:dataListCount,subsampledataList:dataList}};_this.props.updateStore(updateInfo);}else{var _dataList=_this.props.Login.dataList||[];var _dataListCount=_this.props.Login.dataListCount||[];_dataListCount=[].concat(_toConsumableArray(_dataListCount.slice(0,index)),_toConsumableArray(_dataListCount.slice(index+1)));//   delete dataListCount[index]\nif(_dataList[index]||_dataList[index]===null){_dataList=[].concat(_toConsumableArray(_dataList.slice(0,index)),_toConsumableArray(_dataList.slice(index+1)));// delete dataList[index]\n}var _updateInfo4={typeName:DEFAULT_RETURN,data:{dataListCount:_dataListCount,dataList:_dataList}};_this.props.updateStore(_updateInfo4);}};_this.addCombinatonUnique=function(designData,eventKey){if(eventKey===\"subsample\"){var dataList=_this.props.Login.dataListSubSample||[];//    const obj={}\n//     designData.map(item=>{\n//         obj[item[\"2\"]]={...item}\n//     })\n//dataList.push({})\nvar dataListCount=_this.props.Login.dataListCountSubSample||[];dataListCount.push(dataListCount.length+1);dataList.push({});var updateInfo={typeName:DEFAULT_RETURN,data:{dataListCountSubSample:dataListCount,dataListSubSample:dataList}};_this.props.updateStore(updateInfo);}else{var _dataList2=_this.props.Login.dataList||[];//    const obj={}\n//     designData.map(item=>{\n//         obj[item[\"2\"]]={...item}\n//     })\n//dataList.push({})\nvar _dataListCount2=_this.props.Login.dataListCount||[];_dataListCount2.push(_dataListCount2.length+1);_dataList2.push({});var _updateInfo5={typeName:DEFAULT_RETURN,data:{dataListCount:_dataListCount2,dataList:_dataList2}};_this.props.updateStore(_updateInfo5);}};_this.openCombinationUniqueFieldConfiguration=function(controlCode){var openModal=true;var operation='configureunique';var ncontrolcode=controlCode;var screenName=\"IDS_FIELDS\";var inputParam={inputData:{designtemplatemapping:{ndesigntemplatemappingcode:_this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode},userinfo:_this.props.Login.userInfo},operation:operation,ncontrolcode:ncontrolcode,screenName:screenName};if(_this.props.Login.masterData.realSampleValue&&_this.props.Login.masterData.realSampleValue.value!==TemplateType.Masters){inputParam.inputData[\"napprovalconfigcode\"]=_this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;}inputParam[\"TemplateType\"]=_this.props.Login.masterData.realSampleValue.value;_this.props.combinationUniqueConfigService(inputParam);};_this.openFieldConfiguration=function(controlCode,operation){var openModal=true;//let operation = 'configure';\nvar ncontrolcode=controlCode;var screenName=\"IDS_FIELDS\";var inputParam={inputData:{designtemplatemapping:{ndesigntemplatemappingcode:_this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode},userinfo:_this.props.Login.userInfo},operation:operation,ncontrolcode:ncontrolcode,screenName:screenName};if(_this.props.Login.masterData.realSampleValue&&_this.props.Login.masterData.realSampleValue.value!==TemplateType.Masters){inputParam.inputData[\"napprovalconfigcode\"]=_this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;}inputParam[\"TemplateType\"]=_this.props.Login.masterData.realSampleValue.value;_this.props.getMappedFieldProps(inputParam);};_this.editFieldConfiguration=function(controlCode,operation){//console.log(\"edit config:\", this.props.Login);\n// let operation = 'configureedit';\nvar ncontrolcode=controlCode;var screenName=\"IDS_FIELDS\";var inputParam={inputData:{designtemplatemapping:{ndesigntemplatemappingcode:_this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode},nregtypecode:_this.props.Login.masterData.defaultregtype.value,nregsubtypecode:_this.props.Login.masterData.defaultregsubtype.value,userinfo:_this.props.Login.userInfo},operation:operation,ncontrolcode:ncontrolcode,screenName:screenName};// if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){\n//     inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\n//  }\ninputParam[\"TemplateType\"]=_this.props.Login.masterData.realSampleValue.value;_this.props.editFieldConfigService(inputParam);};_this.auditFieldConfiguration=function(controlCode,operation){//console.log(\"edit config:\", this.props.Login);\nvar ncontrolcode=controlCode;var screenName=\"IDS_FIELDS\";var inputParam={inputData:{designtemplatemapping:{ndesigntemplatemappingcode:_this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode},nregtypecode:_this.props.Login.masterData.defaultregtype.value,nregsubtypecode:_this.props.Login.masterData.defaultregsubtype.value,userinfo:_this.props.Login.userInfo},operation:operation,ncontrolcode:ncontrolcode,screenName:screenName};inputParam[\"TemplateType\"]=_this.props.Login.masterData.realSampleValue.value;_this.props.auditFieldConfigService(inputParam);};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"approve\"||_this.props.Login.operation===\"delete\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null,dataList:[],dataListCount:[],dataListSubSample:[],dataListCountSubSample:[]}};_this.props.updateStore(updateInfo);};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;;_this.setState({selectedRecord:selectedRecord});};_this.onConfigureComboChange=function(comboData,formCode,item){var fieldName=item.label;var selectedRecord=_this.state.selectedRecord||{};selectedRecord[formCode]=_objectSpread(_objectSpread({},selectedRecord[formCode]),{},_defineProperty({},fieldName,comboData));_this.setState({selectedRecord:selectedRecord});// let designData = this.props.Login.editFieldDesignData;\n// let dataResult = this.props.Login.editFieldDataResult;\n// if (formCode === undefined){\n//     dataResult[dataIndex][field] = event.target.checked;\n//     if (event.target.checked) {\n//         designData[field].splice(dataIndex, 0, dataItem.realData)\n//     } else {\n//         designData[field].splice(designData[field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\n//     }\n// }\n// else{\n//     dataResult[formCode][\"sampleeditable\"] = comboData;\n//     if (event.target.checked) {\n//         if (field === 'samplelistitem' && designData[formCode][field].length >= 6) {\n//             return toast.warn(this.props.intl.formatMessage({ id: \"IDS_MAXIMUMSELECTIONEXCEEDS\" }))\n//         } else {\n//             designData[formCode][field].splice(dataIndex, 0, dataItem.realData)\n//         }\n//         if (field === 'sampledisplayfields') {\n//             designData[formCode]['samplesearchfields'].splice(dataIndex, 0, dataItem.label)\n//         }\n//     } else {\n//         if (field === 'sampledisplayfields') {\n//             designData[formCode]['samplesearchfields'].splice(designData[formCode]['samplesearchfields'].findIndex(x => x === dataItem.label), 1)\n//         }\n//         designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\n//     }\n// }\n// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: { designData, dataResult }\n// }\n// this.props.updateStore(updateInfo);\n};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onInputOnChangeForUnique=function(event,radiotext,index,multilinguallabel,eventKey){if(eventKey===\"subsample\"){var dataList=_this.props.Login.dataListSubSample||[];if(dataList[index]){var value=dataList[index]&&dataList[index][event.target.name];if(value!==''&&value!==undefined){delete dataList[index][event.target.name];}else{var _dataList$index$event;dataList[index][event.target.name]=(_dataList$index$event={},_defineProperty(_dataList$index$event,designProperties.LABEL,_objectSpread({},multilinguallabel)),_defineProperty(_dataList$index$event,designProperties.VALUE,radiotext),_dataList$index$event);}}else{var _event$target$name;dataList[index]=_defineProperty({},event.target.name,(_event$target$name={},_defineProperty(_event$target$name,designProperties.LABEL,_objectSpread({},multilinguallabel)),_defineProperty(_event$target$name,designProperties.VALUE,radiotext),_event$target$name));}var updateInfo={typeName:DEFAULT_RETURN,data:{dataListSubSample:dataList}};_this.props.updateStore(updateInfo);}else{var _dataList3=_this.props.Login.dataList||[];if(_dataList3[index]){var _value=_dataList3[index]&&_dataList3[index][event.target.name];if(_value!==''&&_value!==undefined){delete _dataList3[index][event.target.name];}else{var _dataList3$index$even;_dataList3[index][event.target.name]=(_dataList3$index$even={},_defineProperty(_dataList3$index$even,designProperties.LABEL,_objectSpread({},multilinguallabel)),_defineProperty(_dataList3$index$even,designProperties.VALUE,radiotext),_dataList3$index$even);}}else{var _event$target$name2;_dataList3[index]=_defineProperty({},event.target.name,(_event$target$name2={},_defineProperty(_event$target$name2,designProperties.LABEL,_objectSpread({},multilinguallabel)),_defineProperty(_event$target$name2,designProperties.VALUE,radiotext),_event$target$name2));}var _updateInfo6={typeName:DEFAULT_RETURN,data:{dataList:_dataList3}};_this.props.updateStore(_updateInfo6);}};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.getGridJsondata=function(templatedata){var gridItem=[];var gridMoreItem=[];var masterdatefields=[];var masterdateconstraints=[];var masteruniquevalidation=[];var mastercombinationunique=[];var editable=[];var jdynamiccolumns=[];var jnumericcolumns=[];var templatePrimaryKey=\"\";var mastertemplatefields=[];templatedata&&templatedata.map(function(row){return row.children&&row.children.map(function(column){column.children&&column.children.map(function(component,index){//console.log(\"component2:\", component);\nif(component.hasOwnProperty('children')){component.children.map(function(componentRow){var _componentRow$label,_mastertemplatefields;// console.log(\"component row2:\", componentRow);\ncomponentRow.unique&&masteruniquevalidation.push(_defineProperty({},designProperties.LABEL,componentRow.label));componentRow.unique&&mastercombinationunique.push(_defineProperty({},componentRow.label,(_componentRow$label={},_defineProperty(_componentRow$label,designProperties.LABEL,componentRow.displayname),_defineProperty(_componentRow$label,designProperties.VALUE,componentRow.label),_componentRow$label)));templatePrimaryKey=templatePrimaryKey===\"\"&&componentRow.unique?componentRow.label:templatePrimaryKey;var filterinputtype=\"text\";var comboDataInputObject={};if(componentRow.inputtype==='combo'){comboDataInputObject={\"predefinedtablename\":componentRow.source,\"predefinedvaluemember\":componentRow.valuemember,\"predefineddisplaymember\":componentRow.displaymember,\"predefinedismultilingual\":true,\"predefinedconditionalString\":componentRow.valuemember+\" > 0 \"};jnumericcolumns.push(_objectSpread({\"columnname\":componentRow.displaymember,\"displayname\":componentRow.displayname,\"foriegntablePK\":componentRow.label,// \"ismultilingual\": true,\n// \"conditionstring\": \" and nformcode in (\"+componentRow.table.item.nformcode+\") \",\n\"tablecolumnname\":componentRow.valuemember,\"foriegntablename\":componentRow.source},comboDataInputObject));filterinputtype=\"predefinednumeric\";}// samplesearchfields.push(componentRow.label)\nif(componentRow.inputtype==='date'){var _masterdatefields$pus;filterinputtype=\"date\";masterdatefields.push((_masterdatefields$pus={},_defineProperty(_masterdatefields$pus,designProperties.VALUE,componentRow.label),_defineProperty(_masterdatefields$pus,\"dateonly\",componentRow.dateonly||false),_masterdatefields$pus));masterdateconstraints=componentRow.dateConstraintArraySQL?[].concat(_toConsumableArray(componentRow.dateConstraintArraySQL),_toConsumableArray(masterdateconstraints)):masterdateconstraints;}if(componentRow.inputtype==='Numeric'||componentRow.inputtype==='radio'){filterinputtype=\"numeric\";}jdynamiccolumns.push(_objectSpread({default:componentRow.unique?true:false,filterinputtype:filterinputtype,columnname:componentRow.label,displayname:componentRow.displayname},comboDataInputObject));// displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\n// componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\nif(componentRow.mandatory||componentRow.templatemandatory){var _gridItem$push;gridItem.push((_gridItem$push={},_defineProperty(_gridItem$push,designProperties.LABEL,componentRow.displayname),_defineProperty(_gridItem$push,designProperties.VALUE,componentRow.label),_gridItem$push));}else{var _gridMoreItem$push;gridMoreItem.push((_gridMoreItem$push={},_defineProperty(_gridMoreItem$push,designProperties.LABEL,componentRow.displayname),_defineProperty(_gridMoreItem$push,designProperties.VALUE,componentRow.label),_gridMoreItem$push));}mastertemplatefields.push((_mastertemplatefields={},_defineProperty(_mastertemplatefields,designProperties.LABEL,componentRow.displayname),_defineProperty(_mastertemplatefields,designProperties.VALUE,componentRow.label),_mastertemplatefields));if(componentRow.templatemandatory){editable.push({label:componentRow.label,editableuntill:[]});}else{editable.push({label:componentRow.label,editableuntill:[transactionStatus.DRAFT]});}return null;});}else{var _component$label,_mastertemplatefields2;//console.log(\"component2:\", component);\ncomponent.unique&&masteruniquevalidation.push(_defineProperty({},designProperties.LABEL,component.label));component.unique&&mastercombinationunique.push(_defineProperty({},component.label,(_component$label={},_defineProperty(_component$label,designProperties.LABEL,component.displayname),_defineProperty(_component$label,designProperties.VALUE,component.label),_component$label)));templatePrimaryKey=templatePrimaryKey===\"\"&&component.unique?component.label:templatePrimaryKey;var filterinputtype=\"text\";var comboDataInputObject={};mastertemplatefields.push((_mastertemplatefields2={},_defineProperty(_mastertemplatefields2,designProperties.LABEL,component.displayname),_defineProperty(_mastertemplatefields2,designProperties.VALUE,component.label),_mastertemplatefields2));if(component.inputtype==='combo'){filterinputtype=\"predefinednumeric\";comboDataInputObject={\"predefinedtablename\":component.source,\"predefinedvaluemember\":component.valuemember,\"predefineddisplaymember\":component.displaymember,\"predefinedismultilingual\":true,\"predefinedconditionalString\":component.valuemember+\" > 0\"};jnumericcolumns.push(_objectSpread({\"columnname\":component.label,\"displayname\":component.displayname,\"foriegntablePK\":component.label,// \"ismultilingual\": true,\n\"conditionstring\":\" and nformcode in (\"+component.table.item.nformcode+\") \",\"tablecolumnname\":component.column.value,\"foriegntablename\":\"dynamicmaster\"},comboDataInputObject));}// samplesearchfields.push(component.label)\nif(component.inputtype==='date'){var _masterdatefields$pus2;filterinputtype=\"date\";masterdatefields.push((_masterdatefields$pus2={},_defineProperty(_masterdatefields$pus2,designProperties.VALUE,component.label),_defineProperty(_masterdatefields$pus2,\"dateonly\",component.dateonly||false),_masterdatefields$pus2));masterdateconstraints=component.dateConstraintArraySQL?[].concat(_toConsumableArray(component.dateConstraintArraySQL),_toConsumableArray(masterdateconstraints)):masterdateconstraints;}if(component.inputtype==='numeric'||component.inputtype==='radio'){filterinputtype=\"numeric\";}jdynamiccolumns.push(_objectSpread({default:component.unique?true:false,columnname:component.label,displayname:component.displayname,filterinputtype:filterinputtype},comboDataInputObject));// displayFields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\n// component.templatemandatory && listItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\nif(component.mandatory||component.templatemandatory){var _gridItem$push2;gridItem.push((_gridItem$push2={},_defineProperty(_gridItem$push2,designProperties.LABEL,component.displayname),_defineProperty(_gridItem$push2,designProperties.VALUE,component.label),_gridItem$push2));}else{var _gridMoreItem$push2;gridMoreItem.push((_gridMoreItem$push2={},_defineProperty(_gridMoreItem$push2,designProperties.LABEL,component.displayname),_defineProperty(_gridMoreItem$push2,designProperties.VALUE,component.label),_gridMoreItem$push2));}if(component.templatemandatory){editable.push({label:component.label,editableuntill:[]});}else{editable.push({label:component.label,editableuntill:[transactionStatus.DRAFT]});}return null;}});});});var jsondata={griditem:gridItem,gridmoreitem:gridMoreItem,masterdatefields:masterdatefields,masterdateconstraints:masterdateconstraints,masteruniquevalidation:masteruniquevalidation,editable:editable,mastertemplatefields:mastertemplatefields,mastercombinationunique:mastercombinationunique};// console.log(\"dynamiccolumns:\", jdynamiccolumns);\nreturn{jsondata:jsondata,jdynamiccolumns:jdynamiccolumns,jnumericcolumns:jnumericcolumns,templatePrimaryKey:templatePrimaryKey};};_this.getJsondata=function(templatedata){var _ref,_ref2,_displayFields$push3,_jsondata;var displayFields=[];var listItem=[];var gridItem=[];var gridMoreItem=[];var editable=[];var subsampleeditable=[];var subsamplelistitem=[];var sampledatefields=[(_ref={},_defineProperty(_ref,designProperties.VALUE,'dregdate'),_defineProperty(_ref,\"dateonly\",false),_ref)];var sampledateconstraints=[];var subsampledatefields=[];var subsampledateconstraints=[];var samplesearchfields=[\"dregdate\",\"sarno\",\"stransdisplaystatus\"];var subsamplesearchfields=[\"sarno\",\"ssamplearno\",\"stransdisplaystatus\"];var sampletemplatefields=[];var subsampletemplatefields=[];var sampleuniquevalidation=[];var subsampleuniquevalidation=[];var jdynamiccolumns=[];var jnumericcolumns=[];var samplecombinationunique=[];var subsamplecombinationunique=[];// const staticSearchFields = [\"dregdate\", \"sarno\", \"stransdisplaystatus\"];\n// const sampleStaticFields = [\n//     { [designProperties.LABEL]: { \"en-US\": \"Reg Date\",\"Ko-KR\":\"Reg Date\",\"ru-RU\":\"Дата регистрации\",\"tg-TG\":\"Санаи бақайдгирӣ\" }, \n//       [designProperties.VALUE]: 'dregdate' },\n//     { [designProperties.LABEL]: { \"en-US\": \"Ar No.\",\"Ko-KR\":\"Reg Date\",\"ru-RU\":\"Ар №\",\"tg-TG\":\"Ар №\" }, \n//       [designProperties.VALUE]: 'sarno' },\n//     { [designProperties.LABEL]: { \"en-US\": \"Transaction Status\",\"Ko-KR\":\"Transaction Status\",\"ru-RU\":\"Статус транзакции\",\"tg-TG\":\"Ҳолати транзаксия\" }, \n//       [designProperties.VALUE]: 'stransdisplaystatus' }\n//     ]\nvar testdatefields=[(_ref2={},_defineProperty(_ref2,designProperties.VALUE,'dtransactiondate'),_defineProperty(_ref2,\"dateonly\",false),_ref2)];//console.log(\"this.state.selectedRecord:\", this.state.selectedRecord);\n_this.state.selectedRecord.nsubsampletemplatecode&&_this.state.selectedRecord.nsubsampletemplatecode.item.jsondata.map(function(row){return row.children&&row.children.map(function(column){column.children&&column.children.map(function(component){if(component.hasOwnProperty('children')){component.children.map(function(componentRow){var _componentRow$label2,_subsampletemplatefie,_subsamplelistitem$pu;componentRow.unique&&subsampleuniquevalidation.push(_defineProperty({},designProperties.LABEL,componentRow.label));componentRow.unique&&subsamplecombinationunique.push(_defineProperty({},componentRow.label,(_componentRow$label2={},_defineProperty(_componentRow$label2,designProperties.LABEL,componentRow.displayname),_defineProperty(_componentRow$label2,designProperties.VALUE,componentRow.label),_componentRow$label2)));subsamplesearchfields.push(componentRow.label);//subsampleeditable.push({ label: componentRow.label, editableuntill: [17] })\nsubsampletemplatefields.push((_subsampletemplatefie={},_defineProperty(_subsampletemplatefie,designProperties.LABEL,componentRow.displayname),_defineProperty(_subsampletemplatefie,designProperties.VALUE,componentRow.label),_subsampletemplatefie));if(component.readonly)subsampleeditable.push({label:componentRow.label,editableuntill:[]});else subsampleeditable.push({label:componentRow.label,editableuntill:[transactionStatus.PREREGISTER]});if(componentRow.inputtype==='date'){var _subsampledatefields$;subsampledatefields.push((_subsampledatefields$={},_defineProperty(_subsampledatefields$,designProperties.VALUE,componentRow.label),_defineProperty(_subsampledatefields$,\"dateonly\",componentRow.dateonly||false),_subsampledatefields$));subsampledateconstraints=componentRow.dateConstraintArraySQL?[].concat(_toConsumableArray(componentRow.dateConstraintArraySQL),_toConsumableArray(subsampledateconstraints)):subsampledateconstraints;}subsamplelistitem.push((_subsamplelistitem$pu={},_defineProperty(_subsamplelistitem$pu,designProperties.LABEL,componentRow.displayname),_defineProperty(_subsamplelistitem$pu,designProperties.VALUE,componentRow.label),_subsamplelistitem$pu));});}else{var _component$label2,_subsampletemplatefie2,_subsamplelistitem$pu2;component.unique&&subsampleuniquevalidation.push(_defineProperty({},designProperties.LABEL,component.label));component.unique&&subsamplecombinationunique.push(_defineProperty({},component.label,(_component$label2={},_defineProperty(_component$label2,designProperties.LABEL,component.displayname),_defineProperty(_component$label2,designProperties.VALUE,component.label),_component$label2)));subsamplesearchfields.push(component.label);// subsampleeditable.push({ label: component.label, editableuntill: [transactionStatus.PREREGISTER] })\nsubsampletemplatefields.push((_subsampletemplatefie2={},_defineProperty(_subsampletemplatefie2,designProperties.LABEL,component.displayname),_defineProperty(_subsampletemplatefie2,designProperties.VALUE,component.label),_subsampletemplatefie2));if(component.readonly)subsampleeditable.push({label:component.label,editableuntill:[]});else subsampleeditable.push({label:component.label,editableuntill:[transactionStatus.PREREGISTER]});if(component.inputtype==='date'){var _subsampledatefields$2;subsampledatefields.push((_subsampledatefields$2={},_defineProperty(_subsampledatefields$2,designProperties.VALUE,component.label),_defineProperty(_subsampledatefields$2,\"dateonly\",component.dateonly||false),_subsampledatefields$2));subsampledateconstraints=component.dateConstraintArraySQL?[].concat(_toConsumableArray(component.dateConstraintArraySQL),_toConsumableArray(subsampledateconstraints)):subsampledateconstraints;}subsamplelistitem.push((_subsamplelistitem$pu2={},_defineProperty(_subsamplelistitem$pu2,designProperties.LABEL,component.displayname),_defineProperty(_subsamplelistitem$pu2,designProperties.VALUE,component.label),_subsamplelistitem$pu2));}});});});templatedata&&templatedata.map(function(row){return row.children&&row.children.map(function(column){column.children&&column.children.map(function(component){if(component.hasOwnProperty('children')){// let combinedField = [];\ncomponent.children.map(function(componentRow){var _componentRow$label3,_sampletemplatefields,_displayFields$push,_listItem$push;// combinedField.push(componentRow.label)\njdynamiccolumns.push({columnname:componentRow.label,displayname:componentRow.displayname});if(componentRow.hasOwnProperty('child')){componentRow.child.map(function(childData){jnumericcolumns.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"foriegntablePK\":componentRow.label,// \"ismultilingual\": true,\n// \"conditionstring\": \" and nformcode in (140) \",\n\"tablecolumnname\":childData.tablecolumnname,\"foriegntablename\":\"dynamicmaster\"});});}componentRow.unique&&sampleuniquevalidation.push(_defineProperty({},designProperties.LABEL,componentRow.label));componentRow.unique&&samplecombinationunique.push(_defineProperty({},componentRow.label,(_componentRow$label3={},_defineProperty(_componentRow$label3,designProperties.LABEL,componentRow.displayname),_defineProperty(_componentRow$label3,designProperties.VALUE,componentRow.label),_componentRow$label3)));samplesearchfields.push(componentRow.label);sampletemplatefields.push((_sampletemplatefields={},_defineProperty(_sampletemplatefields,designProperties.LABEL,componentRow.displayname),_defineProperty(_sampletemplatefields,designProperties.VALUE,componentRow.label),_sampletemplatefields));if(componentRow.inputtype==='date'){var _sampledatefields$pus;sampledatefields.push((_sampledatefields$pus={},_defineProperty(_sampledatefields$pus,designProperties.VALUE,componentRow.label),_defineProperty(_sampledatefields$pus,\"dateonly\",componentRow.dateonly||false),_sampledatefields$pus));sampledateconstraints=componentRow.dateConstraintArraySQL?[].concat(_toConsumableArray(componentRow.dateConstraintArraySQL),_toConsumableArray(sampledateconstraints)):sampledateconstraints;}displayFields.push((_displayFields$push={},_defineProperty(_displayFields$push,designProperties.LABEL,componentRow.displayname),_defineProperty(_displayFields$push,designProperties.VALUE,componentRow.label),_displayFields$push));componentRow.templatemandatory&&listItem.push((_listItem$push={},_defineProperty(_listItem$push,designProperties.LABEL,componentRow.displayname),_defineProperty(_listItem$push,designProperties.VALUE,componentRow.label),_listItem$push));if(componentRow.mandatory||componentRow.templatemandatory){var _gridItem$push3;gridItem.push((_gridItem$push3={},_defineProperty(_gridItem$push3,designProperties.LABEL,componentRow.displayname),_defineProperty(_gridItem$push3,designProperties.VALUE,componentRow.label),_gridItem$push3));}else{var _gridMoreItem$push3;gridMoreItem.push((_gridMoreItem$push3={},_defineProperty(_gridMoreItem$push3,designProperties.LABEL,componentRow.displayname),_defineProperty(_gridMoreItem$push3,designProperties.VALUE,componentRow.label),_gridMoreItem$push3));}if(componentRow.templatemandatory){editable.push({label:componentRow.label,editableuntill:[]});}else{if(componentRow.readonly)editable.push({label:componentRow.label,editableuntill:[]});else editable.push({label:componentRow.label,editableuntill:[transactionStatus.PREREGISTER]});}return null;});// let fieldSet = combinedField.join(\"&\")\n// displayFields.push(fieldSet);\n// componentRow.templatemandatory && listItem.push(fieldSet)\n// gridMoreItem.push(fieldSet);\n}else{var _component$label3,_sampletemplatefields2,_displayFields$push2;jdynamiccolumns.push({columnname:component.label,displayname:component.displayname});if(component.hasOwnProperty('child')){component.child.map(function(childData){jnumericcolumns.push({\"columnname\":component.label,\"displayname\":component.displayname,\"foriegntablePK\":component.label,// \"ismultilingual\": true,\n// \"conditionstring\": \" and nformcode in (140) \",\n\"tablecolumnname\":childData.tablecolumnname,\"foriegntablename\":\"dynamicmaster\"});});}component.unique&&sampleuniquevalidation.push(_defineProperty({},designProperties.LABEL,component.label));component.unique&&samplecombinationunique.push(_defineProperty({},component.label,(_component$label3={},_defineProperty(_component$label3,designProperties.LABEL,component.displayname),_defineProperty(_component$label3,designProperties.VALUE,component.label),_component$label3)));samplesearchfields.push(component.label);sampletemplatefields.push((_sampletemplatefields2={},_defineProperty(_sampletemplatefields2,designProperties.LABEL,component.displayname),_defineProperty(_sampletemplatefields2,designProperties.VALUE,component.label),_sampletemplatefields2));if(component.inputtype==='date'){var _sampledatefields$pus2;sampledatefields.push((_sampledatefields$pus2={},_defineProperty(_sampledatefields$pus2,designProperties.VALUE,component.label),_defineProperty(_sampledatefields$pus2,\"dateonly\",component.dateonly||false),_sampledatefields$pus2));sampledateconstraints=component.dateConstraintArraySQL?[].concat(_toConsumableArray(component.dateConstraintArraySQL),_toConsumableArray(sampledateconstraints)):sampledateconstraints;}displayFields.push((_displayFields$push2={},_defineProperty(_displayFields$push2,designProperties.LABEL,component.displayname),_defineProperty(_displayFields$push2,designProperties.VALUE,component.label),_displayFields$push2));// component.templatemandatory \n//&& listItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\nif(component.mandatory||component.templatemandatory){var _gridItem$push4,_listItem$push2;gridItem.push((_gridItem$push4={},_defineProperty(_gridItem$push4,designProperties.LABEL,component.displayname),_defineProperty(_gridItem$push4,designProperties.VALUE,component.label),_gridItem$push4));listItem.push((_listItem$push2={},_defineProperty(_listItem$push2,designProperties.LABEL,component.displayname),_defineProperty(_listItem$push2,designProperties.VALUE,component.label),_defineProperty(_listItem$push2,\"mandatory\",true),_listItem$push2));}else{var _gridMoreItem$push4;gridMoreItem.push((_gridMoreItem$push4={},_defineProperty(_gridMoreItem$push4,designProperties.LABEL,component.displayname),_defineProperty(_gridMoreItem$push4,designProperties.VALUE,component.label),_gridMoreItem$push4));}if(component.templatemandatory){editable.push({label:component.label,editableuntill:[]});}else{// editable.push({ label: component.label, editableuntill: [17] })\nif(component.readonly)editable.push({label:component.label,editableuntill:[]});else editable.push({label:component.label,editableuntill:[transactionStatus.PREREGISTER]});}return null;}});});});displayFields.push((_displayFields$push3={},_defineProperty(_displayFields$push3,designProperties.LABEL,{\"en-US\":\"Reg Date\",\"Ko-KR\":\"Reg Date\",\"ru-RU\":\"Дата регистрации\",\"tg-TG\":\"Санаи бақайдгирӣ\"}),_defineProperty(_displayFields$push3,designProperties.VALUE,'dregdate'),_displayFields$push3));//samplesearchfields.push(...staticSearchFields);\n//console.log(\"reg sub type:\", this.props.Login);\nvar obj=_objectSpread({sampledisplayfields:displayFields,samplelistitem:listItem,samplegriditem:gridItem,samplegridmoreitem:gridMoreItem,subsamplelistitem:subsamplelistitem,sampledatefields:sampledatefields,subsampledatefields:subsampledatefields,samplesearchfields:samplesearchfields,subsamplesearchfields:subsamplesearchfields,testdatefields:testdatefields,sampledateconstraints:sampledateconstraints,subsampledateconstraints:subsampledateconstraints,// sampleuniquevalidation,\n//  subsamplecombinationunique,\nsamplecombinationunique:samplecombinationunique},_this.props.Login.testListFields);// console.log(\"Template mapping obj:\", obj);\nvar jsondata=(_jsondata={subsamplecombinationunique:subsamplecombinationunique,samplecombinationunique:samplecombinationunique,sampletemplatefields:sampletemplatefields,subsampletemplatefields:subsampletemplatefields},_defineProperty(_jsondata,formCode.SAMPLEREGISTRATION,_objectSpread(_objectSpread({},obj),{},{sampleeditable:editable,subsampleeditable:subsampleeditable,samplecombinationunique:samplecombinationunique,subsamplecombinationunique:subsamplecombinationunique})),_defineProperty(_jsondata,formCode.RESULTENTRY,_objectSpread({},obj)),_defineProperty(_jsondata,formCode.APPROVAL,_objectSpread({},obj)),_defineProperty(_jsondata,formCode.JOBALLOCATION,_objectSpread({},obj)),_defineProperty(_jsondata,formCode.MYJOBS,_objectSpread({},obj)),_defineProperty(_jsondata,formCode.TESTWISEMYJOBS,_objectSpread({},obj)),_jsondata);return jsondata;};_this.onChangeToggle=function(event,dataItem,field,dataIndex,formCode){var designData=_this.props.Login.designData;var dataResult=_this.props.Login.dataResult;if(formCode===undefined){dataResult[dataIndex][field]=event.target.checked;if(event.target.checked){designData[field].splice(dataIndex,0,dataItem.realData);}else{designData[field].splice(designData[field].findIndex(function(x){return x[designProperties.VALUE]===dataItem.label;}),1);}}else{//dataResult[formCode][dataIndex][field] = event.target.checked;\nif(event.target.checked){if(field==='samplelistitem'&&designData[formCode][field].length>=6){return toast.warn(_this.props.intl.formatMessage({id:\"IDS_MAXIMUMSELECTIONEXCEEDS\"}));}else{dataResult[formCode][dataIndex][field]=event.target.checked;designData[formCode][field].splice(dataIndex,0,dataItem.realData);}if(field==='sampledisplayfields'){dataResult[formCode][dataIndex][field]=event.target.checked;designData[formCode]['samplesearchfields'].splice(dataIndex,0,dataItem.label);}}else{if(field==='sampledisplayfields'){dataResult[formCode][dataIndex][field]=event.target.checked;designData[formCode]['samplesearchfields'].splice(designData[formCode]['samplesearchfields'].findIndex(function(x){return x===dataItem.label;}),1);}dataResult[formCode][dataIndex][field]=event.target.checked;designData[formCode][field].splice(designData[formCode][field].findIndex(function(x){return x[designProperties.VALUE]===dataItem.label;}),1);}}var updateInfo={typeName:DEFAULT_RETURN,data:{designData:designData,dataResult:dataResult}};_this.props.updateStore(updateInfo);};_this.onSaveClick=function(saveType,formRef){//console.log(\"save:\", this.state.selectedRecord);\n//console.log(\"data:\", this.props.Login.editFieldDesignData)\nvar inputData=[];var operation=_this.props.Login.operation;if(operation==='configure'||operation==='configuresubsample'){inputData={designtemplatemapping:{ndesigntemplatemappingcode:_this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,jsondataobj:_this.props.Login.designData},userinfo:_this.props.Login.userInfo};}else if(operation==='configureedit'||operation==='configuresubsampleedit'){var designData=_this.props.Login.editFieldDesignData;var formCodeArray=Object.keys(_this.state.selectedRecord);formCodeArray.forEach(function(formCode){var data=_this.state.selectedRecord[formCode];var editableData=designData[formCode]['sampleeditable'];;if(operation==='configuresubsampleedit'){editableData=designData[formCode]['subsampleeditable'];;}Object.keys(data).map(function(label){var editableuntil=[];data[label].map(function(statusItem){return editableuntil.push(statusItem.value);});var index=editableData.findIndex(function(item){return item.label===label;});if(index===-1){editableData.push({\"label\":label,\"editableuntill\":editableuntil});}else{editableData[index]={\"label\":label,\"editableuntill\":editableuntil};}//designData[formCode]['sampleeditable'].push({\"label\":label, \"editableuntill\":editableuntil});\n});});inputData={designtemplatemapping:{ndesigntemplatemappingcode:_this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,jsondataobj:designData},userinfo:_this.props.Login.userInfo};operation='configure';}else if(operation==='configureunique'){var _designData=_this.props.Login.designData;//  let formCodeArray = Object.keys(this.state.selectedRecord);\nvar dataList=[];var dataListsubsample=[];_this.props.Login.dataList.map(function(x){if(Object.keys(x).length!==0){dataList.push(x);}});if(_this.props.Login.masterData.realSampleValue.value===TemplateType.Masters){_designData['mastercombinationunique']=dataList;}else{_designData['samplecombinationunique']=dataList;_designData[formCode.SAMPLEREGISTRATION]['samplecombinationunique']=dataList;_this.props.Login.dataListSubSample.map(function(x){if(Object.keys(x).length!==0){dataListsubsample.push(x);}});_designData['subsamplecombinationunique']=dataListsubsample;_designData[formCode.SAMPLEREGISTRATION]['subsamplecombinationunique']=dataListsubsample;}inputData={designtemplatemapping:{ndesigntemplatemappingcode:_this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,jsondataobj:_designData},userinfo:_this.props.Login.userInfo};operation='configure';}else{var _ref3=_this.props.Login.masterData.realSampleValue.value===TemplateType.Masters?_this.getGridJsondata(_this.state.selectedRecord.nreactregtemplatecode.item.jsondata):{},jsondata=_ref3.jsondata,jdynamiccolumns=_ref3.jdynamiccolumns,jnumericcolumns=_ref3.jnumericcolumns,templatePrimaryKey=_ref3.templatePrimaryKey;inputData={\"userinfo\":_this.props.Login.userInfo,\"ncontrolcode\":_this.props.Login.ncontrolCode,\"nreactregtemplatecode\":_this.state.selectedRecord.nreactregtemplatecode.value,\"nsampletypecode\":_this.props.Login.masterData.realSampleValue.value,\"nregtypecode\":_this.props.Login.masterData.realSampleValue.value===TemplateType.Masters?-1:_this.props.Login.masterData.realRegTypeValue?_this.props.Login.masterData.realRegTypeValue.value:-1,\"nregsubtypecode\":_this.props.Login.masterData.realSampleValue.value===TemplateType.Masters?-1:_this.props.Login.masterData.realRegSubTypeValue?_this.props.Login.masterData.realRegSubTypeValue.value:-1,\"nformcode\":_this.props.Login.masterData.realFormValue?_this.props.Login.masterData.realFormValue.value:-1,\"nsubsampletemplatecode\":_this.state.selectedRecord.nsubsampletemplatecode?_this.state.selectedRecord.nsubsampletemplatecode.value:-1,\"jsondataobj\":_this.props.Login.masterData.realSampleValue.value===TemplateType.Masters?jsondata:_this.getJsondata(_this.state.selectedRecord.nreactregtemplatecode.item.jsondata)};inputData[\"designtemplatemapping\"]={\"nsitecode\":_this.props.Login.userInfo.nmastersitecode};if(_this.props.Login.masterData.realFormValue&&_this.props.Login.masterData.realFormValue.value===-2){var qf_jsonData={sdisplayname:{}};var qbt_jsonData={tablename:{}};_this.props.Login.languageList.map(function(lang){qf_jsonData['sdisplayname'][lang.value]=_this.state.selectedRecord.sformname;qbt_jsonData['tablename'][lang.value]=_this.state.selectedRecord.sformname;});var qm_jsonData={sdisplayname:{}};var nmodulecode=0;var smoduledisplayname=\"\";// if (typeof this.state.selectedRecord[\"nmodulecode\"].value === \"string\" )\n// {\n//     smoduledisplayname = this.state.selectedRecord[\"nmodulecode\"].value;\n//     this.props.Login.languageList.map(lang => {\n//         qm_jsonData['sdisplayname'][lang.value] = this.state.selectedRecord[\"nmodulecode\"].value;\n//     })\n// }\n// else{\n//     nmodulecode = this.state.selectedRecord[\"nmodulecode\"].value;\n// }\nif(_this.state.selectedRecord[\"nnewmodule\"].value===transactionStatus.YES){smoduledisplayname=_this.state.selectedRecord[\"nmodulecode\"];_this.props.Login.languageList.map(function(lang){qm_jsonData['sdisplayname'][lang.value]=_this.state.selectedRecord[\"nmodulecode\"];});}else{nmodulecode=_this.state.selectedRecord[\"nmodulecode\"].value;}inputData=_objectSpread(_objectSpread({},inputData),{},{sformname:_this.state.selectedRecord.sformname,nmodulecode:nmodulecode,smoduledisplayname:smoduledisplayname,qm_jsonData:qm_jsonData,qf_jsonData:qf_jsonData,qbt_jsonData:qbt_jsonData,sprimarykeyname:templatePrimaryKey,jdynamiccolumns:jdynamiccolumns,jnumericcolumns:jnumericcolumns});}// this.designtemplatemappingFieldList.map(item => {\n//     return inputData[\"designtemplatemapping\"][item] = this.state.selectedRecord[item]\n// });\n}var postParam=undefined;var inputParam={classUrl:\"designtemplatemapping\",methodUrl:\"DesignTemplateMapping\",inputData:inputData,operation:operation,saveType:saveType,formRef:formRef,postParam:postParam,searchRef:_this.searchRef,dataList:[],dataListCount:[],dataListCountSubSample:[],dataListSubSample:[]};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,dataList:[],dataListCount:[],dataListCountSubSample:[],dataListSubSample:[]}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.state={isOpen:false,designtemplatemappingData:[],masterStatus:\"\",error:\"\",//selectedRecord: {},\noperation:\"\",screenName:undefined,userLogged:true,selectedDesignTemplateMapping:undefined,userRoleControlRights:[],controlMap:new Map(),showAccordian:true,selectedInput:\"\",masterTypeArray:[{label:_this.props.intl.formatMessage({id:\"IDS_NEWMASTER\"}),value:1,item:{nmastertypecode:1,smastertype:_this.props.intl.formatMessage({id:\"IDS_NEWMASTER\"})}},{label:_this.props.intl.formatMessage({id:\"IDS_EXISTINGMASTER\"}),value:2,item:{nmastertypecode:2,smastertype:_this.props.intl.formatMessage({id:\"IDS_EXISTINGMASTER\"})}}],newMasterForm:{value:-2,label:\"-\"},moduleTypeArray:[{label:_this.props.intl.formatMessage({id:\"IDS_NEWMODULE\"}),value:3},{label:_this.props.intl.formatMessage({id:\"IDS_EXISTINGMODULE\"}),value:4}]};_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();_this.searchFieldList=[\"sregtemplatename\",\"sversionno\",\"stransdisplaystatus\"];_this.designtemplatemappingFieldList=['ndesigntemplatemappingcode','nsampletypecode','nformcode','nregtypecode','nregsubtypecode','nformwisetypecode','nreactregtemplatecode','ntransactionstatus','nversionno'];//'nmahcode',\nreturn _this;}_createClass(DesignTemplateMapping,[{key:\"render\",value:function render(){var _this2=this;var Layout=this.props.Login.masterData.selectedDesignTemplateMapping&&this.props.Login.masterData.selectedDesignTemplateMapping.jsondata;var userStatusCSS=\"outline-secondary\";if(this.props.Login.masterData.selectedDesignTemplateMapping?this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus===transactionStatus.ACTIVE||this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus===transactionStatus.APPROVED:false){userStatusCSS=\"outline-success\";}else if(this.props.Login.masterData.selectedDesignTemplateMapping&&this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus===transactionStatus.RETIRED){userStatusCSS=\"outline-danger\";}var addId=this.state.controlMap.has(\"AddDesignTemplateMapping\")&&this.state.controlMap.get(\"AddDesignTemplateMapping\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteDesignTemplateMapping\")&&this.state.controlMap.get(\"DeleteDesignTemplateMapping\").ncontrolcode;var approveId=this.state.controlMap.has(\"ApproveDesignTemplateMapping\")&&this.state.controlMap.get(\"ApproveDesignTemplateMapping\").ncontrolcode;var sampleFieldId=this.state.controlMap.has(\"ConfigureSampleDisplayFields\")&&this.state.controlMap.get(\"ConfigureSampleDisplayFields\").ncontrolcode;var sampleEditFieldId=this.state.controlMap.has(\"ConfigureSampleEditableFields\")&&this.state.controlMap.get(\"ConfigureSampleEditableFields\").ncontrolcode;var subSampleFieldId=this.state.controlMap.has(\"ConfigureSubSampleDisplayFields\")&&this.state.controlMap.get(\"ConfigureSubSampleDisplayFields\").ncontrolcode;var subSampleEditFieldId=this.state.controlMap.has(\"ConfigureSubSampleEditableFields\")&&this.state.controlMap.get(\"ConfigureSubSampleEditableFields\").ncontrolcode;var combinationUniqueFieldId=this.state.controlMap.has(\"ConfigureCombinationUniqueFields\")&&this.state.controlMap.get(\"ConfigureCombinationUniqueFields\").ncontrolcode;var actionList=[];if(this.state.userRoleControlRights.indexOf(sampleFieldId)!==-1){actionList.push({\"method\":templateMappingAction.CONFIGSAMPLEDISPLAY,\"value\":this.props.intl.formatMessage({id:\"IDS_CONFIGUREDISPLAYFIELDS\"}),\"controlId\":sampleFieldId});}if(this.props.Login.masterData.realSampleValue&&this.props.Login.masterData.realSampleValue.value!==TemplateType.Masters&&this.state.userRoleControlRights.indexOf(sampleEditFieldId)!==-1){actionList.push({\"method\":templateMappingAction.CONFIGSAMPLEEDIT,\"value\":this.props.intl.formatMessage({id:\"IDS_CONFIGUREEDITFIELDS\"}),\"controlId\":sampleEditFieldId});if(this.props.Login.masterData.realRegSubTypeValue&&this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample===true){if(this.state.userRoleControlRights.indexOf(subSampleFieldId)!==-1){actionList.push({\"method\":templateMappingAction.CONFIGSUBSAMPLEDISPLAY,\"value\":this.props.intl.formatMessage({id:\"IDS_CONFIGURESUBSAMPLEDISPLAYFIELDS\"}),\"controlId\":subSampleFieldId});}if(this.state.userRoleControlRights.indexOf(subSampleEditFieldId)!==-1){actionList.push({\"method\":templateMappingAction.CONFIGSUBSAMPLEEDIT,\"value\":this.props.intl.formatMessage({id:\"IDS_CONFIGURSUBSAMPLEEEDITFIELDS\"}),\"controlId\":subSampleEditFieldId});}}}if(this.state.userRoleControlRights.indexOf(combinationUniqueFieldId)!==-1){actionList.push({\"method\":templateMappingAction.CONFIGUNIQUE,\"value\":this.props.intl.formatMessage({id:\"IDS_CONFIGURECOMBINATIONUNIQUEFIELDS\"}),\"controlId\":combinationUniqueFieldId});}var filterParam={inputListName:\"DesignTemplateMapping\",selectedObject:\"selectedDesignTemplateMapping\",primaryKeyField:\"ndesigntemplatemappingcode\",fetchUrl:\"designtemplatemapping/getDesignTemplateMapping\",fecthInputObject:{userinfo:this.props.Login.userInfo,nsampletypecode:this.props.Login.masterData[\"realSampleValue\"]?this.props.Login.masterData[\"realSampleValue\"].value:-1,nregtypecode:this.props.Login.masterData[\"realRegTypeValue\"]?this.props.Login.masterData[\"realRegTypeValue\"].value:-1,nregsubtypecode:this.props.Login.masterData[\"realRegSubTypeValue\"]?this.props.Login.masterData[\"realRegSubTypeValue\"].value:-1,nformcode:this.props.Login.masterData[\"realFormValue\"]?this.props.Login.masterData[\"realFormValue\"].value:-1},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};this.validationColumnList=[{\"idsName\":\"IDS_TEMPLATENAME\",\"dataField\":\"nreactregtemplatecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];var mandatoryFields=[];this.validationColumnList.forEach(function(item){return item.mandatory===true?mandatoryFields.push(item):\"\";});// let breadCrumbDataDate = convertDateValuetoString(this.props.Login.masterData && this.props.Login.masterData.FromDate,\n//     this.props.Login.masterData && this.props.Login.masterData.ToDate,\n//     this.props.Login.userInfo)\n// const breadCrumbData = [\nvar breadCrumbData=[];this.props.Login.masterData[\"realSampleValue\"]&&this.props.Login.masterData[\"realSampleValue\"].value===4?breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":this.props.Login.masterData.realSampleValue?this.props.Login.masterData.realSampleValue.label:\"-\"},//defaultMasterType\n// {\n//     \"label\": \"IDS_MASTERTYPE\",\n//     \"value\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.label : \"-\"\n// },\n{\"label\":\"IDS_SCREEN\",\"value\":this.props.Login.masterData.realFormValue?this.props.Login.masterData.realFormValue.label:\"-\"}]:breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":this.props.Login.masterData.realSampleValue?this.props.Login.masterData.realSampleValue.label:\"-\"},{\"label\":\"IDS_REGTYPE\",\"value\":this.props.Login.masterData.realRegTypeValue?this.props.Login.masterData.realRegTypeValue.label:\"-\"},{\"label\":\"IDS_REGSUBTYPE\",\"value\":this.props.Login.masterData.realRegSubTypeValue?this.props.Login.masterData.realRegSubTypeValue.label:\"-\"}];var addParam={screenName:this.props.intl.formatMessage({id:\"IDS_DESIGNTEMPLATEMAPPING\"}),operation:\"create\",userInfo:this.props.Login.userInfo,realSampleValue:this.props.Login.masterData.realSampleValue?this.props.Login.masterData.realSampleValue.value:-1,realRegTypeValue:this.props.Login.masterData.realRegTypeValue?this.props.Login.masterData.realRegTypeValue.value:-1,realRegSubTypeValue:this.props.Login.masterData.realRegSubTypeValue?this.props.Login.masterData.realRegSubTypeValue.value:-1,controlId:addId,moduleTypeArray:this.state.moduleTypeArray};//console.log(\"render, props, state:\", this.props.Login);\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"click\",id:\"tooltip_list_wrap\"}),breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"click\",id:\"tooltip_list_wrap\"}),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{formatMessage:this.props.intl.formatMessage,screenName:this.props.intl.formatMessage({id:\"IDS_DESIGNTEMPLATEMAPPING\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.DesignTemplateMapping,getMasterDetail:function getMasterDetail(designtemplatemapping){return _this2.props.getDesignTemplateMappingDetail(designtemplatemapping,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedDesignTemplateMapping,primaryKeyField:\"ndesigntemplatemappingcode\",mainField:\"sregtemplatename\",firstField:\"sversionno\",secondField:\"stransdisplaystatus\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,searchRef:this.searchRef,reloadData:this.reloadData,hidePaging:true,openModal:function openModal(){return _this2.props.getDesignTemplateMappingComboService(addParam);},showFilterIcon:true,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,filterComponent:[{\"IDS_TEMPLATEFILTER\":/*#__PURE__*/React.createElement(TemplateFilter,{formatMessage:this.props.intl.formatMessage,filterSampletype:this.state.listSampletype||[],filterRegistrationType:this.state.listRegistrationType||[],filterRegistrationSubType:this.state.listRegistrationSubType||[],filterForms:this.state.listForms||[],defaultsampletype:this.props.Login.masterData[\"defaultsampletype\"]||{},defaultregsubtype:this.props.Login.masterData[\"defaultregsubtype\"]||[],defaultregtype:this.props.Login.masterData[\"defaultregtype\"]||[],defaultform:this.props.Login.masterData.defaultform||[],filterComboChange:this.filterComboChange,masterTypeArray:this.props.Login.masterData.masterTypeArray||[],defaultMasterType:this.props.Login.masterData.defaultMasterType||{}})}]})),/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.DesignTemplateMapping&&this.props.Login.masterData.DesignTemplateMapping.length>0&&this.props.Login.masterData.selectedDesignTemplateMapping?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"product-title-main\"},this.props.Login.masterData.selectedDesignTemplateMapping.sregtemplatename)),/*#__PURE__*/React.createElement(Card.Subtitle,{className:\"text-muted font-weight-normal\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:10,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},\"\".concat(this.props.intl.formatMessage({id:\"IDS_VERSION\"}),\" : \").concat(this.props.Login.masterData.selectedDesignTemplateMapping.sversionno),/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus===transactionStatus.DRAFT?\"outline-secondary\":this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus===transactionStatus.APPROVED?\"outline-success\":\"outline-danger\",\" btn-sm mx-md-3 mx-sm-2\")},this.props.Login.masterData.selectedDesignTemplateMapping.stransdisplaystatus))),/*#__PURE__*/React.createElement(Col,{md:2},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category float-right icon-group-wrap\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"}),\"data-for\":\"tooltip_list_wrap\",onClick:function onClick(){return _this2.onApproveClick();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp,title:this.props.intl.formatMessage({id:\"IDS_APPROVE\"})})),/*#__PURE__*/React.createElement(Nav.Link,{className:\" btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),\"data-for\":\"tooltip_list_wrap\",hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1// onClick={() => this.ConfirmDelete(this.state.approveId)}>\n,onClick:function onClick(){return _this2.ConfirmDelete();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),actionList.length>0?/*#__PURE__*/React.createElement(CustomPopover,{nav:true,data:actionList,Button:false,hideIcon:true,btnClasses:\"btn-circle btn_grey ml-2\",textKey:\"value\",icon:faChevronCircleDown// toolTip={this.props.intl.formatMessage({ id: \"IDS_CONFIGURE\" })}\n,dynamicButton:function dynamicButton(value){return _this2.actionMethod(value);},userRoleControlRights:this.state.userRoleControlRights}):\"\"))))),/*#__PURE__*/React.createElement(Card.Body,null,this.props.Login.masterData.selectedDesignTemplateMapping&&this.props.Login.masterData.selectedDesignTemplateMapping.nformcode>0&&/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_MODULENAME\",message:\"Module Name\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,\"   \",this.props.Login.masterData.selectedDesignTemplateMapping.smodulename))),/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_FORMNAME\",message:\"Form Name\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedDesignTemplateMapping.sformname))),/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TEMPLATE\",message:\"Template\"})),/*#__PURE__*/React.createElement(Card.Body,null,Layout?Layout.map(function(item){return/*#__PURE__*/React.createElement(Row,null,item.children.length>0?item.children.map(function(column){return/*#__PURE__*/React.createElement(Col,{md:12/item.children.length},column.children.map(function(component){return component.hasOwnProperty(\"children\")?/*#__PURE__*/React.createElement(Row,null,component.children.map(function(componentrow){return/*#__PURE__*/React.createElement(Col,{md:12/componentrow.length},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,componentrow.label),/*#__PURE__*/React.createElement(ReadOnlyText,null,\"-\")));})):/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,component.label),/*#__PURE__*/React.createElement(ReadOnlyText,null,\" \",\"-\"));}));}):\"\");}):\"\")))):\"\"))))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,size:this.props.Login.operation==='configure'||this.props.Login.operation==='configuresubsample'?\"xl\":\"lg\",closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.operation==='configure'||this.props.Login.operation==='configuresubsample'||this.props.Login.operation==='configureedit'||this.props.Login.operation==='configuresubsampleedit'||this.props.Login.operation==='configureunique'||this.props.Login.operation==='configureaudit'?[]:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.operation==='configure'||this.props.Login.operation==='configuresubsample'?/*#__PURE__*/React.createElement(ConfigureScreenFields,{operation:this.props.Login.operation,designData:this.props.Login.designData||{},inputParam:this.props.Login.inputParam,dataResult:this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode===TemplateType.Masters?this.props.Login.dataResult||[]:this.props.Login.dataResult||{},onChangeToggle:this.onChangeToggle,approvedRegSubTypeVersion:this.props.Login.approvedRegSubTypeVersion,selectedTemplateType:this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}):this.props.Login.operation==='configureedit'||this.props.Login.operation==='configuresubsampleedit'?/*#__PURE__*/React.createElement(ConfigureEditFields,{designData:this.props.Login.editFieldDesignData||{},inputParam:this.props.Login.inputParam,dataResult:this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode===TemplateType.Masters?this.props.Login.editFieldDataResult||[]:this.props.Login.editFieldDataResult||{},selectedRecord:this.state.selectedRecord||{}// onChangeToggle={this.onChangeToggle}\n,onComboChange:this.onConfigureComboChange// approvedRegSubTypeVersion={this.props.Login.approvedRegSubTypeVersion}\n,selectedTemplateType:this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode})// : (this.props.Login.operation === 'configureaudit') ?\n//   <ConfigureAuditFields\n//       designData={this.props.Login.auditFieldDesignData || {}}\n//       inputParam={this.props.Login.inputParam}\n//       dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\n//           this.props.Login.auditFieldDataResult || [] :\n//           this.props.Login.auditFieldDataResult || {}}\n//       selectedRecord={this.state.selectedRecord || {}}\n//       onChangeToggle={this.onChangeToggle}\n//       selectedTemplateType={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}\n//   />\n:this.props.Login.operation==='configureunique'?/*#__PURE__*/React.createElement(ConfigureUniqueFields,{designData:this.props.Login.designData||{},inputParam:this.props.Login.inputParam// dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\n//     this.props.Login.dataResult || [] :\n//     this.props.Login.dataResult || {}}\n,dataList:this.props.Login.dataList||[],dataListCount:this.props.Login.dataListCount||[],dataListsubsample:this.props.Login.dataListSubSample||[],dataListCountsubsample:this.props.Login.dataListCountSubSample||[],onInputOnChange:this.onInputOnChangeForUnique,addCombinatonUnique:this.addCombinatonUnique,deleteCombinationUnique:this.deleteCombinationUnique,slanguagetypecode:this.props.Login.userInfo.slanguagetypecode,approvedRegSubTypeVersion:this.props.Login.approvedRegSubTypeVersion,selectedTemplateType:this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}):this.state.showSynonym?/*#__PURE__*/React.createElement(AddSynonym,{selectedFieldRecord:this.state.selectedRecord,onInputOnChange:this.onInputOnChange,languages:this.props.Login.languageList||[],fieldName:\"nmodulecode\"}):/*#__PURE__*/React.createElement(AddDesignTemplateMapping,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,handleDateChange:this.handleDateChange,formatMessage:this.props.intl.formatMessage,designtemplatemappingList:this.props.Login.designtemplatemappingList,subSampleTemplateList:this.props.Login.subSampleTemplateList,selectedDesignTemplateMapping:this.props.Login.masterData.selectedDesignTemplateMapping||{},operation:this.props.Login.operation,userLogged:this.props.Login.userLogged,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,nformcode:this.props.Login.masterData.realFormValue?this.props.Login.masterData.realFormValue.value:-1,needSubSample:this.props.Login.masterData.realRegSubTypeValue?this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample:false,designTemplateQualisModule:this.props.Login.designTemplateQualisModule,language:this.props.Login.language,moduleTypeArray:this.state.moduleTypeArray||[]})}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,selectedRecord=_this$state.selectedRecord,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,listSampletype=_this$state.listSampletype,listRegistrationType=_this$state.listRegistrationType,listRegistrationSubType=_this$state.listRegistrationSubType,listForms=_this$state.listForms;if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);updateState=true;}}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){updateState=true;selectedRecord=this.props.Login.selectedRecord;}var selectedInput={};var Taglstsampletype;var TaglistRegistrationType;var TaglistRegistrationSubType;var ListFormsMap;if(this.props.Login.masterData!==previousProps.Login.masterData){updateState=true;if(this.props.Login.masterData.SampleTypes){Taglstsampletype=constructOptionList(this.props.Login.masterData.SampleTypes||[],\"nsampletypecode\",\"ssampletypename\",\"nsorter\",\"undefined\",undefined);listSampletype=Taglstsampletype.get(\"OptionList\");}if(this.props.Login.masterData.registrationTypes){TaglistRegistrationType=constructOptionList(this.props.Login.masterData.registrationTypes||[],\"nregtypecode\",\"sregtypename\",undefined,undefined,undefined);listRegistrationType=TaglistRegistrationType.get(\"OptionList\");}if(this.props.Login.masterData.registrationSubTypes){TaglistRegistrationSubType=constructOptionList(this.props.Login.masterData.registrationSubTypes||[],\"nregsubtypecode\",\"sregsubtypename\",\"nsorter\",\"ascending\",undefined);listRegistrationSubType=TaglistRegistrationSubType.get(\"OptionList\");}if(this.props.Login.masterData.qualisforms){ListFormsMap=constructOptionList(this.props.Login.masterData.qualisforms||[],\"nformcode\",\"sdisplayname\",undefined,undefined,undefined);listForms=ListFormsMap.get(\"OptionList\");}}if(updateState){this.setState({selectedRecord:selectedRecord,controlMap:controlMap,userRoleControlRights:userRoleControlRights,listSampletype:listSampletype,listRegistrationType:listRegistrationType,listRegistrationSubType:listRegistrationSubType,selectedInput:selectedInput,listForms:listForms});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:[],inputParam:undefined,operation:null,modalName:undefined}};this.props.updateStore(updateInfo);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return DesignTemplateMapping;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,validateEsignCredential:validateEsignCredential,editFieldConfigService:editFieldConfigService,updateStore:updateStore,getDesignTemplateMappingDetail:getDesignTemplateMappingDetail,getMappedFieldProps:getMappedFieldProps,getDesignTemplateMappingComboService:getDesignTemplateMappingComboService,filterColumnData:filterColumnData,auditFieldConfigService:auditFieldConfigService,reloadDesignTemplateMapping:reloadDesignTemplateMapping,getTMPFilterRegType:getTMPFilterRegType,getTMPFilterRegSubType:getTMPFilterRegSubType,getTMPFilterSubmit:getTMPFilterSubmit,combinationUniqueConfigService:combinationUniqueConfigService})(injectIntl(DesignTemplateMapping));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/designtemplatemapping/DesignTemplateMapping.jsx"],"names":["React","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faPencilAlt","faTrashAlt","faThumbsUp","faUserLock","faClock","faList","faListUl","faListDots","faChevronCircleDown","falistUl","connect","injectIntl","FormattedMessage","toast","callService","crudMaster","validateEsignCredential","updateStore","getDesignTemplateMappingDetail","getMappedFieldProps","editFieldConfigService","auditFieldConfigService","getDesignTemplateMappingComboService","filterColumnData","reloadDesignTemplateMapping","getTMPFilterRegType","getTMPFilterRegSubType","getTMPFilterSubmit","combinationUniqueConfigService","TemplateFilter","ContentPanel","ReadOnlyText","getControlMap","showEsign","convertDateValuetoString","constructOptionList","constructjsonOptionDefault","ListMaster","SlideOutModal","AddDesignTemplateMapping","Esign","DEFAULT_RETURN","BreadcrumbComponent","ListWrapper","designProperties","formCode","TemplateType","transactionStatus","templateMappingAction","AddSynonym","Affix","ConfirmMessage","ReactTooltip","ConfigureScreenFields","ConfigureEditFields","ConfigureUniqueFields","CustomPopover","faCaretDown","mapStateToProps","state","Login","DesignTemplateMapping","props","filterComboChange","event","fieldname","inputData","userinfo","userInfo","nflag","nsampletypecode","parseInt","value","masterData","defaultsampletype","inputParam","Masters","masterTypeArray","updateInfo","typeName","data","defaultMasterType","qualisforms","defaultform","newMasterForm","nregtypecode","nregsubtypecode","defaultregtype","defaultregsubtype","actionMethod","method","CONFIGSAMPLEDISPLAY","openFieldConfiguration","controlId","CONFIGSAMPLEEDIT","editFieldConfiguration","CONFIGSUBSAMPLEDISPLAY","CONFIGSUBSAMPLEEDIT","CONFIGUNIQUE","openCombinationUniqueFieldConfiguration","reloadData","searchRef","current","realRegTypeValue","realRegSubTypeValue","realSampleValue","nformcode","realFormValue","openFilter","showFilter","closeFilter","onFilterSubmit","NA","onApproveClick","selectedDesignTemplateMapping","ntransactionstatus","RETIRED","ncontrolCode","controlMap","has","get","ncontrolcode","postParam","undefined","Value","inputListName","selectedObject","primaryKeyField","classUrl","methodUrl","saveType","esignNeeded","userRoleControlRights","loadEsign","screenData","openModal","operation","warn","intl","formatMessage","id","ConfirmDelete","confirmMessage","confirm","deleteTemplate","DRAFT","deleteCombinationUnique","index","eventKey","dataList","subsampledataList","dataListCount","subsampledataListCount","slice","addCombinatonUnique","designData","dataListSubSample","dataListCountSubSample","push","length","controlCode","screenName","designtemplatemapping","ndesigntemplatemappingcode","item","napprovalconfigcode","auditFieldConfiguration","validateEsign","sreason","selectedRecord","password","closeModal","selectedId","onComboChange","comboData","fieldName","setState","onConfigureComboChange","label","onInputOnChange","target","type","name","checked","YES","NO","onInputOnChangeForUnique","radiotext","multilinguallabel","LABEL","VALUE","handleDateChange","dateName","dateValue","getGridJsondata","templatedata","gridItem","gridMoreItem","masterdatefields","masterdateconstraints","masteruniquevalidation","mastercombinationunique","editable","jdynamiccolumns","jnumericcolumns","templatePrimaryKey","mastertemplatefields","map","row","children","column","component","hasOwnProperty","componentRow","unique","displayname","filterinputtype","comboDataInputObject","inputtype","source","valuemember","displaymember","dateonly","dateConstraintArraySQL","default","columnname","mandatory","templatemandatory","editableuntill","table","jsondata","griditem","gridmoreitem","getJsondata","displayFields","listItem","subsampleeditable","subsamplelistitem","sampledatefields","sampledateconstraints","subsampledatefields","subsampledateconstraints","samplesearchfields","subsamplesearchfields","sampletemplatefields","subsampletemplatefields","sampleuniquevalidation","subsampleuniquevalidation","samplecombinationunique","subsamplecombinationunique","testdatefields","nsubsampletemplatecode","readonly","PREREGISTER","child","childData","tablecolumnname","obj","sampledisplayfields","samplelistitem","samplegriditem","samplegridmoreitem","testListFields","SAMPLEREGISTRATION","sampleeditable","RESULTENTRY","APPROVAL","JOBALLOCATION","MYJOBS","TESTWISEMYJOBS","onChangeToggle","dataItem","field","dataIndex","dataResult","splice","realData","findIndex","x","onSaveClick","formRef","jsondataobj","editFieldDesignData","formCodeArray","Object","keys","forEach","editableData","editableuntil","statusItem","dataListsubsample","nreactregtemplatecode","nmastersitecode","qf_jsonData","sdisplayname","qbt_jsonData","tablename","languageList","lang","sformname","qm_jsonData","nmodulecode","smoduledisplayname","sprimarykeyname","onTabChange","tabProps","isOpen","designtemplatemappingData","masterStatus","error","userLogged","Map","showAccordian","selectedInput","nmastertypecode","smastertype","moduleTypeArray","createRef","searchFieldList","designtemplatemappingFieldList","Layout","userStatusCSS","ACTIVE","APPROVED","addId","deleteId","approveId","sampleFieldId","sampleEditFieldId","subSampleFieldId","subSampleEditFieldId","combinationUniqueFieldId","actionList","indexOf","nneedsubsample","filterParam","fetchUrl","fecthInputObject","validationColumnList","mandatoryFields","breadCrumbData","addParam","searchedData","listSampletype","listRegistrationType","listRegistrationSubType","listForms","sregtemplatename","sversionno","stransdisplaystatus","smodulename","componentrow","approvedRegSubTypeVersion","editFieldDataResult","slanguagetypecode","showSynonym","designtemplatemappingList","subSampleTemplateList","designTemplateQualisModule","language","previousProps","updateState","values","Taglstsampletype","TaglistRegistrationType","TaglistRegistrationSubType","ListFormsMap","SampleTypes","registrationTypes","registrationSubTypes","modalName","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt, faThumbsUp, faUserLock, faClock, faList, faListUl, faListDots, faChevronCircleDown } from '@fortawesome/free-solid-svg-icons';//,faUserTimes, faTrash\r\nimport { falistUl } from '@fortawesome/free-regular-svg-icons';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getDesignTemplateMappingDetail,\r\n    getMappedFieldProps, editFieldConfigService,auditFieldConfigService,\r\n    getDesignTemplateMappingComboService, filterColumnData, reloadDesignTemplateMapping,\r\n    getTMPFilterRegType, getTMPFilterRegSubType, getTMPFilterSubmit, combinationUniqueConfigService\r\n} from '../../actions';\r\nimport TemplateFilter from './TemplateFilter';\r\nimport { ContentPanel, ReadOnlyText } from '../../components/App.styles';\r\nimport { getControlMap, showEsign, convertDateValuetoString, constructOptionList, constructjsonOptionDefault } from '../../components/CommonScript';//searchData, sortData,\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\n// import DateTimePicker from '../../components/date-time-picker/date-time-picker.component';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport AddDesignTemplateMapping from './AddDesignTemplateMapping'\r\nimport Esign from '../../pages/audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { designProperties, formCode, TemplateType, transactionStatus, templateMappingAction } from '../../components/Enumeration';\r\n\r\nimport AddSynonym from '../../components/droparea/AddSynonym';\r\nimport { Affix } from 'rsuite';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport ConfigureScreenFields from './ConfigureScreenFields';\r\nimport ConfigureEditFields from './ConfigureEditFields';\r\nimport ConfigureUniqueFields from './ConfigureUniqueFields.jsx';\r\n//import ConfigureAuditFields from './ConfigureAuditFields';\r\nimport CustomPopover from '../../components/customPopover';\r\nimport { faCaretDown } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass DesignTemplateMapping extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // const dataState = {\r\n        //     skip: 0,\r\n        //     take: 10,\r\n        // };\r\n\r\n        this.state = {\r\n            isOpen: false,\r\n            designtemplatemappingData: [],\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            //selectedRecord: {},\r\n            operation: \"\",\r\n\r\n            screenName: undefined,\r\n            userLogged: true,\r\n            selectedDesignTemplateMapping: undefined,\r\n\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            showAccordian: true,\r\n            selectedInput: \"\",\r\n            masterTypeArray: [{ label: this.props.intl.formatMessage({ id: \"IDS_NEWMASTER\" }), value: 1, item: { nmastertypecode: 1, smastertype: this.props.intl.formatMessage({ id: \"IDS_NEWMASTER\" }) } },\r\n            { label: this.props.intl.formatMessage({ id: \"IDS_EXISTINGMASTER\" }), value: 2, item: { nmastertypecode: 2, smastertype: this.props.intl.formatMessage({ id: \"IDS_EXISTINGMASTER\" }) } }],\r\n            newMasterForm: { value: -2, label: \"-\" },\r\n            moduleTypeArray: [{ label: this.props.intl.formatMessage({ id: \"IDS_NEWMODULE\" }), value: 3 },\r\n            { label: this.props.intl.formatMessage({ id: \"IDS_EXISTINGMODULE\" }), value: 4 }]\r\n\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        this.searchFieldList = [\"sregtemplatename\", \"sversionno\", \"stransdisplaystatus\"];\r\n\r\n        this.designtemplatemappingFieldList = ['ndesigntemplatemappingcode', 'nsampletypecode', 'nformcode',\r\n            'nregtypecode', 'nregsubtypecode', 'nformwisetypecode', 'nreactregtemplatecode', 'ntransactionstatus', 'nversionno'];//'nmahcode',\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    filterComboChange = (event, fieldname) => {\r\n        if (event !== null) {\r\n            // let uRL = \"\";\r\n            let inputData = [];\r\n            if (fieldname === \"sampleType\") {\r\n\r\n                inputData = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nflag: 1,\r\n                    nsampletypecode: parseInt(event.value),\r\n\r\n                }\r\n                let masterData = { ...this.props.Login.masterData, defaultsampletype: event }\r\n                let inputParam = { masterData, inputData }\r\n                if (event.value === TemplateType.Masters) {\r\n                    const masterTypeArray = this.state.masterTypeArray\r\n\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            masterData: {\r\n                                ...masterData,\r\n                                masterTypeArray,\r\n                                defaultMasterType: masterTypeArray[0],\r\n                                qualisforms: [], defaultform: this.state.newMasterForm,\r\n                                nregtypecode: -1, nregsubtypecode: -1\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.getTMPFilterRegType(inputParam)\r\n                }\r\n            }\r\n            else if (fieldname === \"registrationType\") {\r\n\r\n                inputData = {\r\n                    userinfo: this.props.Login.userInfo,\r\n\r\n                    nregtypecode: parseInt(event.value),\r\n                    nsampletypecode: this.props.Login.masterData.defaultsampletype.value,\r\n\r\n                }\r\n                let masterData = { ...this.props.Login.masterData, defaultregtype: event }\r\n                let inputParam = { masterData, inputData }\r\n                this.props.getTMPFilterRegSubType(inputParam)\r\n\r\n            } else if (fieldname === \"registrationSubType\") {\r\n\r\n                let masterData = { ...this.props.Login.masterData, defaultregsubtype: event }\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { masterData }\r\n                }\r\n\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else if (fieldname === \"masterType\") {\r\n\r\n                let masterData = { ...this.props.Login.masterData, defaultMasterType: event }\r\n\r\n                inputData = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nflag: 1,\r\n                    nsampletypecode: TemplateType.Masters,\r\n                }\r\n\r\n                let inputParam = { masterData, inputData }\r\n                if (event.value === 1) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: { masterData: { ...masterData, qualisforms: [], defaultform: this.state.newMasterForm } }\r\n                    }\r\n\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.getTMPFilterRegType(inputParam)\r\n                }\r\n\r\n            } else {\r\n                let masterData = { ...this.props.Login.masterData, defaultform: event }\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { masterData }\r\n                }\r\n\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const Layout = this.props.Login.masterData.selectedDesignTemplateMapping &&\r\n            this.props.Login.masterData.selectedDesignTemplateMapping.jsondata\r\n\r\n        let userStatusCSS = \"outline-secondary\";\r\n        if (this.props.Login.masterData.selectedDesignTemplateMapping ? this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.ACTIVE\r\n            || this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.APPROVED : false) {\r\n            userStatusCSS = \"outline-success\";\r\n        }\r\n        else if (this.props.Login.masterData.selectedDesignTemplateMapping && this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.RETIRED) {\r\n            userStatusCSS = \"outline-danger\";\r\n        }\r\n\r\n        const addId = this.state.controlMap.has(\"AddDesignTemplateMapping\") && this.state.controlMap.get(\"AddDesignTemplateMapping\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteDesignTemplateMapping\") && this.state.controlMap.get(\"DeleteDesignTemplateMapping\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"ApproveDesignTemplateMapping\") && this.state.controlMap.get(\"ApproveDesignTemplateMapping\").ncontrolcode\r\n        const sampleFieldId = this.state.controlMap.has(\"ConfigureSampleDisplayFields\") && this.state.controlMap.get(\"ConfigureSampleDisplayFields\").ncontrolcode\r\n        const sampleEditFieldId = this.state.controlMap.has(\"ConfigureSampleEditableFields\") && this.state.controlMap.get(\"ConfigureSampleEditableFields\").ncontrolcode\r\n        const subSampleFieldId = this.state.controlMap.has(\"ConfigureSubSampleDisplayFields\") && this.state.controlMap.get(\"ConfigureSubSampleDisplayFields\").ncontrolcode\r\n        const subSampleEditFieldId = this.state.controlMap.has(\"ConfigureSubSampleEditableFields\") && this.state.controlMap.get(\"ConfigureSubSampleEditableFields\").ncontrolcode\r\n        const combinationUniqueFieldId = this.state.controlMap.has(\"ConfigureCombinationUniqueFields\") && this.state.controlMap.get(\"ConfigureCombinationUniqueFields\").ncontrolcode\r\n\r\n\r\n        const actionList = [];\r\n        if(this.state.userRoleControlRights.indexOf(sampleFieldId) !== -1){\r\n            actionList.push({\"method\": templateMappingAction.CONFIGSAMPLEDISPLAY, \"value\": this.props.intl.formatMessage({ id: \"IDS_CONFIGUREDISPLAYFIELDS\" }), \"controlId\": sampleFieldId  })\r\n        }\r\n        if(this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters &&\r\n            this.state.userRoleControlRights.indexOf(sampleEditFieldId) !== -1)\r\n        {\r\n            actionList.push({ \"method\": templateMappingAction.CONFIGSAMPLEEDIT, \"value\": this.props.intl.formatMessage({ id: \"IDS_CONFIGUREEDITFIELDS\" }), \"controlId\": sampleEditFieldId })\r\n       \r\n            if(this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample === true)\r\n            {\r\n                if(this.state.userRoleControlRights.indexOf(subSampleFieldId) !== -1){\r\n                    actionList.push({\"method\": templateMappingAction.CONFIGSUBSAMPLEDISPLAY, \"value\": this.props.intl.formatMessage({ id: \"IDS_CONFIGURESUBSAMPLEDISPLAYFIELDS\" }), \"controlId\": subSampleFieldId  })\r\n                }\r\n           \r\n                if(this.state.userRoleControlRights.indexOf(subSampleEditFieldId) !== -1){\r\n                    actionList.push({ \"method\": templateMappingAction.CONFIGSUBSAMPLEEDIT, \"value\": this.props.intl.formatMessage({ id: \"IDS_CONFIGURSUBSAMPLEEEDITFIELDS\" }), \"controlId\": subSampleEditFieldId })\r\n                }\r\n            }\r\n        }\r\n        if(this.state.userRoleControlRights.indexOf(combinationUniqueFieldId) !== -1){\r\n            actionList.push({\"method\": templateMappingAction.CONFIGUNIQUE, \"value\": this.props.intl.formatMessage({ id: \"IDS_CONFIGURECOMBINATIONUNIQUEFIELDS\" }), \"controlId\": combinationUniqueFieldId})\r\n        }\r\n       \r\n\r\n        const filterParam = {\r\n            inputListName: \"DesignTemplateMapping\",\r\n            selectedObject: \"selectedDesignTemplateMapping\",\r\n            primaryKeyField: \"ndesigntemplatemappingcode\",\r\n            fetchUrl: \"designtemplatemapping/getDesignTemplateMapping\",\r\n            fecthInputObject: {\r\n                userinfo: this.props.Login.userInfo,\r\n                nsampletypecode: this.props.Login.masterData[\"realSampleValue\"] ? this.props.Login.masterData[\"realSampleValue\"].value : -1,\r\n                nregtypecode: this.props.Login.masterData[\"realRegTypeValue\"] ? this.props.Login.masterData[\"realRegTypeValue\"].value : -1,\r\n                nregsubtypecode: this.props.Login.masterData[\"realRegSubTypeValue\"] ? this.props.Login.masterData[\"realRegSubTypeValue\"].value : -1,\r\n                nformcode: this.props.Login.masterData[\"realFormValue\"] ? this.props.Login.masterData[\"realFormValue\"].value : -1,\r\n            },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: this.searchFieldList\r\n\r\n        };\r\n        this.validationColumnList = [\r\n            { \"idsName\": \"IDS_TEMPLATENAME\", \"dataField\": \"nreactregtemplatecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n\r\n\r\n        ]\r\n        const mandatoryFields = [];\r\n        this.validationColumnList.forEach(item => item.mandatory === true ?\r\n            mandatoryFields.push(item) : \"\"\r\n        );\r\n        // let breadCrumbDataDate = convertDateValuetoString(this.props.Login.masterData && this.props.Login.masterData.FromDate,\r\n        //     this.props.Login.masterData && this.props.Login.masterData.ToDate,\r\n        //     this.props.Login.userInfo)\r\n\r\n        // const breadCrumbData = [\r\n\r\n        let breadCrumbData = [];\r\n        this.props.Login.masterData[\"realSampleValue\"] && this.props.Login.masterData[\"realSampleValue\"].value === 4 ?\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_SAMPLETYPE\",\r\n                    \"value\": this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.label : \"-\"\r\n                },\r\n                //defaultMasterType\r\n                // {\r\n                //     \"label\": \"IDS_MASTERTYPE\",\r\n                //     \"value\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.label : \"-\"\r\n                // },\r\n                {\r\n                    \"label\": \"IDS_SCREEN\",\r\n                    \"value\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.label : \"-\"\r\n                }\r\n            ] :\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_SAMPLETYPE\",\r\n                    \"value\": this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.label : \"-\"\r\n                }, {\r\n                    \"label\": \"IDS_REGTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.label : \"-\"\r\n                }, {\r\n                    \"label\": \"IDS_REGSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.label : \"-\"\r\n                }\r\n            ];\r\n\r\n        const addParam = {\r\n            screenName: this.props.intl.formatMessage({ id: \"IDS_DESIGNTEMPLATEMAPPING\" }),\r\n            operation: \"create\",\r\n            userInfo: this.props.Login.userInfo,\r\n            realSampleValue: this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.value : -1,\r\n            realRegTypeValue: this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\r\n            realRegSubTypeValue: this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\r\n            controlId: addId,\r\n            moduleTypeArray: this.state.moduleTypeArray\r\n        }\r\n\r\n       \r\n\r\n        //console.log(\"render, props, state:\", this.props.Login);\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" />\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                    {/* Start of get display*/}\r\n                    {/* <div className=\"client-listing-wrap mtop-4\"> */}\r\n                    <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" />\r\n                    <Row noGutters={true}>\r\n                        <Col md={4}>\r\n                            <ListMaster\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_DESIGNTEMPLATEMAPPING\" })}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.DesignTemplateMapping}\r\n                                getMasterDetail={(designtemplatemapping) => this.props.getDesignTemplateMappingDetail(designtemplatemapping, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedDesignTemplateMapping}\r\n                                primaryKeyField=\"ndesigntemplatemappingcode\"\r\n                                mainField=\"sregtemplatename\"\r\n                                firstField=\"sversionno\"\r\n                                secondField=\"stransdisplaystatus\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={true}\r\n                                openModal={() => this.props.getDesignTemplateMappingComboService(addParam)}\r\n                                showFilterIcon={true}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_TEMPLATEFILTER\":\r\n                                            <TemplateFilter\r\n                                                formatMessage={this.props.intl.formatMessage}\r\n                                                filterSampletype={this.state.listSampletype || []}\r\n                                                filterRegistrationType={this.state.listRegistrationType || []}\r\n                                                filterRegistrationSubType={this.state.listRegistrationSubType || []}\r\n                                                filterForms={this.state.listForms || []}\r\n                                                defaultsampletype={this.props.Login.masterData[\"defaultsampletype\"] || {}}\r\n                                                defaultregsubtype={this.props.Login.masterData[\"defaultregsubtype\"] || []}\r\n                                                defaultregtype={this.props.Login.masterData[\"defaultregtype\"] || []}\r\n                                                defaultform={this.props.Login.masterData.defaultform || []}\r\n                                                filterComboChange={this.filterComboChange}\r\n                                                masterTypeArray={this.props.Login.masterData.masterTypeArray || []}\r\n                                                defaultMasterType={this.props.Login.masterData.defaultMasterType || {}}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n\r\n\r\n                        <Col md={8}>\r\n                            <ContentPanel className=\"panel-main-content\">\r\n                                <Card className=\"border-0\">\r\n                                    {this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping.length > 0 && this.props.Login.masterData.selectedDesignTemplateMapping ?\r\n                                        <>\r\n                                            <Card.Header>\r\n                                                <Card.Title>\r\n                                                    <h1 className=\"product-title-main\">{this.props.Login.masterData.selectedDesignTemplateMapping.sregtemplatename}</h1>\r\n                                                </Card.Title>\r\n                                                <Card.Subtitle className=\"text-muted font-weight-normal\">\r\n                                                    <Row>\r\n                                                        <Col md={10} className=\"d-flex\">\r\n                                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                {`${this.props.intl.formatMessage({ id: \"IDS_VERSION\" })} : ${this.props.Login.masterData.selectedDesignTemplateMapping.sversionno}`}\r\n                                                                <span className={`btn btn-outlined ${this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.DRAFT ? \"outline-secondary\" : this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.APPROVED ? \"outline-success\" : \"outline-danger\"} btn-sm mx-md-3 mx-sm-2`}>\r\n                                                                    {this.props.Login.masterData.selectedDesignTemplateMapping.stransdisplaystatus}\r\n                                                                </span>\r\n\r\n                                                            </h2>\r\n                                                        </Col>\r\n                                                        <Col md={2}>\r\n                                                            <div className=\"d-flex product-category float-right icon-group-wrap\">\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={() => this.onApproveClick()}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faThumbsUp} title={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })} />\r\n                                                                </Nav.Link>\r\n                                                                {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(combinationUniqueFieldId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGURECOMBINATIONUNIQUEFIELDS\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={() => this.openCombinationUniqueFieldConfiguration(combinationUniqueFieldId)}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGURECOMBINATIONUNIQUEFIELDS\" })} />\r\n                                                                </Nav.Link>\r\n                                                                                                                          \r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(sampleFieldId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREDISPLAYFIELDS\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={() => this.openFieldConfiguration(sampleFieldId, \"configure\")}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREDISPLAYFIELDS\" })} />\r\n                                                                </Nav.Link>\r\n                                                             \r\n                                                                {this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters ?\r\n                                                                    <><Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(sampleEditFieldId) === -1}\r\n                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREEDITFIELDS\" })}\r\n\r\n                                                                        data-for=\"tooltip_list_wrap\"\r\n                                                                        onClick={() => this.editFieldConfiguration(sampleEditFieldId, 'configureedit')}\r\n                                                                    >\r\n                                                                        <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREEDITFIELDS\" })} />\r\n                                                                    </Nav.Link>\r\n\r\n\r\n                                                                    <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(sampleFieldId) === -1}\r\n                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREAUDITFIELDS\" })}\r\n                                                                        data-for=\"tooltip_list_wrap\"\r\n                                                                        onClick={() => this.auditFieldConfiguration(sampleFieldId, \"configureaudit\")}\r\n                                                                    >\r\n                                                                        <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREAUDITFIELDS\" })} />\r\n                                                                    </Nav.Link>\r\n                                                                    {this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample === true ?\r\n                                                                        <>\r\n                                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                        hidden={this.state.userRoleControlRights.indexOf(subSampleFieldId) === -1}\r\n                                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGURESUBSAMPLEDISPLAYFIELDS\" })}\r\n                                                                                        data-for=\"tooltip_list_wrap\"\r\n                                                                                        onClick={() => this.openFieldConfiguration(subSampleFieldId, 'configuresubsample')}\r\n                                                                                    > \r\n                                                                                        <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGURESUBSAMPLEDISPLAYFIELDS\" })} />\r\n                                                                            </Nav.Link>\r\n                                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(subSampleEditFieldId) === -1}\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGURSUBSAMPLEEEDITFIELDS\" })}\r\n                                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                                    onClick={() => this.editFieldConfiguration(subSampleEditFieldId, 'configuresubsampleedit')}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGURSUBSAMPLEEEDITFIELDS\" })} />\r\n                                                                                </Nav.Link>\r\n                                                                            </>\r\n                                                                            : \"\"}\r\n                                                                    </>\r\n                                                                    : \"\"} */}\r\n                                                                <Nav.Link className=\" btn btn-circle outline-grey mr-2\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                    // onClick={() => this.ConfirmDelete(this.state.approveId)}>\r\n                                                                    onClick={() => this.ConfirmDelete()}>\r\n                                                                    <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                </Nav.Link>\r\n\r\n                                                                {actionList.length>0?\r\n                                                                    <CustomPopover\r\n                                                                        nav={true}\r\n                                                                        data={actionList}\r\n                                                                        Button={false}\r\n                                                                        hideIcon={true}\r\n                                                                        btnClasses=\"btn-circle btn_grey ml-2\"\r\n                                                                        textKey=\"value\"\r\n                                                                        icon={faChevronCircleDown}\r\n                                                                       // toolTip={this.props.intl.formatMessage({ id: \"IDS_CONFIGURE\" })}\r\n                                                                        dynamicButton={(value) => this.actionMethod(value)}\r\n                                                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                                                    />\r\n                                                                    :\r\n                                                                \"\"}\r\n\r\n                                                            </div>\r\n\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                </Card.Subtitle>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                                {this.props.Login.masterData.selectedDesignTemplateMapping &&\r\n                                                    this.props.Login.masterData.selectedDesignTemplateMapping.nformcode > 0 &&\r\n                                                    <Row>\r\n                                                        <Col md={6}>\r\n                                                            <FormGroup>\r\n                                                                <FormLabel><FormattedMessage id=\"IDS_MODULENAME\" message=\"Module Name\" /></FormLabel>\r\n                                                                <ReadOnlyText>   {this.props.Login.masterData.selectedDesignTemplateMapping.smodulename}\r\n                                                                </ReadOnlyText>\r\n                                                            </FormGroup>\r\n\r\n                                                        </Col>\r\n                                                        <Col md={6}>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_FORMNAME\" message=\"Form Name\" /></FormLabel>\r\n                                                            <ReadOnlyText>\r\n                                                                {this.props.Login.masterData.selectedDesignTemplateMapping.sformname}\r\n                                                            </ReadOnlyText>\r\n\r\n                                                        </Col>\r\n                                                    </Row>}\r\n                                                <Card>\r\n                                                    <Card.Header><FormattedMessage id=\"IDS_TEMPLATE\" message=\"Template\" /></Card.Header>\r\n                                                    <Card.Body>\r\n                                                        {\r\n                                                            Layout ?\r\n                                                                Layout.map((item) =>\r\n                                                                    <Row>\r\n                                                                        {item.children.length > 0 ?\r\n                                                                            item.children.map((column) =>\r\n                                                                                <Col md={12 / item.children.length}>\r\n                                                                                    {\r\n                                                                                        column.children.map((component) => {\r\n                                                                                            return (\r\n                                                                                                component.hasOwnProperty(\"children\") ?\r\n                                                                                                    <Row>\r\n                                                                                                        {component.children.map(componentrow =>\r\n                                                                                                            <Col md={12 / componentrow.length}>\r\n                                                                                                                <FormGroup>\r\n                                                                                                                    <FormLabel>{componentrow.label}</FormLabel>\r\n                                                                                                                    <ReadOnlyText>{\"-\"}</ReadOnlyText>\r\n                                                                                                                </FormGroup>\r\n                                                                                                            </Col>\r\n                                                                                                        )\r\n                                                                                                        }\r\n                                                                                                    </Row>\r\n                                                                                                    :\r\n                                                                                                    <FormGroup>\r\n                                                                                                        <FormLabel>{component.label}</FormLabel>\r\n                                                                                                        <ReadOnlyText> {\"-\"}</ReadOnlyText>\r\n                                                                                                    </FormGroup>\r\n                                                                                            )\r\n                                                                                        })\r\n                                                                                    }\r\n\r\n                                                                                </Col>\r\n                                                                            )\r\n                                                                            : \"\"}\r\n                                                                    </Row>\r\n                                                                )\r\n                                                                :\r\n                                                                \"\"\r\n                                                        }\r\n                                                    </Card.Body>\r\n                                                </Card>\r\n                                            </Card.Body>\r\n\r\n                                        </>\r\n                                        : \"\"\r\n                                    }\r\n                                </Card>\r\n                            </ContentPanel>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n\r\n\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal}\r\n                        size={(this.props.Login.operation === 'configure'\r\n                            || this.props.Login.operation === 'configuresubsample') ? \"xl\" : \"lg\"}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n\r\n                        mandatoryFields={(this.props.Login.operation === 'configure' \r\n                                            || this.props.Login.operation === 'configuresubsample' \r\n                                            || this.props.Login.operation === 'configureedit'\r\n                                            || this.props.Login.operation === 'configuresubsampleedit'\r\n                                            || this.props.Login.operation === 'configureunique'\r\n                                            || this.props.Login.operation === 'configureaudit') ? [] : mandatoryFields}\r\n\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : this.props.Login.operation === 'configure' || this.props.Login.operation === 'configuresubsample' ?\r\n                                <ConfigureScreenFields\r\n                                    operation={this.props.Login.operation}\r\n                                    designData={this.props.Login.designData || {}}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\r\n                                        this.props.Login.dataResult || [] :\r\n                                        this.props.Login.dataResult || {}}\r\n                                    onChangeToggle={this.onChangeToggle}\r\n                                    approvedRegSubTypeVersion={this.props.Login.approvedRegSubTypeVersion}\r\n                                    selectedTemplateType={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}\r\n                                />\r\n                                : (this.props.Login.operation === 'configureedit'\r\n                                    || this.props.Login.operation === 'configuresubsampleedit') ?\r\n                                    <ConfigureEditFields\r\n                                        designData={this.props.Login.editFieldDesignData || {}}\r\n                                        inputParam={this.props.Login.inputParam}\r\n                                        dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\r\n                                            this.props.Login.editFieldDataResult || [] :\r\n                                            this.props.Login.editFieldDataResult || {}}\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                        // onChangeToggle={this.onChangeToggle}\r\n                                        onComboChange={this.onConfigureComboChange}\r\n                                        // approvedRegSubTypeVersion={this.props.Login.approvedRegSubTypeVersion}\r\n                                        selectedTemplateType={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}\r\n                                    />\r\n                                    // : (this.props.Login.operation === 'configureaudit') ?\r\n                                    //   <ConfigureAuditFields\r\n                                    //       designData={this.props.Login.auditFieldDesignData || {}}\r\n                                    //       inputParam={this.props.Login.inputParam}\r\n                                    //       dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\r\n                                    //           this.props.Login.auditFieldDataResult || [] :\r\n                                    //           this.props.Login.auditFieldDataResult || {}}\r\n                                    //       selectedRecord={this.state.selectedRecord || {}}\r\n                                    //       onChangeToggle={this.onChangeToggle}\r\n                                    //       selectedTemplateType={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}\r\n                                    //   />\r\n                                    : this.props.Login.operation === 'configureunique' ?\r\n                                        <ConfigureUniqueFields\r\n                                            designData={this.props.Login.designData || {}}\r\n                                            inputParam={this.props.Login.inputParam}\r\n                                            // dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\r\n                                            //     this.props.Login.dataResult || [] :\r\n                                            //     this.props.Login.dataResult || {}}\r\n                                            dataList={this.props.Login.dataList || []}\r\n                                            dataListCount={this.props.Login.dataListCount || []}\r\n                                            dataListsubsample={this.props.Login.dataListSubSample || []}\r\n                                            dataListCountsubsample={this.props.Login.dataListCountSubSample || []}\r\n                                            onInputOnChange={this.onInputOnChangeForUnique}\r\n                                            addCombinatonUnique={this.addCombinatonUnique}\r\n                                            deleteCombinationUnique={this.deleteCombinationUnique}\r\n                                            slanguagetypecode={this.props.Login.userInfo.slanguagetypecode}\r\n                                            approvedRegSubTypeVersion={this.props.Login.approvedRegSubTypeVersion}\r\n                                            selectedTemplateType={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}\r\n                                        />\r\n                                        :\r\n                                        this.state.showSynonym ?\r\n                                            <AddSynonym\r\n                                                selectedFieldRecord={this.state.selectedRecord}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                languages={this.props.Login.languageList || []}\r\n                                                fieldName=\"nmodulecode\"\r\n                                            />\r\n                                            : <AddDesignTemplateMapping\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                onComboChange={this.onComboChange}\r\n                                                handleDateChange={this.handleDateChange}\r\n                                                formatMessage={this.props.intl.formatMessage}\r\n                                                designtemplatemappingList={this.props.Login.designtemplatemappingList}\r\n                                                subSampleTemplateList={this.props.Login.subSampleTemplateList}\r\n                                                selectedDesignTemplateMapping={this.props.Login.masterData.selectedDesignTemplateMapping || {}}\r\n                                                operation={this.props.Login.operation}\r\n                                                userLogged={this.props.Login.userLogged}\r\n                                                inputParam={this.props.Login.inputParam}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                nformcode={this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.value : -1}\r\n                                                needSubSample={this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample : false}\r\n                                                designTemplateQualisModule={this.props.Login.designTemplateQualisModule}\r\n                                                language={this.props.Login.language}\r\n                                                moduleTypeArray={this.state.moduleTypeArray || []}\r\n\r\n                                            />}\r\n                    />\r\n                }\r\n\r\n            </>\r\n        );\r\n    }\r\n\r\n    actionMethod = (value) => {\r\n        if (value.method === templateMappingAction.CONFIGSAMPLEDISPLAY) {\r\n            this.openFieldConfiguration(value.controlId, \"configure\");\r\n        }\r\n        else if (value.method === templateMappingAction.CONFIGSAMPLEEDIT){\r\n            this.editFieldConfiguration(value.controlId, 'configureedit')\r\n        }\r\n        else if (value.method === templateMappingAction.CONFIGSUBSAMPLEDISPLAY){\r\n            this.openFieldConfiguration(value.controlId, 'configuresubsample')\r\n        }\r\n        else if (value.method === templateMappingAction.CONFIGSUBSAMPLEEDIT){\r\n            this.editFieldConfiguration(value.controlId, 'configuresubsampleedit')\r\n        }\r\n        else if (value.method === templateMappingAction.CONFIGUNIQUE){\r\n            this.openCombinationUniqueFieldConfiguration(value.controlId)\r\n        }\r\n    }\r\n\r\n    // onFilterSubmit = () => {\r\n    //     this.reloadData()\r\n    // }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n            nregtypecode: parseInt(this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value || -1 : -1),\r\n            nregsubtypecode: parseInt(this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value || -1 : -1),\r\n            nsampletypecode: this.props.Login.masterData.realSampleValue.value,\r\n            nformcode: this.props.Login.masterData.realFormValue ? this.props.Login.masterData[\"realFormValue\"].value : -1\r\n        };\r\n\r\n        let inputParam = { masterData: this.props.Login.masterData, inputData };\r\n        this.props.reloadDesignTemplateMapping(inputParam);\r\n\r\n\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let updateState = false;\r\n\r\n        let { selectedRecord, userRoleControlRights, controlMap,\r\n            listSampletype, listRegistrationType, listRegistrationSubType, listForms } = this.state;\r\n\r\n\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]\r\n                    && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n\r\n                updateState = true;\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            updateState = true;\r\n            selectedRecord = this.props.Login.selectedRecord\r\n        }\r\n\r\n        const selectedInput = {};\r\n        let Taglstsampletype;\r\n        let TaglistRegistrationType;\r\n        let TaglistRegistrationSubType;\r\n        let ListFormsMap;\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            updateState = true;\r\n            if (this.props.Login.masterData.SampleTypes) {\r\n                Taglstsampletype = constructOptionList(this.props.Login.masterData.SampleTypes || [], \"nsampletypecode\", \"ssampletypename\", \"nsorter\", \"undefined\", undefined);\r\n                listSampletype = Taglstsampletype.get(\"OptionList\");\r\n            }\r\n            if (this.props.Login.masterData.registrationTypes) {\r\n                TaglistRegistrationType = constructOptionList(this.props.Login.masterData.registrationTypes || [], \"nregtypecode\", \"sregtypename\", undefined, undefined, undefined);\r\n                listRegistrationType = TaglistRegistrationType.get(\"OptionList\");\r\n            }\r\n            if (this.props.Login.masterData.registrationSubTypes) {\r\n                TaglistRegistrationSubType = constructOptionList(this.props.Login.masterData.registrationSubTypes || [], \"nregsubtypecode\", \"sregsubtypename\", \"nsorter\", \"ascending\", undefined);\r\n                listRegistrationSubType = TaglistRegistrationSubType.get(\"OptionList\");\r\n            }\r\n            if (this.props.Login.masterData.qualisforms) {\r\n                ListFormsMap = constructOptionList(this.props.Login.masterData.qualisforms || [], \"nformcode\", \"sdisplayname\", undefined, undefined, undefined);\r\n                listForms = ListFormsMap.get(\"OptionList\");\r\n            }\r\n        }\r\n\r\n        if (updateState) {\r\n            this.setState({\r\n                selectedRecord, controlMap, userRoleControlRights,\r\n                listSampletype, listRegistrationType, listRegistrationSubType,\r\n                selectedInput, listForms\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n            nregtypecode: this.props.Login.masterData.defaultsampletype.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.defaultregtype ? this.props.Login.masterData.defaultregtype.value || -1 : -1),\r\n            nregsubtypecode: this.props.Login.masterData.defaultsampletype.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.defaultregsubtype ? this.props.Login.masterData.defaultregsubtype.value || -1 : -1),\r\n            nsampletypecode: this.props.Login.masterData.defaultsampletype.value,\r\n            nformcode: this.props.Login.masterData.defaultform ? this.props.Login.masterData.defaultform.value || -1 : -1\r\n\r\n        };\r\n        let masterData = {\r\n            ...this.props.Login.masterData,\r\n            realSampleValue: this.props.Login.masterData.defaultsampletype,\r\n            realFormValue: this.props.Login.masterData.defaultform,\r\n            realRegTypeValue: this.props.Login.masterData.defaultregtype,\r\n            realRegSubTypeValue: this.props.Login.masterData.defaultregsubtype\r\n        }\r\n        let inputParam = { masterData, inputData };\r\n        this.props.getTMPFilterSubmit(inputParam);\r\n    }\r\n\r\n    onApproveClick = () => {\r\n        if (this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus !== transactionStatus.RETIRED) {\r\n\r\n            const ncontrolCode = this.state.controlMap.has(\"ApproveDesignTemplateMapping\") && this.state.controlMap.get(\"ApproveDesignTemplateMapping\").ncontrolcode\r\n            let inputData = [];\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n            let postParam = undefined;\r\n            inputData[\"designtemplatemapping\"] = { \"ndesigntemplatemappingcode\": this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"] ? this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"].Value : \"\" };\r\n            inputData[\"designtemplatemapping\"] = this.props.Login.masterData.selectedDesignTemplateMapping;\r\n            postParam = { inputListName: \"DesignTemplateMapping\", selectedObject: \"selectedDesignTemplateMapping\", primaryKeyField: \"ndesigntemplatemappingcode\" };\r\n\r\n            const inputParam = {\r\n                inputData: {\r\n                    \"userinfo\": this.props.Login.userInfo,\r\n\r\n                },\r\n                classUrl: 'designtemplatemapping',\r\n                methodUrl: \"DesignTemplateMapping\",\r\n                inputData: inputData,\r\n                operation: \"approve\", postParam\r\n            }\r\n            let saveType;\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\r\n            if (esignNeeded) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"approve\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n\r\n        }\r\n        else {\r\n\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_TEMPLATERETIRED\" }));\r\n        }\r\n    }\r\n\r\n    ConfirmDelete = () => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteTemplate());\r\n    }\r\n\r\n    deleteTemplate = () => {\r\n        if ((this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.DRAFT)) {\r\n            const ncontrolCode = this.state.controlMap.has(\"DeleteDesignTemplateMapping\") && this.state.controlMap.get(\"DeleteDesignTemplateMapping\").ncontrolcode\r\n            let inputData = [];\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n            let postParam = undefined;\r\n            inputData[\"designtemplatemapping\"] = { \"ndesigntemplatemappingcode\": this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"] ? this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"].Value : \"\" };\r\n            inputData[\"designtemplatemapping\"] = this.props.Login.masterData.selectedDesignTemplateMapping;\r\n            postParam = { inputListName: \"DesignTemplateMapping\", selectedObject: \"selectedDesignTemplateMapping\", primaryKeyField: \"ndesigntemplatemappingcode\" };\r\n\r\n\r\n            const inputParam = {\r\n                inputData: {\r\n                    \"userinfo\": this.props.Login.userInfo,\r\n\r\n                },\r\n                classUrl: 'designtemplatemapping',\r\n                methodUrl: \"DesignTemplateMapping\",\r\n                inputData: inputData,\r\n                operation: \"delete\", postParam\r\n            }\r\n            let saveType;\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\r\n            if (esignNeeded) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"delete\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n\r\n        }\r\n        else {\r\n\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORDTODELETE\" }));\r\n        }\r\n    }\r\n\r\n    deleteCombinationUnique = (index, eventKey) => {\r\n        if (eventKey === \"subsample\") {\r\n            let dataList = this.props.Login.subsampledataList || []\r\n            let dataListCount = this.props.Login.subsampledataListCount || []\r\n            dataListCount = [...dataListCount.slice(0, index), ...dataListCount.slice(index + 1)]\r\n            //   delete dataListCount[index]\r\n            if (dataList[index] || dataList[index] === null) {\r\n                dataList = [...dataList.slice(0, index), ...dataList.slice(index + 1)]\r\n\r\n                // delete dataList[index]\r\n            }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { subsampledataListCount: dataListCount, subsampledataList: dataList }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            let dataList = this.props.Login.dataList || []\r\n            let dataListCount = this.props.Login.dataListCount || []\r\n            dataListCount = [...dataListCount.slice(0, index), ...dataListCount.slice(index + 1)]\r\n            //   delete dataListCount[index]\r\n            if (dataList[index] || dataList[index] === null) {\r\n                dataList = [...dataList.slice(0, index), ...dataList.slice(index + 1)]\r\n\r\n                // delete dataList[index]\r\n            }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { dataListCount, dataList }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n\r\n    }\r\n\r\n    addCombinatonUnique = (designData, eventKey) => {\r\n        if (eventKey === \"subsample\") {\r\n            const dataList = this.props.Login.dataListSubSample || []\r\n            //    const obj={}\r\n            //     designData.map(item=>{\r\n            //         obj[item[\"2\"]]={...item}\r\n            //     })\r\n            //dataList.push({})\r\n            const dataListCount = this.props.Login.dataListCountSubSample || []\r\n            dataListCount.push(dataListCount.length + 1)\r\n            dataList.push({})\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { dataListCountSubSample: dataListCount, dataListSubSample: dataList }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            const dataList = this.props.Login.dataList || []\r\n            //    const obj={}\r\n            //     designData.map(item=>{\r\n            //         obj[item[\"2\"]]={...item}\r\n            //     })\r\n            //dataList.push({})\r\n            const dataListCount = this.props.Login.dataListCount || []\r\n            dataListCount.push(dataListCount.length + 1)\r\n            dataList.push({})\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { dataListCount, dataList }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n\r\n    }\r\n\r\n    openCombinationUniqueFieldConfiguration = (controlCode) => {\r\n        let openModal = true;\r\n        let operation = 'configureunique';\r\n        let ncontrolcode = controlCode;\r\n        let screenName = \"IDS_FIELDS\";\r\n        let inputParam = {\r\n            inputData: {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\r\n                },\r\n                userinfo: this.props.Login.userInfo,\r\n            },\r\n            operation,\r\n            ncontrolcode,\r\n            screenName\r\n        }\r\n        if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters) {\r\n            inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\r\n        }\r\n        inputParam[\"TemplateType\"] = this.props.Login.masterData.realSampleValue.value;\r\n\r\n        this.props.combinationUniqueConfigService(inputParam)\r\n    }\r\n\r\n    openFieldConfiguration = (controlCode, operation) => {\r\n        let openModal = true;\r\n        //let operation = 'configure';\r\n        let ncontrolcode = controlCode;\r\n        let screenName = \"IDS_FIELDS\";\r\n        let inputParam = {\r\n            inputData: {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\r\n                },\r\n                userinfo: this.props.Login.userInfo,\r\n            },\r\n            operation,\r\n            ncontrolcode,\r\n            screenName\r\n        }\r\n        if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters) {\r\n            inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\r\n        }\r\n        inputParam[\"TemplateType\"] = this.props.Login.masterData.realSampleValue.value;\r\n\r\n        this.props.getMappedFieldProps(inputParam)\r\n    }\r\n\r\n    editFieldConfiguration = (controlCode, operation) => {\r\n\r\n        //console.log(\"edit config:\", this.props.Login);\r\n        // let operation = 'configureedit';\r\n        let ncontrolcode = controlCode;\r\n        let screenName = \"IDS_FIELDS\";\r\n        let inputParam = {\r\n            inputData: {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\r\n                },\r\n                nregtypecode: this.props.Login.masterData.defaultregtype.value,\r\n                nregsubtypecode: this.props.Login.masterData.defaultregsubtype.value,\r\n                userinfo: this.props.Login.userInfo,\r\n            },\r\n            operation,\r\n            ncontrolcode,\r\n            screenName\r\n        }\r\n        // if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){\r\n        //     inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\r\n        //  }\r\n        inputParam[\"TemplateType\"] = this.props.Login.masterData.realSampleValue.value;\r\n\r\n        this.props.editFieldConfigService(inputParam)\r\n    }\r\n\r\n    auditFieldConfiguration = (controlCode, operation) => {\r\n\r\n        //console.log(\"edit config:\", this.props.Login);\r\n        let ncontrolcode = controlCode;\r\n        let screenName = \"IDS_FIELDS\";\r\n        let inputParam = {\r\n            inputData: {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\r\n                },\r\n                nregtypecode: this.props.Login.masterData.defaultregtype.value,\r\n                nregsubtypecode: this.props.Login.masterData.defaultregsubtype.value,\r\n                userinfo: this.props.Login.userInfo,\r\n            },\r\n            operation,\r\n            ncontrolcode,\r\n            screenName\r\n        }\r\n        inputParam[\"TemplateType\"] = this.props.Login.masterData.realSampleValue.value;\r\n\r\n        this.props.auditFieldConfigService(inputParam)\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"approve\"\r\n                || this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId: null, dataList: [], dataListCount: [], dataListSubSample: [], dataListCountSubSample: [] }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;;\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onConfigureComboChange = (comboData, formCode, item) => {\r\n        const fieldName = item.label;\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[formCode] = { ...selectedRecord[formCode], [fieldName]: comboData };\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n        // let designData = this.props.Login.editFieldDesignData;\r\n        // let dataResult = this.props.Login.editFieldDataResult;\r\n        // if (formCode === undefined){\r\n        //     dataResult[dataIndex][field] = event.target.checked;\r\n        //     if (event.target.checked) {\r\n        //         designData[field].splice(dataIndex, 0, dataItem.realData)\r\n\r\n        //     } else {\r\n        //         designData[field].splice(designData[field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n        //     }\r\n        // }\r\n        // else{\r\n        //     dataResult[formCode][\"sampleeditable\"] = comboData;\r\n        //     if (event.target.checked) {\r\n        //         if (field === 'samplelistitem' && designData[formCode][field].length >= 6) {\r\n        //             return toast.warn(this.props.intl.formatMessage({ id: \"IDS_MAXIMUMSELECTIONEXCEEDS\" }))\r\n        //         } else {\r\n        //             designData[formCode][field].splice(dataIndex, 0, dataItem.realData)\r\n        //         }\r\n        //         if (field === 'sampledisplayfields') {\r\n        //             designData[formCode]['samplesearchfields'].splice(dataIndex, 0, dataItem.label)\r\n        //         }\r\n        //     } else {\r\n        //         if (field === 'sampledisplayfields') {\r\n        //             designData[formCode]['samplesearchfields'].splice(designData[formCode]['samplesearchfields'].findIndex(x => x === dataItem.label), 1)\r\n        //         }\r\n        //         designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n        //     }\r\n        // }\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { designData, dataResult }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onInputOnChangeForUnique = (event, radiotext, index, multilinguallabel, eventKey) => {\r\n        if (eventKey === \"subsample\") {\r\n            const dataList = this.props.Login.dataListSubSample || []\r\n            if (dataList[index]) {\r\n                const value = dataList[index] && dataList[index][event.target.name];\r\n                if (value !== '' && value !== undefined) {\r\n                    delete dataList[index][event.target.name]\r\n                } else {\r\n\r\n                    dataList[index][event.target.name] = {\r\n                        [designProperties.LABEL]: { ...multilinguallabel },\r\n                        [designProperties.VALUE]: radiotext\r\n                    };\r\n                }\r\n            } else {\r\n                dataList[index] = {\r\n                    [event.target.name]: { [designProperties.LABEL]: { ...multilinguallabel }, [designProperties.VALUE]: radiotext }\r\n                }\r\n            }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { dataListSubSample: dataList }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            const dataList = this.props.Login.dataList || []\r\n            if (dataList[index]) {\r\n                const value = dataList[index] && dataList[index][event.target.name];\r\n                if (value !== '' && value !== undefined) {\r\n                    delete dataList[index][event.target.name]\r\n                } else {\r\n\r\n                    dataList[index][event.target.name] = {\r\n                        [designProperties.LABEL]: { ...multilinguallabel },\r\n                        [designProperties.VALUE]: radiotext\r\n                    };\r\n                }\r\n            } else {\r\n                dataList[index] = {\r\n                    [event.target.name]: { [designProperties.LABEL]: { ...multilinguallabel }, [designProperties.VALUE]: radiotext }\r\n                }\r\n            }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { dataList }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    getGridJsondata = (templatedata) => {\r\n        let gridItem = [];\r\n        let gridMoreItem = [];\r\n        let masterdatefields = [];\r\n        let masterdateconstraints = [];\r\n        let masteruniquevalidation = [];\r\n        let mastercombinationunique = [];\r\n        let editable = [];\r\n        let jdynamiccolumns = [];\r\n        let jnumericcolumns = [];\r\n        let templatePrimaryKey = \"\";\r\n        let mastertemplatefields = [];\r\n        templatedata && templatedata.map(row =>\r\n            row.children && row.children.map(column => {\r\n                column.children && column.children.map((component, index) => {\r\n                    //console.log(\"component2:\", component);\r\n                    if (component.hasOwnProperty('children')) {\r\n                        component.children.map(componentRow => {\r\n                            // console.log(\"component row2:\", componentRow);\r\n                            componentRow.unique && masteruniquevalidation.push({ [designProperties.LABEL]: componentRow.label });\r\n                            componentRow.unique && mastercombinationunique.push({ [componentRow.label]: { [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label } })\r\n\r\n\r\n                            templatePrimaryKey = templatePrimaryKey === \"\" && componentRow.unique ? componentRow.label : templatePrimaryKey;\r\n\r\n                            let filterinputtype = \"text\";\r\n                            let comboDataInputObject = {};\r\n\r\n                            if (componentRow.inputtype === 'combo') {\r\n\r\n                                comboDataInputObject = {\r\n                                    \"predefinedtablename\": componentRow.source,\r\n                                    \"predefinedvaluemember\": componentRow.valuemember,\r\n                                    \"predefineddisplaymember\": componentRow.displaymember,\r\n                                    \"predefinedismultilingual\": true,\r\n                                    \"predefinedconditionalString\": componentRow.valuemember + \" > 0 \"\r\n                                };\r\n                                jnumericcolumns.push({\r\n                                    \"columnname\": componentRow.displaymember,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"foriegntablePK\": componentRow.label,\r\n                                    // \"ismultilingual\": true,\r\n                                    // \"conditionstring\": \" and nformcode in (\"+componentRow.table.item.nformcode+\") \",\r\n                                    \"tablecolumnname\": componentRow.valuemember,\r\n                                    \"foriegntablename\": componentRow.source,\r\n                                    ...comboDataInputObject\r\n                                })\r\n                                filterinputtype = \"predefinednumeric\";\r\n                            }\r\n                            // samplesearchfields.push(componentRow.label)\r\n                            if (componentRow.inputtype === 'date') {\r\n                                filterinputtype = \"date\";\r\n                                masterdatefields.push({ [designProperties.VALUE]: componentRow.label, dateonly: componentRow.dateonly || false });\r\n                                masterdateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\r\n                            }\r\n                            if (componentRow.inputtype === 'Numeric' || componentRow.inputtype === 'radio') {\r\n                                filterinputtype = \"numeric\";\r\n                            }\r\n\r\n                            jdynamiccolumns.push({\r\n                                default: componentRow.unique ? true : false,\r\n                                filterinputtype,\r\n                                columnname: componentRow.label,\r\n                                displayname: componentRow.displayname,\r\n                                ...comboDataInputObject\r\n                            })\r\n                            // displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            // componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.mandatory || componentRow.templatemandatory) {\r\n                                gridItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            }\r\n                            else {\r\n                                gridMoreItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            }\r\n                            mastertemplatefields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.templatemandatory) {\r\n                                editable.push({ label: componentRow.label, editableuntill: [] })\r\n                            }\r\n                            else {\r\n                                editable.push({ label: componentRow.label, editableuntill: [transactionStatus.DRAFT] })\r\n                            }\r\n\r\n                            return null;\r\n                        })\r\n                    } else {\r\n                        //console.log(\"component2:\", component);\r\n                        component.unique && masteruniquevalidation.push({ [designProperties.LABEL]: component.label });\r\n                        component.unique && mastercombinationunique.push({ [component.label]: { [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label } })\r\n                        templatePrimaryKey = templatePrimaryKey === \"\" && component.unique ? component.label : templatePrimaryKey;\r\n\r\n\r\n                        let filterinputtype = \"text\";\r\n                        let comboDataInputObject = {};\r\n\r\n                        mastertemplatefields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n\r\n                        if (component.inputtype === 'combo') {\r\n                            filterinputtype = \"predefinednumeric\";\r\n                            comboDataInputObject = {\r\n                                \"predefinedtablename\": component.source,\r\n                                \"predefinedvaluemember\": component.valuemember,\r\n                                \"predefineddisplaymember\": component.displaymember,\r\n                                \"predefinedismultilingual\": true,\r\n                                \"predefinedconditionalString\": component.valuemember + \" > 0\"\r\n                            };\r\n                            jnumericcolumns.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"foriegntablePK\": component.label,\r\n                                // \"ismultilingual\": true,\r\n                                \"conditionstring\": \" and nformcode in (\" + component.table.item.nformcode + \") \",\r\n                                \"tablecolumnname\": component.column.value,\r\n                                \"foriegntablename\": \"dynamicmaster\",\r\n                                ...comboDataInputObject\r\n                            })\r\n                        }\r\n                        // samplesearchfields.push(component.label)\r\n                        if (component.inputtype === 'date') {\r\n                            filterinputtype = \"date\";\r\n                            masterdatefields.push({ [designProperties.VALUE]: component.label, dateonly: component.dateonly || false });\r\n                            masterdateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\r\n                        }\r\n                        if (component.inputtype === 'numeric' || component.inputtype === 'radio') {\r\n                            filterinputtype = \"numeric\";\r\n                        }\r\n\r\n                        jdynamiccolumns.push({\r\n                            default: component.unique ? true : false,\r\n                            columnname: component.label,\r\n                            displayname: component.displayname,\r\n                            filterinputtype,\r\n                            ...comboDataInputObject\r\n                        });\r\n                        // displayFields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        // component.templatemandatory && listItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        if (component.mandatory || component.templatemandatory) {\r\n                            gridItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        } else {\r\n                            gridMoreItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label });\r\n                        }\r\n                        if (component.templatemandatory) {\r\n                            editable.push({ label: component.label, editableuntill: [] })\r\n                        }\r\n                        else {\r\n                            editable.push({ label: component.label, editableuntill: [transactionStatus.DRAFT] })\r\n                        }\r\n                        return null;\r\n                    }\r\n\r\n                })\r\n            })\r\n        );\r\n        let jsondata = {\r\n            griditem: gridItem,\r\n            gridmoreitem: gridMoreItem,\r\n            masterdatefields,\r\n            masterdateconstraints,\r\n            masteruniquevalidation,\r\n            editable,\r\n            mastertemplatefields,\r\n            mastercombinationunique\r\n        }\r\n\r\n        // console.log(\"dynamiccolumns:\", jdynamiccolumns);\r\n        return { jsondata, jdynamiccolumns, jnumericcolumns, templatePrimaryKey };\r\n    }\r\n\r\n    getJsondata = (templatedata) => {\r\n        let displayFields = []\r\n        let listItem = []\r\n        let gridItem = []\r\n        let gridMoreItem = []\r\n        let editable = []\r\n        let subsampleeditable = [];\r\n        let subsamplelistitem = [];\r\n        let sampledatefields = [{ [designProperties.VALUE]: 'dregdate', dateonly: false }];\r\n        let sampledateconstraints = [];\r\n        let subsampledatefields = [];\r\n        let subsampledateconstraints = [];\r\n        let samplesearchfields = [\"dregdate\", \"sarno\", \"stransdisplaystatus\"];\r\n        let subsamplesearchfields = [\"sarno\", \"ssamplearno\", \"stransdisplaystatus\"];\r\n        let sampletemplatefields = [];\r\n        let subsampletemplatefields = [];\r\n        let sampleuniquevalidation = [];\r\n        let subsampleuniquevalidation = [];\r\n        let jdynamiccolumns = [];\r\n        let jnumericcolumns = [];\r\n        let samplecombinationunique = []\r\n        let subsamplecombinationunique = []\r\n        // const staticSearchFields = [\"dregdate\", \"sarno\", \"stransdisplaystatus\"];\r\n        // const sampleStaticFields = [\r\n        //     { [designProperties.LABEL]: { \"en-US\": \"Reg Date\",\"Ko-KR\":\"Reg Date\",\"ru-RU\":\"Дата регистрации\",\"tg-TG\":\"Санаи бақайдгирӣ\" }, \r\n        //       [designProperties.VALUE]: 'dregdate' },\r\n        //     { [designProperties.LABEL]: { \"en-US\": \"Ar No.\",\"Ko-KR\":\"Reg Date\",\"ru-RU\":\"Ар №\",\"tg-TG\":\"Ар №\" }, \r\n        //       [designProperties.VALUE]: 'sarno' },\r\n        //     { [designProperties.LABEL]: { \"en-US\": \"Transaction Status\",\"Ko-KR\":\"Transaction Status\",\"ru-RU\":\"Статус транзакции\",\"tg-TG\":\"Ҳолати транзаксия\" }, \r\n        //       [designProperties.VALUE]: 'stransdisplaystatus' }\r\n        //     ]\r\n        let testdatefields = [{ [designProperties.VALUE]: 'dtransactiondate', dateonly: false }];\r\n        //console.log(\"this.state.selectedRecord:\", this.state.selectedRecord);\r\n        this.state.selectedRecord.nsubsampletemplatecode && this.state.selectedRecord.nsubsampletemplatecode.item.jsondata.map(row =>\r\n            row.children && row.children.map(column => {\r\n                column.children && column.children.map(component => {\r\n                    if (component.hasOwnProperty('children')) {\r\n                        component.children.map(componentRow => {\r\n                            componentRow.unique && subsampleuniquevalidation.push({ [designProperties.LABEL]: componentRow.label });\r\n                            componentRow.unique && subsamplecombinationunique.push({ [componentRow.label]: { [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label } })\r\n                            subsamplesearchfields.push(componentRow.label);\r\n                            //subsampleeditable.push({ label: componentRow.label, editableuntill: [17] })\r\n\r\n                            subsampletemplatefields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (component.readonly)\r\n                                subsampleeditable.push({ label: componentRow.label, editableuntill: [] })\r\n                            else\r\n                                subsampleeditable.push({ label: componentRow.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n\r\n                            if (componentRow.inputtype === 'date') {\r\n                                subsampledatefields.push({ [designProperties.VALUE]: componentRow.label, dateonly: componentRow.dateonly || false });\r\n                                subsampledateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...subsampledateconstraints] : subsampledateconstraints;\r\n                            }\r\n                            subsamplelistitem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                        }\r\n                        )\r\n                    } else {\r\n\r\n                        component.unique && subsampleuniquevalidation.push({ [designProperties.LABEL]: component.label });\r\n                        component.unique && subsamplecombinationunique.push({ [component.label]: { [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label } })\r\n                        subsamplesearchfields.push(component.label);\r\n\r\n                        // subsampleeditable.push({ label: component.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n                        subsampletemplatefields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n\r\n                        if (component.readonly)\r\n                            subsampleeditable.push({ label: component.label, editableuntill: [] })\r\n                        else\r\n                            subsampleeditable.push({ label: component.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n\r\n\r\n\r\n                        if (component.inputtype === 'date') {\r\n                            subsampledatefields.push({ [designProperties.VALUE]: component.label, dateonly: component.dateonly || false });\r\n                            subsampledateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...subsampledateconstraints] : subsampledateconstraints;\r\n                        }\r\n                        subsamplelistitem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label });\r\n                    }\r\n                })\r\n            })\r\n        )\r\n        templatedata && templatedata.map(row =>\r\n            row.children && row.children.map(column => {\r\n                column.children && column.children.map(component => {\r\n                    if (component.hasOwnProperty('children')) {\r\n                        // let combinedField = [];\r\n                        component.children.map(componentRow => {\r\n                            // combinedField.push(componentRow.label)\r\n                            jdynamiccolumns.push({\r\n                                columnname: componentRow.label,\r\n                                displayname: componentRow.displayname\r\n                            })\r\n                            if (componentRow.hasOwnProperty('child')) {\r\n                                componentRow.child.map(childData => {\r\n                                    jnumericcolumns.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"foriegntablePK\": componentRow.label,\r\n                                        // \"ismultilingual\": true,\r\n                                        // \"conditionstring\": \" and nformcode in (140) \",\r\n                                        \"tablecolumnname\": childData.tablecolumnname,\r\n                                        \"foriegntablename\": \"dynamicmaster\"\r\n                                    })\r\n                                })\r\n                            }\r\n                            componentRow.unique && sampleuniquevalidation.push({ [designProperties.LABEL]: componentRow.label });\r\n                            componentRow.unique && samplecombinationunique.push({ [componentRow.label]: { [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label } })\r\n                            samplesearchfields.push(componentRow.label)\r\n                            sampletemplatefields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.inputtype === 'date') {\r\n                                sampledatefields.push({ [designProperties.VALUE]: componentRow.label, dateonly: componentRow.dateonly || false });\r\n                                sampledateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...sampledateconstraints] : sampledateconstraints;\r\n                            }\r\n                            displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.mandatory || componentRow.templatemandatory) {\r\n                                gridItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            }\r\n                            else {\r\n                                gridMoreItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            }\r\n                            if (componentRow.templatemandatory) {\r\n                                editable.push({ label: componentRow.label, editableuntill: [] })\r\n                            }\r\n                            else {\r\n                                if (componentRow.readonly)\r\n                                    editable.push({ label: componentRow.label, editableuntill: [] })\r\n                                else\r\n                                    editable.push({ label: componentRow.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n\r\n                            }\r\n                            return null;\r\n                        })\r\n                        // let fieldSet = combinedField.join(\"&\")\r\n                        // displayFields.push(fieldSet);\r\n                        // componentRow.templatemandatory && listItem.push(fieldSet)\r\n                        // gridMoreItem.push(fieldSet);\r\n                    } else {\r\n                        jdynamiccolumns.push({\r\n                            columnname: component.label,\r\n                            displayname: component.displayname\r\n                        });\r\n                        if (component.hasOwnProperty('child')) {\r\n                            component.child.map(childData => {\r\n                                jnumericcolumns.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"foriegntablePK\": component.label,\r\n                                    // \"ismultilingual\": true,\r\n                                    // \"conditionstring\": \" and nformcode in (140) \",\r\n                                    \"tablecolumnname\": childData.tablecolumnname,\r\n                                    \"foriegntablename\": \"dynamicmaster\"\r\n                                })\r\n                            })\r\n                        }\r\n                        component.unique && sampleuniquevalidation.push({ [designProperties.LABEL]: component.label });\r\n                        component.unique && samplecombinationunique.push({ [component.label]: { [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label } })\r\n                        samplesearchfields.push(component.label)\r\n                        sampletemplatefields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        if (component.inputtype === 'date') {\r\n                            sampledatefields.push({ [designProperties.VALUE]: component.label, dateonly: component.dateonly || false });\r\n                            sampledateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...sampledateconstraints] : sampledateconstraints;\r\n                        }\r\n                        displayFields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        // component.templatemandatory \r\n                        //&& listItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        if (component.mandatory || component.templatemandatory) {\r\n                            gridItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                            listItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label, mandatory: true })\r\n\r\n                        } else {\r\n                            gridMoreItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label });\r\n                        }\r\n                        if (component.templatemandatory) {\r\n                            editable.push({ label: component.label, editableuntill: [] })\r\n                        }\r\n                        else {\r\n                            // editable.push({ label: component.label, editableuntill: [17] })\r\n                            if (component.readonly)\r\n                                editable.push({ label: component.label, editableuntill: [] })\r\n                            else\r\n                                editable.push({ label: component.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n\r\n                        }\r\n                        return null;\r\n                    }\r\n\r\n                })\r\n            }\r\n            )\r\n        )\r\n        displayFields.push({\r\n            [designProperties.LABEL]: { \"en-US\": \"Reg Date\", \"Ko-KR\": \"Reg Date\", \"ru-RU\": \"Дата регистрации\", \"tg-TG\": \"Санаи бақайдгирӣ\" },\r\n            [designProperties.VALUE]: 'dregdate'\r\n        });\r\n\r\n        //samplesearchfields.push(...staticSearchFields);\r\n\r\n        //console.log(\"reg sub type:\", this.props.Login);\r\n        let obj = {\r\n            sampledisplayfields: displayFields,\r\n            samplelistitem: listItem,\r\n            samplegriditem: gridItem,\r\n            samplegridmoreitem: gridMoreItem,\r\n            subsamplelistitem,\r\n            sampledatefields,\r\n            subsampledatefields,\r\n            samplesearchfields,\r\n            subsamplesearchfields,\r\n            testdatefields,\r\n            sampledateconstraints,\r\n            subsampledateconstraints,\r\n            // sampleuniquevalidation,\r\n            //  subsamplecombinationunique,\r\n            samplecombinationunique,\r\n            ...this.props.Login.testListFields\r\n        }\r\n\r\n        // console.log(\"Template mapping obj:\", obj);\r\n        let jsondata = {\r\n\r\n            subsamplecombinationunique,\r\n            samplecombinationunique,\r\n            sampletemplatefields,\r\n            subsampletemplatefields,//: subsamplesearchfields,\r\n            [formCode.SAMPLEREGISTRATION]: {\r\n                ...obj,\r\n                sampleeditable: editable,\r\n                subsampleeditable,\r\n                samplecombinationunique,\r\n                subsamplecombinationunique\r\n            },\r\n            [formCode.RESULTENTRY]: {\r\n                ...obj,\r\n            },\r\n            [formCode.APPROVAL]: {\r\n                ...obj,\r\n            },\r\n            [formCode.JOBALLOCATION]: {\r\n                ...obj,\r\n            },\r\n            [formCode.MYJOBS]: {\r\n                ...obj,\r\n            },\r\n            [formCode.TESTWISEMYJOBS]: {\r\n                ...obj,\r\n            }\r\n\r\n        }\r\n        return jsondata;\r\n    }\r\n\r\n    onChangeToggle = (event, dataItem, field, dataIndex, formCode) => {\r\n        let designData = this.props.Login.designData;\r\n        let dataResult = this.props.Login.dataResult;\r\n        if (formCode === undefined) {\r\n            dataResult[dataIndex][field] = event.target.checked;\r\n            if (event.target.checked) {\r\n                designData[field].splice(dataIndex, 0, dataItem.realData)\r\n\r\n            } else {\r\n                designData[field].splice(designData[field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n            }\r\n        }\r\n        else {\r\n            //dataResult[formCode][dataIndex][field] = event.target.checked;\r\n            if (event.target.checked) {\r\n                if (field === 'samplelistitem' && designData[formCode][field].length >= 6) {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_MAXIMUMSELECTIONEXCEEDS\" }))\r\n                } else {\r\n                    dataResult[formCode][dataIndex][field] = event.target.checked;\r\n                    designData[formCode][field].splice(dataIndex, 0, dataItem.realData)\r\n                }\r\n                if (field === 'sampledisplayfields') {\r\n                    dataResult[formCode][dataIndex][field] = event.target.checked;\r\n                    designData[formCode]['samplesearchfields'].splice(dataIndex, 0, dataItem.label)\r\n                }\r\n            } else {\r\n                if (field === 'sampledisplayfields') {\r\n                    dataResult[formCode][dataIndex][field] = event.target.checked;\r\n                    designData[formCode]['samplesearchfields'].splice(designData[formCode]['samplesearchfields'].findIndex(x => x === dataItem.label), 1)\r\n                }\r\n                dataResult[formCode][dataIndex][field] = event.target.checked;\r\n                designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n            }\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { designData, dataResult }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n\r\n        //console.log(\"save:\", this.state.selectedRecord);\r\n        //console.log(\"data:\", this.props.Login.editFieldDesignData)\r\n        let inputData = [];\r\n\r\n        let operation = this.props.Login.operation;\r\n\r\n\r\n        if (operation === 'configure' || operation === 'configuresubsample') {\r\n            inputData = {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\r\n                    jsondataobj: this.props.Login.designData\r\n                },\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n        }\r\n        else if (operation === 'configureedit' || operation === 'configuresubsampleedit') {\r\n\r\n            let designData = this.props.Login.editFieldDesignData;\r\n            let formCodeArray = Object.keys(this.state.selectedRecord);\r\n\r\n            formCodeArray.forEach(formCode => {\r\n                const data = this.state.selectedRecord[formCode];                \r\n\r\n                let editableData =  designData[formCode]['sampleeditable'];;\r\n                if (operation === 'configuresubsampleedit') {\r\n                    editableData =  designData[formCode]['subsampleeditable'];;\r\n                }\r\n               \r\n                Object.keys(data).map(label=>{                    \r\n                    const editableuntil = [];\r\n                    data[label].map(statusItem =>\r\n                        editableuntil.push(statusItem.value)\r\n                    )\r\n                    const index = editableData.findIndex(item => item.label === label);\r\n                    if (index === -1) {\r\n                        editableData.push({ \"label\": label, \"editableuntill\": editableuntil });\r\n                    }\r\n                    else {\r\n                        editableData[index] = { \"label\": label, \"editableuntill\": editableuntil };\r\n                    }\r\n                    //designData[formCode]['sampleeditable'].push({\"label\":label, \"editableuntill\":editableuntil});\r\n                })\r\n\r\n            })\r\n            inputData = {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\r\n                    jsondataobj: designData\r\n                },\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n\r\n            operation = 'configure';\r\n        }\r\n        else if (operation === 'configureunique') {\r\n            let designData = this.props.Login.designData;\r\n            //  let formCodeArray = Object.keys(this.state.selectedRecord);\r\n            const dataList = []\r\n            const dataListsubsample = []\r\n            this.props.Login.dataList.map(x => {\r\n                if (Object.keys(x).length !== 0) {\r\n                    dataList.push(x);\r\n                }\r\n            })\r\n            if (this.props.Login.masterData.realSampleValue.value === TemplateType.Masters) {\r\n                designData['mastercombinationunique'] = dataList\r\n            } else {\r\n                designData['samplecombinationunique'] = dataList\r\n                designData[formCode.SAMPLEREGISTRATION]['samplecombinationunique'] = dataList\r\n                this.props.Login.dataListSubSample.map(x => {\r\n                    if (Object.keys(x).length !== 0) {\r\n                        dataListsubsample.push(x);\r\n                    }\r\n                })\r\n                designData['subsamplecombinationunique'] = dataListsubsample\r\n                designData[formCode.SAMPLEREGISTRATION]['subsamplecombinationunique'] = dataListsubsample\r\n            }\r\n\r\n\r\n            inputData = {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\r\n                    jsondataobj: designData\r\n                },\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n\r\n            operation = 'configure';\r\n        }\r\n        else {\r\n            let { jsondata, jdynamiccolumns, jnumericcolumns, templatePrimaryKey } = this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ?\r\n                this.getGridJsondata(this.state.selectedRecord.nreactregtemplatecode.item.jsondata)\r\n                : {}\r\n            inputData = {\r\n                \"userinfo\": this.props.Login.userInfo,\r\n                \"ncontrolcode\": this.props.Login.ncontrolCode,\r\n                \"nreactregtemplatecode\": this.state.selectedRecord.nreactregtemplatecode.value,\r\n                \"nsampletypecode\": this.props.Login.masterData.realSampleValue.value,\r\n                \"nregtypecode\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? -1 : this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\r\n                \"nregsubtypecode\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? -1 : this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\r\n                \"nformcode\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.value : -1,\r\n                \"nsubsampletemplatecode\": this.state.selectedRecord.nsubsampletemplatecode ? this.state.selectedRecord.nsubsampletemplatecode.value : -1,\r\n                \"jsondataobj\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? jsondata\r\n                    : this.getJsondata(this.state.selectedRecord.nreactregtemplatecode.item.jsondata),\r\n            }\r\n            inputData[\"designtemplatemapping\"] = { \"nsitecode\": this.props.Login.userInfo.nmastersitecode };\r\n            if (this.props.Login.masterData.realFormValue && this.props.Login.masterData.realFormValue.value === -2) {\r\n                let qf_jsonData = { sdisplayname: {} };\r\n                let qbt_jsonData = { tablename: {} };\r\n\r\n                this.props.Login.languageList.map(lang => {\r\n                    qf_jsonData['sdisplayname'][lang.value] = this.state.selectedRecord.sformname;\r\n                    qbt_jsonData['tablename'][lang.value] = this.state.selectedRecord.sformname\r\n                })\r\n\r\n                let qm_jsonData = { sdisplayname: {} };\r\n\r\n                let nmodulecode = 0;\r\n                let smoduledisplayname = \"\";\r\n                // if (typeof this.state.selectedRecord[\"nmodulecode\"].value === \"string\" )\r\n                // {\r\n                //     smoduledisplayname = this.state.selectedRecord[\"nmodulecode\"].value;\r\n                //     this.props.Login.languageList.map(lang => {\r\n                //         qm_jsonData['sdisplayname'][lang.value] = this.state.selectedRecord[\"nmodulecode\"].value;\r\n                //     })\r\n                // }\r\n                // else{\r\n                //     nmodulecode = this.state.selectedRecord[\"nmodulecode\"].value;\r\n                // }\r\n                if (this.state.selectedRecord[\"nnewmodule\"].value === transactionStatus.YES) {\r\n                    smoduledisplayname = this.state.selectedRecord[\"nmodulecode\"];\r\n                    this.props.Login.languageList.map(lang => {\r\n                        qm_jsonData['sdisplayname'][lang.value] = this.state.selectedRecord[\"nmodulecode\"];\r\n                    })\r\n                }\r\n                else {\r\n                    nmodulecode = this.state.selectedRecord[\"nmodulecode\"].value;\r\n                }\r\n                inputData = {\r\n                    ...inputData,\r\n                    sformname: this.state.selectedRecord.sformname,\r\n                    nmodulecode,\r\n                    smoduledisplayname,\r\n                    qm_jsonData,\r\n                    qf_jsonData,\r\n                    qbt_jsonData,\r\n                    sprimarykeyname: templatePrimaryKey,\r\n                    jdynamiccolumns,\r\n                    jnumericcolumns\r\n                }\r\n            }\r\n            // this.designtemplatemappingFieldList.map(item => {\r\n            //     return inputData[\"designtemplatemapping\"][item] = this.state.selectedRecord[item]\r\n            // });\r\n        }\r\n        let postParam = undefined;\r\n        const inputParam = {\r\n            classUrl: \"designtemplatemapping\",\r\n            methodUrl: \"DesignTemplateMapping\",\r\n            inputData: inputData,\r\n            operation,\r\n            saveType, formRef, postParam, searchRef: this.searchRef, dataList: [], dataListCount: [], dataListCountSubSample: [], dataListSubSample: []\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (\r\n            showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType, dataList: [], dataListCount: [], dataListCountSubSample: [], dataListSubSample: []\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, validateEsignCredential, editFieldConfigService,\r\n    updateStore, getDesignTemplateMappingDetail, getMappedFieldProps,\r\n    getDesignTemplateMappingComboService, filterColumnData,auditFieldConfigService,\r\n    reloadDesignTemplateMapping, getTMPFilterRegType, getTMPFilterRegSubType, getTMPFilterSubmit, combinationUniqueConfigService\r\n})(injectIntl(DesignTemplateMapping));\r\n\r\n"]},"metadata":{},"sourceType":"module"}