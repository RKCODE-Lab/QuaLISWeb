{"ast":null,"code":"import _slicedToArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import Axios from\"axios\";import{toast}from\"react-toastify\";import{intl}from\"../components/App\";import{constructOptionList,replaceUpdatedObject,sortData,getFilterConditionsBasedonDataType,getSameRecordFromTwoArrays}from\"../components/CommonScript\";import{designProperties,reportCOAType,REPORTTYPE,SampleType,transactionStatus}from\"../components/Enumeration\";import TrainingUpdateChildTab from\"../pages/competencemanagement/trainingupdate/TrainingUpdateChildTab\";import rsapi from\"../rsapi\";import{initRequest}from\"./LoginAction\";import{DEFAULT_RETURN}from\"./LoginTypes\";import{crudMaster}from\"./ServiceAction\";import{getFieldSpecification as getFieldSpecification3}from'../components/type3component/Type3FieldSpecificationList';import{filterObjectForReactAwesomeFilter}from\"./RegistrationAction\";import{fileViewUrl,reportUrl}from'../rsapi';// export function getReleasedSelectedSampleSubSampleTest(userInfo, Data1, inputData) {\nimport{Utils as QbUtils}from\"@react-awesome-query-builder/ui\";var checkTree=QbUtils.checkTree,loadTree=QbUtils.loadTree;//     return function (dispatch) {\n//       if (inputData !== undefined &&inputData.npreregno!==\"\") {\n//         dispatch(initRequest(true));\n//         return rsapi.post(\"release/updateRelease\",\n//             inputData\n//         )\n//             .then(response => {\n//                 if (response.data.statusCodeValue !== 200) {\n//                     toast.warn(intl.formatMessage({\n//                         id: response.data.body\n//                     }));\n//                     dispatch({\n//                         type: DEFAULT_RETURN,\n//                         payload: {\n//                             loading: false\n//                         }\n//                     });\n//                 }\n//                 else {\n//                     if (response.data.body[\"PortalStatus\"] && response.data.body[\"PortalStatus\"].length > 0) {\n//                         dispatch(UpdateExternalOrderStatus(response.data.body[\"PortalStatus\"],inputData));\n//                     }\n//                     let masterData = {\n//                         ...Data1, ...response.data.body,\n//                     };\n//                     console.log(\"ReleasedTest,\", masterData);\n//                      sortData(masterData.ReleaseHistory,\"\",'sreportno');\n//                   //  dispatch(generateReport(inputData,masterData))\n//                     dispatch({\n//                         type: DEFAULT_RETURN, payload: {\n//                             masterData,\n//                             change: inputData.change,\n//                             loading: false,\n//                             openModal:false\n//                         }\n//                     });\n//                 }\n//             })\n//             .catch(error => {\n//                 dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\n//                 if (error.response.status === 500) {\n//                     toast.error(error.message);\n//                     console.log(\"ErrorRelease,\", error);\n//                 }\n//                 else {\n//                     toast.warn(error.response.data);\n//                 }\n//             })\n//         }\n//         else {\n//             toast.warn(intl.formatMessage({\n//                 id: \"IDS_SELECTANYONESAMPLE\"\n//             }));\n//         }\n//     }\n// }\nexport function getReleasedRegistrationType(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/getRegistrationType\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{SampleTypeValue:inputData.SampleTypeValue,realSampleTypeList:inputData.realSampleTypeList||[],realReportTypeList:inputData.realReportTypeList||[],realRegTypeList:inputData.realRegTypeList||[],realRegSubTypeList:inputData.realRegSubTypeList||[],realFilterStatusList:inputData.realFilterStatusList||[],realApprovalVersionList:inputData.realApprovalVersionList||[],realDesignTemplateMappingList:inputData.realDesignTemplateMappingList||[]}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleasedRegistrationSubType(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/getRegistrationSubType\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{RegTypeValue:inputData.RegTypeValue,realSampleTypeList:inputData.realSampleTypeList||[],realReportTypeList:inputData.realReportTypeList||[],realRegTypeList:inputData.realRegTypeList||[],realRegSubTypeList:inputData.realRegSubTypeList||[],realFilterStatusList:inputData.realFilterStatusList||[],realApprovalVersionList:inputData.realApprovalVersionList||[],realDesignTemplateMappingList:inputData.realDesignTemplateMappingList||[]}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleasedFilterBasedTest(inputData){return function(dispatch){if(inputData.napprovalversioncode){dispatch(initRequest(true));rsapi.post(\"release/getFilterBasedTest\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{RegSubTypeValue:inputData.RegSubTypeValue,ndesigntemplatemappingcode:inputData.ndesigntemplatemappingcode,DesignTemplateMappingValue:inputData.DesignTemplateMappingValue}),loading:false}});if(response.data.rtn){toast.warn(response.data.rtn);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_PLSSELECTALLVALUESINFILTER\"}));}};}export function getReleasedApprovalVersion(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/getApprovalVersion\",inputParam.inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputParam.masterData),responseData),{},{realSampleTypeList:inputParam.inputData.realSampleTypeList||[],realReportTypeList:inputParam.inputData.realReportTypeList||[],realRegTypeList:inputParam.inputData.realRegTypeList||[],realRegSubTypeList:inputParam.inputData.realRegSubTypeList||[],realFilterStatusList:inputParam.inputData.realFilterStatusList||[],realApprovalVersionList:inputParam.inputData.realApprovalVersionList||[],realDesignTemplateMappingList:inputParam.inputData.realDesignTemplateMappingList||[]// fromDate: inputParam.inputData.dfrom,\n// toDate: inputParam.inputData.dto,\n}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleasedSample(inputParam,selectedRecordLogin,selectedRecordState,LoginData){return function(dispatch){dispatch(initRequest(true));var urlArray=[];var approvedReportTemplate=rsapi.post(\"release/getApprovedReportTemplate\",inputParam.inputData);var filteredSample=rsapi.post(\"release/getReleaseSample\",inputParam.inputData);urlArray=[filteredSample,approvedReportTemplate];Axios.all(urlArray).then(function(response){var reportTemplateList=[];var reportTemplateMap=constructOptionList(response[1].data||[],\"nreporttemplatecode\",\"sreporttemplatename\",\"nreporttemplatecode\",\"ascending\",false);reportTemplateList=reportTemplateMap.get(\"OptionList\");var responseData=_objectSpread({},response[0].data);// responseData = sortData(responseData)\nvar masterData={};var nsectioncode={};var selectedRecord={};//ALPD-4797--Vignesh R(05-09-2024)\nvar slideOutClose=false;// if (response.data.ReleasedSampleDetails && response.data.ReleasedSampleDetails.length !== 0 ||\n//     response.data.ReleaseSample && response.data.ReleaseSample.length === 0) {\nmasterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);if(inputParam.inputData.isClear){masterData.ReleaseSample.map(function(x){var matchingItem=inputParam.masterData.ReleaseSample.find(function(item){return item.npreregno===x.npreregno&&item.selected===true;});if(matchingItem){x.selected=true;}});Object.values(masterData.ReleaseSubSample).flat().forEach(function(x){var matchingItem=Object.values(inputParam.masterData.ReleaseSubSample).flat().find(function(item){return item.ntransactionsamplecode===x.ntransactionsamplecode&&item.selected===true;});if(matchingItem){x.selected=true;}});Object.values(masterData.ReleaseTest).flat().forEach(function(x){var matchingItem=Object.values(inputParam.masterData.ReleaseTest).flat().find(function(item){return item.ntransactiontestcode===x.ntransactiontestcode&&item.selected===true;});if(matchingItem){x.selected=true;}});}if(nsectioncode!==undefined){nsectioncode=inputParam.inputData.nsectioncode;}if(selectedRecordState!==undefined&&inputParam.inputData.isClear!==true){delete selectedRecordState.nreporttemplatecode;}selectedRecord=_objectSpread(_objectSpread({},selectedRecordLogin),selectedRecordState);masterData[\"reportTemplateList\"]=reportTemplateList;sortData(masterData,\"\",\"ncoaparentcode\");dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,showFilter:false,nsectioncode:nsectioncode,FilterQueryBuilder:false,screenName:inputParam.inputData.screenName,awesomeTree:inputParam.inputData.isClear?undefined:inputParam.inputData.awesomeTree,filterquery:inputParam.inputData.isClear?undefined:inputParam.inputData.filterquery,slideOutClose:slideOutClose,selectedRecord:selectedRecord,isClear:inputParam.inputData.isClear?false:true,// awesomeTree: LoginData && LoginData.awesomeTree,\n// filterquery:LoginData && LoginData.filterquery,\nfields:LoginData&&LoginData.fields,filterQueryTreeStr:LoginData&&LoginData.filterQueryTreeStr}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getApprovedSample(inputParam,ncontrolCode){if(inputParam.masterData.realReportTypeValue.ncoareporttypecode===reportCOAType.PATIENTWISE){var fieldList=[];fieldList=getFieldSpecification3().get(\"ExternalOrder\")||[];var languageTypeCode=inputParam.inputData.userinfo.slanguagetypecode;var _filterObjectForReact=filterObjectForReactAwesomeFilter(fieldList[0].filterfields,languageTypeCode,undefined,undefined),fields=_filterObjectForReact.fields,gridColumns=_filterObjectForReact.gridColumns;var awesomeTree=fieldList[0].awesomeTree?checkTree(loadTree(fieldList[0].awesomeTree),fieldList[0].awesomeConfig):undefined;return function(dispatch){var urlArray=[];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var ProjectTypeList=[];var sectionList=[];var masterData={};var openModal=true;masterData=_objectSpread({},inputParam.masterData);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{fields:fields,gridColumns:gridColumns,awesomeTree:awesomeTree,seletedFilterComponent:fieldList[0],// awesomeTree:fieldList[0].awesomeTree,\nawesomeConfig:undefined,lstPatient:[],kendoSkip:0,kendoTake:5,masterData:masterData,expandCheck:false,ProjectTypeList:ProjectTypeList,ncontrolCode:ncontrolCode,isDeletePopup:false,isComboCheck:false,isEditPopup:false,screenName:\"IDS_PATIENTSEARCH\",sectionList:sectionList,loading:false,showFilter:false,openModal:openModal,isAddPopup:true,operation:\"save\",slideOutClose:false// ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\n}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}else{return function(dispatch){var ismandatory=false;inputParam.DynamicReportFilterTypeItem&&inputParam.DynamicReportFilterTypeItem.map(function(x){if(x.ismandatory){ismandatory=true;}});if(ismandatory){inputParam['inputData']=_objectSpread(_objectSpread({},inputParam.inputData),{},{ismandatory:true});}var screenName=\"\";var urlArray=[];inputParam.inputData['isAddPopup']=true;var releaseSample=rsapi.post(\"release/getReleaseSample\",inputParam.inputData);//  const reportType = rsapi.post(\"release/getCOAReportType\", { userinfo: inputParam.inputData.userinfo });\nvar projectType=rsapi.post(\"release/getApprovedProjectType\",inputParam.inputData);var sectionType=rsapi.post(\"release/getSection\",inputParam.inputData);var testList=rsapi.post(\"release/getTest\",inputParam.inputData);var approvedReportTemplate=rsapi.post(\"release/getApprovedReportTemplate\",inputParam.inputData);// if (inputParam.inputData.ncoareporttypecode === reportCOAType.PROJECTWISE ||\n//     inputParam.inputData.nsampletypecode === SampleType.PROJECTSAMPLETYPE && inputParam.inputData.ncoareporttypecode === reportCOAType.SECTIONWISEMULTIPLESAMPLE) {\n//     urlArray = [projectType,sectionType];\n// }\n// else if (inputParam.inputData.isneedsection === transactionStatus.YES || inputParam.inputData.ncoareporttypecode === reportCOAType.SECTIONWISE || inputParam.inputData.ncoareporttypecode === reportCOAType.SECTIONWISEMULTIPLESAMPLE) {\n//     urlArray = [sectionType];\n// }\n// else {\n//     urlArray = [releaseSample\n//         //,reportType\n//     ];\n// }\nurlArray=[releaseSample,projectType,sectionType,testList,approvedReportTemplate];if(inputParam.DynamicReportFilterTypeItem&&inputParam.DynamicReportFilterTypeItem.length>0){var itemList=[];inputParam.DynamicReportFilterTypeItem.map(function(x){if(x[designProperties.LISTITEM]===\"combo\"){itemList.push({\"Pkey\":x[designProperties.PRIMARYKEY],\"nquerybuildertablecode\":x[designProperties.QUERYBUILDERTABLECODE],\"tablename\":x[designProperties.TABLENAME],\"columnname\":x[designProperties.COLUMNNAME],\"keyName\":x[designProperties.VALUE],\"isMultiLingual\":x[designProperties.MULTILINGUAL],\"languageTypeCode\":inputParam.inputData.userinfo.slanguagetypecode,\"recordType\":x[designProperties.RECORDTYPE]});}});inputParam[\"inputData\"][\"itemList\"]=itemList;var reportFilterType=rsapi.post(\"release/getComboValues\",_objectSpread(_objectSpread({},inputParam.inputData),{},{'userInfo':inputParam.inputData.userinfo}));urlArray.push(reportFilterType);}dispatch(initRequest(true));Axios.all(urlArray).then(function(response){// const reportTypeMap = constructOptionList(response[1].data.ReportType || [], \"ncoareporttypecode\",\n//     \"scoareporttypename\", undefined, undefined, false);\n// const ReportTypeList = reportTypeMap.get(\"OptionList\");\nvar ProjectTypeList=[];var sectionList=[];// let selectedRecord = {\"ncoareporttypecode\": {\n//     \"value\": response[1].data.ReportType[0].ncoareporttypecode,\n//      \"label\": response[1].data.ReportType[0].scoareporttypename\n// }\n// };\nvar masterData={};var openModal=true;var sectionvalue=[];var comboValues={};var reportTemplateList=[];var selectedRecord={};delete selectedRecord[\"nsectioncode\"];delete selectedRecord[\"nreporttemplatecode\"];// let selectedRecord = inputParam.inputData.selectedRecord;\n// let selectedRecord = inputParam.selectedRecord;\n// selectedRecord[\"nmultiplesampleinsinglerelease\"] = inputParam.realReportTypeValue[\"nmultiplesampleinsinglerelease\"];\nvar sectionTypeMap=constructOptionList(response[2].data.sectionList||[],\"nsectioncode\",\"ssectionname\",undefined,undefined,false);sectionList=sectionTypeMap.get(\"OptionList\");sectionList.map(function(x){return sectionvalue.push({\"value\":x.value,\"title\":x.label});});var testListMap=response[3]&&response[3].data;if(inputParam.inputData.isneedsection!==transactionStatus.YES){var reportTemplateMap=constructOptionList(response[4].data||[],\"nreporttemplatecode\",\"sreporttemplatename\",\"nreporttemplatecode\",\"ascending\",false);reportTemplateList=reportTemplateMap.get(\"OptionList\");}var combovaluesListMap=response[5]&&response[5].data;var comboValueList=_objectSpread(_objectSpread({},testListMap),combovaluesListMap)||{};comboValues=_objectSpread({\"s.nsectioncode\":sectionvalue},comboValueList);// if (inputParam.inputData.ncoareporttypecode === reportCOAType.PROJECTWISE ||\n//     inputParam.inputData.nsampletypecode === SampleType.PROJECTSAMPLETYPE && inputParam.inputData.ncoareporttypecode === reportCOAType.SECTIONWISEMULTIPLESAMPLE) {\n//     const projectTypeMap = constructOptionList(response[0].data || [], \"nprojecttypecode\",\n//         \"sprojecttypename\", undefined, undefined, false);\n//     ProjectTypeList = projectTypeMap.get(\"OptionList\");\n//     masterData = { ...inputParam.masterData, ReleaseSubSample: [], ReleaseTest: [], ReleaseSample: [] };\n//     if (inputParam.inputData.selectedRecord.nprojecttypecode) {\n//         delete inputParam.inputData.selectedRecord.nprojecttypecode\n//     }\n//     if (inputParam.inputData.selectedRecord.nprojectmastercode) {\n//         delete inputParam.inputData.selectedRecord.nprojectmastercode\n//     }\n//     const sectionTypeMap = constructOptionList(response[1].data.sectionList || [], \"nsectioncode\",\n//     \"ssectionname\", undefined, undefined, false);\n// sectionList = sectionTypeMap.get(\"OptionList\");\n// sectionList.map(x=>sectionvalue.push({\"value\":x.value,\"title\":x.label}));\n// let comboValueList=response[2] && response[2].data ||{};\n//  comboValues={\"s.nsectioncode\":sectionvalue,...comboValueList}\n// }\n// else \n// if (inputParam.inputData.isneedsection === transactionStatus.YES || inputParam.inputData.ncoareporttypecode === reportCOAType.SECTIONWISE || inputParam.inputData.ncoareporttypecode === reportCOAType.SECTIONWISEMULTIPLESAMPLE) {\n//     const sectionTypeMap = constructOptionList(response[0].data.sectionList || [], \"nsectioncode\",\n//         \"ssectionname\", undefined, undefined, false);\n//     sectionList = sectionTypeMap.get(\"OptionList\");\n//     sectionList.map(x=>sectionvalue.push({\"value\":x.value,\"title\":x.label}));\n//     let comboValueList=response[1] && response[1].data ||{};\n//      comboValues={\"s.nsectioncode\":sectionvalue,...comboValueList}\n//     masterData = { ...inputParam.masterData, ReleaseSubSample: [], ReleaseTest: [], ReleaseSample: [] };\n//     if (inputParam.inputData.selectedRecord.nsectioncode) {\n//         delete inputParam.inputData.selectedRecord.nsectioncode\n//     }\n// }\n// else {\nif(ismandatory){masterData=_objectSpread(_objectSpread({},inputParam.masterData),{},{ReleaseSubSample:[],ReleaseTest:[],ReleaseSample:[]});}else{if(response[0].data&&response[0].data.ReleaseSample.length!==0){var responseData=_objectSpread({},response[0].data);masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);}else{var _responseData=_objectSpread({},response[0].data);masterData=_objectSpread(_objectSpread({},inputParam.masterData),_responseData);openModal=false;toast.warn(intl.formatMessage({id:\"IDS_NOSAMPLESAREAVAILABLE\"}));}}// }\nvar awesomeTree;var filterquery;var filterQueryTreeStr;var fields=getFilterConditionsBasedonDataType(inputParam.extractedColumnList,comboValues);if(inputParam.DynamicDefaultStructureItem&&inputParam.DynamicDefaultStructureItem.nsampletypecode===inputParam.inputData.nsampletypecode&&inputParam.DynamicDefaultStructureItem.nregtypecode===inputParam.inputData.nregtypecode&&inputParam.DynamicDefaultStructureItem.nregsubtypecode===inputParam.inputData.nregsubtypecode){awesomeTree=inputParam.DynamicDefaultStructureItem&&inputParam.DynamicDefaultStructureItem.awesomeTree&&checkTree(loadTree(inputParam.DynamicDefaultStructureItem.awesomeTree),inputParam.DynamicDefaultStructureItem.awesomeConfig);filterquery=inputParam.DynamicDefaultStructureItem.filterquery;filterQueryTreeStr=inputParam.DynamicDefaultStructureItem.filterQueryTreeStr;}else{awesomeTree=undefined;}sortData(masterData);masterData[\"reportTemplateList\"]=reportTemplateList;dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,selectedRecord:selectedRecord,expandCheck:false,ProjectTypeList:ProjectTypeList,ncontrolCode:ncontrolCode,isDeletePopup:false,isComboCheck:false,isEditPopup:false,screenName:inputParam.inputData.screenName,sectionList:sectionList,loading:false,showFilter:false,openModal:openModal,isAddPopup:true,operation:\"save\",kendoSkip:0,kendoTake:5,sectionvalue:sectionvalue,comboValues:comboValues,awesomeTree:awesomeTree,filterquery:filterquery,fields:fields,filterQueryTreeStr:filterQueryTreeStr,FilterQueryBuilder:false,screenNameCopy:inputParam.inputData.screenName,ismandatory:ismandatory,slideOutClose:false// ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\n//awesomeConfig:undefined\n}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}}export function generateReleasedReport(inputData,Data,preventtb){return function(dispatch){dispatch(initRequest(true));var urlArray=[];//   const releaseSample = rsapi.post(\"release/updateRelease\", inputData)  ;\n//   const afterCorrection = rsapi.post(\"release/updateReleaseAfterCorrection\", inputData)  ;\ninputData['preventTbFlow']=preventtb===true?preventtb:false;if(inputData.listStatus===transactionStatus.CORRECTION){var afterCorrection=rsapi.post(\"release/updateReleaseAfterCorrection\",inputData);urlArray=[afterCorrection];}else{var releaseSample=rsapi.post(\"release/updateRelease\",inputData);urlArray=[releaseSample];}Axios.all(urlArray).then(function(response){if(response[0].data.rtn===\"MappingNeeded\"){dispatch({type:DEFAULT_RETURN,payload:{loading:false,modalShow:false,// selectedRecord: {}, \nloadEsign:false//openModal: false,\n// preventTbCheck:true\n}});inputData.confirmMessage.confirm(\"PortalMapping\",intl.formatMessage({id:\"IDS_SUBSAMPLEWASNOTMAPPED\"}),intl.formatMessage({id:\"IDS_DOYOUWANTTOCONTINUEWITHOUTSENDRESULTTOPREVENTTB\"}),intl.formatMessage({id:\"IDS_OK\"}),intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return dispatch(generateReleasedReport(inputData,Data,true));},false,function(){return dispatch(cancelPopUp(inputData,Data));});}else{// if (response[0].data[\"isPortalData\"] && response[0].data[\"PortalStatus\"] && response[0].data[\"PortalStatus\"].length > 0) {\n//     dispatch(UpdateExternalOrderStatus(response[0].data[\"PortalStatus\"], inputData));\n// }\nif(response[0].data[\"PreventTb\"]){toast.warn(response[0].data[\"PreventTb\"]);}// ALPD-4229 (30-05-2024) Added code when search and do action\nvar searchedData=Data.searchedData;if(Data.searchedData&&Data.searchedData!==undefined&&Data.searchedData.length>0){searchedData=response[0].data&&response[0].data.ReleaseHistory&&getSameRecordFromTwoArrays(response[0].data.ReleaseHistory,Data.searchedData,\"ncoaparentcode\");}sortData(searchedData,'','ncoaparentcode');// ALPD-4229 (12-06-2024) Added sortData for searchedData\nvar masterData=_objectSpread(_objectSpread(_objectSpread({},Data),response[0].data),{},{searchedData:searchedData});//Added by sonia on 18-08-2024 for JIRA ID:4716 \n//if (inputData.generateReport){\n//   if(inputData.newTabReport){\nif(response[0].data&&response[0].data.rtn){if(response[0].data.rtn===\"Success\"){if(inputData.newTabReport){if(response[0].data.filetype==='jrxml'){var value=\"\";value=response[0][\"data\"][\"reportViewURL\"];var win=window.open(value);if(win){win.focus();}else{intl.warn('IDS_PLEASEALLOWPOPUPSFORTHISWEBSITE');}}else if(response[0].data.filetype==='mrt'){if(response[0].data.sourceparameter!=undefined&&response[0].data.sourceparameter!=\"\"){var mrtfilePath=reportUrl()+\"?name=\"+inputData.userinfo.sreportingtoolfilename//en-xml\n+\"&slanguagetypecode=\"+inputData.userinfo.sreportlanguagecode//en-us\n+\"&foldername=\"+response[0].data.folderName//\"Quotation-002\"//this.props.Login.masterData.SelectedReportDetails.sreportname\n+\"&filename=\"+response[0].data.FILEName//\"a6008692-3e1a-422b-b4da-5e9ad9cf3be6.mrt\"//\"b701dbc4-d90e-4840-b8e1-942649d6ec25.mrt\"//this.props.Login.masterData.SelectedReportDetails.ssystemfilename\n+\"&sconnectionstring=\"+inputData.userinfo.sconnectionString+\"&sreportlink=\"+response[0].data.sreportlink//inputParam.sreportlink //\"//localhost:8090/SharedFolder/QuaLISjrxml\"//this.props.Login.reportSettings[15] //this.props.Login.userInfo.sreportLink  \n+\"&smrttemplatelink=\"+response[0].data.smrttemplatelink//inputParam.smrttemplatelink //\"//localhost:8090//SharedFolder//ReportJSON//ReportTemplate.json\"//this.props.Login.reportSettings[16]//this.props.Login.userInfo.smrttemplateLink\n+\"&sourceparameter=\"+encodeURIComponent(JSON.stringify(response[0].data.sourceparameter));//JSON.stringify(response[0].data.sourceparameter)\n//console.log(\"path1:\",mrtfilePath);\nwindow.open(mrtfilePath);}}}else{document.getElementById(\"download_data\").setAttribute(\"href\",response[0].data.filepath);document.getElementById(\"download_data\").click();}}else{toast.warn(response[0].data.rtn);}}//   }\nsortData(masterData.ReleaseHistory,\"\",'ncoaparentcode');dispatch({type:DEFAULT_RETURN,payload:{loading:false,change:inputData.change,masterData:masterData,modalShow:false,selectedRecord:{},loadEsign:false,openModal:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{//toast.warn(error.response.data['rtn']);\ntoast.warn(error.response.data);}});};}export function cancelPopUp(inputData,Data){return function(dispatch){dispatch({type:DEFAULT_RETURN,payload:{loading:false,modalShow:false,selectedRecord:{},loadEsign:false,openModal:false}});};}export function getReleasedFilterStatus(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/getReleaseConfigVersionRegTemplateDesign\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{RegSubTypeValue:inputData.RegSubTypeValue}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleasedDataDetails(inputParam,isServiceRequired){return function(dispatch){var inputParamData={dfrom:inputParam.inputData.dfrom,dto:inputParam.inputData.dto,nsampletypecode:inputParam.inputData.nsampletypecode,nregtypecode:inputParam.inputData.nregtypecode,nregsubtypecode:inputParam.inputData.nregsubtypecode,ntransactionstatus:inputParam.inputData.ntransactionstatus,nsectioncode:inputParam.inputData.nsectioncode,ntestcode:inputParam.inputData.ntestcode,napprovalversioncode:inputParam.inputData.napprovalversioncode,napprovalconfigcode:inputParam.inputData.napprovalconfigcode,userinfo:inputParam.inputData.userinfo,nneedsubsample:inputParam.inputData.nneedsubsample,// ncoaparentcode: inputParam.ncoaparentcode,\nncoaparentcode:inputParam.releaseno?inputParam.releaseno.map(function(item){return item.ncoaparentcode;}).join(\",\"):\"-1\",npreregno:inputParam.npreregno,ncoareporttypecode:inputParam.inputData.ncoareporttypecode,isneedsection:inputParam.inputData.isneedsection,ndesigntemplatemappingcode:inputParam.masterData.ndesigntemplatemappingcode,isAddPopup:false};dispatch(initRequest(true));rsapi.post(\"release/getReleaseSample\",inputParamData).then(function(response){var responseData=_objectSpread({},response.data);// responseData = sortData(responseData)\nvar masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,showFilter:false,expandCheck:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getApprovedProjectByProjectType(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/getApprovedProjectByProjectType\",inputData).then(function(response){var projectMasterMap=constructOptionList(response.data.projectMasterList||[],\"nprojectmastercode\",\"sprojectcode\",undefined,undefined,false);var projectMasterList=projectMasterMap.get(\"OptionList\");var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{projectMasterList:projectMasterList,masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{ReleaseSample:[]}),// selectedRecord: {},\nloading:false,expandCheck:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getApprovedProjectType(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/getApprovedProjectType\",inputData).then(function(response){var projectTypeMap=constructOptionList(response.data||[],\"nprojecttypecode\",\"sprojecttypename\",undefined,undefined,false);var ProjectTypeList=projectTypeMap.get(\"OptionList\");//     const projectMasterMap = constructOptionList(response.data || [], \"nprojecttypecode\",\n//     \"sprojecttypename\", undefined, undefined, false);\n// const projectMasterList = projectMasterMap.get(\"OptionList\");\nvar responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{ProjectTypeList:ProjectTypeList,masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{ProjectTypeValue:inputData.ProjectTypeValue}),loading:false,expandCheck:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getSectionForSectionWise(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/getSection\",inputData.inputData).then(function(response){var sectionMap=constructOptionList(response.data.sectionList||[],\"nsectioncode\",\"ssectionname\",undefined,undefined,false);var sectionList=sectionMap.get(\"OptionList\");var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{sectionList:sectionList,masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{ReleaseSample:[]}),loading:false,expandCheck:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReportForPortal(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/SendToPortalReport\",inputData).then(function(response){if(response.data[\"rtn\"]){toast.warn(response.data.rtn);}dispatch({type:DEFAULT_RETURN,payload:{loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}function UpdateExternalOrderStatus(portallist,inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(String(inputParam[\"url\"])+\"/portal/UpdateMultiSampleStatus\",JSON.stringify(portallist),{headers:{'Content-Type':'application/json'}}).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response!==undefined&&error.response.status===500){toast.error(error.message);}else if(error.response===undefined){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getApprovedRecordsAsDraft(inputData,Data1,seletedRecord){return function(dispatch){if(inputData!==undefined&&inputData.npreregno!==\"\"){// ALPD-4229 (30-05-2024) Added searchRef to clear search text in search filter\nvar searchRef=inputData.searchRef;delete inputData.searchRef;dispatch(initRequest(true));return rsapi.post(\"release/saveRelease\",inputData).then(function(response){if(response.data.rtn===\"Success\"){//SearchRef undefined issue fixed - L.Subashini\nif(searchRef!==undefined)searchRef.current.value=\"\";var masterData=_objectSpread(_objectSpread(_objectSpread({},Data1),response.data),{},{searchedData:undefined});delete seletedRecord.nreporttemplatecode;seletedRecord[\"nisarnowiserelease\"]=transactionStatus.NO;sortData(masterData.ReleaseHistory,\"\",'ncoaparentcode');dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,change:inputData.change,loading:false,loadEsign:false,openModal:false,expandCheck:false,slideOutClose:true// ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\n}});}else{toast.warn(response.data.rtn);dispatch({type:DEFAULT_RETURN,payload:{//  masterData,\nchange:inputData.change,loading:false,// loadEsign: false,\n//openModal: false,\nslideOutClose:false,expandCheck:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);//  console.log(\"ErrorRelease,\", error);\n}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_SELECTANYONESAMPLE\"}));}};}export function preliminaryReport(inputParam,Data,screenName){return function(dispatch){dispatch(initRequest(true));// const inputData = {\n//     npreregno: inputParam.npreregno,\n//  //   nsectioncode: inputParam.nsectioncode || -1,\n//     userinfo: inputParam.userinfo,\n//     nprimarykey: inputParam.npreregno,\n//     nreporttypecode: REPORTTYPE.COAREPORT,\n//     sprimarykeyname: \"npreregno\",\n//     ncontrolcode: inputParam.ncontrolCode,\n//     nregtypecode: inputParam.nregtypecode,\n//     nregsubtypecode: inputParam.nregsubtypecode,\n//     ntransactiontestcode:inputParam.ntransactiontestcode,\n//     napproveconfversioncode: inputParam.napprovalversioncode,\n//     ncoaparentcode: inputParam.ncoaparentcode,\n//     ntransactionstatus:inputParam.ntransactionstatus\n// }\n// rsapi.post(\"release/generateReleasedReport\", inputParam.inputData)\nrsapi.post(\"release/preliminaryRegenerateReport\",inputParam.inputData).then(function(response){// ALPD-4229 (30-05-2024) Added code when search and do action\nvar searchedData=Data.searchedData;if(Data.searchedData&&Data.searchedData!==undefined&&Data.searchedData.length>0){searchedData=response.data&&response.data.ReleaseHistory&&getSameRecordFromTwoArrays(response.data.ReleaseHistory,Data.searchedData,\"ncoaparentcode\");}sortData(searchedData,'','ncoaparentcode');// ALPD-4229 (12-06-2024) Added sortData for searchedData\nvar masterData=_objectSpread(_objectSpread(_objectSpread({},Data),response.data),{},{searchedData:searchedData});sortData(masterData.ReleaseHistory,\"\",'ncoaparentcode');//Added by sonia on 18-08-2024 for JIRA ID:4716\nif(response.data.rtn===\"Success\"){if(inputParam.inputData.newTabReport){var value=\"\";value=response.data[\"reportViewURL\"];var win=window.open(value);if(win){win.focus();}else{intl.warn('IDS_PLEASEALLOWPOPUPSFORTHISWEBSITE');}}else{document.getElementById(\"download_data\").setAttribute(\"href\",response.data.filepath);document.getElementById(\"download_data\").click();}}else{toast.warn(response.data.rtn);}dispatch({type:DEFAULT_RETURN,payload:{loading:false,change:inputParam.change,masterData:masterData,screenName:screenName,modalShow:false,selectedRecord:{},loadEsign:false,openModal:inputParam.inputData.openModal}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data['rtn']);}});};}export function previewAndFinalReport(inputParam,Data,screenName){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/preliminaryRegenerateReport\",inputParam.inputData).then(function(response){var masterData=_objectSpread(_objectSpread({},Data),response.data);//Added by sonia on 18-08-2024 for JIRA ID:4716 \nif(response.data.rtn===\"Success\"){if(inputParam.inputData.action=='Regenerate'){document.getElementById(\"download_data\").setAttribute(\"href\",response.data.filepath);document.getElementById(\"download_data\").click();}else{if(inputParam.inputData.newTabReport){if(response.data.filetype==='jrxml'){var value=\"\";value=response.data[\"reportViewURL\"];var win=window.open(value);if(win){win.focus();}else{intl.warn('IDS_PLEASEALLOWPOPUPSFORTHISWEBSITE');}}else if(response.data.filetype==='mrt'){if(response.data.sourceparameter!=undefined&&response.data.sourceparameter!=\"\"){var mrtfilePath=reportUrl()+\"?name=\"+inputParam.inputData.userinfo.sreportingtoolfilename//en-xml\n+\"&slanguagetypecode=\"+inputParam.inputData.userinfo.sreportlanguagecode//en-us\n+\"&foldername=\"+response.data.folderName//\"Quotation-002\"//this.props.Login.masterData.SelectedReportDetails.sreportname\n+\"&filename=\"+response.data.FILEName//\"a6008692-3e1a-422b-b4da-5e9ad9cf3be6.mrt\"//\"b701dbc4-d90e-4840-b8e1-942649d6ec25.mrt\"//this.props.Login.masterData.SelectedReportDetails.ssystemfilename\n+\"&sconnectionstring=\"+inputParam.inputData.userinfo.sconnectionString+\"&sreportlink=\"+response.data.sreportlink//inputParam.sreportlink //\"//localhost:8090/SharedFolder/QuaLISjrxml\"//this.props.Login.reportSettings[15] //this.props.Login.userInfo.sreportLink  \n+\"&smrttemplatelink=\"+response.data.smrttemplatelink//inputParam.smrttemplatelink //\"//localhost:8090//SharedFolder//ReportJSON//ReportTemplate.json\"//this.props.Login.reportSettings[16]//this.props.Login.userInfo.smrttemplateLink\n+\"&sourceparameter=\"+encodeURIComponent(JSON.stringify(response.data.sourceparameter));//JSON.stringify(response[0].data.sourceparameter)\n//console.log(\"path:\",mrtfilePath);\nwindow.open(mrtfilePath);}}}else{//if(inputParam.inputData.generateReport || inputParam.inputData.action == 'Regenerate')\n//{                        \ndocument.getElementById(\"download_data\").setAttribute(\"href\",response.data.filepath);document.getElementById(\"download_data\").click();// }\n}}}else{toast.warn(response.data.rtn);}dispatch({type:DEFAULT_RETURN,payload:{loading:false,change:inputParam.change,masterData:masterData,screenName:screenName,modalShow:false,selectedRecord:{},loadEsign:false,openModal:inputParam.inputData.openModal}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data['rtn']);}});};}export function getRemoveApprovedSample(inputParam,ncontrolCode){return function(dispatch){if(inputParam.masterData&&inputParam.masterData.selectedReleaseHistory&&inputParam.masterData.selectedReleaseHistory.length>1){toast.warn(intl.formatMessage({id:\"IDS_MULTISELECTAPPLICABLEONLYFORRELEASEACTION\"}));}else{var urlArray=[];inputParam.inputData['isPopup']=true;if(inputParam.inputData['allowAppendRemoveSamples']===transactionStatus.YES){// if(inputParam.inputData['allowAppendRemoveSamples'] === transactionStatus.YES && \n// (inputParam.inputData['nneedsubsample'] === false || \n// (inputParam.inputData['nneedsubsample'] === true && inputParam.inputData['ncoaparenttranscode'] === transactionStatus.DRAFT))){\nvar releaseSample=rsapi.post(\"release/getReleaseSample\",inputParam.inputData);//  const reportType = rsapi.post(\"release/getCOAReportType\", { userinfo: inputParam.inputData.userinfo });\n// const projectType = rsapi.post(\"release/getApprovedProjectType\", inputParam.inputData);\nvar statusService=rsapi.post(\"release/getStatusAlert\",inputParam.inputData);urlArray=[releaseSample,statusService//,reportType\n];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){if(response[1].data.Status===\"Success\"){var _payload;var masterData={};var selectedRecord=inputParam.inputData.selectedRecord;var responseData=_objectSpread({},response[0].data);masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);// responseData = sortData(responseData)\nsortData(masterData);dispatch({type:DEFAULT_RETURN,payload:(_payload={masterData:masterData,// selectedRecord,\nisDeletePopup:true,isComboCheck:true,isEditPopup:false,ncontrolCode:ncontrolCode,loading:false,showFilter:false,openModal:true,isAddPopup:false,operation:\"delete\"},_defineProperty(_payload,\"ncontrolCode\",inputParam.inputData.ncontrolCode),_defineProperty(_payload,\"expandCheck\",false),_defineProperty(_payload,\"screenName\",inputParam.inputData.screenName),_defineProperty(_payload,\"slideOutClose\",false),_payload)});}else{toast.warn(intl.formatMessage({id:response[1].data.ValidationStatus}));dispatch({type:DEFAULT_RETURN,payload:{ncontrolCode:ncontrolCode,loading:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});// } else if(inputParam.inputData['allowAppendRemoveSamples'] === transactionStatus.NO || \n//     (inputParam.inputData['allowAppendRemoveSamples'] === transactionStatus.YES && inputParam.inputData['ncoaparenttranscode'] !== transactionStatus.DRAFT)){\n//         toast.warn(intl.formatMessage({ id: \"IDS_SAMPLESARENOTALLOWEDTODELETE\" }));\n}else{toast.warn(intl.formatMessage({id:\"IDS_SAMPLESARENOTALLOWEDTODELETE\"}));dispatch({type:DEFAULT_RETURN,payload:{loading:false}});// toast.warn(intl.formatMessage({ id: \"IDS_SAMPLESARENOTALLOWEDTODELETE\" })+ \" \"+ intl.formatMessage({ id: \"IDS_FOR\" })+ \" \"+ inputParam.inputData['sregsubtypename']);\n}}};}export function getDeleteApprovedSample(inputData,Data1){return function(dispatch){if(inputData!==undefined&&inputData.npreregno!==\"\"){// ALPD-4229 (12-06-2024) Deleted searchRef from inputData\ndelete inputData.searchRef;dispatch(initRequest(true));return rsapi.post(\"release/deleteRelease\",inputData).then(function(response){if(response.data.rtn===\"Success\"){var masterData=_objectSpread(_objectSpread({},Data1),response.data);sortData(masterData.ReleaseHistory,\"\",'ncoaparentcode');dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,change:inputData.change,loading:false,loadEsign:false,openModal:false,expandCheck:false,slideOutClose:true// ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\n}});}else{toast.warn(response.data.rtn);dispatch({type:DEFAULT_RETURN,payload:{//    masterData,\nchange:inputData.change,loading:false,// loadEsign: false,\n// openModal: false,\nexpandCheck:false,slideOutClose:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);//  console.log(\"ErrorRelease,\", error);\n}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_SELECTANYONESAMPLE\"}));}};}//Added by sonia on 11-06-2024 for JIRA ID:4122 Sample Count Validation\nexport function validationforAppendSamples(inputParam,ncontrolCode){return function(dispatch){if(inputParam.masterData&&inputParam.masterData.selectedReleaseHistory&&inputParam.masterData.selectedReleaseHistory.length>1){toast.warn(intl.formatMessage({id:\"IDS_MULTISELECTAPPLICABLEONLYFORRELEASEACTION\"}));}else{var urlArray=[];var sampleCountValidation=rsapi.post(\"release/sampleCountValidation\",inputParam.inputData);urlArray=[sampleCountValidation];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){if(response[0].data.rtn===\"Success\"){dispatch(getEditApprovedSample(inputParam,ncontrolCode));}else{toast.warn(intl.formatMessage({id:\"IDS_MAXIMUMSAMPLESAPPENDED\"}));dispatch({type:DEFAULT_RETURN,payload:{ncontrolCode:ncontrolCode,loading:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}};}//Modified by sonia on 11-06-2024 for JIRA ID:4122 Sample Count Validation\nexport function getEditApprovedSample(inputParam,ncontrolCode){return function(dispatch){var urlArray=[];inputParam.inputData['isPopup']=true;if(inputParam.inputData['allowAppendRemoveSamples']===transactionStatus.YES){// const sampleCountValidation = rsapi.post(\"release/sampleCountValidation\", inputParam.inputData);\nvar releaseSample=rsapi.post(\"release/getReleaseSample\",inputParam.inputData);//  const reportType = rsapi.post(\"release/getCOAReportType\", { userinfo: inputParam.inputData.userinfo });\n//  const projectType = rsapi.post(\"release/getApprovedProjectType\", inputParam.inputData);\nvar statusService=rsapi.post(\"release/getStatusAlert\",inputParam.inputData);// const projectStatus = rsapi.post(\"release/getProjectBasedAlert\", inputParam.inputData);\nvar testList=rsapi.post(\"release/getTest\",inputParam.inputData);var sectionType=rsapi.post(\"release/getSection\",inputParam.inputData);// if (inputParam.inputData.ncoareporttypecode === 7) {\n//     urlArray = [ projectType,statusService];\n// }\n// else if (inputParam.inputData.ncoareporttypecode === 8) {\n//     urlArray = [ releaseSample,statusService];\n// }\n// else {\nurlArray=[releaseSample,statusService,testList,sectionType//,reportType\n];if(inputParam.DynamicReportFilterTypeItem&&inputParam.DynamicReportFilterTypeItem.length>0){var itemList=[];inputParam.DynamicReportFilterTypeItem.map(function(x){if(x[designProperties.LISTITEM]===\"combo\"){itemList.push({\"Pkey\":x[designProperties.PRIMARYKEY],\"nquerybuildertablecode\":x[designProperties.QUERYBUILDERTABLECODE],\"tablename\":x[designProperties.TABLENAME],\"columnname\":x[designProperties.COLUMNNAME],\"keyName\":x[designProperties.VALUE],\"isMultiLingual\":x[designProperties.MULTILINGUAL],\"languageTypeCode\":inputParam.inputData.userinfo.slanguagetypecode,\"recordType\":x[designProperties.RECORDTYPE]});}});inputParam[\"inputData\"][\"itemList\"]=itemList;var reportFilterType=rsapi.post(\"release/getComboValues\",_objectSpread(_objectSpread({},inputParam.inputData),{},{'userInfo':inputParam.inputData.userinfo}));urlArray.push(reportFilterType);}// }\ndispatch(initRequest(true));Axios.all(urlArray).then(function(response){// const reportTypeMap = constructOptionList(response[1].data.ReportType || [], \"ncoareporttypecode\",\n//     \"scoareporttypename\", undefined, undefined, false);\n// const ReportTypeList = reportTypeMap.get(\"OptionList\");                   \nif(response[1].data.Status===\"Success\"){var ProjectTypeList=[];var sectionList=[];var comboValues={};var sectionvalue=[];var sectionTypeMap=constructOptionList(response[3].data.sectionList||[],\"nsectioncode\",\"ssectionname\",undefined,undefined,false);sectionList=sectionTypeMap.get(\"OptionList\");sectionList.map(function(x){return sectionvalue.push({\"value\":x.value,\"title\":x.label});});var testListMap=response[2]&&response[2].data;var combovaluesListMap=response[4]&&response[4].data;var comboValueList=_objectSpread(_objectSpread({},testListMap),combovaluesListMap)||{};comboValues=_objectSpread({\"s.nsectioncode\":sectionvalue},comboValueList);// let selectedRecord = {\"ncoareporttypecode\": {\n//     \"value\": response[1].data.ReportType[0].ncoareporttypecode,\n//      \"label\": response[1].data.ReportType[0].scoareporttypename\n// }\n// };\nvar masterData={};var openModal=true;var selectedRecord=inputParam.inputData.selectedRecord;if(response[0].data&&response[0].data.ReleaseSample.length!==0){var responseData=_objectSpread({},response[0].data);masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);}else{var _responseData2=_objectSpread({},response[0].data);masterData=_objectSpread(_objectSpread({},inputParam.masterData),_responseData2);openModal=false;toast.warn(intl.formatMessage({id:\"IDS_NOSAMPLESAREAVAILABLE\"}));}// responseData = sortData(responseData)\nvar awesomeTree;var filterquery;var fields=getFilterConditionsBasedonDataType(inputParam.extractedColumnList,comboValues);if(inputParam.DynamicDefaultStructureItem&&inputParam.DynamicDefaultStructureItem.nsampletypecode===inputParam.inputData.nsampletypecode&&inputParam.DynamicDefaultStructureItem.nregtypecode===inputParam.inputData.nregtypecode&&inputParam.DynamicDefaultStructureItem.nregsubtypecode===inputParam.inputData.nregsubtypecode){awesomeTree=inputParam.DynamicDefaultStructureItem&&inputParam.DynamicDefaultStructureItem.awesomeTree&&checkTree(loadTree(inputParam.DynamicDefaultStructureItem.awesomeTree),inputParam.DynamicDefaultStructureItem.awesomeConfig);filterquery=inputParam.DynamicDefaultStructureItem.filterquery;}else{awesomeTree=undefined;}sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,// selectedRecord,\nsectionList:sectionList,ncontrolCode:inputParam.inputData.ncontrolCode,isDeletePopup:false,isComboCheck:false,isEditPopup:true,ProjectTypeList:ProjectTypeList,loading:false,showFilter:false,openModal:openModal,isAddPopup:false,operation:\"append\",expandCheck:false,screenName:inputParam.inputData.screenName,sectionvalue:sectionvalue,comboValues:comboValues,awesomeTree:awesomeTree,filterquery:filterquery,fields:fields,screenNameCopy:inputParam.inputData.screenName,slideOutClose:false// ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\n}});}else{toast.warn(intl.formatMessage({id:response[1].data.ValidationStatus}));dispatch({type:DEFAULT_RETURN,payload:{ncontrolCode:ncontrolCode,loading:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});// }  else if(inputParam.inputData['allowAppendRemoveSamples'] === transactionStatus.NO || \n// (inputParam.inputData['allowAppendRemoveSamples'] === transactionStatus.YES && inputParam.inputData['ncoaparenttranscode'] !== transactionStatus.DRAFT)){\n//     toast.warn(intl.formatMessage({ id: \"IDS_SAMPLESARENOTALLOWEDTODELETE\" }));\n}else{toast.warn(intl.formatMessage({id:\"IDS_SAMPLESARENOTALLOWEDTODELETE\"}));dispatch({type:DEFAULT_RETURN,payload:{loading:false}});// toast.warn(intl.formatMessage({ id: \"IDS_SAMPLESARENOTALLOWEDTODELETE\" })+ \" \"+ intl.formatMessage({ id: \"IDS_FOR\" })+ \" \"+ inputParam.inputData['sregsubtypename']);\n}};}export function UpdateApprovedSample(inputData,Data1){return function(dispatch){if(inputData!==undefined&&inputData.npreregno!==\"\"){// ALPD-4229 (12-06-2024) Deleted searchRef from inputData\ndelete inputData.searchRef;dispatch(initRequest(true));return rsapi.post(\"release/appendRelease\",inputData).then(function(response){if(response.data.rtn===\"Success\"){var masterData=_objectSpread(_objectSpread({},Data1),response.data);sortData(masterData.ReleaseHistory,\"\",'ncoaparentcode');dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,change:inputData.change,loading:false,loadEsign:false,openModal:false,expandCheck:false,slideOutClose:true// ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\n}});}else{toast.warn(response.data.rtn);dispatch({type:DEFAULT_RETURN,payload:{//  masterData,\nchange:inputData.change,loading:false,//loadEsign: false,\n// openModal: false,\nslideOutClose:false,expandCheck:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);// console.log(\"ErrorRelease,\", error);\n}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_SELECTANYONESAMPLE\"}));}};}export function getreportcomments(inputData,Data){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/getreportcomments\",inputData).then(function(response){var masterData=_objectSpread(_objectSpread({},Data),response.data);dispatch({type:DEFAULT_RETURN,payload:{loading:false,change:inputData.change,masterData:masterData,screenName:\"IDS_REPORTINFOCOMMENT\",openModal:true,selectedRecord:{},loadEsign:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function fetchReportInfoReleaseById(editParam){return function(dispatch){var additionalInfo=[];var inputParamData={nreportinforeleasecode:editParam.editRow.nreportinforeleasecode,userinfo:editParam.userInfo};dispatch(initRequest(true));rsapi.post(\"release/getActiveReportInfoReleaseById\",inputParamData).then(function(response){// const parameterResults = response.data.ReleaseParameter\nvar selectedId=editParam.editRow.nreportinforeleasecode;var selectedComment=_objectSpread({},response.data);var masterData=_objectSpread(_objectSpread({},editParam.masterData),{},{selectedComment:selectedComment});dispatch({type:DEFAULT_RETURN,payload:{screenName:\"IDS_REPORTINFOCOMMENTS\",selectedId:selectedId,masterData:masterData,//isParameterInitialRender: true,\nloading:false,openModal:true,// modalShow: true,\nReportmodalShow:true,operation:\"update\",modalTitle:intl.formatMessage({id:\"IDS_COMMENTS\"})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});//}\n};}export function UpdateReportComments(userInfo,Data1,inputData){var inputParamData={selectedComment:Data1.selectedComment,userinfo:userInfo};return function(dispatch){//if (inputData !== undefined &&inputData.npreregno!==\"\") {\ndispatch(initRequest(true));return rsapi.post(\"release/updateReportComment\",inputParamData).then(function(response){var masterData=_objectSpread(_objectSpread(_objectSpread({},Data1),response.data),{},{selectedComment:{}});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,screenName:\"IDS_REPORTINFOCOMMENT\",loading:false,openModal:true,expandCheck:false,modalShow:false,ReportmodalShow:false,isComboCheck:true}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);// console.log(\"ErrorRelease,\", error);\n}else{toast.warn(error.response.data);}});// }\n// else {\n//     toast.warn(intl.formatMessage({\n//         id: \"IDS_SELECTANYONESAMPLE\"\n//     }));\n//}\n};}export function getResultCorrectionData(inputParam,ncontrolCode){return function(dispatch){if(inputParam.masterData&&inputParam.masterData.selectedReleaseHistory&&inputParam.masterData.selectedReleaseHistory.length>1){toast.warn(intl.formatMessage({id:\"IDS_MULTISELECTAPPLICABLEONLYFORRELEASEACTION\"}));}else{var urlArray=[];inputParam.inputData['isPopup']=true;var resultCorrection=rsapi.post(\"release/getResultCorrection\",inputParam.inputData);//  const reportType = rsapi.post(\"release/getCOAReportType\", { userinfo: inputParam.inputData.userinfo });\n// const projectType = rsapi.post(\"release/getApprovedProjectType\", inputParam.inputData);\nvar statusService=rsapi.post(\"release/getStatusAlert\",inputParam.inputData);urlArray=[resultCorrection,statusService//,reportType\n];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){if(response[1].data.Status===\"Success\"){var _payload2;var masterData={};var selectedRecord=inputParam.inputData.selectedRecord;var responseData=_objectSpread({},response[0].data);masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:(_payload2={masterData:masterData,// selectedRecord,\nisDeletePopup:true,isComboCheck:true,isEditPopup:false,loadEsign:false,ncontrolCode:ncontrolCode,loading:false,showFilter:false,openModal:true,isCorrectionNeed:true,isAddPopup:false,operation:\"delete\"},_defineProperty(_payload2,\"ncontrolCode\",inputParam.inputData.ncontrolCode),_defineProperty(_payload2,\"expandCheck\",false),_defineProperty(_payload2,\"hideSave\",true),_defineProperty(_payload2,\"screenName\",inputParam.inputData.screenName),_payload2)});}else{toast.warn(intl.formatMessage({id:response[1].data.ValidationStatus}));dispatch({type:DEFAULT_RETURN,payload:{ncontrolCode:ncontrolCode,loading:false,expandCheck:false,loadEsign:false,openModal:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}};}export function fetchParameterById(editParam){return function(dispatch){var additionalInfo=[];var inputParamData={ntransactionresultcode:editParam.primaryKeyValue,userinfo:editParam.userInfo};dispatch(initRequest(true));rsapi.post(\"release/getReleaseResults\",inputParamData).then(function(response){var selectedResultGrade=[];var paremterResultcode=[];var parameterResults=response.data.ReleaseParameter;var predefDefaultFlag=false;parameterResults.map(function(param,index){selectedResultGrade[index]={ngradecode:param.ngradecode};paremterResultcode[index]=param.ntransactionresultcode;var jsondata=JSON.parse(param.jsondata['value']);if(jsondata.hasOwnProperty('additionalInfo')){additionalInfo[param.ntransactionresultcode]=jsondata['additionalInfo'];}predefDefaultFlag=false;response.data.PredefinedValues&&response.data.PredefinedValues[parameterResults[index].ntransactionresultcode]&&response.data.PredefinedValues[parameterResults[index].ntransactionresultcode].map(function(predefinedvalue){// if (predefinedvalue.ndefaultstatus === transactionStatus.YES) {\n//     if (!predefDefaultFlag) {\n//         predefDefaultFlag = true;\n//         response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] = constructOptionList(response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] || [], 'sresultpredefinedname', 'sresultpredefinedname', undefined,\n//             undefined, undefined).get(\"OptionList\");\n//     }\n// response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] =\n//     constructOptionList(response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] || [], 'spredefinedname', 'spredefinedname', undefined,\n//         undefined, undefined).get(\"OptionList\");\n//     if (response.data.ResultParameter[index].sresult === null) {\n//         response.data.ResultParameter[index].sresult = predefinedvalue.spredefinedname;\n//         response.data.ResultParameter[index].sresultpredefinedname = predefinedvalue.sresultpredefinedname;\n//         response.data.ResultParameter[index].sfinal = predefinedvalue.spredefinedsynonym;\n//         response.data.ResultParameter[index].editable = true;\n//         response.data.ResultParameter[index].ngradecode = predefinedvalue.ngradecode;\n//         if(predefinedvalue.spredefinedcomments&&predefinedvalue.spredefinedcomments!==null){\n//             response.data.ResultParameter[index].sresultcomment = predefinedvalue.spredefinedcomments\n//             &&predefinedvalue.spredefinedcomments;\n//         }\n//     }\n// }\n//  else {\nif(!predefDefaultFlag){predefDefaultFlag=true;response.data.PredefinedValues[parameterResults[index].ntransactionresultcode]=constructOptionList(response.data.PredefinedValues[parameterResults[index].ntransactionresultcode]||[],'sresultpredefinedname','sresultpredefinedname',undefined,undefined,undefined).get(\"OptionList\");}//   }\n//return null;\n});//Modified by sonia on 6th Aug 2024 for JIRA ID: ALPD-4566\nif(parameterResults[index][\"nparametertypecode\"]==1){parameterResults[index][\"resultaccuracycode\"]={\"value\":parameterResults[index][\"nresultaccuracycode\"],\"label\":parameterResults[index][\"sresultaccuracyname\"]};//Modified by sonia on 6th Aug 2024 for JIRA ID: ALPD-4566\nparameterResults[index][\"unitcode\"]={\"value\":parameterResults[index][\"nunitcode\"],\"label\":parameterResults[index][\"sunitname\"]};}param['editable']=false;//return null;\n// response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] =  constructOptionList(response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] || [], 'spredefinedname', 'spredefinedname', undefined,\n// undefined, undefined).get(\"OptionList\");\nparameterResults[index]=_objectSpread(_objectSpread({},parameterResults[index]),jsondata);});var ResultAccuracyList=constructOptionList(response.data[\"ResultAccuracy\"]||[],\"nresultaccuracycode\",\"sresultaccuracyname\",undefined,undefined,false);var ResultAccuracy=ResultAccuracyList.get(\"OptionList\");var UnitList=constructOptionList(response.data[\"Unit\"]||[],\"nunitcode\",\"sunitname\",undefined,undefined,false);var Unit=UnitList.get(\"OptionList\");//ALPD-4387\nvar formFields=[];if(response.data.FormFields&&response.data.FormFields.length>0){var formFieldJSON=JSON.parse(response.data.FormFields[0].jsondata['value']);Object.entries(formFieldJSON).map(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return formFields.push(value);});}dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},editParam.masterData),response.data),{},{paremterResultcode:paremterResultcode,//,\nselectedResultGrade:selectedResultGrade,ResultAccuracy:ResultAccuracy,Unit:Unit,formFields:formFields}),selectedRecord:{additionalInfo:additionalInfo.length>0?additionalInfo:[],selectedResultGrade:selectedResultGrade,ReleaseParameter:response.data.ReleaseParameter},parameterResults:response.data.ReleaseParameter,isParameterInitialRender:true,loading:false,// screenName: \"IDS_RESULTENTRY\",\nopenModal:true,modalShow:true,operation:\"update\",modalTitle:intl.formatMessage({id:\"IDS_CHANGERESULT\"}),selectedId:editParam.primaryKeyValue,//activeTestKey: \"IDS_RESULTS\",\nncontrolcode:editParam.editResultId}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});//}\n};}export function updateCorrectionStatus(inputData,Data,screenname){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"release/updateCorrectionStatus\",inputData).then(function(response){if(response.data.rtn===\"Success\"){// ALPD-4229 (30-05-2024) Added code when search and do action\nvar searchedData=Data.searchedData;if(Data.searchedData&&Data.searchedData!==undefined&&Data.searchedData.length>0){searchedData=response.data&&response.data.ReleaseHistory&&getSameRecordFromTwoArrays(response.data.ReleaseHistory,Data.searchedData,\"ncoaparentcode\");}sortData(searchedData,'','ncoaparentcode');// ALPD-4229 (12-06-2024) Added sortData for searchedData\nvar masterData=_objectSpread(_objectSpread(_objectSpread({},Data),response.data),{},{searchedData:searchedData});sortData(masterData.ReleaseHistory,\"\",'ncoaparentcode');dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,change:inputData.change,openModal:false,loading:false,loadEsign:false,screenName:screenname}});}else{dispatch({type:DEFAULT_RETURN,payload:{// masterData,\n//  change: inputData.change,\nopenModal:false,loading:false,loadEsign:false//  screenName:screenname\n}});toast.warn(intl.formatMessage({id:response.data}));}// }\n}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);//  console.log(\"ErrorRelease,\", error);\n}else{toast.warn(error.response.data);}});};}export function validateEsignforRelease(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"login/validateEsignCredential\",inputParam.inputData).then(function(response){if(response.data===\"Success\"){var methodUrl=\"release\";inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"]=inputParam.inputData.userinfo;if(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()]&&inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]){delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignreason\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"];}//dispatch(inputParam[\"screenData\"][\"inputParam\"].performAction(inputParam[\"screenData\"][\"inputParam\"], inputParam[\"screenData\"][\"masterData\"]))\ndispatch(dispatchMethods(inputParam[\"screenData\"]));}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data);}});};}function dispatchMethods(screenData){return function(dispatch){var doAction=screenData.inputParam.inputData.doAction;switch(doAction){case\"appendsample\":dispatch(UpdateApprovedSample(screenData.inputParam.inputData,screenData.masterData));break;case\"removesample\":dispatch(getDeleteApprovedSample(screenData.inputParam.inputData,screenData.masterData,'openModal'));break;case\"generate\":dispatch(generateReleasedReport(screenData.inputParam.inputData,screenData.masterData));break;case\"download\":dispatch(previewAndFinalReport(screenData.inputParam,screenData.masterData));break;case\"correction\":dispatch(updateCorrectionStatus(screenData.inputParam.inputData,screenData.masterData,screenData.inputParam.inputData.screenName));break;case\"saveasdraft\":dispatch(getApprovedRecordsAsDraft(screenData.inputParam.inputData,screenData.masterData,screenData.seletedRecord));break;case\"editresult\":dispatch(crudMaster(screenData.inputParam,screenData.masterData,\"modalShow\"));break;case\"preliminary\":dispatch(preliminaryReport(screenData.inputParam,screenData.masterData));break;case\"editReleaseTestAttachment\":dispatch(onSaveReleaseTestAttachment(screenData.inputParam));break;case\"deleteReleaseTestAttachment\":dispatch(onDeleteReleaseTestAttachment(screenData.inputParam));break;case\"editReleaseTestComment\":dispatch(onSaveReleaseTestComment(screenData.inputParam));break;case\"deleteReleaseTestComment\":dispatch(onDeleteReleaseTestComment(screenData.inputParam));break;case\"editReportTemplate\":dispatch(SaveReportTemplate(screenData.inputParam));default:break;}};}export function viewReportHistory(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/viewReportHistory\",inputParam.inputData).then(function(response){var masterData=inputParam.masterData;var PatientReports=response.data.PatientReports;masterData=_objectSpread(_objectSpread({},masterData),{},{PatientReports:PatientReports});dispatch({type:DEFAULT_RETURN,payload:{isPatientReports:true,openModal:true,hideSave:true,isAddPopup:false,isEditPopup:false,isDeletePopup:false,masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data);}});};}export function viewReleaseTestAttachment(inputParam){return function(dispatch){dispatch(initRequest(true));var methodUrl=\"\";if(inputParam.inputData.actionName===\"IDS_RELEASETESTATTACHMENT\"){methodUrl=\"getReleaseTestAttachment\";}else{methodUrl=\"getReleaseTestComment\";}rsapi.post(\"release/\"+methodUrl,inputParam.inputData).then(function(response){var masterData=inputParam.masterData;var ReleaseTestAttachmentDetails=response.data.ReleaseTestAttachmentDetails;var ReleaseTestCommentDetails=response.data.ReleaseTestCommentDetails;var isReleaseTestAttachment=inputParam.inputData.actionName===\"IDS_RELEASETESTATTACHMENT\";var isReleaseTestComment=inputParam.inputData.actionName===\"IDS_RELEASETESTCOMMENT\";var lstRegistrationArno=constructOptionList(response.data.RegistrationArno||[],\"npreregno\",\"sarno\",false,false,true);var RegistrationArno=lstRegistrationArno.get(\"OptionList\");var lstRegistrationSampleArno=constructOptionList(response.data.RegistrationSampleArno||[],\"ntransactionsamplecode\",\"ssamplearno\",false,false,true);var RegistrationSampleArno=lstRegistrationSampleArno.get(\"OptionList\");var lstRegistrationTest=constructOptionList(response.data.RegistrationTest||[],\"ntransactiontestcode\",\"stestsynonym\",false,false,true);var RegistrationTest=lstRegistrationTest.get(\"OptionList\");var lstCommentSubType=constructOptionList(response.data.CommentSubType||[],\"ncommentsubtypecode\",\"scommentsubtype\",false,false,true);var CommentSubType=lstCommentSubType.get(\"OptionList\");masterData=_objectSpread(_objectSpread({},masterData),{},{ReleaseTestAttachmentDetails:ReleaseTestAttachmentDetails,ReleaseTestCommentDetails:ReleaseTestCommentDetails,RegistrationArno:RegistrationArno,RegistrationSampleArno:RegistrationSampleArno,RegistrationTest:RegistrationTest,CommentSubType:CommentSubType});dispatch({type:DEFAULT_RETURN,payload:{isReleaseTestAttachment:isReleaseTestAttachment,isReleaseTestComment:isReleaseTestComment,openModal:true,isAddPopup:false,isEditPopup:false,isDeletePopup:false,masterData:masterData,loading:false,isAddReleaseTestAttachment:false,isInitialRender:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data);}});};}// export function writeJSONTemplate(inputParam){ \n//     return function (dispatch) {    \n//         return rsapi.post(\"release/writeJSONTemplate\",\n//         { [inputParam.primaryKeyName] :inputParam.selectedReleaseHistory.ncoaparentcode , \n//             \"userinfo\": inputParam.userInfo}\n//     )\n//         .then(response => {\n//                 dispatch({\n//                     type: DEFAULT_RETURN, payload: {\n//                         loading: false,\n//                         openModal: false,\n//                         expandCheck: false,\n//                     }\n//                 });\n//         })\n//         .catch(error => {\n//             dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\n//             if (error.response.status === 500) {\n//                 toast.error(error.message);\n//             }\n//             else {\n//                 toast.warn(error.response.data);\n//             }\n//         })\n// }\n// }\nexport function releaseReportHistory(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"release/getPreliminaryReportHistory\",inputParam).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},inputParam.masterData),response.data),//hange: inputData.change,\nopenModal:true,loading:false,loadEsign:false,screenName:inputParam.screenName}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function versionHistory(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"release/getVersionHistory\",inputParam).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},inputParam.masterData),response.data),//hange: inputData.change,\nopenModal:true,loading:false,loadEsign:false,openModalTitle:\"IDS_VERSIONHISTORY\"}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function downloadVersionReport(inputParam,Data,screenName){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/downloadVersionHistory\",inputParam.inputData).then(function(response){var masterData=_objectSpread(_objectSpread({},Data),response.data);if(response.data.rtn===\"Success\"){document.getElementById(\"download_data\").setAttribute(\"href\",response.data.FilePath);document.getElementById(\"download_data\").click();}else{toast.warn(response.data.rtn);}dispatch({type:DEFAULT_RETURN,payload:{loading:false,change:inputParam.change,masterData:masterData,screenName:screenName,modalShow:false,selectedRecord:{},loadEsign:false,openModal:inputParam.inputData.openModal}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function downloadHistory(inputParam,Data,screenName){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/downloadHistory\",inputParam.inputData).then(function(response){var masterData=_objectSpread(_objectSpread({},Data),response.data);if(response.data.rtn===\"Success\"){document.getElementById(\"download_data\").setAttribute(\"href\",response.data.FilePath);document.getElementById(\"download_data\").click();}else{toast.warn(response.data.rtn);}dispatch({type:DEFAULT_RETURN,payload:{loading:false,change:inputParam.change,masterData:masterData,screenName:screenName,modalShow:false,selectedRecord:{},loadEsign:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data['rtn']);}});};}export function getPatientFilterExecuteData(inputParam){return function(dispatch){var obj=_objectSpread(_objectSpread({},inputParam.component),{},{filterquery:inputParam.filterquery,userinfo:inputParam.userinfo});dispatch(initRequest(true));rsapi.post(\"/dynamicpreregdesign/getdynamicfilterexecutedata\",obj).then(function(response){var source=inputParam.component.source;var languageTypeCode=inputParam.userinfo.slanguagetypecode;var lstData=response.data[inputParam.component.label];var multilingual=[];inputParam.component.filterfields.map(function(item){if(item.ismultilingual){multilingual.push(item.columnname);}});var optionList=lstData.map(function(item){var jsondata=item[source]?item[source].value?JSON.parse(item[source].value):item.jsondata:item.jsondata;multilingual.map(function(mul){jsondata[mul]=jsondata[mul][languageTypeCode]||jsondata[mul]['en-US'];});// let label = isMultiLingual ?\n//   jsondata[optionValue]\n//   [languageTypeCode] || jsondata[optionValue]['en-US']\n//   : jsondata[optionValue];\nreturn jsondata;});if(inputParam.userinfo.nformcode===161){dispatch({type:DEFAULT_RETURN,payload:{lstPatient:optionList,onExecute:false,loading:false,screenName:\"IDS_PATIENTSEARCH\"}});}else{dispatch({type:DEFAULT_RETURN,payload:{lstPatient:optionList,// onExecute: false,\nloading:false,screenName:\"IDS_PATIENTSEARCH\"}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data.rtn);}});};}export function getPatientWiseSample(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/getPatientWiseSample\",inputParam).then(function(response){var openModal=true;var screenName=\"IDS_ADDSAMPLE\";var responseData=_objectSpread({},response.data);var masterData={};var lstPatient=[];masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);if(responseData&&responseData.ReleaseSample.length!==0){var _responseData3=_objectSpread({},response.data);masterData=_objectSpread(_objectSpread({},inputParam.masterData),_responseData3);}else{var _responseData4=_objectSpread({},response.data);masterData=_objectSpread(_objectSpread({},inputParam.masterData),_responseData4);lstPatient=inputParam.Login.lstPatient;//openModal = false;\nscreenName=\"IDS_PATIENTSEARCH\";toast.warn(intl.formatMessage({id:\"IDS_NOSAMPLESAREAVAILABLE\"}));}sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{// awesomeTree:fieldList[0].awesomeTree,\nawesomeConfig:undefined,lstPatient:lstPatient,//lstPatient:[],\nkendoSkip:0,kendoTake:5,masterData:masterData,expandCheck:false,isDeletePopup:false,isComboCheck:false,isEditPopup:false,screenName:screenName,//\"IDS_ADDSAMPLE\",\nloading:false,showFilter:false,openModal:openModal,isAddPopup:true,operation:\"save\"}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function onSaveReleaseTestAttachment(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(inputParam.inputData.classUrl+\"/\"+inputParam.inputData.operation+inputParam.inputData.methodUrl,inputParam.inputData.formData).then(function(response){var ReleaseTestAttachmentDetails=response.data.ReleaseTestAttachmentDetails;var masterData=_objectSpread(_objectSpread({},inputParam.inputData.masterData),{},{ReleaseTestAttachmentDetails:ReleaseTestAttachmentDetails});var selectedRecord={};dispatch({type:DEFAULT_RETURN,payload:{selectedRecord:selectedRecord,isAddReleaseTestAttachment:false,isReleaseTestAttachment:true,loading:false,screenName:inputParam.inputData.screenName,masterData:masterData,isInitialRender:false,loadEsign:false,loadEsignStateHandle:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response&&error.response.status===500){toast.error(error.message);}else if(error.response===undefined){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function onDeleteReleaseTestAttachment(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(inputParam.inputData.url,{\"releasetestattachment\":inputParam.inputData.releasetestattachment,\"userinfo\":inputParam.inputData.userinfo}).then(function(response){var ReleaseTestAttachmentDetails=response.data.ReleaseTestAttachmentDetails;var selectedRecord=_objectSpread(_objectSpread({},inputParam.inputData.selectedRecord),response.data);var masterData=inputParam.inputData.masterData;masterData[\"ReleaseTestAttachmentDetails\"]=ReleaseTestAttachmentDetails;dispatch({type:DEFAULT_RETURN,payload:{selectedRecord:selectedRecord,isReleaseTestAttachment:true,loading:false,screenName:inputParam.inputData.screenName,masterData:masterData,loadEsignStateHandle:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response&&error.response.status===500){toast.error(error.message);}else if(error.response===undefined){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function onSaveReleaseTestComment(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(inputParam.inputData.classUrl+\"/\"+inputParam.inputData.operation+inputParam.inputData.methodUrl,inputParam.inputData.formData).then(function(response){var ReleaseTestCommentDetails=response.data.ReleaseTestCommentDetails;var masterData=_objectSpread(_objectSpread({},inputParam.inputData.masterData),{},{ReleaseTestCommentDetails:ReleaseTestCommentDetails});var selectedRecord={};dispatch({type:DEFAULT_RETURN,payload:{selectedRecord:selectedRecord,isAddReleaseTestComment:false,isReleaseTestComment:true,loading:false,screenName:inputParam.inputData.screenName,masterData:masterData,isInitialRender:false,loadEsignStateHandle:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response&&error.response.status===500){toast.error(error.message);}else if(error.response===undefined){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function onDeleteReleaseTestComment(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(inputParam.inputData.url,{\"releasetestcomment\":inputParam.inputData.releasetestcomment,\"userinfo\":inputParam.inputData.userinfo}).then(function(response){var ReleaseTestCommentDetails=response.data.ReleaseTestCommentDetails;var selectedRecord=_objectSpread(_objectSpread({},inputParam.inputData.selectedRecord),response.data);var masterData=inputParam.inputData.masterData;masterData[\"ReleaseTestCommentDetails\"]=ReleaseTestCommentDetails;dispatch({type:DEFAULT_RETURN,payload:{selectedRecord:selectedRecord,isReleaseTestComment:true,loading:false,screenName:inputParam.inputData.screenName,masterData:masterData,loadEsignStateHandle:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response&&error.response.status===500){toast.error(error.message);}else if(error.response===undefined){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function generatereport(inputParam,Data,screenName){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/generateReport\",inputParam.inputData).then(function(response){// let masterData = {\n//     ...Data,\n//     ...response.data,\n// }\n// if (response.data.rtn === \"Success\") {\n//     document.getElementById(\"download_data\").setAttribute(\"href\", response.data.FilePath);\n//     document.getElementById(\"download_data\").click();\n// } else {\n//     toast.warn(response.data.rtn);\n// }\ndispatch({type:DEFAULT_RETURN,payload:{loading:false,change:inputParam.change,screenName:screenName,modalShow:false,selectedRecord:{},loadEsign:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data['rtn']);}});};}export function editReportTemplate(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/getApprovedReportTemplateById\",inputParam.inputData).then(function(response){var responseData=response.data;var selectedRecord=inputParam.selectedRecord;selectedRecord[\"nreporttemplatecode\"]=responseData.nreporttemplatecode;var reportTemplateMap=constructOptionList(responseData.reportTemplateList||[],\"nreporttemplatecode\",\"sreporttemplatename\",\"nreporttemplatecode\",\"ascending\",false);var reportTemplateList=reportTemplateMap.get(\"OptionList\");var masterData=inputParam.masterData;masterData[\"reportTemplateList\"]=reportTemplateList;masterData[\"selectedReleaseHistory\"]=masterData.selectedReleaseHistory&&masterData.selectedReleaseHistory.length>0&&masterData.selectedReleaseHistory.filter(function(item){return item.ncoaparentcode===inputParam.ncoaparentcode;});dispatch({type:DEFAULT_RETURN,payload:{loading:false,masterData:masterData,screenName:intl.formatMessage({id:\"IDS_REPORTTEMPLATE\"}),modalTitle:intl.formatMessage({id:\"IDS_EDITREPORTTEMPLATE\"}),modalShow:true,loadEsign:false,selectedRecord:selectedRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function SaveReportTemplate(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/updateReportTemplate\",inputParam.inputData).then(function(response){var masterData=inputParam.masterData;// ALPD-4229 (30-05-2024) Added code when search and do action\nif(masterData.searchedData&&masterData.searchedData!==undefined&&masterData.searchedData.length>0){masterData.searchedData.map(function(item){if(item.ncoaparentcode===inputParam.inputData.ncoaparentcode){item[\"nreporttemplatecode\"]=inputParam.inputData.nreporttemplatecode;item[\"sreporttemplatename\"]=inputParam.inputData.sreporttemplatename;}});}masterData.selectedReleaseHistory[0][\"nreporttemplatecode\"]=inputParam.inputData.nreporttemplatecode;masterData.selectedReleaseHistory[0][\"sreporttemplatename\"]=inputParam.inputData.sreporttemplatename;masterData.ReleaseHistory.map(function(item){if(item.ncoaparentcode===inputParam.inputData.ncoaparentcode){item[\"nreporttemplatecode\"]=inputParam.inputData.nreporttemplatecode;item[\"sreporttemplatename\"]=inputParam.inputData.sreporttemplatename;}});delete inputParam.selectedRecord.nreporttemplatecode;dispatch({type:DEFAULT_RETURN,payload:{loading:false,masterData:masterData,modalShow:false,loadEsign:false,openModal:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function deleteSamples(inputParam,data){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"release/deleteSamples\",inputParam.inputData).then(function(response){// ALPD-4229 (30-05-2024) Added searchedData as undefined\ninputParam.searchRef.current.value=\"\";var masterData=_objectSpread(_objectSpread(_objectSpread({},data),response.data),{},{searchedData:undefined});sortData(masterData.ReleaseHistory,\"\",'ncoaparentcode');dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-512/QuaLISWeb/src/actions/ReleaseAction.js"],"names":["Axios","toast","intl","constructOptionList","replaceUpdatedObject","sortData","getFilterConditionsBasedonDataType","getSameRecordFromTwoArrays","designProperties","reportCOAType","REPORTTYPE","SampleType","transactionStatus","TrainingUpdateChildTab","rsapi","initRequest","DEFAULT_RETURN","crudMaster","getFieldSpecification","getFieldSpecification3","filterObjectForReactAwesomeFilter","fileViewUrl","reportUrl","Utils","QbUtils","checkTree","loadTree","getReleasedRegistrationType","inputData","dispatch","post","then","response","responseData","data","type","payload","masterData","SampleTypeValue","realSampleTypeList","realReportTypeList","realRegTypeList","realRegSubTypeList","realFilterStatusList","realApprovalVersionList","realDesignTemplateMappingList","loading","catch","error","status","message","warn","getReleasedRegistrationSubType","RegTypeValue","getReleasedFilterBasedTest","napprovalversioncode","RegSubTypeValue","ndesigntemplatemappingcode","DesignTemplateMappingValue","rtn","formatMessage","id","getReleasedApprovalVersion","inputParam","getReleasedSample","selectedRecordLogin","selectedRecordState","LoginData","urlArray","approvedReportTemplate","filteredSample","all","reportTemplateList","reportTemplateMap","get","nsectioncode","selectedRecord","slideOutClose","isClear","ReleaseSample","map","x","matchingItem","find","item","npreregno","selected","Object","values","ReleaseSubSample","flat","forEach","ntransactionsamplecode","ReleaseTest","ntransactiontestcode","undefined","nreporttemplatecode","showFilter","FilterQueryBuilder","screenName","awesomeTree","filterquery","fields","filterQueryTreeStr","getApprovedSample","ncontrolCode","realReportTypeValue","ncoareporttypecode","PATIENTWISE","fieldList","languageTypeCode","userinfo","slanguagetypecode","filterfields","gridColumns","awesomeConfig","ProjectTypeList","sectionList","openModal","seletedFilterComponent","lstPatient","kendoSkip","kendoTake","expandCheck","isDeletePopup","isComboCheck","isEditPopup","isAddPopup","operation","ismandatory","DynamicReportFilterTypeItem","releaseSample","projectType","sectionType","testList","length","itemList","LISTITEM","push","PRIMARYKEY","QUERYBUILDERTABLECODE","TABLENAME","COLUMNNAME","VALUE","MULTILINGUAL","RECORDTYPE","reportFilterType","sectionvalue","comboValues","sectionTypeMap","value","label","testListMap","isneedsection","YES","combovaluesListMap","comboValueList","extractedColumnList","DynamicDefaultStructureItem","nsampletypecode","nregtypecode","nregsubtypecode","screenNameCopy","generateReleasedReport","Data","preventtb","listStatus","CORRECTION","afterCorrection","modalShow","loadEsign","confirmMessage","confirm","cancelPopUp","searchedData","ReleaseHistory","newTabReport","filetype","win","window","open","focus","sourceparameter","mrtfilePath","sreportingtoolfilename","sreportlanguagecode","folderName","FILEName","sconnectionString","sreportlink","smrttemplatelink","encodeURIComponent","JSON","stringify","document","getElementById","setAttribute","filepath","click","change","getReleasedFilterStatus","getReleasedDataDetails","isServiceRequired","inputParamData","dfrom","dto","ntransactionstatus","ntestcode","napprovalconfigcode","nneedsubsample","ncoaparentcode","releaseno","join","getApprovedProjectByProjectType","projectMasterMap","projectMasterList","getApprovedProjectType","projectTypeMap","ProjectTypeValue","getSectionForSectionWise","sectionMap","getReportForPortal","UpdateExternalOrderStatus","portallist","String","headers","getApprovedRecordsAsDraft","Data1","seletedRecord","searchRef","current","NO","preliminaryReport","previewAndFinalReport","action","getRemoveApprovedSample","selectedReleaseHistory","statusService","Status","ValidationStatus","getDeleteApprovedSample","validationforAppendSamples","sampleCountValidation","getEditApprovedSample","UpdateApprovedSample","getreportcomments","fetchReportInfoReleaseById","editParam","additionalInfo","nreportinforeleasecode","editRow","userInfo","selectedId","selectedComment","ReportmodalShow","modalTitle","UpdateReportComments","getResultCorrectionData","resultCorrection","isCorrectionNeed","fetchParameterById","ntransactionresultcode","primaryKeyValue","selectedResultGrade","paremterResultcode","parameterResults","ReleaseParameter","predefDefaultFlag","param","index","ngradecode","jsondata","parse","hasOwnProperty","PredefinedValues","predefinedvalue","ResultAccuracyList","ResultAccuracy","UnitList","Unit","formFields","FormFields","formFieldJSON","entries","key","isParameterInitialRender","ncontrolcode","editResultId","updateCorrectionStatus","screenname","validateEsignforRelease","methodUrl","toLowerCase","dispatchMethods","info","screenData","doAction","onSaveReleaseTestAttachment","onDeleteReleaseTestAttachment","onSaveReleaseTestComment","onDeleteReleaseTestComment","SaveReportTemplate","viewReportHistory","PatientReports","isPatientReports","hideSave","viewReleaseTestAttachment","actionName","ReleaseTestAttachmentDetails","ReleaseTestCommentDetails","isReleaseTestAttachment","isReleaseTestComment","lstRegistrationArno","RegistrationArno","lstRegistrationSampleArno","RegistrationSampleArno","lstRegistrationTest","RegistrationTest","lstCommentSubType","CommentSubType","isAddReleaseTestAttachment","isInitialRender","releaseReportHistory","versionHistory","openModalTitle","downloadVersionReport","FilePath","downloadHistory","getPatientFilterExecuteData","obj","component","source","lstData","multilingual","ismultilingual","columnname","optionList","mul","nformcode","onExecute","getPatientWiseSample","Login","classUrl","formData","loadEsignStateHandle","url","releasetestattachment","isAddReleaseTestComment","releasetestcomment","generatereport","editReportTemplate","filter","sreporttemplatename","deleteSamples"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { intl } from \"../components/App\";\r\nimport { constructOptionList, replaceUpdatedObject, sortData ,getFilterConditionsBasedonDataType, getSameRecordFromTwoArrays} from \"../components/CommonScript\";\r\nimport { designProperties, reportCOAType, REPORTTYPE, SampleType, transactionStatus } from \"../components/Enumeration\";\r\nimport TrainingUpdateChildTab from \"../pages/competencemanagement/trainingupdate/TrainingUpdateChildTab\";\r\nimport rsapi from \"../rsapi\";\r\nimport { initRequest } from \"./LoginAction\";\r\nimport { DEFAULT_RETURN } from \"./LoginTypes\";\r\nimport { crudMaster } from \"./ServiceAction\";\r\nimport { getFieldSpecification as getFieldSpecification3 } from '../components/type3component/Type3FieldSpecificationList';\r\nimport { filterObjectForReactAwesomeFilter } from \"./RegistrationAction\";\r\nimport {fileViewUrl, reportUrl} from '../rsapi'\r\n\r\n// export function getReleasedSelectedSampleSubSampleTest(userInfo, Data1, inputData) {\r\n    import { Utils as QbUtils } from \"@react-awesome-query-builder/ui\";\r\n    const { checkTree, loadTree } = QbUtils;\r\n\r\n//     return function (dispatch) {\r\n//       if (inputData !== undefined &&inputData.npreregno!==\"\") {\r\n\r\n//         dispatch(initRequest(true));\r\n//         return rsapi.post(\"release/updateRelease\",\r\n\r\n//             inputData\r\n//         )\r\n//             .then(response => {\r\n//                 if (response.data.statusCodeValue !== 200) {\r\n//                     toast.warn(intl.formatMessage({\r\n//                         id: response.data.body\r\n//                     }));\r\n//                     dispatch({\r\n//                         type: DEFAULT_RETURN,\r\n//                         payload: {\r\n//                             loading: false\r\n//                         }\r\n//                     });\r\n\r\n\r\n//                 }\r\n//                 else {\r\n\r\n//                     if (response.data.body[\"PortalStatus\"] && response.data.body[\"PortalStatus\"].length > 0) {\r\n//                         dispatch(UpdateExternalOrderStatus(response.data.body[\"PortalStatus\"],inputData));\r\n//                     }\r\n//                     let masterData = {\r\n\r\n//                         ...Data1, ...response.data.body,\r\n\r\n\r\n//                     };\r\n\r\n//                     console.log(\"ReleasedTest,\", masterData);\r\n//                      sortData(masterData.ReleaseHistory,\"\",'sreportno');\r\n//                   //  dispatch(generateReport(inputData,masterData))\r\n\r\n//                     dispatch({\r\n//                         type: DEFAULT_RETURN, payload: {\r\n//                             masterData,\r\n//                             change: inputData.change,\r\n//                             loading: false,\r\n//                             openModal:false\r\n//                         }\r\n//                     });\r\n//                 }\r\n//             })\r\n\r\n//             .catch(error => {\r\n//                 dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n//                 if (error.response.status === 500) {\r\n//                     toast.error(error.message);\r\n//                     console.log(\"ErrorRelease,\", error);\r\n\r\n//                 }\r\n//                 else {\r\n//                     toast.warn(error.response.data);\r\n//                 }\r\n//             })\r\n\r\n\r\n//         }\r\n//         else {\r\n//             toast.warn(intl.formatMessage({\r\n//                 id: \"IDS_SELECTANYONESAMPLE\"\r\n//             }));\r\n//         }\r\n//     }\r\n// }\r\nexport function getReleasedRegistrationType(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/getRegistrationType\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            SampleTypeValue: inputData.SampleTypeValue,\r\n                            realSampleTypeList: inputData.realSampleTypeList || [],\r\n                            realReportTypeList: inputData.realReportTypeList || [],\r\n                            realRegTypeList: inputData.realRegTypeList || [],\r\n                            realRegSubTypeList: inputData.realRegSubTypeList || [],\r\n                            realFilterStatusList: inputData.realFilterStatusList || [],\r\n                            realApprovalVersionList: inputData.realApprovalVersionList || [],\r\n                            realDesignTemplateMappingList: inputData.realDesignTemplateMappingList || []\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleasedRegistrationSubType(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/getRegistrationSubType\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            RegTypeValue: inputData.RegTypeValue,\r\n                            realSampleTypeList: inputData.realSampleTypeList || [],\r\n                            realReportTypeList: inputData.realReportTypeList || [],\r\n                            realRegTypeList: inputData.realRegTypeList || [],\r\n                            realRegSubTypeList: inputData.realRegSubTypeList || [],\r\n                            realFilterStatusList: inputData.realFilterStatusList || [],\r\n                            realApprovalVersionList: inputData.realApprovalVersionList || [],\r\n                            realDesignTemplateMappingList: inputData.realDesignTemplateMappingList || []\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReleasedFilterBasedTest(inputData) {\r\n    return function (dispatch) {\r\n        if (inputData.napprovalversioncode) {\r\n            dispatch(initRequest(true));\r\n            rsapi.post(\"release/getFilterBasedTest\", inputData)\r\n                .then(response => {\r\n\r\n\r\n                    let responseData = { ...response.data }\r\n                    responseData = sortData(responseData)\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            masterData: {\r\n                                ...inputData.masterData,\r\n                                ...responseData,\r\n                                RegSubTypeValue: inputData.RegSubTypeValue,\r\n                                ndesigntemplatemappingcode: inputData.ndesigntemplatemappingcode,\r\n                                DesignTemplateMappingValue: inputData.DesignTemplateMappingValue\r\n                            },\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    if (response.data.rtn) {\r\n                        toast.warn(response.data.rtn);\r\n                    }\r\n\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({\r\n                id: \"IDS_PLSSELECTALLVALUESINFILTER\"\r\n            }));\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport function getReleasedApprovalVersion(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/getApprovalVersion\", inputParam.inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputParam.masterData,\r\n                            ...responseData,\r\n                            realSampleTypeList: inputParam.inputData.realSampleTypeList || [],\r\n                            realReportTypeList: inputParam.inputData.realReportTypeList || [],\r\n                            realRegTypeList: inputParam.inputData.realRegTypeList || [],\r\n                            realRegSubTypeList: inputParam.inputData.realRegSubTypeList || [],\r\n                            realFilterStatusList: inputParam.inputData.realFilterStatusList || [],\r\n                            realApprovalVersionList: inputParam.inputData.realApprovalVersionList || [],\r\n                            realDesignTemplateMappingList: inputParam.inputData.realDesignTemplateMappingList || []\r\n                            // fromDate: inputParam.inputData.dfrom,\r\n                            // toDate: inputParam.inputData.dto,\r\n                        },\r\n                        loading: false,\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleasedSample(inputParam,selectedRecordLogin,selectedRecordState,LoginData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let urlArray = [];\r\n        const approvedReportTemplate = rsapi.post(\"release/getApprovedReportTemplate\", inputParam.inputData);\r\n        const filteredSample = rsapi.post(\"release/getReleaseSample\", inputParam.inputData);\r\n        urlArray = [filteredSample,approvedReportTemplate];\r\n        Axios.all(urlArray) .then(response => {\r\n                let reportTemplateList = [];\r\n                const reportTemplateMap = constructOptionList(response[1].data || [], \"nreporttemplatecode\", \"sreporttemplatename\", \"nreporttemplatecode\", \r\n                    \"ascending\", false);\r\n                reportTemplateList = reportTemplateMap.get(\"OptionList\");\r\n                let responseData = { ...response[0].data }\r\n                // responseData = sortData(responseData)\r\n                let masterData = {}\r\n                let nsectioncode = {};\r\n                let selectedRecord = {};\r\n                //ALPD-4797--Vignesh R(05-09-2024)\r\n                let slideOutClose = false;\r\n                // if (response.data.ReleasedSampleDetails && response.data.ReleasedSampleDetails.length !== 0 ||\r\n                //     response.data.ReleaseSample && response.data.ReleaseSample.length === 0) {\r\n                masterData = {\r\n                    ...inputParam.masterData,\r\n                    ...responseData,\r\n            }\r\n            if (inputParam.inputData.isClear) {\r\n               \r\n                masterData.ReleaseSample.map(x => {\r\n                    const matchingItem = inputParam.masterData.ReleaseSample.find(item => item.npreregno === x.npreregno && item.selected === true);\r\n                    if (matchingItem) {\r\n                        x.selected = true;\r\n                    }\r\n                });\r\n                Object.values(masterData.ReleaseSubSample).flat().forEach(x => {\r\n                    const matchingItem = Object.values(inputParam.masterData.ReleaseSubSample).flat()\r\n                        .find(item => item.ntransactionsamplecode === x.ntransactionsamplecode && item.selected === true);\r\n                    if (matchingItem) {\r\n                        x.selected = true;\r\n                    }\r\n                });\r\n                Object.values(masterData.ReleaseTest).flat().forEach(x => {\r\n                    const matchingItem = Object.values(inputParam.masterData.ReleaseTest)\r\n                    .flat().find(item => item.ntransactiontestcode === x.ntransactiontestcode && item.selected === true);\r\n                    if (matchingItem) {\r\n                        x.selected = true;\r\n                    }\r\n                });\r\n            }\r\n                if (nsectioncode !== undefined) {\r\n                    nsectioncode = inputParam.inputData.nsectioncode;\r\n            }\r\n           \r\n            if (selectedRecordState !== undefined && inputParam.inputData.isClear !==true) {\r\n                delete selectedRecordState.nreporttemplatecode;\r\n            }\r\n            selectedRecord={...selectedRecordLogin,...selectedRecordState}\r\n                masterData[\"reportTemplateList\"] = reportTemplateList;\r\n                sortData(masterData, \"\", \"ncoaparentcode\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        showFilter: false,\r\n                        nsectioncode: nsectioncode,\r\n                        FilterQueryBuilder:false,\r\n                        screenName:inputParam.inputData.screenName,\r\n                        awesomeTree:inputParam.inputData.isClear?undefined:inputParam.inputData.awesomeTree,\r\n                        filterquery:inputParam.inputData.isClear?undefined:inputParam.inputData.filterquery,\r\n                        slideOutClose: slideOutClose,\r\n                        selectedRecord,\r\n                        isClear:inputParam.inputData.isClear?false:true,\r\n                       // awesomeTree: LoginData && LoginData.awesomeTree,\r\n                       // filterquery:LoginData && LoginData.filterquery,\r\n                        fields:LoginData && LoginData.fields,\r\n                        filterQueryTreeStr:LoginData && LoginData.filterQueryTreeStr\r\n\r\n\r\n                        \r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getApprovedSample(inputParam, ncontrolCode) {\r\n        if(inputParam.masterData.realReportTypeValue.ncoareporttypecode===reportCOAType.PATIENTWISE)\r\n        {\r\n          \r\n            let fieldList = [];\r\n            fieldList = getFieldSpecification3().get(\"ExternalOrder\") || [];\r\n            \r\n            const languageTypeCode = inputParam.inputData.userinfo.slanguagetypecode;\r\n            const { fields, gridColumns } = filterObjectForReactAwesomeFilter(fieldList[0].filterfields, languageTypeCode, undefined, undefined)\r\n            let awesomeTree = fieldList[0].awesomeTree ? checkTree(loadTree(fieldList[0].awesomeTree), fieldList[0].awesomeConfig) : undefined\r\n           \r\n            return function (dispatch) {\r\n                let urlArray = []; \r\n\r\n              \r\n                dispatch(initRequest(true));\r\n                Axios.all(urlArray)\r\n        \r\n                    .then(response => {\r\n                       \r\n                        let ProjectTypeList = [];\r\n                        let sectionList = [];\r\n\r\n                        \r\n                        let masterData = {};\r\n                        let openModal = true;\r\n                      \r\n                masterData = {\r\n                    ...inputParam.masterData\r\n                }\r\n\r\n        \r\n                        \r\n                        sortData(masterData);\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                fields,\r\n                                gridColumns,\r\n                                awesomeTree,\r\n                                seletedFilterComponent: fieldList[0],\r\n                                // awesomeTree:fieldList[0].awesomeTree,\r\n                                 awesomeConfig:undefined,\r\n                                lstPatient:[],\r\n                                kendoSkip: 0,\r\n                                kendoTake: 5,\r\n                                masterData,\r\n                                expandCheck: false,\r\n                                ProjectTypeList,\r\n                                ncontrolCode,\r\n                                isDeletePopup: false,\r\n                                isComboCheck: false,\r\n                                isEditPopup: false,\r\n                                screenName:\"IDS_PATIENTSEARCH\",\r\n                                sectionList,\r\n                                loading: false,\r\n                                showFilter: false,\r\n                                openModal: openModal,\r\n                                isAddPopup: true,\r\n                                operation:\"save\",\r\n                                slideOutClose: false    // ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\r\n                            }\r\n                        })\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        }\r\n                        else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n                    })\r\n            }\r\n\r\n}\r\nelse{\r\n    return function (dispatch) {\r\n        let ismandatory=false\r\n        inputParam.DynamicReportFilterTypeItem && inputParam.DynamicReportFilterTypeItem.map(x=>{\r\n            if(x.ismandatory){\r\n                ismandatory=true\r\n            }})\r\n            if(ismandatory){\r\n                inputParam['inputData']={...inputParam.inputData,ismandatory:true}\r\n            }\r\n        const screenName=\"\";\r\n        let urlArray = [];\r\n        \r\n        inputParam.inputData['isAddPopup'] = true\r\n        const releaseSample = rsapi.post(\"release/getReleaseSample\", inputParam.inputData);\r\n        //  const reportType = rsapi.post(\"release/getCOAReportType\", { userinfo: inputParam.inputData.userinfo });\r\n        const projectType = rsapi.post(\"release/getApprovedProjectType\", inputParam.inputData);\r\n        const sectionType = rsapi.post(\"release/getSection\", inputParam.inputData);\r\n        const testList=rsapi.post(\"release/getTest\", inputParam.inputData);\r\n        const approvedReportTemplate = rsapi.post(\"release/getApprovedReportTemplate\", inputParam.inputData);\r\n\r\n        // if (inputParam.inputData.ncoareporttypecode === reportCOAType.PROJECTWISE ||\r\n        //     inputParam.inputData.nsampletypecode === SampleType.PROJECTSAMPLETYPE && inputParam.inputData.ncoareporttypecode === reportCOAType.SECTIONWISEMULTIPLESAMPLE) {\r\n\r\n        //     urlArray = [projectType,sectionType];\r\n        // }\r\n        // else if (inputParam.inputData.isneedsection === transactionStatus.YES || inputParam.inputData.ncoareporttypecode === reportCOAType.SECTIONWISE || inputParam.inputData.ncoareporttypecode === reportCOAType.SECTIONWISEMULTIPLESAMPLE) {\r\n        //     urlArray = [sectionType];\r\n        // }\r\n        // else {\r\n        //     urlArray = [releaseSample\r\n        //         //,reportType\r\n        //     ];\r\n        // }\r\n        urlArray = [releaseSample,projectType,sectionType,testList,approvedReportTemplate];\r\n        if(inputParam.DynamicReportFilterTypeItem && inputParam.DynamicReportFilterTypeItem.length>0){\r\n            let itemList=[];\r\n            inputParam.DynamicReportFilterTypeItem.map(x=>{\r\n                if(x[designProperties.LISTITEM]===\"combo\"){\r\n                    itemList.push(\r\n                        {\"Pkey\":x[designProperties.PRIMARYKEY],\r\n                        \"nquerybuildertablecode\":x[designProperties.QUERYBUILDERTABLECODE],\r\n                     \"tablename\":x[designProperties.TABLENAME],\r\n                    \"columnname\":x[designProperties.COLUMNNAME],\r\n                \"keyName\":x[designProperties.VALUE],\r\n            \"isMultiLingual\":x[designProperties.MULTILINGUAL],\r\n             \"languageTypeCode\" :inputParam.inputData.userinfo.slanguagetypecode,\r\n            \"recordType\":x[designProperties.RECORDTYPE]})\r\n                }\r\n            })\r\n            inputParam[\"inputData\"][\"itemList\"]=itemList;\r\n             const reportFilterType = rsapi.post(\"release/getComboValues\", {...inputParam.inputData,'userInfo':inputParam.inputData.userinfo});\r\n            urlArray.push(reportFilterType);\r\n        }\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n\r\n            .then(response => {\r\n                // const reportTypeMap = constructOptionList(response[1].data.ReportType || [], \"ncoareporttypecode\",\r\n                //     \"scoareporttypename\", undefined, undefined, false);\r\n\r\n                // const ReportTypeList = reportTypeMap.get(\"OptionList\");\r\n                let ProjectTypeList = [];\r\n                let sectionList = [];\r\n\r\n                // let selectedRecord = {\"ncoareporttypecode\": {\r\n                //     \"value\": response[1].data.ReportType[0].ncoareporttypecode,\r\n                //      \"label\": response[1].data.ReportType[0].scoareporttypename\r\n                // }\r\n                // };\r\n                let masterData = {};\r\n                let openModal = true;\r\n                let sectionvalue=[];\r\n                let comboValues={};\r\n                let reportTemplateList = [];\r\n                let selectedRecord={};\r\n\r\n                delete selectedRecord[\"nsectioncode\"];\r\n                        delete selectedRecord[\"nreporttemplatecode\"];\r\n               // let selectedRecord = inputParam.inputData.selectedRecord;\r\n                // let selectedRecord = inputParam.selectedRecord;\r\n                // selectedRecord[\"nmultiplesampleinsinglerelease\"] = inputParam.realReportTypeValue[\"nmultiplesampleinsinglerelease\"];\r\n                const sectionTypeMap = constructOptionList(response[2].data.sectionList || [], \"nsectioncode\",\r\n                \"ssectionname\", undefined, undefined, false);\r\n               sectionList = sectionTypeMap.get(\"OptionList\");\r\n                sectionList.map(x=>sectionvalue.push({\"value\":x.value,\"title\":x.label}));\r\n                let testListMap = response[3] && response[3].data;\r\n                if (inputParam.inputData.isneedsection!==transactionStatus.YES) {\r\n                    const reportTemplateMap = constructOptionList(response[4].data || [], \"nreporttemplatecode\", \"sreporttemplatename\", \"nreporttemplatecode\",\r\n                        \"ascending\", false);\r\n                    reportTemplateList = reportTemplateMap.get(\"OptionList\");\r\n                }\r\n                let combovaluesListMap=response[5] && response[5].data;\r\n                let comboValueList={...testListMap, ...combovaluesListMap} ||{};\r\n             comboValues={\"s.nsectioncode\":sectionvalue,...comboValueList};\r\n                // if (inputParam.inputData.ncoareporttypecode === reportCOAType.PROJECTWISE ||\r\n                //     inputParam.inputData.nsampletypecode === SampleType.PROJECTSAMPLETYPE && inputParam.inputData.ncoareporttypecode === reportCOAType.SECTIONWISEMULTIPLESAMPLE) {\r\n                //     const projectTypeMap = constructOptionList(response[0].data || [], \"nprojecttypecode\",\r\n                //         \"sprojecttypename\", undefined, undefined, false);\r\n\r\n                //     ProjectTypeList = projectTypeMap.get(\"OptionList\");\r\n                //     masterData = { ...inputParam.masterData, ReleaseSubSample: [], ReleaseTest: [], ReleaseSample: [] };\r\n                //     if (inputParam.inputData.selectedRecord.nprojecttypecode) {\r\n                //         delete inputParam.inputData.selectedRecord.nprojecttypecode\r\n                //     }\r\n                //     if (inputParam.inputData.selectedRecord.nprojectmastercode) {\r\n                //         delete inputParam.inputData.selectedRecord.nprojectmastercode\r\n                //     }\r\n                //     const sectionTypeMap = constructOptionList(response[1].data.sectionList || [], \"nsectioncode\",\r\n                //     \"ssectionname\", undefined, undefined, false);\r\n                // sectionList = sectionTypeMap.get(\"OptionList\");\r\n                // sectionList.map(x=>sectionvalue.push({\"value\":x.value,\"title\":x.label}));\r\n                // let comboValueList=response[2] && response[2].data ||{};\r\n                //  comboValues={\"s.nsectioncode\":sectionvalue,...comboValueList}\r\n                \r\n                // }\r\n                // else \r\n                // if (inputParam.inputData.isneedsection === transactionStatus.YES || inputParam.inputData.ncoareporttypecode === reportCOAType.SECTIONWISE || inputParam.inputData.ncoareporttypecode === reportCOAType.SECTIONWISEMULTIPLESAMPLE) {\r\n                //     const sectionTypeMap = constructOptionList(response[0].data.sectionList || [], \"nsectioncode\",\r\n                //         \"ssectionname\", undefined, undefined, false);\r\n                //     sectionList = sectionTypeMap.get(\"OptionList\");\r\n                //     sectionList.map(x=>sectionvalue.push({\"value\":x.value,\"title\":x.label}));\r\n                //     let comboValueList=response[1] && response[1].data ||{};\r\n                //      comboValues={\"s.nsectioncode\":sectionvalue,...comboValueList}\r\n                //     masterData = { ...inputParam.masterData, ReleaseSubSample: [], ReleaseTest: [], ReleaseSample: [] };\r\n                //     if (inputParam.inputData.selectedRecord.nsectioncode) {\r\n                //         delete inputParam.inputData.selectedRecord.nsectioncode\r\n                //     }\r\n\r\n                // }\r\n                // else {\r\n                    if(ismandatory){\r\n                        masterData = { ...inputParam.masterData, ReleaseSubSample: [], ReleaseTest: [], ReleaseSample: [] };\r\n                    }else{\r\n                    if (response[0].data && response[0].data.ReleaseSample.length !== 0) {\r\n\r\n                        let responseData = { ...response[0].data }\r\n                        masterData = {\r\n                            ...inputParam.masterData, ...responseData\r\n                        }\r\n                    }\r\n                    else {\r\n                        let responseData = { ...response[0].data }\r\n                        masterData = {\r\n                            ...inputParam.masterData, ...responseData\r\n                        }\r\n                        openModal = false;\r\n                        toast.warn(intl.formatMessage({ id: \"IDS_NOSAMPLESAREAVAILABLE\" }));\r\n                    }\r\n                }\r\n\r\n               // }\r\n               let awesomeTree;\r\n               let filterquery;\r\n               let filterQueryTreeStr;\r\n               let fields =getFilterConditionsBasedonDataType(inputParam.extractedColumnList,comboValues);\r\n               if(inputParam.DynamicDefaultStructureItem && inputParam.DynamicDefaultStructureItem.nsampletypecode ===inputParam.inputData.nsampletypecode\r\n                && inputParam.DynamicDefaultStructureItem.nregtypecode ===inputParam.inputData.nregtypecode\r\n                 && inputParam.DynamicDefaultStructureItem.nregsubtypecode===inputParam.inputData.nregsubtypecode ){\r\n                awesomeTree=inputParam.DynamicDefaultStructureItem && inputParam.DynamicDefaultStructureItem.awesomeTree && checkTree(loadTree(inputParam.DynamicDefaultStructureItem.awesomeTree), inputParam.DynamicDefaultStructureItem.awesomeConfig) \r\n                filterquery=inputParam.DynamicDefaultStructureItem.filterquery\r\n                filterQueryTreeStr=inputParam.DynamicDefaultStructureItem.filterQueryTreeStr\r\n                \r\n                 }else{\r\n                    awesomeTree=undefined;\r\n                 }\r\n\r\n                sortData(masterData);\r\n                masterData[\"reportTemplateList\"] = reportTemplateList;\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        selectedRecord,\r\n                        expandCheck: false,\r\n                        ProjectTypeList,\r\n                        ncontrolCode,\r\n                        isDeletePopup: false,\r\n                        isComboCheck: false,\r\n                        isEditPopup: false,\r\n                        screenName:inputParam.inputData.screenName,\r\n                        sectionList,\r\n                        loading: false,\r\n                        showFilter: false,\r\n                        openModal: openModal,\r\n                        isAddPopup: true,\r\n                        operation: \"save\",\r\n                        kendoSkip: 0,\r\n                        kendoTake: 5,\r\n                        sectionvalue,\r\n                        comboValues,\r\n                        awesomeTree:awesomeTree,filterquery,fields,filterQueryTreeStr,\r\n                        FilterQueryBuilder:false,\r\n                        screenNameCopy:inputParam.inputData.screenName,\r\n                        ismandatory,\r\n                        slideOutClose: false    // ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\r\n                        //awesomeConfig:undefined\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n}\r\n\r\nexport function generateReleasedReport(inputData, Data,preventtb) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n\r\n        let urlArray = [];\r\n        //   const releaseSample = rsapi.post(\"release/updateRelease\", inputData)  ;\r\n        //   const afterCorrection = rsapi.post(\"release/updateReleaseAfterCorrection\", inputData)  ;\r\n        inputData['preventTbFlow']=preventtb===true?preventtb:false\r\n        if (inputData.listStatus === transactionStatus.CORRECTION) {\r\n\r\n            const afterCorrection = rsapi.post(\"release/updateReleaseAfterCorrection\", inputData);\r\n            urlArray = [afterCorrection];\r\n        }\r\n\r\n        else {\r\n            const releaseSample = rsapi.post(\"release/updateRelease\", inputData);\r\n\r\n            urlArray = [releaseSample];\r\n        }\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                if (response[0].data.rtn === \"MappingNeeded\") {\r\n                    \r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            loading: false,\r\n                            modalShow: false, \r\n                           // selectedRecord: {}, \r\n                            loadEsign: false,\r\n                            //openModal: false,\r\n                           // preventTbCheck:true\r\n                        }\r\n                    })\r\n\r\n                    inputData.confirmMessage.confirm(\"PortalMapping\", intl.formatMessage({ id: \"IDS_SUBSAMPLEWASNOTMAPPED\" }), intl.formatMessage({ id: \"IDS_DOYOUWANTTOCONTINUEWITHOUTSENDRESULTTOPREVENTTB\" }),\r\n                    intl.formatMessage({ id: \"IDS_OK\" }), intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                     () => dispatch(generateReleasedReport(inputData, Data,true))  ,false,()=>dispatch(cancelPopUp(inputData, Data)) )\r\n\r\n                } else {\r\n                    // if (response[0].data[\"isPortalData\"] && response[0].data[\"PortalStatus\"] && response[0].data[\"PortalStatus\"].length > 0) {\r\n                    //     dispatch(UpdateExternalOrderStatus(response[0].data[\"PortalStatus\"], inputData));\r\n                    // }\r\n\r\n                    if (response[0].data[\"PreventTb\"]) {\r\n                        toast.warn(response[0].data[\"PreventTb\"])\r\n                    }\r\n\r\n                    // ALPD-4229 (30-05-2024) Added code when search and do action\r\n                    let searchedData = Data.searchedData;\r\n                    if(Data.searchedData && Data.searchedData !== undefined && Data.searchedData.length > 0){\r\n                        searchedData = response[0].data && response[0].data.ReleaseHistory && \r\n                            getSameRecordFromTwoArrays(response[0].data.ReleaseHistory, Data.searchedData, \"ncoaparentcode\");\r\n                    }\r\n                    sortData(searchedData, '', 'ncoaparentcode');   // ALPD-4229 (12-06-2024) Added sortData for searchedData\r\n                    let masterData = {\r\n                        ...Data,\r\n                        ...response[0].data,\r\n                        searchedData\r\n                    }\r\n                   //Added by sonia on 18-08-2024 for JIRA ID:4716 \r\n                    //if (inputData.generateReport){\r\n                 //   if(inputData.newTabReport){\r\n                        if(response[0].data && response[0].data.rtn){\r\n                            if (response[0].data.rtn === \"Success\") {\r\n                                if(inputData.newTabReport){\r\n                                    if(response[0].data.filetype ==='jrxml'){\r\n                                        let value = \"\";\r\n                                        value = response[0][\"data\"][\"reportViewURL\"];\r\n                                        var win = window.open(value);\r\n                                        if (win) {\r\n                                            win.focus();\r\n                                        } else {\r\n                                            intl.warn('IDS_PLEASEALLOWPOPUPSFORTHISWEBSITE');\r\n                                        }\r\n                                    }else if(response[0].data.filetype ==='mrt')\r\n                                        {\r\n\r\n                                        if(response[0].data.sourceparameter!=undefined && response[0].data.sourceparameter!=\"\")\r\n                                            {\r\n                                           let mrtfilePath = reportUrl()\r\n                                           + \"?name=\" + inputData.userinfo.sreportingtoolfilename     //en-xml\r\n                                           + \"&slanguagetypecode=\" + inputData.userinfo.sreportlanguagecode    //en-us\r\n                                           + \"&foldername=\" + response[0].data.folderName   //\"Quotation-002\"//this.props.Login.masterData.SelectedReportDetails.sreportname\r\n                                           + \"&filename=\" + response[0].data.FILEName  //\"a6008692-3e1a-422b-b4da-5e9ad9cf3be6.mrt\"//\"b701dbc4-d90e-4840-b8e1-942649d6ec25.mrt\"//this.props.Login.masterData.SelectedReportDetails.ssystemfilename\r\n                                           + \"&sconnectionstring=\" + inputData.userinfo.sconnectionString\r\n                                           + \"&sreportlink=\" + response[0].data.sreportlink //inputParam.sreportlink //\"//localhost:8090/SharedFolder/QuaLISjrxml\"//this.props.Login.reportSettings[15] //this.props.Login.userInfo.sreportLink  \r\n                                           + \"&smrttemplatelink=\" + response[0].data.smrttemplatelink  //inputParam.smrttemplatelink //\"//localhost:8090//SharedFolder//ReportJSON//ReportTemplate.json\"//this.props.Login.reportSettings[16]//this.props.Login.userInfo.smrttemplateLink\r\n                                           + \"&sourceparameter=\" + encodeURIComponent(JSON.stringify(response[0].data.sourceparameter)); //JSON.stringify(response[0].data.sourceparameter)\r\n                                          \r\n                                           //console.log(\"path1:\",mrtfilePath);\r\n                                            window.open(mrtfilePath);\r\n                                          \r\n                                           }  \r\n                                    }\r\n                                   \r\n                                }else {\r\n                                    document.getElementById(\"download_data\").setAttribute(\"href\", response[0].data.filepath);\r\n                                    document.getElementById(\"download_data\").click();\r\n                                }           \r\n                            } else {\r\n                                toast.warn(response[0].data.rtn);\r\n                            }\r\n                        }\r\n                 //   }\r\n                   \r\n                    sortData(masterData.ReleaseHistory, \"\", 'ncoaparentcode');\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            loading: false, change: inputData.change, masterData,\r\n                            modalShow: false, selectedRecord: {}, loadEsign: false, openModal: false\r\n                        }\r\n                    })\r\n                }\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    //toast.warn(error.response.data['rtn']);\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function cancelPopUp(inputData,Data) {\r\n    return function (dispatch) {\r\n        dispatch({\r\n            type: DEFAULT_RETURN, payload: {\r\n                loading: false,\r\n                modalShow: false, selectedRecord: {}, loadEsign: false, openModal: false\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function getReleasedFilterStatus(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/getReleaseConfigVersionRegTemplateDesign\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            RegSubTypeValue: inputData.RegSubTypeValue\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleasedDataDetails(inputParam, isServiceRequired) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            dfrom: inputParam.inputData.dfrom,\r\n            dto: inputParam.inputData.dto,\r\n\r\n            nsampletypecode: inputParam.inputData.nsampletypecode,\r\n            nregtypecode: inputParam.inputData.nregtypecode,\r\n            nregsubtypecode: inputParam.inputData.nregsubtypecode,\r\n            ntransactionstatus: inputParam.inputData.ntransactionstatus,\r\n            nsectioncode: inputParam.inputData.nsectioncode,\r\n            ntestcode: inputParam.inputData.ntestcode,\r\n            napprovalversioncode: inputParam.inputData.napprovalversioncode,\r\n            napprovalconfigcode: inputParam.inputData.napprovalconfigcode,\r\n            userinfo: inputParam.inputData.userinfo,\r\n            nneedsubsample: inputParam.inputData.nneedsubsample,\r\n            // ncoaparentcode: inputParam.ncoaparentcode,\r\n            ncoaparentcode: inputParam.releaseno ? inputParam.releaseno.map(item => item.ncoaparentcode).join(\",\") : \"-1\",\r\n            npreregno: inputParam.npreregno,\r\n            ncoareporttypecode: inputParam.inputData.ncoareporttypecode,\r\n            isneedsection: inputParam.inputData.isneedsection,\r\n            ndesigntemplatemappingcode: inputParam.masterData.ndesigntemplatemappingcode,\r\n            isAddPopup: false\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/getReleaseSample\", inputParamData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                // responseData = sortData(responseData)\r\n                let masterData = {\r\n                    ...inputParam.masterData,\r\n                    ...responseData,\r\n                }\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        showFilter: false,\r\n                        expandCheck: false,\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getApprovedProjectByProjectType(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/getApprovedProjectByProjectType\", inputData)\r\n            .then(response => {\r\n                const projectMasterMap = constructOptionList(response.data.projectMasterList || [], \"nprojectmastercode\",\r\n                    \"sprojectcode\", undefined, undefined, false);\r\n\r\n                const projectMasterList = projectMasterMap.get(\"OptionList\");\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        projectMasterList,\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            ReleaseSample:[]\r\n                        },\r\n                       // selectedRecord: {},\r\n                        loading: false,\r\n                        expandCheck: false,\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getApprovedProjectType(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/getApprovedProjectType\", inputData)\r\n            .then(response => {\r\n                const projectTypeMap = constructOptionList(response.data || [], \"nprojecttypecode\",\r\n                    \"sprojecttypename\", undefined, undefined, false);\r\n\r\n                const ProjectTypeList = projectTypeMap.get(\"OptionList\");\r\n\r\n                //     const projectMasterMap = constructOptionList(response.data || [], \"nprojecttypecode\",\r\n                //     \"sprojecttypename\", undefined, undefined, false);\r\n\r\n                // const projectMasterList = projectMasterMap.get(\"OptionList\");\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        ProjectTypeList,\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            ProjectTypeValue: inputData.ProjectTypeValue\r\n                        },\r\n                        loading: false,\r\n                        expandCheck: false,\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getSectionForSectionWise(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/getSection\", inputData.inputData)\r\n            .then(response => {\r\n                const sectionMap = constructOptionList(response.data.sectionList || [], \"nsectioncode\",\r\n                    \"ssectionname\", undefined, undefined, false);\r\n\r\n                const sectionList = sectionMap.get(\"OptionList\");\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        sectionList,\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            ReleaseSample:[]\r\n                            \r\n                        },\r\n                        loading: false,\r\n                        expandCheck: false,\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReportForPortal(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/SendToPortalReport\", inputData)\r\n            .then(response => {\r\n\r\n                if (response.data[\"rtn\"]) {\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nfunction UpdateExternalOrderStatus(portallist, inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post((String)(inputParam[\"url\"]) + \"/portal/UpdateMultiSampleStatus\", JSON.stringify(portallist), {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        })\r\n            .then(response => {\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response !== undefined && error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else if (error.response === undefined) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getApprovedRecordsAsDraft(inputData, Data1, seletedRecord) {\r\n\r\n\r\n    return function (dispatch) {\r\n        if (inputData !== undefined && inputData.npreregno !== \"\") {\r\n            // ALPD-4229 (30-05-2024) Added searchRef to clear search text in search filter\r\n            let searchRef = inputData.searchRef;\r\n            delete(inputData.searchRef);\r\n\r\n            dispatch(initRequest(true));\r\n            return rsapi.post(\"release/saveRelease\", inputData)\r\n                .then(response => {\r\n                    if (response.data.rtn === \"Success\") {\r\n                        //SearchRef undefined issue fixed - L.Subashini\r\n                        if(searchRef !== undefined)\r\n                            searchRef.current.value = \"\";\r\n                        let masterData = {\r\n                            ...Data1, ...response.data, searchedData: undefined\r\n                        };\r\n                        delete(seletedRecord.nreporttemplatecode);\r\n                        seletedRecord[\"nisarnowiserelease\"] = transactionStatus.NO;\r\n                        sortData(masterData.ReleaseHistory, \"\", 'ncoaparentcode');\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                masterData,\r\n                                change: inputData.change,\r\n                                loading: false,\r\n                                loadEsign: false,\r\n                                openModal: false,\r\n                                expandCheck: false,\r\n                                slideOutClose: true             // ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        toast.warn(response.data.rtn);\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                //  masterData,\r\n                                change: inputData.change,\r\n                                loading: false,\r\n                               // loadEsign: false,\r\n                                //openModal: false,\r\n                                slideOutClose: false,\r\n                                expandCheck: false\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                        //  console.log(\"ErrorRelease,\", error);\r\n\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n\r\n\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({\r\n                id: \"IDS_SELECTANYONESAMPLE\"\r\n            }));\r\n        }\r\n    }\r\n} \r\nexport function preliminaryReport(inputParam, Data, screenName) {\r\n    return function (dispatch) {\r\n\r\n        dispatch(initRequest(true));\r\n        // const inputData = {\r\n        //     npreregno: inputParam.npreregno,\r\n        //  //   nsectioncode: inputParam.nsectioncode || -1,\r\n        //     userinfo: inputParam.userinfo,\r\n        //     nprimarykey: inputParam.npreregno,\r\n        //     nreporttypecode: REPORTTYPE.COAREPORT,\r\n        //     sprimarykeyname: \"npreregno\",\r\n        //     ncontrolcode: inputParam.ncontrolCode,\r\n        //     nregtypecode: inputParam.nregtypecode,\r\n        //     nregsubtypecode: inputParam.nregsubtypecode,\r\n        //     ntransactiontestcode:inputParam.ntransactiontestcode,\r\n        //     napproveconfversioncode: inputParam.napprovalversioncode,\r\n        //     ncoaparentcode: inputParam.ncoaparentcode,\r\n        //     ntransactionstatus:inputParam.ntransactionstatus\r\n        // }\r\n        // rsapi.post(\"release/generateReleasedReport\", inputParam.inputData)\r\n        rsapi.post(\"release/preliminaryRegenerateReport\", inputParam.inputData)\r\n            .then(response => {\r\n                // ALPD-4229 (30-05-2024) Added code when search and do action\r\n                let searchedData = Data.searchedData;\r\n                if(Data.searchedData && Data.searchedData !== undefined && Data.searchedData.length > 0){\r\n                    searchedData = response.data && response.data.ReleaseHistory && \r\n                        getSameRecordFromTwoArrays(response.data.ReleaseHistory, Data.searchedData, \"ncoaparentcode\");\r\n                }\r\n                sortData(searchedData, '', 'ncoaparentcode');   // ALPD-4229 (12-06-2024) Added sortData for searchedData\r\n                let masterData = {\r\n                    ...Data,\r\n                    ...response.data,\r\n                    searchedData\r\n                }\r\n                sortData(masterData.ReleaseHistory, \"\", 'ncoaparentcode');\r\n                //Added by sonia on 18-08-2024 for JIRA ID:4716\r\n                if (response.data.rtn === \"Success\") {\r\n                    if(inputParam.inputData.newTabReport){\r\n                        let value = \"\";\r\n                        value = response.data[\"reportViewURL\"];\r\n                        var win = window.open(value);\r\n                        if (win) {\r\n                            win.focus();\r\n                        } else {\r\n                            intl.warn('IDS_PLEASEALLOWPOPUPSFORTHISWEBSITE');\r\n                        }\r\n                    }else {\r\n                        document.getElementById(\"download_data\").setAttribute(\"href\", response.data.filepath);\r\n                        document.getElementById(\"download_data\").click();\r\n                    }\r\n                       \r\n                        \r\n                } else {\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n                \r\n                \r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload:\r\n                    {\r\n                        loading: false, change: inputParam.change, masterData, screenName: screenName,\r\n                        modalShow: false, selectedRecord: {}, loadEsign: false, openModal: inputParam.inputData.openModal\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data['rtn']);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function previewAndFinalReport(inputParam, Data, screenName) {\r\n    return function (dispatch) {\r\n\r\n        dispatch(initRequest(true));\r\n\r\n        rsapi.post(\"release/preliminaryRegenerateReport\", inputParam.inputData)\r\n            .then(response => {\r\n\r\n                let masterData = {\r\n                    ...Data,\r\n                    ...response.data,\r\n                }\r\n\r\n                //Added by sonia on 18-08-2024 for JIRA ID:4716 \r\n                if (response.data.rtn === \"Success\") \r\n                {\r\n                    if(inputParam.inputData.action == 'Regenerate')\r\n                    {                        \r\n                        document.getElementById(\"download_data\").setAttribute(\"href\", response.data.filepath);\r\n                        document.getElementById(\"download_data\").click();\r\n                    }\r\n                    else\r\n                    {\r\n                        if(inputParam.inputData.newTabReport)\r\n                        {\r\n                        if(response.data.filetype ==='jrxml'){\r\n                                let value = \"\";\r\n                                value = response.data[\"reportViewURL\"];\r\n                                var win = window.open(value);\r\n                                if (win) {\r\n                                    win.focus();\r\n                                } else {\r\n                                    intl.warn('IDS_PLEASEALLOWPOPUPSFORTHISWEBSITE');\r\n                                }\r\n                            }   \r\n                            else if (response.data.filetype === 'mrt') \r\n                            {\r\n                                if (response.data.sourceparameter != undefined && response.data.sourceparameter != \"\") {\r\n                                    let mrtfilePath = reportUrl()\r\n                                        + \"?name=\" + inputParam.inputData.userinfo.sreportingtoolfilename     //en-xml\r\n                                        + \"&slanguagetypecode=\" + inputParam.inputData.userinfo.sreportlanguagecode    //en-us\r\n                                        + \"&foldername=\" + response.data.folderName   //\"Quotation-002\"//this.props.Login.masterData.SelectedReportDetails.sreportname\r\n                                        + \"&filename=\" + response.data.FILEName  //\"a6008692-3e1a-422b-b4da-5e9ad9cf3be6.mrt\"//\"b701dbc4-d90e-4840-b8e1-942649d6ec25.mrt\"//this.props.Login.masterData.SelectedReportDetails.ssystemfilename\r\n                                        + \"&sconnectionstring=\" + inputParam.inputData.userinfo.sconnectionString\r\n                                        + \"&sreportlink=\" + response.data.sreportlink //inputParam.sreportlink //\"//localhost:8090/SharedFolder/QuaLISjrxml\"//this.props.Login.reportSettings[15] //this.props.Login.userInfo.sreportLink  \r\n                                        + \"&smrttemplatelink=\" + response.data.smrttemplatelink  //inputParam.smrttemplatelink //\"//localhost:8090//SharedFolder//ReportJSON//ReportTemplate.json\"//this.props.Login.reportSettings[16]//this.props.Login.userInfo.smrttemplateLink\r\n                                        + \"&sourceparameter=\" + encodeURIComponent(JSON.stringify(response.data.sourceparameter)); //JSON.stringify(response[0].data.sourceparameter)\r\n            \r\n                                        //console.log(\"path:\",mrtfilePath);\r\n                                    window.open(mrtfilePath);\r\n            \r\n                                }\r\n                            }\r\n\r\n                        }else {\r\n                            //if(inputParam.inputData.generateReport || inputParam.inputData.action == 'Regenerate')\r\n                            //{                        \r\n                                document.getElementById(\"download_data\").setAttribute(\"href\", response.data.filepath);\r\n                                document.getElementById(\"download_data\").click();\r\n                           // }\r\n                        }                       \r\n                    }\r\n                } else {\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n                \r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload:\r\n                    {\r\n                        loading: false, change: inputParam.change, masterData, screenName: screenName,\r\n                        modalShow: false, selectedRecord: {}, loadEsign: false, openModal: inputParam.inputData.openModal\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data['rtn']);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getRemoveApprovedSample(inputParam, ncontrolCode) {\r\n    return function (dispatch) {\r\n        if(inputParam.masterData && inputParam.masterData.selectedReleaseHistory && inputParam.masterData.selectedReleaseHistory.length > 1){\r\n            toast.warn(intl.formatMessage({ id: \"IDS_MULTISELECTAPPLICABLEONLYFORRELEASEACTION\" }));\r\n        } else {\r\n            let urlArray = [];\r\n            inputParam.inputData['isPopup'] = true\r\n            if(inputParam.inputData['allowAppendRemoveSamples'] === transactionStatus.YES){\r\n            // if(inputParam.inputData['allowAppendRemoveSamples'] === transactionStatus.YES && \r\n            // (inputParam.inputData['nneedsubsample'] === false || \r\n            // (inputParam.inputData['nneedsubsample'] === true && inputParam.inputData['ncoaparenttranscode'] === transactionStatus.DRAFT))){\r\n                const releaseSample = rsapi.post(\"release/getReleaseSample\", inputParam.inputData);\r\n                //  const reportType = rsapi.post(\"release/getCOAReportType\", { userinfo: inputParam.inputData.userinfo });\r\n                // const projectType = rsapi.post(\"release/getApprovedProjectType\", inputParam.inputData);\r\n                const statusService = rsapi.post(\"release/getStatusAlert\", inputParam.inputData);\r\n\r\n                urlArray = [releaseSample, statusService\r\n                    //,reportType\r\n                ];\r\n\r\n                dispatch(initRequest(true));\r\n                Axios.all(urlArray)\r\n\r\n                .then(response => {\r\n                    if (response[1].data.Status === \"Success\") {\r\n\r\n                        let masterData = {};\r\n                        let selectedRecord = inputParam.inputData.selectedRecord;\r\n\r\n                        let responseData = { ...response[0].data }\r\n                        masterData = {\r\n                            ...inputParam.masterData, ...responseData\r\n                        }\r\n\r\n\r\n                        // responseData = sortData(responseData)\r\n\r\n\r\n                        sortData(masterData);\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                masterData,\r\n                                // selectedRecord,\r\n                                isDeletePopup: true,\r\n                                isComboCheck: true,\r\n                                isEditPopup: false,\r\n                                ncontrolCode,\r\n                                loading: false,\r\n                                showFilter: false,\r\n                                openModal: true,\r\n                                isAddPopup: false,\r\n                                operation: \"delete\",\r\n                                ncontrolCode: inputParam.inputData.ncontrolCode,\r\n                                expandCheck: false,\r\n                                screenName: inputParam.inputData.screenName,\r\n                                slideOutClose: false    // ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\r\n                            }\r\n                        })\r\n                    }\r\n                    else {\r\n                        toast.warn(intl.formatMessage({\r\n                            id: response[1].data.ValidationStatus\r\n                        }));\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                ncontrolCode: ncontrolCode,\r\n                                loading: false\r\n                            }\r\n                        });\r\n\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n            // } else if(inputParam.inputData['allowAppendRemoveSamples'] === transactionStatus.NO || \r\n            //     (inputParam.inputData['allowAppendRemoveSamples'] === transactionStatus.YES && inputParam.inputData['ncoaparenttranscode'] !== transactionStatus.DRAFT)){\r\n            //         toast.warn(intl.formatMessage({ id: \"IDS_SAMPLESARENOTALLOWEDTODELETE\" }));\r\n            } else {\r\n                toast.warn(intl.formatMessage({ id: \"IDS_SAMPLESARENOTALLOWEDTODELETE\" }));\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                // toast.warn(intl.formatMessage({ id: \"IDS_SAMPLESARENOTALLOWEDTODELETE\" })+ \" \"+ intl.formatMessage({ id: \"IDS_FOR\" })+ \" \"+ inputParam.inputData['sregsubtypename']);\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function getDeleteApprovedSample(inputData, Data1) {\r\n\r\n\r\n    return function (dispatch) {\r\n        if (inputData !== undefined && inputData.npreregno !== \"\") {\r\n            // ALPD-4229 (12-06-2024) Deleted searchRef from inputData\r\n            delete(inputData.searchRef);\r\n            dispatch(initRequest(true));\r\n            return rsapi.post(\"release/deleteRelease\",\r\n\r\n                inputData\r\n            )\r\n                .then(response => {\r\n                    if (response.data.rtn === \"Success\") {\r\n\r\n                        let masterData = {\r\n                            ...Data1, ...response.data,\r\n                        };\r\n                        sortData(masterData.ReleaseHistory, \"\", 'ncoaparentcode');\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                masterData,\r\n                                change: inputData.change,\r\n                                loading: false,\r\n                                loadEsign: false,\r\n                                openModal: false,\r\n                                expandCheck: false,\r\n                                slideOutClose: true // ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        toast.warn(response.data.rtn);\r\n\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                //    masterData,\r\n                                change: inputData.change,\r\n                                loading: false,\r\n                               // loadEsign: false,\r\n                               // openModal: false,\r\n                                expandCheck: false,\r\n                                slideOutClose: false\r\n\r\n\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                        //  console.log(\"ErrorRelease,\", error);\r\n\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({\r\n                id: \"IDS_SELECTANYONESAMPLE\"\r\n            }));\r\n        }\r\n    }\r\n}\r\n\r\n //Added by sonia on 11-06-2024 for JIRA ID:4122 Sample Count Validation\r\nexport function validationforAppendSamples(inputParam, ncontrolCode) {\r\n   return function (dispatch){\r\n        if(inputParam.masterData && inputParam.masterData.selectedReleaseHistory && inputParam.masterData.selectedReleaseHistory.length > 1){\r\n            toast.warn(intl.formatMessage({ id: \"IDS_MULTISELECTAPPLICABLEONLYFORRELEASEACTION\" }));\r\n        } else {\r\n            let urlArray = [];\r\n            const sampleCountValidation = rsapi.post(\"release/sampleCountValidation\", inputParam.inputData);\r\n            urlArray = [sampleCountValidation];\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    if(response[0].data.rtn===\"Success\"){\r\n                        dispatch(getEditApprovedSample(inputParam, ncontrolCode));\r\n                    }else{\r\n                        toast.warn(intl.formatMessage({id: \"IDS_MAXIMUMSAMPLESAPPENDED\"}));\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                            ncontrolCode: ncontrolCode,\r\n                            loading: false\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                })    \r\n        } \r\n    }\r\n}\r\n//Modified by sonia on 11-06-2024 for JIRA ID:4122 Sample Count Validation\r\nexport function getEditApprovedSample(inputParam, ncontrolCode) {\r\n    return function (dispatch) {       \r\n        let urlArray = [];\r\n        inputParam.inputData['isPopup'] = true\r\n        if(inputParam.inputData['allowAppendRemoveSamples'] === transactionStatus.YES){\r\n           // const sampleCountValidation = rsapi.post(\"release/sampleCountValidation\", inputParam.inputData);\r\n            const releaseSample = rsapi.post(\"release/getReleaseSample\", inputParam.inputData);\r\n            //  const reportType = rsapi.post(\"release/getCOAReportType\", { userinfo: inputParam.inputData.userinfo });\r\n            //  const projectType = rsapi.post(\"release/getApprovedProjectType\", inputParam.inputData);\r\n            const statusService = rsapi.post(\"release/getStatusAlert\", inputParam.inputData);\r\n           // const projectStatus = rsapi.post(\"release/getProjectBasedAlert\", inputParam.inputData);\r\n\r\n            const testList=rsapi.post(\"release/getTest\", inputParam.inputData)\r\n            const sectionType = rsapi.post(\"release/getSection\", inputParam.inputData);\r\n\r\n                    // if (inputParam.inputData.ncoareporttypecode === 7) {\r\n\r\n            //     urlArray = [ projectType,statusService];\r\n            // }\r\n            // else if (inputParam.inputData.ncoareporttypecode === 8) {\r\n            //     urlArray = [ releaseSample,statusService];\r\n            // }\r\n            // else {\r\n            urlArray = [releaseSample,statusService,testList,sectionType\r\n                //,reportType\r\n            ];\r\n            if(inputParam.DynamicReportFilterTypeItem && inputParam.DynamicReportFilterTypeItem.length>0){\r\n                let itemList=[];\r\n                inputParam.DynamicReportFilterTypeItem.map(x=>{\r\n                    if(x[designProperties.LISTITEM]===\"combo\"){\r\n                        itemList.push(\r\n                            {\"Pkey\":x[designProperties.PRIMARYKEY],\r\n                            \"nquerybuildertablecode\":x[designProperties.QUERYBUILDERTABLECODE],\r\n                        \"tablename\":x[designProperties.TABLENAME],\r\n                        \"columnname\":x[designProperties.COLUMNNAME],\r\n                    \"keyName\":x[designProperties.VALUE],\r\n                \"isMultiLingual\":x[designProperties.MULTILINGUAL],\r\n                \"languageTypeCode\" :inputParam.inputData.userinfo.slanguagetypecode,\r\n                \"recordType\":x[designProperties.RECORDTYPE]})\r\n                    }\r\n                })\r\n                inputParam[\"inputData\"][\"itemList\"]=itemList;\r\n                const reportFilterType = rsapi.post(\"release/getComboValues\", {...inputParam.inputData,'userInfo':inputParam.inputData.userinfo});\r\n                urlArray.push(reportFilterType);\r\n            }\r\n            // }\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n\r\n                .then(response => {\r\n                    // const reportTypeMap = constructOptionList(response[1].data.ReportType || [], \"ncoareporttypecode\",\r\n                    //     \"scoareporttypename\", undefined, undefined, false);\r\n\r\n                    // const ReportTypeList = reportTypeMap.get(\"OptionList\");                   \r\n                        if (response[1].data.Status === \"Success\") {\r\n                            let ProjectTypeList = [];\r\n                            let sectionList = [];\r\n                            let comboValues={};\r\n                            let sectionvalue=[];\r\n                            const sectionTypeMap = constructOptionList(response[3].data.sectionList || [], \"nsectioncode\",\r\n                                                   \"ssectionname\", undefined, undefined, false);\r\n                            sectionList = sectionTypeMap.get(\"OptionList\");\r\n                            sectionList.map(x=>sectionvalue.push({\"value\":x.value,\"title\":x.label}));\r\n                            let testListMap=response[2] && response[2].data\r\n                            let combovaluesListMap=response[4] && response[4].data\r\n                            let comboValueList={...testListMap, ...combovaluesListMap} ||{};\r\n                            comboValues={\"s.nsectioncode\":sectionvalue,...comboValueList}\r\n                            // let selectedRecord = {\"ncoareporttypecode\": {\r\n                            //     \"value\": response[1].data.ReportType[0].ncoareporttypecode,\r\n                            //      \"label\": response[1].data.ReportType[0].scoareporttypename\r\n                            // }\r\n                            // };\r\n                            let masterData = {};\r\n                            let openModal = true;\r\n    \r\n                            let selectedRecord = inputParam.inputData.selectedRecord;\r\n    \r\n                            if (response[0].data && response[0].data.ReleaseSample.length !== 0) {\r\n    \r\n                                let responseData = { ...response[0].data }\r\n                                masterData = {\r\n                                    ...inputParam.masterData, ...responseData\r\n                                }\r\n                            }\r\n                            else {\r\n                                let responseData = { ...response[0].data }\r\n                                masterData = {\r\n                                    ...inputParam.masterData, ...responseData\r\n                                }\r\n                                openModal = false;\r\n                                toast.warn(intl.formatMessage({ id: \"IDS_NOSAMPLESAREAVAILABLE\" }));\r\n                            }\r\n                            // responseData = sortData(responseData)\r\n                            let awesomeTree;\r\n                            let filterquery;\r\n                            let fields =getFilterConditionsBasedonDataType(inputParam.extractedColumnList,comboValues);\r\n                            if(inputParam.DynamicDefaultStructureItem && \r\n                               inputParam.DynamicDefaultStructureItem.nsampletypecode ===inputParam.inputData.nsampletypecode\r\n                               && inputParam.DynamicDefaultStructureItem.nregtypecode ===inputParam.inputData.nregtypecode\r\n                               && inputParam.DynamicDefaultStructureItem.nregsubtypecode===inputParam.inputData.nregsubtypecode ){\r\n                                    awesomeTree=inputParam.DynamicDefaultStructureItem && inputParam.DynamicDefaultStructureItem.awesomeTree && checkTree(loadTree(inputParam.DynamicDefaultStructureItem.awesomeTree), inputParam.DynamicDefaultStructureItem.awesomeConfig) \r\n                                    filterquery=inputParam.DynamicDefaultStructureItem.filterquery\r\n                                }else{\r\n                                    awesomeTree=undefined;\r\n                                }\r\n    \r\n                                sortData(masterData);\r\n                                dispatch({\r\n                                    type: DEFAULT_RETURN, payload: {\r\n                                        masterData,\r\n                                        // selectedRecord,\r\n                                        sectionList,\r\n                                        ncontrolCode: inputParam.inputData.ncontrolCode,\r\n                                        isDeletePopup: false,\r\n                                        isComboCheck: false,\r\n                                        isEditPopup: true,\r\n                                        ProjectTypeList,\r\n                                        loading: false,\r\n                                        showFilter: false,\r\n                                        openModal: openModal,\r\n                                        isAddPopup: false,\r\n                                        operation: \"append\",\r\n                                        expandCheck: false,\r\n                                        screenName: inputParam.inputData.screenName,\r\n                                        sectionvalue,\r\n                                        comboValues,\r\n                                        awesomeTree:awesomeTree,filterquery,fields,\r\n                                        screenNameCopy:inputParam.inputData.screenName,\r\n                                        slideOutClose: false    // ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\r\n                                    }\r\n                                })\r\n                        }\r\n                        else {\r\n                            toast.warn(intl.formatMessage({id: response[1].data.ValidationStatus}));\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    ncontrolCode: ncontrolCode,\r\n                                    loading: false\r\n                                }\r\n                            });\r\n    \r\n                        }                   \r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n                // }  else if(inputParam.inputData['allowAppendRemoveSamples'] === transactionStatus.NO || \r\n                // (inputParam.inputData['allowAppendRemoveSamples'] === transactionStatus.YES && inputParam.inputData['ncoaparenttranscode'] !== transactionStatus.DRAFT)){\r\n                //     toast.warn(intl.formatMessage({ id: \"IDS_SAMPLESARENOTALLOWEDTODELETE\" }));\r\n            } else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_SAMPLESARENOTALLOWEDTODELETE\" }));\r\n            dispatch({\r\n                type: DEFAULT_RETURN,\r\n                payload: {\r\n                    loading: false\r\n                }\r\n            });\r\n                // toast.warn(intl.formatMessage({ id: \"IDS_SAMPLESARENOTALLOWEDTODELETE\" })+ \" \"+ intl.formatMessage({ id: \"IDS_FOR\" })+ \" \"+ inputParam.inputData['sregsubtypename']);\r\n            }\r\n      \r\n    }\r\n}\r\nexport function UpdateApprovedSample(inputData, Data1) {\r\n\r\n\r\n    return function (dispatch) {\r\n        if (inputData !== undefined && inputData.npreregno !== \"\") {\r\n            // ALPD-4229 (12-06-2024) Deleted searchRef from inputData\r\n            delete(inputData.searchRef);\r\n            dispatch(initRequest(true));\r\n            return rsapi.post(\"release/appendRelease\",inputData)\r\n                .then(response => {\r\n                    if (response.data.rtn === \"Success\") {\r\n\r\n                        let masterData = {\r\n                            ...Data1, ...response.data,\r\n                        };\r\n                        sortData(masterData.ReleaseHistory, \"\", 'ncoaparentcode');\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                masterData,\r\n                                change: inputData.change,\r\n                                loading: false,\r\n                                loadEsign: false,\r\n                                openModal: false,\r\n                                expandCheck: false,                              \r\n                                slideOutClose: true // ALPD-4208 (22-05-2024) Changes done for expand function in add sample popup\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        toast.warn(response.data.rtn);\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                //  masterData,\r\n                                change: inputData.change,\r\n                                loading: false,\r\n                                //loadEsign: false,\r\n                                // openModal: false,\r\n                                slideOutClose: false,\r\n                                expandCheck: false\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                        // console.log(\"ErrorRelease,\", error);\r\n\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({\r\n                id: \"IDS_SELECTANYONESAMPLE\"\r\n            }));\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function getreportcomments(inputData, Data) {\r\n    return function (dispatch) {\r\n\r\n        dispatch(initRequest(true));\r\n\r\n        rsapi.post(\"release/getreportcomments\", inputData)\r\n            .then(response => {\r\n                let masterData = {\r\n                    ...Data,\r\n                    ...response.data,\r\n                }\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        loading: false, change: inputData.change, masterData,\r\n                        screenName: \"IDS_REPORTINFOCOMMENT\",\r\n                        openModal: true, selectedRecord: {}, loadEsign: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function fetchReportInfoReleaseById(editParam) {\r\n    return function (dispatch) {\r\n        let additionalInfo = [];\r\n\r\n        let inputParamData = {\r\n            nreportinforeleasecode: editParam.editRow.nreportinforeleasecode,\r\n            userinfo: editParam.userInfo\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/getActiveReportInfoReleaseById\", inputParamData)\r\n            .then(response => {\r\n\r\n                // const parameterResults = response.data.ReleaseParameter\r\n                let selectedId = editParam.editRow.nreportinforeleasecode;\r\n                const selectedComment = { ...response.data };\r\n                const masterData = {\r\n                    ...editParam.masterData,\r\n                    selectedComment\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n\r\n                    payload: {\r\n                        screenName: \"IDS_REPORTINFOCOMMENTS\",\r\n                        selectedId,\r\n                        masterData,\r\n                        //isParameterInitialRender: true,\r\n                        loading: false,\r\n                        openModal: true,\r\n                        // modalShow: true,\r\n                        ReportmodalShow: true,\r\n                        operation: \"update\",\r\n                        modalTitle: intl.formatMessage({ id: \"IDS_COMMENTS\" }),\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n        //}\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nexport function UpdateReportComments(userInfo, Data1, inputData) {\r\n    let inputParamData = {\r\n        selectedComment: Data1.selectedComment,\r\n        userinfo: userInfo\r\n    }\r\n\r\n    return function (dispatch) {\r\n        //if (inputData !== undefined &&inputData.npreregno!==\"\") {\r\n\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"release/updateReportComment\",\r\n\r\n            inputParamData\r\n        )\r\n            .then(response => {\r\n                let masterData = {\r\n\r\n                    ...Data1, ...response.data,\r\n                    selectedComment: {},\r\n                };\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        screenName: \"IDS_REPORTINFOCOMMENT\",\r\n                        loading: false,\r\n                        openModal: true,\r\n                        expandCheck: false,\r\n                        modalShow: false,\r\n                        ReportmodalShow: false,\r\n                        isComboCheck: true,\r\n\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                    // console.log(\"ErrorRelease,\", error);\r\n\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n        // }\r\n        // else {\r\n        //     toast.warn(intl.formatMessage({\r\n        //         id: \"IDS_SELECTANYONESAMPLE\"\r\n        //     }));\r\n        //}\r\n    }\r\n}\r\nexport function getResultCorrectionData(inputParam, ncontrolCode) {\r\n    return function (dispatch) {\r\n        if(inputParam.masterData && inputParam.masterData.selectedReleaseHistory && inputParam.masterData.selectedReleaseHistory.length > 1){\r\n            toast.warn(intl.formatMessage({ id: \"IDS_MULTISELECTAPPLICABLEONLYFORRELEASEACTION\" }));\r\n        } else {\r\n            let urlArray = [];\r\n            inputParam.inputData['isPopup'] = true\r\n            const resultCorrection = rsapi.post(\"release/getResultCorrection\", inputParam.inputData);\r\n            //  const reportType = rsapi.post(\"release/getCOAReportType\", { userinfo: inputParam.inputData.userinfo });\r\n            // const projectType = rsapi.post(\"release/getApprovedProjectType\", inputParam.inputData);\r\n            const statusService = rsapi.post(\"release/getStatusAlert\", inputParam.inputData);\r\n\r\n            urlArray = [resultCorrection, statusService\r\n                //,reportType\r\n            ];\r\n\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n\r\n            .then(response => {\r\n                if (response[1].data.Status === \"Success\") {\r\n\r\n                    let masterData = {};\r\n                    let selectedRecord = inputParam.inputData.selectedRecord;\r\n\r\n                    let responseData = { ...response[0].data }\r\n                    masterData = {\r\n                        ...inputParam.masterData, ...responseData\r\n                    }\r\n\r\n                    sortData(masterData);\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            masterData,\r\n                            // selectedRecord,\r\n                            isDeletePopup: true,\r\n                            isComboCheck: true,\r\n                            isEditPopup: false,\r\n                            loadEsign: false,\r\n                            ncontrolCode,\r\n                            loading: false,\r\n                            showFilter: false,\r\n                            openModal: true,\r\n                            isCorrectionNeed: true,\r\n                            isAddPopup: false,\r\n                            operation: \"delete\",\r\n                            ncontrolCode: inputParam.inputData.ncontrolCode,\r\n                            expandCheck: false,\r\n                            hideSave: true,\r\n                            screenName: inputParam.inputData.screenName,\r\n\r\n\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: response[1].data.ValidationStatus\r\n                    }));\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            ncontrolCode: ncontrolCode,\r\n                            loading: false,\r\n                            expandCheck: false,\r\n                            loadEsign: false,\r\n                            openModal: false\r\n                        }\r\n                    });\r\n\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\nexport function fetchParameterById(editParam) {\r\n    return function (dispatch) {\r\n        let additionalInfo = [];\r\n\r\n        let inputParamData = {\r\n            ntransactionresultcode: editParam.primaryKeyValue,\r\n            userinfo: editParam.userInfo\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/getReleaseResults\", inputParamData)\r\n            .then(response => {\r\n                let selectedResultGrade = [];\r\n                let paremterResultcode = [];\r\n                const parameterResults = response.data.ReleaseParameter\r\n                let predefDefaultFlag = false;\r\n                parameterResults.map((param, index) => {\r\n                    selectedResultGrade[index] = { ngradecode: param.ngradecode };\r\n                    paremterResultcode[index] = param.ntransactionresultcode;\r\n                    let jsondata = JSON.parse(param.jsondata['value'])\r\n                    if (jsondata.hasOwnProperty('additionalInfo')) {\r\n                        additionalInfo[param.ntransactionresultcode] = jsondata['additionalInfo']\r\n                    }\r\n                    predefDefaultFlag = false;\r\n                    (response.data.PredefinedValues && response.data.PredefinedValues[parameterResults[index].ntransactionresultcode]) &&\r\n                        response.data.PredefinedValues[parameterResults[index].ntransactionresultcode].map(predefinedvalue => {\r\n                            // if (predefinedvalue.ndefaultstatus === transactionStatus.YES) {\r\n                            //     if (!predefDefaultFlag) {\r\n                            //         predefDefaultFlag = true;\r\n                            //         response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] = constructOptionList(response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] || [], 'sresultpredefinedname', 'sresultpredefinedname', undefined,\r\n                            //             undefined, undefined).get(\"OptionList\");\r\n                            //     }\r\n                            // response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] =\r\n                            //     constructOptionList(response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] || [], 'spredefinedname', 'spredefinedname', undefined,\r\n                            //         undefined, undefined).get(\"OptionList\");\r\n                            //     if (response.data.ResultParameter[index].sresult === null) {\r\n                            //         response.data.ResultParameter[index].sresult = predefinedvalue.spredefinedname;\r\n                            //         response.data.ResultParameter[index].sresultpredefinedname = predefinedvalue.sresultpredefinedname;\r\n                            //         response.data.ResultParameter[index].sfinal = predefinedvalue.spredefinedsynonym;\r\n                            //         response.data.ResultParameter[index].editable = true;\r\n                            //         response.data.ResultParameter[index].ngradecode = predefinedvalue.ngradecode;\r\n                            //         if(predefinedvalue.spredefinedcomments&&predefinedvalue.spredefinedcomments!==null){\r\n                            //             response.data.ResultParameter[index].sresultcomment = predefinedvalue.spredefinedcomments\r\n                            //             &&predefinedvalue.spredefinedcomments;\r\n                            //         }\r\n                            //     }\r\n                            // }\r\n                            //  else {\r\n                            if (!predefDefaultFlag) {\r\n                                predefDefaultFlag = true;\r\n                                response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] = constructOptionList(response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] || [], 'sresultpredefinedname', 'sresultpredefinedname', undefined,\r\n                                    undefined, undefined).get(\"OptionList\");\r\n                            }\r\n\r\n                            //   }\r\n                            //return null;\r\n\r\n                        });\r\n                        //Modified by sonia on 6th Aug 2024 for JIRA ID: ALPD-4566\r\n                        if( parameterResults[index][\"nparametertypecode\"] ==1) {\r\n                            parameterResults[index][\"resultaccuracycode\"] ={\r\n                                \"value\": parameterResults[index][\"nresultaccuracycode\"],\r\n                                \"label\": parameterResults[index][\"sresultaccuracyname\"],\r\n                            };\r\n\r\n                            //Modified by sonia on 6th Aug 2024 for JIRA ID: ALPD-4566\r\n                            parameterResults[index][\"unitcode\"] ={\r\n                                \"value\": parameterResults[index][\"nunitcode\"],\r\n                                \"label\": parameterResults[index][\"sunitname\"],\r\n                            };\r\n                        }\r\n                    param['editable'] = false;\r\n                    //return null;\r\n                    // response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] =  constructOptionList(response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] || [], 'spredefinedname', 'spredefinedname', undefined,\r\n                    // undefined, undefined).get(\"OptionList\");\r\n                    parameterResults[index]={...parameterResults[index],...jsondata}\r\n                });\r\n\r\n                const ResultAccuracyList = constructOptionList(response.data[\"ResultAccuracy\"] || [], \"nresultaccuracycode\",\"sresultaccuracyname\", undefined, undefined, false);   \r\n                const ResultAccuracy = ResultAccuracyList.get(\"OptionList\");\r\n\r\n                const UnitList = constructOptionList(response.data[\"Unit\"] || [], \"nunitcode\",\"sunitname\", undefined, undefined, false);   \r\n                const Unit = UnitList.get(\"OptionList\");\r\n                //ALPD-4387\r\n                let formFields=[];\r\n                if(response.data.FormFields && response.data.FormFields.length>0){\r\n                let formFieldJSON=JSON.parse(response.data.FormFields[0].jsondata['value'])\r\n                Object.entries(formFieldJSON).map(([key, value])=>(\r\n                    formFields.push(value)\r\n                ))\r\n            }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...editParam.masterData,\r\n                            //...sortData(response.data,\"desc\",\"ntransactiontestcode\"),\r\n                            ...response.data,\r\n                            paremterResultcode,//,\r\n                            selectedResultGrade,\r\n                            ResultAccuracy,\r\n                            Unit,formFields\r\n\r\n                        },\r\n                        selectedRecord: {\r\n                            additionalInfo: additionalInfo.length > 0 ? additionalInfo : [],\r\n                            selectedResultGrade: selectedResultGrade,\r\n                            ReleaseParameter: response.data.ReleaseParameter\r\n\r\n                        },\r\n                        parameterResults: response.data.ReleaseParameter,\r\n                        isParameterInitialRender: true,\r\n                        loading: false,\r\n                        // screenName: \"IDS_RESULTENTRY\",\r\n                        openModal: true,\r\n                        modalShow: true,\r\n                        operation: \"update\",\r\n                        modalTitle: intl.formatMessage({ id: \"IDS_CHANGERESULT\" }),\r\n                        selectedId: editParam.primaryKeyValue,\r\n                        //activeTestKey: \"IDS_RESULTS\",\r\n                        ncontrolcode: editParam.editResultId\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n        //}\r\n\r\n\r\n    }\r\n\r\n}\r\nexport function updateCorrectionStatus(inputData, Data, screenname) {\r\n\r\n\r\n    return function (dispatch) {\r\n\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"release/updateCorrectionStatus\",\r\n\r\n            inputData\r\n        )\r\n            .then(response => {\r\n\r\n                if (response.data.rtn === \"Success\") {\r\n                    // ALPD-4229 (30-05-2024) Added code when search and do action\r\n                    let searchedData = Data.searchedData;\r\n                    if(Data.searchedData && Data.searchedData !== undefined && Data.searchedData.length > 0){\r\n                        searchedData = response.data && response.data.ReleaseHistory && \r\n                            getSameRecordFromTwoArrays(response.data.ReleaseHistory, Data.searchedData, \"ncoaparentcode\");\r\n                    }\r\n                    sortData(searchedData, '', 'ncoaparentcode');   // ALPD-4229 (12-06-2024) Added sortData for searchedData\r\n                    let masterData = {\r\n                        ...Data, ...response.data, searchedData\r\n                    };\r\n                    sortData(masterData.ReleaseHistory, \"\", 'ncoaparentcode');\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            masterData,\r\n                            change: inputData.change,\r\n                            openModal: false,\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            screenName: screenname\r\n\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            // masterData,\r\n                            //  change: inputData.change,\r\n                            openModal: false,\r\n                            loading: false,\r\n                            loadEsign: false,\r\n\r\n                            //  screenName:screenname\r\n\r\n                        }\r\n                    });\r\n                    toast.warn(intl.formatMessage({ id: response.data }));\r\n\r\n                }\r\n\r\n                // }\r\n            })\r\n\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                    //  console.log(\"ErrorRelease,\", error);\r\n\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n\r\n\r\n\r\n    }\r\n}\r\nexport function validateEsignforRelease(inputParam) {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"login/validateEsignCredential\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data === \"Success\") {\r\n\r\n                    const methodUrl = \"release\";\r\n                    inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"] = inputParam.inputData.userinfo;\r\n\r\n                    if (inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()] &&\r\n                        inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]) {\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"]\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignreason\"]\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"]\r\n                    }\r\n                    //dispatch(inputParam[\"screenData\"][\"inputParam\"].performAction(inputParam[\"screenData\"][\"inputParam\"], inputParam[\"screenData\"][\"masterData\"]))\r\n                    dispatch(dispatchMethods(inputParam[\"screenData\"]))\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data);\r\n                }\r\n            })\r\n    };\r\n}\r\nfunction dispatchMethods(screenData) {\r\n    return (dispatch) => {\r\n        let doAction = screenData.inputParam.inputData.doAction\r\n        switch (doAction) {\r\n            case \"appendsample\":\r\n                dispatch(UpdateApprovedSample(screenData.inputParam.inputData, screenData.masterData));\r\n                break;\r\n            case \"removesample\":\r\n                dispatch(getDeleteApprovedSample(screenData.inputParam.inputData, screenData.masterData, 'openModal'));\r\n                break;\r\n            case \"generate\":\r\n                dispatch(generateReleasedReport(screenData.inputParam.inputData, screenData.masterData));\r\n                break;\r\n            case \"download\":\r\n                dispatch(previewAndFinalReport(screenData.inputParam, screenData.masterData));\r\n                break;\r\n            case \"correction\":\r\n                dispatch(updateCorrectionStatus(screenData.inputParam.inputData, screenData.masterData, screenData.inputParam.inputData.screenName));\r\n                break;\r\n            case \"saveasdraft\":\r\n                dispatch(getApprovedRecordsAsDraft(screenData.inputParam.inputData, screenData.masterData, screenData.seletedRecord));\r\n                break;\r\n            case \"editresult\":\r\n                dispatch(crudMaster(screenData.inputParam, screenData.masterData, \"modalShow\"))\r\n                break;\r\n            case \"preliminary\":\r\n                dispatch(preliminaryReport(screenData.inputParam, screenData.masterData))\r\n                break;\r\n            case \"editReleaseTestAttachment\":\r\n                dispatch(onSaveReleaseTestAttachment(screenData.inputParam))\r\n                break;\r\n            case \"deleteReleaseTestAttachment\":\r\n                dispatch(onDeleteReleaseTestAttachment(screenData.inputParam))\r\n                break;\r\n            case \"editReleaseTestComment\":\r\n                dispatch(onSaveReleaseTestComment(screenData.inputParam))\r\n                break;\r\n            case \"deleteReleaseTestComment\":\r\n                dispatch(onDeleteReleaseTestComment(screenData.inputParam))\r\n                break;\r\n            case \"editReportTemplate\":\r\n                dispatch(SaveReportTemplate(screenData.inputParam))\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nexport function viewReportHistory(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/viewReportHistory\", inputParam.inputData)\r\n            .then(response => {\r\n                let masterData = inputParam.masterData;\r\n                let PatientReports = response.data.PatientReports;\r\n                masterData = { ...masterData, PatientReports };\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        isPatientReports: true,\r\n                        openModal: true,\r\n                        hideSave: true,\r\n                        isAddPopup: false,\r\n                        isEditPopup: false,\r\n                        isDeletePopup: false,\r\n                        masterData,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function viewReleaseTestAttachment(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let methodUrl = \"\";\r\n        if(inputParam.inputData.actionName === \"IDS_RELEASETESTATTACHMENT\"){\r\n            methodUrl=\"getReleaseTestAttachment\";\r\n        } else {\r\n            methodUrl=\"getReleaseTestComment\";\r\n        }\r\n        rsapi.post(\"release/\"+methodUrl, inputParam.inputData)\r\n            .then(response => {\r\n                let masterData = inputParam.masterData;\r\n                const ReleaseTestAttachmentDetails = response.data.ReleaseTestAttachmentDetails;\r\n                const ReleaseTestCommentDetails = response.data.ReleaseTestCommentDetails;\r\n                const isReleaseTestAttachment = inputParam.inputData.actionName === \"IDS_RELEASETESTATTACHMENT\";\r\n                const isReleaseTestComment = inputParam.inputData.actionName === \"IDS_RELEASETESTCOMMENT\";\r\n\r\n                const lstRegistrationArno = constructOptionList(response.data.RegistrationArno || [], \"npreregno\", \"sarno\", false, false, true);\r\n                const RegistrationArno = lstRegistrationArno.get(\"OptionList\");\r\n\r\n                const lstRegistrationSampleArno = constructOptionList(response.data.RegistrationSampleArno || [], \"ntransactionsamplecode\", \"ssamplearno\", false, false, true);\r\n                const RegistrationSampleArno = lstRegistrationSampleArno.get(\"OptionList\");\r\n\r\n                const lstRegistrationTest = constructOptionList(response.data.RegistrationTest || [], \"ntransactiontestcode\", \"stestsynonym\", false, false, true);\r\n                const RegistrationTest = lstRegistrationTest.get(\"OptionList\");\r\n\r\n                const lstCommentSubType = constructOptionList(response.data.CommentSubType || [], \"ncommentsubtypecode\", \"scommentsubtype\", false, false, true);\r\n                const CommentSubType = lstCommentSubType.get(\"OptionList\");\r\n\r\n                masterData = { ...masterData, ReleaseTestAttachmentDetails, ReleaseTestCommentDetails, RegistrationArno, RegistrationSampleArno, RegistrationTest, CommentSubType };\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        isReleaseTestAttachment,\r\n                        isReleaseTestComment,\r\n                        openModal: true,\r\n                        isAddPopup: false,\r\n                        isEditPopup: false,\r\n                        isDeletePopup: false,\r\n                        masterData,\r\n                        loading: false,\r\n                        isAddReleaseTestAttachment:false,\r\n                        isInitialRender : false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n// export function writeJSONTemplate(inputParam){ \r\n//     return function (dispatch) {    \r\n\r\n//         return rsapi.post(\"release/writeJSONTemplate\",\r\n\r\n//         { [inputParam.primaryKeyName] :inputParam.selectedReleaseHistory.ncoaparentcode , \r\n//             \"userinfo\": inputParam.userInfo}\r\n//     )\r\n//         .then(response => {\r\n\r\n//                 dispatch({\r\n//                     type: DEFAULT_RETURN, payload: {\r\n//                         loading: false,\r\n//                         openModal: false,\r\n//                         expandCheck: false,\r\n\r\n\r\n//                     }\r\n//                 });\r\n//         })\r\n//         .catch(error => {\r\n//             dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n//             if (error.response.status === 500) {\r\n//                 toast.error(error.message);\r\n\r\n\r\n//             }\r\n//             else {\r\n//                 toast.warn(error.response.data);\r\n//             }\r\n//         })\r\n\r\n// }\r\n// }\r\n\r\nexport function releaseReportHistory(inputParam) {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"release/getPreliminaryReportHistory\", inputParam)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputParam.masterData,\r\n                            ...response.data\r\n                        },\r\n                        //hange: inputData.change,\r\n                        openModal: true,\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        screenName: inputParam.screenName\r\n                    }\r\n                });\r\n            }\r\n            )\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    };\r\n}\r\nexport function versionHistory(inputParam) {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"release/getVersionHistory\", inputParam)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputParam.masterData,\r\n                            ...response.data\r\n                        },\r\n                        //hange: inputData.change,\r\n                        openModal: true,\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        openModalTitle: \"IDS_VERSIONHISTORY\"\r\n                    }\r\n                });\r\n            }\r\n            )\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    };\r\n}\r\n\r\n\r\nexport function downloadVersionReport(inputParam, Data, screenName) {\r\n    return function (dispatch) {\r\n\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/downloadVersionHistory\", inputParam.inputData)\r\n            .then(response => {\r\n                let masterData = {\r\n                    ...Data,\r\n                    ...response.data,\r\n                }\r\n                if (response.data.rtn === \"Success\") {\r\n                    document.getElementById(\"download_data\").setAttribute(\"href\", response.data.FilePath);\r\n                    document.getElementById(\"download_data\").click();\r\n                } else {\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload:\r\n                    {\r\n                        loading: false, change: inputParam.change, masterData, screenName: screenName,\r\n                        modalShow: false, selectedRecord: {}, loadEsign: false, openModal: inputParam.inputData.openModal\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function downloadHistory(inputParam, Data, screenName) {\r\n    return function (dispatch) {\r\n\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/downloadHistory\", inputParam.inputData)\r\n            .then(response => {\r\n                let masterData = {\r\n                    ...Data,\r\n                    ...response.data,\r\n                }\r\n                if (response.data.rtn === \"Success\") {\r\n                    document.getElementById(\"download_data\").setAttribute(\"href\", response.data.FilePath);\r\n                    document.getElementById(\"download_data\").click();\r\n                } else {\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload:\r\n                    {\r\n                        loading: false, change: inputParam.change, masterData, screenName: screenName,\r\n                        modalShow: false, selectedRecord: {}, loadEsign: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data['rtn']);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getPatientFilterExecuteData(inputParam) {\r\n    return function (dispatch) {\r\n\r\n        let obj = { ...inputParam.component, filterquery: inputParam.filterquery, userinfo: inputParam.userinfo }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/dynamicpreregdesign/getdynamicfilterexecutedata\", obj)\r\n            .then(response => {\r\n                const source = inputParam.component.source\r\n                const languageTypeCode = inputParam.userinfo.slanguagetypecode\r\n                const lstData = response.data[inputParam.component.label]\r\n                const multilingual = []\r\n                inputParam.component.filterfields.map(item => {\r\n                    if (item.ismultilingual) {\r\n                        multilingual.push(item.columnname)\r\n                    }\r\n                })\r\n                const optionList = lstData.map(item => {\r\n                    const jsondata = item[source] ? item[source].value ?\r\n                        JSON.parse(item[source].value) : item.jsondata : item.jsondata\r\n\r\n                    multilingual.map(mul => {\r\n                        jsondata[mul] =\r\n                            jsondata[mul][languageTypeCode] || jsondata[mul]['en-US'];\r\n                    })\r\n                    // let label = isMultiLingual ?\r\n                    //   jsondata[optionValue]\r\n                    //   [languageTypeCode] || jsondata[optionValue]['en-US']\r\n                    //   : jsondata[optionValue];\r\n\r\n                    return jsondata\r\n                });\r\n                if (inputParam.userinfo.nformcode === 161) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            lstPatient: optionList,\r\n                            onExecute: false,\r\n                            loading: false,\r\n                            screenName:\"IDS_PATIENTSEARCH\"\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            lstPatient: optionList,\r\n                            // onExecute: false,\r\n                            loading: false,\r\n                            screenName:\"IDS_PATIENTSEARCH\"\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data.rtn);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getPatientWiseSample(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/getPatientWiseSample\", inputParam)\r\n            .then(response => {\r\n                let openModal = true;\r\n                let screenName=\"IDS_ADDSAMPLE\";\r\n                let responseData = { ...response.data }\r\n            \r\n                let masterData = {} \r\n                let lstPatient=[]\r\n   masterData = {\r\n                        ...inputParam.masterData,\r\n                        ...responseData,\r\n                }\r\n               \r\n                    if (responseData && responseData.ReleaseSample.length !== 0) {\r\n                        \r\n                        let responseData = {  ...response.data }\r\n                        masterData = {\r\n                            ...inputParam.masterData, ...responseData\r\n                        }\r\n                    }\r\n                    else {\r\n                        let responseData = {  ...response.data }\r\n                        masterData = {\r\n                            ...inputParam.masterData, ...responseData\r\n                        }\r\n                        lstPatient=inputParam.Login.lstPatient\r\n                         //openModal = false;\r\n                          screenName=\"IDS_PATIENTSEARCH\";\r\n                        toast.warn(intl.formatMessage({ id: \"IDS_NOSAMPLESAREAVAILABLE\" }));\r\n                        }\r\n\r\n                \r\n\r\n            \r\n            sortData(masterData);\r\n            dispatch({\r\n                type: DEFAULT_RETURN, payload: {\r\n                    \r\n                  \r\n                    // awesomeTree:fieldList[0].awesomeTree,\r\n                     awesomeConfig:undefined,\r\n                     lstPatient:lstPatient,\r\n                    //lstPatient:[],\r\n                    kendoSkip: 0,\r\n                    kendoTake: 5,\r\n                    masterData,\r\n                    expandCheck: false,\r\n                    \r\n                    \r\n                    isDeletePopup: false,\r\n                    isComboCheck: false,\r\n                    isEditPopup: false,\r\n                    screenName:screenName,//\"IDS_ADDSAMPLE\",\r\n                    \r\n                    loading: false,\r\n                    showFilter: false,\r\n                    openModal: openModal,\r\n                    isAddPopup: true,\r\n                    operation:\"save\"\r\n                }\r\n            })\r\n        })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function onSaveReleaseTestAttachment(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n       rsapi.post(inputParam.inputData.classUrl +\"/\" + inputParam.inputData.operation + inputParam.inputData.methodUrl, inputParam.inputData.formData)\r\n            .then(response => {\r\n                let ReleaseTestAttachmentDetails = response.data.ReleaseTestAttachmentDetails;\r\n                let masterData = {...inputParam.inputData.masterData, ReleaseTestAttachmentDetails};\r\n                    let selectedRecord = {};\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            selectedRecord,\r\n                            isAddReleaseTestAttachment: false,\r\n                            isReleaseTestAttachment: true,\r\n                            loading: false,\r\n                            screenName: inputParam.inputData.screenName,\r\n                            masterData,\r\n                            isInitialRender: false,\r\n                            loadEsign: false,\r\n                            loadEsignStateHandle: false\r\n                        }\r\n                    })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response && error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else if(error.response === undefined){\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function onDeleteReleaseTestAttachment(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(inputParam.inputData.url, {\r\n            \"releasetestattachment\" : inputParam.inputData.releasetestattachment, \"userinfo\": inputParam.inputData.userinfo\r\n        })\r\n        .then(response => {\r\n            let ReleaseTestAttachmentDetails = response.data.ReleaseTestAttachmentDetails;\r\n            let selectedRecord = {\r\n                ...inputParam.inputData.selectedRecord, ...response.data\r\n            };\r\n            let masterData = inputParam.inputData.masterData;\r\n            masterData[\"ReleaseTestAttachmentDetails\"] = ReleaseTestAttachmentDetails;\r\n            dispatch({\r\n                type: DEFAULT_RETURN, payload: {\r\n                    selectedRecord,\r\n                    isReleaseTestAttachment: true,\r\n                    loading: false,\r\n                    screenName: inputParam.inputData.screenName,\r\n                    masterData,\r\n                    loadEsignStateHandle: false\r\n                }\r\n            })\r\n        })\r\n        .catch(error => {\r\n            dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            if (error.response && error.response.status === 500) {\r\n                toast.error(error.message);\r\n            }\r\n            else if(error.response === undefined){\r\n                toast.error(error.message);\r\n            } \r\n            else {\r\n                toast.warn(error.response.data);\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function onSaveReleaseTestComment(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(inputParam.inputData.classUrl +\"/\" + inputParam.inputData.operation + inputParam.inputData.methodUrl, inputParam.inputData.formData)\r\n        .then(response => {\r\n            let ReleaseTestCommentDetails = response.data.ReleaseTestCommentDetails;\r\n            let masterData = {...inputParam.inputData.masterData, ReleaseTestCommentDetails};\r\n            let selectedRecord = {};\r\n            dispatch({\r\n                type: DEFAULT_RETURN, payload: {\r\n                    selectedRecord,\r\n                    isAddReleaseTestComment: false,\r\n                    isReleaseTestComment: true,\r\n                    loading: false,\r\n                    screenName: inputParam.inputData.screenName,\r\n                    masterData,\r\n                    isInitialRender: false,\r\n                    loadEsignStateHandle: false\r\n                }\r\n            })\r\n        })\r\n        .catch(error => {\r\n            dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            if (error.response && error.response.status === 500) {\r\n                toast.error(error.message);\r\n            } else if (error.response === undefined){\r\n                toast.error(error.message);\r\n            }\r\n            else {\r\n                toast.warn(error.response.data);\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function onDeleteReleaseTestComment(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(inputParam.inputData.url, {\r\n            \"releasetestcomment\" : inputParam.inputData.releasetestcomment, \"userinfo\": inputParam.inputData.userinfo\r\n        })\r\n        .then(response => {\r\n            let ReleaseTestCommentDetails = response.data.ReleaseTestCommentDetails;\r\n            let selectedRecord = {\r\n                ...inputParam.inputData.selectedRecord, ...response.data\r\n            };\r\n            let masterData = inputParam.inputData.masterData;\r\n            masterData[\"ReleaseTestCommentDetails\"] = ReleaseTestCommentDetails;\r\n            dispatch({\r\n                type: DEFAULT_RETURN, payload: {\r\n                    selectedRecord,\r\n                    isReleaseTestComment: true,\r\n                    loading: false,\r\n                    screenName: inputParam.inputData.screenName,\r\n                    masterData,\r\n                    loadEsignStateHandle: false\r\n                }\r\n            })\r\n        })\r\n        .catch(error => {\r\n            dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            if (error.response && error.response.status === 500) {\r\n                toast.error(error.message);\r\n            }\r\n            else if (error.response === undefined){\r\n                toast.error(error.message);\r\n            }\r\n            else {\r\n                toast.warn(error.response.data);\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function generatereport(inputParam, Data, screenName) {\r\n    return function (dispatch) {\r\n\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/generateReport\", inputParam.inputData)\r\n            .then(response => {\r\n                // let masterData = {\r\n                //     ...Data,\r\n                //     ...response.data,\r\n                // }\r\n                // if (response.data.rtn === \"Success\") {\r\n                //     document.getElementById(\"download_data\").setAttribute(\"href\", response.data.FilePath);\r\n                //     document.getElementById(\"download_data\").click();\r\n                // } else {\r\n                //     toast.warn(response.data.rtn);\r\n                // }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload:\r\n                    {\r\n                        loading: false, change: inputParam.change, screenName: screenName,\r\n                        modalShow: false, selectedRecord: {}, loadEsign: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data['rtn']);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function editReportTemplate(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/getApprovedReportTemplateById\", inputParam.inputData)\r\n        .then(response => {\r\n            let responseData = response.data;\r\n            let selectedRecord = inputParam.selectedRecord;\r\n            selectedRecord[\"nreporttemplatecode\"] = responseData.nreporttemplatecode;\r\n            const reportTemplateMap = constructOptionList(responseData.reportTemplateList || [], \"nreporttemplatecode\", \"sreporttemplatename\", \"nreporttemplatecode\", \r\n                    \"ascending\", false);\r\n            const reportTemplateList = reportTemplateMap.get(\"OptionList\");\r\n            let masterData = inputParam.masterData;\r\n            masterData[\"reportTemplateList\"] = reportTemplateList;\r\n            masterData[\"selectedReleaseHistory\"] = masterData.selectedReleaseHistory && masterData.selectedReleaseHistory.length > 0 && \r\n                masterData.selectedReleaseHistory.filter(item => item.ncoaparentcode === inputParam.ncoaparentcode)\r\n            dispatch({\r\n                type: DEFAULT_RETURN, payload: {\r\n                    loading: false,\r\n                    masterData,\r\n                    screenName: intl.formatMessage({ id: \"IDS_REPORTTEMPLATE\" }),\r\n                    modalTitle: intl.formatMessage({ id: \"IDS_EDITREPORTTEMPLATE\" }),\r\n                    modalShow: true,\r\n                    loadEsign: false,\r\n                    selectedRecord\r\n            }\r\n            })\r\n        })\r\n        .catch(error => {\r\n            dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            if (error.response.status === 500) {\r\n                toast.error(error.message);\r\n            }\r\n            else {\r\n                toast.warn(error.response.data);\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function SaveReportTemplate(inputParam){\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/updateReportTemplate\", inputParam.inputData)\r\n        .then(response => {\r\n            let masterData = inputParam.masterData;\r\n            // ALPD-4229 (30-05-2024) Added code when search and do action\r\n            if(masterData.searchedData && masterData.searchedData !== undefined && masterData.searchedData.length > 0){\r\n                masterData.searchedData.map(item => {\r\n                    if(item.ncoaparentcode === inputParam.inputData.ncoaparentcode){\r\n                        item[\"nreporttemplatecode\"] = inputParam.inputData.nreporttemplatecode;\r\n                        item[\"sreporttemplatename\"] = inputParam.inputData.sreporttemplatename;\r\n                    }\r\n                });\r\n            }\r\n            masterData.selectedReleaseHistory[0][\"nreporttemplatecode\"] = inputParam.inputData.nreporttemplatecode;\r\n            masterData.selectedReleaseHistory[0][\"sreporttemplatename\"] = inputParam.inputData.sreporttemplatename;\r\n            masterData.ReleaseHistory.map(item => {\r\n                if(item.ncoaparentcode === inputParam.inputData.ncoaparentcode){\r\n                    item[\"nreporttemplatecode\"] = inputParam.inputData.nreporttemplatecode;\r\n                    item[\"sreporttemplatename\"] = inputParam.inputData.sreporttemplatename;\r\n                }\r\n            });\r\n            delete(inputParam.selectedRecord.nreporttemplatecode);\r\n            dispatch({\r\n                type: DEFAULT_RETURN, payload: {\r\n                    loading: false,\r\n                    masterData,\r\n                    modalShow: false,\r\n                    loadEsign: false,\r\n                    openModal: false\r\n            }\r\n            })\r\n        })\r\n        .catch(error => {\r\n            dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            if (error.response.status === 500) {\r\n                toast.error(error.message);\r\n            }\r\n            else {\r\n                toast.warn(error.response.data);\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function deleteSamples(inputParam, data){\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"release/deleteSamples\", inputParam.inputData)\r\n        .then(response => {\r\n            // ALPD-4229 (30-05-2024) Added searchedData as undefined\r\n            inputParam.searchRef.current.value = \"\";\r\n            let masterData = {\r\n                ...data, ...response.data, searchedData: undefined\r\n            };\r\n            sortData(masterData.ReleaseHistory, \"\", 'ncoaparentcode');\r\n            dispatch({\r\n                type: DEFAULT_RETURN, payload: {\r\n                    masterData,\r\n                    loading: false\r\n                }\r\n            });\r\n        })\r\n        .catch(error => {\r\n            dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            if (error.response.status === 500) {\r\n                toast.error(error.message);\r\n            }\r\n            else {\r\n                toast.warn(error.response.data);\r\n            }\r\n        })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}