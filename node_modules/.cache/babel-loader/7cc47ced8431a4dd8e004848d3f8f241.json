{"ast":null,"code":"import { DEFAULT_RETURN, UPDATE_LANGUAGE, REQUEST_INIT } from './LoginTypes';\nimport rsapi from \"../rsapi\";\nimport { intl } from '../components/App';\nimport { toast } from 'react-toastify';\nimport { constructjsonOptionList, constructOptionList, rearrangeDateFormat } from '../components/CommonScript';\nimport { getHomeDashBoard } from './DashBoardTypeAction';\nimport { getListStaticDashBoard } from './StaticDashBoardAction';\nimport { getListAlert } from './AlertViewAction';\nimport { getRandomColor } from '../components/header/headerutils';\nexport const initRequest = loading => {\n  return {\n    type: REQUEST_INIT,\n    payload: loading\n  };\n};\nexport const navPage = data => dispatch => {\n  dispatch({\n    type: DEFAULT_RETURN,\n    payload: {\n      navigation: data\n    }\n  });\n};\nexport const changeLanguage = (language, selectedRecord, loginType) => dispatch => {\n  const loginTypeMap = constructjsonOptionList(loginType || [], \"nlogintypecode\", \"sdisplayname\", false, false, true, undefined, 'jsondata', true, language);\n  dispatch({\n    type: UPDATE_LANGUAGE,\n    payload: {\n      language,\n      selectedRecord,\n      loginTypeList: loginTypeMap.get(\"OptionList\"),\n      selectedRecord: { ...selectedRecord,\n        nlogintypecode: loginTypeMap.get(\"DefaultValue\") ? loginTypeMap.get(\"DefaultValue\") : \"\"\n      }\n    }\n  });\n};\nexport const clickOnLoginButton = inputData => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(inputData.url, inputData).then(response => {\n      const returnStr = response.data[\"rtn\"];\n\n      if (returnStr.toUpperCase() === \"SUCCESS\") {\n        const responseData = response.data;\n        const PassFlag = responseData.PassFlag;\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            openCPModal: response.data.PassFlag === 6 || PassFlag === 55 ? true : false,\n            passwordPolicy: response.data.PasswordPolicy,\n            screenName: PassFlag === 6 ? \"IDS_CREATEPASSWORD\" : PassFlag === 55 ? \"IDS_CHANGEPASSWORD\" : \"\",\n            PassFlag,\n            userInfo: {\n              nlogintypecode: inputData.nlogintypecode\n            }\n          }\n        });\n\n        if (responseData.PassFlag !== 6 && responseData.PassFlag !== 55) {\n          const inputParam = {\n            userInfo: responseData.UserInfo,\n            menuDesign: responseData.MenuDesign,\n            navigation: inputData.navigation,\n            userRoleControlRights: responseData.UserRoleControlRights,\n            userFormControlProperties: responseData.UserFormControlproperties,\n            transactionValidation: responseData.TransactionValidation,\n            displayName: \"\",\n            userMultiRole: responseData.UserMultiRole,\n            settings: responseData.Settings,\n            sdmselnsettings: responseData.SDMSELNSettings,\n            deputyUser: response.data.DeputyUser,\n            deputyUserRole: response.data.DeputyUserRole,\n            isDeputyLogin: false,\n            loading: false,\n            userImagePath: responseData.UserImagePath,\n            //profileColor: \"#002699\",\n            profileColor: responseData.UserImagePath === \"\" ? getRandomColor([240, 360], [90, 100], [0, 95], [1, 1]) : \"#ff0000\",\n            idleneed: true\n          };\n          dispatch({\n            type: DEFAULT_RETURN,\n            payload: inputParam\n          });\n          dispatch(getListStaticDashBoard(responseData.UserInfo, 1)); // dispatch(getHomeDashBoard(responseData.UserInfo, 0, false));\n\n          dispatch(getListAlert(responseData.UserInfo, true));\n\n          if (responseData.PasswordAlertDay) {\n            toast.info(intl.formatMessage({\n              id: \"IDS_PASSWORDEXPIRY\"\n            }) + \" \" + responseData.PasswordAlertDay + \" \" + intl.formatMessage({\n              id: \"IDS_DAY\"\n            }));\n          }\n        }\n      } else {\n        toast.warn(intl.formatMessage({\n          id: returnStr\n        }));\n      }\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const submitChangeRole = inputParam => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"/login/getuserscreenrightsmenu\", inputParam).then(response => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          userInfo: response.data.UserInfo,\n          menuDesign: response.data.MenuDesign,\n          userRoleControlRights: response.data.UserRoleControlRights,\n          userMultiRole: response.data.UserMultiRole,\n          deputyUser: response.data.DeputyUser,\n          deputyUserRole: response.data.DeputyUserRole,\n          loading: false,\n          masterData: [],\n          displayName: \"\",\n          navigation: \"home\",\n          inputParam: {},\n          openRoleBox: false\n        }\n      });\n      dispatch(getListStaticDashBoard(response.data.UserInfo, 1));\n      dispatch(getHomeDashBoard(response.data.UserInfo, 0, false));\n      dispatch(getListAlert(response.data.UserInfo));\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const updateStore = updateInfo => dispatch => {\n  if (updateInfo.data.loadEsign === true) {\n    dispatch(initRequest(true));\n    rsapi.post(\"/timezone/getLocalTimeByZone\", {\n      \"userinfo\": updateInfo.data.screenData.inputParam.inputData.userinfo\n    }).then(response => {\n      dispatch({\n        type: updateInfo.typeName,\n        payload: {\n          serverTime: rearrangeDateFormat(updateInfo.data.screenData.inputParam.inputData.userinfo, response.data),\n          ...updateInfo.data,\n          masterStatus: \"\",\n          errorCode: undefined,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  } else {\n    dispatch({\n      type: updateInfo.typeName,\n      payload: { ...updateInfo.data,\n        masterStatus: \"\",\n        errorCode: undefined\n      }\n    });\n  }\n};\nexport const getChangeUserRole = userInfo => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"/login/getchangerole\", {\n      \"userinfo\": userInfo\n    }).then(response => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: { ...response.data,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const getLoginDetails = () => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"/login/getloginInfo\", {}).then(response => {\n      // let loginType = [];\n      // response.data.LoginType.map(type => {\n      //     loginType\n      // })\n      const languageMap = constructOptionList(response.data.Language || [], \"slanguagetypecode\", \"slanguagename\", false, false, true);\n      let defaultLanguage = languageMap.get(\"DefaultValue\") ? languageMap.get(\"DefaultValue\") : undefined;\n      let languageCode = defaultLanguage ? defaultLanguage.value : \"en-US\";\n      const loginTypeMap = constructjsonOptionList(response.data.LoginType || [], \"nlogintypecode\", \"sdisplayname\", false, false, true, undefined, 'jsondata', true, languageCode);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loginTypes: response.data.LoginType,\n          loginTypeList: loginTypeMap.get(\"OptionList\"),\n          languageList: languageMap.get(\"OptionList\"),\n          selectedRecord: {\n            nlogintypecode: loginTypeMap.get(\"DefaultValue\") ? loginTypeMap.get(\"DefaultValue\") : \"\",\n            nlanguagecode: defaultLanguage || \"\"\n          },\n          language: defaultLanguage.value,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const getUserSiteAndRole = (inputParam, selectedRecord) => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"/login/getloginvalidation\", { ...inputParam\n    }).then(response => {\n      const roleMap = constructOptionList(response.data.UserMultiRole || [], \"nusermultirolecode\", \"suserrolename\", false, false, true, \"ndefaultrole\");\n      const siteMap = constructOptionList(response.data.Site || [], \"nusersitecode\", \"ssitename\", false, false, true, \"ndefaultsite\");\n      let loggeInLoginTypeCode = response.data.Users.nlogintypecode;\n      let logintypecode = inputParam.logintype.filter(x => x.value === loggeInLoginTypeCode);\n\n      if (inputParam.logintype.length > 0 && logintypecode.length === 0) {\n        logintypecode = inputParam.logintype;\n        loggeInLoginTypeCode = logintypecode[0].value;\n      }\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loginUserRole: roleMap.get(\"OptionList\"),\n          loginUserSite: siteMap.get(\"OptionList\"),\n          selectedRecord: { ...selectedRecord,\n            nusermultirolecode: roleMap.get(\"DefaultValue\") ? roleMap.get(\"DefaultValue\") : roleMap.get(\"OptionList\") ? roleMap.get(\"OptionList\")[0] : \"\",\n            nusersitecode: siteMap.get(\"DefaultValue\") ? siteMap.get(\"DefaultValue\") : siteMap.get(\"OptionList\") ? siteMap.get(\"OptionList\")[0] : \"\",\n            nusercode: response.data.Users.nusercode,\n            nlogintypecode: logintypecode ? logintypecode[0] : \"\"\n          },\n          openCPModal: response.data.PassFlag === 6 ? true : false,\n          passwordPolicy: response.data.PasswordPolicy,\n          screenName: \"IDS_CREATEPASSWORD\",\n          loading: false,\n          PassFlag: response.data.PassFlag,\n          createPwdRecord: {},\n          userInfo: {\n            nlogintypecode: loggeInLoginTypeCode\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false,\n          loginUserRole: [],\n          loginUserSite: [],\n          selectedRecord: { ...selectedRecord,\n            nusermultirolecode: \"\",\n            nusersitecode: \"\"\n          }\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const createPassword = inputParam => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"/login/createnewpassword\", { ...inputParam\n    }).then(response => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          openCPModal: false,\n          loading: false,\n          createPwdRecord: {}\n        }\n      });\n      toast.success(intl.formatMessage({\n        id: \"IDS_PASSWORDCREATEDSUCCESSFULLY\"\n      }));\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const changepassword = inputParam => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"/login/changepassword\", { ...inputParam\n    }).then(response => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          openCPModal: false,\n          loading: false,\n          createPwdRecord: {},\n          navigation: \"login\"\n        }\n      });\n      toast.success(intl.formatMessage({\n        id: \"IDS_PASSWORDCHANGEDSUCCESSFULLY\"\n      }));\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const getPassWordPolicy = nuserrolecode => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"/login/getPassWordPolicy\", {\n      nuserrolecode\n    }).then(response => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          openCPModal: true,\n          loading: false,\n          createPwdRecord: {},\n          screenName: \"IDS_CHANGEPASSWORD\",\n          passwordPolicy: response.data.PasswordPolicy\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const changeOwner = inputData => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"/login/changeOwner\", { ...inputData\n    }).then(response => {\n      const responseData = response.data;\n      const inputParam = {\n        userInfo: responseData.UserInfo,\n        menuDesign: responseData.MenuDesign,\n        userRoleControlRights: responseData.UserRoleControlRights,\n        userFormControlProperties: responseData.UserFormControlproperties,\n        transactionValidation: responseData.TransactionValidation,\n        displayName: \"\",\n        userMultiRole: responseData.UserMultiRole,\n        isDeputyLogin: true,\n        // settings: responseData.Settings,\n        // deputyUser: response.data.DeputyUser,\n        // deputyUserRole: response.data.DeputyUserRole,\n        loading: false,\n        masterData: [],\n        navigation: \"home\",\n        inputParam: {},\n        openRoleBox: false,\n        userImagePath: responseData.UserImagePath,\n        profileColor: responseData.UserImagePath === \"\" ? getRandomColor([240, 360], [90, 100], [0, 95], [1, 1]) : \"#ff0000\",\n        idleneed: true\n      };\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: inputParam\n      });\n      dispatch(getListStaticDashBoard(response.data.UserInfo, 1));\n      dispatch(getHomeDashBoard(response.data.UserInfo, 0, false));\n      dispatch(getListAlert(response.data.UserInfo));\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const logOutAuditAction = inputData => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post('login/insertAuditAction', { ...inputData,\n      nFlag: 2\n    }).then(response => {\n      dispatch(navPage(\"login\"));\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n};\nexport const elnLoginAction = (inputParam, serverUrl, uiUrl) => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(serverUrl, { ...inputParam\n    }).then(response => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (response !== null && response.data.objResponse !== null) {\n        if (response.data.objResponse.status) {\n          if (uiUrl) {\n            let user = response;\n            let elnURL = uiUrl + \"#\" + user.data.username + \"$\" + user.data.password;\n            window.open(elnURL, '_blank');\n          } else {\n            toast.info(intl.FormattedMessage({\n              id: \"IDS_ELNUIURLNOTAVAILABLE\"\n            }));\n          }\n        } else {\n          toast.info(response.data.objResponse.information);\n        } // if(!$(\"#appsdetails\").is(\":hidden\")){\n        //     $('#appsdetails').addClass(\"dp-none\");\n        // }\n\n      }\n\n      ;\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n      toast.error(error.message);\n    });\n  };\n};\nexport const sdmsLoginAction = (inputParam, serverUrl, sdmsUIUrl) => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(serverUrl, { ...inputParam\n    }).then(response => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (response !== null && response.data.status) {\n        if (response.data.status) {\n          const sdmsURL = sdmsUIUrl + \"?un=\" + response.data.username + \"&pd=\" + response.data.password + \"&sc=\" + inputParam.sSiteCode;\n          window.open(sdmsURL, '_blank');\n        } else {\n          toast.info(response.Message);\n        }\n      } else {\n        toast.info(intl.FormattedMessage({\n          id: \"IDS_CHECKSYNCSERVICE\"\n        }));\n      }\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n      toast.error(error.message);\n    });\n  };\n};\nexport const getUsersiteRole = inputParam => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post('login/changeSite', {\n      \"usersSite\": inputParam.selectedRecord.nusersitecode.item\n    }).then(response => {\n      const roleMap = constructOptionList(response.data.UserMultiRole || [], \"nusermultirolecode\", \"suserrolename\", false, false, true, \"ndefaultrole\");\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false,\n          loginUserRole: roleMap.get(\"OptionList\"),\n          selectedRecord: { ...inputParam.selectedRecord,\n            nusermultirolecode: roleMap.get(\"DefaultValue\") ? roleMap.get(\"DefaultValue\") : roleMap.get(\"OptionList\") ? roleMap.get(\"OptionList\")[0] : \"\"\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n      toast.error(error.message);\n    });\n  };\n};\nexport const checkPassword = (inputParam, selectedRecord) => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"/login/getlogintypevalidation\", { ...inputParam\n    }).then(response => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          selectedRecord: { ...selectedRecord,\n            nusercode: response.data.Users.nusercode\n          },\n          userInfo: {\n            nlogintypecode: inputParam.nlogintypecode\n          },\n          openCPModal: response.data.PassFlag === 6 ? true : false,\n          passwordPolicy: response.data.PasswordPolicy,\n          screenName: \"IDS_CREATEPASSWORD\",\n          loading: false,\n          PassFlag: response.data.PassFlag,\n          createPwdRecord: {}\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/LoginAction.js"],"names":["DEFAULT_RETURN","UPDATE_LANGUAGE","REQUEST_INIT","rsapi","intl","toast","constructjsonOptionList","constructOptionList","rearrangeDateFormat","getHomeDashBoard","getListStaticDashBoard","getListAlert","getRandomColor","initRequest","loading","type","payload","navPage","data","dispatch","navigation","changeLanguage","language","selectedRecord","loginType","loginTypeMap","undefined","loginTypeList","get","nlogintypecode","clickOnLoginButton","inputData","post","url","then","response","returnStr","toUpperCase","responseData","PassFlag","openCPModal","passwordPolicy","PasswordPolicy","screenName","userInfo","inputParam","UserInfo","menuDesign","MenuDesign","userRoleControlRights","UserRoleControlRights","userFormControlProperties","UserFormControlproperties","transactionValidation","TransactionValidation","displayName","userMultiRole","UserMultiRole","settings","Settings","sdmselnsettings","SDMSELNSettings","deputyUser","DeputyUser","deputyUserRole","DeputyUserRole","isDeputyLogin","userImagePath","UserImagePath","profileColor","idleneed","PasswordAlertDay","info","formatMessage","id","warn","catch","error","status","message","submitChangeRole","masterData","openRoleBox","updateStore","updateInfo","loadEsign","screenData","userinfo","typeName","serverTime","masterStatus","errorCode","getChangeUserRole","getLoginDetails","languageMap","Language","defaultLanguage","languageCode","value","LoginType","loginTypes","languageList","nlanguagecode","getUserSiteAndRole","roleMap","siteMap","Site","loggeInLoginTypeCode","Users","logintypecode","logintype","filter","x","length","loginUserRole","loginUserSite","nusermultirolecode","nusersitecode","nusercode","createPwdRecord","createPassword","success","changepassword","getPassWordPolicy","nuserrolecode","changeOwner","logOutAuditAction","nFlag","elnLoginAction","serverUrl","uiUrl","objResponse","user","elnURL","username","password","window","open","FormattedMessage","information","sdmsLoginAction","sdmsUIUrl","sdmsURL","sSiteCode","Message","getUsersiteRole","item","checkPassword"],"mappings":"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","sourcesContent":["import {\r\n    DEFAULT_RETURN,\r\n    UPDATE_LANGUAGE,\r\n    REQUEST_INIT\r\n} from './LoginTypes';\r\nimport rsapi from \"../rsapi\";\r\nimport {\r\n    intl\r\n} from '../components/App';\r\nimport {\r\n    toast\r\n} from 'react-toastify';\r\nimport {\r\n    constructjsonOptionList,\r\n    constructOptionList, rearrangeDateFormat\r\n} from '../components/CommonScript';\r\nimport {\r\n    getHomeDashBoard\r\n} from './DashBoardTypeAction';\r\nimport {\r\n    getListStaticDashBoard\r\n} from './StaticDashBoardAction';\r\nimport {\r\n    getListAlert\r\n} from './AlertViewAction'\r\nimport {\r\n    getRandomColor\r\n} from '../components/header/headerutils';\r\n\r\nexport const initRequest = (loading) => {\r\n    return {\r\n        type: REQUEST_INIT,\r\n        payload: loading\r\n    }\r\n}\r\n\r\nexport const navPage = (data) => dispatch => {\r\n    dispatch({\r\n        type: DEFAULT_RETURN,\r\n        payload: {\r\n            navigation: data\r\n        }\r\n    });\r\n}\r\n\r\nexport const changeLanguage = (language, selectedRecord, loginType) => (dispatch) => {\r\n    const loginTypeMap = constructjsonOptionList(loginType || [], \"nlogintypecode\",\r\n        \"sdisplayname\", false, false, true, undefined, 'jsondata', true, language);\r\n    dispatch({\r\n        type: UPDATE_LANGUAGE,\r\n        payload: {\r\n            language,\r\n            selectedRecord,\r\n            loginTypeList: loginTypeMap.get(\"OptionList\"),\r\n            selectedRecord: {\r\n                ...selectedRecord,\r\n                nlogintypecode: loginTypeMap.get(\"DefaultValue\") ? loginTypeMap.get(\"DefaultValue\") : \"\"\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nexport const clickOnLoginButton = (inputData) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(inputData.url, inputData)\r\n            .then(response => {\r\n                const returnStr = response.data[\"rtn\"];\r\n                if (returnStr.toUpperCase() === \"SUCCESS\") {\r\n                    const responseData = response.data;\r\n                    const PassFlag = responseData.PassFlag;\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            openCPModal: response.data.PassFlag === 6 || PassFlag === 55 ? true : false,\r\n                            passwordPolicy: response.data.PasswordPolicy,\r\n                            screenName: PassFlag === 6 ? \"IDS_CREATEPASSWORD\" : PassFlag === 55 ? \"IDS_CHANGEPASSWORD\" : \"\",\r\n                            PassFlag,\r\n                            userInfo: {\r\n                                nlogintypecode: inputData.nlogintypecode\r\n                            }\r\n                        }\r\n                    });\r\n                    if (responseData.PassFlag !== 6 && responseData.PassFlag !== 55) {\r\n                        const inputParam = {\r\n                            userInfo: responseData.UserInfo,\r\n                            menuDesign: responseData.MenuDesign,\r\n                            navigation: inputData.navigation,\r\n                            userRoleControlRights: responseData.UserRoleControlRights,\r\n                            userFormControlProperties: responseData.UserFormControlproperties,\r\n                            transactionValidation: responseData.TransactionValidation,\r\n                            displayName: \"\",\r\n                            userMultiRole: responseData.UserMultiRole,\r\n                            settings: responseData.Settings,\r\n                            sdmselnsettings: responseData.SDMSELNSettings,\r\n                            deputyUser: response.data.DeputyUser,\r\n                            deputyUserRole: response.data.DeputyUserRole,\r\n                            isDeputyLogin: false,\r\n                            loading: false,\r\n                            userImagePath: responseData.UserImagePath,\r\n                            //profileColor: \"#002699\",\r\n                            profileColor: responseData.UserImagePath === \"\" ? getRandomColor([240, 360], [90, 100], [0, 95], [1, 1]) : \"#ff0000\",\r\n                            idleneed: true\r\n                        }\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: inputParam\r\n                        });\r\n\r\n                        dispatch(getListStaticDashBoard(responseData.UserInfo, 1));\r\n                        // dispatch(getHomeDashBoard(responseData.UserInfo, 0, false));\r\n                        dispatch(getListAlert(responseData.UserInfo, true));\r\n                        if (responseData.PasswordAlertDay) {\r\n                            toast.info(intl.formatMessage({\r\n                                id: \"IDS_PASSWORDEXPIRY\"\r\n                            }) + \" \" + responseData.PasswordAlertDay + \" \" + intl.formatMessage({\r\n                                id: \"IDS_DAY\"\r\n                            }))\r\n                        }\r\n                    }\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: returnStr\r\n                    }));\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const submitChangeRole = (inputParam) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/login/getuserscreenrightsmenu\", inputParam)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        userInfo: response.data.UserInfo,\r\n                        menuDesign: response.data.MenuDesign,\r\n                        userRoleControlRights: response.data.UserRoleControlRights,\r\n                        userMultiRole: response.data.UserMultiRole,\r\n                        deputyUser: response.data.DeputyUser,\r\n                        deputyUserRole: response.data.DeputyUserRole,\r\n                        loading: false,\r\n                        masterData: [],\r\n                        displayName: \"\",\r\n                        navigation: \"home\",\r\n                        inputParam: {},\r\n                        openRoleBox: false\r\n                    }\r\n                });\r\n                dispatch(getListStaticDashBoard(response.data.UserInfo, 1));\r\n                dispatch(getHomeDashBoard(response.data.UserInfo, 0, false));\r\n                dispatch(getListAlert(response.data.UserInfo));\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const updateStore = (updateInfo) => dispatch => {\r\n    if (updateInfo.data.loadEsign === true) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/timezone/getLocalTimeByZone\", {\r\n            \"userinfo\": updateInfo.data.screenData.inputParam.inputData.userinfo\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: updateInfo.typeName,\r\n                    payload: {\r\n                        serverTime: rearrangeDateFormat(updateInfo.data.screenData.inputParam.inputData.userinfo, response.data),\r\n                        ...updateInfo.data,\r\n                        masterStatus: \"\",\r\n                        errorCode: undefined,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            });\r\n    } else {\r\n        dispatch({\r\n            type: updateInfo.typeName,\r\n            payload: {\r\n                ...updateInfo.data,\r\n                masterStatus: \"\",\r\n                errorCode: undefined\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport const getChangeUserRole = (userInfo) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/login/getchangerole\", {\r\n            \"userinfo\": userInfo\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        ...response.data,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const getLoginDetails = () => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/login/getloginInfo\", {})\r\n            .then(response => {\r\n                // let loginType = [];\r\n                // response.data.LoginType.map(type => {\r\n                //     loginType\r\n                // })\r\n                const languageMap = constructOptionList(response.data.Language || [], \"slanguagetypecode\", \"slanguagename\", false, false, true);\r\n                let defaultLanguage = languageMap.get(\"DefaultValue\") ? languageMap.get(\"DefaultValue\") : undefined;\r\n                let languageCode = defaultLanguage ? defaultLanguage.value : \"en-US\";\r\n                const loginTypeMap = constructjsonOptionList(response.data.LoginType || [], \"nlogintypecode\", \"sdisplayname\", false, false, true, undefined, 'jsondata', true, languageCode);\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loginTypes: response.data.LoginType,\r\n                        loginTypeList: loginTypeMap.get(\"OptionList\"),\r\n                        languageList: languageMap.get(\"OptionList\"),\r\n                        selectedRecord: {\r\n                            nlogintypecode: loginTypeMap.get(\"DefaultValue\") ? loginTypeMap.get(\"DefaultValue\") : \"\",\r\n                            nlanguagecode: defaultLanguage || \"\"\r\n                        },\r\n                        language:defaultLanguage.value,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const getUserSiteAndRole = (inputParam, selectedRecord) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/login/getloginvalidation\", {\r\n            ...inputParam\r\n        })\r\n            .then(response => {\r\n                const roleMap = constructOptionList(response.data.UserMultiRole || [], \"nusermultirolecode\", \"suserrolename\", false, false, true, \"ndefaultrole\");\r\n                const siteMap = constructOptionList(response.data.Site || [], \"nusersitecode\", \"ssitename\", false, false, true, \"ndefaultsite\");\r\n                let loggeInLoginTypeCode = response.data.Users.nlogintypecode;\r\n                let logintypecode = inputParam.logintype.filter(x => x.value === loggeInLoginTypeCode);\r\n                if (inputParam.logintype.length > 0 && logintypecode.length === 0) {\r\n                    logintypecode = inputParam.logintype;\r\n                    loggeInLoginTypeCode = logintypecode[0].value;\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loginUserRole: roleMap.get(\"OptionList\"),\r\n                        loginUserSite: siteMap.get(\"OptionList\"),\r\n                        selectedRecord: {\r\n                            ...selectedRecord,\r\n                            nusermultirolecode: roleMap.get(\"DefaultValue\") ?\r\n                                roleMap.get(\"DefaultValue\") : roleMap.get(\"OptionList\") ? roleMap.get(\"OptionList\")[0] : \"\",\r\n                            nusersitecode: siteMap.get(\"DefaultValue\") ?\r\n                                siteMap.get(\"DefaultValue\") : siteMap.get(\"OptionList\") ? siteMap.get(\"OptionList\")[0] : \"\",\r\n                            nusercode: response.data.Users.nusercode,\r\n                            nlogintypecode: logintypecode ? logintypecode[0] : \"\"\r\n                        },\r\n                        openCPModal: response.data.PassFlag === 6 ? true : false,\r\n                        passwordPolicy: response.data.PasswordPolicy,\r\n                        screenName: \"IDS_CREATEPASSWORD\",\r\n                        loading: false,\r\n                        PassFlag: response.data.PassFlag,\r\n                        createPwdRecord: {},\r\n                        userInfo: {\r\n                            nlogintypecode: loggeInLoginTypeCode\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        loginUserRole: [],\r\n                        loginUserSite: [],\r\n                        selectedRecord: {\r\n                            ...selectedRecord,\r\n                            nusermultirolecode: \"\",\r\n                            nusersitecode: \"\"\r\n                        }\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const createPassword = (inputParam) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/login/createnewpassword\", {\r\n            ...inputParam\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        openCPModal: false,\r\n                        loading: false,\r\n                        createPwdRecord: {}\r\n                    }\r\n                });\r\n                toast.success(intl.formatMessage({\r\n                    id: \"IDS_PASSWORDCREATEDSUCCESSFULLY\"\r\n                }));\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const changepassword = (inputParam) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/login/changepassword\", {\r\n            ...inputParam\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        openCPModal: false,\r\n                        loading: false,\r\n                        createPwdRecord: {},\r\n                        navigation: \"login\"\r\n                    }\r\n                });\r\n                toast.success(intl.formatMessage({\r\n                    id: \"IDS_PASSWORDCHANGEDSUCCESSFULLY\"\r\n                }));\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const getPassWordPolicy = (nuserrolecode) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/login/getPassWordPolicy\", {\r\n            nuserrolecode\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        openCPModal: true,\r\n                        loading: false,\r\n                        createPwdRecord: {},\r\n                        screenName: \"IDS_CHANGEPASSWORD\",\r\n                        passwordPolicy: response.data.PasswordPolicy\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const changeOwner = (inputData) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/login/changeOwner\", {\r\n            ...inputData\r\n        })\r\n            .then(response => {\r\n                const responseData = response.data;\r\n                const inputParam = {\r\n                    userInfo: responseData.UserInfo,\r\n                    menuDesign: responseData.MenuDesign,\r\n                    userRoleControlRights: responseData.UserRoleControlRights,\r\n                    userFormControlProperties: responseData.UserFormControlproperties,\r\n                    transactionValidation: responseData.TransactionValidation,\r\n                    displayName: \"\",\r\n                    userMultiRole: responseData.UserMultiRole,\r\n                    isDeputyLogin: true,\r\n                    // settings: responseData.Settings,\r\n                    // deputyUser: response.data.DeputyUser,\r\n                    // deputyUserRole: response.data.DeputyUserRole,\r\n                    loading: false,\r\n                    masterData: [],\r\n                    navigation: \"home\",\r\n                    inputParam: {},\r\n                    openRoleBox: false,\r\n                    userImagePath: responseData.UserImagePath,\r\n                    profileColor: responseData.UserImagePath === \"\" ? getRandomColor([240, 360], [90, 100], [0, 95], [1, 1]) : \"#ff0000\",\r\n                    idleneed: true\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: inputParam\r\n                });\r\n                dispatch(getListStaticDashBoard(response.data.UserInfo, 1));\r\n                dispatch(getHomeDashBoard(response.data.UserInfo, 0, false));\r\n                dispatch(getListAlert(response.data.UserInfo));\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const logOutAuditAction = (inputData) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post('login/insertAuditAction', {\r\n            ...inputData,\r\n            nFlag: 2\r\n        })\r\n            .then(response => {\r\n                dispatch(navPage(\"login\"))\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const elnLoginAction = (inputParam, serverUrl, uiUrl) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(serverUrl, {\r\n            ...inputParam\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (response !== null && response.data.objResponse !== null) {\r\n                    if (response.data.objResponse.status) {\r\n                        if (uiUrl) {\r\n                            let user = response;\r\n                            let elnURL = uiUrl + \"#\" + user.data.username + \"$\" + user.data.password;\r\n                            window.open(elnURL, '_blank');\r\n                        } else {\r\n                            toast.info(intl.FormattedMessage({\r\n                                id: \"IDS_ELNUIURLNOTAVAILABLE\"\r\n                            }))\r\n                        }\r\n                    } else {\r\n                        toast.info(response.data.objResponse.information);\r\n                    }\r\n                    // if(!$(\"#appsdetails\").is(\":hidden\")){\r\n                    //     $('#appsdetails').addClass(\"dp-none\");\r\n                    // }\r\n                };\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\nexport const sdmsLoginAction = (inputParam, serverUrl, sdmsUIUrl) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(serverUrl, {\r\n            ...inputParam\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (response !== null && response.data.status) {\r\n                    if (response.data.status) {\r\n                        const sdmsURL = sdmsUIUrl + \"?un=\" + response.data.username + \"&pd=\" + response.data.password + \"&sc=\" + inputParam.sSiteCode;\r\n                        window.open(sdmsURL, '_blank');\r\n                    } else {\r\n                        toast.info(response.Message);\r\n                    }\r\n                } else {\r\n                    toast.info(intl.FormattedMessage({\r\n                        id: \"IDS_CHECKSYNCSERVICE\"\r\n                    }));\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\n\r\nexport const getUsersiteRole = (inputParam) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post('login/changeSite', {\r\n            \"usersSite\": inputParam.selectedRecord.nusersitecode.item\r\n        })\r\n            .then(response => {\r\n                const roleMap = constructOptionList(response.data.UserMultiRole || [], \"nusermultirolecode\", \"suserrolename\", false, false, true, \"ndefaultrole\");\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        loginUserRole: roleMap.get(\"OptionList\"),\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nusermultirolecode: roleMap.get(\"DefaultValue\") ?\r\n                                roleMap.get(\"DefaultValue\") : roleMap.get(\"OptionList\") ? roleMap.get(\"OptionList\")[0] : \"\"\r\n\r\n\r\n                        },\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\nexport const checkPassword = (inputParam, selectedRecord) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/login/getlogintypevalidation\", {\r\n            ...inputParam\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        selectedRecord: {\r\n                            ...selectedRecord,\r\n                            nusercode: response.data.Users.nusercode\r\n                        },\r\n                        userInfo: {\r\n                            nlogintypecode: inputParam.nlogintypecode\r\n                        },\r\n                        openCPModal: response.data.PassFlag === 6 ? true : false,\r\n                        passwordPolicy: response.data.PasswordPolicy,\r\n                        screenName: \"IDS_CREATEPASSWORD\",\r\n                        loading: false,\r\n                        PassFlag: response.data.PassFlag,\r\n                        createPwdRecord: {}\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            });\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}