{"ast":null,"code":"import rsapi from '../rsapi';\nimport { DEFAULT_RETURN } from './LoginTypes';\nimport { sortData } from '../components/CommonScript';\nimport { initRequest } from './LoginAction';\nimport { toast } from 'react-toastify';\nimport { intl } from '../components/App';\nexport function sendRequest(obj) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    const newMap = { ...obj.inputData\n    };\n    const masterData = obj.masterData;\n    rsapi.post(obj.url, { ...newMap,\n      userinfo: obj.userinfo\n    }).then(response => {\n      masterData['consoleData'] = response.data;\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData: { ...masterData\n          },\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n    });\n  };\n}\nexport function getQualisForms(obj) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    const userinfo = obj.userinfo;\n    const selectedRecord = obj.selectedRecord;\n    let masterData = obj.masterData;\n    rsapi.post('/apiservice/getQualisForms', {\n      'userinfo': userinfo,\n      'napiservicecode': selectedRecord.napiservicecode.value\n    }).then(response => {\n      masterData = { ...masterData,\n        ...response.data // lstquerybilderColumns: response.data.lstquerybilderColumns.map((item, index) => {\n        //         return { label: item.scolumndisplayname, value: index, item: { ...item } }})\n\n      };\n      masterData['SelectedApi'] = selectedRecord['napiservicecode'];\n      masterData['consoleData'] = [];\n      selectedRecord['filterNew'] = [];\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData: { ...masterData\n          },\n          loading: false,\n          selectedRecord\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n    });\n  };\n}\nexport function getQualisFormsFields(obj) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    const userinfo = obj.userinfo;\n    let selectedRecord = { ...obj.selectedRecord,\n      'filterNew': []\n    };\n    let masterData = { ...obj.masterData\n    };\n    rsapi.post('/apiservice/getQualisFormFields', {\n      'userinfo': userinfo,\n      'nformcode': selectedRecord.nformcode.value\n    }).then(response => {\n      masterData = { ...masterData,\n        'lstquerybilderColumns': response.data,\n        'SelectedForm': { ...selectedRecord['nformcode']\n        },\n        'consoleData': []\n      }; // selectedRecord['filterNew']=[]\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData: { ...masterData\n          },\n          loading: false,\n          selectedRecord\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n    });\n  };\n}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/APIServiceAction.js"],"names":["rsapi","DEFAULT_RETURN","sortData","initRequest","toast","intl","sendRequest","obj","dispatch","newMap","inputData","masterData","post","url","userinfo","then","response","data","type","payload","loading","catch","error","getQualisForms","selectedRecord","napiservicecode","value","getQualisFormsFields","nformcode"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { sortData } from '../components/CommonScript';\r\nimport { initRequest } from './LoginAction';\r\nimport { toast } from 'react-toastify';\r\nimport { intl } from '../components/App';\r\n\r\n\r\nexport function sendRequest(obj) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const newMap={...obj.inputData}\r\n        const masterData=obj.masterData\r\n        rsapi.post(obj.url, {...newMap , userinfo: obj.userinfo} )\r\n            .then(response => {\r\n                masterData['consoleData']=response.data\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData:{...masterData}, loading: false,\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\nexport function getQualisForms(obj) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n       const userinfo=obj.userinfo\r\n       const selectedRecord=obj.selectedRecord\r\n       let masterData=obj.masterData\r\n        rsapi.post('/apiservice/getQualisForms', {'userinfo':userinfo,'napiservicecode':selectedRecord.napiservicecode.value} )\r\n            .then(response => {\r\n                masterData={...masterData,\r\n                    ...response.data,\r\n                    // lstquerybilderColumns: response.data.lstquerybilderColumns.map((item, index) => {\r\n                    //         return { label: item.scolumndisplayname, value: index, item: { ...item } }})\r\n                }\r\n                masterData['SelectedApi']=selectedRecord['napiservicecode']\r\n                masterData['consoleData']=[]\r\n                selectedRecord['filterNew']=[]\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData:{...masterData},\r\n                        loading: false,\r\n                        selectedRecord\r\n                       \r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\nexport function getQualisFormsFields(obj) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n       const userinfo=obj.userinfo\r\n       let selectedRecord={...obj.selectedRecord,'filterNew':[]}\r\n       let masterData={...obj.masterData}\r\n        rsapi.post('/apiservice/getQualisFormFields', {'userinfo':userinfo,'nformcode':selectedRecord.nformcode.value} )\r\n            .then(response => {\r\n                masterData={...masterData,'lstquerybilderColumns':response.data,\r\n                'SelectedForm':{...selectedRecord['nformcode']},'consoleData':[]}\r\n               // selectedRecord['filterNew']=[]\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData:{...masterData} ,\r\n                        loading: false,\r\n                        selectedRecord\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}