{"ast":null,"code":"import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTrashAlt,faCopy}from'@fortawesome/free-solid-svg-icons';import{process}from'@progress/kendo-data-query';import{toast}from'react-toastify';import ListMaster from'../../components/list-master/list-master.component';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import Esign from'../audittrail/Esign';import AddQuery from'./AddQuery';import AddParameter from'./AddParameter';//import QueryTypeFilter from './QueryTypeFilter';\nimport{callService,crudMaster,validateEsignCredential,updateStore,getSQLQueryDetail,getSQLQueryComboService,filterColumnData,comboChangeQueryType,executeUserQuery,comboColumnValues,getColumnNamesByTableName,getTablesName,getModuleFormName,getDatabaseTables,executeQueryForQueryBuilder,getForeignTable,getViewColumns,getMasterData,createQueryBuilder,getParameterFromQuery,getSelectedQueryBuilder,updateQueryBuilder// getQueryBuilder\n}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{transactionStatus,queryTypeFilter,tableType,ColumnType}from'../../components/Enumeration';import{constructOptionList,copyText,getControlMap,showEsign}from'../../components/CommonScript';import{ReadOnlyText,ContentPanel}from'../../components/App.styles';import rsapi from'../../rsapi';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import{Affix}from'rsuite';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import{ListWrapper}from'../../components/client-group.styles';// import ReactTooltip from 'react-tooltip';\nimport PortalModalSlideout from'../../components/portal-modal/portal-modal-slideout';import BuildQuery from'./BuildQuery';import{render}from'@testing-library/react';import{format}from'date-fns';import{ProductList}from'../product/product.styled';import QueryBuilderParamter from'./QueryBuilderParamter';import{ReactComponent as ParameterConfigurationIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/parameter-configuration.svg\";import{ReactComponent as ParameterMappingIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/parameter-mapping.svg\";import DataGridComponent from'../../components/data-grid/data-grid.component';import{stringOperatorData}from'./QueryBuilderData';// import {validationData} from './QueryBuilderData';\nvar jsonSql=require('json-sql')({separatedValues:false});var jsonSqlParam=require('json-sql')({separatedValues:true});var QueryBuilder=/*#__PURE__*/function(_Component){_inherits(QueryBuilder,_Component);var _super=_createSuper(QueryBuilder);function QueryBuilder(props){var _this$state;var _this;_classCallCheck(this,QueryBuilder);_this=_super.call(this,props);// const dataState = {\n//     skip: 0,\n//     take: props.settings ? parseInt(props.settings[14]) : 5,\n// };\n_this.sidebarExpandCollapse=function(){_this.setState({sidebarview:true});};_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.props.Login.queryData,event.dataState),dataState:event.dataState});};_this.dataStateChangeMain=function(event){_this.setState({dataResultMain:process(_this.props.Login.masterData.queryDataMain,event.dataState),dataStateMain:event.dataState});};_this.copySQLQuery=function(type){var selectedRecord=_this.state.selectedRecord;var count=0;if(type===2){if(selectedRecord[\"sgeneratedquery\"]){var query=_this.state.selectedRecord[\"squerywithparam\"]||\"\";if(_this.state.selectedRecord[\"sdefaultvalue\"]&&_this.state.selectedRecord[\"sdefaultvalue\"]){_this.state.selectedRecord[\"sdefaultvalue\"].forEach(function(dataItem){if(dataItem.items.needmasterdata&&dataItem.items.mastertablename){if(dataItem.symbolObject.items[\"ismulti\"]&&dataItem.symbolObject.items[\"ismulti\"]===true){dataItem.value.forEach(function(item,index){count++;if(index===0){if(dataItem.value.length===1){query=query.replace(\"$p\"+count,\"P$\"+dataItem.items.viewvaluemember+\"$P\");}else{query=query.replace(\"$p\"+count+\",\",\"P$\"+dataItem.items.viewvaluemember+\"$P\");}}else{if(query.includes(\"$p\"+count+\",\")){query=query.replace(\"$p\"+count+\",\",\"\");}else{query=query.replace(\"$p\"+count,\"\");}}});}else{count++;query=query.replace(\"$p\"+count,\"P$\"+dataItem.items.viewvaluemember+\"$P\");}}else if(dataItem.items.sforeigncolumnname!==undefined&&dataItem.items.sforeigncolumnname!==\"\"){if(dataItem.symbolObject.items[\"ismulti\"]&&dataItem.symbolObject.items[\"ismulti\"]===true){dataItem.value.forEach(function(item,index){count++;if(index===0){if(dataItem.value.length===1){query=query.replace(\"$p\"+count,\"P$\"+dataItem.items.sforeigncolumnname+\"$P\");}else{query=query.replace(\"$p\"+count+\",\",\"P$\"+dataItem.items.sforeigncolumnname+\"$P\");}}else{if(query.includes(\"$p\"+count+\",\")){query=query.replace(\"$p\"+count+\",\",\"\");}else{query=query.replace(\"$p\"+count,\"\");}}});}else{count++;query=query.replace(\"$p\"+count,\"P$\"+dataItem.items.sforeigncolumnname+\"$P\");}}else{count++;query=query.replace(\"$p\"+count,\"P$\"+dataItem.items.columnname+\"$P\");}});}if(query.includes(\"$L\")){query=query.replaceAll(\"$L\",\"'\"+_this.props.Login.userInfo.slanguagetypecode+\"'\");}copyText(query);toast.info(_this.props.intl.formatMessage({id:\"IDS_COPIEDSUCCESSFULLY\"}));//  navigator.clipboard.writeText(query);\n}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_QUERYNOTAVAILABLE\"}));}}else{var _query=_this.props.Login.masterData.selectedQueryBuilder[\"squerywithparam\"]||\"\";if(_query){if(_this.props.Login.masterData.selectedQueryBuilder[\"sdefaultvalue\"]&&_this.props.Login.masterData.selectedQueryBuilder[\"sdefaultvalue\"].value){var sdefaultValue=JSON.parse(_this.props.Login.masterData.selectedQueryBuilder[\"sdefaultvalue\"].value);sdefaultValue.sdefaultvalue.forEach(function(dataItem,index){if(dataItem.items.needmasterdata&&dataItem.items.mastertablename){if(dataItem.symbolObject.items[\"ismulti\"]&&dataItem.symbolObject.items[\"ismulti\"]===true){dataItem.value.forEach(function(item,index){count++;if(index===0){if(dataItem.value.length===1){_query=_query.replace(\"$p\"+count,\"P$\"+dataItem.items.viewvaluemember+\"$P\");}else{_query=_query.replace(\"$p\"+count+\",\",\"P$\"+dataItem.items.viewvaluemember+\"$P\");}}else{if(_query.includes(\"$p\"+count+\",\")){_query=_query.replace(\"$p\"+count+\",\",\"\");}else{_query=_query.replace(\"$p\"+count,\"\");}}});}else{count++;_query=_query.replace(\"$p\"+count,\"P$\"+dataItem.items.viewvaluemember+\"$P\");}}else if(dataItem.items.sforeigncolumnname!==undefined&&dataItem.items.sforeigncolumnname!==\"\"){if(dataItem.symbolObject.items[\"ismulti\"]&&dataItem.symbolObject.items[\"ismulti\"]===true){dataItem.value.forEach(function(item,index){count++;if(index===0){if(dataItem.value.length===1){_query=_query.replace(\"$p\"+count,\"P$\"+dataItem.items.sforeigncolumnname+\"$P\");}else{_query=_query.replace(\"$p\"+count+\",\",\"P$\"+dataItem.items.sforeigncolumnname+\"$P\");}}else{if(_query.includes(\"$p\"+count+\",\")){_query=_query.replace(\"$p\"+count+\",\",\"\");}else{_query=_query.replace(\"$p\"+count,\"\");}}});}else{count++;_query=_query.replace(\"$p\"+count,\"P$\"+dataItem.items.sforeigncolumnname+\"$P\");}}else{count++;_query=_query.replace(\"$p\"+count,\"P$\"+dataItem.items.columnname+\"$P\");}});}if(_query.includes(\"$L\")){_query=_query.replaceAll(\"$L\",\"'\"+_this.props.Login.userInfo.slanguagetypecode+\"'\");}copyText(_query);toast.info(_this.props.intl.formatMessage({id:\"IDS_COPIEDSUCCESSFULLY\"}));//  navigator.clipboard.writeText(query);\n}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_QUERYNOTAVAILABLE\"}));}}};_this.reloadData=function(){_this.searchRef.current.value=\"\";var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:\"querybuilder\",methodUrl:\"QueryBuilder\",// displayName: \"IDS_DASHBOARDTYPES\",\nuserInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.saveParam=function(saveType,formRef){var count=0;var query=_this.props.Login.masterData.selectedQueryBuilder[\"squerywithparam\"];_this.props.Login.comboData.sdefaultvalue.forEach(function(dataItem){if(dataItem.items.needmasterdata&&dataItem.items.mastertablename){var sqryData=\"\";if(dataItem.symbolObject.items[\"ismulti\"]&&dataItem.symbolObject.items[\"ismulti\"]===true){dataItem.value.forEach(function(item){count++;// if (isNaN(item.value)) {\n// query = query.replace(\"$p\" + count, \"'\" + item.value + \"'\");\n// } else {\nquery=query.replace(\"$p\"+count,item.value);// }\n});}else{count++;// if (isNaN(dataItem.value.value)) {\n//   query = query.replace(\"$p\" + count, \"'\" + dataItem.value.value + \"'\");\n// } else {\nquery=query.replace(\"$p\"+count,dataItem.value.value);// }\n}}else if(dataItem.items.sforeigncolumnname!==undefined&&dataItem.items.sforeigncolumnname!==\"\"){if(dataItem.symbolObject.items[\"ismulti\"]&&dataItem.symbolObject.items[\"ismulti\"]===true){dataItem.value.forEach(function(item){count++;// if (isNaN(item.value)) {\nquery=query.replace(\"$p\"+count,\"'\"+item.value+\"'\");// } else {\n//    query = query.replace(\"$p\" + count, item.value);\n//  }\n});}else{count++;// if (isNaN(dataItem.value.value)) {\nquery=query.replace(\"$p\"+count,\"'\"+dataItem.value.value+\"'\");// } else {\n//     query = query.replace(\"$p\" + count, dataItem.value.value);\n// }\n}}else if(dataItem.items.columntype===ColumnType.DATATIME||dataItem.items.columntype===ColumnType.DATE&&dataItem.symbolObject.items.isInputVisible===true&&(dataItem.symbolObject.items.symbolType===5||dataItem.symbolObject.items.symbolType===1)){count++;query=query.replace(\"$p\"+count,\"'\"+format(new Date(dataItem.value),\"yyyy-MM-dd HH:mm:ss.SS\")+\"'\");}else{count++;query=query.replace(\"$p\"+count,\"'\"+dataItem.value+\"'\");}});if(query.includes(\"$L\")){query=query.replaceAll(\"$L\",\"'\"+_this.props.Login.userInfo.slanguagetypecode+\"'\");}if(!query.includes(\"$p\")){var jsonData=JSON.parse(_this.props.Login.masterData.selectedQueryBuilder[\"jsondata\"].value);var inputParam={sgeneratedquery:query,columnList:jsonData[\"columnList\"],userInfo:_this.props.Login.userInfo};var inputData=[];_this.props.updateQueryBuilder(inputParam,inputData,_this.props.Login.masterData);}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTCORRECTPARAMETER\"}));}};_this.save=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;if(selectedRecord[\"querybuildername\"]&&selectedRecord[\"querybuildername\"].length>0){if(selectedRecord[\"filtercolumns\"]&&selectedRecord[\"filtercolumns\"].length>0){var inputData=[];var jsondata={};var postParam=undefined;if(selectedRecord[\"sdefaultvalue\"]&&selectedRecord[\"sdefaultvalue\"].length>0){selectedRecord[\"sdefaultvalue\"].forEach(function(item,i){if(item.symbolObject.items.symbolType===4){delete item.symbolObject.items[\"replacewith\"];}});}postParam={inputListName:\"QueryBuilder\",selectedObject:\"selectedQueryBuilder\",primaryKeyField:\"nquerybuildercode\"};inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"queryBuilder\"]={\"nstatus\":1};jsondata[\"groupList\"]=selectedRecord[\"groupList\"];jsondata[\"aggregate\"]=selectedRecord[\"aggregate\"];jsondata[\"orderby\"]=selectedRecord[\"orderby\"];jsondata[\"columnList\"]=_this.props.Login.viewColumnListByRule&&_this.props.Login.viewColumnListByRule||_this.props.Login.viewColumnList;//selectedRecord[\"filtercolumns\"];\njsondata[\"selectFields\"]=_this.props.Login.selectFields;//selectedRecord[\"filtercolumns\"];\ninputData[\"sgeneratedquery\"]=selectedRecord[\"sgeneratedquery\"];inputData[\"queryBuilder\"][\"squerybuildername\"]=selectedRecord[\"querybuildername\"];inputData[\"queryBuilder\"][\"nquerytype\"]=1;inputData[\"queryBuilder\"][\"sviewname\"]=selectedRecord[\"sviewname\"].label;inputData[\"queryBuilder\"][\"squerywithparam\"]=selectedRecord[\"squerywithparam\"];inputData[\"queryBuilder\"][\"squerywithvalue\"]=selectedRecord[\"sgeneratedquery\"];inputData[\"queryBuilder\"][\"sdefaultvalue\"]={sdefaultvalue:selectedRecord[\"sdefaultvalue\"]||[]};inputData[\"queryBuilder\"][\"jsondata\"]=jsondata;var inputParam={classUrl:\"querybuilder\",methodUrl:\"QueryBuilder\",displayName:_this.props.Login.inputParam.displayName&&_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"create\",saveType:saveType,formRef:formRef,postParam:postParam};_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openPortalModal\");// this.props.createQueryBuilder(inputData, this.props.Login);\n}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTANYCOLUMNS\"}));}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_INVALIDQUERYBUILDERNAME\"}));}};_this.deleteQB=function(ncontrolCode){var inputData=[];// let postParam = {\n//     inputListName: \"QueryBuilder\",\n//     selectedObject: \"selectedDashBoardTypes\",\n//     primaryKeyField: \"ndashboardtypecode\",\n//     primaryKeyValue: this.props.Login.masterData.selectedDashBoardTypes.ndashboardtypecode,\n//     fetchUrl: \"dashboardtypes/getAllSelectionDashBoardTypes\",\n//     fecthInputObject: { userinfo: this.props.Login.userInfo }\n// };\ninputData[\"queryBuilder\"]=_this.props.Login.masterData.selectedQueryBuilder;inputData[\"userinfo\"]=_this.props.Login.userInfo;var inputParam={methodUrl:\"QueryBuilder\",classUrl:\"querybuilder\",inputData:inputData,operation:\"delete\",searchRef:_this.searchRef};_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");};_this.confirmDelete=function(ncontrolCode){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteQB(\"delete\",ncontrolCode);});};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;_this.generateFilterQuery(selectedRecord);};_this.onParamComboChange=function(data,index){var comboData=_this.props.Login.comboData;comboData[\"sdefaultvalue\"][index].value=data;var updateInfo={typeName:DEFAULT_RETURN,data:{comboData:comboData}};_this.props.updateStore(updateInfo);};_this.onParamInputChange=function(event,type,index,dataItem){var comboData=_this.props.Login.comboData;if(type===2){var inputValue=event.target.value;if(/^-?\\d*?\\.?\\d*?$/.test(inputValue)||inputValue===\"\"){comboData[\"sdefaultvalue\"][index].value=event.target.value;}}else if(type===1){comboData[\"sdefaultvalue\"][index].value=event.target.checked;}else if(type===3){if(dataItem.symbolObject.items.symbolType===4){// const symbolObject = stringOperatorData.filter(data => data.value === dataItem.symbolObject.value);\nvar symbolObject=\"\";if(dataItem.symbolObject.value===7||dataItem.symbolObject.value===8){symbolObject=\"'%_%'\";}else if(dataItem.symbolObject.value===9){symbolObject=\"'_%'\";}else{symbolObject=\"'%_'\";}var index1=symbolObject.indexOf('_');var inputname=undefined;inputname=symbolObject.substr(0,index1)+event.target.value+symbolObject.substr(index1+1);inputname=inputname.slice(1,inputname.length-1);comboData[\"sdefaultvalue\"][index].value=inputname;comboData[\"sdefaultvalue\"][index].showInputValue=event.target.value;}else{comboData[\"sdefaultvalue\"][index].value=event.target.value;}}else{comboData[\"sdefaultvalue\"][index].value=event.target.value;}var updateInfo={typeName:DEFAULT_RETURN,data:{comboData:comboData}};_this.props.updateStore(updateInfo);};_this.handleFilterDateChange=function(dateName,dateValue,groupIndex,index){var selectedRecord=_this.state.selectedRecord;if(dateValue===null){dateValue=new Date();}selectedRecord[\"groupList\"][groupIndex][index][dateName]=dateValue;_this.generateFilterQuery(selectedRecord);};_this.onComboChange=function(comboData,fieldName){var selectedcombo=_this.state.selectedcombo||{};selectedcombo[fieldName]=comboData;_this.setState({selectedcombo:selectedcombo});};_this.onViewComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;var inputParam={sviewname:comboData.value,selectedRecord:selectedRecord,userinfo:_this.props.Login.userInfo};_this.props.getViewColumns(inputParam);// if(comboData){\n//    this.props.Login.addGroupList = [];\n// }\n};_this.onAggregateChange=function(comboData,fieldName,index){var selectedRecord=_this.state.selectedRecord;selectedRecord[\"aggregate\"]=selectedRecord[\"aggregate\"]||[];if(fieldName===\"columnname\"){selectedRecord[\"aggregate\"][index]={\"columnname\":comboData,\"aggfunctionname\":\"\"};}else{if(selectedRecord[\"aggregate\"][index][\"columnname\"]&&selectedRecord[\"aggregate\"][index][\"columnname\"]!==undefined){selectedRecord[\"aggregate\"][index][\"aggfunctionname\"]=comboData;}else{}}// this.setState({ selectedRecord });\n_this.generateFilterQuery(selectedRecord);};_this.onRuleChange=function(comboData,fieldName,groupIndex,index,viewMasterListByRule){var selectedRecord=_this.state.selectedRecord;_this.clearSelectedRule(selectedRecord,groupIndex,index,viewMasterListByRule);var sqlQuery=_this.props.Login.sqlQuery;var oldselectedRecord=selectedRecord;// if(selectedRecord[\"groupList\"][groupIndex][index]&&selectedRecord[\"groupList\"][groupIndex][index]){\n//     selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"] = [];\n// }\nselectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;var tableData=comboData.items;var mastertablename=tableData.mastertablename;if(comboData.items.needmasterdata&&mastertablename){var inputParam={userinfo:_this.props.Login.userInfo,data:{nflag:2,mastertablename:mastertablename,valuemember:tableData.valuemember,displaymember:tableData.displaymember},selectedRecord:selectedRecord,groupIndex:groupIndex,index:index,optionId:tableData.valuemember};_this.props.getMasterData(inputParam,_this.props.Login.viewMasterListByRule);}else if(comboData.items&&comboData.items.columntype===ColumnType.COMBO){if(sqlQuery){var _inputParam={userinfo:_this.props.Login.userInfo,stablename:comboData.items.foriegntablename,scolumnname:comboData.value,selectedRecord:selectedRecord,groupIndex:groupIndex,index:index};_this.props.getForeignTable(_inputParam,'column');}else{selectedRecord[\"groupList\"][groupIndex][index][\"\".concat(comboData.items.sforeigncolumnname)]=\"\";var _inputParam2={data:_objectSpread(_objectSpread({},comboData.items),{},{nflag:1}),userinfo:_this.props.Login.userInfo,selectedRecord:selectedRecord,groupIndex:groupIndex,index:index,optionId:comboData.items.sforeigncolumnname};_this.props.getMasterData(_inputParam2,_this.props.Login.viewMasterListByRule);}}else if(comboData.items&&comboData.items.columntype===ColumnType.TEXTINPUT&&oldselectedRecord[\"groupList\"][groupIndex][index][fieldName].items.columntype!==ColumnType.TEXTINPUT){selectedRecord[\"groupList\"][groupIndex][index][\"sinputname\"]=\"\";_this.setState({selectedRecord:selectedRecord});}else{_this.setState({selectedRecord:selectedRecord});}};_this.onMasterDataChange=function(comboData,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;selectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;_this.generateFilterQuery(selectedRecord);};_this.onOrderbyChange=function(comboData,fieldName,index){var selectedRecord=_this.state.selectedRecord;selectedRecord[\"orderby\"]=selectedRecord[\"orderby\"]||[];if(fieldName===\"columnname\"){selectedRecord[\"orderby\"][index]={\"columnname\":comboData,\"ordertype\":\"\"};}else{if(selectedRecord[\"orderby\"][index][\"columnname\"]&&selectedRecord[\"orderby\"][index][\"columnname\"]!==undefined){selectedRecord[\"orderby\"][index][\"ordertype\"]=comboData;}else{}}// this.setState({ selectedRecord });\n_this.generateFilterQuery(selectedRecord);};_this.deleteOrderby=function(index){var addOrderbyList=_this.props.Login.addOrderbyList;var selectedRecord=_this.state.selectedRecord;selectedRecord[\"orderby\"].splice(index,1);addOrderbyList.splice(index,1);addOrderbyList.forEach(function(data,index){addOrderbyList[index]=index;});var updateInfo={typeName:DEFAULT_RETURN,data:{addOrderbyList:addOrderbyList}};_this.props.updateStore(updateInfo);_this.generateFilterQuery(selectedRecord);};_this.addOrderby=function(){var selectedRecord=_this.state.selectedRecord;if(selectedRecord[\"sviewname\"]){var addOrderbyList=_this.props.Login.addOrderbyList||[];var viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];var arrayLength=addOrderbyList.length;viewColumnListByRule=_this.props.Login.viewColumnList;addOrderbyList[arrayLength]=arrayLength;var updateInfo={typeName:DEFAULT_RETURN,data:{addOrderbyList:addOrderbyList,viewColumnListByRule:viewColumnListByRule}};_this.props.updateStore(updateInfo);}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTVIEW\"}));}};_this.deleteAggregate=function(index){var addAggregateList=_this.props.Login.addAggregateList;var selectedRecord=_this.state.selectedRecord;selectedRecord[\"aggregate\"].splice(index,1);addAggregateList.splice(index,1);addAggregateList.forEach(function(data,index){addAggregateList[index]=index;});var updateInfo={typeName:DEFAULT_RETURN,data:{addAggregateList:addAggregateList}};_this.props.updateStore(updateInfo);// this.setState({ selectedRecord });\n_this.generateFilterQuery(selectedRecord);};_this.addAggregate=function(){var selectedRecord=_this.state.selectedRecord;if(selectedRecord[\"sviewname\"]){// if (selectedRecord[\"groupby\"] && selectedRecord[\"groupby\"] === true) {\nvar addAggregateList=_this.props.Login.addAggregateList||[];var viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];var arrayLength=addAggregateList.length;viewColumnListByRule=_this.props.Login.viewColumnList;addAggregateList[arrayLength]=arrayLength;var updateInfo={typeName:DEFAULT_RETURN,data:{addAggregateList:addAggregateList,viewColumnListByRule:viewColumnListByRule}};_this.props.updateStore(updateInfo);// } else {\n//     toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTGROUPBY\" }));\n// }\n}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTVIEW\"}));}};_this.addRule=function(type,groupIndex){var selectedRecord=_this.state.selectedRecord;if(type===\"sql\"){// let addRuleList = this.props.Login.addRuleList || [];\n// if (addRuleList.length > 0) {\n//     const arrayLength = addRuleList.length;\n//     addRuleList[arrayLength] = arrayLength;\n//     selectedRecord[\"button_and_\" + arrayLength] = true;\n//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: {\n//             addRuleList,\n//             selectedRecord\n//         }\n//     }\n//     this.props.updateStore(updateInfo);\n// } else {\n//     addRuleList[0] = 0;\n//     this.props.getDatabaseTables(this.props.Login.userInfo, this.props.Login.sqlQuery, { addRuleList, selectedRecord: {} });\n// }\n}else{if(selectedRecord[\"sviewname\"]){var viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];// const addRuleList = this.props.Login.addRuleList || [];\n// const arrayLength = addRuleList.length;\n// addRuleList[arrayLength] = arrayLength;\nvar addGroupList=_this.props.Login.addGroupList||[];var arrayLength=addGroupList[groupIndex];addGroupList[groupIndex]=arrayLength+1;// const addGroupList = {...this.props.Login.addGroupList, [groupIndex]: addRuleList};\nselectedRecord[\"groupList\"][groupIndex][arrayLength]={};// viewColumnListByRule[groupIndex][arrayLength] = this.props.Login.viewColumnList;\nviewColumnListByRule=_this.props.Login.viewColumnList;var updateInfo={typeName:DEFAULT_RETURN,data:{addGroupList:addGroupList,viewColumnListByRule:viewColumnListByRule}};_this.props.updateStore(updateInfo);}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTVIEW\"}));}}};_this.addGroup=function(){var selectedRecord=_this.state.selectedRecord;var sql1=jsonSql.build({table:'testmaster',alias:'tm',join:[{type:'inner',table:'testcategory',alias:'tc',on:{'tm.ntestcategorycode':'tc.ntestcategorycode'}},{type:'inner',table:'transactionstatus',alias:'ts',on:{'tm.naccredited':'ts.ntranscode'}}]});console.log(sql1.query);var sql21=jsonSql.build({table:'testmaster',alias:'tm',join:[{type:'inner',table:'testcategory',alias:'tc',on:{'tm.ntestcategorycode':'tc.ntestcategorycode'}},{type:'right outer',table:'transactionstatus',alias:'ts',on:{'tm.naccredited':'ts.ntranscode'}},{type:'left outer',table:'transactionstatus',alias:'ts',on:[{'tm.naccredited':'ts.ntranscode'},{'tc.naccredited':'ts.ntranscode'}]}],condition:[{a:{$gt:1}},{b:{$lt:10}}],group:['a','b']});console.log(sql21.query);if(selectedRecord[\"sviewname\"]){var viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];var addGroupList=_this.props.Login.addGroupList||[];var arrayLength=addGroupList.length;addGroupList[arrayLength]=1;// viewColumnListByRule[arrayLength] = [];\n// viewColumnListByRule[arrayLength].push(this.props.Login.viewColumnList);\nviewColumnListByRule=_this.props.Login.viewColumnList;if(arrayLength===0){selectedRecord[\"groupList\"]=[];selectedRecord[\"filtercolumns\"]=_this.props.Login.selectFields;}selectedRecord[\"groupList\"][arrayLength]=[];selectedRecord[\"groupList\"][arrayLength][\"button_and\"]=true;selectedRecord[\"groupList\"][arrayLength][0]={};_this.generateFilterQuery(selectedRecord);var updateInfo={typeName:DEFAULT_RETURN,data:{addGroupList:addGroupList,viewColumnListByRule:viewColumnListByRule,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTVIEWS\"}));}};_this.getDatabaseTables=function(){var sqlQuery=false;_this.setState({selectedRecord:{}});_this.props.getDatabaseTables(_this.props.Login.userInfo,sqlQuery,{addRuleList:[],addGroupList:[],addAggregateList:[],addOrderbyList:[]});};_this.closePortalModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openPortalModal:false,selectedRecord:{},addRuleList:[],count:0,selectFields:[]}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:false,selectedRecord:{}}};_this.props.updateStore(updateInfo);};_this.onExecuteRule=function(){var selectedRecord=_this.state.selectedRecord;if(selectedRecord[\"sgeneratedquery\"]){var query=selectedRecord[\"squerywithparam\"]&&selectedRecord[\"squerywithparam\"];var count=0;selectedRecord[\"sdefaultvalue\"]&&selectedRecord[\"sdefaultvalue\"].forEach(function(dataItem){if(dataItem.items.needmasterdata&&dataItem.items.mastertablename){var sqryData=\"\";if(dataItem.symbolObject.items[\"ismulti\"]&&dataItem.symbolObject.items[\"ismulti\"]===true){dataItem.value.forEach(function(item){count++;// if (isNaN(item.value)) {\nquery=query.replace(\"$p\"+count,\"'\"+item.value+\"'\");// } else {\n//     query = query.replace(\"$p\" + count, item.value);\n// }\n});}else{count++;// if (isNaN(dataItem.value.value)) {\nquery=query.replace(\"$p\"+count,\"'\"+dataItem.value.value+\"'\");// } else {\n//     query = query.replace(\"$p\" + count, dataItem.value.value);\n// }\n}}else if(dataItem.items.sforeigncolumnname!==undefined&&dataItem.items.sforeigncolumnname!==\"\"){if(dataItem.symbolObject.items[\"ismulti\"]&&dataItem.symbolObject.items[\"ismulti\"]===true){dataItem.value.forEach(function(item){count++;// if (isNaN(item.value)) {\nquery=query.replace(\"$p\"+count,\"'\"+item.value+\"'\");// } else {\n//     query = query.replace(\"$p\" + count, item.value);\n// }\n});}else{count++;// if (isNaN(dataItem.value.value)) {\nquery=query.replace(\"$p\"+count,\"'\"+dataItem.value.value+\"'\");// } else {\n//     query = query.replace(\"$p\" + count, dataItem.value.value);\n// }\n}}else if(dataItem.items.columntype===ColumnType.DATATIME||dataItem.items.columntype===ColumnType.DATE&&dataItem.symbolObject.items.isInputVisible===true&&(dataItem.symbolObject.items.symbolType===5||dataItem.symbolObject.items.symbolType===1)){count++;query=query.replace(\"$p\"+count,\"'\"+format(new Date(dataItem.value),\"yyyy-MM-dd HH:mm:ss.SS\")+\"'\");}else{count++;query=query.replace(\"$p\"+count,\"'\"+dataItem.value+\"'\");}});if(query&&query.includes(\"$L\")){query=query.replaceAll(\"$L\",\"'\"+_this.props.Login.userInfo.slanguagetypecode+\"'\");}var inputParam={sgeneratedquery:query,//selectedRecord[\"sgeneratedquery\"],\nselectedRecord:selectedRecord,columnList:_this.props.Login.viewColumnListByRule&&_this.props.Login.viewColumnListByRule||_this.props.Login.viewColumnList,//selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"] || this.props.Login.viewColumnListByRule,\nuserInfo:_this.props.Login.userInfo,selectFields:selectedRecord[\"filtercolumns\"]&&selectedRecord[\"filtercolumns\"]||_this.props.Login.selectFields};_this.props.executeQueryForQueryBuilder(inputParam);}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_QUERYNOTAVAILABLE\"}));}};_this.deleteRule=function(groupIndex,index){var addGroupList=_this.props.Login.addGroupList;var selectedRecord=_this.state.selectedRecord;addGroupList[groupIndex]=addGroupList[groupIndex]-1;// selectedRecord[`button_and_${index}`] && delete selectedRecord[`button_and_${index}`];\n// selectedRecord[`button_or_${index}`] && delete selectedRecord[`button_or_${index}`];\n// selectedRecord[`notoperator_${index}`] && delete selectedRecord[`notoperator_${index}`];\nif(addGroupList[groupIndex]===0){addGroupList.splice(groupIndex,1);selectedRecord[\"groupList\"].splice(groupIndex,1);}else{selectedRecord[\"groupList\"][groupIndex].splice(index,1);}// this.clearSelectedRule(selectedRecord, index);\nvar updateInfo={typeName:DEFAULT_RETURN,data:{addGroupList:addGroupList,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);_this.generateFilterQuery(selectedRecord);};_this.clearRule=function(){var sviewname=_this.state.selectedRecord.sviewname||\"\";var updateInfo={typeName:DEFAULT_RETURN,data:{addRuleList:[],selectedRecord:{sviewname:sviewname},sqlQuery:false}};_this.props.updateStore(updateInfo);};_this.resetRule=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{addRuleList:[],addGroupList:[],addAggregateList:[],addOrderbyList:[]}};_this.props.updateStore(updateInfo);_this.setState({selectedRecord:{}});};_this.onSymbolChange=function(comboData,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;var oldSelectedRecord=selectedRecord[\"groupList\"][groupIndex][index][fieldName]||{};var val=_objectSpread({},selectedRecord[\"groupList\"][groupIndex][index]);val=_objectSpread(_objectSpread({},val),{},_defineProperty({},fieldName,comboData));var items=_objectSpread({},val[\"columnname\"].items);val=_objectSpread(_objectSpread({},val),{},{columnname:_objectSpread(_objectSpread({},val.columnname),{},{items:_objectSpread(_objectSpread({},val.columnname.items),{},{needmasterdata:val.columnname.items.needmasterdata!==undefined?comboData.items.needmasterdata:false})})});// selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"][\"items\"][\"needmasterdata\"] = items.needmasterdata!==undefined?comboData.items.needmasterdata  : false;\n// selectedRecord[\"groupList\"][groupIndex][index]= {...val}\n//    this.setState(selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"][\"items\"][\"needmasterdata\"]);\nif(comboData.items.symbolType===2||comboData.items.symbolType===3){val[items[\"valuemember\"]]&&delete val[items[\"valuemember\"]];val[items[\"foreigncolumnname\"]]&&delete val[items[\"foreigncolumnname\"]];val[\"sinputname\"]&&delete val[\"sinputname\"];}else if(comboData.items.symbolType===5&&oldSelectedRecord.items&&oldSelectedRecord.items.symbolType!==5){val[\"snumericinput\"]&&delete val[\"snumericinput\"];val[\"snumericinputtwo\"]&&delete val[\"snumericinputtwo\"];}else if(comboData.items.symbolType===6&&oldSelectedRecord.items&&oldSelectedRecord.items.symbolType===1||comboData.items.symbolType===1&&oldSelectedRecord.items&&oldSelectedRecord.items.symbolType===6){val[\"\".concat(items.sforeigncolumnname)]&&delete val[\"\".concat(items.sforeigncolumnname)];val[\"\".concat(items.valuemember)]&&delete val[\"\".concat(items.valuemember)];}else{}selectedRecord[\"groupList\"][groupIndex][index]=_objectSpread({},val);_this.generateFilterQuery(selectedRecord);};_this.onInputChange=function(event,type,groupIndex,index){var selectedRecord=_this.state.selectedRecord;if(type===2){var inputValue=event.target.value;if(/^-?\\d*?\\.?\\d*?$/.test(inputValue)||inputValue===\"\"){selectedRecord[\"groupList\"][groupIndex][index][event.target.name]=event.target.value;}}else if(type===1){selectedRecord[\"groupList\"][groupIndex][index][event.target.name]=event.target.checked;}else if(type===3){selectedRecord[\"groupList\"][groupIndex][index][event.target.name]=event.target.value;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});_this.generateFilterQuery(selectedRecord);};_this.generateFilterQuery=function(selectedRecord){var addGroupList=_this.props.Login.addGroupList;jsonSql.setDialect('mssql');var databaseCondition=[];var displayCondition=[];var databaseConditionParam=[];var fieldWithValue=[];var notOperator=false;if(addGroupList&&addGroupList.length>0){var groupConditionDatabase=[];var groupConditionDatabaseParam=[];var groupConditionDisplay=[];addGroupList.forEach(function(items,groupIndex){var symbolObject={};databaseCondition=[];databaseConditionParam=[];displayCondition=[];_toConsumableArray(Array(items)).map(function(data,index){if(selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"][groupIndex]&&selectedRecord[\"groupList\"][groupIndex][index]&&selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"]){symbolObject=selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"]&&selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"].items&&selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"].items||{};var current_button_and=selectedRecord[\"groupList\"][groupIndex][\"button_and\"];var current_button_or=selectedRecord[\"groupList\"][groupIndex][\"button_or\"];var next_button_and=selectedRecord[\"groupList\"][groupIndex][\"button_and\"];var next_button_or=selectedRecord[\"groupList\"][groupIndex][\"button_or\"]?selectedRecord[\"groupList\"][groupIndex][\"button_or\"]:false;var inputname=selectedRecord[\"groupList\"][groupIndex][index][\"sinputname\"];var symbolname=symbolObject.symbol;var numericinput=selectedRecord[\"groupList\"][groupIndex][index][\"snumericinput\"];var columnLabel=selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].label;var columnValue=selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].value;var snumericinputtwo=selectedRecord[\"groupList\"][groupIndex][index][\"snumericinputtwo\"];var columnName=undefined;var needmasterdata=selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.needmasterdata?selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.needmasterdata:false;if(selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.needmasterdata){columnName=selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember;}else if(selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.sforeigncolumnname){columnName=selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.sforeigncolumnname;}var dateinput=selectedRecord[\"groupList\"][groupIndex][index][\"dateinput\"]&&format(new Date(selectedRecord[\"groupList\"][groupIndex][index][\"dateinput\"]),\"yyyy-MM-dd HH:mm:ss.SS\");//selectedRecord[\"dateinput_\" + index];\nvar dateinputtwo=selectedRecord[\"groupList\"][groupIndex][index][\"dateinputtwo\"]&&format(new Date(selectedRecord[\"groupList\"][groupIndex][index][\"dateinputtwo\"]),\"yyyy-MM-dd HH:mm:ss.SS\");//selectedRecord[\"dateinputtwo_\" + index];\nif(symbolObject&&inputname){if(symbolObject.symbolType===4){var showInputValue=inputname;var index1=symbolObject.replacewith&&symbolObject.replacewith.indexOf('_');inputname=symbolObject.replacewith&&symbolObject.replacewith.substr(0,index1)+inputname+symbolObject.replacewith.substr(index1+1);inputname=inputname.slice(1,inputname.length-1);databaseCondition.push(_defineProperty({},columnValue,_defineProperty({},symbolname,inputname)));displayCondition.push(_defineProperty({},columnLabel,_defineProperty({},symbolname,inputname)));databaseConditionParam.push(_defineProperty({},columnValue,_defineProperty({},symbolname,inputname)));fieldWithValue.push({columnName:columnValue,value:inputname,showInputValue:showInputValue,symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});}else{databaseCondition.push(_defineProperty({},columnValue,_defineProperty({},symbolname,inputname)));displayCondition.push(_defineProperty({},columnLabel,_defineProperty({},symbolname,inputname)));databaseConditionParam.push(_defineProperty({},columnValue,_defineProperty({},symbolname,inputname)));fieldWithValue.push({columnName:columnValue,value:inputname,symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});}}else if(symbolObject&&numericinput&&symbolObject.symbolType!==5){databaseCondition.push(_defineProperty({},columnValue,_defineProperty({},symbolname,numericinput)));displayCondition.push(_defineProperty({},columnLabel,_defineProperty({},symbolname,numericinput)));databaseConditionParam.push(_defineProperty({},columnValue,_defineProperty({},symbolname,numericinput)));fieldWithValue.push({columnName:columnValue,value:numericinput,symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});}else if(symbolObject&&symbolObject.symbolType===2||symbolObject&&symbolObject.symbolType===3){databaseCondition.push(_defineProperty({},columnValue,_defineProperty({},symbolname,'')));displayCondition.push(_defineProperty({},columnLabel,_defineProperty({},symbolname,'')));databaseConditionParam.push(_defineProperty({},columnValue,_defineProperty({},symbolname,'')));fieldWithValue.push({columnName:columnValue,value:'',symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});}else if(symbolObject&&numericinput&&snumericinputtwo&&symbolObject.symbolType===5){if(symbolObject.symbol===\"\"){var tempValue=[_defineProperty({},columnValue,_defineProperty({},symbolObject.replacewith[0],+numericinput)),_defineProperty({},columnValue,_defineProperty({},symbolObject.replacewith[1],+snumericinputtwo))];var tempValue1=[_defineProperty({},columnLabel,_defineProperty({},symbolObject.replacewith[0],+numericinput)),_defineProperty({},columnLabel,_defineProperty({},symbolObject.replacewith[1],+snumericinputtwo))];databaseCondition.push(tempValue);displayCondition.push(tempValue1);databaseConditionParam.push(tempValue);}else{var _tempValue=[_defineProperty({},symbolObject.symbol,[_defineProperty({},columnValue,_defineProperty({},symbolObject.replacewith[0],+numericinput)),_defineProperty({},columnValue,_defineProperty({},symbolObject.replacewith[1],+snumericinputtwo))])];var _tempValue2=[_defineProperty({},symbolObject.symbol,[_defineProperty({},columnLabel,_defineProperty({},symbolObject.replacewith[0],+numericinput)),_defineProperty({},columnLabel,_defineProperty({},symbolObject.replacewith[1],+snumericinputtwo))])];databaseCondition.push(_tempValue);displayCondition.push(_tempValue2);databaseConditionParam.push(_tempValue);}}else if(symbolObject&&symbolObject.symbolType===6&&columnName&&selectedRecord[\"groupList\"][groupIndex][index][columnName]){var _data=selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"][groupIndex]&&selectedRecord[\"groupList\"][groupIndex][index]&&selectedRecord[\"groupList\"][groupIndex][index][columnName]&&selectedRecord[\"groupList\"][groupIndex][index][columnName].map(function(item){return\"'\"+item.value+\"'\";})||[];var data1=selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"][groupIndex]&&selectedRecord[\"groupList\"][groupIndex][index]&&selectedRecord[\"groupList\"][groupIndex][index][columnName]&&selectedRecord[\"groupList\"][groupIndex][index][columnName].map(function(item){return item.label;})||[];if(_data.length>0){if(needmasterdata){databaseCondition.push(_defineProperty({},selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember,_defineProperty({},symbolname,_data)));databaseConditionParam.push(_defineProperty({},selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember,_defineProperty({},symbolname,_data)));fieldWithValue.push({columnName:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember,value:selectedRecord[\"groupList\"][groupIndex][index][columnName].map(function(item){return item;}),symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});}else{databaseCondition.push(_defineProperty({},columnValue,_defineProperty({},symbolname,_data)));databaseConditionParam.push(_defineProperty({},columnValue,_defineProperty({},symbolname,_data)));fieldWithValue.push({columnName:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember,value:selectedRecord[\"groupList\"][groupIndex][index][columnName].map(function(item){return item;}),symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});}}if(data1.length>0){displayCondition.push(_defineProperty({},columnLabel,_defineProperty({},symbolname,data1)));}// }\n}else if(symbolObject&&columnName&&symbolObject.isInputVisible&&selectedRecord[\"groupList\"][groupIndex][index][columnName]){if(needmasterdata){databaseCondition.push(_defineProperty({},selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember,_defineProperty({},symbolname,selectedRecord[\"groupList\"][groupIndex][index][columnName].value)));displayCondition.push(_defineProperty({},columnLabel,_defineProperty({},symbolname,selectedRecord[\"groupList\"][groupIndex][index][columnName].label)));databaseConditionParam.push(_defineProperty({},selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember,_defineProperty({},symbolname,selectedRecord[\"groupList\"][groupIndex][index][columnName].label)));fieldWithValue.push({columnName:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember,value:selectedRecord[\"groupList\"][groupIndex][index][columnName],symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});}else{databaseCondition.push(_defineProperty({},columnValue,_defineProperty({},symbolname,selectedRecord[\"groupList\"][groupIndex][index][columnName].value)));displayCondition.push(_defineProperty({},columnLabel,_defineProperty({},symbolname,selectedRecord[\"groupList\"][groupIndex][index][columnName].label)));databaseConditionParam.push(_defineProperty({},columnValue,_defineProperty({},symbolname,selectedRecord[\"groupList\"][groupIndex][index][columnName].label)));fieldWithValue.push({columnName:columnValue,value:selectedRecord[\"groupList\"][groupIndex][index][columnName],symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});}}else if(symbolObject&&dateinput&&symbolObject.symbolType!==5){databaseCondition.push(_defineProperty({},columnValue,_defineProperty({},symbolname,dateinput)));displayCondition.push(_defineProperty({},columnLabel,_defineProperty({},symbolname,dateinput)));databaseConditionParam.push(_defineProperty({},columnValue,_defineProperty({},symbolname,dateinput)));fieldWithValue.push({columnName:columnValue,value:dateinput,symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});}else if(symbolObject&&dateinput&&dateinputtwo&&symbolObject.symbolType===5){if(symbolObject.symbol===\"\"){var _tempValue3=[_defineProperty({},columnValue,_defineProperty({},symbolObject.replacewith[0],dateinput)),_defineProperty({},columnValue,_defineProperty({},symbolObject.replacewith[1],dateinputtwo))];var _tempValue4=[_defineProperty({},columnLabel,_defineProperty({},symbolObject.replacewith[0],dateinput)),_defineProperty({},columnLabel,_defineProperty({},symbolObject.replacewith[1],dateinputtwo))];databaseCondition.push(_tempValue3);displayCondition.push(_tempValue4);databaseConditionParam.push(_tempValue3);fieldWithValue.push({columnName:columnValue,value:dateinput,symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});fieldWithValue.push({columnName:columnValue,value:dateinputtwo,symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});}else{var _tempValue5=[_defineProperty({},symbolObject.symbol,[_defineProperty({},columnValue,_defineProperty({},symbolObject.replacewith[0],dateinput)),_defineProperty({},columnValue,_defineProperty({},symbolObject.replacewith[1],dateinputtwo))])];var _tempValue6=[_defineProperty({},symbolObject.symbol,[_defineProperty({},columnLabel,_defineProperty({},symbolObject.replacewith[0],dateinput)),_defineProperty({},columnLabel,_defineProperty({},symbolObject.replacewith[1],dateinputtwo))])];databaseCondition.push(_tempValue5);displayCondition.push(_tempValue6);databaseConditionParam.push(_tempValue5);fieldWithValue.push({columnName:columnValue,value:dateinput,symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});fieldWithValue.push({columnName:columnValue,value:dateinputtwo,symbolObject:selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],items:selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items});}}}else{_this.groupByFunction(selectedRecord,databaseCondition,displayCondition);}});if(selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"].length>0&&selectedRecord[\"groupList\"][groupIndex][\"button_and\"]===true){if(selectedRecord[\"groupList\"][groupIndex][\"button_not\"]===true){groupConditionDisplay.push([{$not:[{$and:_toConsumableArray(displayCondition)}]}]);groupConditionDatabase.push([{$not:[{$and:_toConsumableArray(databaseCondition)}]}]);groupConditionDatabaseParam.push([{$not:[{$and:_toConsumableArray(databaseConditionParam)}]}]);}else{groupConditionDisplay.push([{$and:_toConsumableArray(displayCondition)}]);groupConditionDatabase.push([{$and:_toConsumableArray(databaseCondition)}]);groupConditionDatabaseParam.push([{$and:_toConsumableArray(databaseConditionParam)}]);}}else if(selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"].length>0&&selectedRecord[\"groupList\"][groupIndex][\"button_or\"]===true){if(selectedRecord[\"groupList\"][groupIndex][\"button_not\"]===true){groupConditionDisplay.push([{$not:[{$or:_toConsumableArray(displayCondition)}]}]);groupConditionDatabase.push([{$not:[{$or:_toConsumableArray(databaseCondition)}]}]);groupConditionDatabaseParam.push([{$not:[{$or:_toConsumableArray(databaseConditionParam)}]}]);}else{groupConditionDisplay.push([{$or:_toConsumableArray(displayCondition)}]);groupConditionDatabase.push([{$or:_toConsumableArray(databaseCondition)}]);groupConditionDatabaseParam.push([{$or:_toConsumableArray(databaseConditionParam)}]);}}else{groupConditionDisplay.push([_objectSpread({},displayCondition)]);groupConditionDatabase.push([_objectSpread({},databaseCondition)]);groupConditionDatabaseParam.push([_objectSpread({},databaseConditionParam)]);}var finalConditionDisplay=undefined;var finalConditionDatabase=undefined;var finalConditionDatabaseParam=undefined;if(addGroupList.length-1===0){finalConditionDisplay=[].concat(groupConditionDisplay);finalConditionDatabase=[].concat(groupConditionDatabase);finalConditionDatabaseParam=[].concat(groupConditionDatabaseParam);}else if(addGroupList.length-1===groupIndex){if(selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"][0]&&selectedRecord[\"groupList\"][0][\"button_and\"]===true){finalConditionDisplay=[{$and:[].concat(groupConditionDisplay)}];finalConditionDatabase=[{$and:[].concat(groupConditionDatabase)}];finalConditionDatabaseParam=[{$and:[].concat(groupConditionDatabaseParam)}];}else if(selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"][0]&&selectedRecord[\"groupList\"][0][\"button_or\"]===true){finalConditionDisplay=[{$or:[].concat(groupConditionDisplay)}];finalConditionDatabase=[{$or:[].concat(groupConditionDatabase)}];finalConditionDatabaseParam=[{$or:[].concat(groupConditionDatabaseParam)}];}else{finalConditionDisplay=[_objectSpread({},groupConditionDisplay)];finalConditionDatabase=[_objectSpread({},groupConditionDatabase)];finalConditionDatabaseParam=[_objectSpread({},groupConditionDatabaseParam)];}}if(_this.props.Login.sqlQuery){var databaseSQLQuery=jsonSql.build({type:'select',table:selectedRecord[\"stablename_0\"].value,condition:databaseCondition});var displaySQLQuery=jsonSql.build({type:'select',table:selectedRecord[\"stablename_0\"].label,condition:displayCondition});selectedRecord[\"sgeneratedquery\"]=databaseSQLQuery.query;selectedRecord[\"sdisplayquery\"]=displaySQLQuery.query;}else{// const fields = this.props.Login.viewColumnList;\nvar dbFields=selectedRecord[\"filtercolumns\"];var fieldList=[];var dbfieldList=[];var groupByAggregateFields=[];var groupByFields=[];var groupByAggregateFieldsDisplay=[];var groupByFieldsDisplay=[];var orderByDefault=[];var orderByCustom={};var orderByDefaultDisplay=[];var orderByCustomDisplay={};selectedRecord[\"orderby\"]&&selectedRecord[\"orderby\"].forEach(function(data){if(data[\"ordertype\"]&&data[\"ordertype\"].value===2){orderByCustom[data[\"columnname\"].items.columnname]=-1;orderByCustomDisplay[data[\"columnname\"].label]=-1;}else{orderByCustom[data[\"columnname\"].items.columnname]=1;orderByCustomDisplay[data[\"columnname\"].label]=1;}});if(selectedRecord[\"aggregate\"]&&selectedRecord[\"aggregate\"].length>0){selectedRecord[\"aggregate\"].forEach(function(data){if(data[\"aggfunctionname\"]&&data[\"aggfunctionname\"].label!==''){groupByAggregateFields.push({func:{name:data[\"aggfunctionname\"].label,args:[{field:data[\"columnname\"].items.columnname}]},alias:data[\"columnname\"].items.columnname});groupByAggregateFieldsDisplay.push({func:{name:data[\"aggfunctionname\"].label,args:[{field:data[\"columnname\"].label}]}});}else{groupByAggregateFields.push(data[\"columnname\"].items.columnname);groupByFields.push(data[\"columnname\"].items.columnname);groupByAggregateFieldsDisplay.push(data[\"columnname\"].label);groupByFieldsDisplay.push(data[\"columnname\"].label);}});}// fields.forEach(item => {\n//     fieldList.push(item.label);\n// })\ndbFields&&dbFields.length>0&&dbFields.forEach(function(item){if(item.items?item.items.languagecode:false===true||item.item.items?item.item.items.languagecode:false===true){// let languageCode = this.props.Login.userInfo.slanguagetypecode ? this.props.Login.userInfo.slanguagetypecode : \"en-US\";\nvar fieldValue=item.value+\"\\\"->> $L as \\\"\"+item.value;//item.value.replace(item.value, item.value + \"->> $L as \" + item.value);\n// dbfieldList.push( \"\"+fieldValue+\"\");\ndbfieldList.push(fieldValue);}else{// dbfieldList.push(\"\"+item.value+\"\");\ndbfieldList.push(item.value);}fieldList.push(item.label);});var databaseSQLQueryParam=jsonSqlParam.build({type:'select',table:selectedRecord[\"sviewname\"]&&selectedRecord[\"sviewname\"].value,fields:selectedRecord[\"aggregate\"]&&selectedRecord[\"aggregate\"].length>0?groupByAggregateFields:dbfieldList,group:groupByFields,sort:selectedRecord[\"orderby\"]&&selectedRecord[\"orderby\"].length>0?orderByCustom:\"\",condition:selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"].length>0&&finalConditionDatabaseParam||[]});var _databaseSQLQuery=jsonSql.build({type:'select',table:selectedRecord[\"sviewname\"]&&selectedRecord[\"sviewname\"].value,fields:selectedRecord[\"aggregate\"]&&selectedRecord[\"aggregate\"].length>0?groupByAggregateFields:dbfieldList,group:groupByFields,sort:selectedRecord[\"orderby\"]&&selectedRecord[\"orderby\"].length>0?orderByCustom:\"\",condition:selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"].length>0&&finalConditionDatabase||[]});var _displaySQLQuery=jsonSql.build({type:'select',fields:selectedRecord[\"aggregate\"]&&selectedRecord[\"aggregate\"].length>0?groupByAggregateFieldsDisplay:fieldList,group:groupByFieldsDisplay,table:selectedRecord[\"sviewname\"]&&selectedRecord[\"sviewname\"].label,sort:selectedRecord[\"orderby\"]&&selectedRecord[\"orderby\"].length>0?orderByCustomDisplay:\"\",condition:selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"].length>0&&finalConditionDisplay||[]//&& finalCondition.length === 1 ? finalCondition[0] : finalCondition\n});// databaseSQLQueryParam.query.split('\"').join('')\n// databaseSQLQuery.query.split('\"').join('')\n// let dbQueryParam = databaseSQLQueryParam.query.split('\"').join('');\n// let dbQuery = databaseSQLQuery.query.split('\"').join('');\nvar dbQueryParam=databaseSQLQueryParam.query;var dbQuery=_databaseSQLQuery.query;selectedRecord[\"squerywithparam\"]=dbQueryParam.replace(\"like\",\"Ilike\");selectedRecord[\"sgeneratedquery\"]=selectedRecord[\"filtercolumns\"]&&selectedRecord[\"filtercolumns\"].length>0?dbQuery.replace(\"like\",\"Ilike\"):\"\";selectedRecord[\"sdisplayquery\"]=selectedRecord[\"filtercolumns\"]&&selectedRecord[\"filtercolumns\"].length>0?_displaySQLQuery.query.replace(\"like\",\"Ilike\"):\"\";selectedRecord[\"sdefaultvalue\"]=fieldWithValue;var paramIndex=[];if(fieldWithValue.length>0){fieldWithValue.forEach(function(item,i){if(item.symbolObject.items.symbolType===4){paramIndex.push(\"$p\"+(i+1));}});}if(paramIndex.length>0){paramIndex.forEach(function(data){selectedRecord[\"squerywithparam\"]=selectedRecord[\"squerywithparam\"].replace(data,data+\" COLLATE pg_catalog.default \");});}//   if (paramIndex.length > 0) {\n//     paramIndex.forEach(data => {\n//         selectedRecord[\"squerywithparam\"] = selectedRecord[\"squerywithparam\"].replace(data, data + \" COLLATE pg_catalog.default \");\n//     })\n// }\n// if (selectedRecord[\"squerywithparam\"].indexOf('Ilike') > 0) {\n//     let newQuery = selectedRecord[\"squerywithparam\"];\n//     while (newQuery.indexOf(\"Ilike\") !== -1) {\n//         const paramLabelStartIndex = newQuery.indexOf(\"Ilike\");\n//         const paramLabel = newQuery.substring(paramLabelStartIndex, newQuery.length);\n//     }\n// }\n}_this.setState({selectedRecord:selectedRecord});});}else{_this.groupByFunction(selectedRecord,databaseCondition,displayCondition,databaseConditionParam);}_this.setState({selectedRecord:selectedRecord});// for temporary\n};_this.onConditionClick=function(fieldName,index){var selectedRecord=_this.state.selectedRecord;if(fieldName===\"button_and\"){selectedRecord[\"groupList\"][index][fieldName]=selectedRecord[\"groupList\"][index][fieldName]===true?false:true;selectedRecord[\"groupList\"][index][\"button_or\"]=false;}else if(fieldName===\"button_or\"){selectedRecord[\"groupList\"][index][fieldName]=selectedRecord[\"groupList\"][index][fieldName]===true?false:true;selectedRecord[\"groupList\"][index][\"button_and\"]=false;// if (selectedRecord[\"groupList\"][index][`notoperator`] && selectedRecord[\"groupList\"][index][`notoperator`] === true) {\n//     selectedRecord[\"groupList\"][index][`notoperator`] = false;\n// }\n}else if(fieldName===\"button_not\"){selectedRecord[\"groupList\"][index][fieldName]=selectedRecord[\"groupList\"][index][fieldName]===true?false:true;}else{}_this.generateFilterQuery(selectedRecord);};_this.onQueryTypeOnclick=function(value){var selectedRecord=_this.state.selectedRecord;selectedRecord[\"selectedQueryType\"]=value;var sqlQuery=false;if(value.value===\"sql\"){sqlQuery=true;}var updateInfo={typeName:DEFAULT_RETURN,data:{sqlQuery:sqlQuery}};_this.props.updateStore(updateInfo);_this.setState({selectedRecord:selectedRecord});};var dataState={skip:0,take:props.settings?parseInt(props.settings[14]):5};var dataStateMain={skip:0,take:props.settings?parseInt(props.settings[14]):5};var dataStateUserQuery={skip:0,take:10};_this.state=(_this$state={selectedRecord:{},error:\"\",// modalIsOpen: false,\nparameters:[],// objparam: [],\n// objDparam: [],\nqueryName:'',// queryResult: [],\nuserRoleControlRights:[],controlMap:new Map(),dataStateUserQuery:dataStateUserQuery,queryTypeName:'',selectedcombo:[],selectedTableType:[],moduleFormName:[],ntableTypeCode:-1,nFormCode:-1,queryType:[],tableType:[],chartList:[],skip:0,take:_this.props.Login.settings?_this.props.Login.settings[3]:25,//tableName : undefined,tableList:[]\noutputColumns:[],selectedTableList:[],tableColumnList:[],foreignTableColumnList:[],joinTableList:[],symbolsList:[],foreignTableList:[],count:0,foreignTableCount:[],selectedforeignTableList:[],filterColumnList:[],sqlQuery:false,// viewColumnList: [],\nswitchRecord:{},dataState:dataState,dataStateMain:dataStateMain,data:[],dataMainList:[],dataResult:[],dataResultMain:[]},_defineProperty(_this$state,\"queryType\",[{squerytypename:_this.props.intl.formatMessage({id:\"IDS_VIEWS\"}),nquerytypecode:1},{squerytypename:_this.props.intl.formatMessage({id:\"IDS_SQL\"}),nquerytypecode:2}]),_defineProperty(_this$state,\"queryTypeOptions\",[{label:_this.props.intl.formatMessage({id:\"IDS_VIEWS\"}),views:1},{label:_this.props.intl.formatMessage({id:\"IDS_SQL\"}),value:2}]),_defineProperty(_this$state,\"queryTypeOptions1\",[]),_defineProperty(_this$state,\"sidebarview\",false),_this$state);_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();// this.dropItemRef = React.createRef(); \n_this.queryFieldList=['nquerytypecode','ssqlqueryname','ssqlquery','sscreenrecordquery','sscreenheader','svaluemember','sdisplaymember','ncharttypecode'];// this.queryList = [];\n_this.searchFieldList=[\"ssqlqueryname\",\"ssqlquery\",\"sscreenheader\",\"svaluemember\",\"sdisplaymember\",\"squerytypename\",\"schartname\"];return _this;}_createClass(QueryBuilder,[{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){//let { filterData } = this.state;\nif(this.props.Login.queryData!==previousProps.Login.queryData){this.setState({data:this.props.Login.queryData,dataResult:process(this.props.Login.queryData,this.state.dataState)});}if(this.props.Login.masterData.queryDataMain!==previousProps.Login.masterData.queryDataMain){if(this.props.Login.masterData.queryDataMain!==undefined){this.setState({dataMainList:this.props.Login.masterData.queryDataMain,dataResultMain:process(this.props.Login.masterData.queryDataMain===null?[]:this.props.Login.masterData.queryDataMain,this.state.dataStateMain)});}}// if (this.props.Login.masterData.queryTypeCode !== previousProps.Login.masterData.queryTypeCode) {\n//     filterData = this.generateBreadCrumData();\n//     this.setState({ filterData });\n// }\nif(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights});}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.selectedRecord.filtercolumns!==previousProps.Login.selectedRecord.filtercolumns){this.generateFilterQuery(this.props.Login.selectedRecord);this.props.Login.addGroupList=[];this.props.Login.gridColumnList=[];this.props.Login.viewMasterListByRule=[];//this.props.Login.gridColumnList =[];\n}}// generateBreadCrumData() {\n//     const breadCrumbData = [];\n//     if (this.props.Login.masterData && this.props.Login.masterData.queryTypeCode) {\n//         const item = this.state.queryType.filter(item => item.nquerytypecode === this.props.Login.masterData.queryTypeCode);\n//         breadCrumbData.push(\n//             {\n//                 \"label\": \"IDS_QUERYTYPE\",\n//                 \"value\": this.props.Login.masterData.queryTypeCode ?\n//                     item[0].squerytypename : \"\"\n//             }\n//         );\n//     }\n//     return breadCrumbData;\n// }\n},{key:\"render\",value:function render(){var _this2=this;console.log(\"DataState\",this.state.dataState);console.log(\"DataState\",this.state.dataState);var filterParam={inputListName:\"queryBuilderList\",selectedObject:\"selectedQueryBuilder\",primaryKeyField:\"nquerybuildercode\",fetchUrl:\"querybuilder/getSelectedQueryBuilder\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"squerybuildername\"]};console.log(\"selected\",this.props.Login.selectFields);var addId=this.state.controlMap.has(\"Add QueryBuilder\")&&this.state.controlMap.get(\"Add QueryBuilder\").ncontrolcode;var editId=this.state.controlMap.has(\"Edit QueryBuilder\")&&this.state.controlMap.get(\"Edit QueryBuilder\").ncontrolcode;var deleteId=this.state.controlMap.has(\"Delete QueryBuilder\")&&this.state.controlMap.get(\"Delete QueryBuilder\").ncontrolcode;// const breadCrumbData = this.state.filterData || [];\nvar gridColumnListMain=[];// if (this.props.Login.masterData && this.props.Login.masterData.columnList && this.props.Login.masterData.columnList.length > 0) {\n//     this.props.Login.masterData.columnList.forEach(item => {\n//         gridColumnListMain.push({ idsName: item.items.displayname[this.props.Login.userInfo.slanguagetypecode], dataField: item.items.columnname, width: '200px' })\n//     })\n// }\nif(this.props.Login.masterData&&this.props.Login.masterData.selectFields&&this.props.Login.masterData.selectFields.length>0){this.props.Login.masterData.selectFields.forEach(function(item){gridColumnListMain.push({idsName:item.items.displayname[_this2.props.Login.userInfo.slanguagetypecode],dataField:item.items.columnname,width:'200px'});});}var selectedQueryType=[];if(this.props.Login.masterData&&this.props.Login.masterData.queryTypeCode){selectedQueryType=this.state.queryType.filter(function(item){return item.nquerytypecode===_this2.props.Login.masterData.queryTypeCode;});}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.state.sidebarview?'4':\"2\")},/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return _this2.setState({sidebarview:!_this2.state.sidebarview});},className:\"sidebar-view-btn\"},!this.state.sidebarview?/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-less-than\"}):/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-greater-than\"})),/*#__PURE__*/React.createElement(ListMaster,{masterData:this.props.Login.masterData||[],screenName:this.props.intl.formatMessage({id:\"IDS_QUERYBUILDER\"}),masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.queryBuilderList,getMasterDetail:function getMasterDetail(qryBuilder){return _this2.props.getSelectedQueryBuilder(qryBuilder,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedQueryBuilder,primaryKeyField:\"nquerybuildercode\",mainField:\"squerybuildername\"//firstField=\"squerybuildername\"\n// secondField={this.state.selectedcombo[\"nquerytypecode\"] && this.state.selectedcombo[\"nquerytypecode\"].value === queryTypeFilter.LIMSDASHBOARDQUERY ? \"schartname\" : \"\"}\n,filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,searchRef:this.searchRef,reloadData:this.reloadData,openModal:this.getDatabaseTables// openModal={() => this.props.getSQLQueryComboService(\"\", \"create\", \"nsqlquerycode\", null,\n//     this.props.Login.masterData, this.props.Login.userInfo,\n//     this.props.Login.masterData.SelectedQueryType.nquerytypecode,                                   \n//     addId)} \n//{() => this.props.addTest(\"create\", selectedTest, userInfo, addId, this.state.nfilterTestCategory)} Already commented\n,needAccordianFilter:false// skip={this.state.skip}\n// take={this.state.take}\n,handlePageChange:this.handlePageChange,showFilterIcon:false,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter//onFilterSubmit={this.onFilterSubmit}\n,showBuildQuery:false,builderData:this.getDatabaseTables// filterComponent={[\n//     {\n//         \"IDS_QUERYTYPEFILTER\":\n//             <QueryTypeFilter\n//                 queryType={this.state.queryTypeOptions || []}\n//                 selectedRecord={this.state.selectedcombo || {}}\n//                 onComboChange={this.onComboChange}\n//                 filterQueryType={selectedQueryType[0]}\n//             />\n//     }\n// ]}\n})),/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.state.sidebarview?'8':\"10\")},/*#__PURE__*/React.createElement(ProductList,{className:\"panel-main-content\"},this.props.Login.masterData.queryBuilderList&&this.props.Login.masterData.queryBuilderList.length>0&&this.props.Login.masterData.selectedQueryBuilder?/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.selectedQueryBuilder.squerybuildername),/*#__PURE__*/React.createElement(ContentPanel,{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(Col,{md:\"6\"}),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\",style:{float:\"right\"}},/*#__PURE__*/React.createElement(ProductList,{className:\"d-inline dropdown badget_menu\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 \",href:\"#\"// hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\n//  data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_PARAMETERMAPPING\"}),onClick:function onClick(e){return _this2.props.getParameterFromQuery(_this2.props.Login);}},/*#__PURE__*/React.createElement(ParameterConfigurationIcon,{className:\"custom_icons\",width:\"20\",height:\"20\",name:\"configreporticon\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"QB\",className:\"btn btn-circle outline-grey mr-2\"// hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),onClick:function onClick(){return _this2.confirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 \",href:\"#\"// hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\n//  data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_COPYSQL\"}),onClick:function onClick(){return _this2.copySQLQuery(1);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCopy}))))))),this.props.Login.masterData.queryDataMain&&gridColumnListMain&&gridColumnListMain.length>0?/*#__PURE__*/React.createElement(DataGridComponent,{data:this.state.dataMainList,dataResult:this.state.dataResultMain||[],dataState:this.state.dataStateMain,dataStateChange:this.dataStateChangeMain,extractedColumnList:gridColumnListMain,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,userInfo:this.props.Login.userInfo,pageable:true,scrollable:\"scrollable\",isActionRequired:false,isToolBarRequired:true,isRefreshRequired:false,selectedId:-1}):/*#__PURE__*/React.createElement(React.Fragment,null)):\"\")))),this.props.Login.openPortalModal&&/*#__PURE__*/React.createElement(PortalModalSlideout,{show:this.props.Login.openPortalModal,closeModal:this.closePortalModal,screenName:this.props.Login.screenName,handleSaveClick:this.save,addComponent:/*#__PURE__*/React.createElement(BuildQuery,{selectedRecord:this.state.selectedRecord||{},databaseTableList:this.props.Login.databaseTableList,tableColumnList:this.state.tableColumnList,foreignTableList:this.state.foreignTableList||[],foreignTableColumnList:this.props.Login.foreignTableColumnList||[]// validationData={validationData}\n,count:this.state.count,foreignTableCount:this.state.foreignTableCount,sqlQuery:this.state.sqlQuery,viewMasterListByRule:this.props.Login.viewMasterListByRule||[],userInfo:this.props.Login.userInfo,onExecuteRule:this.onExecuteRule,onInputChange:this.onInputChange,deleteRule:this.deleteRule,clearRule:this.clearRule,resetRule:this.resetRule,onSymbolChange:this.onSymbolChange// onForeignTableChange={this.onForeignTableChange}\n// addJoinTable={this.addJoinTable}\n,onQueryTypeOnclick:this.onQueryTypeOnclick,onRuleChange:this.onRuleChange,onViewComboChange:this.onViewComboChange,addRule:this.addRule,onConditionClick:this.onConditionClick,onMasterDataChange:this.onMasterDataChange,handleFilterDateChange:this.handleFilterDateChange,databaseviewList:this.props.Login.databaseviewList,addRuleList:this.props.Login.addRuleList||[],viewColumnListByRule:this.props.Login.viewColumnListByRule||[],masterdata:this.props.Login.masterdata,switchRecord:this.state.switchRecord,data:this.state.data,dataResult:this.state.dataResult||[],dataState:this.state.dataState,dataStateChange:this.dataStateChange,userRoleControlRights:this.state.userRoleControlRights,gridColumnList:this.props.Login.gridColumnList||[],queryType:this.state.queryType,addAggregate:this.addAggregate,addAggregateList:this.props.Login.addAggregateList||[],onAggregateChange:this.onAggregateChange,deleteAggregate:this.deleteAggregate,addOrderby:this.addOrderby,addOrderbyList:this.props.Login.addOrderbyList||[],onOrderbyChange:this.onOrderbyChange,deleteOrderby:this.deleteOrderby,addGroup:this.addGroup,addGroupList:this.props.Login.addGroupList||[],copySQLQuery:this.copySQLQuery,onFilterComboChange:this.onFilterComboChange,selectFields:this.props.Login.selectFields||[],generateFilterQuery:this.generateFilterQuery})}),this.props.Login.openModal&&this.props.Login.masterData.selectedQueryBuilder['sdefaultvalue']&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:\"create\",inputParam:this.props.Login.inputParam,screenName:this.props.intl.formatMessage({id:\"IDS_PARAMETERMAPPING\"}),onExecuteClick:this.saveParam,showExecute:true,showParam:true,hideSave:true,selectedRecord:this.state.selectedRecord||{},addComponent:/*#__PURE__*/React.createElement(QueryBuilderParamter,{onParamInputChange:this.onParamInputChange,selectedQueryBuilder:this.props.Login.masterData.selectedQueryBuilder||[],viewMasterData:this.props.Login.viewMasterData||[],comboData:this.props.Login.comboData||[],onParamComboChange:this.onParamComboChange})})//  toast.info(this.props.intl.formatMessage({ id: \"IDS_QUERYNOTAVAILABLE\" }))\n);}},{key:\"clearSelectedRule\",value:function clearSelectedRule(selectedRecord,groupIndex,index,viewMasterListByRule){selectedRecord['groupList'][groupIndex][index][\"sinputname\"]&&delete['groupList'][groupIndex][index][\"sinputname\"];selectedRecord['groupList'][groupIndex][index][\"ssymbolname\"]&&delete selectedRecord['groupList'][groupIndex][index][\"ssymbolname\"];selectedRecord['groupList'][groupIndex][index][\"snumericinput\"]&&delete selectedRecord['groupList'][groupIndex][index][\"snumericinput\"];selectedRecord['groupList'][groupIndex][index][\"columnname\"]&&delete selectedRecord['groupList'][groupIndex][index][\"columnname\"];selectedRecord['groupList'][groupIndex][index][\"snumericinputtwo\"]&&delete selectedRecord['groupList'][groupIndex][index][\"snumericinputtwo\"];selectedRecord['groupList'][groupIndex][index][\"dateinput\"]&&delete selectedRecord['groupList'][groupIndex][index][\"dateinput\"];selectedRecord['groupList'][groupIndex][index][\"dateinputtwo\"]&&delete selectedRecord['groupList'][groupIndex][index][\"dateinputtwo\"];viewMasterListByRule=[];}},{key:\"groupByFunction\",value:function groupByFunction(selectedRecord,databaseCondition,displayCondition,databaseConditionParam){var groupByAggregateFields=[];var groupByFields=[];var groupByAggregateFieldsDisplay=[];var groupByFieldsDisplay=[];var orderByDefault=[];var orderByCustom={};var orderByDefaultDisplay=[];var orderByCustomDisplay={};// if (selectedRecord[\"customorderby\"] && selectedRecord[\"customorderby\"] === true) {\nselectedRecord[\"orderby\"]&&selectedRecord[\"orderby\"].forEach(function(data){if(data[\"ordertype\"]&&data[\"ordertype\"].value===2){orderByCustom[data[\"columnname\"].items.columnname]=-1;orderByCustomDisplay[data[\"columnname\"].label]=-1;}else{orderByCustom[data[\"columnname\"].items.columnname]=1;orderByCustomDisplay[data[\"columnname\"].label]=1;}});// } else {\n//     selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].forEach(data => {\n//         orderByDefault.push(data[\"columnname\"].items.columnname);\n//         orderByDefaultDisplay.push(data[\"columnname\"].label);\n//     })\n// }\n// if (selectedRecord[\"groupby\"] && selectedRecord[\"groupby\"] === true) {\nif(selectedRecord[\"aggregate\"]&&selectedRecord[\"aggregate\"].length>0){selectedRecord[\"aggregate\"].forEach(function(data){if(data[\"aggfunctionname\"]&&data[\"aggfunctionname\"].label!==''){groupByAggregateFields.push({func:{name:data[\"aggfunctionname\"].label,args:[{field:data[\"columnname\"].items.columnname}]},alias:data[\"columnname\"].items.columnname});groupByAggregateFieldsDisplay.push({func:{name:data[\"aggfunctionname\"].label,args:[{field:data[\"columnname\"].label}]}});}else{groupByAggregateFields.push(data[\"columnname\"].items.columnname);groupByFields.push(data[\"columnname\"].items.columnname);groupByAggregateFieldsDisplay.push(data[\"columnname\"].label);groupByFieldsDisplay.push(data[\"columnname\"].label);}});var _databaseSQLQuery2=jsonSql.build({type:'select',table:selectedRecord[\"sviewname\"]&&selectedRecord[\"sviewname\"].value,fields:selectedRecord[\"aggregate\"]&&selectedRecord[\"aggregate\"].length>0?groupByAggregateFields:dbfieldList,group:groupByFields,sort:selectedRecord[\"orderby\"]&&selectedRecord[\"orderby\"].length>0?orderByCustom:\"\",condition:databaseCondition});var _displaySQLQuery2=jsonSql.build({type:'select',fields:selectedRecord[\"aggregate\"]&&selectedRecord[\"aggregate\"].length>0?groupByAggregateFieldsDisplay:fieldList,group:groupByFieldsDisplay,sort:selectedRecord[\"orderby\"]&&selectedRecord[\"orderby\"].length>0?orderByCustomDisplay:\"\",table:selectedRecord[\"sviewname\"]&&selectedRecord[\"sviewname\"].label,condition:displayCondition});selectedRecord[\"sgeneratedquery\"]=_databaseSQLQuery2.query;selectedRecord[\"sdisplayquery\"]=_displaySQLQuery2.query;this.setState({selectedRecord:selectedRecord});}var dbFields=selectedRecord[\"filtercolumns\"];var fieldList=[];var dbfieldList=[];dbFields&&dbFields.length>0&&dbFields.forEach(function(item){if(item.items?item.items.languagecode:false===true||item.item.items?item.item.items.languagecode:false===true){// let languageCode = this.props.Login.userInfo.slanguagetypecode ? this.props.Login.userInfo.slanguagetypecode : \"en-US\";\nvar fieldValue=item.value+\"\\\"->> $L as \\\"\"+item.value;//item.value.replace(item.value, item.value + \"->> $L as \" + item.value);\n// dbfieldList.push( \"\"+fieldValue+\"\");\ndbfieldList.push(fieldValue);}else{// dbfieldList.push(\"\"+item.value+\"\");\ndbfieldList.push(item.value);}fieldList.push(item.label);});var databaseSQLQueryParam=jsonSqlParam.build({type:'select',table:selectedRecord[\"sviewname\"]&&selectedRecord[\"sviewname\"].value,fields:selectedRecord[\"aggregate\"]&&selectedRecord[\"aggregate\"].length>0?groupByAggregateFields:dbfieldList,group:groupByFields,sort:selectedRecord[\"orderby\"]&&selectedRecord[\"orderby\"].length>0?orderByCustom:\"\",condition:databaseConditionParam});var databaseSQLQuery=jsonSql.build({type:'select',table:selectedRecord[\"sviewname\"]&&selectedRecord[\"sviewname\"].value,fields:selectedRecord[\"aggregate\"]&&selectedRecord[\"aggregate\"].length>0?groupByAggregateFields:dbfieldList,group:groupByFields,sort:selectedRecord[\"orderby\"]&&selectedRecord[\"orderby\"].length>0?orderByCustom:\"\",condition:databaseCondition});var displaySQLQuery=jsonSql.build({type:'select',fields:selectedRecord[\"aggregate\"]&&selectedRecord[\"aggregate\"].length>0?groupByAggregateFieldsDisplay:fieldList,group:groupByFieldsDisplay,sort:selectedRecord[\"orderby\"]&&selectedRecord[\"orderby\"].length>0?orderByCustomDisplay:\"\",table:selectedRecord[\"sviewname\"]&&selectedRecord[\"sviewname\"].label,condition:displayCondition});// selectedRecord[\"sgeneratedquery\"] = databaseSQLQuery.query;\n// selectedRecord[\"sdisplayquery\"] = displaySQLQuery.query;\nvar dbQuery=databaseSQLQuery.query;var dbQueryParam=databaseSQLQueryParam.query;selectedRecord[\"squerywithparam\"]=dbQueryParam.replace(\"like\",\"Ilike\");var paramIndex=[];if(paramIndex.length>0){paramIndex.forEach(function(data){selectedRecord[\"squerywithparam\"]=selectedRecord[\"squerywithparam\"].replace(data,data+\" COLLATE pg_catalog.default \");});}// const displaysqlQuery = displaySQLQuery.query;\nselectedRecord[\"sgeneratedquery\"]=selectedRecord[\"filtercolumns\"]&&selectedRecord[\"filtercolumns\"].length>0?dbQuery.replace(\"like\",\"Ilike\"):\"\";selectedRecord[\"sdisplayquery\"]=selectedRecord[\"filtercolumns\"]&&selectedRecord[\"filtercolumns\"].length>0?displaySQLQuery.query.replace(\"like\",\"Ilike\"):\"\";this.setState({selectedRecord:selectedRecord});// }\n}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return QueryBuilder;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,filterColumnData:filterColumnData,validateEsignCredential:validateEsignCredential,getSQLQueryDetail:getSQLQueryDetail,getSQLQueryComboService:getSQLQueryComboService,comboChangeQueryType:comboChangeQueryType,executeUserQuery:executeUserQuery,comboColumnValues:comboColumnValues,getColumnNamesByTableName:getColumnNamesByTableName,getTablesName:getTablesName,getModuleFormName:getModuleFormName,getDatabaseTables:getDatabaseTables,executeQueryForQueryBuilder:executeQueryForQueryBuilder,getForeignTable:getForeignTable,getViewColumns:getViewColumns,getMasterData:getMasterData,createQueryBuilder:createQueryBuilder,getParameterFromQuery:getParameterFromQuery,getSelectedQueryBuilder:getSelectedQueryBuilder,updateQueryBuilder:updateQueryBuilder//getQueryBuilder\n})(injectIntl(QueryBuilder));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/dashboard/QueryBuilder.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faTrashAlt","faCopy","process","toast","ListMaster","SlideOutModal","Esign","AddQuery","AddParameter","callService","crudMaster","validateEsignCredential","updateStore","getSQLQueryDetail","getSQLQueryComboService","filterColumnData","comboChangeQueryType","executeUserQuery","comboColumnValues","getColumnNamesByTableName","getTablesName","getModuleFormName","getDatabaseTables","executeQueryForQueryBuilder","getForeignTable","getViewColumns","getMasterData","createQueryBuilder","getParameterFromQuery","getSelectedQueryBuilder","updateQueryBuilder","DEFAULT_RETURN","transactionStatus","queryTypeFilter","tableType","ColumnType","constructOptionList","copyText","getControlMap","showEsign","ReadOnlyText","ContentPanel","rsapi","ConfirmMessage","Affix","BreadcrumbComponent","ListWrapper","PortalModalSlideout","BuildQuery","render","format","ProductList","QueryBuilderParamter","DataGridComponent","stringOperatorData","jsonSql","require","separatedValues","jsonSqlParam","QueryBuilder","props","sidebarExpandCollapse","setState","sidebarview","dataStateChange","event","dataResult","Login","queryData","dataState","dataStateChangeMain","dataResultMain","masterData","queryDataMain","dataStateMain","copySQLQuery","type","selectedRecord","state","count","query","forEach","dataItem","items","needmasterdata","mastertablename","symbolObject","value","item","index","length","replace","viewvaluemember","includes","sforeigncolumnname","undefined","columnname","replaceAll","userInfo","slanguagetypecode","info","intl","formatMessage","id","selectedQueryBuilder","sdefaultValue","JSON","parse","sdefaultvalue","reloadData","searchRef","current","inputParam","inputData","classUrl","methodUrl","saveParam","saveType","formRef","comboData","sqryData","columntype","DATATIME","DATE","isInputVisible","symbolType","Date","jsonData","sgeneratedquery","columnList","save","jsondata","postParam","i","inputListName","selectedObject","primaryKeyField","viewColumnListByRule","viewColumnList","selectFields","label","displayName","operation","deleteQB","ncontrolCode","confirmDelete","confirmMessage","confirm","openFilter","showFilter","updateInfo","typeName","data","closeFilter","onFilterComboChange","fieldName","generateFilterQuery","onParamComboChange","onParamInputChange","inputValue","target","test","checked","index1","indexOf","inputname","substr","slice","showInputValue","handleFilterDateChange","dateName","dateValue","groupIndex","onComboChange","selectedcombo","onViewComboChange","sviewname","userinfo","onAggregateChange","onRuleChange","viewMasterListByRule","clearSelectedRule","sqlQuery","oldselectedRecord","tableData","nflag","valuemember","displaymember","optionId","COMBO","stablename","foriegntablename","scolumnname","TEXTINPUT","onMasterDataChange","onOrderbyChange","deleteOrderby","addOrderbyList","splice","addOrderby","arrayLength","deleteAggregate","addAggregateList","addAggregate","addRule","addGroupList","addGroup","sql1","build","table","alias","join","on","console","log","sql21","condition","a","$gt","b","$lt","group","addRuleList","closePortalModal","openPortalModal","closeModal","openModal","onExecuteRule","deleteRule","clearRule","resetRule","onSymbolChange","oldSelectedRecord","val","onInputChange","name","setDialect","databaseCondition","displayCondition","databaseConditionParam","fieldWithValue","notOperator","groupConditionDatabase","groupConditionDatabaseParam","groupConditionDisplay","Array","map","current_button_and","current_button_or","next_button_and","next_button_or","symbolname","symbol","numericinput","columnLabel","columnValue","snumericinputtwo","columnName","dateinput","dateinputtwo","replacewith","push","tempValue","tempValue1","data1","groupByFunction","$not","$and","$or","finalConditionDisplay","finalConditionDatabase","finalConditionDatabaseParam","databaseSQLQuery","displaySQLQuery","dbFields","fieldList","dbfieldList","groupByAggregateFields","groupByFields","groupByAggregateFieldsDisplay","groupByFieldsDisplay","orderByDefault","orderByCustom","orderByDefaultDisplay","orderByCustomDisplay","func","args","field","languagecode","fieldValue","databaseSQLQueryParam","fields","sort","dbQueryParam","dbQuery","paramIndex","onConditionClick","onQueryTypeOnclick","skip","take","settings","parseInt","dataStateUserQuery","error","parameters","queryName","userRoleControlRights","controlMap","Map","queryTypeName","selectedTableType","moduleFormName","ntableTypeCode","nFormCode","queryType","chartList","outputColumns","selectedTableList","tableColumnList","foreignTableColumnList","joinTableList","symbolsList","foreignTableList","foreignTableCount","selectedforeignTableList","filterColumnList","switchRecord","dataMainList","squerytypename","nquerytypecode","views","createRef","queryFieldList","searchFieldList","previousProps","nformcode","Object","values","ncontrolcode","filtercolumns","gridColumnList","filterParam","fetchUrl","fecthInputObject","addId","has","get","editId","deleteId","gridColumnListMain","idsName","displayname","dataField","width","selectedQueryType","queryTypeCode","filter","searchedData","queryBuilderList","qryBuilder","handlePageChange","squerybuildername","float","e","screenName","databaseTableList","databaseviewList","masterdata","viewMasterData","masterStatus","warn","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt, faCopy } from '@fortawesome/free-solid-svg-icons';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../audittrail/Esign';\r\nimport AddQuery from './AddQuery';\r\nimport AddParameter from './AddParameter';\r\n//import QueryTypeFilter from './QueryTypeFilter';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSQLQueryDetail,\r\n    getSQLQueryComboService, filterColumnData, comboChangeQueryType, executeUserQuery,\r\n    comboColumnValues, getColumnNamesByTableName, getTablesName, getModuleFormName,\r\n    getDatabaseTables, executeQueryForQueryBuilder, getForeignTable, getViewColumns, getMasterData, createQueryBuilder,\r\n    getParameterFromQuery, getSelectedQueryBuilder, updateQueryBuilder,// getQueryBuilder\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { transactionStatus, queryTypeFilter, tableType, ColumnType } from '../../components/Enumeration';\r\nimport { constructOptionList, copyText, getControlMap, showEsign } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\r\nimport rsapi from '../../rsapi';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport { Affix } from 'rsuite';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport PortalModalSlideout from '../../components/portal-modal/portal-modal-slideout';\r\nimport BuildQuery from './BuildQuery';\r\nimport { render } from '@testing-library/react';\r\nimport { format } from 'date-fns';\r\nimport { ProductList } from '../product/product.styled';\r\nimport QueryBuilderParamter from './QueryBuilderParamter';\r\nimport { ReactComponent as ParameterConfigurationIcon } from '../../assets/image/parameter-configuration.svg';\r\nimport { ReactComponent as ParameterMappingIcon } from '../../assets/image/parameter-mapping.svg';\r\nimport DataGridComponent from '../../components/data-grid/data-grid.component';\r\nimport { stringOperatorData } from './QueryBuilderData';\r\n// import {validationData} from './QueryBuilderData';\r\n\r\nconst jsonSql = require('json-sql')({ separatedValues: false });\r\nconst jsonSqlParam = require('json-sql')({ separatedValues: true });\r\n\r\nclass QueryBuilder extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // const dataState = {\r\n        //     skip: 0,\r\n        //     take: props.settings ? parseInt(props.settings[14]) : 5,\r\n        // };\r\n        const dataState = {\r\n            skip: 0,\r\n            take: props.settings ? parseInt(props.settings[14]) : 5,\r\n        };\r\n        const dataStateMain = {\r\n            skip: 0,\r\n            take: props.settings ? parseInt(props.settings[14]) : 5,\r\n        };\r\n        const dataStateUserQuery = {\r\n            skip: 0,\r\n            take: 10,\r\n        };\r\n\r\n        this.state = ({\r\n            selectedRecord: {},\r\n            error: \"\",\r\n            // modalIsOpen: false,\r\n            parameters: [],\r\n            // objparam: [],\r\n            // objDparam: [],\r\n            queryName: '',\r\n            // queryResult: [],\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            dataStateUserQuery: dataStateUserQuery,\r\n            queryTypeName: '',\r\n            selectedcombo: [],\r\n            selectedTableType: [],\r\n            moduleFormName: [],\r\n            ntableTypeCode: -1,\r\n            nFormCode: -1,\r\n            queryType: [],\r\n            tableType: [],\r\n            chartList: [],\r\n            skip: 0,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25, //tableName : undefined,tableList:[]\r\n            outputColumns: [],\r\n            selectedTableList: [],\r\n            tableColumnList: [],\r\n            foreignTableColumnList: [],\r\n            joinTableList: [],\r\n            symbolsList: [],\r\n            foreignTableList: [],\r\n            count: 0,\r\n            foreignTableCount: [],\r\n            selectedforeignTableList: [],\r\n            filterColumnList: [],\r\n            sqlQuery: false,\r\n            // viewColumnList: [],\r\n            switchRecord: {},\r\n            dataState: dataState,\r\n            dataStateMain: dataStateMain,\r\n            data: [],\r\n            dataMainList: [],\r\n            dataResult: [],\r\n            dataResultMain: [],\r\n            queryType: [{ squerytypename: this.props.intl.formatMessage({ id: \"IDS_VIEWS\" }), nquerytypecode: 1 }, { squerytypename: this.props.intl.formatMessage({ id: \"IDS_SQL\" }), nquerytypecode: 2 }],\r\n            queryTypeOptions: [{ label: this.props.intl.formatMessage({ id: \"IDS_VIEWS\" }), views: 1 }, { label: this.props.intl.formatMessage({ id: \"IDS_SQL\" }), value: 2 }],\r\n            queryTypeOptions1:[],\r\n            sidebarview: false\r\n        });\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        // this.dropItemRef = React.createRef(); \r\n\r\n        this.queryFieldList = ['nquerytypecode', 'ssqlqueryname', 'ssqlquery',\r\n            'sscreenrecordquery', 'sscreenheader', 'svaluemember', 'sdisplaymember', 'ncharttypecode'];\r\n        // this.queryList = [];\r\n\r\n        this.searchFieldList = [\"ssqlqueryname\", \"ssqlquery\", \"sscreenheader\", \"svaluemember\", \"sdisplaymember\",\r\n            \"squerytypename\", \"schartname\"];\r\n    }\r\n    sidebarExpandCollapse = () => {\r\n        this.setState({\r\n            sidebarview: true\r\n        })          \r\n    }\r\n\r\n\r\n\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n\r\n    dataStateChangeMain = (event) => {\r\n        this.setState({\r\n            dataResultMain: process(this.props.Login.masterData.queryDataMain, event.dataState),\r\n            dataStateMain: event.dataState\r\n        });\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n\r\n        //let { filterData } = this.state;\r\n        if (this.props.Login.queryData !== previousProps.Login.queryData) {\r\n            this.setState({\r\n                data: this.props.Login.queryData,\r\n                dataResult: process(this.props.Login.queryData, this.state.dataState)\r\n            });\r\n        }\r\n        if (this.props.Login.masterData.queryDataMain !== previousProps.Login.masterData.queryDataMain) {\r\n            if (this.props.Login.masterData.queryDataMain !== undefined) {\r\n                this.setState({\r\n                    dataMainList: this.props.Login.masterData.queryDataMain,\r\n                    dataResultMain: process(this.props.Login.masterData.queryDataMain === null ? [] : this.props.Login.masterData.queryDataMain, this.state.dataStateMain)\r\n                });\r\n            }\r\n        }\r\n        // if (this.props.Login.masterData.queryTypeCode !== previousProps.Login.masterData.queryTypeCode) {\r\n        //     filterData = this.generateBreadCrumData();\r\n        //     this.setState({ filterData });\r\n        // }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ controlMap, userRoleControlRights });\r\n        }\r\n         if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.selectedRecord.filtercolumns !== previousProps.Login.selectedRecord.filtercolumns) {\r\n         this.generateFilterQuery(this.props.Login.selectedRecord);   \r\n         this.props.Login.addGroupList=[];\r\n         this.props.Login.gridColumnList=[]\r\n         this.props.Login.viewMasterListByRule=[];\r\n       \r\n         //this.props.Login.gridColumnList =[];\r\n        }\r\n    }\r\n    // generateBreadCrumData() {\r\n    //     const breadCrumbData = [];\r\n    //     if (this.props.Login.masterData && this.props.Login.masterData.queryTypeCode) {\r\n\r\n    //         const item = this.state.queryType.filter(item => item.nquerytypecode === this.props.Login.masterData.queryTypeCode);\r\n    //         breadCrumbData.push(\r\n    //             {\r\n    //                 \"label\": \"IDS_QUERYTYPE\",\r\n    //                 \"value\": this.props.Login.masterData.queryTypeCode ?\r\n    //                     item[0].squerytypename : \"\"\r\n    //             }\r\n    //         );\r\n    //     }\r\n    //     return breadCrumbData;\r\n    // }\r\n    render() {\r\n        console.log(\"DataState\",this.state.dataState);\r\n        console.log(\"DataState\",this.state.dataState);\r\n        const filterParam = {\r\n            inputListName: \"queryBuilderList\", selectedObject: \"selectedQueryBuilder\", primaryKeyField: \"nquerybuildercode\",\r\n            fetchUrl: \"querybuilder/getSelectedQueryBuilder\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"squerybuildername\"]\r\n        };\r\n       console.log(\"selected\",this.props.Login.selectFields);\r\n        const addId = this.state.controlMap.has(\"Add QueryBuilder\") && this.state.controlMap.get(\"Add QueryBuilder\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit QueryBuilder\") && this.state.controlMap.get(\"Edit QueryBuilder\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete QueryBuilder\") && this.state.controlMap.get(\"Delete QueryBuilder\").ncontrolcode;\r\n       // const breadCrumbData = this.state.filterData || [];\r\n        let gridColumnListMain = [];\r\n\r\n        // if (this.props.Login.masterData && this.props.Login.masterData.columnList && this.props.Login.masterData.columnList.length > 0) {\r\n        //     this.props.Login.masterData.columnList.forEach(item => {\r\n        //         gridColumnListMain.push({ idsName: item.items.displayname[this.props.Login.userInfo.slanguagetypecode], dataField: item.items.columnname, width: '200px' })\r\n        //     })\r\n        // }\r\n        if (this.props.Login.masterData && this.props.Login.masterData.selectFields && this.props.Login.masterData.selectFields.length > 0) {\r\n            this.props.Login.masterData.selectFields.forEach(item => {\r\n                gridColumnListMain.push({ idsName: item.items.displayname[this.props.Login.userInfo.slanguagetypecode], dataField: item.items.columnname, width: '200px' })\r\n            })\r\n        }\r\n        let selectedQueryType = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.queryTypeCode) {\r\n\r\n            selectedQueryType = this.state.queryType.filter(item => item.nquerytypecode === this.props.Login.masterData.queryTypeCode);\r\n        }\r\n\r\n        return (\r\n            <>\r\n        \r\n                <ListWrapper className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {/* {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    } */}\r\n                    {/* <div className=\"client-listing-wrap mtop-4\"> */}\r\n                    {/* Start of get display*/}\r\n                    <Row noGutters={true}>\r\n                        <Col md={`${!this.state.sidebarview ? '4' : \"2\"}`}>\r\n                            <span onClick= {()=>this.setState({sidebarview:!this.state.sidebarview})} className='sidebar-view-btn'>\r\n                                {!this.state.sidebarview ?\r\n                                    <i class=\"fa fa-less-than\"></i> :\r\n                                    <i class=\"fa fa-greater-than\"></i> \r\n                                }\r\n                            </span>\r\n                            <ListMaster\r\n                                masterData={this.props.Login.masterData || []}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_QUERYBUILDER\" })}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.queryBuilderList}\r\n                                getMasterDetail={(qryBuilder) => this.props.getSelectedQueryBuilder(qryBuilder, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedQueryBuilder}\r\n                                primaryKeyField=\"nquerybuildercode\"\r\n                                mainField=\"squerybuildername\"\r\n                                //firstField=\"squerybuildername\"\r\n                                // secondField={this.state.selectedcombo[\"nquerytypecode\"] && this.state.selectedcombo[\"nquerytypecode\"].value === queryTypeFilter.LIMSDASHBOARDQUERY ? \"schartname\" : \"\"}\r\n                                 filterColumnData={this.props.filterColumnData}\r\n                               filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                openModal={this.getDatabaseTables}\r\n                                // openModal={() => this.props.getSQLQueryComboService(\"\", \"create\", \"nsqlquerycode\", null,\r\n                                //     this.props.Login.masterData, this.props.Login.userInfo,\r\n                                //     this.props.Login.masterData.SelectedQueryType.nquerytypecode,                                   \r\n                                //     addId)} \r\n                                //{() => this.props.addTest(\"create\", selectedTest, userInfo, addId, this.state.nfilterTestCategory)} Already commented\r\n                                needAccordianFilter={false}\r\n                                // skip={this.state.skip}\r\n                                // take={this.state.take}\r\n                                handlePageChange={this.handlePageChange}\r\n                                showFilterIcon={false}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                //onFilterSubmit={this.onFilterSubmit}\r\n                                showBuildQuery={false}\r\n                                builderData={this.getDatabaseTables}\r\n                                // filterComponent={[\r\n                                //     {\r\n                                //         \"IDS_QUERYTYPEFILTER\":\r\n                                //             <QueryTypeFilter\r\n                                //                 queryType={this.state.queryTypeOptions || []}\r\n                                //                 selectedRecord={this.state.selectedcombo || {}}\r\n                                //                 onComboChange={this.onComboChange}\r\n                                //                 filterQueryType={selectedQueryType[0]}\r\n                                //             />\r\n                                //     }\r\n                                // ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md={`${!this.state.sidebarview ? '8' : \"10\"}`}>\r\n                            <ProductList className=\"panel-main-content\">\r\n                                {this.props.Login.masterData.queryBuilderList && this.props.Login.masterData.queryBuilderList.length > 0 && this.props.Login.masterData.selectedQueryBuilder ?\r\n                                    <Card className=\"border-0\">\r\n                                        <Card.Header>\r\n                                            <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedQueryBuilder.squerybuildername}</Card.Title>\r\n                                            <ContentPanel className=\"d-flex product-category\">\r\n                                                <Col md='6' >\r\n                                                    {/* {this.props.Login.masterData.selectedQueryBuilder.squerybuildername} */}\r\n\r\n                                                </Col>\r\n                                                <Col md='6'>\r\n                                                    <div className=\"d-flex product-category\" style={{ float: \"right\" }}>\r\n                                                        {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                                                        <ProductList className=\"d-inline dropdown badget_menu\">\r\n                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                // hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                //  data-for=\"tooltip_list_wrap\"\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_PARAMETERMAPPING\" })}\r\n                                                                onClick={(e) => this.props.getParameterFromQuery(this.props.Login)}\r\n                                                            >\r\n                                                                {/* <FontAwesomeIcon icon={faPencilAlt} className=\"ActionIconColor\"/> */}\r\n                                                                <ParameterConfigurationIcon className=\"custom_icons\" width=\"20\" height=\"20\" name=\"configreporticon\" />\r\n                                                            </Nav.Link>\r\n                                                            <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                // hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                onClick={() => this.confirmDelete(deleteId)}\r\n                                                            >\r\n                                                                <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                            </Nav.Link>\r\n                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                // hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                //  data-for=\"tooltip_list_wrap\"\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_COPYSQL\" })}\r\n                                                                onClick={() => this.copySQLQuery(1)}\r\n                                                            >\r\n\r\n                                                                <FontAwesomeIcon icon={faCopy} />\r\n                                                            </Nav.Link>\r\n                                                        </ProductList>\r\n                                                    </div>\r\n                                                </Col>\r\n                                            </ContentPanel>\r\n                                        </Card.Header>\r\n                                        {this.props.Login.masterData.queryDataMain && gridColumnListMain && gridColumnListMain.length > 0 ?\r\n                                            <DataGridComponent\r\n                                                data={this.state.dataMainList}\r\n                                                dataResult={this.state.dataResultMain || []}\r\n                                                dataState={this.state.dataStateMain}\r\n                                                dataStateChange={this.dataStateChangeMain}\r\n                                                extractedColumnList={gridColumnListMain}\r\n                                                controlMap={this.state.controlMap}\r\n                                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                pageable={true}\r\n                                                scrollable={\"scrollable\"}\r\n                                                isActionRequired={false}\r\n                                                isToolBarRequired={true}\r\n                                                isRefreshRequired={false}\r\n                                                selectedId={-1}\r\n                                            />\r\n                                            : <></>\r\n                                        }\r\n                                    </Card>\r\n                                    : \"\"}\r\n\r\n                            </ProductList>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n\r\n                {\r\n                    this.props.Login.openPortalModal &&\r\n                    <PortalModalSlideout\r\n                        show={this.props.Login.openPortalModal}\r\n                        closeModal={this.closePortalModal}\r\n                        screenName={this.props.Login.screenName}\r\n                        handleSaveClick={this.save}\r\n                        addComponent={\r\n                            <BuildQuery\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                databaseTableList={this.props.Login.databaseTableList}\r\n                                tableColumnList={this.state.tableColumnList}\r\n                                foreignTableList={this.state.foreignTableList || []}\r\n                                foreignTableColumnList={this.props.Login.foreignTableColumnList || []}\r\n                                // validationData={validationData}\r\n                                count={this.state.count}\r\n                                foreignTableCount={this.state.foreignTableCount}\r\n                                sqlQuery={this.state.sqlQuery}\r\n                                viewMasterListByRule={this.props.Login.viewMasterListByRule || []}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                onExecuteRule={this.onExecuteRule}\r\n                                onInputChange={this.onInputChange}\r\n                                deleteRule={this.deleteRule}\r\n                                clearRule={this.clearRule}\r\n                                resetRule={this.resetRule}\r\n                                onSymbolChange={this.onSymbolChange}\r\n                                // onForeignTableChange={this.onForeignTableChange}\r\n                                // addJoinTable={this.addJoinTable}\r\n                                onQueryTypeOnclick={this.onQueryTypeOnclick}\r\n\r\n                                onRuleChange={this.onRuleChange}\r\n                                onViewComboChange={this.onViewComboChange}\r\n                                addRule={this.addRule}\r\n                                onConditionClick={this.onConditionClick}\r\n                                onMasterDataChange={this.onMasterDataChange}\r\n                                handleFilterDateChange={this.handleFilterDateChange}\r\n                                databaseviewList={this.props.Login.databaseviewList}\r\n                                addRuleList={this.props.Login.addRuleList || []}\r\n                                viewColumnListByRule={this.props.Login.viewColumnListByRule || []}\r\n                                masterdata={this.props.Login.masterdata}\r\n                                switchRecord={this.state.switchRecord}\r\n                                data={this.state.data}\r\n                                dataResult={this.state.dataResult || []}\r\n                                dataState={this.state.dataState}\r\n                                dataStateChange={this.dataStateChange}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                gridColumnList={this.props.Login.gridColumnList || []}\r\n                                queryType={this.state.queryType}\r\n                                addAggregate={this.addAggregate}\r\n                                addAggregateList={this.props.Login.addAggregateList || []}\r\n                                onAggregateChange={this.onAggregateChange}\r\n                                deleteAggregate={this.deleteAggregate}\r\n                                addOrderby={this.addOrderby}\r\n                                addOrderbyList={this.props.Login.addOrderbyList || []}\r\n                                onOrderbyChange={this.onOrderbyChange}\r\n                                deleteOrderby={this.deleteOrderby}\r\n                                addGroup={this.addGroup}\r\n                                addGroupList={this.props.Login.addGroupList || []}\r\n                                copySQLQuery={this.copySQLQuery}\r\n                                onFilterComboChange={this.onFilterComboChange}\r\n                                selectFields={this.props.Login.selectFields || []}\r\n                                generateFilterQuery={this.generateFilterQuery}\r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n\r\n                {this.props.Login.openModal&&this.props.Login.masterData.selectedQueryBuilder['sdefaultvalue'] && \r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={\"create\"}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: \"IDS_PARAMETERMAPPING\" })}\r\n                        onExecuteClick={this.saveParam}\r\n                        showExecute={true}\r\n                        showParam={true}\r\n                        hideSave={true}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        addComponent={\r\n                            <QueryBuilderParamter\r\n                                onParamInputChange={this.onParamInputChange}\r\n                                selectedQueryBuilder={this.props.Login.masterData.selectedQueryBuilder || []}\r\n                                viewMasterData={this.props.Login.viewMasterData || []}\r\n                                comboData={this.props.Login.comboData || []}\r\n                                onParamComboChange={this.onParamComboChange}\r\n                            />\r\n                        }\r\n                    />\r\n                             //  toast.info(this.props.intl.formatMessage({ id: \"IDS_QUERYNOTAVAILABLE\" }))\r\n\r\n                }\r\n            </>\r\n        );\r\n    }\r\n    copySQLQuery = (type) => {\r\n        const { selectedRecord } = this.state;\r\n        \r\n        let count = 0;\r\n        if (type === 2) {\r\n            if (selectedRecord[\"sgeneratedquery\"]) {\r\n            let query = this.state.selectedRecord[\"squerywithparam\"] || \"\";\r\n\r\n            if (this.state.selectedRecord[\"sdefaultvalue\"] && this.state.selectedRecord[\"sdefaultvalue\"]) {\r\n                this.state.selectedRecord[\"sdefaultvalue\"].forEach((dataItem) => {\r\n\r\n                    if (dataItem.items.needmasterdata && dataItem.items.mastertablename) {\r\n\r\n                        if (dataItem.symbolObject.items[\"ismulti\"] && dataItem.symbolObject.items[\"ismulti\"] === true) {\r\n\r\n                            dataItem.value.forEach((item, index) => {\r\n\r\n                                count++;\r\n                                if (index === 0) {\r\n                                    if (dataItem.value.length === 1) {\r\n                                        query = query.replace(\"$p\" + count, \"P$\" + dataItem.items.viewvaluemember + \"$P\");\r\n                                    } else {\r\n                                        query = query.replace(\"$p\" + count + \",\", \"P$\" + dataItem.items.viewvaluemember + \"$P\");\r\n                                    }\r\n                                } else {\r\n                                    if (query.includes(\"$p\" + count + \",\")) {\r\n                                        query = query.replace(\"$p\" + count + \",\", \"\");\r\n                                    } else {\r\n                                        query = query.replace(\"$p\" + count, \"\");\r\n                                    }\r\n                                }\r\n                            })\r\n                        } else {\r\n                            count++;\r\n                            query = query.replace(\"$p\" + count, \"P$\" + dataItem.items.viewvaluemember + \"$P\");\r\n                        }\r\n                    }\r\n                    else if (dataItem.items.sforeigncolumnname !== undefined &&\r\n                        dataItem.items.sforeigncolumnname !== \"\") {\r\n                        if (dataItem.symbolObject.items[\"ismulti\"] && dataItem.symbolObject.items[\"ismulti\"] === true) {\r\n\r\n                            dataItem.value.forEach((item, index) => {\r\n\r\n                                count++;\r\n                                if (index === 0) {\r\n                                    if (dataItem.value.length === 1) {\r\n                                        query = query.replace(\"$p\" + count, \"P$\" + dataItem.items.sforeigncolumnname + \"$P\");\r\n                                    } else {\r\n                                        query = query.replace(\"$p\" + count + \",\", \"P$\" + dataItem.items.sforeigncolumnname + \"$P\");\r\n                                    }\r\n\r\n                                } else {\r\n                                    if (query.includes(\"$p\" + count + \",\")) {\r\n                                        query = query.replace(\"$p\" + count + \",\", \"\");\r\n                                    } else {\r\n                                        query = query.replace(\"$p\" + count, \"\");\r\n                                    }\r\n\r\n                                }\r\n                            })\r\n                        } else {\r\n                            count++;\r\n                            query = query.replace(\"$p\" + count, \"P$\" + dataItem.items.sforeigncolumnname + \"$P\");\r\n                        }\r\n                    } else {\r\n                        count++;\r\n                        query = query.replace(\"$p\" + count, \"P$\" + dataItem.items.columnname + \"$P\");\r\n                    }\r\n                })\r\n            }\r\n            if (query.includes(\"$L\")) {\r\n                query = query.replaceAll(\"$L\", \"'\" + this.props.Login.userInfo.slanguagetypecode + \"'\");\r\n            }\r\n            copyText(query)\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_COPIEDSUCCESSFULLY\" }))\r\n          //  navigator.clipboard.writeText(query);\r\n        }\r\n        else{\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_QUERYNOTAVAILABLE\" }));\r\n        }\r\n        } else {\r\n            let query = this.props.Login.masterData.selectedQueryBuilder[\"squerywithparam\"] || \"\";\r\nif(query){\r\n            if (this.props.Login.masterData.selectedQueryBuilder[\"sdefaultvalue\"] && this.props.Login.masterData.selectedQueryBuilder[\"sdefaultvalue\"].value) {\r\n                const sdefaultValue = JSON.parse(this.props.Login.masterData.selectedQueryBuilder[\"sdefaultvalue\"].value);\r\n\r\n                sdefaultValue.sdefaultvalue.forEach((dataItem, index) => {\r\n                    if (dataItem.items.needmasterdata && dataItem.items.mastertablename) {\r\n                        if (dataItem.symbolObject.items[\"ismulti\"] && dataItem.symbolObject.items[\"ismulti\"] === true) {\r\n\r\n                            dataItem.value.forEach((item, index) => {\r\n\r\n                                count++;\r\n                                if (index === 0) {\r\n                                    if (dataItem.value.length === 1) {\r\n                                        query = query.replace(\"$p\" + count, \"P$\" + dataItem.items.viewvaluemember + \"$P\");\r\n                                    } else {\r\n                                        query = query.replace(\"$p\" + count + \",\", \"P$\" + dataItem.items.viewvaluemember + \"$P\");\r\n                                    }\r\n                                } else {\r\n                                    if (query.includes(\"$p\" + count + \",\")) {\r\n                                        query = query.replace(\"$p\" + count + \",\", \"\");\r\n                                    } else {\r\n                                        query = query.replace(\"$p\" + count, \"\");\r\n                                    }\r\n                                }\r\n                            })\r\n                        } else {\r\n                            count++;\r\n                            query = query.replace(\"$p\" + count, \"P$\" + dataItem.items.viewvaluemember + \"$P\");\r\n                        }\r\n                    }\r\n                    else if (dataItem.items.sforeigncolumnname !== undefined &&\r\n                        dataItem.items.sforeigncolumnname !== \"\") {\r\n                        if (dataItem.symbolObject.items[\"ismulti\"] && dataItem.symbolObject.items[\"ismulti\"] === true) {\r\n\r\n                            dataItem.value.forEach((item, index) => {\r\n\r\n                                count++;\r\n                                if (index === 0) {\r\n                                    if (dataItem.value.length === 1) {\r\n                                        query = query.replace(\"$p\" + count, \"P$\" + dataItem.items.sforeigncolumnname + \"$P\");\r\n                                    } else {\r\n                                        query = query.replace(\"$p\" + count + \",\", \"P$\" + dataItem.items.sforeigncolumnname + \"$P\");\r\n                                    }\r\n\r\n                                } else {\r\n                                    if (query.includes(\"$p\" + count + \",\")) {\r\n                                        query = query.replace(\"$p\" + count + \",\", \"\");\r\n                                    } else {\r\n                                        query = query.replace(\"$p\" + count, \"\");\r\n                                    }\r\n\r\n                                }\r\n                            })\r\n                        } else {\r\n                            count++;\r\n                            query = query.replace(\"$p\" + count, \"P$\" + dataItem.items.sforeigncolumnname + \"$P\");\r\n                        }\r\n                    } else {\r\n                        count++;\r\n                        query = query.replace(\"$p\" + count, \"P$\" + dataItem.items.columnname + \"$P\");\r\n                    }\r\n                })\r\n            }\r\n            if (query.includes(\"$L\")) {\r\n                query = query.replaceAll(\"$L\", \"'\" + this.props.Login.userInfo.slanguagetypecode + \"'\");\r\n            }\r\n          \r\n            copyText(query)\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_COPIEDSUCCESSFULLY\" }))\r\n          //  navigator.clipboard.writeText(query);\r\n        }\r\n        else{\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_QUERYNOTAVAILABLE\" }));\r\n        }\r\n    }}\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n            classUrl: \"querybuilder\",\r\n            methodUrl: \"QueryBuilder\",\r\n            // displayName: \"IDS_DASHBOARDTYPES\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    saveParam = (saveType, formRef) => {\r\n\r\n        let count = 0;\r\n\r\n        let query = this.props.Login.masterData.selectedQueryBuilder[\"squerywithparam\"];\r\n\r\n        this.props.Login.comboData.sdefaultvalue.forEach((dataItem) => {\r\n\r\n            if (dataItem.items.needmasterdata && dataItem.items.mastertablename) {\r\n\r\n                let sqryData = \"\";\r\n                if (dataItem.symbolObject.items[\"ismulti\"] && dataItem.symbolObject.items[\"ismulti\"] === true) {\r\n\r\n                    dataItem.value.forEach((item) => {\r\n\r\n                        count++;\r\n\r\n                        // if (isNaN(item.value)) {\r\n                           // query = query.replace(\"$p\" + count, \"'\" + item.value + \"'\");\r\n                        // } else {\r\n                           \r\n               \r\n\r\n                            query = query.replace(\"$p\" + count, item.value);\r\n                       // }\r\n                    })\r\n\r\n                } else {\r\n                    count++;\r\n                    // if (isNaN(dataItem.value.value)) {\r\n                     //   query = query.replace(\"$p\" + count, \"'\" + dataItem.value.value + \"'\");\r\n                   // } else {\r\n                        query = query.replace(\"$p\" + count, dataItem.value.value);\r\n                   // }\r\n                }\r\n\r\n\r\n            } else if (dataItem.items.sforeigncolumnname !== undefined &&\r\n                dataItem.items.sforeigncolumnname !== \"\") {\r\n\r\n                if (dataItem.symbolObject.items[\"ismulti\"] && dataItem.symbolObject.items[\"ismulti\"] === true) {\r\n\r\n                    dataItem.value.forEach((item) => {\r\n\r\n                        count++;\r\n\r\n                       // if (isNaN(item.value)) {\r\n                            query = query.replace(\"$p\" + count, \"'\" + item.value + \"'\");\r\n                       // } else {\r\n                        //    query = query.replace(\"$p\" + count, item.value);\r\n                      //  }\r\n                    })\r\n\r\n\r\n                } else {\r\n                    count++;\r\n                   // if (isNaN(dataItem.value.value)) {\r\n                        query = query.replace(\"$p\" + count, \"'\" + dataItem.value.value + \"'\");\r\n                    // } else {\r\n                    //     query = query.replace(\"$p\" + count, dataItem.value.value);\r\n                    // }\r\n                }\r\n\r\n            } else if (dataItem.items.columntype === ColumnType.DATATIME\r\n                || dataItem.items.columntype === ColumnType.DATE && dataItem.symbolObject.items.isInputVisible === true\r\n                && (dataItem.symbolObject.items.symbolType === 5 || dataItem.symbolObject.items.symbolType === 1)) {\r\n                count++;\r\n                query = query.replace(\"$p\" + count, \"'\" + format(new Date(dataItem.value), \"yyyy-MM-dd HH:mm:ss.SS\") + \"'\");\r\n\r\n\r\n            } else {\r\n                count++;\r\n                query = query.replace(\"$p\" + count, \"'\" + dataItem.value + \"'\");\r\n            }\r\n        })\r\n        if (query.includes(\"$L\")) {\r\n            query = query.replaceAll(\"$L\", \"'\" + this.props.Login.userInfo.slanguagetypecode + \"'\");\r\n        }\r\n        if(!query.includes(\"$p\")){\r\n        const jsonData = JSON.parse(this.props.Login.masterData.selectedQueryBuilder[\"jsondata\"].value);\r\n        const inputParam = {\r\n            sgeneratedquery: query,\r\n            columnList: jsonData[\"columnList\"],\r\n            userInfo: this.props.Login.userInfo,\r\n\r\n        }\r\n        let inputData = [];\r\n        this.props.updateQueryBuilder(inputParam, inputData, this.props.Login.masterData);\r\n    }\r\n  \r\n    else{\r\n        toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTCORRECTPARAMETER\" }));\r\n    }\r\n       \r\n       \r\n\r\n    }\r\n    save = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n\r\n        if (selectedRecord[\"querybuildername\"] && selectedRecord[\"querybuildername\"].length > 0) {\r\n            if (selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"].length > 0) {\r\n\r\n                let inputData = [];\r\n                let jsondata = {}\r\n                let postParam = undefined;\r\n\r\n                if (selectedRecord[\"sdefaultvalue\"]&&selectedRecord[\"sdefaultvalue\"].length > 0) {\r\n                    selectedRecord[\"sdefaultvalue\"].forEach((item, i) => {\r\n                        if (item.symbolObject.items.symbolType === 4) {\r\n                            delete item.symbolObject.items[\"replacewith\"];\r\n                        }\r\n                    })\r\n                }\r\n\r\n                postParam = { inputListName: \"QueryBuilder\", selectedObject: \"selectedQueryBuilder\", primaryKeyField: \"nquerybuildercode\" };\r\n\r\n                inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n                inputData[\"queryBuilder\"] = { \"nstatus\": 1 };\r\n\r\n                jsondata[\"groupList\"] = selectedRecord[\"groupList\"];\r\n                jsondata[\"aggregate\"] = selectedRecord[\"aggregate\"];\r\n                jsondata[\"orderby\"] = selectedRecord[\"orderby\"];\r\n                jsondata[\"columnList\"] = this.props.Login.viewColumnListByRule && this.props.Login.viewColumnListByRule ||  this.props.Login.viewColumnList ; //selectedRecord[\"filtercolumns\"];\r\n                jsondata[\"selectFields\"] = this.props.Login.selectFields; //selectedRecord[\"filtercolumns\"];\r\n                inputData[\"sgeneratedquery\"] = selectedRecord[\"sgeneratedquery\"];\r\n\r\n\r\n                inputData[\"queryBuilder\"][\"squerybuildername\"] = selectedRecord[\"querybuildername\"];\r\n                inputData[\"queryBuilder\"][\"nquerytype\"] = 1;\r\n                inputData[\"queryBuilder\"][\"sviewname\"] = selectedRecord[\"sviewname\"].label;\r\n                inputData[\"queryBuilder\"][\"squerywithparam\"] = selectedRecord[\"squerywithparam\"];\r\n                inputData[\"queryBuilder\"][\"squerywithvalue\"] = selectedRecord[\"sgeneratedquery\"];\r\n                inputData[\"queryBuilder\"][\"sdefaultvalue\"] = { sdefaultvalue: selectedRecord[\"sdefaultvalue\"] || []};\r\n                inputData[\"queryBuilder\"][\"jsondata\"] = jsondata;\r\n\r\n                const inputParam = {\r\n                    classUrl: \"querybuilder\",\r\n                    methodUrl: \"QueryBuilder\",\r\n                    displayName: this.props.Login.inputParam.displayName&&this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"create\", saveType, formRef, postParam\r\n                }\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openPortalModal\");\r\n                // this.props.createQueryBuilder(inputData, this.props.Login);\r\n            }\r\n            else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTANYCOLUMNS\" }));\r\n            }\r\n        }\r\n        else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_INVALIDQUERYBUILDERNAME\" }));\r\n        }\r\n    }\r\n    deleteQB = (ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        // let postParam = {\r\n        //     inputListName: \"QueryBuilder\",\r\n        //     selectedObject: \"selectedDashBoardTypes\",\r\n        //     primaryKeyField: \"ndashboardtypecode\",\r\n        //     primaryKeyValue: this.props.Login.masterData.selectedDashBoardTypes.ndashboardtypecode,\r\n        //     fetchUrl: \"dashboardtypes/getAllSelectionDashBoardTypes\",\r\n        //     fecthInputObject: { userinfo: this.props.Login.userInfo }\r\n        // };\r\n        inputData[\"queryBuilder\"] = this.props.Login.masterData.selectedQueryBuilder;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n\r\n        const inputParam = {\r\n            methodUrl: \"QueryBuilder\",\r\n            classUrl: \"querybuilder\",\r\n            inputData: inputData,\r\n            operation: \"delete\", searchRef: this.searchRef\r\n        }\r\n\r\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n\r\n    }\r\n\r\n    confirmDelete = (ncontrolCode) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteQB(\"delete\", ncontrolCode));\r\n    };\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    // onFilterSubmit = () => {\r\n\r\n    //     this.searchRef.current.value = \"\";\r\n\r\n    //     if (this.state.selectedcombo[\"nquerytypecode\"]) {\r\n    //         console.log(this.state.selectedcombo[\"nquerytypecode\"].value);\r\n    //     }\r\n    //     const nquerytypecode = this.state.selectedcombo[\"nquerytypecode\"] ?\r\n    //         this.state.selectedcombo[\"nquerytypecode\"].value : this.props.Login.masterData.queryTypeCode;\r\n\r\n    //     this.props.getQueryBuilder(nquerytypecode, this.props.Login.userInfo, this.props.Login.masterData);\r\n\r\n\r\n    // }\r\n\r\n    onFilterComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n    onParamComboChange = (data, index) => {\r\n       \r\n\r\n        let comboData = this.props.Login.comboData;\r\n      \r\n        comboData[\"sdefaultvalue\"][index].value = data;\r\n     \r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                comboData\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onParamInputChange = (event, type, index, dataItem) => {\r\n        let comboData = this.props.Login.comboData;\r\n        if (type === 2) {\r\n            const inputValue = event.target.value;\r\n            if (/^-?\\d*?\\.?\\d*?$/.test(inputValue) || inputValue === \"\") {\r\n                comboData[\"sdefaultvalue\"][index].value = event.target.value;\r\n            }\r\n        }\r\n        else if (type === 1) {\r\n            comboData[\"sdefaultvalue\"][index].value = event.target.checked;\r\n        }\r\n        else if (type === 3) {\r\n\r\n            if (dataItem.symbolObject.items.symbolType === 4) {\r\n                // const symbolObject = stringOperatorData.filter(data => data.value === dataItem.symbolObject.value);\r\n                let symbolObject = \"\"\r\n                if (dataItem.symbolObject.value === 7 || dataItem.symbolObject.value === 8) {\r\n                    symbolObject = \"'%_%'\";\r\n                } else if (dataItem.symbolObject.value === 9) {\r\n                    symbolObject = \"'_%'\";\r\n                } else {\r\n                    symbolObject = \"'%_'\";\r\n                }\r\n                const index1 = symbolObject.indexOf('_');\r\n                let inputname = undefined\r\n\r\n                inputname = symbolObject.substr(0, index1) + event.target.value + symbolObject.substr(index1 + 1);\r\n                inputname = inputname.slice(1, inputname.length - 1);\r\n\r\n                comboData[\"sdefaultvalue\"][index].value = inputname;\r\n                comboData[\"sdefaultvalue\"][index].showInputValue = event.target.value;\r\n            } else {\r\n                comboData[\"sdefaultvalue\"][index].value = event.target.value;\r\n            }\r\n        }\r\n        else {\r\n\r\n\r\n            comboData[\"sdefaultvalue\"][index].value = event.target.value;\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                comboData\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    handleFilterDateChange = (dateName, dateValue, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        selectedRecord[\"groupList\"][groupIndex][index][dateName] = dateValue;\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedcombo = this.state.selectedcombo || {};\r\n        selectedcombo[fieldName] = comboData;\r\n\r\n        this.setState({ selectedcombo });\r\n    }\r\n\r\n    onViewComboChange = (comboData,fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n\r\n        const inputParam = {\r\n            sviewname: comboData.value,\r\n            selectedRecord,\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n       this.props.getViewColumns(inputParam);\r\n// if(comboData){\r\n//    this.props.Login.addGroupList = [];\r\n// }\r\n      \r\n   \r\n       }\r\n     \r\n    \r\n\r\n    onAggregateChange = (comboData, fieldName, index) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"aggregate\"] = selectedRecord[\"aggregate\"] || [];\r\n        if (fieldName === \"columnname\") {\r\n            selectedRecord[\"aggregate\"][index] = { \"columnname\": comboData, \"aggfunctionname\": \"\" };\r\n        } else {\r\n            if (selectedRecord[\"aggregate\"][index][\"columnname\"] && selectedRecord[\"aggregate\"][index][\"columnname\"] !== undefined) {\r\n                selectedRecord[\"aggregate\"][index][\"aggfunctionname\"] = comboData;\r\n            }\r\n            else {\r\n\r\n            }\r\n        }\r\n\r\n        // this.setState({ selectedRecord });\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n    onRuleChange = (comboData, fieldName, groupIndex, index,viewMasterListByRule) => {\r\n        const { selectedRecord } = this.state;\r\n        this.clearSelectedRule(selectedRecord,groupIndex, index,viewMasterListByRule);\r\n        const sqlQuery = this.props.Login.sqlQuery;\r\n        const oldselectedRecord = selectedRecord;\r\n        // if(selectedRecord[\"groupList\"][groupIndex][index]&&selectedRecord[\"groupList\"][groupIndex][index]){\r\n        //     selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"] = [];\r\n        // }\r\n       \r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\r\n       \r\n\r\n        const tableData = comboData.items;\r\n        const mastertablename = tableData.mastertablename;\r\n\r\n        if (comboData.items.needmasterdata && mastertablename) {\r\n            const inputParam = {\r\n                userinfo: this.props.Login.userInfo,\r\n                data: {\r\n                    nflag: 2,\r\n                    mastertablename,\r\n                    valuemember: tableData.valuemember,\r\n                    displaymember: tableData.displaymember,\r\n                },\r\n                selectedRecord,\r\n                groupIndex,\r\n                index,\r\n                optionId: tableData.valuemember\r\n            };\r\n            this.props.getMasterData(inputParam, this.props.Login.viewMasterListByRule);\r\n        } else if (comboData.items && comboData.items.columntype === ColumnType.COMBO) {\r\n            if (sqlQuery) {\r\n                const inputParam = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    stablename: comboData.items.foriegntablename,\r\n                    scolumnname: comboData.value,\r\n                    selectedRecord,\r\n                    groupIndex,\r\n                    index\r\n                };\r\n                this.props.getForeignTable(inputParam, 'column');\r\n            } else {\r\n                selectedRecord[\"groupList\"][groupIndex][index][`${comboData.items.sforeigncolumnname}`] = \"\";\r\n                const inputParam = {\r\n                    data: { ...comboData.items, nflag: 1 },\r\n                    userinfo: this.props.Login.userInfo,\r\n                    selectedRecord,\r\n                    groupIndex,\r\n                    index,\r\n                    optionId: comboData.items.sforeigncolumnname\r\n                };\r\n                this.props.getMasterData(inputParam, this.props.Login.viewMasterListByRule);\r\n            }\r\n        } else if (comboData.items && comboData.items.columntype === ColumnType.TEXTINPUT\r\n            && oldselectedRecord[\"groupList\"][groupIndex][index][fieldName].items.columntype !== ColumnType.TEXTINPUT) {\r\n            selectedRecord[\"groupList\"][groupIndex][index][\"sinputname\"] = \"\";\r\n            this.setState({ selectedRecord });\r\n        } else {\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n\r\n    onMasterDataChange = (comboData, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n    onOrderbyChange = (comboData, fieldName, index) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"orderby\"] = selectedRecord[\"orderby\"] || [];\r\n        if (fieldName === \"columnname\") {\r\n            selectedRecord[\"orderby\"][index] = { \"columnname\": comboData, \"ordertype\": \"\" };\r\n        } else {\r\n            if (selectedRecord[\"orderby\"][index][\"columnname\"] && selectedRecord[\"orderby\"][index][\"columnname\"] !== undefined) {\r\n                selectedRecord[\"orderby\"][index][\"ordertype\"] = comboData;\r\n            }\r\n            else {\r\n\r\n            }\r\n        }\r\n\r\n        // this.setState({ selectedRecord });\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n    deleteOrderby = (index) => {\r\n        let addOrderbyList = this.props.Login.addOrderbyList;\r\n        let selectedRecord = this.state.selectedRecord;\r\n\r\n        selectedRecord[\"orderby\"].splice(index, 1);\r\n        addOrderbyList.splice(index, 1);\r\n        addOrderbyList.forEach((data, index) => {\r\n            addOrderbyList[index] = index;\r\n        })\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addOrderbyList }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n    addOrderby = () => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        if (selectedRecord[\"sviewname\"]) {\r\n            const addOrderbyList = this.props.Login.addOrderbyList || [];\r\n            let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n            const arrayLength = addOrderbyList.length;\r\n            viewColumnListByRule = this.props.Login.viewColumnList;\r\n            addOrderbyList[arrayLength] = arrayLength;\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    addOrderbyList,\r\n                    viewColumnListByRule\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTVIEW\" }));\r\n        }\r\n    }\r\n    deleteAggregate = (index) => {\r\n        let addAggregateList = this.props.Login.addAggregateList;\r\n        let selectedRecord = this.state.selectedRecord;\r\n\r\n        selectedRecord[\"aggregate\"].splice(index, 1);\r\n        addAggregateList.splice(index, 1);\r\n        addAggregateList.forEach((data, index) => {\r\n            addAggregateList[index] = index;\r\n        })\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addAggregateList }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        // this.setState({ selectedRecord });\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n    addAggregate = () => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        if (selectedRecord[\"sviewname\"]) {\r\n            // if (selectedRecord[\"groupby\"] && selectedRecord[\"groupby\"] === true) {\r\n            const addAggregateList = this.props.Login.addAggregateList || [];\r\n            let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n            const arrayLength = addAggregateList.length;\r\n            viewColumnListByRule = this.props.Login.viewColumnList;\r\n            addAggregateList[arrayLength] = arrayLength;\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    addAggregateList,\r\n                    viewColumnListByRule\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n            // } else {\r\n            //     toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTGROUPBY\" }));\r\n            // }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTVIEW\" }));\r\n        }\r\n    }\r\n    addRule = (type, groupIndex) => {\r\n        const { selectedRecord } = this.state;\r\n        if (type === \"sql\") {\r\n            // let addRuleList = this.props.Login.addRuleList || [];\r\n            // if (addRuleList.length > 0) {\r\n            //     const arrayLength = addRuleList.length;\r\n            //     addRuleList[arrayLength] = arrayLength;\r\n            //     selectedRecord[\"button_and_\" + arrayLength] = true;\r\n            //     const updateInfo = {\r\n            //         typeName: DEFAULT_RETURN,\r\n            //         data: {\r\n            //             addRuleList,\r\n            //             selectedRecord\r\n            //         }\r\n            //     }\r\n            //     this.props.updateStore(updateInfo);\r\n            // } else {\r\n            //     addRuleList[0] = 0;\r\n            //     this.props.getDatabaseTables(this.props.Login.userInfo, this.props.Login.sqlQuery, { addRuleList, selectedRecord: {} });\r\n            // }\r\n\r\n        } else {\r\n            if (selectedRecord[\"sviewname\"]) {\r\n                let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n\r\n\r\n                // const addRuleList = this.props.Login.addRuleList || [];\r\n                // const arrayLength = addRuleList.length;\r\n                // addRuleList[arrayLength] = arrayLength;\r\n\r\n\r\n                const addGroupList = this.props.Login.addGroupList || [];\r\n                const arrayLength = addGroupList[groupIndex];\r\n                addGroupList[groupIndex] = arrayLength + 1;\r\n\r\n                // const addGroupList = {...this.props.Login.addGroupList, [groupIndex]: addRuleList};\r\n\r\n                selectedRecord[\"groupList\"][groupIndex][arrayLength] = {};\r\n\r\n                // viewColumnListByRule[groupIndex][arrayLength] = this.props.Login.viewColumnList;\r\n                viewColumnListByRule = this.props.Login.viewColumnList;\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        addGroupList,\r\n                        viewColumnListByRule\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTVIEW\" }));\r\n            }\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    addGroup = () => {\r\n\r\n        const { selectedRecord } = this.state;\r\n\r\n        var sql1 = jsonSql.build({\r\n            table: 'testmaster',\r\n            alias: 'tm',\r\n            join: [{\r\n                type: 'inner',\r\n                table: 'testcategory',\r\n                alias: 'tc',\r\n                on: { 'tm.ntestcategorycode': 'tc.ntestcategorycode' }\r\n            },\r\n            {\r\n                type: 'inner',\r\n                table: 'transactionstatus',\r\n                alias: 'ts',\r\n                on: { 'tm.naccredited': 'ts.ntranscode' }\r\n            }]\r\n        });\r\n        console.log(sql1.query);\r\n\r\n        var sql21 = jsonSql.build({\r\n            table: 'testmaster',\r\n            alias: 'tm',\r\n            join: [{\r\n                type: 'inner',\r\n                table: 'testcategory',\r\n                alias: 'tc',\r\n                on: { 'tm.ntestcategorycode': 'tc.ntestcategorycode' }\r\n            },\r\n            {\r\n                type: 'right outer',\r\n                table: 'transactionstatus',\r\n                alias: 'ts',\r\n                on: { 'tm.naccredited': 'ts.ntranscode' }\r\n            },\r\n            {\r\n                type: 'left outer',\r\n                table: 'transactionstatus',\r\n                alias: 'ts',\r\n                on: [{ 'tm.naccredited': 'ts.ntranscode' }, { 'tc.naccredited': 'ts.ntranscode' }]\r\n            }],\r\n            condition: [\r\n                { a: { $gt: 1 } },\r\n                { b: { $lt: 10 } }\r\n            ],\r\n            group: ['a', 'b']\r\n        });\r\n        console.log(sql21.query);\r\n\r\n        if (selectedRecord[\"sviewname\"]) {\r\n            let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n            const addGroupList = this.props.Login.addGroupList || [];\r\n            const arrayLength = addGroupList.length;\r\n            addGroupList[arrayLength] = 1;\r\n            // viewColumnListByRule[arrayLength] = [];\r\n            // viewColumnListByRule[arrayLength].push(this.props.Login.viewColumnList);\r\n            viewColumnListByRule = this.props.Login.viewColumnList;\r\n            if (arrayLength === 0) {\r\n                selectedRecord[\"groupList\"] = [];\r\n                selectedRecord[\"filtercolumns\"] = this.props.Login.selectFields;\r\n            }\r\n            selectedRecord[\"groupList\"][arrayLength] = [];\r\n            selectedRecord[\"groupList\"][arrayLength][\"button_and\"] = true;\r\n            selectedRecord[\"groupList\"][arrayLength][0] = {};\r\n            this.generateFilterQuery(selectedRecord);\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    addGroupList,\r\n                    viewColumnListByRule,\r\n                    selectedRecord\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTVIEWS\" }));\r\n        }\r\n    }\r\n    getDatabaseTables = () => {\r\n        const sqlQuery = false;\r\n        this.setState({ selectedRecord: {} });\r\n        this.props.getDatabaseTables(this.props.Login.userInfo, sqlQuery, {\r\n            addRuleList: [], addGroupList: [],\r\n            addAggregateList: [], addOrderbyList: []\r\n        });\r\n\r\n    }\r\n\r\n    closePortalModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openPortalModal: false, selectedRecord: {}, addRuleList: [], count: 0,selectFields:[]\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: false, selectedRecord: {}\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onExecuteRule = () => {\r\n        const { selectedRecord } = this.state;\r\n        if (selectedRecord[\"sgeneratedquery\"]) {\r\n\r\n\r\n            let query = selectedRecord[\"squerywithparam\"]&& selectedRecord[\"squerywithparam\"];\r\n\r\n            let count = 0\r\n            selectedRecord[\"sdefaultvalue\"]&& selectedRecord[\"sdefaultvalue\"].forEach((dataItem) => {\r\n\r\n                if (dataItem.items.needmasterdata && dataItem.items.mastertablename) {\r\n\r\n                    let sqryData = \"\";\r\n                    if (dataItem.symbolObject.items[\"ismulti\"] && dataItem.symbolObject.items[\"ismulti\"] === true) {\r\n\r\n                        dataItem.value.forEach((item) => {\r\n\r\n                            count++;\r\n\r\n                            // if (isNaN(item.value)) {\r\n                                query = query.replace(\"$p\" + count, \"'\" + item.value + \"'\");\r\n                            // } else {\r\n                            //     query = query.replace(\"$p\" + count, item.value);\r\n                            // }\r\n                        })\r\n\r\n\r\n                    } else {\r\n                        count++;\r\n                        // if (isNaN(dataItem.value.value)) {\r\n                            query = query.replace(\"$p\" + count, \"'\" + dataItem.value.value + \"'\");\r\n                        // } else {\r\n                        //     query = query.replace(\"$p\" + count, dataItem.value.value);\r\n                        // }\r\n                    }\r\n\r\n\r\n                } else if (dataItem.items.sforeigncolumnname !== undefined &&\r\n                    dataItem.items.sforeigncolumnname !== \"\") {\r\n\r\n                    if (dataItem.symbolObject.items[\"ismulti\"] && dataItem.symbolObject.items[\"ismulti\"] === true) {\r\n\r\n                        dataItem.value.forEach((item) => {\r\n\r\n                            count++;\r\n\r\n                            // if (isNaN(item.value)) {\r\n                                query = query.replace(\"$p\" + count, \"'\" + item.value + \"'\");\r\n                            // } else {\r\n                            //     query = query.replace(\"$p\" + count, item.value);\r\n                            // }\r\n                        })\r\n\r\n\r\n                    } else {\r\n                        count++;\r\n                        // if (isNaN(dataItem.value.value)) {\r\n                            query = query.replace(\"$p\" + count, \"'\" + dataItem.value.value + \"'\");\r\n                        // } else {\r\n                        //     query = query.replace(\"$p\" + count, dataItem.value.value);\r\n                        // }\r\n                    }\r\n\r\n                } else if (dataItem.items.columntype === ColumnType.DATATIME\r\n                    || dataItem.items.columntype === ColumnType.DATE && dataItem.symbolObject.items.isInputVisible === true\r\n                    && (dataItem.symbolObject.items.symbolType === 5 || dataItem.symbolObject.items.symbolType === 1)) {\r\n\r\n                    count++;\r\n                    query = query.replace(\"$p\" + count, \"'\" + format(new Date(dataItem.value), \"yyyy-MM-dd HH:mm:ss.SS\") + \"'\");\r\n\r\n\r\n                } else {\r\n                    count++;\r\n                    query = query.replace(\"$p\" + count, \"'\" + dataItem.value + \"'\");\r\n                }\r\n\r\n            });\r\n            if (query && query.includes(\"$L\")) {\r\n                query = query.replaceAll(\"$L\", \"'\" + this.props.Login.userInfo.slanguagetypecode + \"'\");\r\n            }\r\n            const inputParam = {\r\n                sgeneratedquery: query ,//selectedRecord[\"sgeneratedquery\"],\r\n                selectedRecord,\r\n                columnList: this.props.Login.viewColumnListByRule && this.props.Login.viewColumnListByRule ||  this.props.Login.viewColumnList, //selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"] || this.props.Login.viewColumnListByRule,\r\n                userInfo: this.props.Login.userInfo,\r\n                selectFields: selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"] || this.props.Login.selectFields,\r\n            }\r\n            this.props.executeQueryForQueryBuilder(inputParam);\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_QUERYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n\r\n\r\n    deleteRule = (groupIndex, index) => {\r\n        let addGroupList = this.props.Login.addGroupList;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        addGroupList[groupIndex] = addGroupList[groupIndex] - 1;\r\n        // selectedRecord[`button_and_${index}`] && delete selectedRecord[`button_and_${index}`];\r\n        // selectedRecord[`button_or_${index}`] && delete selectedRecord[`button_or_${index}`];\r\n        // selectedRecord[`notoperator_${index}`] && delete selectedRecord[`notoperator_${index}`];\r\n\r\n        if (addGroupList[groupIndex] === 0) {\r\n            addGroupList.splice(groupIndex, 1);\r\n            selectedRecord[\"groupList\"].splice(groupIndex, 1);\r\n        } else {\r\n            selectedRecord[\"groupList\"][groupIndex].splice(index, 1);\r\n        }\r\n\r\n        // this.clearSelectedRule(selectedRecord, index);\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addGroupList, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n\r\n    clearSelectedRule(selectedRecord,groupIndex, index,viewMasterListByRule) {\r\n        selectedRecord['groupList'][groupIndex][index][\"sinputname\"] && delete ['groupList'][groupIndex][index][\"sinputname\"];\r\n        selectedRecord['groupList'][groupIndex][index][\"ssymbolname\"] && delete  selectedRecord['groupList'][groupIndex][index][\"ssymbolname\"] ;\r\n        selectedRecord['groupList'][groupIndex][index][\"snumericinput\"] && delete  selectedRecord['groupList'][groupIndex][index][\"snumericinput\"];\r\n        selectedRecord['groupList'][groupIndex][index][\"columnname\"]&& delete selectedRecord['groupList'][groupIndex][index][\"columnname\"];\r\n        selectedRecord['groupList'][groupIndex][index][\"snumericinputtwo\"] && delete selectedRecord['groupList'][groupIndex][index][\"snumericinputtwo\"];\r\n        selectedRecord['groupList'][groupIndex][index][\"dateinput\"] && delete selectedRecord['groupList'][groupIndex][index][\"dateinput\"];\r\n        selectedRecord['groupList'][groupIndex][index][\"dateinputtwo\"] && delete selectedRecord['groupList'][groupIndex][index][\"dateinputtwo\"];\r\n        viewMasterListByRule=[];\r\n   \r\n    }\r\n \r\n    clearRule = () => {\r\n        const sviewname = this.state.selectedRecord.sviewname || \"\";\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addRuleList: [], selectedRecord: { sviewname }, sqlQuery: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    resetRule = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                addRuleList: [], addGroupList: [],\r\n                addAggregateList: [], addOrderbyList: []\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        this.setState({\r\n            selectedRecord: {}\r\n        });\r\n\r\n    }\r\n\r\n    onSymbolChange = (comboData, fieldName, groupIndex, index) => {\r\n\r\n        let { selectedRecord } = this.state;\r\n        const oldSelectedRecord = selectedRecord[\"groupList\"][groupIndex][index][fieldName] || {};\r\n     \r\n\r\n\r\n        let val={...selectedRecord[\"groupList\"][groupIndex][index]}\r\n\r\n        val ={...val,[fieldName]:comboData} ;\r\n       \r\n        const items ={...val[\"columnname\"].items};\r\n       \r\n        val={...val,columnname:{...val.columnname,items:{...val.columnname.items,needmasterdata:val.columnname.items.needmasterdata!==undefined?comboData.items.needmasterdata  : false}}}\r\n\r\n     // selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"][\"items\"][\"needmasterdata\"] = items.needmasterdata!==undefined?comboData.items.needmasterdata  : false;\r\n    // selectedRecord[\"groupList\"][groupIndex][index]= {...val}\r\n    //    this.setState(selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"][\"items\"][\"needmasterdata\"]);\r\n       if (comboData.items.symbolType === 2 || comboData.items.symbolType === 3) {\r\n        val[items[\"valuemember\"]] && delete val[items[\"valuemember\"]];\r\n        val[items[\"foreigncolumnname\"]] && delete val[items[\"foreigncolumnname\"]];\r\n        val[\"sinputname\"] && delete val[\"sinputname\"];\r\n        } else if (comboData.items.symbolType === 5 && oldSelectedRecord.items && oldSelectedRecord.items.symbolType !== 5) {\r\n            val[\"snumericinput\"] && delete val[\"snumericinput\"];\r\n            val[\"snumericinputtwo\"] && delete val[\"snumericinputtwo\"];\r\n        } else if ((comboData.items.symbolType === 6 && oldSelectedRecord.items && oldSelectedRecord.items.symbolType === 1)\r\n            || (comboData.items.symbolType === 1 && oldSelectedRecord.items && oldSelectedRecord.items.symbolType === 6)) {\r\n                val[`${items.sforeigncolumnname}`] && delete val[`${items.sforeigncolumnname}`];\r\n                val[`${items.valuemember}`] && delete val[`${items.valuemember}`];\r\n        } else {\r\n\r\n        }\r\n        selectedRecord[\"groupList\"][groupIndex][index]={...val}\r\n\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n\r\n    onInputChange = (event, type, groupIndex, index) => {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        if (type === 2) {\r\n            const inputValue = event.target.value;\r\n            if (/^-?\\d*?\\.?\\d*?$/.test(inputValue) || inputValue === \"\") {\r\n                selectedRecord[\"groupList\"][groupIndex][index][event.target.name] = event.target.value;\r\n            }\r\n\r\n        }\r\n        else if (type === 1) {\r\n            selectedRecord[\"groupList\"][groupIndex][index][event.target.name] = event.target.checked;\r\n        }\r\n        else if (type === 3) {\r\n            selectedRecord[\"groupList\"][groupIndex][index][event.target.name] = event.target.value;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n\r\n    generateFilterQuery = (selectedRecord) => {\r\n\r\n        const addGroupList = this.props.Login.addGroupList;\r\n        jsonSql.setDialect('mssql');\r\n        let databaseCondition = [];\r\n        let displayCondition = [];\r\n        let databaseConditionParam = [];\r\n        let fieldWithValue = [];\r\n        let notOperator = false;\r\n        if (addGroupList && addGroupList.length > 0) {\r\n\r\n            let groupConditionDatabase = [];\r\n            let groupConditionDatabaseParam = [];\r\n            let groupConditionDisplay = [];\r\n\r\n\r\n            addGroupList.forEach((items, groupIndex) => {\r\n                let symbolObject = {};\r\n\r\n\r\n                databaseCondition = [];\r\n                databaseConditionParam = [];\r\n                displayCondition = [];\r\n\r\n                [...Array(items)].map((data, index) => {\r\n\r\n                    if (selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"][groupIndex]&&selectedRecord[\"groupList\"][groupIndex][index]&&selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"]) {\r\n                        symbolObject = selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"] && selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"].items && selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"].items || {};\r\n\r\n                        const current_button_and = selectedRecord[\"groupList\"][groupIndex][`button_and`];\r\n                        const current_button_or = selectedRecord[\"groupList\"][groupIndex][`button_or`];\r\n                        const next_button_and = selectedRecord[\"groupList\"][groupIndex][`button_and`];\r\n                        const next_button_or = selectedRecord[\"groupList\"][groupIndex][`button_or`] ? selectedRecord[\"groupList\"][groupIndex][`button_or`] : false;\r\n\r\n                        let inputname = selectedRecord[\"groupList\"][groupIndex][index][\"sinputname\"];\r\n                        const symbolname = symbolObject.symbol;\r\n                        let numericinput = selectedRecord[\"groupList\"][groupIndex][index][\"snumericinput\"];\r\n                        const columnLabel = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].label;\r\n                        const columnValue = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].value;\r\n                        const snumericinputtwo = selectedRecord[\"groupList\"][groupIndex][index][\"snumericinputtwo\"];\r\n                        let columnName = undefined;\r\n                        const needmasterdata = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.needmasterdata ?\r\n                            selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.needmasterdata : false;\r\n\r\n                        if (selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.needmasterdata) {\r\n                            columnName = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember;\r\n                        } else if (selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.sforeigncolumnname) {\r\n                            columnName = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.sforeigncolumnname;\r\n                        }\r\n                        const dateinput = selectedRecord[\"groupList\"][groupIndex][index][\"dateinput\"] && format(new Date(selectedRecord[\"groupList\"][groupIndex][index][\"dateinput\"]), \"yyyy-MM-dd HH:mm:ss.SS\")//selectedRecord[\"dateinput_\" + index];\r\n                        const dateinputtwo = selectedRecord[\"groupList\"][groupIndex][index][\"dateinputtwo\"] && format(new Date(selectedRecord[\"groupList\"][groupIndex][index][\"dateinputtwo\"]), \"yyyy-MM-dd HH:mm:ss.SS\")//selectedRecord[\"dateinputtwo_\" + index];\r\n\r\n                        if (symbolObject && inputname) {\r\n                            if (symbolObject.symbolType === 4) {\r\n                                const showInputValue = inputname;\r\n                                const index1 =  symbolObject.replacewith&&symbolObject.replacewith.indexOf('_');\r\n                                inputname =  symbolObject.replacewith&&symbolObject.replacewith.substr(0, index1) + inputname + symbolObject.replacewith.substr(index1 + 1);\r\n                                inputname = inputname.slice(1, inputname.length - 1);\r\n\r\n                                databaseCondition.push({ [columnValue]: { [symbolname]: inputname } });\r\n                                displayCondition.push({ [columnLabel]: { [symbolname]: inputname } });\r\n                                databaseConditionParam.push({ [columnValue]: { [symbolname]: inputname } });\r\n                                fieldWithValue.push({ columnName: columnValue, value: inputname, showInputValue: showInputValue, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                            } else {\r\n                                databaseCondition.push({ [columnValue]: { [symbolname]: inputname } });\r\n                                displayCondition.push({ [columnLabel]: { [symbolname]: inputname } });\r\n                                databaseConditionParam.push({ [columnValue]: { [symbolname]: inputname } });\r\n                                fieldWithValue.push({ columnName: columnValue, value: inputname, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                            }\r\n                        } else if (symbolObject && numericinput && symbolObject.symbolType !== 5) {\r\n                            databaseCondition.push({ [columnValue]: { [symbolname]: numericinput } });\r\n                            displayCondition.push({ [columnLabel]: { [symbolname]: numericinput } });\r\n                            databaseConditionParam.push({ [columnValue]: { [symbolname]: numericinput } });\r\n                            fieldWithValue.push({ columnName: columnValue, value: numericinput, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                        } else if (symbolObject && symbolObject.symbolType === 2\r\n                            || symbolObject && symbolObject.symbolType === 3) {\r\n                            databaseCondition.push({ [columnValue]: { [symbolname]: '' } });\r\n                            displayCondition.push({ [columnLabel]: { [symbolname]: '' } });\r\n                            databaseConditionParam.push({ [columnValue]: { [symbolname]: '' } });\r\n                            fieldWithValue.push({ columnName: columnValue, value: '', symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                        } else if (symbolObject && numericinput && snumericinputtwo && symbolObject.symbolType === 5) {\r\n                            if (symbolObject.symbol === \"\") {\r\n                                const tempValue = [{ [columnValue]: { [symbolObject.replacewith[0]]: +numericinput } },\r\n                                { [columnValue]: { [symbolObject.replacewith[1]]: +snumericinputtwo } }];\r\n                                const tempValue1 = [{ [columnLabel]: { [symbolObject.replacewith[0]]: +numericinput } },\r\n                                { [columnLabel]: { [symbolObject.replacewith[1]]: +snumericinputtwo } }];\r\n                                databaseCondition.push(tempValue);\r\n                                displayCondition.push(tempValue1);\r\n                                databaseConditionParam.push(tempValue);\r\n\r\n                            } else {\r\n                                const tempValue = [\r\n                                    {\r\n                                        [symbolObject.symbol]: [{ [columnValue]: { [symbolObject.replacewith[0]]: +numericinput } },\r\n                                        { [columnValue]: { [symbolObject.replacewith[1]]: +snumericinputtwo } }]\r\n                                    }\r\n                                ];\r\n                                const tempValue1 = [\r\n                                    {\r\n                                        [symbolObject.symbol]: [{ [columnLabel]: { [symbolObject.replacewith[0]]: +numericinput } },\r\n                                        { [columnLabel]: { [symbolObject.replacewith[1]]: +snumericinputtwo } }]\r\n                                    }\r\n                                ];\r\n                                databaseCondition.push(tempValue);\r\n                                displayCondition.push(tempValue1);\r\n                                databaseConditionParam.push(tempValue);\r\n                            }\r\n                        } else if (symbolObject && symbolObject.symbolType === 6 && columnName && selectedRecord[\"groupList\"][groupIndex][index][columnName]) {\r\n\r\n                            const data = selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"][groupIndex]&&selectedRecord[\"groupList\"][groupIndex][index]&&selectedRecord[\"groupList\"][groupIndex][index][columnName] && selectedRecord[\"groupList\"][groupIndex][index][columnName].map(item => { return \"'\" + item.value + \"'\" }) || [];\r\n                            const data1 = selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"][groupIndex]&&selectedRecord[\"groupList\"][groupIndex][index]&&selectedRecord[\"groupList\"][groupIndex][index][columnName] && selectedRecord[\"groupList\"][groupIndex][index][columnName].map(item => { return item.label }) || [];\r\n                            if (data.length > 0) {\r\n                                if (needmasterdata) {\r\n                                    databaseCondition.push({ [selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember]: { [symbolname]: data } });\r\n                                    databaseConditionParam.push({ [selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember]: { [symbolname]: data } });\r\n                                    fieldWithValue.push({ columnName: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember, value: selectedRecord[\"groupList\"][groupIndex][index][columnName].map(item => { return item }), symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                                } else {\r\n                                    databaseCondition.push({ [columnValue]: { [symbolname]: data } });\r\n                                    databaseConditionParam.push({ [columnValue]: { [symbolname]: data } });\r\n                                    fieldWithValue.push({ columnName: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember, value: selectedRecord[\"groupList\"][groupIndex][index][columnName].map(item => { return item }), symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                                }\r\n                            }\r\n                            if (data1.length > 0) {\r\n                                displayCondition.push({ [columnLabel]: { [symbolname]: data1 } });\r\n                            }\r\n                            // }\r\n                        } else if (symbolObject && columnName && symbolObject.isInputVisible && selectedRecord[\"groupList\"][groupIndex][index][columnName]) {\r\n                            if (needmasterdata) {\r\n                                databaseCondition.push({ [selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember]: { [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].value } });\r\n                                displayCondition.push({ [columnLabel]: { [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].label } });\r\n                                databaseConditionParam.push({ [selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember]: { [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].label } });\r\n                                fieldWithValue.push({ columnName: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.viewvaluemember, value: selectedRecord[\"groupList\"][groupIndex][index][columnName], symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                            } else {\r\n                                databaseCondition.push({ [columnValue]: { [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].value } });\r\n                                displayCondition.push({ [columnLabel]: { [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].label } });\r\n                                databaseConditionParam.push({ [columnValue]: { [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].label } });\r\n                                fieldWithValue.push({ columnName: columnValue, value: selectedRecord[\"groupList\"][groupIndex][index][columnName], symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                            }\r\n                        } else if (symbolObject && dateinput && symbolObject.symbolType !== 5) {\r\n                            databaseCondition.push({ [columnValue]: { [symbolname]: dateinput } });\r\n                            displayCondition.push({ [columnLabel]: { [symbolname]: dateinput } });\r\n                            databaseConditionParam.push({ [columnValue]: { [symbolname]: dateinput } });\r\n                            fieldWithValue.push({ columnName: columnValue, value: dateinput, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                        } else if (symbolObject && dateinput && dateinputtwo && symbolObject.symbolType === 5) {\r\n                            if (symbolObject.symbol === \"\") {\r\n                                const tempValue = [{ [columnValue]: { [symbolObject.replacewith[0]]: dateinput } },\r\n                                { [columnValue]: { [symbolObject.replacewith[1]]: dateinputtwo } }];\r\n                                const tempValue1 = [{ [columnLabel]: { [symbolObject.replacewith[0]]: dateinput } },\r\n                                { [columnLabel]: { [symbolObject.replacewith[1]]: dateinputtwo } }];\r\n                                databaseCondition.push(tempValue);\r\n                                displayCondition.push(tempValue1);\r\n                                databaseConditionParam.push(tempValue);\r\n                                fieldWithValue.push({ columnName: columnValue, value: dateinput, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                                fieldWithValue.push({ columnName: columnValue, value: dateinputtwo, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                            } else {\r\n                                const tempValue = [\r\n                                    {\r\n                                        [symbolObject.symbol]: [{ [columnValue]: { [symbolObject.replacewith[0]]: dateinput } },\r\n                                        { [columnValue]: { [symbolObject.replacewith[1]]: dateinputtwo } }]\r\n                                    }\r\n                                ];\r\n                                const tempValue1 = [\r\n                                    {\r\n                                        [symbolObject.symbol]: [{ [columnLabel]: { [symbolObject.replacewith[0]]: dateinput } },\r\n                                        { [columnLabel]: { [symbolObject.replacewith[1]]: dateinputtwo } }]\r\n                                    }\r\n                                ];\r\n                                databaseCondition.push(tempValue);\r\n                                displayCondition.push(tempValue1);\r\n                                databaseConditionParam.push(tempValue);\r\n                                fieldWithValue.push({ columnName: columnValue, value: dateinput, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                                fieldWithValue.push({ columnName: columnValue, value: dateinputtwo, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                            }\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        this.groupByFunction(selectedRecord, databaseCondition, displayCondition);\r\n                    }\r\n                });\r\n\r\n                if (selectedRecord[\"groupList\"] &&selectedRecord[\"groupList\"].length>0&& selectedRecord[\"groupList\"][groupIndex][`button_and`] === true) {\r\n\r\n                    if (selectedRecord[\"groupList\"][groupIndex][`button_not`] === true) {\r\n                        groupConditionDisplay.push([{ $not: [{ $and: [...displayCondition] }] }]);\r\n                        groupConditionDatabase.push([{ $not: [{ $and: [...databaseCondition] }] }]);\r\n                        groupConditionDatabaseParam.push([{ $not: [{ $and: [...databaseConditionParam] }] }]);\r\n                    } else {\r\n                        groupConditionDisplay.push([{ $and: [...displayCondition] }]);\r\n                        groupConditionDatabase.push([{ $and: [...databaseCondition] }]);\r\n                        groupConditionDatabaseParam.push([{ $and: [...databaseConditionParam] }]);\r\n                    }\r\n\r\n                } else if (selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"].length>0&&selectedRecord[\"groupList\"][groupIndex][`button_or`] === true) {\r\n\r\n                    if (selectedRecord[\"groupList\"][groupIndex][`button_not`] === true) {\r\n                        groupConditionDisplay.push([{ $not: [{ $or: [...displayCondition] }] }]);\r\n                        groupConditionDatabase.push([{ $not: [{ $or: [...databaseCondition] }] }]);\r\n                        groupConditionDatabaseParam.push([{ $not: [{ $or: [...databaseConditionParam] }] }]);\r\n                    }\r\n                    else {\r\n                        groupConditionDisplay.push([{ $or: [...displayCondition] }]);\r\n                        groupConditionDatabase.push([{ $or: [...databaseCondition] }]);\r\n                        groupConditionDatabaseParam.push([{ $or: [...databaseConditionParam] }]);\r\n                    }\r\n\r\n                } else {\r\n                    groupConditionDisplay.push([{ ...displayCondition }]);\r\n                    groupConditionDatabase.push([{ ...databaseCondition }]);\r\n                    groupConditionDatabaseParam.push([{ ...databaseConditionParam }]);\r\n                }\r\n\r\n\r\n                let finalConditionDisplay = undefined;\r\n                let finalConditionDatabase = undefined;\r\n                let finalConditionDatabaseParam = undefined;\r\n                if (addGroupList.length - 1 === 0) {\r\n\r\n\r\n                    finalConditionDisplay = [...groupConditionDisplay];\r\n                    finalConditionDatabase = [...groupConditionDatabase];\r\n                    finalConditionDatabaseParam = [...groupConditionDatabaseParam];\r\n\r\n\r\n                } else if (addGroupList.length - 1 === groupIndex) {\r\n                    if (selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"][0]&&selectedRecord[\"groupList\"][0][`button_and`] === true) {\r\n\r\n\r\n                        finalConditionDisplay = [{ $and: [...groupConditionDisplay] }];\r\n                        finalConditionDatabase = [{ $and: [...groupConditionDatabase] }];\r\n                        finalConditionDatabaseParam = [{ $and: [...groupConditionDatabaseParam] }];\r\n\r\n\r\n                    } else if (selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"][0]&&selectedRecord[\"groupList\"][0][`button_or`] === true) {\r\n\r\n\r\n                        finalConditionDisplay = [{ $or: [...groupConditionDisplay] }];\r\n                        finalConditionDatabase = [{ $or: [...groupConditionDatabase] }];\r\n                        finalConditionDatabaseParam = [{ $or: [...groupConditionDatabaseParam] }];\r\n\r\n\r\n                    } else {\r\n\r\n\r\n                        finalConditionDisplay = [{ ...groupConditionDisplay }];\r\n                        finalConditionDatabase = [{ ...groupConditionDatabase }];\r\n                        finalConditionDatabaseParam = [{ ...groupConditionDatabaseParam }];\r\n\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                if (this.props.Login.sqlQuery) {\r\n                    const databaseSQLQuery = jsonSql.build({\r\n                        type: 'select',\r\n                        table: selectedRecord[\"stablename_0\"].value,\r\n                        condition: databaseCondition\r\n                    });\r\n                    const displaySQLQuery = jsonSql.build({\r\n                        type: 'select',\r\n                        table: selectedRecord[\"stablename_0\"].label,\r\n                        condition: displayCondition\r\n                    });\r\n                    selectedRecord[\"sgeneratedquery\"] = databaseSQLQuery.query;\r\n                    selectedRecord[\"sdisplayquery\"] = displaySQLQuery.query;\r\n                } else {\r\n\r\n\r\n                    // const fields = this.props.Login.viewColumnList;\r\n                    const dbFields = selectedRecord[\"filtercolumns\"];\r\n\r\n                    let fieldList = [];\r\n                    let dbfieldList = [];\r\n                    let groupByAggregateFields = [];\r\n                    let groupByFields = [];\r\n\r\n                    let groupByAggregateFieldsDisplay = [];\r\n                    let groupByFieldsDisplay = [];\r\n\r\n                    let orderByDefault = [];\r\n                    let orderByCustom = {};\r\n\r\n                    let orderByDefaultDisplay = [];\r\n                    let orderByCustomDisplay = {};\r\n\r\n                    selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].forEach(data => {\r\n                        if (data[\"ordertype\"] && data[\"ordertype\"].value === 2) {\r\n                            orderByCustom[data[\"columnname\"].items.columnname] = -1\r\n                            orderByCustomDisplay[data[\"columnname\"].label] = -1\r\n                        } else {\r\n                            orderByCustom[data[\"columnname\"].items.columnname] = 1\r\n                            orderByCustomDisplay[data[\"columnname\"].label] = 1\r\n                        }\r\n                    })\r\n                    if (selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0) {\r\n                        selectedRecord[\"aggregate\"].forEach(data => {\r\n                            if (data[\"aggfunctionname\"] && data[\"aggfunctionname\"].label !== '') {\r\n                                groupByAggregateFields.push({\r\n                                    func: {\r\n                                        name: data[\"aggfunctionname\"].label,\r\n                                        args: [{ field: data[\"columnname\"].items.columnname }]\r\n\r\n                                    }, alias: data[\"columnname\"].items.columnname\r\n                                })\r\n                                groupByAggregateFieldsDisplay.push({\r\n                                    func: {\r\n                                        name: data[\"aggfunctionname\"].label,\r\n                                        args: [{ field: data[\"columnname\"].label }]\r\n\r\n                                    }\r\n                                })\r\n\r\n                            } else {\r\n                                groupByAggregateFields.push(data[\"columnname\"].items.columnname);\r\n                                groupByFields.push(data[\"columnname\"].items.columnname);\r\n                                groupByAggregateFieldsDisplay.push(data[\"columnname\"].label);\r\n                                groupByFieldsDisplay.push(data[\"columnname\"].label);\r\n                            }\r\n                        })\r\n                    }\r\n                    // fields.forEach(item => {\r\n                    //     fieldList.push(item.label);\r\n                    // })\r\n                    dbFields&& dbFields.length>0&&dbFields.forEach(item => {\r\n                        if (item.items?item.items.languagecode :false === true || item.item.items?item.item.items.languagecode : false=== true ) {\r\n                            // let languageCode = this.props.Login.userInfo.slanguagetypecode ? this.props.Login.userInfo.slanguagetypecode : \"en-US\";\r\n                            let fieldValue = item.value + \"\\\"->> $L as \\\"\" + item.value;//item.value.replace(item.value, item.value + \"->> $L as \" + item.value);\r\n                            // dbfieldList.push( \"\"+fieldValue+\"\");\r\n                            dbfieldList.push(fieldValue);\r\n\r\n                        } else {\r\n                            // dbfieldList.push(\"\"+item.value+\"\");\r\n                            dbfieldList.push(item.value);\r\n                        }\r\n                        fieldList.push(item.label);\r\n                    })\r\n                    const databaseSQLQueryParam = jsonSqlParam.build({\r\n                        type: 'select',\r\n                        table:  selectedRecord[\"sviewname\"]&&selectedRecord[\"sviewname\"].value,\r\n                        fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFields : dbfieldList,\r\n                        group: groupByFields,\r\n                        sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustom : \"\",\r\n                        condition:selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"].length>0&& finalConditionDatabaseParam ||[]\r\n                    });\r\n                    const databaseSQLQuery = jsonSql.build({\r\n                        type: 'select',\r\n                        table: selectedRecord[\"sviewname\"]&& selectedRecord[\"sviewname\"].value,\r\n                        fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFields : dbfieldList,\r\n                        group: groupByFields,\r\n                        sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustom : \"\",\r\n                        condition:selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"].length>0&& finalConditionDatabase ||[]\r\n                    });\r\n                    const displaySQLQuery = jsonSql.build({\r\n                        type: 'select',\r\n                        fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFieldsDisplay : fieldList,\r\n                        group: groupByFieldsDisplay,\r\n                        table:  selectedRecord[\"sviewname\"]&&selectedRecord[\"sviewname\"].label,\r\n                        sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustomDisplay : \"\",\r\n                        condition: selectedRecord[\"groupList\"]&&selectedRecord[\"groupList\"].length>0&&finalConditionDisplay ||[] //&& finalCondition.length === 1 ? finalCondition[0] : finalCondition\r\n                    });\r\n                    // databaseSQLQueryParam.query.split('\"').join('')\r\n                    // databaseSQLQuery.query.split('\"').join('')\r\n\r\n                    // let dbQueryParam = databaseSQLQueryParam.query.split('\"').join('');\r\n                    // let dbQuery = databaseSQLQuery.query.split('\"').join('');\r\n                    let dbQueryParam = databaseSQLQueryParam.query;\r\n                    let dbQuery = databaseSQLQuery.query;\r\n                    selectedRecord[\"squerywithparam\"] = dbQueryParam.replace(\"like\", \"Ilike\");\r\n\r\n                    selectedRecord[\"sgeneratedquery\"] = selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"].length > 0 ?\r\n                        dbQuery.replace(\"like\", \"Ilike\") : \"\";\r\n                    selectedRecord[\"sdisplayquery\"] = selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"].length > 0 ?\r\n                        displaySQLQuery.query.replace(\"like\", \"Ilike\") : \"\";\r\n                        \r\n                    selectedRecord[\"sdefaultvalue\"] = fieldWithValue;\r\n\r\n\r\n                    const paramIndex = [];\r\n                    if (fieldWithValue.length > 0) {\r\n                        fieldWithValue.forEach((item, i) => {\r\n                            if (item.symbolObject.items.symbolType === 4) {\r\n                                paramIndex.push(\"$p\" + (i + 1));\r\n                            }\r\n                        })\r\n                    }\r\n\r\n                    if (paramIndex.length > 0) {\r\n                        paramIndex.forEach(data => {\r\n                            selectedRecord[\"squerywithparam\"] = selectedRecord[\"squerywithparam\"].replace(data, data + \" COLLATE pg_catalog.default \");\r\n                        })\r\n                    }\r\n                    //   if (paramIndex.length > 0) {\r\n                    //     paramIndex.forEach(data => {\r\n                    //         selectedRecord[\"squerywithparam\"] = selectedRecord[\"squerywithparam\"].replace(data, data + \" COLLATE pg_catalog.default \");\r\n                    //     })\r\n                    // }\r\n                    // if (selectedRecord[\"squerywithparam\"].indexOf('Ilike') > 0) {\r\n\r\n                    //     let newQuery = selectedRecord[\"squerywithparam\"];\r\n\r\n                    //     while (newQuery.indexOf(\"Ilike\") !== -1) {\r\n\r\n                    //         const paramLabelStartIndex = newQuery.indexOf(\"Ilike\");\r\n\r\n                    //         const paramLabel = newQuery.substring(paramLabelStartIndex, newQuery.length);\r\n\r\n\r\n\r\n                    //     }\r\n                    // }\r\n                }\r\n                this.setState({ selectedRecord });\r\n            });\r\n        } else {\r\n            this.groupByFunction(selectedRecord, databaseCondition, displayCondition,databaseConditionParam);\r\n        }\r\n        this.setState({ selectedRecord });// for temporary\r\n    }\r\n\r\n    groupByFunction(selectedRecord, databaseCondition, displayCondition,databaseConditionParam) {\r\n        let groupByAggregateFields = [];\r\n        let groupByFields = [];\r\n\r\n        let groupByAggregateFieldsDisplay = [];\r\n        let groupByFieldsDisplay = [];\r\n\r\n        let orderByDefault = [];\r\n        let orderByCustom = {};\r\n\r\n        let orderByDefaultDisplay = [];\r\n        let orderByCustomDisplay = {};\r\n\r\n        // if (selectedRecord[\"customorderby\"] && selectedRecord[\"customorderby\"] === true) {\r\n        selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].forEach(data => {\r\n            if (data[\"ordertype\"] && data[\"ordertype\"].value === 2) {\r\n                orderByCustom[data[\"columnname\"].items.columnname] = -1\r\n                orderByCustomDisplay[data[\"columnname\"].label] = -1\r\n            } else {\r\n                orderByCustom[data[\"columnname\"].items.columnname] = 1\r\n                orderByCustomDisplay[data[\"columnname\"].label] = 1\r\n            }\r\n        })\r\n        // } else {\r\n        //     selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].forEach(data => {\r\n        //         orderByDefault.push(data[\"columnname\"].items.columnname);\r\n        //         orderByDefaultDisplay.push(data[\"columnname\"].label);\r\n        //     })\r\n        // }\r\n\r\n\r\n        // if (selectedRecord[\"groupby\"] && selectedRecord[\"groupby\"] === true) {\r\n        if (selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0) {\r\n            selectedRecord[\"aggregate\"].forEach(data => {\r\n                if (data[\"aggfunctionname\"] && data[\"aggfunctionname\"].label !== '') {\r\n                    groupByAggregateFields.push({\r\n                        func: {\r\n                            name: data[\"aggfunctionname\"].label,\r\n                            args: [{ field: data[\"columnname\"].items.columnname }]\r\n\r\n                        }, alias: data[\"columnname\"].items.columnname\r\n                    })\r\n                    groupByAggregateFieldsDisplay.push({\r\n                        func: {\r\n                            name: data[\"aggfunctionname\"].label,\r\n                            args: [{ field: data[\"columnname\"].label }]\r\n\r\n                        }\r\n                    })\r\n\r\n                } else {\r\n                    groupByAggregateFields.push(data[\"columnname\"].items.columnname);\r\n                    groupByFields.push(data[\"columnname\"].items.columnname);\r\n                    groupByAggregateFieldsDisplay.push(data[\"columnname\"].label);\r\n                    groupByFieldsDisplay.push(data[\"columnname\"].label);\r\n                }\r\n            })\r\n\r\n            const databaseSQLQuery = jsonSql.build({\r\n                type: 'select',\r\n                table:  selectedRecord[\"sviewname\"]&&selectedRecord[\"sviewname\"].value,\r\n                fields:selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFields :dbfieldList,\r\n                group: groupByFields,\r\n                sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustom : \"\",\r\n                condition: databaseCondition\r\n            });\r\n            const displaySQLQuery = jsonSql.build({\r\n                type: 'select',\r\n                fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFieldsDisplay : fieldList,\r\n                group: groupByFieldsDisplay,\r\n                sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustomDisplay : \"\",\r\n                table:  selectedRecord[\"sviewname\"]&&selectedRecord[\"sviewname\"].label,\r\n                condition: displayCondition\r\n            });\r\n            selectedRecord[\"sgeneratedquery\"] = databaseSQLQuery.query;\r\n            selectedRecord[\"sdisplayquery\"] = displaySQLQuery.query;\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n        const dbFields = selectedRecord[\"filtercolumns\"];\r\n                    let fieldList = [];\r\n                    let dbfieldList = [];\r\n        dbFields&&dbFields.length>0 &&\r\n        dbFields.forEach(item => {\r\n            if (item.items?item.items.languagecode :false === true || item.item.items?item.item.items.languagecode : false=== true ) {\r\n                // let languageCode = this.props.Login.userInfo.slanguagetypecode ? this.props.Login.userInfo.slanguagetypecode : \"en-US\";\r\n                let fieldValue = item.value + \"\\\"->> $L as \\\"\" + item.value;//item.value.replace(item.value, item.value + \"->> $L as \" + item.value);\r\n                // dbfieldList.push( \"\"+fieldValue+\"\");\r\n                dbfieldList.push(fieldValue);\r\n\r\n            } else {\r\n                // dbfieldList.push(\"\"+item.value+\"\");\r\n                dbfieldList.push(item.value);\r\n            }\r\n            fieldList.push(item.label);\r\n        })\r\n\r\n        const databaseSQLQueryParam = jsonSqlParam.build({\r\n            type: 'select',\r\n            table:selectedRecord[\"sviewname\"]&& selectedRecord[\"sviewname\"].value,\r\n            fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFields : dbfieldList,\r\n            group: groupByFields,\r\n            sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustom : \"\",\r\n            condition: databaseConditionParam\r\n        });\r\n\r\n        const databaseSQLQuery = jsonSql.build({\r\n            type: 'select',\r\n            table: selectedRecord[\"sviewname\"]&& selectedRecord[\"sviewname\"].value, \r\n            fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFields :dbfieldList,\r\n            group: groupByFields,\r\n            sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustom : \"\",\r\n            condition: databaseCondition\r\n        });\r\n        const displaySQLQuery = jsonSql.build({\r\n            type: 'select',\r\n            fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFieldsDisplay : fieldList,\r\n            group: groupByFieldsDisplay,\r\n            sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustomDisplay : \"\",\r\n            table: selectedRecord[\"sviewname\"]&& selectedRecord[\"sviewname\"].label ,\r\n            condition: displayCondition\r\n        });\r\n        // selectedRecord[\"sgeneratedquery\"] = databaseSQLQuery.query;\r\n        // selectedRecord[\"sdisplayquery\"] = displaySQLQuery.query;\r\n\r\n         const dbQuery = databaseSQLQuery.query;\r\n         let dbQueryParam = databaseSQLQueryParam.query;\r\n         selectedRecord[\"squerywithparam\"] = dbQueryParam.replace(\"like\", \"Ilike\");\r\n\r\n         const paramIndex = [];\r\n         if (paramIndex.length > 0) {\r\n            paramIndex.forEach(data => {\r\n                selectedRecord[\"squerywithparam\"] = selectedRecord[\"squerywithparam\"].replace(data, data + \" COLLATE pg_catalog.default \");\r\n            })\r\n        }\r\n        // const displaysqlQuery = displaySQLQuery.query;\r\n        \r\n        selectedRecord[\"sgeneratedquery\"] = selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"].length > 0 ?\r\n        dbQuery.replace(\"like\", \"Ilike\") : \"\";\r\n    selectedRecord[\"sdisplayquery\"] = selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"].length > 0 ?\r\n    displaySQLQuery.query.replace(\"like\", \"Ilike\") : \"\";\r\n\r\n        this.setState({ selectedRecord });\r\n        // }\r\n    }\r\n    onConditionClick = (fieldName, index) => {\r\n        let { selectedRecord } = this.state;\r\n        if (fieldName === `button_and`) {\r\n            selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? false : true;\r\n            selectedRecord[\"groupList\"][index][`button_or`] = false;\r\n        } else if (fieldName === `button_or`) {\r\n            selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? false : true;\r\n            selectedRecord[\"groupList\"][index][`button_and`] = false;\r\n            // if (selectedRecord[\"groupList\"][index][`notoperator`] && selectedRecord[\"groupList\"][index][`notoperator`] === true) {\r\n            //     selectedRecord[\"groupList\"][index][`notoperator`] = false;\r\n            // }\r\n        } else if (fieldName === `button_not`) {\r\n            selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? false : true;\r\n        }\r\n        else {\r\n\r\n        }\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n\r\n    onQueryTypeOnclick = (value) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"selectedQueryType\"] = value;\r\n        let sqlQuery = false;\r\n        if (value.value === \"sql\") {\r\n            sqlQuery = true;\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { sqlQuery: sqlQuery }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        this.setState({ selectedRecord });\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, filterColumnData,\r\n    validateEsignCredential, getSQLQueryDetail, getSQLQueryComboService, comboChangeQueryType,\r\n    executeUserQuery, comboColumnValues, getColumnNamesByTableName,\r\n    getTablesName, getModuleFormName, getDatabaseTables, executeQueryForQueryBuilder, getForeignTable,\r\n    getViewColumns, getMasterData, createQueryBuilder,\r\n    getParameterFromQuery, getSelectedQueryBuilder, updateQueryBuilder, //getQueryBuilder\r\n})(injectIntl(QueryBuilder));"]},"metadata":{},"sourceType":"module"}