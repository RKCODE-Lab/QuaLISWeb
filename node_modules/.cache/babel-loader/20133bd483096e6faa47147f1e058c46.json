{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\submitter\\\\submitter\\\\SubmitterTab.jsx\";\nimport React from 'react';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { Nav, Row, Col } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport DataGrid from '../../../components/data-grid/data-grid.component';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { process } from '@progress/kendo-data-query';\n\nclass SubmitterTab extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      submitterMappingDataState: {\n        skip: 0,\n        take: 5\n      }\n    };\n  }\n\n  render() {\n    const addSectionId = this.props.controlMap.has(\"AddSection\") && this.props.controlMap.get(\"AddSection\").ncontrolcode;\n    const instSectionColumnList = [{\n      \"idsName\": \"IDS_INSTITUTIONCATEGORY\",\n      \"dataField\": \"sinstitutioncatname\",\n      \"width\": \"150px\"\n    }, {\n      \"idsName\": \"IDS_INSTITUTION\",\n      \"dataField\": \"sinstitutionname\",\n      \"width\": \"150px\"\n    }, {\n      \"idsName\": \"IDS_INSTITUTIONSITE\",\n      \"dataField\": \"sinstitutionsitename\",\n      \"width\": \"150px\"\n    }];\n    const methodUrl = \"SubmitterMapping\";\n    console.log(\"props\" + this.props);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"actions-stripe\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      name: \"addtestsection\",\n      className: \"add-txt-btn\",\n      hidden: 1 === -1,\n      onClick: () => this.props.getInstitutionCategory(this.props.selectedSubmitter, \"getInstitutionCategory\", \"site\", \"IDS_SITE\", this.props.userInfo, addSectionId, this.props.selectedRecord),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 29\n      }\n    }), \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_ADDSITE\",\n      defaultMessage: \"Add Site\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DataGrid, {\n      key: \"submittermapping\",\n      primaryKeyField: \"nsubmittermappingcode\",\n      data: this.props.selectedSubmitter || [] // dataResult = {[]}\n      ,\n      dataResult: process(this.props.SubmitterMapping || [], this.state.submitterMappingDataState),\n      dataState: this.state.submitterMappingDataState || [],\n      dataStateChange: event => this.setState({\n        submitterMappingDataState: event.dataState\n      }),\n      extractedColumnList: instSectionColumnList,\n      controlMap: this.props.controlMap,\n      userRoleControlRights: this.props.userRoleControlRights //inputParam = {this.props.inputParam}\n      ,\n      userInfo: this.props.userInfo,\n      deleteRecord: this.props.deleteRecord,\n      pageable: true,\n      scrollable: 'scrollable',\n      isActionRequired: true,\n      deleteParam: {\n        operation: \"delete\",\n        methodUrl,\n        screenName: this.props.screenName\n      },\n      methodUrl: methodUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }\n    }))));\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.InstrumentSection !== previousProps.InstrumentSection) {\n      let {\n        sectionDataState\n      } = this.state;\n\n      if (this.props.dataState === undefined) {\n        sectionDataState = {\n          skip: 0,\n          take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n        };\n      }\n\n      this.setState({\n        sectionDataState\n      });\n    }\n  }\n\n}\n\n;\nexport default injectIntl(SubmitterTab);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/submitter/submitter/SubmitterTab.jsx"],"names":["React","injectIntl","FormattedMessage","Nav","Row","Col","FontAwesomeIcon","DataGrid","faPlus","process","SubmitterTab","Component","constructor","props","state","submitterMappingDataState","skip","take","render","addSectionId","controlMap","has","get","ncontrolcode","instSectionColumnList","methodUrl","console","log","getInstitutionCategory","selectedSubmitter","userInfo","selectedRecord","SubmitterMapping","event","setState","dataState","userRoleControlRights","deleteRecord","operation","screenName","componentDidUpdate","previousProps","InstrumentSection","sectionDataState","undefined","settings","parseInt"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Nav, Row, Col } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport DataGrid from '../../../components/data-grid/data-grid.component';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { process } from '@progress/kendo-data-query';\r\nclass  SubmitterTab extends React.Component{\r\n    constructor(props) {\r\n    super(props);\r\n    this.state = ({\r\n        submitterMappingDataState: { skip: 0, take:  5 },\r\n    });\r\n}\r\n\r\n    render(){\r\n        const addSectionId = this.props.controlMap.has(\"AddSection\") && this.props.controlMap.get(\"AddSection\").ncontrolcode;\r\n        const instSectionColumnList = [\r\n            {\"idsName\":\"IDS_INSTITUTIONCATEGORY\",\"dataField\":\"sinstitutioncatname\",\"width\":\"150px\"},\r\n            {\"idsName\":\"IDS_INSTITUTION\",\"dataField\":\"sinstitutionname\",\"width\":\"150px\"},\r\n            {\"idsName\":\"IDS_INSTITUTIONSITE\",\"dataField\":\"sinstitutionsitename\",\"width\":\"150px\"}\r\n            ];\r\n        const methodUrl = \"SubmitterMapping\";\r\n        console.log(\"props\"+this.props)\r\n    return (\r\n        <>\r\n            <div className=\"actions-stripe\">\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <Nav.Link name=\"addtestsection\" className=\"add-txt-btn\" hidden={1 === -1}\r\n                            onClick={()=>this.props.getInstitutionCategory(this.props.selectedSubmitter, \r\n                                \"getInstitutionCategory\", \"site\", \"IDS_SITE\", this.props.userInfo, addSectionId,this.props.selectedRecord)}\r\n                            >\r\n                            <FontAwesomeIcon icon = { faPlus } /> { }\r\n                            <FormattedMessage id=\"IDS_ADDSITE\" defaultMessage=\"Add Site\"></FormattedMessage>\r\n                        </Nav.Link>\r\n                </div>\r\n            </div>\r\n            <Row noGutters={true}>\r\n                <Col md=\"12\">\r\n                    <DataGrid\r\n                       key=\"submittermapping\"\r\n                       primaryKeyField = \"nsubmittermappingcode\"\r\n                       data = {this.props.selectedSubmitter||[]}\r\n                      // dataResult = {[]}\r\n                      dataResult = {process(this.props.SubmitterMapping||[],this.state.submitterMappingDataState)}\r\n                       dataState = {this.state.submitterMappingDataState||[]}\r\n                       dataStateChange = {(event) => this.setState({ submitterMappingDataState: event.dataState })}\r\n                       extractedColumnList = {instSectionColumnList}\r\n                       controlMap = {this.props.controlMap}\r\n                       userRoleControlRights={this.props.userRoleControlRights}\r\n                       //inputParam = {this.props.inputParam}\r\n                       userInfo = {this.props.userInfo}\r\n                       deleteRecord={this.props.deleteRecord}\r\n                       pageable={true}\r\n                       scrollable={'scrollable'}\r\n                       \r\n                       isActionRequired={true}\r\n                       deleteParam={{operation:\"delete\", methodUrl,screenName:this.props.screenName}}\r\n                       methodUrl={methodUrl}\r\n                    \r\n                       \r\n                    >\r\n                    </DataGrid>\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    );\r\n}\r\ncomponentDidUpdate(previousProps) {\r\n    if (this.props.InstrumentSection !== previousProps.InstrumentSection) {\r\n        let { sectionDataState} = this.state;\r\n        if (this.props.dataState=== undefined) {\r\n                sectionDataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 };\r\n        }\r\n        this.setState({ sectionDataState });\r\n    }\r\n\r\n}\r\n};\r\n\r\nexport default injectIntl(SubmitterTab);"]},"metadata":{},"sourceType":"module"}