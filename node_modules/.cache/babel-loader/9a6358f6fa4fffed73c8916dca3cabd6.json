{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{FormattedMessage,injectIntl}from'react-intl';import{Button,Nav,Image,InputGroup}from'react-bootstrap';import{Grid,GridColumn as Column,GridToolbar,GridColumnMenuFilter,GridNoRecords,getSelectedState,GridColumn}from'@progress/kendo-react-grid';import{GridPDFExport}from'@progress/kendo-react-pdf';import{ExcelExport}from'@progress/kendo-react-excel-export';import ConfirmDialog from'../confirm-alert/confirm-alert.component';import SimpleGrid from'./SimpleGrid';import{Row,Col,Card,FormGroup,FormLabel}from'react-bootstrap';import{AtTableWrap,FormControlStatic,FontIconWrap}from'../data-grid/data-grid.styles';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{updateStore,viewAttachment}from'../../actions';import{faCheck,faTrashAlt,faPencilAlt,faThumbsUp,faCopy,faPlus,faSync,faFileExcel,faFilePdf,faCloudDownloadAlt,faRedo,faEye,faRocket,faExpand,faMinus,faRecycle}from'@fortawesome/free-solid-svg-icons';import ColumnMenu from'./ColumnMenu';// import { Tooltip } from '@progress/kendo-react-tooltip';\nimport reject from\"../../assets/image/reject.svg\";import CustomSwitch from'../custom-switch/custom-switch.component';// import '../../assets/styles/unicode-font.css';\nimport parse from'html-react-parser';import{toast}from'react-toastify';import FormCheckbox from'../form-checkbox/form-checkbox.component';import messages_en from'../../assets/translations/en.json';import messages_de from'../../assets/translations/de.json';import{loadMessages,LocalizationProvider}from'@progress/kendo-react-intl';import{connect}from'react-redux';import{process}from'@progress/kendo-data-query';import ReactTooltip from'react-tooltip';import{getActionIcon}from'../HoverIcons';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import messages_ru from'../../assets/translations/ru.json';import messages_tg from'../../assets/translations/tg.json';import SimpleGridWithSelection from'./SimpleGridWithSelection';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import SingleSelectionDataGrid from'./SingleSelectionDataGrid';import{fileViewUrl}from'../../rsapi';import Axios from'axios';var messages={'en-US':messages_en,'ko-KR':messages_de,'ru-RU':messages_ru,'tg-TG':messages_tg};var DataGridWithMultipleGrid=/*#__PURE__*/function(_React$Component){_inherits(DataGridWithMultipleGrid,_React$Component);var _super=_createSuper(DataGridWithMultipleGrid);function DataGridWithMultipleGrid(_props){var _this;_classCallCheck(this,DataGridWithMultipleGrid);_this=_super.call(this,_props);_this.detailBand=function(props){return/*#__PURE__*/React.createElement(Row,{bsPrefix:\"margin_class\"},/*#__PURE__*/React.createElement(Col,{md:12},_this.props.hasChild&&_this.props.needSubSample?/*#__PURE__*/React.createElement(SimpleGridWithSelection,{ref:function ref(foo1){return _this.foo1=foo1;}//handleChange={this.expandData.bind(this)}\n,extractedColumnList:_this.props.childColumnList,dataState:_this.props.dataState,childList:props.dataItem?_this.props.childList[props.dataItem[_this.props.childMappingField]]||[]:_this.props.childList[props[_this.props.childMappingField]]||[],childDataResult:_this.props.childDataResult,childSelectionChange:_this.props.childSelectionChange,headerSelectionChange:_this.props.childHeaderSelectionChange,selectAll:_this.props.childSelectAll,hasSubChild:_this.props.hasSubChild,subChildDataResult:_this.props.subChildDataResult&&_this.props.subChildDataResult||[],subChildColumnList:_this.props.subChildColumnList,expandField:\"expanded\",childHandleExpandChange:_this.props.childHandleExpandChange,subChildSelectionChange:_this.props.subChildSelectionChange,subChildList:_this.props.subChildList||[],subChildMappingField:_this.props.subChildMappingField,subChildHeaderSelectionChange:_this.props.subChildHeaderSelectionChange,subChildSelectAll:_this.props.subChildSelectAll,selectedsubcild:_this.props.selectedsubcild}):_this.props.hasSubChild?/*#__PURE__*/React.createElement(SingleSelectionDataGrid,{hasSubChild:_this.props.hasSubChild,subChildDataResult:_this.props.subChildDataResult&&_this.props.subChildDataResult||[],subChildColumnList:_this.props.subChildColumnList,subChildSelectionChange:_this.props.subChildSelectionChange,subChildList:props.dataItem?_this.props.subChildList[props.dataItem[_this.props.subChildMappingField]]||[]:_this.props.subChildList[props[_this.props.subChildMappingField]]||[],subChildHeaderSelectionChange:_this.props.subChildHeaderSelectionChange,subChildSelectAll:_this.props.subChildSelectAll,selectedsubcild:_this.props.selectedsubcild,subChildMappingField:_this.props.subChildMappingField,extractedColumnList:_this.props.subChildColumnList}):\"\"),\" \");};_this.expandChange=function(event){var arrayfalse=[];var change=[];var isExpanded=event.dataItem.expanded===undefined?event.dataItem.aggregates:event.dataItem.expanded;if(_this.props.hasChild&&event.value===true){event.dataItem.expanded=!isExpanded;Object.values(_this.props.childList).forEach(function(item){item.map(function(item1){item1['expanded']=true;});});}else{event.dataItem.expanded=!isExpanded;arrayfalse.push(event.dataItem);change=false;_this.setState({isExpanded:isExpanded,arrayfalse:arrayfalse});}var parentData=_this.props.dataResult.data?_this.props.dataResult.data.every(function(item){return item.expanded===true;}):_this.props.dataResult.every(function(item){return item.expanded===true;});if(parentData===true){change=true;}else{change=false;}_this.props.expandFunc({change:change});};_this.allData=function(props){props.map(function(item){});};_this.viewCOAHistoryFile=function(filedata){var inputParam={inputData:{COAHistoryFile:filedata,userinfo:_this.props.userInfo},classUrl:\"coarelease\",operation:\"view\",methodUrl:\"AttachedCOAHistoryFile\",screenName:\"IDS_TEST\"};_this.props.viewAttachment(inputParam);};_this.myRef=React.createRef();_this.confirmMessage=new ConfirmMessage();// this.state = { status: false }\n_this.state={showChild:true,arr:[],change:false,check:false,status:false,count:0};return _this;}_createClass(DataGridWithMultipleGrid,[{key:\"columnProps\",value:function columnProps(field){if(!this.props.hideColumnFilter){return{field:field,columnMenu:ColumnMenu,headerClassName:this.isColumnActive(field,this.props.dataState)?'active':''};}}},{key:\"isColumnActive\",value:function isColumnActive(field,dataState){return GridColumnMenuFilter.active(field,dataState.filter);}},{key:\"expandData\",value:function expandData(){var _this2=this;var change=[];if(this.props.Login.checkFlag===undefined||this.props.Login.checkFlag===\"1\"//|| this.props.Login.count === 0\n){var data=this.props.dataResult.data.every(function(item){return item.expanded===true;});if(data===false){this.props.dataResult.data.map(function(item,i){if(item['expanded']===undefined||item['expanded']!==true){item['expanded']=true;if(_this2.props.childList[item[_this2.props.childMappingField]]!=undefined){_this2.props.childList[item[_this2.props.childMappingField]].map(function(item1,x){_this2.props.childList[item[_this2.props.childMappingField]][x]['expanded']=true;});}change=true;}});}else{if(this.state.arrayfalse&&this.state.arrayfalse.length!==0&&this.props.Login.change===false){this.state.arrayfalse.map(function(item){item['expanded']=true;change=true;});}else{this.props.dataResult.data.map(function(item,i){item['expanded']=false;if(_this2.props.childList[item[_this2.props.childMappingField]]!=undefined){_this2.props.childList[item[_this2.props.childMappingField]].map(function(item1,x){_this2.props.childList[item[_this2.props.childMappingField]][x]['expanded']=false;});}change=false;});}}}else{if(this.props.Login.childfalsearray&&this.props.Login.childfalsearray!==0){this.props.Login.childfalsearray.map(function(item){return item['expanded']=true;});change=true;}if(this.state.arrayfalse&&this.state.arrayfalse.length!==0&&this.props.Login.change===false){this.state.arrayfalse.map(function(item){item['expanded']=true;change=true;});}}// if (this.props.Login.count === 0) {\n//  change=true        }\nthis.props.expandFunc({change:change});}},{key:\"render\",value:function render(){var _this3=this;console.log(\"selectiongrid\",this.props.subChildList);console.log(\"selectiongrid1\",this.props);var methodUrl=this.props.methodUrl?this.props.methodUrl:this.props.inputParam&&this.props.inputParam.methodUrl;var regenerateId=this.props.controlMap&&this.props.controlMap.has(\"RegenerateReleaseFile\")&&this.props.controlMap.get(\"RegenerateReleaseFile\").ncontrolcode;var downloadId=this.props.controlMap&&this.props.controlMap.has(\"DownloadReleaseFile\")&&this.props.controlMap.get(\"DownloadReleaseFile\").ncontrolcode;var releaseId=this.props.controlMap&&this.props.controlMap.has(\"COA\".concat(methodUrl))&&this.props.controlMap.get(\"COA\".concat(methodUrl)).ncontrolcode;var expandId=this.props.controlMap&&this.props.controlMap.has(\"ReleaseExpand\")&&this.props.controlMap.get(\"ReleaseExpand\").ncontrolcode;var collapseId=this.props.controlMap&&this.props.controlMap.has(\"ReleaseCollapse\")&&this.props.controlMap.get(\"ReleaseCollapse\").ncontrolcode;var pageSizes=this.props.pageSizes?this.props.pageSizes:this.props.Login.settings&&this.props.Login.settings[15].split(\",\").map(function(setting){return parseInt(setting);});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AtTableWrap,{className:\"at-list-table\",actionColWidth:this.props.actionColWidth?this.props.actionColWidth:\"150px\"},/*#__PURE__*/React.createElement(LocalizationProvider,{language:\"lang\"},/*#__PURE__*/React.createElement(Grid,Object.assign({ref:function ref(foo){return _this3.foo=foo;},className:this.props.dataResult&&this.props.dataResult.length>0||this.props.extractedColumnList&&this.props.extractedColumnList.length>0?\"active-paging\":\"no-paging\",style:{height:this.props.gridHeight,width:this.props.gridWidth},sortable:true,resizable:true,reorderable:false,scrollable:this.props.scrollable,pageable:this.props.pageable?{buttonCount:5,pageSizes:pageSizes,previousNext:false}:\"\",groupable:this.props.groupable?true:false,detail:this.props.hideDetailBand?false:this.detailBand,expandField:this.props.expandField,onExpandChange:this.expandChange,data:this.props.dataResult,total:this.props.total},this.props.dataState,{selectedField:\"selected\",onRowClick:this.props.handleRowClick,onSelectionChange:this.props.selectionChange,onHeaderSelectionChange:this.props.headerSelectionChange,onDataStateChange:this.props.dataStateChange,selectable:{enabled:true,drag:false,cell:false,mode:'multiple'}}),/*#__PURE__*/React.createElement(GridNoRecords,null,this.props.intl.formatMessage({id:\"IDS_NORECORDSAVAILABLE\"})),this.props.isToolBarRequired?/*#__PURE__*/React.createElement(GridToolbar,null,this.props.isExpandRequired===true?/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-padd-custom\",href:\"#\",style:{marginRight:\"8px\"}//    data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this3.expandData();}},this.props.intl.formatMessage({id:this.props.Login.change?\"IDS_COLLAPSE\":\"IDS_EXPAND\"}),\"                                                                \"):\"\",this.props.isDownloadRequired===true?/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-padd-custom\",href:\"#\",style:{marginRight:\"8px\"}//    data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this3.downloadData();}},this.props.intl.formatMessage({id:\"IDS_DOWNLOADFILE\"}),\"                                                                \"):\"\",this.props.isReleaseRequired===false?\"\":/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",variant:\"link\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_RELEASE\"}),\"data-for\":\"tooltip-grid-wrap\",hidden:this.props.userRoleControlRights&&this.props.userRoleControlRights.indexOf(releaseId)===-1,onClick:function onClick(){return _this3.props.releaseRecord({userInfo:_this3.props.userInfo});}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faRocket})),this.props.isRefreshRequired===false?\"\":/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey\",variant:\"link\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"}),\"data-for\":\"tooltip-grid-wrap\",onClick:function onClick(){return _this3.props.reloadData();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSync}))):\"\",this.props.isCheckBoxRequired===true?/*#__PURE__*/React.createElement(Column,{field:\"selected\"//    width=\"45px\"\n,title:this.props.title//    headerSelectionValue={false}\n,headerSelectionValue:this.props.dataResult.data&&this.props.dataResult.data.length===0?false:this.props.dataResult.data&&this.props.dataResult.data.every(function(data){return data.selected===true;})?true:false}):\"\",this.props.extractedColumnList.map(function(item,index){return/*#__PURE__*/React.createElement(Column,{key:index,title:_this3.props.intl.formatMessage({id:item.idsName})//  {...this.columnProps(item.dataField)}\n,width:item.width,cell:function cell(row){return/*#__PURE__*/React.createElement(\"td\",{\"data-tip\":row[\"dataItem\"][item.dataField]},item.isIdsField?/*#__PURE__*/React.createElement(FormattedMessage,{id:row[\"dataItem\"][item.dataField],defaultMessage:row[\"dataItem\"][item.dataField]}):row[\"dataItem\"][item.dataField]);}});}),this.props.isActionRequired?/*#__PURE__*/React.createElement(GridColumn,{locked:true,headerClassName:\"text-center\",title:this.props.intl.formatMessage({id:'IDS_ACTION'}),sort:false,cell:function cell(row){return row.rowType===\"groupHeader\"?null:/*#__PURE__*/React.createElement(\"td\",{className:\"k-grid-content-sticky k-command-cell selectedId === row[\\\"dataItem\\\"][this.props.primaryKeyField] ? 'active' : ''\",style:{left:'0',right:'0',borderRightWidth:'1px',textAlign:'center'}},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Nav.Link,null,/*#__PURE__*/React.createElement(FontIconWrap,{className:\"d-font-icon action-icons-wrap\"//hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(downloadId) === -1}\n,onClick:function onClick(){return _this3.props.viewDownloadFile(_objectSpread(_objectSpread(_objectSpread({},_this3.props.masterdata),_this3.props.downloadParam),{},{inputData:_objectSpread(_objectSpread({},row[\"dataItem\"]),{},{userinfo:_this3.props.Login.userInfo}),userinfo:_this3.props.Login.userInfo,ncontrolCode:downloadId}),row);},\"data-tip\":_this3.props.intl.formatMessage({id:\"IDS_PREVIEW\"}),\"data-place\":\"left\"//  data-for=\"tooltip-grid-wrap\"\n},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCloudDownloadAlt})),/*#__PURE__*/React.createElement(FontIconWrap,{className:\"d-font-icon action-icons-wrap\",hidden:_this3.props.userRoleControlRights&&_this3.props.userRoleControlRights.indexOf(regenerateId)===-1,onClick:function onClick(){return _this3.props.regnerateFile(_objectSpread(_objectSpread(_objectSpread({},_this3.props.masterdata),_this3.props.downloadParam),{},{inputData:_objectSpread(_objectSpread({},row[\"dataItem\"]),{},{userinfo:_this3.props.Login.userInfo}),userinfo:_this3.props.Login.userInfo,ncontrolCode:downloadId}),row);},\"data-tip\":_this3.props.intl.formatMessage({id:\"IDS_REGENERATEFILE\"}),\"data-place\":\"left\"//  data-for=\"tooltip-grid-wrap\"\n},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faRecycle})))));}}):\"\"))));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){ReactTooltip.rebuild();}},{key:\"downloadData\",value:function downloadData(){var sfileurl=fileViewUrl()+this.props.Login.sfilepath;console.log(sfileurl);//ncoahistorycode, \nvar filedata={ncoahistorycode:this.props.Login.ncoahistorycode,ssystemfilename:this.props.Login.ssystemfilename};this.viewCOAHistoryFile(filedata);//this.handleDownload(sfileurl, this.props.Login.sfilepath)\n//this.pdfDownload(sfileurl)\n}/*pdfDownload = (id) => {\r\n        axios({\r\n            url: id,\r\n            method: 'GET',\r\n            responseType: 'blob', // important\r\n          }).then((response) => {\r\n            const url = window.URL.createObjectURL(response.data));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', 'file.pdf');\r\n            document.body.appendChild(link);\r\n            link.click();\r\n          });\r\n    };*/ /*\r\n    handleDownload = (url, filename) => {\r\n        Axios.get(url, {\r\n          responseType: 'blob',\r\n        })\r\n        .then((res) => {\r\n          js-file-downloa(res.data, filename)\r\n        })\r\n      }*/}]);return DataGridWithMultipleGrid;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{updateStore:updateStore,viewAttachment:viewAttachment})(injectIntl(DataGridWithMultipleGrid));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/data-grid/DataGridWithMultipleGrid.jsx"],"names":["React","FormattedMessage","injectIntl","Button","Nav","Image","InputGroup","Grid","GridColumn","Column","GridToolbar","GridColumnMenuFilter","GridNoRecords","getSelectedState","GridPDFExport","ExcelExport","ConfirmDialog","SimpleGrid","Row","Col","Card","FormGroup","FormLabel","AtTableWrap","FormControlStatic","FontIconWrap","FontAwesomeIcon","updateStore","viewAttachment","faCheck","faTrashAlt","faPencilAlt","faThumbsUp","faCopy","faPlus","faSync","faFileExcel","faFilePdf","faCloudDownloadAlt","faRedo","faEye","faRocket","faExpand","faMinus","faRecycle","ColumnMenu","CustomSwitch","parse","toast","FormCheckbox","messages_en","messages_de","loadMessages","LocalizationProvider","connect","process","ReactTooltip","getActionIcon","ConfirmMessage","messages_ru","messages_tg","SimpleGridWithSelection","DEFAULT_RETURN","SingleSelectionDataGrid","fileViewUrl","Axios","messages","DataGridWithMultipleGrid","props","detailBand","hasChild","needSubSample","foo1","childColumnList","dataState","dataItem","childList","childMappingField","childDataResult","childSelectionChange","childHeaderSelectionChange","childSelectAll","hasSubChild","subChildDataResult","subChildColumnList","childHandleExpandChange","subChildSelectionChange","subChildList","subChildMappingField","subChildHeaderSelectionChange","subChildSelectAll","selectedsubcild","expandChange","event","arrayfalse","change","isExpanded","expanded","undefined","aggregates","value","Object","values","forEach","item","map","item1","push","setState","parentData","dataResult","data","every","expandFunc","allData","viewCOAHistoryFile","filedata","inputParam","inputData","COAHistoryFile","userinfo","userInfo","classUrl","operation","methodUrl","screenName","myRef","createRef","confirmMessage","state","showChild","arr","check","status","count","field","hideColumnFilter","columnMenu","headerClassName","isColumnActive","active","filter","Login","checkFlag","i","x","length","childfalsearray","console","log","regenerateId","controlMap","has","get","ncontrolcode","downloadId","releaseId","concat","expandId","collapseId","pageSizes","settings","split","setting","parseInt","actionColWidth","foo","extractedColumnList","height","gridHeight","width","gridWidth","scrollable","pageable","buttonCount","previousNext","groupable","hideDetailBand","expandField","total","handleRowClick","selectionChange","headerSelectionChange","dataStateChange","enabled","drag","cell","mode","intl","formatMessage","id","isToolBarRequired","isExpandRequired","marginRight","expandData","isDownloadRequired","downloadData","isReleaseRequired","userRoleControlRights","indexOf","releaseRecord","isRefreshRequired","reloadData","isCheckBoxRequired","title","selected","index","idsName","row","dataField","isIdsField","isActionRequired","rowType","left","right","borderRightWidth","textAlign","viewDownloadFile","masterdata","downloadParam","ncontrolCode","regnerateFile","rebuild","sfileurl","sfilepath","ncoahistorycode","ssystemfilename","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { Button, Nav, Image, InputGroup } from 'react-bootstrap';\r\nimport { Grid, GridColumn as Column, GridToolbar, GridColumnMenuFilter, GridNoRecords, getSelectedState, GridColumn } from '@progress/kendo-react-grid';\r\nimport { GridPDFExport } from '@progress/kendo-react-pdf';\r\nimport { ExcelExport } from '@progress/kendo-react-excel-export';\r\nimport ConfirmDialog from '../confirm-alert/confirm-alert.component';\r\nimport SimpleGrid from './SimpleGrid';\r\nimport { Row, Col, Card, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { AtTableWrap, FormControlStatic, FontIconWrap } from '../data-grid/data-grid.styles';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n    updateStore,viewAttachment\r\n} from '../../actions';\r\n\r\nimport {\r\n    faCheck, faTrashAlt, faPencilAlt, faThumbsUp,\r\n    faCopy, faPlus, faSync, faFileExcel, faFilePdf, faCloudDownloadAlt, faRedo, faEye, faRocket, faExpand, faMinus, faRecycle\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport ColumnMenu from './ColumnMenu';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport reject from '../../assets/image/reject.svg'\r\nimport CustomSwitch from '../custom-switch/custom-switch.component';// import '../../assets/styles/unicode-font.css';\r\nimport parse from 'html-react-parser';\r\nimport { toast } from 'react-toastify';\r\nimport FormCheckbox from '../form-checkbox/form-checkbox.component';\r\nimport messages_en from '../../assets/translations/en.json';\r\nimport messages_de from '../../assets/translations/de.json';\r\nimport { loadMessages, LocalizationProvider } from '@progress/kendo-react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { getActionIcon } from '../HoverIcons';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport messages_ru from '../../assets/translations/ru.json';\r\nimport messages_tg from '../../assets/translations/tg.json';\r\nimport SimpleGridWithSelection from './SimpleGridWithSelection';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport SingleSelectionDataGrid from './SingleSelectionDataGrid';\r\nimport { fileViewUrl } from '../../rsapi';\r\nimport Axios from 'axios';\r\n\r\nconst messages = {\r\n    'en-US': messages_en,\r\n    'ko-KR': messages_de,\r\n    'ru-RU': messages_ru,\r\n    'tg-TG': messages_tg\r\n}\r\n\r\nclass DataGridWithMultipleGrid extends React.Component {\r\n\r\n    _pdfExport;\r\n    _excelExport;\r\n    constructor(props) {\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        // this.state = { status: false }\r\n        this.state = {\r\n            showChild: true,\r\n            arr: [],\r\n            change: false,\r\n            check: false,\r\n            status: false,\r\n            count: 0\r\n        }\r\n\r\n    }\r\n    detailBand = (props) => {\r\n        return (\r\n            <Row bsPrefix=\"margin_class\">\r\n                <Col md={12}>\r\n                    {this.props.hasChild && this.props.needSubSample ?\r\n                        <SimpleGridWithSelection\r\n                            ref={foo1 => this.foo1 = foo1}\r\n                            //handleChange={this.expandData.bind(this)}\r\n                            extractedColumnList={this.props.childColumnList}\r\n                            dataState={this.props.dataState}\r\n                            childList={props.dataItem ? this.props.childList[(props.dataItem[this.props.childMappingField])] || []\r\n                                : this.props.childList[(props[this.props.childMappingField])] || []}\r\n                            childDataResult={this.props.childDataResult}\r\n                            childSelectionChange={this.props.childSelectionChange}\r\n                            headerSelectionChange={this.props.childHeaderSelectionChange}\r\n                            selectAll={this.props.childSelectAll}\r\n                            hasSubChild={this.props.hasSubChild}\r\n                            subChildDataResult={this.props.subChildDataResult && this.props.subChildDataResult || []}\r\n                            subChildColumnList={this.props.subChildColumnList}\r\n                            expandField=\"expanded\"\r\n                            childHandleExpandChange={this.props.childHandleExpandChange}\r\n                            subChildSelectionChange={this.props.subChildSelectionChange}\r\n                            subChildList={this.props.subChildList || []}\r\n                            subChildMappingField={this.props.subChildMappingField}\r\n                            subChildHeaderSelectionChange={this.props.subChildHeaderSelectionChange}\r\n                            subChildSelectAll={this.props.subChildSelectAll}\r\n                            selectedsubcild={this.props.selectedsubcild}\r\n                        />\r\n                        : this.props.hasSubChild?\r\n                        <SingleSelectionDataGrid\r\n                            hasSubChild={this.props.hasSubChild}\r\n                            subChildDataResult={this.props.subChildDataResult && this.props.subChildDataResult || []}\r\n                            subChildColumnList={this.props.subChildColumnList}\r\n                            subChildSelectionChange={this.props.subChildSelectionChange}\r\n                            subChildList={props.dataItem ? this.props.subChildList[(props.dataItem[this.props.subChildMappingField])] || []\r\n                                : this.props.subChildList[(props[this.props.subChildMappingField])] || []}\r\n                            subChildHeaderSelectionChange={this.props.subChildHeaderSelectionChange}\r\n                            subChildSelectAll={this.props.subChildSelectAll}\r\n                            selectedsubcild={this.props.selectedsubcild}\r\n                            subChildMappingField={this.props.subChildMappingField}\r\n                            extractedColumnList={this.props.subChildColumnList}\r\n\r\n\r\n\r\n                        />:\"\"}\r\n                </Col> </Row>\r\n        )\r\n    }\r\n    expandChange = (event) => {\r\n        let arrayfalse = []\r\n        let change = []\r\n\r\n        const isExpanded =\r\n            event.dataItem.expanded === undefined ?\r\n                event.dataItem.aggregates : event.dataItem.expanded;\r\n\r\n        if (this.props.hasChild && event.value === true) {\r\n            event.dataItem.expanded = !isExpanded;\r\n\r\n            Object.values(this.props.childList).forEach(item => {\r\n                item.map(item1 => {\r\n                    item1['expanded'] = true\r\n                })\r\n            })\r\n        }\r\n        else {\r\n            event.dataItem.expanded = !isExpanded;\r\n            arrayfalse.push(event.dataItem)\r\n            change = false\r\n            this.setState({ isExpanded, arrayfalse });\r\n        }\r\n        let parentData =\r\n            this.props.dataResult.data ? this.props.dataResult.data.every(item => {\r\n                return item.expanded === true\r\n            }) : this.props.dataResult.every(item => {\r\n                return item.expanded === true\r\n            })\r\n\r\n        if (parentData === true) {\r\n            change = true\r\n        }\r\n        else {\r\n            change = false\r\n        }\r\n        this.props.expandFunc({ change: change });\r\n\r\n\r\n    }\r\n\r\n    columnProps(field) {\r\n        if (!this.props.hideColumnFilter) {\r\n            return {\r\n                field: field,\r\n                columnMenu: ColumnMenu,\r\n                headerClassName: this.isColumnActive(field, this.props.dataState) ? 'active' : ''\r\n            };\r\n        }\r\n    }\r\n\r\n    isColumnActive(field, dataState) {\r\n        return GridColumnMenuFilter.active(field, dataState.filter)\r\n    }\r\n    expandData() {\r\n        let change = []\r\n        if (this.props.Login.checkFlag === undefined || this.props.Login.checkFlag === \"1\"\r\n            //|| this.props.Login.count === 0\r\n        ) {\r\n\r\n            let data = this.props.dataResult.data.every(item => {\r\n                return item.expanded === true\r\n            })\r\n            if (data === false) {\r\n                this.props.dataResult.data.map((item, i) => {\r\n                    if ((item['expanded'] === undefined) || (item['expanded'] !== true)) {\r\n                        item['expanded'] = true\r\n                        if (this.props.childList[(item[this.props.childMappingField])] != undefined) {\r\n                            this.props.childList[(item[this.props.childMappingField])].map((item1, x) => {\r\n                                this.props.childList[(item[this.props.childMappingField])][x]['expanded'] = true\r\n                            })\r\n                        }\r\n                        change = true\r\n                    }\r\n                })\r\n            }\r\n            else {\r\n                if (this.state.arrayfalse && this.state.arrayfalse.length !== 0 && this.props.Login.change === false) {\r\n                    this.state.arrayfalse.map(item => {\r\n                        item['expanded'] = true\r\n\r\n                        change = true\r\n\r\n                    })\r\n                }\r\n                else {\r\n                    this.props.dataResult.data.map((item, i) => {\r\n                        item['expanded'] = false\r\n                        if (this.props.childList[(item[this.props.childMappingField])] != undefined) {\r\n\r\n                            this.props.childList[(item[this.props.childMappingField])].map((item1, x) => {\r\n                                this.props.childList[(item[this.props.childMappingField])][x]['expanded'] = false\r\n                            })\r\n                        }\r\n                        change = false\r\n                    })\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (this.props.Login.childfalsearray && this.props.Login.childfalsearray !== 0) {\r\n                this.props.Login.childfalsearray.map(item =>\r\n                    item['expanded'] = true\r\n\r\n                )\r\n                change = true\r\n\r\n            }\r\n            if (this.state.arrayfalse && this.state.arrayfalse.length !== 0 && this.props.Login.change === false) {\r\n                this.state.arrayfalse.map(item => {\r\n                    item['expanded'] = true\r\n                    change = true\r\n\r\n                })\r\n            }\r\n        }\r\n        // if (this.props.Login.count === 0) {\r\n        //  change=true        }\r\n        this.props.expandFunc({ change: change })\r\n    }\r\n\r\n    allData = (props) => {\r\n        props.map(item => {\r\n\r\n        })\r\n    }\r\n    render() {\r\n        console.log(\"selectiongrid\", this.props.subChildList)\r\n        console.log(\"selectiongrid1\", this.props)\r\n\r\n\r\n        const methodUrl = this.props.methodUrl ? this.props.methodUrl : (this.props.inputParam && this.props.inputParam.methodUrl);\r\n        const regenerateId = this.props.controlMap && this.props.controlMap.has(\"RegenerateReleaseFile\")\r\n            && this.props.controlMap.get(\"RegenerateReleaseFile\").ncontrolcode;\r\n            const downloadId = this.props.controlMap && this.props.controlMap.has(\"DownloadReleaseFile\")\r\n            && this.props.controlMap.get(\"DownloadReleaseFile\").ncontrolcode;\r\n        const releaseId = this.props.controlMap && this.props.controlMap.has(\"COA\".concat(methodUrl))\r\n            && this.props.controlMap.get(\"COA\".concat(methodUrl)).ncontrolcode;\r\n        const expandId = this.props.controlMap && this.props.controlMap.has(\"ReleaseExpand\")\r\n            && this.props.controlMap.get(\"ReleaseExpand\").ncontrolcode;\r\n        const collapseId = this.props.controlMap && this.props.controlMap.has(\"ReleaseCollapse\")\r\n            && this.props.controlMap.get(\"ReleaseCollapse\").ncontrolcode;\r\n        const pageSizes = this.props.pageSizes ? this.props.pageSizes : this.props.Login.settings && this.props.Login.settings[15].split(\",\").map(setting => parseInt(setting))\r\n        return (\r\n            <>\r\n                {/* <ReactTooltip place=\"bottom\" id=\"tooltip-grid-wrap\" globalEventOff='click' /> */}\r\n                <AtTableWrap className=\"at-list-table\" actionColWidth={this.props.actionColWidth ? this.props.actionColWidth : \"150px\"} >\r\n                    <LocalizationProvider language=\"lang\">\r\n\r\n                        <Grid ref={foo => this.foo = foo}\r\n                            className={((this.props.dataResult && this.props.dataResult.length > 0) || (this.props.extractedColumnList && this.props.extractedColumnList.length > 0)) ? \"active-paging\" : \"no-paging\"}\r\n                            style={{ height: this.props.gridHeight, width: this.props.gridWidth }}\r\n                            sortable\r\n                            resizable\r\n                            reorderable={false}\r\n                            scrollable={this.props.scrollable}\r\n                            pageable={this.props.pageable ? { buttonCount: 5, pageSizes: pageSizes, previousNext: false } : \"\"}\r\n                            groupable={this.props.groupable ? true : false}\r\n                            detail={this.props.hideDetailBand ? false : this.detailBand}\r\n                            expandField={this.props.expandField}\r\n                            onExpandChange={this.expandChange}\r\n                            data={this.props.dataResult}\r\n                            total={this.props.total}\r\n                            {...this.props.dataState}\r\n                            selectedField=\"selected\"\r\n                            onRowClick={this.props.handleRowClick}\r\n                            onSelectionChange={this.props.selectionChange}\r\n                            onHeaderSelectionChange={this.props.headerSelectionChange}\r\n                            onDataStateChange={this.props.dataStateChange}\r\n                            selectable={{\r\n                                enabled: true,\r\n                                drag: false,\r\n                                cell: false,\r\n                                mode: 'multiple'\r\n                            }}\r\n                        >\r\n                            <GridNoRecords>\r\n                                {this.props.intl.formatMessage({ id: \"IDS_NORECORDSAVAILABLE\" })}\r\n                            </GridNoRecords>\r\n                            {this.props.isToolBarRequired ?\r\n                                <GridToolbar>\r\n                                    {/* {this.props.isExpandRequired === true ?\r\n\r\n                                        <Nav.Link className=\"p-0\" name=\"gridexpand\" onClick={() => this.expandData()}>\r\n                                            {this.props.intl.formatMessage({\r\n                                                id: this.props.Login.change ? \"IDS_COLLAPSE\" : \"IDS_EXPAND\"\r\n\r\n                                            })}\r\n                                        </Nav.Link>\r\n\r\n                                        : \"\"} */}\r\n                                    {this.props.isExpandRequired === true ?\r\n                                        <button className=\"btn btn-primary btn-padd-custom\" href=\"#\" style={{marginRight:\"8px\"}}\r\n                                            //    data-for=\"tooltip_list_wrap\"\r\n                                            onClick={() => this.expandData()} >\r\n\r\n                                            {this.props.intl.formatMessage({\r\n                                                id: this.props.Login.change ? \"IDS_COLLAPSE\" : \"IDS_EXPAND\"\r\n\r\n                                            })}                                                                </button>\r\n                                        : \"\"}\r\n                                         {this.props.isDownloadRequired === true ?\r\n                                        <button className=\"btn btn-primary btn-padd-custom\" href=\"#\" style={{marginRight:\"8px\"}}\r\n                                            //    data-for=\"tooltip_list_wrap\"\r\n                                            onClick={() => this.downloadData()} >\r\n\r\n                                            {/*this.props.intl.formatMessage({\r\n                                                id: this.props.Login.change ? \"IDS_COLLAPSE\" : \"IDS_EXPAND\"\r\n\r\n                                            })*/}\r\n                                            {this.props.intl.formatMessage({\r\n                                                id: \"IDS_DOWNLOADFILE\"\r\n\r\n                                            })}                                                                </button>\r\n                                        : \"\"}\r\n                                    {this.props.isReleaseRequired === false ? \"\" :\r\n                                        <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" variant=\"link\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_RELEASE\" })}\r\n                                            data-for=\"tooltip-grid-wrap\"\r\n                                            hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(releaseId) === -1}\r\n                                            onClick={() => this.props.releaseRecord({userInfo:this.props.userInfo})}>\r\n                                            <FontAwesomeIcon icon={faRocket} />\r\n                                        </Button>\r\n                                    }\r\n                                    {this.props.isRefreshRequired === false ? \"\" :\r\n                                        <Button className=\"btn btn-circle outline-grey\" variant=\"link\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}\r\n                                            data-for=\"tooltip-grid-wrap\"\r\n                                            onClick={() => this.props.reloadData()}>\r\n                                            <FontAwesomeIcon icon={faSync} />\r\n                                        </Button>\r\n                                    }\r\n                                </GridToolbar>\r\n                                : \"\"}\r\n                            {this.props.isCheckBoxRequired === true ?  \r\n                                <Column\r\n\r\n                                    field=\"selected\"\r\n                                    //    width=\"45px\"\r\n                                    title={this.props.title}\r\n                                    //    headerSelectionValue={false}\r\n                                    headerSelectionValue={this.props.dataResult.data && this.props.dataResult.data.length === 0 ? false : this.props.dataResult.data && this.props.dataResult.data.every((data) => {\r\n                                        return data.selected === true\r\n                                    }) ? true : false} />\r\n                                :\"\"\r\n                            \r\n                            }\r\n\r\n                            {this.props.extractedColumnList.map((item, index) =>\r\n                                <Column key={index}\r\n                                    title={this.props.intl.formatMessage({ id: item.idsName })}\r\n                                    //  {...this.columnProps(item.dataField)}\r\n                                    width={item.width}\r\n                                    cell={(row) => (\r\n                                        <td data-tip={row[\"dataItem\"][item.dataField]}>\r\n                                            {item.isIdsField ?\r\n                                                <FormattedMessage id={row[\"dataItem\"][item.dataField]} defaultMessage={row[\"dataItem\"][item.dataField]} />\r\n                                                : row[\"dataItem\"][item.dataField]}\r\n                                        </td>\r\n                                    )} />\r\n                            )}\r\n\r\n                                {this.props.isActionRequired ?\r\n                                    <GridColumn\r\n                                        locked\r\n                                        headerClassName=\"text-center\"\r\n                                        title={this.props.intl.formatMessage({ id: 'IDS_ACTION' })}\r\n                                        sort={false}\r\n                                        cell={(row) => (\r\n\r\n                                            row.rowType === \"groupHeader\" ? null :\r\n                                                <td className={`k-grid-content-sticky k-command-cell selectedId === row[\"dataItem\"][this.props.primaryKeyField] ? 'active' : ''`} style={{ left: '0', right: '0', borderRightWidth: '1px', textAlign: 'center' }}>\r\n                                                    <>\r\n                                                        <Nav.Link> \r\n                                                            <FontIconWrap className=\"d-font-icon action-icons-wrap\"\r\n                                                                //hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(downloadId) === -1}\r\n                                                                onClick={() => this.props.viewDownloadFile({ ...this.props.masterdata, ...this.props.downloadParam, inputData: { ...row[\"dataItem\"], userinfo: this.props.Login.userInfo }, userinfo: this.props.Login.userInfo, ncontrolCode: downloadId }, row)}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_PREVIEW\" })} data-place=\"left\"\r\n                                                              //  data-for=\"tooltip-grid-wrap\"\r\n                                                            >\r\n                                                                <FontAwesomeIcon icon={faCloudDownloadAlt}  \r\n                                                                />\r\n                                                            </FontIconWrap>   \r\n                                                            <FontIconWrap className=\"d-font-icon action-icons-wrap\"\r\n                                                               hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(regenerateId) === -1}\r\n                                                                onClick={() => this.props.regnerateFile({ ...this.props.masterdata, ...this.props.downloadParam, inputData: { ...row[\"dataItem\"], userinfo: this.props.Login.userInfo }, userinfo: this.props.Login.userInfo, ncontrolCode: downloadId }, row)}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_REGENERATEFILE\" })} data-place=\"left\"\r\n                                                              //  data-for=\"tooltip-grid-wrap\"\r\n                                                            >\r\n                                                                <FontAwesomeIcon icon={faRecycle}  \r\n                                                                />\r\n                                                            </FontIconWrap>     \r\n                                                        </Nav.Link>\r\n                                                    </>\r\n\r\n                                                </td>\r\n                                        )}\r\n                                    /> : \"\"}\r\n                        </Grid>\r\n                    </LocalizationProvider >\r\n\r\n                </AtTableWrap >\r\n            </>\r\n        );\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        ReactTooltip.rebuild();\r\n    }\r\n    downloadData(){\r\n        let sfileurl = fileViewUrl() + this.props.Login.sfilepath;\r\n        console.log(sfileurl);\r\n        //ncoahistorycode, \r\n        let filedata = {\r\n            ncoahistorycode : this.props.Login.ncoahistorycode,\r\n            ssystemfilename : this.props.Login.ssystemfilename\r\n        }\r\n        this.viewCOAHistoryFile(filedata);\r\n        //this.handleDownload(sfileurl, this.props.Login.sfilepath)\r\n        //this.pdfDownload(sfileurl)\r\n    }\r\n    viewCOAHistoryFile = (filedata) => {\r\n        const inputParam = {\r\n            inputData: {\r\n                COAHistoryFile: filedata,\r\n                userinfo: this.props.userInfo\r\n            },\r\n            classUrl: \"coarelease\",\r\n            operation: \"view\",\r\n            methodUrl: \"AttachedCOAHistoryFile\",\r\n            screenName: \"IDS_TEST\"\r\n        }\r\n        this.props.viewAttachment(inputParam);\r\n    }\r\n    /*pdfDownload = (id) => {\r\n        axios({\r\n            url: id,\r\n            method: 'GET',\r\n            responseType: 'blob', // important\r\n          }).then((response) => {\r\n            const url = window.URL.createObjectURL(response.data));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', 'file.pdf');\r\n            document.body.appendChild(link);\r\n            link.click();\r\n          });\r\n    };*/\r\n/*\r\n    handleDownload = (url, filename) => {\r\n        Axios.get(url, {\r\n          responseType: 'blob',\r\n        })\r\n        .then((res) => {\r\n          js-file-downloa(res.data, filename)\r\n        })\r\n      }*/\r\n}\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, { updateStore,viewAttachment })(injectIntl(DataGridWithMultipleGrid));"]},"metadata":{},"sourceType":"module"}