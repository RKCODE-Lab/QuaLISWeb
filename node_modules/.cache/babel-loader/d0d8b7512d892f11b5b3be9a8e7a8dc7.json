{"ast":null,"code":"import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{injectIntl}from'react-intl';import{Button,Col,Row,Card,Nav}from'react-bootstrap';import{toast}from'react-toastify';import SplitterLayout from\"react-splitter-layout\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlus,faPencilAlt,faTrashAlt,faCheckCircle,faCopy,faPalette}from'@fortawesome/free-solid-svg-icons';import{process}from'@progress/kendo-data-query';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import{ListWrapper}from'../../components/client-group.styles';import{ContentPanel}from'../../components/App.styles';import{SampleType,transactionStatus,attachmentType}from'../../components/Enumeration';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import CustomPopOver from'../../components/customPopover';import CustomTabs from'../../components/custom-tabs/custom-tabs.component';import TransactionListMasterJsonView from'../../components/TransactionListMasterJsonView';import{constructOptionList,getControlMap,comboChild,deleteAttachmentDropZone,showEsign,convertDateTimetoStringDBFormat,onDropAttachFileList,create_UUID,Lims_JSON_stringify,getSameRecordFromTwoArrays,sortData}from'../../components/CommonScript';import{ReactComponent as RefreshIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/refresh.svg\";import{ReactComponent as Reject}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/reject.svg\";import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{ProductList}from'../testmanagement/testmaster-styled';import DynamicSlideout from'../dynamicpreregdesign/DynamicSlideout';import Esign from'../audittrail/Esign';import{updateStore,callService,crudMaster,getProtocolTemplateByConfigVersion,ProtocolFilterSubmit,getPreviewTemplate,getProtocolDetail,addProtocolFile,viewAttachment,getChildValues,validateEsignforProtocol,completeProtocolAction,dynamicAction,getEditComboService,updateProtocolAction,rejectProtocolAction,copyProtocolAction,insertProtocolAction,filterTransactionList,getProduct}from'../../actions';import ProtocolFilter from'./ProtocolFilter';import ProtocolFileTab from'./ProtocolFileTab';import AddProtocolFile from'./AddProtocolFile';import CopyProtocol from'./CopyProtocol';import ProtocolHistoryTab from'./ProtocolHistoryTab';import ProtocolView from'./ProtocolView';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var Protocol=/*#__PURE__*/function(_React$Component){_inherits(Protocol,_React$Component);var _super=_createSuper(Protocol);function Protocol(_props){var _this;_classCallCheck(this,Protocol);_this=_super.call(this,_props);_this.onFilterComboChange=function(comboData,fieldName){if(comboData){var inputParamData={};if(fieldName==='napprovalconfigversioncode'){if(comboData.value!==_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode){inputParamData={napprovalconfigversioncode:comboData.value,nFilterFlag:true,userinfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,defaultApprovalVersionValue:comboData.item};_this.props.getProtocolTemplateByConfigVersion(inputParamData);}}else if(fieldName==='ndesigntemplatemappingcode'){if(comboData.value!==_this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode){var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultDesignTemplateMappingValue:comboData.item});var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:masterData}};_this.props.updateStore(updateInfo);}}else if(fieldName==='ntransactionstatus'){if(comboData.value!==_this.props.Login.masterData.defaultStatusValue.ntransactionstatus){var _masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultStatusValue:comboData.item});var _updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_masterData}};_this.props.updateStore(_updateInfo);}}}};_this.onFilterSubmit=function(){var realApprovalVersionValue=_this.props.Login.masterData.defaultApprovalVersionValue;var realDesignTemplateMappingValue=_this.props.Login.masterData.defaultDesignTemplateMappingValue;var realStatusValue=_this.props.Login.masterData.defaultStatusValue;var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realApprovalVersionValue:realApprovalVersionValue,realDesignTemplateMappingValue:realDesignTemplateMappingValue,realStatusValue:realStatusValue});var inputData={napprovalconfigversioncode:_this.props.Login.masterData.defaultApprovalVersionValue&&_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode&&parseInt(_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode)||-1,ndesigntemplatemappingcode:_this.props.Login.masterData.defaultDesignTemplateMappingValue&&_this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode&&parseInt(_this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode)||-1,ntranscode:_this.props.Login.masterData.defaultStatusValue&&_this.props.Login.masterData.defaultStatusValue.ntransactionstatus||-1,userinfo:_this.props.Login.userInfo};if(inputData.napprovalconfigversioncode!==-1&&inputData.ndesigntemplatemappingcode!==-1&&inputData.ntransactionstatus!==-1){var inputParam={masterData:masterData,inputData:inputData,protocolSkip:_this.state.protocolSkip,protocolTake:_this.state.protocolTake,searchRef:_this.searchRef};_this.props.ProtocolFilterSubmit(inputParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTALLVALUESINFILTER\"}));}};_this.reloadData=function(){_this.searchRef.current.value=\"\";var realApprovalVersionValue=_this.props.Login.masterData.defaultApprovalVersionValue;var realDesignTemplateMappingValue=_this.props.Login.masterData.defaultDesignTemplateMappingValue;var realStatusValue=_this.props.Login.masterData.defaultStatusValue;var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realApprovalVersionValue:realApprovalVersionValue,realDesignTemplateMappingValue:realDesignTemplateMappingValue,realStatusValue:realStatusValue});var inputData={napprovalconfigversioncode:_this.props.Login.masterData.defaultApprovalVersionValue&&_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode&&parseInt(_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode)||-1,ndesigntemplatemappingcode:_this.props.Login.masterData.defaultDesignTemplateMappingValue&&_this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode&&parseInt(_this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode)||-1,ntranscode:_this.props.Login.masterData.defaultStatusValue&&_this.props.Login.masterData.defaultStatusValue.ntransactionstatus||-1,userinfo:_this.props.Login.userInfo};var inputParam={masterData:masterData,inputData:inputData,protocolSkip:_this.state.protocolSkip,protocolTake:_this.state.protocolTake,searchRef:_this.searchRef};_this.props.ProtocolFilterSubmit(inputParam);};_this.getProtocolComboService=function(protocolAddParam){var screenName=protocolAddParam.screenName;var operation=protocolAddParam.operation;var masterData=protocolAddParam.masterData;var selectedRecord=protocolAddParam.selectedRecord;var userInfo=protocolAddParam.userInfo;var controlCode=protocolAddParam.ncontrolCode;var importData;var data=[];var withoutCombocomponent=[];var mandatoryProtocolFields=[];var Layout=_this.props.Login.masterData.dynamicDesignMapping&&_this.props.Login.masterData.dynamicDesignMapping[0].jsondata;var templateStatus=_this.props.Login.masterData.dynamicDesignMapping&&_this.props.Login.masterData.dynamicDesignMapping[0].ntransactionstatus;if(Layout!==undefined&&Layout!==null){if(templateStatus==transactionStatus.RETIRED){toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTAPPROVEDDESIGNTEMPLATE\"}));}else{Layout.map(function(row){row.children.map(function(column){column.children.map(function(component){if(component.hasOwnProperty(\"children\")){component.children.map(function(componentrow){if(componentrow.inputtype===\"combo\"||componentrow.inputtype===\"backendsearchfilter\"||componentrow.inputtype===\"frontendsearchfilter\"){data.push(componentrow);}else{withoutCombocomponent.push(componentrow);}if(componentrow.mandatory===true){mandatoryProtocolFields.push({\"mandatory\":true,\"idsName\":componentrow.label,\"dataField\":componentrow.label,\"mandatoryLabel\":componentrow.inputtype===\"combo\"?\"IDS_SELECT\":\"IDS_ENTER\",\"controlType\":componentrow.inputtype===\"combo\"?\"selectbox\":\"textbox\"});}});}else{component.inputtype===\"combo\"||component.inputtype===\"backendsearchfilter\"||component.inputtype===\"frontendsearchfilter\"?data.push(component):withoutCombocomponent.push(component);if(component.mandatory===true){mandatoryProtocolFields.push({\"mandatory\":true,\"idsName\":component.label,\"dataField\":component.label,\"mandatoryLabel\":component.inputtype===\"combo\"?\"IDS_SELECT\":\"IDS_ENTER\",\"controlType\":component.inputtype===\"combo\"?\"selectbox\":\"textbox\"});}}});_this.setState({mandatoryProtocolFields:mandatoryProtocolFields});});});var comboComponents=data;var childColumnList={};data.map(function(columnList){var val=comboChild(data,columnList,childColumnList,true);data=val.data;childColumnList=val.childColumnList;return null;});var mapOfFilterRegData={nsampletypecode:parseInt(SampleType.PROTOCOL)};_this.props.getPreviewTemplate(masterData,userInfo,controlCode,data,selectedRecord,childColumnList,comboComponents,withoutCombocomponent,false,true,mapOfFilterRegData,false,operation,screenName,importData);}}else{// ALPD-5466 - Gowtham R - 20/02/2025 - Protocol-->While Add the Protocol IDS Alert Popup Shown\ntoast.warn(_this.props.intl.formatMessage({id:\"IDS_CONFIGUREPROTOCOLTEMPLATE\"}));}};_this.getEditProtocolComboService=function(protocolEditParam){protocolEditParam[\"toedit\"]=_this.props.Login.masterData.selectedProtocol[0];var data=[];var editablecombo=[];var withoutCombocomponent=[];var Layout=_this.props.Login.masterData.dynamicDesignMapping&&_this.props.Login.masterData.dynamicDesignMapping[0].jsondata;if(Layout!==undefined){Layout.map(function(row){return row.children.map(function(column){return column.children.map(function(component){if(component.hasOwnProperty(\"children\")){component.children.map(function(componentrow){if(componentrow.inputtype===\"combo\"){data.push(componentrow);}else{withoutCombocomponent.push(componentrow);}if(componentrow.inputtype===\"combo\"&&componentrow.iseditablereadonly&&componentrow.iseditablereadonly===true){editablecombo.push(componentrow);}return null;});}else{if(component.inputtype===\"combo\"&&component.iseditablereadonly&&component.iseditablereadonly===true){editablecombo.push(component);}else if(component.inputtype===\"combo\"){data.push(component);}else{withoutCombocomponent.push(component);}}});});});var comboComponents=data;var childColumnList={};data.map(function(columnList){var val=comboChild(data,columnList,childColumnList,true);data=val.data;childColumnList=val.childColumnList;return null;});_this.props.getEditComboService(protocolEditParam,data,_this.state.selectedRecord,childColumnList,comboComponents,withoutCombocomponent,editablecombo);}else{// ALPD-5466 - Gowtham R - 20/02/2025 - Protocol-->While Add the Protocol IDS Alert Popup Shown\ntoast.warn(_this.props.intl.formatMessage({id:\"IDS_CONFIGUREPROTOCOLTEMPLATE\"}));}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var openChildModal=_this.props.Login.openChildModal;var screenName=_this.props.Login.screenName;var operation=_this.props.Login.operation;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"complete\"||_this.props.Login.operation===\"dynamicAction\"||_this.props.Login.operation===\"reject\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";}}else{openModal=false;openChildModal=false;selectedRecord={};screenName=\"\";operation=\"\";}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,openChildModal:openChildModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null,screenName:screenName,operation:operation}};_this.props.updateStore(updateInfo);};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignforProtocol(inputParam,\"openModal\");};_this.dynamicHandleDateChange=function(dateValue,dateName){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.onDynamicComboChange=function(comboData,control,customName){var selectedRecord=_this.state.selectedRecord||{};var comboName=customName||control.label;if(comboData){comboData[\"item\"]=_objectSpread(_objectSpread({},comboData[\"item\"]),{},{\"pkey\":control.valuemember,\"nquerybuildertablecode\":control.nquerybuildertablecode,source:control.source});selectedRecord[comboName]=comboData;}else{selectedRecord[comboName]=[];}var inputParam={child:control.child,source:control.source,primarykeyField:control.valuemember,value:comboData?comboData.value:-1,item:comboData?comboData.item:\"\",label:comboData?comboName:\"\",nameofdefaultcomp:control.name,screenName:\"IDS_PROTOCOL\"};if(comboData){var parentList=[];var childComboList=[];var childColumnList={};var product=false;var productCategory=false;var nproductcatcode=-1;var nproductcode=-1;if(control.name==='Product Category'){var Product=_this.props.Login.comboComponents.filter(function(x){return x.name===\"Product\";});nproductcatcode=selectedRecord[control.label]&&selectedRecord[control.label]['value'];}if(control.child&&control.child.length>0){childComboList=getSameRecordFromTwoArrays(_this.props.Login.comboComponents,control.child,\"label\");childColumnList={};childComboList.map(function(columnList){var val=comboChild(_this.props.Login.comboComponents,columnList,childColumnList,false);childColumnList=val.childColumnList;return null;});parentList=getSameRecordFromTwoArrays(_this.props.Login.withoutCombocomponent,control.child,\"label\");var mapOfFilter={nproductcode:nproductcode,nproductcatcode:nproductcatcode,nsampletypecode:-1,nprojectmastercode:-1,nprojectSpecReqd:-1,nneedsubsample:transactionStatus.NO,nportalrequired:-1,ntestgroupspecrequired:transactionStatus.NO};_this.props.getChildValues(inputParam,_this.props.Login.userInfo,selectedRecord,_this.props.Login.comboData,childComboList,childColumnList,_this.props.withoutCombocomponent,[].concat(_toConsumableArray(childComboList),_toConsumableArray(parentList)),productCategory,product,mapOfFilter,false,false,false,false,false,undefined,false,_this.props.Login.comboComponents);}else{var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:selectedRecord,loadCustomSearchFilter:false}};_this.props.updateStore(updateInfo);}}};_this.onNumericInputOnChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.onNumericBlur=function(control){var selectedRecord=_this.state.selectedRecord;if(selectedRecord[control.label]){if(control.max){if(!(selectedRecord[control.label]<parseFloat(control.max))){selectedRecord[control.label]=control.precision?parseFloat(control.max):parseInt(control.max);}}if(control.min){if(!(selectedRecord[control.label]>parseFloat(control.min))){selectedRecord[control.label]=control.precision?parseFloat(control.min):parseInt(control.min);}}}_this.setState({selectedRecord:selectedRecord});};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;}}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{if(event.target.value!==\"\"){selectedRecord[event.target.name]=event.target.value!==\"\"?event.target.value:selectedRecord[event.target.name];}else{selectedRecord[event.target.name]=event.target.value;}}_this.setState({selectedRecord:selectedRecord});};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};if(fieldName===\"nproductcatcode\"){selectedRecord[\"nproductcatcode\"]=comboData;_this.props.getProduct(_this.state.selectedRecord.nproductcatcode.value,_this.props.Login.userInfo,selectedRecord);}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"});};_this.onDropFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.onDropProtocolFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var inputValues={statusValue:_this.props.Login.masterData.realStatusValue||{},defaultStatusValue:_this.props.Login.masterData.realStatusValue||{},configVersionValue:_this.props.Login.masterData.realApprovalVersionValue||{},defaultApprovalVersionValue:_this.props.Login.masterData.realApprovalVersionValue||{},dynamicDesignMappingValue:_this.props.Login.masterData.realDesignTemplateMappingValue||{},defaultDesignTemplateMappingValue:_this.props.Login.masterData.realDesignTemplateMappingValue||{}};var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),inputValues)}};_this.props.updateStore(updateInfo);};_this.onSaveClick=function(saveType,formRef){if(_this.props.Login.screenName===\"IDS_PROTOCOL\"&&_this.props.Login.operation===\"create\"){_this.insertProtocol(saveType,formRef);}if(_this.props.Login.screenName===\"IDS_PROTOCOL\"&&_this.props.Login.operation===\"update\"){_this.updateProtocol(saveType,formRef);}if(_this.props.Login.screenName===\"IDS_PROTOCOL\"&&_this.props.Login.operation===\"copy\"){_this.copySaveProtocol(saveType,formRef);}if(_this.props.Login.screenName===\"IDS_PROTOCOLFILE\"){_this.insertProtocolFile(saveType,formRef);}};_this.insertProtocol=function(saveType,formRef){var Map={};var isFileupload=false;Map[\"ndesigntemplatemappingcode\"]=_this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;Map[\"napprovalconfigversioncode\"]=_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;Map[\"ntranscode\"]=_this.props.Login.masterData.realStatusValue.ntransactionstatus;var param=_this.setProtocol(_this.props.Login.masterData,_this.state.selectedRecord,_this.props.Login.masterData.dynamicDesignMapping[0].jsondata,_this.props.Login.userInfo,_this.props.Login.defaultTimeZone,'create',_this.props.Login.comboComponents);Map[\"protocol\"]=param.protocol;Map[\"protocolVersion\"]=param.protocolVersion;Map[\"dateList\"]=param.dateList;Map[\"userinfo\"]=_this.props.Login.userInfo;Map[\"combinationUnique\"]=_this.state.dynamicCombinationUnique;var tempData={};var formData=new FormData();var count=0;_this.props.Login.withoutCombocomponent.map(function(item){if(item.inputtype===\"files\"){_this.state.selectedRecord[item&&item.label]&&_this.state.selectedRecord[item&&item.label].forEach(function(item1,index){var fileName=create_UUID();var splittedFileName=item1.name.split('.');var fileExtension=item1.name.split('.')[splittedFileName.length-1];var uniquefilename=fileName+'.'+fileExtension;tempData[item&&item.label+'_susername_Protocol']=_this.props.Login.userInfo.susername;tempData[item&&item.label+'_suserrolename_Protocol']=_this.props.Login.userInfo.suserrolename;tempData[item&&item.label+'_nfilesize_Protocol']=item1.size;tempData[item&&item.label+'_ssystemfilename_Protocol']=uniquefilename;tempData[item&&item.label]=Lims_JSON_stringify(item1.name.trim(),false);formData.append(\"uploadedFile\"+count,item1);formData.append(\"uniquefilename\"+count,uniquefilename);count++;formData.append(\"isFileEdited\",transactionStatus.YES);formData.append(\"userinfo\",JSON.stringify(_this.props.Login.userInfo));Map['isFileupload']=true;Map[\"protocolVersion\"]['jsondata']=_objectSpread(_objectSpread({},Map[\"protocolVersion\"]['jsondata']),tempData);Map[\"protocolVersion\"]['jsonuidata']=_objectSpread(_objectSpread({},Map[\"protocolVersion\"]['jsonuidata']),tempData);formData.append(\"userinfo\",JSON.stringify(_this.props.Login.userInfo));isFileupload=true;});}});formData.append(\"Map\",Lims_JSON_stringify(JSON.stringify(Map)));formData.append(\"filecount\",count);var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"Protocol\",displayName:_this.props.Login.inputParam.displayName,inputData:Map,selectedId:_this.state.selectedRecord[\"nprotocolcode\"],operation:'create',searchRef:_this.searchRef,formData:formData,isFileupload:isFileupload,postParamList:_this.postParamList};// if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: {\n//             loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\n//             openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_PROTOCOL\" }),\n//             operation: 'create', saveType, formRef,\n//         }\n//     }\n//     this.props.updateStore(updateInfo);\n// } else {\n_this.props.insertProtocolAction(inputParam,_this.props.Login.masterData,\"openModal\");//}\n};_this.updateProtocol=function(saveType,formRef){var isFileupload=false;var Map={};var dynamicValue=JSON.parse(_this.props.Login.masterData.dynamicDesign.jsondata.value);Map[\"ndesigntemplatemappingcode\"]=_this.props.Login.masterData&&_this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;Map[\"napprovalconfigversioncode\"]=_this.props.Login.masterData&&_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;Map[\"ntranscode\"]=_this.props.Login.masterData&&_this.props.Login.masterData.realStatusValue.ntransactionstatus;var param=_this.setProtocol(_this.props.Login.masterData,_this.state.selectedRecord,_this.props.Login.masterData.dynamicDesignMapping[0].jsondata,_this.props.Login.userInfo,_this.props.Login.defaultTimeZone,'update',_this.props.Login.comboComponents);Map[\"protocol\"]=param.protocol;Map[\"protocolVersion\"]=param.protocolVersion;Map[\"protocolVersion\"][\"jsonuidata\"][\"nprotocolcode\"]=String(_this.state.selectedRecord.nprotocolcode);Map[\"protocolVersion\"][\"nprotocolcode\"]=String(_this.state.selectedRecord.nprotocolcode);Map[\"protocol\"][\"nprotocolcode\"]=String(_this.state.selectedRecord.nprotocolcode);Map[\"nprotocolcode\"]=_this.state.selectedRecord.nprotocolcode;Map[\"dateList\"]=param.dateList;Map['dateConstraints']=dynamicValue.dateconstraints;Map[\"combinationUnique\"]=_this.state.dynamicCombinationUnique;Map[\"selectedProtocol\"]=_this.props.Login.masterData.selectedProtocol;Map[\"userinfo\"]=_this.props.Login.userInfo;var tempData={};var formData=new FormData();_this.props.Login.withoutCombocomponent.map(function(item){if(item.inputtype===\"files\"){if(typeof _this.state.selectedRecord[item&&item.label]===\"object\"){_this.state.selectedRecord[item&&item.label]&&_this.state.selectedRecord[item&&item.label].forEach(function(item1,index){var fileName=create_UUID();var splittedFileName=item1.name.split('.');var fileExtension=item1.name.split('.')[splittedFileName.length-1];var uniquefilename=fileName+'.'+fileExtension;tempData[item&&item.label+'_susername_Sample']=_this.props.Login.userInfo.susername;tempData[item&&item.label+'_suserrolename_Sample']=_this.props.Login.userInfo.suserrolename;tempData[item&&item.label+'_nfilesize_Sample']=item1.size;tempData[item&&item.label+'_ssystemfilename_Sample']=uniquefilename;tempData[item&&item.label]=Lims_JSON_stringify(item1.name.trim(),false);formData.append(\"uploadedFile\"+index,item1);formData.append(\"uniquefilename\"+index,uniquefilename);formData.append(\"filecount\",_this.state.selectedRecord[item&&item.label].length);formData.append(\"isFileEdited\",transactionStatus.YES);formData.append(\"userinfo\",JSON.stringify(_this.props.Login.userInfo));Map['isFileupload']=true;Map[\"protocolVersion\"]['jsondata']=_objectSpread(_objectSpread({},Map[\"protocolVersion\"]['jsondata']),tempData);Map[\"protocolVersion\"]['jsonuidata']=_objectSpread(_objectSpread({},Map[\"protocolVersion\"]['jsonuidata']),tempData);formData.append(\"userinfo\",JSON.stringify(_this.props.Login.userInfo));formData.append(\"Map\",Lims_JSON_stringify(JSON.stringify(Map)));isFileupload=true;});}}});var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"Protocol\",displayName:_this.props.Login.inputParam.displayName,inputData:Map,action:\"editprotocol\",operation:\"update\",saveType:saveType,formRef:formRef,selectedRecord:_objectSpread(_objectSpread({},_this.state.selectedRecord),{},{sloginid:_this.props.Login.userInfo.sloginid}),isFileupload:isFileupload,formData:formData};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:\"IDS_PROTOCOL\",operation:'update'}};_this.props.updateStore(updateInfo);}else{_this.props.updateProtocolAction(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.setProtocol=function(masterData,selectedRecord,templateList,userInfo,defaulttimeZone,operation,comboComponents){var protocol={};var protocolVersion={};var dateList=[];protocolVersion[\"ndesigntemplatemappingcode\"]=masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;protocolVersion[\"napproveconfversioncode\"]=masterData.realApprovalVersionValue.napprovalconfigversioncode;protocol[\"nproductcatcode\"]=selectedRecord[comboComponents[comboComponents.findIndex(function(x){return x.name==='Product Category';})]['label']]?selectedRecord[comboComponents[comboComponents.findIndex(function(x){return x.name==='Product Category';})]['label']].value:-1;protocol[\"nproductcode\"]=selectedRecord[comboComponents[comboComponents.findIndex(function(x){return x.name==='Product';})]['label']]?selectedRecord[comboComponents[comboComponents.findIndex(function(x){return x.name==='Product';})]['label']].value:-1;protocolVersion[\"sprotocolname\"]=selectedRecord[\"Protocol Name\"];protocol[\"sprotocolid\"]=\"-\";protocolVersion[\"sversion\"]=\"-\";protocolVersion[\"jsondata\"]={};protocolVersion[\"jsonuidata\"]={};templateList&&templateList.map(function(row){return row.children.map(function(column){return column.children.map(function(component){if(component.hasOwnProperty(\"children\")){return component.children.map(function(componentrow){if(componentrow.inputtype===\"combo\"||componentrow.inputtype===\"predefineddropdown\"){if(componentrow.inputtype===\"predefineddropdown\"){protocolVersion[\"jsondata\"][componentrow.label]=selectedRecord[componentrow.label]?{value:selectedRecord[componentrow.label].value,label:selectedRecord[componentrow.label].label}:-1;protocolVersion[\"jsonuidata\"][componentrow.label]=selectedRecord[componentrow.label]?selectedRecord[componentrow.label].label:\"\";}else{protocolVersion[\"jsondata\"][componentrow.label]=selectedRecord[componentrow.label]?_defineProperty({value:selectedRecord[componentrow.label].value,label:selectedRecord[componentrow.label].label,pkey:componentrow.valuemember,nquerybuildertablecode:componentrow.nquerybuildertablecode,source:componentrow.source},componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember,operation===\"update\"?selectedRecord[componentrow.label].item?selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]:selectedRecord[componentrow.label][componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]:selectedRecord[componentrow.label].item?selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]:selectedRecord[componentrow.label][componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]?selectedRecord[componentrow.label][componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]:selectedRecord[componentrow.label].vale):-1;protocolVersion[\"jsonuidata\"][componentrow.label]=selectedRecord[componentrow.label]?selectedRecord[componentrow.label].label:\"\";}}else if(componentrow.inputtype===\"date\"){if(componentrow.mandatory){protocolVersion[\"jsondata\"][componentrow.label]=typeof selectedRecord[componentrow.label]===\"object\"?convertDateTimetoStringDBFormat(selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:new Date(),userInfo):typeof selectedRecord[componentrow.label]===\"number\"?convertDateTimetoStringDBFormat(selectedRecord[componentrow.label]?new Date(selectedRecord[componentrow.label]):new Date(),userInfo):selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:\"\";protocolVersion[\"jsonuidata\"][componentrow.label]=protocolVersion[\"jsondata\"][componentrow.label];}else{protocolVersion[\"jsondata\"][componentrow.label]=componentrow.loadcurrentdate?typeof selectedRecord[componentrow.label]===\"object\"?convertDateTimetoStringDBFormat(selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:new Date(),userInfo):typeof selectedRecord[componentrow.label]===\"number\"?convertDateTimetoStringDBFormat(selectedRecord[componentrow.label]?new Date(selectedRecord[componentrow.label]):new Date(),userInfo):selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:\"\":selectedRecord[componentrow.label]?typeof selectedRecord[componentrow.label]===\"object\"?convertDateTimetoStringDBFormat(selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:new Date(),userInfo):typeof selectedRecord[componentrow.label]===\"number\"?convertDateTimetoStringDBFormat(selectedRecord[componentrow.label]?new Date(selectedRecord[componentrow.label]):new Date(),userInfo):selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:\"\":\"\";protocolVersion[\"jsonuidata\"][componentrow.label]=protocolVersion[\"jsondata\"][componentrow.label];}if(componentrow.timezone){protocolVersion[\"jsondata\"][\"tz\".concat(componentrow.label)]=selectedRecord[\"tz\".concat(componentrow.label)]?{value:selectedRecord[\"tz\".concat(componentrow.label)].value,label:selectedRecord[\"tz\".concat(componentrow.label)].label}:defaulttimeZone?defaulttimeZone:-1;protocolVersion[\"jsonuidata\"][\"tz\".concat(componentrow.label)]=protocolVersion[\"jsondata\"][\"tz\".concat(componentrow.label)];}dateList.push(componentrow.label);}else{protocolVersion[\"jsondata\"][componentrow.label]=selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:\"\";protocolVersion[\"jsonuidata\"][componentrow.label]=protocolVersion[\"jsondata\"][componentrow.label];}});return protocolVersion;}else{if(component.inputtype===\"combo\"||component.inputtype===\"predefineddropdown\"){if(component.inputtype===\"predefineddropdown\"){protocolVersion[\"jsondata\"][component.label]=selectedRecord[component.label]?{value:selectedRecord[component.label].value,label:selectedRecord[component.label].label}:-1;protocolVersion[\"jsonuidata\"][component.label]=selectedRecord[component.label]?selectedRecord[component.label].label:\"\";}else{protocolVersion[\"jsondata\"][component.label]=selectedRecord[component.label]?_defineProperty({value:selectedRecord[component.label].value,label:selectedRecord[component.label].label,pkey:component.valuemember,nquerybuildertablecode:component.nquerybuildertablecode,source:component.source},component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember,operation===\"update\"?selectedRecord[component.label].item?selectedRecord[component.label].item.jsondata[component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]:selectedRecord[component.label][component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]:selectedRecord[component.label].item?selectedRecord[component.label].item.jsondata[component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]:selectedRecord[component.label][component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]?selectedRecord[component.label][component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]:selectedRecord[component.label].value):-1;protocolVersion[\"jsonuidata\"][component.label]=selectedRecord[component.label]?selectedRecord[component.label].label:\"\";}}else if(component.inputtype===\"date\"){if(component.mandatory){console.log(typeof selectedRecord[component.label]===\"object\");protocolVersion[\"jsondata\"][component.label]=typeof selectedRecord[component.label]===\"object\"?convertDateTimetoStringDBFormat(selectedRecord[component.label]?selectedRecord[component.label]:new Date(),userInfo):typeof selectedRecord[component.label]===\"number\"?convertDateTimetoStringDBFormat(selectedRecord[component.label]?new Date(selectedRecord[component.label]):new Date(),userInfo):selectedRecord[component.label]?selectedRecord[component.label]:\"\";protocolVersion[\"jsonuidata\"][component.label]=protocolVersion[\"jsondata\"][component.label];}else{protocolVersion[\"jsondata\"][component.label]=component.loadcurrentdate?typeof selectedRecord[component.label]===\"object\"?convertDateTimetoStringDBFormat(selectedRecord[component.label]?selectedRecord[component.label]:new Date(),userInfo):typeof selectedRecord[component.label]===\"number\"?convertDateTimetoStringDBFormat(selectedRecord[component.label]?new Date(selectedRecord[component.label]):new Date(),userInfo):selectedRecord[component.label]?selectedRecord[component.label]:\"\":selectedRecord[component.label]?typeof selectedRecord[component.label]===\"object\"?convertDateTimetoStringDBFormat(selectedRecord[component.label]?selectedRecord[component.label]:new Date(),userInfo):typeof selectedRecord[component.label]===\"number\"?convertDateTimetoStringDBFormat(selectedRecord[component.label]?new Date(selectedRecord[component.label]):new Date(),userInfo):selectedRecord[component.label]?selectedRecord[component.label]:\"\":\"\";protocolVersion[\"jsonuidata\"][component.label]=protocolVersion[\"jsondata\"][component.label];}if(component.timezone){protocolVersion[\"jsondata\"][\"tz\".concat(component.label)]=selectedRecord[\"tz\".concat(component.label)]?{value:selectedRecord[\"tz\".concat(component.label)].value,label:selectedRecord[\"tz\".concat(component.label)].label}:defaulttimeZone?defaulttimeZone:-1;protocolVersion[\"jsonuidata\"][\"tz\".concat(component.label)]=protocolVersion[\"jsondata\"][\"tz\".concat(component.label)];}dateList.push(component.label);}else{protocolVersion[\"jsondata\"][component.label]=selectedRecord[component.label]?selectedRecord[component.label]:\"\";protocolVersion[\"jsonuidata\"][component.label]=protocolVersion[\"jsondata\"][component.label];}return protocolVersion;}});});});var param={protocol:protocol,protocolVersion:protocolVersion,dateList:dateList};return param;};_this.confirmDelete=function(deleteId){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteProtocol(\"delete\",deleteId);});};_this.deleteProtocol=function(operation,ncontrolCode){var inputData=[];inputData[\"ndesigntemplatemappingcode\"]=_this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;inputData[\"napprovalconfigversioncode\"]=_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;inputData[\"ntranscode\"]=_this.props.Login.masterData.realStatusValue.ntransactionstatus;inputData[\"nprotocolcode\"]=_this.props.Login.masterData.selectedProtocol[0].nprotocolcode;inputData[\"userinfo\"]=_this.props.Login.userInfo;var postParam={inputListName:\"protocol\",selectedObject:\"selectedProtocol\",primaryKeyField:\"nprotocolcode\",primaryKeyValue:_this.props.Login.masterData.selectedProtocol[0].nprotocolcode,fetchUrl:\"protocol/getActiveProtocolById\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={methodUrl:\"Protocol\",classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,operation:\"delete\",action:\"deleteprotocol\",postParam:postParam};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROTOCOL\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.completeProtocol=function(ncontrolCode,protocolSkip,protocolTake){var protocolList=[];if(_this.props.Login.masterData.searchedProtocol!==undefined){protocolList=getSameRecordFromTwoArrays(_this.props.Login.masterData.searchedProtocol,_this.props.Login.masterData.searchedProtocol.slice(protocolSkip,protocolSkip+protocolTake),\"nprotocolcode\");}else{protocolList=_this.props.Login.masterData.protocol&&_this.props.Login.masterData.protocol.slice(protocolSkip,protocolSkip+protocolTake);}var completeList=getSameRecordFromTwoArrays(protocolList||[],_this.props.Login.masterData.selectedProtocol,\"nprotocolcode\");if(completeList&&completeList.length===0){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROTOCOL\"}));// }else if(completeList && completeList.length>1){\n//     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYONEPROTOCOL\" }));\n}else if(completeList&&completeList.length===1){var _Map={};_Map[\"ndesigntemplatemappingcode\"]=_this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;_Map[\"napprovalconfigversioncode\"]=_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;_Map[\"nprotocolcode\"]=_this.props.Login.masterData.selectedProtocol[0].nprotocolcode;_Map[\"userinfo\"]=_this.props.Login.userInfo;_Map[\"masterData\"]=_this.props.Login.masterData;var postParam={inputListName:\"protocol\",selectedObject:\"selectedProtocol\",primaryKeyField:\"nprotocolcode\",primaryKeyValue:_this.props.Login.masterData.selectedProtocol[0].nprotocolcode,fetchUrl:\"protocol/getActiveProtocolById\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={methodUrl:\"Protocol\",classUrl:_this.props.Login.inputParam.classUrl,postParamList:_this.postParamList,inputData:_Map,operation:\"complete\",action:\"complete\",postParam:postParam};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROTOCOL\",operation:\"complete\"}};_this.props.updateStore(updateInfo);}else{_this.props.completeProtocolAction(inputParam,masterData,\"\");}}};_this.approveProtocol=function(status,needEsign,protocolSkip,protocolTake){var protocolList=[];if(_this.props.Login.masterData.searchedProtocol!==undefined){protocolList=getSameRecordFromTwoArrays(_this.props.Login.masterData.searchedProtocol,_this.props.Login.masterData.searchedProtocol.slice(protocolSkip,protocolSkip+protocolTake),\"nprotocolcode\");}else{protocolList=_this.props.Login.masterData.protocol&&_this.props.Login.masterData.protocol.slice(protocolSkip,protocolSkip+protocolTake);}var approveList=getSameRecordFromTwoArrays(protocolList||[],_this.props.Login.masterData.selectedProtocol,\"nprotocolcode\");if(approveList&&approveList.length===0){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROTOCOL\"}));// }else if(completeList && completeList.length>1){\n//     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYONEPROTOCOL\" }));\n}else if(approveList&&approveList.length===1){var _Map2={};_Map2[\"ndesigntemplatemappingcode\"]=_this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;_Map2[\"napprovalconfigversioncode\"]=_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;_Map2[\"nprotocolcode\"]=_this.props.Login.masterData.selectedProtocol[0].nprotocolcode;_Map2[\"userinfo\"]=_this.props.Login.userInfo;_Map2[\"masterData\"]=_this.props.Login.masterData;_Map2[\"napprovalstatus\"]=status.ntransactionstatus;var masterData=_this.props.Login.masterData;var inputParam={inputData:_Map2,classUrl:_this.props.Login.inputParam.classUrl,operation:\"dynamicAction\",methodUrl:\"Protocol\",screenName:\"IDS_PROTOCOL\",action:\"dynamicAction\"};if(needEsign===transactionStatus.YES){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROTOCOL\",operation:\"dynamicAction\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.dynamicAction(inputParam,masterData,\"openModal\",{});}}};_this.rejectProtocol=function(ncontrolCode,protocolSkip,protocolTake){var protocolList=[];if(_this.props.Login.masterData.searchedProtocol!==undefined){protocolList=getSameRecordFromTwoArrays(_this.props.Login.masterData.searchedProtocol,_this.props.Login.masterData.searchedProtocol.slice(protocolSkip,protocolSkip+protocolTake),\"nprotocolcode\");}else{protocolList=_this.props.Login.masterData.protocol&&_this.props.Login.masterData.protocol.slice(protocolSkip,protocolSkip+protocolTake);}var rejectList=getSameRecordFromTwoArrays(protocolList||[],_this.props.Login.masterData.selectedProtocol,\"nprotocolcode\");if(rejectList&&rejectList.length===0){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROTOCOL\"}));// }else if(completeList && completeList.length>1){\n//     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYONEPROTOCOL\" }));\n}else if(rejectList&&rejectList.length===1){var _Map3={};_Map3[\"ndesigntemplatemappingcode\"]=_this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;_Map3[\"napprovalconfigversioncode\"]=_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;_Map3[\"nprotocolcode\"]=_this.props.Login.masterData.selectedProtocol[0].nprotocolcode;_Map3[\"userinfo\"]=_this.props.Login.userInfo;_Map3[\"masterData\"]=_this.props.Login.masterData;var postParam={inputListName:\"protocol\",selectedObject:\"selectedProtocol\",primaryKeyField:\"nprotocolcode\",primaryKeyValue:_this.props.Login.masterData.selectedProtocol[0].nprotocolcode,fetchUrl:\"protocol/getActiveProtocolById\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={methodUrl:\"Protocol\",classUrl:_this.props.Login.inputParam.classUrl,inputData:_Map3,operation:\"reject\",postParam:postParam,action:\"reject\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROTOCOL\",operation:\"reject\"}};_this.props.updateStore(updateInfo);}else{_this.props.rejectProtocolAction(inputParam,masterData,\"\");}}};_this.copyProtocol=function(ncontrolCode,protocolSkip,protocolTake){var protocolList=[];if(_this.props.Login.masterData.searchedProtocol!==undefined){protocolList=getSameRecordFromTwoArrays(_this.props.Login.masterData.searchedProtocol,_this.props.Login.masterData.searchedProtocol.slice(protocolSkip,protocolSkip+protocolTake),\"nprotocolcode\");}else{protocolList=_this.props.Login.masterData.protocol&&_this.props.Login.masterData.protocol.slice(protocolSkip,protocolSkip+protocolTake);}var copyList=getSameRecordFromTwoArrays(protocolList||[],_this.props.Login.masterData.selectedProtocol,\"nprotocolcode\");if(copyList&&copyList.length===0){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROTOCOL\"}));// }else if(copyList && copyList.length>1){\n//     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYONEPROTOCOL\" }));\n}else if(copyList&&copyList.length===1){var _Map4={};_Map4[\"ndesigntemplatemappingcode\"]=_this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;_Map4[\"napprovalconfigversioncode\"]=_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;_Map4[\"nprotocolcode\"]=_this.props.Login.masterData.selectedProtocol[0].nprotocolcode;_Map4[\"userinfo\"]=_this.props.Login.userInfo;_Map4[\"masterData\"]=_this.props.Login.masterData;_Map4[\"operation\"]=\"copy\";_Map4[\"screenName\"]=\"IDS_PROTOCOL\";_Map4[\"ncontrolCode\"]=ncontrolCode;var inputParam={inputData:_Map4};_this.props.copyProtocolAction(inputParam);}};_this.copySaveProtocol=function(saveType,formRef){var Map={};Map[\"ndesigntemplatemappingcode\"]=_this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;Map[\"napprovalconfigversioncode\"]=_this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;Map[\"ntranscode\"]=_this.props.Login.masterData.realStatusValue.ntransactionstatus;Map[\"nprotocolcode\"]=_this.props.Login.masterData.selectedProtocol[0].nprotocolcode;Map[\"sprotocolname\"]=_this.state.selectedRecord.sprotocolname;Map[\"sprotocolid\"]=\"-\";Map[\"Sample Category\"]={\"pkey\":\"nproductcatcode\",\"label\":_this.state.selectedRecord.nproductcatcode.label,\"value\":_this.state.selectedRecord.nproductcatcode.value,\"source\":\"productcategory\",\"nproductcatcode\":_this.state.selectedRecord.nproductcatcode.value,\"nquerybuildertablecode\":\"107\"};Map[\"Sample Type\"]={\"pkey\":\"nproductcode\",\"label\":_this.state.selectedRecord.nproductcode.label,\"value\":_this.state.selectedRecord.nproductcode.value,\"source\":\"product\",\"nproductcatcode\":_this.state.selectedRecord.nproductcode.value,\"nquerybuildertablecode\":\"105\"};Map[\"userinfo\"]=_this.props.Login.userInfo;Map[\"masterData\"]=_this.props.Login.masterData;var inputParam={methodUrl:\"Protocol\",classUrl:_this.props.Login.inputParam.classUrl,inputData:Map,operation:\"copy\",action:\"copy\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:\"IDS_PROTOCOL\",operation:\"copy\",saveType:saveType,formRef:formRef}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.tabDetail=function(){var tabMap=new Map();tabMap.set(\"IDS_PROTOCOLINFORMATION\",/*#__PURE__*/React.createElement(ProtocolView,{data:_this.props.Login.masterData.selectedProtocol&&_this.props.Login.masterData.selectedProtocol.length>0?_this.props.Login.masterData.selectedProtocol[0]:{},singleItem:_this.props.Login.masterData.selectedProtocol&&_this.props.Login.masterData.selectedProtocol?_this.state.singleItem:[],screenName:\"IDS_PROTOCOLINFO\",userInfo:_this.props.Login.userInfo,viewFile:_this.viewFile}));tabMap.set(\"IDS_PROTOCOLHISTORY\",/*#__PURE__*/React.createElement(ProtocolHistoryTab,{protocolHistory:_this.props.Login.masterData.protocolHistory||[],dataResult:process(_this.props.Login.masterData.protocolHistory||[],_this.state.historyState),dataState:_this.state.historyState,dataStateChange:_this.dataStateProtocolHistoryChange,userInfo:_this.props.Login.userInfo,methodUrl:\"ProtocolHistory\",screenName:\"IDS_PROTOCOLHISTORY\",selectedId:_this.props.Login.selectedId}));tabMap.set(\"IDS_PROTOCOLFILE\",/*#__PURE__*/React.createElement(ProtocolFileTab,{controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,userInfo:_this.props.Login.userInfo,genericLabel:_this.props.Login.genericLabel,inputParam:_this.props.Login.inputParam,deleteRecord:_this.deleteFileRecord,protocolFile:_this.props.Login.masterData.protocolFile||[],getAvailableData:_this.props.getAvailableData,addProtocolFile:_this.props.addProtocolFile,viewProtocolFile:_this.viewProtocolFile,defaultRecord:_this.defaultRecord,screenName:\"IDS_PROTOCOLFILE\",settings:_this.props.Login.settings,masterData:_this.props.Login.masterData}));return tabMap;};_this.insertProtocolFile=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var napprovalconfigversioncode=_this.props.Login.masterData.defaultApprovalVersionValue&&_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode&&parseInt(_this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode)||-1;var ndesigntemplatemappingcode=_this.props.Login.masterData.defaultDesignTemplateMappingValue&&_this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode&&parseInt(_this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode)||-1;var ntranscode=_this.props.Login.masterData.defaultStatusValue&&_this.props.Login.masterData.defaultStatusValue.ntranscode||-1;var nprotocolcode=_this.props.Login.masterData.selectedProtocol[0].nprotocolcode;var protocolFileArray=[];var protocolFile={nprotocolcode:_this.props.Login.masterData.selectedProtocol[0].nprotocolcode,nprotocolversioncode:_this.props.Login.masterData.selectedProtocol[0].nprotocolversioncode,nprotocolfilecode:selectedRecord.nprotocolfilecode?selectedRecord.nprotocolfilecode:0,nstatus:transactionStatus.ACTIVE,nattachmenttypecode:nattachmenttypecode};var formData=new FormData();if(nattachmenttypecode===attachmentType.FTP){if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var tempData=Object.assign({},protocolFile);var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var ssystemfilename=selectedRecord.ssystemfilename&&selectedRecord.ssystemfilename!==undefined?selectedRecord.ssystemfilename.split('.'):create_UUID();var filesystemfileext=selectedRecord.ssystemfilename&&selectedRecord.ssystemfilename!==undefined?file.name.split('.')[ssystemfilename.length-1]:fileExtension;var uniquefilename=nattachmenttypecode===attachmentType.FTP?selectedRecord.nprotocolfilecode&&selectedRecord.nprotocolfilecode>0&&selectedRecord.ssystemfilename!==\"\"?ssystemfilename[0]+'.'+filesystemfileext:create_UUID()+'.'+fileExtension:\"\";tempData[\"sfilename\"]=Lims_JSON_stringify(file.name.trim(),false);tempData[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\",false);tempData[\"nlinkcode\"]=transactionStatus.NA;tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"nfilesize\"]=file.size;formData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);protocolFileArray.push(tempData);});formData.append(\"filecount\",acceptedFiles.length);isFileEdited=transactionStatus.YES;}else{protocolFile[\"sfilename\"]=Lims_JSON_stringify(selectedRecord.sfilename,false);protocolFile[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\",false);protocolFile[\"nlinkcode\"]=transactionStatus.NA;protocolFile[\"ssystemfilename\"]=selectedRecord.ssystemfilename;protocolFile[\"nfilesize\"]=selectedRecord.nfilesize;protocolFileArray.push(protocolFile);}}else{protocolFile[\"sfilename\"]=Lims_JSON_stringify(selectedRecord.slinkfilename.trim(),false);protocolFile[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.slinkdescription?selectedRecord.slinkdescription.trim():\"\",false);protocolFile[\"nlinkcode\"]=selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;protocolFile[\"ssystemfilename\"]=\"\";protocolFile[\"nfilesize\"]=0;protocolFileArray.push(protocolFile);}formData.append(\"isFileEdited\",isFileEdited);formData.append(\"protocolFile\",JSON.stringify(protocolFileArray));formData.append(\"napprovalconfigversioncode\",JSON.stringify(napprovalconfigversioncode));formData.append(\"ndesigntemplatemappingcode\",JSON.stringify(ndesigntemplatemappingcode));formData.append(\"ntranscode\",JSON.stringify(ntranscode));formData.append(\"nprotocolcode\",JSON.stringify(nprotocolcode));var selectedId=null;var postParam=undefined;if(_this.props.Login.operation===\"update\"){// edit\npostParam={inputListName:\"protocol\",selectedObject:\"selectedProtocol\",primaryKeyField:\"nprotocolcode\"};selectedId=selectedRecord[\"nprotocolfilecode\"];};var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sformname:Lims_JSON_stringify(_this.props.Login.userInfo.sformname),smodulename:Lims_JSON_stringify(_this.props.Login.userInfo.smodulename),slanguagename:Lims_JSON_stringify(_this.props.Login.userInfo.slanguagename)})},displayName:_this.props.Login.inputParam.displayName,formData:formData,isFileupload:true,operation:_this.props.Login.operation,classUrl:\"protocol\",action:\"editprotocolfile\",saveType:saveType,formRef:formRef,methodUrl:\"ProtocolFile\",postParam:postParam};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openChildModal\");}};_this.deleteFileRecord=function(protocolDeleteParam){var _inputData;var inputParam={};inputParam={classUrl:\"protocol\",methodUrl:protocolDeleteParam.methodUrl,inputData:(_inputData={},_defineProperty(_inputData,protocolDeleteParam.methodUrl.toLowerCase(),protocolDeleteParam.selectedRecord),_defineProperty(_inputData,\"nprotocolcode\",_this.props.Login.masterData.selectedProtocol[0].nprotocolcode),_defineProperty(_inputData,\"nprotocolfilecode\",protocolDeleteParam.selectedRecord.nprotocolfilecode),_defineProperty(_inputData,\"userinfo\",_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{slanguagename:Lims_JSON_stringify(_this.props.Login.userInfo.slanguagename)})),_inputData),operation:protocolDeleteParam.operation,dataState:_this.state.dataState,postParam:{inputListName:\"protocol\",selectedObject:\"selectedProtocol\",primaryKeyField:\"nprotocolcode\",fetchUrl:\"protocol/getActiveProtocolById\",fecthInputObject:{userinfo:_this.props.Login.userInfo}},action:\"deleteprotocolfile\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,protocolDeleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openChildModal:true,screenName:protocolDeleteParam.screenName,operation:protocolDeleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openChildModal\");}};_this.viewProtocolFile=function(props){var viewParam={operation:\"view\",methodUrl:\"ProtocolFile\",classUrl:\"protocol\",inputData:{userinfo:_this.props.Login.userInfo,nprotocolcode:props.nprotocolcode,nprotocolfilecode:props.nprotocolfilecode}};_this.props.viewAttachment(viewParam);};_this.dataStateProtocolHistoryChange=function(event){_this.setState({dataResult:process(_this.props.Login.masterData.ProtocolHistory,event.dataState),historyState:event.dataState});};_this.handleProtocolPageChange=function(e){_this.setState({protocolSkip:e.skip,protocolTake:e.take});};_this.searchRef=React.createRef();_this.formRef=React.createRef();_this.confirmMessage=new ConfirmMessage();_this.state={protocolSkip:0,protocolTake:_this.props.Login.settings&&_this.props.Login.settings[3],historyState:{skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5},userRoleControlRights:[],controlMap:new Map(),selectedRecord:{},masterStatus:\"\",error:\"\",enablePropertyPopup:false,splitChangeWidthPercentage:28.6,firstPane:0,configVersionList:[],dynamicDesignMappingList:[],statusList:[],mandatoryProtocolFields:[],singleItem:[],dynamicGridItem:[],dynamicGridMoreField:[],dynamicExportItem:[],dynamicDateField:[],dynamicTemplateField:[],dynamicDateConstraints:[],dynamicCombinationUnique:[],dynamicExportfields:[],dynamiccolumns:[],editable:[]};return _this;}_createClass(Protocol,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({firstPane:height-80,parentHeight:height-50});}}},{key:\"render\",value:function render(){var _this2=this;var actionStatus=this.props.Login.masterData.actionStatus?sortData(this.props.Login.masterData.actionStatus,'ascending','ntransactionstatus'):[];var protocolList=this.props.Login.masterData.protocol?sortData(this.props.Login.masterData.protocol,'descending','nprotocolcode'):[];var addId=this.state.controlMap.has(\"AddProtocol\")?this.state.controlMap.get(\"AddProtocol\").ncontrolcode:-1;var editId=this.state.controlMap.has(\"EditProtocol\")?this.state.controlMap.get(\"EditProtocol\").ncontrolcode:-1;var deleteId=this.state.controlMap.has(\"DeleteProtocol\")?this.state.controlMap.get(\"DeleteProtocol\").ncontrolcode:-1;var completeId=this.state.controlMap.has(\"CompleteProtocol\")?this.state.controlMap.get(\"CompleteProtocol\").ncontrolcode:-1;var approvalActionId=this.state.controlMap.has(\"ApprovalActionProtocol\")?this.state.controlMap.get(\"ApprovalActionProtocol\").ncontrolcode:-1;var copyId=this.state.controlMap.has(\"CopyProtocol\")?this.state.controlMap.get(\"CopyProtocol\").ncontrolcode:-1;var rejectId=this.state.controlMap.has(\"RejectProtocol\")?this.state.controlMap.get(\"RejectProtocol\").ncontrolcode:-1;var protocolAddParam={screenName:\"IDS_PROTOCOL\",operation:\"create\",masterData:this.props.Login.masterData,selectedRecord:this.state.selectedRecord,primaryKeyField:\"nprotocolcode\",userInfo:this.props.Login.userInfo,ncontrolCode:addId};var protocolEditParam={screenName:\"IDS_PROTOCOL\",operation:\"update\",primaryKeyField:\"nprotocolcode\",userInfo:this.props.Login.userInfo,ncontrolCode:editId,masterData:this.props.Login.masterData};var protocolDeleteParam={screenName:\"IDS_PROTOCOL\",methodUrl:\"Protocol\",operation:\"delete\",ncontrolCode:deleteId};var filterParam={inputListName:\"protocol\",selectedObject:\"selectedProtocol\",primaryKeyField:\"nprotocolcode\",fetchUrl:\"protocol/getActiveProtocolById\",fecthInputObject:{napprovalconfigversioncode:parseInt(this.props.Login.masterData.defaultApprovalVersionValue&&this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode)||-1,ndesigntemplatemappingcode:parseInt(this.props.Login.masterData.defaultDesignTemplateMappingValue&&this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode)||-1,ntranscode:this.props.Login.masterData.defaultStatusValue&&this.props.Login.masterData.defaultStatusValue.ntransactionstatus||0,userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.state.searchFields,childRefs:[]};this.postParamList=[{filteredListName:\"searchedProtocol\",clearFilter:\"no\",searchRef:this.searchRef,primaryKeyField:\"nprotocolcode\",fetchUrl:\"protocol/getActiveProtocolById\",fecthInputObject:{},childRefs:[],selectedObject:\"SelectedProtocol\",inputListName:\"protocol\",updatedListname:\"SelectedProtocol\",unchangeList:[\"realApprovalVersionValue\",\"approvalConfigVersionValue\",\"approvalConfigVersion\",\"realDesignTemplateMappingValue\",\"dynamicDesignMappingValue\",\"dynamicDesignMapping\",\"realFilterStatusValue\",\"statusValue\",\"status\"]}];var breadCrumbData=[{\"label\":\"IDS_CONFIGVERSION\",\"value\":this.props.Login.masterData.realApprovalVersionValue?this.props.Login.masterData.realApprovalVersionValue.sversionname||\"NA\":this.props.Login.masterData.configVersionValue?this.props.Login.masterData.configVersionValue.sversionname||\"NA\":\"NA\"},{\"label\":\"IDS_DESIGNTEMPLATE\",\"value\":this.props.Login.masterData.realDesignTemplateMappingValue?this.props.Login.masterData.realDesignTemplateMappingValue.sregtemplatename||\"NA\":this.props.Login.masterData.dynamicDesignMappingValue?this.props.Login.masterData.dynamicDesignMappingValue.sregtemplatename||\"NA\":\"NA\"},{\"label\":\"IDS_STATUS\",\"value\":this.props.Login.masterData.realStatusValue?this.props.Login.masterData.realStatusValue.sfilterstatus||\"NA\":this.props.Login.masterData.statusValue?this.props.Login.masterData.statusValue.sfilterstatus||\"NA\":\"NA\"}];var mandatoryFields=[];if(this.props.Login.screenName===\"IDS_PROTOCOL\"&&this.props.Login.operation===\"copy\"){mandatoryFields.push({\"idsName\":\"IDS_PROTOCOLNAME\",\"dataField\":\"sprotocolname\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});}else if(this.props.Login.screenName===\"IDS_PROTOCOLFILE\"){if(this.state.selectedRecord&&this.state.selectedRecord.nattachmenttypecode===attachmentType.LINK){mandatoryFields.push({\"idsName\":\"IDS_FILENAME\",\"dataField\":\"slinkfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"file\"},{\"idsName\":\"IDS_LINKNAME\",\"dataField\":\"nlinkcode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});}else{mandatoryFields.push({\"idsName\":\"IDS_FILE\",\"dataField\":\"sfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"});}}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap toolbar-top-wrap mtop-4 screen-height-window\"},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData}),/*#__PURE__*/React.createElement(Row,{noGutters:true,className:\"toolbar-top\"},/*#__PURE__*/React.createElement(Col,{md:12,className:\"parent-port-height\"},/*#__PURE__*/React.createElement(ListWrapper,{className:\"vertical-tab-top \".concat(this.state.enablePropertyPopup?'active-popup':\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-left-area \".concat(this.state.activeTabIndex?'active':\"\")},/*#__PURE__*/React.createElement(SplitterLayout,{borderColor:\"#999\",primaryIndex:1,percentage:true,secondaryInitialSize:this.state.splitChangeWidthPercentage,primaryMinSize:30,secondaryMinSize:20},/*#__PURE__*/React.createElement(\"div\",{className:\"toolbar-top-inner\"},/*#__PURE__*/React.createElement(TransactionListMasterJsonView,{listMasterShowIcon:1,clickIconGroup:true,splitChangeWidthPercentage:this.state.splitChangeWidthPercentage,masterList:this.props.Login.masterData.searchedProtocol||protocolList,selectedMaster:this.props.Login.masterData.selectedProtocol,primaryKeyField:\"nprotocolcode\",filterColumnData:this.props.filterTransactionList,getMasterDetail:function getMasterDetail(protocol,status){_this2.props.getProtocolDetail(_objectSpread(_objectSpread({},protocol),{},{userinfo:_this2.props.Login.userInfo,masterData:_this2.props.Login.masterData}),status);},selectionList:this.props.Login.masterData.realStatusValue&&this.props.Login.masterData.realStatusValue.ntransactionstatus===transactionStatus.ALL?this.props.Login.masterData.status:[],selectionColorField:\"scolorhexcode\",mainField:\"sprotocolid\",showStatusLink:true,showStatusName:true,statusFieldName:\"stransdisplaystatus\",statusField:\"ntransactionstatus\",selectedListName:\"selectedProtocol\",searchListName:\"searchedProtocol\",searchRef:this.searchRef,objectName:\"protocol\",listName:\"IDS_PROTOCOL\",selectionField:\"ntransactionstatus\",selectionFieldName:\"stransdisplaystatus\",showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,needFilter:true,needMultiSelect:false,showStatusBlink:true,callCloseFunction:true,handlePageChange:this.handleProtocolPageChange,skip:this.state.protocolSkip,take:this.state.protocolTake,subFields:this.state.dynamiccolumns,childTabsKey:[\"protocolHistory\",\"protocolFile\"],filterParam:filterParam,commonActions:/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex product-category float-right icon-group-wrap\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue ml-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"}),hidden:this.state.userRoleControlRights.indexOf(addId)===-1,onClick:function onClick(){return _this2.getProtocolComboService(protocolAddParam);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus})),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey ml-2 p-0\",variant:\"link\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"}),\"data-for\":\"tooltip-common-wrap\",onClick:function onClick(){return _this2.reloadData();}},/*#__PURE__*/React.createElement(RefreshIcon,{className:\"custom_icons\"}))),filterComponent:[{\"IDS_PROTOCOLFILTER\":/*#__PURE__*/React.createElement(ProtocolFilter,{configVersion:this.state.configVersionList,configVersionValue:this.props.Login.masterData&&this.props.Login.masterData.defaultApprovalVersionValue||{},dynamicDesignMapping:this.state.dynamicDesignMappingList,dynamicDesignMappingValue:this.props.Login.masterData&&this.props.Login.masterData.defaultDesignTemplateMappingValue||{},status:this.state.statusList,statusValue:this.props.Login.masterData&&this.props.Login.masterData.defaultStatusValue||{},onFilterComboChange:this.onFilterComboChange,userInfo:this.props.Login.userInfo})}]})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},this.props.Login.masterData.selectedProtocol&&this.props.Login.masterData.protocol&&this.props.Login.masterData.protocol.length>0&&this.props.Login.masterData.selectedProtocol[0]?/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category float-right icon-group-wrap\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",href:\"#\",hidden:this.state.userRoleControlRights&&this.state.userRoleControlRights.indexOf(editId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(){return _this2.getEditProtocolComboService(protocolEditParam);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",href:\"#\",hidden:this.state.userRoleControlRights&&this.state.userRoleControlRights.indexOf(deleteId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),onClick:function onClick(){return _this2.confirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",href:\"#\",hidden:this.state.userRoleControlRights&&this.state.userRoleControlRights.indexOf(completeId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_COMPLETE\"}),onClick:function onClick(){return _this2.completeProtocol(completeId,_this2.state.protocolSkip,_this2.state.protocolTake);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCheckCircle})),this.props.Login.masterData&&this.props.Login.masterData.actionStatus&&this.props.Login.masterData.actionStatus.length>0&&actionStatus.length>0&&/*#__PURE__*/ //this.props.userRoleControlRights.indexOf(approvalActionId) !== -1 &&\nReact.createElement(CustomPopOver,{icon:faPalette,nav:true,data:actionStatus,Button:false,btnClasses:\"btn-circle btn_grey ml-2 spacesremovefromaction\",dynamicButton:function dynamicButton(value){return _this2.approveProtocol(value,-1,_this2.state.protocolSkip,_this2.state.protocolTake);},textKey:\"stransdisplaystatus\",iconKey:\"ntransactionstatus\"}),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",href:\"#\",hidden:this.state.userRoleControlRights&&this.state.userRoleControlRights.indexOf(copyId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_COPY\"}),onClick:function onClick(){return _this2.copyProtocol(copyId,_this2.state.protocolSkip,_this2.state.protocolTake);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCopy})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",href:\"#\",hidden:this.state.userRoleControlRights&&this.state.userRoleControlRights.indexOf(rejectId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REJECT\"}),onClick:function onClick(){return _this2.rejectProtocol(rejectId,_this2.state.protocolSkip,_this2.state.protocolTake);}},/*#__PURE__*/React.createElement(Reject,{className:\"custom_icons\",width:\"20\",height:\"20\"})))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap\"},/*#__PURE__*/React.createElement(Row,{className:\"no-gutters\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Card,{className:\"at-tabs\"},/*#__PURE__*/React.createElement(CustomTabs,{tabDetail:this.tabDetail(),onTabChange:this.onTabChange})))))):\"\")))))))))),this.props.Login.openModal||this.props.Login.openChildModal?/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.screenName===\"IDS_PROTOCOL\"?this.props.Login.openModal:this.props.Login.openChildModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},noSave:this.props.Login.operation===\"view\"?true:false,mandatoryFields:this.props.Login.screenName===\"IDS_PROTOCOL\"&&this.props.Login.operation===\"create\"?this.state.mandatoryProtocolFields:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_PROTOCOL\"&&(this.props.Login.operation===\"create\"||this.props.Login.operation===\"update\")?/*#__PURE__*/React.createElement(DynamicSlideout,{selectedRecord:this.props.Login.selectedRecord,templateData:this.props.Login.masterData.dynamicDesignMapping&&this.props.Login.masterData.dynamicDesignMapping[0].jsondata,handleDateChange:this.dynamicHandleDateChange,onInputOnChange:this.onInputOnChange,onNumericInputChange:this.onNumericInputOnChange,comboData:this.props.Login.comboData,onComboChange:this.onDynamicComboChange,onDropFile:this.onDropFile,deleteAttachment:this.deleteAttachment,onNumericBlur:this.onNumericBlur,userInfo:this.props.Login.userInfo,timeZoneList:this.props.Login.timeZoneList,defaultTimeZone:this.props.Login.defaultTimeZone,Login:this.props.Login,addMasterRecord:this.addMasterRecord,editMasterRecord:this.editMasterRecord,editfield:this.props.Login.operation===\"update\"?this.state.editable:[],selectedSample:this.props.Login.operation===\"update\"&&this.props.Login.masterData.selectedProtocol&&this.props.Login.masterData.selectedProtocol[0]||{},userRoleControlRights:this.props.Login.userRoleControlRights}):this.props.Login.screenName===\"IDS_PROTOCOL\"&&this.props.Login.operation===\"copy\"?/*#__PURE__*/React.createElement(CopyProtocol,{onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,formatMessage:this.props.intl.formatMessage,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,productCategory:this.props.Login.productCategory,product:this.props.Login.product,productCategoryName:this.props.Login.productCategoryName,productName:this.props.Login.productName,protocolName:this.props.Login.protocolName,selectedRecord:this.state.selectedRecord||{},userInfo:this.props.Login.userInfo}):this.props.Login.screenName===\"IDS_PROTOCOLFILE\"&&(this.props.Login.operation===\"create\"||this.props.Login.operation===\"update\")?/*#__PURE__*/React.createElement(AddProtocolFile,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onDrop:this.onDropProtocolFile,onDropAccepted:this.onDropAccepted,deleteAttachment:this.deleteAttachment,actionType:this.state.actionType,onComboChange:this.onComboChange,linkMaster:this.props.Login.linkMaster,editFiles:this.props.editFiles,maxSize:20,maxFiles:1,multiple:false,label:this.props.intl.formatMessage({id:\"IDS_PROTOCOLFILE\"}),name:\"protocolfilename\"}):\"\"}):\"\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this$state=this.state,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,selectedRecord=_this$state.selectedRecord,masterData=_this$state.masterData,dynamicGridItem=_this$state.dynamicGridItem,dynamicGridMoreField=_this$state.dynamicGridMoreField,dynamicExportItem=_this$state.dynamicExportItem,dynamicDateField=_this$state.dynamicDateField,dynamicTemplateField=_this$state.dynamicTemplateField,dynamicDateConstraints=_this$state.dynamicDateConstraints,dynamicCombinationUnique=_this$state.dynamicCombinationUnique,dynamicExportfields=_this$state.dynamicExportfields,configVersionList=_this$state.configVersionList,dynamicDesignMappingList=_this$state.dynamicDesignMappingList,statusList=_this$state.statusList,activeTabIndex=_this$state.activeTabIndex,activeTabId=_this$state.activeTabId,singleItem=_this$state.singleItem,dynamiccolumns=_this$state.dynamiccolumns,editable=_this$state.editable,searchFields=_this$state.searchFields;var bool=false;if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);bool=true;}}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;bool=true;}if(this.props.Login.activeTabIndex!==previousProps.Login.activeTabIndex){activeTabIndex=this.props.Login.activeTabIndex;activeTabId=this.props.Login.activeTabId;bool=true;}if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.masterData.configVersion!==previousProps.Login.masterData.configVersion){var configVersionListMap=constructOptionList(this.props.Login.masterData.configVersion||[],\"napprovalconfigversioncode\",\"sversionname\",\"nsorter\",\"ascending\",false);configVersionList=configVersionListMap.get(\"OptionList\");bool=true;}if(this.props.Login.masterData.dynamicDesignMapping!==previousProps.Login.masterData.dynamicDesignMapping){var dynamicDesignMappingListMap=constructOptionList(this.props.Login.masterData.dynamicDesignMapping||[],\"ndesigntemplatemappingcode\",\"sregtemplatename\",\"nsorter\",\"ascending\",false);dynamicDesignMappingList=dynamicDesignMappingListMap.get(\"OptionList\");bool=true;}if(this.props.Login.masterData.status!==previousProps.Login.masterData.status){var statusListMap=constructOptionList(this.props.Login.masterData.status||[],\"ntransactionstatus\",\"sfilterstatus\",\"\",\"ascending\",false);statusList=statusListMap.get(\"OptionList\");bool=true;}}if(this.props.Login.masterData.dynamicDesign&&this.props.Login.masterData.dynamicDesign!==previousProps.Login.masterData.dynamicDesign){var dynamicColumn=JSON.parse(this.props.Login.masterData.dynamicDesign.jsondata&&this.props.Login.masterData.dynamicDesign.jsondata.value);if(dynamicColumn!==null){dynamicGridItem=dynamicColumn.griditem?dynamicColumn.griditem:[];dynamicGridMoreField=dynamicColumn.gridmoreitem?dynamicColumn.gridmoreitem:[];dynamicExportItem=dynamicColumn.exportFields?dynamicColumn.exportFields:[];dynamicDateField=dynamicColumn.datefields?dynamicColumn.datefields:[];dynamicTemplateField=dynamicColumn.templatefields?dynamicColumn.templatefields:[];dynamicDateConstraints=dynamicColumn.dateconstraints?dynamicColumn.dateconstraints:[];dynamicCombinationUnique=dynamicColumn.combinationunique?dynamicColumn.combinationunique:[];dynamicExportfields=dynamicColumn.exportFields?dynamicColumn.exportFields:[];singleItem=dynamicColumn.displayFields?dynamicColumn.displayFields:[];dynamiccolumns=dynamicColumn.listItem?dynamicColumn.listItem:[];editable=dynamicColumn.editable?dynamicColumn.editable:[];searchFields=dynamicColumn.searchfields?dynamicColumn.searchfields:[];}}if(bool){bool=false;this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,selectedRecord:selectedRecord,masterData:masterData,dynamicGridItem:dynamicGridItem,dynamicGridMoreField:dynamicGridMoreField,dynamicExportItem:dynamicExportItem,dynamicDateField:dynamicDateField,dynamicTemplateField:dynamicTemplateField,dynamicDateConstraints:dynamicDateConstraints,dynamicCombinationUnique:dynamicCombinationUnique,dynamicExportfields:dynamicExportfields,configVersionList:configVersionList,dynamicDesignMappingList:dynamicDesignMappingList,statusList:statusList,activeTabIndex:activeTabIndex,activeTabId:activeTabId,singleItem:singleItem,dynamiccolumns:dynamiccolumns,editable:editable,searchFields:searchFields});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.multilingualMsg!==undefined&&props.Login.multilingualMsg!==\"\"){toast.warn(props.intl.formatMessage({id:props.Login.multilingualMsg}));props.Login.multilingualMsg=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return Protocol;}(React.Component);export default connect(mapStateToProps,{updateStore:updateStore,callService:callService,crudMaster:crudMaster,getProtocolTemplateByConfigVersion:getProtocolTemplateByConfigVersion,ProtocolFilterSubmit:ProtocolFilterSubmit,getPreviewTemplate:getPreviewTemplate,getProtocolDetail:getProtocolDetail,addProtocolFile:addProtocolFile,viewAttachment:viewAttachment,getChildValues:getChildValues,validateEsignforProtocol:validateEsignforProtocol,completeProtocolAction:completeProtocolAction,dynamicAction:dynamicAction,getEditComboService:getEditComboService,updateProtocolAction:updateProtocolAction,rejectProtocolAction:rejectProtocolAction,copyProtocolAction:copyProtocolAction,insertProtocolAction:insertProtocolAction,filterTransactionList:filterTransactionList,getProduct:getProduct})(injectIntl(Protocol));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/protocol/Protocol.jsx"],"names":["React","connect","injectIntl","Button","Col","Row","Card","Nav","toast","SplitterLayout","FontAwesomeIcon","faPlus","faPencilAlt","faTrashAlt","faCheckCircle","faCopy","faPalette","process","BreadcrumbComponent","ListWrapper","ContentPanel","SampleType","transactionStatus","attachmentType","ConfirmMessage","SlideOutModal","CustomPopOver","CustomTabs","TransactionListMasterJsonView","constructOptionList","getControlMap","comboChild","deleteAttachmentDropZone","showEsign","convertDateTimetoStringDBFormat","onDropAttachFileList","create_UUID","Lims_JSON_stringify","getSameRecordFromTwoArrays","sortData","DEFAULT_RETURN","ProductList","DynamicSlideout","Esign","updateStore","callService","crudMaster","getProtocolTemplateByConfigVersion","ProtocolFilterSubmit","getPreviewTemplate","getProtocolDetail","addProtocolFile","viewAttachment","getChildValues","validateEsignforProtocol","completeProtocolAction","dynamicAction","getEditComboService","updateProtocolAction","rejectProtocolAction","copyProtocolAction","insertProtocolAction","filterTransactionList","getProduct","ProtocolFilter","ProtocolFileTab","AddProtocolFile","CopyProtocol","ProtocolHistoryTab","ProtocolView","mapStateToProps","state","Login","Protocol","props","onFilterComboChange","comboData","fieldName","inputParamData","value","masterData","defaultApprovalVersionValue","napprovalconfigversioncode","nFilterFlag","userinfo","userInfo","item","defaultDesignTemplateMappingValue","ndesigntemplatemappingcode","updateInfo","typeName","data","defaultStatusValue","ntransactionstatus","onFilterSubmit","realApprovalVersionValue","realDesignTemplateMappingValue","realStatusValue","inputData","parseInt","ntranscode","inputParam","protocolSkip","protocolTake","searchRef","warn","intl","formatMessage","id","reloadData","current","getProtocolComboService","protocolAddParam","screenName","operation","selectedRecord","controlCode","ncontrolCode","importData","withoutCombocomponent","mandatoryProtocolFields","Layout","dynamicDesignMapping","jsondata","templateStatus","undefined","RETIRED","info","map","row","children","column","component","hasOwnProperty","componentrow","inputtype","push","mandatory","label","setState","comboComponents","childColumnList","columnList","val","mapOfFilterRegData","nsampletypecode","PROTOCOL","getEditProtocolComboService","protocolEditParam","selectedProtocol","editablecombo","iseditablereadonly","closeModal","loadEsign","openModal","openChildModal","selectedId","validateEsign","sreason","nreasoncode","spredefinedreason","password","screenData","dynamicHandleDateChange","dateValue","dateName","onDynamicComboChange","control","customName","comboName","valuemember","nquerybuildertablecode","source","child","primarykeyField","nameofdefaultcomp","name","parentList","childComboList","product","productCategory","nproductcatcode","nproductcode","Product","filter","x","length","mapOfFilter","nprojectmastercode","nprojectSpecReqd","nneedsubsample","NO","nportalrequired","ntestgroupspecrequired","loadCustomSearchFilter","onNumericInputOnChange","onNumericBlur","max","parseFloat","precision","min","onInputOnChange","event","optional","target","type","checked","YES","ACTIVE","DEACTIVE","onComboChange","deleteAttachment","file","actionType","onDropFile","attachedFiles","maxSize","onDropProtocolFile","openFilter","showFilter","closeFilter","inputValues","statusValue","configVersionValue","dynamicDesignMappingValue","onSaveClick","saveType","formRef","insertProtocol","updateProtocol","copySaveProtocol","insertProtocolFile","Map","isFileupload","param","setProtocol","defaultTimeZone","protocol","protocolVersion","dateList","dynamicCombinationUnique","tempData","formData","FormData","count","forEach","item1","index","fileName","splittedFileName","split","fileExtension","uniquefilename","susername","suserrolename","size","trim","append","JSON","stringify","classUrl","methodUrl","displayName","postParamList","dynamicValue","parse","dynamicDesign","String","nprotocolcode","dateconstraints","action","sloginid","userRoleControlRights","nformcode","templateList","defaulttimeZone","findIndex","pkey","table","vale","Date","loadcurrentdate","timezone","console","log","confirmDelete","deleteId","confirmMessage","confirm","deleteProtocol","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","fetchUrl","fecthInputObject","completeProtocol","protocolList","searchedProtocol","slice","completeList","approveProtocol","status","needEsign","approveList","rejectProtocol","rejectList","copyProtocol","copyList","sprotocolname","onTabChange","tabProps","tabDetail","tabMap","set","singleItem","viewFile","protocolHistory","historyState","dataStateProtocolHistoryChange","controlMap","genericLabel","deleteFileRecord","protocolFile","getAvailableData","viewProtocolFile","defaultRecord","settings","acceptedFiles","sfilename","nattachmenttypecode","isFileEdited","protocolFileArray","nprotocolversioncode","nprotocolfilecode","nstatus","FTP","Array","isArray","Object","assign","ssystemfilename","filesystemfileext","sdescription","NA","nfilesize","slinkfilename","slinkdescription","nlinkcode","sformname","smodulename","slanguagename","protocolDeleteParam","toLowerCase","dataState","viewParam","dataResult","ProtocolHistory","handleProtocolPageChange","e","skip","take","createRef","masterStatus","error","enablePropertyPopup","splitChangeWidthPercentage","firstPane","configVersionList","dynamicDesignMappingList","statusList","dynamicGridItem","dynamicGridMoreField","dynamicExportItem","dynamicDateField","dynamicTemplateField","dynamicDateConstraints","dynamicExportfields","dynamiccolumns","editable","parentHeight","height","clientHeight","actionStatus","addId","has","get","ncontrolcode","editId","completeId","approvalActionId","copyId","rejectId","filterParam","searchFieldList","searchFields","childRefs","filteredListName","clearFilter","updatedListname","unchangeList","breadCrumbData","sversionname","sregtemplatename","sfilterstatus","mandatoryFields","LINK","activeTabIndex","ALL","indexOf","timeZoneList","addMasterRecord","editMasterRecord","productCategoryName","productName","protocolName","onDropAccepted","linkMaster","editFiles","previousProps","activeTabId","bool","values","configVersion","configVersionListMap","dynamicDesignMappingListMap","statusListMap","dynamicColumn","griditem","gridmoreitem","exportFields","datefields","templatefields","combinationunique","displayFields","listItem","searchfields","multilingualMsg","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport { Button,Col, Row, Card, Nav } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport SplitterLayout from \"react-splitter-layout\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus,faPencilAlt, faTrashAlt, faCheckCircle,faCopy,faPalette } from '@fortawesome/free-solid-svg-icons';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { ContentPanel } from '../../components/App.styles';\r\nimport { SampleType, transactionStatus, attachmentType } from '../../components/Enumeration';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport CustomPopOver from '../../components/customPopover';\r\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\r\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\r\nimport { constructOptionList, getControlMap, comboChild, deleteAttachmentDropZone, showEsign, \r\n         convertDateTimetoStringDBFormat, onDropAttachFileList, create_UUID, Lims_JSON_stringify,\r\n         getSameRecordFromTwoArrays, sortData } from '../../components/CommonScript';\r\nimport { ReactComponent as RefreshIcon } from '../../assets/image/refresh.svg';\r\nimport { ReactComponent as Reject } from '../../assets/image/reject.svg';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ProductList } from '../testmanagement/testmaster-styled';\r\nimport DynamicSlideout from '../dynamicpreregdesign/DynamicSlideout';\r\nimport Esign from '../audittrail/Esign';\r\nimport {\r\n    updateStore, callService, crudMaster, getProtocolTemplateByConfigVersion, ProtocolFilterSubmit,\r\n    getPreviewTemplate, getProtocolDetail, addProtocolFile, viewAttachment, getChildValues,validateEsignforProtocol,\r\n    completeProtocolAction,dynamicAction,getEditComboService,updateProtocolAction,rejectProtocolAction,copyProtocolAction,\r\n    insertProtocolAction,filterTransactionList,getProduct\r\n} from '../../actions';\r\nimport ProtocolFilter from './ProtocolFilter';\r\nimport ProtocolFileTab from './ProtocolFileTab';\r\nimport AddProtocolFile from './AddProtocolFile';\r\nimport CopyProtocol from './CopyProtocol';\r\nimport ProtocolHistoryTab from './ProtocolHistoryTab';\r\nimport ProtocolView from './ProtocolView';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass Protocol extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.searchRef = React.createRef();\r\n        this.formRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        this.state = {\r\n            protocolSkip: 0,\r\n            protocolTake: this.props.Login.settings && this.props.Login.settings[3],\r\n            historyState : {\r\n                skip: 0, take: this.props.Login.settings ?\r\n                    parseInt(this.props.Login.settings[14]) : 5\r\n            },\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            selectedRecord: {},\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            enablePropertyPopup: false,\r\n            splitChangeWidthPercentage: 28.6,\r\n            firstPane: 0,\r\n            configVersionList: [],\r\n            dynamicDesignMappingList: [],\r\n            statusList: [],\r\n            mandatoryProtocolFields: [],            \r\n            singleItem: [],\r\n            dynamicGridItem: [],\r\n            dynamicGridMoreField: [],\r\n            dynamicExportItem: [],\r\n            dynamicDateField: [],\r\n            dynamicTemplateField: [],\r\n            dynamicDateConstraints: [],\r\n            dynamicCombinationUnique: [],\r\n            dynamicExportfields: [],\r\n            dynamiccolumns:[],\r\n            editable:[],\r\n\r\n           \r\n\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\") {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.multilingualMsg !== undefined && props.Login.multilingualMsg !== \"\") {\r\n            toast.warn(props.intl.formatMessage({ id: props.Login.multilingualMsg }));\r\n            props.Login.multilingualMsg = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    render() {       \r\n\r\n        const actionStatus = this.props.Login.masterData.actionStatus ? sortData(this.props.Login.masterData.actionStatus, 'ascending', 'ntransactionstatus') : [];\r\n        const protocolList = this.props.Login.masterData.protocol ? sortData(this.props.Login.masterData.protocol, 'descending', 'nprotocolcode') : [];\r\n\r\n\r\n        const addId = this.state.controlMap.has(\"AddProtocol\") ? this.state.controlMap.get(\"AddProtocol\").ncontrolcode : -1;\r\n        const editId = this.state.controlMap.has(\"EditProtocol\") ? this.state.controlMap.get(\"EditProtocol\").ncontrolcode : -1;\r\n        const deleteId = this.state.controlMap.has(\"DeleteProtocol\") ? this.state.controlMap.get(\"DeleteProtocol\").ncontrolcode : -1;\r\n        const completeId = this.state.controlMap.has(\"CompleteProtocol\") ? this.state.controlMap.get(\"CompleteProtocol\").ncontrolcode : -1;\r\n        const approvalActionId = this.state.controlMap.has(\"ApprovalActionProtocol\") ? this.state.controlMap.get(\"ApprovalActionProtocol\").ncontrolcode : -1;\r\n        const copyId = this.state.controlMap.has(\"CopyProtocol\") ? this.state.controlMap.get(\"CopyProtocol\").ncontrolcode : -1;\r\n        const rejectId = this.state.controlMap.has(\"RejectProtocol\") ? this.state.controlMap.get(\"RejectProtocol\").ncontrolcode : -1;\r\n\r\n        const protocolAddParam = {\r\n            screenName: \"IDS_PROTOCOL\", operation: \"create\",\r\n            masterData: this.props.Login.masterData,\r\n            selectedRecord: this.state.selectedRecord,\r\n            primaryKeyField: \"nprotocolcode\",\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: addId\r\n        };\r\n\r\n        const protocolEditParam = {\r\n            screenName: \"IDS_PROTOCOL\", operation: \"update\", primaryKeyField: \"nprotocolcode\",\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: editId,masterData:this.props.Login.masterData\r\n        }\r\n\r\n        const protocolDeleteParam = {\r\n            screenName: \"IDS_PROTOCOL\", methodUrl: \"Protocol\", operation: \"delete\", ncontrolCode: deleteId\r\n        }\r\n\r\n        \r\n        const filterParam = {\r\n            inputListName: \"protocol\", selectedObject: \"selectedProtocol\", primaryKeyField: \"nprotocolcode\",\r\n            fetchUrl: \"protocol/getActiveProtocolById\", fecthInputObject: { \r\n                napprovalconfigversioncode: parseInt(this.props.Login.masterData.defaultApprovalVersionValue && this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode) || -1,\r\n                ndesigntemplatemappingcode: parseInt(this.props.Login.masterData.defaultDesignTemplateMappingValue && this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode) || -1,\r\n                ntranscode: this.props.Login.masterData.defaultStatusValue && this.props.Login.masterData.defaultStatusValue.ntransactionstatus || 0,\r\n                userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: this.state.searchFields,\r\n            childRefs: []\r\n\r\n        };\r\n\r\n        this.postParamList = [\r\n            {\r\n                filteredListName: \"searchedProtocol\",\r\n                clearFilter: \"no\",\r\n                searchRef: this.searchRef,\r\n                primaryKeyField: \"nprotocolcode\",\r\n                fetchUrl: \"protocol/getActiveProtocolById\",\r\n                fecthInputObject: {},\r\n                childRefs: [],\r\n                selectedObject: \"SelectedProtocol\",\r\n                inputListName: \"protocol\",\r\n                updatedListname: \"SelectedProtocol\",\r\n                unchangeList: [\"realApprovalVersionValue\", \"approvalConfigVersionValue\", \"approvalConfigVersion\",\r\n                                \"realDesignTemplateMappingValue\", \"dynamicDesignMappingValue\", \"dynamicDesignMapping\", \r\n                                \"realFilterStatusValue\", \"statusValue\", \"status\"]\r\n            }\r\n        ]    \r\n        \r\n\r\n        const breadCrumbData = [\r\n            {\r\n                \"label\": \"IDS_CONFIGVERSION\",\r\n                \"value\": this.props.Login.masterData.realApprovalVersionValue ? this.props.Login.masterData.realApprovalVersionValue.sversionname || \"NA\" :\r\n                    this.props.Login.masterData.configVersionValue ? this.props.Login.masterData.configVersionValue.sversionname || \"NA\" : \"NA\"\r\n            },\r\n            {\r\n                \"label\": \"IDS_DESIGNTEMPLATE\",\r\n                \"value\": this.props.Login.masterData.realDesignTemplateMappingValue ? this.props.Login.masterData.realDesignTemplateMappingValue.sregtemplatename || \"NA\" :\r\n                    this.props.Login.masterData.dynamicDesignMappingValue ? this.props.Login.masterData.dynamicDesignMappingValue.sregtemplatename || \"NA\" : \"NA\"\r\n            },\r\n            {\r\n                \"label\": \"IDS_STATUS\",\r\n                \"value\": this.props.Login.masterData.realStatusValue ? this.props.Login.masterData.realStatusValue.sfilterstatus || \"NA\" :\r\n                    this.props.Login.masterData.statusValue ? this.props.Login.masterData.statusValue.sfilterstatus || \"NA\" : \"NA\"\r\n            }\r\n\r\n\r\n        ];\r\n        const mandatoryFields = [];\r\n        if(this.props.Login.screenName===\"IDS_PROTOCOL\" && this.props.Login.operation===\"copy\"){\r\n            mandatoryFields.push({ \"idsName\": \"IDS_PROTOCOLNAME\", \"dataField\": \"sprotocolname\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"});\r\n\r\n        }else if (this.props.Login.screenName===\"IDS_PROTOCOLFILE\"){\r\n            if (this.state.selectedRecord && this.state.selectedRecord.nattachmenttypecode === attachmentType.LINK) {\r\n                mandatoryFields.push({ \"idsName\": \"IDS_FILENAME\", \"dataField\": \"slinkfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"file\" },\r\n                                     { \"idsName\": \"IDS_LINKNAME\", \"dataField\": \"nlinkcode\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" })\r\n            } else {\r\n                mandatoryFields.push({ \"idsName\": \"IDS_FILE\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" });\r\n            }\r\n\r\n        }\r\n\r\n        \r\n\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap toolbar-top-wrap mtop-4 screen-height-window\">\r\n                    <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                    <Row noGutters={true} className=\"toolbar-top\">\r\n                        <Col md={12} className=\"parent-port-height\">\r\n                            <ListWrapper className={`vertical-tab-top ${this.state.enablePropertyPopup ? 'active-popup' : \"\"}`}>\r\n                                <div className={`tab-left-area ${this.state.activeTabIndex ? 'active' : \"\"}`}>\r\n                                    <SplitterLayout borderColor=\"#999\"\r\n                                        primaryIndex={1} percentage={true}\r\n                                        secondaryInitialSize={this.state.splitChangeWidthPercentage}\r\n                                        primaryMinSize={30}\r\n                                        secondaryMinSize={20}\r\n                                    >\r\n                                        <div className='toolbar-top-inner'>\r\n                                            <TransactionListMasterJsonView\r\n                                                listMasterShowIcon={1}\r\n                                                clickIconGroup={true}\r\n                                                splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                                masterList={this.props.Login.masterData.searchedProtocol ||protocolList}\r\n                                                selectedMaster={this.props.Login.masterData.selectedProtocol}\r\n                                                primaryKeyField=\"nprotocolcode\"\r\n                                                filterColumnData={this.props.filterTransactionList}\r\n                                                getMasterDetail = {(protocol, status) => { this.props.getProtocolDetail(\r\n                                                    {\r\n                                                        ...protocol,\r\n                                                        userinfo: this.props.Login.userInfo,\r\n                                                        masterData: this.props.Login.masterData                                                  \r\n                                                       \r\n                                                    }\r\n                                                    , status);}}\r\n                                                selectionList={this.props.Login.masterData.realStatusValue\r\n                                                    && this.props.Login.masterData.realStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.status : []}\r\n                                                selectionColorField=\"scolorhexcode\"\r\n                                                mainField={\"sprotocolid\"}\r\n                                                showStatusLink={true}\r\n                                                showStatusName={true}\r\n                                                statusFieldName=\"stransdisplaystatus\"\r\n                                                statusField=\"ntransactionstatus\"\r\n                                                selectedListName=\"selectedProtocol\"\r\n                                                searchListName=\"searchedProtocol\"\r\n                                                searchRef={this.searchRef}\r\n                                                objectName=\"protocol\"\r\n                                                listName=\"IDS_PROTOCOL\"\r\n                                                selectionField=\"ntransactionstatus\"\r\n                                                selectionFieldName=\"stransdisplaystatus\"\r\n                                                showFilter={this.props.Login.showFilter}\r\n                                                openFilter={this.openFilter}\r\n                                                closeFilter={this.closeFilter}\r\n                                                onFilterSubmit={this.onFilterSubmit}\r\n                                                needFilter={true}\r\n                                                needMultiSelect={false}\r\n                                                showStatusBlink={true}\r\n                                                callCloseFunction={true}\r\n                                                handlePageChange={this.handleProtocolPageChange}\r\n                                                skip={this.state.protocolSkip}\r\n                                                take={this.state.protocolTake}\r\n                                                subFields={this.state.dynamiccolumns}\r\n\r\n                                                childTabsKey={[\"protocolHistory\", \"protocolFile\"]}\r\n                                                filterParam = {filterParam}\r\n                                                commonActions={\r\n                                                    <ProductList className=\"d-flex product-category float-right icon-group-wrap\">\r\n                                                         <Button className=\"btn btn-icon-rounded btn-circle solid-blue ml-2\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                                            onClick={() => this.getProtocolComboService(protocolAddParam)} >\r\n                                                            <FontAwesomeIcon icon={faPlus} />\r\n                                                        </Button>\r\n                                                        \r\n                                                        <Button className=\"btn btn-circle outline-grey ml-2 p-0\" variant=\"link\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}\r\n                                                            data-for=\"tooltip-common-wrap\"\r\n                                                            onClick={() => this.reloadData()} >\r\n                                                           <RefreshIcon className='custom_icons'/>\r\n                                                        </Button>\r\n                                                    </ProductList>\r\n                                                }\r\n                                                filterComponent={[\r\n                                                    {\r\n                                                        \"IDS_PROTOCOLFILTER\":\r\n                                                            <ProtocolFilter\r\n                                                                configVersion={this.state.configVersionList}\r\n                                                                configVersionValue={this.props.Login.masterData && this.props.Login.masterData.defaultApprovalVersionValue || {}}\r\n                                                                dynamicDesignMapping={this.state.dynamicDesignMappingList}\r\n                                                                dynamicDesignMappingValue={this.props.Login.masterData && this.props.Login.masterData.defaultDesignTemplateMappingValue || {}}\r\n                                                                status={this.state.statusList}\r\n                                                                statusValue={this.props.Login.masterData && this.props.Login.masterData.defaultStatusValue || {}}\r\n                                                                onFilterComboChange={this.onFilterComboChange}\r\n                                                                userInfo={this.props.Login.userInfo}\r\n                \r\n                                                            />\r\n                                                    }\r\n                                                ]}\r\n                                            />\r\n                                        </div>\r\n                                        <div>                                           \r\n                                            <Row>\r\n                                                <Col md={12}>\r\n                                                    <ContentPanel className=\"panel-main-content\">\r\n                                                    {this.props.Login.masterData.selectedProtocol && this.props.Login.masterData.protocol \r\n                                                        && this.props.Login.masterData.protocol.length > 0 && \r\n                                                        this.props.Login.masterData.selectedProtocol[0] ?\r\n                                                        <Card className=\"border-0\">\r\n                                                            <Card.Header>\r\n                                                                {/* <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedProtocol[0].sprotocolid}\r\n                                                                    <Card.Subtitle> */}\r\n                                                                        {/* <div className=\"d-flex product-category\"> */}\r\n                                                                                {/* <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                                    <span className={`btn btn-outlined ${userStatusCSS} btn-sm ml-3`}>\r\n                                                                                        <i className={activeIconCSS}></i>\r\n                                                                                            {this.props.Login.masterData.selectedProtocol[0].stransdisplaystatus}\r\n                                                                                    </span>\r\n                                                                                </h2> */}\r\n                                                                            <div className=\"d-flex product-category float-right icon-group-wrap\">\r\n                                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights && this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                                    onClick={() => this.getEditProtocolComboService(protocolEditParam)}>\r\n                                                                                    <FontAwesomeIcon icon={faPencilAlt} />                                                            \r\n                                                                                </Nav.Link>\r\n                                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights && this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                                    onClick={() => this.confirmDelete(deleteId)}>\r\n                                                                                    <FontAwesomeIcon icon={faTrashAlt} />                                                            \r\n                                                                                </Nav.Link>\r\n                                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights && this.state.userRoleControlRights.indexOf(completeId) === -1}\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_COMPLETE\" })}\r\n                                                                                    onClick={() => this.completeProtocol(completeId,this.state.protocolSkip,this.state.protocolTake)}>\r\n                                                                                    <FontAwesomeIcon icon={faCheckCircle} />                                                            \r\n                                                                                </Nav.Link>\r\n                                                                                {this.props.Login.masterData && this.props.Login.masterData.actionStatus \r\n                                                                                    && this.props.Login.masterData.actionStatus.length > 0  \r\n                                                                                    && actionStatus.length > 0 && \r\n                                                                                    //this.props.userRoleControlRights.indexOf(approvalActionId) !== -1 &&\r\n                                                                                    <CustomPopOver\r\n                                                                                        icon={faPalette}\r\n                                                                                        nav={true}\r\n                                                                                        data={actionStatus}\r\n                                                                                        Button={false}\r\n                                                                                        btnClasses=\"btn-circle btn_grey ml-2 spacesremovefromaction\"\r\n                                                                                        dynamicButton={(value) => this.approveProtocol(value, -1,this.state.protocolSkip,this.state.protocolTake)}\r\n                                                                                        textKey=\"stransdisplaystatus\"\r\n                                                                                        iconKey=\"ntransactionstatus\"\r\n\r\n                                                                                    />                                                                                  \r\n                                                                                }\r\n                                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights && this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_COPY\" })}\r\n                                                                                    onClick={() => this.copyProtocol(copyId,this.state.protocolSkip,this.state.protocolTake)}>\r\n                                                                                    <FontAwesomeIcon icon={faCopy} />                                                            \r\n                                                                                </Nav.Link>\r\n                                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights && this.state.userRoleControlRights.indexOf(rejectId) === -1}\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_REJECT\" })}\r\n                                                                                    onClick={() => this.rejectProtocol(rejectId,this.state.protocolSkip,this.state.protocolTake)}>\r\n                                                                                    <Reject className=\"custom_icons\" width=\"20\" height=\"20\" />\r\n                                                                                </Nav.Link>\r\n                                                                            </div>    \r\n                                                                        {/* </div>     */}\r\n                                                                    {/* </Card.Subtitle>  \r\n                                                                </Card.Title>     */}\r\n                                                            </Card.Header>\r\n                                                                <Card.Body className=\"form-static-wrap\">                                     \r\n                                                                    <Row className=\"no-gutters\">\r\n                                                                        <Col md={12}>\r\n                                                                            <Card className=\"at-tabs\">\r\n                                                                                <CustomTabs tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                                                                            </Card>\r\n                                                                        </Col>\r\n                                                                    </Row>          \r\n                                                                </Card.Body>       \r\n                                                        </Card>\r\n                                                    :\"\"}    \r\n                                                    </ContentPanel>                                                \r\n                                                </Col>\r\n                                            </Row>\r\n                                        </div>\r\n                                    </SplitterLayout>\r\n                                </div>\r\n                            </ListWrapper>\r\n                        </Col>                      \r\n                    </Row>\r\n                </ListWrapper>\r\n                {this.props.Login.openModal|| this.props.Login.openChildModal ?\r\n                    <SlideOutModal \r\n                        show={this.props.Login.screenName ===\"IDS_PROTOCOL\"?this.props.Login.openModal:this.props.Login.openChildModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        noSave={this.props.Login.operation === \"view\" ? true : false}\r\n                        mandatoryFields={this.props.Login.screenName ===\"IDS_PROTOCOL\" && this.props.Login.operation ===\"create\" ? this.state.mandatoryProtocolFields :  mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ? (\r\n                            <Esign \r\n                                operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                        ) : this.props.Login.screenName ===  \"IDS_PROTOCOL\"  && (this.props.Login.operation ===  \"create\" || this.props.Login.operation === \"update\") ? (\r\n                            <DynamicSlideout\r\n                                selectedRecord={this.props.Login.selectedRecord}\r\n                                templateData={this.props.Login.masterData.dynamicDesignMapping && this.props.Login.masterData.dynamicDesignMapping [0].jsondata}\r\n                                handleDateChange={this. dynamicHandleDateChange}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                onNumericInputChange={this.onNumericInputOnChange}\r\n                                comboData={this.props.Login.comboData}\r\n                                onComboChange={this.onDynamicComboChange}\r\n                                onDropFile={this.onDropFile}\r\n                                deleteAttachment={this.deleteAttachment}\r\n                                onNumericBlur={this.onNumericBlur}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                timeZoneList={this.props.Login.timeZoneList}\r\n                                defaultTimeZone={this.props.Login.defaultTimeZone}\r\n                                Login={this.props.Login}\r\n                                addMasterRecord={this.addMasterRecord}\r\n                                editMasterRecord={this.editMasterRecord}\r\n                                editfield={ this.props.Login.operation === \"update\" ? this.state.editable: []}\r\n                                selectedSample={this.props.Login.operation === \"update\" && this.props.Login.masterData.selectedProtocol && this.props.Login.masterData.selectedProtocol[0] || {}}\r\n                                userRoleControlRights={this.props.Login.userRoleControlRights}\r\n                            /> \r\n                        ) : this.props.Login.screenName ===  \"IDS_PROTOCOL\"  && this.props.Login.operation ===  \"copy\" ? (\r\n                            <CopyProtocol\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                onComboChange={this.onComboChange}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                operation={this.props.Login.operation}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                productCategory ={this.props.Login.productCategory}\r\n                                product={this.props.Login.product}\r\n                                productCategoryName={this.props.Login.productCategoryName}\r\n                                productName={this.props.Login.productName}\r\n                                protocolName={this.props.Login.protocolName} \r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                userInfo={this.props.Login.userInfo}\r\n                            />\r\n\r\n                        ) : this.props.Login.screenName ===  \"IDS_PROTOCOLFILE\"  && (this.props.Login.operation ===  \"create\" || this.props.Login.operation === \"update\") ? (\r\n                            <AddProtocolFile\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                onDrop={this.onDropProtocolFile}\r\n                                onDropAccepted={this.onDropAccepted}\r\n                                deleteAttachment={this.deleteAttachment}\r\n                                actionType={this.state.actionType}\r\n                                onComboChange={this.onComboChange}\r\n                                linkMaster={this.props.Login.linkMaster}\r\n                                editFiles={this.props.editFiles}\r\n                                maxSize={20}\r\n                                maxFiles={1}\r\n                                multiple={false}                             \r\n                                label={this.props.intl.formatMessage({ id: \"IDS_PROTOCOLFILE\" })}\r\n                                name=\"protocolfilename\"\r\n                            />\r\n                        ) : (\"\")\r\n                    }\r\n                    /> :\"\"}      \r\n                \r\n            </> \r\n\r\n        )\r\n\r\n\r\n    }\r\n\r\n    onFilterComboChange = (comboData, fieldName) => {\r\n        if (comboData) {\r\n            let inputParamData = {};\r\n            if (fieldName === 'napprovalconfigversioncode') {\r\n                if (comboData.value !== this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode) {\r\n                    inputParamData = {\r\n                        napprovalconfigversioncode: comboData.value,\r\n                        nFilterFlag: true,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        masterData: this.props.Login.masterData,\r\n                        defaultApprovalVersionValue: comboData.item\r\n\r\n                    };\r\n                    this.props.getProtocolTemplateByConfigVersion(inputParamData);\r\n\r\n                }\r\n            } else if (fieldName === 'ndesigntemplatemappingcode') {\r\n                if (comboData.value !== this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode) {\r\n                    const masterData = { ...this.props.Login.masterData, defaultDesignTemplateMappingValue: comboData.item };\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: { masterData }\r\n                    };\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n            } else if (fieldName === 'ntransactionstatus') {\r\n                if (comboData.value !== this.props.Login.masterData.defaultStatusValue.ntransactionstatus) {\r\n                    const masterData = { ...this.props.Login.masterData, defaultStatusValue: comboData.item };\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: { masterData }\r\n                    };\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n\r\n        const realApprovalVersionValue = this.props.Login.masterData.defaultApprovalVersionValue;\r\n        const realDesignTemplateMappingValue = this.props.Login.masterData.defaultDesignTemplateMappingValue;\r\n        const realStatusValue = this.props.Login.masterData.defaultStatusValue;\r\n        const masterData = { ...this.props.Login.masterData, realApprovalVersionValue, realDesignTemplateMappingValue, realStatusValue };\r\n        const inputData = {\r\n            napprovalconfigversioncode: this.props.Login.masterData.defaultApprovalVersionValue  \r\n                                        && this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode\r\n                                        && parseInt(this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode) \r\n                                        || -1,   \r\n            ndesigntemplatemappingcode:this.props.Login.masterData.defaultDesignTemplateMappingValue\r\n                                       && this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode \r\n                                       && parseInt(this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode)\r\n                                        || -1,\r\n            ntranscode: this.props.Login.masterData.defaultStatusValue \r\n                        && this.props.Login.masterData.defaultStatusValue.ntransactionstatus \r\n                        || -1,\r\n            userinfo: this.props.Login.userInfo\r\n        };\r\n        if (inputData.napprovalconfigversioncode !== -1 && inputData.ndesigntemplatemappingcode !== -1 && inputData.ntransactionstatus !== -1) {\r\n            const inputParam = {\r\n                masterData,\r\n                inputData,\r\n                protocolSkip: this.state.protocolSkip,\r\n                protocolTake: this.state.protocolTake,\r\n                searchRef :this.searchRef\r\n            };\r\n            this.props.ProtocolFilterSubmit(inputParam);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }));\r\n        }\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        const realApprovalVersionValue = this.props.Login.masterData.defaultApprovalVersionValue;\r\n        const realDesignTemplateMappingValue = this.props.Login.masterData.defaultDesignTemplateMappingValue;\r\n        const realStatusValue = this.props.Login.masterData.defaultStatusValue;\r\n        const masterData = { ...this.props.Login.masterData, realApprovalVersionValue, realDesignTemplateMappingValue, realStatusValue };\r\n        const inputData = {\r\n            napprovalconfigversioncode: this.props.Login.masterData.defaultApprovalVersionValue  \r\n                                        && this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode\r\n                                        && parseInt(this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode) \r\n                                        || -1,   \r\n            ndesigntemplatemappingcode:this.props.Login.masterData.defaultDesignTemplateMappingValue\r\n                                       && this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode \r\n                                       && parseInt(this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode)\r\n                                        || -1,\r\n            ntranscode: this.props.Login.masterData.defaultStatusValue \r\n                        && this.props.Login.masterData.defaultStatusValue.ntransactionstatus \r\n                        || -1,\r\n            userinfo: this.props.Login.userInfo\r\n        };\r\n        const inputParam = {\r\n            masterData,\r\n            inputData,\r\n            protocolSkip: this.state.protocolSkip,\r\n            protocolTake: this.state.protocolTake,\r\n            searchRef :this.searchRef\r\n        };\r\n        this.props.ProtocolFilterSubmit(inputParam);\r\n    }\r\n\r\n    getProtocolComboService = (protocolAddParam) => {\r\n\r\n        const screenName = protocolAddParam.screenName;\r\n        const operation = protocolAddParam.operation;\r\n        const masterData = protocolAddParam.masterData;\r\n        const selectedRecord = protocolAddParam.selectedRecord;\r\n        const userInfo = protocolAddParam.userInfo;\r\n        const controlCode = protocolAddParam.ncontrolCode;\r\n        let importData;\r\n\r\n        let data = [];\r\n        const withoutCombocomponent = [];\r\n        const mandatoryProtocolFields = [];\r\n        const Layout = this.props.Login.masterData.dynamicDesignMapping\r\n                       && this.props.Login.masterData.dynamicDesignMapping[0].jsondata;\r\n        const templateStatus = this.props.Login.masterData.dynamicDesignMapping\r\n                                && this.props.Login.masterData.dynamicDesignMapping[0].ntransactionstatus;               \r\n        if (Layout !== undefined && Layout !== null) {\r\n            if(templateStatus ==transactionStatus.RETIRED){\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTAPPROVEDDESIGNTEMPLATE\" }));\r\n            }else{\r\n                Layout.map(row => {\r\n                    row.children.map(column => {\r\n                        column.children.map(component => {\r\n                            if (component.hasOwnProperty(\"children\")) {\r\n                                component.children.map(componentrow => {\r\n                                    if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"backendsearchfilter\"\r\n                                        || componentrow.inputtype === \"frontendsearchfilter\") {\r\n                                        data.push(componentrow)\r\n                                    } else {\r\n                                        withoutCombocomponent.push(componentrow)\r\n                                    }\r\n                                    if (componentrow.mandatory === true) {\r\n                                        mandatoryProtocolFields.push({\r\n                                            \"mandatory\": true,\r\n                                            \"idsName\": componentrow.label,\r\n                                            \"dataField\": componentrow.label,\r\n                                            \"mandatoryLabel\": componentrow.inputtype === \"combo\" ?\r\n                                            \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                            \"controlType\": componentrow.inputtype === \"combo\" ?\r\n                                            \"selectbox\" : \"textbox\"\r\n                                        })\r\n                                    }\r\n                                })\r\n                            } else {\r\n                                component.inputtype === \"combo\" || component.inputtype === \"backendsearchfilter\"\r\n                                    || component.inputtype === \"frontendsearchfilter\" ?\r\n                                    data.push(component) : withoutCombocomponent.push(component)\r\n                                if (component.mandatory === true) {\r\n                                    mandatoryProtocolFields.push({\r\n                                        \"mandatory\": true,\r\n                                        \"idsName\": component.label,\r\n                                        \"dataField\": component.label,\r\n                                        \"mandatoryLabel\": component.inputtype === \"combo\" ?\r\n                                        \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                        \"controlType\": component.inputtype === \"combo\" ?\r\n                                        \"selectbox\" : \"textbox\"\r\n                                    })\r\n                                }\r\n    \r\n                            }\r\n                        })\r\n                        this.setState({ mandatoryProtocolFields: mandatoryProtocolFields });\r\n                    })\r\n    \r\n                })\r\n                const comboComponents = data;\r\n                let childColumnList = {};\r\n                data.map(columnList => {\r\n                    const val = comboChild(data, columnList, childColumnList, true);\r\n                    data = val.data;\r\n                    childColumnList = val.childColumnList\r\n                    return null;\r\n                });\r\n                const mapOfFilterRegData = {\r\n                    nsampletypecode: parseInt(SampleType.PROTOCOL)\r\n                };\r\n    \r\n                this.props.getPreviewTemplate(masterData, userInfo, controlCode,\r\n                    data, selectedRecord, childColumnList, comboComponents, withoutCombocomponent, false, true,\r\n                    mapOfFilterRegData, false, operation, screenName, importData);\r\n            }            \r\n        } else {\r\n            // ALPD-5466 - Gowtham R - 20/02/2025 - Protocol-->While Add the Protocol IDS Alert Popup Shown\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_CONFIGUREPROTOCOLTEMPLATE\" }));\r\n        }\r\n\r\n    }\r\n    getEditProtocolComboService = (protocolEditParam) => {\r\n        protocolEditParam[\"toedit\"] = this.props.Login.masterData.selectedProtocol[0];\r\n        let data = [];\r\n        let editablecombo = [];\r\n        const withoutCombocomponent = [];\r\n        const Layout = this.props.Login.masterData.dynamicDesignMapping\r\n            && this.props.Login.masterData.dynamicDesignMapping[0].jsondata;\r\n        if (Layout !== undefined) {\r\n            Layout.map(row => {\r\n                return row.children.map(column => {\r\n                    return column.children.map(component => {\r\n                        if (component.hasOwnProperty(\"children\")) {\r\n                            component.children.map(componentrow => {\r\n                                if (componentrow.inputtype === \"combo\") {\r\n                                    data.push(componentrow)\r\n                                } else {\r\n                                    withoutCombocomponent.push(componentrow)\r\n                                }\r\n                                if (componentrow.inputtype === \"combo\" && componentrow.iseditablereadonly && componentrow.iseditablereadonly === true) {\r\n                                    editablecombo.push(componentrow)\r\n                                }\r\n\r\n                                return null;\r\n                            })\r\n                        } else {\r\n                            if (component.inputtype === \"combo\" && component.iseditablereadonly && component.iseditablereadonly === true) {\r\n                                editablecombo.push(component);\r\n                            }\r\n                            else if (component.inputtype === \"combo\") {\r\n                                data.push(component);\r\n                            } else {\r\n                                withoutCombocomponent.push(component);\r\n                            }\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            const comboComponents = data;\r\n            let childColumnList = {};\r\n            data.map(columnList => {\r\n                const val = comboChild(data, columnList, childColumnList, true);\r\n                data = val.data;\r\n                childColumnList = val.childColumnList;\r\n                return null;\r\n            });\r\n            this.props.getEditComboService(protocolEditParam,\r\n                data, this.state.selectedRecord, childColumnList,\r\n                comboComponents, withoutCombocomponent, editablecombo);\r\n        } else {\r\n            // ALPD-5466 - Gowtham R - 20/02/2025 - Protocol-->While Add the Protocol IDS Alert Popup Shown\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_CONFIGUREPROTOCOLTEMPLATE\" }));\r\n        }\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let openChildModal = this.props.Login.openChildModal;\r\n        let screenName = this.props.Login.screenName;\r\n        let operation = this.props.Login.operation;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\"\r\n                || this.props.Login.operation === \"complete\" \r\n                || this.props.Login.operation === \"dynamicAction\"\r\n                || this.props.Login.operation === \"reject\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\";\r\n                selectedRecord['esigncomments'] = \"\";\r\n                selectedRecord['esignreason'] = \"\";\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            openChildModal = false;\r\n            selectedRecord = {};\r\n            screenName = \"\";\r\n            operation = \"\";\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, openChildModal, loadEsign, selectedRecord, selectedId: null, screenName, operation }\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        };\r\n        this.props.validateEsignforProtocol(inputParam, \"openModal\");\r\n    }\r\n\r\n    dynamicHandleDateChange = (dateValue, dateName) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onDynamicComboChange = (comboData, control, customName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let comboName = customName || control.label;\r\n\r\n        if (comboData) {\r\n            comboData[\"item\"] = {\r\n                ...comboData[\"item\"], \"pkey\": control.valuemember,\r\n                \"nquerybuildertablecode\": control.nquerybuildertablecode, source: control.source\r\n            };\r\n            selectedRecord[comboName] = comboData;\r\n        } else {\r\n            selectedRecord[comboName] = [];\r\n        }\r\n\r\n        const inputParam = {\r\n            child: control.child,\r\n            source: control.source,\r\n            primarykeyField: control.valuemember,\r\n            value: comboData ? comboData.value : -1,\r\n            item: comboData ? comboData.item : \"\",\r\n            label: comboData ? comboName : \"\",\r\n            nameofdefaultcomp: control.name,\r\n            screenName: \"IDS_PROTOCOL\"\r\n        };\r\n        if (comboData) {\r\n            let parentList = [];\r\n            let childComboList = [];\r\n            let childColumnList = {};\r\n            let product = false;\r\n            let productCategory = false;\r\n            let nproductcatcode = -1;\r\n            let nproductcode = -1;\r\n            if (control.name === 'Product Category') {\r\n                const Product = this.props.Login.comboComponents.filter(x => x.name === \"Product\");\r\n                nproductcatcode = selectedRecord[control.label] && selectedRecord[control.label]['value'];\r\n            }\r\n            if (control.child && control.child.length > 0) {\r\n                childComboList = getSameRecordFromTwoArrays(this.props.Login.comboComponents, control.child, \"label\");\r\n                childColumnList = {};\r\n                childComboList.map(columnList => {\r\n                    const val = comboChild(this.props.Login.comboComponents, columnList, childColumnList, false);\r\n                    childColumnList = val.childColumnList\r\n                    return null;\r\n                });\r\n\r\n                parentList = getSameRecordFromTwoArrays(this.props.Login.withoutCombocomponent, control.child, \"label\")\r\n                const mapOfFilter = {\r\n                    nproductcode, nproductcatcode,\r\n                    nsampletypecode: -1,\r\n                    nprojectmastercode: -1, nprojectSpecReqd: -1,\r\n                    nneedsubsample: transactionStatus.NO,\r\n                    nportalrequired: -1,\r\n                    ntestgroupspecrequired: transactionStatus.NO\r\n                }\r\n                this.props.getChildValues(inputParam, this.props.Login.userInfo, selectedRecord, this.props.Login.comboData,\r\n                    childComboList, childColumnList, this.props.withoutCombocomponent,\r\n                    [...childComboList, ...parentList], productCategory, product, mapOfFilter,\r\n                    false, false, false, false, false,\r\n                    undefined, false, this.props.Login.comboComponents)\r\n            } else {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { selectedRecord, loadCustomSearchFilter: false, }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    onNumericInputOnChange = (value, name) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    onNumericBlur = (control) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        if (selectedRecord[control.label]) {\r\n            if (control.max) {\r\n                if (!(selectedRecord[control.label] < parseFloat(control.max))) {\r\n                    selectedRecord[control.label] = control.precision ? parseFloat(control.max) : parseInt(control.max);\r\n                }\r\n            }\r\n            if (control.min) {\r\n                if (!(selectedRecord[control.label] > parseFloat(control.min))) {\r\n                    selectedRecord[control.label] = control.precision ? parseFloat(control.min) : parseInt(control.min);\r\n                }\r\n            }\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onInputOnChange = (event, optional) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO ;\r\n            }else {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n            }\r\n        } else if (event.target.type === 'radio') {\r\n            selectedRecord[event.target.name] = optional;\r\n        }\r\n        else {\r\n            if (event.target.value !== \"\") {\r\n                selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\r\n            } else {\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            }\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if(fieldName === \"nproductcatcode\"){\r\n            selectedRecord[\"nproductcatcode\"] = comboData;\r\n            this.props.getProduct(this.state.selectedRecord.nproductcatcode.value,                                  \r\n                                  this.props.Login.userInfo,\r\n                                  selectedRecord);\r\n        }else{\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }     \r\n    }\r\n\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file);\r\n        this.setState({ selectedRecord, actionType: \"delete\" });\r\n    };\r\n\r\n    onDropFile = (attachedFiles, fieldName, maxSize) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n    onDropProtocolFile = (attachedFiles, fieldName, maxSize) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n    openFilter = () => {\r\n        const showFilter = !this.props.Login.showFilter;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n        const inputValues = {\r\n            statusValue:this.props.Login.masterData.realStatusValue || {} ,\r\n            defaultStatusValue: this.props.Login.masterData.realStatusValue || {},\r\n            configVersionValue:this.props.Login.masterData.realApprovalVersionValue || {} ,\r\n            defaultApprovalVersionValue: this.props.Login.masterData.realApprovalVersionValue || {},\r\n            dynamicDesignMappingValue:this.props.Login.masterData.realDesignTemplateMappingValue || {} ,\r\n            defaultDesignTemplateMappingValue: this.props.Login.masterData.realDesignTemplateMappingValue || {}, \r\n        };\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false,masterData: { ...this.props.Login.masterData, ...inputValues } }\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n    };\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.screenName === \"IDS_PROTOCOL\" && this.props.Login.operation === \"create\") {\r\n            this.insertProtocol(saveType, formRef);\r\n        }\r\n        if (this.props.Login.screenName === \"IDS_PROTOCOL\" && this.props.Login.operation === \"update\") {\r\n            this.updateProtocol(saveType, formRef);\r\n        }\r\n        if (this.props.Login.screenName === \"IDS_PROTOCOL\" && this.props.Login.operation === \"copy\") {\r\n            this.copySaveProtocol(saveType, formRef);\r\n        }\r\n        if (this.props.Login.screenName === \"IDS_PROTOCOLFILE\") {\r\n            this.insertProtocolFile(saveType, formRef);\r\n        }\r\n    };\r\n\r\n    insertProtocol = (saveType, formRef) => {\r\n        let Map = {};\r\n        let isFileupload = false;\r\n        Map[\"ndesigntemplatemappingcode\"] = this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;\r\n        Map[\"napprovalconfigversioncode\"] = this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;\r\n        Map[\"ntranscode\"] = this.props.Login.masterData.realStatusValue.ntransactionstatus;\r\n\r\n        const param = this.setProtocol(this.props.Login.masterData, this.state.selectedRecord,\r\n            this.props.Login.masterData.dynamicDesignMapping[0].jsondata,\r\n            this.props.Login.userInfo, this.props.Login.defaultTimeZone, 'create', this.props.Login.comboComponents);\r\n        Map[\"protocol\"] = param.protocol;\r\n        Map[\"protocolVersion\"] = param.protocolVersion;\r\n        Map[\"dateList\"] = param.dateList;\r\n        Map[\"userinfo\"] = this.props.Login.userInfo;\r\n        Map[\"combinationUnique\"] = this.state.dynamicCombinationUnique;\r\n\r\n        let tempData = {};\r\n        const formData = new FormData();\r\n        let count = 0;\r\n        this.props.Login.withoutCombocomponent.map(item => {\r\n            if (item.inputtype === \"files\") {\r\n                this.state.selectedRecord[item && item.label] && this.state.selectedRecord[item && item.label].forEach((item1, index) => {\r\n                    const fileName = create_UUID();\r\n                    const splittedFileName = item1.name.split('.');\r\n                    const fileExtension = item1.name.split('.')[splittedFileName.length - 1];\r\n                    const uniquefilename = fileName + '.' + fileExtension;\r\n                    tempData[item && item.label + '_susername_Protocol'] = this.props.Login.userInfo.susername;\r\n                    tempData[item && item.label + '_suserrolename_Protocol'] = this.props.Login.userInfo.suserrolename;\r\n                    tempData[item && item.label + '_nfilesize_Protocol'] = item1.size;\r\n                    tempData[item && item.label + '_ssystemfilename_Protocol'] = uniquefilename;\r\n                    tempData[item && item.label] = Lims_JSON_stringify(item1.name.trim(), false)\r\n                    formData.append(\"uploadedFile\" + count, item1);\r\n                    formData.append(\"uniquefilename\" + count, uniquefilename);\r\n                    count++;\r\n                    formData.append(\"isFileEdited\", transactionStatus.YES);\r\n                    formData.append(\"userinfo\", JSON.stringify(this.props.Login.userInfo));\r\n                    Map['isFileupload'] = true;\r\n                    Map[\"protocolVersion\"]['jsondata'] = {\r\n                        ...Map[\"protocolVersion\"]['jsondata'],\r\n                        ...tempData\r\n                    };\r\n                    Map[\"protocolVersion\"]['jsonuidata'] = {\r\n                        ...Map[\"protocolVersion\"]['jsonuidata'],\r\n                        ...tempData\r\n                    };\r\n                    formData.append(\"userinfo\", JSON.stringify(this.props.Login.userInfo));\r\n                    isFileupload = true;\r\n                })\r\n            }\r\n        })    \r\n        formData.append(\"Map\", Lims_JSON_stringify(JSON.stringify(Map)));\r\n        formData.append(\"filecount\", count);\r\n\r\n\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"Protocol\",\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: Map,\r\n            selectedId: this.state.selectedRecord[\"nprotocolcode\"],\r\n            operation: 'create',\r\n            searchRef: this.searchRef,\r\n            formData: formData,\r\n            isFileupload,\r\n            postParamList: this.postParamList\r\n        };\r\n\r\n        // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n        //     const updateInfo = {\r\n        //         typeName: DEFAULT_RETURN,\r\n        //         data: {\r\n        //             loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n        //             openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_PROTOCOL\" }),\r\n        //             operation: 'create', saveType, formRef,\r\n        //         }\r\n        //     }\r\n        //     this.props.updateStore(updateInfo);\r\n        // } else {\r\n            this.props.insertProtocolAction(inputParam, this.props.Login.masterData, \"openModal\");\r\n        //}\r\n\r\n\r\n    }\r\n\r\n    updateProtocol = (saveType, formRef) => {\r\n        let isFileupload = false;\r\n        let Map = {};\r\n        let dynamicValue =JSON.parse(this.props.Login.masterData.dynamicDesign.jsondata.value);\r\n\r\n        Map[\"ndesigntemplatemappingcode\"] = this.props.Login.masterData && this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;\r\n        Map[\"napprovalconfigversioncode\"] = this.props.Login.masterData && this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;\r\n        Map[\"ntranscode\"] = this.props.Login.masterData && this.props.Login.masterData.realStatusValue.ntransactionstatus;\r\n\r\n        const param = this.setProtocol(this.props.Login.masterData, this.state.selectedRecord,\r\n            this.props.Login.masterData.dynamicDesignMapping[0].jsondata,\r\n            this.props.Login.userInfo, this.props.Login.defaultTimeZone, 'update', this.props.Login.comboComponents);\r\n\r\n        Map[\"protocol\"] = param.protocol;\r\n        Map[\"protocolVersion\"] = param.protocolVersion;\r\n        Map[\"protocolVersion\"][\"jsonuidata\"][\"nprotocolcode\"] = String(this.state.selectedRecord.nprotocolcode);\r\n        Map[\"protocolVersion\"][\"nprotocolcode\"] = String(this.state.selectedRecord.nprotocolcode);\r\n        Map[\"protocol\"][\"nprotocolcode\"] = String(this.state.selectedRecord.nprotocolcode);\r\n        Map[\"nprotocolcode\"] = this.state.selectedRecord.nprotocolcode;\r\n        Map[\"dateList\"] = param.dateList;\r\n        Map['dateConstraints'] = dynamicValue.dateconstraints;\r\n        Map[\"combinationUnique\"] = this.state.dynamicCombinationUnique;\r\n        Map[\"selectedProtocol\"] = this.props.Login.masterData.selectedProtocol;            \r\n        Map[\"userinfo\"] = this.props.Login.userInfo;   \r\n\r\n        let tempData = {};\r\n        const formData = new FormData();\r\n            this.props.Login.withoutCombocomponent.map(item => {\r\n                if (item.inputtype === \"files\") {\r\n                    if (typeof this.state.selectedRecord[item && item.label] === \"object\") {\r\n                        this.state.selectedRecord[item && item.label] && this.state.selectedRecord[item && item.label].forEach((item1, index) => {\r\n                            const fileName = create_UUID();\r\n                            const splittedFileName = item1.name.split('.');\r\n                            const fileExtension = item1.name.split('.')[splittedFileName.length - 1];\r\n                            const uniquefilename = fileName + '.' + fileExtension;    \r\n                            tempData[item && item.label + '_susername_Sample'] = this.props.Login.userInfo.susername;\r\n                            tempData[item && item.label + '_suserrolename_Sample'] = this.props.Login.userInfo.suserrolename;\r\n                            tempData[item && item.label + '_nfilesize_Sample'] = item1.size;\r\n                            tempData[item && item.label + '_ssystemfilename_Sample'] = uniquefilename;\r\n                            tempData[item && item.label] = Lims_JSON_stringify(item1.name.trim(), false)\r\n                            formData.append(\"uploadedFile\" + index, item1);\r\n                            formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                            formData.append(\"filecount\", this.state.selectedRecord[item && item.label].length);\r\n                            formData.append(\"isFileEdited\", transactionStatus.YES);\r\n                            formData.append(\"userinfo\", JSON.stringify(this.props.Login.userInfo));\r\n                            Map['isFileupload'] = true;\r\n                            Map[\"protocolVersion\"]['jsondata'] = {\r\n                                ...Map[\"protocolVersion\"]['jsondata'],\r\n                                ...tempData\r\n                            };\r\n                            Map[\"protocolVersion\"]['jsonuidata'] = {\r\n                                ...Map[\"protocolVersion\"]['jsonuidata'],\r\n                                ...tempData\r\n                            };\r\n                            formData.append(\"userinfo\", JSON.stringify(this.props.Login.userInfo));\r\n                            formData.append(\"Map\", Lims_JSON_stringify(JSON.stringify(Map)));\r\n                            isFileupload = true;\r\n                        }\r\n                        )\r\n                    }\r\n                }\r\n            })\r\n            \r\n            const inputParam = {\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                methodUrl: \"Protocol\",\r\n                displayName: this.props.Login.inputParam.displayName,\r\n                inputData: Map,\r\n                action:\"editprotocol\",\r\n                operation: \"update\", saveType, formRef,\r\n                selectedRecord: { ...this.state.selectedRecord, sloginid: this.props.Login.userInfo.sloginid },           \r\n                isFileupload, formData: formData\r\n            };\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        \r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                        openModal: true, screenName: \"IDS_PROTOCOL\",\r\n                        operation: 'update'\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.updateProtocolAction(inputParam, this.props.Login.masterData, \"openModal\");\r\n            }\r\n    };\r\n\r\n    setProtocol = (masterData, selectedRecord, templateList, userInfo, defaulttimeZone, operation, comboComponents) => {\r\n        let protocol = {};\r\n        let protocolVersion = {};\r\n        let dateList = [];\r\n        protocolVersion[\"ndesigntemplatemappingcode\"] = masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;\r\n        protocolVersion[\"napproveconfversioncode\"] = masterData.realApprovalVersionValue.napprovalconfigversioncode;\r\n        protocol[\"nproductcatcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product Category')]['label']] ?\r\n            selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product Category')]['label']].value : -1;\r\n        protocol[\"nproductcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product')]['label']] ?\r\n            selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product')]['label']].value : -1;\r\n        protocolVersion[\"sprotocolname\"] = selectedRecord[\"Protocol Name\"];\r\n        protocol[\"sprotocolid\"] = \"-\";\r\n        protocolVersion[\"sversion\"] = \"-\";\r\n        protocolVersion[\"jsondata\"] = {};\r\n        protocolVersion[\"jsonuidata\"] = {};\r\n\r\n\r\n        templateList && templateList.map(row => {\r\n            return row.children.map(column => {\r\n                return column.children.map(component => {\r\n                    if (component.hasOwnProperty(\"children\")) {\r\n                        return component.children.map(componentrow => {\r\n                            if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"predefineddropdown\") {\r\n                                if (componentrow.inputtype === \"predefineddropdown\") {\r\n                                    protocolVersion[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                        {\r\n                                            value: selectedRecord[componentrow.label].value,\r\n                                            label: selectedRecord[componentrow.label].label\r\n\r\n\r\n                                        } : -1\r\n                                    protocolVersion[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\r\n\r\n                                } else {\r\n                                    protocolVersion[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                        {\r\n                                            value: selectedRecord[componentrow.label].value,\r\n                                            label: selectedRecord[componentrow.label].label,\r\n                                            pkey: componentrow.valuemember,\r\n                                            nquerybuildertablecode: componentrow.nquerybuildertablecode,\r\n                                            source: componentrow.source,\r\n                                            [componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]: operation === \"update\" ?\r\n                                                selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] :\r\n                                                    selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]\r\n                                                :\r\n                                                selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] :\r\n                                                    selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] ? selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]\r\n                                                        : selectedRecord[componentrow.label].vale\r\n\r\n                                        } : -1\r\n                                    protocolVersion[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\r\n\r\n                                }\r\n                            }\r\n                            else if (componentrow.inputtype === \"date\") {\r\n                                if (componentrow.mandatory) {\r\n                                    protocolVersion[\"jsondata\"][componentrow.label] = (typeof selectedRecord[componentrow.label] === \"object\") ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                            selectedRecord[componentrow.label] : new Date(), userInfo) :\r\n                                        (typeof selectedRecord[componentrow.label] === \"number\") ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                new Date(selectedRecord[componentrow.label]) : new Date(), userInfo)\r\n                                            : selectedRecord[componentrow.label] ?\r\n                                                selectedRecord[componentrow.label] : \"\";\r\n\r\n                                    protocolVersion[\"jsonuidata\"][componentrow.label] = protocolVersion[\"jsondata\"][componentrow.label]\r\n                                } else {\r\n                                    protocolVersion[\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ?\r\n                                        typeof selectedRecord[componentrow.label] === \"object\" ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                selectedRecord[componentrow.label] : new Date(), userInfo) :\r\n                                            typeof selectedRecord[componentrow.label] === \"number\" ?\r\n                                                convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                    new Date(selectedRecord[componentrow.label]) : new Date(), userInfo)\r\n\r\n                                                : selectedRecord[componentrow.label] ?\r\n                                                    selectedRecord[componentrow.label] : \"\" :\r\n                                        selectedRecord[componentrow.label] ? typeof selectedRecord[componentrow.label] === \"object\" ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ?\r\n                                                convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                    new Date(selectedRecord[componentrow.label]) : new Date(), userInfo)\r\n\r\n                                                : selectedRecord[componentrow.label] ?\r\n                                                    selectedRecord[componentrow.label]\r\n                                                    : \"\" : \"\";\r\n\r\n                                    protocolVersion[\"jsonuidata\"][componentrow.label] = protocolVersion[\"jsondata\"][componentrow.label]\r\n                                }\r\n                                if (componentrow.timezone) {\r\n                                    protocolVersion[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\r\n                                        { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\r\n                                        defaulttimeZone ? defaulttimeZone : -1\r\n\r\n                                    protocolVersion[\"jsonuidata\"][`tz${componentrow.label}`] = protocolVersion[\"jsondata\"][`tz${componentrow.label}`]\r\n                                }\r\n                                dateList.push(componentrow.label)\r\n                            }\r\n\r\n                            else {\r\n                                protocolVersion[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                    selectedRecord[componentrow.label] : \"\"\r\n\r\n                                protocolVersion[\"jsonuidata\"][componentrow.label] = protocolVersion[\"jsondata\"][componentrow.label]\r\n                            }\r\n                        })\r\n                        return protocolVersion;\r\n\r\n                    }\r\n                    else {\r\n                        if (component.inputtype === \"combo\" || component.inputtype === \"predefineddropdown\") {\r\n                            if (component.inputtype === \"predefineddropdown\") {\r\n                                protocolVersion[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                    {\r\n                                        value: selectedRecord[component.label].value,\r\n                                        label: selectedRecord[component.label].label,\r\n\r\n\r\n                                    } : -1\r\n                                protocolVersion[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\r\n\r\n                            } else {\r\n                                protocolVersion[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                    {\r\n                                        value: selectedRecord[component.label].value,\r\n                                        label: selectedRecord[component.label].label,\r\n                                        pkey: component.valuemember,\r\n                                        nquerybuildertablecode: component.nquerybuildertablecode,\r\n                                        source: component.source,\r\n                                        [component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]: operation === \"update\" ?\r\n                                            selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] :\r\n                                                selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                            :\r\n                                            selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] :\r\n                                                selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] ? selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                                    : selectedRecord[component.label].value\r\n\r\n                                    } : -1\r\n                                protocolVersion[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\r\n\r\n                            }\r\n                        }\r\n                        else if (component.inputtype === \"date\") {\r\n                            if (component.mandatory) {\r\n                                console.log(typeof selectedRecord[component.label] === \"object\")\r\n                                protocolVersion[\"jsondata\"][component.label] = typeof selectedRecord[component.label] === \"object\" ?\r\n\r\n                                    convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                        selectedRecord[component.label] : new Date(), userInfo) :\r\n                                    (typeof selectedRecord[component.label] === \"number\") ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            new Date(selectedRecord[component.label]) : new Date(), userInfo) :\r\n                                        selectedRecord[component.label] ?\r\n                                            selectedRecord[component.label] : \"\";\r\n\r\n                                protocolVersion[\"jsonuidata\"][component.label] = protocolVersion[\"jsondata\"][component.label]\r\n                            } else {\r\n                                protocolVersion[\"jsondata\"][component.label] = component.loadcurrentdate ?\r\n                                    typeof selectedRecord[component.label] === \"object\" ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            selectedRecord[component.label] : new Date(), userInfo) :\r\n                                        typeof selectedRecord[component.label] === \"number\" ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                                new Date(selectedRecord[component.label]) : new Date(), userInfo)\r\n\r\n                                            : selectedRecord[component.label] ?\r\n                                                selectedRecord[component.label] : \"\" :\r\n                                    selectedRecord[component.label] ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                        selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            new Date(selectedRecord[component.label]) : new Date(), userInfo)\r\n                                        : selectedRecord[component.label] ?\r\n                                            selectedRecord[component.label] : \"\" : \"\";\r\n\r\n                                protocolVersion[\"jsonuidata\"][component.label] = protocolVersion[\"jsondata\"][component.label]\r\n                            }\r\n                            if (component.timezone) {\r\n                                protocolVersion[\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ?\r\n                                    { value: selectedRecord[`tz${component.label}`].value, label: selectedRecord[`tz${component.label}`].label } :\r\n                                    defaulttimeZone ? defaulttimeZone : -1\r\n\r\n                                protocolVersion[\"jsonuidata\"][`tz${component.label}`] = protocolVersion[\"jsondata\"][`tz${component.label}`]\r\n                            }\r\n                            dateList.push(component.label)\r\n                        }\r\n                        else {\r\n                            protocolVersion[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                selectedRecord[component.label] : \"\"\r\n\r\n                            protocolVersion[\"jsonuidata\"][component.label] = protocolVersion[\"jsondata\"][component.label]\r\n                        }\r\n                        return protocolVersion;\r\n                    }\r\n                }\r\n                )\r\n            })\r\n        })\r\n        const param = { protocol, protocolVersion, dateList };\r\n        return param;\r\n\r\n    };\r\n\r\n    confirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteProtocol(\"delete\", deleteId));\r\n    }\r\n\r\n    deleteProtocol = (operation, ncontrolCode) => {\r\n        let inputData = [];\r\n        inputData[\"ndesigntemplatemappingcode\"] = this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;\r\n        inputData[\"napprovalconfigversioncode\"] = this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;\r\n        inputData[\"ntranscode\"] = this.props.Login.masterData.realStatusValue.ntransactionstatus;\r\n        inputData[\"nprotocolcode\"] = this.props.Login.masterData.selectedProtocol[0].nprotocolcode;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        const postParam = {\r\n            inputListName: \"protocol\", selectedObject: \"selectedProtocol\",\r\n            primaryKeyField: \"nprotocolcode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedProtocol[0].nprotocolcode,\r\n            fetchUrl: \"protocol/getActiveProtocolById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"Protocol\",\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"delete\",\r\n            action:\"deleteprotocol\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_PROTOCOL\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    completeProtocol = (ncontrolCode, protocolSkip, protocolTake) => {\r\n\r\n        let protocolList =[];\r\n        if (this.props.Login.masterData.searchedProtocol !== undefined) {\r\n            protocolList = getSameRecordFromTwoArrays(this.props.Login.masterData.searchedProtocol, \r\n                           this.props.Login.masterData.searchedProtocol.slice(protocolSkip, protocolSkip + protocolTake), \"nprotocolcode\");\r\n        } else {\r\n            protocolList = this.props.Login.masterData.protocol && this.props.Login.masterData.protocol.slice(protocolSkip, protocolSkip + protocolTake);\r\n        }\r\n        let completeList = getSameRecordFromTwoArrays(protocolList || [], this.props.Login.masterData.selectedProtocol, \"nprotocolcode\");\r\n        if(completeList && completeList.length===0){\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROTOCOL\" }));\r\n        // }else if(completeList && completeList.length>1){\r\n        //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYONEPROTOCOL\" }));\r\n        }else if(completeList && completeList.length===1){                \r\n            let Map = {};\r\n            Map[\"ndesigntemplatemappingcode\"] = this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;\r\n            Map[\"napprovalconfigversioncode\"] = this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;\r\n            Map[\"nprotocolcode\"] = this.props.Login.masterData.selectedProtocol[0].nprotocolcode;\r\n            Map[\"userinfo\"] = this.props.Login.userInfo;\r\n            Map[\"masterData\"] = this.props.Login.masterData;\r\n            const postParam = {\r\n                inputListName: \"protocol\", selectedObject: \"selectedProtocol\",\r\n                primaryKeyField: \"nprotocolcode\",\r\n                primaryKeyValue: this.props.Login.masterData.selectedProtocol[0].nprotocolcode,\r\n                fetchUrl: \"protocol/getActiveProtocolById\",\r\n                fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            }\r\n            const inputParam = {\r\n                methodUrl: \"Protocol\",\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                postParamList: this.postParamList,\r\n                inputData: Map,\r\n                operation: \"complete\",\r\n                action:\"complete\",\r\n                postParam\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: \"IDS_PROTOCOL\", operation:\"complete\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }else {\r\n                this.props.completeProtocolAction(inputParam, masterData, \"\");\r\n            }\r\n        }\r\n\r\n    }\r\n    approveProtocol = (status, needEsign,protocolSkip, protocolTake) => {\r\n\r\n        let protocolList =[];\r\n        if (this.props.Login.masterData.searchedProtocol !== undefined) {\r\n            protocolList = getSameRecordFromTwoArrays(this.props.Login.masterData.searchedProtocol, \r\n                           this.props.Login.masterData.searchedProtocol.slice(protocolSkip, protocolSkip + protocolTake), \"nprotocolcode\");\r\n        } else {\r\n            protocolList = this.props.Login.masterData.protocol && this.props.Login.masterData.protocol.slice(protocolSkip, protocolSkip + protocolTake);\r\n        }\r\n        let approveList = getSameRecordFromTwoArrays(protocolList || [], this.props.Login.masterData.selectedProtocol, \"nprotocolcode\");\r\n        if(approveList && approveList.length===0){\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROTOCOL\" }));\r\n        // }else if(completeList && completeList.length>1){\r\n        //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYONEPROTOCOL\" }));\r\n        }else if(approveList && approveList.length===1){                \r\n            let Map = {};\r\n            Map[\"ndesigntemplatemappingcode\"] = this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;\r\n            Map[\"napprovalconfigversioncode\"] = this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;\r\n            Map[\"nprotocolcode\"] = this.props.Login.masterData.selectedProtocol[0].nprotocolcode;\r\n            Map[\"userinfo\"] = this.props.Login.userInfo;\r\n            Map[\"masterData\"] = this.props.Login.masterData;           \r\n            Map[\"napprovalstatus\"] = status.ntransactionstatus;\r\n            const masterData = this.props.Login.masterData;\r\n            const inputParam = {\r\n                inputData: Map,\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                operation: \"dynamicAction\",\r\n                methodUrl: \"Protocol\",\r\n                screenName: \"IDS_PROTOCOL\",\r\n                action: \"dynamicAction\"\r\n            };\r\n            if (needEsign === transactionStatus.YES) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: \"IDS_PROTOCOL\", operation: \"dynamicAction\", selectedRecord: {}\r\n                    }\r\n                };\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                this.props.dynamicAction(inputParam, masterData, \"openModal\", {});\r\n            }\r\n        }    \r\n    }\r\n\r\n    rejectProtocol = (ncontrolCode, protocolSkip, protocolTake) => {\r\n\r\n        let protocolList =[];\r\n        if (this.props.Login.masterData.searchedProtocol !== undefined) {\r\n            protocolList = getSameRecordFromTwoArrays(this.props.Login.masterData.searchedProtocol, \r\n                           this.props.Login.masterData.searchedProtocol.slice(protocolSkip, protocolSkip + protocolTake), \"nprotocolcode\");\r\n        } else {\r\n            protocolList = this.props.Login.masterData.protocol && this.props.Login.masterData.protocol.slice(protocolSkip, protocolSkip + protocolTake);\r\n        }\r\n        let rejectList = getSameRecordFromTwoArrays(protocolList || [], this.props.Login.masterData.selectedProtocol, \"nprotocolcode\");\r\n        if(rejectList && rejectList.length===0){\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROTOCOL\" }));\r\n        // }else if(completeList && completeList.length>1){\r\n        //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYONEPROTOCOL\" }));\r\n        }else if(rejectList && rejectList.length===1){                \r\n            let Map = {};\r\n            Map[\"ndesigntemplatemappingcode\"] = this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;\r\n            Map[\"napprovalconfigversioncode\"] = this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;\r\n            Map[\"nprotocolcode\"] = this.props.Login.masterData.selectedProtocol[0].nprotocolcode;\r\n            Map[\"userinfo\"] = this.props.Login.userInfo;\r\n            Map[\"masterData\"] = this.props.Login.masterData;\r\n            const postParam = {\r\n                inputListName: \"protocol\", selectedObject: \"selectedProtocol\",\r\n                primaryKeyField: \"nprotocolcode\",\r\n                primaryKeyValue: this.props.Login.masterData.selectedProtocol[0].nprotocolcode,\r\n                fetchUrl: \"protocol/getActiveProtocolById\",\r\n                fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            };\r\n            const inputParam = {\r\n                methodUrl: \"Protocol\",\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                inputData: Map,\r\n                operation: \"reject\",\r\n                postParam,\r\n                action: \"reject\"\r\n            };\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: \"IDS_PROTOCOL\", operation:\"reject\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }else {\r\n                this.props.rejectProtocolAction(inputParam, masterData, \"\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    copyProtocol = (ncontrolCode, protocolSkip, protocolTake) => {\r\n        let protocolList =[];\r\n        if (this.props.Login.masterData.searchedProtocol !== undefined) {\r\n            protocolList = getSameRecordFromTwoArrays(this.props.Login.masterData.searchedProtocol, \r\n                           this.props.Login.masterData.searchedProtocol.slice(protocolSkip, protocolSkip + protocolTake), \"nprotocolcode\");\r\n        } else {\r\n            protocolList = this.props.Login.masterData.protocol && this.props.Login.masterData.protocol.slice(protocolSkip, protocolSkip + protocolTake);\r\n        }\r\n        let copyList = getSameRecordFromTwoArrays(protocolList || [], this.props.Login.masterData.selectedProtocol, \"nprotocolcode\");\r\n        if(copyList && copyList.length===0){\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROTOCOL\" }));\r\n        // }else if(copyList && copyList.length>1){\r\n        //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYONEPROTOCOL\" }));\r\n        }else if(copyList && copyList.length===1){                \r\n            let Map = {};\r\n            Map[\"ndesigntemplatemappingcode\"] = this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;\r\n            Map[\"napprovalconfigversioncode\"] = this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;\r\n            Map[\"nprotocolcode\"] = this.props.Login.masterData.selectedProtocol[0].nprotocolcode;\r\n            Map[\"userinfo\"] = this.props.Login.userInfo;\r\n            Map[\"masterData\"] = this.props.Login.masterData;\r\n            Map[\"operation\"] = \"copy\";\r\n            Map[\"screenName\"]= \"IDS_PROTOCOL\";\r\n            Map[\"ncontrolCode\"]=ncontrolCode;\r\n            const inputParam = {               \r\n                inputData: Map,\r\n            };        \r\n            this.props.copyProtocolAction(inputParam);            \r\n        }\r\n    }\r\n    \r\n    copySaveProtocol = (saveType, formRef) => {\r\n\r\n        let Map = {};\r\n        Map[\"ndesigntemplatemappingcode\"] = this.props.Login.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode;\r\n        Map[\"napprovalconfigversioncode\"] = this.props.Login.masterData.realApprovalVersionValue.napprovalconfigversioncode;\r\n        Map[\"ntranscode\"] = this.props.Login.masterData.realStatusValue.ntransactionstatus;\r\n        Map[\"nprotocolcode\"] = this.props.Login.masterData.selectedProtocol[0].nprotocolcode;\r\n        Map[\"sprotocolname\"] = this.state.selectedRecord.sprotocolname;\r\n        Map[\"sprotocolid\"] = \"-\";\r\n        Map[\"Sample Category\"]= {\r\n            \"pkey\": \"nproductcatcode\",\r\n            \"label\": this.state.selectedRecord.nproductcatcode.label,\r\n            \"value\": this.state.selectedRecord.nproductcatcode.value,\r\n            \"source\": \"productcategory\",\r\n            \"nproductcatcode\": this.state.selectedRecord.nproductcatcode.value,\r\n            \"nquerybuildertablecode\": \"107\"\r\n        }\r\n\r\n        Map[\"Sample Type\"]= {\r\n            \"pkey\": \"nproductcode\",\r\n            \"label\": this.state.selectedRecord.nproductcode.label,\r\n            \"value\": this.state.selectedRecord.nproductcode.value,\r\n            \"source\": \"product\",\r\n            \"nproductcatcode\": this.state.selectedRecord.nproductcode.value,\r\n            \"nquerybuildertablecode\": \"105\"\r\n        }\r\n     \r\n        Map[\"userinfo\"] = this.props.Login.userInfo;\r\n        Map[\"masterData\"] = this.props.Login.masterData;\r\n       \r\n        const inputParam = {   \r\n            methodUrl: \"Protocol\",\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: Map,\r\n            operation: \"copy\", \r\n            action:\"copy\"           \r\n        }\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {                     \r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: \"IDS_PROTOCOL\", operation:\"copy\",saveType,formRef\r\n                }\r\n            };\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    tabDetail = () => {\r\n        const tabMap = new Map();\r\n       tabMap.set(\"IDS_PROTOCOLINFORMATION\",\r\n            <ProtocolView\r\n                 data={(this.props.Login.masterData.selectedProtocol && this.props.Login.masterData.selectedProtocol.length > 0) ?\r\n                        this.props.Login.masterData.selectedProtocol[0]: {}}\r\n                singleItem={this.props.Login.masterData.selectedProtocol && this.props.Login.masterData.selectedProtocol ?\r\n                        this.state.singleItem : []}\r\n                screenName=\"IDS_PROTOCOLINFO\"\r\n                userInfo={this.props.Login.userInfo}\r\n                viewFile={this.viewFile}\r\n\r\n            />\r\n       )\r\n\r\n        tabMap.set(\"IDS_PROTOCOLHISTORY\",\r\n            <ProtocolHistoryTab\r\n                protocolHistory={this.props.Login.masterData.protocolHistory || []}\r\n                dataResult={process(this.props.Login.masterData.protocolHistory || [], this.state.historyState)}\r\n                dataState={this.state.historyState}\r\n                dataStateChange={this.dataStateProtocolHistoryChange}\r\n                userInfo={this.props.Login.userInfo}\r\n                methodUrl={\"ProtocolHistory\"}\r\n                screenName=\"IDS_PROTOCOLHISTORY\"\r\n                selectedId = {this.props.Login.selectedId}\r\n\r\n            />\r\n        ) \r\n        \r\n        tabMap.set(\"IDS_PROTOCOLFILE\",\r\n            <ProtocolFileTab\r\n                controlMap={this.state.controlMap}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                userInfo={this.props.Login.userInfo}\r\n                genericLabel={this.props.Login.genericLabel}\r\n                inputParam={this.props.Login.inputParam}\r\n                deleteRecord={this.deleteFileRecord}\r\n                protocolFile={this.props.Login.masterData.protocolFile || []}\r\n                getAvailableData={this.props.getAvailableData}\r\n                addProtocolFile={this.props.addProtocolFile}\r\n                viewProtocolFile={this.viewProtocolFile}\r\n                defaultRecord={this.defaultRecord}\r\n                screenName={\"IDS_PROTOCOLFILE\"}\r\n                settings={this.props.Login.settings}\r\n                masterData={this.props.Login.masterData}\r\n            />);\r\n        return tabMap;\r\n    }\r\n\r\n    insertProtocolFile = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let napprovalconfigversioncode = this.props.Login.masterData.defaultApprovalVersionValue \r\n                                         && this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode \r\n                                         && parseInt(this.props.Login.masterData.defaultApprovalVersionValue.napprovalconfigversioncode) || -1;\r\n        let ndesigntemplatemappingcode = this.props.Login.masterData.defaultDesignTemplateMappingValue \r\n                                         && this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode\r\n                                         && parseInt( this.props.Login.masterData.defaultDesignTemplateMappingValue.ndesigntemplatemappingcode) || -1;\r\n        let ntranscode = this.props.Login.masterData.defaultStatusValue && this.props.Login.masterData.defaultStatusValue.ntranscode || -1;\r\n        let nprotocolcode = this.props.Login.masterData.selectedProtocol[0].nprotocolcode;\r\n        let protocolFileArray = [];\r\n        let protocolFile = {\r\n            nprotocolcode: this.props.Login.masterData.selectedProtocol[0].nprotocolcode,\r\n            nprotocolversioncode: this.props.Login.masterData.selectedProtocol[0].nprotocolversioncode,\r\n            nprotocolfilecode: selectedRecord.nprotocolfilecode ? selectedRecord.nprotocolfilecode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            nattachmenttypecode,\r\n        };\r\n        const formData = new FormData();\r\n        if (nattachmenttypecode === attachmentType.FTP) {\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, protocolFile);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const ssystemfilename = selectedRecord.ssystemfilename && selectedRecord.ssystemfilename !== undefined ? selectedRecord.ssystemfilename.split('.') : create_UUID();\r\n                    const filesystemfileext = selectedRecord.ssystemfilename && selectedRecord.ssystemfilename !== undefined ? file.name.split('.')[ssystemfilename.length - 1] : fileExtension;\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? selectedRecord.nprotocolfilecode && selectedRecord.nprotocolfilecode > 0\r\n                        && selectedRecord.ssystemfilename !== \"\" ? ssystemfilename[0] + '.' + filesystemfileext : create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] = Lims_JSON_stringify(file.name.trim(), false);\r\n                    tempData[\"sdescription\"] = Lims_JSON_stringify(selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\", false);\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    protocolFileArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                protocolFile[\"sfilename\"] = Lims_JSON_stringify(selectedRecord.sfilename, false);\r\n                protocolFile[\"sdescription\"] = Lims_JSON_stringify(selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\", false);\r\n                protocolFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                protocolFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                protocolFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                protocolFileArray.push(protocolFile);\r\n            }\r\n        } else {\r\n            protocolFile[\"sfilename\"] = Lims_JSON_stringify(selectedRecord.slinkfilename.trim(), false);\r\n            protocolFile[\"sdescription\"] = Lims_JSON_stringify(selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\", false);\r\n            protocolFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\r\n            protocolFile[\"ssystemfilename\"] = \"\";\r\n            protocolFile[\"nfilesize\"] = 0;\r\n            protocolFileArray.push(protocolFile);\r\n        }\r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"protocolFile\", JSON.stringify(protocolFileArray));\r\n        formData.append(\"napprovalconfigversioncode\", JSON.stringify(napprovalconfigversioncode));\r\n        formData.append(\"ndesigntemplatemappingcode\", JSON.stringify(ndesigntemplatemappingcode));\r\n        formData.append(\"ntranscode\", JSON.stringify(ntranscode));\r\n        formData.append(\"nprotocolcode\", JSON.stringify(nprotocolcode));\r\n\r\n        let selectedId = null;\r\n        let postParam = undefined;\r\n        if (this.props.Login.operation === \"update\") {\r\n            // edit\r\n            postParam = { inputListName: \"protocol\", selectedObject: \"selectedProtocol\", primaryKeyField: \"nprotocolcode\" };\r\n            selectedId = selectedRecord[\"nprotocolfilecode\"];\r\n        };\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sformname: Lims_JSON_stringify(this.props.Login.userInfo.sformname),\r\n                    smodulename: Lims_JSON_stringify(this.props.Login.userInfo.smodulename),\r\n                    slanguagename: Lims_JSON_stringify(this.props.Login.userInfo.slanguagename)\r\n                }\r\n            },\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            formData: formData,\r\n            isFileupload: true,\r\n            operation: this.props.Login.operation,\r\n            classUrl: \"protocol\",\r\n            action:\"editprotocolfile\",\r\n            saveType, formRef, methodUrl: \"ProtocolFile\", postParam\r\n        };\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData }, saveType\r\n                }\r\n            };\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openChildModal\");\r\n        }\r\n    }\r\n\r\n    deleteFileRecord = (protocolDeleteParam) => {\r\n        let inputParam = {};\r\n        inputParam = {\r\n            classUrl: \"protocol\",\r\n            methodUrl: protocolDeleteParam.methodUrl,\r\n            inputData: {\r\n                [protocolDeleteParam.methodUrl.toLowerCase()]: protocolDeleteParam.selectedRecord,\r\n                \"nprotocolcode\": this.props.Login.masterData.selectedProtocol[0].nprotocolcode,\r\n                \"nprotocolfilecode\":protocolDeleteParam.selectedRecord.nprotocolfilecode,\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    slanguagename: Lims_JSON_stringify(this.props.Login.userInfo.slanguagename)\r\n                }\r\n            },\r\n            operation: protocolDeleteParam.operation,\r\n            dataState: this.state.dataState,\r\n            postParam: {\r\n                inputListName: \"protocol\", selectedObject: \"selectedProtocol\", primaryKeyField: \"nprotocolcode\",\r\n                fetchUrl: \"protocol/getActiveProtocolById\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            },\r\n            action:\"deleteprotocolfile\",\r\n\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, protocolDeleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openChildModal: true,\r\n                    screenName: protocolDeleteParam.screenName, operation: protocolDeleteParam.operation\r\n                }\r\n            };\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openChildModal\");\r\n        }\r\n    }\r\n    \r\n    viewProtocolFile = (props) => {\r\n        const viewParam = {\r\n            operation: \"view\",\r\n            methodUrl: \"ProtocolFile\",\r\n            classUrl: \"protocol\",\r\n            inputData: {\r\n                userinfo: this.props.Login.userInfo,\r\n                nprotocolcode: props.nprotocolcode,\r\n                nprotocolfilecode: props.nprotocolfilecode,\r\n            }\r\n        };\r\n        this.props.viewAttachment(viewParam);\r\n    }\r\n\r\n    dataStateProtocolHistoryChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.ProtocolHistory, event.dataState),\r\n            historyState: event.dataState\r\n        });\r\n    }\r\n\r\n    handleProtocolPageChange = e => {\r\n        this.setState({\r\n            protocolSkip: e.skip,\r\n            protocolTake: e.take\r\n        });\r\n    };\r\n\r\n    componentDidUpdate(previousProps) {\r\n\r\n\r\n        let { userRoleControlRights, controlMap, selectedRecord, masterData, dynamicGridItem, dynamicGridMoreField, \r\n              dynamicExportItem, dynamicDateField, dynamicTemplateField,dynamicDateConstraints, dynamicCombinationUnique, \r\n              dynamicExportfields, configVersionList,dynamicDesignMappingList, statusList,activeTabIndex,\r\n              activeTabId,singleItem,dynamiccolumns,editable,searchFields } = this.state;\r\n        let bool = false;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                bool = true;\r\n            }\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord\r\n            bool = true;\r\n        }\r\n\r\n        if (this.props.Login.activeTabIndex !== previousProps.Login.activeTabIndex) {\r\n            activeTabIndex = this.props.Login.activeTabIndex;\r\n            activeTabId = this.props.Login.activeTabId;\r\n            bool = true;\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            if(this.props.Login.masterData.configVersion !== previousProps.Login.masterData.configVersion){\r\n                const configVersionListMap = constructOptionList(this.props.Login.masterData.configVersion || [], \"napprovalconfigversioncode\", \"sversionname\", \"nsorter\", \"ascending\", false);\r\n                configVersionList = configVersionListMap.get(\"OptionList\");\r\n                bool = true;\r\n            }            \r\n\r\n            if(this.props.Login.masterData.dynamicDesignMapping !== previousProps.Login.masterData.dynamicDesignMapping){\r\n                const dynamicDesignMappingListMap = constructOptionList(this.props.Login.masterData.dynamicDesignMapping || [], \"ndesigntemplatemappingcode\", \"sregtemplatename\",\"nsorter\", \"ascending\", false);\r\n                dynamicDesignMappingList = dynamicDesignMappingListMap.get(\"OptionList\");\r\n                bool = true;\r\n            }\r\n            \r\n\r\n            if (this.props.Login.masterData.status !== previousProps.Login.masterData.status) {\r\n                const statusListMap = constructOptionList(this.props.Login.masterData.status || [], \"ntransactionstatus\", \"sfilterstatus\", \"\",\"ascending\", false);\r\n                statusList = statusListMap.get(\"OptionList\");\r\n                bool = true;\r\n            }    \r\n\r\n            \r\n        }\r\n        if (this.props.Login.masterData.dynamicDesign && this.props.Login.masterData.dynamicDesign !== previousProps.Login.masterData.dynamicDesign) {\r\n            const dynamicColumn = JSON.parse(this.props.Login.masterData.dynamicDesign.jsondata && this.props.Login.masterData.dynamicDesign.jsondata.value)\r\n            if (dynamicColumn !== null) {\r\n                dynamicGridItem = dynamicColumn.griditem ? dynamicColumn.griditem : [];\r\n                dynamicGridMoreField = dynamicColumn.gridmoreitem ? dynamicColumn.gridmoreitem : [];\r\n                dynamicExportItem = dynamicColumn.exportFields ? dynamicColumn.exportFields : [];\r\n                dynamicDateField = dynamicColumn.datefields ? dynamicColumn.datefields : [];\r\n                dynamicTemplateField = dynamicColumn.templatefields ? dynamicColumn.templatefields : [];\r\n                dynamicDateConstraints = dynamicColumn.dateconstraints ? dynamicColumn.dateconstraints : [];\r\n                dynamicCombinationUnique = dynamicColumn.combinationunique ? dynamicColumn.combinationunique : [];\r\n                dynamicExportfields = dynamicColumn.exportFields ? dynamicColumn.exportFields : [];   \r\n                singleItem = dynamicColumn.displayFields ? dynamicColumn.displayFields : [];\r\n                dynamiccolumns = dynamicColumn.listItem ? dynamicColumn.listItem : [];\r\n                editable = dynamicColumn.editable ? dynamicColumn.editable:[];\r\n                searchFields = dynamicColumn.searchfields ?  dynamicColumn.searchfields:[];\r\n                \r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n        if (bool) {\r\n            bool = false;\r\n            this.setState({\r\n                userRoleControlRights, controlMap, selectedRecord, masterData, dynamicGridItem, dynamicGridMoreField, \r\n                dynamicExportItem, dynamicDateField, dynamicTemplateField,dynamicDateConstraints, dynamicCombinationUnique,\r\n                dynamicExportfields, configVersionList, dynamicDesignMappingList, statusList,activeTabIndex, activeTabId,singleItem,\r\n                dynamiccolumns,editable,searchFields\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    updateStore, callService, crudMaster, getProtocolTemplateByConfigVersion, ProtocolFilterSubmit,\r\n    getPreviewTemplate, getProtocolDetail, addProtocolFile, viewAttachment, getChildValues,validateEsignforProtocol,\r\n    completeProtocolAction,dynamicAction,getEditComboService,updateProtocolAction,rejectProtocolAction,copyProtocolAction,\r\n    insertProtocolAction,filterTransactionList,getProduct\r\n})(injectIntl(Protocol))"]},"metadata":{},"sourceType":"module"}