{"ast":null,"code":"import * as tslib_1 from \"tslib\";\nimport { chainCommands, exitCode, newlineInCode, createParagraphNear, liftEmptyBlock, splitBlockKeepMarks, deleteSelection, joinBackward, selectNodeBackward } from 'prosemirror-commands';\nimport { undo, redo } from 'prosemirror-history';\nimport { undoInputRule } from 'prosemirror-inputrules';\nimport { splitListItemKeepMarks } from '../lists';\nimport { bold, italic, underline } from './commands';\nimport { toggleInlineFormat } from './../inline-style';\nimport { expandToWordWrap } from '../utils';\nvar mac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false; // https://github.com/ProseMirror/prosemirror-example-setup/blob/master/src/keymap.js\n\nexport var buildKeymap = function buildKeymap(schema, options) {\n  var keys = {};\n  var applyToWord = options && options.applyToWord || false;\n  keys['Mod-z'] = undo;\n  keys['Shift-Mod-z'] = redo; // tslint:disable-next-line:no-string-literal\n\n  keys['Backspace'] = chainCommands(undoInputRule, deleteSelection, joinBackward, selectNodeBackward); // tslint:disable-next-line:no-string-literal\n\n  keys['Enter'] = chainCommands(newlineInCode, createParagraphNear, liftEmptyBlock, splitBlockKeepMarks);\n\n  if (!mac) {\n    keys['Mod-y'] = redo;\n  }\n\n  if (schema.marks.strong) {\n    keys['Mod-b'] = expandToWordWrap(toggleInlineFormat, tslib_1.__assign({}, bold, {\n      applyToWord: applyToWord\n    }));\n  }\n\n  if (schema.marks.em) {\n    keys['Mod-i'] = expandToWordWrap(toggleInlineFormat, tslib_1.__assign({}, italic, {\n      applyToWord: applyToWord\n    }));\n  }\n\n  if (schema.marks.u) {\n    keys['Mod-u'] = expandToWordWrap(toggleInlineFormat, tslib_1.__assign({}, underline, {\n      applyToWord: applyToWord\n    }));\n  }\n\n  if (schema.nodes.hard_break) {\n    var br_1 = schema.nodes.hard_break;\n    var cmd = chainCommands(exitCode, function (state, dispatch) {\n      dispatch(state.tr.replaceSelectionWith(br_1.create()).scrollIntoView());\n      return true;\n    });\n    keys['Shift-Enter'] = cmd;\n  }\n\n  return keys;\n};\nexport var buildListKeymap = function buildListKeymap(schema) {\n  var keys = {};\n\n  if (schema.nodes.list_item) {\n    // tslint:disable-next-line:no-string-literal\n    keys['Enter'] = splitListItemKeepMarks(schema.nodes.list_item);\n  }\n\n  return keys;\n};","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/node_modules/@progress/kendo-editor-common/dist/es/config/keymap.js"],"names":["tslib_1","chainCommands","exitCode","newlineInCode","createParagraphNear","liftEmptyBlock","splitBlockKeepMarks","deleteSelection","joinBackward","selectNodeBackward","undo","redo","undoInputRule","splitListItemKeepMarks","bold","italic","underline","toggleInlineFormat","expandToWordWrap","mac","navigator","test","platform","buildKeymap","schema","options","keys","applyToWord","marks","strong","__assign","em","u","nodes","hard_break","br_1","cmd","state","dispatch","tr","replaceSelectionWith","create","scrollIntoView","buildListKeymap","list_item"],"mappings":"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","sourcesContent":["import * as tslib_1 from \"tslib\";\nimport { chainCommands, exitCode, newlineInCode, createParagraphNear, liftEmptyBlock, splitBlockKeepMarks, deleteSelection, joinBackward, selectNodeBackward } from 'prosemirror-commands';\nimport { undo, redo } from 'prosemirror-history';\nimport { undoInputRule } from 'prosemirror-inputrules';\nimport { splitListItemKeepMarks } from '../lists';\nimport { bold, italic, underline } from './commands';\nimport { toggleInlineFormat } from './../inline-style';\nimport { expandToWordWrap } from '../utils';\nvar mac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;\n// https://github.com/ProseMirror/prosemirror-example-setup/blob/master/src/keymap.js\nexport var buildKeymap = function (schema, options) {\n    var keys = {};\n    var applyToWord = (options && options.applyToWord) || false;\n    keys['Mod-z'] = undo;\n    keys['Shift-Mod-z'] = redo;\n    // tslint:disable-next-line:no-string-literal\n    keys['Backspace'] = chainCommands(undoInputRule, deleteSelection, joinBackward, selectNodeBackward);\n    // tslint:disable-next-line:no-string-literal\n    keys['Enter'] = chainCommands(newlineInCode, createParagraphNear, liftEmptyBlock, splitBlockKeepMarks);\n    if (!mac) {\n        keys['Mod-y'] = redo;\n    }\n    if (schema.marks.strong) {\n        keys['Mod-b'] = expandToWordWrap(toggleInlineFormat, tslib_1.__assign({}, bold, { applyToWord: applyToWord }));\n    }\n    if (schema.marks.em) {\n        keys['Mod-i'] = expandToWordWrap(toggleInlineFormat, tslib_1.__assign({}, italic, { applyToWord: applyToWord }));\n    }\n    if (schema.marks.u) {\n        keys['Mod-u'] = expandToWordWrap(toggleInlineFormat, tslib_1.__assign({}, underline, { applyToWord: applyToWord }));\n    }\n    if (schema.nodes.hard_break) {\n        var br_1 = schema.nodes.hard_break;\n        var cmd = chainCommands(exitCode, function (state, dispatch) {\n            dispatch(state.tr.replaceSelectionWith(br_1.create()).scrollIntoView());\n            return true;\n        });\n        keys['Shift-Enter'] = cmd;\n    }\n    return keys;\n};\nexport var buildListKeymap = function (schema) {\n    var keys = {};\n    if (schema.nodes.list_item) {\n        // tslint:disable-next-line:no-string-literal\n        keys['Enter'] = splitListItemKeepMarks(schema.nodes.list_item);\n    }\n    return keys;\n};\n"]},"metadata":{},"sourceType":"module"}