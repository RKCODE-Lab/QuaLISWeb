{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\branches\\\\SOURCE-513-PROD\\\\SOURCE-513-ALPD-5304\\\\QuaLISWeb\\\\src\\\\pages\\\\approval\\\\OOSMaster.jsx\";\nimport React from 'react';\nimport { ListWrapper } from '../../components/client-group.styles';\nimport { Col, Row, Card, Nav } from 'react-bootstrap';\nimport ListMaster from '../../components/list-master/list-master.component';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport { getControlMap, onSaveMandatoryValidation, showEsign, Lims_JSON_stringify, create_UUID, replaceUpdatedObject, rearrangeDateFormat } from '../../components/CommonScript';\nimport { toast } from 'react-toastify';\nimport { callService, getOOSMasterData, getOosMasterDetail, onSaveOOSWorkFlowTransaction, updateStore, // onSaveOOSMasterChecklist,\nonSaveOOSChecklistQb, deleteOOSWorkFlowTransaction } from '../../actions';\nimport { ContentPanel } from '../../components/App.styles';\nimport { transactionStatus, attachmentType } from '../../components/Enumeration';\nimport DataGrid from '../../components/data-grid/data-grid.component';\nimport { process } from '@progress/kendo-data-query';\nimport Axios from 'axios';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport rsapi from '../../rsapi';\nimport AddOOSWorkFlowTransaction from './AddOOSWorkFlowTransaction';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport EsignStateHandle from '../audittrail/EsignStateHandle';\nimport { constructOptionList } from '../../components/CommonScript'; // import AddOOSMasterChecklist from './AddOOSMasterChecklist';\n\nimport AddOOSChecklistQb from './AddOOSChecklistQb';\nimport { ReactComponent as Done } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/done.svg\";\nimport { ReactComponent as Open } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/open.svg\";\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass OOSMaster extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      let masterData = { ...this.props.Login.masterData\n      };\n      let inputData = {\n        userinfo: this.props.Login.userInfo\n      };\n      let inputParam = {\n        masterData,\n        inputData\n      };\n      this.props.getOOSMasterData(inputParam);\n    };\n\n    this.closeModal = () => {\n      let loadEsignStateHandle = this.props.Login.loadEsignStateHandle;\n      let openModal = this.props.Login.openModal;\n      let screenName = this.props.Login.screenName;\n      let operation = this.props.Login.operation;\n      let selectedRecord = this.props.Login.selectedRecord;\n      let selectedId = this.props.Login.selectedId;\n\n      if (this.props.Login.loadEsignStateHandle) {\n        if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"receive\" || this.props.Login.operation === \"approve\") {\n          loadEsignStateHandle = false;\n          openModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsignStateHandle = false;\n          selectedRecord['esignpassword'] = \"\";\n          selectedRecord['esigncomments'] = \"\";\n          selectedRecord['esignreason'] = \"\";\n        }\n      } else {\n        openModal = false;\n        selectedRecord = {};\n        screenName = \"\";\n        operation = \"\";\n        selectedId = \"\";\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          loadEsignStateHandle,\n          selectedRecord,\n          screenName,\n          operation,\n          selectedId\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.dataStateChange = event => {\n      this.setState({\n        dataResult: process(this.state.data ? this.state.data : [], event.dataState),\n        dataState: event.dataState\n      });\n    };\n\n    this.openOosMasterStep = controlCode => {\n      const isInitialRender = true;\n      let selectedRecord = {};\n      const url = \"oos/getOOSWorkFlowType\";\n      let urlArray = [];\n      urlArray.push(rsapi.post(url, {\n        userinfo: this.props.Login.userInfo,\n        noosmastercode: this.props.Login.masterData.selectedOosMaster && this.props.Login.masterData.selectedOosMaster.noosmastercode\n      }));\n      Axios.all(urlArray).then(response => {\n        let responseData = response[0].data;\n        const OosWorkFlowTypeMap = constructOptionList(responseData.oosWorkFlowType || [], \"noosworkflowtypecode\", \"soosworkflowtypename\", '', 'noosworkflowtypecode', false);\n        let OosWorkFlowType = OosWorkFlowTypeMap.get(\"OptionList\");\n        let noosworkflowtypecode = [];\n        let ntranscode = [];\n        const OosStepStatusMap = constructOptionList(responseData.OosStepStatus || [], \"ntranscode\", \"stransdisplaystatus\", '', 'ntranscode', false);\n        let OosStepStatus = OosStepStatusMap.get(\"OptionList\");\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            openModal: true,\n            OosWorkFlowType,\n            OosStepStatus,\n            noosworkflowtypecode,\n            ntranscode,\n            screenName: \"IDS_OOSWORKFLOWTRANSACTION\",\n            operation: \"create\",\n            isInitialRender,\n            selectedRecord,\n            ncontrolCode: controlCode\n          }\n        };\n        this.props.updateStore(updateInfo);\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      }); // }\n    };\n\n    this.deleteOOSWorkFlowTransaction = deleteParam => {\n      let selectedRecord = deleteParam.selectedRecord;\n      let inputData = {};\n      inputData[\"noosworkflowtransactioncode\"] = selectedRecord.noosworkflowtransactioncode;\n      inputData[\"noosmastercode\"] = selectedRecord.noosmastercode;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const inputParam = {\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: \"OOSWorkFlowTransaction\",\n        inputData: inputData,\n        operation: \"delete\",\n        selectedRecord: this.state.selectedRecord,\n        masterData: this.props.Login.masterData\n      };\n      this.props.deleteOOSWorkFlowTransaction(inputParam);\n    };\n\n    this.viewChecklistQb = inputParam => {\n      const isInitialRender = true;\n      let masterData = inputParam.masterData;\n      let selectedRow = inputParam.viewRow;\n      const url = \"oos/viewCheclistQb\";\n      let urlArray = [];\n      urlArray.push(rsapi.post(url, {\n        userinfo: this.props.Login.userInfo,\n        noosworkflowtransactioncode: selectedRow.noosworkflowtransactioncode,\n        noosmastercode: selectedRow.noosmastercode\n      }));\n      Axios.all(urlArray).then(response => {\n        let templateData = response[0].data.ChecklistData;\n        masterData[\"templateData\"] = templateData;\n        let selectedId = selectedRow.noosworkflowtransactioncode;\n        let selectedRecord = {};\n        let lsteditedQB = [];\n        templateData.map(checklist => {\n          selectedRecord[checklist.nchecklistversionqbcode] = {\n            nchecklistqbcode: checklist.nchecklistqbcode,\n            nchecklistversioncode: checklist.nchecklistversioncode,\n            nchecklistversionqbcode: checklist.nchecklistversionqbcode,\n            sdefaultvalue: checklist.nchecklistcomponentcode === 7 ? rearrangeDateFormat(this.props.Login.userInfo, checklist.sdefaultvalue) : checklist.sdefaultvalue,\n            noosworkflowtransactioncode: inputParam.primaryKeyValue\n          };\n          lsteditedQB.push(checklist.nchecklistversionqbcode);\n          return null;\n        });\n        templateData.map(checklist => {\n          selectedRecord['jsondata'] = { ...selectedRecord['jsondata'],\n            [checklist.nchecklistversionqbcode]: checklist.nchecklistcomponentcode === 7 ? rearrangeDateFormat(this.props.Login.userInfo, checklist.sdefaultvalue) : checklist.sdefaultvalue\n          };\n          return null;\n        });\n        selectedRecord[\"editedQB\"] = lsteditedQB;\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            openModal: true,\n            screenName: \"IDS_OOSCHECKLISTQB\",\n            operation: \"view\",\n            isInitialRender,\n            selectedRecord,\n            ncontrolCode: inputParam.ncontrolCode,\n            masterData,\n            selectedId\n          }\n        };\n        this.props.updateStore(updateInfo);\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.childDataChange = selectedRecord => {\n      let isInitialRender = false;\n      this.setState({\n        selectedRecord: { ...selectedRecord\n        },\n        isInitialRender\n      });\n    };\n\n    this.onMandatoryCheck = () => {\n      const mandatoryFields = this.props.Login.loadEsignStateHandle ? [{\n        \"idsName\": \"IDS_PASSWORD\",\n        \"dataField\": \"esignpassword\",\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_REASON\",\n        \"dataField\": \"esignreason\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_COMMENTS\",\n        \"dataField\": \"esigncomments\",\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }] : this.props.Login.screenName === \"IDS_OOSWORKFLOWTRANSACTION\" ? [{\n        \"mandatory\": true,\n        \"idsName\": \"IDS_STEPNAME\",\n        \"dataField\": \"noosworkflowtypecode\",\n        \"mandatoryLabel\": \"IDS_CHOOSE\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"mandatory\": true,\n        \"idsName\": \"IDS_COMMENTS\",\n        \"dataField\": \"scomments\",\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textarea\"\n      }, {\n        \"mandatory\": true,\n        \"idsName\": \"IDS_STATUS\",\n        \"dataField\": \"ntranscode\",\n        \"mandatoryLabel\": \"IDS_CHOOSE\",\n        \"controlType\": \"selectbox\"\n      }] : [];\n      onSaveMandatoryValidation(this.state.selectedRecord, mandatoryFields, this.props.Login.loadEsignStateHandle ? this.validateEsign : this.onSaveClick, this.props.Login.loadEsignStateHandle);\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      if (this.props.Login.screenName === \"IDS_OOSWORKFLOWTRANSACTION\") {\n        const formData = new FormData();\n        const selectedRecord = this.state.selectedRecord;\n        const acceptedFiles = selectedRecord.sfilename;\n        const userInfo = this.props.Login.userInfo;\n        const masterData = this.props.Login.masterData;\n        let isFileEdited = transactionStatus.NO;\n        let fileArray = [];\n\n        if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\n          if (this.props.Login.operation === 'create') {\n            acceptedFiles.forEach((file, index) => {\n              const splittedFileName = file.name.split('.');\n              const fileExtension = file.name.split('.')[splittedFileName.length - 1];\n              const fileName = selectedRecord.ssystemfilename && selectedRecord.ssystemfilename !== \"\" ? selectedRecord.ssystemfilename.split('.')[0] : create_UUID();\n              const uniquefilename = fileName + '.' + fileExtension;\n              const tempData = {};\n              tempData[\"noosmastercode\"] = masterData.selectedOosMaster && masterData.selectedOosMaster.noosmastercode ? masterData.selectedOosMaster.noosmastercode : -1;\n              tempData[\"noosworkflowtypecode\"] = selectedRecord.noosworkflowtypecode.value;\n              tempData[\"ntranscode\"] = selectedRecord.ntranscode.value;\n              tempData[\"scomments\"] = selectedRecord.scomments;\n              tempData[\"sadditionalcomments\"] = selectedRecord.sadditionalcomments;\n              tempData[\"sfilename\"] = file.name ? Lims_JSON_stringify(file.name.replaceAll('\\\\', '\\\\\\\\\\\\\\\\').replaceAll('\\n', '\\\\\\\\n').replaceAll('\"', '\\\\\"').trim(), false) : null;\n              tempData[\"ssystemfilename\"] = uniquefilename;\n              tempData[\"nfilesize\"] = file.size;\n              formData.append(\"uploadedFile\" + index, file);\n              formData.append(\"uniquefilename\" + index, uniquefilename);\n              fileArray.push(tempData);\n            });\n            formData.append(\"filecount\", acceptedFiles.length);\n            isFileEdited = transactionStatus.YES;\n          } else {\n            acceptedFiles.forEach((file, index) => {\n              const splittedFileName = file.name.split('.');\n              const fileExtension = file.name.split('.')[splittedFileName.length - 1];\n              const fileName = selectedRecord.ssystemfilename && selectedRecord.ssystemfilename !== \"\" ? selectedRecord.ssystemfilename.split('.')[0] : create_UUID();\n              const uniquefilename = fileName + '.' + fileExtension;\n              const tempData = {};\n              tempData[\"noosmastercode\"] = masterData.selectedOosMaster && masterData.selectedOosMaster.noosmastercode ? masterData.selectedOosMaster.noosmastercode : -1;\n              tempData[\"noosworkflowtypecode\"] = selectedRecord.noosworkflowtypecode.value;\n              tempData[\"ntranscode\"] = selectedRecord.ntranscode.value;\n              tempData[\"scomments\"] = selectedRecord.scomments;\n              tempData[\"sadditionalcomments\"] = selectedRecord.sadditionalcomments;\n              tempData[\"sfilename\"] = file.name ? Lims_JSON_stringify(file.name.replaceAll('\\\\', '\\\\\\\\\\\\\\\\').replaceAll('\\n', '\\\\\\\\n').replaceAll('\"', '\\\\\"').trim(), false) : null;\n              tempData[\"ssystemfilename\"] = uniquefilename;\n              tempData[\"nfilesize\"] = file.size;\n              formData.append(\"uploadedFile\" + index, file);\n              formData.append(\"uniquefilename\" + index, uniquefilename);\n              formData.append(\"filecount\", acceptedFiles.length);\n              isFileEdited = transactionStatus.YES;\n              fileArray.push(tempData);\n            });\n          }\n        } else {\n          let tempData = {};\n          tempData[\"noosmastercode\"] = masterData.selectedOosMaster && masterData.selectedOosMaster.noosmastercode ? masterData.selectedOosMaster.noosmastercode : -1;\n          tempData[\"noosworkflowtypecode\"] = selectedRecord.noosworkflowtypecode.value;\n          tempData[\"ntranscode\"] = selectedRecord.ntranscode.value;\n          tempData[\"scomments\"] = selectedRecord.scomments;\n          tempData[\"sadditionalcomments\"] = selectedRecord.sadditionalcomments;\n          tempData[\"sfilename\"] = acceptedFiles ? Lims_JSON_stringify(acceptedFiles.replaceAll('\\\\', '\\\\\\\\\\\\\\\\').replaceAll('\\n', '\\\\\\\\n').replaceAll('\"', '\\\\\"').trim(), false) : null;\n          tempData[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\n          tempData[\"nfilesize\"] = selectedRecord.size;\n          fileArray.push(tempData);\n        }\n\n        formData.append(\"isFileEdited\", isFileEdited);\n        formData.append(\"oosworkflowtransaction\", JSON.stringify(fileArray));\n        formData.append(\"nattachmenttypecode\", attachmentType.FTP);\n        formData.append(\"noosworkflowtransactioncode\", masterData.selectedOosMaster);\n        formData.append(\"ncontrolcode\", this.props.Login.ncontrolCode);\n        formData.append(\"userinfo\", JSON.stringify({ ...userInfo,\n          sformname: Lims_JSON_stringify(userInfo.sformname),\n          smodulename: Lims_JSON_stringify(userInfo.smodulename),\n          slanguagename: Lims_JSON_stringify(userInfo.slanguagename)\n        }));\n        const inputParam = {\n          inputData: {\n            \"userinfo\": { ...userInfo,\n              sformname: Lims_JSON_stringify(userInfo.sformname),\n              smodulename: Lims_JSON_stringify(userInfo.smodulename),\n              slanguagename: Lims_JSON_stringify(userInfo.slanguagename)\n            },\n            formData: formData,\n            isFileupload: true,\n            operation: this.props.Login.operation,\n            classUrl: \"oos\",\n            saveType: saveType,\n            formRef: formRef,\n            methodUrl: \"OOSWorkFlowTransaction\",\n            selectedRecord: this.state.selectedRecord,\n            screenName: this.props.Login.screenName,\n            masterData: this.props.Login.masterData\n          }\n        };\n\n        if (showEsign(this.props.Login.userRoleControlRights, userInfo.nformcode, this.props.Login.ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              screenData: {\n                inputParam\n              },\n              loadEsignStateHandle: true,\n              ncontrolcode: this.props.Login.ncontrolCode\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.onSaveOOSWorkFlowTransaction(inputParam);\n        }\n      } else if (this.props.Login.screenName === \"IDS_OOSCHECKLISTQB\") {\n        const failedControls = [];\n        const mandatoryFields = [];\n        this.props.Login.masterData.templateData.map(control => control.nmandatoryfield === transactionStatus.YES ? mandatoryFields.push(control) : '');\n        mandatoryFields.forEach(item => {\n          if (this.state.selectedRecord && this.state.selectedRecord[item.nchecklistversionqbcode] && this.state.selectedRecord[item.nchecklistversionqbcode].sdefaultvalue) {\n            if (typeof this.state.selectedRecord[item.nchecklistversionqbcode].sdefaultvalue === \"object\") {\n              if (this.state.selectedRecord[item.nchecklistversionqbcode].sdefaultvalue.length === 0) {\n                const alertMessage = item.squestion;\n                failedControls.push(alertMessage);\n              }\n            } else if (typeof this.state.selectedRecord[item.nchecklistversionqbcode].sdefaultvalue === \"string\") {\n              if (this.state.selectedRecord[item.nchecklistversionqbcode].sdefaultvalue.trim().length === 0) {\n                const alertMessage = item.squestion;\n                failedControls.push(alertMessage);\n              }\n            } else {\n              if (this.state.selectedRecord[item.nchecklistversionqbcode].sdefaultvalue.length === 0) {\n                const alertMessage = item.squestion;\n                failedControls.push(alertMessage);\n              }\n            }\n          } else {\n            const alertMessage = item.squestion;\n            failedControls.push(alertMessage);\n          }\n        });\n\n        if (failedControls.length === 0) {\n          let inputData = [];\n          inputData[\"userinfo\"] = this.props.Login.userInfo;\n          inputData[\"noosworkflowtransactioncode\"] = this.props.Login.selectedId;\n          const inputParam = {\n            classUrl: this.props.Login.inputParam.classUrl,\n            methodUrl: \"OOSChecklistQb\",\n            displayName: this.props.Login.inputParam.displayName,\n            inputData: inputData,\n            operation: this.props.Login.operation,\n            selectedRecord: this.state.selectedRecord,\n            masterData: this.props.Login.masterData\n          }; // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n          //     const updateInfo = {\n          //         typeName: DEFAULT_RETURN,\n          //         data: {\n          //             loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\n          //             openModal: true, openTemplateModal: true, screenName: \"IDS_GOODSINCHECKLIST\",\n          //             operation: this.props.Login.operation\n          //         }\n          //     }\n          //     this.props.updateStore(updateInfo);\n          // }\n          // else {\n\n          this.props.onSaveOOSChecklistQb(inputParam); // }\n        } else {\n          toast.info(`${this.props.intl.formatMessage({\n            id: \"IDS_ENTER\"\n          })} ${failedControls[0]}`);\n        }\n      }\n    };\n\n    this.openCloseOOS = parameter => {\n      let masterData = parameter.masterData;\n      let urlArray = [];\n      const url = \"oos/openCloseOOS\";\n      urlArray.push(rsapi.post(url, {\n        userinfo: this.props.Login.userInfo,\n        noosmastercode: masterData.selectedOosMaster && masterData.selectedOosMaster.noosmastercode && masterData.selectedOosMaster.noosmastercode,\n        operation: parameter.operation\n      }));\n      Axios.all(urlArray).then(response => {\n        let OosMaster = masterData.OosMaster;\n\n        if (response[0].data && response[0].data.selectedOosMaster && response[0].data.selectedOosMaster != null) {\n          OosMaster = replaceUpdatedObject([response[0].data.selectedOosMaster], OosMaster, \"noosmastercode\");\n        }\n\n        masterData = { ...masterData,\n          ...response[0].data,\n          ...OosMaster\n        };\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            masterData\n          }\n        };\n        this.props.updateStore(updateInfo);\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.searchRef = React.createRef();\n    this.state = {\n      dataState: {\n        skip: 0,\n        take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n      },\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      masterStatus: \"\",\n      error: \"\",\n      selectedRecord: {},\n      operation: \"\",\n      skip: 0,\n      take: this.props.Login.settings && this.props.Login.settings[3],\n      data: []\n    };\n  }\n\n  render() {\n    const filterParam = {\n      inputListName: \"OOSMaster\",\n      selectedObject: \"selectedOosMaster\",\n      primaryKeyField: \"noosmastercode\",\n      fetchUrl: \"oos/getActiveOOSMasterInById\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: [\"stestname\"]\n    };\n    const editOOSWorkFlowTransactionId = this.state.controlMap.has(\"EditWorkFlowTransaction\") && this.state.controlMap.get(\"EditWorkFlowTransaction\").ncontrolcode;\n    const viewOOSWorkFlowTransactionId = this.state.controlMap.has(\"ViewWorkFlowTransaction\") && this.state.controlMap.get(\"ViewWorkFlowTransaction\").ncontrolcode;\n    const viewParamWorkFlowTransaction = {\n      screenName: this.props.Login.screenName,\n      primaryKeyField: \"noosworkflowtransactioncode\",\n      operation: \"view\",\n      inputParam: this.props.Login.inputParam,\n      userInfo: this.props.Login.userInfo,\n      ncontrolCode: viewOOSWorkFlowTransactionId,\n      masterData: this.props.Login.masterData\n    };\n    const editParamWorkFlowTransaction = {\n      screenName: this.props.Login.screenName,\n      primaryKeyField: \"noosworkflowtransactioncode\",\n      operation: \"update\",\n      inputParam: this.props.Login.inputParam,\n      userInfo: this.props.Login.userInfo,\n      ncontrolCode: editOOSWorkFlowTransactionId,\n      masterData: this.props.Login.masterData\n    };\n    const openOOSId = this.state.controlMap.has(\"OpenOOS\") && this.state.controlMap.get(\"OpenOOS\").ncontrolcode;\n    const closeOOSId = this.state.controlMap.has(\"CloseOOS\") && this.state.controlMap.get(\"CloseOOS\").ncontrolcode;\n    const openOOSParam = {\n      operation: \"open\",\n      primaryKeyField: \"noosmastercode\",\n      userInfo: this.props.Login.userInfo,\n      ncontrolCode: openOOSId,\n      masterData: this.props.Login.masterData\n    };\n    const closeOOSParam = {\n      operation: \"close\",\n      primaryKeyField: \"noosmastercode\",\n      userInfo: this.props.Login.userInfo,\n      ncontrolCode: closeOOSId,\n      masterData: this.props.Login.masterData\n    };\n    let userStatusCSS = \"\";\n    let activeIconCSS = \"fa fa-check\";\n\n    if (this.props.Login.masterData.selectedOosMaster && this.props.Login.masterData.selectedOosMaster.ntransactionstatus === transactionStatus.DRAFT) {\n      userStatusCSS = \"outline-secondary\";\n      activeIconCSS = \"\";\n    } else if (this.props.Login.masterData.selectedOosMaster && this.props.Login.masterData.selectedOosMaster.ntransactionstatus === transactionStatus.RECEIVED) {\n      userStatusCSS = \"outline-success\";\n    } else {\n      userStatusCSS = \"outline-Final\";\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.props.sidebarview ? '4' : \"2\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      formatMessage: this.props.intl.formatMessage,\n      screenName: \"IDS_OOSMASTER\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.OosMaster,\n      getMasterDetail: OosMaster => this.props.getOosMasterDetail(OosMaster, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.selectedOosMaster,\n      primaryKeyField: \"noosmastercode\",\n      mainField: \"soosno\",\n      firstField: \"stestname\",\n      secondField: \"sarno\",\n      isIDSField: \"Yes\",\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: undefined,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      hidePaging: false,\n      openModal: undefined,\n      showFilterIcon: false,\n      showFilter: false,\n      filterComponent: [],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.props.sidebarview ? '8' : \"10\"}`,\n      className: \"position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-view-btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-view-btn \",\n      onClick: this.props.parentFunction,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 33\n      }\n    }, !this.props.sidebarview ? /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-less-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 41\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-greater-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 37\n      }\n    }, this.props.Login.masterData.selectedOosMaster && this.props.Login.masterData.OosMaster && this.props.Login.masterData.OosMaster.length > 0 && this.props.Login.masterData.selectedOosMaster ? /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 53\n      }\n    }, this.props.Login.masterData.selectedOosMaster.stestname), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined ${userStatusCSS} btn-sm`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: activeIconCSS,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 69\n      }\n    }), this.props.Login.masterData.selectedOosMaster.stransdisplaystatus)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(openOOSId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_GENERATEOOS\"\n      }),\n      onClick: e => this.openCloseOOS(openOOSParam),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Open, {\n      className: \"custom_icons\",\n      width: \"15\",\n      height: \"15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 69\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(closeOOSId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_CLOSE\"\n      }),\n      onClick: e => this.openCloseOOS(closeOOSParam),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Done, {\n      className: \"custom_icons\",\n      width: \"15\",\n      height: \"15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 69\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(DataGrid, {\n      primaryKeyField: \"noosmastercode\",\n      data: this.props.Login.masterData.OosWorkFlowTransaction || [],\n      dataResult: process(this.props.Login.masterData.OosWorkFlowTransaction || [], this.state.dataState),\n      dataState: this.state.dataState,\n      dataStateChange: this.dataStateChange,\n      extractedColumnList: [{\n        \"idsName\": \"IDS_TESTNAME\",\n        \"dataField\": \"stestname\",\n        \"width\": \"200px\"\n      }, {\n        \"idsName\": \"IDS_STEPNAME\",\n        \"dataField\": \"soosworkflowtypename\",\n        \"width\": \"200px\"\n      }, {\n        \"idsName\": \"IDS_FILENAME\",\n        \"dataField\": \"sfilename\",\n        \"width\": \"200px\"\n      }, {\n        \"idsName\": \"IDS_COMMENTS\",\n        \"dataField\": \"scomments\",\n        \"width\": \"200px\"\n      }, {\n        \"idsName\": \"IDS_ADDITIONALCOMMENTS\",\n        \"dataField\": \"sadditionalcomments\",\n        \"width\": \"200px\"\n      }, {\n        \"idsName\": \"IDS_STATUS\",\n        \"dataField\": \"stransdisplaystatus\",\n        \"width\": \"200px\"\n      }],\n      userInfo: this.props.Login.userInfo,\n      controlMap: this.state.controlMap,\n      userRoleControlRights: this.state.userRoleControlRights,\n      inputParam: this.props.Login.inputParam,\n      deleteRecord: this.deleteOOSWorkFlowTransaction,\n      methodUrl: \"WorkFlowTransaction\",\n      pageable: true,\n      isComponent: false,\n      hasDynamicColSize: true,\n      isActionRequired: true,\n      isToolBarRequired: true,\n      isAddRequired: true,\n      addRecord: this.openOosMasterStep,\n      editParam: editParamWorkFlowTransaction,\n      isRefreshRequired: false,\n      isImportRequired: false,\n      isDownloadPDFRequired: false,\n      isDownloadExcelRequired: false,\n      scrollable: 'scrollable',\n      gridHeight: '600px',\n      expandField: \"expanded\",\n      viewParam: viewParamWorkFlowTransaction,\n      viewRecord: this.viewChecklistQb,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 53\n      }\n    }))) : \"\")))))), this.props.Login.openModal ? /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal,\n      closeModal: this.closeModal,\n      operation: this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.Login.screenName,\n      onSaveClick: this.onMandatoryCheck,\n      esign: this.props.Login.loadEsignStateHandle,\n      validateEsign: this.validateEsign,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: [],\n      addComponent: this.props.Login.loadEsignStateHandle ? /*#__PURE__*/React.createElement(EsignStateHandle, {\n        operation: this.props.Login.operation,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        childDataChange: this.childDataChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 29\n        }\n      }) : this.props.Login.screenName === \"IDS_OOSWORKFLOWTRANSACTION\" && (this.props.Login.operation === \"create\" || this.props.Login.operation === \"update\") ? /*#__PURE__*/React.createElement(AddOOSWorkFlowTransaction, {\n        inputParam: this.props.Login.inputParam,\n        operation: this.props.Login.operation,\n        selectedRecord: this.state.selectedRecord,\n        userInfo: this.props.Login.userInfo,\n        childDataChange: this.childDataChange,\n        OosWorkFlowType: this.props.Login.OosWorkFlowType || [],\n        OosStepStatus: this.props.Login.OosStepStatus || [],\n        noosworkflowtypecode: this.props.Login.noosworkflowtypecode,\n        ntranscode: this.props.Login.ntranscode,\n        OosMaster: this.props.Login.masterData.OosMaster || [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 29\n        }\n      }) // ) : this.props.Login.screenName === \"IDS_OOSMASTERCHECKLIST\" && (this.props.Login.operation === \"create\" || this.props.Login.operation === \"update\") ? (\n      //     <AddOOSMasterChecklist\n      //         inputParam={this.props.Login.inputParam}\n      //         operation={this.props.Login.operation}\n      //         selectedRecord={this.state.selectedRecord}\n      //         userInfo={this.props.Login.userInfo}\n      //         childDataChange={this.childDataChange}\n      //         CheckList={this.props.Login.CheckList || []}\n      //         CheckListVersion={this.props.Login.CheckListVersion || []}\n      //         OosMaster={this.props.Login.masterData.OosMaster || []}\n      //         needValidation={true}\n      //     />\n      : this.props.Login.screenName === \"IDS_OOSCHECKLISTQB\" && this.props.Login.operation === \"view\" ? /*#__PURE__*/React.createElement(AddOOSChecklistQb, {\n        inputParam: this.props.Login.inputParam,\n        operation: this.props.Login.operation,\n        selectedRecord: this.props.Login.selectedRecord,\n        userInfo: this.props.Login.userInfo,\n        childDataChange: this.childDataChange,\n        OosMaster: this.props.Login.masterData.OosMaster || [],\n        needValidation: true,\n        templateData: this.props.Login.masterData.templateData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 29\n        }\n      }) : \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 21\n      }\n    }) : \"\");\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\") {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.multilingualMsg !== undefined && props.Login.multilingualMsg !== \"\") {\n      toast.warn(props.intl.formatMessage({\n        id: props.Login.multilingualMsg\n      }));\n      props.Login.multilingualMsg = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  componentDidUpdate(previousProps) {\n    let {\n      userRoleControlRights,\n      controlMap,\n      selectedRecord,\n      skip,\n      take,\n      masterData\n    } = this.state;\n    let bool = false;\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n        userRoleControlRights = [];\n\n        if (this.props.Login.userRoleControlRights) {\n          this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n        }\n\n        controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n        bool = true;\n      }\n    }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      selectedRecord = this.props.Login.selectedRecord;\n      bool = true;\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      bool = true;\n      skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip;\n      take = this.props.Login.take || take;\n    }\n\n    if (bool) {\n      this.setState({\n        userRoleControlRights,\n        controlMap,\n        selectedRecord,\n        skip,\n        take,\n        masterData\n      });\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextState.isInitialRender === false && nextState.selectedRecord !== this.state.selectedRecord) {\n      return false;\n    } else {\n      return true;\n    }\n  } // tabDetail = () => {\n  //     const tabMap = new Map();\n  //     const editOOSWorkFlowTransactionId =\n  //         this.state.controlMap.has(\"EditWorkFlowTransaction\") &&\n  //         this.state.controlMap.get(\"EditWorkFlowTransaction\").ncontrolcode;\n  //     const viewOOSWorkFlowTransactionId =\n  //         this.state.controlMap.has(\"ViewWorkFlowTransaction\") &&\n  //         this.state.controlMap.get(\"ViewWorkFlowTransaction\").ncontrolcode;\n  //     // const extractedColumnList = [\n  //     //     { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestname\", \"width\": \"200px\" },\n  //     //     { \"idsName\": \"IDS_STEPNAME\", \"dataField\": \"soosworkflowtypename\", \"width\": \"200px\" },\n  //     //     { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"width\": \"200px\" },\n  //     //     { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"200px\" },\n  //     //     { \"idsName\": \"IDS_ADDITIONALCOMMENTS\", \"dataField\": \"sadditionalcomments\", \"width\": \"200px\" },\n  //     //     { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" }\n  //     // ];\n  //     const editParamWorkFlowTransaction = {\n  //         screenName: this.props.Login.screenName, primaryKeyField: \"noosworkflowtransactioncode\", operation: \"update\",\n  //         inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: editOOSWorkFlowTransactionId, masterData: this.props.Login.masterData\n  //     };\n  //     const viewParamWorkFlowTransaction = {\n  //         screenName: this.props.Login.screenName, primaryKeyField: \"noosworkflowtransactioncode\", operation: \"view\",\n  //         inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: viewOOSWorkFlowTransactionId, masterData: this.props.Login.masterData\n  //     };\n  //     // const editParamOOSChecklist = {\n  //     //     screenName: this.props.Login.screenName, primaryKeyField: \"noosmasterchecklistcode\", operation: \"update\",\n  //     //     inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: editOOSWorkFlowTransactionId, masterData: this.props.Login.masterData\n  //     // }\n  //     tabMap.set(\"IDS_WORKFLOWTRANSACTION\",\n  //         <DataGrid\n  //             primaryKeyField={\"noosmastercode\"}\n  //             data={this.props.Login.masterData.OosWorkFlowTransaction || []}\n  //             dataResult={process(this.props.Login.masterData.OosWorkFlowTransaction || [], this.state.sampleGridDataState)}\n  //             dataState={this.state.sampleGridDataState}\n  //             dataStateChange={this.sampleInfoDataStateChange}\n  //             extractedColumnList={[\n  //                 { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestname\", \"width\": \"200px\" },\n  //                 { \"idsName\": \"IDS_STEPNAME\", \"dataField\": \"soosworkflowtypename\", \"width\": \"200px\" },\n  //                 { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"width\": \"200px\" },\n  //                 { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"200px\" },\n  //                 { \"idsName\": \"IDS_ADDITIONALCOMMENTS\", \"dataField\": \"sadditionalcomments\", \"width\": \"200px\" },\n  //                 { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" }\n  //             ]}\n  //             // detailedFieldList={[]}\n  //             // exportFieldList={[]}\n  //             userInfo={this.props.Login.userInfo}\n  //             controlMap={this.state.controlMap}\n  //             userRoleControlRights={this.state.userRoleControlRights}\n  //             inputParam={this.props.Login.inputParam}\n  //             deleteRecord={this.deleteOOSWorkFlowTransaction}\n  //             // deleteParam={goodsinDeleteSampleParam}\n  //             methodUrl={\"WorkFlowTransaction\"}\n  //             pageable={true}\n  //             isComponent={false}\n  //             hasDynamicColSize={true}\n  //             isActionRequired={true}\n  //             isToolBarRequired={true}\n  //             isAddRequired={true}\n  //             addRecord={this.openOosMasterStep}\n  //             // fetchRecord={this.fetchEditOosMasterStep}\n  //             editParam={editParamWorkFlowTransaction}\n  //             isRefreshRequired={false}\n  //             isImportRequired={false}\n  //             isDownloadPDFRequired={false}\n  //             isDownloadExcelRequired={false}\n  //             // import={this.ImportFile}\n  //             scrollable={'scrollable'}\n  //             gridHeight={'600px'}\n  //             expandField=\"expanded\"\n  //             viewParam={viewParamWorkFlowTransaction}\n  //             viewRecord={this.viewChecklistQb}\n  //         // screenName=\"OOS Master\"\n  //         />\n  //     );\n  //     // tabMap.set(\"IDS_OOSCHECKLIST\",\n  //     //     <DataGrid\n  //     //         primaryKeyField={\"noosmastercode\"}\n  //     //         data={this.props.Login.masterData.OosMasterChecklist || []}\n  //     //         dataResult={process(this.props.Login.masterData.OosMasterChecklist || [], this.state.sampleGridDataState)}\n  //     //         dataState={this.state.sampleGridDataState}\n  //     //         dataStateChange={this.sampleInfoDataStateChange}\n  //     //         extractedColumnList={[\n  //     //             { \"idsName\": \"IDS_CHECKLIST\", \"dataField\": \"schecklistname\", \"width\": \"200px\" },\n  //     //             { \"idsName\": \"IDS_CHECKLISTVERSION\", \"dataField\": \"schecklistversionname\", \"width\": \"200px\" },\n  //     //             // { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"width\": \"200px\" },\n  //     //             // { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"200px\" },\n  //     //             // { \"idsName\": \"IDS_ADDITIONALCOMMENTS\", \"dataField\": \"sadditionalcomments\", \"width\": \"200px\" },\n  //     //             // { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" }\n  //     //         ]}\n  //     //         // detailedFieldList={[]}\n  //     //         // exportFieldList={[]}\n  //     //         userInfo={this.props.Login.userInfo}\n  //     //         controlMap={this.state.controlMap}\n  //     //         userRoleControlRights={this.state.userRoleControlRights}\n  //     //         inputParam={this.props.Login.inputParam}\n  //     //         deleteRecord={this.DeleteGoodsInSample}\n  //     //         // deleteParam={goodsinDeleteSampleParam}\n  //     //         methodUrl={\"OOSChecklist\"}\n  //     //         pageable={true}\n  //     //         isComponent={false}\n  //     //         hasDynamicColSize={true}\n  //     //         isActionRequired={true}\n  //     //         isToolBarRequired={true}\n  //     //         isAddRequired={true}\n  //     //         addRecord={this.openOosMasterChecklist}\n  //     //         // fetchRecord={this.fetchEditOosMasterStep}\n  //     //         editParam={editParamOOSChecklist}\n  //     //         isRefreshRequired={false}\n  //     //         isImportRequired={false}\n  //     //         isDownloadPDFRequired={false}\n  //     //         isDownloadExcelRequired={false}\n  //     //         // import={this.ImportFile}\n  //     //         scrollable={'scrollable'}\n  //     //         gridHeight={'600px'}\n  //     //         expandField=\"expanded\"\n  //     //     // screenName=\"OOS Master\"\n  //     //     />\n  //     // );\n  //     return tabMap;\n  // }\n  // onTabChange = (tabProps) => {\n  //     const screenName = tabProps.screenName;\n  //     const updateInfo = {\n  //         typeName: DEFAULT_RETURN,\n  //         data: { screenName }\n  //     }\n  //     this.props.updateStore(updateInfo);\n  // }\n\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  getOOSMasterData,\n  getOosMasterDetail,\n  updateStore,\n  onSaveOOSWorkFlowTransaction,\n  // onSaveOOSMasterChecklist, \n  onSaveOOSChecklistQb,\n  deleteOOSWorkFlowTransaction\n})(injectIntl(OOSMaster));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5304/QuaLISWeb/src/pages/approval/OOSMaster.jsx"],"names":["React","ListWrapper","Col","Row","Card","Nav","ListMaster","connect","injectIntl","getControlMap","onSaveMandatoryValidation","showEsign","Lims_JSON_stringify","create_UUID","replaceUpdatedObject","rearrangeDateFormat","toast","callService","getOOSMasterData","getOosMasterDetail","onSaveOOSWorkFlowTransaction","updateStore","onSaveOOSChecklistQb","deleteOOSWorkFlowTransaction","ContentPanel","transactionStatus","attachmentType","DataGrid","process","Axios","DEFAULT_RETURN","rsapi","AddOOSWorkFlowTransaction","SlideOutModal","EsignStateHandle","constructOptionList","AddOOSChecklistQb","mapStateToProps","state","Login","OOSMaster","Component","constructor","props","reloadData","searchRef","current","value","masterData","inputData","userinfo","userInfo","inputParam","closeModal","loadEsignStateHandle","openModal","screenName","operation","selectedRecord","selectedId","updateInfo","typeName","data","dataStateChange","event","setState","dataResult","dataState","openOosMasterStep","controlCode","isInitialRender","url","urlArray","push","post","noosmastercode","selectedOosMaster","all","then","response","responseData","OosWorkFlowTypeMap","oosWorkFlowType","OosWorkFlowType","get","noosworkflowtypecode","ntranscode","OosStepStatusMap","OosStepStatus","ncontrolCode","catch","error","status","message","warn","loading","deleteParam","noosworkflowtransactioncode","classUrl","methodUrl","viewChecklistQb","selectedRow","viewRow","templateData","ChecklistData","lsteditedQB","map","checklist","nchecklistversionqbcode","nchecklistqbcode","nchecklistversioncode","sdefaultvalue","nchecklistcomponentcode","primaryKeyValue","childDataChange","onMandatoryCheck","mandatoryFields","validateEsign","onSaveClick","saveType","formRef","formData","FormData","acceptedFiles","sfilename","isFileEdited","NO","fileArray","Array","isArray","length","forEach","file","index","splittedFileName","name","split","fileExtension","fileName","ssystemfilename","uniquefilename","tempData","scomments","sadditionalcomments","replaceAll","trim","size","append","YES","JSON","stringify","FTP","sformname","smodulename","slanguagename","isFileupload","userRoleControlRights","nformcode","screenData","ncontrolcode","failedControls","control","nmandatoryfield","item","alertMessage","squestion","displayName","info","intl","formatMessage","id","openCloseOOS","parameter","OosMaster","createRef","skip","take","settings","parseInt","controlMap","Map","masterStatus","render","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","searchFieldList","editOOSWorkFlowTransactionId","has","viewOOSWorkFlowTransactionId","viewParamWorkFlowTransaction","editParamWorkFlowTransaction","openOOSId","closeOOSId","openOOSParam","closeOOSParam","userStatusCSS","activeIconCSS","ntransactionstatus","DRAFT","RECEIVED","sidebarview","searchedData","filterColumnData","undefined","parentFunction","stestname","stransdisplaystatus","indexOf","e","OosWorkFlowTransaction","getDerivedStateFromProps","multilingualMsg","componentDidUpdate","previousProps","bool","Object","values","shouldComponentUpdate","nextProps","nextState"],"mappings":"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oBS,UAAxD,EAAoE;AAChE0K,MAAAA,IAAI,GAAG,IAAP;AACA3C,MAAAA,IAAI,GAAG,KAAKpI,KAAL,CAAWJ,KAAX,CAAiBwI,IAAjB,KAA0BgC,SAA1B,GAAsChC,IAAtC,GAA6C,KAAKpI,KAAL,CAAWJ,KAAX,CAAiBwI,IAArE;AACAC,MAAAA,IAAI,GAAG,KAAKrI,KAAL,CAAWJ,KAAX,CAAiByI,IAAjB,IAAyBA,IAAhC;AACH;;AACD,QAAI0C,IAAJ,EAAU;AACN,WAAKzJ,QAAL,CAAc;AACV2F,QAAAA,qBADU;AACauB,QAAAA,UADb;AACyBzH,QAAAA,cADzB;AACyCqH,QAAAA,IADzC;AAC+CC,QAAAA,IAD/C;AACqDhI,QAAAA;AADrD,OAAd;AAGH;AACJ;;AAED6K,EAAAA,qBAAqB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACxC,QAAIA,SAAS,CAACzJ,eAAV,KAA8B,KAA9B,IAAwCyJ,SAAS,CAACrK,cAAV,KAA6B,KAAKpB,KAAL,CAAWoB,cAApF,EAAqG;AACjG,aAAO,KAAP;AACH,KAFD,MAEO;AACH,aAAO,IAAP;AACH;AACJ,GAzTmC,CA4zBpC;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAn8BoC;;AAs8BxC,eAAenD,OAAO,CAAC8B,eAAD,EAAkB;AACpCpB,EAAAA,WADoC;AACvBC,EAAAA,gBADuB;AACLC,EAAAA,kBADK;AACeE,EAAAA,WADf;AAEpCD,EAAAA,4BAFoC;AAGpC;AACAE,EAAAA,oBAJoC;AAIdC,EAAAA;AAJc,CAAlB,CAAP,CAKZf,UAAU,CAACgC,SAAD,CALE,CAAf","sourcesContent":["import React from 'react';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { Col, Row, Card, Nav } from 'react-bootstrap';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport {\r\n    getControlMap, onSaveMandatoryValidation, showEsign, Lims_JSON_stringify, create_UUID, replaceUpdatedObject,\r\n    rearrangeDateFormat\r\n} from '../../components/CommonScript'\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n    callService, getOOSMasterData, getOosMasterDetail, onSaveOOSWorkFlowTransaction, updateStore, \r\n    // onSaveOOSMasterChecklist,\r\n    onSaveOOSChecklistQb, deleteOOSWorkFlowTransaction\r\n} from '../../actions';\r\nimport { ContentPanel } from '../../components/App.styles';\r\nimport { transactionStatus, attachmentType } from '../../components/Enumeration';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport Axios from 'axios';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport rsapi from '../../rsapi';\r\nimport AddOOSWorkFlowTransaction from './AddOOSWorkFlowTransaction';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport EsignStateHandle from '../audittrail/EsignStateHandle';\r\nimport { constructOptionList } from '../../components/CommonScript';\r\n// import AddOOSMasterChecklist from './AddOOSMasterChecklist';\r\nimport AddOOSChecklistQb from './AddOOSChecklistQb';\r\nimport { ReactComponent as Done } from '../../assets/image/done.svg';\r\nimport { ReactComponent as Open } from '../../assets/image/open.svg';\r\n\r\nconst mapStateToProps = state => { return ({ Login: state.Login }) }\r\n\r\nclass OOSMaster extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.searchRef = React.createRef();\r\n        this.state = {\r\n            dataState: { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 },\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            selectedRecord: {},\r\n            operation: \"\",\r\n            skip: 0,\r\n            take: this.props.Login.settings && this.props.Login.settings[3],\r\n            data: []\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const filterParam = {\r\n            inputListName: \"OOSMaster\", selectedObject: \"selectedOosMaster\", primaryKeyField: \"noosmastercode\",\r\n            fetchUrl: \"oos/getActiveOOSMasterInById\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"stestname\"]\r\n        };\r\n\r\n        const editOOSWorkFlowTransactionId =\r\n            this.state.controlMap.has(\"EditWorkFlowTransaction\") &&\r\n            this.state.controlMap.get(\"EditWorkFlowTransaction\").ncontrolcode;\r\n\r\n        const viewOOSWorkFlowTransactionId =\r\n            this.state.controlMap.has(\"ViewWorkFlowTransaction\") &&\r\n            this.state.controlMap.get(\"ViewWorkFlowTransaction\").ncontrolcode;\r\n\r\n        const viewParamWorkFlowTransaction = {\r\n            screenName: this.props.Login.screenName, primaryKeyField: \"noosworkflowtransactioncode\", operation: \"view\",\r\n            inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: viewOOSWorkFlowTransactionId, masterData: this.props.Login.masterData\r\n        };\r\n\r\n        const editParamWorkFlowTransaction = {\r\n            screenName: this.props.Login.screenName, primaryKeyField: \"noosworkflowtransactioncode\", operation: \"update\",\r\n            inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: editOOSWorkFlowTransactionId, masterData: this.props.Login.masterData\r\n        };\r\n\r\n        const openOOSId =\r\n            this.state.controlMap.has(\"OpenOOS\") &&\r\n            this.state.controlMap.get(\"OpenOOS\").ncontrolcode;\r\n\r\n        const closeOOSId =\r\n            this.state.controlMap.has(\"CloseOOS\") &&\r\n            this.state.controlMap.get(\"CloseOOS\").ncontrolcode;\r\n\r\n        const openOOSParam = {\r\n            operation: \"open\", primaryKeyField: \"noosmastercode\",\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: openOOSId, masterData: this.props.Login.masterData\r\n        }\r\n\r\n        const closeOOSParam = {\r\n            operation: \"close\", primaryKeyField: \"noosmastercode\",\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: closeOOSId, masterData: this.props.Login.masterData\r\n        }\r\n\r\n        let userStatusCSS = \"\";\r\n        let activeIconCSS = \"fa fa-check\";\r\n        if (this.props.Login.masterData.selectedOosMaster && this.props.Login.masterData.selectedOosMaster.ntransactionstatus === transactionStatus.DRAFT) {\r\n            userStatusCSS = \"outline-secondary\";\r\n            activeIconCSS = \"\";\r\n        }\r\n        else if (this.props.Login.masterData.selectedOosMaster && this.props.Login.masterData.selectedOosMaster.ntransactionstatus === transactionStatus.RECEIVED) {\r\n            userStatusCSS = \"outline-success\";\r\n        }\r\n        else {\r\n            userStatusCSS = \"outline-Final\";\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    <Row noGutters={true} >\r\n                        <Col md={`${!this.props.sidebarview ? '4' : \"2\"}`}>\r\n                            <ListMaster\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={\"IDS_OOSMASTER\"}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.OosMaster}\r\n                                getMasterDetail={(OosMaster) => this.props.getOosMasterDetail(OosMaster, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedOosMaster}\r\n                                primaryKeyField=\"noosmastercode\"\r\n                                mainField=\"soosno\"\r\n                                firstField=\"stestname\"\r\n                                secondField=\"sarno\"\r\n                                isIDSField=\"Yes\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={undefined}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={false}\r\n                                openModal={undefined}\r\n                                showFilterIcon={false}\r\n                                showFilter={false}\r\n                                filterComponent={[]}\r\n                            />\r\n                        </Col>\r\n                        <Col md={`${!this.props.sidebarview ? '8' : \"10\"}`} className=\"position-relative\">\r\n                            <div className=\"sidebar-view-btn-block\">\r\n                                <div className=\"sidebar-view-btn \" onClick={this.props.parentFunction}>\r\n                                    {!this.props.sidebarview ?\r\n                                        <i class=\"fa fa-less-than\"></i> :\r\n                                        <i class=\"fa fa-greater-than\"></i>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <ContentPanel className=\"panel-main-content\">\r\n                                        {this.props.Login.masterData.selectedOosMaster && this.props.Login.masterData.OosMaster && this.props.Login.masterData.OosMaster.length > 0 && this.props.Login.masterData.selectedOosMaster ?\r\n                                            <Card className=\"border-0\">\r\n                                                <Card.Header>\r\n                                                    <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedOosMaster.stestname}</Card.Title>\r\n                                                    <Card.Subtitle>\r\n                                                        <div className=\"d-flex product-category\">\r\n                                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                <span className={`btn btn-outlined ${userStatusCSS} btn-sm`}>\r\n                                                                    <i className={activeIconCSS}></i>\r\n                                                                    {this.props.Login.masterData.selectedOosMaster.stransdisplaystatus}\r\n                                                                </span>\r\n                                                            </h2>\r\n                                                            <div className=\"d-inline \">\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(openOOSId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_GENERATEOOS\" })}\r\n                                                                    onClick={(e) => this.openCloseOOS(openOOSParam)} >\r\n                                                                    <Open className=\"custom_icons\" width=\"15\" height=\"15\" />\r\n                                                                </Nav.Link>\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(closeOOSId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_CLOSE\" })}\r\n                                                                    onClick={(e) => this.openCloseOOS(closeOOSParam)} >\r\n                                                                    <Done className=\"custom_icons\" width=\"15\" height=\"15\" />\r\n                                                                </Nav.Link>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </Card.Subtitle>\r\n                                                </Card.Header>\r\n                                                <Card.Body>\r\n                                                    {/* <CustomTab tabDetail={this.tabDetail()} onTabChange={this.onTabChange} /> */}\r\n                                                    <DataGrid\r\n                                                        primaryKeyField={\"noosmastercode\"}\r\n                                                        data={this.props.Login.masterData.OosWorkFlowTransaction || []}\r\n                                                        dataResult={process(this.props.Login.masterData.OosWorkFlowTransaction || [], this.state.dataState)}\r\n                                                        dataState={this.state.dataState}\r\n                                                        dataStateChange={this.dataStateChange}\r\n                                                        extractedColumnList={[\r\n                                                            { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestname\", \"width\": \"200px\" },\r\n                                                            { \"idsName\": \"IDS_STEPNAME\", \"dataField\": \"soosworkflowtypename\", \"width\": \"200px\" },\r\n                                                            { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"width\": \"200px\" },\r\n                                                            { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"200px\" },\r\n                                                            { \"idsName\": \"IDS_ADDITIONALCOMMENTS\", \"dataField\": \"sadditionalcomments\", \"width\": \"200px\" },\r\n                                                            { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" }\r\n                                                        ]}\r\n                                                        userInfo={this.props.Login.userInfo}\r\n                                                        controlMap={this.state.controlMap}\r\n                                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                                        inputParam={this.props.Login.inputParam}\r\n                                                        deleteRecord={this.deleteOOSWorkFlowTransaction}\r\n                                                        methodUrl={\"WorkFlowTransaction\"}\r\n                                                        pageable={true}\r\n                                                        isComponent={false}\r\n                                                        hasDynamicColSize={true}\r\n                                                        isActionRequired={true}\r\n                                                        isToolBarRequired={true}\r\n                                                        isAddRequired={true}\r\n                                                        addRecord={this.openOosMasterStep}\r\n                                                        editParam={editParamWorkFlowTransaction}\r\n                                                        isRefreshRequired={false}\r\n                                                        isImportRequired={false}\r\n                                                        isDownloadPDFRequired={false}\r\n                                                        isDownloadExcelRequired={false}\r\n                                                        scrollable={'scrollable'}\r\n                                                        gridHeight={'600px'}\r\n                                                        expandField=\"expanded\"\r\n                                                        viewParam={viewParamWorkFlowTransaction}\r\n                                                        viewRecord={this.viewChecklistQb}\r\n                                                    />\r\n                                                </Card.Body>\r\n                                            </Card>\r\n                                            : \"\"}\r\n                                    </ContentPanel>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n                {this.props.Login.openModal ?\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onMandatoryCheck}\r\n                        esign={this.props.Login.loadEsignStateHandle}\r\n                        validateEsign={this.validateEsign}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={[]}\r\n                        addComponent={this.props.Login.loadEsignStateHandle ? (\r\n                            <EsignStateHandle\r\n                                operation={this.props.Login.operation}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                childDataChange={this.childDataChange}\r\n                            />\r\n                        ) : this.props.Login.screenName === \"IDS_OOSWORKFLOWTRANSACTION\" && (this.props.Login.operation === \"create\" || this.props.Login.operation === \"update\") ? (\r\n                            <AddOOSWorkFlowTransaction\r\n                                inputParam={this.props.Login.inputParam}\r\n                                operation={this.props.Login.operation}\r\n                                selectedRecord={this.state.selectedRecord}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                childDataChange={this.childDataChange}\r\n                                OosWorkFlowType={this.props.Login.OosWorkFlowType || []}\r\n                                OosStepStatus={this.props.Login.OosStepStatus || []}\r\n                                noosworkflowtypecode={this.props.Login.noosworkflowtypecode}\r\n                                ntranscode={this.props.Login.ntranscode}\r\n                                OosMaster={this.props.Login.masterData.OosMaster || []}\r\n                            />\r\n                        // ) : this.props.Login.screenName === \"IDS_OOSMASTERCHECKLIST\" && (this.props.Login.operation === \"create\" || this.props.Login.operation === \"update\") ? (\r\n                        //     <AddOOSMasterChecklist\r\n                        //         inputParam={this.props.Login.inputParam}\r\n                        //         operation={this.props.Login.operation}\r\n                        //         selectedRecord={this.state.selectedRecord}\r\n                        //         userInfo={this.props.Login.userInfo}\r\n                        //         childDataChange={this.childDataChange}\r\n                        //         CheckList={this.props.Login.CheckList || []}\r\n                        //         CheckListVersion={this.props.Login.CheckListVersion || []}\r\n                        //         OosMaster={this.props.Login.masterData.OosMaster || []}\r\n                        //         needValidation={true}\r\n                        //     />\r\n                        ) : this.props.Login.screenName === \"IDS_OOSCHECKLISTQB\" && (this.props.Login.operation === \"view\") ? (\r\n                            <AddOOSChecklistQb\r\n                                inputParam={this.props.Login.inputParam}\r\n                                operation={this.props.Login.operation}\r\n                                selectedRecord={this.props.Login.selectedRecord}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                childDataChange={this.childDataChange}\r\n                                OosMaster={this.props.Login.masterData.OosMaster || []}\r\n                                needValidation={true}\r\n                                templateData={this.props.Login.masterData.templateData}\r\n                            />\r\n                        ) : \"\"}\r\n                    />\r\n                    : \"\"\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n        if (props.Login.multilingualMsg !== undefined && props.Login.multilingualMsg !== \"\") {\r\n            toast.warn(props.intl.formatMessage({ id: props.Login.multilingualMsg }));\r\n            props.Login.multilingualMsg = \"\";\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let { userRoleControlRights, controlMap, selectedRecord, skip, take, masterData } = this.state;\r\n        let bool = false;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                bool = true;\r\n            }\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord\r\n            bool = true;\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            bool = true;\r\n            skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip\r\n            take = this.props.Login.take || take\r\n        }\r\n        if (bool) {\r\n            this.setState({\r\n                userRoleControlRights, controlMap, selectedRecord, skip, take, masterData\r\n            });\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (nextState.isInitialRender === false && (nextState.selectedRecord !== this.state.selectedRecord)) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        let masterData = {\r\n            ...this.props.Login.masterData\r\n        };\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let inputParam = {\r\n            masterData,\r\n            inputData\r\n        }\r\n        this.props.getOOSMasterData(inputParam);\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsignStateHandle = this.props.Login.loadEsignStateHandle;\r\n        let openModal = this.props.Login.openModal;\r\n        let screenName = this.props.Login.screenName;\r\n        let operation = this.props.Login.operation;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        let selectedId = this.props.Login.selectedId;\r\n        if (this.props.Login.loadEsignStateHandle) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"receive\" || this.props.Login.operation === \"approve\") {\r\n                loadEsignStateHandle = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsignStateHandle = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason'] = \"\"\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n            screenName = \"\";\r\n            operation = \"\";\r\n            selectedId = \"\";\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsignStateHandle, selectedRecord, screenName, operation, selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.state.data ? this.state.data : [], event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n\r\n    openOosMasterStep = (controlCode) => {\r\n        const isInitialRender = true;\r\n        let selectedRecord = {};\r\n        const url = \"oos/getOOSWorkFlowType\";\r\n        let urlArray = [];\r\n        urlArray.push(rsapi.post(url, {\r\n            userinfo: this.props.Login.userInfo,\r\n            noosmastercode: (this.props.Login.masterData.selectedOosMaster && this.props.Login.masterData.selectedOosMaster.noosmastercode)\r\n        }))\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let responseData = response[0].data;\r\n                const OosWorkFlowTypeMap = constructOptionList(responseData.oosWorkFlowType || [], \"noosworkflowtypecode\", \"soosworkflowtypename\", '', 'noosworkflowtypecode', false);\r\n                let OosWorkFlowType = OosWorkFlowTypeMap.get(\"OptionList\");\r\n                let noosworkflowtypecode = [];\r\n                let ntranscode = [];\r\n                const OosStepStatusMap = constructOptionList(responseData.OosStepStatus || [], \"ntranscode\", \"stransdisplaystatus\", '', 'ntranscode', false);\r\n                let OosStepStatus = OosStepStatusMap.get(\"OptionList\");\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        openModal: true,\r\n                        OosWorkFlowType,\r\n                        OosStepStatus,\r\n                        noosworkflowtypecode,\r\n                        ntranscode,\r\n                        screenName: \"IDS_OOSWORKFLOWTRANSACTION\",\r\n                        operation: \"create\",\r\n                        isInitialRender,\r\n                        selectedRecord,\r\n                        ncontrolCode: controlCode\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            })\r\n            .catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n        // }\r\n    }\r\n\r\n    deleteOOSWorkFlowTransaction = (deleteParam) => {\r\n        let selectedRecord = deleteParam.selectedRecord;\r\n        let inputData = {};\r\n        inputData[\"noosworkflowtransactioncode\"] = selectedRecord.noosworkflowtransactioncode;\r\n        inputData[\"noosmastercode\"] = selectedRecord.noosmastercode;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"OOSWorkFlowTransaction\",\r\n            inputData: inputData,\r\n            operation: \"delete\",\r\n            selectedRecord: this.state.selectedRecord,\r\n            masterData: this.props.Login.masterData\r\n        }\r\n        this.props.deleteOOSWorkFlowTransaction(inputParam);\r\n    }\r\n\r\n    viewChecklistQb = (inputParam) => {\r\n        const isInitialRender = true;\r\n        let masterData = inputParam.masterData;\r\n        let selectedRow = inputParam.viewRow;\r\n        const url = \"oos/viewCheclistQb\";\r\n        let urlArray = [];\r\n        urlArray.push(rsapi.post(url, { userinfo: this.props.Login.userInfo, noosworkflowtransactioncode: selectedRow.noosworkflowtransactioncode, noosmastercode: selectedRow.noosmastercode }))\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let templateData = response[0].data.ChecklistData\r\n                masterData[\"templateData\"] = templateData;\r\n                let selectedId = selectedRow.noosworkflowtransactioncode;\r\n                let selectedRecord = {};\r\n                let lsteditedQB = [];\r\n                templateData.map(checklist => {\r\n                    selectedRecord[checklist.nchecklistversionqbcode] = {\r\n                        nchecklistqbcode: checklist.nchecklistqbcode,\r\n                        nchecklistversioncode: checklist.nchecklistversioncode,\r\n                        nchecklistversionqbcode: checklist.nchecklistversionqbcode,\r\n                        sdefaultvalue: checklist.nchecklistcomponentcode === 7 ? rearrangeDateFormat(this.props.Login.userInfo, checklist.sdefaultvalue) : checklist.sdefaultvalue,\r\n                        noosworkflowtransactioncode: inputParam.primaryKeyValue,\r\n                    }\r\n                    lsteditedQB.push(checklist.nchecklistversionqbcode);\r\n                    return null;\r\n                });\r\n                templateData.map(checklist => {\r\n                    selectedRecord['jsondata'] = {\r\n                        ...selectedRecord['jsondata'],\r\n                        [checklist.nchecklistversionqbcode]: checklist.nchecklistcomponentcode === 7 ? rearrangeDateFormat(this.props.Login.userInfo, checklist.sdefaultvalue) : checklist.sdefaultvalue\r\n                    }\r\n                    return null;\r\n                });\r\n                selectedRecord[\"editedQB\"] = lsteditedQB;\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        openModal: true,\r\n                        screenName: \"IDS_OOSCHECKLISTQB\",\r\n                        operation: \"view\",\r\n                        isInitialRender,\r\n                        selectedRecord,\r\n                        ncontrolCode: inputParam.ncontrolCode,\r\n                        masterData,\r\n                        selectedId\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            })\r\n            .catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n    // openOosMasterChecklist = (controlCode) => {\r\n    //     const isInitialRender = true;\r\n    //     let selectedRecord = {};\r\n    //     const url = \"oos/getChecklist\";\r\n    //     let urlArray = [];\r\n    //     urlArray.push(rsapi.post(url, { userinfo: this.props.Login.userInfo }))\r\n    //     Axios.all(urlArray)\r\n    //         .then(response => {\r\n    //             let responseData = response[0].data;\r\n    //             const CheckListMap = constructOptionList(responseData.CheckList || [], \"nchecklistcode\", \"schecklistname\", '', 'nchecklistcode', false);\r\n    //             let CheckList = CheckListMap.get(\"OptionList\");\r\n    //             const updateInfo = {\r\n    //                 typeName: DEFAULT_RETURN,\r\n    //                 data: {\r\n    //                     openModal: true,\r\n    //                     CheckList,\r\n    //                     screenName: \"IDS_OOSMASTERCHECKLIST\",\r\n    //                     operation: \"create\",\r\n    //                     isInitialRender,\r\n    //                     selectedRecord,\r\n    //                     ncontrolCode: controlCode\r\n    //                 }\r\n    //             }\r\n    //             this.props.updateStore(updateInfo);\r\n    //         })\r\n    //         .catch(error => {\r\n    //             if (error.response.status === 500) {\r\n    //                 toast.error(error.message);\r\n    //             } else {\r\n    //                 toast.warn(error.response.data);\r\n    //             }\r\n    //             this.setState({\r\n    //                 loading: false\r\n    //             });\r\n    //         });\r\n    // }\r\n\r\n    // fetchEditOosMasterStep = (editParam) => {\r\n    //     const isInitialRender = true;\r\n    //     let editParamValue = editParam;\r\n    //     const url = \"oos/getActiveOOSWorkFlowTransactionById\";\r\n    //         let urlArray = [];\r\n    //         urlArray.push(rsapi.post(url, { userinfo: this.props.Login.userInfo, noosworkflowtransactioncode: editParam.primaryKeyValue }))\r\n    //         Axios.all(urlArray)\r\n    //             .then(response => {\r\n    //                 let responseData = response[0].data;\r\n    //                 const OosWorkFlowTypeMap = constructOptionList(responseData.oosWorkFlowType || [], \"noosworkflowtypecode\", \"soosworkflowtypename\", '', 'noosworkflowtypecode', false);\r\n    //                 let OosWorkFlowType = OosWorkFlowTypeMap.get(\"OptionList\");\r\n    //                 let noosworkflowtypecode = [];\r\n    //                 let ntranscode = [];\r\n    //                 const OosStepStatusMap = constructOptionList(responseData.OosStepStatus || [], \"ntranscode\", \"stransdisplaystatus\", '', 'ntranscode', false);\r\n    //                 let OosStepStatus = OosStepStatusMap.get(\"OptionList\");\r\n    //                 const updateInfo = {\r\n    //                     typeName: DEFAULT_RETURN,\r\n    //                     data: {\r\n    //                         openModal: true,\r\n    //                         OosWorkFlowType,\r\n    //                         OosStepStatus,\r\n    //                         noosworkflowtypecode,\r\n    //                         ntranscode,\r\n    //                         screenName: \"IDS_OOSMASTERSTEP\",\r\n    //                         operation: \"create\",\r\n    //                         isInitialRender,\r\n    //                         // selectedRecord,\r\n    //                         ncontrolCode: editParam.ncontrolCode\r\n    //                     }\r\n    //                 }\r\n    //                 this.props.updateStore(updateInfo);\r\n    //             })\r\n    //             .catch(error => {\r\n    //                 if (error.response.status === 500) {\r\n    //                     toast.error(error.message);\r\n    //                 } else {\r\n    //                     toast.warn(error.response.data);\r\n    //                 }\r\n    //                 this.setState({\r\n    //                     loading: false\r\n    //                 });\r\n    //             });\r\n    // }\r\n\r\n    childDataChange = (selectedRecord) => {\r\n        let isInitialRender = false;\r\n        this.setState({\r\n            selectedRecord: {\r\n                ...selectedRecord\r\n            },\r\n            isInitialRender\r\n        });\r\n    }\r\n\r\n    onMandatoryCheck = () => {\r\n        const mandatoryFields =\r\n            this.props.Login.loadEsignStateHandle ?\r\n                [\r\n                    { \"idsName\": \"IDS_PASSWORD\", \"dataField\": \"esignpassword\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                    { \"idsName\": \"IDS_REASON\", \"dataField\": \"esignreason\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"esigncomments\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                ]\r\n                :\r\n                this.props.Login.screenName === \"IDS_OOSWORKFLOWTRANSACTION\" ?\r\n                    [\r\n                        { \"mandatory\": true, \"idsName\": \"IDS_STEPNAME\", \"dataField\": \"noosworkflowtypecode\", \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n                        { \"mandatory\": true, \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textarea\" },\r\n                        { \"mandatory\": true, \"idsName\": \"IDS_STATUS\", \"dataField\": \"ntranscode\", \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" }\r\n                    ]\r\n                    :\r\n                    []\r\n            ;\r\n        onSaveMandatoryValidation(this.state.selectedRecord, mandatoryFields, this.props.Login.loadEsignStateHandle ? this.validateEsign : this.onSaveClick, this.props.Login.loadEsignStateHandle);\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.screenName === \"IDS_OOSWORKFLOWTRANSACTION\") {\r\n            const formData = new FormData();\r\n            const selectedRecord = this.state.selectedRecord;\r\n            const acceptedFiles = selectedRecord.sfilename;\r\n            const userInfo = this.props.Login.userInfo;\r\n            const masterData = this.props.Login.masterData;\r\n            let isFileEdited = transactionStatus.NO;\r\n            let fileArray = [];\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                if (this.props.Login.operation === 'create') {\r\n                    acceptedFiles.forEach((file, index) => {\r\n                        const splittedFileName = file.name.split('.');\r\n                        const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                        const fileName = selectedRecord.ssystemfilename && selectedRecord.ssystemfilename !== \"\" ?\r\n                            selectedRecord.ssystemfilename.split('.')[0] : create_UUID();\r\n                        const uniquefilename = fileName + '.' + fileExtension;\r\n                        const tempData = {};\r\n                        tempData[\"noosmastercode\"] = masterData.selectedOosMaster && masterData.selectedOosMaster.noosmastercode ? masterData.selectedOosMaster.noosmastercode : -1;\r\n                        tempData[\"noosworkflowtypecode\"] = selectedRecord.noosworkflowtypecode.value;\r\n                        tempData[\"ntranscode\"] = selectedRecord.ntranscode.value;\r\n                        tempData[\"scomments\"] = selectedRecord.scomments;\r\n                        tempData[\"sadditionalcomments\"] = selectedRecord.sadditionalcomments;\r\n                        tempData[\"sfilename\"] = file.name ? Lims_JSON_stringify(file.name.replaceAll('\\\\', '\\\\\\\\\\\\\\\\').replaceAll('\\n', '\\\\\\\\n').replaceAll('\"', '\\\\\"').trim(), false) : null;\r\n                        tempData[\"ssystemfilename\"] = uniquefilename;\r\n                        tempData[\"nfilesize\"] = file.size;\r\n                        formData.append(\"uploadedFile\" + index, file);\r\n                        formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                        fileArray.push(tempData);\r\n                    });\r\n                    formData.append(\"filecount\", acceptedFiles.length);\r\n                    isFileEdited = transactionStatus.YES;\r\n                } else {\r\n                    acceptedFiles.forEach((file, index) => {\r\n                        const splittedFileName = file.name.split('.');\r\n                        const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                        const fileName = selectedRecord.ssystemfilename && selectedRecord.ssystemfilename !== \"\" ?\r\n                            selectedRecord.ssystemfilename.split('.')[0] : create_UUID();\r\n                        const uniquefilename = fileName + '.' + fileExtension;\r\n                        const tempData = {};\r\n                        tempData[\"noosmastercode\"] = masterData.selectedOosMaster && masterData.selectedOosMaster.noosmastercode ? masterData.selectedOosMaster.noosmastercode : -1;\r\n                        tempData[\"noosworkflowtypecode\"] = selectedRecord.noosworkflowtypecode.value;\r\n                        tempData[\"ntranscode\"] = selectedRecord.ntranscode.value;\r\n                        tempData[\"scomments\"] = selectedRecord.scomments;\r\n                        tempData[\"sadditionalcomments\"] = selectedRecord.sadditionalcomments;\r\n                        tempData[\"sfilename\"] = file.name ? Lims_JSON_stringify(file.name.replaceAll('\\\\', '\\\\\\\\\\\\\\\\').replaceAll('\\n', '\\\\\\\\n').replaceAll('\"', '\\\\\"').trim(), false) : null;\r\n                        tempData[\"ssystemfilename\"] = uniquefilename;\r\n                        tempData[\"nfilesize\"] = file.size;\r\n                        formData.append(\"uploadedFile\" + index, file);\r\n                        formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                        formData.append(\"filecount\", acceptedFiles.length);\r\n                        isFileEdited = transactionStatus.YES;\r\n                        fileArray.push(tempData);\r\n                    });\r\n                }\r\n            } else {\r\n                let tempData = {};\r\n                tempData[\"noosmastercode\"] = masterData.selectedOosMaster && masterData.selectedOosMaster.noosmastercode ? masterData.selectedOosMaster.noosmastercode : -1;\r\n                tempData[\"noosworkflowtypecode\"] = selectedRecord.noosworkflowtypecode.value;\r\n                tempData[\"ntranscode\"] = selectedRecord.ntranscode.value;\r\n                tempData[\"scomments\"] = selectedRecord.scomments;\r\n                tempData[\"sadditionalcomments\"] = selectedRecord.sadditionalcomments;\r\n                tempData[\"sfilename\"] = acceptedFiles ? Lims_JSON_stringify(acceptedFiles.replaceAll('\\\\', '\\\\\\\\\\\\\\\\').replaceAll('\\n', '\\\\\\\\n').replaceAll('\"', '\\\\\"').trim(), false) : null;\r\n                tempData[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                tempData[\"nfilesize\"] = selectedRecord.size;\r\n                fileArray.push(tempData);\r\n            }\r\n            formData.append(\"isFileEdited\", isFileEdited);\r\n            formData.append(\"oosworkflowtransaction\", JSON.stringify(fileArray));\r\n            formData.append(\"nattachmenttypecode\", attachmentType.FTP);\r\n            formData.append(\"noosworkflowtransactioncode\", masterData.selectedOosMaster);\r\n            formData.append(\"ncontrolcode\", this.props.Login.ncontrolCode);\r\n            formData.append(\"userinfo\", JSON.stringify({\r\n                ...userInfo,\r\n                sformname: Lims_JSON_stringify(userInfo.sformname),\r\n                smodulename: Lims_JSON_stringify(userInfo.smodulename),\r\n                slanguagename: Lims_JSON_stringify(userInfo.slanguagename)\r\n            }));\r\n\r\n            const inputParam = {\r\n                inputData: {\r\n                    \"userinfo\": {\r\n                        ...userInfo,\r\n                        sformname: Lims_JSON_stringify(userInfo.sformname),\r\n                        smodulename: Lims_JSON_stringify(userInfo.smodulename),\r\n                        slanguagename: Lims_JSON_stringify(userInfo.slanguagename)\r\n                    },\r\n                    formData: formData,\r\n                    isFileupload: true,\r\n                    operation: this.props.Login.operation,\r\n                    classUrl: \"oos\",\r\n                    saveType: saveType,\r\n                    formRef: formRef,\r\n                    methodUrl: \"OOSWorkFlowTransaction\",\r\n                    selectedRecord: this.state.selectedRecord,\r\n                    screenName: this.props.Login.screenName,\r\n                    masterData: this.props.Login.masterData\r\n                }\r\n            };\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        screenData: { inputParam },\r\n                        loadEsignStateHandle: true,\r\n                        ncontrolcode: this.props.Login.ncontrolCode\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                this.props.onSaveOOSWorkFlowTransaction(inputParam);\r\n            }\r\n        } else if (this.props.Login.screenName === \"IDS_OOSCHECKLISTQB\") {\r\n            const failedControls = [];\r\n            const mandatoryFields = [];\r\n            this.props.Login.masterData.templateData.map(control =>\r\n                control.nmandatoryfield === transactionStatus.YES ? mandatoryFields.push(control) : ''\r\n            )\r\n            mandatoryFields.forEach(item => {\r\n                if (this.state.selectedRecord && this.state.selectedRecord[item.nchecklistversionqbcode] && this.state.selectedRecord[item.nchecklistversionqbcode].sdefaultvalue) {\r\n                    if (typeof this.state.selectedRecord[item.nchecklistversionqbcode].sdefaultvalue === \"object\") {\r\n                        if (this.state.selectedRecord[item.nchecklistversionqbcode].sdefaultvalue.length === 0) {\r\n                            const alertMessage = item.squestion\r\n                            failedControls.push(alertMessage);\r\n                        }\r\n                    }\r\n                    else if (typeof this.state.selectedRecord[item.nchecklistversionqbcode].sdefaultvalue === \"string\") {\r\n                        if (this.state.selectedRecord[item.nchecklistversionqbcode].sdefaultvalue.trim().length === 0) {\r\n                            const alertMessage = item.squestion\r\n                            failedControls.push(alertMessage);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (this.state.selectedRecord[item.nchecklistversionqbcode].sdefaultvalue.length === 0) {\r\n                            const alertMessage = item.squestion\r\n                            failedControls.push(alertMessage);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    const alertMessage = item.squestion\r\n                    failedControls.push(alertMessage);\r\n                }\r\n            });\r\n            if (failedControls.length === 0) {\r\n                let inputData = [];\r\n                inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n                inputData[\"noosworkflowtransactioncode\"] = this.props.Login.selectedId;\r\n                const inputParam = {\r\n                    classUrl: this.props.Login.inputParam.classUrl,\r\n                    methodUrl: \"OOSChecklistQb\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: this.props.Login.operation,\r\n                    selectedRecord: this.state.selectedRecord,\r\n                    masterData: this.props.Login.masterData\r\n                }\r\n                // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                //     const updateInfo = {\r\n                //         typeName: DEFAULT_RETURN,\r\n                //         data: {\r\n                //             loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                //             openModal: true, openTemplateModal: true, screenName: \"IDS_GOODSINCHECKLIST\",\r\n                //             operation: this.props.Login.operation\r\n                //         }\r\n                //     }\r\n                //     this.props.updateStore(updateInfo);\r\n                // }\r\n                // else {\r\n                this.props.onSaveOOSChecklistQb(inputParam);\r\n                // }\r\n            }\r\n            else {\r\n                toast.info(`${this.props.intl.formatMessage({ id: \"IDS_ENTER\" })} ${failedControls[0]}`);\r\n            }\r\n        }\r\n    }\r\n\r\n    openCloseOOS = (parameter) => {\r\n        let masterData = parameter.masterData;\r\n        let urlArray = [];\r\n        const url = \"oos/openCloseOOS\";\r\n        urlArray.push(rsapi.post(url, {\r\n            userinfo: this.props.Login.userInfo,\r\n            noosmastercode: masterData.selectedOosMaster && masterData.selectedOosMaster.noosmastercode\r\n                && masterData.selectedOosMaster.noosmastercode,\r\n            operation: parameter.operation\r\n        }))\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let OosMaster = masterData.OosMaster;\r\n                if (response[0].data && response[0].data.selectedOosMaster && response[0].data.selectedOosMaster != null) {\r\n                    OosMaster = replaceUpdatedObject([response[0].data.selectedOosMaster], OosMaster, \"noosmastercode\");\r\n                }\r\n                masterData = {\r\n                    ...masterData,\r\n                    ...response[0].data,\r\n                    ...OosMaster\r\n                }\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        masterData,\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            })\r\n            .catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n    // tabDetail = () => {\r\n    //     const tabMap = new Map();\r\n\r\n    //     const editOOSWorkFlowTransactionId =\r\n    //         this.state.controlMap.has(\"EditWorkFlowTransaction\") &&\r\n    //         this.state.controlMap.get(\"EditWorkFlowTransaction\").ncontrolcode;\r\n\r\n    //     const viewOOSWorkFlowTransactionId =\r\n    //         this.state.controlMap.has(\"ViewWorkFlowTransaction\") &&\r\n    //         this.state.controlMap.get(\"ViewWorkFlowTransaction\").ncontrolcode;\r\n    //     // const extractedColumnList = [\r\n    //     //     { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestname\", \"width\": \"200px\" },\r\n    //     //     { \"idsName\": \"IDS_STEPNAME\", \"dataField\": \"soosworkflowtypename\", \"width\": \"200px\" },\r\n    //     //     { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"width\": \"200px\" },\r\n    //     //     { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"200px\" },\r\n    //     //     { \"idsName\": \"IDS_ADDITIONALCOMMENTS\", \"dataField\": \"sadditionalcomments\", \"width\": \"200px\" },\r\n    //     //     { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" }\r\n    //     // ];\r\n\r\n    //     const editParamWorkFlowTransaction = {\r\n    //         screenName: this.props.Login.screenName, primaryKeyField: \"noosworkflowtransactioncode\", operation: \"update\",\r\n    //         inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: editOOSWorkFlowTransactionId, masterData: this.props.Login.masterData\r\n    //     };\r\n\r\n    //     const viewParamWorkFlowTransaction = {\r\n    //         screenName: this.props.Login.screenName, primaryKeyField: \"noosworkflowtransactioncode\", operation: \"view\",\r\n    //         inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: viewOOSWorkFlowTransactionId, masterData: this.props.Login.masterData\r\n    //     };\r\n\r\n    //     // const editParamOOSChecklist = {\r\n    //     //     screenName: this.props.Login.screenName, primaryKeyField: \"noosmasterchecklistcode\", operation: \"update\",\r\n    //     //     inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: editOOSWorkFlowTransactionId, masterData: this.props.Login.masterData\r\n    //     // }\r\n\r\n    //     tabMap.set(\"IDS_WORKFLOWTRANSACTION\",\r\n    //         <DataGrid\r\n    //             primaryKeyField={\"noosmastercode\"}\r\n    //             data={this.props.Login.masterData.OosWorkFlowTransaction || []}\r\n    //             dataResult={process(this.props.Login.masterData.OosWorkFlowTransaction || [], this.state.sampleGridDataState)}\r\n    //             dataState={this.state.sampleGridDataState}\r\n    //             dataStateChange={this.sampleInfoDataStateChange}\r\n    //             extractedColumnList={[\r\n    //                 { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestname\", \"width\": \"200px\" },\r\n    //                 { \"idsName\": \"IDS_STEPNAME\", \"dataField\": \"soosworkflowtypename\", \"width\": \"200px\" },\r\n    //                 { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"width\": \"200px\" },\r\n    //                 { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"200px\" },\r\n    //                 { \"idsName\": \"IDS_ADDITIONALCOMMENTS\", \"dataField\": \"sadditionalcomments\", \"width\": \"200px\" },\r\n    //                 { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" }\r\n    //             ]}\r\n    //             // detailedFieldList={[]}\r\n    //             // exportFieldList={[]}\r\n    //             userInfo={this.props.Login.userInfo}\r\n    //             controlMap={this.state.controlMap}\r\n    //             userRoleControlRights={this.state.userRoleControlRights}\r\n    //             inputParam={this.props.Login.inputParam}\r\n    //             deleteRecord={this.deleteOOSWorkFlowTransaction}\r\n    //             // deleteParam={goodsinDeleteSampleParam}\r\n    //             methodUrl={\"WorkFlowTransaction\"}\r\n    //             pageable={true}\r\n    //             isComponent={false}\r\n    //             hasDynamicColSize={true}\r\n    //             isActionRequired={true}\r\n    //             isToolBarRequired={true}\r\n    //             isAddRequired={true}\r\n    //             addRecord={this.openOosMasterStep}\r\n    //             // fetchRecord={this.fetchEditOosMasterStep}\r\n    //             editParam={editParamWorkFlowTransaction}\r\n    //             isRefreshRequired={false}\r\n    //             isImportRequired={false}\r\n    //             isDownloadPDFRequired={false}\r\n    //             isDownloadExcelRequired={false}\r\n    //             // import={this.ImportFile}\r\n    //             scrollable={'scrollable'}\r\n    //             gridHeight={'600px'}\r\n    //             expandField=\"expanded\"\r\n    //             viewParam={viewParamWorkFlowTransaction}\r\n    //             viewRecord={this.viewChecklistQb}\r\n    //         // screenName=\"OOS Master\"\r\n    //         />\r\n    //     );\r\n\r\n    //     // tabMap.set(\"IDS_OOSCHECKLIST\",\r\n    //     //     <DataGrid\r\n    //     //         primaryKeyField={\"noosmastercode\"}\r\n    //     //         data={this.props.Login.masterData.OosMasterChecklist || []}\r\n    //     //         dataResult={process(this.props.Login.masterData.OosMasterChecklist || [], this.state.sampleGridDataState)}\r\n    //     //         dataState={this.state.sampleGridDataState}\r\n    //     //         dataStateChange={this.sampleInfoDataStateChange}\r\n    //     //         extractedColumnList={[\r\n    //     //             { \"idsName\": \"IDS_CHECKLIST\", \"dataField\": \"schecklistname\", \"width\": \"200px\" },\r\n    //     //             { \"idsName\": \"IDS_CHECKLISTVERSION\", \"dataField\": \"schecklistversionname\", \"width\": \"200px\" },\r\n    //     //             // { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"width\": \"200px\" },\r\n    //     //             // { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"200px\" },\r\n    //     //             // { \"idsName\": \"IDS_ADDITIONALCOMMENTS\", \"dataField\": \"sadditionalcomments\", \"width\": \"200px\" },\r\n    //     //             // { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" }\r\n    //     //         ]}\r\n    //     //         // detailedFieldList={[]}\r\n    //     //         // exportFieldList={[]}\r\n    //     //         userInfo={this.props.Login.userInfo}\r\n    //     //         controlMap={this.state.controlMap}\r\n    //     //         userRoleControlRights={this.state.userRoleControlRights}\r\n    //     //         inputParam={this.props.Login.inputParam}\r\n    //     //         deleteRecord={this.DeleteGoodsInSample}\r\n    //     //         // deleteParam={goodsinDeleteSampleParam}\r\n    //     //         methodUrl={\"OOSChecklist\"}\r\n    //     //         pageable={true}\r\n    //     //         isComponent={false}\r\n    //     //         hasDynamicColSize={true}\r\n    //     //         isActionRequired={true}\r\n    //     //         isToolBarRequired={true}\r\n    //     //         isAddRequired={true}\r\n    //     //         addRecord={this.openOosMasterChecklist}\r\n    //     //         // fetchRecord={this.fetchEditOosMasterStep}\r\n    //     //         editParam={editParamOOSChecklist}\r\n    //     //         isRefreshRequired={false}\r\n    //     //         isImportRequired={false}\r\n    //     //         isDownloadPDFRequired={false}\r\n    //     //         isDownloadExcelRequired={false}\r\n    //     //         // import={this.ImportFile}\r\n    //     //         scrollable={'scrollable'}\r\n    //     //         gridHeight={'600px'}\r\n    //     //         expandField=\"expanded\"\r\n    //     //     // screenName=\"OOS Master\"\r\n    //     //     />\r\n    //     // );\r\n    //     return tabMap;\r\n    // }\r\n\r\n    // onTabChange = (tabProps) => {\r\n    //     const screenName = tabProps.screenName;\r\n    //     const updateInfo = {\r\n    //         typeName: DEFAULT_RETURN,\r\n    //         data: { screenName }\r\n    //     }\r\n    //     this.props.updateStore(updateInfo);\r\n    // }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, getOOSMasterData, getOosMasterDetail, updateStore,\r\n    onSaveOOSWorkFlowTransaction, \r\n    // onSaveOOSMasterChecklist, \r\n    onSaveOOSChecklistQb, deleteOOSWorkFlowTransaction\r\n})(injectIntl(OOSMaster));"]},"metadata":{},"sourceType":"module"}