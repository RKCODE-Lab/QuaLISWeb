{"ast":null,"code":"import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Row,Col,Card,FormGroup,FormLabel}from'react-bootstrap';import{connect}from'react-redux';import{callService,filterColumnData,changeTrainingUserViewDateFilter,getTrainingUserViewDetails,viewAttachment}from'../../../actions';import{FormattedMessage,injectIntl}from'react-intl';import{toast}from'react-toastify';import{getControlMap,convertDateValuetoString}from'../../../components/CommonScript';import ListMaster from'../../../components/list-master/list-master.component';import{ReadOnlyText,ContentPanel}from'../../../components/App.styles';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';import'react-perfect-scrollbar/dist/css/styles.css';// import ReactTooltip from 'react-tooltip';\nimport BreadcrumbComponent from'../../../components/Breadcrumb.Component';import{Affix}from'rsuite';import TrainingUserViewDateFilter from'../../../pages/competencemanagement/traininguserview/TrainingUserViewDateFilter';import UserViewTrainingDocumentTab from'./UserViewTrainingDocumentTab';import CustomTab from\"../../../components/custom-tabs/custom-tabs.component\";import{designProperties}from'../../../components/Enumeration';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var UserView=/*#__PURE__*/function(_React$Component){_inherits(UserView,_React$Component);var _super=_createSuper(UserView);function UserView(props){var _this;_classCallCheck(this,UserView);_this=_super.call(this,props);_this.sidebarExpandCollapse=function(){_this.setState({sidebarview:true});};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){_this.searchRef.current.value=\"\";var fromDate=_this.state.selectedRecord[\"fromdate\"]?_this.state.selectedRecord[\"fromdate\"]:_this.props.Login.masterData.FromDate;var toDate=_this.state.selectedRecord[\"todate\"]?_this.state.selectedRecord[\"todate\"]:_this.props.Login.masterData.ToDate;var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo);var inputParam={inputData:{fromDate:obj.fromDate,toDate:obj.toDate,usercode:_this.props.Login.userInfo.nusercode,userinfo:_this.props.Login.userInfo},classUrl:\"userview\",methodUrl:\"UserView\",displayName:\"IDS_TRAININGUSERVIEW\",userInfo:_this.props.Login.userInfo};_this.props.changeTrainingUserViewDateFilter(inputParam);};_this.tabDetail=function(){var _ref,_ref2,_ref3,_ref4;var moreField=[(_ref={},_defineProperty(_ref,designProperties.LABEL,\"IDS_LINK\"),_defineProperty(_ref,designProperties.VALUE,\"slinkname\"),_ref),(_ref2={},_defineProperty(_ref2,designProperties.LABEL,\"IDS_CREATEDDATE\"),_defineProperty(_ref2,designProperties.VALUE,\"screateddate\"),_ref2),(_ref3={},_defineProperty(_ref3,designProperties.LABEL,\"IDS_DESCRIPTION\"),_defineProperty(_ref3,designProperties.VALUE,\"sfiledesc\"),_ref3)];var subFields=[(_ref4={},_defineProperty(_ref4,designProperties.LABEL,\"IDS_FILESIZE\"),_defineProperty(_ref4,designProperties.VALUE,\"sfilesize\"),_defineProperty(_ref4,\"fieldType\",\"size\"),_ref4)];var tabMap=new Map();tabMap.set(\"IDS_USERVIEWTRAININGDOCUMENT\",/*#__PURE__*/React.createElement(UserViewTrainingDocumentTab,{controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,masterData:_this.props.Login.masterData,userInfo:_this.props.Login.userInfo,TrainingDocuments:_this.props.Login.masterData.TrainingDocuments,screenName:\"IDS_USERVIEWTRAININGDOCUMENT\",viewTrainingDocumentFile:_this.viewTrainingDocumentFile,moreField:moreField,subFields:subFields}));return tabMap;};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.reloadData=function(selectedRecord,isDateChange){_this.searchRef.current.value=\"\";var fromDate=_this.props.Login.masterData.FromDate;var toDate=_this.props.Login.masterData.ToDate;var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo,true);var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,fromDate:obj.fromDate,toDate:obj.toDate},classUrl:'userview',methodUrl:\"UserView\",displayName:\"IDS_TRAININGUSERVIEW\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.viewTrainingDocumentFile=function(filedata){var inputParam={inputData:{userviewfile:filedata,userinfo:_this.props.Login.userInfo},classUrl:\"userview\",operation:\"view\",methodUrl:\"UserViewFile\",screenName:\"User View File\"};_this.props.viewAttachment(inputParam);};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],controlMap:new Map(),skip:0,take:_this.props.Login.settings?_this.props.Login.settings[3]:25,sidebarview:false};_this.searchRef=React.createRef();_this.searchFieldList=[\"strainingvenue\",\"strainingtopic\",\"strainername\"];return _this;}_createClass(UserView,[{key:\"render\",value:function render(){var _this2=this;var obj=convertDateValuetoString(this.state.selectedRecord[\"fromdate\"]||this.props.Login.masterData&&this.props.Login.masterData.FromDate,this.state.selectedRecord[\"todate\"]||this.props.Login.masterData&&this.props.Login.masterData.ToDate,this.props.Login.userInfo);var fromDate=obj.fromDate;var toDate=obj.toDate;var SelectedTrainingUserView=this.props.Login.masterData.SelectedTrainingUserView;var filterParam={inputListName:\"TrainingUserView\",selectedObject:\"SelectedTrainingUserView\",primaryKeyField:\"nparticipantcode\",fetchUrl:\"userview/getTrainingUserViewDetails\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var breadCrumbData=this.state.filterData||[];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.props.sidebarview?'4':\"2\")},/*#__PURE__*/React.createElement(ListMaster,{searchRef:this.searchRef,screenName:\"UserView\",userRoleControlRights:this.state.userRoleControlRights,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.TrainingUserView,showFilterIcon:true,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,reloadData:this.reloadData,getMasterDetail:function getMasterDetail(master){return _this2.props.getTrainingUserViewDetails(master,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.SelectedTrainingUserView,showFilter:this.props.Login.showFilter,filterColumnData:this.props.filterColumnData,filterParam:filterParam,primaryKeyField:\"nparticipantcode\",mainField:\"strainingtopic\",firstField:\"strainername\",secondField:\"strainingvenue\",filterComponent:[{\"IDS_TRAININGUSERVIEWDATEFILTER\":/*#__PURE__*/React.createElement(TrainingUserViewDateFilter,{selectedRecord:this.state.selectedRecord||{},value:this.state.value||{},handleDateChange:this.handleDateChange,fromDate:fromDate,toDate:toDate,userInfo:this.props.Login.userInfo,onFilterChange:this.onFilterChange})}]})),/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.props.sidebarview?'8':\"10\"),className:\"position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-view-btn-block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-view-btn \",onClick:this.props.parentFunction},!this.props.sidebarview?/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-less-than\"}):/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-greater-than\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.SelectedTrainingUserView?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.SelectedTrainingUserView.strainingtopic),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"})))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGTOPIC\",message:\"Training Topic\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingtopic))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAINERNAME\",message:\"Trainer Name\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainername))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGVENUE\",message:\"Training Venue\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingvenue))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGDATETIME\",message:\"Training Date\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingdatetime))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGSTATUS\",message:\"Training Status\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingstatus))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGCATEGORY\",message:\"Training Category\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingcategoryname)))),SelectedTrainingUserView&&/*#__PURE__*/React.createElement(CustomTab,{tabDetail:this.tabDetail(),onTabChange:this.onTabChange}))):\"\"))))))));}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];var obj=convertDateValuetoString(this.props.Login.masterData.FromDate,this.props.Login.masterData.ToDate,this.props.Login.userInfo);breadCrumbData.push({\"label\":\"IDS_FROM\",\"value\":obj.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":obj.breadCrumbto});return breadCrumbData;}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,data:this.props.Login.masterData.TrainingUserView});}else{if(this.props.Login.masterData.TrainingUserView){this.setState({data:this.props.Login.masterData.TrainingUserView,dataState:{skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5}});}}}if(this.props.Login.masterData!==previousProps.Login.masterData){var filterData=this.generateBreadCrumData();this.setState({filterData:filterData});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return UserView;}(React.Component);export default connect(mapStateToProps,{callService:callService,filterColumnData:filterColumnData,changeTrainingUserViewDateFilter:changeTrainingUserViewDateFilter,getTrainingUserViewDetails:getTrainingUserViewDetails,viewAttachment:viewAttachment})(injectIntl(UserView));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-512/QuaLISWeb/src/pages/competencemanagement/traininguserview/UserView.jsx"],"names":["React","Component","Row","Col","Card","FormGroup","FormLabel","connect","callService","filterColumnData","changeTrainingUserViewDateFilter","getTrainingUserViewDetails","viewAttachment","FormattedMessage","injectIntl","toast","getControlMap","convertDateValuetoString","ListMaster","ReadOnlyText","ContentPanel","DEFAULT_RETURN","BreadcrumbComponent","Affix","TrainingUserViewDateFilter","UserViewTrainingDocumentTab","CustomTab","designProperties","mapStateToProps","state","Login","UserView","props","sidebarExpandCollapse","setState","sidebarview","openFilter","showFilter","updateInfo","typeName","data","updateStore","closeFilter","onFilterSubmit","searchRef","current","value","fromDate","selectedRecord","masterData","FromDate","toDate","ToDate","obj","userInfo","inputParam","inputData","usercode","nusercode","userinfo","classUrl","methodUrl","displayName","tabDetail","moreField","LABEL","VALUE","subFields","tabMap","Map","set","controlMap","userRoleControlRights","TrainingDocuments","viewTrainingDocumentFile","handleDateChange","dateName","dateValue","reloadData","isDateChange","filedata","userviewfile","operation","screenName","error","skip","take","settings","createRef","searchFieldList","SelectedTrainingUserView","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","breadCrumbData","filterData","length","searchedData","TrainingUserView","master","onFilterChange","parentFunction","strainingtopic","strainername","strainingvenue","strainingdatetime","strainingstatus","strainingcategoryname","onTabChange","push","breadCrumbFrom","breadCrumbto","previousProps","nformcode","Object","values","map","item","ncontrolcode","dataState","parseInt","generateBreadCrumData","masterStatus","errorCode","warn"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Card, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {\r\n    callService,filterColumnData,changeTrainingUserViewDateFilter,getTrainingUserViewDetails,viewAttachment\r\n} from '../../../actions'\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport { getControlMap ,convertDateValuetoString } from '../../../components/CommonScript';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\nimport { ReadOnlyText, ContentPanel} from '../../../components/App.styles';\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\r\nimport { Affix } from 'rsuite';\r\nimport TrainingUserViewDateFilter from '../../../pages/competencemanagement/traininguserview/TrainingUserViewDateFilter';\r\nimport UserViewTrainingDocumentTab from './UserViewTrainingDocumentTab';\r\nimport CustomTab from \"../../../components/custom-tabs/custom-tabs.component\";\r\nimport { designProperties } from '../../../components/Enumeration';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass UserView extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = ({\r\n            selectedRecord: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            take: this.props.Login.settings ? this.props.Login.settings[3] : 25,\r\n            sidebarview: false\r\n        });\r\n        this.searchRef = React.createRef();\r\n        this.searchFieldList = [\"strainingvenue\", \"strainingtopic\", \"strainername\"]\r\n    }\r\n    sidebarExpandCollapse = () => {\r\n        this.setState({\r\n            sidebarview: true\r\n        })          \r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n\r\n        let obj = convertDateValuetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\r\n            this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate),\r\n            this.props.Login.userInfo)\r\n\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        const { SelectedTrainingUserView } = this.props.Login.masterData;\r\n        const filterParam = {\r\n            inputListName: \"TrainingUserView\", selectedObject: \"SelectedTrainingUserView\", primaryKeyField: \"nparticipantcode\",\r\n            fetchUrl: \"userview/getTrainingUserViewDetails\", fecthInputObject: { userinfo: this.props.Login.userInfo }, masterData: this.props.Login.masterData,\r\n            searchFieldList: this.searchFieldList\r\n        };\r\n              \r\n        let breadCrumbData = this.state.filterData || [];\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                    {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                    <Row noGutters={true}>\r\n                        <Col md={`${!this.props.sidebarview ? '4' : \"2\"}`}> \r\n                        <ListMaster\r\n                         searchRef={this.searchRef}\r\n                         screenName={\"UserView\"}\r\n                         userRoleControlRights={this.state.userRoleControlRights}\r\n                         masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.TrainingUserView}\r\n                         showFilterIcon={true}\r\n                         openFilter={this.openFilter}\r\n                         closeFilter={this.closeFilter}\r\n                         onFilterSubmit={this.onFilterSubmit}\r\n                         reloadData={this.reloadData}\r\n                         getMasterDetail={(master) => this.props.getTrainingUserViewDetails(master, this.props.Login.userInfo, this.props.Login.masterData)}       \r\n                         selectedMaster={this.props.Login.masterData.SelectedTrainingUserView}\r\n                         showFilter={this.props.Login.showFilter}\r\n                         filterColumnData={this.props.filterColumnData}\r\n                         filterParam={filterParam}\r\n                         primaryKeyField=\"nparticipantcode\"\r\n                                mainField=\"strainingtopic\"\r\n                                firstField=\"strainername\"\r\n                                secondField=\"strainingvenue\"\r\n                                filterComponent={[\r\n                                {\r\n                                  \"IDS_TRAININGUSERVIEWDATEFILTER\": (\r\n                                    <TrainingUserViewDateFilter\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                value={this.state.value || {}}\r\n                                                handleDateChange={this.handleDateChange}\r\n                                                fromDate={fromDate}\r\n                                                toDate={toDate}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                onFilterChange={this.onFilterChange}\r\n                                               \r\n                                            />\r\n                                  ),\r\n                                },\r\n                              ]}\r\n\r\n                            />\r\n                        </Col>\r\n                        <Col md={`${!this.props.sidebarview ? '8' : \"10\"}`} className=\"position-relative\">\r\n                            <div className=\"sidebar-view-btn-block\">\r\n                                <div className=\"sidebar-view-btn \" onClick={this.props.parentFunction}>\r\n                                    {!this.props.sidebarview ?                    \r\n                                        <i class=\"fa fa-less-than\"></i> :\r\n                                        <i class=\"fa fa-greater-than\"></i> \r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <ContentPanel className=\"panel-main-content\">\r\n                                        <Card className=\"border-0\">\r\n                                            {this.props.Login.masterData.SelectedTrainingUserView ?\r\n                                                <>\r\n                                                    <Card.Header>\r\n                                                       \r\n                                                        <Card.Title className=\"product-title-main\">\r\n                                                            {this.props.Login.masterData.SelectedTrainingUserView.strainingtopic}\r\n                                                        </Card.Title>\r\n                                                        <Card.Subtitle>\r\n                                                            <div className=\"d-flex product-category\">\r\n                                                                <h2 className=\"product-title-sub flex-grow-1\">\r\n\r\n                                                                    \r\n                                                                </h2>\r\n                                                                \r\n                                                            </div>\r\n\r\n                                                        </Card.Subtitle>\r\n                                                    </Card.Header>\r\n                                                    <Card.Body>\r\n                                                        <Row>\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGTOPIC\" message=\"Training Topic\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingtopic}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAINERNAME\" message=\"Trainer Name\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainername}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGVENUE\" message=\"Training Venue\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingvenue }\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGDATETIME\" message=\"Training Date\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingdatetime}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            {/* <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGTIME\" message=\"Training Time\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingtime}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col> */}\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGSTATUS\" message=\"Training Status\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.SelectedTrainingUserView.strainingstatus}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGCATEGORY\" message=\"Training Category\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.SelectedTrainingUserView.strainingcategoryname}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            {/* <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_ATTENDANCESTATUS\" message=\"Attendance Status\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.SelectedTrainingUserView.sattendancestatus}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>  */}\r\n                                                                                    \r\n                                                                                                                      \r\n                                                        </Row>\r\n                                                        {SelectedTrainingUserView && <CustomTab tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />}\r\n\r\n                                                    </Card.Body>\r\n\r\n                                                </>\r\n                                                : \"\"\r\n                                            }\r\n                                        </Card>\r\n                                    </ContentPanel>\r\n                                </Col></Row>\r\n                        </Col>\r\n                    </Row>\r\n            </div>\r\n\r\n            </>\r\n        );\r\n    }\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter;\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { showFilter },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      };\r\n    \r\n      closeFilter = () => {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { showFilter: false },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      };\r\n    \r\n      onFilterSubmit = () => {\r\n        this.searchRef.current.value = \"\";\r\n       let fromDate= this.state.selectedRecord[\"fromdate\"] ?this.state.selectedRecord[\"fromdate\"]: this.props.Login.masterData.FromDate;\r\n       let toDate= this.state.selectedRecord[\"todate\"] ? this.state.selectedRecord[\"todate\"]: this.props.Login.masterData.ToDate;\r\n\r\n        let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);  \r\n        let inputParam ={\r\n             inputData : {\r\n            fromDate: obj.fromDate,\r\n            toDate: obj.toDate,\r\n            \r\n            usercode: this.props.Login.userInfo.nusercode,\r\n            userinfo: this.props.Login.userInfo,\r\n        },\r\n        \r\n        classUrl: \"userview\",\r\n        methodUrl: \"UserView\",\r\n        displayName: \"IDS_TRAININGUSERVIEW\",\r\n        userInfo: this.props.Login.userInfo\r\n    };\r\n    this.props.changeTrainingUserViewDateFilter(inputParam);\r\n\r\n    }\r\n    tabDetail = () => {\r\n        const moreField=[\r\n            {[designProperties.LABEL]: \"IDS_LINK\",[designProperties.VALUE]:\"slinkname\"}, \r\n            {[designProperties.LABEL]: \"IDS_CREATEDDATE\",[designProperties.VALUE]:\"screateddate\"}, \r\n            {[designProperties.LABEL]: \"IDS_DESCRIPTION\",[designProperties.VALUE]:\"sfiledesc\"}\r\n        ];\r\n        const subFields=[\r\n            {[designProperties.LABEL]: \"IDS_FILESIZE\",[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\r\n        ];\r\n\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_USERVIEWTRAININGDOCUMENT\",\r\n            <UserViewTrainingDocumentTab\r\n            controlMap={this.state.controlMap}\r\n            userRoleControlRights={this.state.userRoleControlRights}\r\n                masterData={this.props.Login.masterData}\r\n                userInfo={this.props.Login.userInfo}\r\n                TrainingDocuments={this.props.Login.masterData.TrainingDocuments}\r\n                screenName=\"IDS_USERVIEWTRAININGDOCUMENT\"\r\n                viewTrainingDocumentFile={this.viewTrainingDocumentFile}\r\n                moreField={moreField}\r\n                subFields={subFields}\r\n            />\r\n    \r\n            );\r\n            return tabMap;\r\n\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n    \r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n            let obj = convertDateValuetoString(this.props.Login.masterData.FromDate,\r\n                this.props.Login.masterData.ToDate,\r\n                this.props.Login.userInfo);\r\n            breadCrumbData.push(\r\n\r\n                {\r\n                    \"label\": \"IDS_FROM\",\r\n                    \"value\": obj.breadCrumbFrom\r\n                },\r\n                {\r\n                    \"label\": \"IDS_TO\",\r\n                    \"value\": obj.breadCrumbto\r\n                }\r\n            );\r\n        \r\n        return breadCrumbData;\r\n    }\r\n\r\n   \r\n    reloadData = (selectedRecord, isDateChange) => {\r\n        this.searchRef.current.value = \"\";\r\n\r\n        let fromDate = this.props.Login.masterData.FromDate;\r\n        let toDate = this.props.Login.masterData.ToDate;       \r\n        let obj = convertDateValuetoString(fromDate,toDate, this.props.Login.userInfo, true);\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": this.props.Login.userInfo,\r\n                fromDate:obj.fromDate, \r\n                toDate:obj.toDate,\r\n            },\r\n            classUrl: 'userview',\r\n            methodUrl: \"UserView\",\r\n            displayName: \"IDS_TRAININGUSERVIEW\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    viewTrainingDocumentFile = (filedata) => {\r\n        const inputParam = {\r\n            inputData: {\r\n                userviewfile: filedata,\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            classUrl: \"userview\",\r\n            operation: \"view\",\r\n            methodUrl: \"UserViewFile\",\r\n            screenName: \"User View File\"\r\n        }\r\n        this.props.viewAttachment(inputParam);\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({\r\n                    userRoleControlRights, controlMap, data: this.props.Login.masterData.TrainingUserView,\r\n                });\r\n            }\r\n            else {\r\n                if (this.props.Login.masterData.TrainingUserView) {\r\n                    this.setState({\r\n                        data: this.props.Login.masterData.TrainingUserView,\r\n                        dataState : {skip:0,take:this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5},\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService,filterColumnData,changeTrainingUserViewDateFilter,getTrainingUserViewDetails,viewAttachment\r\n})(injectIntl(UserView));\r\n\r\n"]},"metadata":{},"sourceType":"module"}