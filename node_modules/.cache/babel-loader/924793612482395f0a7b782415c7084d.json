{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Row,Col,Card}from'react-bootstrap';//, Nav, Tab\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n//import { faPlus } from '@fortawesome/free-solid-svg-icons';//,faPencilAlt, faTrash\nimport{injectIntl}from'react-intl';//FormattedMessage,\n//import { Grid, GridColumn } from '@progress/kendo-react-grid';\nimport{process}from'@progress/kendo-data-query';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';//import Axios from 'axios';\n//import rsapi from '../../rsapi';\nimport{toast}from'react-toastify';import AddSupplierCategory from'./AddSupplierCategory';import AddMaterialCategory from'./AddMaterialCategory';import Esign from'../audittrail/Esign';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{constructOptionList,showEsign,onDropAttachFileList,create_UUID,validateEmail,deleteAttachmentDropZone}from'../../components/CommonScript';//import DataGrid from '../../components/DataGrid';\nimport SupplierTabs from'./SupplierTabs';import SupplierFileTab from'./SupplierFileTabs';import{transactionStatus,attachmentType}from'../../components/Enumeration';import CustomTabs from'../../components/custom-tabs/custom-tabs.component';import AddSupplierFile from'./AddSupplierFile';import AddSupplierContact from'./AddSupplierContact';var SupplierMaterialCategoryTab=/*#__PURE__*/function(_React$Component){_inherits(SupplierMaterialCategoryTab,_React$Component);var _super=_createSuper(SupplierMaterialCategoryTab);function SupplierMaterialCategoryTab(props){var _this;_classCallCheck(this,SupplierMaterialCategoryTab);_this=_super.call(this,props);_this.supplierDataStateChange=function(event){_this.setState({dataState:event.dataState});};_this.materialDataStateChange=function(event){_this.setState({dataStateMaterial:event.dataState});};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.onDropSupplierFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.tabDetail=function(){var addSupCatId=_this.props.controlMap.has(\"AddSupplierCategory\")&&_this.props.controlMap.get(\"AddSupplierCategory\").ncontrolcode;var deleteSupCatId=_this.props.controlMap.has(\"DeleteSupplierCategory\")&&_this.props.controlMap.get(\"DeleteSupplierCategory\").ncontrolcode;var addMatCatId=_this.props.controlMap.has(\"AddMaterialCategory\")&&_this.props.controlMap.get(\"AddMaterialCategory\").ncontrolcode;var deleteMatCatId=_this.props.controlMap.has(\"DeleteMaterialCategory\")&&_this.props.controlMap.get(\"DeleteMaterialCategory\").ncontrolcode;var addSupCotId=_this.props.controlMap.has(\"AddSupplierContact\")&&_this.props.controlMap.get(\"AddSupplierContact\").ncontrolcode;var editSupCotId=_this.props.controlMap.has(\"EditSupplierContact\")&&_this.props.controlMap.get(\"EditSupplierContact\").ncontrolcode;var deleteSupCotId=_this.props.controlMap.has(\"DeleteSupplierContact\")&&_this.props.controlMap.get(\"DeleteSupplierContact\").ncontrolcode;var supcatAddParam={screenName:\"Supplier Category\",operation:\"create\",primaryKeyField:\"nsuppliercatcode\",masterData:_this.props.masterData,userInfo:_this.props.userInfo,ncontrolCode:addSupCatId};var supcatDeleteParam={screenName:\"SupplierCategory\",methodUrl:\"SupplierMatrix\",operation:\"delete\",ncontrolCode:deleteSupCatId};var matericatAddParam={screenName:\"Material Category\",operation:\"create\",primaryKeyField:\"nmaterialcatcode\",masterData:_this.props.masterData,userInfo:_this.props.userInfo,ncontrolCode:addMatCatId};var materialcatDeleteParam={screenName:\"MaterialCategory\",methodUrl:\"SupplierMatrix\",operation:\"delete\",ncontrolCode:deleteMatCatId};var supcotAddParam={screenName:\"Supplier Contact\",operation:\"create\",primaryKeyField:\"nsuppliercontactcode\",masterData:_this.props.masterData,userInfo:_this.props.userInfo,ncontrolCode:addSupCotId};var editcotAddParam={screenName:\"Supplier Contact\",operation:\"update\",primaryKeyField:\"nsuppliercontactcode\",masterData:_this.props.masterData,userInfo:_this.props.userInfo,ncontrolCode:editSupCotId};var supcotDeleteParam={screenName:\"Supplier Contact\",methodUrl:\"Supplier\",operation:\"delete\",ncontrolCode:deleteSupCotId};var tabMap=new Map();var detailedFieldList=[{\"idsName\":\"IDS_DESIGNATION\",\"dataField\":\"sdesignation\",\"width\":\"150px\",\"mandatory\":false,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_MOBILENO\",\"dataField\":\"smobileno\",\"width\":\"150px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_TELEPHONENO\",\"dataField\":\"stelephoneno\",\"width\":\"150px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_EMAIL\",\"dataField\":\"semail\",\"width\":\"150px\",\"mandatory\":false,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_DESCRIPTION\",\"dataField\":\"sdescription\",\"width\":\"150px\",\"mandatory\":false,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_DEFAULTSTATUS\",\"dataField\":\"sdisplaystatus\",\"width\":\"250px\"}];tabMap.set(\"IDS_SUPPLIERCATEGORY\",/*#__PURE__*/React.createElement(SupplierTabs,{userRoleControlRights:_this.props.userRoleControlRights,controlMap:_this.props.controlMap,inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,addId:addSupCatId,addParam:supcatAddParam,comboDataService:_this.props.getSupplierCategoryComboDataService,addTitleIDS:\"IDS_SUPPLIERCATEGORY\",addTitleDefaultMsg:'SupplierCategory',primaryKeyField:\"nsuppliermatrixcode\",masterData:_this.props.masterData,primaryList:\"SupplierCategory\",dataResult:process(_this.props.masterData[\"SupplierCategory\"]||[],_this.state.dataState)// dataState={this.state.dataState}\n// dataStateChange={this.supplierDataStateChange}\n,dataState:_this.props.screenName===undefined||_this.props.screenName===''||_this.props.screenName===\"SupplierCategory\"?_this.state.dataState:{skip:0},dataStateChange:function dataStateChange(event){return _this.setState({dataState:event.dataState});},columnList:_this.suppliercatColumnList,methodUrl:\"SupplierMatrix\",deleteRecord:_this.deleteRecord,deleteParam:supcatDeleteParam//selectedId={this.props.selectedId}\n}));tabMap.set(\"IDS_MATERIALCATEGORY\",/*#__PURE__*/React.createElement(SupplierTabs,{userRoleControlRights:_this.props.userRoleControlRights,controlMap:_this.props.controlMap,inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,addId:addMatCatId,addParam:matericatAddParam,comboDataService:_this.props.getMaterialCategoryComboDataService,addTitleIDS:\"IDS_MATERIALCATEGORY\",addTitleDefaultMsg:'MaterialCategory',primaryKeyField:\"nsuppliermatrixcode\",masterData:_this.props.masterData,primaryList:\"MaterialCategory\",dataResult:process(_this.props.masterData[\"MaterialCategory\"]||[],_this.state.dataStateMaterial)// dataState={this.state.dataStateMaterial}\n// dataStateChange={this.materialDataStateChange}\n,dataState:_this.props.screenName===undefined||_this.props.screenName===\"MaterialCategory\"?_this.state.dataStateMaterial:{skip:0},dataStateChange:function dataStateChange(event){return _this.setState({dataStateMaterial:event.dataState});},columnList:_this.materialcatColumnList,methodUrl:\"SupplierMatrix\",deleteRecord:_this.deleteRecord,deleteParam:materialcatDeleteParam//selectedId={this.props.selectedId}\n}));tabMap.set(\"IDS_SUPPLIERCONTACT\",/*#__PURE__*/React.createElement(SupplierTabs,{userRoleControlRights:_this.props.userRoleControlRights,controlMap:_this.props.controlMap,inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,fetchRecord:_this.props.getSupplierContactComboDataService,addId:addSupCotId,editId:editSupCotId,editParam:editcotAddParam,addParam:supcotAddParam,comboDataService:_this.props.getSupplierContactComboDataService,addTitleIDS:\"IDS_SUPPLIERCONTACT\",addTitleDefaultMsg:'SupplierContact',primaryKeyField:\"nsuppliercontactcode\",masterData:_this.props.masterData,primaryList:\"SupplierContact\",dataResult:process(_this.props.masterData[\"SupplierContact\"]||[],_this.state.dataState)// dataState={this.state.dataStateMaterial}\n// dataStateChange={this.materialDataStateChange}\n,dataState:_this.props.screenName===undefined||supcotAddParam.screenName===\"Supplier Contact\"?_this.state.dataState:{skip:0},dataStateChange:function dataStateChange(event){return _this.setState({dataState:event.dataState});},columnList:_this.supplierContactColumnList,methodUrl:\"SupplierContact\",deleteRecord:_this.deleteRecord,deleteParam:supcotDeleteParam,detailedFieldList:detailedFieldList//selectedId={this.props.selectedId}\n}));tabMap.set(\"IDS_FILE\",/*#__PURE__*/React.createElement(SupplierFileTab,{controlMap:_this.props.controlMap,userRoleControlRights:_this.props.userRoleControlRights,userInfo:_this.props.userInfo,inputParam:_this.props.inputParam,deleteRecord:_this.deleteRecord,supplierFile:_this.props.masterData.supplierFile||[],getAvailableData:_this.props.getAvailableData,addSupplierFile:_this.props.addSupplierFile,viewSupplierFile:_this.viewSupplierFile,defaultRecord:_this.defaultRecord,screenName:\"Supplier File\",settings:_this.props.settings}));return tabMap;};_this.closeModal=function(){var loadEsign=_this.props.loadEsign;var openChildModal=_this.props.openChildModal;var selectedRecord=_this.props.selectedRecord;if(_this.props.loadEsign){if(_this.props.operation===\"delete\"){loadEsign=false;openChildModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']='';selectedRecord['esigncomments']='';}}else{openChildModal=false;}var updateInfo={typeName:DEFAULT_RETURN,data:{openChildModal:openChildModal,loadEsign:loadEsign,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;;if(fieldName===\"nsuppliercatcode\"){var selectedSupplierCategory=comboData;_this.setState({selectedRecord:selectedRecord,selectedSupplierCategory:selectedSupplierCategory});}if(fieldName===\"nmaterialcatcode\"){var selectedMaterialCategory=comboData;_this.setState({selectedRecord:selectedRecord,selectedMaterialCategory:selectedMaterialCategory});}if(fieldName===\"ncountrycode\"){var selectedSupplierContact=comboData;_this.setState({selectedRecord:selectedRecord,selectedSupplierContact:selectedSupplierContact});}};_this.viewSupplierFile=function(filedata){var inputParam={inputData:{supplierfile:filedata,userinfo:_this.props.userInfo},classUrl:\"supplier\",operation:\"view\",methodUrl:\"AttachedSupplierFile\",screenName:\"Supplier File\"};_this.props.viewAttachment(inputParam);};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"ntransactionstatus\")selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;// else if (event.target.name === \"nlockmode\")\n//     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\nelse selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){//add / edit  \nif(_this.state.selectedRecord['semail']?validateEmail(_this.state.selectedRecord['semail']):true){var inputParam={};if(_this.props.screenName===\"Supplier Category\"){inputParam=_this.saveSupplierCategory(saveType,formRef);}else if(_this.props.screenName===\"Material Category\"){inputParam=_this.saveMaterial(saveType,formRef);}else if(_this.props.screenName===\"Supplier Contact\"){inputParam=_this.saveSupplierContact(saveType,formRef);}else if(_this.props.screenName===\"Supplier File\"){inputParam=_this.onSaveSupplierFile(saveType,formRef);}if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,_this.props.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERVALIDEMAIL\"}));}};_this.onSaveSupplierFile=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var supplierFileArray=[];var supplierFile={nsuppliercode:_this.props.masterData.SelectedSupplier.nsuppliercode,nsupplierfilecode:selectedRecord.nsupplierfilecode?selectedRecord.nsupplierfilecode:0,nstatus:transactionStatus.ACTIVE,nattachmenttypecode:nattachmenttypecode,ndefaultstatus:selectedRecord[nattachmenttypecode===attachmentType.LINK?\"nlinkdefaultstatus\":\"ndefaultstatus\"]?selectedRecord[nattachmenttypecode===attachmentType.LINK?\"nlinkdefaultstatus\":\"ndefaultstatus\"]:4};var formData=new FormData();if(nattachmenttypecode===attachmentType.FTP){if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var tempData=Object.assign({},supplierFile);var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var ssystemfilename=selectedRecord.ssystemfilename?selectedRecord.ssystemfilename.split('.'):\"\";var filesystemfileext=selectedRecord.ssystemfilename?file.name.split('.')[ssystemfilename.length-1]:\"\";var uniquefilename=nattachmenttypecode===attachmentType.FTP?selectedRecord.nsupplierfilecode&&selectedRecord.nsupplierfilecode>0&&selectedRecord.ssystemfilename!==\"\"?ssystemfilename[0]+'.'+filesystemfileext:create_UUID()+'.'+fileExtension:\"\";tempData[\"sfilename\"]=file.name;tempData[\"sdescription\"]=selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\";tempData[\"nlinkcode\"]=transactionStatus.NA;tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"nfilesize\"]=file.size;formData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);supplierFileArray.push(tempData);});formData.append(\"filecount\",acceptedFiles.length);isFileEdited=transactionStatus.YES;}else{supplierFile[\"sfilename\"]=selectedRecord.sfilename;supplierFile[\"sdescription\"]=selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\";supplierFile[\"nlinkcode\"]=transactionStatus.NA;supplierFile[\"ssystemfilename\"]=selectedRecord.ssystemfilename;supplierFile[\"nfilesize\"]=selectedRecord.nfilesize;supplierFileArray.push(supplierFile);}}else{supplierFile[\"sfilename\"]=selectedRecord.slinkfilename.trim();supplierFile[\"sdescription\"]=selectedRecord.slinkdescription?selectedRecord.slinkdescription.trim():\"\";supplierFile[\"nlinkcode\"]=selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;supplierFile[\"ssystemfilename\"]=\"\";supplierFile[\"nfilesize\"]=0;supplierFileArray.push(supplierFile);}formData.append(\"isFileEdited\",isFileEdited);formData.append(\"supplierfile\",JSON.stringify(supplierFileArray));// formData.append(\"userinfo\", JSON.stringify(this.props.userInfo));\nvar selectedId=null;var postParam=undefined;if(_this.props.operation===\"update\"){// edit\npostParam={inputListName:\"Supplier\",selectedObject:\"SelectedSupplier\",primaryKeyField:\"nsuppliercode\"};selectedId=selectedRecord[\"nsupplierfilecode\"];}var inputParam={inputData:{userinfo:_this.props.userInfo},formData:formData,isFileupload:true,operation:_this.props.operation,classUrl:\"supplier\",saveType:saveType,formRef:formRef,methodUrl:\"SupplierFile\",postParam:postParam};return inputParam;};_this.deleteRecord=function(supplierparam){if(_this.props.masterData.SelectedSupplier.ntransactionstatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:_this.props.masterData.SelectedSupplier.stranstatus}));}else{var inputParam={};if(_this.props.screenName==='Supplier File'){var _inputData;inputParam={classUrl:\"supplier\",methodUrl:supplierparam.methodUrl,inputData:(_inputData={},_defineProperty(_inputData,supplierparam.methodUrl.toLowerCase(),supplierparam.selectedRecord),_defineProperty(_inputData,\"userinfo\",_this.props.userInfo),_inputData),operation:supplierparam.operation,//dataState: this.state.dataState,\n//dataStateMaterial: this.state.dataStateMaterial\ndataState:_this.state.dataState};}else if(supplierparam.screenName===\"Supplier Contact\"){var _inputData2;inputParam={classUrl:\"supplier\",methodUrl:\"SupplierContact\",inputData:(_inputData2={},_defineProperty(_inputData2,supplierparam.methodUrl.toLowerCase(),supplierparam.selectedRecord),_defineProperty(_inputData2,\"userinfo\",_this.props.userInfo),_inputData2),operation:supplierparam.operation,//dataState: this.state.dataState,\n//dataStateMaterial: this.state.dataStateMaterial\ndataState:_this.state.dataState};}else{var _inputData3;inputParam={classUrl:\"suppliermatrix\",methodUrl:supplierparam.methodUrl,inputData:(_inputData3={},_defineProperty(_inputData3,supplierparam.methodUrl.toLowerCase(),supplierparam.selectedRecord),_defineProperty(_inputData3,\"userinfo\",_this.props.userInfo),_inputData3),operation:supplierparam.operation,//dataState: this.state.dataState,\n//dataStateMaterial: this.state.dataStateMaterial\ndataState:_this.state.dataState};}if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,supplierparam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},openChildModal:true,screenName:supplierparam.screenName,operation:supplierparam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\");}}};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"//fileToDelete:file.name \n});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.screenData};_this.props.validateEsignCredential(inputParam,\"openChildModal\");};var dataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};var dataStateMaterial={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};_this.state={isOpen:false,selectedRecord:{},dataResult:[],activeTab:'SupplierCategory-tab',dataState:dataState,dataStateMaterial:dataStateMaterial,supplierCategory:[],materialCategory:[],countryList:[]};_this.supplerCategoryFieldList=['nsuppliercode','ncategorycode','ntypecode','ssuppliercatname','smaterialcatname','sremarks','ntransactionstatus'];_this.supplierContactFieldList=['ssuppliercontactname','sdescription','sdesignation','saddress1','saddress2','saddress3','sphoneno','smobileno','sfaxno','semail','ndefaultstatus','ncountrycode'];_this.suppliercatColumnList=[{\"idsName\":\"IDS_SUPPLIERCATNAME\",\"dataField\":\"ssuppliercatname\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];_this.materialcatColumnList=[{\"idsName\":\"IDS_MATERIALCATNAME\",\"dataField\":\"smaterialcatname\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];_this.supplierContactColumnList=[{\"idsName\":\"IDS_SUPPLIERCONTACTNAME\",\"dataField\":\"ssuppliercontactname\",\"width\":\"150px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_DEFAULTSTATUS\",\"dataField\":\"sdisplaystatus\",\"width\":\"250px\",\"mandatory\":false,\"controlType\":\"checkbox\"}];_this.validationSuppliercatColumnList=[{\"idsName\":\"IDS_SUPPLIERCATNAME\",\"dataField\":\"nsuppliercatcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];_this.validationMaterialcatColumnList=[{\"idsName\":\"IDS_MATERIALCATNAME\",\"dataField\":\"nmaterialcatcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];return _this;}_createClass(SupplierMaterialCategoryTab,[{key:\"render\",value:function render(){var mandatoryFields=[];var matmandatoryFields=[];this.validationSuppliercatColumnList.forEach(function(item){return item.mandatory===true?mandatoryFields.push(item):\"\";});if(this.props.screenName===\"Material Category\"){this.validationMaterialcatColumnList.forEach(function(item){return item.mandatory===true?matmandatoryFields.push(item):\"\";});}else if(this.props.screenName=='Supplier File'){if(this.state.selectedRecord&&this.state.selectedRecord.nattachmenttypecode===attachmentType.LINK){matmandatoryFields=[{\"idsName\":\"IDS_FILENAME\",\"dataField\":\"slinkfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"},{\"idsName\":\"IDS_LINKNAME\",\"dataField\":\"nlinkcode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];}else{// if (this.props.operation !== 'update') {\nmatmandatoryFields=[{\"idsName\":\"IDS_FILE\",\"dataField\":\"sfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"}];// }\n}}else if(this.props.screenName=='Supplier Contact'){matmandatoryFields=[{\"idsName\":\"IDS_SUPPLIERCONTACT\",\"dataField\":\"ssuppliercontactname\",\"width\":\"150px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"no-gutters\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Card,{className:\"at-tabs\"},/*#__PURE__*/React.createElement(CustomTabs,{tabDetail:this.tabDetail(),onTabChange:this.onTabChange})))),this.props.openChildModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.openChildModal,closeModal:this.closeModal,operation:this.props.operation,inputParam:this.props.inputParam,screenName:this.props.screenName,onSaveClick:this.onSaveClick,updateStore:this.props.updateStore,esign:this.props.loadEsign,validateEsign:this.validateEsign,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.screenName===\"Supplier Category\"?mandatoryFields:matmandatoryFields||[],addComponent:this.props.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.screenName===\"Supplier Category\"?/*#__PURE__*/React.createElement(AddSupplierCategory,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,selectedSupplierCategory:this.props.masterData.selectedSupplierCategory,supplierCategory:this.state.supplierCategory||[]//{this.props.supplierCategory || []}\n}):this.props.screenName===\"Material Category\"?/*#__PURE__*/React.createElement(AddMaterialCategory,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,operation:this.props.operation,selectedMaterialCategory:this.props.masterData.selectedMaterialCategory,materialCategory:this.state.materialCategory//{this.props.materialCategory}\n}):this.props.screenName===\"Supplier Contact\"?/*#__PURE__*/React.createElement(AddSupplierContact,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,operation:this.props.operation,formatMessage:this.props.intl.formatMessage,selectedSupplierContact:this.props.masterData.selectedSupplierContact,countryList:this.state.countryList||[]}):this.props.screenName===\"Supplier File\"?/*#__PURE__*/React.createElement(AddSupplierFile,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onDrop:this.onDropSupplierFile,onDropAccepted:this.onDropAccepted,deleteAttachment:this.deleteAttachment,actionType:this.state.actionType,onComboChange:this.onComboChange,linkMaster:this.props.linkMaster,editFiles:this.props.editFiles,maxSize:20// maxFiles={this.props.operation === \"update\" ? 1 : 3}\n// multiple={this.props.operation === \"update\" ? false : true}\n,maxFiles:1,multiple:false,label:this.props.intl.formatMessage({id:\"IDS_SUPPLIERFILE\"}),name:\"supplierfilename\"}):\"\"}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.masterData!==previousProps.masterData){var isOpen=false;if(this.props.errorCode!==undefined&&(this.state.operation===\"create\"||this.state.operation===\"update\")){isOpen=true;}var _this$state=this.state,_dataState=_this$state.dataState,_dataStateMaterial=_this$state.dataStateMaterial;if(this.props.dataState===undefined){_dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5,filter:undefined,sort:undefined};_dataStateMaterial={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5,filter:undefined,sort:undefined};}this.setState({isOpen:isOpen,activeTab:'SupplierCategory-tab',dataState:_dataState,dataStateMaterial:_dataStateMaterial});}if(this.props.selectedRecord!==previousProps.selectedRecord){var countryList=constructOptionList(this.props.selectedRecord.countryList||[],\"ncountrycode\",\"scountryname\",undefined,undefined,undefined);var countryListSupplier=countryList.get(\"OptionList\");this.setState({selectedRecord:this.props.selectedRecord,countryList:countryListSupplier});}var _this$state2=this.state,dataState=_this$state2.dataState,dataStateMaterial=_this$state2.dataStateMaterial;if(this.props.dataState!==previousProps.dataState&&this.props.dataState!==dataState){dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};dataStateMaterial={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};this.setState({dataState:dataState,dataStateMaterial:dataStateMaterial});}// {\n//     dataState={...dataState,filter:undefined,sort:undefined}\n//     dataStateMaterial={...dataStateMaterial,filter:undefined,sort:undefined}\n//     this.setState({ dataState, dataStateMaterial });\n// }\nif(this.props.supplierCategory!==previousProps.supplierCategory||this.props.materialCategory!==previousProps.materialCategory){var supplierCategory=constructOptionList(this.props.supplierCategory||[],\"nsuppliercatcode\",\"ssuppliercatname\",undefined,undefined,undefined);var supplierCategoryList=supplierCategory.get(\"OptionList\");var materialCategory=constructOptionList(this.props.materialCategory||[],\"nmaterialcatcode\",\"smaterialcatname\",undefined,undefined,undefined);var materialCategoryList=materialCategory.get(\"OptionList\");this.setState({supplierCategory:supplierCategoryList,materialCategory:materialCategoryList});}}},{key:\"saveSupplierCategory\",value:function saveSupplierCategory(saveType,formRef){var _this2=this;var inputData=[];inputData[\"userinfo\"]=this.props.userInfo;inputData[\"supplier\"]=this.props.masterData.SelectedSupplier;inputData[\"suppliermatrix\"]={};var dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};var suppliermatrixArray=[];suppliermatrixArray=this.state.selectedRecord.nsuppliercatcode.map(function(item){var suppliermat={};suppliermat[\"nsuppliercode\"]=_this2.props.masterData.SelectedSupplier.nsuppliercode;//this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\nsuppliermat[\"ntypecode\"]=1;suppliermat[\"sremarks\"]=\"\";suppliermat[\"ntransactionstatus\"]=transactionStatus.ACTIVE;suppliermat[\"ncategorycode\"]=item.value;//suppliermatrixArray.push(suppliermat);\nreturn suppliermat;});inputData['suppliermatrix']=suppliermatrixArray;var inputParam={classUrl:\"suppliermatrix\",methodUrl:\"SupplierMatrix\",inputData:inputData,operation:this.props.operation,saveType:saveType,formRef:formRef,dataState:dataState};return inputParam;}},{key:\"saveMaterial\",value:function saveMaterial(saveType,formRef){var _this3=this;var inputData=[];inputData[\"userinfo\"]=this.props.userInfo;inputData[\"supplier\"]=this.props.masterData.SelectedSupplier;inputData[\"suppliermatrix\"]={};var dataStateMaterial=undefined;var suppliermatrixArray=[];suppliermatrixArray=this.state.selectedRecord.nmaterialcatcode.map(function(item){var suppliermat={};suppliermat[\"nsuppliercode\"]=_this3.props.masterData.SelectedSupplier.nsuppliercode;//this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\nsuppliermat[\"ntypecode\"]=2;suppliermat[\"sremarks\"]=\"\";suppliermat[\"ntransactionstatus\"]=transactionStatus.ACTIVE;suppliermat[\"ncategorycode\"]=item.value;//suppliermatrixArray.push(suppliermat);\nreturn suppliermat;});inputData['suppliermatrix']=suppliermatrixArray;var inputParam={classUrl:\"suppliermatrix\",methodUrl:\"SupplierMatrix\",inputData:inputData,operation:this.props.operation,saveType:saveType,formRef:formRef,dataStateMaterial:dataStateMaterial};return inputParam;}},{key:\"saveSupplierContact\",value:function saveSupplierContact(saveType,formRef){var inputData=[];var postParam={};inputData[\"userinfo\"]=this.props.userInfo;inputData[\"supplier\"]=this.props.masterData.SelectedSupplier;inputData[\"suppliercontact\"]={};var dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};var suppliercontactArray=[];var suppliermat={};if(this.props.operation==\"update\"){postParam={inputListName:\"Suppliercontact\",selectedObject:\"SupplierContact\",primaryKeyField:\"nsuppliercontactcode\"};inputData[\"nsuppliercontactcode\"]=this.state.selectedRecord.nsuppliercontactcode;suppliermat[\"nsuppliercode\"]=this.props.masterData.SelectedSupplier.nsuppliercode;//this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\nsuppliermat[\"sdescription\"]=this.state.selectedRecord.sdescription;suppliermat[\"sdesignation\"]=this.state.selectedRecord.sdesignation;suppliermat[\"smobileno\"]=this.state.selectedRecord.smobileno;suppliermat[\"stelephoneno\"]=this.state.selectedRecord.stelephoneno;suppliermat[\"semail\"]=this.state.selectedRecord.semail;suppliermat[\"ndefaultstatus\"]=this.state.selectedRecord.ndefaultstatus?this.state.selectedRecord.ndefaultstatus:\"4\";suppliermat[\"ssuppliercontactname\"]=this.state.selectedRecord.ssuppliercontactname;suppliermat[\"nsuppliercontactcode\"]=this.state.selectedRecord.nsuppliercontactcode;inputData['suppliercontact']=suppliermat;}else{suppliermat[\"nsuppliercode\"]=this.props.masterData.SelectedSupplier.nsuppliercode;//this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\nsuppliermat[\"sdescription\"]=this.state.selectedRecord.sdescription;suppliermat[\"sdesignation\"]=this.state.selectedRecord.sdesignation;suppliermat[\"smobileno\"]=this.state.selectedRecord.smobileno;suppliermat[\"stelephoneno\"]=this.state.selectedRecord.stelephoneno;suppliermat[\"semail\"]=this.state.selectedRecord.semail;suppliermat[\"ndefaultstatus\"]=this.state.selectedRecord.ndefaultstatus?this.state.selectedRecord.ndefaultstatus:\"4\";suppliermat[\"ssuppliercontactname\"]=this.state.selectedRecord.ssuppliercontactname;//suppliermat[\"ncategorycode\"] = item.value\n//   suppliercontactArray.push(suppliermat);\n//  return suppliermat;\ninputData['suppliercontact']=suppliermat;}var inputParam={classUrl:\"supplier\",methodUrl:\"SupplierContact\",inputData:inputData,operation:this.props.operation,postParam:postParam,saveType:saveType,formRef:formRef,dataState:dataState};return inputParam;}}]);return SupplierMaterialCategoryTab;}(React.Component);export default injectIntl(SupplierMaterialCategoryTab);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/contactmaster/SupplierMaterialCategoryTab.jsx"],"names":["React","Row","Col","Card","injectIntl","process","SlideOutModal","toast","AddSupplierCategory","AddMaterialCategory","Esign","DEFAULT_RETURN","constructOptionList","showEsign","onDropAttachFileList","create_UUID","validateEmail","deleteAttachmentDropZone","SupplierTabs","SupplierFileTab","transactionStatus","attachmentType","CustomTabs","AddSupplierFile","AddSupplierContact","SupplierMaterialCategoryTab","props","supplierDataStateChange","event","setState","dataState","materialDataStateChange","dataStateMaterial","onTabChange","tabProps","screenName","updateInfo","typeName","data","updateStore","onDropSupplierFile","attachedFiles","fieldName","maxSize","selectedRecord","state","actionType","tabDetail","addSupCatId","controlMap","has","get","ncontrolcode","deleteSupCatId","addMatCatId","deleteMatCatId","addSupCotId","editSupCotId","deleteSupCotId","supcatAddParam","operation","primaryKeyField","masterData","userInfo","ncontrolCode","supcatDeleteParam","methodUrl","matericatAddParam","materialcatDeleteParam","supcotAddParam","editcotAddParam","supcotDeleteParam","tabMap","Map","detailedFieldList","set","userRoleControlRights","inputParam","getSupplierCategoryComboDataService","undefined","skip","suppliercatColumnList","deleteRecord","getMaterialCategoryComboDataService","materialcatColumnList","getSupplierContactComboDataService","supplierContactColumnList","supplierFile","getAvailableData","addSupplierFile","viewSupplierFile","defaultRecord","settings","closeModal","loadEsign","openChildModal","onComboChange","comboData","selectedSupplierCategory","selectedMaterialCategory","selectedSupplierContact","filedata","inputData","supplierfile","userinfo","classUrl","viewAttachment","onInputOnChange","optional","target","type","name","checked","ACTIVE","DEACTIVE","YES","NO","value","onSaveClick","saveType","formRef","saveSupplierCategory","saveMaterial","saveSupplierContact","onSaveSupplierFile","esignRights","nformcode","screenData","crudMaster","warn","intl","formatMessage","id","acceptedFiles","sfilename","nattachmenttypecode","isFileEdited","supplierFileArray","nsuppliercode","SelectedSupplier","nsupplierfilecode","nstatus","ndefaultstatus","LINK","formData","FormData","FTP","Array","isArray","length","forEach","file","index","tempData","Object","assign","splittedFileName","split","fileExtension","ssystemfilename","filesystemfileext","uniquefilename","sdescription","trim","NA","size","append","push","nfilesize","slinkfilename","slinkdescription","nlinkcode","JSON","stringify","selectedId","postParam","inputListName","selectedObject","isFileupload","supplierparam","ntransactionstatus","RETIRED","stranstatus","toLowerCase","deleteAttachment","validateEsign","sreason","password","validateEsignCredential","take","parseInt","isOpen","dataResult","activeTab","supplierCategory","materialCategory","countryList","supplerCategoryFieldList","supplierContactFieldList","validationSuppliercatColumnList","validationMaterialcatColumnList","mandatoryFields","matmandatoryFields","item","mandatory","onDropAccepted","linkMaster","editFiles","previousProps","errorCode","filter","sort","countryListSupplier","supplierCategoryList","materialCategoryList","suppliermatrixArray","nsuppliercatcode","map","suppliermat","nmaterialcatcode","suppliercontactArray","nsuppliercontactcode","sdesignation","smobileno","stelephoneno","semail","ssuppliercontactname","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Row, Col, Card } from 'react-bootstrap';//, Nav, Tab\r\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n//import { faPlus } from '@fortawesome/free-solid-svg-icons';//,faPencilAlt, faTrash\r\nimport { injectIntl } from 'react-intl';//FormattedMessage,\r\n//import { Grid, GridColumn } from '@progress/kendo-react-grid';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\n//import Axios from 'axios';\r\n//import rsapi from '../../rsapi';\r\nimport { toast } from 'react-toastify';\r\nimport AddSupplierCategory from './AddSupplierCategory';\r\nimport AddMaterialCategory from './AddMaterialCategory';\r\nimport Esign from '../audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { constructOptionList, showEsign, onDropAttachFileList, create_UUID, validateEmail,deleteAttachmentDropZone } from '../../components/CommonScript';\r\n//import DataGrid from '../../components/DataGrid';\r\nimport SupplierTabs from './SupplierTabs';\r\nimport SupplierFileTab from './SupplierFileTabs';\r\nimport { transactionStatus, attachmentType } from '../../components/Enumeration';\r\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\r\nimport AddSupplierFile from './AddSupplierFile';\r\nimport AddSupplierContact from './AddSupplierContact';\r\n\r\nclass SupplierMaterialCategoryTab extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        const dataStateMaterial = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        this.state = {\r\n            isOpen: false, selectedRecord: {}, dataResult: [],\r\n            activeTab: 'SupplierCategory-tab',\r\n            dataState: dataState,\r\n            dataStateMaterial: dataStateMaterial, supplierCategory: [], materialCategory: [], countryList: []\r\n        };\r\n        this.supplerCategoryFieldList = ['nsuppliercode', 'ncategorycode', 'ntypecode', 'ssuppliercatname', 'smaterialcatname',\r\n            'sremarks', 'ntransactionstatus'];\r\n        this.supplierContactFieldList = ['ssuppliercontactname', 'sdescription', 'sdesignation', 'saddress1', 'saddress2', 'saddress3',\r\n            'sphoneno', 'smobileno', 'sfaxno', 'semail', 'ndefaultstatus', 'ncountrycode'];\r\n        this.suppliercatColumnList = [{ \"idsName\": \"IDS_SUPPLIERCATNAME\", \"dataField\": \"ssuppliercatname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }];\r\n        this.materialcatColumnList = [{ \"idsName\": \"IDS_MATERIALCATNAME\", \"dataField\": \"smaterialcatname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }];\r\n        this.supplierContactColumnList = [{ \"idsName\": \"IDS_SUPPLIERCONTACTNAME\", \"dataField\": \"ssuppliercontactname\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_DEFAULTSTATUS\", \"dataField\": \"sdisplaystatus\", \"width\": \"250px\",\"mandatory\": false,\"controlType\": \"checkbox\" }\r\n        ]\r\n        this.validationSuppliercatColumnList = [{ \"idsName\": \"IDS_SUPPLIERCATNAME\", \"dataField\": \"nsuppliercatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }];\r\n        this.validationMaterialcatColumnList = [{ \"idsName\": \"IDS_MATERIALCATNAME\", \"dataField\": \"nmaterialcatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }];\r\n\r\n\r\n    }\r\n    supplierDataStateChange = (event) => {\r\n        this.setState({\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n    materialDataStateChange = (event) => {\r\n        this.setState({\r\n            dataStateMaterial: event.dataState\r\n        });\r\n    }\r\n    render() {\r\n        const mandatoryFields = [];\r\n        let matmandatoryFields = [];\r\n\r\n        this.validationSuppliercatColumnList.forEach(item => item.mandatory === true ?\r\n            mandatoryFields.push(item) : \"\"\r\n        );\r\n        if (this.props.screenName === \"Material Category\") {\r\n            this.validationMaterialcatColumnList.forEach(item => item.mandatory === true ?\r\n                matmandatoryFields.push(item) : \"\"\r\n            );\r\n        }\r\n        else if (this.props.screenName == 'Supplier File') {\r\n            if (this.state.selectedRecord && this.state.selectedRecord.nattachmenttypecode === attachmentType.LINK) {\r\n                matmandatoryFields = [\r\n                    { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"slinkfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n                    { \"idsName\": \"IDS_LINKNAME\", \"dataField\": \"nlinkcode\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n                ];\r\n            } else {\r\n                // if (this.props.operation !== 'update') {\r\n                matmandatoryFields = [{ \"idsName\": \"IDS_FILE\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" }];\r\n                // }\r\n            }\r\n        }\r\n        else if (this.props.screenName == 'Supplier Contact') {\r\n            matmandatoryFields = [{ \"idsName\": \"IDS_SUPPLIERCONTACT\", \"dataField\": \"ssuppliercontactname\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            ]\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <Row className=\"no-gutters\">\r\n                    <Col md={12}>\r\n                        <Card className=\"at-tabs\">\r\n                            <CustomTabs tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n                {this.props.openChildModal &&\r\n                    <SlideOutModal show={this.props.openChildModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.operation}\r\n                        inputParam={this.props.inputParam}\r\n                        screenName={this.props.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        updateStore={this.props.updateStore}\r\n                        esign={this.props.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.screenName === \"Supplier Category\" ? mandatoryFields : matmandatoryFields || []}\r\n                        addComponent={this.props.loadEsign ?\r\n                            <Esign operation={this.props.operation}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            /> :\r\n                            this.props.screenName === \"Supplier Category\" ?\r\n                                <AddSupplierCategory selectedRecord={this.state.selectedRecord || {}}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    selectedSupplierCategory={this.props.masterData.selectedSupplierCategory}\r\n                                    supplierCategory={this.state.supplierCategory || []} //{this.props.supplierCategory || []}\r\n                                /> :\r\n                                this.props.screenName === \"Material Category\" ?\r\n                                    <AddMaterialCategory selectedRecord={this.state.selectedRecord || {}}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onComboChange={this.onComboChange}\r\n                                        operation={this.props.operation}\r\n                                        selectedMaterialCategory={this.props.masterData.selectedMaterialCategory}\r\n                                        materialCategory={this.state.materialCategory}//{this.props.materialCategory}\r\n                                    /> :\r\n                                    this.props.screenName === \"Supplier Contact\" ?\r\n                                        <AddSupplierContact\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            onComboChange={this.onComboChange}\r\n                                            operation={this.props.operation}\r\n                                            formatMessage={this.props.intl.formatMessage}\r\n                                            selectedSupplierContact={this.props.masterData.selectedSupplierContact}\r\n                                            countryList={this.state.countryList || []}\r\n                                        /> :\r\n                                        this.props.screenName === \"Supplier File\" ?\r\n                                            <AddSupplierFile\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                onDrop={this.onDropSupplierFile}\r\n                                                onDropAccepted={this.onDropAccepted}\r\n                                                deleteAttachment={this.deleteAttachment}\r\n                                                actionType={this.state.actionType}\r\n                                                onComboChange={this.onComboChange}\r\n                                                linkMaster={this.props.linkMaster}\r\n                                                editFiles={this.props.editFiles}\r\n                                                maxSize={20}\r\n                                                // maxFiles={this.props.operation === \"update\" ? 1 : 3}\r\n                                                // multiple={this.props.operation === \"update\" ? false : true}\r\n                                                maxFiles={1}\r\n                                                multiple={false}\r\n                                                label={this.props.intl.formatMessage({ id: \"IDS_SUPPLIERFILE\" })}\r\n                                                name=\"supplierfilename\"\r\n                                            /> : \"\"\r\n                        }\r\n\r\n                    />\r\n                }\r\n            </>\r\n\r\n        )\r\n\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onDropSupplierFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n\r\n    tabDetail = () => {\r\n        const addSupCatId = this.props.controlMap.has(\"AddSupplierCategory\") && this.props.controlMap.get(\"AddSupplierCategory\").ncontrolcode\r\n\r\n        const deleteSupCatId = this.props.controlMap.has(\"DeleteSupplierCategory\") && this.props.controlMap.get(\"DeleteSupplierCategory\").ncontrolcode\r\n\r\n        const addMatCatId = this.props.controlMap.has(\"AddMaterialCategory\") && this.props.controlMap.get(\"AddMaterialCategory\").ncontrolcode\r\n\r\n        const deleteMatCatId = this.props.controlMap.has(\"DeleteMaterialCategory\") && this.props.controlMap.get(\"DeleteMaterialCategory\").ncontrolcode\r\n\r\n        const addSupCotId = this.props.controlMap.has(\"AddSupplierContact\") && this.props.controlMap.get(\"AddSupplierContact\").ncontrolcode\r\n\r\n        const editSupCotId = this.props.controlMap.has(\"EditSupplierContact\") && this.props.controlMap.get(\"EditSupplierContact\").ncontrolcode\r\n\r\n        const deleteSupCotId = this.props.controlMap.has(\"DeleteSupplierContact\") && this.props.controlMap.get(\"DeleteSupplierContact\").ncontrolcode\r\n\r\n        const supcatAddParam = {\r\n            screenName: \"Supplier Category\", operation: \"create\", primaryKeyField: \"nsuppliercatcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: addSupCatId\r\n        };\r\n\r\n        const supcatDeleteParam = { screenName: \"SupplierCategory\", methodUrl: \"SupplierMatrix\", operation: \"delete\", ncontrolCode: deleteSupCatId };\r\n\r\n        const matericatAddParam = {\r\n            screenName: \"Material Category\", operation: \"create\", primaryKeyField: \"nmaterialcatcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: addMatCatId\r\n        };\r\n\r\n        const materialcatDeleteParam = { screenName: \"MaterialCategory\", methodUrl: \"SupplierMatrix\", operation: \"delete\", ncontrolCode: deleteMatCatId };\r\n\r\n        const supcotAddParam = {\r\n            screenName: \"Supplier Contact\", operation: \"create\", primaryKeyField: \"nsuppliercontactcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: addSupCotId\r\n        };\r\n        const editcotAddParam = {\r\n            screenName: \"Supplier Contact\", operation: \"update\", primaryKeyField: \"nsuppliercontactcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: editSupCotId\r\n        };\r\n\r\n\r\n        const supcotDeleteParam = { screenName: \"Supplier Contact\", methodUrl: \"Supplier\", operation: \"delete\", ncontrolCode: deleteSupCotId };\r\n\r\n        const tabMap = new Map();\r\n        const detailedFieldList = [\r\n            { \"idsName\": \"IDS_DESIGNATION\", \"dataField\": \"sdesignation\", \"width\": \"150px\", \"mandatory\": false, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_MOBILENO\", \"dataField\": \"smobileno\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_TELEPHONENO\", \"dataField\": \"stelephoneno\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_EMAIL\", \"dataField\": \"semail\", \"width\": \"150px\", \"mandatory\": false, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_DESCRIPTION\", \"dataField\": \"sdescription\", \"width\": \"150px\", \"mandatory\": false, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_DEFAULTSTATUS\", \"dataField\": \"sdisplaystatus\", \"width\": \"250px\" },\r\n\r\n        ];\r\n\r\n        tabMap.set(\"IDS_SUPPLIERCATEGORY\", <SupplierTabs userRoleControlRights={this.props.userRoleControlRights}\r\n            controlMap={this.props.controlMap}\r\n            inputParam={this.props.inputParam}\r\n            userInfo={this.props.userInfo}\r\n            addId={addSupCatId}\r\n            addParam={supcatAddParam}\r\n            comboDataService={this.props.getSupplierCategoryComboDataService}\r\n            addTitleIDS={\"IDS_SUPPLIERCATEGORY\"}\r\n            addTitleDefaultMsg={'SupplierCategory'}\r\n            primaryKeyField={\"nsuppliermatrixcode\"}\r\n            masterData={this.props.masterData}\r\n            primaryList={\"SupplierCategory\"}\r\n            dataResult={process(this.props.masterData[\"SupplierCategory\"]||[], this.state.dataState)}\r\n            // dataState={this.state.dataState}\r\n            // dataStateChange={this.supplierDataStateChange}\r\n            dataState={(this.props.screenName === undefined || this.props.screenName === '' || this.props.screenName === \"SupplierCategory\") ? this.state.dataState : { skip: 0 }}\r\n            dataStateChange={(event) => this.setState({ dataState: event.dataState })}\r\n            columnList={this.suppliercatColumnList}\r\n            methodUrl={\"SupplierMatrix\"}\r\n            deleteRecord={this.deleteRecord}\r\n            deleteParam={supcatDeleteParam}\r\n        //selectedId={this.props.selectedId}\r\n        />)\r\n        tabMap.set(\"IDS_MATERIALCATEGORY\", <SupplierTabs userRoleControlRights={this.props.userRoleControlRights}\r\n            controlMap={this.props.controlMap}\r\n            inputParam={this.props.inputParam}\r\n            userInfo={this.props.userInfo}\r\n            addId={addMatCatId}\r\n            addParam={matericatAddParam}\r\n            comboDataService={this.props.getMaterialCategoryComboDataService}\r\n            addTitleIDS={\"IDS_MATERIALCATEGORY\"}\r\n            addTitleDefaultMsg={'MaterialCategory'}\r\n            primaryKeyField={\"nsuppliermatrixcode\"}\r\n            masterData={this.props.masterData}\r\n            primaryList={\"MaterialCategory\"}\r\n            dataResult={process(this.props.masterData[\"MaterialCategory\"]||[], this.state.dataStateMaterial)}\r\n            // dataState={this.state.dataStateMaterial}\r\n            // dataStateChange={this.materialDataStateChange}\r\n            dataState={(this.props.screenName === undefined || this.props.screenName === \"MaterialCategory\") ? this.state.dataStateMaterial : { skip: 0 }}\r\n            dataStateChange={(event) => this.setState({ dataStateMaterial: event.dataState })}\r\n            columnList={this.materialcatColumnList}\r\n            methodUrl={\"SupplierMatrix\"}\r\n            deleteRecord={this.deleteRecord}\r\n            deleteParam={materialcatDeleteParam}\r\n        //selectedId={this.props.selectedId}\r\n        />)\r\n        tabMap.set(\"IDS_SUPPLIERCONTACT\", <SupplierTabs userRoleControlRights={this.props.userRoleControlRights}\r\n            controlMap={this.props.controlMap}\r\n            inputParam={this.props.inputParam}\r\n            userInfo={this.props.userInfo}\r\n            fetchRecord={this.props.getSupplierContactComboDataService}\r\n            addId={addSupCotId}\r\n            editId={editSupCotId}\r\n            editParam={editcotAddParam}\r\n            addParam={supcotAddParam}\r\n            comboDataService={this.props.getSupplierContactComboDataService}\r\n            addTitleIDS={\"IDS_SUPPLIERCONTACT\"}\r\n            addTitleDefaultMsg={'SupplierContact'}\r\n            primaryKeyField={\"nsuppliercontactcode\"}\r\n            masterData={this.props.masterData}\r\n            primaryList={\"SupplierContact\"}\r\n            dataResult={process(this.props.masterData[\"SupplierContact\"]||[], this.state.dataState)}\r\n            // dataState={this.state.dataStateMaterial}\r\n            // dataStateChange={this.materialDataStateChange}\r\n            dataState={(this.props.screenName === undefined || supcotAddParam.screenName === \"Supplier Contact\") ? this.state.dataState : { skip: 0 }}\r\n            dataStateChange={(event) => this.setState({ dataState: event.dataState })}\r\n            columnList={this.supplierContactColumnList}\r\n            methodUrl={\"SupplierContact\"}\r\n            deleteRecord={this.deleteRecord}\r\n            deleteParam={supcotDeleteParam}\r\n            detailedFieldList={detailedFieldList}\r\n        //selectedId={this.props.selectedId}\r\n        />)\r\n\r\n        tabMap.set(\"IDS_FILE\",\r\n            <SupplierFileTab\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                inputParam={this.props.inputParam}\r\n                deleteRecord={this.deleteRecord}\r\n                supplierFile={this.props.masterData.supplierFile || []}\r\n                getAvailableData={this.props.getAvailableData}\r\n                addSupplierFile={this.props.addSupplierFile}\r\n                viewSupplierFile={this.viewSupplierFile}\r\n                defaultRecord={this.defaultRecord}\r\n                screenName=\"Supplier File\"\r\n                settings={this.props.settings}\r\n            />);\r\n        return tabMap;\r\n    }\r\n\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.loadEsign;\r\n        let openChildModal = this.props.openChildModal;\r\n        let selectedRecord = this.props.selectedRecord;\r\n        if (this.props.loadEsign) {\r\n            if (this.props.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openChildModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = '';\r\n                selectedRecord['esigncomments'] = '';\r\n            }\r\n        }\r\n        else {\r\n            openChildModal = false;\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openChildModal, loadEsign, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;;\r\n\r\n\r\n        if (fieldName === \"nsuppliercatcode\") {\r\n            let selectedSupplierCategory = comboData;\r\n            this.setState({ selectedRecord, selectedSupplierCategory });\r\n        }\r\n        if (fieldName === \"nmaterialcatcode\") {\r\n            let selectedMaterialCategory = comboData;\r\n            this.setState({ selectedRecord, selectedMaterialCategory });\r\n        }\r\n        if (fieldName === \"ncountrycode\") {\r\n            let selectedSupplierContact = comboData;\r\n            this.setState({ selectedRecord, selectedSupplierContact });\r\n        }\r\n    }\r\n    viewSupplierFile = (filedata) => {\r\n        const inputParam = {\r\n            inputData: {\r\n                supplierfile: filedata,\r\n                userinfo: this.props.userInfo\r\n            },\r\n            classUrl: \"supplier\",\r\n            operation: \"view\",\r\n            methodUrl: \"AttachedSupplierFile\",\r\n            screenName: \"Supplier File\"\r\n        }\r\n        this.props.viewAttachment(inputParam);\r\n    }\r\n\r\n    onInputOnChange = (event, optional) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"ntransactionstatus\")\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n            // else if (event.target.name === \"nlockmode\")\r\n            //     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\r\n            else\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else if (event.target.type === 'radio') {\r\n            selectedRecord[event.target.name] = optional;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.masterData !== previousProps.masterData) {\r\n\r\n            let isOpen = false;\r\n            if (this.props.errorCode !== undefined && (this.state.operation === \"create\" || this.state.operation === \"update\")) {\r\n                isOpen = true;\r\n            }\r\n            let { dataState, dataStateMaterial } = this.state;\r\n            if (this.props.dataState === undefined) {\r\n                dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5, filter: undefined, sort: undefined }\r\n                dataStateMaterial = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5, filter: undefined, sort: undefined }\r\n            }\r\n            this.setState({ isOpen, activeTab: 'SupplierCategory-tab', dataState, dataStateMaterial });\r\n        }\r\n\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n\r\n            const countryList = constructOptionList(this.props.selectedRecord.countryList || [], \"ncountrycode\",\r\n                \"scountryname\", undefined, undefined, undefined);\r\n            const countryListSupplier = countryList.get(\"OptionList\");\r\n            this.setState({ selectedRecord: this.props.selectedRecord, countryList: countryListSupplier });\r\n        }\r\n        let { dataState, dataStateMaterial } = this.state;\r\n        if (this.props.dataState !== previousProps.dataState && this.props.dataState !== dataState) {\r\n            dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 }\r\n            dataStateMaterial = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 }\r\n            this.setState({ dataState, dataStateMaterial });\r\n        }\r\n\r\n        // {\r\n        //     dataState={...dataState,filter:undefined,sort:undefined}\r\n        //     dataStateMaterial={...dataStateMaterial,filter:undefined,sort:undefined}\r\n        //     this.setState({ dataState, dataStateMaterial });\r\n        // }\r\n        if (this.props.supplierCategory !== previousProps.supplierCategory || this.props.materialCategory !== previousProps.materialCategory) {\r\n\r\n            const supplierCategory = constructOptionList(this.props.supplierCategory || [], \"nsuppliercatcode\",\r\n                \"ssuppliercatname\", undefined, undefined, undefined);\r\n            const supplierCategoryList = supplierCategory.get(\"OptionList\");\r\n\r\n            const materialCategory = constructOptionList(this.props.materialCategory || [], \"nmaterialcatcode\",\r\n                \"smaterialcatname\", undefined, undefined, undefined);\r\n            const materialCategoryList = materialCategory.get(\"OptionList\");\r\n\r\n            this.setState({ supplierCategory: supplierCategoryList, materialCategory: materialCategoryList });\r\n        }\r\n    }\r\n\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        //add / edit  \r\n        if (this.state.selectedRecord['semail'] ? validateEmail(this.state.selectedRecord['semail']) : true) {\r\n\r\n        let inputParam = {};\r\n\r\n        if (this.props.screenName === \"Supplier Category\") {\r\n            inputParam = this.saveSupplierCategory(saveType, formRef);\r\n        }\r\n        else if (this.props.screenName === \"Material Category\") {\r\n            inputParam = this.saveMaterial(saveType, formRef);\r\n        }\r\n        else if (this.props.screenName === \"Supplier Contact\") {\r\n            inputParam = this.saveSupplierContact(saveType, formRef);\r\n        }\r\n        else if (this.props.screenName === \"Supplier File\") {\r\n            inputParam = this.onSaveSupplierFile(saveType, formRef);\r\n        }\r\n\r\n\r\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n        }\r\n    } else {\r\n        toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERVALIDEMAIL\" }));\r\n}\r\n\r\n }\r\n\r\n    saveSupplierCategory(saveType, formRef) {\r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\r\n        inputData[\"suppliermatrix\"] = {};\r\n        let dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 };\r\n\r\n        let suppliermatrixArray = []\r\n        suppliermatrixArray = this.state.selectedRecord.nsuppliercatcode.map(item => {\r\n            let suppliermat = {}\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"ntypecode\"] = 1;\r\n            suppliermat[\"sremarks\"] = \"\";\r\n            suppliermat[\"ntransactionstatus\"] = transactionStatus.ACTIVE;\r\n            suppliermat[\"ncategorycode\"] = item.value\r\n            //suppliermatrixArray.push(suppliermat);\r\n            return suppliermat;\r\n        });\r\n        inputData['suppliermatrix'] = suppliermatrixArray;\r\n\r\n        const inputParam = {\r\n            classUrl: \"suppliermatrix\",\r\n            methodUrl: \"SupplierMatrix\",\r\n            inputData: inputData,\r\n            operation: this.props.operation, saveType, formRef, dataState\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    saveMaterial(saveType, formRef) {\r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\r\n        inputData[\"suppliermatrix\"] = {};\r\n        let dataStateMaterial = undefined;\r\n\r\n        let suppliermatrixArray = []\r\n        suppliermatrixArray = this.state.selectedRecord.nmaterialcatcode.map(item => {\r\n            let suppliermat = {}\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"ntypecode\"] = 2;\r\n            suppliermat[\"sremarks\"] = \"\";\r\n            suppliermat[\"ntransactionstatus\"] = transactionStatus.ACTIVE;\r\n            suppliermat[\"ncategorycode\"] = item.value\r\n            //suppliermatrixArray.push(suppliermat);\r\n            return suppliermat;\r\n        });\r\n        inputData['suppliermatrix'] = suppliermatrixArray;\r\n\r\n        const inputParam = {\r\n            classUrl: \"suppliermatrix\",\r\n            methodUrl: \"SupplierMatrix\",\r\n            inputData: inputData,\r\n            operation: this.props.operation, saveType, formRef, dataStateMaterial\r\n        }\r\n        return inputParam;\r\n    }\r\n    saveSupplierContact(saveType, formRef) {\r\n        let inputData = [];\r\n        let postParam={};\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\r\n        inputData[\"suppliercontact\"] = {};\r\n        let dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 };\r\n        let suppliercontactArray = []\r\n\r\n        let suppliermat = {}\r\n        if (this.props.operation == \"update\") {\r\n            postParam = { inputListName: \"Suppliercontact\", selectedObject: \"SupplierContact\", primaryKeyField: \"nsuppliercontactcode\" };\r\n\r\n            inputData[\"nsuppliercontactcode\"] = this.state.selectedRecord.nsuppliercontactcode;\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"sdescription\"] = this.state.selectedRecord.sdescription;\r\n            suppliermat[\"sdesignation\"] = this.state.selectedRecord.sdesignation;\r\n            suppliermat[\"smobileno\"] = this.state.selectedRecord.smobileno;\r\n            suppliermat[\"stelephoneno\"] = this.state.selectedRecord.stelephoneno;\r\n            suppliermat[\"semail\"] = this.state.selectedRecord.semail;\r\n            suppliermat[\"ndefaultstatus\"] = this.state.selectedRecord.ndefaultstatus ? this.state.selectedRecord.ndefaultstatus : \"4\";\r\n            suppliermat[\"ssuppliercontactname\"] = this.state.selectedRecord.ssuppliercontactname;\r\n            suppliermat[\"nsuppliercontactcode\"] = this.state.selectedRecord.nsuppliercontactcode;\r\n            inputData['suppliercontact'] = suppliermat;\r\n\r\n        }\r\n        else {\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"sdescription\"] = this.state.selectedRecord.sdescription;\r\n            suppliermat[\"sdesignation\"] = this.state.selectedRecord.sdesignation;\r\n            suppliermat[\"smobileno\"] = this.state.selectedRecord.smobileno;\r\n            suppliermat[\"stelephoneno\"] = this.state.selectedRecord.stelephoneno;\r\n            suppliermat[\"semail\"] = this.state.selectedRecord.semail;\r\n            suppliermat[\"ndefaultstatus\"] = this.state.selectedRecord.ndefaultstatus ? this.state.selectedRecord.ndefaultstatus : \"4\";\r\n            suppliermat[\"ssuppliercontactname\"] = this.state.selectedRecord.ssuppliercontactname;\r\n\r\n            //suppliermat[\"ncategorycode\"] = item.value\r\n            //   suppliercontactArray.push(suppliermat);\r\n            //  return suppliermat;\r\n\r\n            inputData['suppliercontact'] = suppliermat;\r\n        }\r\n        let inputParam = {\r\n            classUrl: \"supplier\",\r\n            methodUrl: \"SupplierContact\",\r\n            inputData: inputData,\r\n            operation: this.props.operation,postParam, saveType, formRef, dataState\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n\r\n\r\n    onSaveSupplierFile = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let supplierFileArray = [];\r\n        let supplierFile = {\r\n            nsuppliercode: this.props.masterData.SelectedSupplier.nsuppliercode,\r\n            nsupplierfilecode: selectedRecord.nsupplierfilecode ? selectedRecord.nsupplierfilecode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            nattachmenttypecode,\r\n            ndefaultstatus: selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] ? selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] : 4\r\n        };\r\n        const formData = new FormData();\r\n        if (nattachmenttypecode === attachmentType.FTP) {\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, supplierFile);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const ssystemfilename = selectedRecord.ssystemfilename ? selectedRecord.ssystemfilename.split('.') : \"\";\r\n                    const filesystemfileext = selectedRecord.ssystemfilename ? file.name.split('.')[ssystemfilename.length - 1] : \"\";\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? selectedRecord.nsupplierfilecode && selectedRecord.nsupplierfilecode > 0\r\n                        && selectedRecord.ssystemfilename !== \"\" ? ssystemfilename[0] + '.' + filesystemfileext : create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] = file.name;\r\n                    tempData[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    supplierFileArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                supplierFile[\"sfilename\"] = selectedRecord.sfilename;\r\n                supplierFile[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\r\n                supplierFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                supplierFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                supplierFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                supplierFileArray.push(supplierFile);\r\n            }\r\n        } else {\r\n            supplierFile[\"sfilename\"] = selectedRecord.slinkfilename.trim();\r\n            supplierFile[\"sdescription\"] = selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\";\r\n            supplierFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\r\n            supplierFile[\"ssystemfilename\"] = \"\";\r\n            supplierFile[\"nfilesize\"] = 0;\r\n            supplierFileArray.push(supplierFile);\r\n        }\r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"supplierfile\", JSON.stringify(supplierFileArray));\r\n        // formData.append(\"userinfo\", JSON.stringify(this.props.userInfo));\r\n\r\n\r\n\r\n        let selectedId = null;\r\n        let postParam = undefined;\r\n        if (this.props.operation === \"update\") {\r\n            // edit\r\n            postParam = { inputListName: \"Supplier\", selectedObject: \"SelectedSupplier\", primaryKeyField: \"nsuppliercode\" };\r\n            selectedId = selectedRecord[\"nsupplierfilecode\"];\r\n        }\r\n        const inputParam = {\r\n            inputData: { userinfo: this.props.userInfo },\r\n            formData: formData,\r\n            isFileupload: true,\r\n            operation: this.props.operation,\r\n            classUrl: \"supplier\",\r\n            saveType, formRef, methodUrl: \"SupplierFile\", postParam\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    deleteRecord = (supplierparam) => {\r\n        if (this.props.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: this.props.masterData.SelectedSupplier.stranstatus }));\r\n        }\r\n        else {\r\n            let inputParam = {};\r\n            if (this.props.screenName === 'Supplier File') {\r\n                inputParam = {\r\n                    classUrl: \"supplier\",\r\n                    methodUrl: supplierparam.methodUrl,\r\n                    inputData: {\r\n                        [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\r\n                        \"userinfo\": this.props.userInfo,\r\n\r\n                    },\r\n                    operation: supplierparam.operation,\r\n                    //dataState: this.state.dataState,\r\n                    //dataStateMaterial: this.state.dataStateMaterial\r\n                    dataState: this.state.dataState\r\n                }\r\n            } else if (supplierparam.screenName === \"Supplier Contact\") {\r\n                inputParam = {\r\n                    classUrl: \"supplier\",\r\n                    methodUrl: \"SupplierContact\",\r\n                    inputData: {\r\n                        [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\r\n                        \"userinfo\": this.props.userInfo,\r\n\r\n                    },\r\n                    operation: supplierparam.operation,\r\n                    //dataState: this.state.dataState,\r\n                    //dataStateMaterial: this.state.dataStateMaterial\r\n                    dataState: this.state.dataState\r\n                }\r\n            }\r\n            else {\r\n                inputParam = {\r\n                    classUrl: \"suppliermatrix\",\r\n                    methodUrl: supplierparam.methodUrl,\r\n                    inputData: {\r\n                        [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\r\n                        \"userinfo\": this.props.userInfo,\r\n\r\n                    },\r\n                    operation: supplierparam.operation,\r\n                    //dataState: this.state.dataState,\r\n                    //dataStateMaterial: this.state.dataStateMaterial\r\n                    dataState: this.state.dataState\r\n                }\r\n            }\r\n\r\n            if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, supplierparam.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.masterData },\r\n                        openChildModal: true, screenName: supplierparam.screenName, operation: supplierparam.operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n            }\r\n        }\r\n    }\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\" //fileToDelete:file.name \r\n        });\r\n    }\r\n\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openChildModal\");\r\n    }\r\n}\r\n\r\nexport default injectIntl(SupplierMaterialCategoryTab);\r\n\r\n"]},"metadata":{},"sourceType":"module"}