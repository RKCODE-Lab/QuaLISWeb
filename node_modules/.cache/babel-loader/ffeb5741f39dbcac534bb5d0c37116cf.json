{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\branches\\\\SOURCE-512\\\\QuaLISWeb\\\\src\\\\pages\\\\competencemanagement\\\\trainingupdate\\\\TrainingDocTab.jsx\";\nimport React from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { designProperties } from '../../../components/Enumeration';\nimport ListAttachment from '../../../components/ListAttachment';\nimport { Component } from 'react';\nimport { Nav } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { addtrainingdocfile } from '../../../actions';\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass TrainingDocTab extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.addtrainingdocfile = ncontrolCode => {\n      let openChildModal = this.props.Login.openChildModal;\n      let operation = \"create\";\n      let screenName = this.props.Login.screenName;\n      screenName = \"IDS_TRAININGDOCUMENTS\";\n      openChildModal = true;\n      const selectedRecord = this.props.selectedRecord;\n      const updateInfo = {\n        userInfo: this.props.Login.userInfo,\n        operation,\n        selectedRecord,\n        ncontrolCode,\n        screenName\n      };\n      this.props.addtrainingdocfile(updateInfo); // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: {\n      //         openModal: true,\n      //         operation: \"create\",\n      //         selectedRecord: {},\n      //         ncontrolcode: ncontrolcode,\n      //         screenName:\"IDS_TRAININGDOCUMENTS\"\n      //     }\n      // }\n      // this.props.updateStore(updateInfo);\n    };\n  }\n\n  render() {\n    const addFileId = this.props.controlMap.has(\"AddTrainingDocFile\") && this.props.controlMap.get(\"AddTrainingDocFile\").ncontrolcode;\n    const deleteFileId = this.props.controlMap.has(\"DeleteTrainingDocFile\") && this.props.controlMap.get(\"DeleteTrainingDocFile\").ncontrolcode;\n    const editFileId = this.props.controlMap.has(\"EditTrainingDocFile\") && this.props.controlMap.get(\"EditTrainingDocFile\").ncontrolcode;\n    const viewFileId = this.props.controlMap.has(\"ViewTrainingDocFile\") && this.props.controlMap.get(\"ViewTrainingDocFile\").ncontrolcode;\n    const editParam = {\n      screenName: \"IDS_TRAININGDOCUMENTS\",\n      operation: \"update\",\n      inputParam: this.props.inputParam,\n      userInfo: this.props.userInfo,\n      ncontrolCode: editFileId,\n      modalName: \"openChildModal\"\n    };\n    const subFields = [{\n      [designProperties.LABEL]: \"IDS_FILESIZE\",\n      [designProperties.VALUE]: \"sfilesize\",\n      \"fieldType\": \"size\"\n    }];\n    const moreField = [{\n      [designProperties.LABEL]: \"IDS_LINK\",\n      [designProperties.VALUE]: \"slinkname\"\n    }, {\n      [designProperties.LABEL]: \"IDS_CREATEDDATE\",\n      [designProperties.VALUE]: \"screateddate\"\n    }, {\n      [designProperties.LABEL]: \"IDS_DESCRIPTION\",\n      [designProperties.VALUE]: \"sfiledesc\"\n    } // {[designProperties.LABEL]: \"IDS_DESCRIPTION\",[designProperties.VALUE]:\"sfiledesc\"},\n    //{[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\n    ];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"actions-stripe border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      name: \"addtrainingdocfile\",\n      className: \"add-txt-btn\",\n      hidden: this.props.userRoleControlRights.indexOf(addFileId) === -1,\n      onClick: () => this.addtrainingdocfile({\n        ncontrolCode: addFileId\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }\n    }), \" \", \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_ADDTRAININGFILE\",\n      defaultMessage: \"File\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(ListAttachment, {\n      attachmentList: this.props.TrainingDocument,\n      fileName: \"sfilename\",\n      deleteRecord: this.props.deleteRecord,\n      deleteParam: {\n        operation: \"delete\",\n        methodUrl: \"TrainingDoc\",\n        screenName: \"IDS_TRAININGDOCUMENTS\"\n      },\n      fetchRecord: this.props.addtrainingdocfile,\n      deleteId: deleteFileId,\n      editId: editFileId,\n      editParam: editParam,\n      viewId: viewFileId,\n      controlMap: this.props.controlMap || [],\n      userRoleControlRights: this.props.userRoleControlRights || [],\n      subFields: subFields || [],\n      settings: this.props.settings,\n      userInfo: this.props.userInfo,\n      moreField: moreField,\n      viewFile: this.props.viewTrainingDocumentFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  addtrainingdocfile\n})(injectIntl(TrainingDocTab));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-512/QuaLISWeb/src/pages/competencemanagement/trainingupdate/TrainingDocTab.jsx"],"names":["React","FormattedMessage","injectIntl","connect","designProperties","ListAttachment","Component","Nav","FontAwesomeIcon","faPlus","addtrainingdocfile","DEFAULT_RETURN","mapStateToProps","state","Login","TrainingDocTab","ncontrolCode","openChildModal","props","operation","screenName","selectedRecord","updateInfo","userInfo","render","addFileId","controlMap","has","get","ncontrolcode","deleteFileId","editFileId","viewFileId","editParam","inputParam","modalName","subFields","LABEL","VALUE","moreField","userRoleControlRights","indexOf","TrainingDocument","deleteRecord","methodUrl","settings","viewTrainingDocumentFile"],"mappings":"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","sourcesContent":["import React  from 'react'\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { designProperties } from '../../../components/Enumeration';\r\nimport ListAttachment from '../../../components/ListAttachment';\r\nimport { Component } from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { addtrainingdocfile } from '../../../actions';\r\n\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\nclass TrainingDocTab  extends Component {\r\n    render() {\r\n        const addFileId = this.props.controlMap.has(\"AddTrainingDocFile\") && this.props.controlMap.get(\"AddTrainingDocFile\").ncontrolcode;\r\n        const deleteFileId = this.props.controlMap.has(\"DeleteTrainingDocFile\") && this.props.controlMap.get(\"DeleteTrainingDocFile\").ncontrolcode;\r\n       \r\n        const editFileId = this.props.controlMap.has(\"EditTrainingDocFile\") && this.props.controlMap.get(\"EditTrainingDocFile\").ncontrolcode;\r\n\r\n        const viewFileId = this.props.controlMap.has(\"ViewTrainingDocFile\") && this.props.controlMap.get(\"ViewTrainingDocFile\").ncontrolcode;\r\n\r\n        const editParam = {\r\n            screenName: \"IDS_TRAININGDOCUMENTS\", operation: \"update\", inputParam: this.props.inputParam,\r\n            userInfo: this.props.userInfo, ncontrolCode: editFileId, modalName: \"openChildModal\"\r\n        };\r\n\r\n         const subFields=[\r\n            {[designProperties.LABEL]: \"IDS_FILESIZE\",[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"},];\r\n\r\n        const moreField=[\r\n                        {[designProperties.LABEL]: \"IDS_LINK\",[designProperties.VALUE]:\"slinkname\"}, \r\n                        {[designProperties.LABEL]: \"IDS_CREATEDDATE\",[designProperties.VALUE]:\"screateddate\"}, \r\n                        {[designProperties.LABEL]: \"IDS_DESCRIPTION\",[designProperties.VALUE]:\"sfiledesc\"}\r\n                        // {[designProperties.LABEL]: \"IDS_DESCRIPTION\",[designProperties.VALUE]:\"sfiledesc\"},\r\n                        //{[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\r\n                    ];\r\n        return (\r\n            <>\r\n                <div className=\"actions-stripe border-bottom\">\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <Nav.Link \r\n                        name=\"addtrainingdocfile\" className=\"add-txt-btn\" hidden={this.props.userRoleControlRights.indexOf(addFileId) === -1}\r\n                        onClick={()=>this.addtrainingdocfile({ncontrolCode: addFileId})}\r\n                        >\r\n                            <FontAwesomeIcon icon={faPlus} /> {\" \"}\r\n                            <FormattedMessage id=\"IDS_ADDTRAININGFILE\" defaultMessage=\"File\" />\r\n                        </Nav.Link>\r\n                    </div>\r\n                </div>\r\n                <ListAttachment\r\n                    attachmentList={this.props.TrainingDocument}\r\n                    fileName=\"sfilename\"\r\n                    deleteRecord={this.props.deleteRecord}\r\n                    deleteParam ={{operation:\"delete\", methodUrl: \"TrainingDoc\",screenName: \"IDS_TRAININGDOCUMENTS\"}}\r\n                    fetchRecord={this.props.addtrainingdocfile}\r\n                    deleteId={deleteFileId}\r\n                    editId={editFileId}\r\n                    editParam={editParam}\r\n                    viewId={viewFileId}\r\n                    controlMap={this.props.controlMap || []}\r\n                    userRoleControlRights={this.props.userRoleControlRights || []}\r\n                    subFields={subFields || []}\r\n                    settings = {this.props.settings}\r\n                    userInfo={this.props.userInfo}\r\n                    moreField={moreField}\r\n                    viewFile={this.props.viewTrainingDocumentFile}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n\r\n    addtrainingdocfile = (ncontrolCode) => {\r\n        let openChildModal = this.props.Login.openChildModal;\r\n        let operation = \"create\";\r\n        let screenName = this.props.Login.screenName;\r\n        screenName = \"IDS_TRAININGDOCUMENTS\";\r\n        openChildModal = true;\r\n        const selectedRecord = this.props.selectedRecord;\r\n        const updateInfo = {\r\n            userInfo: this.props.Login.userInfo, operation, selectedRecord, ncontrolCode, screenName\r\n           };\r\n           this.props.addtrainingdocfile(updateInfo);\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openModal: true,\r\n        //         operation: \"create\",\r\n        //         selectedRecord: {},\r\n        //         ncontrolcode: ncontrolcode,\r\n        //         screenName:\"IDS_TRAININGDOCUMENTS\"\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n \r\n}\r\n\r\nexport default connect(mapStateToProps, {addtrainingdocfile})(injectIntl(TrainingDocTab));"]},"metadata":{},"sourceType":"module"}