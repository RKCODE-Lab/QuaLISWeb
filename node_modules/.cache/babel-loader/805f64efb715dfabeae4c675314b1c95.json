{"ast":null,"code":"import _defineProperty from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl}from'react-intl';import rsapi from'../../rsapi';import{toast}from'react-toastify';import{Row,Col,Card,Button,Nav}from'react-bootstrap';import PerfectScrollbar from'react-perfect-scrollbar';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faPlus,faSync}from'@fortawesome/free-solid-svg-icons';import'react-perfect-scrollbar/dist/css/styles.css';import SplitterLayout from'react-splitter-layout';import{faEye,faTrashAlt}from'@fortawesome/free-regular-svg-icons';// import { Tooltip } from '@progress/kendo-react-tooltip';\nimport{process}from'@progress/kendo-data-query';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import Esign from'../audittrail/Esign';import{callService,crudMaster,filterTestGroup,createTree,editTree,getTestGroupDetails,sampleTypeOnChange,validateEsignCredential,updateStore,addSpecification,getSpecification,addComponent,changeTestCategory,addTestGroupTest,editTestGroupTest,getTestGroupParameter,editTestGroupParameter,addTestFile,editSpecFile,getSpecificationDetails,addTestGroupCodedResult,getComponentBySpecId,filterColumnData,viewAttachment,viewTestGroupCheckList,getTestGroupComponentDetails,filterTransactionList,reportSpecification,retireSpecification}from'../../actions';import{constructOptionList,formatInputDate,create_UUID,deleteAttachmentDropZone,filterRecordBasedOnTwoArrays,getControlMap,onDropAttachFileList,showEsign,sortData}from'../../components/CommonScript';import TestGroupTestTab from'./TestGroupTestTab';import AddTestGroupSpecification from'./AddTestGroupSpecification';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{transactionStatus,REPORTTYPE,attachmentType,formCode,designProperties}from'../../components/Enumeration';import AddTestGroupTest from'./AddTestGroupTest';import AddProfileTree from'./AddProfileTree';import SampleFilter from'./SampleFilter';import AddFile from'../testmanagement/AddFile';import AdvFilter from'../../components/AdvFilter';import SpecificationHistory from'./SpecificationHistory';import TestGroupSpecFile from'./TestGroupSpecFile';import SpecificationInfo from'./SpecificationInfo';import CustomTab from'../../components/custom-tabs/custom-tabs.component';import TransactionListMaster from'../../components/TransactionListMaster';import FormTreeMenu from'../../components/form-tree-menu/form-tree-menu.component';// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\nimport FormInput from'../../components/form-input/form-input.component';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import{testMoreFields,testSubFields,searchFieldList,specificationColumnList,componentColumnList,addTestColumnList,editTestColumnList}from'./TestGroupFields';import EditTestGroupTest from'./EditTestGroupTest';import{ContentPanel,SearchAdd}from'../../components/App.styles';import'../../pages/registration/registration.css';import{ListWrapper}from'../../components/client-group.styles';import{ProductList}from'../product/product.styled';import ReactTooltip from'react-tooltip';var TestGroup=/*#__PURE__*/function(_Component){_inherits(TestGroup,_Component);var _super=_createSuper(TestGroup);function TestGroup(_props){var _ref2;var _this;_classCallCheck(this,TestGroup);_this=_super.call(this,_props);_this.reloadData=function(){var filterData=_this.props.Login.filterData||_this.state.filterData;if(filterData.nsampletypecode===undefined){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SAMPLETYPENOTAVAILABLE\"}));}else if(filterData.nproductcatcode===\"\"){if(filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTCATEGORYNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALCATEGORYNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_CATEGORYNOTAVAILABLE\"}));}}else if(filterData.nproductcode===\"\"||filterData.nproductcode===undefined){if(filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}}else if(filterData.ntreeversiontempcode===\"\"){toast.warn(_this.props.intl.formatMessage({id:\"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\"}));}else{var inputParam={inputData:{userinfo:_this.props.Login.userInfo,nsampletypecode:filterData.nsampletypecode.item[\"nsampletypecode\"],nproductcatcode:filterData.nproductcatcode.item[\"nproductcatcode\"],nproductcode:filterData.nproductcode.item[\"nproductcode\"],ntreeversiontempcode:filterData.ntreeversiontempcode.item[\"ntreeversiontempcode\"],filterData:filterData//: { ...this.props.Login.filterData }\n},historyDataState:_this.state.historyDataState};_this.props.filterTestGroup(inputParam,_this.props.Login.masterData,_this.searchRef);}};_this.ConfirmDelete=function(obj){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteRecord(obj);});};_this.handlePageChange=function(event){_this.setState({skip:event.skip,take:event.take});};_this.viewTestFile=function(props){var viewParam={operation:\"view\",methodUrl:\"TestGroupTestFile\",classUrl:\"testgroup\",inputData:{ntestgroupfilecode:props.selectedTest?props.selectedTest.ntestgroupfilecode:0,userinfo:_this.props.Login.userInfo,testgroupspecification:_this.props.Login.masterData.SelectedSpecification}};_this.props.viewAttachment(viewParam);};_this.fileViewIcon=function(master){if(master.ntestgroupfilecode>0&&master.nlinkcode===transactionStatus.NA){return true;}else{return false;}};_this.linkViewIcon=function(master){if(master.ntestgroupfilecode>0&&master.nlinkcode!==transactionStatus.NA){return true;}else{return false;}};_this.onFilterSumbit=function(){var tempFilterData=_this.state.tempFilterData;if(tempFilterData.nsampletypecode===undefined){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SAMPLETYPENOTAVAILABLE\"}));}else if(tempFilterData.nproductcatcode===\"\"){if(tempFilterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTCATEGORYNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALCATEGORYNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_CATEGORYNOTAVAILABLE\"}));}}else if(tempFilterData.nproductcode===\"\"||tempFilterData.nproductcode===undefined){if(tempFilterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}}else if(tempFilterData.ntreeversiontempcode===\"\"){toast.warn(_this.props.intl.formatMessage({id:\"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\"}));}else{var inputParam={inputData:{userinfo:_this.props.Login.userInfo,nsampletypecode:tempFilterData.nsampletypecode.value,nproductcatcode:tempFilterData.nproductcatcode.value,nproductcode:tempFilterData.nproductcode.value,ntreeversiontempcode:tempFilterData.ntreeversiontempcode.value,filterData:_objectSpread({},tempFilterData)},historyDataState:_this.state.historyDataState};_this.props.filterTestGroup(inputParam,_this.props.Login.masterData,_this.searchRef);}};_this.onTreeClick=function(event){var inputParam={methodUrl:\"TestGroupSpecification\",screenName:\"IDS_SPECIFICATION\",operation:\"get\",keyName:\"treetemplatemanipulation\",userinfo:_this.props.Login.userInfo,selectedRecord:event.item,activeKey:event.key,focusKey:event.key,primaryKey:event.primaryKey,historyDataState:_this.state.historyDataState};_this.props.getSpecification(inputParam,_this.props.Login.masterData,_this.searchRef);};_this.tabDetail=function(){var tabMap=new Map();tabMap.set(\"IDS_FILE\",/*#__PURE__*/React.createElement(TestGroupSpecFile,{controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,userInfo:_this.props.Login.userInfo,inputParam:_this.props.Login.inputParam,deleteRecord:_this.deleteRecord,testGroupSpecFile:_this.props.Login.masterData.TestGroupSpecFile||[],selectedSpecification:_this.props.Login.masterData.SelectedSpecification,addTestFile:_this.addFile,editSpecFile:_this.props.editSpecFile,viewTestFile:_this.viewTestFile,defaultRecord:_this.defaultRecord,screenName:\"IDS_FILE\",viewAttachment:_this.props.viewAttachment,settings:_this.props.Login.settings}));tabMap.set(\"IDS_SPECIFICATIONHISTORY\",/*#__PURE__*/React.createElement(SpecificationHistory,{data:_this.props.Login.masterData.TestGroupSpecificationHistory,dataResult:process(_this.props.Login.masterData.TestGroupSpecificationHistory||[],_this.state.historyDataState),dataState:_this.state.historyDataState,dataStateChange:_this.historyDataStateChange// testGroupSpecificationHistory={this.props.Login.masterData.TestGroupSpecificationHistory}\n// dataState={this.props.Login.screenName === \"IDS_SPECIFICATIONHISTORY\" ? this.state.historyDataState : { skip: 0, take: 10 }}\n,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,userInfo:_this.props.Login.userInfo,inputParam:_this.props.Login.inputParam,screenName:\"IDS_SPECIFICATIONHISTORY\"}));return tabMap;};_this.historyDataStateChange=function(event){_this.setState({dataResult:process(_this.props.Login.masterData.TestGroupSpecificationHistory||[],event.dataState),historyDataState:event.dataState});};_this.addFile=function(userInfo,operation,ncontrolCode,screenName,modalName){var testgroupspecification=_this.props.Login.masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){_this.props.addTestFile(userInfo,operation,ncontrolCode,screenName,modalName);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.componentRowClick=function(event){var masterData=_this.props.Login.masterData;masterData[\"SelectedComponent\"]=event.testgroupspecsampletype[0];var inputParam={testgroupspecsampletype:event.testgroupspecsampletype[0],userInfo:_this.props.Login.userInfo};_this.props.getTestGroupComponentDetails(inputParam,masterData,_this.searchRef);};_this.deleteTest=function(deleteParam){var masterData=_this.props.Login.masterData;var testgroupspecification=masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var testgrouptest=deleteParam.props.testgrouptest;var inputParam={inputData:{testgrouptest:testgrouptest,userinfo:_this.props.Login.userInfo,testgroupspecification:testgroupspecification,treetemplatemanipulation:masterData.selectedNode},classUrl:\"testgroup\",operation:\"delete\",methodUrl:\"Test\",screenName:\"IDS_TEST\",postParam:{inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:testgrouptest.ntestgrouptestcode,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.Login.userInfo},masterData:masterData,searchFieldList:searchFieldList,unchangeList:[\"TestGroupSpecification\",\"SelectedSpecification\",\"SampleType\",\"TreeVersionTemplate\",\"ProductCategory\",\"SelectedTest\",\"Product\",\"AgaramTree\",\"OpenNodes\",\"selectedNode\",\"FocusKey\",\"ActiveKey\",\"SelectedComponent\",\"TestGroupSpecSampleType\"]//, isSingleSelect: true\n}};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_TEST\",operation:\"delete\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"Default\"||_this.props.Login.operation==='approve'||_this.props.Login.operation==='complete'){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord[\"agree\"]=4;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.onInputOnChange=function(event,caseNo,optional){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?optional[0]:optional[1];}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;// selectedRecord[\"sfilename\"] = \"\";\n}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});break;case 2:selectedRecord[event.target.name]=event.target.value;var indexKey=Object.keys(optional)[0];var value=Object.values(optional)[0];var treeData={ntreeversiontempcode:value.ntreeversiontempcode,npositioncode:value.nlevelno-1,sleveldescription:event.target.value,ntemptranstestgroupcode:value.ntemptranstestgroupcode,nformcode:62,schildnode:\"\",nnextchildcode:value.schildnode!==null?value.schildnode:-1,ntemplatemanipulationcode:value.ntemplatemanipulationcode,isreadonly:value.ntemplatemanipulationcode>0?true:false,slevelformat:value.slevelformat};var treetemplatemanipulation=selectedRecord.treetemplatemanipulation||[];treetemplatemanipulation[indexKey]=treeData;selectedRecord[\"treetemplatemanipulation\"]=treetemplatemanipulation;_this.setState({selectedRecord:selectedRecord});break;default:break;}};_this.onEsignInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onFilterComboChange=function(comboData,fieldName,caseNo){var tempFilterData=_this.state.tempFilterData||{};var inputParam={};switch(caseNo){case 1:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,sampletype:comboData.item,tempFilterData:tempFilterData},methodUrl:\"/getProductCategory\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;case 2:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,sampletype:tempFilterData.nsampletypecode.item,productcategory:comboData.item,tempFilterData:tempFilterData},methodUrl:\"/getProduct\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;case 3:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,sampletype:tempFilterData.nsampletypecode.item,productcategory:tempFilterData.nproductcatcode.item,product:comboData.item,tempFilterData:tempFilterData},methodUrl:\"/getTreeVersionTemplate\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;case 4:tempFilterData[fieldName]=comboData;_this.setState({tempFilterData:tempFilterData});break;case 5:var selectedRecord=_this.state.selectedRecord;selectedRecord[fieldName]=comboData;var TestGroupSpecSampleType=_this.props.Login.testGroupInputData.TestGroupSpecSampleType||{};var testGroupSpecSampleType={};if(_this.props.Login.screenName===\"IDS_COMPONENT\"){testGroupSpecSampleType=selectedRecord[\"ncomponentcode\"]?selectedRecord[\"ncomponentcode\"].item:TestGroupSpecSampleType[0].item;}else{testGroupSpecSampleType=_this.props.Login.masterData.SelectedComponent;}inputParam={userinfo:_this.props.Login.userInfo,testcategory:comboData.item,testgroupspecsampletype:testGroupSpecSampleType,nallottedspeccode:_this.props.Login.masterData.SelectedSpecification[\"nallottedspeccode\"],selectedRecord:selectedRecord};_this.props.changeTestCategory(inputParam,_this.props.Login.testGroupInputData);break;default:break;}};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;if(dateValue===null){dateValue=new Date();}selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.onNumericInputChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){var inputParam={};if(_this.props.Login.screenName===\"IDS_PROFILETREE\"||_this.props.Login.screenName===\"IDS_EDITTREE\"){inputParam=_this.onSaveTree(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_SPECIFICATION\"){inputParam=_this.onSaveSpecification(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_COMPONENT\"){inputParam=_this.onSaveComponent(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_COPYSPECIFICATION\"){inputParam=_this.onSaveCopySpecification(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_TEST\"||_this.props.Login.screenName===\"IDS_EDITTESTGROUPTEST\"){inputParam=_this.onSaveTest(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_SPECFILE\"){inputParam=_this.onSaveSpecFile(saveType,formRef);}if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,openModal:true,operation:_this.props.Login.operation,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}};_this.onSaveTest=function(saveType,formRef){var operation=_this.props.Login.operation;var masterData=_this.props.Login.masterData;var selectedRecord=_this.state.selectedRecord;var inputData={};var userinfo=_this.props.Login.userInfo;var postParam=undefined;if(operation===\"create\"){var testArray=selectedRecord.ntestcode.map(function(test){return test.item;});inputData={testgroupspecification:masterData.SelectedSpecification,testgroupspecsampletype:[masterData.SelectedComponent],testgrouptest:testArray,userinfo:userinfo};}else{postParam={inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:masterData.SelectedTest?masterData.SelectedTest.ntestgrouptestcode:0,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.Login.userInfo},masterData:_this.props.Login.masterData,searchFieldList:searchFieldList,changeList:[\"TestGroupTestFormula\",\"TestGroupTestNumericParameter\",\"TestGroupTestPredefinedParameter\",\"TestGroupTestCharParameter\",\"TestGroupTestParameter\"],isSingleSelect:true};var testgrouptestfile=null;var testGroupFile=selectedRecord.ntestfilecode;if(testGroupFile){testGroupFile=testGroupFile.item;testgrouptestfile={nlinkcode:testGroupFile.nlinkcode,nattachmenttypecode:testGroupFile.nattachmenttypecode,sdescription:testGroupFile.sdescription,ssystemfilename:testGroupFile.ssystemfilename,dcreateddate:testGroupFile.dcreateddate,nfilesize:testGroupFile.nfilesize,ntestgroupfilecode:selectedRecord.ntestgroupfilecode,ntestgrouptestcode:selectedRecord.ntestgrouptestcode,sfilename:testGroupFile.sfilename,nstatus:transactionStatus.ACTIVE};}inputData={testgroupspecification:masterData.SelectedSpecification,testgrouptest:{ntestgrouptestcode:selectedRecord.ntestgrouptestcode,nsectioncode:selectedRecord.nsectioncode.value,nsourcecode:selectedRecord.nsourcecode.value,nmethodcode:selectedRecord.nmethodcode?selectedRecord.nmethodcode.value:transactionStatus.NA,ninstrumentcatcode:selectedRecord.ninstrumentcatcode?selectedRecord.ninstrumentcatcode.value:transactionStatus.NA,stestsynonym:selectedRecord.stestsynonym,ncost:selectedRecord.ncost,nsorter:selectedRecord.nsorter,nspecsampletypecode:selectedRecord.nspecsampletypecode},testgrouptestfile:testgrouptestfile,userinfo:userinfo};}var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:operation,methodUrl:\"Test\",saveType:saveType,formRef:formRef,searchRef:_this.searchRef,postParam:postParam};return inputParam;};_this.onSaveTree=function(saveType,formRef){var operation=_this.props.Login.operation;var selectedRecord=_this.state.selectedRecord;var inputData={userinfo:_this.props.Login.userInfo};if(operation===\"update\"){var selectedNode=_this.props.Login.masterData.selectedNode;inputData[\"treetemplatemanipulation\"]={ntemplatemanipulationcode:selectedRecord.ntemplatemanipulationcode,sleveldescription:selectedRecord.sleveldescription,nsampletypecode:selectedNode.nsampletypecode,ntreeversiontempcode:selectedNode.ntreeversiontempcode,nproductcatcode:selectedNode.nproductcatcode,nproductcode:selectedNode.nproductcode};inputData[\"selectednode\"]=_this.props.Login.masterData.ActiveKey;}else{var TreetempTranstestGroup=_this.props.Login.TreetempTranstestGroup;var filterData=_this.state.filterData;var _selectedRecord=_this.state.selectedRecord;var treetemplatemanipulation=[];var tempArray=filterRecordBasedOnTwoArrays(TreetempTranstestGroup,_selectedRecord.treetemplatemanipulation,\"ntemptranstestgroupcode\");tempArray.map(function(item){var treeData={ntreeversiontempcode:item.ntreeversiontempcode,npositioncode:item.nlevelno-1,sleveldescription:item.sleveldescription,ntemptranstestgroupcode:item.ntemptranstestgroupcode,nformcode:62,schildnode:\"\",nnextchildcode:item.schildnode,ntemplatemanipulationcode:item.ntemplatemanipulationcode,isreadonly:item.ntemplatemanipulationcode>0?true:false,slevelformat:item.slevelformat};return treetemplatemanipulation.push(treeData);});_selectedRecord.treetemplatemanipulation.map(function(item){var treeTemplateManip=TreetempTranstestGroup.filter(function(temp){return temp.ntemptranstestgroupcode===item.ntemptranstestgroupcode;});if(treeTemplateManip.length>0){item[\"ntemplatemanipulationcode\"]=treeTemplateManip[\"ntemplatemanipulationcode\"];}else{item[\"ntemplatemanipulationcode\"]=0;}return treetemplatemanipulation.push(item);});inputData[\"treetemplatemanipulation\"]=treetemplatemanipulation;inputData[\"sampletype\"]=filterData.nsampletypecode.item;inputData[\"ncategorycode\"]=filterData.nproductcatcode.value;inputData[\"nproductcode\"]=filterData.nproductcode.value?filterData.nproductcode.value:-1;inputData[\"ntreeversiontempcode\"]=filterData.ntreeversiontempcode.value;}var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:operation,methodUrl:\"Tree\",saveType:saveType,formRef:formRef};return inputParam;};_this.onSaveSpecification=function(saveType,formRef){var operation=_this.props.Login.operation;var selectedRecord=_this.state.selectedRecord;var testGroupSpec={napproveconfversioncode:-1,sversion:'',napprovalstatus:transactionStatus.DRAFT,nstatus:transactionStatus.ACTIVE,ntransactionstatus:selectedRecord[\"ntransactionstatus\"],ncomponentrequired:selectedRecord[\"ncomponentrequired\"],nprojectcode:selectedRecord[\"nprojectcode\"]?selectedRecord[\"nprojectcode\"]:-1,sspecname:selectedRecord[\"sspecname\"],dexpirydate:selectedRecord[\"dexpirydate\"],nallottedspeccode:selectedRecord[\"nallottedspeccode\"]?selectedRecord[\"nallottedspeccode\"]:0,ntzexpirydate:selectedRecord[\"ntzexpirydate\"].value,stzexpirydate:selectedRecord[\"ntzexpirydate\"].label};var dexpirydate=testGroupSpec[\"dexpirydate\"];//need this conversion when the datatype of the field is 'Instant'\ntestGroupSpec[\"dexpirydate\"]=formatInputDate(dexpirydate,false);if(operation===\"create\"){testGroupSpec[\"ntemplatemanipulationcode\"]=_this.props.Login.masterData.selectedNode.ntemplatemanipulationcode;}var inputData={userinfo:_this.props.Login.userInfo,testgroupspecification:testGroupSpec,treetemplatemanipulation:_this.props.Login.masterData.selectedNode,selectedspecification:_this.props.Login.masterData.SelectedSpecification};var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:operation,methodUrl:\"Specification\",saveType:saveType,formRef:formRef};return inputParam;};_this.onSaveComponent=function(saveType,formRef){var masterData=_this.props.Login.masterData;var selectedRecord=_this.state.selectedRecord;var testArray=selectedRecord.ntestcode.map(function(test){return test.item;});var inputData={testgroupspecification:masterData.SelectedSpecification,testgroupspecsampletype:[selectedRecord.ncomponentcode.item],testgrouptest:testArray,userinfo:_this.props.Login.userInfo};var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:_this.props.Login.operation,methodUrl:\"Component\",saveType:saveType,formRef:formRef};return inputParam;};_this.onSaveSpecFile=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var specFileArray=[];var selectedSpecification=_this.props.Login.masterData.SelectedSpecification;var specFile={nallottedspeccode:selectedSpecification.nallottedspeccode,nspecfilecode:selectedRecord.nspecfilecode?selectedRecord.nspecfilecode:0,nstatus:transactionStatus.ACTIVE,nattachmenttypecode:nattachmenttypecode};var formData=new FormData();if(nattachmenttypecode===attachmentType.FTP){if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var tempData=Object.assign({},specFile);var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var uniquefilename=nattachmenttypecode===attachmentType.FTP?create_UUID()+'.'+fileExtension:\"\";tempData[\"sfilename\"]=file.name;tempData[\"sdescription\"]=selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\";tempData[\"nlinkcode\"]=transactionStatus.NA;tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"nfilesize\"]=file.size;formData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);specFileArray.push(tempData);});formData.append(\"filecount\",acceptedFiles.length);isFileEdited=transactionStatus.YES;}else{specFile[\"sfilename\"]=selectedRecord.sfilename;specFile[\"sdescription\"]=selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\";specFile[\"nlinkcode\"]=transactionStatus.NA;specFile[\"ssystemfilename\"]=selectedRecord.ssystemfilename;specFile[\"nfilesize\"]=selectedRecord.nfilesize;specFileArray.push(specFile);}}else{specFile[\"sfilename\"]=selectedRecord.slinkfilename.trim();specFile[\"sdescription\"]=selectedRecord.slinkdescription?selectedRecord.slinkdescription.trim():\"\";specFile[\"nlinkcode\"]=selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;specFile[\"ssystemfilename\"]=\"\";specFile[\"nfilesize\"]=0;specFileArray.push(specFile);}formData.append(\"isFileEdited\",isFileEdited);formData.append(\"testgroupspecification\",JSON.stringify(selectedSpecification));formData.append(\"testgroupspecfile\",JSON.stringify(specFileArray));var inputParam={inputData:{userinfo:_this.props.Login.userInfo},formData:formData,isFileupload:true,operation:_this.props.Login.operation,classUrl:\"testgroup\",saveType:saveType,formRef:formRef,methodUrl:\"SpecificationFile\"};return inputParam;};_this.deleteSpecRecord=function(deleteParam){var selectedRecord=deleteParam.selectedRecord;if(selectedRecord.napprovalstatus===transactionStatus.DRAFT||selectedRecord.napprovalstatus===transactionStatus.CORRECTION){_this.deleteRecord(deleteParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}};_this.deleteRecord=function(deleteParam){if(_this.props.Login.masterData.selectedNode){var _inputData;var methodUrl=deleteParam.methodUrl;var dataState=_this.state.componentDataState;var screenName=deleteParam.screenName;var inputParam={inputData:(_inputData={},_defineProperty(_inputData,deleteParam.keyName,deleteParam.selectedRecord),_defineProperty(_inputData,\"userinfo\",_this.props.Login.userInfo),_defineProperty(_inputData,\"testgroupspecification\",_this.props.Login.masterData.SelectedSpecification),_defineProperty(_inputData,\"treetemplatemanipulation\",_this.props.Login.masterData.selectedNode),_inputData),classUrl:\"testgroup\",operation:deleteParam.operation,methodUrl:methodUrl,screenName:screenName,dataState:dataState};var masterData=_this.props.Login.masterData;//if (showEsign(this.state.controlMap, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\nif(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:screenName,operation:deleteParam.operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROFILENODE\"}));}};_this.deleteMultipleRecord=function(deleteParam){var testgroupspecification=_this.props.Login.masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var inputParam={inputData:{testgroupspecsampletype:deleteParam.props.testgroupspecsampletype,userinfo:_this.props.Login.userInfo,testgroupspecification:testgroupspecification,treetemplatemanipulation:_this.props.Login.masterData.selectedNode},classUrl:\"testgroup\",operation:\"delete\",methodUrl:\"TestGroupComponent\",screenName:\"IDS_COMPONENT\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_COMPONENT\",operation:\"delete\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}};_this.onDropSpecFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"//fileToDelete:file.name \n});};_this.validateTestGroupComplete=function(operation,inputValue,ncontrolCode){if(inputValue.testgroupspecification){if(inputValue.testgroupspecification.napprovalstatus===transactionStatus.DRAFT||inputValue.testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){return rsapi.post(\"testgroup/validateTestGroupComplete\",{nallottedspeccode:inputValue.testgroupspecification.nallottedspeccode,\"userinfo\":_this.props.Login.userInfo}).then(function(response){if(response.data&&response.data.length>0){var inactiveTestArray=[];response.data.map(function(item){return inactiveTestArray.indexOf(item.stestname)===-1?inactiveTestArray.push(item.stestname):\"\";});var data=\" [\"+inactiveTestArray+\"] \"+_this.props.intl.formatMessage({id:\"IDS_INACTIVETESTSATCOMPLETE\"});_this.confirmMessage.confirm(_this.props.intl.formatMessage({id:\"IDS_CONFIRMATION\"}),_this.props.intl.formatMessage({id:\"IDS_CONFIRMATION\"}),data,_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.completeSpecification(operation,inputValue,ncontrolCode);},false,undefined);}else{_this.completeSpecification(operation,inputValue,ncontrolCode);}}).catch(function(error){if(error.response.status===500){toast.error(_this.props.intl.formatMessage({id:error.message}));}else{toast.warn(_this.props.intl.formatMessage({id:error.response}));}});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTSPECIFICATION\"}));}};_this.retireSpec=function(operation,selectedSpecification,approvalRoleActionDetail,retireSpecId){if(selectedSpecification.testgroupspecification.napprovalstatus!==transactionStatus.RETIRED){if(approvalRoleActionDetail.length>0&&approvalRoleActionDetail[0].nlevelno===transactionStatus.ACTIVE){if(selectedSpecification.testgroupspecification[\"napprovalstatus\"]===approvalRoleActionDetail[0].ntransactionstatus){var inputParam={inputData:{nallottedspeccode:selectedSpecification.testgroupspecification,treetemplatemanipulation:selectedSpecification.treetemplatemanipulation,approvalRoleActionDetail:approvalRoleActionDetail[0],userinfo:_this.props.Login.userInfo,operation:operation},classUrl:\"testgroup\",operation:operation,methodUrl:\"Spec\",screenName:\"IDS_STUDYPLAN\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,retireSpecId)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_STUDYPLAN\",operation:operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.retireSpecification(inputParam.inputData,masterData);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_RETIRECANBECONEAFTERFINAL\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_FINALLEVELAPPROVE\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYRETIRED\"}));}};_this.specificationReport=function(operation,ncontrolCode){if(_this.props.Login.masterData.SelectedComponent&&_this.props.Login.masterData.SelectedTest){var inputParam={inputData:{sprimarykeyname:'nallottedspeccode',userinfo:_this.props.Login.userInfo,ncontrolcode:ncontrolCode,nregtypecode:transactionStatus.NA,nregsubtypecode:transactionStatus.NA,nreportmodulecode:transactionStatus.NA,nreporttypecode:REPORTTYPE.CONTROLBASED,nreportdecisiontypecode:transactionStatus.NA,certificatetypecode:transactionStatus.NA,nsectioncode:transactionStatus.NA,operation:operation,nallottedspeccode:_this.props.Login.masterData['SelectedSpecification']['nallottedspeccode'],selectedComponent:_this.props.Login.masterData[\"SelectedComponent\"],selectedTest:_this.props.Login.masterData[\"SelectedTest\"]}};_this.props.reportSpecification(inputParam['inputData']);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\"}));}};_this.completeSpecification=function(operation,inputValue,ncontrolCode){if(inputValue.testgroupspecification){if(inputValue.testgroupspecification.napprovalstatus===transactionStatus.DRAFT||inputValue.testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var inputParam={inputData:_objectSpread({userinfo:_this.props.Login.userInfo},inputValue),classUrl:\"testgroup\",operation:operation,methodUrl:\"Specification\",screenName:\"IDS_SPECIFICATION\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:\"IDS_SPECIFICATION\",operation:operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTSPECIFICATION\"}));}};_this.approveSpecification=function(status,needEsign){var masterData=_this.props.Login.masterData;var inputParam={inputData:{userinfo:_this.props.Login.userInfo,treetemplatemanipulation:masterData.selectedNode,testgroupspecification:_objectSpread(_objectSpread({},masterData.SelectedSpecification),{},{napprovalstatus:status})},classUrl:\"testgroup\",operation:\"approve\",methodUrl:\"Specification\",screenName:\"IDS_SPECIFICATION\"};if(needEsign===transactionStatus.YES){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_SPECIFICATION\",operation:\"approve\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\",{});}};_this.onComboChange=function(comboData,fieldName,caseNo,optional){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:if(fieldName===\"ntestcode\"){selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}break;case 2:selectedRecord[\"parameterTypeCode\"]=comboData.value;selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;case 3:selectedRecord[\"schecklistversionname\"]=comboData.item.schecklistversionname;selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;default:break;}};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};var componentDataState={skip:0,take:10};var historyDataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};_this.state={selectedRecord:{},filterData:{},error:\"\",userRoleControlRights:[],controlMap:new Map(),componentDataState:componentDataState,historyDataState:historyDataState,tempFilterData:{},showTest:false,skip:0,take:_this.props.Login.settings?_this.props.Login.settings[12]:5};_this.componentBreadcrumbs=[];_this.breadCrumbData=[];_this.searchRef=React.createRef();_this.specSubField=[_defineProperty({},designProperties.VALUE,\"stransdisplaystatus\"),(_ref2={},_defineProperty(_ref2,designProperties.VALUE,\"sapprovalstatus\"),_defineProperty(_ref2,designProperties.COLOUR,true),_ref2)];return _this;}_createClass(TestGroup,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({parentHeight:height-50});}}},{key:\"render\",value:function render(){var _this2=this;var _this$props$Login$mas=this.props.Login.masterData,TestGroupSpecification=_this$props$Login$mas.TestGroupSpecification,SelectedSpecification=_this$props$Login$mas.SelectedSpecification,SelectedTest=_this$props$Login$mas.SelectedTest,AgaramTree=_this$props$Login$mas.AgaramTree,OpenNodes=_this$props$Login$mas.OpenNodes,selectedNode=_this$props$Login$mas.selectedNode,FocusKey=_this$props$Login$mas.FocusKey,ActiveKey=_this$props$Login$mas.ActiveKey,SelectedComponent=_this$props$Login$mas.SelectedComponent,TestGroupTest=_this$props$Login$mas.TestGroupTest,TestGroupSpecSampleType=_this$props$Login$mas.TestGroupSpecSampleType,searchedData=_this$props$Login$mas.searchedData,TestGroupTestParameter=_this$props$Login$mas.TestGroupTestParameter;// const deleteTree = {\n//     methodUrl: \"Tree\", operation: \"delete\", inputParam: this.props.Login.inputParam,\n//     userInfo: this.props.Login.userInfo, screenName: \"IDS_TREE\"\n// };\nvar testGroupTestData=searchedData||TestGroupTest||[];if(TestGroupTestParameter){sortData(TestGroupTestParameter,\"ascending\",\"nsorter\");}if(testGroupTestData){sortData(testGroupTestData,\"ascending\",\"nsorter\");}var getComponent={screenName:\"IDS_COMPONENT\",operation:\"get\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,methodUrl:\"TestGroupComponent\",keyName:\"testgroupspecification\"};var addSpecParam={testgroupspecification:SelectedSpecification,selectedRecord:this.state.filterData,userInfo:this.props.Login.userInfo,selectedNode:selectedNode};var editSpecParam={selectedRecord:this.state.filterData,userinfo:this.props.Login.userInfo,selectedNode:selectedNode};var specDeleteParam={operation:\"delete\",methodUrl:\"Specification\",screenName:\"IDS_SPECIFICATION\",keyName:\"testgroupspecification\"};var addSpecId=this.state.controlMap.has(\"AddSpecification\")&&this.state.controlMap.get(\"AddSpecification\").ncontrolcode;var addTreeId=this.state.controlMap.has(\"AddTree\")&&this.state.controlMap.get(\"AddTree\").ncontrolcode;var editTreeId=this.state.controlMap.has(\"EditTree\")&&this.state.controlMap.get(\"EditTree\").ncontrolcode;var deleteTreeId=this.state.controlMap.has(\"DeleteTree\")&&this.state.controlMap.get(\"DeleteTree\").ncontrolcode;var editSpecId=this.state.controlMap.has(\"EditSpecification\")&&this.state.controlMap.get(\"EditSpecification\").ncontrolcode;var deleteSpecId=this.state.controlMap.has(\"DeleteSpecification\")&&this.state.controlMap.get(\"DeleteSpecification\").ncontrolcode;var addComponentId=this.state.controlMap.has(\"AddComponent\")&&this.state.controlMap.get(\"AddComponent\").ncontrolcode;var deleteComponentId=this.state.controlMap.has(\"DeleteComponent\")&&this.state.controlMap.get(\"DeleteComponent\").ncontrolcode;var addTestId=this.state.controlMap.has(\"AddTest\")&&this.state.controlMap.get(\"AddTest\").ncontrolcode;var deleteTestId=this.state.controlMap.has(\"DeleteTest\")&&this.state.controlMap.get(\"DeleteTest\").ncontrolcode;var editTestId=this.state.controlMap.has(\"EditTest\")&&this.state.controlMap.get(\"EditTest\").ncontrolcode;var viewFileId=this.state.controlMap.has(\"ViewTestFile\")&&this.state.controlMap.get(\"ViewTestFile\").ncontrolcode;var confirmMessage=new ConfirmMessage();var deleteTree={methodUrl:\"Tree\",operation:\"delete\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,screenName:\"IDS_TREE\",ncontrolCode:deleteTreeId};var getTest={screenName:\"IDS_TEST\",operation:\"get\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,methodUrl:\"TestGroupTest\",keyName:\"ntestgrouptestcode\"};var filterParam={inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:searchFieldList,changeList:[\"TestGroupTestFormula\",\"TestGroupTestNumericParameter\",\"TestGroupTestPredefinedParameter\",\"TestGroupTestCharParameter\",\"TestGroupTestParameter\"],isSingleSelect:true};var specMandatoryFields=[];var compMandatoryFields=[];var editTestMandatoryFields=[];var addTestMandatoryFields=[];specificationColumnList.forEach(function(item){return item.mandatory===true?specMandatoryFields.push(item):\"\";});componentColumnList.forEach(function(item){return item.mandatory===true?compMandatoryFields.push(item):\"\";});editTestColumnList.forEach(function(item){return item.mandatory===true?editTestMandatoryFields.push(item):\"\";});addTestColumnList.forEach(function(item){return item.mandatory===true?addTestMandatoryFields.push(item):\"\";});if(this.props.Login.masterData&&Object.values(this.props.Login.masterData).length>0){if(selectedNode&&selectedNode.sleveldescription){// this.componentBreadcrumbs[0] = this.props.intl.formatMessage({ id: \"IDS_PROFILETREE\" }) + \": \" + selectedNode.sleveldescription;\nvar splitNode=this.props.Login.masterData.ActiveKey.split('/');var treeNodeNames=[];splitNode.forEach(function(nodeItem){_this2.props.Login.masterData.TreeTemplateManipulation.forEach(function(treeItem){if(treeItem.ntemplatemanipulationcode===parseInt(nodeItem))treeNodeNames.push(treeItem.sleveldescription);});});// this.componentBreadcrumbs[0] = treeNodeNames;\nthis.componentBreadcrumbs=treeNodeNames;if(SelectedSpecification&&SelectedSpecification!==null&&SelectedSpecification.sspecname){// this.componentBreadcrumbs[1] = this.props.intl.formatMessage({ id: \"IDS_SPECIFICATION\" }) + \": \" + SelectedSpecification.sspecname;\nthis.componentBreadcrumbs.push(SelectedSpecification.sspecname);if(SelectedComponent&&SelectedComponent!==null&&SelectedComponent.ncomponentcode!==-1){// this.componentBreadcrumbs[2] = this.props.intl.formatMessage({ id: \"IDS_COMPONENT\" }) + \": \" + SelectedComponent.scomponentname;\nthis.componentBreadcrumbs.push(SelectedComponent.scomponentname);}else{// delete this.componentBreadcrumbs[2];\n}}else{// delete this.componentBreadcrumbs[1];\n}}else{this.componentBreadcrumbs=[];// delete this.componentBreadcrumbs[0];\n}}this.confirmMessage=new ConfirmMessage();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"click\",id:\"tooltip-list-wrap\"}),/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-4 screen-height-window\"},this.breadCrumbData&&this.breadCrumbData.length>0&&/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:this.breadCrumbData}),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12,className:\"parent-port-height sticky_head_parent\",ref:function ref(parentHeight){_this2.parentHeight=parentHeight;}},/*#__PURE__*/React.createElement(SplitterLayout,{borderColor:\"#999\",primaryIndex:1,percentage:true,secondaryInitialSize:30,customClassName:\"fixed_list_height\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(this.state.showModalBg?'show_modal_bg':'')},/*#__PURE__*/React.createElement(\"div\",{className:\"sticky_head\"},/*#__PURE__*/React.createElement(SearchAdd,{className:\"border fixed_ico_list title_grp_custom\"},/*#__PURE__*/React.createElement(\"h4\",null,this.props.intl.formatMessage({id:\"IDS_PROFILETREE\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"icon_group_right_aligned\"},/*#__PURE__*/React.createElement(AdvFilter,{filterComponent:[{\"IDS_SAMPLEFILTER\":/*#__PURE__*/React.createElement(SampleFilter,{sampleType:this.state.sampleType,treeVersionTemplate:this.state.treeVersionTemplate,productCategory:this.state.productCategory,product:this.state.product,onFilterComboChange:this.onFilterComboChange,tempFilterData:this.state.tempFilterData}),needActionStrip:false}],onFilterSubmit:this.onFilterSumbit,showModalBg:function showModalBg(e){return _this2.setState({showModalBg:e});}}),/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex product-category float-right icon-group-wrap\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue mr-1\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addTreeId)===-1,onClick:function onClick(){return _this2.props.createTree(_this2.state.filterData,_this2.props.Login.userInfo,selectedNode,addTreeId);},\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"}),\"data-for\":\"tooltip-list-wrap\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr0 mr-1\",name:\"edittestname\",hidden:this.state.userRoleControlRights.indexOf(editTreeId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),\"data-for\":\"tooltip-list-wrap\",onClick:function onClick(){return _this2.props.editTree(\"update\",selectedNode,_this2.props.Login.userInfo,editTreeId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"deleteLink\",hidden:this.state.userRoleControlRights.indexOf(deleteTreeId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),\"data-for\":\"tooltip-list-wrap\",className:\"btn btn-circle outline-grey \",onClick:function onClick(){return _this2.ConfirmDelete(_objectSpread({},deleteTree));}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey ml-1\",variant:\"link\",onClick:function onClick(){return _this2.reloadData();},\"data-for\":\"tooltip-list-wrap\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"})},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSync,style:{\"width\":\"0.6!important\"}})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"sticky_head_scroll_body\",style:{\"height\":this.state.parentHeight}},/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(FormTreeMenu,{data:AgaramTree,hasSearch:false,handleTreeClick:this.onTreeClick,initialOpenNodes:OpenNodes,focusKey:FocusKey||\"\",activeKey:ActiveKey||\"\"}),/*#__PURE__*/React.createElement(TransactionListMaster,{notSearchable:true,titleHead:this.props.intl.formatMessage({id:\"IDS_SPECIFICATION\"}),titleClasses:\"title_grp_custom fixed_ico_list\",masterList:TestGroupSpecification||[],selectedMaster:[SelectedSpecification],needMultiSelect:false,primaryKeyField:\"nallottedspeccode\",getMasterDetail:function getMasterDetail(spec){return _this2.props.getComponentBySpecId(_objectSpread(_objectSpread({},getComponent),{},{selectedRecord:spec,historyDataState:_this2.state.historyDataState}),_this2.props.Login.masterData,_this2.searchRef);},mainField:\"sspecname\",selectedListName:\"testgroupspecification\",objectName:\"testgroupspecification\",listName:\"IDS_SPECIFICATION\",onFilterSumbit:this.onFilterSumbit,subFields:this.specSubField,actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_EDIT\"}),controlname:\"faPencilAlt\",objectName:\"testgroupspecification\",hidden:this.state.userRoleControlRights.indexOf(editSpecId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.props.addSpecification(\"update\",_objectSpread(_objectSpread({},editSpecParam),props),editSpecId);}},{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),controlname:\"faTrashAlt\",objectName:\"testgroupspecification\",hidden:this.state.userRoleControlRights.indexOf(deleteSpecId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return confirmMessage.confirm(\"deleteMessage\",_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this2.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this2.props.intl.formatMessage({id:\"IDS_OK\"}),_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this2.deleteSpecRecord(_objectSpread(_objectSpread({props:props},specDeleteParam),{},{selectedRecord:SelectedSpecification,ncontrolCode:deleteSpecId}));});}}],needFilter:false,commonActions:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addSpecId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"}),\"data-for\":\"tooltip-list-wrap\",onClick:function onClick(){return _this2.props.addSpecification(\"create\",_objectSpread({},addSpecParam),addSpecId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus// title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\n}))),hideSearch:false,hidePaging:true}),SelectedSpecification&&SelectedSpecification.ncomponentrequired===transactionStatus.YES&&/*#__PURE__*/React.createElement(TransactionListMaster,{notSearchable:true,titleHead:this.props.intl.formatMessage({id:\"IDS_COMPONENT\"}),titleClasses:\"title_grp_custom fixed_ico_list\",masterList:TestGroupSpecSampleType||[],selectedMaster:[SelectedComponent],needMultiSelect:false,primaryKeyField:\"nspecsampletypecode\",getMasterDetail:function getMasterDetail(event){return _this2.componentRowClick(event);},mainField:\"scomponentname\",selectedListName:\"testgroupspecsampletype\",objectName:\"testgroupspecsampletype\",listName:\"IDS_COMPONENT\",actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),// data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\ncontrolname:\"faTrashAlt\",objectName:\"testgroupspecsampletype\",hidden:this.state.userRoleControlRights.indexOf(deleteComponentId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return confirmMessage.confirm(\"deleteMessage\",_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this2.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this2.props.intl.formatMessage({id:\"IDS_OK\"}),_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this2.deleteMultipleRecord({props:props,ncontrolCode:deleteComponentId});});}}],commonActions:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addComponentId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"}),\"data-for\":\"tooltip-list-wrap\"// title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\n,onClick:function onClick(){return _this2.props.addComponent(SelectedSpecification,_this2.props.Login.userInfo,addComponentId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus// title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} \n}))),hidePaging:true})))),/*#__PURE__*/React.createElement(SplitterLayout,{vertical:true,borderColor:\"#999\",primaryIndex:1,secondaryInitialSize:400,customClassName:\"fixed_list_height\"},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(PerfectScrollbar,null,this.componentBreadcrumbs&&this.componentBreadcrumbs.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"component_breadcrumbs\"},/*#__PURE__*/React.createElement(\"ul\",null,this.componentBreadcrumbs.map(function(item){return/*#__PURE__*/React.createElement(\"li\",null,item);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"card_group\"},/*#__PURE__*/React.createElement(ContentPanel,{hidden:!this.state.showTest},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(\"span\",{style:{display:\"inline-block\",marginTop:\"1%\"}},/*#__PURE__*/React.createElement(\"h4\",null,this.props.intl.formatMessage({id:\"IDS_TEST\"}))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",style:{float:\"right\"},onClick:function onClick(){return _this2.showSpecAndTestInfo();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}),\"  \",this.props.intl.formatMessage({id:\"IDS_SPECINFO\"}))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(TransactionListMaster,{masterList:searchedData||TestGroupTest||[],selectedMaster:[SelectedTest],primaryKeyField:\"ntestgrouptestcode\",getMasterDetail:this.props.getTestGroupDetails,inputParam:getTest,additionalParam:[],mainField:\"stestname\",selectedListName:\"SelectedTest\",objectName:\"testgrouptest\",listName:\"IDS_TEST\",showStatusLink:true,statusFieldName:\"stransdisplaystatus\",statusField:\"ntransactionstatus\",subFields:testSubFields,moreField:testMoreFields,needValidation:false,needFilter:false,filterColumnData:this.props.filterTransactionList,searchListName:\"searchedData\",searchRef:this.searchRef,filterParam:filterParam,handlePageChange:this.handlePageChange,skip:this.state.skip,take:this.state.take,pageSize:this.props.Login.settings&&this.props.Login.settings[13].split(\",\").map(function(setting){return parseInt(setting);}),actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_VIEW\"}),controlname:\"faCloudDownloadAlt\",objectName:\"selectedTest\",hidden:this.state.userRoleControlRights.indexOf(viewFileId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.viewTestFile(props);},needConditionalIcon:true,conditionalIconFunction:this.fileViewIcon},{title:this.props.intl.formatMessage({id:\"IDS_VIEW\"}),controlname:\"faExternalLinkAlt\",objectName:\"selectedTest\",hidden:this.state.userRoleControlRights.indexOf(viewFileId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.viewTestFile(props);},needConditionalIcon:true,conditionalIconFunction:this.linkViewIcon},{title:this.props.intl.formatMessage({id:\"IDS_EDIT\"}),controlname:\"faPencilAlt\",objectName:\"testgroupspecification\",hidden:this.state.userRoleControlRights.indexOf(editTestId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.props.editTestGroupTest(\"update\",props.SelectedTest[0],_this2.props.Login.userInfo,editTestId,SelectedSpecification);}},{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),controlname:\"faTrashAlt\",objectName:\"testgrouptest\",hidden:this.state.userRoleControlRights.indexOf(deleteTestId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return confirmMessage.confirm(\"deleteMessage\",_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this2.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this2.props.intl.formatMessage({id:\"IDS_OK\"}),_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this2.deleteTest({props:props,ncontrolCode:deleteTestId});});}}],commonActions:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addTestId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"}),onClick:function onClick(){return _this2.props.addTestGroupTest(SelectedComponent,_this2.props.Login.userInfo,addTestId,SelectedSpecification);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus,title:this.props.intl.formatMessage({id:\"IDS_ADD\"})})))}))),TestGroupTestParameter&&TestGroupTestParameter.length>0&&/*#__PURE__*/React.createElement(Card,{body:true},/*#__PURE__*/React.createElement(TestGroupTestTab,{masterData:this.props.Login.masterData,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,userRoleControlRights:this.state.userRoleControlRights,esignRights:this.props.Login.userRoleControlRights,screenName:this.props.Login.screenName,openChildModal:this.props.Login.openChildModal,operation:this.props.Login.operation,loadEsign:this.props.Login.loadEsign,testGroupInputData:this.props.Login.testGroupInputData,parameterData:this.props.Login.parameterData,selectedRecord:this.state.selectedRecord,screenData:this.props.Login.screenData,ncontrolCode:this.props.Login.ncontrolCode,controlMap:this.state.controlMap,testGroupCheckList:this.props.Login.testGroupCheckList,openTemplateModal:this.props.Login.openTemplateModal,editTestGroupTest:this.props.editTestGroupTest,updateStore:this.props.updateStore,crudMaster:this.props.crudMaster,getTestGroupParameter:this.props.getTestGroupParameter,editTestGroupParameter:this.props.editTestGroupParameter,addTestGroupCodedResult:this.props.addTestGroupCodedResult,validateEsignCredential:this.props.validateEsignCredential,filterColumnData:this.props.filterColumnData,viewTestGroupCheckList:this.props.viewTestGroupCheckList}))),/*#__PURE__*/React.createElement(ContentPanel,{hidden:this.state.showTest},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(\"span\",{style:{display:\"inline-block\",marginTop:\"1%\"}},/*#__PURE__*/React.createElement(\"h4\",null,this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONINFO\"}))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",style:{float:\"right\"},onClick:function onClick(){return _this2.showSpecAndTestInfo();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}),\"  \",this.props.intl.formatMessage({id:\"IDS_TEST\"}))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(SpecificationInfo,{controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,selectedSpecification:this.props.Login.masterData.SelectedSpecification,userInfo:this.props.Login.userInfo,selectedNode:this.props.Login.masterData.selectedNode,selectedRecord:this.state.filterData,approvalRoleActionDetail:this.props.Login.masterData.ApprovalRoleActionDetail,screenName:\"IDS_SPECIFICATIONINFO\",deleteRecord:this.deleteRecord,addSpecification:this.props.addSpecification//completeSpecification={this.completeSpecification}\n,completeSpecification:this.validateTestGroupComplete,approveSpecification:this.approveSpecification,specificationReport:this.specificationReport,retireSpec:this.retireSpec}))),/*#__PURE__*/React.createElement(Card,{body:true},/*#__PURE__*/React.createElement(CustomTab,{tabDetail:this.tabDetail(),onTabChange:this.onTabChange}))))))))))),this.props.Login.openModal&&this.props.Login.screenName&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,onSaveClick:this.onSaveClick,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.screenName===\"IDS_SPECFILE\"?this.findMandatoryFields(this.props.Login.screenName,this.state.selectedRecord):this.props.Login.screenName===\"IDS_SPECIFICATION\"?specMandatoryFields:this.props.Login.screenName===\"IDS_COMPONENT\"?compMandatoryFields:this.props.Login.screenName===\"IDS_EDITTESTGROUPTEST\"?editTestMandatoryFields:this.props.Login.screenName===\"IDS_TEST\"?addTestMandatoryFields:this.props.Login.screenName===\"IDS_PROFILETREE\"||this.props.Login.screenName===\"IDS_EDITTREE\"?this.props.Login.treeMandatoryFields:[],addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onEsignInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_SPECIFICATION\"?/*#__PURE__*/React.createElement(AddTestGroupSpecification,{selectedRecord:this.state.selectedRecord||{},timeZoneList:this.props.Login.timeZoneList,onInputOnChange:this.onInputOnChange,handleDateChange:this.handleDateChange,onComboChange:this.onComboChange,screenName:this.props.Login.screenName,operation:this.props.Login.operation,userInfo:this.props.Login.userInfo}):this.props.Login.screenName===\"IDS_COMPONENT\"?/*#__PURE__*/React.createElement(AddTestGroupTest,{selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.Login.testGroupInputData,screenName:this.props.Login.screenName,onComboChange:this.onComboChange,onFilterComboChange:this.onFilterComboChange}):this.props.Login.screenName===\"IDS_PROFILETREE\"?/*#__PURE__*/React.createElement(AddProfileTree,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,treetempTranstestGroup:this.props.Login.TreetempTranstestGroup}):this.props.Login.screenName===\"IDS_SPECFILE\"?/*#__PURE__*/React.createElement(AddFile,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,actionType:this.state.actionType,onDrop:this.onDropSpecFile,deleteAttachment:this.deleteAttachment,linkMaster:this.props.Login.linkMaster,editFiles:this.props.Login.editFiles,maxSize:20,maxFiles:this.props.Login.operation===\"update\"?1:3,multiple:this.props.Login.operation===\"update\"?false:true,label:this.props.intl.formatMessage({id:\"IDS_SPECFILE\"}),hideDefaultToggle:true,name:\"specfilename\"}):this.props.Login.screenName===\"IDS_EDITTREE\"?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormInput,{name:\"sleveldescription\",label:this.state.selectedRecord.slabelname,type:\"text\",onChange:function onChange(event){return _this2.onInputOnChange(event,1);},placeholder:this.state.selectedRecord.slabelname,value:this.state.selectedRecord?this.state.selectedRecord[\"sleveldescription\"]:\"\",isMandatory:\"*\",required:true,maxLength:100}))):this.props.Login.screenName===\"IDS_TEST\"?/*#__PURE__*/React.createElement(AddTestGroupTest,{selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.Login.testGroupInputData,screenName:this.props.Login.screenName,onComboChange:this.onComboChange,onFilterComboChange:this.onFilterComboChange}):this.props.Login.screenName===\"IDS_EDITTESTGROUPTEST\"?/*#__PURE__*/React.createElement(EditTestGroupTest,{selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.Login.testGroupInputData,onComboChange:this.onComboChange,onInputOnChange:this.onInputOnChange,onNumericInputChange:this.onNumericInputChange}):\"\"}));}},{key:\"findMandatoryFields\",value:function findMandatoryFields(screenName,selectedRecord){var mandyFields=[];if(screenName===\"IDS_SPECFILE\"){if(selectedRecord&&selectedRecord.nattachmenttypecode===attachmentType.LINK){mandyFields=[{\"idsName\":\"IDS_FILENAME\",\"dataField\":\"slinkfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"},{\"idsName\":\"IDS_LINKNAME\",\"dataField\":\"nlinkcode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];}else{//if (this.props.Login.operation === 'update') {\nmandyFields=[{\"idsName\":\"IDS_FILE\",\"dataField\":\"sfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"}];// }\n}}else{return[];}var finalMandyFields=[];mandyFields.forEach(function(item){return item.mandatory===true&&finalMandyFields.push(item);});return finalMandyFields;}},{key:\"showSpecAndTestInfo\",value:function showSpecAndTestInfo(){this.setState({showTest:!this.state.showTest});}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(filterData){if(filterData&&Object.values(filterData).length>0&&filterData.nsampletypecode&&filterData.nsampletypecode.item){this.breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":filterData.nsampletypecode?filterData.nsampletypecode.label:\"\"},{\"label\":filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY?\"IDS_PRODUCTCATEGORY\":filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY?\"IDS_INSTRUMENTCATEGORY\":filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY?\"IDS_MATERIALCATEGORY\":\"\",\"value\":filterData.nproductcatcode?filterData.nproductcatcode.label:\"\"},{\"label\":filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY?\"IDS_PRODUCT\":filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY?\"IDS_INSTRUMENT\":filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY?\"IDS_MATERIAL\":\"\",\"value\":filterData.nproductcode?filterData.nproductcode.label:\"\"},{\"label\":\"IDS_TREETEMPLATEVERSION\",\"value\":filterData.ntreeversiontempcode?filterData.ntreeversiontempcode.label:\"\"}];}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps,previousState){var selectedRecord=this.state.selectedRecord;var filterData=this.state.filterData||{};var isStateChanged=false;var tempFilterData=this.state.tempFilterData||{};if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;isStateChanged=true;}if(this.props.Login.tempFilterData!==previousProps.Login.tempFilterData){tempFilterData=this.props.Login.tempFilterData||{};isStateChanged=true;}var sampleType=this.state.sampleType||[];if(this.props.Login.masterData.SampleType!==previousProps.Login.masterData.SampleType){var sampleTypeMap=constructOptionList(this.props.Login.masterData.SampleType||[],\"nsampletypecode\",\"ssampletypename\",\"nsampletypecode\",\"ascending\",false);sampleType=sampleTypeMap.get(\"OptionList\");tempFilterData[\"nsampletypecode\"]=sampleType.length?sampleType[sampleType.length-1]:\"\";isStateChanged=true;}var productCategory=this.state.productCategory||[];if(this.props.Login.masterData.ProductCategory!==previousProps.Login.masterData.ProductCategory){var productCatMap=constructOptionList(this.props.Login.masterData.ProductCategory||[],\"nproductcatcode\",\"sproductcatname\",\"nproductcatcode\",\"ascending\",false);productCategory=productCatMap.get(\"OptionList\");tempFilterData[\"nproductcatcode\"]=productCategory.length>0?productCategory[0]:\"\";isStateChanged=true;}var product=this.state.product||[];if(this.props.Login.masterData.Product!==previousProps.Login.masterData.Product){var productMap=constructOptionList(this.props.Login.masterData.Product||[],\"nproductcode\",\"sproductname\",\"nproductcode\",\"ascending\",false);product=productMap.get(\"OptionList\");tempFilterData[\"nproductcode\"]=product.length>0?product[0]:undefined;isStateChanged=true;}var treeVersionTemplate=this.state.treeVersionTemplate||[];if(this.props.Login.masterData.TreeVersionTemplate!==previousProps.Login.masterData.TreeVersionTemplate){var templateMap=constructOptionList(this.props.Login.masterData.TreeVersionTemplate||[],\"ntreeversiontempcode\",\"sversiondescription\",\"ntreeversiontempcode\",\"ascending\",false);treeVersionTemplate=templateMap.get(\"OptionList\");tempFilterData[\"ntreeversiontempcode\"]=treeVersionTemplate.length>0?treeVersionTemplate[treeVersionTemplate.length-1]:\"\";isStateChanged=true;}// if (this.props.Login.masterData.TestGroupTestParameter && this.props.Login.masterData.TestGroupTestParameter !== previousProps.Login.masterData.TestGroupTestParameter) {\n//     sortData(this.props.Login.masterData.TestGroupTestParameter, \"ascending\", \"nsorter\");\n// }\n// if (this.props.Login.masterData.TestGroupTesT && this.props.Login.masterData.TestGroupTesT !== previousProps.Login.masterData.TestGroupTesT) {\n//     sortData(this.props.Login.masterData.TestGroupTesTest, \"ascending\", \"nsorter\");\n// }\nvar userRoleControlRights=this.state.userRoleControlRights||[];var controlMap=this.state.controlMap||[];if(this.props.Login.userInfo&&this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var nformCode=this.props.Login.userInfo.nformcode;if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[nformCode]&&Object.values(this.props.Login.userRoleControlRights[nformCode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,nformCode);filterData=_objectSpread({},tempFilterData);this.generateBreadCrumData(filterData);}if(this.props.Login.filterData!==previousProps.Login.filterData){filterData=_objectSpread({},this.props.Login.filterData);this.generateBreadCrumData(filterData);isStateChanged=true;}// else if (filterData !== previousState.filterData) {\n//     filterData = { ...tempFilterData };\n//     this.generateBreadCrumData(filterData);\n// }\nvar historyDataState=this.state.historyDataState;if(this.props.Login.historyDataState&&this.props.Login.historyDataState!==previousProps.Login.historyDataState){historyDataState=this.props.Login.historyDataState;isStateChanged=true;}if(isStateChanged){this.setState({selectedRecord:selectedRecord,tempFilterData:tempFilterData,filterData:filterData,userRoleControlRights:userRoleControlRights,controlMap:controlMap,sampleType:sampleType,productCategory:productCategory,product:product,treeVersionTemplate:treeVersionTemplate,historyDataState:historyDataState});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return TestGroup;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,filterTestGroup:filterTestGroup,createTree:createTree,editTree:editTree,sampleTypeOnChange:sampleTypeOnChange,getTestGroupDetails:getTestGroupDetails,validateEsignCredential:validateEsignCredential,updateStore:updateStore,addSpecification:addSpecification,getSpecification:getSpecification,addComponent:addComponent,changeTestCategory:changeTestCategory,addTestGroupTest:addTestGroupTest,editTestGroupTest:editTestGroupTest,getTestGroupParameter:getTestGroupParameter,editTestGroupParameter:editTestGroupParameter,addTestFile:addTestFile,editSpecFile:editSpecFile,getSpecificationDetails:getSpecificationDetails,addTestGroupCodedResult:addTestGroupCodedResult,getComponentBySpecId:getComponentBySpecId,filterColumnData:filterColumnData,viewAttachment:viewAttachment,viewTestGroupCheckList:viewTestGroupCheckList,getTestGroupComponentDetails:getTestGroupComponentDetails,filterTransactionList:filterTransactionList,reportSpecification:reportSpecification,retireSpecification:retireSpecification})(injectIntl(TestGroup));","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/pages/testgroup/TestGroup.jsx"],"names":["React","Component","connect","injectIntl","rsapi","toast","Row","Col","Card","Button","Nav","PerfectScrollbar","FontAwesomeIcon","faPencilAlt","faPlus","faSync","SplitterLayout","faEye","faTrashAlt","process","SlideOutModal","Esign","callService","crudMaster","filterTestGroup","createTree","editTree","getTestGroupDetails","sampleTypeOnChange","validateEsignCredential","updateStore","addSpecification","getSpecification","addComponent","changeTestCategory","addTestGroupTest","editTestGroupTest","getTestGroupParameter","editTestGroupParameter","addTestFile","editSpecFile","getSpecificationDetails","addTestGroupCodedResult","getComponentBySpecId","filterColumnData","viewAttachment","viewTestGroupCheckList","getTestGroupComponentDetails","filterTransactionList","reportSpecification","retireSpecification","constructOptionList","formatInputDate","create_UUID","deleteAttachmentDropZone","filterRecordBasedOnTwoArrays","getControlMap","onDropAttachFileList","showEsign","sortData","TestGroupTestTab","AddTestGroupSpecification","DEFAULT_RETURN","transactionStatus","REPORTTYPE","attachmentType","formCode","designProperties","AddTestGroupTest","AddProfileTree","SampleFilter","AddFile","AdvFilter","SpecificationHistory","TestGroupSpecFile","SpecificationInfo","CustomTab","TransactionListMaster","FormTreeMenu","FormInput","ConfirmMessage","BreadcrumbComponent","testMoreFields","testSubFields","searchFieldList","specificationColumnList","componentColumnList","addTestColumnList","editTestColumnList","EditTestGroupTest","ContentPanel","SearchAdd","ListWrapper","ProductList","ReactTooltip","TestGroup","props","reloadData","filterData","Login","state","nsampletypecode","undefined","warn","intl","formatMessage","id","nproductcatcode","item","nformcode","PRODUCTCATEGORY","INSTRUMENTCATEGORY","MATERIALCATEGORY","nproductcode","ntreeversiontempcode","inputParam","inputData","userinfo","userInfo","historyDataState","masterData","searchRef","ConfirmDelete","obj","confirmMessage","confirm","deleteRecord","handlePageChange","event","setState","skip","take","viewTestFile","viewParam","operation","methodUrl","classUrl","ntestgroupfilecode","selectedTest","testgroupspecification","SelectedSpecification","fileViewIcon","master","nlinkcode","NA","linkViewIcon","onFilterSumbit","tempFilterData","value","onTreeClick","screenName","keyName","selectedRecord","activeKey","key","focusKey","primaryKey","tabDetail","tabMap","Map","set","controlMap","userRoleControlRights","addFile","defaultRecord","settings","TestGroupSpecificationHistory","historyDataStateChange","dataResult","dataState","ncontrolCode","modalName","napprovalstatus","DRAFT","CORRECTION","onTabChange","tabProps","updateInfo","typeName","data","componentRowClick","testgroupspecsampletype","deleteTest","deleteParam","testgrouptest","treetemplatemanipulation","selectedNode","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","ntestgrouptestcode","fetchUrl","fecthInputObject","unchangeList","loadEsign","screenData","openModal","closeModal","onInputOnChange","caseNo","optional","target","type","name","checked","indexKey","Object","keys","values","treeData","npositioncode","nlevelno","sleveldescription","ntemptranstestgroupcode","schildnode","nnextchildcode","ntemplatemanipulationcode","isreadonly","slevelformat","onEsignInputOnChange","YES","NO","onFilterComboChange","comboData","fieldName","sampletype","productcategory","product","TestGroupSpecSampleType","testGroupInputData","testGroupSpecSampleType","SelectedComponent","testcategory","nallottedspeccode","handleDateChange","dateName","dateValue","Date","onNumericInputChange","onSaveClick","saveType","formRef","onSaveTree","onSaveSpecification","onSaveComponent","onSaveCopySpecification","onSaveTest","onSaveSpecFile","testArray","ntestcode","map","test","SelectedTest","changeList","isSingleSelect","testgrouptestfile","testGroupFile","ntestfilecode","nattachmenttypecode","sdescription","ssystemfilename","dcreateddate","nfilesize","sfilename","nstatus","ACTIVE","nsectioncode","nsourcecode","nmethodcode","ninstrumentcatcode","stestsynonym","ncost","nsorter","nspecsampletypecode","ActiveKey","TreetempTranstestGroup","tempArray","push","treeTemplateManip","filter","temp","length","testGroupSpec","napproveconfversioncode","sversion","ntransactionstatus","ncomponentrequired","nprojectcode","sspecname","dexpirydate","ntzexpirydate","stzexpirydate","label","selectedspecification","ncomponentcode","acceptedFiles","isFileEdited","specFileArray","selectedSpecification","specFile","nspecfilecode","formData","FormData","FTP","Array","isArray","forEach","file","index","tempData","assign","splittedFileName","split","fileExtension","uniquefilename","trim","size","append","slinkfilename","slinkdescription","JSON","stringify","isFileupload","deleteSpecRecord","componentDataState","deleteMultipleRecord","onDropSpecFile","attachedFiles","maxSize","actionType","deleteAttachment","validateTestGroupComplete","inputValue","post","then","response","inactiveTestArray","indexOf","stestname","completeSpecification","catch","error","status","message","retireSpec","approvalRoleActionDetail","retireSpecId","RETIRED","specificationReport","sprimarykeyname","ncontrolcode","nregtypecode","nregsubtypecode","nreportmodulecode","nreporttypecode","CONTROLBASED","nreportdecisiontypecode","certificatetypecode","selectedComponent","approveSpecification","needEsign","onComboChange","schecklistversionname","validateEsign","sreason","password","parseInt","showTest","componentBreadcrumbs","breadCrumbData","createRef","specSubField","VALUE","COLOUR","parentHeight","height","clientHeight","TestGroupSpecification","AgaramTree","OpenNodes","FocusKey","TestGroupTest","searchedData","TestGroupTestParameter","testGroupTestData","getComponent","addSpecParam","editSpecParam","specDeleteParam","addSpecId","has","get","addTreeId","editTreeId","deleteTreeId","editSpecId","deleteSpecId","addComponentId","deleteComponentId","addTestId","deleteTestId","editTestId","viewFileId","deleteTree","getTest","filterParam","specMandatoryFields","compMandatoryFields","editTestMandatoryFields","addTestMandatoryFields","mandatory","splitNode","treeNodeNames","nodeItem","TreeTemplateManipulation","treeItem","scomponentname","showModalBg","sampleType","treeVersionTemplate","productCategory","needActionStrip","e","spec","title","controlname","objectName","hidden","onClick","display","marginTop","float","showSpecAndTestInfo","setting","needConditionalIcon","conditionalIconFunction","openChildModal","parameterData","testGroupCheckList","openTemplateModal","ApprovalRoleActionDetail","findMandatoryFields","treeMandatoryFields","timeZoneList","linkMaster","editFiles","slabelname","mandyFields","LINK","finalMandyFields","previousProps","previousState","isStateChanged","SampleType","sampleTypeMap","ProductCategory","productCatMap","Product","productMap","TreeVersionTemplate","templateMap","nformCode","generateBreadCrumData","masterStatus","errorCode","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport rsapi from '../../rsapi';\r\nimport { toast } from 'react-toastify';\r\nimport { Row, Col, Card, Button, Nav } from 'react-bootstrap';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faPlus, faSync } from '@fortawesome/free-solid-svg-icons';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport { faEye, faTrashAlt } from '@fortawesome/free-regular-svg-icons';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport { process } from '@progress/kendo-data-query';\r\n\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../audittrail/Esign';\r\nimport {\r\n    callService, crudMaster, filterTestGroup, createTree, editTree, getTestGroupDetails, sampleTypeOnChange,\r\n    validateEsignCredential, updateStore, addSpecification, getSpecification, addComponent, changeTestCategory,\r\n    addTestGroupTest, editTestGroupTest, getTestGroupParameter, editTestGroupParameter, addTestFile,\r\n    editSpecFile, getSpecificationDetails, addTestGroupCodedResult, getComponentBySpecId, filterColumnData,\r\n    viewAttachment, viewTestGroupCheckList, getTestGroupComponentDetails, filterTransactionList, reportSpecification, retireSpecification\r\n} from '../../actions'\r\nimport { constructOptionList, formatInputDate, create_UUID, deleteAttachmentDropZone, filterRecordBasedOnTwoArrays, getControlMap, onDropAttachFileList, showEsign, sortData } from '../../components/CommonScript';\r\nimport TestGroupTestTab from './TestGroupTestTab';\r\nimport AddTestGroupSpecification from './AddTestGroupSpecification';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { transactionStatus, REPORTTYPE, attachmentType, formCode, designProperties } from '../../components/Enumeration';\r\nimport AddTestGroupTest from './AddTestGroupTest';\r\nimport AddProfileTree from './AddProfileTree';\r\nimport SampleFilter from './SampleFilter';\r\nimport AddFile from '../testmanagement/AddFile';\r\nimport AdvFilter from '../../components/AdvFilter';\r\nimport SpecificationHistory from './SpecificationHistory';\r\nimport TestGroupSpecFile from './TestGroupSpecFile';\r\nimport SpecificationInfo from './SpecificationInfo';\r\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component';\r\nimport TransactionListMaster from '../../components/TransactionListMaster';\r\nimport FormTreeMenu from '../../components/form-tree-menu/form-tree-menu.component';\r\n// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\r\nimport FormInput from '../../components/form-input/form-input.component';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\n\r\nimport {\r\n    testMoreFields, testSubFields, searchFieldList, specificationColumnList, componentColumnList,\r\n    addTestColumnList, editTestColumnList\r\n} from './TestGroupFields';\r\nimport EditTestGroupTest from './EditTestGroupTest';\r\nimport { ContentPanel, SearchAdd } from '../../components/App.styles';\r\nimport '../../pages/registration/registration.css';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { ProductList } from '../product/product.styled';\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\n\r\n\r\nclass TestGroup extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const componentDataState = { skip: 0, take: 10 };\r\n        const historyDataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n        this.state = {\r\n            selectedRecord: {},\r\n            filterData: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            componentDataState,\r\n            historyDataState,\r\n            tempFilterData: {},\r\n            showTest: false,\r\n            skip: 0,\r\n            take: this.props.Login.settings ? this.props.Login.settings[12] : 5\r\n        }\r\n        this.componentBreadcrumbs = [];\r\n        this.breadCrumbData = [];\r\n        this.searchRef = React.createRef();\r\n        this.specSubField = [{ [designProperties.VALUE]: \"stransdisplaystatus\" },\r\n        { [designProperties.VALUE]: \"sapprovalstatus\", [designProperties.COLOUR]: true }];\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    reloadData = () => {\r\n\r\n        const filterData = this.props.Login.filterData || this.state.filterData;\r\n        if (filterData.nsampletypecode === undefined) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SAMPLETYPENOTAVAILABLE\" }));\r\n        }\r\n        else if (filterData.nproductcatcode === \"\") {\r\n            if (filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORYNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_CATEGORYNOTAVAILABLE\" }));\r\n            }\r\n        }\r\n        else if (filterData.nproductcode === \"\" || filterData.nproductcode === undefined) {\r\n            if (filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            }\r\n        } else if (filterData.ntreeversiontempcode === \"\") {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\" }));\r\n        }\r\n        else {\r\n            const inputParam = {\r\n                inputData: {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nsampletypecode: filterData.nsampletypecode.item[\"nsampletypecode\"],\r\n                    nproductcatcode: filterData.nproductcatcode.item[\"nproductcatcode\"],\r\n                    nproductcode: filterData.nproductcode.item[\"nproductcode\"],\r\n                    ntreeversiontempcode: filterData.ntreeversiontempcode.item[\"ntreeversiontempcode\"],\r\n                    filterData,//: { ...this.props.Login.filterData }\r\n                },\r\n                historyDataState:this.state.historyDataState\r\n\r\n            }\r\n            this.props.filterTestGroup(inputParam, this.props.Login.masterData, this.searchRef);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { TestGroupSpecification, SelectedSpecification, SelectedTest, AgaramTree, OpenNodes, selectedNode, FocusKey,\r\n            ActiveKey, SelectedComponent, TestGroupTest, TestGroupSpecSampleType, searchedData,\r\n            TestGroupTestParameter } = this.props.Login.masterData;\r\n        // const deleteTree = {\r\n        //     methodUrl: \"Tree\", operation: \"delete\", inputParam: this.props.Login.inputParam,\r\n        //     userInfo: this.props.Login.userInfo, screenName: \"IDS_TREE\"\r\n        // };\r\n\r\n        const testGroupTestData = searchedData || TestGroupTest || []\r\n\r\n        if (TestGroupTestParameter) {\r\n            sortData(TestGroupTestParameter, \"ascending\", \"nsorter\");\r\n        }\r\n\r\n        if (testGroupTestData) {\r\n            sortData(testGroupTestData, \"ascending\", \"nsorter\");\r\n        }\r\n\r\n        const getComponent = {\r\n            screenName: \"IDS_COMPONENT\", operation: \"get\", inputParam: this.props.Login.inputParam,\r\n            userInfo: this.props.Login.userInfo, methodUrl: \"TestGroupComponent\", keyName: \"testgroupspecification\"\r\n        };\r\n        const addSpecParam = { testgroupspecification: SelectedSpecification, selectedRecord: this.state.filterData, userInfo: this.props.Login.userInfo, selectedNode };\r\n        const editSpecParam = { selectedRecord: this.state.filterData, userinfo: this.props.Login.userInfo, selectedNode };\r\n        const specDeleteParam = { operation: \"delete\", methodUrl: \"Specification\", screenName: \"IDS_SPECIFICATION\", keyName: \"testgroupspecification\" };\r\n        const addSpecId = this.state.controlMap.has(\"AddSpecification\") && this.state.controlMap.get(\"AddSpecification\").ncontrolcode;\r\n        const addTreeId = this.state.controlMap.has(\"AddTree\") && this.state.controlMap.get(\"AddTree\").ncontrolcode;\r\n        const editTreeId = this.state.controlMap.has(\"EditTree\") && this.state.controlMap.get(\"EditTree\").ncontrolcode;\r\n        const deleteTreeId = this.state.controlMap.has(\"DeleteTree\") && this.state.controlMap.get(\"DeleteTree\").ncontrolcode;\r\n        const editSpecId = this.state.controlMap.has(\"EditSpecification\") && this.state.controlMap.get(\"EditSpecification\").ncontrolcode;\r\n        const deleteSpecId = this.state.controlMap.has(\"DeleteSpecification\") && this.state.controlMap.get(\"DeleteSpecification\").ncontrolcode;\r\n        const addComponentId = this.state.controlMap.has(\"AddComponent\") && this.state.controlMap.get(\"AddComponent\").ncontrolcode;\r\n        const deleteComponentId = this.state.controlMap.has(\"DeleteComponent\") && this.state.controlMap.get(\"DeleteComponent\").ncontrolcode;\r\n        const addTestId = this.state.controlMap.has(\"AddTest\") && this.state.controlMap.get(\"AddTest\").ncontrolcode;\r\n        const deleteTestId = this.state.controlMap.has(\"DeleteTest\") && this.state.controlMap.get(\"DeleteTest\").ncontrolcode;\r\n        const editTestId = this.state.controlMap.has(\"EditTest\") && this.state.controlMap.get(\"EditTest\").ncontrolcode;\r\n        const viewFileId = this.state.controlMap.has(\"ViewTestFile\") && this.state.controlMap.get(\"ViewTestFile\").ncontrolcode;\r\n        const confirmMessage = new ConfirmMessage();\r\n\r\n        const deleteTree = {\r\n            methodUrl: \"Tree\", operation: \"delete\", inputParam: this.props.Login.inputParam,\r\n            userInfo: this.props.Login.userInfo, screenName: \"IDS_TREE\", ncontrolCode: deleteTreeId\r\n        };\r\n\r\n        const getTest = {\r\n            screenName: \"IDS_TEST\", operation: \"get\", masterData: this.props.Login.masterData,\r\n            userInfo: this.props.Login.userInfo, methodUrl: \"TestGroupTest\", keyName: \"ntestgrouptestcode\"\r\n        };\r\n        const filterParam = {\r\n            inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n            fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.Login.userInfo }, masterData: this.props.Login.masterData,\r\n            searchFieldList, changeList: [\"TestGroupTestFormula\", \"TestGroupTestNumericParameter\",\r\n                \"TestGroupTestPredefinedParameter\", \"TestGroupTestCharParameter\", \"TestGroupTestParameter\"], isSingleSelect: true\r\n        };\r\n        const specMandatoryFields = [];\r\n        const compMandatoryFields = [];\r\n        const editTestMandatoryFields = [];\r\n        const addTestMandatoryFields = [];\r\n        specificationColumnList.forEach(item => item.mandatory === true ?\r\n            specMandatoryFields.push(item) : \"\"\r\n        );\r\n        componentColumnList.forEach(item => item.mandatory === true ?\r\n            compMandatoryFields.push(item) : \"\"\r\n        );\r\n        editTestColumnList.forEach(item => item.mandatory === true ?\r\n            editTestMandatoryFields.push(item) : \"\"\r\n        );\r\n        addTestColumnList.forEach(item => item.mandatory === true ?\r\n            addTestMandatoryFields.push(item) : \"\"\r\n        );\r\n\r\n        if (this.props.Login.masterData && Object.values(this.props.Login.masterData).length > 0) {\r\n            if (selectedNode && selectedNode.sleveldescription) {\r\n                // this.componentBreadcrumbs[0] = this.props.intl.formatMessage({ id: \"IDS_PROFILETREE\" }) + \": \" + selectedNode.sleveldescription;\r\n                const splitNode = this.props.Login.masterData.ActiveKey.split('/');\r\n                let treeNodeNames = [];\r\n                splitNode.forEach(nodeItem => {\r\n                    this.props.Login.masterData.TreeTemplateManipulation.forEach(treeItem => {\r\n                        if (treeItem.ntemplatemanipulationcode === parseInt(nodeItem))\r\n                            treeNodeNames.push(treeItem.sleveldescription);\r\n                    })\r\n                })\r\n                // this.componentBreadcrumbs[0] = treeNodeNames;\r\n                this.componentBreadcrumbs = treeNodeNames;\r\n                if (SelectedSpecification && SelectedSpecification !== null && SelectedSpecification.sspecname) {\r\n                    // this.componentBreadcrumbs[1] = this.props.intl.formatMessage({ id: \"IDS_SPECIFICATION\" }) + \": \" + SelectedSpecification.sspecname;\r\n                    this.componentBreadcrumbs.push(SelectedSpecification.sspecname);\r\n                    if (SelectedComponent && SelectedComponent !== null && SelectedComponent.ncomponentcode !== -1) {\r\n                        // this.componentBreadcrumbs[2] = this.props.intl.formatMessage({ id: \"IDS_COMPONENT\" }) + \": \" + SelectedComponent.scomponentname;\r\n                        this.componentBreadcrumbs.push(SelectedComponent.scomponentname);\r\n                    } else {\r\n                        // delete this.componentBreadcrumbs[2];\r\n                    }\r\n                } else {\r\n                    // delete this.componentBreadcrumbs[1];\r\n                }\r\n            } else {\r\n                this.componentBreadcrumbs = [];\r\n                // delete this.componentBreadcrumbs[0];\r\n            }\r\n        }\r\n\r\n        this.confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip-list-wrap\" />\r\n                {/* screen-height-window active_seperator */}\r\n                <ListWrapper className=\"client-listing-wrap mtop-4 screen-height-window\">\r\n                    {this.breadCrumbData && this.breadCrumbData.length > 0 &&\r\n                        <BreadcrumbComponent\r\n                            breadCrumbItem={this.breadCrumbData}\r\n                        />}\r\n                    <Row noGutters>\r\n                        <Col md={12} className=\"parent-port-height sticky_head_parent\" ref={(parentHeight) => { this.parentHeight = parentHeight }}>\r\n                            <SplitterLayout\r\n                                borderColor=\"#999\"\r\n                                primaryIndex={1}\r\n                                percentage={true}\r\n                                secondaryInitialSize={30}\r\n                                customClassName=\"fixed_list_height\"\r\n                            >\r\n                                <div className={`${this.state.showModalBg ? 'show_modal_bg' : ''}`}>\r\n                                    <div className=\"sticky_head\">\r\n                                        <SearchAdd className=\"border fixed_ico_list title_grp_custom\">\r\n                                            <h4>{this.props.intl.formatMessage({ id: \"IDS_PROFILETREE\" })}</h4>\r\n                                            <div className=\"icon_group_right_aligned\">\r\n                                                <AdvFilter\r\n                                                    filterComponent={[{\r\n                                                        \"IDS_SAMPLEFILTER\":\r\n                                                            <SampleFilter\r\n                                                                sampleType={this.state.sampleType}\r\n                                                                treeVersionTemplate={this.state.treeVersionTemplate}\r\n                                                                productCategory={this.state.productCategory}\r\n                                                                product={this.state.product}\r\n                                                                onFilterComboChange={this.onFilterComboChange}\r\n                                                                tempFilterData={this.state.tempFilterData}\r\n                                                            >\r\n                                                            </SampleFilter>,\r\n                                                        needActionStrip: false\r\n                                                    }]}\r\n                                                    onFilterSubmit={this.onFilterSumbit}\r\n                                                    showModalBg={(e) => this.setState({ showModalBg: e })}\r\n                                                />\r\n\r\n                                                <ProductList className=\"d-flex product-category float-right icon-group-wrap\">\r\n                                                    {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                    <Button className=\"btn btn-icon-rounded btn-circle solid-blue mr-1\" role=\"button\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(addTreeId) === -1}\r\n                                                        onClick={() => this.props.createTree(this.state.filterData, this.props.Login.userInfo, selectedNode, addTreeId)}\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                        data-for=\"tooltip-list-wrap\"\r\n                                                    >\r\n                                                        <FontAwesomeIcon icon={faPlus} />\r\n                                                    </Button>\r\n\r\n                                                    <Nav.Link className=\"btn btn-circle outline-grey mr0 mr-1\" name=\"edittestname\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(editTreeId) === -1}\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                        data-for=\"tooltip-list-wrap\"\r\n                                                        onClick={() => this.props.editTree(\"update\", selectedNode, this.props.Login.userInfo, editTreeId)}>\r\n                                                        <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                    </Nav.Link>\r\n                                                    <Nav.Link name=\"deleteLink\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(deleteTreeId) === -1}\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                        data-for=\"tooltip-list-wrap\"\r\n                                                        className=\"btn btn-circle outline-grey \"\r\n                                                        onClick={() => this.ConfirmDelete({ ...deleteTree })}>\r\n                                                        <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                        {/* <ConfirmDialog\r\n                                                            name=\"deleteMessage\"\r\n                                                            message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                            doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                            doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                            icon={faTrashAlt}\r\n                                                            title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(deleteTreeId) === -1}\r\n                                                            handleClickDelete={() => this.deleteRecord({ ...deleteTree })}\r\n                                                        /> */}\r\n                                                    </Nav.Link>\r\n                                                    <Button className=\"btn btn-circle outline-grey ml-1\" variant=\"link\"\r\n                                                        onClick={() => this.reloadData()} data-for=\"tooltip-list-wrap\"\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                        <FontAwesomeIcon icon={faSync} style={{ \"width\": \"0.6!important\" }} />\r\n                                                    </Button>\r\n                                                    {/* </Tooltip> */}\r\n                                                </ProductList>\r\n\r\n                                            </div>\r\n                                        </SearchAdd>\r\n                                    </div>\r\n                                    <div className=\"sticky_head_scroll_body\" style={{ \"height\": this.state.parentHeight }}>\r\n                                        <PerfectScrollbar>\r\n                                            <FormTreeMenu\r\n                                                data={AgaramTree}\r\n                                                hasSearch={false}\r\n                                                handleTreeClick={this.onTreeClick}\r\n                                                initialOpenNodes={OpenNodes}\r\n                                                focusKey={FocusKey || \"\"}\r\n                                                activeKey={ActiveKey || \"\"}\r\n                                            />\r\n                                            <TransactionListMaster\r\n                                                notSearchable={true}\r\n                                                titleHead={this.props.intl.formatMessage({ id: \"IDS_SPECIFICATION\" })}\r\n                                                titleClasses=\"title_grp_custom fixed_ico_list\"\r\n                                                masterList={TestGroupSpecification || []}\r\n                                                selectedMaster={[SelectedSpecification]}\r\n                                                needMultiSelect={false}\r\n                                                primaryKeyField=\"nallottedspeccode\"\r\n                                                getMasterDetail={(spec) => this.props.getComponentBySpecId({ ...getComponent, selectedRecord: spec, historyDataState:this.state.historyDataState }, this.props.Login.masterData, this.searchRef)}\r\n                                                mainField=\"sspecname\"\r\n                                                selectedListName=\"testgroupspecification\"\r\n                                                objectName=\"testgroupspecification\"\r\n                                                listName=\"IDS_SPECIFICATION\"\r\n                                                onFilterSumbit={this.onFilterSumbit}\r\n                                                subFields={this.specSubField}\r\n                                                actionIcons={\r\n                                                    [\r\n                                                        {\r\n                                                            title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                            controlname: \"faPencilAlt\",\r\n                                                            objectName: \"testgroupspecification\",\r\n                                                            hidden: this.state.userRoleControlRights.indexOf(editSpecId) === -1,\r\n                                                            inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                            onClick: (props) => this.props.addSpecification(\"update\", { ...editSpecParam, ...props }, editSpecId)\r\n                                                        },\r\n                                                        {\r\n                                                            title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                            controlname: \"faTrashAlt\",\r\n                                                            objectName: \"testgroupspecification\",\r\n                                                            hidden: this.state.userRoleControlRights.indexOf(deleteSpecId) === -1,\r\n                                                            inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                            onClick: (props) => confirmMessage.confirm(\r\n                                                                \"deleteMessage\",\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                                                () => this.deleteSpecRecord({ props, ...specDeleteParam, selectedRecord: SelectedSpecification, ncontrolCode: deleteSpecId })\r\n                                                            )\r\n                                                        }\r\n                                                    ]\r\n                                                }\r\n                                                needFilter={false}\r\n                                                commonActions={\r\n                                                    <>\r\n                                                        {/* <ReactTooltip place=\"bottom\" /> */}\r\n                                                        <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(addSpecId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                            data-for=\"tooltip-list-wrap\"\r\n                                                            onClick={() => this.props.addSpecification(\"create\", { ...addSpecParam }, addSpecId)}>\r\n                                                            <FontAwesomeIcon icon={faPlus}\r\n                                                            // title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                            />\r\n                                                        </Button>\r\n                                                    </>\r\n                                                }\r\n                                                hideSearch={false}\r\n                                                hidePaging={true}\r\n                                            />\r\n                                            {SelectedSpecification && SelectedSpecification.ncomponentrequired === transactionStatus.YES &&\r\n                                                <TransactionListMaster\r\n                                                    notSearchable={true}\r\n                                                    titleHead={this.props.intl.formatMessage({ id: \"IDS_COMPONENT\" })}\r\n                                                    titleClasses=\"title_grp_custom fixed_ico_list\"\r\n                                                    masterList={TestGroupSpecSampleType || []}\r\n                                                    selectedMaster={[SelectedComponent]}\r\n                                                    needMultiSelect={false}\r\n                                                    primaryKeyField=\"nspecsampletypecode\"\r\n                                                    getMasterDetail={(event) => this.componentRowClick(event)}\r\n                                                    mainField=\"scomponentname\"\r\n                                                    selectedListName=\"testgroupspecsampletype\"\r\n                                                    objectName=\"testgroupspecsampletype\"\r\n                                                    listName=\"IDS_COMPONENT\"\r\n                                                    actionIcons={\r\n                                                        [\r\n                                                            {\r\n                                                                title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                // data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                                controlname: \"faTrashAlt\",\r\n                                                                objectName: \"testgroupspecsampletype\",\r\n                                                                hidden: this.state.userRoleControlRights.indexOf(deleteComponentId) === -1,\r\n                                                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                                onClick: (props) => confirmMessage.confirm(\r\n                                                                    \"deleteMessage\",\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                                                    () => this.deleteMultipleRecord({ props, ncontrolCode: deleteComponentId })\r\n                                                                )\r\n                                                            }\r\n                                                        ]\r\n                                                    }\r\n                                                    commonActions={\r\n                                                        <>\r\n                                                            {/* <ReactTooltip place=\"bottom\" /> */}\r\n                                                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                                hidden={this.state.userRoleControlRights.indexOf(addComponentId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                                data-for=\"tooltip-list-wrap\"\r\n                                                                // title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                                onClick={() => this.props.addComponent(SelectedSpecification, this.props.Login.userInfo, addComponentId)}>\r\n                                                                <FontAwesomeIcon icon={faPlus}\r\n                                                                // title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} \r\n                                                                />\r\n                                                            </Button>\r\n\r\n                                                        </>\r\n                                                    }\r\n                                                    hidePaging={true}\r\n                                                />}\r\n                                        </PerfectScrollbar>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                                <SplitterLayout\r\n                                    vertical\r\n                                    borderColor=\"#999\"\r\n                                    primaryIndex={1}\r\n                                    secondaryInitialSize={400}\r\n                                    customClassName=\"fixed_list_height\"\r\n                                >\r\n                                    <>\r\n                                        <PerfectScrollbar>\r\n                                            {this.componentBreadcrumbs && this.componentBreadcrumbs.length > 0 &&\r\n                                                <div className=\"component_breadcrumbs\">\r\n                                                    <ul>\r\n                                                        {this.componentBreadcrumbs.map((item) => {\r\n                                                            return <li>{item}</li>\r\n                                                        })}\r\n                                                    </ul>\r\n                                                </div>\r\n                                            }\r\n                                            <div className=\"card_group\">\r\n                                                <ContentPanel hidden={!this.state.showTest}>\r\n                                                    <Card>\r\n                                                        <Card.Header>\r\n                                                            <span style={{ display: \"inline-block\", marginTop: \"1%\" }} >\r\n                                                                <h4>{this.props.intl.formatMessage({ id: \"IDS_TEST\" })}</h4>\r\n                                                            </span>\r\n                                                            <button className=\"btn btn-primary\" style={{ float: \"right\" }}\r\n                                                                onClick={() => this.showSpecAndTestInfo()}>\r\n                                                                <FontAwesomeIcon icon={faEye}></FontAwesomeIcon>{\"  \"}\r\n                                                                {this.props.intl.formatMessage({ id: \"IDS_SPECINFO\" })}\r\n                                                            </button>\r\n                                                        </Card.Header>\r\n                                                        <Card.Body>\r\n                                                            <TransactionListMaster\r\n                                                                masterList={searchedData || TestGroupTest || []}\r\n                                                                selectedMaster={[SelectedTest]}\r\n                                                                primaryKeyField=\"ntestgrouptestcode\"\r\n                                                                getMasterDetail={this.props.getTestGroupDetails}\r\n                                                                inputParam={getTest}\r\n                                                                additionalParam={[]}\r\n                                                                mainField=\"stestname\"\r\n                                                                selectedListName=\"SelectedTest\"\r\n                                                                objectName=\"testgrouptest\"\r\n                                                                listName=\"IDS_TEST\"\r\n                                                                showStatusLink={true}\r\n                                                                statusFieldName=\"stransdisplaystatus\"\r\n                                                                statusField=\"ntransactionstatus\"\r\n                                                                subFields={testSubFields}\r\n                                                                moreField={testMoreFields}\r\n                                                                needValidation={false}\r\n                                                                needFilter={false}\r\n                                                                filterColumnData={this.props.filterTransactionList}\r\n                                                                searchListName=\"searchedData\"\r\n                                                                searchRef={this.searchRef}\r\n                                                                filterParam={filterParam}\r\n                                                                handlePageChange={this.handlePageChange}\r\n                                                                skip={this.state.skip}\r\n                                                                take={this.state.take}\r\n                                                                pageSize = {this.props.Login.settings && this.props.Login.settings[13].split(\",\").map(setting => parseInt(setting))}\r\n                                                                actionIcons={\r\n                                                                    [\r\n                                                                        {\r\n                                                                            title: this.props.intl.formatMessage({ id: \"IDS_VIEW\" }),\r\n                                                                            controlname: \"faCloudDownloadAlt\",\r\n                                                                            objectName: \"selectedTest\",\r\n                                                                            hidden: this.state.userRoleControlRights.indexOf(viewFileId) === -1,\r\n                                                                            inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                                            onClick: (props) => this.viewTestFile(props),\r\n                                                                            needConditionalIcon: true,\r\n                                                                            conditionalIconFunction: this.fileViewIcon\r\n                                                                        },\r\n                                                                        {\r\n                                                                            title: this.props.intl.formatMessage({ id: \"IDS_VIEW\" }),\r\n                                                                            controlname: \"faExternalLinkAlt\",\r\n                                                                            objectName: \"selectedTest\",\r\n                                                                            hidden: this.state.userRoleControlRights.indexOf(viewFileId) === -1,\r\n                                                                            inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                                            onClick: (props) => this.viewTestFile(props),\r\n                                                                            needConditionalIcon: true,\r\n                                                                            conditionalIconFunction: this.linkViewIcon\r\n                                                                        },\r\n                                                                        {\r\n                                                                            title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                                            controlname: \"faPencilAlt\",\r\n                                                                            objectName: \"testgroupspecification\",\r\n                                                                            hidden: this.state.userRoleControlRights.indexOf(editTestId) === -1,\r\n                                                                            inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                                            onClick: (props) => this.props.editTestGroupTest(\"update\", props.SelectedTest[0], this.props.Login.userInfo, editTestId, SelectedSpecification)\r\n                                                                        },\r\n                                                                        {\r\n                                                                            title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                            controlname: \"faTrashAlt\",\r\n                                                                            objectName: \"testgrouptest\",\r\n                                                                            hidden: this.state.userRoleControlRights.indexOf(deleteTestId) === -1,\r\n                                                                            inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                                            onClick: (props) => confirmMessage.confirm(\r\n                                                                                \"deleteMessage\",\r\n                                                                                this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                                this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                                                                                this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                                                                this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                                                                () => this.deleteTest({ props, ncontrolCode: deleteTestId })\r\n                                                                            )\r\n                                                                        }\r\n                                                                    ]\r\n                                                                }\r\n                                                                commonActions={\r\n                                                                    <>\r\n                                                                        {/* <ReactTooltip place=\"bottom\" /> */}\r\n                                                                        <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(addTestId) === -1}\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                                            onClick={() => this.props.addTestGroupTest(SelectedComponent, this.props.Login.userInfo, addTestId, SelectedSpecification)}>\r\n                                                                            <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                                                                        </Button>\r\n                                                                    </>\r\n                                                                }\r\n                                                            />\r\n                                                        </Card.Body>\r\n                                                    </Card>\r\n                                                    {TestGroupTestParameter && TestGroupTestParameter.length > 0 &&\r\n                                                        <Card body>\r\n                                                            <TestGroupTestTab\r\n                                                                masterData={this.props.Login.masterData}\r\n                                                                inputParam={this.props.Login.inputParam}\r\n                                                                userInfo={this.props.Login.userInfo}\r\n                                                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                                                esignRights={this.props.Login.userRoleControlRights}\r\n                                                                screenName={this.props.Login.screenName}\r\n                                                                openChildModal={this.props.Login.openChildModal}\r\n                                                                operation={this.props.Login.operation}\r\n                                                                loadEsign={this.props.Login.loadEsign}\r\n                                                                testGroupInputData={this.props.Login.testGroupInputData}\r\n                                                                parameterData={this.props.Login.parameterData}\r\n                                                                selectedRecord={this.state.selectedRecord}\r\n                                                                screenData={this.props.Login.screenData}\r\n                                                                ncontrolCode={this.props.Login.ncontrolCode}\r\n                                                                controlMap={this.state.controlMap}\r\n                                                                testGroupCheckList={this.props.Login.testGroupCheckList}\r\n                                                                openTemplateModal={this.props.Login.openTemplateModal}\r\n                                                                editTestGroupTest={this.props.editTestGroupTest}\r\n                                                                updateStore={this.props.updateStore}\r\n                                                                crudMaster={this.props.crudMaster}\r\n                                                                getTestGroupParameter={this.props.getTestGroupParameter}\r\n                                                                editTestGroupParameter={this.props.editTestGroupParameter}\r\n                                                                addTestGroupCodedResult={this.props.addTestGroupCodedResult}\r\n                                                                validateEsignCredential={this.props.validateEsignCredential}\r\n                                                                filterColumnData={this.props.filterColumnData}\r\n                                                                viewTestGroupCheckList={this.props.viewTestGroupCheckList}\r\n                                                            />\r\n                                                        </Card>\r\n                                                    }\r\n                                                </ContentPanel>\r\n                                                <ContentPanel hidden={this.state.showTest}>\r\n                                                    <Card>\r\n                                                        <Card.Header>\r\n                                                            <span style={{ display: \"inline-block\", marginTop: \"1%\" }} >\r\n                                                                <h4>{this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONINFO\" })}</h4>\r\n                                                            </span>\r\n                                                            <button className=\"btn btn-primary\" style={{ float: \"right\" }}\r\n                                                                onClick={() => this.showSpecAndTestInfo()}>\r\n                                                                <FontAwesomeIcon icon={faEye}></FontAwesomeIcon>{\"  \"}\r\n                                                                {this.props.intl.formatMessage({ id: \"IDS_TEST\" })}\r\n                                                            </button>\r\n                                                        </Card.Header>\r\n                                                        <Card.Body>\r\n                                                            <SpecificationInfo\r\n                                                                controlMap={this.state.controlMap}\r\n                                                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                                                selectedSpecification={this.props.Login.masterData.SelectedSpecification}\r\n                                                                userInfo={this.props.Login.userInfo}\r\n                                                                selectedNode={this.props.Login.masterData.selectedNode}\r\n                                                                selectedRecord={this.state.filterData}\r\n                                                                approvalRoleActionDetail={this.props.Login.masterData.ApprovalRoleActionDetail}\r\n                                                                screenName=\"IDS_SPECIFICATIONINFO\"\r\n                                                                deleteRecord={this.deleteRecord}\r\n                                                                addSpecification={this.props.addSpecification}\r\n                                                                //completeSpecification={this.completeSpecification}\r\n                                                                completeSpecification={this.validateTestGroupComplete}\r\n                                                                approveSpecification={this.approveSpecification}\r\n                                                                specificationReport={this.specificationReport}\r\n                                                                retireSpec={this.retireSpec}\r\n                                                            />\r\n                                                        </Card.Body>\r\n                                                    </Card>\r\n                                                    <Card body>\r\n                                                        <CustomTab tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                                                    </Card>\r\n                                                </ContentPanel>\r\n                                            </div>\r\n                                        </PerfectScrollbar>\r\n\r\n                                    </>\r\n                                </SplitterLayout>\r\n                            </SplitterLayout>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n                {\r\n                    this.props.Login.openModal && this.props.Login.screenName &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        onSaveClick={this.onSaveClick}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={\r\n                            this.props.Login.screenName === \"IDS_SPECFILE\" ? this.findMandatoryFields(this.props.Login.screenName, this.state.selectedRecord)\r\n                                : this.props.Login.screenName === \"IDS_SPECIFICATION\" ? specMandatoryFields\r\n                                    : this.props.Login.screenName === \"IDS_COMPONENT\" ? compMandatoryFields\r\n                                        : this.props.Login.screenName === \"IDS_EDITTESTGROUPTEST\" ? editTestMandatoryFields\r\n                                            : this.props.Login.screenName === \"IDS_TEST\" ? addTestMandatoryFields\r\n                                                : this.props.Login.screenName === \"IDS_PROFILETREE\" || this.props.Login.screenName === \"IDS_EDITTREE\"\r\n                                                    ? this.props.Login.treeMandatoryFields : []}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign\r\n                                operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onEsignInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            /> :\r\n                            this.props.Login.screenName === \"IDS_SPECIFICATION\" ?\r\n                                <AddTestGroupSpecification\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    timeZoneList={this.props.Login.timeZoneList}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    handleDateChange={this.handleDateChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    screenName={this.props.Login.screenName}\r\n                                    operation={this.props.Login.operation}\r\n                                    userInfo ={this.props.Login.userInfo}\r\n                                /> :\r\n                                this.props.Login.screenName === \"IDS_COMPONENT\" ?\r\n                                    <AddTestGroupTest\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                        testGroupInputData={this.props.Login.testGroupInputData}\r\n                                        screenName={this.props.Login.screenName}\r\n                                        onComboChange={this.onComboChange}\r\n                                        onFilterComboChange={this.onFilterComboChange}\r\n                                    /> :\r\n                                    this.props.Login.screenName === \"IDS_PROFILETREE\" ?\r\n                                        <AddProfileTree\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            treetempTranstestGroup={this.props.Login.TreetempTranstestGroup}\r\n                                        /> :\r\n                                        this.props.Login.screenName === \"IDS_SPECFILE\" ?\r\n                                            <AddFile\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                actionType={this.state.actionType}\r\n                                                onDrop={this.onDropSpecFile}\r\n                                                deleteAttachment={this.deleteAttachment}\r\n                                                linkMaster={this.props.Login.linkMaster}\r\n                                                editFiles={this.props.Login.editFiles}\r\n                                                maxSize={20}\r\n                                                maxFiles={this.props.Login.operation === \"update\" ? 1 : 3}\r\n                                                multiple={this.props.Login.operation === \"update\" ? false : true}\r\n                                                label={this.props.intl.formatMessage({ id: \"IDS_SPECFILE\" })}\r\n                                                hideDefaultToggle={true}\r\n                                                name=\"specfilename\"\r\n                                            /> :\r\n                                            this.props.Login.screenName === \"IDS_EDITTREE\" ?\r\n                                                <Row>\r\n                                                    <Col md={12}>\r\n                                                        <FormInput\r\n                                                            name={\"sleveldescription\"}\r\n                                                            label={this.state.selectedRecord.slabelname}\r\n                                                            type=\"text\"\r\n                                                            onChange={(event) => this.onInputOnChange(event, 1)}\r\n                                                            placeholder={this.state.selectedRecord.slabelname}\r\n                                                            value={this.state.selectedRecord ? this.state.selectedRecord[\"sleveldescription\"] : \"\"}\r\n                                                            isMandatory=\"*\"\r\n                                                            required={true}\r\n                                                            maxLength={100}\r\n                                                        />\r\n                                                    </Col>\r\n                                                </Row> :\r\n                                                this.props.Login.screenName === \"IDS_TEST\" ?\r\n                                                    <AddTestGroupTest\r\n                                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                                        testGroupInputData={this.props.Login.testGroupInputData}\r\n                                                        screenName={this.props.Login.screenName}\r\n                                                        onComboChange={this.onComboChange}\r\n                                                        onFilterComboChange={this.onFilterComboChange}\r\n                                                    /> : this.props.Login.screenName === \"IDS_EDITTESTGROUPTEST\" ?\r\n                                                        <EditTestGroupTest\r\n                                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                                            testGroupInputData={this.props.Login.testGroupInputData}\r\n                                                            onComboChange={this.onComboChange}\r\n                                                            onInputOnChange={this.onInputOnChange}\r\n                                                            onNumericInputChange={this.onNumericInputChange}\r\n                                                        /> : \"\"\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n\r\n    ConfirmDelete = (obj) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteRecord(obj));\r\n    }\r\n\r\n    handlePageChange = (event) => {\r\n        this.setState({\r\n            skip: event.skip,\r\n            take: event.take\r\n        });\r\n    }\r\n\r\n    findMandatoryFields(screenName, selectedRecord) {\r\n        let mandyFields = [];\r\n        if (screenName === \"IDS_SPECFILE\") {\r\n            if (selectedRecord && selectedRecord.nattachmenttypecode === attachmentType.LINK) {\r\n                mandyFields = [\r\n                    { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"slinkfilename\", \"mandatory\": true , \"mandatoryLabel\":\"IDS_CHOOSE\", \"controlType\": \"file\"},\r\n                    { \"idsName\": \"IDS_LINKNAME\", \"dataField\": \"nlinkcode\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n                ];\r\n            } else {\r\n                //if (this.props.Login.operation === 'update') {\r\n                mandyFields = [\r\n                    { \"idsName\": \"IDS_FILE\", \"dataField\": \"sfilename\", \"mandatory\": true , \"mandatoryLabel\":\"IDS_CHOOSE\", \"controlType\": \"file\"},\r\n                ];\r\n                // }\r\n            }\r\n        } else {\r\n            return [];\r\n        }\r\n        let finalMandyFields = [];\r\n        mandyFields.forEach(item => item.mandatory === true && finalMandyFields.push(item));\r\n        return finalMandyFields;\r\n    }\r\n\r\n    viewTestFile = (props) => {\r\n        const viewParam = {\r\n            operation: \"view\",\r\n            methodUrl: \"TestGroupTestFile\",\r\n            classUrl: \"testgroup\",\r\n            inputData: {\r\n                ntestgroupfilecode: props.selectedTest ? props.selectedTest.ntestgroupfilecode : 0,\r\n                userinfo: this.props.Login.userInfo,\r\n                testgroupspecification: this.props.Login.masterData.SelectedSpecification\r\n            }\r\n        }\r\n        this.props.viewAttachment(viewParam)\r\n    }\r\n\r\n    fileViewIcon = (master) => {\r\n        if (master.ntestgroupfilecode > 0 && master.nlinkcode === transactionStatus.NA) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    linkViewIcon = (master) => {\r\n        if (master.ntestgroupfilecode > 0 && master.nlinkcode !== transactionStatus.NA) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    showSpecAndTestInfo() {\r\n        this.setState({ showTest: !this.state.showTest })\r\n    }\r\n\r\n    onFilterSumbit = () => {\r\n        const tempFilterData = this.state.tempFilterData;\r\n        if (tempFilterData.nsampletypecode === undefined) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SAMPLETYPENOTAVAILABLE\" }));\r\n        } else if (tempFilterData.nproductcatcode === \"\") {\r\n            if (tempFilterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORYNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_CATEGORYNOTAVAILABLE\" }));\r\n            }\r\n        } else if (tempFilterData.nproductcode === \"\" || tempFilterData.nproductcode === undefined) {\r\n            if (tempFilterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            }\r\n        } else if (tempFilterData.ntreeversiontempcode === \"\") {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\" }));\r\n        } else {\r\n            const inputParam = {\r\n                inputData: {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nsampletypecode: tempFilterData.nsampletypecode.value,\r\n                    nproductcatcode: tempFilterData.nproductcatcode.value,\r\n                    nproductcode: tempFilterData.nproductcode.value,\r\n                    ntreeversiontempcode: tempFilterData.ntreeversiontempcode.value,\r\n                    filterData: { ...tempFilterData },                  \r\n                },\r\n                historyDataState:this.state.historyDataState\r\n            }\r\n            this.props.filterTestGroup(inputParam, this.props.Login.masterData, this.searchRef);\r\n        }\r\n    }\r\n\r\n    onTreeClick = (event) => {\r\n        const inputParam = {\r\n            methodUrl: \"TestGroupSpecification\",\r\n            screenName: \"IDS_SPECIFICATION\",\r\n            operation: \"get\",\r\n            keyName: \"treetemplatemanipulation\",\r\n            userinfo: this.props.Login.userInfo,\r\n            selectedRecord: event.item,\r\n            activeKey: event.key,\r\n            focusKey: event.key,\r\n            primaryKey: event.primaryKey,\r\n            historyDataState:this.state.historyDataState\r\n        };\r\n        this.props.getSpecification(inputParam, this.props.Login.masterData, this.searchRef);\r\n    }\r\n\r\n    tabDetail = () => {\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_FILE\",\r\n            <TestGroupSpecFile\r\n                controlMap={this.state.controlMap}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                userInfo={this.props.Login.userInfo}\r\n                inputParam={this.props.Login.inputParam}\r\n                deleteRecord={this.deleteRecord}\r\n                testGroupSpecFile={this.props.Login.masterData.TestGroupSpecFile || []}\r\n                selectedSpecification={this.props.Login.masterData.SelectedSpecification}\r\n                addTestFile={this.addFile}\r\n                editSpecFile={this.props.editSpecFile}\r\n                viewTestFile={this.viewTestFile}\r\n                defaultRecord={this.defaultRecord}\r\n                screenName=\"IDS_FILE\"\r\n                viewAttachment={this.props.viewAttachment}\r\n                settings = {this.props.Login.settings}\r\n            />);\r\n        tabMap.set(\"IDS_SPECIFICATIONHISTORY\",\r\n            <SpecificationHistory\r\n                data={this.props.Login.masterData.TestGroupSpecificationHistory}\r\n                dataResult={process(this.props.Login.masterData.TestGroupSpecificationHistory || [], this.state.historyDataState)}\r\n                dataState={this.state.historyDataState}\r\n                dataStateChange={this.historyDataStateChange}\r\n\r\n               // testGroupSpecificationHistory={this.props.Login.masterData.TestGroupSpecificationHistory}\r\n               // dataState={this.props.Login.screenName === \"IDS_SPECIFICATIONHISTORY\" ? this.state.historyDataState : { skip: 0, take: 10 }}\r\n                controlMap={this.state.controlMap}                \r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                userInfo={this.props.Login.userInfo}\r\n                inputParam={this.props.Login.inputParam}\r\n                screenName=\"IDS_SPECIFICATIONHISTORY\"\r\n            />);\r\n        return tabMap;\r\n    }\r\n\r\n    historyDataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.TestGroupSpecificationHistory || [], event.dataState),\r\n            historyDataState: event.dataState\r\n        });\r\n    }\r\n\r\n    addFile = (userInfo, operation, ncontrolCode, screenName, modalName) => {\r\n        const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\r\n        if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n            || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n            this.props.addTestFile(userInfo, operation, ncontrolCode, screenName, modalName);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n        }\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    componentRowClick = (event) => {\r\n        let masterData = this.props.Login.masterData;\r\n        masterData[\"SelectedComponent\"] = event.testgroupspecsampletype[0];\r\n        const inputParam = {\r\n            testgroupspecsampletype: event.testgroupspecsampletype[0],\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        this.props.getTestGroupComponentDetails(inputParam, masterData, this.searchRef);\r\n    }\r\n\r\n    deleteTest = (deleteParam) => {\r\n        const masterData = this.props.Login.masterData;\r\n        const testgroupspecification = masterData.SelectedSpecification;\r\n        if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n            || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n            const testgrouptest = deleteParam.props.testgrouptest;\r\n            const inputParam = {\r\n                inputData: {\r\n                    testgrouptest,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    testgroupspecification,\r\n                    treetemplatemanipulation: masterData.selectedNode\r\n                },\r\n                classUrl: \"testgroup\",\r\n                operation: \"delete\",\r\n                methodUrl: \"Test\",\r\n                screenName: \"IDS_TEST\",\r\n                postParam: {\r\n                    inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                    primaryKeyValue: testgrouptest.ntestgrouptestcode,\r\n                    fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n                    masterData, searchFieldList, unchangeList: [\"TestGroupSpecification\", \"SelectedSpecification\",\r\n                        \"SampleType\", \"TreeVersionTemplate\", \"ProductCategory\", \"SelectedTest\", \"Product\",\r\n                        \"AgaramTree\", \"OpenNodes\", \"selectedNode\", \"FocusKey\", \"ActiveKey\", \"SelectedComponent\", \"TestGroupSpecSampleType\"]//, isSingleSelect: true\r\n                }\r\n            }\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: \"IDS_TEST\", operation: \"delete\", selectedRecord: {}\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\", {});\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n        }\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Default\" \r\n                        || this.props.Login.operation === 'approve' || this.props.Login.operation === 'complete') {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            } else {\r\n                loadEsign = false;\r\n                selectedRecord[\"agree\"] = 4;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onInputOnChange = (event, caseNo, optional) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                if (event.target.type === 'checkbox') {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\r\n                } else if (event.target.type === 'radio') {\r\n                    selectedRecord[event.target.name] = optional;\r\n                   // selectedRecord[\"sfilename\"] = \"\";\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[event.target.name] = event.target.value;\r\n\r\n                const indexKey = Object.keys(optional)[0];\r\n                const value = Object.values(optional)[0];\r\n                const treeData = {\r\n                    ntreeversiontempcode: value.ntreeversiontempcode,\r\n                    npositioncode: value.nlevelno - 1,\r\n                    sleveldescription: event.target.value,\r\n                    ntemptranstestgroupcode: value.ntemptranstestgroupcode,\r\n                    nformcode: 62,\r\n                    schildnode: \"\",\r\n                    nnextchildcode: value.schildnode !== null ? value.schildnode : -1,\r\n                    ntemplatemanipulationcode: value.ntemplatemanipulationcode,\r\n                    isreadonly: value.ntemplatemanipulationcode > 0 ? true : false,\r\n                    slevelformat: value.slevelformat\r\n                }\r\n                let treetemplatemanipulation = selectedRecord.treetemplatemanipulation || [];\r\n                treetemplatemanipulation[indexKey] = treeData;\r\n                selectedRecord[\"treetemplatemanipulation\"] = treetemplatemanipulation;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    onEsignInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onFilterComboChange = (comboData, fieldName, caseNo) => {\r\n        let tempFilterData = this.state.tempFilterData || {};\r\n        let inputParam = {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sampletype: comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    methodUrl: \"/getProductCategory\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n\r\n            case 2:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sampletype: tempFilterData.nsampletypecode.item,\r\n                        productcategory: comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    methodUrl: \"/getProduct\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n\r\n            case 3:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sampletype: tempFilterData.nsampletypecode.item,\r\n                        productcategory: tempFilterData.nproductcatcode.item,\r\n                        product: comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    methodUrl: \"/getTreeVersionTemplate\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n\r\n            case 4:\r\n                tempFilterData[fieldName] = comboData;\r\n                this.setState({ tempFilterData });\r\n                break;\r\n\r\n            case 5:\r\n                const selectedRecord = this.state.selectedRecord;\r\n                selectedRecord[fieldName] = comboData;\r\n                const TestGroupSpecSampleType = this.props.Login.testGroupInputData.TestGroupSpecSampleType || {};\r\n                let testGroupSpecSampleType = {};\r\n                if (this.props.Login.screenName === \"IDS_COMPONENT\") {\r\n                    testGroupSpecSampleType = selectedRecord[\"ncomponentcode\"] ? selectedRecord[\"ncomponentcode\"].item : TestGroupSpecSampleType[0].item;\r\n                } else {\r\n                    testGroupSpecSampleType = this.props.Login.masterData.SelectedComponent;\r\n                }\r\n                inputParam = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    testcategory: comboData.item,\r\n                    testgroupspecsampletype: testGroupSpecSampleType,\r\n                    nallottedspeccode: this.props.Login.masterData.SelectedSpecification[\"nallottedspeccode\"],\r\n                    selectedRecord\r\n                }\r\n                this.props.changeTestCategory(inputParam, this.props.Login.testGroupInputData);\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onNumericInputChange = (value, name) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        let inputParam = {};\r\n        if (this.props.Login.screenName === \"IDS_PROFILETREE\"\r\n            || this.props.Login.screenName === \"IDS_EDITTREE\") {\r\n            inputParam = this.onSaveTree(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_SPECIFICATION\") {\r\n            inputParam = this.onSaveSpecification(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_COMPONENT\") {\r\n            inputParam = this.onSaveComponent(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_COPYSPECIFICATION\") {\r\n            inputParam = this.onSaveCopySpecification(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_TEST\"\r\n            || this.props.Login.screenName === \"IDS_EDITTESTGROUPTEST\") {\r\n            inputParam = this.onSaveTest(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_SPECFILE\") {\r\n            inputParam = this.onSaveSpecFile(saveType, formRef);\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, openModal: true, operation: this.props.Login.operation,\r\n                    screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n        }\r\n    }\r\n\r\n    onSaveTest = (saveType, formRef) => {\r\n        const operation = this.props.Login.operation;\r\n        const masterData = this.props.Login.masterData;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        let inputData = {};\r\n        const userinfo = this.props.Login.userInfo;\r\n        let postParam = undefined;\r\n        if (operation === \"create\") {\r\n            const testArray = selectedRecord.ntestcode.map(test => { return test.item });\r\n            inputData = {\r\n                testgroupspecification: masterData.SelectedSpecification,\r\n                testgroupspecsampletype: [masterData.SelectedComponent],\r\n                testgrouptest: testArray, userinfo\r\n            }\r\n        } else {\r\n            postParam = {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: masterData.SelectedTest ? masterData.SelectedTest.ntestgrouptestcode : 0,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n                masterData: this.props.Login.masterData, searchFieldList, changeList: [\"TestGroupTestFormula\", \"TestGroupTestNumericParameter\",\r\n                    \"TestGroupTestPredefinedParameter\", \"TestGroupTestCharParameter\", \"TestGroupTestParameter\"], isSingleSelect: true\r\n            }\r\n            let testgrouptestfile = null;\r\n            let testGroupFile = selectedRecord.ntestfilecode;\r\n            if (testGroupFile) {\r\n                testGroupFile = testGroupFile.item;\r\n                testgrouptestfile = {\r\n                    nlinkcode: testGroupFile.nlinkcode,\r\n                    nattachmenttypecode: testGroupFile.nattachmenttypecode,\r\n                    sdescription: testGroupFile.sdescription,\r\n                    ssystemfilename: testGroupFile.ssystemfilename,\r\n                    dcreateddate: testGroupFile.dcreateddate,\r\n                    nfilesize: testGroupFile.nfilesize,\r\n                    ntestgroupfilecode: selectedRecord.ntestgroupfilecode,\r\n                    ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\r\n                    sfilename: testGroupFile.sfilename,\r\n                    nstatus: transactionStatus.ACTIVE\r\n                };\r\n            }\r\n            inputData = {\r\n                testgroupspecification: masterData.SelectedSpecification,\r\n                testgrouptest: {\r\n                    ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\r\n                    nsectioncode: selectedRecord.nsectioncode.value,\r\n                    nsourcecode: selectedRecord.nsourcecode.value,\r\n                    nmethodcode: selectedRecord.nmethodcode ? selectedRecord.nmethodcode.value : transactionStatus.NA,\r\n                    ninstrumentcatcode: selectedRecord.ninstrumentcatcode ? selectedRecord.ninstrumentcatcode.value : transactionStatus.NA,\r\n                    stestsynonym: selectedRecord.stestsynonym,\r\n                    ncost: selectedRecord.ncost,\r\n                    nsorter: selectedRecord.nsorter,\r\n                    nspecsampletypecode: selectedRecord.nspecsampletypecode\r\n                },\r\n                testgrouptestfile, userinfo\r\n            }\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: operation,\r\n            methodUrl: \"Test\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveTree = (saveType, formRef) => {\r\n        const operation = this.props.Login.operation;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo\r\n        };\r\n        if (operation === \"update\") {\r\n            const selectedNode = this.props.Login.masterData.selectedNode;\r\n            inputData[\"treetemplatemanipulation\"] = {\r\n                ntemplatemanipulationcode: selectedRecord.ntemplatemanipulationcode,\r\n                sleveldescription: selectedRecord.sleveldescription,\r\n                nsampletypecode: selectedNode.nsampletypecode,\r\n                ntreeversiontempcode: selectedNode.ntreeversiontempcode,\r\n                nproductcatcode: selectedNode.nproductcatcode,\r\n                nproductcode: selectedNode.nproductcode,\r\n            }\r\n            inputData[\"selectednode\"] = this.props.Login.masterData.ActiveKey;\r\n        } else {\r\n            const TreetempTranstestGroup = this.props.Login.TreetempTranstestGroup;\r\n            const filterData = this.state.filterData;\r\n            const selectedRecord = this.state.selectedRecord;\r\n            let treetemplatemanipulation = [];\r\n            let tempArray = filterRecordBasedOnTwoArrays(TreetempTranstestGroup, selectedRecord.treetemplatemanipulation, \"ntemptranstestgroupcode\");\r\n\r\n            tempArray.map(item => {\r\n                const treeData = {\r\n                    ntreeversiontempcode: item.ntreeversiontempcode,\r\n                    npositioncode: item.nlevelno - 1,\r\n                    sleveldescription: item.sleveldescription,\r\n                    ntemptranstestgroupcode: item.ntemptranstestgroupcode,\r\n                    nformcode: 62,\r\n                    schildnode: \"\",\r\n                    nnextchildcode: item.schildnode,\r\n                    ntemplatemanipulationcode: item.ntemplatemanipulationcode,\r\n                    isreadonly: item.ntemplatemanipulationcode > 0 ? true : false,\r\n                    slevelformat: item.slevelformat\r\n                }\r\n                return treetemplatemanipulation.push(treeData);\r\n            });\r\n\r\n\r\n            selectedRecord.treetemplatemanipulation.map(item => {\r\n                const treeTemplateManip = TreetempTranstestGroup.filter(temp => temp.ntemptranstestgroupcode === item.ntemptranstestgroupcode);\r\n                if (treeTemplateManip.length > 0) {\r\n                    item[\"ntemplatemanipulationcode\"] = treeTemplateManip[\"ntemplatemanipulationcode\"];\r\n                } else {\r\n                    item[\"ntemplatemanipulationcode\"] = 0;\r\n                }\r\n                return treetemplatemanipulation.push(item);\r\n            });\r\n\r\n            inputData[\"treetemplatemanipulation\"] = treetemplatemanipulation;\r\n            inputData[\"sampletype\"] = filterData.nsampletypecode.item;\r\n            inputData[\"ncategorycode\"] = filterData.nproductcatcode.value;\r\n            inputData[\"nproductcode\"] = filterData.nproductcode.value ? filterData.nproductcode.value : -1;\r\n            inputData[\"ntreeversiontempcode\"] = filterData.ntreeversiontempcode.value;\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: operation,\r\n            methodUrl: \"Tree\",\r\n            saveType, formRef\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveSpecification = (saveType, formRef) => {\r\n        const operation = this.props.Login.operation;\r\n        const selectedRecord = this.state.selectedRecord;\r\n  \r\n        let testGroupSpec = {\r\n            napproveconfversioncode: -1,\r\n            sversion: '',\r\n            napprovalstatus: transactionStatus.DRAFT,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            ntransactionstatus: selectedRecord[\"ntransactionstatus\"],\r\n            ncomponentrequired: selectedRecord[\"ncomponentrequired\"],\r\n            nprojectcode: selectedRecord[\"nprojectcode\"] ? selectedRecord[\"nprojectcode\"] : -1,\r\n            sspecname: selectedRecord[\"sspecname\"],\r\n            dexpirydate: selectedRecord[\"dexpirydate\"],\r\n            nallottedspeccode: selectedRecord[\"nallottedspeccode\"] ? selectedRecord[\"nallottedspeccode\"] : 0,\r\n            ntzexpirydate: selectedRecord[\"ntzexpirydate\"].value,\r\n            stzexpirydate: selectedRecord[\"ntzexpirydate\"].label\r\n        };\r\n\r\n        const dexpirydate = testGroupSpec[\"dexpirydate\"];\r\n        //need this conversion when the datatype of the field is 'Instant'\r\n        testGroupSpec[\"dexpirydate\"] = formatInputDate(dexpirydate, false);\r\n\r\n        if (operation === \"create\") {\r\n            testGroupSpec[\"ntemplatemanipulationcode\"] = this.props.Login.masterData.selectedNode.ntemplatemanipulationcode\r\n        }\r\n        const inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n            testgroupspecification: testGroupSpec,\r\n            treetemplatemanipulation: this.props.Login.masterData.selectedNode,\r\n            selectedspecification: this.props.Login.masterData.SelectedSpecification,\r\n        }\r\n\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: operation,\r\n            methodUrl: \"Specification\",\r\n            saveType, formRef\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveComponent = (saveType, formRef) => {\r\n        const masterData = this.props.Login.masterData;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const testArray = selectedRecord.ntestcode.map(test => { return test.item });\r\n        const inputData = {\r\n            testgroupspecification: masterData.SelectedSpecification,\r\n            testgroupspecsampletype: [selectedRecord.ncomponentcode.item],\r\n            testgrouptest: testArray,\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.Login.operation,\r\n            methodUrl: \"Component\",\r\n            saveType, formRef\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveSpecFile = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let specFileArray = [];\r\n        const selectedSpecification = this.props.Login.masterData.SelectedSpecification;\r\n        let specFile = {\r\n            nallottedspeccode: selectedSpecification.nallottedspeccode,\r\n            nspecfilecode: selectedRecord.nspecfilecode ? selectedRecord.nspecfilecode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            nattachmenttypecode\r\n        };\r\n        const formData = new FormData();\r\n        if (nattachmenttypecode === attachmentType.FTP) {\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, specFile);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] = file.name;\r\n                    tempData[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    specFileArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                specFile[\"sfilename\"] = selectedRecord.sfilename;\r\n                specFile[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\r\n                specFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                specFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                specFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                specFileArray.push(specFile);\r\n            }\r\n        } else {\r\n            specFile[\"sfilename\"] = selectedRecord.slinkfilename.trim();\r\n            specFile[\"sdescription\"] = selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\";\r\n            specFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\r\n            specFile[\"ssystemfilename\"] = \"\";\r\n            specFile[\"nfilesize\"] = 0;\r\n            specFileArray.push(specFile);\r\n        }\r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"testgroupspecification\", JSON.stringify(selectedSpecification));\r\n        formData.append(\"testgroupspecfile\", JSON.stringify(specFileArray));\r\n        const inputParam = {\r\n            inputData: { userinfo: this.props.Login.userInfo },\r\n            formData: formData,\r\n            isFileupload: true,\r\n            operation: this.props.Login.operation,\r\n            classUrl: \"testgroup\",\r\n            saveType, formRef, methodUrl: \"SpecificationFile\"\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    deleteSpecRecord = (deleteParam) => {\r\n        const selectedRecord = deleteParam.selectedRecord;\r\n        if (selectedRecord.napprovalstatus === transactionStatus.DRAFT\r\n            || selectedRecord.napprovalstatus === transactionStatus.CORRECTION) {\r\n            this.deleteRecord(deleteParam);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n        }\r\n    }\r\n\r\n    deleteRecord = (deleteParam) => {\r\n        if (this.props.Login.masterData.selectedNode) {\r\n            const methodUrl = deleteParam.methodUrl;\r\n            let dataState = this.state.componentDataState;\r\n            const screenName = deleteParam.screenName;\r\n            const inputParam = {\r\n                inputData: {\r\n                    [deleteParam.keyName]: deleteParam.selectedRecord,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    testgroupspecification: this.props.Login.masterData.SelectedSpecification,\r\n                    treetemplatemanipulation: this.props.Login.masterData.selectedNode\r\n                },\r\n                classUrl: \"testgroup\",\r\n                operation: deleteParam.operation,\r\n                methodUrl: methodUrl,\r\n                screenName, dataState\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            //if (showEsign(this.state.controlMap, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: screenName, operation: deleteParam.operation, selectedRecord: {}\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROFILENODE\" }));\r\n        }\r\n    }\r\n\r\n    deleteMultipleRecord = (deleteParam) => {\r\n        const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\r\n        if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n            || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n            const inputParam = {\r\n                inputData: {\r\n                    testgroupspecsampletype: deleteParam.props.testgroupspecsampletype,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    testgroupspecification,\r\n                    treetemplatemanipulation: this.props.Login.masterData.selectedNode\r\n                },\r\n                classUrl: \"testgroup\",\r\n                operation: \"delete\",\r\n                methodUrl: \"TestGroupComponent\",\r\n                screenName: \"IDS_COMPONENT\"\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: \"IDS_COMPONENT\", operation: \"delete\", selectedRecord: {}\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n        }\r\n    }\r\n\r\n    onDropSpecFile = (attachedFiles, fieldName, maxSize) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\" //fileToDelete:file.name \r\n        });\r\n    }\r\n\r\n    validateTestGroupComplete = (operation, inputValue, ncontrolCode) => {\r\n        if (inputValue.testgroupspecification) {\r\n            if (inputValue.testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || inputValue.testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                return rsapi.post(\"testgroup/validateTestGroupComplete\", {\r\n                    nallottedspeccode: inputValue.testgroupspecification.nallottedspeccode,\r\n                    \"userinfo\": this.props.Login.userInfo\r\n                })\r\n                    .then(response => {\r\n                        if (response.data && response.data.length > 0) {\r\n                            const inactiveTestArray = [];\r\n                            response.data.map(item => inactiveTestArray.indexOf(item.stestname) === -1 ? inactiveTestArray.push(item.stestname) : \"\");\r\n                            const data = \" [\" + inactiveTestArray + \"] \" + this.props.intl.formatMessage({ id: \"IDS_INACTIVETESTSATCOMPLETE\" })\r\n                            this.confirmMessage.confirm(this.props.intl.formatMessage({ id: \"IDS_CONFIRMATION\" }),\r\n                                this.props.intl.formatMessage({ id: \"IDS_CONFIRMATION\" }),\r\n                                data,\r\n                                this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                () => this.completeSpecification(operation, inputValue, ncontrolCode),\r\n                                false,\r\n                                undefined);\r\n                        }\r\n                        else {\r\n                            this.completeSpecification(operation, inputValue, ncontrolCode);\r\n                        }\r\n\r\n                    })\r\n                    .catch(error => {\r\n                        if (error.response.status === 500) {\r\n                            toast.error(this.props.intl.formatMessage({ id: error.message }));\r\n                        }\r\n                        else {\r\n                            toast.warn(this.props.intl.formatMessage({ id: error.response }));\r\n                        }\r\n                    })\r\n            }\r\n            else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTSPECIFICATION\" }));\r\n        }\r\n    }\r\n\r\n    retireSpec = (operation, selectedSpecification, approvalRoleActionDetail, retireSpecId) => {\r\n        if (selectedSpecification.testgroupspecification.napprovalstatus !== transactionStatus.RETIRED) {\r\n            if (approvalRoleActionDetail.length > 0 && approvalRoleActionDetail[0].nlevelno === transactionStatus.ACTIVE) {\r\n                if (selectedSpecification.testgroupspecification[\"napprovalstatus\"] === approvalRoleActionDetail[0].ntransactionstatus) {\r\n                    const inputParam = {\r\n                        inputData: {\r\n                            nallottedspeccode: selectedSpecification.testgroupspecification,\r\n                            treetemplatemanipulation: selectedSpecification.treetemplatemanipulation,\r\n                            approvalRoleActionDetail: approvalRoleActionDetail[0],\r\n                            userinfo: this.props.Login.userInfo,\r\n                            operation: operation\r\n                        },\r\n                        classUrl: \"testgroup\",\r\n                        operation: operation,\r\n                        methodUrl: \"Spec\",\r\n                        screenName: \"IDS_STUDYPLAN\"\r\n                    }\r\n\r\n\r\n                    let masterData = this.props.Login.masterData\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, retireSpecId)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData },\r\n                                openModal: true, screenName: \"IDS_STUDYPLAN\", operation: operation, selectedRecord: {}\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.retireSpecification(inputParam.inputData, masterData);\r\n                    }\r\n                } else {\r\n                    toast.warn(this.props.intl.formatMessage({ id: \"IDS_RETIRECANBECONEAFTERFINAL\" }));\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_FINALLEVELAPPROVE\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYRETIRED\" }));\r\n        }\r\n\r\n    }\r\n\r\n    specificationReport = (operation, ncontrolCode) => {\r\n        if (this.props.Login.masterData.SelectedComponent && this.props.Login.masterData.SelectedTest) {\r\n            const inputParam = {\r\n                inputData: {\r\n                    sprimarykeyname: 'nallottedspeccode',\r\n                    userinfo: this.props.Login.userInfo,\r\n                    ncontrolcode: ncontrolCode,\r\n                    nregtypecode: transactionStatus.NA,\r\n                    nregsubtypecode: transactionStatus.NA,\r\n                    nreportmodulecode: transactionStatus.NA,\r\n                    nreporttypecode: REPORTTYPE.CONTROLBASED,\r\n                    nreportdecisiontypecode: transactionStatus.NA,\r\n                    certificatetypecode: transactionStatus.NA,\r\n                    nsectioncode: transactionStatus.NA,\r\n                    operation: operation,\r\n                    nallottedspeccode: this.props.Login.masterData['SelectedSpecification']['nallottedspeccode'],\r\n                    selectedComponent: this.props.Login.masterData[\"SelectedComponent\"],\r\n                    selectedTest: this.props.Login.masterData[\"SelectedTest\"]\r\n\r\n                },\r\n            }\r\n            this.props.reportSpecification(inputParam['inputData']);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\" }));\r\n        }\r\n    }\r\n\r\n    completeSpecification = (operation, inputValue, ncontrolCode) => {\r\n        if (inputValue.testgroupspecification) {\r\n            if (inputValue.testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || inputValue.testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n\r\n                const inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        ...inputValue\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: operation,\r\n                    methodUrl: \"Specification\",\r\n                    screenName: \"IDS_SPECIFICATION\"\r\n                }\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                            openModal: true, screenName: \"IDS_SPECIFICATION\", operation: operation, selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTSPECIFICATION\" }));\r\n        }\r\n    }\r\n\r\n    approveSpecification = (status, needEsign) => {\r\n        const masterData = this.props.Login.masterData;\r\n        const inputParam = {\r\n            inputData: {\r\n                userinfo: this.props.Login.userInfo,\r\n                treetemplatemanipulation: masterData.selectedNode,\r\n                testgroupspecification: {\r\n                    ...masterData.SelectedSpecification,\r\n                    napprovalstatus: status\r\n                }\r\n            },\r\n            classUrl: \"testgroup\",\r\n            operation: \"approve\",\r\n            methodUrl: \"Specification\",\r\n            screenName: \"IDS_SPECIFICATION\"\r\n        }\r\n        if (needEsign === transactionStatus.YES) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_SPECIFICATION\", operation: \"approve\", selectedRecord: {}\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\", {});\r\n        }\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName, caseNo, optional) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                if (fieldName === \"ntestcode\") {\r\n                    selectedRecord[fieldName] = comboData;\r\n                    this.setState({ selectedRecord });\r\n                } else {\r\n                    selectedRecord[fieldName] = comboData;\r\n                    this.setState({ selectedRecord });\r\n                }\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[\"parameterTypeCode\"] = comboData.value;\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 3:\r\n                selectedRecord[\"schecklistversionname\"] = comboData.item.schecklistversionname;\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    generateBreadCrumData(filterData) {\r\n        if (filterData && Object.values(filterData).length > 0 && filterData.nsampletypecode && filterData.nsampletypecode.item) {\r\n            this.breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_SAMPLETYPE\",\r\n                    \"value\": filterData.nsampletypecode ? filterData.nsampletypecode.label : \"\"\r\n                },\r\n                {\r\n                    \"label\": filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY ? \"IDS_PRODUCTCATEGORY\" :\r\n                        filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY ? \"IDS_INSTRUMENTCATEGORY\" :\r\n                            filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY ? \"IDS_MATERIALCATEGORY\" : \"\",\r\n                    \"value\": filterData.nproductcatcode ? filterData.nproductcatcode.label : \"\"\r\n                },\r\n                {\r\n                    \"label\": filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY ? \"IDS_PRODUCT\" :\r\n                        filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY ? \"IDS_INSTRUMENT\" :\r\n                            filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY ? \"IDS_MATERIAL\" : \"\",\r\n                    \"value\": filterData.nproductcode ? filterData.nproductcode.label : \"\"\r\n                },\r\n                {\r\n                    \"label\": \"IDS_TREETEMPLATEVERSION\",\r\n                    \"value\": filterData.ntreeversiontempcode ? filterData.ntreeversiontempcode.label : \"\"\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(previousProps, previousState) {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        let filterData = this.state.filterData || {};\r\n        let isStateChanged = false;\r\n        let tempFilterData = this.state.tempFilterData || {};\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            isStateChanged = true;\r\n        }\r\n\r\n        if (this.props.Login.tempFilterData !== previousProps.Login.tempFilterData) {\r\n            tempFilterData = this.props.Login.tempFilterData || {};\r\n            isStateChanged = true;\r\n        }\r\n        let sampleType = this.state.sampleType || [];\r\n        if (this.props.Login.masterData.SampleType !== previousProps.Login.masterData.SampleType) {\r\n            const sampleTypeMap = constructOptionList(this.props.Login.masterData.SampleType || [], \"nsampletypecode\", \"ssampletypename\", \"nsampletypecode\", \"ascending\", false);\r\n            sampleType = sampleTypeMap.get(\"OptionList\");\r\n            tempFilterData[\"nsampletypecode\"] = sampleType.length ? sampleType[sampleType.length - 1] : \"\";\r\n            isStateChanged = true;\r\n        }\r\n        let productCategory = this.state.productCategory || [];\r\n        if (this.props.Login.masterData.ProductCategory !== previousProps.Login.masterData.ProductCategory) {\r\n            const productCatMap = constructOptionList(this.props.Login.masterData.ProductCategory || [], \"nproductcatcode\", \"sproductcatname\", \"nproductcatcode\", \"ascending\", false);\r\n            productCategory = productCatMap.get(\"OptionList\");\r\n            tempFilterData[\"nproductcatcode\"] = productCategory.length > 0 ? productCategory[0] : \"\";\r\n            isStateChanged = true;\r\n        }\r\n        let product = this.state.product || [];\r\n        if (this.props.Login.masterData.Product !== previousProps.Login.masterData.Product) {\r\n            const productMap = constructOptionList(this.props.Login.masterData.Product || [], \"nproductcode\", \"sproductname\", \"nproductcode\", \"ascending\", false);\r\n            product = productMap.get(\"OptionList\");\r\n            tempFilterData[\"nproductcode\"] = product.length > 0 ? product[0] : undefined;\r\n            isStateChanged = true;\r\n        }\r\n        let treeVersionTemplate = this.state.treeVersionTemplate || [];\r\n        if (this.props.Login.masterData.TreeVersionTemplate !== previousProps.Login.masterData.TreeVersionTemplate) {\r\n            const templateMap = constructOptionList(this.props.Login.masterData.TreeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", \"ntreeversiontempcode\", \"ascending\", false);\r\n            treeVersionTemplate = templateMap.get(\"OptionList\");\r\n            tempFilterData[\"ntreeversiontempcode\"] = treeVersionTemplate.length > 0 ? treeVersionTemplate[treeVersionTemplate.length - 1] : \"\";\r\n            isStateChanged = true;\r\n        }\r\n\r\n        // if (this.props.Login.masterData.TestGroupTestParameter && this.props.Login.masterData.TestGroupTestParameter !== previousProps.Login.masterData.TestGroupTestParameter) {\r\n        //     sortData(this.props.Login.masterData.TestGroupTestParameter, \"ascending\", \"nsorter\");\r\n        // }\r\n\r\n        // if (this.props.Login.masterData.TestGroupTesT && this.props.Login.masterData.TestGroupTesT !== previousProps.Login.masterData.TestGroupTesT) {\r\n        //     sortData(this.props.Login.masterData.TestGroupTesTest, \"ascending\", \"nsorter\");\r\n        // }\r\n\r\n        let userRoleControlRights = this.state.userRoleControlRights || [];\r\n        let controlMap = this.state.controlMap || [];\r\n        if (this.props.Login.userInfo && this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const nformCode = this.props.Login.userInfo.nformcode;\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[nformCode] && Object.values(this.props.Login.userRoleControlRights[nformCode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode));\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, nformCode);\r\n            filterData = { ...tempFilterData };\r\n            this.generateBreadCrumData(filterData);\r\n        }\r\n\r\n        if (this.props.Login.filterData !== previousProps.Login.filterData) {\r\n            filterData = { ...this.props.Login.filterData };\r\n            this.generateBreadCrumData(filterData);\r\n            isStateChanged = true;\r\n        }\r\n        // else if (filterData !== previousState.filterData) {\r\n        //     filterData = { ...tempFilterData };\r\n        //     this.generateBreadCrumData(filterData);\r\n        // }\r\n\r\n        let  historyDataState = this.state.historyDataState;\r\n        if (this.props.Login.historyDataState && this.props.Login.historyDataState !== previousProps.Login.historyDataState) {\r\n            historyDataState = this.props.Login.historyDataState;\r\n            isStateChanged = true;\r\n        }\r\n\r\n        if (isStateChanged) {\r\n            this.setState({\r\n                selectedRecord, tempFilterData, filterData, userRoleControlRights, controlMap,\r\n                sampleType, productCategory, product, treeVersionTemplate, historyDataState\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, filterTestGroup, createTree, editTree, sampleTypeOnChange,\r\n    getTestGroupDetails, validateEsignCredential, updateStore, addSpecification, getSpecification, addComponent,\r\n    changeTestCategory, addTestGroupTest, editTestGroupTest, getTestGroupParameter, editTestGroupParameter,\r\n    addTestFile, editSpecFile, getSpecificationDetails, addTestGroupCodedResult, getComponentBySpecId, filterColumnData,\r\n    viewAttachment, viewTestGroupCheckList, getTestGroupComponentDetails, filterTransactionList, reportSpecification, retireSpecification\r\n})(injectIntl(TestGroup));"]},"metadata":{},"sourceType":"module"}