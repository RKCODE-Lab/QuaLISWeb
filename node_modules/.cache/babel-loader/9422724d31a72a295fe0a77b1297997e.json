{"ast":null,"code":"import _defineProperty from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import{initRequest}from'./LoginAction';import{intl}from'../components/App';import Axios from'axios';import{numericGrade}from'../pages/ResultEntryBySample/ResultEntryValidation';import{constructOptionList,fillRecordBasedOnCheckBoxSelection,filterRecordBasedOnTwoArrays,getRecordBasedOnPrimaryKeyName,getSameRecordFromTwoArrays,replaceUpdatedObject,sortData,updatedObjectWithNewElement,rearrangeDateFormat}from'../components/CommonScript';import{transactionStatus}from'../components/Enumeration';export function getsubSampleREDetail(inputData,isServiceRequired){return function(dispatch){var inputParamData={ntype:2,nflag:2,nsampletypecode:inputData.nsampletypecode,nregtypecode:inputData.nregtypecode,nregsubtypecode:inputData.nregsubtypecode,npreregno:inputData.npreregno,ntranscode:String(inputData.ntransactionstatus),ntransactiontestcode:0,userinfo:inputData.userinfo,ntestcode:inputData.ntestcode,napprovalversioncode:inputData.napprovalversioncode,fromdate:inputData.fromdate,todate:inputData.todate,activeTestKey:inputData.activeTestKey,activeSampleKey:inputData.activeSampleKey};var activeName=\"\";var dataStateName=\"\";// let { resultDataState, materialDataState, instrumentDataState, taskDataState, resultChangeDataState,\n//     documentDataState, testCommentDataState } = inputData\ndispatch(initRequest(true));if(isServiceRequired){rsapi.post(\"resultentrybysample/getResultEntryDetails\",inputParamData).then(function(response){// if (response.data.DynamicGetSamples) {\n//     sortData(response.data.DynamicGetSamples, \"\", \"\");\n// }\n// if (response.data.DynamicGetTests) {\n//     sortData(response.data.DynamicGetTests, \"descending\", \"npreregno\");\n// }\n//sortData(response.data);\nvar oldSelectedTest=inputData.masterData.RESelectedTest;fillRecordBasedOnCheckBoxSelection(inputData.masterData,response.data,inputData.childTabsKey,inputData.checkBoxOperation,\"npreregno\",inputData.removeElementFromArray);var masterData=_objectSpread(_objectSpread({},inputData.masterData),{},{// ...response.data,\nRESelectedTest:inputData.masterData.RE_TEST.length>0?[inputData.masterData.RE_TEST[0]]:[],RESelectedSample:inputData.RESelectedSample,RESelectedSubSample:inputData.masterData.RE_SUBSAMPLE});// if (inputData.searchSampleRef !== undefined && inputData.searchSampleRef.current !== null) {\n//     inputData.searchSampleRef.current.value = \"\";\n//     masterData['searchedSample'] = undefined\n// }\nif(inputData.searchSubSampleRef!==undefined&&inputData.searchSubSampleRef.current!==null){inputData.searchSubSampleRef.current.value=\"\";masterData['searchedSubSample']=undefined;}if(inputData.searchTestRef!==undefined&&inputData.searchTestRef.current!==null){inputData.searchTestRef.current.value=\"\";masterData['searchedTests']=undefined;}var _inputData=inputData,testskip=_inputData.testskip,testtake=_inputData.testtake;var bool=false;var skipInfo={};if(inputData.masterData.RE_TEST.length<=inputData.testskip){testskip=0;bool=true;}if(bool){skipInfo={testskip:testskip,testtake:testtake};}var TestParameters=[];var ResultUsedInstrument=[];var ResultUsedTasks=[];var RegistrationTestAttachment=[];var ResultChangeHistory=[];var RegistrationTestComment=[];if(inputData.checkBoxOperation===1){//added by sudharshanan for test select issue while sample click\nvar wholeTestList=masterData.RE_TEST.map(function(b){return b.ntransactiontestcode;});oldSelectedTest.map(function(test,index){if(!wholeTestList.includes(test.ntransactiontestcode)){oldSelectedTest.splice(index,1);}return null;});var keepOld=false;var ntransactiontestcode;if(oldSelectedTest.length>0){keepOld=true;masterData=_objectSpread(_objectSpread({},masterData),{},{RESelectedTest:oldSelectedTest});}else{ntransactiontestcode=masterData.RESelectedTest[0].ntransactiontestcode;}switch(inputData.activeTestKey){case\"IDS_RESULTS\":TestParameters=keepOld?inputData.masterData.TestParameters:getRecordBasedOnPrimaryKeyName(inputData.masterData.TestParameters,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"TestParameters\";dataStateName=\"resultDataState\";break;case\"IDS_INSTRUMENT\":ResultUsedInstrument=keepOld?inputData.masterData.ResultUsedInstrument:getRecordBasedOnPrimaryKeyName(inputData.masterData.ResultUsedInstrument,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"ResultUsedInstrument\";dataStateName=\"instrumentDataState\";break;case\"IDS_TASK\":ResultUsedTasks=keepOld?inputData.masterData.ResultUsedTasks:getRecordBasedOnPrimaryKeyName(inputData.masterData.ResultUsedTasks,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"ResultUsedTasks\";dataStateName=\"taskDataState\";break;case\"IDS_TESTATTACHMENTS\":RegistrationTestAttachment=keepOld?inputData.masterData.RegistrationTestAttachment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"RegistrationTestAttachment\";break;case\"IDS_RESULTCHANGEHISTORY\":ResultChangeHistory=keepOld?inputData.masterData.ResultChangeHistory:getRecordBasedOnPrimaryKeyName(inputData.masterData.ResultChangeHistory,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"ResultChangeHistory\";dataStateName=\"resultChangeDataState\";break;case\"IDS_TESTCOMMENTS\":RegistrationTestComment=keepOld?inputData.masterData.RegistrationTestComment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestComment,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"RegistrationTestComment\";dataStateName=\"testCommentDataState\";break;default:TestParameters=keepOld?inputData.masterData.TestParameters:getRecordBasedOnPrimaryKeyName(inputData.masterData.TestParameters,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"TestParameters\";dataStateName=\"resultDataState\";break;}}else if(inputData.checkBoxOperation===5){var list=[];var dbData=[];switch(inputData.activeTestKey){case\"IDS_RESULTS\":dbData=response.data.TestParameters||[];list=[].concat(_toConsumableArray(inputData.masterData.TestParameters),_toConsumableArray(response.data.TestParameters));TestParameters=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;case\"IDS_INSTRUMENT\":dbData=response.data.TestParameters||[];list=[].concat(_toConsumableArray(inputData.masterData.ResultUsedInstrument),_toConsumableArray(response.data.ResultUsedInstrument));ResultUsedInstrument=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;case\"IDS_TASK\":dbData=response.data.ResultUsedTasks||[];list=[].concat(_toConsumableArray(inputData.masterData.ResultUsedTasks),_toConsumableArray(dbData));list.reduce(function(unique,item){return unique.includes(item)?unique:[].concat(_toConsumableArray(unique),[item]);},[]);ResultUsedTasks=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;case\"IDS_TESTATTACHMENTS\":dbData=response.data.RegistrationTestAttachment||[];list=[].concat(_toConsumableArray(inputData.masterData.RegistrationTestAttachment),_toConsumableArray(dbData));RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;case\"IDS_RESULTCHANGEHISTORY\":dbData=response.data.ResultChangeHistory||[];list=[].concat(_toConsumableArray(inputData.masterData.ResultChangeHistory),_toConsumableArray(dbData));ResultChangeHistory=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;case\"IDS_TESTCOMMENTS\":dbData=response.data.RegistrationTestComment||[];list=[].concat(_toConsumableArray(inputData.masterData.RegistrationTestComment),_toConsumableArray(dbData));RegistrationTestComment=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;default:dbData=response.data.TestParameters||[];list=[].concat(_toConsumableArray(inputData.masterData.TestParameters),_toConsumableArray(dbData));TestParameters=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;}}else{var _list=[];switch(inputData.activeTestKey){case\"IDS_RESULTS\":_list=response.data.TestParameters?sortData(response.data.TestParameters,'ascending','ntransactionresultcode'):[];TestParameters=getRecordBasedOnPrimaryKeyName(_list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"TestParameters\";dataStateName=\"resultDataState\";break;case\"IDS_INSTRUMENT\":_list=response.data.ResultUsedInstrument?sortData(response.data.ResultUsedInstrument,'descending','nresultusedinstrumentcode'):[];ResultUsedInstrument=getRecordBasedOnPrimaryKeyName(_list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"ResultUsedInstrument\";dataStateName=\"instrumentDataState\";break;case\"IDS_TASK\":_list=response.data.ResultUsedTasks?sortData(response.data.ResultUsedTasks,'descending','nresultusedtaskcode'):[];_list.reduce(function(unique,item){return unique.includes(item)?unique:[].concat(_toConsumableArray(unique),[item]);},[]);ResultUsedTasks=getRecordBasedOnPrimaryKeyName(_list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"ResultUsedTasks\";dataStateName=\"taskDataState\";break;case\"IDS_TESTATTACHMENTS\":_list=response.data.RegistrationTestAttachment?sortData(response.data.RegistrationTestAttachment,'descending','ntestattachmentcode'):[];RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(_list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"RegistrationTestAttachment\";break;case\"IDS_RESULTCHANGEHISTORY\":_list=response.data.ResultChangeHistory?sortData(response.data.ResultChangeHistory,'descending','nresultchangehistorycode'):[];ResultChangeHistory=getRecordBasedOnPrimaryKeyName(_list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"ResultChangeHistory\";dataStateName=\"resultChangeDataState\";break;case\"IDS_TESTCOMMENTS\":_list=response.data.RegistrationTestComment?sortData(response.data.RegistrationTestComment,'descending','ntestcommentcode'):[];RegistrationTestComment=getRecordBasedOnPrimaryKeyName(_list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"RegistrationTestComment\";dataStateName=\"testCommentDataState\";break;default:_list=response.data.TestParameters?sortData(response.data.TestParameters,'ascending','ntransactionresultcode'):[];TestParameters=getRecordBasedOnPrimaryKeyName(_list,inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"TestParameters\";dataStateName=\"resultDataState\";break;}}masterData=_objectSpread(_objectSpread({},masterData),{},{// wholeApprovalParameter,\nTestParameters:TestParameters,// wholeResultUsedInstrument,\nResultUsedInstrument:ResultUsedInstrument,// wholeResultUsedTasks,\nResultUsedTasks:ResultUsedTasks,// wholeRegistrationTestAttachment,\nRegistrationTestAttachment:RegistrationTestAttachment,// wholeResultChangeHistory,\nResultChangeHistory:ResultChangeHistory,// wholeRegistrationTestComments,\nRegistrationTestComment:RegistrationTestComment});if(inputData[dataStateName]&&masterData[activeName].length<=inputData[dataStateName].skip){skipInfo=_objectSpread(_objectSpread({},skipInfo),{},_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{skip:0,sort:undefined,filter:undefined})));}else{skipInfo=_objectSpread(_objectSpread({},skipInfo),{},_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{sort:undefined,filter:undefined})));}dispatch({type:DEFAULT_RETURN,payload:_objectSpread({masterData:masterData,loading:false,skip:undefined,take:undefined},skipInfo)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{var oldSelectedTest=inputData.masterData.RESelectedTest;var TestSelected=getRecordBasedOnPrimaryKeyName(inputData.masterData.RESelectedTest,inputData.removeElementFromArray[0].npreregno,\"npreregno\");var isGrandChildGetRequired=false;if(TestSelected.length>0){isGrandChildGetRequired=true;}else{isGrandChildGetRequired=false;}fillRecordBasedOnCheckBoxSelection(inputData.masterData,inputData.RESelectedSample,inputData.childTabsKey,inputData.checkBoxOperation,\"npreregno\",inputData.removeElementFromArray);if(isGrandChildGetRequired){var ntransactiontestcode=inputData.masterData.RE_TEST.length>0?inputData.masterData.RE_TEST[0].ntransactiontestcode.toString():\"\";var RESelectedSample=inputData.RESelectedSample;var RESelectedTest=inputData.masterData.RE_TEST.length>0?[inputData.masterData.RE_TEST[0]]:[];var RESelectedSubSample=inputData.masterData.RE_SUBSAMPLE;inputData=_objectSpread(_objectSpread({},inputData),{},{childTabsKey:[\"TestParameters\",\"ResultUsedInstrument\",\"ResultUsedTasks\",\"RegistrationTestAttachment\",\"ResultChangeHistory\",\"RegistrationTestComment\",\"ResultChangeHistory\"],ntransactiontestcode:ntransactiontestcode,RESelectedSample:RESelectedSample,RESelectedTest:RESelectedTest,RESelectedSubSample:RESelectedSubSample,checkBoxOperation:3,activeTestKey:inputData.activeTestKey});dispatch(getTestChildTabREDetail(inputData,true));}else{//added by sudharshanan for test select issue while sample click\nvar masterData=_objectSpread(_objectSpread({},inputData.masterData),{},{RESelectedTest:inputData.masterData.RE_TEST.length>0?[inputData.masterData.RE_TEST[0]]:[],RESelectedSample:inputData.RESelectedSample,RESelectedSubSample:inputData.masterData.RE_SUBSAMPLE});var wholeTestList=masterData.RE_TEST.map(function(b){return b.ntransactiontestcode;});oldSelectedTest.map(function(test,index){if(!wholeTestList.includes(test.ntransactiontestcode)){oldSelectedTest.splice(index,1);}return null;});var keepOld=false;var _ntransactiontestcode;if(oldSelectedTest.length>0){keepOld=true;masterData=_objectSpread(_objectSpread({},masterData),{},{RESelectedTest:oldSelectedTest});}else{_ntransactiontestcode=masterData.RE_TEST[0].ntransactiontestcode;}var TestParameters=keepOld?inputData.masterData.TestParameters:getRecordBasedOnPrimaryKeyName(inputData.masterData.TestParameters,_ntransactiontestcode,\"ntransactiontestcode\");var ResultUsedInstrument=keepOld?inputData.masterData.ResultUsedInstrument:getRecordBasedOnPrimaryKeyName(inputData.masterData.ResultUsedInstrument||[],_ntransactiontestcode,\"ntransactiontestcode\");var ResultUsedTasks=keepOld?inputData.masterData.ResultUsedTasks:getRecordBasedOnPrimaryKeyName(inputData.masterData.ResultUsedTasks||[],_ntransactiontestcode,\"ntransactiontestcode\");var RegistrationTestAttachment=keepOld?inputData.masterData.RegistrationTestAttachment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment||[],_ntransactiontestcode,\"ntransactiontestcode\");var RegistrationTestComment=keepOld?inputData.masterData.RegistrationTestComment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestComment||[],_ntransactiontestcode,\"ntransactiontestcode\");var ResultChangeHistory=keepOld?inputData.masterData.ResultChangeHistory:getRecordBasedOnPrimaryKeyName(inputData.masterData.ResultChangeHistory||[],_ntransactiontestcode,\"ntransactiontestcode\");var _inputData2=inputData,testskip=_inputData2.testskip,testtake=_inputData2.testtake;var bool=false;var skipInfo={};if(inputData.masterData.RE_TEST.length<=inputData.testskip){testskip=0;bool=true;}if(bool){skipInfo={testskip:testskip,testtake:testtake};}dispatch({type:DEFAULT_RETURN,payload:_objectSpread({masterData:_objectSpread(_objectSpread({},masterData),{},{RESelectedSample:inputData.RESelectedSample,// selectedPreregno: inputData.npreregno,\n// RESelectedTest: inputData.masterData.searchedTest && inputData.masterData.searchedTest.length > 0 ? [inputData.masterData.\n//     searchedTest[0]\n// ] : inputData.masterData.RE_TEST.length > 0 ? [inputData.masterData.\n//     RE_TEST[0]\n// ] : [],\n// RESelectedTest: inputData.masterData.RE_TEST.length > 0 ? [inputData.masterData.RE_TEST[0]] : [],\nTestParameters:TestParameters,ResultUsedInstrument:ResultUsedInstrument,ResultUsedTasks:ResultUsedTasks,RegistrationTestAttachment:RegistrationTestAttachment,RegistrationTestComment:RegistrationTestComment,ResultChangeHistory:ResultChangeHistory,RESelectedSubSample:inputData.masterData.RE_SUBSAMPLE}),loading:false,showFilter:false,activeSampleTab:inputData.activeSampleTab,activeTestKey:inputData.activeTestKey},skipInfo)});}}};}export function getTestREDetail(inputData){return function(dispatch){var inputParamData={nflag:3,ntype:3,nsampletypecode:inputData.nsampletypecode,nregtypecode:inputData.nregtypecode,nregsubtypecode:inputData.nregsubtypecode,npreregno:inputData.npreregno,ntransactiontestcode:0,ntranscode:inputData.ntransactionstatus.toString(),ntransactionsamplecode:inputData.ntransactionsamplecode,userinfo:inputData.userinfo,ntestcode:inputData.ntestcode,activeTestKey:inputData.activeTestKey};dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getResultEntryDetails\",inputParamData).then(function(response){// if (response.data.DynamicGetTests) {\n//     sortData(response.data.DynamicGetTests, \"descending\", \"npreregno\");\n// }\ndispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),response.data),{},{RESelectedSubSample:inputData.RESelectedSubSample}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getSampleChildTabREDetail(inputData){return function(dispatch){var inputParamData={ntransactiontestcode:inputData.ntransactiontestcode,npreregno:inputData.npreregno,userinfo:inputData.userinfo};var url=\"\";switch(inputData.activeSampleKey){case\"IDS_DOCUMENTS\":url=\"attachment/getSampleAttachment\";break;case\"IDS_SAMPLEATTACHMENTS\":url=\"attachment/getSampleAttachment\";break;case\"IDS_APPROVALHISTORY\":url=\"resultentrybysample/getSampleApprovalHistory\";break;default:url=\"attachment/getSampleAttachment\";break;}dispatch(initRequest(true));rsapi.post(url,inputParamData).then(function(response){var responseData=_objectSpread({},response.data);//responseData = sortData(responseData)\nfillRecordBasedOnCheckBoxSelection(inputData.masterData,responseData,inputData.childTabsKey,inputData.checkBoxOperation,\"npreregno\",inputData.removeElementFromArray);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),response.data),{},{RESelectedSample:inputData.RESelectedSample}),loading:false,activeSampleKey:inputData.activeSampleKey,screenName:inputData.screenName}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getTestChildTabREDetail(inputData,isServiceRequired){return function(dispatch){var inputParamData={ntransactiontestcode:inputData.RESelectedTest.map(function(test){return test.ntransactiontestcode;}).join(\",\"),npreregno:inputData.npreregno,userinfo:inputData.userinfo};var activeName=\"\";var dataStateName=\"\";// let { resultDataState, materialDataState, instrumentDataState, taskDataState, resultChangeDataState,\n//     documentDataState, testCommentDataState } = inputData\nvar url=\"resultentrybysample/getTestbasedParameter\";switch(inputData.activeTestKey){case\"IDS_RESULTS\":url=\"resultentrybysample/getTestbasedParameter\";activeName=\"TestParameters\";dataStateName=\"resultDataState\";break;case\"IDS_INSTRUMENT\":url=\"resultentrybysample/getResultUsedInstrument\";activeName=\"ResultUsedInstrument\";dataStateName=\"instrumentDataState\";break;case\"IDS_MATERIAL\":url=\"resultentrybysample/getResultUsedMaterial\";activeName=\"\";dataStateName=\"materialDataState\";break;case\"IDS_TASK\":url=\"resultentrybysample/getResultUsedTask\";activeName=\"ResultUsedTasks\";dataStateName=\"taskDataState\";break;case\"IDS_TESTATTACHMENTS\":url=\"attachment/getTestAttachment\";activeName=\"RegistrationTestAttachment\";break;case\"IDS_TESTCOMMENTS\":url=\"comments/getTestComment\";activeName=\"RegistrationTestComment\";dataStateName=\"testCommentDataState\";break;case\"IDS_DOCUMENTS\":url=\"attachment/getSampleAttachment\";activeName=\"\";dataStateName=\"documentDataState\";break;case\"IDS_RESULTCHANGEHISTORY\":url=\"resultentrybysample/getResultChangeHistory\";activeName=\"ResultChangeHistory\";dataStateName=\"resultChangeDataState\";break;case\"IDS_SAMPLEATTACHMENTS\":url=\"attachment/getSampleAttachment\";activeName=\"\";dataStateName=\"resultDataState\";break;default:url=\"resultentrybysample/getTestbasedParameter\";activeName=\"TestParameters\";dataStateName=\"resultDataState\";break;}dispatch(initRequest(true));if(isServiceRequired){rsapi.post(url,inputParamData).then(function(response){var responseData=_objectSpread(_objectSpread({},response.data),{},{RESelectedSample:inputData.RESelectedSample||inputData.masterData.RESelectedSample,RESelectedTest:inputData.RESelectedTest});var skipInfo={};//responseData = sortData(responseData)\nfillRecordBasedOnCheckBoxSelection(inputData.masterData,responseData,inputData.childTabsKey,inputData.checkBoxOperation,\"npreregno\",inputData.removeElementFromArray);var masterData=_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),sortData(responseData)),{},{RESelectedTest:inputData.RESelectedTest});if(inputData[dataStateName]&&masterData[activeName].length<=inputData[dataStateName].skip){skipInfo=_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{skip:0,sort:undefined,filter:undefined}));}else{skipInfo=_objectSpread(_objectSpread({},skipInfo),{},_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{sort:undefined,filter:undefined})));}dispatch({type:DEFAULT_RETURN,payload:_objectSpread({masterData:masterData,loading:false,activeTestKey:inputData.activeTestKey,screenName:inputData.activeTestKey,testskip:undefined,testtake:undefined},skipInfo)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{//fillRecordBasedOnCheckBoxSelection(inputData.masterData, response.data, inputData.childTabsKey, inputData.checkBoxOperation, \"npreregno\", inputData.removeElementFromArray);\nfillRecordBasedOnCheckBoxSelection(inputData.masterData,inputData.RESelectedTest,inputData.childTabsKey,inputData.checkBoxOperation,\"ntransactiontestcode\",inputData.removeElementFromArray);var skipInfo={};var masterData=_objectSpread(_objectSpread({},inputData.masterData),{},{RESelectedTest:inputData.RESelectedTest});if(masterData[activeName].length<=inputData[dataStateName].skip){skipInfo=_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{skip:0,sort:undefined,filter:undefined}));}else{skipInfo=_objectSpread(_objectSpread({},skipInfo),{},_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{sort:undefined,filter:undefined})));}dispatch({type:DEFAULT_RETURN,payload:_objectSpread({masterData:masterData,loading:false,showFilter:false,activeTestKey:inputData.activeTestKey,screenName:inputData.screenName},skipInfo)});}};}export function getRERegistrationType(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getRegistrationType\",inputData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},inputData.masterData),response.data),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getRERegistrationSubType(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getRegistrationsubType\",inputData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),response.data),{},{defaultRegistrationType:inputData.defaultRegistrationType}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getREApprovalConfigVersion(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getApprovalConfigVersion\",inputData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),response.data),{},{defaultRegistrationSubType:inputData.defaultRegistrationSubType// fromDate: inputData.fromdate,\n//  toDate: inputData.todate\n}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getREFilterStatus(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getFilterStatus\",inputData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),response.data),{},{defaultjobstatus:inputData.defaultjobstatus// fromDate: inputData.fromdate,\n// toDate: inputData.todate\n}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getREJobStatus(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getJobStatus\",inputData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),response.data),{},{defaultApprovalConfigVersion:inputData.defaultApprovalConfigVersion// fromDate: inputData.fromdate,\n// toDate: inputData.todate\n}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getResultEntryDetails(inputParamData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getResultEntryDetails\",inputParamData.inputData).then(function(response){var masterData=_objectSpread({},inputParamData.masterData);if(inputParamData.refs.searchSampleRef!==undefined&&inputParamData.refs.searchSampleRef.current!==null){inputParamData.refs.searchSampleRef.current.value=\"\";masterData['searchedSample']=undefined;}if(inputParamData.refs.searchSubSampleRef!==undefined&&inputParamData.refs.searchSubSampleRef.current!==null){inputParamData.refs.searchSubSampleRef.current.value=\"\";masterData['searchedSubSample']=undefined;}if(inputParamData.refs.searchTestRef!==undefined&&inputParamData.refs.searchTestRef.current!==null){inputParamData.refs.searchTestRef.current.value=\"\";// masterData['searchedTests'] = undefined\nmasterData['searchedTest']=undefined;}dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},masterData),response.data),{},{realFromDate:response.data[\"fromDate\"],realToDate:response.data[\"toDate\"]}),loading:false,showTest:inputParamData.inputData.showTest,showSample:inputParamData.inputData.showSample,activeTestKey:inputParamData.inputData.activeTestKey,skip:0,take:inputParamData.inputData.take,testskip:0,testtake:inputParamData.inputData.testtake,resultDataState:_objectSpread(_objectSpread({},inputParamData.resultDataState),{},{sort:undefined,filter:undefined}),instrumentDataState:_objectSpread(_objectSpread({},inputParamData.instrumentDataState),{},{sort:undefined,filter:undefined}),materialDataState:_objectSpread(_objectSpread({},inputParamData.materialDataState),{},{sort:undefined,filter:undefined}),taskDataState:_objectSpread(_objectSpread({},inputParamData.taskDataState),{},{sort:undefined,filter:undefined}),documentDataState:_objectSpread(_objectSpread({},inputParamData.documentDataState),{},{sort:undefined,filter:undefined}),resultChangeDataState:_objectSpread(_objectSpread({},inputParamData.resultChangeDataState),{},{sort:undefined,filter:undefined}),testCommentDataState:_objectSpread(_objectSpread({},inputParamData.testCommentDataState),{},{sort:undefined,filter:undefined}),historyDataState:_objectSpread(_objectSpread({},inputParamData.historyDataState),{},{sort:undefined,filter:undefined}),samplePrintHistoryDataState:_objectSpread(_objectSpread({},inputParamData.samplePrintHistoryDataState),{},{sort:undefined,filter:undefined}),sampleHistoryDataState:_objectSpread(_objectSpread({},inputParamData.sampleHistoryDataState),{},{sort:undefined,filter:undefined})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function resultGetModule(inputData,userInfo,ncontrolcode,testskip,testtake){return function(dispatch){var TestList=_toConsumableArray(inputData.RE_TEST);TestList=TestList.splice(testskip,testskip+testtake);var acceptTestList=getSameRecordFromTwoArrays(TestList,inputData.RESelectedTest,\"ntransactiontestcode\");if(acceptTestList&&acceptTestList.length>0){if(Object.values(inputData).length>0&&inputData.RESelectedTest.length>0){var inputParamData={ntransactiontestcode:acceptTestList?acceptTestList.map(function(test){return test.ntransactiontestcode;}).join(\",\"):\"\",userinfo:userInfo};dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getResultEntryResults\",inputParamData).then(function(response){var selectedResultGrade=[];var paremterResultcode=[];var parameterResults=response.data.ResultParameter;parameterResults.map(function(param,index){selectedResultGrade[index]={ngradecode:param.ngradecode};paremterResultcode[index]=param.ntransactionresultcode;response.data.PredefinedValues&&response.data.PredefinedValues[parameterResults[index].ntransactionresultcode]&&response.data.PredefinedValues[parameterResults[index].ntransactionresultcode].map(function(predefinedvalue){if(predefinedvalue.ndefaultstatus===transactionStatus.YES){response.data.PredefinedValues[parameterResults[index].ntransactionresultcode]=constructOptionList(response.data.PredefinedValues[parameterResults[index].ntransactionresultcode]||[],'spredefinedname','spredefinedname',undefined,undefined,undefined).get(\"OptionList\");if(response.data.ResultParameter[index].sresult===null){response.data.ResultParameter[index].sresult=predefinedvalue.spredefinedname;response.data.ResultParameter[index].sfinal=predefinedvalue.spredefinedname;response.data.ResultParameter[index].editable=true;response.data.ResultParameter[index].ngradecode=predefinedvalue.ngradecode;}}return null;});return null;});dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData),response.data),{},{paremterResultcode:paremterResultcode//,\n//selectedResultGrade ,\n}),selectedRecord:{selectedResultGrade:selectedResultGrade,ResultParameter:response.data.ResultParameter},loading:false,screenName:\"IDS_RESULTENTRY\",openModal:true,operation:\"update\",activeTestKey:\"IDS_RESULTS\",ncontrolcode:ncontrolcode}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});//}\n}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.warn(intl.formatMessage({id:\"IDS_SELECTTESTTOENTERRESULT\"}));}}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.warn(intl.formatMessage({id:\"IDS_SELECTTESTTOENTERRESULT\"}));}};}export function completeTest(inputParam,acceptList,userInfo,completeResultId){if(acceptList!==undefined&&acceptList.length>0){return function(dispatch){var inputData=inputParam.testChildGetREParam;var inputParamData={ntype:3,nflag:3,nsampletypecode:inputData.nsampletypecode,nregtypecode:inputData.nregtypecode,nregsubtypecode:inputData.nregsubtypecode,npreregno:inputData.npreregno,ntranscode:String(inputData.ntransactionstatus),napprovalversioncode:inputData.napprovalversioncode,napprovalconfigcode:inputData.napprovalconfigcode,ntransactionsamplecode:inputData.ntransactionsamplecode,userinfo:userInfo,fromdate:inputData.fromdate,todate:inputData.todate,ntestcode:inputData.ntestcode,transactiontestcode:acceptList?acceptList.map(function(test){return test.ntransactiontestcode;}).join(\",\"):\"\",ntransactiontestcode:0,activeTestKey:inputData.activeTestKey,ncontrolcode:inputParam.inputData.ncontrolcode};var activeName=\"\";var dataStateName=\"\";// let { resultDataState, materialDataState, instrumentDataState, taskDataState, resultChangeDataState,\n//     documentDataState, testCommentDataState } = inputData\n// let url = \"resultentrybysample/getTestbasedParameter\"\nswitch(inputData.activeTestKey){case\"IDS_RESULTS\":activeName=\"TestParameters\";dataStateName=\"resultDataState\";break;case\"IDS_INSTRUMENT\":activeName=\"ResultUsedInstrument\";dataStateName=\"instrumentDataState\";break;case\"IDS_MATERIAL\":activeName=\"\";dataStateName=\"materialDataState\";break;case\"IDS_TASK\":activeName=\"ResultUsedTasks\";dataStateName=\"taskDataState\";break;case\"IDS_TESTATTACHMENTS\":activeName=\"RegistrationTestAttachment\";break;case\"IDS_TESTCOMMENTS\":activeName=\"RegistrationTestComment\";dataStateName=\"testCommentDataState\";break;case\"IDS_DOCUMENTS\":activeName=\"\";dataStateName=\"documentDataState\";break;case\"IDS_RESULTCHANGEHISTORY\":activeName=\"ResultChangeHistory\";dataStateName=\"resultChangeDataState\";break;case\"IDS_SAMPLEATTACHMENTS\":activeName=\"\";dataStateName=\"resultDataState\";break;default:activeName=\"TestParameters\";dataStateName=\"resultDataState\";break;}dispatch(initRequest(true));rsapi.post(\"resultentrybysample/completeTest\",inputParamData).then(function(response){var RE_SAMPLE=[];var RE_TEST=[];var responseData=response.data;if(responseData[\"RE_TEST\"].length>0){RE_TEST=filterRecordBasedOnTwoArrays(inputData.masterData[\"RE_TEST\"],responseData[\"RE_TEST\"],\"npreregno\");}else{RE_TEST=inputData.masterData[\"RE_TEST\"];}RE_SAMPLE=filterRecordBasedOnTwoArrays(inputData.masterData[\"RE_SAMPLE\"],RE_TEST,\"npreregno\");var RESelectedSample=filterRecordBasedOnTwoArrays(inputData.masterData[\"RESelectedSample\"],RE_TEST,\"npreregno\");var RESelectedTest1=filterRecordBasedOnTwoArrays(inputData.masterData[\"RESelectedTest\"],acceptList,\"ntransactiontestcode\");var RESelectedTest2=updatedObjectWithNewElement(RESelectedTest1,responseData.RESelectedTest);var searchedSample=undefined;if(inputData.masterData[\"searchedSample\"]){searchedSample=filterRecordBasedOnTwoArrays(inputData.masterData[\"searchedSample\"],RE_TEST,\"npreregno\");}var masterData=_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{RE_SAMPLE:RE_SAMPLE,RESelectedSubSample:inputData.masterData.RESelectedSubSample,searchedSample:searchedSample,RESelectedSample:RESelectedSample,RESelectedTest:RESelectedTest2,RE_TEST:responseData[\"RE_TEST\"]});var skipInfo={};if(masterData.RE_SAMPLE&&masterData.RE_SAMPLE.length<=inputParam.skip){skipInfo=_objectSpread(_objectSpread({},skipInfo),{},{skip:0,take:inputParam.take});}if(masterData.RE_TEST&&masterData.RE_TEST.length<=inputParam.testskip){skipInfo=_objectSpread(_objectSpread({},skipInfo),{},{testskip:0,testtake:inputParam.testtake});}if(inputData[dataStateName]&&masterData[activeName].length<=inputData[dataStateName].skip){skipInfo=_objectSpread(_objectSpread({},skipInfo),{},_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{skip:0,sort:undefined,filter:undefined})));}else{skipInfo=_objectSpread(_objectSpread({},skipInfo),{},_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{sort:undefined,filter:undefined})));}var respObject=_objectSpread(_objectSpread({},inputParamData.inputData),{},{openModal:false,loadEsign:false,showConfirmAlert:false,selectedRecord:undefined,loading:false,screenName:inputData.activeTestKey},skipInfo);if(searchedSample&&RESelectedSample.length===0&&searchedSample.length>0){var _objectSpread8;var paramList=inputParam.postParamList[0];var inputParameter=_objectSpread(_objectSpread({},paramList.fecthInputObject.fecthInputObject),{},(_objectSpread8={fetchUrl:paramList.fetchUrl},_defineProperty(_objectSpread8,paramList.primaryKeyField,String(searchedSample[0][paramList.primaryKeyField])),_defineProperty(_objectSpread8,\"ntype\",2),_defineProperty(_objectSpread8,\"nflag\",2),_objectSpread8));respObject=_objectSpread(_objectSpread({},respObject),{},{masterData:_objectSpread(_objectSpread({},masterData),{},{RESelectedSample:[searchedSample[0]]})});dispatch(fetchSelectedData(inputParameter,respObject));}else if(!searchedSample&&RESelectedSample.length===0&&RE_SAMPLE.length>0){var _objectSpread9;var _paramList=inputParam.postParamList[0];var _inputParameter=_objectSpread(_objectSpread({},_paramList.fecthInputObject.fecthInputObject),{},(_objectSpread9={fetchUrl:_paramList.fetchUrl},_defineProperty(_objectSpread9,_paramList.primaryKeyField,String(RE_SAMPLE[0][_paramList.primaryKeyField])),_defineProperty(_objectSpread9,\"ntype\",2),_defineProperty(_objectSpread9,\"nflag\",2),_objectSpread9));respObject=_objectSpread(_objectSpread({},respObject),{},{masterData:_objectSpread(_objectSpread({},masterData),{},{RESelectedSample:[RE_SAMPLE[0]]})});dispatch(fetchSelectedData(_inputParameter,respObject));}else{respObject=_objectSpread(_objectSpread({},respObject),{},{masterData:masterData});dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{loading:false})});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}else{toast.warn(intl.formatMessage({id:\"IDS_SELECTTESTTOCOMPLETE\"}));}}//Compare two array and return the first array which is available in second array\nexport function compareTwoArray(firstArray,secondArray,PrimaryKey){var filterArray=firstArray.filter(function(x){return secondArray.some(function(y){return x[PrimaryKey]===y[PrimaryKey];});});return filterArray;}function fetchSelectedData(inputParam,respObject){return function(dispatch){rsapi.post(inputParam.fetchUrl,_objectSpread({},inputParam)).then(function(response){var masterData=_objectSpread(_objectSpread(_objectSpread({},respObject.masterData),response.data),{},{RESelectedSample:response.data.RESelectedSample||respObject.masterData.RESelectedSample||[]});//sortData(masterData);\ndispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{masterData:masterData,loading:false})});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function testMethodSourceEdit(inputData){return function(dispatch){var inputParamData={ntransactiontestcode:inputData.test.ntransactiontestcode,ntestgrouptestcode:inputData.test.ntestgrouptestcode,ntestcode:inputData.test.ntestcode,ncontrolcode:inputData.editSourceMethodId,userinfo:inputData.userInfo};dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getTestMethodSource\",inputParamData).then(function(response){var TagSource=constructOptionList(response.data.SourceData||[],\"nsourcecode\",\"ssourcename\",undefined,undefined,undefined);var TagListSource=TagSource.get(\"OptionList\");var TagMethod=constructOptionList(response.data.MethodData||[],\"nmethodcode\",\"smethodname\",undefined,undefined,undefined);var TagListMethod=TagMethod.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},inputData.masterData),{},{SourceData:TagListSource,MethodData:TagListMethod,RESelectedSubSample:inputData.masterData.RESelectedSubSample}),selectedRecord:{ntransactiontestcode:inputData.test.ntransactiontestcode,stestsynonym:inputData.test.stestsynonym,nsourcecode:response.data.SourceDataValue,nmethodcode:response.data.MethodDataValue},loading:false,screenName:\"IDS_TESTMETHODSOURCE\",openModal:true,operation:\"update\",ncontrolcode:inputData.editSourceMethodId}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function updateParameterComments(inputData,masterData){return function(dispatch){var inputParamData={ntransactiontestcode:inputData.ntransactiontestcode,ntransactionresultcode:inputData.ntransactionresultcode,sresultcomment:inputData.sresultcomment,transactiontestcode:inputData.transactiontestcode,userinfo:inputData.userinfo,nregtypecode:inputData.nregtypecode,nregsubtypecode:inputData.nregsubtypecode,ncontrolcode:inputData.ncontrolcode};dispatch(initRequest(true));rsapi.post(\"resultentrybysample/updateParameterComments\",inputParamData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},masterData),response.data),loading:false,loadEsign:false,screenName:\"IDS_RESULT\",openModal:false,operation:\"update\",ncontrolcode:inputData.ncontrolcode//ncontrolcode:inputData.editSourceMethodId\n}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function addREInstrument(inputData){return function(dispatch){var urlArray=[];var resultusedinstrument=rsapi.post(\"resultentrybysample/getResultUsedInstrumentCombo\",{userinfo:inputData.userInfo});var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var UTCtimeZoneService=rsapi.post(\"timezone/getLocalTimeByZone\",{userinfo:inputData.userInfo});urlArray=[resultusedinstrument,timeZoneService,UTCtimeZoneService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var TagInstrument=constructOptionList(response[0].data.Instrument||[],\"ninstrumentcode\",\"sinstrumentid\",undefined,undefined,undefined);var TagListInstrument=TagInstrument.get(\"OptionList\");var TagInsturmentcategory=constructOptionList(response[0].data.InstrumentCategory||[],\"ninstrumentcatcode\",\"sinstrumentcatname\",undefined,undefined,undefined);var TagListInstrumentCategory=TagInsturmentcategory.get(\"OptionList\");var TagTimeZone=constructOptionList(response[1].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,undefined);var TagListTimeZone=TagTimeZone.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},inputData.masterData),{},{Instrument:TagListInstrument,InstrumentCategory:TagListInstrumentCategory}),selectedId:null,selectedRecord:{stestsynonym:inputData.test.stestsynonym,transactiontestcode:inputData.RESelectedTest?inputData.RESelectedTest.map(function(test){return test.ntransactiontestcode;}).join(\",\").toString():\"\",ntransactiontestcode:inputData.test.ntransactiontestcode,ninstrumentcatcode:TagInsturmentcategory.get(\"DefaultValue\")?TagInsturmentcategory.get(\"DefaultValue\"):[],ninstrumentcode:TagInstrument.get(\"DefaultValue\")?TagInstrument.get(\"DefaultValue\"):[],npreregno:inputData.test.npreregno,//dtodate: new Date(response[2].data),//new Date(),\ndtodate:rearrangeDateFormat(inputData.userInfo,response[2].data),//new Date(),\n//dfromdate: new Date(response[2].data),//new Date(),\ndfromdate:rearrangeDateFormat(inputData.userInfo,response[2].data),//new Date(),\nntzfromdate:{\"value\":inputData.userInfo.ntimezonecode,\"label\":inputData.userInfo.stimezoneid},ntztodate:{\"value\":inputData.userInfo.ntimezonecode,\"label\":inputData.userInfo.stimezoneid}},timeZoneList:TagListTimeZone||[],loading:false,screenName:\"IDS_INSTRUMENT\",openModal:true,operation:\"create\",//activeTestKey: \"IDS_INSTRUMENT\",\nncontrolcode:inputData.addResultUsedInstrumentId}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function deleteInstrumentRecord(inputData){return function(dispatch){var inputParamData={nresultusedinstrumentcode:inputData.selectedRecord.nresultusedinstrumentcode,userinfo:inputData.userInfo,ntransactiontestcode:inputData.masterData.RESelectedTest?inputData.masterData.RESelectedTest.map(function(test){return test.ntransactiontestcode;}).join(\",\").toString():\"\",nregtypecode:inputData.masterData.defaultRegistrationType.nregtypecode,nregsubtypecode:inputData.masterData.defaultRegistrationSubType.nregsubtypecode};dispatch(initRequest(true));rsapi.post(\"resultentrybysample/deleteResultUsedInstrument\",inputParamData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},inputData.masterData),response.data),loading:false,operation:\"delete\",openModal:false,loadEsign:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function fetchInstrumentRecord(inputData){return function(dispatch){var urlArray=[];//const resultUsedInstrumentCombo = rsapi.post(\"resultentrybysample/getResultUsedInstrumentCombo\", { userinfo: inputData.userInfo });\nvar timeZoneService=rsapi.post(\"resultentrybysample/getResultUsedInstrument\",{nresultusedinstrumentcode:inputData.editRow.nresultusedinstrumentcode,userinfo:inputData.userInfo});var getResultUsedInstrument=rsapi.post(\"timezone/getTimeZone\");urlArray=[timeZoneService,getResultUsedInstrument];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var TagInstrument=constructOptionList(response[0].data.Instrument||[],\"ninstrumentcode\",\"sinstrumentid\",undefined,undefined,undefined);var TagListInstrument=TagInstrument.get(\"OptionList\");var TagInsturmentcategory=constructOptionList(response[0].data.InstrumentCategory||[],\"ninstrumentcatcode\",\"sinstrumentcatname\",undefined,undefined,undefined);var TagListInstrumentCategory=TagInsturmentcategory.get(\"OptionList\");var TagTimeZone=constructOptionList(response[1].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,undefined);var TagListTimeZone=TagTimeZone.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},inputData.masterData),{},{Instrument:TagListInstrument,InstrumentCategory:TagListInstrumentCategory},response[1].data),selectedId:inputData.editRow.nresultusedinstrumentcode,selectedRecord:{stestsynonym:inputData.editRow.stestsynonym,npreregno:response[0].data.EditResultUsedInstrument[0].npreregno,ntransactiontestcode:inputData.editRow.ntransactiontestcode,nresultusedinstrumentcode:inputData.editRow.nresultusedinstrumentcode,ninstrumentcatcode:{\"value\":response[0].data.EditResultUsedInstrument[0].ninstrumentcatcode,\"label\":response[0].data.EditResultUsedInstrument[0].sinstrumentcatname},ninstrumentcode:{\"value\":response[0].data.EditResultUsedInstrument[0].ninstrumentcode,\"label\":response[0].data.EditResultUsedInstrument[0].sinstrumentid},ntzfromdate:{\"value\":response[0].data.EditResultUsedInstrument[0].ntzfromdate,\"label\":response[0].data.EditResultUsedInstrument[0].stzfromdate},ntztodate:{\"value\":response[0].data.EditResultUsedInstrument[0].ntztodate,\"label\":response[0].data.EditResultUsedInstrument[0].stztodate},//dfromdate: new Date(response[0].data.EditResultUsedInstrument[0].sfromdate),\n//dtodate: new Date(response[0].data.EditResultUsedInstrument[0].stodate)\ndfromdate:rearrangeDateFormat(inputData.userInfo,response[0].data.EditResultUsedInstrument[0].sfromdate),dtodate:rearrangeDateFormat(inputData.userInfo,response[0].data.EditResultUsedInstrument[0].stodate)},timeZoneList:TagListTimeZone||[],ncontrolcode:inputData.ncontrolCode,loading:false,screenName:\"IDS_INSTRUMENT\",openModal:true,operation:\"update\"}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function deleteTaskRecord(inputData,userInfo){return function(dispatch){var inputParamData={nresultusedtaskcode:inputData.selectedRecord.nresultusedtaskcode,userinfo:inputData.userInfo,ntransactiontestcode:inputData.masterData.RESelectedTest?inputData.masterData.RESelectedTest.map(function(test){return test.ntransactiontestcode;}).join(\",\").toString():\"\",nregtypecode:inputData.masterData.defaultRegistrationType.nregtypecode,nregsubtypecode:inputData.masterData.defaultRegistrationSubType.nregsubtypecode};dispatch(initRequest(true));rsapi.post(\"resultentrybysample/deleteResultUsedTasks\",inputParamData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},inputData.masterData),response.data),loading:false,operation:\"delete\",openModal:false,loadEsign:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function fetchTaskRecord(inputData){return function(dispatch){var inputParamData={nresultusedtaskcode:inputData.editRow.nresultusedtaskcode,userinfo:inputData.userInfo};dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getResultUsedTask\",inputParamData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},inputData.masterData),response.data),selectedId:response.data.EditResultUsedTasks[0].nresultusedtaskcode,selectedRecord:{npreregno:response.data.EditResultUsedTasks[0].npreregno,stestsynonym:inputData.editRow.stestsynonym,sanalysistime:response.data.EditResultUsedTasks[0].sanalysistime,smisctime:response.data.EditResultUsedTasks[0].smisctime,spreanalysistime:response.data.EditResultUsedTasks[0].spreanalysistime,spreparationtime:response.data.EditResultUsedTasks[0].spreparationtime,scomments:response.data.EditResultUsedTasks[0].scomments,nresultusedtaskcode:response.data.EditResultUsedTasks[0].nresultusedtaskcode},loading:false,screenName:\"IDS_TASK\",openModal:true,operation:\"update\",ncontrolcode:inputData.ncontrolcode}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function parameterRecord(inputData){return function(dispatch){var inputParamData={ntransactionresultcode:inputData.selectedRecord.ntransactionresultcode,ntransactiontestcode:inputData.masterData.RESelectedTest?inputData.masterData.RESelectedTest.map(function(test){return test.ntransactiontestcode;}).join(\",\"):\"\",ncontrolcode:inputData.controlcode,userinfo:inputData.userInfo};dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getParameterComments\",inputParamData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread({},inputData.masterData),selectedId:response.data.ParameterComments.ntransactionresultcode,selectedRecord:{sresultcomment:response.data.ParameterComments.sresultcomment,stestsynonym:inputData.selectedRecord.stestsynonym,sparametersynonym:inputData.selectedRecord.sparametersynonym,transactiontestcode:response.data.ParameterComments.ntransactiontestcode,ntransactionresultcode:response.data.ParameterComments.ntransactionresultcode,ntransactiontestcode:inputData.masterData.RESelectedTest?inputData.masterData.RESelectedTest.map(function(test){return test.ntransactiontestcode;}).join(\",\"):\"\",ncontrolcode:inputData.controlcode},loading:false,screenName:\"IDS_PARAMETERCOMMENTS\",openModal:true,operation:\"updateParameterComments\",ncontrolcode:inputData.controlcode}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function checkListRecord(inputData){return function(dispatch){var inputParamData={ntransactionresultcode:inputData.selectedRecord.ntransactionresultcode,napprovalparametercode:inputData.selectedRecord.napprovalparametercode,nchecklistversioncode:inputData.selectedRecord.nchecklistversioncode,ntransactiontestcode:inputData.selectedRecord.ntransactiontestcode.toString(),ncontrolcode:inputData.ncontrolcode,userinfo:inputData.userInfo};dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getChecklistdesign\",inputParamData).then(function(response){var selectedRecord={};var lsteditedQB=[];selectedRecord={npreregno:inputData.selectedRecord.npreregno,stestsynonym:inputData.selectedRecord.stestsynonym,sparametersynonym:inputData.selectedRecord.sparametersynonym,ntransactiontestcode:inputData.selectedRecord.ntransactiontestcode,ntransactionresultcode:inputData.selectedRecord.ntransactionresultcode,transactiontestcode:inputData.masterData.RESelectedTest?inputData.masterData.RESelectedTest.map(function(test){return test.ntransactiontestcode;}).join(\",\"):\"\"};response.data.ChecklistData.map(function(checklist){selectedRecord[checklist.nchecklistversionqbcode]={nchecklistqbcode:checklist.nchecklistqbcode,nchecklistversioncode:checklist.nchecklistversioncode,nchecklistversionqbcode:checklist.nchecklistversionqbcode,sdefaultvalue:checklist.sdefaultvalue};lsteditedQB.push(checklist.nchecklistversionqbcode);return null;});selectedRecord[\"editedQB\"]=lsteditedQB;dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},inputData.masterData),response.data),selectedId:response.data.selectedId,selectedRecord:selectedRecord,loading:false,screenName:\"IDS_CHECKLISTRESULT\",openTemplateModal:true,needSaveButton:inputData.needSaveButton,operation:\"create\",ncontrolCode:inputData.ncontrolcode}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function onSaveCheckList(selectedRecord,userInfo,nregtypecode,nregsubtypecode){return function(dispatch){var listResultCheckList=[];if(selectedRecord&&selectedRecord.editedQB){selectedRecord.editedQB.map(function(qbcode){return listResultCheckList.push(selectedRecord[qbcode]);});var inputParamData={ntransactionresultcode:selectedRecord.ntransactionresultcode,ntransactiontestcode:selectedRecord.ntransactiontestcode.toString(),transactiontestcode:selectedRecord.transactiontestcode,npreregno:selectedRecord.npreregno,ResultCheckList:listResultCheckList,userinfo:userInfo,nregtypecode:nregtypecode,nregsubtypecode:nregsubtypecode,ncontrolcode:-1};dispatch(initRequest(true));rsapi.post(\"resultentrybysample/createResultEntryChecklist\",inputParamData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{selectedRecord:{},templateData:undefined,openTemplateModal:false,openModal:false,loading:false,loadEsign:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{dispatch({type:DEFAULT_RETURN,payload:{openTemplateModal:false,selectedRecord:{},loading:false,loadEsign:false}});}};}export function defaultTest(inputData,RESelectedTest,RESelectedSample,nregtypecode,nregsubtypecode){if(RESelectedTest!==undefined&&RESelectedTest.length>0){return function(dispatch){var inputParamData={userinfo:inputData.userinfo,ntransactiontestcode:RESelectedTest?RESelectedTest.map(function(test){return test.ntransactiontestcode;}).join(\",\"):\"\",ntestgrouptestcode:RESelectedTest?RESelectedTest.map(function(test){return test.ntestgrouptestcode;}).join(\",\"):\"\",npreregno:RESelectedTest?RESelectedTest.map(function(preregno){return preregno.npreregno;}).join(\",\"):\"\",//RESelectedSample ? RESelectedSample.map(preregno => preregno.npreregno).join(\",\") : \"\",\nnregtypecode:nregtypecode,nregsubtypecode:nregsubtypecode,ncontrolcode:inputData.ncontrolcode};dispatch(initRequest(true));rsapi.post(\"resultentrybysample/updateDefaultValue\",inputParamData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),response.data),{},{TestParameters:replaceUpdatedObject(response.data.TestParameters,inputData.masterData.TestParameters,'ntransactionresultcode'),RESelectedSubSample:inputData.masterData.RESelectedSubSample}),loading:false,activeTestKey:\"IDS_RESULTS\",openModal:false,loadEsign:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false,openModal:false,loadEsign:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}else{toast.warn(intl.formatMessage({id:\"IDS_SELECTTESTTOCOMPLETE\"}));}}export function getFormula(parameterData,userInfo,masterData,index,selectedRecord){return function(dispatch){var inputParamData={ntransactiontestcode:parameterData.ntransactiontestcode,nformulacode:parameterData.ntestgrouptestformulacode,userinfo:userInfo};dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getFormulaInputs\",inputParamData).then(function(response){var validateFormulaMandyFields=response.data.DynamicFormulaFields.map(function(item,index){return{\"idsName\":\"IDS_FILLALLFIELDS\",\"dataField\":index,\"mandatory\":true};});dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},masterData),response.data),selectedRecord:_objectSpread(_objectSpread({},selectedRecord),{},{parameterData:parameterData,sformulacalculationdetail:response.data.query,formulainput:response.data.Formula,resultindex:index,selectedForumulaInput:[]}),validateFormulaMandyFields:validateFormulaMandyFields,loading:false,screenName:\"IDS_RESULTFORMULA\",showFormula:true,operation:\"validate\",showValidate:true}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function calculateFormula(inputDataValue){return function(dispatch){var inputData={ntransactiontestcode:inputDataValue.selectedRecord.parameterData.ntransactiontestcode,ntransactionresultcode:inputDataValue.selectedRecord.parameterData.ntransactionresultcode,npreregno:inputDataValue.selectedRecord.parameterData.npreregno,sformulacalculationcode:inputDataValue.selectedRecord.sformulacalculationdetail,nformulacode:inputDataValue.selectedRecord.parameterData.ntestgrouptestformulacode,userinfo:inputDataValue.userInfo,dynamicformulafields:inputDataValue.lstDynamicFields};dispatch(initRequest(true));rsapi.post(\"testmaster/calculateFormula\",inputData).then(function(response){// inputDataValue.selectedResultData[inputDataValue.selectedRecord.resultindex] =\n// {\n//     ntransactionresultcode: inputDataValue.selectedRecord.parameterData.ntransactionresultcode,\n//     ntransactiontestcode: inputDataValue.selectedRecord.parameterData.ntransactiontestcode,\n//     nparametertypecode: inputDataValue.selectedRecord.parameterData.nparametertypecode,\n//     sresult: response.data.Result,\n//     nroundingdigit: inputDataValue.selectedRecord.parameterData.nroundingdigits,\n//     value: inputDataValue.selectedRecord.parameterData.ngradecode,\n//     parameter: inputDataValue.selectedRecord.parameterData\n// }\ninputDataValue.ResultParameter[inputDataValue.selectedRecord.resultindex][\"sfinal\"]=response.data.Result;inputDataValue.ResultParameter[inputDataValue.selectedRecord.resultindex][\"sresult\"]=response.data.Result;inputDataValue.ResultParameter[inputDataValue.selectedRecord.resultindex]['editable']=true;inputDataValue.ResultParameter[inputDataValue.selectedRecord.resultindex][\"ncalculatedresult\"]=3;inputDataValue.selectedResultGrade[inputDataValue.selectedRecord.resultindex]={ngradecode:numericGrade(inputDataValue.selectedRecord.parameterData,parseInt(response.data.Result))};dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread({},inputDataValue.masterData),selectedRecord:{selectedResultGrade:inputDataValue.selectedResultGrade,ResultParameter:inputDataValue.ResultParameter},loading:false,screenName:\"IDS_RESULTENTRY\",showFormula:false,operation:\"update\",showValidate:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{//toast.warn(error.response.data);\ntoast.warn(error.response.data[\"Result\"]);}});};}export function getREFilterTestData(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getTestBasedOnCombo\",inputData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),response.data),{},{defaultFilterStatus:inputData.defaultFilterStatus}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function updateTestMethodSource(inputData,masterData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"resultentrybysample/updateTestMethodSource\",inputData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},masterData),{},{RE_TEST:replaceUpdatedObject(response.data.RE_TEST,masterData.RE_TEST,'ntransactiontestcode')}),loading:false,openModal:false,loadEsign:false// activeTestKey: \"IDS_RESULTS\"\n}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function resultImportFile(inputData,masterData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"resultentrybysample/getImportResultEntry\",inputData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread({},masterData),loading:false,openModal:false// activeTestKey: \"IDS_RESULTS\"\n}});if(response.data.returnStatus&&response.data.returnStatus!==\"\"){toast.info(response.data.returnStatus);}else{toast.warn(response.data.returnStatus);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function validateEsignCredentialComplete(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"login/validateEsignCredential\",inputParam.inputData).then(function(response){if(response.data===\"Success\"){var methodUrl=\"performaction\";inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"]=inputParam.inputData.userinfo;if(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()]&&inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]){delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"];}if(inputParam[\"screenData\"][\"inputParam\"][\"operation\"]===\"complete\"){dispatch(completeTest(inputParam[\"screenData\"][\"inputParam\"],inputParam[\"screenData\"][\"inputParam\"][\"RESelectedTest\"],inputParam.inputData.userinfo));}else if(inputParam[\"screenData\"][\"inputParam\"][\"operation\"]===\"default\"){dispatch(defaultTest(inputParam[\"screenData\"][\"inputParam\"][\"testChildGetREParam\"],inputParam[\"screenData\"][\"inputParam\"][\"RESelectedTest\"],inputParam[\"screenData\"][\"inputParam\"][\"RESelectedSample\"],inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"nregtypecode\"],inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"nregsubtypecode\"]));}else if(inputParam[\"screenData\"][\"inputParam\"][\"operation\"]===\"deleteInstrument\"){dispatch(deleteInstrumentRecord(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"]));}else if(inputParam[\"screenData\"][\"inputParam\"][\"operation\"]===\"createMethod\"){dispatch(updateTestMethodSource(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"],inputParam[\"screenData\"][\"inputParam\"][\"masterData\"]));}else if(inputParam[\"screenData\"][\"inputParam\"][\"operation\"]===\"deleteTask\"){dispatch(deleteTaskRecord(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"]));}else if(inputParam[\"screenData\"][\"inputParam\"][\"operation\"]===\"updateParameterComments\"){dispatch(updateParameterComments(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"],inputParam[\"screenData\"][\"inputParam\"][\"masterData\"]));}else if(inputParam[\"screenData\"][\"operation\"]===\"updatechecklist\"){var _inputParam$screenDat=inputParam[\"screenData\"],selectedRecord=_inputParam$screenDat.selectedRecord,userInfo=_inputParam$screenDat.userInfo,nregtypecode=_inputParam$screenDat.nregtypecode,nregsubtypecode=_inputParam$screenDat.nregsubtypecode;delete selectedRecord.esignpassword;delete selectedRecord.esigncomments;delete selectedRecord.agree;delete inputParam.inputData.password;userInfo=inputParam.inputData.userinfo;dispatch(onSaveCheckList(selectedRecord,userInfo,nregtypecode,nregsubtypecode));}}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getMeanCalculationTestParameter(meanParam){return function(dispatch){dispatch(initRequest(true));var inputData={npreregno:meanParam.selectedRecord.npreregno,ntransactionresultcode:meanParam.selectedRecord.ntransactionresultcode,userinfo:meanParam.userInfo};return rsapi.post(\"resultentrybysample/getMeanCalculationTestParameter\",inputData).then(function(response){var list=response.data||[];// const optionList = [];\n// list.map(item=>{\n//     console.log(\"item:\", item);\n//         optionList.push({item:item, \n//                         label:\"[\"+item.stestsynonym+\"]-[\"+item.sparametersynonym+\"]-[\"+item.sresult+\"]\", \n//                         value:item.ntransactionresultcode})\n//     })\n// const masterData = {...masterData, ResultParameter:meanParam.selectedRecord}\ndispatch({type:DEFAULT_RETURN,payload:{loading:false,openModal:true,meanTestParameterList:list,screenName:\"IDS_MEANPARAMETER\",ncontrolcode:meanParam.ncontrolCode,selectedTestParameterMean:meanParam.selectedRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/actions/ResultEntryAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","initRequest","intl","Axios","numericGrade","constructOptionList","fillRecordBasedOnCheckBoxSelection","filterRecordBasedOnTwoArrays","getRecordBasedOnPrimaryKeyName","getSameRecordFromTwoArrays","replaceUpdatedObject","sortData","updatedObjectWithNewElement","rearrangeDateFormat","transactionStatus","getsubSampleREDetail","inputData","isServiceRequired","dispatch","inputParamData","ntype","nflag","nsampletypecode","nregtypecode","nregsubtypecode","npreregno","ntranscode","String","ntransactionstatus","ntransactiontestcode","userinfo","ntestcode","napprovalversioncode","fromdate","todate","activeTestKey","activeSampleKey","activeName","dataStateName","post","then","response","oldSelectedTest","masterData","RESelectedTest","data","childTabsKey","checkBoxOperation","removeElementFromArray","RE_TEST","length","RESelectedSample","RESelectedSubSample","RE_SUBSAMPLE","searchSubSampleRef","undefined","current","value","searchTestRef","testskip","testtake","bool","skipInfo","TestParameters","ResultUsedInstrument","ResultUsedTasks","RegistrationTestAttachment","ResultChangeHistory","RegistrationTestComment","wholeTestList","map","b","test","index","includes","splice","keepOld","list","dbData","reduce","unique","item","skip","sort","filter","type","payload","loading","take","catch","error","status","message","warn","TestSelected","isGrandChildGetRequired","toString","getTestChildTabREDetail","showFilter","activeSampleTab","getTestREDetail","ntransactionsamplecode","getSampleChildTabREDetail","url","responseData","screenName","join","getRERegistrationType","getRERegistrationSubType","defaultRegistrationType","getREApprovalConfigVersion","defaultRegistrationSubType","getREFilterStatus","defaultjobstatus","getREJobStatus","defaultApprovalConfigVersion","getResultEntryDetails","refs","searchSampleRef","realFromDate","realToDate","showTest","showSample","resultDataState","instrumentDataState","materialDataState","taskDataState","documentDataState","resultChangeDataState","testCommentDataState","historyDataState","samplePrintHistoryDataState","sampleHistoryDataState","resultGetModule","userInfo","ncontrolcode","TestList","acceptTestList","Object","values","selectedResultGrade","paremterResultcode","parameterResults","ResultParameter","param","ngradecode","ntransactionresultcode","PredefinedValues","predefinedvalue","ndefaultstatus","YES","get","sresult","spredefinedname","sfinal","editable","selectedRecord","openModal","operation","formatMessage","id","completeTest","inputParam","acceptList","completeResultId","testChildGetREParam","napprovalconfigcode","transactiontestcode","RE_SAMPLE","RESelectedTest1","RESelectedTest2","searchedSample","respObject","loadEsign","showConfirmAlert","paramList","postParamList","inputParameter","fecthInputObject","fetchUrl","primaryKeyField","fetchSelectedData","compareTwoArray","firstArray","secondArray","PrimaryKey","filterArray","x","some","y","testMethodSourceEdit","ntestgrouptestcode","editSourceMethodId","TagSource","SourceData","TagListSource","TagMethod","MethodData","TagListMethod","stestsynonym","nsourcecode","SourceDataValue","nmethodcode","MethodDataValue","updateParameterComments","sresultcomment","addREInstrument","urlArray","resultusedinstrument","timeZoneService","UTCtimeZoneService","all","TagInstrument","Instrument","TagListInstrument","TagInsturmentcategory","InstrumentCategory","TagListInstrumentCategory","TagTimeZone","TagListTimeZone","selectedId","ninstrumentcatcode","ninstrumentcode","dtodate","dfromdate","ntzfromdate","ntimezonecode","stimezoneid","ntztodate","timeZoneList","addResultUsedInstrumentId","deleteInstrumentRecord","nresultusedinstrumentcode","fetchInstrumentRecord","editRow","getResultUsedInstrument","EditResultUsedInstrument","sinstrumentcatname","sinstrumentid","stzfromdate","stztodate","sfromdate","stodate","ncontrolCode","deleteTaskRecord","nresultusedtaskcode","fetchTaskRecord","EditResultUsedTasks","sanalysistime","smisctime","spreanalysistime","spreparationtime","scomments","parameterRecord","controlcode","ParameterComments","sparametersynonym","checkListRecord","napprovalparametercode","nchecklistversioncode","lsteditedQB","ChecklistData","checklist","nchecklistversionqbcode","nchecklistqbcode","sdefaultvalue","push","openTemplateModal","needSaveButton","onSaveCheckList","listResultCheckList","editedQB","qbcode","ResultCheckList","templateData","defaultTest","preregno","getFormula","parameterData","nformulacode","ntestgrouptestformulacode","validateFormulaMandyFields","DynamicFormulaFields","sformulacalculationdetail","query","formulainput","Formula","resultindex","selectedForumulaInput","showFormula","showValidate","calculateFormula","inputDataValue","sformulacalculationcode","dynamicformulafields","lstDynamicFields","Result","parseInt","getREFilterTestData","defaultFilterStatus","updateTestMethodSource","resultImportFile","returnStatus","info","validateEsignCredentialComplete","methodUrl","toLowerCase","esignpassword","esigncomments","agree","password","getMeanCalculationTestParameter","meanParam","meanTestParameterList","selectedTestParameterMean"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport {\r\n    DEFAULT_RETURN\r\n} from './LoginTypes';\r\nimport {\r\n    toast\r\n} from 'react-toastify';\r\nimport {\r\n    initRequest\r\n} from './LoginAction';\r\nimport {\r\n    intl\r\n} from '../components/App';\r\nimport Axios from 'axios';\r\nimport {\r\n    numericGrade\r\n} from '../pages/ResultEntryBySample/ResultEntryValidation';\r\nimport {\r\n    constructOptionList,\r\n    fillRecordBasedOnCheckBoxSelection,\r\n    filterRecordBasedOnTwoArrays,\r\n    getRecordBasedOnPrimaryKeyName,\r\n    getSameRecordFromTwoArrays,\r\n    replaceUpdatedObject,\r\n    sortData,\r\n    updatedObjectWithNewElement, rearrangeDateFormat\r\n} from '../components/CommonScript';\r\nimport {\r\n    transactionStatus\r\n} from '../components/Enumeration';\r\n\r\nexport function getsubSampleREDetail(inputData, isServiceRequired) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            ntype: 2,\r\n            nflag: 2,\r\n            nsampletypecode: inputData.nsampletypecode,\r\n            nregtypecode: inputData.nregtypecode,\r\n            nregsubtypecode: inputData.nregsubtypecode,\r\n            npreregno: inputData.npreregno,\r\n            ntranscode: String(inputData.ntransactionstatus),\r\n            ntransactiontestcode: 0,\r\n            userinfo: inputData.userinfo,\r\n            ntestcode: inputData.ntestcode,\r\n            napprovalversioncode: inputData.napprovalversioncode,\r\n            fromdate: inputData.fromdate,\r\n            todate: inputData.todate,\r\n            activeTestKey: inputData.activeTestKey,\r\n            activeSampleKey: inputData.activeSampleKey\r\n        }\r\n        let activeName = \"\";\r\n        let dataStateName = \"\";\r\n        // let { resultDataState, materialDataState, instrumentDataState, taskDataState, resultChangeDataState,\r\n        //     documentDataState, testCommentDataState } = inputData\r\n        dispatch(initRequest(true));\r\n        if (isServiceRequired) {\r\n            rsapi.post(\"resultentrybysample/getResultEntryDetails\", inputParamData)\r\n                .then(response => {\r\n                    // if (response.data.DynamicGetSamples) {\r\n                    //     sortData(response.data.DynamicGetSamples, \"\", \"\");\r\n                    // }\r\n                    // if (response.data.DynamicGetTests) {\r\n                    //     sortData(response.data.DynamicGetTests, \"descending\", \"npreregno\");\r\n                    // }\r\n                    //sortData(response.data);\r\n                    let oldSelectedTest = inputData.masterData.RESelectedTest\r\n                    fillRecordBasedOnCheckBoxSelection(inputData.masterData, response.data, inputData.childTabsKey, inputData.checkBoxOperation, \"npreregno\", inputData.removeElementFromArray);\r\n                    let masterData = {\r\n                        ...inputData.masterData,\r\n                        // ...response.data,\r\n                        RESelectedTest: inputData.masterData.RE_TEST.length > 0 ? [inputData.masterData.RE_TEST[0]] : [],\r\n                        RESelectedSample: inputData.RESelectedSample,\r\n                        RESelectedSubSample: inputData.masterData.RE_SUBSAMPLE\r\n                    }\r\n                    // if (inputData.searchSampleRef !== undefined && inputData.searchSampleRef.current !== null) {\r\n                    //     inputData.searchSampleRef.current.value = \"\";\r\n                    //     masterData['searchedSample'] = undefined\r\n                    // }\r\n                    if (inputData.searchSubSampleRef !== undefined && inputData.searchSubSampleRef.current !== null) {\r\n                        inputData.searchSubSampleRef.current.value = \"\";\r\n                        masterData['searchedSubSample'] = undefined\r\n                    }\r\n                    if (inputData.searchTestRef !== undefined && inputData.searchTestRef.current !== null) {\r\n                        inputData.searchTestRef.current.value = \"\"\r\n                        masterData['searchedTests'] = undefined\r\n                    }\r\n                    let {\r\n                        testskip,\r\n                        testtake\r\n                    } = inputData\r\n                    let bool = false;\r\n                    let skipInfo = {}\r\n                    if (inputData.masterData.RE_TEST.length <= inputData.testskip) {\r\n                        testskip = 0;\r\n                        bool = true\r\n                    }\r\n                    if (bool) {\r\n                        skipInfo = {\r\n                            testskip,\r\n                            testtake\r\n                        }\r\n                    }\r\n                    let TestParameters = [];\r\n                    let ResultUsedInstrument = [];\r\n                    let ResultUsedTasks = [];\r\n                    let RegistrationTestAttachment = [];\r\n                    let ResultChangeHistory = [];\r\n                    let RegistrationTestComment = [];\r\n\r\n                    if (inputData.checkBoxOperation === 1) {\r\n                        //added by sudharshanan for test select issue while sample click\r\n                        let wholeTestList = masterData.RE_TEST.map(b => b.ntransactiontestcode)\r\n                        oldSelectedTest.map((test, index) => {\r\n                            if (!wholeTestList.includes(test.ntransactiontestcode)) {\r\n                                oldSelectedTest.splice(index, 1)\r\n                            }\r\n                            return null;\r\n                        })\r\n                        let keepOld = false;\r\n                        let ntransactiontestcode;\r\n                        if (oldSelectedTest.length > 0) {\r\n                            keepOld = true\r\n                            masterData = {\r\n                                ...masterData,\r\n                                RESelectedTest: oldSelectedTest\r\n                            }\r\n                        } else {\r\n                            ntransactiontestcode = masterData.RESelectedTest[0].ntransactiontestcode\r\n                        }\r\n                        switch (inputData.activeTestKey) {\r\n                            case \"IDS_RESULTS\":\r\n                                TestParameters = keepOld ? inputData.masterData.TestParameters : getRecordBasedOnPrimaryKeyName(inputData.masterData.TestParameters, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"TestParameters\"\r\n                                dataStateName = \"resultDataState\"\r\n                                break;\r\n                            case \"IDS_INSTRUMENT\":\r\n                                ResultUsedInstrument = keepOld ? inputData.masterData.ResultUsedInstrument : getRecordBasedOnPrimaryKeyName(inputData.masterData.ResultUsedInstrument, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"ResultUsedInstrument\"\r\n                                dataStateName = \"instrumentDataState\"\r\n                                break;\r\n                            case \"IDS_TASK\":\r\n                                ResultUsedTasks = keepOld ? inputData.masterData.ResultUsedTasks : getRecordBasedOnPrimaryKeyName(inputData.masterData.ResultUsedTasks, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"ResultUsedTasks\"\r\n                                dataStateName = \"taskDataState\"\r\n                                break;\r\n                            case \"IDS_TESTATTACHMENTS\":\r\n                                RegistrationTestAttachment = keepOld ? inputData.masterData.RegistrationTestAttachment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestAttachment\"\r\n                                break;\r\n                            case \"IDS_RESULTCHANGEHISTORY\":\r\n                                ResultChangeHistory = keepOld ? inputData.masterData.ResultChangeHistory : getRecordBasedOnPrimaryKeyName(inputData.masterData.ResultChangeHistory, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"ResultChangeHistory\"\r\n                                dataStateName = \"resultChangeDataState\"\r\n                                break;\r\n                            case \"IDS_TESTCOMMENTS\":\r\n                                RegistrationTestComment = keepOld ? inputData.masterData.RegistrationTestComment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestComment, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestComment\"\r\n                                dataStateName = \"testCommentDataState\"\r\n                                break;\r\n                            default:\r\n                                TestParameters = keepOld ? inputData.masterData.TestParameters : getRecordBasedOnPrimaryKeyName(inputData.masterData.TestParameters, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"TestParameters\"\r\n                                dataStateName = \"resultDataState\"\r\n                                break;\r\n                        }\r\n\r\n                    } else if (inputData.checkBoxOperation === 5) {\r\n                        let list = []\r\n                        let dbData = [];\r\n                        switch (inputData.activeTestKey) {\r\n                            case \"IDS_RESULTS\":\r\n                                dbData = response.data.TestParameters || []\r\n                                list = [...inputData.masterData.TestParameters, ...response.data.TestParameters];\r\n                                TestParameters = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n                            case \"IDS_INSTRUMENT\":\r\n                                dbData = response.data.TestParameters || []\r\n                                list = [...inputData.masterData.ResultUsedInstrument, ...response.data.ResultUsedInstrument];\r\n                                ResultUsedInstrument = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n                            case \"IDS_TASK\":\r\n                                dbData = response.data.ResultUsedTasks || []\r\n                                list = [...inputData.masterData.ResultUsedTasks, ...dbData];\r\n                                list.reduce((unique, item) => unique.includes(item) ? unique : [...unique, item], []);\r\n                                ResultUsedTasks = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n                            case \"IDS_TESTATTACHMENTS\":\r\n                                dbData = response.data.RegistrationTestAttachment || []\r\n                                list = [...inputData.masterData.RegistrationTestAttachment, ...dbData];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n                            case \"IDS_RESULTCHANGEHISTORY\":\r\n                                dbData = response.data.ResultChangeHistory || []\r\n                                list = [...inputData.masterData.ResultChangeHistory, ...dbData];\r\n                                ResultChangeHistory = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n                            case \"IDS_TESTCOMMENTS\":\r\n                                dbData = response.data.RegistrationTestComment || []\r\n                                list = [...inputData.masterData.RegistrationTestComment, ...dbData];\r\n                                RegistrationTestComment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n                            default:\r\n                                dbData = response.data.TestParameters || []\r\n                                list = [...inputData.masterData.TestParameters, ...dbData];\r\n                                TestParameters = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n                        }\r\n                    } else {\r\n                        let list = []\r\n                        switch (inputData.activeTestKey) {\r\n                            case \"IDS_RESULTS\":\r\n                                list = response.data.TestParameters ? sortData(response.data.TestParameters,'ascending','ntransactionresultcode') : [];\r\n                                TestParameters = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"TestParameters\"\r\n                                dataStateName = \"resultDataState\"\r\n                                break;\r\n                            case \"IDS_INSTRUMENT\":\r\n                                list = response.data.ResultUsedInstrument ? sortData(response.data.ResultUsedInstrument,'descending','nresultusedinstrumentcode') :  [];\r\n                                ResultUsedInstrument = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"ResultUsedInstrument\"\r\n                                dataStateName = \"instrumentDataState\"\r\n                                break;\r\n                            case \"IDS_TASK\":\r\n                                list = response.data.ResultUsedTasks ? sortData(response.data.ResultUsedTasks,'descending','nresultusedtaskcode') :  [];\r\n                                list.reduce((unique, item) => unique.includes(item) ? unique : [...unique, item], []);\r\n                                ResultUsedTasks = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"ResultUsedTasks\"\r\n                                dataStateName = \"taskDataState\"\r\n                                break;\r\n                            case \"IDS_TESTATTACHMENTS\":\r\n                                list = response.data.RegistrationTestAttachment ? sortData(response.data.RegistrationTestAttachment,'descending','ntestattachmentcode') :  [];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestAttachment\"\r\n                                break;\r\n                            case \"IDS_RESULTCHANGEHISTORY\":\r\n                                list = response.data.ResultChangeHistory ? sortData(response.data.ResultChangeHistory,'descending','nresultchangehistorycode') : [];\r\n                                ResultChangeHistory = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"ResultChangeHistory\"\r\n                                dataStateName = \"resultChangeDataState\"\r\n                                break;\r\n                            case \"IDS_TESTCOMMENTS\":\r\n                                list = response.data.RegistrationTestComment ? sortData(response.data.RegistrationTestComment,'descending','ntestcommentcode') : [];\r\n                                RegistrationTestComment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestComment\"\r\n                                dataStateName = \"testCommentDataState\"\r\n                                break;\r\n                            default:\r\n                                list = response.data.TestParameters ? sortData(response.data.TestParameters,'ascending','ntransactionresultcode') : [];\r\n                                TestParameters = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"TestParameters\"\r\n                                dataStateName = \"resultDataState\"\r\n                                break;\r\n                        }\r\n                    }\r\n\r\n                    masterData = {\r\n                        ...masterData,\r\n                        // wholeApprovalParameter,\r\n                        TestParameters,\r\n                        // wholeResultUsedInstrument,\r\n                        ResultUsedInstrument,\r\n                        // wholeResultUsedTasks,\r\n                        ResultUsedTasks,\r\n                        // wholeRegistrationTestAttachment,\r\n                        RegistrationTestAttachment,\r\n                        // wholeResultChangeHistory,\r\n                        ResultChangeHistory,\r\n                        // wholeRegistrationTestComments,\r\n                        RegistrationTestComment\r\n                    }\r\n                    if (inputData[dataStateName] && masterData[activeName].length <= inputData[dataStateName].skip) {\r\n\r\n                        skipInfo = {\r\n                            ...skipInfo,\r\n                            [dataStateName]: {\r\n                                ...inputData[dataStateName],\r\n                                skip: 0,\r\n                                sort:undefined,\r\n                                filter:undefined\r\n                            }\r\n                        }\r\n                    }else{\r\n                        skipInfo = {\r\n                            ...skipInfo,\r\n                            [dataStateName]: {\r\n                                ...inputData[dataStateName],\r\n                                sort:undefined,\r\n                                filter:undefined\r\n                            }\r\n                        }\r\n                    }\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            masterData,\r\n                            loading: false,\r\n                            skip: undefined,\r\n                            take: undefined,\r\n                            ...skipInfo\r\n                        }\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                });\r\n        } else {\r\n            let oldSelectedTest = inputData.masterData.RESelectedTest\r\n            let TestSelected = getRecordBasedOnPrimaryKeyName(inputData.masterData.RESelectedTest, inputData.removeElementFromArray[0].npreregno, \"npreregno\");\r\n            let isGrandChildGetRequired = false;\r\n            if (TestSelected.length > 0) {\r\n                isGrandChildGetRequired = true;\r\n            } else {\r\n                isGrandChildGetRequired = false;\r\n            }\r\n            fillRecordBasedOnCheckBoxSelection(inputData.masterData, inputData.RESelectedSample, inputData.childTabsKey, inputData.checkBoxOperation, \"npreregno\", inputData.removeElementFromArray);\r\n            if (isGrandChildGetRequired) {\r\n                let ntransactiontestcode = inputData.masterData.RE_TEST.length > 0 ? inputData.masterData.RE_TEST[0].ntransactiontestcode.toString() : \"\";\r\n                let RESelectedSample = inputData.RESelectedSample;\r\n                let RESelectedTest = inputData.masterData.RE_TEST.length > 0 ? [inputData.masterData.RE_TEST[0]] : [];\r\n                let RESelectedSubSample = inputData.masterData.RE_SUBSAMPLE\r\n\r\n                inputData = {\r\n                    ...inputData,\r\n                    childTabsKey: [\"TestParameters\", \"ResultUsedInstrument\", \"ResultUsedTasks\", \"RegistrationTestAttachment\",\r\n                        \"ResultChangeHistory\", \"RegistrationTestComment\", \"ResultChangeHistory\"\r\n                    ],\r\n                    ntransactiontestcode,\r\n                    RESelectedSample,\r\n                    RESelectedTest,\r\n                    RESelectedSubSample,\r\n                    checkBoxOperation: 3,\r\n                    activeTestKey: inputData.activeTestKey\r\n                }\r\n                dispatch(getTestChildTabREDetail(inputData, true));\r\n            } else {\r\n                //added by sudharshanan for test select issue while sample click\r\n                let masterData = {\r\n                    ...inputData.masterData,\r\n                    RESelectedTest: inputData.masterData.RE_TEST.length > 0 ? [inputData.masterData.RE_TEST[0]] : [],\r\n                    RESelectedSample: inputData.RESelectedSample,\r\n                    RESelectedSubSample: inputData.masterData.RE_SUBSAMPLE\r\n                }\r\n                let wholeTestList = masterData.RE_TEST.map(b => b.ntransactiontestcode)\r\n                oldSelectedTest.map((test, index) => {\r\n                    if (!wholeTestList.includes(test.ntransactiontestcode)) {\r\n                        oldSelectedTest.splice(index, 1)\r\n                    }\r\n                    return null;\r\n                })\r\n                let keepOld = false;\r\n                let ntransactiontestcode;\r\n                if (oldSelectedTest.length > 0) {\r\n                    keepOld = true\r\n                    masterData = {\r\n                        ...masterData,\r\n                        RESelectedTest: oldSelectedTest\r\n                    }\r\n                } else {\r\n                    ntransactiontestcode = masterData.RE_TEST[0].ntransactiontestcode\r\n                }\r\n                const TestParameters = keepOld ? inputData.masterData.TestParameters : getRecordBasedOnPrimaryKeyName(inputData.masterData.TestParameters,\r\n                    ntransactiontestcode, \"ntransactiontestcode\");\r\n                const ResultUsedInstrument = keepOld ? inputData.masterData.ResultUsedInstrument : getRecordBasedOnPrimaryKeyName(inputData.masterData.ResultUsedInstrument || [],\r\n                    ntransactiontestcode, \"ntransactiontestcode\");\r\n                const ResultUsedTasks = keepOld ? inputData.masterData.ResultUsedTasks : getRecordBasedOnPrimaryKeyName(inputData.masterData.ResultUsedTasks || [],\r\n                    ntransactiontestcode, \"ntransactiontestcode\");\r\n                const RegistrationTestAttachment = keepOld ? inputData.masterData.RegistrationTestAttachment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment || [],\r\n                    ntransactiontestcode, \"ntransactiontestcode\");\r\n                const RegistrationTestComment = keepOld ? inputData.masterData.RegistrationTestComment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestComment || [],\r\n                    ntransactiontestcode, \"ntransactiontestcode\");\r\n                const ResultChangeHistory = keepOld ? inputData.masterData.ResultChangeHistory : getRecordBasedOnPrimaryKeyName(inputData.masterData.ResultChangeHistory || [],\r\n                    ntransactiontestcode, \"ntransactiontestcode\");\r\n                let { testskip, testtake } = inputData\r\n                let bool = false;\r\n                let skipInfo = {}\r\n                if (inputData.masterData.RE_TEST.length <= inputData.testskip) {\r\n                    testskip = 0;\r\n                    bool = true\r\n                }\r\n                if (bool) {\r\n                    skipInfo = {\r\n                        testskip,\r\n                        testtake\r\n                    }\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...masterData,\r\n                            RESelectedSample: inputData.RESelectedSample,\r\n                            // selectedPreregno: inputData.npreregno,\r\n                            // RESelectedTest: inputData.masterData.searchedTest && inputData.masterData.searchedTest.length > 0 ? [inputData.masterData.\r\n                            //     searchedTest[0]\r\n                            // ] : inputData.masterData.RE_TEST.length > 0 ? [inputData.masterData.\r\n                            //     RE_TEST[0]\r\n                            // ] : [],\r\n                            // RESelectedTest: inputData.masterData.RE_TEST.length > 0 ? [inputData.masterData.RE_TEST[0]] : [],\r\n                            TestParameters,\r\n                            ResultUsedInstrument,\r\n                            ResultUsedTasks,\r\n                            RegistrationTestAttachment,\r\n                            RegistrationTestComment,\r\n                            ResultChangeHistory,\r\n                            RESelectedSubSample: inputData.masterData.RE_SUBSAMPLE\r\n                        },\r\n                        loading: false,\r\n                        showFilter: false,\r\n                        activeSampleTab: inputData.activeSampleTab,\r\n                        activeTestKey: inputData.activeTestKey,\r\n                        ...skipInfo,\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function getTestREDetail(inputData) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            nflag: 3,\r\n            ntype: 3,\r\n            nsampletypecode: inputData.nsampletypecode,\r\n            nregtypecode: inputData.nregtypecode,\r\n            nregsubtypecode: inputData.nregsubtypecode,\r\n            npreregno: inputData.npreregno,\r\n            ntransactiontestcode: 0,\r\n            ntranscode: inputData.ntransactionstatus.toString(),\r\n            ntransactionsamplecode: inputData.ntransactionsamplecode,\r\n            userinfo: inputData.userinfo,\r\n            ntestcode: inputData.ntestcode,\r\n            activeTestKey: inputData.activeTestKey\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getResultEntryDetails\", inputParamData)\r\n            .then(response => {\r\n                // if (response.data.DynamicGetTests) {\r\n                //     sortData(response.data.DynamicGetTests, \"descending\", \"npreregno\");\r\n                // }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...response.data,\r\n                            RESelectedSubSample: inputData.RESelectedSubSample\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function getSampleChildTabREDetail(inputData) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            ntransactiontestcode: inputData.ntransactiontestcode,\r\n            npreregno: inputData.npreregno,\r\n            userinfo: inputData.userinfo\r\n        }\r\n        let url = \"\"\r\n        switch (inputData.activeSampleKey) {\r\n            case \"IDS_DOCUMENTS\":\r\n                url = \"attachment/getSampleAttachment\"\r\n                break;\r\n            case \"IDS_SAMPLEATTACHMENTS\":\r\n                url = \"attachment/getSampleAttachment\"\r\n                break;\r\n            case \"IDS_APPROVALHISTORY\":\r\n                url = \"resultentrybysample/getSampleApprovalHistory\"\r\n                break;\r\n            default:\r\n                url = \"attachment/getSampleAttachment\"\r\n                break;\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(url, inputParamData)\r\n            .then(response => {\r\n                let responseData = {\r\n                    ...response.data\r\n                }\r\n                //responseData = sortData(responseData)\r\n                fillRecordBasedOnCheckBoxSelection(inputData.masterData, responseData, inputData.childTabsKey, inputData.checkBoxOperation, \"npreregno\", inputData.removeElementFromArray);\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...response.data,\r\n                            RESelectedSample: inputData.RESelectedSample\r\n                        },\r\n                        loading: false,\r\n                        activeSampleKey: inputData.activeSampleKey,\r\n                        screenName: inputData.screenName\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function getTestChildTabREDetail(inputData, isServiceRequired) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            ntransactiontestcode: inputData.RESelectedTest.map(test => test.ntransactiontestcode).join(\",\"),\r\n            npreregno: inputData.npreregno,\r\n            userinfo: inputData.userinfo\r\n        }\r\n        let activeName = \"\";\r\n        let dataStateName = \"\";\r\n        // let { resultDataState, materialDataState, instrumentDataState, taskDataState, resultChangeDataState,\r\n        //     documentDataState, testCommentDataState } = inputData\r\n        let url = \"resultentrybysample/getTestbasedParameter\"\r\n        switch (inputData.activeTestKey) {\r\n            case \"IDS_RESULTS\":\r\n                url = \"resultentrybysample/getTestbasedParameter\"\r\n                activeName = \"TestParameters\"\r\n                dataStateName = \"resultDataState\"\r\n                break;\r\n            case \"IDS_INSTRUMENT\":\r\n                url = \"resultentrybysample/getResultUsedInstrument\"\r\n                activeName = \"ResultUsedInstrument\"\r\n                dataStateName = \"instrumentDataState\"\r\n                break;\r\n            case \"IDS_MATERIAL\":\r\n                url = \"resultentrybysample/getResultUsedMaterial\";\r\n                activeName = \"\"\r\n                dataStateName = \"materialDataState\"\r\n                break;\r\n            case \"IDS_TASK\":\r\n                url = \"resultentrybysample/getResultUsedTask\"\r\n                activeName = \"ResultUsedTasks\"\r\n                dataStateName = \"taskDataState\"\r\n                break;\r\n            case \"IDS_TESTATTACHMENTS\":\r\n                url = \"attachment/getTestAttachment\"\r\n                activeName = \"RegistrationTestAttachment\"\r\n                break;\r\n            case \"IDS_TESTCOMMENTS\":\r\n                url = \"comments/getTestComment\"\r\n                activeName = \"RegistrationTestComment\"\r\n                dataStateName = \"testCommentDataState\"\r\n                break;\r\n            case \"IDS_DOCUMENTS\":\r\n                url = \"attachment/getSampleAttachment\"\r\n                activeName = \"\"\r\n                dataStateName = \"documentDataState\"\r\n                break;\r\n            case \"IDS_RESULTCHANGEHISTORY\":\r\n                url = \"resultentrybysample/getResultChangeHistory\"\r\n                activeName = \"ResultChangeHistory\"\r\n                dataStateName = \"resultChangeDataState\"\r\n                break;\r\n            case \"IDS_SAMPLEATTACHMENTS\":\r\n                url = \"attachment/getSampleAttachment\"\r\n                activeName = \"\"\r\n                dataStateName = \"resultDataState\"\r\n                break;\r\n            default:\r\n                url = \"resultentrybysample/getTestbasedParameter\"\r\n                activeName = \"TestParameters\"\r\n                dataStateName = \"resultDataState\"\r\n                break;\r\n        }\r\n        dispatch(initRequest(true));\r\n        if (isServiceRequired) {\r\n            rsapi.post(url, inputParamData)\r\n                .then(response => {\r\n                    let responseData = {\r\n                        ...response.data,\r\n                        RESelectedSample: inputData.RESelectedSample || inputData.masterData.RESelectedSample,\r\n                        RESelectedTest: inputData.RESelectedTest\r\n                    }\r\n                    let skipInfo = {};\r\n                    //responseData = sortData(responseData)\r\n                    fillRecordBasedOnCheckBoxSelection(inputData.masterData, responseData, inputData.childTabsKey, inputData.checkBoxOperation, \"npreregno\", inputData.removeElementFromArray);\r\n                    let masterData = {\r\n                        ...inputData.masterData,\r\n                        ...sortData(responseData),\r\n                        RESelectedTest: inputData.RESelectedTest\r\n                    }\r\n                    if (inputData[dataStateName] && masterData[activeName].length <= inputData[dataStateName].skip) {\r\n\r\n                        skipInfo = {\r\n\r\n                            [dataStateName]: {\r\n                                ...inputData[dataStateName],\r\n                                skip: 0,\r\n                                sort:undefined,\r\n                                filter:undefined\r\n                            }\r\n                        }\r\n                    }else{\r\n                        skipInfo = {\r\n                            ...skipInfo,\r\n                            [dataStateName]: {\r\n                                ...inputData[dataStateName],\r\n                                sort:undefined,\r\n                                filter:undefined\r\n                            }\r\n                        }\r\n                    }\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            masterData,\r\n                            loading: false,\r\n                            activeTestKey: inputData.activeTestKey,\r\n                            screenName: inputData.activeTestKey,\r\n                            testskip: undefined,\r\n                            testtake: undefined,\r\n                            ...skipInfo\r\n                        }\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        } else {\r\n            //fillRecordBasedOnCheckBoxSelection(inputData.masterData, response.data, inputData.childTabsKey, inputData.checkBoxOperation, \"npreregno\", inputData.removeElementFromArray);\r\n            fillRecordBasedOnCheckBoxSelection(inputData.masterData, inputData.RESelectedTest, inputData.childTabsKey, inputData.checkBoxOperation, \"ntransactiontestcode\", inputData.removeElementFromArray);\r\n            let skipInfo = {};\r\n            let masterData = {\r\n                ...inputData.masterData,\r\n                RESelectedTest: inputData.RESelectedTest\r\n            }\r\n            if (masterData[activeName].length <= inputData[dataStateName].skip) {\r\n\r\n                skipInfo = {\r\n\r\n                    [dataStateName]: {\r\n                        ...inputData[dataStateName],\r\n                        skip: 0,\r\n                        sort:undefined,\r\n                        filter:undefined\r\n                    }\r\n                }\r\n            }else{\r\n                skipInfo = {\r\n                    ...skipInfo,\r\n                    [dataStateName]: {\r\n                        ...inputData[dataStateName],\r\n                        sort:undefined,\r\n                        filter:undefined\r\n                    }\r\n                }\r\n            }\r\n            dispatch({\r\n                type: DEFAULT_RETURN,\r\n                payload: {\r\n                    masterData,\r\n                    loading: false,\r\n                    showFilter: false,\r\n                    activeTestKey: inputData.activeTestKey,\r\n                    screenName: inputData.screenName,\r\n                    ...skipInfo\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport function getRERegistrationType(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getRegistrationType\", inputData)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...response.data,\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getRERegistrationSubType(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getRegistrationsubType\", inputData)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...response.data,\r\n                            defaultRegistrationType: inputData.defaultRegistrationType\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getREApprovalConfigVersion(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getApprovalConfigVersion\", inputData)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...response.data,\r\n                            defaultRegistrationSubType: inputData.defaultRegistrationSubType,\r\n                           // fromDate: inputData.fromdate,\r\n                          //  toDate: inputData.todate\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getREFilterStatus(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getFilterStatus\", inputData)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...response.data,\r\n                            defaultjobstatus: inputData.defaultjobstatus,\r\n                            // fromDate: inputData.fromdate,\r\n                            // toDate: inputData.todate\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getREJobStatus(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getJobStatus\", inputData)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...response.data,\r\n                            defaultApprovalConfigVersion: inputData.defaultApprovalConfigVersion,\r\n                            // fromDate: inputData.fromdate,\r\n                            // toDate: inputData.todate\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getResultEntryDetails(inputParamData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getResultEntryDetails\", inputParamData.inputData)\r\n            .then(response => {\r\n                let masterData = { ...inputParamData.masterData }\r\n                if (inputParamData.refs.searchSampleRef !== undefined && inputParamData.refs.searchSampleRef.current !== null) {\r\n                    inputParamData.refs.searchSampleRef.current.value = \"\";\r\n                    masterData['searchedSample'] = undefined\r\n                }\r\n                if (inputParamData.refs.searchSubSampleRef !== undefined && inputParamData.refs.searchSubSampleRef.current !== null) {\r\n                    inputParamData.refs.searchSubSampleRef.current.value = \"\";\r\n                    masterData['searchedSubSample'] = undefined\r\n                }\r\n                if (inputParamData.refs.searchTestRef !== undefined && inputParamData.refs.searchTestRef.current !== null) {\r\n                    inputParamData.refs.searchTestRef.current.value = \"\"\r\n                    // masterData['searchedTests'] = undefined\r\n                    masterData['searchedTest'] = undefined\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...masterData,\r\n                            ...response.data,\r\n                            realFromDate:response.data[\"fromDate\"],\r\n                            realToDate:response.data[\"toDate\"]\r\n                        },\r\n                        loading: false,\r\n                        showTest: inputParamData.inputData.showTest,\r\n                        showSample: inputParamData.inputData.showSample,\r\n                        activeTestKey: inputParamData.inputData.activeTestKey,\r\n                        skip: 0,\r\n                        take: inputParamData.inputData.take,\r\n                        testskip: 0,\r\n                        testtake: inputParamData.inputData.testtake,\r\n                        resultDataState: {...inputParamData.resultDataState,sort:undefined,filter:undefined},\r\n                        instrumentDataState: {...inputParamData.instrumentDataState,sort:undefined,filter:undefined},\r\n                        materialDataState: {...inputParamData.materialDataState,sort:undefined,filter:undefined},\r\n                        taskDataState: {...inputParamData.taskDataState,sort:undefined,filter:undefined},\r\n                        documentDataState: {...inputParamData.documentDataState,sort:undefined,filter:undefined},\r\n                        resultChangeDataState: {...inputParamData.resultChangeDataState,sort:undefined,filter:undefined},\r\n                        testCommentDataState:{...inputParamData.testCommentDataState,sort:undefined,filter:undefined},\r\n                        historyDataState: {...inputParamData.historyDataState,sort:undefined,filter:undefined},\r\n                        samplePrintHistoryDataState: {...inputParamData.samplePrintHistoryDataState,sort:undefined,filter:undefined},\r\n                        sampleHistoryDataState: {...inputParamData.sampleHistoryDataState,sort:undefined,filter:undefined}\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function resultGetModule(inputData, userInfo, ncontrolcode, testskip, testtake) {\r\n    return function (dispatch) {\r\n    let TestList = [...inputData.RE_TEST];\r\n    TestList = TestList.splice(testskip, testskip + testtake);\r\n    let acceptTestList = getSameRecordFromTwoArrays(TestList, inputData.RESelectedTest, \"ntransactiontestcode\");\r\n    if (acceptTestList && acceptTestList.length > 0) {\r\n        if (Object.values(inputData).length > 0 && inputData.RESelectedTest.length > 0) {\r\n                let inputParamData = {\r\n                    ntransactiontestcode: acceptTestList ? acceptTestList.map(test => test.ntransactiontestcode).join(\",\") : \"\",\r\n                    userinfo: userInfo\r\n                }\r\n                dispatch(initRequest(true));\r\n                rsapi.post(\"resultentrybysample/getResultEntryResults\", inputParamData)\r\n                    .then(response => {\r\n                        let selectedResultGrade = [];\r\n                        let paremterResultcode = [];\r\n                        const parameterResults = response.data.ResultParameter\r\n                        parameterResults.map((param, index) => {\r\n                            selectedResultGrade[index] = { ngradecode: param.ngradecode };\r\n                            paremterResultcode[index] = param.ntransactionresultcode;\r\n\r\n                            (response.data.PredefinedValues && response.data.PredefinedValues[parameterResults[index].ntransactionresultcode]) &&\r\n                                response.data.PredefinedValues[parameterResults[index].ntransactionresultcode].map(predefinedvalue => {\r\n                                    if (predefinedvalue.ndefaultstatus === transactionStatus.YES) {\r\n                                        response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] =\r\n                                            constructOptionList(response.data.PredefinedValues[parameterResults[index].ntransactionresultcode] || [], 'spredefinedname', 'spredefinedname', undefined,\r\n                                                undefined, undefined).get(\"OptionList\");\r\n                                        if (response.data.ResultParameter[index].sresult === null) {\r\n                                            response.data.ResultParameter[index].sresult = predefinedvalue.spredefinedname;\r\n                                            response.data.ResultParameter[index].sfinal = predefinedvalue.spredefinedname;\r\n                                            response.data.ResultParameter[index].editable = true;\r\n                                            response.data.ResultParameter[index].ngradecode = predefinedvalue.ngradecode;\r\n                                        }\r\n                                    }\r\n                                    return null;\r\n                                });\r\n                            return null;\r\n                        });\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                masterData: {\r\n                                    ...inputData,\r\n                                    ...response.data,\r\n                                    paremterResultcode//,\r\n                                    //selectedResultGrade ,\r\n\r\n                                },\r\n                                selectedRecord: {\r\n                                    selectedResultGrade:  selectedResultGrade,\r\n                                    ResultParameter:response.data.ResultParameter\r\n                                },\r\n                                loading: false,\r\n                                screenName: \"IDS_RESULTENTRY\",\r\n                                openModal: true,\r\n                                operation: \"update\",\r\n                                activeTestKey: \"IDS_RESULTS\",\r\n                                ncontrolcode: ncontrolcode\r\n                            }\r\n                        })\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false\r\n                            }\r\n                        })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        } else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n                    })\r\n            //}\r\n        } else {\r\n            dispatch({\r\n                type: DEFAULT_RETURN,\r\n                payload: {\r\n                    loading: false\r\n                }\r\n            })\r\n            toast.warn(intl.formatMessage({\r\n                id: \"IDS_SELECTTESTTOENTERRESULT\"\r\n            }));\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: DEFAULT_RETURN,\r\n            payload: {\r\n                loading: false\r\n            }\r\n        })\r\n        toast.warn(intl.formatMessage({\r\n            id: \"IDS_SELECTTESTTOENTERRESULT\"\r\n        }));\r\n     }\r\n  }\r\n\r\n}\r\n\r\nexport function completeTest(inputParam, acceptList, userInfo, completeResultId) {\r\n    if (acceptList !== undefined && acceptList.length > 0) {\r\n        return function (dispatch) {\r\n            let inputData = inputParam.testChildGetREParam\r\n            let inputParamData = {\r\n                ntype: 3,\r\n                nflag: 3,\r\n                nsampletypecode: inputData.nsampletypecode,\r\n                nregtypecode: inputData.nregtypecode,\r\n                nregsubtypecode: inputData.nregsubtypecode,\r\n                npreregno: inputData.npreregno,\r\n                ntranscode: String(inputData.ntransactionstatus),\r\n                napprovalversioncode: inputData.napprovalversioncode,\r\n                napprovalconfigcode: inputData.napprovalconfigcode,\r\n                ntransactionsamplecode: inputData.ntransactionsamplecode,\r\n                userinfo: userInfo,\r\n                fromdate: inputData.fromdate,\r\n                todate: inputData.todate,\r\n                ntestcode: inputData.ntestcode,\r\n                transactiontestcode: acceptList ? acceptList.map(test => test.ntransactiontestcode).join(\",\") : \"\",\r\n                ntransactiontestcode: 0,\r\n                activeTestKey: inputData.activeTestKey,\r\n                ncontrolcode: inputParam.inputData.ncontrolcode\r\n            }\r\n            let activeName = \"\";\r\n            let dataStateName = \"\";\r\n            // let { resultDataState, materialDataState, instrumentDataState, taskDataState, resultChangeDataState,\r\n            //     documentDataState, testCommentDataState } = inputData\r\n            // let url = \"resultentrybysample/getTestbasedParameter\"\r\n            switch (inputData.activeTestKey) {\r\n                case \"IDS_RESULTS\":\r\n                    activeName = \"TestParameters\"\r\n                    dataStateName = \"resultDataState\"\r\n                    break;\r\n                case \"IDS_INSTRUMENT\":\r\n                    activeName = \"ResultUsedInstrument\"\r\n                    dataStateName = \"instrumentDataState\"\r\n                    break;\r\n                case \"IDS_MATERIAL\":\r\n                    activeName = \"\"\r\n                    dataStateName = \"materialDataState\"\r\n                    break;\r\n                case \"IDS_TASK\":\r\n                    activeName = \"ResultUsedTasks\"\r\n                    dataStateName = \"taskDataState\"\r\n                    break;\r\n                case \"IDS_TESTATTACHMENTS\":\r\n                    activeName = \"RegistrationTestAttachment\"\r\n                    break;\r\n                case \"IDS_TESTCOMMENTS\":\r\n                    activeName = \"RegistrationTestComment\"\r\n                    dataStateName = \"testCommentDataState\"\r\n                    break;\r\n                case \"IDS_DOCUMENTS\":\r\n                    activeName = \"\"\r\n                    dataStateName = \"documentDataState\"\r\n                    break;\r\n                case \"IDS_RESULTCHANGEHISTORY\":\r\n                    activeName = \"ResultChangeHistory\"\r\n                    dataStateName = \"resultChangeDataState\"\r\n                    break;\r\n                case \"IDS_SAMPLEATTACHMENTS\":\r\n                    activeName = \"\"\r\n                    dataStateName = \"resultDataState\"\r\n                    break;\r\n                default:\r\n                    activeName = \"TestParameters\"\r\n                    dataStateName = \"resultDataState\"\r\n                    break;\r\n            }\r\n            dispatch(initRequest(true));\r\n            rsapi.post(\"resultentrybysample/completeTest\", inputParamData)\r\n                .then(response => {\r\n                    let RE_SAMPLE = [];\r\n                    let RE_TEST = [];\r\n                    let responseData = response.data\r\n                    if (responseData[\"RE_TEST\"].length > 0) {\r\n                        RE_TEST = filterRecordBasedOnTwoArrays(inputData.masterData[\"RE_TEST\"], responseData[\"RE_TEST\"], \"npreregno\");\r\n                    } else {\r\n                        RE_TEST = inputData.masterData[\"RE_TEST\"];\r\n                    }\r\n                    RE_SAMPLE = filterRecordBasedOnTwoArrays(inputData.masterData[\"RE_SAMPLE\"], RE_TEST, \"npreregno\");\r\n                    const RESelectedSample = filterRecordBasedOnTwoArrays(inputData.masterData[\"RESelectedSample\"], RE_TEST, \"npreregno\");\r\n\r\n                    let RESelectedTest1 = filterRecordBasedOnTwoArrays(inputData.masterData[\"RESelectedTest\"], acceptList, \"ntransactiontestcode\");\r\n                    let RESelectedTest2 = updatedObjectWithNewElement(RESelectedTest1, responseData.RESelectedTest)\r\n\r\n                    let searchedSample = undefined;\r\n                    if (inputData.masterData[\"searchedSample\"]) {\r\n                        searchedSample = filterRecordBasedOnTwoArrays(inputData.masterData[\"searchedSample\"], RE_TEST, \"npreregno\");\r\n                    }\r\n\r\n                    let masterData = {\r\n                        ...inputData.masterData,\r\n                        ...responseData,\r\n                        RE_SAMPLE,\r\n                        RESelectedSubSample: inputData.masterData.RESelectedSubSample,\r\n                        searchedSample,\r\n                        RESelectedSample,\r\n                        RESelectedTest: RESelectedTest2,\r\n                        RE_TEST: responseData[\"RE_TEST\"]\r\n                    }\r\n                    let skipInfo = {};\r\n                    if(masterData.RE_SAMPLE && masterData.RE_SAMPLE.length<=inputParam.skip){\r\n                        skipInfo ={\r\n                            ...skipInfo,\r\n                            skip:0,\r\n                            take:inputParam.take\r\n                        }\r\n                    }\r\n                    if(masterData.RE_TEST && masterData.RE_TEST.length<=inputParam.testskip){\r\n                        skipInfo ={\r\n                            ...skipInfo,\r\n                            testskip:0,\r\n                            testtake:inputParam.testtake\r\n                        }\r\n                    }\r\n                    if (inputData[dataStateName] && masterData[activeName].length <= inputData[dataStateName].skip) {\r\n\r\n                        skipInfo = {\r\n                            ...skipInfo,\r\n                            [dataStateName]: {\r\n                                ...inputData[dataStateName],\r\n                                skip: 0,\r\n                                sort:undefined,\r\n                                filter:undefined\r\n                            }\r\n                        }\r\n                    }else{\r\n                        skipInfo = {\r\n                            ...skipInfo,\r\n                            [dataStateName]: {\r\n                                ...inputData[dataStateName],\r\n                                sort:undefined,\r\n                                filter:undefined\r\n                            }\r\n                        }\r\n                    }\r\n                    let respObject = {\r\n                        ...inputParamData.inputData,\r\n                        openModal: false,\r\n                        loadEsign: false,\r\n                        showConfirmAlert: false,\r\n                        selectedRecord: undefined,\r\n                        loading: false,\r\n                        screenName: inputData.activeTestKey,\r\n                        ...skipInfo\r\n                    }\r\n                    if (searchedSample && RESelectedSample.length === 0 && searchedSample.length > 0) {\r\n                        const paramList = inputParam.postParamList[0];\r\n                        const inputParameter = {\r\n                            ...paramList.fecthInputObject.fecthInputObject,\r\n                            fetchUrl: paramList.fetchUrl,\r\n                            [paramList.primaryKeyField]: String(searchedSample[0][paramList.primaryKeyField]),\r\n                            ntype: 2,\r\n                            nflag: 2\r\n                        };\r\n                        respObject = {\r\n                            ...respObject,\r\n                            masterData: {\r\n                                ...masterData,\r\n                                RESelectedSample: [searchedSample[0]]\r\n                            }\r\n                        }\r\n                        dispatch(fetchSelectedData(inputParameter, respObject));\r\n                    } else if (!searchedSample && RESelectedSample.length === 0 && RE_SAMPLE.length > 0) {\r\n                        const paramList = inputParam.postParamList[0];\r\n                        const inputParameter = {\r\n                            ...paramList.fecthInputObject.fecthInputObject,\r\n                            fetchUrl: paramList.fetchUrl,\r\n                            [paramList.primaryKeyField]: String(RE_SAMPLE[0][paramList.primaryKeyField]),\r\n                            ntype: 2,\r\n                            nflag: 2\r\n                        };\r\n                        respObject = {\r\n                            ...respObject,\r\n                            masterData: {\r\n                                ...masterData,\r\n                                RESelectedSample: [RE_SAMPLE[0]]\r\n                            }\r\n                        }\r\n                        dispatch(fetchSelectedData(inputParameter, respObject));\r\n                    } else {\r\n                        respObject = {\r\n                            ...respObject,\r\n                            masterData\r\n                        };\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                ...respObject,\r\n                                loading: false\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n    } else {\r\n        toast.warn(intl.formatMessage({\r\n            id: \"IDS_SELECTTESTTOCOMPLETE\"\r\n        }));\r\n    }\r\n\r\n}\r\n\r\n//Compare two array and return the first array which is available in second array\r\nexport function compareTwoArray(firstArray, secondArray, PrimaryKey) {\r\n    const filterArray = firstArray.filter(function (x) {\r\n        return secondArray.some(function (y) {\r\n            return x[PrimaryKey] === y[PrimaryKey]\r\n        })\r\n    });\r\n    return filterArray;\r\n}\r\n\r\nfunction fetchSelectedData(inputParam, respObject) {\r\n    return (dispatch) => {\r\n        rsapi.post(inputParam.fetchUrl, {\r\n            ...inputParam\r\n        })\r\n            .then(response => {\r\n                const masterData = {\r\n                    ...respObject.masterData,\r\n                    ...response.data,\r\n                    RESelectedSample:response.data.RESelectedSample||respObject.masterData.RESelectedSample||[]\r\n                };\r\n                //sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        ...respObject,\r\n                        masterData,\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\n\r\nexport function testMethodSourceEdit(inputData) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            ntransactiontestcode: inputData.test.ntransactiontestcode,\r\n            ntestgrouptestcode: inputData.test.ntestgrouptestcode,\r\n            ntestcode: inputData.test.ntestcode,\r\n            ncontrolcode: inputData.editSourceMethodId,\r\n            userinfo: inputData.userInfo\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getTestMethodSource\", inputParamData)\r\n            .then(response => {\r\n\r\n                const TagSource = constructOptionList(response.data.SourceData || [], \"nsourcecode\",\r\n                    \"ssourcename\", undefined, undefined, undefined);\r\n                const TagListSource = TagSource.get(\"OptionList\");\r\n\r\n                const TagMethod = constructOptionList(response.data.MethodData || [], \"nmethodcode\",\r\n                    \"smethodname\", undefined, undefined, undefined);\r\n                const TagListMethod = TagMethod.get(\"OptionList\");\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            SourceData: TagListSource,\r\n                            MethodData: TagListMethod,\r\n                            RESelectedSubSample: inputData.masterData.RESelectedSubSample\r\n                        },\r\n                        selectedRecord: {\r\n                            ntransactiontestcode: inputData.test.ntransactiontestcode,\r\n                            stestsynonym: inputData.test.stestsynonym,\r\n                            nsourcecode: response.data.SourceDataValue,\r\n                            nmethodcode: response.data.MethodDataValue\r\n                        },\r\n                        loading: false,\r\n                        screenName: \"IDS_TESTMETHODSOURCE\",\r\n                        openModal: true,\r\n                        operation: \"update\",\r\n                        ncontrolcode: inputData.editSourceMethodId\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function updateParameterComments(inputData, masterData) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            ntransactiontestcode: inputData.ntransactiontestcode,\r\n            ntransactionresultcode: inputData.ntransactionresultcode,\r\n            sresultcomment: inputData.sresultcomment,\r\n            transactiontestcode: inputData.transactiontestcode,\r\n            userinfo: inputData.userinfo,\r\n            nregtypecode: inputData.nregtypecode,\r\n            nregsubtypecode: inputData.nregsubtypecode,\r\n            ncontrolcode: inputData.ncontrolcode\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/updateParameterComments\", inputParamData)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...masterData,\r\n                            ...response.data\r\n                        },\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        screenName: \"IDS_RESULT\",\r\n                        openModal: false,\r\n                        operation: \"update\",\r\n                        ncontrolcode: inputData.ncontrolcode\r\n                        //ncontrolcode:inputData.editSourceMethodId\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function addREInstrument(inputData) {\r\n    return function (dispatch) {\r\n\r\n        let urlArray = [];\r\n        const resultusedinstrument = rsapi.post(\"resultentrybysample/getResultUsedInstrumentCombo\", {\r\n            userinfo: inputData.userInfo\r\n        });\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", { userinfo: inputData.userInfo });\r\n        urlArray = [resultusedinstrument, timeZoneService, UTCtimeZoneService];\r\n\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const TagInstrument = constructOptionList(response[0].data.Instrument || [], \"ninstrumentcode\",\r\n                    \"sinstrumentid\", undefined, undefined, undefined);\r\n                const TagListInstrument = TagInstrument.get(\"OptionList\");\r\n\r\n\r\n                const TagInsturmentcategory = constructOptionList(response[0].data.InstrumentCategory || [], \"ninstrumentcatcode\",\r\n                    \"sinstrumentcatname\", undefined, undefined, undefined);\r\n                const TagListInstrumentCategory = TagInsturmentcategory.get(\"OptionList\");\r\n\r\n                const TagTimeZone = constructOptionList(response[1].data || [], \"ntimezonecode\",\r\n                    \"stimezoneid\", undefined, undefined, undefined);\r\n                const TagListTimeZone = TagTimeZone.get(\"OptionList\")\r\n\r\n                dispatch({\r\n\r\n\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            Instrument: TagListInstrument,\r\n                            InstrumentCategory: TagListInstrumentCategory\r\n\r\n                        },\r\n                        selectedId: null,\r\n                        selectedRecord: {\r\n                            stestsynonym: inputData.test.stestsynonym,\r\n                            transactiontestcode: inputData.RESelectedTest ? inputData.RESelectedTest.map(test => test.ntransactiontestcode).join(\",\").toString() : \"\",\r\n                            ntransactiontestcode: inputData.test.ntransactiontestcode,\r\n                            ninstrumentcatcode: TagInsturmentcategory.get(\"DefaultValue\") ? TagInsturmentcategory.get(\"DefaultValue\") : [],\r\n                            ninstrumentcode: TagInstrument.get(\"DefaultValue\") ? TagInstrument.get(\"DefaultValue\") : [],\r\n                            npreregno: inputData.test.npreregno,\r\n                            //dtodate: new Date(response[2].data),//new Date(),\r\n                            dtodate: rearrangeDateFormat( inputData.userInfo,response[2].data),//new Date(),\r\n                            //dfromdate: new Date(response[2].data),//new Date(),\r\n                            dfromdate: rearrangeDateFormat( inputData.userInfo,response[2].data),//new Date(),\r\n                            ntzfromdate: {\r\n                                \"value\": inputData.userInfo.ntimezonecode,\r\n                                \"label\": inputData.userInfo.stimezoneid\r\n                            },\r\n                            ntztodate: {\r\n                                \"value\": inputData.userInfo.ntimezonecode,\r\n                                \"label\": inputData.userInfo.stimezoneid\r\n                            }\r\n                        },\r\n                        timeZoneList: TagListTimeZone || [],\r\n                        loading: false,\r\n                        screenName: \"IDS_INSTRUMENT\",\r\n                        openModal: true,\r\n                        operation: \"create\",\r\n                        //activeTestKey: \"IDS_INSTRUMENT\",\r\n                        ncontrolcode: inputData.addResultUsedInstrumentId\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function deleteInstrumentRecord(inputData) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            nresultusedinstrumentcode: inputData.selectedRecord.nresultusedinstrumentcode,\r\n            userinfo: inputData.userInfo,\r\n            ntransactiontestcode: inputData.masterData.RESelectedTest ?\r\n                inputData.masterData.RESelectedTest.map(test => test.ntransactiontestcode).join(\",\").toString() : \"\",\r\n            nregtypecode: inputData.masterData.defaultRegistrationType.nregtypecode,\r\n            nregsubtypecode: inputData.masterData.defaultRegistrationSubType.nregsubtypecode\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/deleteResultUsedInstrument\", inputParamData)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...response.data\r\n                        },\r\n                        loading: false,\r\n                        operation: \"delete\",\r\n                        openModal: false,\r\n                        loadEsign: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function fetchInstrumentRecord(inputData) {\r\n    return function (dispatch) {\r\n\r\n        let urlArray = [];\r\n        //const resultUsedInstrumentCombo = rsapi.post(\"resultentrybysample/getResultUsedInstrumentCombo\", { userinfo: inputData.userInfo });\r\n        const timeZoneService = rsapi.post(\"resultentrybysample/getResultUsedInstrument\", {\r\n            nresultusedinstrumentcode: inputData.editRow.nresultusedinstrumentcode,\r\n            userinfo: inputData.userInfo\r\n        });\r\n        const getResultUsedInstrument = rsapi.post(\"timezone/getTimeZone\");\r\n        urlArray = [timeZoneService, getResultUsedInstrument];\r\n\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n\r\n                const TagInstrument = constructOptionList(response[0].data.Instrument || [], \"ninstrumentcode\",\r\n                    \"sinstrumentid\", undefined, undefined, undefined);\r\n                const TagListInstrument = TagInstrument.get(\"OptionList\");\r\n\r\n\r\n                const TagInsturmentcategory = constructOptionList(response[0].data.InstrumentCategory || [], \"ninstrumentcatcode\",\r\n                    \"sinstrumentcatname\", undefined, undefined, undefined);\r\n                const TagListInstrumentCategory = TagInsturmentcategory.get(\"OptionList\");\r\n\r\n                const TagTimeZone = constructOptionList(response[1].data || [], \"ntimezonecode\",\r\n                    \"stimezoneid\", undefined, undefined, undefined);\r\n                const TagListTimeZone = TagTimeZone.get(\"OptionList\")\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            Instrument: TagListInstrument,\r\n                            InstrumentCategory: TagListInstrumentCategory,\r\n                            // ...response[0].data,\r\n                            ...response[1].data,\r\n                            //...response[2].data\r\n                        },\r\n                        selectedId: inputData.editRow.nresultusedinstrumentcode,\r\n                        selectedRecord: {\r\n                            stestsynonym: inputData.editRow.stestsynonym,\r\n                            npreregno: response[0].data.EditResultUsedInstrument[0].npreregno,\r\n                            ntransactiontestcode: inputData.editRow.ntransactiontestcode,\r\n                            nresultusedinstrumentcode: inputData.editRow.nresultusedinstrumentcode,\r\n                            ninstrumentcatcode: {\r\n                                \"value\": response[0].data.EditResultUsedInstrument[0].ninstrumentcatcode,\r\n                                \"label\": response[0].data.EditResultUsedInstrument[0].sinstrumentcatname\r\n                            },\r\n                            ninstrumentcode: {\r\n                                \"value\": response[0].data.EditResultUsedInstrument[0].ninstrumentcode,\r\n                                \"label\": response[0].data.EditResultUsedInstrument[0].sinstrumentid\r\n                            },\r\n                            ntzfromdate: {\r\n                                \"value\": response[0].data.EditResultUsedInstrument[0].ntzfromdate,\r\n                                \"label\": response[0].data.EditResultUsedInstrument[0].stzfromdate\r\n                            },\r\n                            ntztodate: {\r\n                                \"value\": response[0].data.EditResultUsedInstrument[0].ntztodate,\r\n                                \"label\": response[0].data.EditResultUsedInstrument[0].stztodate\r\n                            },\r\n                            //dfromdate: new Date(response[0].data.EditResultUsedInstrument[0].sfromdate),\r\n                            //dtodate: new Date(response[0].data.EditResultUsedInstrument[0].stodate)\r\n                            dfromdate:rearrangeDateFormat(inputData.userInfo,response[0].data.EditResultUsedInstrument[0].sfromdate),\r\n                            dtodate: rearrangeDateFormat(inputData.userInfo,response[0].data.EditResultUsedInstrument[0].stodate)\r\n                        },\r\n                        timeZoneList: TagListTimeZone || [],\r\n                        ncontrolcode:inputData.ncontrolCode,\r\n                        loading: false,\r\n                        screenName: \"IDS_INSTRUMENT\",\r\n                        openModal: true,\r\n                        operation: \"update\"\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function deleteTaskRecord(inputData,userInfo) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            nresultusedtaskcode: inputData.selectedRecord.nresultusedtaskcode,\r\n            userinfo: inputData.userInfo,\r\n            ntransactiontestcode: inputData.masterData.RESelectedTest ?\r\n                inputData.masterData.RESelectedTest.map(test => test.ntransactiontestcode).join(\",\").toString() : \"\",\r\n            nregtypecode: inputData.masterData.defaultRegistrationType.nregtypecode,\r\n            nregsubtypecode: inputData.masterData.defaultRegistrationSubType.nregsubtypecode\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/deleteResultUsedTasks\", inputParamData)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...response.data\r\n                        },\r\n                        loading: false,\r\n                        operation: \"delete\",\r\n                        openModal: false,\r\n                        loadEsign: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function fetchTaskRecord(inputData) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            nresultusedtaskcode: inputData.editRow.nresultusedtaskcode,\r\n            userinfo: inputData.userInfo,\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getResultUsedTask\", inputParamData)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...response.data\r\n                        },\r\n                        selectedId: response.data.EditResultUsedTasks[0].nresultusedtaskcode,\r\n                        selectedRecord: {\r\n                            npreregno: response.data.EditResultUsedTasks[0].npreregno,\r\n                            stestsynonym: inputData.editRow.stestsynonym,\r\n                            sanalysistime: response.data.EditResultUsedTasks[0].sanalysistime,\r\n                            smisctime: response.data.EditResultUsedTasks[0].smisctime,\r\n                            spreanalysistime: response.data.EditResultUsedTasks[0].spreanalysistime,\r\n                            spreparationtime: response.data.EditResultUsedTasks[0].spreparationtime,\r\n                            scomments: response.data.EditResultUsedTasks[0].scomments,\r\n                            nresultusedtaskcode: response.data.EditResultUsedTasks[0].nresultusedtaskcode\r\n                        },\r\n                        loading: false,\r\n                        screenName: \"IDS_TASK\",\r\n                        openModal: true,\r\n                        operation: \"update\",\r\n                        ncontrolcode: inputData.ncontrolcode,\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function parameterRecord(inputData) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            ntransactionresultcode: inputData.selectedRecord.ntransactionresultcode,\r\n            ntransactiontestcode: inputData.masterData.RESelectedTest ? inputData.masterData.RESelectedTest.map(test => test.ntransactiontestcode).join(\",\") : \"\",\r\n            ncontrolcode: inputData.controlcode,\r\n            userinfo: inputData.userInfo\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getParameterComments\", inputParamData)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                        },\r\n                        selectedId: response.data.ParameterComments.ntransactionresultcode,\r\n                        selectedRecord: {\r\n                            sresultcomment: response.data.ParameterComments.sresultcomment,\r\n                            stestsynonym: inputData.selectedRecord.stestsynonym,\r\n                            sparametersynonym: inputData.selectedRecord.sparametersynonym,\r\n                            transactiontestcode: response.data.ParameterComments.ntransactiontestcode,\r\n                            ntransactionresultcode: response.data.ParameterComments.ntransactionresultcode,\r\n                            ntransactiontestcode: inputData.masterData.RESelectedTest ? inputData.masterData.RESelectedTest.map(test => test.ntransactiontestcode).join(\",\") : \"\",\r\n                            ncontrolcode: inputData.controlcode\r\n                        },\r\n                        loading: false,\r\n                        screenName: \"IDS_PARAMETERCOMMENTS\",\r\n                        openModal: true,\r\n                        operation: \"updateParameterComments\",\r\n                        ncontrolcode: inputData.controlcode\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function checkListRecord(inputData) {\r\n\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            ntransactionresultcode: inputData.selectedRecord.ntransactionresultcode,\r\n            napprovalparametercode: inputData.selectedRecord.napprovalparametercode,\r\n            nchecklistversioncode: inputData.selectedRecord.nchecklistversioncode,\r\n            ntransactiontestcode: inputData.selectedRecord.ntransactiontestcode.toString(),\r\n            ncontrolcode: inputData.ncontrolcode,\r\n            userinfo: inputData.userInfo,\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getChecklistdesign\", inputParamData)\r\n            .then(response => {\r\n                let selectedRecord = {};\r\n                let lsteditedQB = [];\r\n                selectedRecord = {\r\n                    npreregno: inputData.selectedRecord.npreregno,\r\n                    stestsynonym: inputData.selectedRecord.stestsynonym,\r\n                    sparametersynonym: inputData.selectedRecord.sparametersynonym,\r\n                    ntransactiontestcode: inputData.selectedRecord.ntransactiontestcode,\r\n                    ntransactionresultcode: inputData.selectedRecord.ntransactionresultcode,\r\n                    transactiontestcode: inputData.masterData.RESelectedTest ? inputData.masterData.RESelectedTest.map(test => test.ntransactiontestcode).join(\",\") : \"\"\r\n                }\r\n\r\n                response.data.ChecklistData.map(checklist => {\r\n                    selectedRecord[checklist.nchecklistversionqbcode] = {\r\n                        nchecklistqbcode: checklist.nchecklistqbcode,\r\n                        nchecklistversioncode: checklist.nchecklistversioncode,\r\n                        nchecklistversionqbcode: checklist.nchecklistversionqbcode,\r\n                        sdefaultvalue: checklist.sdefaultvalue\r\n                    }\r\n                    lsteditedQB.push(checklist.nchecklistversionqbcode);\r\n                    return null;\r\n                });\r\n                selectedRecord[\"editedQB\"] = lsteditedQB;\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...response.data\r\n                        },\r\n                        selectedId: response.data.selectedId,\r\n                        selectedRecord: selectedRecord,\r\n                        loading: false,\r\n                        screenName: \"IDS_CHECKLISTRESULT\",\r\n                        openTemplateModal: true,\r\n                        needSaveButton: inputData.needSaveButton,\r\n                        operation: \"create\",\r\n                        ncontrolCode: inputData.ncontrolcode\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function onSaveCheckList(selectedRecord, userInfo, nregtypecode, nregsubtypecode) {\r\n\r\n    return function (dispatch) {\r\n\r\n        let listResultCheckList = [];\r\n        if (selectedRecord && selectedRecord.editedQB) {\r\n            selectedRecord.editedQB.map(qbcode =>\r\n                listResultCheckList.push(selectedRecord[qbcode]))\r\n\r\n            let inputParamData = {\r\n                ntransactionresultcode: selectedRecord.ntransactionresultcode,\r\n                ntransactiontestcode: selectedRecord.ntransactiontestcode.toString(),\r\n                transactiontestcode: selectedRecord.transactiontestcode,\r\n                npreregno: selectedRecord.npreregno,\r\n                ResultCheckList: listResultCheckList,\r\n                userinfo: userInfo,\r\n                nregtypecode: nregtypecode,\r\n                nregsubtypecode: nregsubtypecode,\r\n                ncontrolcode: -1\r\n            }\r\n\r\n            dispatch(initRequest(true));\r\n            rsapi.post(\"resultentrybysample/createResultEntryChecklist\", inputParamData)\r\n\r\n                .then(response => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            selectedRecord: {},\r\n                            templateData: undefined,\r\n                            openTemplateModal: false,\r\n                            openModal: false,\r\n                            loading: false,\r\n                            loadEsign:false\r\n                        }\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            loadEsign:false\r\n                        }\r\n                    })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        } else {\r\n\r\n            dispatch({\r\n                type: DEFAULT_RETURN,\r\n                payload: {\r\n                    openTemplateModal: false,\r\n                    selectedRecord: {},\r\n                    loading: false,\r\n                    loadEsign:false\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport function defaultTest(inputData, RESelectedTest, RESelectedSample, nregtypecode, nregsubtypecode) {\r\n    if (RESelectedTest !== undefined && RESelectedTest.length > 0) {\r\n        return function (dispatch) {\r\n            let inputParamData = {\r\n                userinfo: inputData.userinfo,\r\n                ntransactiontestcode: RESelectedTest ? RESelectedTest.map(test => test.ntransactiontestcode).join(\",\") : \"\",\r\n                ntestgrouptestcode: RESelectedTest ? RESelectedTest.map(test => test.ntestgrouptestcode).join(\",\") : \"\",\r\n                npreregno: RESelectedTest ? RESelectedTest.map(preregno => preregno.npreregno).join(\",\") : \"\",\r\n                //RESelectedSample ? RESelectedSample.map(preregno => preregno.npreregno).join(\",\") : \"\",\r\n                nregtypecode: nregtypecode,\r\n                nregsubtypecode: nregsubtypecode,\r\n                ncontrolcode: inputData.ncontrolcode\r\n            }\r\n            dispatch(initRequest(true));\r\n            rsapi.post(\"resultentrybysample/updateDefaultValue\", inputParamData)\r\n                .then(response => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            masterData: {\r\n                                ...inputData.masterData,\r\n                                ...response.data,\r\n                                TestParameters: replaceUpdatedObject(response.data.TestParameters, inputData.masterData.TestParameters, 'ntransactionresultcode'),\r\n                                RESelectedSubSample: inputData.masterData.RESelectedSubSample\r\n                            },\r\n                            loading: false,\r\n                            activeTestKey: \"IDS_RESULTS\",\r\n                            openModal: false,\r\n                            loadEsign: false\r\n                        }\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            openModal: false,\r\n                            loadEsign: false\r\n                        }\r\n                    })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n    } else {\r\n        toast.warn(intl.formatMessage({\r\n            id: \"IDS_SELECTTESTTOCOMPLETE\"\r\n        }));\r\n    }\r\n\r\n}\r\n\r\nexport function getFormula(parameterData, userInfo, masterData, index,selectedRecord) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            ntransactiontestcode: parameterData.ntransactiontestcode,\r\n            nformulacode: parameterData.ntestgrouptestformulacode,\r\n            userinfo: userInfo,\r\n        }\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getFormulaInputs\", inputParamData)\r\n            .then(response => {\r\n\r\n                const validateFormulaMandyFields = response.data.DynamicFormulaFields.map((item, index) => {\r\n                    return {\r\n                        \"idsName\": \"IDS_FILLALLFIELDS\",\r\n                        \"dataField\": index,\r\n                        \"mandatory\": true\r\n                    }\r\n                });\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...masterData,\r\n                            ...response.data,\r\n                        },\r\n                        selectedRecord: {\r\n                            ...selectedRecord,\r\n                            parameterData: parameterData,\r\n                            sformulacalculationdetail: response.data.query,\r\n                            formulainput: response.data.Formula,\r\n                            resultindex: index,\r\n                            selectedForumulaInput: []\r\n                        },\r\n                        validateFormulaMandyFields,\r\n                        loading: false,\r\n                        screenName: \"IDS_RESULTFORMULA\",\r\n                        showFormula: true,\r\n                        operation: \"validate\",\r\n                        showValidate: true\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function calculateFormula(inputDataValue) {\r\n    return function (dispatch) {\r\n        const inputData = {\r\n            ntransactiontestcode: inputDataValue.selectedRecord.parameterData.ntransactiontestcode,\r\n            ntransactionresultcode: inputDataValue.selectedRecord.parameterData.ntransactionresultcode,\r\n            npreregno: inputDataValue.selectedRecord.parameterData.npreregno,\r\n            sformulacalculationcode: inputDataValue.selectedRecord.sformulacalculationdetail,\r\n            nformulacode: inputDataValue.selectedRecord.parameterData.ntestgrouptestformulacode,\r\n            userinfo: inputDataValue.userInfo,\r\n            dynamicformulafields: inputDataValue.lstDynamicFields,\r\n        }\r\n\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"testmaster/calculateFormula\", inputData)\r\n            .then(response => {\r\n\r\n                 // inputDataValue.selectedResultData[inputDataValue.selectedRecord.resultindex] =\r\n                // {\r\n                //     ntransactionresultcode: inputDataValue.selectedRecord.parameterData.ntransactionresultcode,\r\n                //     ntransactiontestcode: inputDataValue.selectedRecord.parameterData.ntransactiontestcode,\r\n                //     nparametertypecode: inputDataValue.selectedRecord.parameterData.nparametertypecode,\r\n                //     sresult: response.data.Result,\r\n                //     nroundingdigit: inputDataValue.selectedRecord.parameterData.nroundingdigits,\r\n                //     value: inputDataValue.selectedRecord.parameterData.ngradecode,\r\n                //     parameter: inputDataValue.selectedRecord.parameterData\r\n                // }\r\n                inputDataValue.ResultParameter[inputDataValue.selectedRecord.resultindex][\"sfinal\"] = response.data.Result;\r\n                inputDataValue.ResultParameter[inputDataValue.selectedRecord.resultindex][\"sresult\"] = response.data.Result;\r\n                inputDataValue.ResultParameter[inputDataValue.selectedRecord.resultindex]['editable'] = true;\r\n                inputDataValue.ResultParameter[inputDataValue.selectedRecord.resultindex][\"ncalculatedresult\"] = 3;\r\n                inputDataValue.selectedResultGrade[inputDataValue.selectedRecord.resultindex] = {\r\n                    ngradecode: numericGrade(inputDataValue.selectedRecord.parameterData, parseInt(response.data.Result))\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputDataValue.masterData,\r\n                            //selectedResultData: inputDataValue.selectedResultData,\r\n                            //selectedResultGrade: inputDataValue.selectedResultGrade,\r\n                            //ResultParameter: inputDataValue.ResultParameter\r\n                        },\r\n                        selectedRecord:{\r\n                            selectedResultGrade:  inputDataValue.selectedResultGrade,\r\n                            ResultParameter: inputDataValue.ResultParameter\r\n                        },\r\n                        loading: false,\r\n                        screenName: \"IDS_RESULTENTRY\",\r\n                        showFormula: false,\r\n                        operation: \"update\",\r\n                        showValidate: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({type: DEFAULT_RETURN, payload: { loading: false}})\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    //toast.warn(error.response.data);\r\n                    toast.warn(error.response.data[\"Result\"]);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getREFilterTestData(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getTestBasedOnCombo\", inputData)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...response.data,\r\n                            defaultFilterStatus: inputData.defaultFilterStatus,\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function updateTestMethodSource(inputData, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/updateTestMethodSource\", inputData)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...masterData,\r\n                            RE_TEST: replaceUpdatedObject(response.data.RE_TEST, masterData.RE_TEST, 'ntransactiontestcode')\r\n                        },\r\n                        loading: false,\r\n                        openModal: false,\r\n                        loadEsign: false\r\n\r\n                        // activeTestKey: \"IDS_RESULTS\"\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function resultImportFile(inputData, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getImportResultEntry\", inputData)\r\n            .then(response => {\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...masterData\r\n                        },\r\n                        loading: false,\r\n                        openModal: false,\r\n                        // activeTestKey: \"IDS_RESULTS\"\r\n                    }\r\n                })\r\n\r\n                if (response.data.returnStatus && response.data.returnStatus !== \"\") {\r\n                    toast.info(response.data.returnStatus);\r\n                }\r\n                else {\r\n                    toast.warn(response.data.returnStatus);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function validateEsignCredentialComplete(inputParam) {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"login/validateEsignCredential\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data === \"Success\") {\r\n\r\n\r\n\r\n                    const methodUrl = \"performaction\"\r\n                    inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"] = inputParam.inputData.userinfo;\r\n\r\n                    if (inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()] &&\r\n                        inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]) {\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"]\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"]\r\n                    }\r\n                    if (inputParam[\"screenData\"][\"inputParam\"][\"operation\"] === \"complete\") {\r\n                        dispatch(completeTest(inputParam[\"screenData\"][\"inputParam\"], inputParam[\"screenData\"][\"inputParam\"][\"RESelectedTest\"], inputParam.inputData.userinfo))\r\n                    } else if (inputParam[\"screenData\"][\"inputParam\"][\"operation\"] === \"default\") {\r\n                        dispatch(defaultTest(inputParam[\"screenData\"][\"inputParam\"][\"testChildGetREParam\"], inputParam[\"screenData\"][\"inputParam\"][\"RESelectedTest\"], inputParam[\"screenData\"][\"inputParam\"][\"RESelectedSample\"], inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"nregtypecode\"], inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"nregsubtypecode\"]))\r\n                    } else if (inputParam[\"screenData\"][\"inputParam\"][\"operation\"] === \"deleteInstrument\") {\r\n                        dispatch(deleteInstrumentRecord(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"]))\r\n                    } else if (inputParam[\"screenData\"][\"inputParam\"][\"operation\"] === \"createMethod\") {\r\n                        dispatch(updateTestMethodSource(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"], inputParam[\"screenData\"][\"inputParam\"][\"masterData\"]))\r\n                    } else if (inputParam[\"screenData\"][\"inputParam\"][\"operation\"] === \"deleteTask\") {\r\n                        dispatch(deleteTaskRecord(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"]))\r\n                    } else if (inputParam[\"screenData\"][\"inputParam\"][\"operation\"] === \"updateParameterComments\") {\r\n                        dispatch(updateParameterComments(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"],  inputParam[\"screenData\"][\"inputParam\"][\"masterData\"]))\r\n                    }else if (inputParam[\"screenData\"][\"operation\"] === \"updatechecklist\") {\r\n                        let { selectedRecord, userInfo, nregtypecode, nregsubtypecode } = inputParam[\"screenData\"];\r\n                        delete selectedRecord.esignpassword;\r\n                        delete selectedRecord.esigncomments;\r\n                        delete selectedRecord.agree;\r\n                        delete inputParam.inputData.password;\r\n                        userInfo = inputParam.inputData.userinfo;\r\n                        dispatch(onSaveCheckList(selectedRecord, userInfo, nregtypecode, nregsubtypecode))\r\n                    }\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    };\r\n}\r\n\r\nexport function getMeanCalculationTestParameter(meanParam) {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        const inputData = {\r\n            npreregno: meanParam.selectedRecord.npreregno,\r\n            ntransactionresultcode: meanParam.selectedRecord.ntransactionresultcode,\r\n            userinfo: meanParam.userInfo\r\n        }\r\n        return rsapi.post(\"resultentrybysample/getMeanCalculationTestParameter\", inputData)\r\n            .then(response => {\r\n\r\n                const list = response.data || [];\r\n                // const optionList = [];\r\n                // list.map(item=>{\r\n                //     console.log(\"item:\", item);\r\n                //         optionList.push({item:item, \r\n                //                         label:\"[\"+item.stestsynonym+\"]-[\"+item.sparametersynonym+\"]-[\"+item.sresult+\"]\", \r\n                //                         value:item.ntransactionresultcode})\r\n                //     })\r\n                // const masterData = {...masterData, ResultParameter:meanParam.selectedRecord}\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        loading: false, openModal: true,\r\n                        meanTestParameterList: list,\r\n                        screenName: \"IDS_MEANPARAMETER\",\r\n                        ncontrolcode: meanParam.ncontrolCode,\r\n                        selectedTestParameterMean: meanParam.selectedRecord\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}