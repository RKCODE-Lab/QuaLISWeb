{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\branches\\\\SOURCE-513-PROD\\\\SOURCE-513-ALPD-5304\\\\QuaLISWeb\\\\src\\\\pages\\\\dashboard\\\\ButtonDropdown.jsx\";\nimport React from 'react';\nimport { forwardRef, useRef, useState } from 'react';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport withClickOutside from './withClickOutside';\nimport './ButtonDropdownCss.css';\nimport { Form, InputGroup } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleRight, faArrowRight, faGreaterThan } from '@fortawesome/free-solid-svg-icons';\nimport { createRef } from 'react';\nconst ButtonMultiSelectDropDown = forwardRef(({\n  show,\n  setShow,\n  options,\n  groupingKey,\n  groupingDisplayname,\n  value,\n  label,\n  onClick\n}, ref) => {\n  let listData = [];\n  let count = 0;\n\n  const onClick1 = (e, item, type, check, prevent) => {\n    if (prevent) {\n      e.preventDefault();\n    } else {\n      e.stopPropagation();\n    }\n\n    let list = value;\n\n    if (type === 1) {\n      if (check) {\n        list = list.filter(x => x.value !== item.value);\n      } else {\n        list.push(item);\n      }\n    } else if (type === 2) {\n      if (check) {\n        list = list.filter(x => x.item[groupingKey] !== item.item[groupingKey]);\n      } else {\n        list = list.filter(x => x.item[groupingKey] !== item.item[groupingKey]);\n        const list1 = options.filter(x => x.item[groupingKey] === item.item[groupingKey]);\n        list = [...list, ...list1];\n      }\n    }\n\n    onClick(list);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sqlbuilder-dropdown dropdown\",\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: `btn btn-primary dropdown-toggle ${show ? \"show\" : \"\"}`,\n    onClick: e => setShow(!show),\n    type: \"button\",\n    id: \"dropdownMenuButton\",\n    \"data-mdb-toggle\": \"dropdown\",\n    \"aria-expanded\": \"false\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, value.length === options.length ? \"All \" + label : value.length + \" \" + label), /*#__PURE__*/React.createElement(\"ul\", {\n    className: `dropdown-menu ${show ? \"show\" : \"\"}`,\n    \"aria-labelledby\": \"dropdownMenuButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, options.map((item, index) => {\n    if (listData.findIndex(x => item.item[groupingKey] === x.item[groupingKey]) === -1) {\n      listData = options.filter(x => item.item[groupingKey] === x.item[groupingKey]);\n      count = 1;\n    } else if (listData.length > 1 && listData.length !== options.length) {\n      count = 2;\n    }\n\n    if (listData.length > 1 && listData.length !== options.length && count === 1) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 32\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"is-flex mb-1 is-justify-content-space-between has-text-weight-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: ' has-text-black ',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"dropdown-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 37\n        }\n      }, item.item[groupingDisplayname])), /*#__PURE__*/React.createElement(\"span\", {\n        className: 'icon mr-3',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        className: \"mt-2\",\n        icon: faAngleRight,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 37\n        }\n      }))), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"dropdown-menu dropdown-submenu\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: 'mb-1 py-0 dropdown-item',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: 'checkbox has-text-weight-light is-size-6',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        className: 'mr-3',\n        style: {\n          \"transform\": \"scale(1.25)\"\n        },\n        onClick: e => {\n          onClick1(e, item, 2, listData.length === value.filter(x => x.item[groupingKey] === item.item[groupingKey]).length ? true : false);\n        },\n        checked: listData.length === value.filter(x => x.item[groupingKey] === item.item[groupingKey]).length ? true : false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: e => {\n          onClick1(e, item, 2, listData.length === value.filter(x => x.item[groupingKey] === item.item[groupingKey]).length ? true : false, true);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 49\n        }\n      }, \"Select All\")))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"mx-3 my-2\",\n        \"data-v-671a1db2\": \"\",\n        style: {\n          \"border-bottom\": \"1px solid rgb(244, 244, 244)\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 37\n        }\n      })), listData.map((item1, index1) => {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 44\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: 'mb-1 py-0 dropdown-item',\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"control\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          className: 'checkbox has-text-weight-light is-size-6',\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 49\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          type: \"checkbox\",\n          className: 'mr-3',\n          style: {\n            \"transform\": \"scale(1.25)\"\n          },\n          onClick: e => {\n            onClick1(e, item1, 1, value.findIndex(x => x.value === item1.value) !== -1 ? true : false);\n          },\n          checked: value.findIndex(x => x.value === item1.value) !== -1 ? true : false,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 53\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          onClick: e => {\n            onClick1(e, item1, 1, value.findIndex(x => x.value === item1.value) !== -1 ? true : false, true);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 53\n          }\n        }, item1.label)))));\n      })));\n    } else if (count === 1) {\n      console.log(value);\n      return /*#__PURE__*/React.createElement(React.Fragment, null, index === 0 ? /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: 'mb-1 py-0 dropdown-item',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: 'checkbox has-text-weight-light is-size-6',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        className: 'mr-3',\n        style: {\n          \"transform\": \"scale(1.25)\"\n        },\n        onClick: e => {\n          onClick1(e, item, 2, value.length === options.length ? true : false);\n        },\n        checked: value.length === options.length ? true : false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: e => {\n          onClick1(e, item, 2, value.length === options.length ? true : false, true);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 49\n        }\n      }, \"Select All\")))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"mx-3 my-4\",\n        \"data-v-671a1db2\": \"\",\n        style: {\n          \"border-bottom\": \"1px solid rgb(244, 244, 244)\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 37\n        }\n      })) : \"\", /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: 'mb-1 py-0 dropdown-item',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: 'checkbox has-text-weight-light is-size-6',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        className: 'mr-3',\n        style: {\n          \"transform\": \"scale(1.25)\"\n        },\n        onClick: e => {\n          onClick1(e, item, 1, value.findIndex(x => x.value === item.value) !== -1 ? true : false);\n        },\n        checked: value.findIndex(x => x.value === item.value) !== -1 ? true : false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 45\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: e => onClick1(e, item, 1, value.findIndex(x => x.value === item.value) !== -1 ? true : false, true),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 45\n        }\n      }, item.label))))));\n    }\n  }))) // <Dropdown>\n  //     <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n  //         {\"column selected\"}\n  //     </Dropdown.Toggle>\n  //     <Dropdown.Menu>\n  //         <Dropdown.Item href=\"#/action-1\">\n  //             <Dropdown.Toggle  id=\"dropdown-basic1\">\n  //                 {\"column selected\"}\n  //             </Dropdown.Toggle>\n  //             <Dropdown.Menu>\n  //                 <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\n  //                 <Dropdown.Item href=\"#/action-2\">Another action</Dropdown.Item>\n  //                 <Dropdown.Item href=\"#/action-3\">Something else</Dropdown.Item>\n  //             </Dropdown.Menu>\n  //         </Dropdown.Item>\n  //         <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\n  //         <Dropdown.Item href=\"#/action-2\">Another action</Dropdown.Item>\n  //         <Dropdown.Item href=\"#/action-3\">Something else</Dropdown.Item>\n  //     </Dropdown.Menu>\n  // </Dropdown>\n  ;\n});\nexport default withClickOutside(ButtonMultiSelectDropDown);","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5304/QuaLISWeb/src/pages/dashboard/ButtonDropdown.jsx"],"names":["React","forwardRef","useRef","useState","Dropdown","withClickOutside","Form","InputGroup","FontAwesomeIcon","faAngleRight","faArrowRight","faGreaterThan","createRef","ButtonMultiSelectDropDown","show","setShow","options","groupingKey","groupingDisplayname","value","label","onClick","ref","listData","count","onClick1","e","item","type","check","prevent","preventDefault","stopPropagation","list","filter","x","push","list1","length","map","index","findIndex","item1","index1","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { forwardRef, useRef, useState } from 'react';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport withClickOutside from './withClickOutside';\r\nimport './ButtonDropdownCss.css'\r\nimport { Form, InputGroup } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAngleRight, faArrowRight, faGreaterThan } from '@fortawesome/free-solid-svg-icons';\r\nimport { createRef } from 'react';\r\n\r\n\r\n\r\n\r\nconst ButtonMultiSelectDropDown = forwardRef(({\r\n    show, setShow, options, groupingKey,\r\n    groupingDisplayname, value, label, onClick }, ref) => {\r\n\r\n    let listData = []\r\n    let count = 0;\r\n\r\n    const onClick1 = (e, item, type, check, prevent) => {\r\n     \r\n        if (prevent) {\r\n            e.preventDefault();\r\n        } else {\r\n            e.stopPropagation();\r\n        }\r\n\r\n        let list = value;\r\n        if (type === 1) {\r\n            if (check) {\r\n                list = list.filter(x => x.value !== item.value)\r\n            } else {\r\n                list.push(item)\r\n            }\r\n        } else if (type === 2) {\r\n            if (check) {\r\n                list = list.filter(x => x.item[groupingKey] !== item.item[groupingKey])\r\n            } else {\r\n                list = list.filter(x => x.item[groupingKey] !== item.item[groupingKey])\r\n                const list1 = options.filter(x => x.item[groupingKey] === item.item[groupingKey])\r\n                list = [...list, ...list1]\r\n            }\r\n\r\n        }\r\n        onClick(list);\r\n    }\r\n    return (\r\n        <div className=\"sqlbuilder-dropdown dropdown\" ref={ref}>\r\n            <button className={`btn btn-primary dropdown-toggle ${show ? \"show\" : \"\"}`} onClick={e => setShow(!show)} type=\"button\" id=\"dropdownMenuButton\"\r\n                data-mdb-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                {value.length === options.length ? \"All \" + label : value.length + \" \" + label}\r\n            </button>\r\n            <ul className={`dropdown-menu ${show ? \"show\" : \"\"}`} aria-labelledby=\"dropdownMenuButton\">\r\n\r\n                {options.map((item, index) => {\r\n                    if (listData.findIndex(x => item.item[groupingKey] === x.item[groupingKey]) === -1) {\r\n                        listData = options.filter(x => item.item[groupingKey] === x.item[groupingKey])\r\n                        count = 1;\r\n                    } else if (listData.length > 1\r\n                        && listData.length !== options.length) {\r\n                        count = 2;\r\n                    }\r\n                    if (listData.length > 1\r\n                        && listData.length !== options.length && count === 1) {\r\n                        return <li>\r\n                            <div className='is-flex mb-1 is-justify-content-space-between has-text-weight-bold'>\r\n                                <span className={' has-text-black '}>\r\n                                    <a className=\"dropdown-item\" >\r\n                                        {item.item[groupingDisplayname]}\r\n                                    </a>\r\n                                </span>\r\n                                <span className={'icon mr-3'}>\r\n                                    <FontAwesomeIcon className='mt-2' icon={faAngleRight} />\r\n                                </span>\r\n                            </div>\r\n                            <ul className=\"dropdown-menu dropdown-submenu\">\r\n                                <li >\r\n                                    <div className={'mb-1 py-0 dropdown-item'}>\r\n                                        <div className='control'>\r\n                                            <label className={'checkbox has-text-weight-light is-size-6'}>\r\n                                                <input type=\"checkbox\" className={'mr-3'}\r\n                                                    style={{ \"transform\": \"scale(1.25)\" }}\r\n                                                    onClick={(e) => {\r\n                                                        onClick1(e, item, 2,\r\n                                                            (listData.length === value.filter(x => x.item[groupingKey] === item.item[groupingKey]).length ? true : false))\r\n                                                    }}\r\n                                                    checked={listData.length === value.filter(x => x.item[groupingKey] === item.item[groupingKey]).length ? true : false} />\r\n\r\n                                                <span onClick={(e) => {\r\n                                                    onClick1(e, item, 2,\r\n                                                        (listData.length === value.filter(x => x.item[groupingKey] === item.item[groupingKey]).length ? true : false), true)\r\n                                                }}>\r\n                                                    {\"Select All\"}\r\n                                                </span>\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"mx-3 my-2\" data-v-671a1db2=\"\" style={{ \"border-bottom\": \"1px solid rgb(244, 244, 244)\" }} />\r\n                                </li>\r\n\r\n                                {listData.map((item1, index1) => {\r\n\r\n                                    return <li >\r\n                                        <div className={'mb-1 py-0 dropdown-item'}>\r\n                                            <div className='control'>\r\n                                                <label className={'checkbox has-text-weight-light is-size-6'}>\r\n                                                    <input type=\"checkbox\" className={'mr-3'}\r\n                                                        style={{ \"transform\": \"scale(1.25)\" }}\r\n                                                        onClick={(e) => { onClick1(e, item1, 1, value.findIndex(x => x.value === item1.value) !== -1 ? true : false) }}\r\n                                                        checked={value.findIndex(x => x.value === item1.value) !== -1 ? true : false} />\r\n\r\n                                                    <span onClick={(e) => { onClick1(e, item1, 1, value.findIndex(x => x.value === item1.value) !== -1 ? true : false, true )}}>\r\n                                                        {item1.label}\r\n                                                    </span>\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </li>\r\n\r\n                                })\r\n                                }\r\n                            </ul>\r\n                        </li>\r\n                    } else if (count === 1) {\r\n                        console.log(value)\r\n                        return <>\r\n                            {index === 0 ?\r\n                                <li >\r\n                                    <div className={'mb-1 py-0 dropdown-item'}>\r\n                                        <div className='control'>\r\n                                            <label className={'checkbox has-text-weight-light is-size-6'}>\r\n                                                <input type=\"checkbox\" className={'mr-3'}\r\n                                                    style={{ \"transform\": \"scale(1.25)\" }}\r\n                                                    onClick={(e) => { onClick1(e, item, 2, value.length === options.length ? true : false) }}\r\n                                                    checked={value.length === options.length ? true : false} />\r\n\r\n                                                <span onClick={(e) => { onClick1(e, item, 2, value.length === options.length ? true : false, true) }}>\r\n                                                    {\"Select All\"}\r\n                                                </span>\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"mx-3 my-4\" data-v-671a1db2=\"\" style={{ \"border-bottom\": \"1px solid rgb(244, 244, 244)\" }} />\r\n                                </li> : \"\"\r\n                            }\r\n                            <li >\r\n                                <div className={'mb-1 py-0 dropdown-item'}>\r\n                                    <div className='control'>\r\n                                        <label className={'checkbox has-text-weight-light is-size-6'}>\r\n                                            <input type=\"checkbox\" className={'mr-3'}\r\n                                                style={{ \"transform\": \"scale(1.25)\" }}\r\n                                                onClick={(e) => { onClick1(e, item, 1, value.findIndex(x => x.value === item.value) !== -1 ? true : false) }}\r\n                                                checked={value.findIndex(x => x.value === item.value) !== -1 ? true : false} />\r\n\r\n                                            <span onClick={(e) =>  onClick1(e, item, 1, value.findIndex(x => x.value === item.value) !== -1 ? true : false, true) }\r\n                                            >\r\n                                                {item.label}\r\n                                            </span>\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        </>\r\n                    }\r\n                })\r\n\r\n                }\r\n            </ul>\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n        // <Dropdown>\r\n        //     <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n        //         {\"column selected\"}\r\n        //     </Dropdown.Toggle>\r\n        //     <Dropdown.Menu>\r\n        //         <Dropdown.Item href=\"#/action-1\">\r\n        //             <Dropdown.Toggle  id=\"dropdown-basic1\">\r\n        //                 {\"column selected\"}\r\n        //             </Dropdown.Toggle>\r\n        //             <Dropdown.Menu>\r\n        //                 <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\r\n        //                 <Dropdown.Item href=\"#/action-2\">Another action</Dropdown.Item>\r\n        //                 <Dropdown.Item href=\"#/action-3\">Something else</Dropdown.Item>\r\n        //             </Dropdown.Menu>\r\n        //         </Dropdown.Item>\r\n        //         <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\r\n        //         <Dropdown.Item href=\"#/action-2\">Another action</Dropdown.Item>\r\n        //         <Dropdown.Item href=\"#/action-3\">Something else</Dropdown.Item>\r\n        //     </Dropdown.Menu>\r\n        // </Dropdown>\r\n    );\r\n}\r\n)\r\n\r\nexport default withClickOutside(ButtonMultiSelectDropDown);"]},"metadata":{},"sourceType":"module"}