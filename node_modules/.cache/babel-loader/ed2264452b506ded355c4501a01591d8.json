{"ast":null,"code":"import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Chart,ChartLegend,ChartSeries,ChartSeriesItem,ChartTooltip,ChartYAxis,ChartYAxisItem}from'@progress/kendo-react-charts';import{PDFExport}from\"@progress/kendo-react-pdf\";import{faFilePdf}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{Col,Nav,Row}from'react-bootstrap';import{ProductList}from'../../../pages/product/product.styled';import{ReactComponent as ChartRefresh}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/image/chart-refresh.svg\";import{injectIntl}from'react-intl';import'../../../assets/styles/dashboard.css';import'hammerjs';import{designComponents}from'../../../components/Enumeration';import ScrollContainer from'react-indiana-drag-scroll';import{Breadcrumb}from'react-bootstrap';import{convertDatetoStringByTimeZone}from'../../../components/CommonScript';import{Attachments}from'../../../components/dropzone/dropzone.styles';var BubbleChart=/*#__PURE__*/function(_React$Component){_inherits(BubbleChart,_React$Component);var _super=_createSuper(BubbleChart);function BubbleChart(props){var _this;_classCallCheck(this,BubbleChart);_this=_super.call(this,props);_this.exportPDF=function(){_this.pdfExportComponent.save();};_this.state={data:[],masterStatus:\"\",error:\"\",selectedRecord:{}};return _this;}_createClass(BubbleChart,[{key:\"BreadcrumDesign\",value:function BreadcrumDesign(viewDashBoardDesignConfigList){var _this2=this;var breadCrumValue=\"\";var arryalist=[];var selectedRecord=this.props.selectedRecord||{};viewDashBoardDesignConfigList.forEach(function(item){if(item.ndesigncomponentcode===designComponents.DATEPICKER){breadCrumValue=selectedRecord?selectedRecord[item.sfieldname]?convertDatetoStringByTimeZone(_this2.props.userInfo,selectedRecord[item.sfieldname]):convertDatetoStringByTimeZone(_this2.props.userInfo,new Date(item.dataList[0])):convertDatetoStringByTimeZone(_this2.props.userInfo,new Date(item.dataList[0]));}else if(item.ndesigncomponentcode===designComponents.COMBOBOX){var listvalue=[];if(selectedRecord&&selectedRecord[item.sfieldname]){listvalue.push(_defineProperty({},item.sdisplaymember,selectedRecord[item.sfieldname].label));}else{listvalue=item.dataList.filter(function(lst){return lst[item.sfieldname]===parseInt(item.sdefaultvalue);});}breadCrumValue=listvalue[0][item.sdisplaymember];}else if(item.ndesigncomponentcode===designComponents.USERINFO){var _listvalue=[];//commenting now for restricting breadcrumbs\n// if(selectedRecord && selectedRecord[item.sfieldname]) {\n//     listvalue.push({ [item.sfieldname]: selectedRecord[item.sfieldname] })\n// }else{\n//     listvalue.push({ [item.sfieldname]: this.props.userInfo && this.props.userInfo[item.sfieldname] })\n// }\n//breadCrumValue = listvalue && listvalue.length > 0 ? listvalue[0][item.sfieldname] : \"-\";\nbreadCrumValue=_listvalue&&_listvalue.length==0?\"\":\"-\";}else{breadCrumValue=selectedRecord?selectedRecord[item.sfieldname]?selectedRecord[item.sfieldname]:item.sdefaultvalue:item.sdefaultvalue;}if(item.ndesigncomponentcode!==designComponents.USERINFO){arryalist.push({\"label\":item.sdisplayname,\"value\":breadCrumValue});}});return/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12,className:\"p-0\"},/*#__PURE__*/React.createElement(ScrollContainer,{className:\"breadcrumbs-scroll-container\"},/*#__PURE__*/React.createElement(Breadcrumb,{className:\"filter-breadcrumbs\"},arryalist.map(function(item,index){return/*#__PURE__*/React.createElement(Breadcrumb.Item,{key:index},/*#__PURE__*/React.createElement(\"span\",null,item[\"label\"],\" \",\":\",\" \"),/*#__PURE__*/React.createElement(\"span\",null,item[\"value\"]));})))));}},{key:\"render\",value:function render(){var _this3=this;var Series=[];// const labelContent = (props) => {\n//     return `${props.dataItem}`;\n// }\n// if (this.props.bubbleSeries !== undefined) {\n//     this.props.bubbleSeries.map(item => {\n//         Series.push(\n//         <ChartSeriesItem type=\"bubble\" data={item.Series} name={item.yField} color={item.colors} aggregate=\"count\" stack={this.props.chartTypeName === 'area' ? true : false}\n//         />               \n//         );\n//         return null;\n//     })color={item.colorFill}\n// }\nif(this.props.bubbleSeries!==undefined){this.props.bubbleSeries.forEach(function(item){Series.push(/*#__PURE__*/React.createElement(ChartSeriesItem,{type:\"bubble\",data:_this3.props.chartData,xField:item.xFieldBubble,yField:item.ySeriesBubble,sizeField:item.sizeSeriesBubble,categoryField:item.categorySeriesBubble,name:item.sizeSeriesBubbleForLegend,color:item.colorFill}));});}return/*#__PURE__*/React.createElement(React.Fragment,null,this.props.viewDashBoardDesignConfigList&&this.BreadcrumDesign(this.props.viewDashBoardDesignConfigList),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(\"h4\",{hidden:this.props.hiddenExport,className:\"text-left\"},this.props.masterData.selectedDashBoardTypes&&this.props.masterData.selectedDashBoardTypes.sdashboardtypename)),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ProductList,{className:\"d-inline dropdown badget_menu d-flex justify-content-end \"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.props.hiddenParam,title:\"ChartRefresh\",onClick:function onClick(){return _this3.props.checkParametersAvailable(_this3.props.masterData.selectedDashBoardTypes,_this3.props.userInfo,_this3.props.masterData,_this3.props.dashBoardTypeNo,_this3.props.templateCode);}},/*#__PURE__*/React.createElement(ChartRefresh,{className:\"custom_icons\",width:\"20\",height:\"20\",style:{marginLeft:'0.35rem'}})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",href:\"#\",hidden:this.props.hiddenExport},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFilePdf,className:\"ActionIconColor\",onClick:function onClick(){return _this3.exportPDF();}}))))),this.props.bubbleSeries&&this.props.bubbleSeries.length>0?/*#__PURE__*/React.createElement(PDFExport,{ref:function ref(component){return _this3.pdfExportComponent=component;},paperSize:\"auto\",margin:40},/*#__PURE__*/React.createElement(Chart,{pannable:true,zoomable:true,style:this.props.style},/*#__PURE__*/React.createElement(ChartSeries,null,Series),/*#__PURE__*/React.createElement(ChartLegend,{position:\"bottom\",orientation:\"horizontal\"}),/*#__PURE__*/React.createElement(ChartYAxis,null,/*#__PURE__*/React.createElement(ChartYAxisItem,{labels:{format:'{0:N0}'}})),/*#__PURE__*/React.createElement(ChartTooltip,{format:\"{3}: {2:N0}\",opacity:1}))):/*#__PURE__*/React.createElement(Attachments,{className:\"norecordchart\"},this.props.intl.formatMessage({id:\"IDS_NORECORDSAVAILABLE\"})));}}]);return BubbleChart;}(React.Component);export default injectIntl(BubbleChart);","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/dashboardtypes/charts/BubbleChart.jsx"],"names":["React","Chart","ChartLegend","ChartSeries","ChartSeriesItem","ChartTooltip","ChartYAxis","ChartYAxisItem","PDFExport","faFilePdf","FontAwesomeIcon","Col","Nav","Row","ProductList","injectIntl","designComponents","ScrollContainer","Breadcrumb","convertDatetoStringByTimeZone","Attachments","BubbleChart","props","exportPDF","pdfExportComponent","save","state","data","masterStatus","error","selectedRecord","viewDashBoardDesignConfigList","breadCrumValue","arryalist","forEach","item","ndesigncomponentcode","DATEPICKER","sfieldname","userInfo","Date","dataList","COMBOBOX","listvalue","push","sdisplaymember","label","filter","lst","parseInt","sdefaultvalue","USERINFO","length","sdisplayname","map","index","Series","bubbleSeries","undefined","chartData","xFieldBubble","ySeriesBubble","sizeSeriesBubble","categorySeriesBubble","sizeSeriesBubbleForLegend","colorFill","BreadcrumDesign","hiddenExport","masterData","selectedDashBoardTypes","sdashboardtypename","hiddenParam","checkParametersAvailable","dashBoardTypeNo","templateCode","marginLeft","component","style","format","intl","formatMessage","id","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {\r\n    Chart, ChartLegend, ChartSeries, ChartSeriesItem, ChartTooltip,\r\n    ChartYAxis, ChartYAxisItem\r\n} from '@progress/kendo-react-charts';\r\nimport { PDFExport } from \"@progress/kendo-react-pdf\";\r\nimport { faFilePdf } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Col, Nav, Row } from 'react-bootstrap';\r\nimport { ProductList } from '../../../pages/product/product.styled';\r\nimport { ReactComponent as ChartRefresh } from '../../../assets/image/chart-refresh.svg';\r\nimport { injectIntl } from 'react-intl';\r\nimport '../../../assets/styles/dashboard.css';\r\nimport 'hammerjs';\r\nimport { designComponents } from '../../../components/Enumeration';\r\nimport ScrollContainer from 'react-indiana-drag-scroll';\r\nimport { Breadcrumb } from 'react-bootstrap';\r\nimport { convertDatetoStringByTimeZone } from '../../../components/CommonScript';\r\nimport { Attachments } from '../../../components/dropzone/dropzone.styles';\r\n\r\n\r\n\r\nclass BubbleChart extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n\r\n        this.state = {\r\n            data: [], masterStatus: \"\", error: \"\", selectedRecord: {}\r\n\r\n        }\r\n    }\r\n    exportPDF = () => {\r\n        this.pdfExportComponent.save();\r\n    }\r\n    BreadcrumDesign(viewDashBoardDesignConfigList) {\r\n        let breadCrumValue = \"\";\r\n        let arryalist = [];\r\n        let selectedRecord = this.props.selectedRecord || {}\r\n        \r\n        viewDashBoardDesignConfigList.forEach(item => {\r\n\r\n            if (item.ndesigncomponentcode === designComponents.DATEPICKER) {\r\n                breadCrumValue = selectedRecord ? selectedRecord[item.sfieldname] ? convertDatetoStringByTimeZone(this.props.userInfo, selectedRecord[item.sfieldname]) :\r\n                    convertDatetoStringByTimeZone(this.props.userInfo, new Date(item.dataList[0])) : convertDatetoStringByTimeZone(this.props.userInfo, new Date(item.dataList[0]));\r\n            }\r\n            else if (item.ndesigncomponentcode === designComponents.COMBOBOX) {\r\n                let listvalue = [];\r\n                if (selectedRecord && selectedRecord[item.sfieldname]) {\r\n                    listvalue.push({ [item.sdisplaymember]: selectedRecord[item.sfieldname].label })\r\n                } else {\r\n                    listvalue = item.dataList.filter(lst => {\r\n                        return lst[item.sfieldname] === parseInt(item.sdefaultvalue);\r\n                    });\r\n                }\r\n\r\n                breadCrumValue = listvalue[0][item.sdisplaymember];\r\n            }else if (item.ndesigncomponentcode === designComponents.USERINFO) {\r\n                let listvalue = [];\r\n                //commenting now for restricting breadcrumbs\r\n                // if(selectedRecord && selectedRecord[item.sfieldname]) {\r\n                //     listvalue.push({ [item.sfieldname]: selectedRecord[item.sfieldname] })\r\n                // }else{\r\n                //     listvalue.push({ [item.sfieldname]: this.props.userInfo && this.props.userInfo[item.sfieldname] })\r\n                // }\r\n                //breadCrumValue = listvalue && listvalue.length > 0 ? listvalue[0][item.sfieldname] : \"-\";\r\n               breadCrumValue = listvalue && listvalue.length == 0 ? \"\" : \"-\";\r\n            }\r\n            else {\r\n                breadCrumValue = selectedRecord ? selectedRecord[item.sfieldname] ? selectedRecord[item.sfieldname] : item.sdefaultvalue : item.sdefaultvalue;\r\n            }\r\n            if(item.ndesigncomponentcode !== designComponents.USERINFO){\r\n                arryalist.push({ \"label\": item.sdisplayname, \"value\": breadCrumValue });\r\n            }\r\n           \r\n        });\r\n\r\n\r\n        return (\r\n            < Row >\r\n                <Col md={12} className=\"p-0\">\r\n                    < ScrollContainer className=\"breadcrumbs-scroll-container\">\r\n                        <Breadcrumb className=\"filter-breadcrumbs\">\r\n                            {arryalist.map((item, index) =>\r\n                                <Breadcrumb.Item key={index}>\r\n                                    <span>{item[\"label\"]}{\" \"}:{\" \"}</span>\r\n                                    <span>{item[\"value\"]}</span>\r\n                                </Breadcrumb.Item>\r\n                            )}\r\n                        </Breadcrumb>\r\n                    </ScrollContainer>\r\n                </Col >\r\n            </Row >\r\n        )\r\n\r\n    }\r\n\r\n    render() {\r\n        let Series = [];\r\n        // const labelContent = (props) => {\r\n        //     return `${props.dataItem}`;\r\n        // }\r\n\r\n        // if (this.props.bubbleSeries !== undefined) {\r\n        //     this.props.bubbleSeries.map(item => {\r\n        //         Series.push(\r\n        //         <ChartSeriesItem type=\"bubble\" data={item.Series} name={item.yField} color={item.colors} aggregate=\"count\" stack={this.props.chartTypeName === 'area' ? true : false}\r\n        //         />               \r\n        //         );\r\n        //         return null;\r\n        //     })color={item.colorFill}\r\n\r\n        // }\r\n        if (this.props.bubbleSeries !== undefined) {\r\n            this.props.bubbleSeries.forEach(item => {\r\n                Series.push(<ChartSeriesItem type=\"bubble\" data={this.props.chartData} xField={item.xFieldBubble} yField={item.ySeriesBubble} sizeField={item.sizeSeriesBubble}\r\n                    categoryField={item.categorySeriesBubble} name={item.sizeSeriesBubbleForLegend} color={item.colorFill} />);\r\n            });\r\n        }\r\n\r\n        return (\r\n            <>\r\n\r\n                {this.props.viewDashBoardDesignConfigList &&\r\n                    this.BreadcrumDesign(this.props.viewDashBoardDesignConfigList)\r\n                }\r\n                <Row>\r\n                    <Col md={8} >\r\n                        <h4 hidden={this.props.hiddenExport} className=\"text-left\">{this.props.masterData.selectedDashBoardTypes && this.props.masterData.selectedDashBoardTypes.sdashboardtypename}</h4>\r\n                    </Col>\r\n                    <Col md={4} >\r\n                        <ProductList className=\"d-inline dropdown badget_menu d-flex justify-content-end \">\r\n                            <Nav.Link\r\n\r\n                                className=\"btn btn-circle outline-grey mr-2\" hidden={this.props.hiddenParam}\r\n                                title={\"ChartRefresh\"}\r\n                                onClick={() => this.props.checkParametersAvailable(this.props.masterData.selectedDashBoardTypes, this.props.userInfo, this.props.masterData,\r\n                                    this.props.dashBoardTypeNo, this.props.templateCode)} >\r\n                                <ChartRefresh className=\"custom_icons\" width=\"20\" height=\"20\" style={{ marginLeft: '0.35rem' }} />\r\n\r\n                            </Nav.Link>\r\n                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\" hidden={this.props.hiddenExport}\r\n                            >\r\n                                <FontAwesomeIcon icon={faFilePdf} className=\"ActionIconColor\"\r\n                                    onClick={() => this.exportPDF()} />\r\n                            </Nav.Link>\r\n                        </ProductList>\r\n                    </Col>\r\n                </Row>\r\n\r\n\r\n                {this.props.bubbleSeries && this.props.bubbleSeries.length > 0 ?\r\n                    <PDFExport\r\n                        ref={component => (this.pdfExportComponent = component)}\r\n                        paperSize=\"auto\"\r\n                        margin={40}\r\n                    >\r\n\r\n                        <Chart pannable={true} zoomable={true} style={this.props.style}>\r\n                            <ChartSeries>\r\n                                {Series}\r\n                            </ChartSeries>\r\n                            <ChartLegend position=\"bottom\" orientation=\"horizontal\" />\r\n                            <ChartYAxis>\r\n                                <ChartYAxisItem labels={{ format: '{0:N0}' }} />\r\n                            </ChartYAxis>\r\n\r\n                            <ChartTooltip format=\"{3}: {2:N0}\" opacity={1} />\r\n                        </Chart>\r\n\r\n\r\n                    </PDFExport>\r\n                    :\r\n                    <Attachments className=\"norecordchart\">\r\n                        {this.props.intl.formatMessage({ id: \"IDS_NORECORDSAVAILABLE\" })}\r\n                    </Attachments>\r\n                }\r\n\r\n            </>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default injectIntl(BubbleChart);"]},"metadata":{},"sourceType":"module"}