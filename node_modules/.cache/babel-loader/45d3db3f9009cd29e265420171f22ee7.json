{"ast":null,"code":"import { transactionStatus } from \"../../../components/Enumeration\";\nimport { Lims_JSON_stringify } from \"../../../components/CommonScript\";\nexport function onSaveTestComments(saveParam, selectedMaster) {\n  const inputData = {};\n  const selectedRecord = saveParam.selectedRecord;\n  let commentArray = [];\n\n  if (saveParam.operation === 'update') {\n    let comment = {};\n    comment['ntestcommentcode'] = selectedRecord.ntestcommentcode ? selectedRecord.ntestcommentcode : 0;\n    comment[\"npreregno\"] = selectedRecord.npreregno;\n    comment[\"ntransactionsamplecode\"] = selectedRecord.ntransactionsamplecode;\n    comment[\"ntransactiontestcode\"] = selectedRecord.ntransactiontestcode;\n    comment['nformcode'] = saveParam.userInfo.nformcode;\n    comment['nusercode'] = saveParam.userInfo.nusercode;\n    comment['nuserrolecode'] = saveParam.userInfo.nuserrole;\n    comment[\"jsondata\"] = {\n      stestsynonym: selectedRecord.stestsynonym,\n      scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\",\n      scommentsubtype: selectedRecord.ncommentsubtypecode && selectedRecord.ncommentsubtypecode.label,\n      spredefinedname: selectedRecord.nsampletestcommentscode && selectedRecord.nsampletestcommentscode.label !== \"\" ? selectedRecord.nsampletestcommentscode.label : '-',\n      // sdescription:selectedRecord.sdescription&&selectedRecord.sdescription,\n      ncommentsubtypecode: selectedRecord.ncommentsubtypecode && selectedRecord.ncommentsubtypecode,\n      nsampletestcommentscode: selectedRecord.nsampletestcommentscode ? selectedRecord.nsampletestcommentscode : '-',\n      nneedreport: selectedRecord.nneedreport ? selectedRecord.nneedreport : transactionStatus.NO\n    };\n    comment[\"nsamplecommentscode\"] = selectedRecord.nsamplecommentscode ? selectedRecord.nsamplecommentscode.value : -1;\n    comment['nstatus'] = transactionStatus.ACTIVE;\n    inputData[\"testcomment\"] = comment;\n  } else {\n    selectedMaster.forEach(test => {\n      let comment = {};\n      comment['ntestcommentcode'] = selectedRecord.ntestcommentcode ? selectedRecord.ntestcommentcode : 0;\n      comment[\"npreregno\"] = test.npreregno;\n      comment[\"ntransactionsamplecode\"] = test.ntransactionsamplecode;\n      comment[\"ntransactiontestcode\"] = test.ntransactiontestcode;\n      comment['nformcode'] = saveParam.userInfo.nformcode;\n      comment['nusercode'] = saveParam.userInfo.nusercode;\n      comment['nuserrolecode'] = saveParam.userInfo.nuserrole;\n      comment[\"jsondata\"] = {\n        stestsynonym: test.stestsynonym,\n        scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\",\n        scommentsubtype: selectedRecord.ncommentsubtypecode && selectedRecord.ncommentsubtypecode.label,\n        spredefinedname: selectedRecord.nsampletestcommentscode && selectedRecord.nsampletestcommentscode.label !== \"\" ? selectedRecord.nsampletestcommentscode.label : '-',\n        //  sdescription:selectedRecord.sdescription&&selectedRecord.sdescription,\n        ncommentsubtypecode: selectedRecord.ncommentsubtypecode && selectedRecord.ncommentsubtypecode,\n        nsampletestcommentscode: selectedRecord.nsampletestcommentscode ? selectedRecord.nsampletestcommentscode : '-',\n        nneedreport: selectedRecord.nneedreport ? selectedRecord.nneedreport : transactionStatus.NO\n      };\n      comment[\"nsamplecommentscode\"] = selectedRecord.nsamplecommentscode ? selectedRecord.nsamplecommentscode.value : -1;\n      comment['nstatus'] = transactionStatus.ACTIVE;\n      commentArray.push(comment);\n    });\n    inputData[\"testcomment\"] = commentArray;\n  }\n\n  inputData[\"ntransactiontestcode\"] = saveParam.ntransactiontestcode;\n  const inputParam = {\n    inputData: {\n      //userinfo: saveParam.userInfo,\n      \"userinfo\": { ...saveParam.userInfo,\n        sformname: Lims_JSON_stringify(saveParam.userInfo.sformname),\n        smodulename: Lims_JSON_stringify(saveParam.userInfo.smodulename),\n        slanguagename: Lims_JSON_stringify(saveParam.userInfo.slanguagename)\n      },\n      ...inputData\n    },\n    operation: saveParam.operation,\n    selectedId: selectedRecord.ntestcommentcode ? selectedRecord.ntestcommentcode : 0,\n    classUrl: \"comments\",\n    saveType: saveParam.saveType,\n    formRef: saveParam.formRef,\n    methodUrl: \"TestComment\"\n  };\n  return inputParam;\n}\nexport function onSaveSampleComments(saveParam, selectedMaster) {\n  const inputData = {};\n  const selectedRecord = saveParam.selectedRecord;\n  let commentArray = [];\n\n  if (saveParam.operation === 'update') {\n    let comment = {};\n    comment['nregcommentcode'] = selectedRecord.nregcommentcode ? selectedRecord.nregcommentcode : 0;\n    comment[\"npreregno\"] = selectedRecord.npreregno;\n    comment['nformcode'] = saveParam.userInfo.nformcode;\n    comment['nusercode'] = saveParam.userInfo.nusercode;\n    comment['nuserrolecode'] = saveParam.userInfo.nuserrole;\n    comment[\"jsondata\"] = {\n      sarno: selectedRecord.jsondata.sarno,\n      scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\"\n    };\n    comment[\"nsamplecommentscode\"] = saveParam.isTestComment && selectedRecord.nsamplecommentscode ? selectedRecord.nsamplecommentscode.value : -1;\n    comment['nstatus'] = transactionStatus.ACTIVE;\n    inputData[\"samplecomment\"] = comment;\n  } else {\n    selectedMaster.forEach(sample => {\n      let comment = {};\n      comment['nregcommentcode'] = selectedRecord.nregcommentcode ? selectedRecord.nregcommentcode : 0;\n      comment[\"npreregno\"] = sample.npreregno;\n      comment['nformcode'] = saveParam.userInfo.nformcode;\n      comment['nusercode'] = saveParam.userInfo.nusercode;\n      comment['nuserrolecode'] = saveParam.userInfo.nuserrole;\n      comment[\"jsondata\"] = {\n        sarno: sample.sarno,\n        scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\"\n      };\n      comment[\"nsamplecommentscode\"] = saveParam.isTestComment && selectedRecord.nsamplecommentscode ? selectedRecord.nsamplecommentscode.value : -1;\n      comment['nstatus'] = transactionStatus.ACTIVE;\n      commentArray.push(comment);\n    });\n    inputData[\"samplecomment\"] = commentArray;\n  }\n\n  inputData[\"npreregno\"] = saveParam.npreregno;\n  const inputParam = {\n    inputData: {\n      //userinfo: saveParam.userInfo,\n      \"userinfo\": { ...saveParam.userInfo,\n        sformname: Lims_JSON_stringify(saveParam.userInfo.sformname),\n        smodulename: Lims_JSON_stringify(saveParam.userInfo.smodulename),\n        slanguagename: Lims_JSON_stringify(saveParam.userInfo.slanguagename)\n      },\n      ...inputData\n    },\n    operation: saveParam.operation,\n    selectedId: selectedRecord.nregcommentcode ? selectedRecord.nregcommentcode : 0,\n    classUrl: \"comments\",\n    saveType: saveParam.saveType,\n    formRef: saveParam.formRef,\n    methodUrl: \"SampleComment\"\n  };\n  return inputParam;\n}\nexport function onSaveSubSampleComments(saveParam, selectedMaster) {\n  const inputData = {};\n  const selectedRecord = saveParam.selectedRecord;\n  let commentArray = [];\n\n  if (saveParam.operation === 'update') {\n    let comment = {};\n    comment['nsamplecommentcode'] = selectedRecord.nsamplecommentcode ? selectedRecord.nsamplecommentcode : 0;\n    comment[\"ntransactionsamplecode\"] = selectedRecord.ntransactionsamplecode;\n    comment[\"npreregno\"] = selectedRecord.npreregno;\n    comment['nformcode'] = saveParam.userInfo.nformcode;\n    comment['nusercode'] = saveParam.userInfo.nusercode;\n    comment['nuserrolecode'] = saveParam.userInfo.nuserrole;\n    comment[\"jsondata\"] = {\n      sarno: selectedRecord.jsondata.sarno,\n      ssamplearno: selectedRecord.jsondata.ssamplearno,\n      scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\"\n    };\n    comment[\"nsamplecommentscode\"] = saveParam.isTestComment && selectedRecord.nsamplecommentscode ? selectedRecord.nsamplecommentscode.value : -1;\n    comment['nstatus'] = transactionStatus.ACTIVE;\n    inputData[\"subsamplecomment\"] = comment;\n  } else {\n    selectedMaster.forEach(sample => {\n      let comment = {};\n      comment['nsamplecommentcode'] = selectedRecord.nsamplecommentcode ? selectedRecord.nsamplecommentcode : 0;\n      comment[\"ntransactionsamplecode\"] = sample.ntransactionsamplecode;\n      comment[\"npreregno\"] = sample.npreregno;\n      comment['nformcode'] = saveParam.userInfo.nformcode;\n      comment['nusercode'] = saveParam.userInfo.nusercode;\n      comment['nuserrolecode'] = saveParam.userInfo.nuserrole;\n      comment[\"jsondata\"] = {\n        sarno: sample.sarno,\n        ssamplearno: sample.ssamplearno,\n        scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\"\n      };\n      comment[\"nsamplecommentscode\"] = saveParam.isTestComment && selectedRecord.nsamplecommentscode ? selectedRecord.nsamplecommentscode.value : -1;\n      comment['nstatus'] = transactionStatus.ACTIVE;\n      commentArray.push(comment);\n    });\n    inputData[\"subsamplecomment\"] = commentArray;\n  }\n\n  inputData[\"ntransactionsamplecode\"] = saveParam.ntransactionsamplecode;\n  const inputParam = {\n    inputData: {\n      //userinfo: saveParam.userInfo,\n      \"userinfo\": { ...saveParam.userInfo,\n        sformname: Lims_JSON_stringify(saveParam.userInfo.sformname),\n        smodulename: Lims_JSON_stringify(saveParam.userInfo.smodulename),\n        slanguagename: Lims_JSON_stringify(saveParam.userInfo.slanguagename)\n      },\n      ...inputData\n    },\n    operation: saveParam.operation,\n    selectedId: selectedRecord.nsamplecommentcode ? selectedRecord.nsamplecommentcode : 0,\n    classUrl: \"comments\",\n    saveType: saveParam.saveType,\n    formRef: saveParam.formRef,\n    methodUrl: \"SubSampleComment\"\n  };\n  return inputParam;\n}","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5304/QuaLISWeb/src/pages/attachmentscomments/comments/CommentFunctions.js"],"names":["transactionStatus","Lims_JSON_stringify","onSaveTestComments","saveParam","selectedMaster","inputData","selectedRecord","commentArray","operation","comment","ntestcommentcode","npreregno","ntransactionsamplecode","ntransactiontestcode","userInfo","nformcode","nusercode","nuserrole","stestsynonym","scomments","trim","scommentsubtype","ncommentsubtypecode","label","spredefinedname","nsampletestcommentscode","nneedreport","NO","nsamplecommentscode","value","ACTIVE","forEach","test","push","inputParam","sformname","smodulename","slanguagename","selectedId","classUrl","saveType","formRef","methodUrl","onSaveSampleComments","nregcommentcode","sarno","jsondata","isTestComment","sample","onSaveSubSampleComments","nsamplecommentcode","ssamplearno"],"mappings":"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","sourcesContent":["\r\nimport {  transactionStatus } from \"../../../components/Enumeration\";\r\nimport {  Lims_JSON_stringify } from \"../../../components/CommonScript\";\r\n\r\nexport function onSaveTestComments(saveParam,selectedMaster){\r\n\r\n    const inputData = {};\r\n    const selectedRecord = saveParam.selectedRecord;\r\n    let commentArray = [];\r\n    \r\n    if(saveParam.operation==='update'){\r\n        let comment = {};\r\n        comment['ntestcommentcode']=selectedRecord.ntestcommentcode ?selectedRecord.ntestcommentcode: 0;\r\n        comment[\"npreregno\"]=selectedRecord.npreregno;\r\n        comment[\"ntransactionsamplecode\"]=selectedRecord.ntransactionsamplecode;\r\n        comment[\"ntransactiontestcode\"]=selectedRecord.ntransactiontestcode;\r\n        comment['nformcode']=saveParam.userInfo.nformcode\r\n        comment['nusercode']=saveParam.userInfo.nusercode\r\n        comment['nuserrolecode']=saveParam.userInfo.nuserrole\r\n        comment[\"jsondata\"] = {\r\n            stestsynonym :  selectedRecord.stestsynonym,\r\n            scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\",\r\n            scommentsubtype:selectedRecord.ncommentsubtypecode&&selectedRecord.ncommentsubtypecode.label,\r\n            spredefinedname:selectedRecord.nsampletestcommentscode&&selectedRecord.nsampletestcommentscode.label!==\"\"?selectedRecord.nsampletestcommentscode.label:'-',\r\n           // sdescription:selectedRecord.sdescription&&selectedRecord.sdescription,\r\n            ncommentsubtypecode:selectedRecord.ncommentsubtypecode&&selectedRecord.ncommentsubtypecode,\r\n            nsampletestcommentscode:selectedRecord.nsampletestcommentscode?selectedRecord.nsampletestcommentscode:'-',\r\n            nneedreport:selectedRecord.nneedreport ?  selectedRecord.nneedreport  : transactionStatus.NO\r\n        }\r\n        comment[\"nsamplecommentscode\"] = selectedRecord.nsamplecommentscode? selectedRecord.nsamplecommentscode.value: -1;\r\n        comment['nstatus']=transactionStatus.ACTIVE;\r\n        inputData[\"testcomment\"]= comment;\r\n    }else{\r\n        selectedMaster.forEach(test=>{\r\n            let comment = {};\r\n            comment['ntestcommentcode']=selectedRecord.ntestcommentcode ?selectedRecord.ntestcommentcode: 0;\r\n            comment[\"npreregno\"]=test.npreregno;\r\n            comment[\"ntransactionsamplecode\"]=test.ntransactionsamplecode;\r\n            comment[\"ntransactiontestcode\"]=test.ntransactiontestcode;\r\n            comment['nformcode']=saveParam.userInfo.nformcode\r\n            comment['nusercode']=saveParam.userInfo.nusercode\r\n            comment['nuserrolecode']=saveParam.userInfo.nuserrole\r\n            comment[\"jsondata\"] = {\r\n                stestsynonym :  test.stestsynonym,\r\n                scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\",\r\n                scommentsubtype:selectedRecord.ncommentsubtypecode&&selectedRecord.ncommentsubtypecode.label,\r\n                spredefinedname:selectedRecord.nsampletestcommentscode&&selectedRecord.nsampletestcommentscode.label!==\"\"?selectedRecord.nsampletestcommentscode.label:'-',\r\n              //  sdescription:selectedRecord.sdescription&&selectedRecord.sdescription,\r\n                ncommentsubtypecode:selectedRecord.ncommentsubtypecode&&selectedRecord.ncommentsubtypecode,\r\n                nsampletestcommentscode:selectedRecord.nsampletestcommentscode?selectedRecord.nsampletestcommentscode:'-',\r\n                nneedreport:selectedRecord.nneedreport ?  selectedRecord.nneedreport  : transactionStatus.NO\r\n\r\n            }\r\n            comment[\"nsamplecommentscode\"] = selectedRecord.nsamplecommentscode? selectedRecord.nsamplecommentscode.value: -1;\r\n            comment['nstatus']=transactionStatus.ACTIVE;\r\n            commentArray.push(comment);\r\n        })  \r\n        inputData[\"testcomment\"]= commentArray;\r\n    }\r\n    \r\n   \r\n    \r\n    inputData[\"ntransactiontestcode\"]=saveParam.ntransactiontestcode\r\n    const inputParam = {\r\n        inputData: {//userinfo: saveParam.userInfo,\r\n                \"userinfo\": {...saveParam.userInfo,\r\n                sformname: Lims_JSON_stringify(saveParam.userInfo.sformname),\r\n                smodulename: Lims_JSON_stringify(saveParam.userInfo.smodulename),\r\n                slanguagename: Lims_JSON_stringify(saveParam.userInfo.slanguagename)},\r\n                ...inputData},\r\n        operation: saveParam.operation, selectedId:selectedRecord.ntestcommentcode ?selectedRecord.ntestcommentcode: 0,\r\n        classUrl: \"comments\",\r\n        saveType:saveParam.saveType,\r\n        formRef:saveParam.formRef,\r\n         methodUrl: \"TestComment\"\r\n    }\r\n    return inputParam;\r\n}\r\n\r\nexport function onSaveSampleComments(saveParam,selectedMaster){\r\n\r\n    const inputData = {};\r\n    const selectedRecord = saveParam.selectedRecord;\r\n    let commentArray = [];\r\n    \r\n    if(saveParam.operation==='update'){\r\n        let comment = {};\r\n        comment['nregcommentcode']=selectedRecord.nregcommentcode ?selectedRecord.nregcommentcode: 0;\r\n        comment[\"npreregno\"]=selectedRecord.npreregno;\r\n        comment['nformcode']=saveParam.userInfo.nformcode\r\n        comment['nusercode']=saveParam.userInfo.nusercode\r\n        comment['nuserrolecode']=saveParam.userInfo.nuserrole\r\n        comment[\"jsondata\"] = {\r\n            sarno :  selectedRecord.jsondata.sarno,\r\n            scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\"\r\n        }\r\n        comment[\"nsamplecommentscode\"] = saveParam.isTestComment&&selectedRecord.nsamplecommentscode? selectedRecord.nsamplecommentscode.value: -1;\r\n        comment['nstatus']=transactionStatus.ACTIVE;\r\n        inputData[\"samplecomment\"]= comment;\r\n    }else{\r\n        selectedMaster.forEach(sample=>{\r\n            let comment = {};\r\n            comment['nregcommentcode']=selectedRecord.nregcommentcode ?selectedRecord.nregcommentcode: 0;\r\n            comment[\"npreregno\"]=sample.npreregno;\r\n            comment['nformcode']=saveParam.userInfo.nformcode\r\n            comment['nusercode']=saveParam.userInfo.nusercode\r\n            comment['nuserrolecode']=saveParam.userInfo.nuserrole\r\n            comment[\"jsondata\"] = {\r\n                sarno :  sample.sarno,\r\n                scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\"\r\n            }\r\n            comment[\"nsamplecommentscode\"] = saveParam.isTestComment&&selectedRecord.nsamplecommentscode? selectedRecord.nsamplecommentscode.value: -1;\r\n            comment['nstatus']=transactionStatus.ACTIVE;\r\n            commentArray.push(comment);\r\n        })  \r\n        inputData[\"samplecomment\"]= commentArray;\r\n    }\r\n    \r\n   \r\n    \r\n    inputData[\"npreregno\"]=saveParam.npreregno\r\n    const inputParam = {\r\n        inputData: {//userinfo: saveParam.userInfo,\r\n            \"userinfo\": {...saveParam.userInfo,\r\n                sformname: Lims_JSON_stringify(saveParam.userInfo.sformname),\r\n                smodulename: Lims_JSON_stringify(saveParam.userInfo.smodulename),\r\n                slanguagename: Lims_JSON_stringify(saveParam.userInfo.slanguagename)},\r\n                    ...inputData},\r\n        operation: saveParam.operation, selectedId:selectedRecord.nregcommentcode ?selectedRecord.nregcommentcode: 0,\r\n        classUrl: \"comments\",\r\n        saveType:saveParam.saveType,\r\n        formRef:saveParam.formRef,\r\n         methodUrl: \"SampleComment\"\r\n    }\r\n    return inputParam;\r\n}\r\n\r\n\r\nexport function onSaveSubSampleComments(saveParam,selectedMaster){\r\n\r\n    const inputData = {};\r\n    const selectedRecord = saveParam.selectedRecord;\r\n    let commentArray = [];\r\n    \r\n    if(saveParam.operation==='update'){\r\n        let comment = {};\r\n        comment['nsamplecommentcode']=selectedRecord.nsamplecommentcode ?selectedRecord.nsamplecommentcode: 0;\r\n        comment[\"ntransactionsamplecode\"]=selectedRecord.ntransactionsamplecode;\r\n        comment[\"npreregno\"] = selectedRecord.npreregno;\r\n        comment['nformcode']=saveParam.userInfo.nformcode\r\n        comment['nusercode']=saveParam.userInfo.nusercode\r\n        comment['nuserrolecode']=saveParam.userInfo.nuserrole\r\n        comment[\"jsondata\"] = {\r\n            sarno :  selectedRecord.jsondata.sarno,\r\n            ssamplearno :  selectedRecord.jsondata.ssamplearno,\r\n            scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\"\r\n        }\r\n        comment[\"nsamplecommentscode\"] = saveParam.isTestComment&&selectedRecord.nsamplecommentscode? selectedRecord.nsamplecommentscode.value: -1;\r\n        comment['nstatus']=transactionStatus.ACTIVE;\r\n        inputData[\"subsamplecomment\"]= comment;\r\n    }else{\r\n        selectedMaster.forEach(sample=>{\r\n            let comment = {};\r\n            comment['nsamplecommentcode']=selectedRecord.nsamplecommentcode ?selectedRecord.nsamplecommentcode: 0;\r\n            comment[\"ntransactionsamplecode\"]=sample.ntransactionsamplecode;\r\n            comment[\"npreregno\"] = sample.npreregno;\r\n            comment['nformcode']=saveParam.userInfo.nformcode\r\n            comment['nusercode']=saveParam.userInfo.nusercode\r\n            comment['nuserrolecode']=saveParam.userInfo.nuserrole\r\n            comment[\"jsondata\"] = {\r\n                sarno :  sample.sarno,\r\n                ssamplearno :  sample.ssamplearno,\r\n                scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\"\r\n            }\r\n            comment[\"nsamplecommentscode\"] = saveParam.isTestComment&&selectedRecord.nsamplecommentscode? selectedRecord.nsamplecommentscode.value: -1;\r\n            comment['nstatus']=transactionStatus.ACTIVE;\r\n            commentArray.push(comment);\r\n        })  \r\n        inputData[\"subsamplecomment\"]= commentArray;\r\n    }\r\n    \r\n   \r\n    \r\n    inputData[\"ntransactionsamplecode\"]=saveParam.ntransactionsamplecode\r\n    const inputParam = {\r\n        inputData: {//userinfo: saveParam.userInfo,\r\n            \"userinfo\": {...saveParam.userInfo,\r\n                sformname: Lims_JSON_stringify(saveParam.userInfo.sformname),\r\n                smodulename: Lims_JSON_stringify(saveParam.userInfo.smodulename),\r\n                slanguagename: Lims_JSON_stringify(saveParam.userInfo.slanguagename)},\r\n            ...inputData},\r\n        operation: saveParam.operation, selectedId:selectedRecord.nsamplecommentcode ?selectedRecord.nsamplecommentcode: 0,\r\n        classUrl: \"comments\",\r\n        saveType:saveParam.saveType,\r\n        formRef:saveParam.formRef,\r\n         methodUrl: \"SubSampleComment\"\r\n    }\r\n    return inputParam;\r\n}"]},"metadata":{},"sourceType":"module"}