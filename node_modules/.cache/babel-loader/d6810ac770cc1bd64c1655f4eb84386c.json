{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\src\\\\pages\\\\joballocation\\\\calender\\\\NewCustomItem.jsx\";\nimport { SchedulerEditTask, SchedulerItem, useSchedulerEditItemFormItemContext, useSchedulerEditItemRemoveItemContext, useSchedulerEditItemShowOccurrenceDialogContext, useSchedulerEditItemShowRemoveDialogContext } from \"@progress/kendo-react-scheduler\";\nimport React from \"react\";\nimport { Popup } from \"@progress/kendo-react-popup\";\nimport { connect } from 'react-redux';\nimport { getInstrumentNameForSchedule, clearInstrumentLoginData } from '../../../actions';\nimport { FormWithCustomEditor } from './custom-form';\nimport { toast } from \"react-toastify\";\nimport { Card, CardBody, CardHeader, CardTitle } from \"@progress/kendo-react-layout\";\nimport { Button } from \"@progress/kendo-react-buttons\";\nimport { useAsyncFocusBlur } from \"@progress/kendo-react-common\";\nimport { intl } from '../../../components/App';\nimport { CustomTask } from \"./EditItem\";\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nconst CustomItem = props => {\n  // const intl = useInternationalization();\n  const item = React.useRef(null);\n  const [show, setShow] = React.useState(false);\n  const resourceWithColor = props.group.resources.find(resource => resource.colorField && resource[resource.colorField] !== undefined);\n  const color = resourceWithColor && resourceWithColor.colorField && resourceWithColor[resourceWithColor.colorField];\n  const [formItem, setFormItem] = useSchedulerEditItemFormItemContext();\n  const [, setRemoveItem] = useSchedulerEditItemRemoveItemContext();\n  const [, setShowOccurrenceDialog] = useSchedulerEditItemShowOccurrenceDialogContext();\n  const [, setShowRemoveDialog] = useSchedulerEditItemShowRemoveDialogContext();\n  const handleClick = React.useCallback(event => {\n    setShow(true);\n\n    if (props.onClick) {\n      props.onClick(event);\n    }\n  }, [props]);\n  const handleBlur = React.useCallback(event => {\n    setShow(false);\n\n    if (props.onBlur) {\n      props.onBlur(event);\n    }\n  }, [props]);\n  const handleCloseClick = React.useCallback(() => {\n    setShow(false);\n  }, [setShow]);\n  const handleEditClick = React.useCallback(() => {\n    if (props.dataItem && props.dataItem.InstrumentCategory) {\n      if (props.dataItem.ntransactionstatus) {\n        if (props.dataItem.ntransactionstatus === -1) {\n          props.getInstrumentNameForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo, true, props.dataItem.InstrumentName);\n          setFormItem(props.dataItem);\n          setShow(false);\n          setFormItem(props.dataItem);\n        } else {\n          toast.info(\"Already allocted\");\n        }\n      } else {\n        props.getInstrumentNameForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo, true, props.dataItem.InstrumentName);\n        setFormItem(props.dataItem);\n        setShow(false);\n        setFormItem(props.dataItem);\n      }\n    } else {\n      if (props.dataItem.ntransactionstatus) {\n        if (props.dataItem.ntransactionstatus === -1) {\n          setFormItem(props.dataItem);\n          setShow(false);\n          setFormItem(props.dataItem);\n        } else {\n          toast.info(\"Already allocted\");\n        }\n      } else {\n        // props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\n        setFormItem(props.dataItem);\n        setShow(false);\n        setFormItem(props.dataItem);\n      }\n    } //setShow(false);\n    //   if (props.isRecurring) {\n    //     setShowOccurrenceDialog(true);\n    //   }\n\n  }, [setFormItem, props.dataItem, props.isRecurring, setShowOccurrenceDialog]);\n  const handleDeleteClick = React.useCallback(() => {\n    props.clearInstrumentLoginData();\n    setShow(false);\n    setRemoveItem(props.dataItem);\n\n    if (props.isRecurring) {\n      setShowOccurrenceDialog(true);\n    } else {\n      setShowRemoveDialog(true);\n    }\n  }, [setRemoveItem, props.dataItem, props.isRecurring, setShowOccurrenceDialog, setShowRemoveDialog]);\n  const handleFormItemChange = React.useCallback(event => {\n    if (event.value) {\n      if (event.value.ntransactionstatus) {\n        if (event.value.ntransactionstatus !== 20) {\n          setFormItem(event.value);\n        } else {\n          toast.info(\"Already Allocted\");\n        }\n      } else {\n        setFormItem(event.value);\n      }\n    } else {\n      setFormItem(event.value);\n    }\n  }, []);\n  const {\n    onFocus,\n    onBlur\n  } = useAsyncFocusBlur({\n    onFocus: props.onFocus,\n    onBlur: handleBlur\n  });\n  return (\n    /*#__PURE__*/\n    //   {intl.formatDate(props.zonedStart, \"t\")}\n    // {intl.formatDate(props.zonedEnd, \"t\")}\n    React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SchedulerItem, Object.assign({\n      ref: item\n    }, props, {\n      onClick: handleClick,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      formItem: formItem,\n      onFormItemChange: handleFormItemChange,\n      form: FormWithCustomEditor,\n      style: { ...props.style,\n        backgroundColor: props.dataItem.ntransactionstatus !== -1 ? props.dataItem.color : \"#175a8d\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Popup, {\n      anchor: item.current && item.current.element,\n      show: show,\n      style: {\n        width: 300\n      },\n      anchorAlign: {\n        horizontal: \"right\",\n        vertical: \"center\"\n      },\n      popupAlign: {\n        horizontal: \"left\",\n        vertical: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      tabIndex: -1,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      className: \"ml-auto pb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, !props.dataItem.isCalenderHolidays && props.editable && props.editable.edit && props.dataItem.ntransactionstatus !== 20 && /*#__PURE__*/React.createElement(Button, {\n      iconClass: \"k-icon k-i-edit\",\n      fillMode: \"flat\",\n      onClick: handleEditClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }), !props.dataItem.isCalenderHolidays && props.editable && props.editable.remove && props.dataItem.ntransactionstatus !== 20 && /*#__PURE__*/React.createElement(Button, {\n      iconClass: \"k-icon k-i-delete\",\n      fillMode: \"flat\",\n      onClick: handleDeleteClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      iconClass: \"k-icon k-i-close\",\n      fillMode: \"flat\",\n      onClick: handleCloseClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CardTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: color,\n        width: 16,\n        height: 16,\n        position: \"relative\",\n        top: \"50%\",\n        borderRadius: 4,\n        transform: \"translateY(-50%)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 23\n      }\n    }, props.title))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"k-icon k-i-clock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 23\n      }\n    }, intl.formatMessage({\n      id: \"IDS_FROM\"\n    }), \": \", \"  \", props.dataItem.startDateor), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 23\n      }\n    }, intl.formatMessage({\n      id: \"IDS_TO\"\n    }), \": \", \"  \", props.dataItem.endDateor, \" \"), props.insertRecord !== true || props.gouping === \"3\" && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 23\n      }\n    }, intl.formatMessage({\n      id: \"IDS_TESTCOUNT\"\n    }), \": \", \" \", props.count)))))))))\n  );\n};\n\nexport default connect(mapStateToProps, {\n  getInstrumentNameForSchedule,\n  clearInstrumentLoginData\n})(CustomItem);\nexport const CustomItemTask = props => {\n  // const intl = useInternationalization();\n  const item = React.useRef(null);\n  const [show, setShow] = React.useState(false);\n  const resourceWithColor = props.group.resources.find(resource => resource.colorField && resource[resource.colorField] !== undefined);\n  const color = resourceWithColor && resourceWithColor.colorField && resourceWithColor[resourceWithColor.colorField];\n  const [formItem, setFormItem] = useSchedulerEditItemFormItemContext();\n  const [, setRemoveItem] = useSchedulerEditItemRemoveItemContext();\n  const [, setShowOccurrenceDialog] = useSchedulerEditItemShowOccurrenceDialogContext();\n  const [, setShowRemoveDialog] = useSchedulerEditItemShowRemoveDialogContext();\n  const handleClick = React.useCallback(event => {\n    setShow(true);\n\n    if (props.onClick) {\n      props.onClick(event);\n    }\n  }, [props]);\n  const handleBlur = React.useCallback(event => {\n    setShow(false);\n\n    if (props.onBlur) {\n      props.onBlur(event);\n    }\n  }, [props]);\n  const handleCloseClick = React.useCallback(() => {\n    setShow(false);\n  }, [setShow]);\n  const handleEditClick = React.useCallback(() => {\n    if (props.dataItem && props.dataItem.InstrumentCategory) {\n      if (props.dataItem.ntransactionstatus) {\n        if (props.dataItem.ntransactionstatus === -1) {\n          props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\n          setFormItem(props.dataItem);\n          setShow(false);\n          setFormItem(props.dataItem);\n        } else {\n          toast.info(\"Already allocted\");\n        }\n      } else {\n        props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\n        setFormItem(props.dataItem);\n        setShow(false);\n        setFormItem(props.dataItem);\n      }\n    } else {\n      if (props.dataItem.ntransactionstatus) {\n        if (props.dataItem.ntransactionstatus === -1) {\n          setFormItem(props.dataItem);\n          setShow(false);\n          setFormItem(props.dataItem);\n        } else {\n          toast.info(\"Already allocted\");\n        }\n      } else {\n        // props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\n        setFormItem(props.dataItem);\n        setShow(false);\n        setFormItem(props.dataItem);\n      }\n    } //setShow(false);\n    //   if (props.isRecurring) {\n    //     setShowOccurrenceDialog(true);\n    //   }\n\n  }, [setFormItem, props.dataItem, props.isRecurring, setShowOccurrenceDialog]);\n  const handleDeleteClick = React.useCallback(() => {\n    setShow(false);\n    setRemoveItem(props.dataItem);\n\n    if (props.isRecurring) {\n      setShowOccurrenceDialog(true);\n    } else {\n      setShowRemoveDialog(true);\n    }\n  }, [setRemoveItem, props.dataItem, props.isRecurring, setShowOccurrenceDialog, setShowRemoveDialog]);\n  const handleFormItemChange = React.useCallback(event => {\n    if (event.value) {\n      if (event.value.ntransactionstatus) {\n        if (event.value.ntransactionstatus !== 20) {\n          setFormItem(event.value);\n        } else {\n          toast.info(\"Already Allocted\");\n        }\n      } else {\n        setFormItem(event.value);\n      }\n    } else {\n      setFormItem(event.value);\n    }\n  }, []);\n  const {\n    onFocus,\n    onBlur\n  } = useAsyncFocusBlur({\n    onFocus: props.onFocus,\n    onBlur: handleBlur\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(SchedulerItem, Object.assign({\n    ref: item\n  }, props, {\n    onClick: handleClick,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    formItem: formItem,\n    onFormItemChange: handleFormItemChange,\n    form: FormWithCustomEditor,\n    style: { ...props.style,\n      backgroundColor: props.dataItem.ntransactionstatus !== -1 ? props.dataItem.color : \"pink\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(Popup, {\n    anchor: item.current && item.current.element,\n    show: show,\n    style: {\n      width: 300\n    },\n    anchorAlign: {\n      horizontal: \"right\",\n      vertical: \"center\"\n    },\n    popupAlign: {\n      horizontal: \"left\",\n      vertical: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    tabIndex: -1,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"ml-auto pb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 16\n    }\n  }, props.dataItem.ntransactionstatus !== 20 && /*#__PURE__*/React.createElement(Button, {\n    iconClass: \"k-icon k-i-edit\",\n    fillMode: \"flat\",\n    onClick: handleEditClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 18\n    }\n  }), props.dataItem.ntransactionstatus !== 20 && /*#__PURE__*/React.createElement(Button, {\n    iconClass: \"k-icon k-i-delete\",\n    fillMode: \"flat\",\n    onClick: handleDeleteClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    iconClass: \"k-icon k-i-close\",\n    fillMode: \"flat\",\n    onClick: handleCloseClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 18\n    }\n  })), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: color,\n      width: 16,\n      height: 16,\n      position: \"relative\",\n      top: \"50%\",\n      borderRadius: 4,\n      transform: \"translateY(-50%)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 24\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 24\n    }\n  }, props.title))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 22\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 24\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"k-icon k-i-clock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 24\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 24\n    }\n  }, intl.formatMessage({\n    id: \"IDS_FROM\"\n  }), \": \", \" \", intl.formatDate(props.zonedStart, \"t\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 24\n    }\n  }, intl.formatMessage({\n    id: \"IDS_TO\"\n  }), \": \", \" \", intl.formatDate(props.zonedEnd, \"t\")), props.insertRecord && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 24\n    }\n  }, intl.formatMessage({\n    id: \"IDS_TESTCOUNT\"\n  }), \": \", \" \", props.count)))))))));\n};\nexport function getRandomColor() {\n  var letters = '0123456789ABCDEF';\n  var color = '#';\n\n  for (var i = 0; i < 6; i++) {\n    color += letters[Math.floor(Math.random() * 16)];\n  }\n\n  return color;\n}","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/SOURCE-512/QuaLISWeb/src/pages/joballocation/calender/NewCustomItem.jsx"],"names":["SchedulerEditTask","SchedulerItem","useSchedulerEditItemFormItemContext","useSchedulerEditItemRemoveItemContext","useSchedulerEditItemShowOccurrenceDialogContext","useSchedulerEditItemShowRemoveDialogContext","React","Popup","connect","getInstrumentNameForSchedule","clearInstrumentLoginData","FormWithCustomEditor","toast","Card","CardBody","CardHeader","CardTitle","Button","useAsyncFocusBlur","intl","CustomTask","mapStateToProps","state","Login","CustomItem","props","item","useRef","show","setShow","useState","resourceWithColor","group","resources","find","resource","colorField","undefined","color","formItem","setFormItem","setRemoveItem","setShowOccurrenceDialog","setShowRemoveDialog","handleClick","useCallback","event","onClick","handleBlur","onBlur","handleCloseClick","handleEditClick","dataItem","InstrumentCategory","ntransactionstatus","userInfo","InstrumentName","info","isRecurring","handleDeleteClick","handleFormItemChange","value","onFocus","style","backgroundColor","current","element","width","horizontal","vertical","isCalenderHolidays","editable","edit","remove","height","position","top","borderRadius","transform","title","formatMessage","id","startDateor","endDateor","insertRecord","gouping","count","CustomItemTask","getInstrumentForSchedule","formatDate","zonedStart","zonedEnd","getRandomColor","letters","i","Math","floor","random"],"mappings":"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","sourcesContent":["import { SchedulerEditTask, SchedulerItem, useSchedulerEditItemFormItemContext, useSchedulerEditItemRemoveItemContext, useSchedulerEditItemShowOccurrenceDialogContext, useSchedulerEditItemShowRemoveDialogContext } from \"@progress/kendo-react-scheduler\";\r\nimport React from \"react\";\r\nimport { Popup } from \"@progress/kendo-react-popup\";\r\nimport { connect } from 'react-redux';\r\nimport { getInstrumentNameForSchedule,clearInstrumentLoginData } from '../../../actions'\r\nimport { FormWithCustomEditor } from './custom-form';\r\nimport { toast } from \"react-toastify\";\r\nimport { Card,CardBody, CardHeader,CardTitle } from \"@progress/kendo-react-layout\";\r\nimport { Button } from \"@progress/kendo-react-buttons\";\r\nimport { useAsyncFocusBlur } from \"@progress/kendo-react-common\"; \r\nimport { intl } from '../../../components/App';\r\nimport { CustomTask } from \"./EditItem\";\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\n const CustomItem = (props) => {\r\n   // const intl = useInternationalization();\r\n    const item = React.useRef(null);\r\n    const [show, setShow] = React.useState(false);\r\n    const resourceWithColor = props.group.resources.find(\r\n      (resource) =>\r\n        resource.colorField && resource[resource.colorField] !== undefined\r\n    );\r\n    const color =\r\n      resourceWithColor &&\r\n      resourceWithColor.colorField &&\r\n      resourceWithColor[resourceWithColor.colorField];\r\n    const [formItem, setFormItem] = useSchedulerEditItemFormItemContext();\r\n    const [, setRemoveItem] = useSchedulerEditItemRemoveItemContext();\r\n    const [, setShowOccurrenceDialog] =\r\n      useSchedulerEditItemShowOccurrenceDialogContext();\r\n    const [, setShowRemoveDialog] = useSchedulerEditItemShowRemoveDialogContext();\r\n    const handleClick = React.useCallback(\r\n      (event) => {\r\n        setShow(true);\r\n        if (props.onClick) {\r\n          props.onClick(event);\r\n        }\r\n      },\r\n      [props]\r\n    );\r\n    const handleBlur = React.useCallback(\r\n      (event) => {\r\n        setShow(false);\r\n        if (props.onBlur) {\r\n          props.onBlur(event);\r\n        }\r\n      },\r\n      [props]\r\n    );\r\n    const handleCloseClick = React.useCallback(() => {\r\n      setShow(false);\r\n    }, [setShow]);\r\n\r\n\r\n    const handleEditClick = React.useCallback(() => {\r\n\r\n\r\n        if (props.dataItem &&\r\n            props.dataItem.InstrumentCategory) {\r\n            if (props.dataItem.ntransactionstatus) {\r\n                if (props.dataItem.ntransactionstatus === -1) {\r\n                    props.getInstrumentNameForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo ,true,props.dataItem.InstrumentName);\r\n                    setFormItem(props.dataItem);\r\n                    setShow(false);\r\n                    setFormItem(props.dataItem);\r\n                } else {\r\n                    toast.info(\"Already allocted\")\r\n                }\r\n\r\n            } else {\r\n                props.getInstrumentNameForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo,true,props.dataItem.InstrumentName);\r\n                setFormItem(props.dataItem);\r\n                setShow(false);\r\n                setFormItem(props.dataItem);\r\n            }\r\n\r\n        }else{\r\n          if (props.dataItem.ntransactionstatus) {\r\n            if (props.dataItem.ntransactionstatus === -1) {\r\n              setFormItem(props.dataItem);\r\n              setShow(false);\r\n              setFormItem(props.dataItem);\r\n            } else {\r\n              toast.info(\"Already allocted\")\r\n          }\r\n          }else{\r\n           // props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\r\n            setFormItem(props.dataItem);\r\n            setShow(false);\r\n            setFormItem(props.dataItem);\r\n          }\r\n        }\r\n\r\n      //setShow(false);\r\n      \r\n    //   if (props.isRecurring) {\r\n    //     setShowOccurrenceDialog(true);\r\n    //   }\r\n    }, [setFormItem, props.dataItem, props.isRecurring, setShowOccurrenceDialog]);\r\n    const handleDeleteClick = React.useCallback(() => {\r\n      props.clearInstrumentLoginData();\r\n      setShow(false);\r\n      setRemoveItem(props.dataItem);\r\n      if (props.isRecurring) {\r\n        setShowOccurrenceDialog(true);\r\n      } else {\r\n        setShowRemoveDialog(true);\r\n      }\r\n    }, [\r\n      setRemoveItem,\r\n      props.dataItem,\r\n      props.isRecurring,\r\n      setShowOccurrenceDialog,\r\n      setShowRemoveDialog,\r\n    ]);\r\n    const handleFormItemChange = React.useCallback((event) => {\r\n\r\n        if(event.value){\r\n            if(event.value.ntransactionstatus){\r\n                if(event.value.ntransactionstatus!==20){\r\n                    setFormItem(event.value);\r\n                }else{\r\n                    toast.info(\"Already Allocted\")\r\n                }\r\n\r\n            }else{\r\n                setFormItem(event.value);\r\n            }\r\n\r\n        }else{\r\n            setFormItem(event.value);\r\n        }\r\n\r\n    }, []);\r\n    const { onFocus, onBlur } = useAsyncFocusBlur({\r\n      onFocus: props.onFocus,\r\n      onBlur: handleBlur,\r\n    });\r\n    return (\r\n   //   {intl.formatDate(props.zonedStart, \"t\")}\r\n  // {intl.formatDate(props.zonedEnd, \"t\")}\r\n      <React.Fragment>\r\n        <SchedulerItem\r\n          ref={item}\r\n          {...props}\r\n          onClick={handleClick}\r\n          onFocus={onFocus}\r\n          onBlur={onBlur}\r\n          formItem={formItem}\r\n          onFormItemChange={handleFormItemChange}\r\n          form={FormWithCustomEditor}\r\n          style={{\r\n            ...props.style,\r\n            backgroundColor: props.dataItem.ntransactionstatus!==-1 ? props.dataItem.color : \"#175a8d\",\r\n          }}\r\n        >\r\n          {/* <div className='pt-1'>{\r\n            props.children\r\n          }\r\n          </div> */}\r\n        </SchedulerItem>\r\n        \r\n        <Popup\r\n          anchor={item.current && item.current.element}\r\n          show={show}\r\n          style={{\r\n            width: 300,\r\n          }}\r\n          anchorAlign={{\r\n            horizontal: \"right\",\r\n            vertical: \"center\",\r\n          }}\r\n          popupAlign={{\r\n            horizontal: \"left\",\r\n            vertical: \"center\",\r\n          }}\r\n        >\r\n          <div tabIndex={-1} onFocus={onFocus} onBlur={onBlur}>\r\n            <Card>\r\n              <CardHeader className=\"ml-auto pb-0\">\r\n               {!props.dataItem.isCalenderHolidays && \r\n               props.editable&&props.editable.edit&& \r\n                props.dataItem.ntransactionstatus!==20&&\r\n                <Button\r\n                  iconClass=\"k-icon k-i-edit\"\r\n                  fillMode=\"flat\"\r\n                  onClick={handleEditClick}\r\n                />}\r\n                 {!props.dataItem.isCalenderHolidays && \r\n                 props.editable&&props.editable.remove&& \r\n                 props.dataItem.ntransactionstatus!==20&&\r\n                <Button\r\n                  iconClass=\"k-icon k-i-delete\"\r\n                  fillMode=\"flat\"\r\n                  onClick={handleDeleteClick}\r\n                />\r\n                 }\r\n                <Button\r\n                  iconClass=\"k-icon k-i-close\"\r\n                  fillMode=\"flat\"\r\n                  onClick={handleCloseClick}\r\n                />\r\n              </CardHeader>\r\n              <CardBody>\r\n                <CardTitle>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-1\">\r\n                      <div\r\n                        style={{\r\n                          backgroundColor: color,\r\n                          width: 16,\r\n                          height: 16,\r\n                          position: \"relative\",\r\n                          top: \"50%\",\r\n                          borderRadius: 4,\r\n                          transform: \"translateY(-50%)\",\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div>{props.title}</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-1\" />\r\n                    <div className=\"col\">\r\n                      {/* <small>\r\n                        {intl.formatDate(props.zonedStart, \"EEEE, d MMMM\")}\r\n                      </small> */}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-1\">\r\n                      <span className=\"k-icon k-i-clock\" />\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div>{intl.formatMessage({ id: \"IDS_FROM\" })}{\": \"}  {props.dataItem.startDateor}</div> \r\n                      <div>{intl.formatMessage({ id: \"IDS_TO\" })}{\": \"}  {props.dataItem.endDateor} </div>\r\n\r\n                      {props.insertRecord!==true||props.gouping===\"3\"  &&\r\n                      <div>{intl.formatMessage({ id: \"IDS_TESTCOUNT\" })}{\": \"} {props.count}</div>}\r\n                    </div>\r\n                  </div>\r\n                </CardTitle>\r\n              </CardBody>\r\n            </Card>\r\n          </div>\r\n        </Popup>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n  export default connect(mapStateToProps, { getInstrumentNameForSchedule,clearInstrumentLoginData })(CustomItem);\r\n\r\n\r\n\r\n  export const CustomItemTask = (props) => {\r\n    // const intl = useInternationalization();\r\n     const item = React.useRef(null);\r\n     const [show, setShow] = React.useState(false);\r\n     const resourceWithColor = props.group.resources.find(\r\n       (resource) =>\r\n         resource.colorField && resource[resource.colorField] !== undefined\r\n     );\r\n     const color =\r\n       resourceWithColor &&\r\n       resourceWithColor.colorField &&\r\n       resourceWithColor[resourceWithColor.colorField];\r\n     const [formItem, setFormItem] = useSchedulerEditItemFormItemContext();\r\n     const [, setRemoveItem] = useSchedulerEditItemRemoveItemContext();\r\n     const [, setShowOccurrenceDialog] =\r\n       useSchedulerEditItemShowOccurrenceDialogContext();\r\n     const [, setShowRemoveDialog] = useSchedulerEditItemShowRemoveDialogContext();\r\n     const handleClick = React.useCallback(\r\n       (event) => {\r\n         setShow(true);\r\n         if (props.onClick) {\r\n           props.onClick(event);\r\n         }\r\n       },\r\n       [props]\r\n     );\r\n     const handleBlur = React.useCallback(\r\n       (event) => {\r\n         setShow(false);\r\n         if (props.onBlur) {\r\n           props.onBlur(event);\r\n         }\r\n       },\r\n       [props]\r\n     );\r\n     const handleCloseClick = React.useCallback(() => {\r\n       setShow(false);\r\n     }, [setShow]);\r\n \r\n \r\n     const handleEditClick = React.useCallback(() => {\r\n \r\n \r\n         if (props.dataItem &&\r\n             props.dataItem.InstrumentCategory) {\r\n             if (props.dataItem.ntransactionstatus) {\r\n                 if (props.dataItem.ntransactionstatus === -1) {\r\n                     props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\r\n                     setFormItem(props.dataItem);\r\n                     setShow(false);\r\n                     setFormItem(props.dataItem);\r\n                 } else {\r\n                     toast.info(\"Already allocted\")\r\n                 }\r\n \r\n             } else {\r\n                 props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\r\n                 setFormItem(props.dataItem);\r\n                 setShow(false);\r\n                 setFormItem(props.dataItem);\r\n             }\r\n \r\n         }else{\r\n           if (props.dataItem.ntransactionstatus) {\r\n             if (props.dataItem.ntransactionstatus === -1) {\r\n               setFormItem(props.dataItem);\r\n               setShow(false);\r\n               setFormItem(props.dataItem);\r\n             } else {\r\n               toast.info(\"Already allocted\")\r\n           }\r\n           }else{\r\n            // props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\r\n             setFormItem(props.dataItem);\r\n             setShow(false);\r\n             setFormItem(props.dataItem);\r\n           }\r\n         }\r\n \r\n       //setShow(false);\r\n       \r\n     //   if (props.isRecurring) {\r\n     //     setShowOccurrenceDialog(true);\r\n     //   }\r\n     }, [setFormItem, props.dataItem, props.isRecurring, setShowOccurrenceDialog]);\r\n     const handleDeleteClick = React.useCallback(() => {\r\n       setShow(false);\r\n       setRemoveItem(props.dataItem);\r\n       if (props.isRecurring) {\r\n         setShowOccurrenceDialog(true);\r\n       } else {\r\n         setShowRemoveDialog(true);\r\n       }\r\n     }, [\r\n       setRemoveItem,\r\n       props.dataItem,\r\n       props.isRecurring,\r\n       setShowOccurrenceDialog,\r\n       setShowRemoveDialog,\r\n     ]);\r\n     const handleFormItemChange = React.useCallback((event) => {\r\n \r\n         if(event.value){\r\n             if(event.value.ntransactionstatus){\r\n                 if(event.value.ntransactionstatus!==20){\r\n                     setFormItem(event.value);\r\n                 }else{\r\n                     toast.info(\"Already Allocted\")\r\n                 }\r\n \r\n             }else{\r\n                 setFormItem(event.value);\r\n             }\r\n \r\n         }else{\r\n             setFormItem(event.value);\r\n         }\r\n \r\n     }, []);\r\n     const { onFocus, onBlur } = useAsyncFocusBlur({\r\n       onFocus: props.onFocus,\r\n       onBlur: handleBlur,\r\n     });\r\n     return (\r\n       \r\n       <React.Fragment>\r\n\r\n         <SchedulerItem\r\n           ref={item}\r\n           {...props}\r\n           onClick={handleClick}\r\n           onFocus={onFocus}\r\n           onBlur={onBlur}\r\n           formItem={formItem}\r\n           onFormItemChange={handleFormItemChange}\r\n           form={FormWithCustomEditor}\r\n           style={{\r\n             ...props.style,\r\n             backgroundColor: props.dataItem.ntransactionstatus!==-1 ? props.dataItem.color : \"pink\",\r\n           }}\r\n         >\r\n         </SchedulerItem>\r\n         \r\n         <Popup\r\n           anchor={item.current && item.current.element}\r\n           show={show}\r\n           style={{\r\n             width: 300,\r\n           }}\r\n           anchorAlign={{\r\n             horizontal: \"right\",\r\n             vertical: \"center\",\r\n           }}\r\n           popupAlign={{\r\n             horizontal: \"left\",\r\n             vertical: \"center\",\r\n           }}\r\n         >\r\n           <div tabIndex={-1} onFocus={onFocus} onBlur={onBlur}>\r\n             <Card>\r\n               <CardHeader className=\"ml-auto pb-0\">\r\n                {props.dataItem.ntransactionstatus!==20&&\r\n                 <Button\r\n                   iconClass=\"k-icon k-i-edit\"\r\n                   fillMode=\"flat\"\r\n                   onClick={handleEditClick}\r\n                 />}\r\n                  {props.dataItem.ntransactionstatus!==20&&\r\n                 <Button\r\n                   iconClass=\"k-icon k-i-delete\"\r\n                   fillMode=\"flat\"\r\n                   onClick={handleDeleteClick}\r\n                 />\r\n                  }\r\n                 <Button\r\n                   iconClass=\"k-icon k-i-close\"\r\n                   fillMode=\"flat\"\r\n                   onClick={handleCloseClick}\r\n                 />\r\n               </CardHeader>\r\n               <CardBody>\r\n                 <CardTitle>\r\n                   <div className=\"row\">\r\n                     <div className=\"col-1\">\r\n                       <div\r\n                         style={{\r\n                           backgroundColor: color,\r\n                           width: 16,\r\n                           height: 16,\r\n                           position: \"relative\",\r\n                           top: \"50%\",\r\n                           borderRadius: 4,\r\n                           transform: \"translateY(-50%)\",\r\n                         }}\r\n                       />\r\n                     </div>\r\n                     <div className=\"col\">\r\n                       <div>{props.title}</div>\r\n                     </div>\r\n                   </div>\r\n                   <div className=\"row\">\r\n                     <div className=\"col-1\" />\r\n                     <div className=\"col\">\r\n                       <small>\r\n                         {/* {intl.formatDate(props.zonedStart, \"EEEE, d MMMM\")} */}\r\n                       </small>\r\n                     </div>\r\n                   </div>\r\n                   <div className=\"row\">\r\n                     <div className=\"col-1\">\r\n                       <span className=\"k-icon k-i-clock\" />\r\n                     </div>\r\n                     <div className=\"col\">\r\n                       <div>{intl.formatMessage({ id: \"IDS_FROM\" })}{\": \"} {intl.formatDate(props.zonedStart, \"t\")}</div>\r\n                       <div>{intl.formatMessage({ id: \"IDS_TO\" })}{\": \"} {intl.formatDate(props.zonedEnd, \"t\")}</div>\r\n \r\n                       {props.insertRecord&&\r\n                       <div>{intl.formatMessage({ id: \"IDS_TESTCOUNT\" })}{\": \"} {props.count}</div>}\r\n                     </div>\r\n                   </div>\r\n                 </CardTitle>\r\n               </CardBody>\r\n             </Card>\r\n           </div>\r\n         </Popup>\r\n       </React.Fragment>\r\n     );\r\n   };\r\n   \r\n\r\n  export function getRandomColor() {\r\n    var letters = '0123456789ABCDEF';\r\n    var color = '#';\r\n    for (var i = 0; i < 6; i++) {\r\n      color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n  }"]},"metadata":{},"sourceType":"module"}