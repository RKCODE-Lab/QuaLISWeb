{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{FormattedMessage,injectIntl}from'react-intl';import{Navbar,Nav,Dropdown,Image,Media,NavLink,NavDropdown,NavItem,Badge}from'react-bootstrap';import{toast}from'react-toastify';import{submitUserTheme,getChangeUserRole,submitChangeRole,getPassWordPolicy,updateStore,changepassword,changeOwner,logOutAuditAction,getListAlert,getDigitalSign,saveDigitalSign,crudMaster,validateEsignforDigitalSignature,getcolorMaster,getAboutInfo}from'../../actions';import rsapi from'../../rsapi';import{AtHeader,NavPrimaryHeader,ProfileImage,DashboardIcon}from'../header/header.styles';import{faSearch,faSignature,faBell,faCamera,faEdit}from'@fortawesome/free-solid-svg-icons';import'../../assets/styles/login.css';import{ReactComponent as SearchIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/icon-search.svg\";import{ReactComponent as BellIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/icon-bell.svg\";import{ReactComponent as DashboardHeader}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/dashboard-header.svg\";import SlideOutModal from'../slide-out-modal/SlideOutModal';import ChangePassWord from'../../pages/Login/ChangePassWord';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{changePasswordValidation,fnPassMessage}from'../../pages/Login/LoginCommonFunction';import{LOGINTYPE,transactionStatus}from'../Enumeration';import PortalModal from'../../PortalModal';import SliderPage from'../slider-page/slider-page-component';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faKey,faPowerOff,faUserCog,faUsersCog,faPalette,faFont,faMinus,faPlus,faInfoCircle}from'@fortawesome/free-solid-svg-icons';import{createImageFromInitials}from'./headerutils';// import { Tooltip } from '@progress/kendo-react-tooltip';\nimport{getSelectedAlert}from'../../actions/AlertViewAction';import'../../pages/dashboardtypes/Alert.css';import AddDigitalSignature from'../../pages/Login/AddDigitalSignature';import{Lims_JSON_stringify,create_UUID,onSaveMandatoryValidation}from'../../components/CommonScript';import Esign from'../../pages/audittrail/Esign';import Button from'react-bootstrap/Button';import AddorUpdateProfileImage from'../../pages/credentialmanagement/AddorUpdateProfileImage';import{getUserProfileImage,updateUserProfilePicture,closeProfilePictureDialog}from'../../actions/UserAction';import{intl}from'../App';import About from'../../pages/credentialmanagement/About';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var Header=/*#__PURE__*/function(_React$Component){_inherits(Header,_React$Component);var _super=_createSuper(Header);function Header(props){var _this;_classCallCheck(this,Header);_this=_super.call(this,props);_this.IncrementItem=function(){var selectedUserUiConfig=_this.props.Login.selectedUserUiConfig?_this.props.Login.selectedUserUiConfig:{};var increasefontvalue=_this.props.Login.settings&&_this.props.Login.settings[51];if(_this.state.fontSize>9){}else{_this.setState({fontSize:parseInt(_this.state.fontSize)+parseInt(increasefontvalue)});selectedUserUiConfig[\"nfontsize\"]=parseInt(_this.state.fontSize)+parseInt(increasefontvalue);selectedUserUiConfig[\"nthemecolorcode\"]=_this.props.Login.selectedUserUiConfig&&_this.props.Login.selectedUserUiConfig!==null?_this.props.Login.selectedUserUiConfig.nthemecolorcode:1;selectedUserUiConfig[\"sthemecolorhexcode\"]=_this.props.Login.selectedUserUiConfig&&_this.props.Login.selectedUserUiConfig!==null?_this.props.Login.selectedUserUiConfig.sthemecolorhexcode:'#1268e3';delete selectedUserUiConfig[\"dmodifieddate\"];_this.props.submitUserTheme(selectedUserUiConfig,_this.props.Login.userInfo);}};_this.DecreaseItem=function(){var selectedUserUiConfig=_this.props.Login.selectedUserUiConfig?_this.props.Login.selectedUserUiConfig:{};var increasefontvalue=_this.props.Login.settings&&_this.props.Login.settings[51];if(_this.state.fontSize>1){_this.setState({fontSize:parseInt(_this.state.fontSize)-parseInt(increasefontvalue)});}selectedUserUiConfig[\"nfontsize\"]=_this.state.fontSize-parseInt(increasefontvalue);selectedUserUiConfig[\"nthemecolorcode\"]=_this.props.Login.selectedUserUiConfig&&_this.props.Login.selectedUserUiConfig!==null?_this.props.Login.selectedUserUiConfig.nthemecolorcode:1;selectedUserUiConfig[\"sthemecolorhexcode\"]=_this.props.Login.selectedUserUiConfig&&_this.props.Login.selectedUserUiConfig!==null?_this.props.Login.selectedUserUiConfig.sthemecolorhexcode:'#1268e3';delete selectedUserUiConfig[\"dmodifieddate\"];_this.props.submitUserTheme(selectedUserUiConfig,_this.props.Login.userInfo);};_this.openAlert=function(){_this.setState({showDashboard:!_this.state.showDashboard,nflag:2});};_this.openQuickSetting=function(){_this.setState({quickSettingOpen:!_this.state.quickSettingOpen});};_this.openDashBoard=function(){_this.setState({showDashboard:!_this.state.showDashboard,nflag:1});};_this.onUploadingImage=function(event,uploadedImagefile){var formData=new FormData();formData.append(\"uploadedFile0\",uploadedImagefile);formData.append(\"filename\",uploadedImagefile.name);formData.append(\"uniquefilename0\",create_UUID()+'.'+uploadedImagefile.name.split('.')[1]);formData.append(\"filecount\",1);formData.append(\"userinfo\",JSON.stringify(_this.props.Login.userInfo));_this.setState({uploadedProfileImage:formData});console.log(_this.state.uploadedProfileImage);};_this.uploadProfileImage=function(){_this.props.updateUserProfilePicture(_this.state.uploadedProfileImage);};_this.onCloseProfilePictureDialog=function(){_this.props.closeProfilePictureDialog();};_this.closeAbout=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:\"IDS_ABOUT\",openAboutModal:false}};_this.props.updateStore(updateInfo);};_this.submitUserTheme=function(item){item['nfontsize']=_this.state.fontSize;_this.props.submitUserTheme(item,_this.props.Login.userInfo);};_this.submitChangeOwner=function(item,role){_this.props.onChangeOwer(item,role);// const parameterInfo = {\n//   typeName: DEFAULT_RETURN,\n//   data: { menuDesign: [], navigation: \"\" }\n// }\n// this.props.updateStore(parameterInfo);\n// const inputData = {\n//   nuserrolecode: item.nuserrolecode,\n//   suserrolename: item.suserrolename,\n//   nusercode: item.nusercode,\n//   sdeputyid: item.sdeputyid,\n//   userinfo: this.props.Login.userInfo\n// }\n// this.props.changeOwner(inputData);\n};_this.onChangePassword=function(){var createPwdRecord=_this.state.createPwdRecord;var returnMsg=changePasswordValidation(createPwdRecord,_this.props.Login.passwordPolicy,_this.props.Login.userInfo.sloginid);if(returnMsg===0){var inputParam={spassword:createPwdRecord.snewpassword.trim(),sOldPassword:createPwdRecord.soldpassword.trim(),nusersitecode:_this.props.Login.userInfo.nusersitecode,isPasswordExpiry:false,userInfo:_this.props.Login.userInfo};_this.props.changepassword(inputParam);}else{toast.info(returnMsg);}};_this.onSaveDigitalSign=function(saveType,formRef){var digiSignData=[];digiSignData[\"userinfo\"]=_this.props.Login.userInfo;var digiSignImageFile=_this.state.selectedDigiSign.sdigisignname;var isDigiSignFileEdited=transactionStatus.NO;var formData=new FormData();var digiSignImageCount=0;var digisignfile={};digiSignData[\"digiSign\"]={\"nsitecode\":_this.props.Login.userInfo.nmastersitecode};digiSignData[\"digiSign\"][\"sdigisignname\"]=_this.state.selectedDigiSign[\"sdigisignname\"];if(digiSignImageFile&&Array.isArray(digiSignImageFile)&&digiSignImageFile.length>0){var splittedFileName=digiSignImageFile[0].name.split('.');var fileExtension=digiSignImageFile[0].name.split('.')[splittedFileName.length-1];var uniquefilename=_this.state.selectedDigiSign.sdigisignname===\"\"?_this.state.selectedDigiSign.sdigisignname:create_UUID()+'.'+fileExtension;digisignfile[\"sdigisignname\"]=Lims_JSON_stringify(digiSignImageFile[0].name,false);digisignfile[\"sdigisignftp\"]=uniquefilename;digisignfile[\"ssecuritykey\"]=_this.state.selectedDigiSign[\"ssecuritykey\"];formData.append(\"uploadedFile\"+digiSignImageCount,digiSignImageFile[0]);formData.append(\"uniquefilename\"+digiSignImageCount,uniquefilename);digiSignImageCount++;isDigiSignFileEdited=transactionStatus.YES;digiSignData[\"digiSign\"][\"sdigisignname\"]=\"\";}else{if(digiSignImageFile===undefined||digiSignImageFile===\"\"||digiSignImageFile.hasOwnProperty(\"length\")&&digiSignImageFile.length===0){if(digiSignData[\"digiSign\"][\"sdigisignftp\"]!==null&&digiSignData[\"digiSign\"][\"sdigisignftp\"]!==\"\"){isDigiSignFileEdited=transactionStatus.YES;}digisignfile[\"sdigisignname\"]=null;digisignfile[\"sdigisignftp\"]=null;digiSignData[\"digiSign\"][\"sdigisignname\"]=\"\";}else{digisignfile[\"sdigisignname\"]=Lims_JSON_stringify(_this.state.selectedDigiSign.sdigisignname,false);digisignfile[\"sdigisignftp\"]=_this.state.selectedDigiSign.sdigisignftp;digisignfile[\"ssecuritykey\"]=_this.state.selectedDigiSign.ssecuritykey;}}formData.append(\"isDigiSignFileEdited\",isDigiSignFileEdited);formData.append(\"DigiSignImage_filecount\",digiSignImageCount);formData.append(\"filecount\",digiSignImageCount);formData.append(\"controlcodelist\",JSON.stringify(_this.props.Login.uploadControlList));formData.append(\"digisignfile\",JSON.stringify(digisignfile));formData.append(\"digiSign\",JSON.stringify(digiSignData[\"digiSign\"]));// }\nvar inputParam={operation:_this.props.Login.operation,formData:formData,classUrl:\"digitalsignature\",methodUrl:\"DigitalSignature\",inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{slanguagename:Lims_JSON_stringify(_this.props.Login.userInfo.slanguagename)})},isFileupload:true,saveType:saveType,formRef:formRef};var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam},saveType:saveType}};_this.props.updateStore(updateInfo);// this.props.saveDigitalSign(inputParam);\n};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedDigiSign[\"esigncomments\"],nreasoncode:_this.state.selectedDigiSign[\"esignreason\"]&&_this.state.selectedDigiSign[\"esignreason\"].value,spredefinedreason:_this.state.selectedDigiSign[\"esignreason\"]&&_this.state.selectedDigiSign[\"esignreason\"].label}),password:_this.state.selectedDigiSign[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignforDigitalSignature(inputParam);};_this.closeModal=function(){var selectedDigiSign=_this.props.Login.selectedDigiSign;var loadEsign=_this.props.Login.loadEsign;var openCPModal=_this.props.Login.openCPModal;if(_this.props.Login.loadEsign){loadEsign=false;selectedDigiSign['esignpassword']=\"\";selectedDigiSign['esigncomments']=\"\";selectedDigiSign['esignreason']=\"\";}else{openCPModal=false;}var updateInfo={typeName:DEFAULT_RETURN,data:{openCPModal:openCPModal,loadEsign:loadEsign,selectedDigiSign:selectedDigiSign}};_this.props.updateStore(updateInfo);};_this.submitChangeRole=function(roleItem){_this.props.onChangeRol(roleItem);// const parameterInfo = {\n//   typeName: DEFAULT_RETURN,\n//   data: { menuDesign: [], navigation: \"\" }\n// }\n// this.props.updateStore(parameterInfo);\n// const userInfo = this.props.Login.userInfo;\n// const inputParam = {\n//   nusermultisitecode: userInfo.nusersitecode,\n//   slanguagetypecode: userInfo.slanguagetypecode,\n//   nusermultirolecode: roleItem.nusermultirolecode,\n//   nuserrolecode: roleItem.nuserrolecode,\n//   nmastersitecode: userInfo.nmastersitecode,\n//   nlogintypecode: userInfo.nlogintypecode,\n//   userinfo: userInfo\n// }\n// this.props.submitChangeRole(inputParam);\n};_this.childDataChange=function(selectedRecord,mandatoryFieldCheck){var isInitialRender=false;_this.setState({selectedDigiSign:_objectSpread({},selectedRecord),isInitialRender:isInitialRender});};_this.onDigitalSignatureSaveClick=function(){var mandatoryField=[];_this.state.selectedDigiSign&&_this.state.selectedDigiSign[\"sdigisignname\"]&&(_this.state.selectedDigiSign[\"sdigisignname\"].hasOwnProperty(\"length\")?_this.state.selectedDigiSign[\"sdigisignname\"].length>0:_this.state.selectedDigiSign[\"sdigisignname\"]!==\"\")?mandatoryField=[{\"idsName\":\"IDS_SECURITYKEY\",\"dataField\":\"ssecuritykey\",\"mandatory\":false}]:mandatoryField=[];onSaveMandatoryValidation(_this.state.selectedDigiSign,mandatoryField,_this.onSaveDigitalSign);};_this.state={createPwdRecord:{},createSecurityKey:{},alert:[],sliderOpen:false,nflag:2,quickSettingOpen:false.valueOf,fontSize:_this.props.Login.selectedUserUiConfig?_this.props.Login.selectedUserUiConfig.nfontsize:3,show:true,max:6,min:0,openProfilePictureDialog:false,profiledata:{},uploadedProfileImage:{}};return _this;}_createClass(Header,[{key:\"onChangeRole\",value:function onChangeRole(){var _this2=this;rsapi.post(\"/login/getchangerole\",{\"userInfo\":this.props.Login.userInfo}).then(function(response){var responseData=response.data;_this2.setState({show:true,UserMultiRole:responseData.UserMultiRole,nusermultirolecode:{label:responseData.UserMultiRole[0].suserrolename,value:responseData.UserMultiRole[0].nusermultirolecode,item:responseData.UserMultiRole[0]}});}).catch(function(error){if(error.status===205){toast.warn(error.message);}else{toast.error(error.message);}});}},{key:\"onLogout\",value:function onLogout(){var inputData={userinfo:this.props.Login.userInfo,scomments:this.props.intl.formatMessage({id:\"IDS_LOGOUT\"}),sauditaction:\"IDS_LOGOUT\"};this.props.logOutAuditAction(inputData,this.props.Login.languageList);}},{key:\"onInput\",value:function onInput(){var input=document.getElementById(\"typeinp\");var currentVal=input.value;this.setState({value:currentVal});document.body.classList.remove('font-1','font-2','font-3','font-4','font-5');document.body.classList.add('font-'+this.state.fontSize);}},{key:\"onhandleOpenProfilePicDialog\",value:function onhandleOpenProfilePicDialog(){this.props.getUserProfileImage(this.props.Login.userInfo);}},{key:\"render\",value:function render(){var _this3=this;var _this$props$Login$use=this.props.Login.userInfo,susername=_this$props$Login$use.susername,suserrolename=_this$props$Login$use.suserrolename,nuserrole=_this$props$Login$use.nuserrole,nlogintypecode=_this$props$Login$use.nlogintypecode,ssitename=_this$props$Login$use.ssitename,nusercode=_this$props$Login$use.nusercode,sdeputyusername=_this$props$Login$use.sdeputyusername,sdeputyuserrolename=_this$props$Login$use.sdeputyuserrolename,sdeputyid=_this$props$Login$use.sdeputyid,sloginid=_this$props$Login$use.sloginid;var _this$props$Login=this.props.Login,deputyUser=_this$props$Login.deputyUser,userMultiRole=_this$props$Login.userMultiRole,isDeputyLogin=_this$props$Login.isDeputyLogin,userImagePath=_this$props$Login.userImagePath,settings=_this$props$Login.settings,profileColor=_this$props$Login.profileColor,colortheme=_this$props$Login.colortheme,selectedUserUiConfig=_this$props$Login.selectedUserUiConfig;var currentTheme=this.props.Login.selectedUserUiConfig&&this.props.Login.selectedUserUiConfig.sthemecolorname;document.body.classList.remove('font-1','font-2','font-3','font-4','font-5','font-6','font-7','font-8','font-9','font-10');document.body.classList.add('font-'+this.state.fontSize);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AtHeader,null,/*#__PURE__*/React.createElement(Navbar,{className:\"p-0\",bg:\"light\",fixed:\"top\"},/*#__PURE__*/React.createElement(Navbar.Brand,null,/*#__PURE__*/React.createElement(NavPrimaryHeader,{className:\"at-nav-brand\"},this.props.Login&&this.props.Login.displayName?/*#__PURE__*/React.createElement(FormattedMessage,{id:this.props.Login.displayName}):\"\")),/*#__PURE__*/React.createElement(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/React.createElement(Navbar.Collapse,{id:\"basic-navbar-nav\",className:\"d-flex align-items-center justify-content-end\"},/*#__PURE__*/React.createElement(Nav,null,this.props.showSearch?/*#__PURE__*/React.createElement(DashboardIcon,{className:\"mr-2\"},/*#__PURE__*/React.createElement(\"span\",null,this.props.searchBar)):\"\",/*#__PURE__*/React.createElement(Nav.Item,{className:\"d-flex\"},/*#__PURE__*/React.createElement(DashboardIcon,{className:\"position-relative topbar-search  ml-0\"},this.props.showSearch?/*#__PURE__*/React.createElement(\"div\",{className:\"search-icon search-icon-header position-absolute search-close-icon\",onClick:this.props.layOutGetHomeCancel},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-times\",\"aria-hidden\":\"true\"})):/*#__PURE__*/React.createElement(SearchIcon,{className:\"search-icon search-icon-header position-absolute zoom\",onClick:this.props.toggleSearch},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSearch}))),this.props.showAlertDashBoard?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(DashboardIcon,null,/*#__PURE__*/React.createElement(Nav.Link,{\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DASHBOARD\"}),onClick:this.openDashBoard,className:\"zoom dashboard-icon\"},/*#__PURE__*/React.createElement(DashboardHeader,{width:\"26px\",height:\"26px\"}))),/*#__PURE__*/React.createElement(DashboardIcon,{className:\"position-relative  mr-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fa_stack fa-2x the-wrapper\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ALERTS\"}),onClick:this.openAlert,class:\"zoom\"},/*#__PURE__*/React.createElement(BellIcon,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"icon icon_Badge position-absolute\",style:{\"width\":this.state.alert&&this.state.alert.length>9?\"52%\":\"46%\"}},this.state.alert&&this.state.alert.length>0?/*#__PURE__*/React.createElement(Badge,{pill:true,variant:\"danger\"},this.state.alert&&this.state.alert.length):\"\"))):\"\"),/*#__PURE__*/React.createElement(NavDropdown,{className:\"no-arrow\",alignRight:true,title:/*#__PURE__*/React.createElement(Media,null,/*#__PURE__*/React.createElement(ProfileImage,null,settings&&settings[5]&&userImagePath&&userImagePath!==\"\"?/*#__PURE__*/React.createElement(Image,{src:settings[5]+userImagePath,alt:\"avatar\",className:\"rounded-circle mr-2\",width:\"36\",height:\"36\"}):/*#__PURE__*/React.createElement(Image,{className:\"rounded-circle mr-2\",src:createImageFromInitials(32,susername?susername.charAt(0).toUpperCase():\"\",!currentTheme?profileColor:currentTheme)})))},/*#__PURE__*/React.createElement(\"div\",{class:\"profile-img-block pt-2\"},/*#__PURE__*/React.createElement(ProfileImage,{className:\"mx-3 mb-3 pt-2 text-center position-relative\"},settings&&settings[5]&&userImagePath&&userImagePath!==\"\"?/*#__PURE__*/React.createElement(Image,{src:settings[5]+userImagePath,alt:\"avatar\",className:\"profile-img rounded-circle mr-2\"}):/*#__PURE__*/React.createElement(Image,{className:\"profile-img rounded-circle mr-2\",src:createImageFromInitials(32,susername?susername.charAt(0).toUpperCase():\"\",!currentTheme?profileColor:currentTheme)}),nlogintypecode&&nlogintypecode===LOGINTYPE.INTERNAL&&!isDeputyLogin&&/*#__PURE__*/React.createElement(\"span\",{className:\"profile-image-edit\",onClick:function onClick(){return _this3.onhandleOpenProfilePicDialog();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEdit}))),/*#__PURE__*/React.createElement(\"div\",{class:\"d-block text-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"user-name d-block mb-1\",\"data-tip\":susername,\"data-place\":\"bottom\"},susername),/*#__PURE__*/React.createElement(\"span\",{className:\"role d-block mb-1\",\"data-tip\":suserrolename,\"data-place\":\"bottom\"},suserrolename),isDeputyLogin&&isDeputyLogin?/*#__PURE__*/React.createElement(\"span\",{className:\"role d-block mb-1\",\"data-tip\":sdeputyusername,\"data-place\":\"bottom\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DEPUTEDFOR\",defaultMessage:\"Deputed for\"}),\" : \".concat(sdeputyusername,\"[\").concat(sloginid,\"]-\").concat(sdeputyuserrolename)):\"\",/*#__PURE__*/React.createElement(\"span\",{className:\"role d-block mb-3\",\"data-tip\":ssitename,\"data-place\":\"bottom\"},ssitename)),/*#__PURE__*/React.createElement(\"div\",{class:\"dropdown-divider\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"theme-text\"},/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return _this3.props.darkMode();},className:\"mode-change\"},this.props.isDark?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-sun mr-1\",\"aria-hidden\":\"true\"}),\" Light Mode\"):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-moon mr-1\",\"aria-hidden\":\"true\"}),\" Dark Mode\"))),colortheme&&colortheme.length>0&&/*#__PURE__*/React.createElement(React.Fragment,null,!this.props.isDark?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{class:\"dropdown-divider\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"theme-text\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPalette,className:\"mr-2\"}),/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_THEME\",defaultMessage:\"Theme\"})),colortheme.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{key:\"themeindex_\".concat(index),onClick:function onClick(){return _this3.submitUserTheme(item);},style:{background:item.sthemecolorhexcode},className:\"theme-change-menu-item \".concat(currentTheme!=null?item.sthemecolorname===currentTheme?\"active theme-nav\":\"\":item.nthemecolorcode===1?\"active theme-nav\":\"\")},/*#__PURE__*/React.createElement(\"span\",{className:\"role-change d-block\",\"data-place\":\"bottom\"},item.sthemecolorname));}))):'',/*#__PURE__*/React.createElement(Dropdown,{as:NavItem,drop:\"left\",className:\"ml-2 \"})),this.props.isDesktop?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{class:\"dropdown-divider\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"text-range\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFont,className:\"mr-2\"}),/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_FONTSIZE\",defaultMessage:\"Font Size\"}),/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return _this3.DecreaseItem();},className:\"btn btn-circle ml-2 nav-link font-sizer-icon \".concat(this.state.fontSize&&this.state.fontSize==1?\"disabled\":\"\")},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faMinus})),/*#__PURE__*/React.createElement(\"span\",{className:\"ml-2\"},this.state.fontSize/2+.5),/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return _this3.IncrementItem();},className:\"btn btn-circle ml-2 nav-link font-sizer-icon \".concat(this.state.fontSize&&this.state.fontSize==9?\"disabled\":\"\")},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}))))):'',/*#__PURE__*/React.createElement(\"div\",{class:\"dropdown-divider\"}),userMultiRole&&userMultiRole.length>0&&/*#__PURE__*/React.createElement(Dropdown,{as:NavItem,drop:\"left\",className:\"ml-2 \"},/*#__PURE__*/React.createElement(Dropdown.Toggle,{as:NavLink},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUserCog,className:\"mr-2\"}),/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_CHANGEROLE\",defaultMessage:\"Change Role\"})),/*#__PURE__*/React.createElement(Dropdown.Menu,null,userMultiRole.map(function(item,index){return/*#__PURE__*/React.createElement(Dropdown.Item,{key:\"roleindex_\".concat(index),onClick:function onClick(){return _this3.submitChangeRole(item);}},/*#__PURE__*/React.createElement(\"span\",{className:\"role-change d-block\",\"data-tip\":item.suserrolename,\"data-place\":\"bottom\"},item.suserrolename));}))),!isDeputyLogin&&deputyUser&&deputyUser.length>0&&/*#__PURE__*/React.createElement(Dropdown,{as:NavItem,drop:\"left\",className:\"ml-2\"},/*#__PURE__*/React.createElement(Dropdown.Toggle,{as:NavLink},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUsersCog,className:\"mr-2\"}),/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_CHANGEOWNER\",defaultMessage:\"Change Owner\"})),/*#__PURE__*/React.createElement(Dropdown.Menu,null,this.props.Login.deputyUser.map(function(item,index){return item.lstUserMultiDeputy&&item.lstUserMultiDeputy.length>1?/*#__PURE__*/React.createElement(Dropdown,{as:NavItem,drop:\"left\",className:\"ml-2\"},/*#__PURE__*/React.createElement(Dropdown.Toggle,{as:NavLink},\"\".concat(item.sdeputyname,\"[\").concat(item.sdeputyid,\"]-\").concat(item.suserrolename)),/*#__PURE__*/React.createElement(Dropdown.Menu,null,item.lstUserMultiDeputy.map(function(role,index){return/*#__PURE__*/React.createElement(Dropdown.Item,{key:\"roleIndex_\".concat(index),className:\"text-truncate d-block\",onClick:function onClick(){return _this3.submitChangeOwner(item,role);}},role.suserrolename);}))):/*#__PURE__*/React.createElement(Dropdown.Item,{key:\"deptuserindex_\".concat(index),className:\"text-truncate d-block\",onClick:function onClick(){return _this3.submitChangeOwner(item,item.lstUserMultiDeputy[0]);}},item.sdeputyname+\"[\"+item.sdeputyid+\"]\"+\"-\"+item.suserrolename);}))),nusercode!==-1&&settings&&settings[33]&&parseInt(settings[33])===transactionStatus.YES&&/*#__PURE__*/React.createElement(NavDropdown.Item,{onClick:function onClick(){return _this3.props.getDigitalSign(nusercode,_this3.props.Login.userInfo);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSignature,className:\"mr-2\"}),/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DIGITALSIGNATURE\",defaultMessage:\"Digital Signature\"})),nlogintypecode&&nlogintypecode===LOGINTYPE.INTERNAL&&!isDeputyLogin&&/*#__PURE__*/React.createElement(NavDropdown.Item,{onClick:function onClick(){return _this3.props.getPassWordPolicy(nuserrole);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faKey,className:\"mr-2\"}),/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_CHANGEPASSWORD\",defaultMessage:\"Change Password\"})),nlogintypecode&&nlogintypecode===LOGINTYPE.INTERNAL&&!isDeputyLogin&&/*#__PURE__*/React.createElement(NavDropdown.Item,{onClick:function onClick(){return _this3.onhandleOpenProfilePicDialog();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCamera,className:\"mr-2\"}),/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_UPDATEUSERPROFILEIMAGE\",defaultMessage:\"Update Profile Photo\"})),/*#__PURE__*/React.createElement(NavDropdown.Item,{onClick:function onClick(){return _this3.props.getAboutInfo(_this3.props.Login.userInfo);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faInfoCircle,className:\"mr-2\"}),/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_ABOUT\",defaultMessage:\"About\"})),/*#__PURE__*/React.createElement(NavDropdown.Item,{onClick:function onClick(){return _this3.onLogout();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPowerOff,className:\"mr-2\"}),/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_LOGOUT\",defaultMessage:\"Logout\"}))))))),/*#__PURE__*/React.createElement(PortalModal,null,/*#__PURE__*/React.createElement(SliderPage,{show:this.state.showDashboard,nflag:this.state.nflag,closeModal:this.openDashBoard})),this.props.Login.openCPModal&&(this.props.Login.screenName===\"IDS_CHANGEPASSWORD\"||this.props.Login.screenName===\"IDS_DIGITALSIGNATURE\")&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openCPModal,closeModal:this.closeModal,loginoperation:true,inputParam:{},screenName:this.props.Login.screenName,onSaveClick:this.props.Login.screenName===\"IDS_CHANGEPASSWORD\"?this.onChangePassword:this.onDigitalSignatureSaveClick,selectedRecord:this.props.Login.screenName===\"IDS_CHANGEPASSWORD\"?this.state.createPwdRecord||{}:this.state.selectedDigiSign||{},mandatoryFields:this.mandatoryFieldFunction(),validateEsign:this.validateEsign,esign:this.props.Login.loadEsign,addComponent:this.props.Login.loadEsign===true?/*#__PURE__*/React.createElement(Esign,{operation:\"update\"// onInputOnChange={this.onInputChange.bind(this)}\n,onInputOnChange:function onInputOnChange(event){_this3.onInputChange(event);},inputParam:this.props.Login.screenData.inputParam,selectedRecord:this.state.selectedDigiSign||{}}):this.props.Login.screenName===\"IDS_CHANGEPASSWORD\"?/*#__PURE__*/React.createElement(ChangePassWord,{sloginid:this.props.Login.userInfo.sloginid,createPwdRecord:this.state.createPwdRecord,msg:fnPassMessage(this.props.Login.passwordPolicy),onInputChange:function onInputChange(event){return _this3.onInputChange(event);}}):/*#__PURE__*/React.createElement(AddDigitalSignature,{maxSize:20,maxFiles:1,multiple:false,onDropAccepted:this.onDropAccepted,selectedDigiSign:this.state.selectedDigiSign||{},deleteAttachment:this.deleteAttachment,onDrop:this.onDropFile,actionType:this.state.actionType,userInfo:this.props.Login.userInfo,createSecurityKey:this.state.createSecurityKey,onInputChange:function onInputChange(event){return _this3.onInputChange(event);},label:this.props.intl.formatMessage({id:\"IDS_DIGITALSIGNATURE\"}),name:\"digitalsignature\",onDropImage:this.onDropImage,operation:this.props.Login.operation,childDataChange:this.childDataChange,login:this.props.Login})}),this.props.Login.screenName===\"IDS_UPDATEUSERPROFILEIMAGE\"&&this.props.Login.openProfilePictureDialog?/*#__PURE__*/React.createElement(AddorUpdateProfileImage,{srcImage:settings!==''&&settings!==undefined&&settings[5]!==''&&settings[5]!==undefined&&this.props.Login.profiledata&&this.props.Login.profiledata['suserimgftp']!==''&&this.props.Login.profiledata['suserimgftp']!==undefined&&this.props.Login.profiledata['suserimgftp']!==null?settings[5]+this.props.Login.profiledata['suserimgftp']:createImageFromInitials(32,susername?susername.charAt(0).toUpperCase():\"\",!currentTheme?profileColor:currentTheme),width:190,height:180,children:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"i\",{style:{fontSize:'14px'}},/*#__PURE__*/React.createElement(\"sup\",null,\"\\u20F0\"),\"  \",intl.formatMessage({id:\"IDS_PROFILE_PHOTO_SIZE\"}))),onUploadingImage:this.onUploadingImage,onSubmitDialog:this.uploadProfileImage,dialogTitle:this.props.Login.screenName,isOpen:this.props.Login.openProfilePictureDialog,onhandleClosedDialog:this.onCloseProfilePictureDialog}):null,this.props.Login.screenName===\"IDS_ABOUT\"&&this.props.Login.openAboutModal?/*#__PURE__*/React.createElement(About,{width:190,height:180,isOpen:this.props.Login.openAboutModal,closeAbout:this.closeAbout,aboutInfo:this.props.Login.aboutInfo}):null);}},{key:\"onInputChange\",value:function onInputChange(event){if(this.props.Login.screenName===\"IDS_CHANGEPASSWORD\"){var createPwdRecord=this.state.createPwdRecord||{};createPwdRecord[event.target.name]=event.target.value;this.setState({createPwdRecord:createPwdRecord});}else{var selectedDigiSign=this.state.selectedDigiSign||{};if(event.target.type==='checkbox'){selectedDigiSign[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedDigiSign[event.target.name]=event.target.value;}this.setState({selectedDigiSign:selectedDigiSign});}}},{key:\"mandatoryFieldFunction\",value:function mandatoryFieldFunction(){var mandatoryField=[];this.props.Login.screenName===\"IDS_CHANGEPASSWORD\"?mandatoryField=[{\"idsName\":\"IDS_OLDPASSWORD\",\"dataField\":\"soldpassword\",\"mandatory\":false},{\"idsName\":\"IDS_NEWPASSWORD\",\"dataField\":\"snewpassword\",\"mandatory\":false},{\"idsName\":\"IDS_CONFIRMPASSWORD\",\"dataField\":\"sconfirmpassword\",\"mandatory\":true}]:mandatoryField=[];;return mandatoryField;}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){//   if (this.props.Login.isDeputyLogin === true) {\n//   if (this.props.Login.navigation === \"home\") {\n//      this.props.history.push('/');\n//  }\n// }\nif(this.props.Login.createPwdRecord!==prevProps.Login.createPwdRecord){this.setState({createPwdRecord:this.props.Login.createPwdRecord});}if(this.props.Login.alert!==prevProps.Login.alert){this.setState({alert:this.props.Login.alert});}if(this.props.Login.selectedDigiSign!==prevProps.Login.selectedDigiSign){this.setState({selectedDigiSign:this.props.Login.selectedDigiSign});}if(this.props.Login.isInitialRender!==prevProps.Login.isInitialRender){this.setState({isInitialRender:this.props.Login.isInitialRender});}}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if(this.props.Login.openCPModal&&nextState.isInitialRender===false&&nextState.selectedDigiSign!==this.state.selectedDigiSign){return false;}else if(this.state.userImagePath!==nextState.userImagePath){return this.state.userImagePath!==nextState.userImagePath;}else{return true;}}}]);return Header;}(React.Component);export default connect(mapStateToProps,{submitUserTheme:submitUserTheme,getChangeUserRole:getChangeUserRole,submitChangeRole:submitChangeRole,getPassWordPolicy:getPassWordPolicy,updateStore:updateStore,changepassword:changepassword,changeOwner:changeOwner,logOutAuditAction:logOutAuditAction,getSelectedAlert:getSelectedAlert,getListAlert:getListAlert,getDigitalSign:getDigitalSign,saveDigitalSign:saveDigitalSign,crudMaster:crudMaster,validateEsignforDigitalSignature:validateEsignforDigitalSignature,getcolorMaster:getcolorMaster,getUserProfileImage:getUserProfileImage,updateUserProfilePicture:updateUserProfilePicture,closeProfilePictureDialog:closeProfilePictureDialog,getAboutInfo:getAboutInfo})(injectIntl(Header));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/header/header.component.jsx"],"names":["React","connect","FormattedMessage","injectIntl","Navbar","Nav","Dropdown","Image","Media","NavLink","NavDropdown","NavItem","Badge","toast","submitUserTheme","getChangeUserRole","submitChangeRole","getPassWordPolicy","updateStore","changepassword","changeOwner","logOutAuditAction","getListAlert","getDigitalSign","saveDigitalSign","crudMaster","validateEsignforDigitalSignature","getcolorMaster","getAboutInfo","rsapi","AtHeader","NavPrimaryHeader","ProfileImage","DashboardIcon","faSearch","faSignature","faBell","faCamera","faEdit","SlideOutModal","ChangePassWord","DEFAULT_RETURN","changePasswordValidation","fnPassMessage","LOGINTYPE","transactionStatus","PortalModal","SliderPage","FontAwesomeIcon","faKey","faPowerOff","faUserCog","faUsersCog","faPalette","faFont","faMinus","faPlus","faInfoCircle","createImageFromInitials","getSelectedAlert","AddDigitalSignature","Lims_JSON_stringify","create_UUID","onSaveMandatoryValidation","Esign","Button","AddorUpdateProfileImage","getUserProfileImage","updateUserProfilePicture","closeProfilePictureDialog","intl","About","mapStateToProps","state","Login","Header","props","IncrementItem","selectedUserUiConfig","increasefontvalue","settings","fontSize","setState","parseInt","nthemecolorcode","sthemecolorhexcode","userInfo","DecreaseItem","openAlert","showDashboard","nflag","openQuickSetting","quickSettingOpen","openDashBoard","onUploadingImage","event","uploadedImagefile","formData","FormData","append","name","split","JSON","stringify","uploadedProfileImage","console","log","uploadProfileImage","onCloseProfilePictureDialog","closeAbout","updateInfo","typeName","data","screenName","openAboutModal","item","submitChangeOwner","role","onChangeOwer","onChangePassword","createPwdRecord","returnMsg","passwordPolicy","sloginid","inputParam","spassword","snewpassword","trim","sOldPassword","soldpassword","nusersitecode","isPasswordExpiry","info","onSaveDigitalSign","saveType","formRef","digiSignData","digiSignImageFile","selectedDigiSign","sdigisignname","isDigiSignFileEdited","NO","digiSignImageCount","digisignfile","nmastersitecode","Array","isArray","length","splittedFileName","fileExtension","uniquefilename","YES","undefined","hasOwnProperty","sdigisignftp","ssecuritykey","uploadControlList","operation","classUrl","methodUrl","inputData","slanguagename","isFileupload","loadEsign","screenData","validateEsign","sreason","nreasoncode","value","spredefinedreason","label","password","closeModal","openCPModal","roleItem","onChangeRol","childDataChange","selectedRecord","mandatoryFieldCheck","isInitialRender","onDigitalSignatureSaveClick","mandatoryField","createSecurityKey","alert","sliderOpen","valueOf","nfontsize","show","max","min","openProfilePictureDialog","profiledata","post","then","response","responseData","UserMultiRole","nusermultirolecode","suserrolename","catch","error","status","warn","message","userinfo","scomments","formatMessage","id","sauditaction","languageList","input","document","getElementById","currentVal","body","classList","remove","add","susername","nuserrole","nlogintypecode","ssitename","nusercode","sdeputyusername","sdeputyuserrolename","sdeputyid","deputyUser","userMultiRole","isDeputyLogin","userImagePath","profileColor","colortheme","currentTheme","sthemecolorname","displayName","showSearch","searchBar","layOutGetHomeCancel","toggleSearch","showAlertDashBoard","charAt","toUpperCase","INTERNAL","onhandleOpenProfilePicDialog","darkMode","isDark","map","index","background","isDesktop","lstUserMultiDeputy","sdeputyname","onLogout","mandatoryFieldFunction","onInputChange","onDropAccepted","deleteAttachment","onDropFile","actionType","onDropImage","aboutInfo","target","type","checked","prevProps","nextProps","nextState","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { Navbar, Nav, Dropdown, Image, Media, NavLink, NavDropdown, NavItem, Badge } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { submitUserTheme,getChangeUserRole, submitChangeRole, getPassWordPolicy, updateStore, changepassword, changeOwner, logOutAuditAction, getListAlert, getDigitalSign, saveDigitalSign, crudMaster, validateEsignforDigitalSignature,getcolorMaster,getAboutInfo } from '../../actions'\r\nimport rsapi from '../../rsapi';\r\nimport { AtHeader, NavPrimaryHeader, ProfileImage, DashboardIcon } from '../header/header.styles';\r\nimport { faSearch, faSignature,faBell, faCamera, faEdit} from '@fortawesome/free-solid-svg-icons';\r\nimport '../../assets/styles/login.css';\r\nimport { ReactComponent as SearchIcon } from '../../assets/image/icon-search.svg';\r\nimport { ReactComponent as BellIcon } from '../../assets/image/icon-bell.svg';\r\n import { ReactComponent as DashboardHeader } from '../../assets/image/dashboard-header.svg';\r\nimport SlideOutModal from '../slide-out-modal/SlideOutModal';\r\nimport ChangePassWord from '../../pages/Login/ChangePassWord';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { changePasswordValidation, fnPassMessage } from '../../pages/Login/LoginCommonFunction';\r\nimport { LOGINTYPE, transactionStatus } from '../Enumeration';\r\nimport PortalModal from '../../PortalModal';\r\nimport SliderPage from '../slider-page/slider-page-component';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faKey, faPowerOff, faUserCog, faUsersCog,faPalette,faFont,faMinus,faPlus,faInfoCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { createImageFromInitials } from './headerutils';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport { getSelectedAlert } from '../../actions/AlertViewAction';\r\nimport '../../pages/dashboardtypes/Alert.css';\r\nimport AddDigitalSignature from '../../pages/Login/AddDigitalSignature';\r\nimport { Lims_JSON_stringify, create_UUID, onSaveMandatoryValidation } from '../../components/CommonScript';\r\nimport Esign from '../../pages/audittrail/Esign';\r\nimport Button from 'react-bootstrap/Button';\r\nimport AddorUpdateProfileImage from '../../pages/credentialmanagement/AddorUpdateProfileImage';\r\nimport {getUserProfileImage,updateUserProfilePicture,closeProfilePictureDialog} from '../../actions/UserAction'\r\nimport { intl } from '../App';\r\nimport About  from '../../pages/credentialmanagement/About';\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    Login: state.Login\r\n  }\r\n}\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {      \r\n      createPwdRecord: {},\r\n      createSecurityKey: {},\r\n      alert: [],\r\n      sliderOpen: false,\r\n      nflag: 2,\r\n      quickSettingOpen: false.valueOf,\r\n      fontSize: this.props.Login.selectedUserUiConfig? this.props.Login.selectedUserUiConfig.nfontsize : 3,\r\n      show: true,\r\n      max:6,\r\n      min:0,\r\n      openProfilePictureDialog:false,\r\n      profiledata:{},\r\n      uploadedProfileImage:{}\r\n    }\r\n\r\n  }\r\n  IncrementItem = () => {\r\n    let selectedUserUiConfig = this.props.Login.selectedUserUiConfig? this.props.Login.selectedUserUiConfig : {};\r\n    let increasefontvalue = this.props.Login.settings && this.props.Login.settings[51];\r\n    if(this.state.fontSize > 9) {\r\n    }else {\r\n        this.setState({\r\n        fontSize: parseInt(this.state.fontSize) + parseInt(increasefontvalue)\r\n    });\r\n        selectedUserUiConfig[\"nfontsize\"] = parseInt(this.state.fontSize) + parseInt(increasefontvalue);\r\n        selectedUserUiConfig[\"nthemecolorcode\"] = this.props.Login.selectedUserUiConfig && this.props.Login.selectedUserUiConfig !== null ?\r\n        this.props.Login.selectedUserUiConfig.nthemecolorcode : 1;\r\n        selectedUserUiConfig[\"sthemecolorhexcode\"] = this.props.Login.selectedUserUiConfig && this.props.Login.selectedUserUiConfig !== null ?\r\n        this.props.Login.selectedUserUiConfig.sthemecolorhexcode : '#1268e3';\r\n        delete selectedUserUiConfig[\"dmodifieddate\"];\r\n        this.props.submitUserTheme(selectedUserUiConfig,this.props.Login.userInfo);\r\n    }\r\n  }\r\n  DecreaseItem = () => {\r\n    let selectedUserUiConfig = this.props.Login.selectedUserUiConfig? this.props.Login.selectedUserUiConfig : {};    \r\n    let increasefontvalue = this.props.Login.settings && this.props.Login.settings[51];\r\n    if(this.state.fontSize > 1) {      \r\n      this.setState({ fontSize: parseInt(this.state.fontSize) - parseInt(increasefontvalue) });\r\n    }\r\n    selectedUserUiConfig[\"nfontsize\"] = this.state.fontSize - parseInt(increasefontvalue)\r\n    selectedUserUiConfig[\"nthemecolorcode\"] = this.props.Login.selectedUserUiConfig && this.props.Login.selectedUserUiConfig !== null ?\r\n    this.props.Login.selectedUserUiConfig.nthemecolorcode : 1;\r\n    selectedUserUiConfig[\"sthemecolorhexcode\"] = this.props.Login.selectedUserUiConfig && this.props.Login.selectedUserUiConfig !== null ?\r\n        this.props.Login.selectedUserUiConfig.sthemecolorhexcode : '#1268e3';\r\n    delete selectedUserUiConfig[\"dmodifieddate\"];\r\n    this.props.submitUserTheme(selectedUserUiConfig,this.props.Login.userInfo);\r\n  }\r\n\r\n  onChangeRole() {\r\n    rsapi.post(\"/login/getchangerole\", { \"userInfo\": this.props.Login.userInfo })\r\n      .then(response => {\r\n        const responseData = response.data;\r\n        this.setState({\r\n          show: true,\r\n          UserMultiRole: responseData.UserMultiRole,\r\n          nusermultirolecode: {\r\n            label: responseData.UserMultiRole[0].suserrolename, value: responseData.UserMultiRole[0].nusermultirolecode,\r\n            item: responseData.UserMultiRole[0]\r\n          }\r\n        });\r\n      })\r\n      .catch(error => {\r\n        if (error.status === 205) {\r\n          toast.warn(error.message)\r\n        } else {\r\n          toast.error(error.message)\r\n        }\r\n      });\r\n  }\r\n\r\n  onLogout() {\r\n    const inputData = {\r\n      userinfo: this.props.Login.userInfo,\r\n      scomments: this.props.intl.formatMessage({ id: \"IDS_LOGOUT\" }),\r\n      sauditaction: \"IDS_LOGOUT\"\r\n    };\r\n    this.props.logOutAuditAction(inputData, this.props.Login.languageList);\r\n  }\r\n\r\n  openAlert = () => {\r\n    this.setState({ showDashboard: !this.state.showDashboard, nflag: 2 });\r\n  }\r\n\r\n  openQuickSetting = () => {\r\n    this.setState({ quickSettingOpen: !this.state.quickSettingOpen })\r\n  }\r\n\r\n  openDashBoard = () => {\r\n    this.setState({ showDashboard: !this.state.showDashboard, nflag: 1 })\r\n  }\r\n\r\n  onInput() {\r\n    var input = document.getElementById(\"typeinp\");\r\n    var currentVal = input.value;\r\n    this.setState({\r\n      value: currentVal\r\n    })\r\n    document.body.classList.remove('font-1','font-2','font-3','font-4','font-5'); \r\n    document.body.classList.add('font-'+this.state.fontSize); \r\n}\r\n  onhandleOpenProfilePicDialog(){    this.props.getUserProfileImage(this.props.Login.userInfo);\r\n }\r\n  onUploadingImage=(event,uploadedImagefile)=>{\r\n    const formData = new FormData(); \r\n    formData.append(\"uploadedFile0\", uploadedImagefile);\r\n    formData.append(\"filename\",uploadedImagefile.name);\r\n    formData.append(\"uniquefilename0\", create_UUID() + '.' +uploadedImagefile.name.split('.')[1]);\r\n    formData.append(\"filecount\",1);\r\n    formData.append(\"userinfo\",JSON.stringify(this.props.Login.userInfo));    \r\n    this.setState({uploadedProfileImage:formData});\r\n    console.log(this.state.uploadedProfileImage);\r\n}\r\n\r\n  uploadProfileImage=()=>{\r\n   this.props.updateUserProfilePicture(this.state.uploadedProfileImage)\r\n  }\r\n\r\n  onCloseProfilePictureDialog=()=>{   \r\n  this.props.closeProfilePictureDialog()\r\n  }\r\n  //ALPD-4102\r\n  closeAbout = () => {\r\n\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: {\r\n        screenName: \"IDS_ABOUT\",\r\n        openAboutModal: false\r\n\r\n      },\r\n    };\r\n\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n  render() {\r\n    const { susername, suserrolename, nuserrole, nlogintypecode, ssitename, nusercode,sdeputyusername,sdeputyuserrolename,sdeputyid,sloginid} = this.props.Login.userInfo;\r\n    const { deputyUser, userMultiRole, isDeputyLogin, userImagePath, settings, profileColor,colortheme,selectedUserUiConfig } = this.props.Login;\r\n    const currentTheme = this.props.Login.selectedUserUiConfig && this.props.Login.selectedUserUiConfig.sthemecolorname;\r\n\r\n    document.body.classList.remove('font-1','font-2','font-3','font-4','font-5','font-6','font-7','font-8','font-9','font-10'); \r\n    document.body.classList.add('font-'+this.state.fontSize); \r\n    \r\n    return (\r\n      <>\r\n        {/* <ReactTooltip place=\"bottom\" id=\"tooltip-grid-wrap\" globalEventOff='click' /> */}\r\n        <AtHeader>\r\n          <Navbar className=\"p-0\" bg=\"light\" fixed=\"top\">\r\n            <Navbar.Brand>\r\n              <NavPrimaryHeader className=\"at-nav-brand\">\r\n                {this.props.Login && this.props.Login.displayName ?\r\n                  <FormattedMessage id={this.props.Login.displayName} /> : \"\"}\r\n              </NavPrimaryHeader>\r\n            </Navbar.Brand>\r\n            {/* <div style={{ \"margin-left\": this.props.Login.displayName!==\"\"?\"-20%\":\"-40px\"}}>\r\n            {this.props.searchBar}\r\n          </div> */}\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\" className=\"d-flex align-items-center justify-content-end\">\r\n              {/* <ReactTooltip/> onClick={this.setFullview} */}\r\n\r\n              <Nav>\r\n\r\n\r\n              {/* <input id=\"typeinp\" type=\"range\" min=\"1\" className='text-range' max=\"5\" step=\"1\" defaultValue=\"3\" onInput={this.onInput.bind(this)}/> */}\r\n\r\n                {this.props.showSearch ?\r\n                  <DashboardIcon className='mr-2'>\r\n                    <span>\r\n                      {this.props.searchBar}\r\n                    </span>\r\n                  </DashboardIcon> : \"\"\r\n\r\n\r\n                }\r\n                <Nav.Item className='d-flex'>\r\n                  <DashboardIcon className='position-relative topbar-search  ml-0'>\r\n                    {this.props.showSearch ?\r\n                      <div className=\"search-icon search-icon-header position-absolute search-close-icon\" onClick={this.props.layOutGetHomeCancel}><i class=\"fa fa-times\" aria-hidden=\"true\"></i></div> :\r\n                      <SearchIcon className=\"search-icon search-icon-header position-absolute zoom\" onClick={this.props.toggleSearch}\r\n                      >\r\n                        <FontAwesomeIcon icon={faSearch} />\r\n                      </SearchIcon>\r\n\r\n                    }\r\n                     \r\n                  </DashboardIcon>\r\n                  {this.props.showAlertDashBoard ?\r\n                      <>\r\n                  <DashboardIcon >\r\n                  <Nav.Link data-tip={this.props.intl.formatMessage({ id: \"IDS_DASHBOARD\" })}\r\n                    onClick={this.openDashBoard} \r\n                    className=\"zoom dashboard-icon\">                \r\n                    <DashboardHeader width='26px' height='26px' />\r\n                  </Nav.Link>\r\n                </DashboardIcon>\r\n      \r\n                <DashboardIcon className='position-relative  mr-1'>\r\n                  <div className=\"fa_stack fa-2x the-wrapper\" data-tip={this.props.intl.formatMessage({ id: \"IDS_ALERTS\" })}\r\n                    onClick={this.openAlert} class=\"zoom\">\r\n                      <BellIcon></BellIcon>\r\n                    {/* <FontAwesomeIcon icon={faBell} style={{ 'font-size': '23px' }} /> */}\r\n                  </div>\r\n                  <div className=\"icon icon_Badge position-absolute\" style={{ \"width\": this.state.alert && this.state.alert.length > 9 ? \"52%\" : \"46%\" }}>\r\n                    {this.state.alert && this.state.alert.length > 0 ?\r\n                      <Badge pill variant=\"danger\">{this.state.alert && this.state.alert.length}</Badge>\r\n                      : \"\"}\r\n\r\n                  </div>\r\n                </DashboardIcon> \r\n  \r\n                   </>\r\n              :\"\"}\r\n                  </Nav.Item>\r\n\r\n                \r\n                {/* <ListView\r\n              data={alert}\r\n              openslide={this.openDashBoard}\r\n              getSelectedAlert={getSelectedAlert}\r\n              userInfo={this.props.Login.userInfo}\r\n              > */}\r\n                {/* </ListView> */}\r\n                {/* <Button className=\"btn btn-circle outline-grey ml-2\" style={{ \"border-color\": \" rgba(187, 194, 203, 0.41)!important\" }} variant=\"link\" role=\"button\"\r\n                                        title={this.props.intl.formatMessage({ id: \"IDS_ALERT\" })}\r\n                                        onClick={this.openAlert}>\r\n                                        <FontAwesomeIcon icon={faBell}  style={{ \"width\": \"0.6!important\" }}/>\r\n                                        <div style={{\"margin-bottom\":\"11px\"}}>\r\n                  <Badge pill variant=\"secondary\">{alert&&alert.length}</Badge>\r\n                  </div>\r\n                   </Button> */}\r\n                {/* <DashboardIcon className='position-relative'>\r\n                  <div className=\"fa_stack fa-2x the-wrapper\" data-tip={this.props.intl.formatMessage({ id: \"IDS_ALERTS\" })}\r\n                    onClick={this.openAlert} class=\"zoom\">\r\n                    <FontAwesomeIcon icon={faBell} style={{ 'font-size': '26px' }} />\r\n                  </div>\r\n                  <div className=\"icon icon_Badge position-absolute\" style={{ \"width\": this.state.alert && this.state.alert.length > 9 ? \"52%\" : \"46%\" }}>\r\n                    {this.state.alert && this.state.alert.length > 0 ?\r\n                      <Badge pill variant=\"danger\">{this.state.alert && this.state.alert.length}</Badge>\r\n                      : \"\"}\r\n\r\n                  </div>\r\n                </DashboardIcon> */}\r\n                {/* <DashboardIcon className='mr-0'>\r\n                  <Nav.Link data-tip={this.props.intl.formatMessage({ id: \"IDS_DASHBOARD\" })}\r\n                    onClick={this.openDashBoard} className=\"zoom dashboard-icon\">                \r\n                    <DashboardHeader width='26px' height='26px' />\r\n                  </Nav.Link>\r\n                </DashboardIcon> */} \r\n\r\n\r\n                {/* {this.props.history.location.pathname !='/home' &&                                                             \r\n                      <DashboardIcon className='mr-0'>   \r\n                          <Nav.Link className='zoom'>       \r\n                          {this.props.fullView &&      \r\n                                <FullviewExpand width='26px' height='26px' onClick={this.props.menuFullview} /> \r\n                            }\r\n                          {!this.props.fullView &&     \r\n                                <FullviewCollapse width='26px' height='26px' onClick={this.props.menuFullview} />\r\n                          }\r\n                          </Nav.Link>  \r\n                        </DashboardIcon> \r\n                    } */}\r\n                {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n\r\n                <NavDropdown className=\"no-arrow\" alignRight title={<Media >\r\n                  <ProfileImage>\r\n                    {settings && settings[5] && userImagePath && userImagePath !== \"\" ?\r\n                      <Image src={settings[5] + userImagePath}\r\n                        alt=\"avatar\" className=\"rounded-circle mr-2\" width=\"36\" height=\"36\" /> : <Image className=\"rounded-circle mr-2\"\r\n                          src={createImageFromInitials(32, susername ? susername.charAt(0).toUpperCase() : \"\", !currentTheme  ? profileColor : currentTheme)}\r\n                      />}\r\n                  </ProfileImage>\r\n                  {/* {<Media.Body bsPrefix=\"media-profileinfo\">\r\n                      <span className=\"user-name user-role\" data-tip={susername} data-place=\"bottom\">{susername}</span>\r\n                      <span className=\"role user-role\" data-tip={suserrolename} data-place=\"bottom\">{suserrolename}</span>\r\n                    </Media.Body> } */}\r\n                  {/* :\r\n                    <Image src={userImagePath === \"\" ? userImg : fileViewURL + \"/SharedFolder/UserProfile/\" + userImagePath}\r\n                      alt=\"avatar\" className=\"img-profile rounded-circle mr-2\" />\r\n                  } */}\r\n\r\n                  {/* <FontAwesomeIcon className=\"align-self-center down-icon ml-2\" icon={faChevronDown} /> */}\r\n                </Media>}>\r\n                  {/* <ProfileLayer>\r\n                    <ProfileImageLayer>\r\n                      {userImagePath === \"\" ?\r\n                        <Image className=\"rounded-circle mr-2\"\r\n                          src={createImageFromInitials(80, susername ? susername.charAt(0).toUpperCase() : \"\", profileColor)}\r\n                        /> : <Image src={fileViewURL + \"/SharedFolder/UserProfile/\" + userImagePath}\r\n                          alt=\"avatar\" className=\"rounded-circle mr-2\" width=\"80\" height=\"80\" />}\r\n                    </ProfileImageLayer>\r\n                    <Profile>\r\n                      <ProfileName>{susername}</ProfileName>\r\n                      <ProfileRole>{suserrolename}</ProfileRole>\r\n                    </Profile>\r\n                  </ProfileLayer> */}\r\n                  {/* <Media className=\"dropdown-menu-animated\">\r\n                  <ProfileImage>\r\n                            {settings && settings[5] && userImagePath && userImagePath !== \"\" ?\r\n                              <Image src={settings[5] + userImagePath}\r\n                                alt=\"avatar\" className=\"ml-2\" width=\"36\" height=\"36\" /> : <Image className=\"rounded-circle ml-2 mr-3\"\r\n                                  style = {{width:\"3rem\",height:\"3rem\"}} src={createImageFromInitials(32, susername ? susername.charAt(0).toUpperCase() : \"\", profileColor)}\r\n                              />}\r\n                        </ProfileImage>\r\n                    <Media.Body bsPrefix=\"media-profileinfo\">\r\n                      <span className=\"user-name user-role\" data-tip={susername} data-place=\"bottom\">{susername}</span>\r\n                      <span className=\"role user-role\" data-tip={suserrolename} data-place=\"bottom\">{suserrolename}</span>\r\n                    </Media.Body>\r\n                    </Media> */}\r\n                  <div class=\"profile-img-block pt-2\">\r\n                    <ProfileImage className=\"mx-3 mb-3 pt-2 text-center position-relative\">\r\n                      {settings && settings[5] && userImagePath && userImagePath !== \"\" ?\r\n                        <Image src={settings[5] + userImagePath}\r\n                          alt=\"avatar\" className=\"profile-img rounded-circle mr-2\" /> : <Image className=\"profile-img rounded-circle mr-2\"\r\n                            src={createImageFromInitials(32, susername ? susername.charAt(0).toUpperCase() : \"\", !currentTheme ? profileColor : currentTheme)}                            \r\n                        />\r\n                         }\r\n                          {nlogintypecode && nlogintypecode === LOGINTYPE.INTERNAL && !isDeputyLogin &&\r\n                            <span className='profile-image-edit' onClick={()=>this.onhandleOpenProfilePicDialog()}>\r\n                              <FontAwesomeIcon icon={faEdit} />\r\n                            </span>\r\n                          }\r\n                    </ProfileImage>\r\n\r\n                    <div class=\"d-block text-center\">\r\n                      <span className=\"user-name d-block mb-1\" data-tip={susername} data-place=\"bottom\">{susername}</span>\r\n                      <span className=\"role d-block mb-1\" data-tip={suserrolename} data-place=\"bottom\">{suserrolename}</span>\r\n                      {//ALPD-4262(04-06-2024)--Vigensh R--Can't able to login in session logout appear while using the deputy user in specific scenario.\r\n                      }\r\n                       {isDeputyLogin&&isDeputyLogin?\r\n                        <span className=\"role d-block mb-1\" data-tip={sdeputyusername} data-place=\"bottom\"><FormattedMessage id=\"IDS_DEPUTEDFOR\" defaultMessage=\"Deputed for\" />\r\n{` : ${sdeputyusername}[${sloginid}]-${sdeputyuserrolename}`}</span>\r\n:\"\"} \r\n                      \r\n                      <span className=\"role d-block mb-3\" data-tip={ssitename} data-place=\"bottom\">{ssitename}</span>\r\n                    </div>\r\n                    <div class=\"dropdown-divider\"></div>\r\n                  </div>\r\n                 <div className='theme-text'>\r\n                  <div onClick={()=> this.props.darkMode()} className='mode-change'>\r\n                      {this.props.isDark?\r\n                        <><i class=\"fa fa-sun mr-1\" aria-hidden=\"true\"></i> Light Mode</>:\r\n                        <><i class=\"fa fa-moon mr-1\" aria-hidden=\"true\"></i> Dark Mode</>\r\n                      }      \r\n                  </div>\r\n                 </div>\r\n                  {colortheme && colortheme.length > 0 &&\r\n                 <>\r\n                 {!this.props.isDark?\r\n                 <>\r\n                 <div class=\"dropdown-divider\"></div>\r\n                 <div className='theme-text'>\r\n                  <div>\r\n                    <FontAwesomeIcon icon={faPalette} className=\"mr-2\" />\r\n                    <FormattedMessage id=\"IDS_THEME\" defaultMessage=\"Theme\" />\r\n                  </div>                  \r\n                    {colortheme.map((item, index) => { \r\n                          return (                           \r\n                            <div key={`themeindex_${index}`} onClick={() => this.submitUserTheme(item)} \r\n                            style={{\r\n                              background: item.sthemecolorhexcode,\r\n                            }}\r\n                            className={`theme-change-menu-item ${currentTheme !=null ? item.sthemecolorname === currentTheme ? \"active theme-nav\" : \"\" :item.nthemecolorcode === 1 ? \"active theme-nav\":\"\"\r\n                          }`}><span className=\"role-change d-block\" data-place=\"bottom\">{item.sthemecolorname}</span></div>\r\n                          )\r\n                        })}                      \r\n                 </div>\r\n                 </> : ''}\r\n                \r\n                    <Dropdown as={NavItem} drop={\"left\"} className=\"ml-2 \">\r\n                      {/* <Dropdown.Toggle as={NavLink}>\r\n                        <FontAwesomeIcon icon={faUserCog} className=\"mr-2\" />\r\n                        <FormattedMessage id=\"IDS_THEME\" defaultMessage=\"Theme\" /><br/>\r\n                        {colortheme.map((item, index) => { \r\n                           console.log(item.scolorhexcode)\r\n                          return (                           \r\n                            <div key={`themeindex_${index}`} onClick={() => this.submitUserTheme(item)} \r\n                            style={{\r\n                              background: item.scolorhexcode,\r\n                            }}\r\n                            className={`theme-change-menu-item ${item.scolorname == currentTheme ? \"active theme-nav\" : \"\"\r\n                          }`}><span className=\"role-change d-block\" data-tip={item.scolorname} data-place=\"bottom\">{item.scolorname}</span></div>\r\n                          )\r\n                        })}\r\n                      </Dropdown.Toggle> */}\r\n                      {/* <Dropdown.Menu>\r\n                        {colortheme.map((item, index) => { \r\n                           console.log(item.scolorhexcode)\r\n                          return (                           \r\n                            <div key={`themeindex_${index}`} onClick={() => this.submitUserTheme(item)} \r\n                            style={{\r\n                              background: item.scolorhexcode,\r\n                            }}\r\n                            className={`theme-change-menu-item ${item.scolorname == currentTheme ? \"active theme-nav\" : \"\"\r\n                          }`}><span className=\"role-change d-block\" data-tip={item.scolorname} data-place=\"bottom\">{item.scolorname}</span></div>\r\n                          )\r\n                        })}\r\n                      </Dropdown.Menu> */}\r\n                    </Dropdown>\r\n                    </>\r\n                    }                            \r\n                  {this.props.isDesktop?\r\n                   <>\r\n                  <div class=\"dropdown-divider\"></div>       \r\n                <div className='text-range'>\r\n                  <div className='mb-2'>\r\n                    <FontAwesomeIcon icon={faFont} className=\"mr-2\" />\r\n                    <FormattedMessage id=\"IDS_FONTSIZE\" defaultMessage=\"Font Size\" />\r\n                    <span  onClick={() =>this.DecreaseItem()}\r\n                    className={`btn btn-circle ml-2 nav-link font-sizer-icon ${this.state.fontSize && this.state.fontSize == 1 ? \"disabled\" : \"\"  }`}\r\n                    ><FontAwesomeIcon icon={faMinus} /></span>\r\n                    <span className='ml-2'>\r\n                        {this.state.fontSize/2+.5}\r\n                    </span>\r\n                    <span onClick={() =>this.IncrementItem()}\r\n                    className={`btn btn-circle ml-2 nav-link font-sizer-icon ${this.state.fontSize && this.state.fontSize == 9 ? \"disabled\" : \"\"  }`}\r\n                    ><FontAwesomeIcon icon={faPlus} /></span>\r\n                  </div>\r\n                  {/* <Button onClick={() =>this.DecreaseItem ()} className='font-sizer-icon mr-2' >A<sup>-</sup></Button>\r\n                  <Button onClick={() =>this.IncrementItem ()} className='font-sizer-icon' >A<sup>+</sup></Button> */}\r\n                  \r\n                </div>\r\n                  </> \r\n                   : '' }  \r\n                  \r\n                \r\n                <div class=\"dropdown-divider\"></div>\r\n                  {userMultiRole && userMultiRole.length > 0 &&\r\n                    <Dropdown as={NavItem} drop={\"left\"} className=\"ml-2 \">\r\n                      <Dropdown.Toggle as={NavLink}>\r\n                        <FontAwesomeIcon icon={faUserCog} className=\"mr-2\" />\r\n                        <FormattedMessage id=\"IDS_CHANGEROLE\" defaultMessage=\"Change Role\" />\r\n                      </Dropdown.Toggle>\r\n                      <Dropdown.Menu>\r\n                        {userMultiRole.map((item, index) => {\r\n                          return (\r\n                            <Dropdown.Item key={`roleindex_${index}`} onClick={() => this.submitChangeRole(item)}><span className=\"role-change d-block\" data-tip={item.suserrolename} data-place=\"bottom\">{item.suserrolename}</span></Dropdown.Item>\r\n                          )\r\n                        })}\r\n                      </Dropdown.Menu>\r\n                    </Dropdown>}\r\n                  {!isDeputyLogin && deputyUser && deputyUser.length > 0 &&\r\n                    <Dropdown as={NavItem} drop={\"left\"} className=\"ml-2\">\r\n                      <Dropdown.Toggle as={NavLink}>\r\n                        <FontAwesomeIcon icon={faUsersCog} className=\"mr-2\" />\r\n                        <FormattedMessage id=\"IDS_CHANGEOWNER\" defaultMessage=\"Change Owner\" />\r\n                      </Dropdown.Toggle>\r\n                      <Dropdown.Menu>\r\n                        {this.props.Login.deputyUser.map((item, index) => {\r\n                          return (\r\n                            item.lstUserMultiDeputy && item.lstUserMultiDeputy.length > 1 ?\r\n                              <Dropdown as={NavItem} drop={\"left\"} className=\"ml-2\">\r\n                                <Dropdown.Toggle as={NavLink}>{`${item.sdeputyname}[${item.sdeputyid}]-${item.suserrolename}`}</Dropdown.Toggle>\r\n                                <Dropdown.Menu>\r\n                                  {item.lstUserMultiDeputy.map((role, index) => {\r\n                                    return <Dropdown.Item key={`roleIndex_${index}`} className=\"text-truncate d-block\" onClick={() => this.submitChangeOwner(item, role)}>{role.suserrolename}</Dropdown.Item>\r\n                                  })}\r\n                                </Dropdown.Menu>\r\n                              </Dropdown>\r\n                              : <Dropdown.Item key={`deptuserindex_${index}`} className=\"text-truncate d-block\" onClick={() => this.submitChangeOwner(item, item.lstUserMultiDeputy[0])}>{item.sdeputyname + \"[\" + item.sdeputyid + \"]\" + \"-\" + item.suserrolename}</Dropdown.Item>\r\n                          )\r\n                        })}\r\n                      </Dropdown.Menu>\r\n                    </Dropdown>\r\n                  }\r\n                 \r\n                  { \r\n                  (nusercode !== -1) && settings && settings[33] && parseInt(settings[33]) === transactionStatus.YES && \r\n                    <NavDropdown.Item onClick={() => this.props.getDigitalSign(nusercode, this.props.Login.userInfo)}>\r\n                      <FontAwesomeIcon icon={faSignature} className=\"mr-2\" />\r\n                      <FormattedMessage id=\"IDS_DIGITALSIGNATURE\" defaultMessage=\"Digital Signature\" />\r\n                    </NavDropdown.Item>\r\n                  }\r\n                  {nlogintypecode && nlogintypecode === LOGINTYPE.INTERNAL && !isDeputyLogin &&\r\n                    <NavDropdown.Item onClick={() => this.props.getPassWordPolicy(nuserrole)}>\r\n                      <FontAwesomeIcon icon={faKey} className=\"mr-2\" />\r\n                      <FormattedMessage id=\"IDS_CHANGEPASSWORD\" defaultMessage=\"Change Password\" />\r\n                    </NavDropdown.Item>}\r\n               \r\n                     {nlogintypecode && nlogintypecode === LOGINTYPE.INTERNAL && !isDeputyLogin &&\r\n                    <NavDropdown.Item onClick={()=>this.onhandleOpenProfilePicDialog()}>\r\n                      <FontAwesomeIcon icon={faCamera} className=\"mr-2\" />\r\n                      <FormattedMessage id=\"IDS_UPDATEUSERPROFILEIMAGE\" defaultMessage=\"Update Profile Photo\" />\r\n                    </NavDropdown.Item>} \r\n\t\t\t\t\t\r\n                    <NavDropdown.Item onClick={() => this.props.getAboutInfo(this.props.Login.userInfo)}>\r\n                      <FontAwesomeIcon icon={faInfoCircle} className=\"mr-2\" />\r\n                      <FormattedMessage id=\"IDS_ABOUT\" defaultMessage=\"About\" />\r\n                    </NavDropdown.Item>\r\n                \r\n\r\n                  <NavDropdown.Item onClick={() => this.onLogout()}>\r\n                    <FontAwesomeIcon icon={faPowerOff} className=\"mr-2\" />\r\n                    <FormattedMessage id=\"IDS_LOGOUT\" defaultMessage=\"Logout\" />\r\n                  </NavDropdown.Item>\r\n                  </NavDropdown>\r\n                  \r\n\r\n                \r\n                {/* </Tooltip> */}\r\n                {/* <PortalModal>\r\n                  <SliderPage sliderOpen={this.state.sliderOpen} openDashBoard={this.openDashBoard}\r\n                    component={<h1>Dash Board</h1>}>\r\n                  </SliderPage>\r\n                </PortalModal>\r\n\r\n                <PortalModal>\r\n                  <SliderPage sliderOpen={this.state.quickSettingOpen} openQuickSetting={this.openQuickSetting}\r\n                    component={<h1>Alert</h1>}>\r\n                  </SliderPage>\r\n                </PortalModal> */}\r\n\r\n                {/* <Dropdown alignRight className=\"no-arrow\">\r\n\r\n                  <Dropdown.Toggle id=\"dropdown-basic\" as={NavLink}>\r\n                    <Media>\r\n                      <Image  src={userImg} alt=\"avatar\" className=\"img-profile rounded-circle mr-2\" />\r\n                        <Media.Body>\r\n                          <span className=\"user-name\">{susername}</span>\r\n                          <span className=\"role\">{suserrolename}</span>\r\n                        </Media.Body>\r\n                        <FontAwesomeIcon className=\"align-self-center down-icon ml-2\" icon={faChevronDown} />\r\n                    </Media>\r\n                  </Dropdown.Toggle>\r\n\r\n                  <Dropdown.Menu>\r\n                    {this.props.Login.nchangerolecount > 0 && \r\n                    <>\r\n                      <Dropdown.Item onClick={()=>this.props.getChangeUserRole(this.props.Login.userInfo)}>\r\n                          <FormattedMessage id=\"IDS_CHANGEROLE\" defaultMessage=\"Change Role\" />\r\n                      </Dropdown.Item>\r\n                      <Dropdown as={NavItem} drop={\"left\"}>\r\n                        <Dropdown.Toggle as={NavLink}>\r\n                          <FormattedMessage id=\"IDS_CHANGEROLE\" defaultMessage=\"Change Role\" />\r\n                        </Dropdown.Toggle>\r\n                        <Dropdown.Menu>\r\n                          <Dropdown.Item>Hello there!</Dropdown.Item>\r\n                        </Dropdown.Menu>\r\n                      </Dropdown>\r\n                      </>}\r\n                    {this.props.Login.ndeputyCount > 0 && \r\n                      <Dropdown.Item onClick={ () => this.onChangeOwner() }>\r\n                          <FormattedMessage id=\"IDS_CHANGEOWNER\" defaultMessage=\"Change Owner\" />\r\n                      </Dropdown.Item>}\r\n                      <Dropdown.Item>\r\n                          <FormattedMessage id=\"IDS_CHANGEPASSWORD\" defaultMessage=\"Change Password\" />\r\n                      </Dropdown.Item>\r\n                      <Dropdown.Item>\r\n                          <FormattedMessage id=\"IDS_LOCK\" defaultMessage=\"Lock\" />\r\n                      </Dropdown.Item>\r\n                      <Dropdown.Item onClick={ () => this.onLogout()}>\r\n                          <FormattedMessage id=\"IDS_LOGOUT\" defaultMessage=\"Log Out\" />\r\n                      </Dropdown.Item>\r\n                  </Dropdown.Menu>\r\n                </Dropdown> */}\r\n              </Nav>\r\n            </Navbar.Collapse>\r\n\r\n          </Navbar>\r\n\r\n        </AtHeader>\r\n\r\n        <PortalModal>\r\n          <SliderPage show={this.state.showDashboard} nflag={this.state.nflag} closeModal={this.openDashBoard} />\r\n        </PortalModal>\r\n        {this.props.Login.openCPModal && (this.props.Login.screenName === \"IDS_CHANGEPASSWORD\" || this.props.Login.screenName === \"IDS_DIGITALSIGNATURE\" \r\n              ) &&\r\n          <SlideOutModal\r\n            show={this.props.Login.openCPModal}\r\n            closeModal={this.closeModal}\r\n            loginoperation={true}\r\n            inputParam={{}}\r\n            screenName={this.props.Login.screenName}\r\n            onSaveClick={this.props.Login.screenName === \"IDS_CHANGEPASSWORD\" ? this.onChangePassword :this.onDigitalSignatureSaveClick}\r\n            selectedRecord={this.props.Login.screenName === \"IDS_CHANGEPASSWORD\" ? this.state.createPwdRecord || {} : this.state.selectedDigiSign || {}}\r\n            mandatoryFields={this.mandatoryFieldFunction()}\r\n            validateEsign={this.validateEsign}\r\n            esign={this.props.Login.loadEsign}\r\n            addComponent={this.props.Login.loadEsign === true ?\r\n              <Esign operation={\"update\"}\r\n                // onInputOnChange={this.onInputChange.bind(this)}\r\n                onInputOnChange={(event) => {this.onInputChange(event)}}\r\n                inputParam={this.props.Login.screenData.inputParam}\r\n                selectedRecord={this.state.selectedDigiSign || {}}\r\n              />\r\n              :\r\n              this.props.Login.screenName === \"IDS_CHANGEPASSWORD\" ?\r\n                <ChangePassWord\r\n                  sloginid={this.props.Login.userInfo.sloginid}\r\n                  createPwdRecord={this.state.createPwdRecord}\r\n                  msg={fnPassMessage(this.props.Login.passwordPolicy)}\r\n                  onInputChange={(event) => this.onInputChange(event)}\r\n                />:\r\n                <AddDigitalSignature\r\n                  maxSize={20}\r\n                  maxFiles={1}\r\n                  multiple={false}\r\n                  onDropAccepted={this.onDropAccepted}\r\n                  selectedDigiSign={this.state.selectedDigiSign || {}}\r\n                  deleteAttachment={this.deleteAttachment}\r\n                  onDrop={this.onDropFile}\r\n                  actionType={this.state.actionType}\r\n                  userInfo={this.props.Login.userInfo}\r\n                  createSecurityKey={this.state.createSecurityKey}\r\n                  onInputChange={(event) => this.onInputChange(event)}\r\n                  label={this.props.intl.formatMessage({ id: \"IDS_DIGITALSIGNATURE\" })}\r\n                  name=\"digitalsignature\"\r\n                  onDropImage={this.onDropImage}\r\n                  operation={this.props.Login.operation}\r\n                  childDataChange={this.childDataChange}\r\n                  login={this.props.Login}\r\n                />\r\n            }\r\n          />}\r\n           { this.props.Login.screenName === \"IDS_UPDATEUSERPROFILEIMAGE\" && this.props.Login.openProfilePictureDialog?\r\n      <AddorUpdateProfileImage\r\n        srcImage={(settings!=='' && settings!==undefined && settings[5]!=='' && settings[5]!== undefined &&\r\n                   this.props.Login.profiledata && this.props.Login.profiledata['suserimgftp']!==''&& this.props.Login.profiledata['suserimgftp']!==undefined\r\n                   && this.props.Login.profiledata['suserimgftp']!==null\r\n                   )?\r\n                      settings[5]+this.props.Login.profiledata['suserimgftp']:\r\n                      createImageFromInitials(32, susername ? susername.charAt(0).toUpperCase() : \"\",!currentTheme ? profileColor : currentTheme)\r\n                  } \r\n\r\n        width={190} \r\n        height={180}\r\n        children={<>\r\n          <i style={{fontSize:'14px'}}><sup>&#8432;</sup>  {intl.formatMessage({id:\"IDS_PROFILE_PHOTO_SIZE\"})}</i>\r\n        </>}\r\n        onUploadingImage={this.onUploadingImage}\r\n        onSubmitDialog={this.uploadProfileImage}\r\n        dialogTitle={this.props.Login.screenName}\r\n        isOpen={this.props.Login.openProfilePictureDialog}\r\n        onhandleClosedDialog={this.onCloseProfilePictureDialog}\r\n      />:null\r\n      }\r\n         { this.props.Login.screenName === \"IDS_ABOUT\" && this.props.Login.openAboutModal?\r\n      <About\r\n        width={190} \r\n        height={180}\r\n        isOpen={this.props.Login.openAboutModal}\r\n        closeAbout={this.closeAbout}\r\n        aboutInfo={this.props.Login.aboutInfo}\r\n      />:null\r\n      }\r\n      </>     \r\n    );\r\n  }\r\n\r\n\r\n  submitUserTheme = item => {\r\n    item['nfontsize'] =  this.state.fontSize;\r\n    this.props.submitUserTheme(item,this.props.Login.userInfo);\r\n  }\r\n\r\n  submitChangeOwner = (item, role) => {\r\n    this.props.onChangeOwer(item,role);\r\n    // const parameterInfo = {\r\n    //   typeName: DEFAULT_RETURN,\r\n    //   data: { menuDesign: [], navigation: \"\" }\r\n    // }\r\n    // this.props.updateStore(parameterInfo);\r\n    // const inputData = {\r\n    //   nuserrolecode: item.nuserrolecode,\r\n    //   suserrolename: item.suserrolename,\r\n    //   nusercode: item.nusercode,\r\n    //   sdeputyid: item.sdeputyid,\r\n    //   userinfo: this.props.Login.userInfo\r\n    // }\r\n    // this.props.changeOwner(inputData);\r\n  }\r\n\r\n  onChangePassword = () => {\r\n    const createPwdRecord = this.state.createPwdRecord;\r\n    const returnMsg = changePasswordValidation(createPwdRecord, this.props.Login.passwordPolicy, this.props.Login.userInfo.sloginid);\r\n    if (returnMsg === 0) {\r\n      const inputParam = {\r\n        spassword: createPwdRecord.snewpassword.trim(),\r\n        sOldPassword: createPwdRecord.soldpassword.trim(),\r\n        nusersitecode: this.props.Login.userInfo.nusersitecode,\r\n        isPasswordExpiry: false,\r\n        userInfo: this.props.Login.userInfo\r\n      };\r\n      this.props.changepassword(inputParam);\r\n    } else {\r\n      toast.info(returnMsg);\r\n    }\r\n  }\r\n\r\n  onSaveDigitalSign = (saveType, formRef) => {\r\n    let digiSignData = [];\r\n    digiSignData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n    const digiSignImageFile = this.state.selectedDigiSign.sdigisignname;\r\n\r\n    let isDigiSignFileEdited = transactionStatus.NO;\r\n    const formData = new FormData();\r\n    let digiSignImageCount = 0;\r\n    let digisignfile = {};\r\n    digiSignData[\"digiSign\"] = { \"nsitecode\": this.props.Login.userInfo.nmastersitecode };\r\n    digiSignData[\"digiSign\"][\"sdigisignname\"] = this.state.selectedDigiSign[\"sdigisignname\"];\r\n\r\n    if (digiSignImageFile && Array.isArray(digiSignImageFile) && digiSignImageFile.length > 0) {\r\n      const splittedFileName = digiSignImageFile[0].name.split('.');\r\n      const fileExtension = digiSignImageFile[0].name.split('.')[splittedFileName.length - 1];\r\n      const uniquefilename = this.state.selectedDigiSign.sdigisignname === \"\" ?\r\n        this.state.selectedDigiSign.sdigisignname : create_UUID() + '.' + fileExtension;\r\n\r\n      digisignfile[\"sdigisignname\"] = Lims_JSON_stringify(digiSignImageFile[0].name, false);\r\n      digisignfile[\"sdigisignftp\"] = uniquefilename;\r\n      digisignfile[\"ssecuritykey\"] = this.state.selectedDigiSign[\"ssecuritykey\"];\r\n      formData.append(\"uploadedFile\" + digiSignImageCount, digiSignImageFile[0]);\r\n      formData.append(\"uniquefilename\" + digiSignImageCount, uniquefilename);\r\n      digiSignImageCount++;\r\n      isDigiSignFileEdited = transactionStatus.YES;\r\n      digiSignData[\"digiSign\"][\"sdigisignname\"] = \"\";\r\n    } else {\r\n      if (digiSignImageFile === undefined || digiSignImageFile === \"\" || (digiSignImageFile.hasOwnProperty(\"length\") && digiSignImageFile.length === 0)) {\r\n        if (digiSignData[\"digiSign\"][\"sdigisignftp\"] !== null && digiSignData[\"digiSign\"][\"sdigisignftp\"] !== \"\") {\r\n          isDigiSignFileEdited = transactionStatus.YES;\r\n        }\r\n        digisignfile[\"sdigisignname\"] = null;\r\n        digisignfile[\"sdigisignftp\"] = null;\r\n        digiSignData[\"digiSign\"][\"sdigisignname\"] = \"\";\r\n      }\r\n      else {\r\n        digisignfile[\"sdigisignname\"] = Lims_JSON_stringify(this.state.selectedDigiSign.sdigisignname, false);\r\n        digisignfile[\"sdigisignftp\"] = this.state.selectedDigiSign.sdigisignftp;\r\n        digisignfile[\"ssecuritykey\"] = this.state.selectedDigiSign.ssecuritykey\r\n      }\r\n    }\r\n\r\n    formData.append(\"isDigiSignFileEdited\", isDigiSignFileEdited);\r\n    formData.append(\"DigiSignImage_filecount\", digiSignImageCount);\r\n    formData.append(\"filecount\", digiSignImageCount);\r\n    formData.append(\"controlcodelist\", JSON.stringify(this.props.Login.uploadControlList));\r\n    formData.append(\"digisignfile\", JSON.stringify(digisignfile));\r\n    formData.append(\"digiSign\", JSON.stringify(digiSignData[\"digiSign\"]));\r\n    // }\r\n    const inputParam = {\r\n      operation: this.props.Login.operation,\r\n      formData: formData,\r\n      classUrl: \"digitalsignature\",\r\n      methodUrl: \"DigitalSignature\",\r\n      inputData: {\r\n        \"userinfo\": {\r\n          ...this.props.Login.userInfo,\r\n          slanguagename: Lims_JSON_stringify(this.props.Login.userInfo.slanguagename)\r\n        }\r\n      },\r\n      isFileupload: true,\r\n      saveType, formRef\r\n    }\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: {\r\n        loadEsign: true, screenData: { inputParam }, saveType\r\n      }\r\n    }\r\n    this.props.updateStore(updateInfo);\r\n    // this.props.saveDigitalSign(inputParam);\r\n  }\r\n\r\n  validateEsign = () => {\r\n    const inputParam = {\r\n      inputData: {\r\n        \"userinfo\": {\r\n          ...this.props.Login.userInfo,\r\n          sreason: this.state.selectedDigiSign[\"esigncomments\"],\r\n          nreasoncode: this.state.selectedDigiSign[\"esignreason\"] && this.state.selectedDigiSign[\"esignreason\"].value,\r\n          spredefinedreason: this.state.selectedDigiSign[\"esignreason\"] && this.state.selectedDigiSign[\"esignreason\"].label,\r\n\r\n        },\r\n        password: this.state.selectedDigiSign[\"esignpassword\"]\r\n      },\r\n      screenData: this.props.Login.screenData\r\n    }\r\n    this.props.validateEsignforDigitalSignature(inputParam);\r\n  }\r\n\r\n  onInputChange(event) {\r\n    if (this.props.Login.screenName === \"IDS_CHANGEPASSWORD\") {\r\n      const createPwdRecord = this.state.createPwdRecord || {};\r\n      createPwdRecord[event.target.name] = event.target.value;\r\n      this.setState({ createPwdRecord });\r\n    } else {\r\n      const selectedDigiSign = this.state.selectedDigiSign || {};\r\n      if (event.target.type === 'checkbox') {\r\n        selectedDigiSign[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n      } else {\r\n        selectedDigiSign[event.target.name] = event.target.value;\r\n      }\r\n      this.setState({ selectedDigiSign });\r\n    }\r\n  }\r\n\r\n  closeModal = () => {\r\n    let selectedDigiSign = this.props.Login.selectedDigiSign;\r\n    let loadEsign = this.props.Login.loadEsign;\r\n    let openCPModal = this.props.Login.openCPModal;\r\n    if (this.props.Login.loadEsign) {\r\n      loadEsign = false;\r\n      selectedDigiSign['esignpassword'] = \"\"\r\n      selectedDigiSign['esigncomments'] = \"\"\r\n      selectedDigiSign['esignreason'] = \"\"\r\n    } else {\r\n      openCPModal = false;\r\n    }\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { openCPModal, loadEsign, selectedDigiSign }\r\n    }\r\n    this.props.updateStore(updateInfo);\r\n  }\r\n\r\n  mandatoryFieldFunction() {\r\n    let mandatoryField = [];\r\n    this.props.Login.screenName === \"IDS_CHANGEPASSWORD\" ?\r\n      mandatoryField = [\r\n        { \"idsName\": \"IDS_OLDPASSWORD\", \"dataField\": \"soldpassword\", \"mandatory\": false },\r\n        { \"idsName\": \"IDS_NEWPASSWORD\", \"dataField\": \"snewpassword\", \"mandatory\": false },\r\n        { \"idsName\": \"IDS_CONFIRMPASSWORD\", \"dataField\": \"sconfirmpassword\", \"mandatory\": true }\r\n      ]\r\n      :\r\n      mandatoryField = [];\r\n    ;\r\n    return mandatoryField;\r\n  }\r\n\r\n  submitChangeRole = (roleItem) => {\r\n    this.props.onChangeRol(roleItem);\r\n    // const parameterInfo = {\r\n    //   typeName: DEFAULT_RETURN,\r\n    //   data: { menuDesign: [], navigation: \"\" }\r\n    // }\r\n    // this.props.updateStore(parameterInfo);\r\n    // const userInfo = this.props.Login.userInfo;\r\n    // const inputParam = {\r\n    //   nusermultisitecode: userInfo.nusersitecode,\r\n    //   slanguagetypecode: userInfo.slanguagetypecode,\r\n    //   nusermultirolecode: roleItem.nusermultirolecode,\r\n    //   nuserrolecode: roleItem.nuserrolecode,\r\n    //   nmastersitecode: userInfo.nmastersitecode,\r\n    //   nlogintypecode: userInfo.nlogintypecode,\r\n    //   userinfo: userInfo\r\n    // }\r\n    // this.props.submitChangeRole(inputParam);\r\n  }\r\n\r\n  childDataChange = (selectedRecord, mandatoryFieldCheck) => {\r\n    let isInitialRender = false;\r\n    this.setState({\r\n      selectedDigiSign: {\r\n        ...selectedRecord\r\n      },\r\n      isInitialRender\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    //   if (this.props.Login.isDeputyLogin === true) {\r\n\r\n    //   if (this.props.Login.navigation === \"home\") {\r\n    //      this.props.history.push('/');\r\n    //  }\r\n    // }\r\n    if (this.props.Login.createPwdRecord !== prevProps.Login.createPwdRecord) {\r\n      this.setState({ createPwdRecord: this.props.Login.createPwdRecord })\r\n    }\r\n    if (this.props.Login.alert !== prevProps.Login.alert) {\r\n      this.setState({ alert: this.props.Login.alert })\r\n    }\r\n    if (this.props.Login.selectedDigiSign !== prevProps.Login.selectedDigiSign) {\r\n      this.setState({ selectedDigiSign: this.props.Login.selectedDigiSign })\r\n    }\r\n    if (this.props.Login.isInitialRender !== prevProps.Login.isInitialRender) {\r\n      this.setState({ isInitialRender: this.props.Login.isInitialRender })\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (this.props.Login.openCPModal && nextState.isInitialRender === false &&\r\n      (nextState.selectedDigiSign !== this.state.selectedDigiSign)) {\r\n      return false;\r\n    }\r\n    else if(this.state.userImagePath!==nextState.userImagePath){\r\n      return this.state.userImagePath!==nextState.userImagePath;\r\n    }    \r\n    \r\n    else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  onDigitalSignatureSaveClick = () => {\r\n    let mandatoryField = [];\r\n    (this.state.selectedDigiSign && this.state.selectedDigiSign[\"sdigisignname\"] && (this.state.selectedDigiSign[\"sdigisignname\"].hasOwnProperty(\"length\") ?\r\n      this.state.selectedDigiSign[\"sdigisignname\"].length > 0 : this.state.selectedDigiSign[\"sdigisignname\"] !== \"\") ?\r\n      mandatoryField = [\r\n        { \"idsName\": \"IDS_SECURITYKEY\", \"dataField\": \"ssecuritykey\", \"mandatory\": false },\r\n      ]\r\n      :\r\n      mandatoryField = []\r\n    );\r\n    onSaveMandatoryValidation(this.state.selectedDigiSign, mandatoryField, this.onSaveDigitalSign)\r\n  }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  submitUserTheme,getChangeUserRole, submitChangeRole, getPassWordPolicy,\r\n  updateStore, changepassword, changeOwner, logOutAuditAction, getSelectedAlert, getListAlert, \r\n  getDigitalSign, saveDigitalSign, crudMaster, validateEsignforDigitalSignature,getcolorMaster,getUserProfileImage,updateUserProfilePicture,closeProfilePictureDialog,getAboutInfo\r\n})(injectIntl(Header));"]},"metadata":{},"sourceType":"module"}