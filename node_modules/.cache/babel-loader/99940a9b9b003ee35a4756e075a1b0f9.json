{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{injectIntl}from'react-intl';import{Row,Col,Button,Card,Nav}from'react-bootstrap';//Nav, Card, Button\n//import { Grid, GridColumn } from '@progress/kendo-react-grid';\nimport{process}from'@progress/kendo-data-query';import{toast}from'react-toastify';import PerfectScrollbar from'react-perfect-scrollbar';import{ContentPanel,MediaLabel}from'../../components/App.styles';import{constructOptionList,getStartOfDay,getEndOfDay,sortData,validateTwoDigitDate,convertDateValuetoString,rearrangeDateFormat,getControlMap}from'../../components/CommonScript';//showEsign, getControlMap,\nimport{callService,crudMaster,validateEsignCredential,updateStore,filterTransactionList,filterColumnData,getAuditTrailDetail,getFilterAuditTrailRecords,getFormNameByModule,getExportExcel,ViewAuditDetails}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import AuditTrailFilter from'./AuditTrailFilter';import TransactionListMaster from'../../components/TransactionListMaster';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import DataGrid from'../../components/data-grid/data-grid.component';import SplitterLayout from'react-splitter-layout';import{ProductList}from'../product/product.styled';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSync}from'@fortawesome/free-solid-svg-icons';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import SpecificationInfo from'../testgroup/SpecificationInfo';import{ReactComponent as RefreshIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/refresh.svg\";var AuditTrail=/*#__PURE__*/function(_React$Component){_inherits(AuditTrail,_React$Component);var _super=_createSuper(AuditTrail);function AuditTrail(props){var _this;_classCallCheck(this,AuditTrail);_this=_super.call(this,props);_this.dataStateChange=function(event){if(_this.state.selectedRecord[\"nauditactionfiltercode\"].value===1){_this.setState({dataResult:process(_this.props.Login.masterData.AuditDetails||[],event.dataState),dataStateAll:event.dataState,kendoSkip:event.dataState.skip,kendoTake:event.dataState.skip});}else{var data=[];if(event.dataState.filter===null&&event.dataState.sort===null){var auditdata=_this.props.Login.masterData.AuditDetails&&_this.props.Login.masterData.AuditDetails.slice(0,event.dataState.take+event.dataState.skip)||[];data=process(auditdata||[],event.dataState);}else{data=process(_this.props.Login.masterData.AuditDetails||[],event.dataState);}_this.setState({dataResult:data,dataState:event.dataState});}};_this.paneSizeChange=function(d){_this.setState({splitChangeWidthPercentage:d});};_this.pageChange=function(event){_this.setState({kendoSkip:event.page.skip,kendoTake:event.page.take});};_this.exportExcelNew=function(){var fromDate=_this.props.Login.masterData.FromDate;var toDate=_this.props.Login.masterData.ToDate;var csvfields=[];var dataField={};_toConsumableArray(_this.extractedColumnList).map(function(item){dataField[item.dataField]=_this.props.intl.formatMessage({id:item.idsName});});var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo);var inputData={fromDate:obj.fromDate,toDate:obj.toDate,modulecode:_this.state.selectedRecord[\"nmodulecode\"]?_this.state.selectedRecord[\"nmodulecode\"].value:0,formcode:_this.state.selectedRecord[\"nformcode\"]?_this.state.selectedRecord[\"nformcode\"].value:0,usercode:_this.state.selectedRecord[\"nusercode\"]?_this.state.selectedRecord[\"nusercode\"].value:0,userrole:_this.state.selectedRecord[\"nuserrolecode\"]?_this.state.selectedRecord[\"nuserrolecode\"].value:0,viewtypecode:_this.state.selectedRecord[\"nauditactionfiltercode\"]?_this.state.selectedRecord[\"nauditactionfiltercode\"].value:0,userinfo:_this.props.Login.userInfo,sauditdate:_this.props.Login.masterData.SelectedAuditTrail.saudittraildate,nauditformcode:78,ncontrolcode:78,dataField:dataField};var inputParam={inputData:inputData};_this.props.getExportExcel(inputParam);// if(this.props.Login.resultStatus === \"Success\"){\n//     toast.info(\"Excel export successfully\");\n// }\n};_this.closeModal=function(){var openModal=_this.props.Login.openModal;openModal=false;//let selectedId = this.props.Login.selectedId;\nvar updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,sectionDataState:{skip:0,take:50},selectedId:null}};_this.props.updateStore(updateInfo);};_this.dataStateAuditView=function(event){var updateInfo={typeName:DEFAULT_RETURN,data:{sectionDataState:event.dataState}};_this.props.updateStore(updateInfo);};_this.ViewAuditDetails=function(viewdetails){console.log('ewe',viewdetails);var openModal=_this.props.Login.openModal;openModal=true;var screenName='IDS_AUDITVIEWDETAILS';var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,screenName:screenName}};_this.props.ViewAuditDetails(_this.props.Login.masterData,_this.props.Login.userInfo,viewdetails,screenName);};_this.expandChange=function(event){event.dataItem[event.target.props.expandField]=event.value;_this.setState({dataResult:process(_this.props.Login.masterData.AuditDetails||[],_this.state.selectedRecord[\"nauditactionfiltercode\"]&&_this.state.selectedRecord[\"nauditactionfiltercode\"].value===1?_this.state.dataStateAll:_this.state.dataState),dataState:_this.state.selectedRecord[\"nauditactionfiltercode\"]&&_this.state.selectedRecord[\"nauditactionfiltercode\"].value===1?_this.state.dataStateAll:_this.state.dataState});};_this.handlePageChange=function(e){_this.setState({skip:e.skip,take:e.take});//setTimeout(() => { this._scrollBarRef.updateScroll() })\n};_this.onReload=function(){// let dFromDate = this.props.Login.masterData.breadCrumbFrom ? (this.props.Login.masterData.breadCrumbFrom) : this.props.Login.masterData.FromDate;\n// let dToDate = this.props.Login.masterData.breadCrumbTo ? (this.props.Login.masterData.breadCrumbTo) : this.props.Login.masterData.ToDate;\n//var dTempFromDate = this.state.selectedRecord[\"fromdate\"] ? this.state.selectedRecord[\"fromdate\"] : this.props.Login.masterData.FromDate;\n//let dTempToDate = this.state.selectedRecord[\"todate\"] ? this.state.selectedRecord[\"todate\"] : this.props.Login.masterData.ToDate;\n//let temp = dFromDate.indexOf('-');\n// let fromMonth = (dTempFromDate.getMonth()+1);\n// let toMonth = (dTempToDate.getMonth()+1);\n// let fromMonth = String(new Date(dFromDate).getMonth() + 1)\n// let toMonth = String(new Date(dToDate).getMonth() + 1)\n// let fromYear = dFromDate.substring(0, 4);\n// let toYear = dToDate.substring(0, 4);\n// let ntempviewtypecode = 0;\nvar breadCrumbFrom=_this.props.Login.masterData.FromDate?_this.props.Login.masterData.FromDate:_this.props.Login.masterData.breadCrumbFrom;var breadCrumbTo=_this.props.Login.masterData.ToDate?_this.props.Login.masterData.ToDate:_this.props.Login.masterData.breadCrumbTo;var breadCrumbModule=_this.props.Login.masterData.breadCrumbModule;var breadCrumbForm=_this.props.Login.masterData.breadCrumbForm;var breadCrumbUser=_this.props.Login.masterData.breadCrumbUser;var breadCrumbRole=_this.props.Login.masterData.breadCrumbRole;var breadCrumbViewType=_this.props.Login.masterData.breadCrumbViewType?_this.props.Login.masterData.breadCrumbViewType:_this.props.Login.ViewType;var fromDate=_this.props.Login.masterData.FromDate;var toDate=_this.props.Login.masterData.ToDate;var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo);var inputData={fromDate:obj.fromDate,toDate:obj.toDate,modulecode:breadCrumbModule?breadCrumbModule.value:0,formcode:breadCrumbForm?breadCrumbForm.value:0,usercode:breadCrumbUser?breadCrumbUser.value:0,userrole:breadCrumbRole?breadCrumbRole.value:0,viewtypecode:breadCrumbViewType?breadCrumbViewType.value:_this.props.Login.masterData.ViewType.nauditactionfiltercode,// viewtypecode : this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode :0,\n// viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0,\nuserinfo:_this.props.Login.userInfo,postParamList:_this.filterParam};var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{breadCrumbFrom:breadCrumbFrom,breadCrumbTo:breadCrumbTo,breadCrumbModule:breadCrumbModule,breadCrumbForm:breadCrumbForm,breadCrumbUser:breadCrumbUser,breadCrumbRole:breadCrumbRole,//breadCrumbViewType : breadCrumbViewType ? breadCrumbViewType :\n// this.props.Login.masterData.ViewType\nbreadCrumbViewType:breadCrumbViewType?breadCrumbViewType:{label:_this.props.Login.masterData.ViewType.sauditactionfiltername,value:_this.props.Login.masterData.ViewType.nauditactionfiltercode,item:_this.props.Login.masterData.ViewType}});var inputParam={masterData:masterData,inputData:inputData,searchRef:_this.searchRef,detailSkip:_this.state.selectedRecord[\"nauditactionfiltercode\"].value===1?_this.state.dataStateAll.skip:_this.state.dataState.skip};_this.props.getFilterAuditTrailRecords(inputParam);};_this.onFilterSubmit=function(){var breadCrumbFrom=_this.state.selectedRecord[\"fromdate\"]?getStartOfDay(_this.state.selectedRecord[\"fromdate\"]):rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.FromDate);var breadCrumbTo=_this.state.selectedRecord[\"todate\"]?getEndOfDay(_this.state.selectedRecord[\"todate\"]):rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.ToDate);var breadCrumbModule=_this.state.selectedRecord['nmodulecode'];var breadCrumbForm=_this.state.selectedRecord['nformcode'];var breadCrumbUser=_this.state.selectedRecord['nusercode'];var breadCrumbRole=_this.state.selectedRecord['nuserrolecode'];var breadCrumbViewType=_this.state.selectedRecord['nauditactionfiltercode'];var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{breadCrumbFrom:breadCrumbFrom,breadCrumbTo:breadCrumbTo,breadCrumbModule:breadCrumbModule,breadCrumbForm:breadCrumbForm,breadCrumbUser:breadCrumbUser,breadCrumbRole:breadCrumbRole,breadCrumbViewType:breadCrumbViewType});var fromDate=_this.state.selectedRecord[\"fromdate\"]?_this.state.selectedRecord[\"fromdate\"]:_this.props.Login.masterData.FromDate;var toDate=_this.state.selectedRecord[\"todate\"]?_this.state.selectedRecord[\"todate\"]:_this.props.Login.masterData.ToDate;var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo);var inputData={fromDate:obj.fromDate,toDate:obj.toDate,modulecode:_this.state.selectedRecord[\"nmodulecode\"]?_this.state.selectedRecord[\"nmodulecode\"].value:0,formcode:_this.state.selectedRecord[\"nformcode\"]?_this.state.selectedRecord[\"nformcode\"].value:0,usercode:_this.state.selectedRecord[\"nusercode\"]?_this.state.selectedRecord[\"nusercode\"].value:0,userrole:_this.state.selectedRecord[\"nuserrolecode\"]?_this.state.selectedRecord[\"nuserrolecode\"].value:0,//viewtypecode: ntempviewtypecode,//this.state.selectedcombo[\"nviewtypecode\"] ? this.state.selectedcombo[\"nviewtypecode\"].value:0,\nviewtypecode:_this.state.selectedRecord[\"nauditactionfiltercode\"]?_this.state.selectedRecord[\"nauditactionfiltercode\"].value:-1,userinfo:_this.props.Login.userInfo,postParamList:_this.filterParam};var inputParam={masterData:masterData,inputData:inputData,searchRef:_this.searchRef,detailSkip:_this.state.selectedRecord[\"nauditactionfiltercode\"].value===1?_this.state.dataStateAll.skip:_this.state.dataState.skip};_this.props.getFilterAuditTrailRecords(inputParam);};_this.onComboChange=function(comboData,fieldName,caseNo){if(comboData!=null){if(fieldName===\"nmodulecode\"||fieldName===\"nformcode\"||fieldName===\"nusercode\"||fieldName===\"nuserrolecode\"||fieldName===\"nauditactionfiltercode\"){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;// let qualisForms = this.state.qualisForms;\nvar qualisForms=_this.state.wholeQualisForms;if(fieldName===\"nmodulecode\"){selectedRecord[\"nformcode\"]=\"\";qualisForms=qualisForms.filter(function(form){return form.item.nmodulecode===comboData.value;});}else if(selectedRecord.nmodulecode&&selectedRecord.nmodulecode.value){qualisForms=qualisForms.filter(function(form){return form.item.nmodulecode===selectedRecord.nmodulecode.value;});}_this.setState({selectedRecord:selectedRecord,qualisForms:qualisForms});}/*if (fieldName === \"nauditactionfiltercode\") {\r\n \r\n                this.searchRef.current.value = \"\";\r\n \r\n                const selectedcombo = this.state.selectedcombo || {};\r\n                selectedcombo[fieldName] = comboData;\r\n                const dataStateAll = {\r\n                    skip: 0,\r\n                    take: 100\r\n                };\r\n \r\n                this.setState({ selectedcombo, dataStateAll });\r\n \r\n                let masterData = {\r\n                    ...this.props.Login.masterData, searchedAudit: undefined\r\n                }\r\n                let inputData = {\r\n                    fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\r\n                    toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\r\n                    modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n                    formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n                    usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n                    userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n                    viewtypecode: this.state.selectedcombo[\"nauditactionfiltercode\"] ? this.state.selectedcombo[\"nauditactionfiltercode\"].value : 0,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    postParamList: this.filterParam,\r\n                }\r\n \r\n                let inputParam = { masterData, inputData }\r\n                this.props.getFilterAuditTrailRecords(inputParam)\r\n            }*/}else{var _selectedRecord=_this.state.selectedRecord||{};_selectedRecord[fieldName]=comboData;if(fieldName==='nmodulecode'){_selectedRecord[\"nformcode\"]=\"\";var _qualisForms=_this.state.wholeQualisForms;_this.setState({selectedRecord:_selectedRecord,qualisForms:_qualisForms});}else _this.setState({selectedRecord:_selectedRecord});}};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;//this.setState({selectedRecord});\nvar viewTypeAuditList=_this.state.viewTypeAudit;var dFromDate=_this.state.selectedRecord[\"fromdate\"]?rearrangeDateFormat(_this.props.Login.userInfo,_this.state.selectedRecord[\"fromdate\"]):rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.FromDate);var dToDate=_this.state.selectedRecord[\"todate\"]?rearrangeDateFormat(_this.props.Login.userInfo,_this.state.selectedRecord[\"todate\"]):rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.ToDate);// let ntempviewtypecode = 0;\nvar fromMonth=String(dFromDate.getMonth()+1);var toMonth=String(dToDate.getMonth()+1);var fromYear=String(dFromDate.getFullYear());var toYear=String(dToDate.getFullYear());if(fromYear!==toYear){selectedRecord[\"nauditactionfiltercode\"]=viewTypeAuditList.length>0?{\"value\":viewTypeAuditList[2].item.nauditactionfiltercode,\"label\":viewTypeAuditList[2].item.sauditactionfiltername}:_this.state.selectedRecord[\"nauditactionfiltercode\"];// ntempviewtypecode = viewTypeAuditList[2].item.nauditactionfiltercode;\n}else if(fromMonth!==toMonth){selectedRecord[\"nauditactionfiltercode\"]=viewTypeAuditList.length>0?{\"value\":viewTypeAuditList[1].item.nauditactionfiltercode,\"label\":viewTypeAuditList[1].item.sauditactionfiltername}:_this.state.selectedRecord[\"nauditactionfiltercode\"];// ntempviewtypecode = viewTypeAuditList[1].item.nauditactionfiltercode;\n}else{selectedRecord[\"nauditactionfiltercode\"]=viewTypeAuditList.length>0?{\"value\":viewTypeAuditList[0].item.nauditactionfiltercode,\"label\":viewTypeAuditList[0].item.sauditactionfiltername}:_this.state.selectedRecord[\"nauditactionfiltercode\"];// ntempviewtypecode = viewTypeAuditList[0].item.nauditactionfiltercode;\n}_this.setState({selectedRecord:selectedRecord});};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.breadcrumbList=function(){var breadCrumbArray=[];// let fromDate = this.props.Login.masterData.breadCrumbFrom ? this.props.Login.masterData.breadCrumbFrom : this.props.Login.masterData.FromDate;\n//    let toDate = this.props.Login.masterData.breadCrumbTo ? this.props.Login.masterData.breadCrumbTo : this.props.Login.masterData.ToDate;\nvar fromDate=_this.props.Login.masterData.FromDate?_this.props.Login.masterData.FromDate:_this.props.Login.masterData.breadCrumbFrom;var toDate=_this.props.Login.masterData.ToDate?_this.props.Login.masterData.ToDate:_this.props.Login.masterData.breadCrumbTo;var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo);breadCrumbArray.push({\"label\":\"IDS_FROM\",\"value\":obj.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":obj.breadCrumbto});_this.props.Login.masterData.breadCrumbModule&&breadCrumbArray.push({\"label\":\"IDS_MODULENAME\",\"value\":_this.props.Login.masterData.breadCrumbModule.label});_this.props.Login.masterData.breadCrumbForm&&breadCrumbArray.push({\"label\":\"IDS_FORMNAME\",\"value\":_this.props.Login.masterData.breadCrumbForm.label});_this.props.Login.masterData.breadCrumbUser&&breadCrumbArray.push({\"label\":\"IDS_USERNAME\",\"value\":_this.props.Login.masterData.breadCrumbUser.label});_this.props.Login.masterData.breadCrumbRole&&breadCrumbArray.push({\"label\":\"IDS_USERROLE\",\"value\":_this.props.Login.masterData.breadCrumbRole.label});breadCrumbArray.push({\"label\":\"IDS_VIEWPERIOD\",\"value\":_this.props.Login.masterData.breadCrumbViewType?_this.props.Login.masterData.breadCrumbViewType.label:_this.props.Login.masterData.ViewType?_this.props.Login.masterData.ViewType.sauditactionfiltername:\"\"});// this.state.selectedRecord[\"nformcode\"] &&\n//  {\n//     \"label\": \"IDS_FORMNAME\",\n//     \"value\": this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].label : \"\"\n// },\n// this.state.selectedRecord[\"nusercode\"] &&\n// {\n//     \"label\": \"IDS_USERNAME\",\n//     \"value\": this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].label : \"\"\n// },\n// this.state.selectedRecord[\"nuserrolecode\"] &&\n// {\n//     \"label\": \"IDS_USERROLE\",\n//     \"value\": this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].label : \"\"\n// }\nreturn breadCrumbArray;};_this.myRef=React.createRef();// this.searchAuditRef = React.createRef();\nvar dataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[16]):5,group:[{field:\"viewPeriod\",dir:\"desc\"}]//field: \"groupDate\" , dir: \"desc\" \n};var dataStateAll={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[16]):5};_this.searchFieldList=[\"sauditdate\"];_this.state={masterStatus:\"\",sectionDataState:{skip:0,take:10},error:\"\",isOpen:false,selectedRecord:{},//selectedcombo: {},\noperation:\"\",gridHeight:'auto',screenName:undefined,userRoleControlRights:[],ControlRights:undefined,ConfirmDialogScreen:false,controlMap:new Map(),dataResult:[],dataState:dataState,dataStateAll:dataStateAll,qualisModule:[],qualisForms:[],users:[],userRole:[],viewTypeAudit:[],wholeQualisForms:[],skip:0,take:_this.props.Login.settings&&_this.props.Login.settings[3],kendoSkip:0,kendoTake:_this.props.Login.settings?parseInt(_this.props.Login.settings[16]):5,splitChangeWidthPercentage:30};_this.searchRef=React.createRef();_this.searchAuditRef=React.createRef();return _this;}_createClass(AuditTrail,[{key:\"render\",value:function render(){var _this2=this;//const ViewAuditDetails = props.controlMap.has(\"ViewAuditDetails\") && props.controlMap.get(\"ViewAuditDetails\").ncontrolcode;\nvar ViewAuditDetails=this.state.controlMap.has(\"ViewAuditDetails\")&&this.state.controlMap.get(\"ViewAuditDetails\").ncontrolcode;this.props.Login.masterData.AuditDetails=this.props.Login.masterData.AuditDetails&&sortData(this.props.Login.masterData.AuditDetails,\"descending\",\"nauditcode\");this.feildsForGrid=this.props.Login.needOldValueColumn?[{\"idsName\":\"IDS_FIELDNAME\",\"dataField\":\"sfieldname\",\"width\":\"200px\"},{\"idsName\":\"IDS_OLDVALUE\",\"dataField\":\"soldvalue\",\"width\":\"100px\"},{\"idsName\":\"IDS_NEWVALUE\",\"dataField\":\"snewvalue\",\"width\":\"100px\"}]:[{\"idsName\":\"IDS_FIELDNAME\",\"dataField\":\"sfieldname\",\"width\":\"200px\"},{\"idsName\":\"IDS_NEWVALUE\",\"dataField\":\"snewvalue\",\"width\":\"100px\"}];this.extractedColumnList=[{\"idsName\":\"IDS_AUDITDATE\",\"dataField\":\"sauditdate\",\"width\":\"200px\",\"componentName\":\"date\"},{\"idsName\":\"IDS_AUDITACTION\",\"dataField\":\"sauditaction\",\"width\":\"200px\"},//  { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\n{\"idsName\":\"IDS_NEWCOMMENTS\",\"dataField\":\"scomments\",\"width\":\"350px\"},{\"idsName\":\"IDS_USERNAME\",\"dataField\":\"susername\",\"width\":\"200px\"},{\"idsName\":\"IDS_USERROLE\",\"dataField\":\"suserrolename\",\"width\":\"200px\"},{\"idsName\":\"IDS_ACTIONTYPE\",\"dataField\":\"sactiontype\",\"width\":\"200px\"},{\"idsName\":\"IDS_MODULENAME\",\"dataField\":\"smodulename\",\"width\":\"200px\"},{\"idsName\":\"IDS_FORMNAME\",\"dataField\":\"sformname\",\"width\":\"200px\"},{\"idsName\":\"IDS_REASON\",\"dataField\":\"spredefinedreason\",\"width\":\"200px\"},{\"idsName\":\"IDS_ESIGNCOMMENTS\",\"dataField\":\"sreason\",\"width\":\"200px\"}];var fromDate=\"\";var toDate=\"\";if(this.props.Login.masterData&&this.props.Login.masterData.FromDate){fromDate=this.state.selectedRecord[\"fromdate\"]&&getStartOfDay(this.state.selectedRecord[\"fromdate\"])||rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.FromDate);toDate=this.state.selectedRecord[\"todate\"]&&getEndOfDay(this.state.selectedRecord[\"todate\"])||rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.ToDate);}var obj=convertDateValuetoString(this.props.Login.masterData.FromDate,this.props.Login.masterData.ToDate,this.props.Login.userInfo);var auditParam={masterData:this.props.Login.masterData,userinfo:this.props.Login.userInfo,// fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\n// toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\n// moduleCode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\n// formCode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\n// userCode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\n// userRole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\n// viewTypeCode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0\nskip:this.state.skip,take:this.state.take,fromDate:obj.fromDate,toDate:obj.toDate,moduleCode:this.props.Login.masterData.breadCrumbModule?this.props.Login.masterData.breadCrumbModule.value:0,formCode:this.props.Login.masterData.breadCrumbForm?this.props.Login.masterData.breadCrumbForm.value:0,userCode:this.props.Login.masterData.breadCrumbUser?this.props.Login.masterData.breadCrumbUser.value:0,userRole:this.props.Login.masterData.breadCrumbRole?this.props.Login.masterData.breadCrumbRole.value:0,viewTypeCode:this.props.Login.masterData.breadCrumbViewType?this.props.Login.masterData.breadCrumbViewType.value:this.props.Login.masterData.ViewType?this.props.Login.masterData.ViewType.nauditactionfiltercode:0//viewTypeCode :this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode:0\n};this.filterParam={inputListName:\"AuditTrail\",selectedObject:\"SelectedAuditTrail\",primaryKeyField:\"saudittraildate\",fetchUrl:\"audittrail/getAuditTrailDetail\",masterData:this.props.Login.masterData,fecthInputObject:{// fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\n// toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\n// modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\n// formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\n// usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\n// userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\n// viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0,\nuserinfo:this.props.Login.userInfo,fromDate:obj.fromDate,toDate:obj.toDate,modulecode:this.props.Login.masterData.breadCrumbModule?this.props.Login.masterData.breadCrumbModule.value:0,formcode:this.props.Login.masterData.breadCrumbForm?this.props.Login.masterData.breadCrumbForm.value:0,usercode:this.props.Login.masterData.breadCrumbUser?this.props.Login.masterData.breadCrumbUser.value:0,userrole:this.props.Login.masterData.breadCrumbRole?this.props.Login.masterData.breadCrumbRole.value:0,viewtypecode:this.props.Login.masterData.breadCrumbViewType?this.props.Login.masterData.breadCrumbViewType.value:this.props.Login.masterData.ViewType?this.props.Login.masterData.ViewType.nauditactionfiltercode:0},filteredListName:\"searchedAudit\",clearFilter:\"no\",updatedListname:\"SelectedAuditTrail\",searchRef:this.searchAuditRef,searchFieldList:this.searchFieldList,unchangeList:[\"QualisModule\",\"QualisForms\",\"Users\",\"UserRole\",\"ViewTypeAudit\"],changeList:[\"AuditDetails\"]};this.breadCrumbData=this.breadcrumbList();//console.log('-->123 :', this.props.Login.masterData.AuditTrail)\n// this.state.selectedRecord && this.state.selectedRecord[\"nmodulecode\"] &&\n// {\n//     \"label\": \"IDS_MODULENAME\",\n//     \"value\": this.state.selectedRecord[\"nmodulecode\"].label \n// }\n// this.state.selectedRecord[\"nformcode\"] &&\n//  {\n//     \"label\": \"IDS_FORMNAME\",\n//     \"value\": this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].label : \"\"\n// }, \n// this.state.selectedRecord[\"nusercode\"] &&\n// {\n//     \"label\": \"IDS_USERNAME\",\n//     \"value\": this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].label : \"\"\n// }, \n// this.state.selectedRecord[\"nuserrolecode\"] &&\n// {\n//     \"label\": \"IDS_USERROLE\",\n//     \"value\": this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].label : \"\"\n// }\n// ]\n// let auditInputData = {\n//     fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\n//     toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\n//     modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\n//     formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\n//     usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\n//     userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\n//     viewtypecode: this.state.selectedcombo[\"nauditactionfiltercode\"] ? this.state.selectedcombo[\"nauditactionfiltercode\"].value : 0,\n//     userinfo: this.props.Login.userInfo\n// }\nthis.postParamList=[{filteredListName:\"searchedAudit\",clearFilter:\"no\",searchRef:this.searchRef,primaryKeyField:\"saudittraildate\",fetchUrl:\"audittrail/getFilterAuditTrailRecords\",fecthInputObject:this.filterParam,//childRefs: [{ ref: this.searchSubSampleRef, childFilteredListName: \"searchedSubSample\" }],\nselectedObject:\"SelectedAuditTrail\",inputListName:\"AuditTrail\",updatedListname:\"SelectedAuditTrail\",unchangeList:[\"QualisModule\",\"QualisForms\",\"Users\",\"UserRole\",\"ViewTypeAudit\"]}];var auditInfoFields=[{\"fieldName\":\"sauditaction\",\"label\":\"IDS_AUDITACTION\"},{\"fieldName\":\"sformname\",\"label\":\"IDS_SCREEN\"},{\"fieldName\":\"smodulename\",\"label\":\"IDS_MODULENAME\"},{\"fieldName\":\"sauditdate\",\"label\":\"IDS_AUDITDATE\"},{\"fieldName\":\"suserrolename\",\"label\":\"IDS_USERROLENAME\"},{\"fieldName\":\"susername\",\"label\":\"IDS_USERNAME\"},{\"fieldName\":\"slanguagename\",\"label\":\"IDS_LANGUAGE\"}];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"mtop-fixed-breadcrumb client-listing-wrap\"},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:this.breadCrumbData}),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12,className:\"parent-port-height sticky_head_parent\"},/*#__PURE__*/React.createElement(SplitterLayout,{borderColor:\"#999\",primaryIndex:1,percentage:true,secondaryInitialSize:this.state.splitChangeWidthPercentage,onSecondaryPaneSizeChange:this.paneSizeChange,primaryMinSize:40,secondaryMinSize:20},/*#__PURE__*/React.createElement(TransactionListMaster,{splitChangeWidthPercentage:this.state.splitChangeWidthPercentage//paneHeight={this.state.parentHeight}\n// masterList={this.props.Login.masterData.searchedAudit || \n//     this.props.Login.masterData.AuditTrail ? sortData(this.props.Login.masterData.AuditTrail,'descending','saudittraildate') : []}\n// masterList={this.props.Login.masterData.searchedAudit ? this.props.Login.masterData.searchedAudit :\n//   this.props.Login.masterData.AuditTrail ? sortData(this.props.Login.masterData.AuditTrail, 'descending', 'saudittraildate') : []}\n,masterList:this.props.Login.masterData.searchedAudit||this.props.Login.masterData.AuditTrail||[],selectedMaster:[this.props.Login.masterData.SelectedAuditTrail],primaryKeyField:\"saudittraildate\",getMasterDetail:this.props.getAuditTrailDetail,inputParam:auditParam//additionalParam={['napprovalversioncode']}\n,mainField:\"sauditdate\",selectedListName:\"SelectedAuditTrail\",filterColumnData:this.props.filterTransactionList,searchListName:\"searchedAudit\",searchRef:this.searchRef,filterParam:this.filterParam,objectName:\"auditrail\",listName:\"IDS_AUDITTRAIL\",showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit// needAccordianFilter={true}\n,handlePageChange:this.handlePageChange,skip:this.state.skip,take:this.state.take,needFilter:true,needAccordianFilter:false,filterComponent:[{\"IDS_AUDITTRAIL\":/*#__PURE__*/React.createElement(AuditTrailFilter,{selectedRecord:this.state.selectedRecord||{},filterModuleName:this.state.qualisModule,filterFormName:this.state.qualisForms,filterViewType:this.state.viewTypeAudit,filterUsers:this.state.users,filterUserRole:this.state.userRole,handleDateChange:this.handleDateChange,fromDate:fromDate,toDate:toDate,userInfo:this.props.Login.userInfo,onComboChange:this.onComboChange})}]// accordianfilterComponent={[\n//     {\n//         \"IDS_AUDITTRAIL\":\n//             <ViewTypeFilter\n//                 selectedRecord={this.state.selectedcombo || {}}\n//                 filterViewType={this.state.viewTypeAudit}\n//                 userInfo={this.props.Login.userInfo}\n//                 onComboChange={this.onComboChange}\n//             />\n//     }\n// ]}\n,commonActions:/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex product-category float-right\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey ml-2 p-0\",variant:\"link\",onClick:function onClick(){return _this2.onReload();},\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"})},/*#__PURE__*/React.createElement(RefreshIcon,{className:\"custom_icons\"})))}),/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(\"div\",{ref:this.myRef},this.props.Login.masterData.SelectedAuditTrail&&this.props.Login.masterData.SelectedAuditTrail!==undefined?/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap padding-class\"},/*#__PURE__*/React.createElement(DataGrid// gridWidth={\"57.5rem\"}\n,{selectedId:this.props.Login.selectedId,gridHeight:this.state.gridHeight+'px',expandField:\"expanded\",userRoleControlRights:this.state.userRoleControlRights&&this.state.userRoleControlRights,pageable:true,pageSizes:this.props.Login.settings&&this.props.Login.settings[17].split(\",\").map(function(setting){return parseInt(setting);}),scrollable:\"scrollable\",primaryKeyField:\"nauditcode\",data:this.props.Login.masterData.AuditDetails||[],dataResult:this.state.dataResult//total={this.props.Login.masterData.AuditDetails && this.props.Login.masterData.AuditDetails.length || 0}\n//  dataResult={process(this.props.Login.masterData.AuditDetails || [],\n//  this.state.selectedRecord[\"nauditactionfiltercode\"]\n//     && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1\n//   ? this.state.dataStateAll : this.state.dataState)}\n,dataState:this.state.selectedRecord[\"nauditactionfiltercode\"]&&this.state.selectedRecord[\"nauditactionfiltercode\"].value===1?this.state.dataStateAll:this.state.dataState,dataStateChange:this.dataStateChange,extractedColumnList:this.extractedColumnList||[],controlMap:this.state.controlMap,methodUrl:\"AuditTrail\",groupable:this.state.selectedRecord[\"nauditactionfiltercode\"]?this.state.selectedRecord[\"nauditactionfiltercode\"].value===1?true:false:false//isActionRequired={false}\n,isToolBarRequired:true,isAddRequired:false,isRefreshRequired:false,isDownloadPDFRequired:false,isDownloadExcelRequired:true,isExportExcelRequired:true,isIdsField:\"yes\",isActionRequired:true,actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_VIEWCHANGES\"}),controlname:\"faEye\",objectName:\"AuditDetails\",hidden:this.state.userRoleControlRights.indexOf(ViewAuditDetails)===-1,onClick:function onClick(viewdetails){return _this2.ViewAuditDetails(viewdetails);}}],exportExcelNew:this.exportExcelNew,onExpandChange:this.expandChange,hideDetailBand:true})))):\"\")))))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,inputParam:this.props.Login.inputParam,screenName:'IDS_MODIFIEDCOMMENTS',hideSave:true,addComponent:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card,{className:\"one\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(SpecificationInfo,{controlMap:this.state.controlMap,auditInfoFields:auditInfoFields,userRoleControlRights:this.state.userRoleControlRights,selectedSpecification:this.props.Login.viewdetails,userInfo:this.props.Login.userInfo,selectedNode:this.props.Login.masterData.selectedNode,selectedRecord:this.state.filterData,approvalRoleActionDetail:this.props.Login.masterData.ApprovalRoleActionDetail,screenName:\"IDS_SPECIFICATIONINFO\",deleteRecord:this.deleteRecord,addSpecification:this.props.addSpecification,filterData:this.state.filterData//completeSpecification={this.completeSpecification}\n,completeSpecification:this.validateTestGroupComplete,approveSpecification:this.approveSpecification,specificationReport:this.specificationReport,retireSpec:this.retireSpec}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"nauditcommentscode\",detailedFieldList:this.feildsForGrid,extractedColumnList:this.feildsForGrid,dataResult:this.props.Login.masterData[\"AuditModifiedComments\"]&&this.props.Login.masterData[\"AuditModifiedComments\"].length>0&&process(this.props.Login.masterData[\"AuditModifiedComments\"],this.props.screenName===undefined||this.props.screenName===\"IDS_AUDITVIEWDETAILS\"?this.props.Login.sectionDataState?this.props.Login.sectionDataState:{skip:0,take:50}:{skip:0,take:50}),dataState:this.props.Login.screenName===undefined||this.props.Login.screenName===\"IDS_AUDITVIEWDETAILS\"?this.props.Login.sectionDataState?this.props.Login.sectionDataState:{skip:0,take:50}:{skip:0,take:50},dataStateChange:function dataStateChange(event){return _this2.dataStateAuditView(event);},controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,pageable:true,pageSizes:this.props.Login.settings&&this.props.Login.settings[17].split(\",\").map(function(setting){return parseInt(setting);}),scrollable:'scrollable',gridHeight:'600px',hideColumnFilter:true,selectedId:0}))}));}},{key:\"componentDidUpdate\",value:// covertDatetoString(startDateValue, endDateValue) {\n//     const startDate = new Date(startDateValue);\n//     const endDate = new Date(endDateValue);\n//     const prevMonth = validateTwoDigitDate(String(startDate.getMonth() + 1));\n//     const currentMonth = validateTwoDigitDate(String(endDate.getMonth() + 1));\n//     const prevDay = validateTwoDigitDate(String(startDate.getDate()));\n//     const currentDay = validateTwoDigitDate(String(endDate.getDate()));\n//     const fromDateOnly = startDate.getFullYear() + '-' + prevMonth + '-' + prevDay\n//     const toDateOnly = endDate.getFullYear() + '-' + currentMonth + '-' + currentDay\n//     const fromDate = fromDateOnly + \"T00:00:00\";\n//     const toDate = toDateOnly + \"T23:59:59\";\n//     return ({ fromDate, toDate, breadCrumbFrom: fromDateOnly, breadCrumbto: toDateOnly })\n// }\nfunction componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,selectedRecord=_this$state.selectedRecord,qualisModule=_this$state.qualisModule,qualisForms=_this$state.qualisForms,wholeQualisForms=_this$state.wholeQualisForms,users=_this$state.users,userRole=_this$state.userRole,viewTypeAudit=_this$state.viewTypeAudit,dataStateAll=_this$state.dataStateAll,dataState=_this$state.dataState,dataResult=_this$state.dataResult,skip=_this$state.skip,take=_this$state.take;if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){updateState=true;selectedRecord=this.props.Login.selectedRecord;}if(this.props.Login.masterData.QualisModule!==previousProps.Login.masterData.QualisModule||this.props.Login.masterData.QualisForms!==previousProps.Login.masterData.QualisForms||this.props.Login.masterData.Users!==previousProps.Login.masterData.Users||this.props.Login.masterData.UserRole!==previousProps.Login.masterData.UserRole){updateState=true;var qualisModuleMap=constructOptionList(this.props.Login.masterData.QualisModule||[],\"nmodulecode\",\"smodulename\",\"nsorter\",\"ascending\",false);//const allQualisModuleList = qualisModule.get(\"OptionList\");\nvar qualisModuleList=qualisModuleMap.get(\"OptionList\");var qualisFormsMap=constructOptionList(this.props.Login.masterData.QualisForms||[],\"nformcode\",\"sformname\",\"nsorter\",\"ascending\",false);// const allQualisFormsList = qualisForms.get(\"OptionList\");\nvar qualisFormsList=[];if(selectedRecord&&selectedRecord.nmodulecode&&selectedRecord.nmodulecode.value){qualisFormsList=qualisFormsMap.get(\"OptionList\").filter(function(form){return form.item.nmodulecode===selectedRecord.nmodulecode.value;});}else{qualisFormsList=qualisFormsMap.get(\"OptionList\");}var usersMap=constructOptionList(this.props.Login.masterData.Users||[],\"nusercode\",\"susername\",undefined,undefined,undefined);//const allUsersList = users.get(\"OptionList\");\nvar usersList=usersMap.get(\"OptionList\");var userRoleMap=constructOptionList(this.props.Login.masterData.UserRole||[],\"nuserrolecode\",\"suserrolename\",undefined,undefined,undefined);//const allUserRoleList = userRole.get(\"OptionList\");\nvar userRoleList=userRoleMap.get(\"OptionList\");var viewTypeAuditMap=constructOptionList(this.props.Login.masterData.ViewTypeAudit||[],\"nauditactionfiltercode\",\"sauditactionfiltername\",\"nsorter\",\"ascending\",false);var viewTypeAuditList=viewTypeAuditMap.get(\"OptionList\");qualisModule=qualisModuleList;qualisForms=qualisFormsList;wholeQualisForms=qualisFormsList;users=usersList;userRole=userRoleList;viewTypeAudit=viewTypeAuditList;selectedRecord={nauditactionfiltercode:viewTypeAuditList.length>0?{\"value\":viewTypeAuditList[0].item.nauditactionfiltercode,\"label\":viewTypeAuditList[0].item.sauditactionfiltername}:this.state.selectedRecord[\"nauditactionfiltercode\"]};}if(this.props.Login.resetDataGridPage&&this.props.Login.resetDataGridPage!==previousProps.Login.resetDataGridPage){if(this.state.selectedRecord[\"nauditactionfiltercode\"].value===1){dataStateAll.skip=0;updateState=true;}else{dataState.skip=0;updateState=true;}}if(this.props.Login.masterData!==previousProps.Login.masterData){updateState=true;if(selectedRecord&&selectedRecord.nmodulecode&&selectedRecord.nmodulecode.value){qualisForms=qualisForms.filter(function(form){return form.item.nmodulecode===selectedRecord.nmodulecode.value;});}else{qualisForms=wholeQualisForms;}if(this.state.selectedRecord[\"nauditactionfiltercode\"]&&this.state.selectedRecord[\"nauditactionfiltercode\"].value===1){dataStateAll={skip:0,take:dataStateAll.take,group:dataStateAll.group};updateState=true;}else{dataState={skip:0,take:dataState.take,group:dataState.group};updateState=true;}//const auditdate = (this.props.Login.masterData.AuditDetails && this.props.Login.masterData.AuditDetails.slice(dataState.skip, dataState.take + dataState.skip)) || []\nvar auditdate=this.props.Login.masterData.AuditDetails&&this.props.Login.masterData.AuditDetails.slice(dataState.skip,this.props.Login.masterData.AuditDetails.length)||[];dataResult=process(auditdate||[],dataState);skip=this.props.Login.skip===undefined?skip:this.props.Login.skip;take=this.props.Login.take||take;}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){updateState=true;var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,data:this.props.Login.masterData.ControlRights});}if(updateState){this.setState({selectedRecord:selectedRecord,qualisModule:qualisModule,qualisForms:qualisForms,wholeQualisForms:wholeQualisForms,users:users,userRole:userRole,viewTypeAudit:viewTypeAudit,dataStateAll:dataStateAll,dataState:dataState,dataResult:dataResult,skip:skip,take:take});}}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.myRef.current.offsetParent.clientHeight!==this.state.gridHeight){this.setState({gridHeight:this.myRef.current.offsetParent.clientHeight});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return AuditTrail;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,validateEsignCredential:validateEsignCredential,filterTransactionList:filterTransactionList,updateStore:updateStore,filterColumnData:filterColumnData,getAuditTrailDetail:getAuditTrailDetail,getFilterAuditTrailRecords:getFilterAuditTrailRecords,getFormNameByModule:getFormNameByModule,getExportExcel:getExportExcel,ViewAuditDetails:ViewAuditDetails})(injectIntl(AuditTrail));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/audittrail/AuditTrail.jsx"],"names":["React","connect","injectIntl","Row","Col","Button","Card","Nav","process","toast","PerfectScrollbar","ContentPanel","MediaLabel","constructOptionList","getStartOfDay","getEndOfDay","sortData","validateTwoDigitDate","convertDateValuetoString","rearrangeDateFormat","getControlMap","callService","crudMaster","validateEsignCredential","updateStore","filterTransactionList","filterColumnData","getAuditTrailDetail","getFilterAuditTrailRecords","getFormNameByModule","getExportExcel","ViewAuditDetails","DEFAULT_RETURN","AuditTrailFilter","TransactionListMaster","BreadcrumbComponent","DataGrid","SplitterLayout","ProductList","FontAwesomeIcon","faSync","SlideOutModal","SpecificationInfo","AuditTrail","props","dataStateChange","event","state","selectedRecord","value","setState","dataResult","Login","masterData","AuditDetails","dataState","dataStateAll","kendoSkip","skip","kendoTake","data","filter","sort","auditdata","slice","take","paneSizeChange","d","splitChangeWidthPercentage","pageChange","page","exportExcelNew","fromDate","FromDate","toDate","ToDate","csvfields","dataField","extractedColumnList","map","item","intl","formatMessage","id","idsName","obj","userInfo","inputData","modulecode","formcode","usercode","userrole","viewtypecode","userinfo","sauditdate","SelectedAuditTrail","saudittraildate","nauditformcode","ncontrolcode","inputParam","closeModal","openModal","updateInfo","typeName","sectionDataState","selectedId","dataStateAuditView","viewdetails","console","log","screenName","expandChange","dataItem","target","expandField","handlePageChange","e","onReload","breadCrumbFrom","breadCrumbTo","breadCrumbModule","breadCrumbForm","breadCrumbUser","breadCrumbRole","breadCrumbViewType","ViewType","nauditactionfiltercode","postParamList","filterParam","label","sauditactionfiltername","searchRef","detailSkip","onFilterSubmit","onComboChange","comboData","fieldName","caseNo","qualisForms","wholeQualisForms","form","nmodulecode","handleDateChange","dateName","dateValue","viewTypeAuditList","viewTypeAudit","dFromDate","dToDate","fromMonth","String","getMonth","toMonth","fromYear","getFullYear","toYear","length","openFilter","showFilter","closeFilter","breadcrumbList","breadCrumbArray","push","breadCrumbto","myRef","createRef","settings","parseInt","group","field","dir","searchFieldList","masterStatus","error","isOpen","operation","gridHeight","undefined","userRoleControlRights","ControlRights","ConfirmDialogScreen","controlMap","Map","qualisModule","users","userRole","searchAuditRef","has","get","feildsForGrid","needOldValueColumn","auditParam","moduleCode","formCode","userCode","viewTypeCode","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","filteredListName","clearFilter","updatedListname","unchangeList","changeList","breadCrumbData","auditInfoFields","searchedAudit","split","setting","title","controlname","objectName","hidden","indexOf","onClick","selectedNode","filterData","ApprovalRoleActionDetail","deleteRecord","addSpecification","validateTestGroupComplete","approveSpecification","specificationReport","retireSpec","previousProps","updateState","QualisModule","QualisForms","Users","UserRole","qualisModuleMap","qualisModuleList","qualisFormsMap","qualisFormsList","usersMap","usersList","userRoleMap","userRoleList","viewTypeAuditMap","ViewTypeAudit","resetDataGridPage","auditdate","nformcode","Object","values","current","offsetParent","clientHeight","warn","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport { Row, Col, Button, Card, Nav } from 'react-bootstrap';//Nav, Card, Button\r\n//import { Grid, GridColumn } from '@progress/kendo-react-grid';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { toast } from 'react-toastify';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { ContentPanel, MediaLabel } from '../../components/App.styles';\r\nimport { constructOptionList, getStartOfDay, getEndOfDay, sortData, validateTwoDigitDate, convertDateValuetoString, rearrangeDateFormat, getControlMap } from '../../components/CommonScript';//showEsign, getControlMap,\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, filterTransactionList,\r\n    filterColumnData,\r\n    getAuditTrailDetail, getFilterAuditTrailRecords, getFormNameByModule, getExportExcel, ViewAuditDetails\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport AuditTrailFilter from './AuditTrailFilter';\r\nimport TransactionListMaster from '../../components/TransactionListMaster';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport { ProductList } from '../product/product.styled';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSync } from '@fortawesome/free-solid-svg-icons';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport SpecificationInfo from '../testgroup/SpecificationInfo';\r\nimport { ReactComponent as RefreshIcon } from '../../assets/image/refresh.svg';\r\n\r\n\r\nclass AuditTrail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        // this.searchAuditRef = React.createRef();\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[16]) : 5,\r\n            group: [{ field: \"viewPeriod\", dir: \"desc\" }] //field: \"groupDate\" , dir: \"desc\" \r\n        };\r\n\r\n        const dataStateAll = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[16]) : 5\r\n        };\r\n\r\n        this.searchFieldList = [\"sauditdate\"]\r\n\r\n        this.state = {\r\n            masterStatus: \"\",\r\n            sectionDataState: { skip: 0, take: 10 },\r\n\r\n            error: \"\",\r\n            isOpen: false,\r\n            selectedRecord: {},\r\n            //selectedcombo: {},\r\n            operation: \"\",\r\n            gridHeight: 'auto',\r\n            screenName: undefined,\r\n\r\n            userRoleControlRights: [],\r\n            ControlRights: undefined,\r\n            ConfirmDialogScreen: false,\r\n            controlMap: new Map(),\r\n\r\n            dataResult: [],\r\n            dataState: dataState,\r\n            dataStateAll: dataStateAll,\r\n            qualisModule: [],\r\n            qualisForms: [],\r\n            users: [],\r\n            userRole: [],\r\n            viewTypeAudit: [],\r\n            wholeQualisForms: [],\r\n            skip: 0,\r\n            take: this.props.Login.settings && this.props.Login.settings[3],\r\n            kendoSkip: 0,\r\n            kendoTake: this.props.Login.settings ? parseInt(this.props.Login.settings[16]) : 5,\r\n            splitChangeWidthPercentage: 30,\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.searchAuditRef = React.createRef();\r\n\r\n    }\r\n    dataStateChange = (event) => {\r\n        if (this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1) {\r\n            this.setState({\r\n                dataResult: process(this.props.Login.masterData.AuditDetails || [], event.dataState),\r\n                dataStateAll: event.dataState, kendoSkip: event.dataState.skip, kendoTake: event.dataState.skip\r\n            });\r\n        }\r\n        else {\r\n            let data = [];\r\n            if (event.dataState.filter === null && event.dataState.sort === null) {\r\n                let auditdata = (this.props.Login.masterData.AuditDetails &&\r\n                    this.props.Login.masterData.AuditDetails.slice(0,\r\n                        event.dataState.take + event.dataState.skip)) || []\r\n                data = process(auditdata || [], event.dataState)\r\n            } else {\r\n\r\n                data = process(this.props.Login.masterData.AuditDetails || [], event.dataState)\r\n\r\n            }\r\n            this.setState({\r\n                dataResult: data,\r\n                dataState: event.dataState,\r\n            });\r\n        }\r\n    }\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n\r\n    pageChange = (event) => {\r\n        this.setState({\r\n            kendoSkip: event.page.skip,\r\n            kendoTake: event.page.take\r\n        })\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    exportExcelNew = () => {\r\n        let fromDate = this.props.Login.masterData.FromDate;\r\n        let toDate = this.props.Login.masterData.ToDate;\r\n        const csvfields=[];\r\n        let dataField={};\r\n        [...this.extractedColumnList].map((item)=>{\r\n            \r\n             dataField[item.dataField]=this.props.intl.formatMessage({ id: item.idsName })\r\n            \r\n            \r\n         })\r\n\r\n        let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);\r\n        let inputData = {\r\n            fromDate: obj.fromDate,\r\n            toDate: obj.toDate,\r\n            modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n            formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n            usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n            userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n            viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0,\r\n            userinfo: this.props.Login.userInfo,\r\n            sauditdate: this.props.Login.masterData.SelectedAuditTrail.saudittraildate,\r\n            nauditformcode: 78,\r\n            ncontrolcode: 78,\r\n            dataField\r\n\r\n        }\r\n\r\n        let inputParam = { inputData }\r\n        this.props.getExportExcel(inputParam);\r\n        // if(this.props.Login.resultStatus === \"Success\"){\r\n        //     toast.info(\"Excel export successfully\");\r\n        // }\r\n    }\r\n\r\n    render() {\r\n        //const ViewAuditDetails = props.controlMap.has(\"ViewAuditDetails\") && props.controlMap.get(\"ViewAuditDetails\").ncontrolcode;\r\n        const ViewAuditDetails = this.state.controlMap.has(\"ViewAuditDetails\") && this.state.controlMap.get(\"ViewAuditDetails\").ncontrolcode;\r\n\r\n        this.props.Login.masterData.AuditDetails = this.props.Login.masterData.AuditDetails &&\r\n            sortData(this.props.Login.masterData.AuditDetails, \"descending\", \"nauditcode\")\r\n\r\n        this.feildsForGrid =\r\n            this.props.Login.needOldValueColumn ? [\r\n                { \"idsName\": \"IDS_FIELDNAME\", \"dataField\": \"sfieldname\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_OLDVALUE\", \"dataField\": \"soldvalue\", \"width\": \"100px\" },\r\n                { \"idsName\": \"IDS_NEWVALUE\", \"dataField\": \"snewvalue\", \"width\": \"100px\" }] :\r\n                [\r\n                    { \"idsName\": \"IDS_FIELDNAME\", \"dataField\": \"sfieldname\", \"width\": \"200px\" },\r\n                    { \"idsName\": \"IDS_NEWVALUE\", \"dataField\": \"snewvalue\", \"width\": \"100px\" }\r\n                ];\r\n        this.extractedColumnList = [\r\n            { \"idsName\": \"IDS_AUDITDATE\", \"dataField\": \"sauditdate\", \"width\": \"200px\", \"componentName\": \"date\" },\r\n            { \"idsName\": \"IDS_AUDITACTION\", \"dataField\": \"sauditaction\", \"width\": \"200px\" },\r\n            //  { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\r\n            { \"idsName\": \"IDS_NEWCOMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\r\n            { \"idsName\": \"IDS_USERNAME\", \"dataField\": \"susername\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"suserrolename\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_ACTIONTYPE\", \"dataField\": \"sactiontype\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_MODULENAME\", \"dataField\": \"smodulename\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_FORMNAME\", \"dataField\": \"sformname\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_REASON\", \"dataField\": \"spredefinedreason\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_ESIGNCOMMENTS\", \"dataField\": \"sreason\", \"width\": \"200px\" },\r\n\r\n\r\n        ]\r\n\r\n        let fromDate = \"\";\r\n        let toDate = \"\";\r\n\r\n        if (this.props.Login.masterData && this.props.Login.masterData.FromDate) {\r\n            fromDate = (this.state.selectedRecord[\"fromdate\"] && getStartOfDay(this.state.selectedRecord[\"fromdate\"])) || rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.FromDate);\r\n            toDate = (this.state.selectedRecord[\"todate\"] && getEndOfDay(this.state.selectedRecord[\"todate\"])) || rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.ToDate);\r\n        }\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.FromDate,\r\n            this.props.Login.masterData.ToDate,\r\n            this.props.Login.userInfo);\r\n\r\n        let auditParam = {\r\n            masterData: this.props.Login.masterData,\r\n            userinfo: this.props.Login.userInfo,\r\n            // fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\r\n            // toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\r\n            // moduleCode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n            // formCode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n            // userCode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n            // userRole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n            // viewTypeCode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0\r\n\r\n            skip: this.state.skip,\r\n            take: this.state.take,\r\n            fromDate: obj.fromDate,\r\n            toDate: obj.toDate,\r\n            moduleCode: this.props.Login.masterData.breadCrumbModule ? this.props.Login.masterData.breadCrumbModule.value : 0,\r\n            formCode: this.props.Login.masterData.breadCrumbForm ? this.props.Login.masterData.breadCrumbForm.value : 0,\r\n            userCode: this.props.Login.masterData.breadCrumbUser ? this.props.Login.masterData.breadCrumbUser.value : 0,\r\n            userRole: this.props.Login.masterData.breadCrumbRole ? this.props.Login.masterData.breadCrumbRole.value : 0,\r\n            viewTypeCode: this.props.Login.masterData.breadCrumbViewType ? this.props.Login.masterData.breadCrumbViewType.value :\r\n                this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode : 0\r\n            //viewTypeCode :this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode:0\r\n        }\r\n\r\n        this.filterParam = {\r\n            inputListName: \"AuditTrail\", selectedObject: \"SelectedAuditTrail\", primaryKeyField: \"saudittraildate\",\r\n            fetchUrl: \"audittrail/getAuditTrailDetail\", masterData: this.props.Login.masterData,\r\n\r\n            fecthInputObject: {\r\n                // fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\r\n                // toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\r\n                // modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n                // formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n                // usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n                // userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n                // viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0,\r\n\r\n                userinfo: this.props.Login.userInfo,\r\n                fromDate: obj.fromDate,\r\n                toDate: obj.toDate,\r\n                modulecode: this.props.Login.masterData.breadCrumbModule ? this.props.Login.masterData.breadCrumbModule.value : 0,\r\n                formcode: this.props.Login.masterData.breadCrumbForm ? this.props.Login.masterData.breadCrumbForm.value : 0,\r\n                usercode: this.props.Login.masterData.breadCrumbUser ? this.props.Login.masterData.breadCrumbUser.value : 0,\r\n                userrole: this.props.Login.masterData.breadCrumbRole ? this.props.Login.masterData.breadCrumbRole.value : 0,\r\n                viewtypecode: this.props.Login.masterData.breadCrumbViewType ? this.props.Login.masterData.breadCrumbViewType.value :\r\n                    this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode : 0\r\n\r\n            },\r\n            filteredListName: \"searchedAudit\",\r\n            clearFilter: \"no\",\r\n            updatedListname: \"SelectedAuditTrail\",\r\n            searchRef: this.searchAuditRef,\r\n            searchFieldList: this.searchFieldList,\r\n            unchangeList: [\"QualisModule\", \"QualisForms\", \"Users\", \"UserRole\", \"ViewTypeAudit\"],\r\n            changeList: [\"AuditDetails\"]\r\n\r\n        };\r\n\r\n        this.breadCrumbData = this.breadcrumbList();\r\n        //console.log('-->123 :', this.props.Login.masterData.AuditTrail)\r\n\r\n\r\n        // this.state.selectedRecord && this.state.selectedRecord[\"nmodulecode\"] &&\r\n        // {\r\n        //     \"label\": \"IDS_MODULENAME\",\r\n        //     \"value\": this.state.selectedRecord[\"nmodulecode\"].label \r\n        // }\r\n        // this.state.selectedRecord[\"nformcode\"] &&\r\n        //  {\r\n        //     \"label\": \"IDS_FORMNAME\",\r\n        //     \"value\": this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].label : \"\"\r\n        // }, \r\n        // this.state.selectedRecord[\"nusercode\"] &&\r\n        // {\r\n        //     \"label\": \"IDS_USERNAME\",\r\n        //     \"value\": this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].label : \"\"\r\n        // }, \r\n        // this.state.selectedRecord[\"nuserrolecode\"] &&\r\n        // {\r\n        //     \"label\": \"IDS_USERROLE\",\r\n        //     \"value\": this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].label : \"\"\r\n\r\n        // }\r\n        // ]\r\n\r\n        // let auditInputData = {\r\n        //     fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\r\n        //     toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\r\n        //     modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n        //     formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n        //     usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n        //     userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n        //     viewtypecode: this.state.selectedcombo[\"nauditactionfiltercode\"] ? this.state.selectedcombo[\"nauditactionfiltercode\"].value : 0,\r\n        //     userinfo: this.props.Login.userInfo\r\n        // }\r\n\r\n        this.postParamList = [\r\n            {\r\n                filteredListName: \"searchedAudit\",\r\n                clearFilter: \"no\",\r\n                searchRef: this.searchRef,\r\n                primaryKeyField: \"saudittraildate\",\r\n                fetchUrl: \"audittrail/getFilterAuditTrailRecords\",\r\n                fecthInputObject: this.filterParam,\r\n                //childRefs: [{ ref: this.searchSubSampleRef, childFilteredListName: \"searchedSubSample\" }],\r\n                selectedObject: \"SelectedAuditTrail\",\r\n                inputListName: \"AuditTrail\",\r\n                updatedListname: \"SelectedAuditTrail\",\r\n                unchangeList: [\"QualisModule\", \"QualisForms\", \"Users\", \"UserRole\", \"ViewTypeAudit\"]\r\n            }];\r\n        const auditInfoFields = [{ \"fieldName\": \"sauditaction\", \"label\": \"IDS_AUDITACTION\" },\r\n        { \"fieldName\": \"sformname\", \"label\": \"IDS_SCREEN\" },\r\n        { \"fieldName\": \"smodulename\", \"label\": \"IDS_MODULENAME\" },\r\n        { \"fieldName\": \"sauditdate\", \"label\": \"IDS_AUDITDATE\" },\r\n        { \"fieldName\": \"suserrolename\", \"label\": \"IDS_USERROLENAME\" },\r\n        { \"fieldName\": \"susername\", \"label\": \"IDS_USERNAME\" },\r\n        { \"fieldName\": \"slanguagename\", \"label\": \"IDS_LANGUAGE\"}];\r\n        return (\r\n            <>\r\n                <div className=\"mtop-fixed-breadcrumb client-listing-wrap\">\r\n                    <BreadcrumbComponent breadCrumbItem={this.breadCrumbData} />\r\n                    <Row noGutters>\r\n                        {/* //ref={(parentHeight) => { this.parentHeight = parentHeight }} */}\r\n                        <Col md={12} className=\"parent-port-height sticky_head_parent\" >\r\n                            <SplitterLayout borderColor=\"#999\"\r\n                                primaryIndex={1}\r\n                                percentage={true}\r\n                                secondaryInitialSize={this.state.splitChangeWidthPercentage}\r\n                                onSecondaryPaneSizeChange={this.paneSizeChange}\r\n                                primaryMinSize={40}\r\n                                secondaryMinSize={20}\r\n                            >\r\n                                {/* <Col md={3}> */}\r\n                                <TransactionListMaster\r\n                                    splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                    //paneHeight={this.state.parentHeight}\r\n                                    // masterList={this.props.Login.masterData.searchedAudit || \r\n                                    //     this.props.Login.masterData.AuditTrail ? sortData(this.props.Login.masterData.AuditTrail,'descending','saudittraildate') : []}\r\n                                    // masterList={this.props.Login.masterData.searchedAudit ? this.props.Login.masterData.searchedAudit :\r\n                                    //   this.props.Login.masterData.AuditTrail ? sortData(this.props.Login.masterData.AuditTrail, 'descending', 'saudittraildate') : []}\r\n\r\n                                    masterList={this.props.Login.masterData.searchedAudit ||\r\n                                        (this.props.Login.masterData.AuditTrail || [])}\r\n                                    selectedMaster={[this.props.Login.masterData.SelectedAuditTrail]}\r\n                                    primaryKeyField=\"saudittraildate\"\r\n                                    getMasterDetail={this.props.getAuditTrailDetail}\r\n                                    inputParam={auditParam}\r\n                                    //additionalParam={['napprovalversioncode']}\r\n                                    mainField=\"sauditdate\"\r\n                                    selectedListName=\"SelectedAuditTrail\"\r\n                                    filterColumnData={this.props.filterTransactionList}\r\n                                    searchListName=\"searchedAudit\"\r\n                                    searchRef={this.searchRef}\r\n                                    filterParam={this.filterParam}\r\n                                    objectName=\"auditrail\"\r\n                                    listName=\"IDS_AUDITTRAIL\"\r\n                                    showFilter={this.props.Login.showFilter}\r\n                                    openFilter={this.openFilter}\r\n                                    closeFilter={this.closeFilter}\r\n                                    onFilterSubmit={this.onFilterSubmit}\r\n                                    // needAccordianFilter={true}\r\n                                    handlePageChange={this.handlePageChange}\r\n                                    skip={this.state.skip}\r\n                                    take={this.state.take}\r\n                                    needFilter={true}\r\n                                    needAccordianFilter={false}\r\n                                    filterComponent={[\r\n                                        {\r\n                                            \"IDS_AUDITTRAIL\":\r\n                                                <AuditTrailFilter\r\n                                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                                    filterModuleName={this.state.qualisModule}\r\n                                                    filterFormName={this.state.qualisForms}\r\n                                                    filterViewType={this.state.viewTypeAudit}\r\n                                                    filterUsers={this.state.users}\r\n                                                    filterUserRole={this.state.userRole}\r\n                                                    handleDateChange={this.handleDateChange}\r\n                                                    fromDate={fromDate}\r\n                                                    toDate={toDate}\r\n                                                    userInfo={this.props.Login.userInfo}\r\n                                                    onComboChange={this.onComboChange}\r\n                                                />\r\n                                        }\r\n                                    ]}\r\n                                    // accordianfilterComponent={[\r\n                                    //     {\r\n                                    //         \"IDS_AUDITTRAIL\":\r\n                                    //             <ViewTypeFilter\r\n                                    //                 selectedRecord={this.state.selectedcombo || {}}\r\n                                    //                 filterViewType={this.state.viewTypeAudit}\r\n                                    //                 userInfo={this.props.Login.userInfo}\r\n                                    //                 onComboChange={this.onComboChange}\r\n                                    //             />\r\n                                    //     }\r\n                                    // ]}\r\n                                    commonActions={\r\n                                        <ProductList className=\"d-flex product-category float-right\">\r\n                                            {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                            <Button className=\"btn btn-circle outline-grey ml-2 p-0\" variant=\"link\"\r\n                                                onClick={() => this.onReload()}\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                    <RefreshIcon className='custom_icons'/>\r\n                                            </Button>\r\n                                            {/* </Tooltip> */}\r\n                                        </ProductList>\r\n                                    }\r\n                                />\r\n                                {/* <SplitterLayout vertical borderColor=\"#999\" percentage={true} primaryIndex={1} secondaryInitialSize={400} customClassName=\"fixed_list_height\"> */}\r\n                                {/* <Col md={9}> */}\r\n                                <PerfectScrollbar>\r\n                                    <div ref={this.myRef}>\r\n                                        {this.props.Login.masterData.SelectedAuditTrail && this.props.Login.masterData.SelectedAuditTrail !== undefined ?\r\n                                            <ContentPanel className=\"panel-main-content\">\r\n                                                <Card className=\"border-0\">\r\n                                                    {/* <Card.Header className=\"padding-class\">\r\n                                                    <Card.Title className=\"product-title-main\">{this.props.Login.masterData.SelectedAuditTrail.sauditdate}\r\n                                                            <div className=\"d-flex product-category\" style={{ float: \"right\",marginRight:\"1rem\" }}>\r\n                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                // hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DOWNLOADEXCEL\" })}\r\n                                                                //data-for=\"tooltip_list_wrap\"\r\n                                                                onClick={this.exportExcelNew}>\r\n                                                                <FontAwesomeIcon icon={faFileExcel} />\r\n                                                            </Nav.Link>\r\n                                                            </div>\r\n                                                    </Card.Title>\r\n                                            </Card.Header> */}\r\n\r\n                                                    <Card.Body className='form-static-wrap padding-class'>\r\n                                                        <DataGrid\r\n                                                            // gridWidth={\"57.5rem\"}\r\n                                                            selectedId={this.props.Login.selectedId}\r\n                                                            gridHeight={this.state.gridHeight + 'px'}\r\n                                                            expandField=\"expanded\"\r\n                                                            userRoleControlRights={this.state.userRoleControlRights && this.state.userRoleControlRights}\r\n                                                            pageable={true}\r\n                                                            pageSizes={this.props.Login.settings && this.props.Login.settings[17].split(\",\").map(setting => parseInt(setting))}\r\n                                                            scrollable={\"scrollable\"}\r\n                                                            primaryKeyField=\"nauditcode\"\r\n                                                            data={this.props.Login.masterData.AuditDetails || []}\r\n                                                            dataResult={this.state.dataResult}\r\n                                                            //total={this.props.Login.masterData.AuditDetails && this.props.Login.masterData.AuditDetails.length || 0}\r\n                                                            //  dataResult={process(this.props.Login.masterData.AuditDetails || [],\r\n                                                            //  this.state.selectedRecord[\"nauditactionfiltercode\"]\r\n                                                            //     && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1\r\n                                                            //   ? this.state.dataStateAll : this.state.dataState)}\r\n                                                            dataState={this.state.selectedRecord[\"nauditactionfiltercode\"] && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll\r\n                                                                : this.state.dataState}\r\n                                                            dataStateChange={this.dataStateChange}\r\n                                                            extractedColumnList={this.extractedColumnList || []}\r\n                                                            controlMap={this.state.controlMap}\r\n                                                            methodUrl=\"AuditTrail\"\r\n                                                            groupable={this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? true : false : false}\r\n                                                            //isActionRequired={false}\r\n                                                            isToolBarRequired={true}\r\n                                                            isAddRequired={false}\r\n                                                            isRefreshRequired={false}\r\n                                                            isDownloadPDFRequired={false}\r\n                                                            isDownloadExcelRequired={true}\r\n                                                            isExportExcelRequired={true}\r\n                                                            isIdsField=\"yes\"\r\n                                                            isActionRequired={true}\r\n                                                            actionIcons={[{\r\n                                                                title: this.props.intl.formatMessage({ id: \"IDS_VIEWCHANGES\" }),\r\n                                                                controlname: \"faEye\",\r\n                                                                objectName: \"AuditDetails\",\r\n                                                                hidden: this.state.userRoleControlRights.indexOf(ViewAuditDetails) === -1,\r\n                                                                onClick: (viewdetails) => this.ViewAuditDetails(viewdetails)\r\n                                                            }]}\r\n                                                            exportExcelNew={this.exportExcelNew}\r\n                                                            onExpandChange={this.expandChange}\r\n                                                            hideDetailBand={true}\r\n                                                        />\r\n                                                    </Card.Body>\r\n                                                </Card>\r\n                                            </ContentPanel>\r\n\r\n                                            : \"\"\r\n                                        }\r\n                                    </div>\r\n                                </PerfectScrollbar>\r\n                            </SplitterLayout>\r\n                            {/* </SplitterLayout> */}\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {\r\n                    this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={'IDS_MODIFIEDCOMMENTS'}\r\n                        hideSave={true}\r\n                        addComponent={\r\n                            <>\r\n\r\n                                <Card className='one' >\r\n                                    <Card.Body>\r\n                                        <SpecificationInfo\r\n                                            controlMap={this.state.controlMap}\r\n                                            auditInfoFields={auditInfoFields}\r\n                                            userRoleControlRights={this.state.userRoleControlRights}\r\n                                            selectedSpecification={this.props.Login.viewdetails}\r\n                                            userInfo={this.props.Login.userInfo}\r\n                                            selectedNode={this.props.Login.masterData.selectedNode}\r\n                                            selectedRecord={this.state.filterData}\r\n                                            approvalRoleActionDetail={this.props.Login.masterData.ApprovalRoleActionDetail}\r\n                                            screenName=\"IDS_SPECIFICATIONINFO\"\r\n                                            deleteRecord={this.deleteRecord}\r\n                                            addSpecification={this.props.addSpecification}\r\n                                            filterData={this.state.filterData}\r\n                                            //completeSpecification={this.completeSpecification}\r\n                                            completeSpecification={this.validateTestGroupComplete}\r\n                                            approveSpecification={this.approveSpecification}\r\n                                            specificationReport={this.specificationReport}\r\n                                            retireSpec={this.retireSpec}\r\n                                        />\r\n                                    </Card.Body>\r\n                                </Card>\r\n                                <br></br>\r\n\r\n                                <DataGrid\r\n                                    primaryKeyField=\"nauditcommentscode\"\r\n                                    detailedFieldList={this.feildsForGrid}\r\n                                    extractedColumnList={this.feildsForGrid}\r\n                                    dataResult={this.props.Login.masterData[\"AuditModifiedComments\"] && this.props.Login.masterData[\"AuditModifiedComments\"].length > 0\r\n                                        && process(this.props.Login.masterData[\"AuditModifiedComments\"],\r\n                                            (this.props.screenName === undefined || this.props.screenName === \"IDS_AUDITVIEWDETAILS\")\r\n                                                ? this.props.Login.sectionDataState? this.props.Login.sectionDataState: { skip: 0, take: 50 } : { skip: 0, take: 50 })}\r\n                                    dataState={(this.props.Login.screenName === undefined || this.props.Login.screenName === \"IDS_AUDITVIEWDETAILS\")\r\n                                        ? this.props.Login.sectionDataState?this.props.Login.sectionDataState:{ skip: 0, take: 50 } : { skip: 0, take: 50 }}\r\n                                    dataStateChange={(event) => this.dataStateAuditView(  event )}\r\n                                    controlMap={this.state.controlMap}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                    pageable={true}\r\n                                    pageSizes={this.props.Login.settings && this.props.Login.settings[17].split(\",\").map(setting => parseInt(setting))} scrollable={'scrollable'}\r\n                                    gridHeight={'600px'}\r\n                                    hideColumnFilter={true}\r\n                                    selectedId={0}\r\n                                >\r\n                                </DataGrid>\r\n                            </>\r\n                        }\r\n                    />\r\n\r\n\r\n\r\n                }\r\n            </>\r\n\r\n        );\r\n\r\n    }\r\n    closeModal = () => {\r\n        let openModal = this.props.Login.openModal;\r\n        openModal = false;\r\n        //let selectedId = this.props.Login.selectedId;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal,sectionDataState:{skip:0,take:50},selectedId:null}\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\ndataStateAuditView=(event)=>{\r\n\r\n    const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {sectionDataState: event.dataState}\r\n    }\r\n\r\n    this.props.updateStore(updateInfo);\r\n}\r\n\r\n    ViewAuditDetails = (viewdetails) => {\r\n        console.log('ewe', viewdetails)\r\n        let openModal = this.props.Login.openModal;\r\n        openModal = true;\r\n        let screenName = 'IDS_AUDITVIEWDETAILS'\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, screenName }\r\n        }\r\n        this.props.ViewAuditDetails(this.props.Login.masterData, this.props.Login.userInfo, viewdetails, screenName);\r\n    };\r\n    expandChange = (event) => {\r\n        event.dataItem[event.target.props.expandField] = event.value;\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.AuditDetails || [], this.state.selectedRecord[\"nauditactionfiltercode\"] && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll :\r\n                this.state.dataState),\r\n            dataState: this.state.selectedRecord[\"nauditactionfiltercode\"] && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll\r\n                : this.state.dataState,\r\n        });\r\n    };\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n        //setTimeout(() => { this._scrollBarRef.updateScroll() })\r\n    };\r\n\r\n\r\n    onReload = () => {\r\n\r\n        // let dFromDate = this.props.Login.masterData.breadCrumbFrom ? (this.props.Login.masterData.breadCrumbFrom) : this.props.Login.masterData.FromDate;\r\n        // let dToDate = this.props.Login.masterData.breadCrumbTo ? (this.props.Login.masterData.breadCrumbTo) : this.props.Login.masterData.ToDate;\r\n        //var dTempFromDate = this.state.selectedRecord[\"fromdate\"] ? this.state.selectedRecord[\"fromdate\"] : this.props.Login.masterData.FromDate;\r\n        //let dTempToDate = this.state.selectedRecord[\"todate\"] ? this.state.selectedRecord[\"todate\"] : this.props.Login.masterData.ToDate;\r\n        //let temp = dFromDate.indexOf('-');\r\n        // let fromMonth = (dTempFromDate.getMonth()+1);\r\n        // let toMonth = (dTempToDate.getMonth()+1);\r\n        // let fromMonth = String(new Date(dFromDate).getMonth() + 1)\r\n        // let toMonth = String(new Date(dToDate).getMonth() + 1)\r\n        // let fromYear = dFromDate.substring(0, 4);\r\n        // let toYear = dToDate.substring(0, 4);\r\n        // let ntempviewtypecode = 0;\r\n        let breadCrumbFrom = this.props.Login.masterData.FromDate ? this.props.Login.masterData.FromDate : this.props.Login.masterData.breadCrumbFrom;\r\n        let breadCrumbTo = this.props.Login.masterData.ToDate ? this.props.Login.masterData.ToDate : this.props.Login.masterData.breadCrumbTo;\r\n        let breadCrumbModule = this.props.Login.masterData.breadCrumbModule\r\n        let breadCrumbForm = this.props.Login.masterData.breadCrumbForm\r\n        let breadCrumbUser = this.props.Login.masterData.breadCrumbUser\r\n        let breadCrumbRole = this.props.Login.masterData.breadCrumbRole\r\n        let breadCrumbViewType = this.props.Login.masterData.breadCrumbViewType\r\n            ? this.props.Login.masterData.breadCrumbViewType : this.props.Login.ViewType;\r\n\r\n        let fromDate = this.props.Login.masterData.FromDate;\r\n        let toDate = this.props.Login.masterData.ToDate;\r\n\r\n        let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);\r\n        let inputData = {\r\n            fromDate: obj.fromDate,\r\n            toDate: obj.toDate,\r\n            modulecode: breadCrumbModule ? breadCrumbModule.value : 0,\r\n            formcode: breadCrumbForm ? breadCrumbForm.value : 0,\r\n            usercode: breadCrumbUser ? breadCrumbUser.value : 0,\r\n            userrole: breadCrumbRole ? breadCrumbRole.value : 0,\r\n            viewtypecode: breadCrumbViewType ? breadCrumbViewType.value\r\n                : this.props.Login.masterData.ViewType.nauditactionfiltercode,\r\n\r\n            // viewtypecode : this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode :0,\r\n            // viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0,\r\n            userinfo: this.props.Login.userInfo,\r\n            postParamList: this.filterParam,\r\n        }\r\n\r\n        let masterData = {\r\n            ...this.props.Login.masterData, breadCrumbFrom, breadCrumbTo, breadCrumbModule,\r\n            breadCrumbForm, breadCrumbUser, breadCrumbRole,\r\n            //breadCrumbViewType : breadCrumbViewType ? breadCrumbViewType :\r\n            // this.props.Login.masterData.ViewType\r\n            breadCrumbViewType: breadCrumbViewType ? breadCrumbViewType\r\n                : {\r\n                    label: this.props.Login.masterData.ViewType.sauditactionfiltername,\r\n                    value: this.props.Login.masterData.ViewType.nauditactionfiltercode,\r\n                    item: this.props.Login.masterData.ViewType\r\n                }\r\n        }\r\n\r\n\r\n        let inputParam = { masterData, inputData, searchRef: this.searchRef, detailSkip: this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll.skip : this.state.dataState.skip }\r\n        this.props.getFilterAuditTrailRecords(inputParam)\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n\r\n        let breadCrumbFrom = this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.FromDate);\r\n        let breadCrumbTo = this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.ToDate);\r\n        let breadCrumbModule = this.state.selectedRecord['nmodulecode']\r\n        let breadCrumbForm = this.state.selectedRecord['nformcode']\r\n        let breadCrumbUser = this.state.selectedRecord['nusercode']\r\n        let breadCrumbRole = this.state.selectedRecord['nuserrolecode']\r\n        let breadCrumbViewType = this.state.selectedRecord['nauditactionfiltercode']\r\n\r\n        let masterData = {\r\n            ...this.props.Login.masterData, breadCrumbFrom, breadCrumbTo, breadCrumbModule, breadCrumbForm, breadCrumbUser, breadCrumbRole, breadCrumbViewType\r\n        }\r\n        let fromDate = this.state.selectedRecord[\"fromdate\"] ? this.state.selectedRecord[\"fromdate\"] : this.props.Login.masterData.FromDate;\r\n        let toDate = this.state.selectedRecord[\"todate\"] ? this.state.selectedRecord[\"todate\"] : this.props.Login.masterData.ToDate;\r\n\r\n        let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);\r\n        let inputData = {\r\n            fromDate: obj.fromDate,\r\n            toDate: obj.toDate,\r\n            modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n            formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n            usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n            userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n            //viewtypecode: ntempviewtypecode,//this.state.selectedcombo[\"nviewtypecode\"] ? this.state.selectedcombo[\"nviewtypecode\"].value:0,\r\n            viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : -1,\r\n            userinfo: this.props.Login.userInfo,\r\n            postParamList: this.filterParam,\r\n        }\r\n\r\n        let inputParam = {\r\n            masterData, inputData, searchRef: this.searchRef,\r\n            detailSkip: this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll.skip : this.state.dataState.skip\r\n        }\r\n        this.props.getFilterAuditTrailRecords(inputParam)\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        if (comboData != null) {\r\n            if (fieldName === \"nmodulecode\" || fieldName === \"nformcode\"\r\n                || fieldName === \"nusercode\" || fieldName === \"nuserrolecode\" || fieldName === \"nauditactionfiltercode\") {\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                selectedRecord[fieldName] = comboData;\r\n                // let qualisForms = this.state.qualisForms;\r\n                let qualisForms = this.state.wholeQualisForms;\r\n                if (fieldName === \"nmodulecode\") {\r\n\r\n                    selectedRecord[\"nformcode\"] = \"\";\r\n                    qualisForms = qualisForms.filter(form => form.item.nmodulecode === comboData.value);\r\n\r\n                } else if (selectedRecord.nmodulecode && selectedRecord.nmodulecode.value) {\r\n\r\n                    qualisForms = qualisForms.filter(form => form.item.nmodulecode === selectedRecord.nmodulecode.value);\r\n\r\n                }\r\n                this.setState({ selectedRecord, qualisForms });\r\n            }\r\n\r\n\r\n\r\n            /*if (fieldName === \"nauditactionfiltercode\") {\r\n \r\n                this.searchRef.current.value = \"\";\r\n \r\n                const selectedcombo = this.state.selectedcombo || {};\r\n                selectedcombo[fieldName] = comboData;\r\n                const dataStateAll = {\r\n                    skip: 0,\r\n                    take: 100\r\n                };\r\n \r\n                this.setState({ selectedcombo, dataStateAll });\r\n \r\n                let masterData = {\r\n                    ...this.props.Login.masterData, searchedAudit: undefined\r\n                }\r\n                let inputData = {\r\n                    fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\r\n                    toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\r\n                    modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n                    formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n                    usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n                    userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n                    viewtypecode: this.state.selectedcombo[\"nauditactionfiltercode\"] ? this.state.selectedcombo[\"nauditactionfiltercode\"].value : 0,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    postParamList: this.filterParam,\r\n                }\r\n \r\n                let inputParam = { masterData, inputData }\r\n                this.props.getFilterAuditTrailRecords(inputParam)\r\n            }*/\r\n\r\n        }\r\n        else {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            selectedRecord[fieldName] = comboData;\r\n            if (fieldName === 'nmodulecode') {\r\n                selectedRecord[\"nformcode\"] = \"\";\r\n                const qualisForms = this.state.wholeQualisForms;\r\n                this.setState({ selectedRecord, qualisForms });\r\n            }\r\n            else\r\n                this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        selectedRecord[dateName] = dateValue;\r\n\r\n\r\n        //this.setState({selectedRecord});\r\n\r\n        let viewTypeAuditList = this.state.viewTypeAudit;\r\n\r\n        let dFromDate = this.state.selectedRecord[\"fromdate\"] ? rearrangeDateFormat(this.props.Login.userInfo, this.state.selectedRecord[\"fromdate\"]) : rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.FromDate);\r\n        let dToDate = this.state.selectedRecord[\"todate\"] ? rearrangeDateFormat(this.props.Login.userInfo, this.state.selectedRecord[\"todate\"]) : rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.ToDate);\r\n        // let ntempviewtypecode = 0;\r\n        let fromMonth = String(dFromDate.getMonth() + 1)\r\n        let toMonth = String(dToDate.getMonth() + 1)\r\n        let fromYear = String(dFromDate.getFullYear());\r\n        let toYear = String(dToDate.getFullYear());\r\n\r\n        if (fromYear !== toYear) {\r\n\r\n            selectedRecord[\"nauditactionfiltercode\"] =\r\n                viewTypeAuditList.length > 0 ? {\r\n                    \"value\": viewTypeAuditList[2].item.nauditactionfiltercode,\r\n                    \"label\": viewTypeAuditList[2].item.sauditactionfiltername\r\n                } : this.state.selectedRecord[\"nauditactionfiltercode\"]\r\n\r\n            // ntempviewtypecode = viewTypeAuditList[2].item.nauditactionfiltercode;\r\n        }\r\n        else if (fromMonth !== toMonth) {\r\n            selectedRecord[\"nauditactionfiltercode\"] = viewTypeAuditList.length > 0 ? {\r\n                \"value\": viewTypeAuditList[1].item.nauditactionfiltercode,\r\n                \"label\": viewTypeAuditList[1].item.sauditactionfiltername\r\n            } : this.state.selectedRecord[\"nauditactionfiltercode\"]\r\n\r\n\r\n            // ntempviewtypecode = viewTypeAuditList[1].item.nauditactionfiltercode;\r\n        }\r\n        else {\r\n            selectedRecord[\"nauditactionfiltercode\"] = viewTypeAuditList.length > 0 ? {\r\n                \"value\": viewTypeAuditList[0].item.nauditactionfiltercode,\r\n                \"label\": viewTypeAuditList[0].item.sauditactionfiltername\r\n            } : this.state.selectedRecord[\"nauditactionfiltercode\"]\r\n\r\n            // ntempviewtypecode = viewTypeAuditList[0].item.nauditactionfiltercode;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    breadcrumbList = () => {\r\n        let breadCrumbArray = [];\r\n        // let fromDate = this.props.Login.masterData.breadCrumbFrom ? this.props.Login.masterData.breadCrumbFrom : this.props.Login.masterData.FromDate;\r\n        //    let toDate = this.props.Login.masterData.breadCrumbTo ? this.props.Login.masterData.breadCrumbTo : this.props.Login.masterData.ToDate;\r\n\r\n        let fromDate = this.props.Login.masterData.FromDate ? this.props.Login.masterData.FromDate : this.props.Login.masterData.breadCrumbFrom;\r\n        let toDate = this.props.Login.masterData.ToDate ? this.props.Login.masterData.ToDate : this.props.Login.masterData.breadCrumbTo;\r\n\r\n        let obj = convertDateValuetoString(fromDate,\r\n            toDate,\r\n            this.props.Login.userInfo);\r\n        breadCrumbArray.push({\r\n            \"label\": \"IDS_FROM\",\r\n            \"value\": obj.breadCrumbFrom\r\n        }, {\r\n            \"label\": \"IDS_TO\",\r\n            \"value\": obj.breadCrumbto\r\n        });\r\n        this.props.Login.masterData.breadCrumbModule &&\r\n            breadCrumbArray.push(\r\n                {\r\n                    \"label\": \"IDS_MODULENAME\",\r\n                    \"value\": this.props.Login.masterData.breadCrumbModule.label\r\n                });\r\n        this.props.Login.masterData.breadCrumbForm &&\r\n            breadCrumbArray.push(\r\n                {\r\n                    \"label\": \"IDS_FORMNAME\",\r\n                    \"value\": this.props.Login.masterData.breadCrumbForm.label\r\n                });\r\n        this.props.Login.masterData.breadCrumbUser &&\r\n            breadCrumbArray.push(\r\n                {\r\n                    \"label\": \"IDS_USERNAME\",\r\n                    \"value\": this.props.Login.masterData.breadCrumbUser.label\r\n                });\r\n        this.props.Login.masterData.breadCrumbRole &&\r\n            breadCrumbArray.push(\r\n                {\r\n                    \"label\": \"IDS_USERROLE\",\r\n                    \"value\": this.props.Login.masterData.breadCrumbRole.label\r\n                });\r\n\r\n        breadCrumbArray.push(\r\n            {\r\n                \"label\": \"IDS_VIEWPERIOD\",\r\n                \"value\": this.props.Login.masterData.breadCrumbViewType ? this.props.Login.masterData.breadCrumbViewType.label :\r\n                    this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.sauditactionfiltername : \"\"\r\n            });\r\n\r\n\r\n        // this.state.selectedRecord[\"nformcode\"] &&\r\n        //  {\r\n        //     \"label\": \"IDS_FORMNAME\",\r\n        //     \"value\": this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].label : \"\"\r\n        // },\r\n        // this.state.selectedRecord[\"nusercode\"] &&\r\n        // {\r\n        //     \"label\": \"IDS_USERNAME\",\r\n        //     \"value\": this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].label : \"\"\r\n        // },\r\n        // this.state.selectedRecord[\"nuserrolecode\"] &&\r\n        // {\r\n        //     \"label\": \"IDS_USERROLE\",\r\n        //     \"value\": this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].label : \"\"\r\n\r\n        // }\r\n        return breadCrumbArray;\r\n    };\r\n\r\n    // covertDatetoString(startDateValue, endDateValue) {\r\n    //     const startDate = new Date(startDateValue);\r\n    //     const endDate = new Date(endDateValue);\r\n\r\n    //     const prevMonth = validateTwoDigitDate(String(startDate.getMonth() + 1));\r\n    //     const currentMonth = validateTwoDigitDate(String(endDate.getMonth() + 1));\r\n    //     const prevDay = validateTwoDigitDate(String(startDate.getDate()));\r\n    //     const currentDay = validateTwoDigitDate(String(endDate.getDate()));\r\n\r\n    //     const fromDateOnly = startDate.getFullYear() + '-' + prevMonth + '-' + prevDay\r\n    //     const toDateOnly = endDate.getFullYear() + '-' + currentMonth + '-' + currentDay\r\n    //     const fromDate = fromDateOnly + \"T00:00:00\";\r\n    //     const toDate = toDateOnly + \"T23:59:59\";\r\n\r\n\r\n    //     return ({ fromDate, toDate, breadCrumbFrom: fromDateOnly, breadCrumbto: toDateOnly })\r\n    // }\r\n\r\n\r\n\r\n    componentDidUpdate(previousProps) {\r\n\r\n        let updateState = false;\r\n        let { selectedRecord, qualisModule, qualisForms, wholeQualisForms, users, userRole,\r\n            viewTypeAudit, dataStateAll, dataState, dataResult, skip, take } = this.state\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            updateState = true;\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n        }\r\n        if (this.props.Login.masterData.QualisModule !== previousProps.Login.masterData.QualisModule\r\n            || this.props.Login.masterData.QualisForms !== previousProps.Login.masterData.QualisForms\r\n            || this.props.Login.masterData.Users !== previousProps.Login.masterData.Users\r\n            || this.props.Login.masterData.UserRole !== previousProps.Login.masterData.UserRole\r\n        ) {\r\n            updateState = true;\r\n            const qualisModuleMap = constructOptionList(this.props.Login.masterData.QualisModule || [], \"nmodulecode\",\r\n                \"smodulename\", \"nsorter\", \"ascending\", false);\r\n            //const allQualisModuleList = qualisModule.get(\"OptionList\");\r\n            const qualisModuleList = qualisModuleMap.get(\"OptionList\");\r\n\r\n            const qualisFormsMap = constructOptionList(this.props.Login.masterData.QualisForms || [], \"nformcode\",\r\n                \"sformname\", \"nsorter\", \"ascending\", false);\r\n            // const allQualisFormsList = qualisForms.get(\"OptionList\");\r\n            let qualisFormsList = []\r\n            if (selectedRecord && selectedRecord.nmodulecode && selectedRecord.nmodulecode.value) {\r\n                qualisFormsList = qualisFormsMap.get(\"OptionList\").filter(form => form.item.nmodulecode === selectedRecord.nmodulecode.value);\r\n            } else {\r\n                qualisFormsList = qualisFormsMap.get(\"OptionList\");\r\n            }\r\n\r\n            const usersMap = constructOptionList(this.props.Login.masterData.Users || [], \"nusercode\",\r\n                \"susername\", undefined, undefined, undefined);\r\n            //const allUsersList = users.get(\"OptionList\");\r\n            const usersList = usersMap.get(\"OptionList\");\r\n\r\n            const userRoleMap = constructOptionList(this.props.Login.masterData.UserRole || [], \"nuserrolecode\",\r\n                \"suserrolename\", undefined, undefined, undefined);\r\n            //const allUserRoleList = userRole.get(\"OptionList\");\r\n            const userRoleList = userRoleMap.get(\"OptionList\");\r\n\r\n            const viewTypeAuditMap = constructOptionList(this.props.Login.masterData.ViewTypeAudit || [], \"nauditactionfiltercode\",\r\n                \"sauditactionfiltername\", \"nsorter\", \"ascending\", false);\r\n            const viewTypeAuditList = viewTypeAuditMap.get(\"OptionList\");\r\n\r\n\r\n            qualisModule = qualisModuleList\r\n            qualisForms = qualisFormsList\r\n            wholeQualisForms = qualisFormsList\r\n            users = usersList\r\n            userRole = userRoleList\r\n            viewTypeAudit = viewTypeAuditList\r\n            selectedRecord = {\r\n                nauditactionfiltercode: viewTypeAuditList.length > 0 ? {\r\n                    \"value\": viewTypeAuditList[0].item.nauditactionfiltercode,\r\n                    \"label\": viewTypeAuditList[0].item.sauditactionfiltername\r\n                } : this.state.selectedRecord[\"nauditactionfiltercode\"]\r\n            }\r\n\r\n        }\r\n\r\n        if (this.props.Login.resetDataGridPage && this.props.Login.resetDataGridPage !== previousProps.Login.resetDataGridPage) {\r\n            if (this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1) {\r\n\r\n                dataStateAll.skip = 0\r\n                updateState = true;\r\n            }\r\n            else {\r\n\r\n                dataState.skip = 0\r\n                updateState = true;\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            updateState = true;\r\n            if (selectedRecord && selectedRecord.nmodulecode && selectedRecord.nmodulecode.value) {\r\n                qualisForms = qualisForms.filter(form => form.item.nmodulecode === selectedRecord.nmodulecode.value);\r\n            } else {\r\n                qualisForms = wholeQualisForms;\r\n            }\r\n            if (this.state.selectedRecord[\"nauditactionfiltercode\"] && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1) {\r\n\r\n                dataStateAll = { skip: 0, take: dataStateAll.take, group: dataStateAll.group }\r\n                updateState = true;\r\n            }\r\n            else {\r\n\r\n                dataState = { skip: 0, take: dataState.take, group: dataState.group }\r\n                updateState = true;\r\n            }\r\n            //const auditdate = (this.props.Login.masterData.AuditDetails && this.props.Login.masterData.AuditDetails.slice(dataState.skip, dataState.take + dataState.skip)) || []\r\n            const auditdate = (this.props.Login.masterData.AuditDetails && this.props.Login.masterData.AuditDetails.slice(dataState.skip,this.props.Login.masterData.AuditDetails.length)) || []\r\n            dataResult = process(auditdate || [], dataState)\r\n\r\n            skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip\r\n            take = this.props.Login.take || take\r\n\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            updateState = true;\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({\r\n                userRoleControlRights, controlMap, data: this.props.Login.masterData.ControlRights\r\n            });\r\n        }\r\n        if (updateState) {\r\n            this.setState({\r\n                selectedRecord, qualisModule, qualisForms, wholeQualisForms, users, userRole,\r\n                viewTypeAudit, dataStateAll, dataState, dataResult, skip, take\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.myRef.current.offsetParent.clientHeight !== this.state.gridHeight) {\r\n            this.setState({\r\n                gridHeight: this.myRef.current.offsetParent.clientHeight\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, validateEsignCredential, filterTransactionList,\r\n    updateStore, filterColumnData, getAuditTrailDetail, getFilterAuditTrailRecords, getFormNameByModule, getExportExcel, ViewAuditDetails\r\n})(injectIntl(AuditTrail));"]},"metadata":{},"sourceType":"module"}