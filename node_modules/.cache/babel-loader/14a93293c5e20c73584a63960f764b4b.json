{"ast":null,"code":"import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{SchedulerEditItem,SchedulerEditSlot,SchedulerSlot,SchedulerTask,SchedulerViewItem,SchedulerViewSlot}from\"@progress/kendo-react-scheduler\";import React from\"react\";import{connect}from'react-redux';import{getInstrumentForSchedule}from'../../../actions';//import { FormWithCustomEditor } from './custom-form';\nimport{toast}from\"react-toastify\";import{parseAdjustDate}from\"./NewJobAlloct\";import{intl}from\"../../../components/App\";import{Button}from\"react-bootstrap\";import{faPlus}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";//import { CustomItemTask } from \"./NewCustomItem\";\nimport{useAsyncFocusBlur}from\"@progress/kendo-react-common\";var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var CustomEditItem=function CustomEditItem(props){var ref=React.useRef(null);//  const [show, setShow] = React.useState(false);\nvar _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),formItem=_React$useState2[0],setFormItem=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),focused=_React$useState4[0],setFocused=_React$useState4[1];// const intl = useInternationalization();\n//const { onFocus, onBlur } = props;\n// const handleFocus = React.useCallback(\n//     (event) => {\n//         setShow(true);\n//         if (props.onFocus) {\n//             props.onFocus(event);\n//         }\n//     },\n//     [props]\n// );\n// const handleBlur = React.useCallback(\n//     (event) => {\n//       setShow(false);\n//       // Call the default `onBlur` handler\n//       if (onBlur) {\n//         onBlur(event);\n//       }\n//     },\n//     [onBlur]\n//   );\n// const handleCloseClick = React.useCallback(() => {\n//     setShow(false);\n// }, []);\n// const handleEditClick = React.useCallback(() => {\n//     console.log(\"hello1\", props.dataItem);\n//     if (props.dataItem &&\n//         props.dataItem.InstrumentCategory) {\n//         if (props.dataItem.ntransactionstatus) {\n//             if (props.dataItem.ntransactionstatus !== 20) {\n//                 props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\n//                 setFormItem(props.dataItem);\n//                 setShow(false);\n//             } else {\n//                 toast.info(\"Already allocted\")\n//             }\n//         } else {\n//             props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\n//             setFormItem(props.dataItem);\n//             setShow(false);\n//         }\n//     }\n// }, [props.dataItem]);\nvar handleFormItemChange=React.useCallback(function(event){if(event.value){if(event.value.ntransactionstatus){if(event.value.ntransactionstatus!==20){setFormItem(event.value);}}else{setFormItem(event.value);}}else{setFormItem(event.value);}},[]);var handleFocus=function handleFocus(){setFocused(true);};var handleBlur=function handleBlur(){setFocused(false);};var _useAsyncFocusBlur=useAsyncFocusBlur({onFocus:handleFocus,onBlur:handleBlur}),onFocus=_useAsyncFocusBlur.onFocus,onBlur=_useAsyncFocusBlur.onBlur;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(SchedulerEditItem,Object.assign({ref:ref},props,{// style={{\n//     ...props.style,\n//     // backgroundColor:  \"yellow\",\n//     // color:\"black\"\n//     //  height: '100px'\n//     //background: `url(${props.dataItem.image})`,\n// }}\nstyle:_objectSpread(_objectSpread({},props.style),{},{boxShadow:focused?\"rgb(4 20 43 / 75%) 0px 5px 20px\":undefined})// onFocus={handleFocus}\n,onFocus:onFocus,onBlur:onBlur,formItem:formItem,onFormItemChange:handleFormItemChange//form={FormWithCustomEditor}\n// onDoubleClick={handleFormItemChange1\n// }\n,onDoubleClickAction:null})));};export default connect(mapStateToProps,{getInstrumentForSchedule:getInstrumentForSchedule})(CustomEditItem);export var CustomTask=function CustomTask(props){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(SchedulerTask,Object.assign({},props,{style:_objectSpread(_objectSpread({},props.style),{},{backgroundColor:props.dataItem.ntransactionstatus!==-1?props.dataItem.color:\"#175a8d\"//  borderRadius: \"8px\",\n// height: 32,\n})}),\"  \"));};// export const CustomEditSlot = (props) => {\n//     const [formItem, setFormItem] = React.useState(null);\n//     const handleFormItemChange = React.useCallback(\n//         (event) => {\n//             if (props.isWorkDay && props.isWorkHour) {\n//                 setFormItem(event.value);\n//             }\n//         },\n//         [props.isWorkDay, props.isWorkHour]\n//     );\n//     return (\n//         <SchedulerEditSlot\n//             {...props}\n//             formItem={formItem}\n//             onFormItemChange={handleFormItemChange}\n//         />\n//     );\n// };\nexport var CustomViewSlot=function CustomViewSlot(props){return props.isAllDay?null:/*#__PURE__*/React.createElement(SchedulerViewSlot,Object.assign({},props,{style:_objectSpread({},props.style)}));};export var CustomEditSlotForMonth=function CustomEditSlotForMonth(props){var _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),formItem=_React$useState6[0],setFormItem=_React$useState6[1];var handleFormItemChange=React.useCallback(function(event){if(event.value){if(event.value.buttonClick){if(event.value.ntransactionstatus){if(event.value.ntransactionstatus!==20){//  setFormItem({...event.value,Ins:[{text:\"1\",value:\"1\"}]});\nsetFormItem(event.value);// setFormItem({ ...event.value, Ins: [{ text: \"1\", value: \"1\" }] });\n}else{toast.info(intl.formatMessage({id:\"IDS_ALREADYALLOTED\"}));}}else{//  setFormItem({...event.value,Ins:[{text:\"1\",value:\"1\"}]});\nsetFormItem(event.value);}}}else{//  setFormItem({...event.value,Ins:[{text:\"1\",value:\"1\"}]});\nsetFormItem(event.value);}},[]);return/*#__PURE__*/React.createElement(SchedulerEditSlot,Object.assign({},props,{//  onDoubleClick={ondoubleClick}\nformItem:formItem,onFormItemChange:handleFormItemChange}),\" \",props.children,props.editable.add&&/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey nav-link bg-transparent\",role:\"button\"// hidden={this.props.userRoleControlRights.indexOf(this.props.addId) === -1}\n// data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\n,onClick:function onClick(e){return handleFormItemChange({value:{start:props.start,end:props.end,isAllDay:true,buttonClick:true}});}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus})));};export var CustomSlot=function CustomSlot(props){{console.log(\"checkingg\",props);}return/*#__PURE__*/React.createElement(SchedulerSlot// isWorkDay={true}\n// workWeekStart={3}\n// workWeekEnd={5}\n,Object.assign({},props,{style:_objectSpread(_objectSpread({},props.style),{},{backgroundColor:parseAdjustDate(props.start)===parseAdjustDate(new Date())?\"#c7cdd5\":\"\",cursor:props.isWorkDay?undefined:\"no-drop\"// backgroundColor: (!props.isWorkHour || !props.isWorkDay)\n//     ? \"#c7cdd5\"\n//     : \"\",\n//content:\"Today\"\n})}),props.children);};export var CustomSlotForDayAndWeek=function CustomSlotForDayAndWeek(props){return/*#__PURE__*/React.createElement(SchedulerSlot,Object.assign({},props,{style:_objectSpread(_objectSpread({},props.style),{},{backgroundColor:parseAdjustDate(props.start)===parseAdjustDate(new Date())?\"#c7cdd5\":\"\"})}),props.children);};export var CustomViewItem=function CustomViewItem(props){return/*#__PURE__*/React.createElement(SchedulerViewItem,Object.assign({},props,{style:_objectSpread(_objectSpread({},props.style),{},{height:\"auto\"})}),props.children);};export var CustomViewSlotForSchCursorOnBothnonHrsAndNonweekend=function CustomViewSlotForSchCursorOnBothnonHrsAndNonweekend(props){return/*#__PURE__*/React.createElement(SchedulerViewSlot,Object.assign({},props,{style:_objectSpread(_objectSpread({},props.style),{},{minHeight:5,cursor:!props.isWorkDay||!props.isWorkHour?\"no-drop\":undefined})}));};export var CustomViewSlotForSchCursorOnBothnonHrs=function CustomViewSlotForSchCursorOnBothnonHrs(props){return/*#__PURE__*/React.createElement(SchedulerViewSlot,Object.assign({},props,{style:_objectSpread(_objectSpread({},props.style),{},{minHeight:5,cursor:!props.isWorkDay?undefined:!props.isWorkHour?\"no-drop\":undefined})}));};export var CustomViewSlotForSchCursorOnBothnonWorkend=function CustomViewSlotForSchCursorOnBothnonWorkend(props){return/*#__PURE__*/React.createElement(SchedulerViewSlot,Object.assign({},props,{style:_objectSpread(_objectSpread({},props.style),{},{minHeight:5,cursor:\"no-drop\"//!props.isWorkDay ? \"no-drop\" : undefined,\n})}));};export var CustomViewSlotForSchwithoutCursor=function CustomViewSlotForSchwithoutCursor(props){return/*#__PURE__*/React.createElement(SchedulerViewSlot,Object.assign({},props,{style:_objectSpread(_objectSpread({},props.style),{},{minHeight:5})}));};export var CustomViewSlotForMonth=function CustomViewSlotForMonth(props){return/*#__PURE__*/React.createElement(SchedulerViewSlot,Object.assign({},props,{style:_objectSpread(_objectSpread({},props.style),{},{minHeight:10,cursor:\"no-drop\"})}));};export var CustomEditSlotForNonWorkinghrsandday=function CustomEditSlotForNonWorkinghrsandday(props){var _React$useState7=React.useState(null),_React$useState8=_slicedToArray(_React$useState7,2),formItem=_React$useState8[0],setFormItem=_React$useState8[1];var handleFormItemChange=React.useCallback(function(event){if(props.isWorkDay&&props.isWorkHour){setFormItem(event.value);}},[props.isWorkDay,props.isWorkHour]);return/*#__PURE__*/React.createElement(SchedulerEditSlot,Object.assign({},props,{formItem:formItem,onFormItemChange:handleFormItemChange}));};export var CustomEditSlotForNonWorkinghrs=function CustomEditSlotForNonWorkinghrs(props){var _React$useState9=React.useState(null),_React$useState10=_slicedToArray(_React$useState9,2),formItem=_React$useState10[0],setFormItem=_React$useState10[1];var handleFormItemChange=React.useCallback(function(event){if(!props.isWorkDay||props.isWorkHour){setFormItem(event.value);}},[props.isWorkDay,props.isWorkHour]);return/*#__PURE__*/React.createElement(SchedulerEditSlot,Object.assign({},props,{formItem:formItem,onFormItemChange:handleFormItemChange}));};export var CustomEditSlotForNonWorkingday=function CustomEditSlotForNonWorkingday(props){var _React$useState11=React.useState(null),_React$useState12=_slicedToArray(_React$useState11,2),formItem=_React$useState12[0],setFormItem=_React$useState12[1];var handleFormItemChange=React.useCallback(function(event){if(props.isWorkDay){setFormItem(event.value);}},[props.isWorkDay]);return/*#__PURE__*/React.createElement(SchedulerEditSlot,Object.assign({},props,{formItem:formItem,onFormItemChange:handleFormItemChange}));};","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-512/QuaLISWeb/src/pages/joballocation/calender/EditItem.jsx"],"names":["SchedulerEditItem","SchedulerEditSlot","SchedulerSlot","SchedulerTask","SchedulerViewItem","SchedulerViewSlot","React","connect","getInstrumentForSchedule","toast","parseAdjustDate","intl","Button","faPlus","FontAwesomeIcon","useAsyncFocusBlur","mapStateToProps","state","Login","CustomEditItem","props","ref","useRef","useState","formItem","setFormItem","focused","setFocused","handleFormItemChange","useCallback","event","value","ntransactionstatus","handleFocus","handleBlur","onFocus","onBlur","style","boxShadow","undefined","CustomTask","backgroundColor","dataItem","color","CustomViewSlot","isAllDay","CustomEditSlotForMonth","buttonClick","info","formatMessage","id","children","editable","add","e","start","end","CustomSlot","console","log","Date","cursor","isWorkDay","CustomSlotForDayAndWeek","CustomViewItem","height","CustomViewSlotForSchCursorOnBothnonHrsAndNonweekend","minHeight","isWorkHour","CustomViewSlotForSchCursorOnBothnonHrs","CustomViewSlotForSchCursorOnBothnonWorkend","CustomViewSlotForSchwithoutCursor","CustomViewSlotForMonth","CustomEditSlotForNonWorkinghrsandday","CustomEditSlotForNonWorkinghrs","CustomEditSlotForNonWorkingday"],"mappings":"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","sourcesContent":["import {\r\n    SchedulerEditItem, SchedulerEditSlot,\r\n    SchedulerSlot, SchedulerTask, SchedulerViewItem, SchedulerViewSlot\r\n} from \"@progress/kendo-react-scheduler\";\r\nimport React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { getInstrumentForSchedule } from '../../../actions'\r\n//import { FormWithCustomEditor } from './custom-form';\r\nimport { toast } from \"react-toastify\";\r\nimport { parseAdjustDate } from \"./NewJobAlloct\";\r\nimport { intl } from \"../../../components/App\"\r\nimport { Button } from \"react-bootstrap\";\r\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n//import { CustomItemTask } from \"./NewCustomItem\";\r\nimport { useAsyncFocusBlur } from \"@progress/kendo-react-common\";\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nconst CustomEditItem = (props) => {\r\n    const ref = React.useRef(null);\r\n    //  const [show, setShow] = React.useState(false);\r\n    const [formItem, setFormItem] = React.useState(null);\r\n    const [focused, setFocused] = React.useState(false);\r\n    // const intl = useInternationalization();\r\n    //const { onFocus, onBlur } = props;\r\n\r\n\r\n    // const handleFocus = React.useCallback(\r\n    //     (event) => {\r\n    //         setShow(true);\r\n    //         if (props.onFocus) {\r\n    //             props.onFocus(event);\r\n    //         }\r\n    //     },\r\n    //     [props]\r\n    // );\r\n\r\n    // const handleBlur = React.useCallback(\r\n    //     (event) => {\r\n    //       setShow(false);\r\n\r\n    //       // Call the default `onBlur` handler\r\n    //       if (onBlur) {\r\n    //         onBlur(event);\r\n    //       }\r\n    //     },\r\n    //     [onBlur]\r\n    //   );\r\n\r\n    // const handleCloseClick = React.useCallback(() => {\r\n    //     setShow(false);\r\n    // }, []);\r\n    // const handleEditClick = React.useCallback(() => {\r\n    //     console.log(\"hello1\", props.dataItem);\r\n    //     if (props.dataItem &&\r\n    //         props.dataItem.InstrumentCategory) {\r\n    //         if (props.dataItem.ntransactionstatus) {\r\n    //             if (props.dataItem.ntransactionstatus !== 20) {\r\n    //                 props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\r\n    //                 setFormItem(props.dataItem);\r\n    //                 setShow(false);\r\n    //             } else {\r\n    //                 toast.info(\"Already allocted\")\r\n    //             }\r\n\r\n    //         } else {\r\n    //             props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\r\n    //             setFormItem(props.dataItem);\r\n    //             setShow(false);\r\n    //         }\r\n\r\n    //     }\r\n\r\n    // }, [props.dataItem]);\r\n    const handleFormItemChange = React.useCallback((event) => {\r\n\r\n        if (event.value) {\r\n            if (event.value.ntransactionstatus) {\r\n                if (event.value.ntransactionstatus !== 20) {\r\n                    setFormItem(event.value);\r\n                }\r\n            } else {\r\n                setFormItem(event.value);\r\n            }\r\n\r\n        } else {\r\n            setFormItem(event.value);\r\n        }\r\n\r\n    }, []);\r\n\r\n\r\n    const handleFocus = () => {\r\n        setFocused(true);\r\n    };\r\n\r\n    const handleBlur = () => {\r\n        setFocused(false);\r\n    };\r\n    const { onFocus, onBlur } = useAsyncFocusBlur({\r\n        onFocus: handleFocus,\r\n        onBlur: handleBlur,\r\n    });\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <SchedulerEditItem\r\n                ref={ref}\r\n                {...props}\r\n                // style={{\r\n                //     ...props.style,\r\n                //     // backgroundColor:  \"yellow\",\r\n                //     // color:\"black\"\r\n                //     //  height: '100px'\r\n                //     //background: `url(${props.dataItem.image})`,\r\n                // }}\r\n\r\n                style={{\r\n                    ...props.style,\r\n                    boxShadow: focused ? \"rgb(4 20 43 / 75%) 0px 5px 20px\" : undefined,\r\n                }}\r\n                // onFocus={handleFocus}\r\n                onFocus={onFocus}\r\n                onBlur={onBlur}\r\n                formItem={formItem}\r\n                onFormItemChange={handleFormItemChange}\r\n                //form={FormWithCustomEditor}\r\n                // onDoubleClick={handleFormItemChange1\r\n                // }\r\n                onDoubleClickAction={null}\r\n            />\r\n\r\n        </React.Fragment>\r\n    );\r\n};\r\nexport default connect(mapStateToProps, { getInstrumentForSchedule })(CustomEditItem);\r\n\r\nexport const CustomTask = (props) => {\r\n    return (\r\n        <React.Fragment>\r\n            <SchedulerTask\r\n                {...props}\r\n\r\n                style={{\r\n                    ...props.style,\r\n                    backgroundColor: props.dataItem.ntransactionstatus !== -1 ? props.dataItem.color : \"#175a8d\",\r\n                    //  borderRadius: \"8px\",\r\n                    // height: 32,\r\n                }}\r\n\r\n            >  </SchedulerTask>\r\n\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\n// export const CustomEditSlot = (props) => {\r\n//     const [formItem, setFormItem] = React.useState(null);\r\n//     const handleFormItemChange = React.useCallback(\r\n//         (event) => {\r\n//             if (props.isWorkDay && props.isWorkHour) {\r\n//                 setFormItem(event.value);\r\n//             }\r\n//         },\r\n//         [props.isWorkDay, props.isWorkHour]\r\n//     );\r\n//     return (\r\n//         <SchedulerEditSlot\r\n//             {...props}\r\n//             formItem={formItem}\r\n//             onFormItemChange={handleFormItemChange}\r\n//         />\r\n//     );\r\n// };\r\n\r\n\r\nexport const CustomViewSlot = (props) => {\r\n    return (\r\n        props.isAllDay ? null : <SchedulerViewSlot\r\n            {...props}\r\n            style={{\r\n                ...props.style,\r\n                //  cursor: !props.isWorkDay || !props.isWorkHour ? \"no-drop\" : undefined,\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport const CustomEditSlotForMonth = (props) => {\r\n    const [formItem, setFormItem] = React.useState(null);\r\n    const handleFormItemChange = React.useCallback(\r\n        (event) => {\r\n            if (event.value) {\r\n                if (event.value.buttonClick) {\r\n                    if (event.value.ntransactionstatus) {\r\n                        if (event.value.ntransactionstatus !== 20) {  //  setFormItem({...event.value,Ins:[{text:\"1\",value:\"1\"}]});\r\n                            setFormItem(event.value);\r\n                            // setFormItem({ ...event.value, Ins: [{ text: \"1\", value: \"1\" }] });\r\n                        } else {\r\n                            toast.info(intl.formatMessage({ id: \"IDS_ALREADYALLOTED\" }))\r\n                        }\r\n\r\n                    } else {\r\n                        //  setFormItem({...event.value,Ins:[{text:\"1\",value:\"1\"}]});\r\n                        setFormItem(event.value);\r\n                    }\r\n                }\r\n            } else {\r\n                //  setFormItem({...event.value,Ins:[{text:\"1\",value:\"1\"}]});\r\n                setFormItem(event.value);\r\n            }\r\n        },\r\n        []\r\n    );\r\n    return (\r\n        <SchedulerEditSlot\r\n            {...props}\r\n            //  onDoubleClick={ondoubleClick}\r\n            formItem={formItem}\r\n            onFormItemChange={handleFormItemChange}\r\n        > {props.children}\r\n            {/* <Button onClick={(e) => handleFormItemChange({\r\n                value: {\r\n                    start: props.start,\r\n                    end: props.end, isAllDay: true\r\n                }\r\n            })} >{\"to\"}</Button> */}\r\n            {props.editable.add &&\r\n                <Button className=\"btn btn-circle outline-grey nav-link bg-transparent\" role=\"button\"\r\n                    // hidden={this.props.userRoleControlRights.indexOf(this.props.addId) === -1}\r\n                    // data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                    onClick={(e) => handleFormItemChange({\r\n                        value: {\r\n                            start: props.start,\r\n                            end: props.end, isAllDay: true, buttonClick: true\r\n                        }\r\n                    })}\r\n                >\r\n                    <FontAwesomeIcon icon={faPlus} />\r\n                </Button>\r\n            }\r\n        </SchedulerEditSlot>\r\n    );\r\n};\r\n\r\nexport const CustomSlot = (props) => {\r\n\r\n    { console.log(\"checkingg\", props) }\r\n    return (\r\n\r\n        <SchedulerSlot\r\n            // isWorkDay={true}\r\n            // workWeekStart={3}\r\n            // workWeekEnd={5}\r\n            {...props}\r\n            style={{\r\n                ...props.style,\r\n                backgroundColor: parseAdjustDate(props.start) === parseAdjustDate(new Date())\r\n                    ? \"#c7cdd5\"\r\n                    : \"\",\r\n                cursor: props.isWorkDay ? undefined : \"no-drop\",\r\n                // backgroundColor: (!props.isWorkHour || !props.isWorkDay)\r\n                //     ? \"#c7cdd5\"\r\n                //     : \"\",\r\n\r\n\r\n                //content:\"Today\"\r\n            }}\r\n        >\r\n            {props.children}\r\n            {/* {parseAdjustDate(props.start) === parseAdjustDate(new Date()) ? <div style={{\r\n                \"position\": \"relative\",\r\n                \"bottom\": \"12px\",\r\n                \"left\": \"50px\"\r\n            }}  >\r\n                \r\n                <Button onClick={(e) => handleButtonClick(e)}>{\"today\"} </Button>\r\n                 </div>\r\n                \r\n                : \"\"} */}\r\n\r\n        </SchedulerSlot >\r\n    );\r\n};\r\n\r\n\r\nexport const CustomSlotForDayAndWeek = (props) => {\r\n    return (\r\n        <SchedulerSlot\r\n            {...props}\r\n            style={{\r\n                ...props.style,\r\n                backgroundColor: parseAdjustDate(props.start) === parseAdjustDate(new Date())\r\n                    ? \"#c7cdd5\"\r\n                    : \"\",\r\n            }}\r\n        >\r\n            {props.children}\r\n        </SchedulerSlot>\r\n    );\r\n};\r\n\r\n\r\nexport const CustomViewItem = (props) => {\r\n    return (\r\n        <SchedulerViewItem\r\n            {...props}\r\n            style={{\r\n                ...props.style,\r\n                height: \"auto\",\r\n            }}\r\n        >\r\n            {props.children}\r\n        </SchedulerViewItem>\r\n    );\r\n};\r\n\r\nexport const CustomViewSlotForSchCursorOnBothnonHrsAndNonweekend = (props) => {\r\n    return (\r\n        <SchedulerViewSlot\r\n            {...props}\r\n            style={{\r\n                ...props.style,\r\n                minHeight: 5,\r\n                cursor: !props.isWorkDay || !props.isWorkHour ? \"no-drop\" : undefined,\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\n\r\nexport const CustomViewSlotForSchCursorOnBothnonHrs = (props) => {\r\n    return (\r\n        <SchedulerViewSlot\r\n            {...props}\r\n            style={{\r\n                ...props.style,\r\n                minHeight: 5,\r\n                cursor: !props.isWorkDay ? undefined : !props.isWorkHour ? \"no-drop\" : undefined,\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport const CustomViewSlotForSchCursorOnBothnonWorkend = (props) => {\r\n    return (\r\n        <SchedulerViewSlot\r\n            {...props}\r\n            style={{\r\n                ...props.style,\r\n                minHeight: 5,\r\n                cursor:\"no-drop\" //!props.isWorkDay ? \"no-drop\" : undefined,\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport const CustomViewSlotForSchwithoutCursor = (props) => {\r\n    return (\r\n        <SchedulerViewSlot\r\n            {...props}\r\n            style={{\r\n                ...props.style,\r\n                minHeight: 5\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport const CustomViewSlotForMonth = (props) => {\r\n    return (\r\n        <SchedulerViewSlot\r\n            {...props}\r\n            style={{\r\n                ...props.style,\r\n                minHeight: 10,\r\n                cursor:  \"no-drop\" ,\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\n\r\nexport const CustomEditSlotForNonWorkinghrsandday = (props) => {\r\n    const [formItem, setFormItem] = React.useState(null);\r\n    const handleFormItemChange = React.useCallback(\r\n        (event) => {\r\n            if (props.isWorkDay && props.isWorkHour) {\r\n                setFormItem(event.value);\r\n            }\r\n        },\r\n        [props.isWorkDay, props.isWorkHour]\r\n    );\r\n    return (\r\n        <SchedulerEditSlot\r\n            {...props}\r\n            formItem={formItem}\r\n            onFormItemChange={handleFormItemChange}\r\n        />\r\n    );\r\n};\r\n\r\nexport const CustomEditSlotForNonWorkinghrs = (props) => {\r\n    const [formItem, setFormItem] = React.useState(null);\r\n    const handleFormItemChange = React.useCallback(\r\n        (event) => {\r\n            if (!props.isWorkDay || props.isWorkHour) {\r\n                setFormItem(event.value);\r\n            }\r\n        },\r\n        [props.isWorkDay, props.isWorkHour]\r\n    );\r\n    return (\r\n        <SchedulerEditSlot\r\n            {...props}\r\n            formItem={formItem}\r\n            onFormItemChange={handleFormItemChange}\r\n        />\r\n    );\r\n};\r\n\r\nexport const CustomEditSlotForNonWorkingday = (props) => {\r\n    const [formItem, setFormItem] = React.useState(null);\r\n    const handleFormItemChange = React.useCallback(\r\n        (event) => {\r\n            if (props.isWorkDay) {\r\n                setFormItem(event.value);\r\n            }\r\n        },\r\n        [props.isWorkDay]\r\n    );\r\n    return (\r\n        <SchedulerEditSlot\r\n            {...props}\r\n            formItem={formItem}\r\n            onFormItemChange={handleFormItemChange}\r\n        />\r\n    );\r\n};"]},"metadata":{},"sourceType":"module"}