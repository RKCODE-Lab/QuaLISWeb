{"ast":null,"code":"import { toast } from \"react-toastify\";\nimport { intl } from \"../components/App\";\nimport { constructOptionList, replaceUpdatedObject, sortData } from \"../components/CommonScript\";\nimport { reportCOAType, REPORTTYPE } from \"../components/Enumeration\";\nimport TrainingUpdateChildTab from \"../pages/competencemanagement/trainingupdate/TrainingUpdateChildTab\";\nimport rsapi from \"../rsapi\";\nimport { initRequest } from \"./LoginAction\";\nimport { DEFAULT_RETURN } from \"./LoginTypes\";\nexport function getSubSampleBySample(methodParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"coarelease/getSubSampleBySample\", {\n      nsitecode: methodParam.nsitecode,\n      npreregno: methodParam.primaryKeyValue,\n      userinfo: methodParam.userInfo\n    }).then(response => {\n      // let releaseSubSample = response.data[\"ReleaseSubSample\"];  \n      let releaseSubSample = methodParam.masterData.releaseSubSample || new Map();\n      releaseSubSample.set(parseInt(Object.keys(response.data[\"ReleaseSubSample\"])[0]), Object.values(response.data[\"ReleaseSubSample\"])[0]);\n      let masterData = { ...methodParam.masterData,\n        releaseSubSample,\n        ...response.data\n      }; //  sortData(masterData);\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          data: methodParam.data,\n          releaseSubSample,\n          dataState: methodParam.dataState,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReleaseSelectedSamples(userInfo, controlId, selectedSampleData, data, flag) {\n  let npreregno = \"\";\n  selectedSampleData.map((item, i) => {\n    let s = \"\";\n    npreregno = npreregno + item.npreregno;\n\n    if (i < selectedSampleData.length) {\n      if (i < selectedSampleData.length - 1) {\n        s = \",\";\n      }\n\n      npreregno = npreregno + s;\n    } else {\n      npreregno = item.npreregno;\n    }\n  });\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"coarelease/updateReleasedSample\", {\n      npreregno: npreregno,\n      nregtypecode: selectedSampleData[0].nregtypecode,\n      nregsubtypecode: selectedSampleData[0].nregsubtypecode,\n      userinfo: userInfo\n    }).then(response => {\n      // let releaseSubSample =response.data[\"ReleaseSample\"];           \n      let masterData = { ...data,\n        ...response.data\n      };\n      sortData(masterData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          data: response.data,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      console.log(\"errordot\", error);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReleaseSelectedSubSamples(userInfo, controlId, selectedSubSampleData, data, flag) {\n  let ntransactionsamplecode = \"\";\n  let npreregno = \"\";\n  selectedSubSampleData.map((item, i) => {\n    let s = \"\";\n    ntransactionsamplecode = ntransactionsamplecode + item.ntransactionsamplecode;\n    npreregno = npreregno + item.npreregno;\n\n    if (i < selectedSubSampleData.length) {\n      if (i < selectedSubSampleData.length - 1) {\n        s = \",\";\n      }\n\n      ntransactionsamplecode = ntransactionsamplecode + s;\n      npreregno = npreregno + s;\n    } else {\n      ntransactionsamplecode = item.ntransactionsamplecode;\n      npreregno = item.npreregno;\n    }\n  });\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"coarelease/updateReleasedSubSample\", {\n      npreregno: npreregno,\n      ntransactionsamplecode: ntransactionsamplecode,\n      userinfo: userInfo\n    }).then(response => {\n      // let releaseSubSample =response.data[\"ReleaseSample\"];           \n      let masterData = { ...data,\n        ...response.data\n      };\n      sortData(masterData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          data: response.data,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      console.log(\"errordot\", error);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getTestBySample(methodParam, kjkj) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"coarelease/getTestBySample\", {\n      nsitecode: methodParam.nsitecode,\n      npreregno: methodParam.viewRow.npreregno,\n      ntransactionsamplecode: methodParam.viewRow.ntransactionsamplecode,\n      userinfo: methodParam.userInfo\n    }).then(response => {\n      let releaseTest = methodParam.masterData.releaseTest || new Map();\n      releaseTest.set(parseInt(Object.keys(response.data[\"ReleaseTest\"])[0]), Object.values(response.data[\"ReleaseTest\"])[0]);\n      let masterData = { ...methodParam.masterData,\n        releaseTest,\n        ...response.data\n      }; //  sortData(masterData);\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          data: methodParam.data,\n          releaseTest,\n          dataState: methodParam.dataState,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReleaseSelectedTest(userInfo, controlId, selectedTestData, data, flag) {\n  let ntransactionsamplecode = \"\";\n  let npreregno = \"\";\n  let ntransactiontestcode = \"\";\n  selectedTestData.map((item, i) => {\n    let s = \"\";\n    ntransactionsamplecode = ntransactionsamplecode + item.ntransactionsamplecode;\n    npreregno = npreregno + item.npreregno;\n    ntransactiontestcode = ntransactiontestcode + item.ntransactiontestcode;\n\n    if (i < selectedTestData.length) {\n      if (i < selectedTestData.length - 1) {\n        s = \",\";\n      }\n\n      ntransactionsamplecode = ntransactionsamplecode + s;\n      npreregno = npreregno + s;\n      ntransactiontestcode = ntransactiontestcode + s;\n    } else {\n      ntransactionsamplecode = item.ntransactionsamplecode;\n      npreregno = item.npreregno;\n      ntransactiontestcode = item.ntransactiontestcode;\n    }\n  });\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"coarelease/updateReleasedTest\", {\n      npreregno: npreregno,\n      ntransactionsamplecode: ntransactionsamplecode,\n      ntransactiontestcode: ntransactiontestcode,\n      userinfo: userInfo\n    }).then(response => {\n      // let releaseSubSample =response.data[\"ReleaseSample\"];           \n      let masterData = { ...data,\n        ...response.data\n      };\n      sortData(masterData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          data: response.data,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      console.log(\"errordot\", error);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n} // export function getReleaseSelectedSampleSubSampleTest(userInfo, control, SampleArray1, SubSampleArray1, TestArray1,SampleArray,SubSampleArray,TestArray,Data1,k) {    \n//    let ntransactionsamplecode = \"\"\n//    let npreregno = \"\"\n//     let ntransactiontestcode = \"\" \n//     let bFlag = \"\" \n//     if (TestArray !== undefined) {\n//         TestArray.map(test => {\n//             ntransactionsamplecode += test.ntransactionsamplecode + ',';\n//             npreregno += test.npreregno + ',';\n//             ntransactiontestcode += test.ntransactiontestcode + ',';\n//         })\n//         TestArray = {\n//             ntransactionsamplecode: ntransactionsamplecode,\n//             npreregno: npreregno,\n//             ntransactiontestcode: ntransactiontestcode,\n//             bFlag:\"3\"\n//         }\n//     }   \n//     if (SubSampleArray !== undefined) {\n//         SubSampleArray.map(SubSample => {\n//             ntransactionsamplecode += SubSample.ntransactionsamplecode + ',';\n//             npreregno += SubSample.npreregno + ',';\n//             ntransactiontestcode += SubSample.ntransactiontestcode + ',';\n//             SubSampleArray = {\n//                 ntransactionsamplecode: ntransactionsamplecode,\n//                 npreregno: npreregno,\n//                 ntransactiontestcode: ntransactiontestcode,\n//                 bFlag:\"2\"\n//             }\n//         })\n//     }\n//     if (SampleArray !== undefined) {\n//         SampleArray.map(Sample => {\n//             ntransactionsamplecode += Sample.ntransactionsamplecode + ',';\n//             npreregno += Sample.npreregno + ',';\n//             ntransactiontestcode += Sample.ntransactiontestcode + ',';\n//         })\n//         SampleArray = {\n//             ntransactionsamplecode: ntransactionsamplecode,\n//             npreregno: npreregno,\n//             ntransactiontestcode: ntransactiontestcode,\n//             bFlag:\"1\"\n//         }\n//     }\n//     let allNpreregno = []\n//     if (SampleArray1 !== undefined) {\n//         SampleArray1.map(temp => {\n//             allNpreregno += temp + ','\n//         })\n//     }\n//     let allNtransactionsamplecode = []\n//     if (SubSampleArray1 !== undefined) {\n//         SubSampleArray1.map(temp => {\n//             allNtransactionsamplecode += temp + ','\n//         })\n//     }\n//     let allNtransactiontestcode = []\n//     if (TestArray1 !== undefined) {\n//         TestArray1.map(temp => {\n//             allNtransactiontestcode += temp + ','\n//         })\n//     }\n//     return function (dispatch) {  \n//     dispatch(initRequest(true));\n//     return rsapi.post(\"coarelease/updateStatus\", \n//         {\n//             SampleArray:SampleArray,\n//             SubSampleArray:SubSampleArray,\n//             TestArray: TestArray,\n//             userinfo: userInfo,\n//             allNtransactionsamplecode: allNtransactionsamplecode,\n//             allNtransactiontestcode: allNtransactiontestcode,\n//             allNpreregno:allNpreregno\n//         })\n//     .then(response=>{ \n//        // let releaseSubSample = response.data[\"ReleaseSubSample\"];  \n//        let releaseSubSample = Data1.releaseSubSample || new Map();           \n//        let releaseTest = Data1.releaseTest || new Map();           \n//        releaseSubSample = Data1.releaseSubSample || new Map();           \n//              releaseTest = Data1.releaseTest || new Map();\n// if(response.data.body[\"cFlag\"]===\"3\"){\n//             releaseTest.set(parseInt(Object.keys(response.data.body[\"ReleaseTest\"])[0]), Object.values(response.data.body[\"ReleaseTest\"])[0]);\n//        }\n//       //  else {\n//         if(response.data.body[\"cFlag\"]===\"2\"){\n//             releaseSubSample.set(parseInt(Object.keys(response.data.body[\"ReleaseSubSample\"])[0]), Object.values(response.data.body[\"ReleaseSubSample\"])[0]);\n//         }\n//         let masterData = { ...Data1, releaseSubSample,releaseTest,...response.data.body};\n//             sortData(masterData);\n//             dispatch({type: DEFAULT_RETURN, payload:{masterData,\n//                 data:releaseSubSample,releaseTest,\n//                       //  dataState:dataState,\n//                         loading:false\n//                     }});\n//         })\n//         .catch(error=>{\n//             dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\n//             if (error.response.status === 500){\n//                 toast.error(error.message);\n//             } \n//             else{               \n//                 toast.warn(error.response.data);\n//             }  \n//         })        \n//     }\n// }\n\nexport function getReleaseSelectedSampleSubSampleTest(userInfo, Data1, inputData) {\n  return function (dispatch) {\n    if (inputData !== undefined && inputData.npreregno !== \"\") {\n      dispatch(initRequest(true));\n      return rsapi.post(\"coarelease/updateStatus\", inputData).then(response => {\n        if (response.data.statusCodeValue !== 200) {\n          toast.warn(intl.formatMessage({\n            id: response.data.body\n          }));\n          dispatch({\n            type: DEFAULT_RETURN,\n            payload: {\n              loading: false\n            }\n          });\n        } else {\n          let selected = [];\n          let expanded = [];\n          let testdata = [];\n          let subsampleData = [];\n          let subsampleexpanded = [];\n          let subsampleselected = [];\n          let subsampleDataRes = [];\n          let y = [];\n          let a = [];\n          let SubSample = Object.values(Data1.ReleaseSubSample).forEach(item1 => {\n            item1.map(item2 => {\n              subsampleData.push(item2);\n\n              if (item2.expanded === true) {\n                subsampleexpanded.push({\n                  \"ntransactionsamplecode\": item2.ntransactionsamplecode,\n                  \"expanded\": item2.expanded\n                });\n              }\n\n              if (item2.selected === true) {\n                subsampleselected.push({\n                  \"ntransactionsamplecode\": item2.ntransactionsamplecode,\n                  \"selected\": item2.selected\n                });\n              }\n            });\n          });\n          let SubSampleRes = Object.values(response.data.body.ReleaseSubSample).forEach(item1 => {\n            item1.map(item2 => {\n              subsampleDataRes.push(item2);\n              subsampleexpanded.map(item1 => {\n                if (item1.ntransactionsamplecode === item2.ntransactionsamplecode) {\n                  item2[\"expanded\"] = true;\n                }\n              });\n              subsampleselected.map(item1 => {\n                if (item1.ntransactionsamplecode === item2.ntransactionsamplecode) {\n                  item2[\"selected\"] = true;\n                }\n              });\n            });\n          });\n          let testDataRes = [];\n          let testDataPrevious = [];\n          let testDataSelected = [];\n          let testDataExpanded = [];\n          testDataSelected = Object.values(Data1.ReleaseTest).forEach(item1 => {\n            item1.map(item2 => {\n              testDataPrevious.push(item2);\n\n              if (item2.selected === true) {\n                testdata.push({\n                  \"ntransactiontestcode\": item2.ntransactiontestcode\n                });\n              }\n            });\n          });\n          testDataExpanded = Object.values(response.data.body.ReleaseTest || {}).forEach(item1 => {\n            item1.map(item2 => {\n              testDataRes.push(item2);\n              testdata.map(x => {\n                if (item2.ntransactiontestcode === x.ntransactiontestcode) {\n                  item2[\"selected\"] = true;\n                }\n              });\n            });\n          });\n          let ReleaseTest = replaceUpdatedObject(testDataRes, testDataPrevious, 'ntransactiontestcode');\n          let ReleaseTest1 = groupBy(ReleaseTest, 'ntransactionsamplecode');\n          let ReleaseSubSample = replaceUpdatedObject(subsampleDataRes, subsampleData, 'ntransactionsamplecode');\n          let ReleaseSubSample1 = groupBy(ReleaseSubSample, 'npreregno');\n\n          function groupBy(objectArray, property) {\n            return objectArray.reduce((acc, obj) => {\n              const key = obj[property];\n\n              if (!acc[key]) {\n                acc[key] = [];\n              }\n\n              acc[key].push(obj);\n              return acc;\n            }, {});\n          } // Data1.ReleaseSample.map(item => {\n          //     delete item[\"expanded\"]\n          // });\n\n\n          Data1.ReleaseSample.map(item2 => {\n            if (item2.expanded === true) {\n              expanded.push({\n                \"npreregno\": item2.npreregno,\n                \"expanded\": item2.expanded\n              });\n            }\n\n            if (item2.selected === true) {\n              selected.push({\n                \"npreregno\": item2.npreregno,\n                \"selected\": item2.selected\n              });\n            }\n          });\n          response.data.body.ReleaseSample && response.data.body.ReleaseSample.map(item2 => {\n            expanded.map(item1 => {\n              if (item1.npreregno === item2.npreregno) {\n                item2[\"expanded\"] = true;\n              }\n            });\n            selected.map(item1 => {\n              if (item1.npreregno === item2.npreregno) {\n                item2[\"selected\"] = true;\n              }\n            });\n          });\n          let masterData = { ...Data1,\n            ...response.data.body,\n            ReleaseTest: ReleaseTest1,\n            ReleaseSubSample: ReleaseSubSample1,\n            ReleaseSample: replaceUpdatedObject(response.data.body.ReleaseSample, Data1.ReleaseSample, 'npreregno')\n          };\n          console.log(\"ReleasedTest,\", masterData); // sortData(masterData);\n          //  dispatch(generateReport(inputData,masterData))\n\n          dispatch({\n            type: DEFAULT_RETURN,\n            payload: {\n              masterData,\n              change: inputData.change,\n              loading: false\n            }\n          });\n        }\n      }).catch(error => {\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            loading: false\n          }\n        });\n\n        if (error.response.status === 500) {\n          toast.error(error.message);\n          console.log(\"ErrorRelease,\", error);\n        } else {\n          toast.warn(error.response.data);\n        }\n      });\n    } else {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_SELECTANYONESAMPLE/SUBSAMPLE/TEST\"\n      }));\n    }\n  };\n}\nexport function getReleaseRegistrationType(inputData) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    rsapi.post(\"coarelease/getRegistrationType\", inputData).then(response => {\n      let responseData = { ...response.data\n      };\n      responseData = sortData(responseData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData: { ...inputData.masterData,\n            ...responseData,\n            SampleTypeValue: inputData.SampleTypeValue\n          },\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReleaseRegistrationSubType(inputData) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    rsapi.post(\"coarelease/getRegistrationSubType\", inputData).then(response => {\n      let responseData = { ...response.data\n      };\n      responseData = sortData(responseData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData: { ...inputData.masterData,\n            ...responseData,\n            RegTypeValue: inputData.RegTypeValue\n          },\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReleaseFilterStatus(inputData) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    rsapi.post(\"coarelease/getFilterStatus\", inputData).then(response => {\n      let responseData = { ...response.data\n      };\n      responseData = sortData(responseData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData: { ...inputData.masterData,\n            ...responseData,\n            RegSubTypeValue: inputData.RegSubTypeValue\n          },\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReleaseFilterBasedTest(inputData) {\n  return function (dispatch) {\n    if (inputData.napprovalversioncode) {\n      dispatch(initRequest(true));\n      rsapi.post(\"coarelease/getFilterBasedTest\", inputData).then(response => {\n        let responseData = { ...response.data\n        };\n        responseData = sortData(responseData);\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            masterData: { ...inputData.masterData,\n              ...responseData,\n              RegSubTypeValue: inputData.RegSubTypeValue,\n              ndesigntemplatemappingcode: inputData.ndesigntemplatemappingcode,\n              DesignTemplateMappingValue: inputData.DesignTemplateMappingValue\n            },\n            loading: false\n          }\n        });\n\n        if (response.data.rtn) {\n          toast.warn(response.data.rtn);\n        }\n      }).catch(error => {\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            loading: false\n          }\n        });\n\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n      });\n    } else {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_PLSSELECTALLVALUESINFILTER\"\n      }));\n    }\n  };\n}\nexport function getReleaseApprovalVersion(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    rsapi.post(\"coarelease/getApprovalVersion\", inputParam.inputData).then(response => {\n      let responseData = { ...response.data\n      };\n      responseData = sortData(responseData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData: { ...inputParam.masterData,\n            ...responseData // fromDate: inputParam.inputData.dfrom,\n            // toDate: inputParam.inputData.dto,\n\n          },\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReleaseSample(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    rsapi.post(\"coarelease/getReleaseSample\", inputParam.inputData).then(response => {\n      let responseData = { ...response.data\n      }; // responseData = sortData(responseData)\n\n      let masterData = { ...inputParam.masterData,\n        ...responseData\n      };\n\n      if (inputParam.searchSampleRef !== undefined && inputParam.searchSampleRef.current !== null) {\n        inputParam.searchSampleRef.current.value = \"\";\n        masterData['searchedSample'] = undefined;\n      }\n\n      if (inputParam.searchSubSampleRef !== undefined && inputParam.searchSubSampleRef.current !== null) {\n        inputParam.searchSubSampleRef.current.value = \"\";\n        masterData['searchedSubSample'] = undefined;\n      }\n\n      if (inputParam.searchTestRef !== undefined && inputParam.searchTestRef.current !== null) {\n        inputParam.searchTestRef.current.value = \"\"; // masterData['searchedTest'] = undefined\n\n        masterData['searchedTests'] = undefined;\n      }\n\n      sortData(masterData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          loading: false,\n          showFilter: false,\n          skip: 0,\n          take: inputParam.take,\n          testskip: 0,\n          testtake: inputParam.testtake,\n          resultDataState: { ...inputParam.resultDataState,\n            sort: undefined,\n            filter: undefined\n          },\n          instrumentDataState: { ...inputParam.instrumentDataState,\n            sort: undefined,\n            filter: undefined\n          },\n          materialDataState: { ...inputParam.materialDataState,\n            sort: undefined,\n            filter: undefined\n          },\n          taskDataState: { ...inputParam.taskDataState,\n            sort: undefined,\n            filter: undefined\n          },\n          documentDataState: { ...inputParam.documentDataState,\n            sort: undefined,\n            filter: undefined\n          },\n          resultChangeDataState: { ...inputParam.resultChangeDataState,\n            sort: undefined,\n            filter: undefined\n          },\n          testCommentDataState: { ...inputParam.testCommentDataState,\n            sort: undefined,\n            filter: undefined\n          },\n          historyDataState: { ...inputParam.historyDataState,\n            sort: undefined,\n            filter: undefined\n          },\n          samplePrintHistoryDataState: { ...inputParam.samplePrintHistoryDataState,\n            sort: undefined,\n            filter: undefined\n          },\n          sampleHistoryDataState: { ...inputParam.sampleHistoryDataState,\n            sort: undefined,\n            filter: undefined\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getCOAReportType(releaseParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"coarelease/getCOAReportType\", {\n      userinfo: releaseParam.userInfo\n    }).then(response => {\n      let reportType = [];\n      const reportTypeMap = constructOptionList(response.data.ReportType || [], \"ncoareporttypecode\", \"scoareporttypename\", undefined, undefined, false);\n      const ReportTypeList = reportTypeMap.get(\"OptionList\");\n      let selectedRecord = {\n        \"ncoareporttypecode\": {\n          \"value\": response.data.ReportType[0].ncoareporttypecode,\n          \"label\": response.data.ReportType[0].scoareporttypename\n        }\n      };\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          operation: null,\n          modalName: undefined,\n          loading: false,\n          dataState: undefined //,modalShow: true\n          ,\n          ReportTypeList,\n          modalTitle: \"IDS_RELEASEANDREPORTGENERATION\",\n          selectedRecord\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function generateReport(inputParam, Data) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    const inputData = {\n      npreregno: inputParam.npreregno,\n      //   nsectioncode: inputParam.nsectioncode || -1,\n      userinfo: inputParam.userinfo,\n      nprimarykey: inputParam.npreregno,\n      ncoareporttypecode: reportCOAType.SAMPLEWISE,\n      nreporttypecode: REPORTTYPE.COAREPORT,\n      sprimarykeyname: \"npreregno\",\n      ncontrolcode: inputParam.ncontrolCode,\n      nregtypecode: inputParam.nregtypecode,\n      nregsubtypecode: inputParam.nregsubtypecode,\n      ntransactiontestcode: inputParam.ntransactiontestcode,\n      napproveconfversioncode: inputParam.napprovalversioncode,\n      action: inputParam.action\n    };\n    rsapi.post(\"approval/generateCOAReport\", inputData).then(response => {\n      if (response.data.rtn === \"Success\") {\n        document.getElementById(\"download_data\").setAttribute(\"href\", response.data.filepath);\n        document.getElementById(\"download_data\").click();\n      } else {\n        toast.warn(response.data.rtn);\n      }\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false,\n          change: inputParam.change,\n          masterData: Data,\n          modalShow: false,\n          selectedRecord: {},\n          loadEsign: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/COAReleaseAction.js"],"names":["toast","intl","constructOptionList","replaceUpdatedObject","sortData","reportCOAType","REPORTTYPE","TrainingUpdateChildTab","rsapi","initRequest","DEFAULT_RETURN","getSubSampleBySample","methodParam","dispatch","post","nsitecode","npreregno","primaryKeyValue","userinfo","userInfo","then","response","releaseSubSample","masterData","Map","set","parseInt","Object","keys","data","values","type","payload","dataState","loading","catch","error","status","message","warn","getReleaseSelectedSamples","controlId","selectedSampleData","flag","map","item","i","s","length","nregtypecode","nregsubtypecode","console","log","getReleaseSelectedSubSamples","selectedSubSampleData","ntransactionsamplecode","getTestBySample","kjkj","viewRow","releaseTest","getReleaseSelectedTest","selectedTestData","ntransactiontestcode","getReleaseSelectedSampleSubSampleTest","Data1","inputData","undefined","statusCodeValue","formatMessage","id","body","selected","expanded","testdata","subsampleData","subsampleexpanded","subsampleselected","subsampleDataRes","y","a","SubSample","ReleaseSubSample","forEach","item1","item2","push","SubSampleRes","testDataRes","testDataPrevious","testDataSelected","testDataExpanded","ReleaseTest","x","ReleaseTest1","groupBy","ReleaseSubSample1","objectArray","property","reduce","acc","obj","key","ReleaseSample","change","getReleaseRegistrationType","responseData","SampleTypeValue","getReleaseRegistrationSubType","RegTypeValue","getReleaseFilterStatus","RegSubTypeValue","getReleaseFilterBasedTest","napprovalversioncode","ndesigntemplatemappingcode","DesignTemplateMappingValue","rtn","getReleaseApprovalVersion","inputParam","getReleaseSample","searchSampleRef","current","value","searchSubSampleRef","searchTestRef","showFilter","skip","take","testskip","testtake","resultDataState","sort","filter","instrumentDataState","materialDataState","taskDataState","documentDataState","resultChangeDataState","testCommentDataState","historyDataState","samplePrintHistoryDataState","sampleHistoryDataState","getCOAReportType","releaseParam","reportType","reportTypeMap","ReportType","ReportTypeList","get","selectedRecord","ncoareporttypecode","scoareporttypename","operation","modalName","modalTitle","generateReport","Data","nprimarykey","SAMPLEWISE","nreporttypecode","COAREPORT","sprimarykeyname","ncontrolcode","ncontrolCode","napproveconfversioncode","action","document","getElementById","setAttribute","filepath","click","modalShow","loadEsign"],"mappings":"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","sourcesContent":["import { toast } from \"react-toastify\";\r\nimport { intl } from \"../components/App\";\r\nimport { constructOptionList, replaceUpdatedObject, sortData } from \"../components/CommonScript\";\r\nimport { reportCOAType, REPORTTYPE } from \"../components/Enumeration\";\r\nimport TrainingUpdateChildTab from \"../pages/competencemanagement/trainingupdate/TrainingUpdateChildTab\";\r\nimport rsapi from \"../rsapi\";\r\nimport { initRequest } from \"./LoginAction\";\r\nimport { DEFAULT_RETURN } from \"./LoginTypes\";\r\n\r\nexport function getSubSampleBySample(methodParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"coarelease/getSubSampleBySample\",\r\n            {\r\n                nsitecode: methodParam.nsitecode, npreregno: methodParam.primaryKeyValue,\r\n                userinfo: methodParam.userInfo\r\n            })\r\n            .then(response => {\r\n                // let releaseSubSample = response.data[\"ReleaseSubSample\"];  \r\n                let releaseSubSample = methodParam.masterData.releaseSubSample || new Map();\r\n\r\n                releaseSubSample.set(parseInt(Object.keys(response.data[\"ReleaseSubSample\"])[0]), Object.values(response.data[\"ReleaseSubSample\"])[0]);\r\n                let masterData = { ...methodParam.masterData, releaseSubSample, ...response.data };\r\n\r\n                //  sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        data: methodParam.data, releaseSubSample,\r\n                        dataState: methodParam.dataState,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReleaseSelectedSamples(userInfo, controlId, selectedSampleData, data, flag) {\r\n    let npreregno = \"\"\r\n    selectedSampleData.map((item, i) => {\r\n        let s = \"\"\r\n        npreregno = npreregno + item.npreregno;\r\n        if (i < selectedSampleData.length) {\r\n            if (i < selectedSampleData.length - 1) {\r\n                s = \",\"\r\n            }\r\n            npreregno = npreregno + s;\r\n        }\r\n        else {\r\n            npreregno = item.npreregno;\r\n        }\r\n    })\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"coarelease/updateReleasedSample\",\r\n            {\r\n                npreregno: npreregno,\r\n                nregtypecode: selectedSampleData[0].nregtypecode,\r\n                nregsubtypecode: selectedSampleData[0].nregsubtypecode,\r\n\r\n                userinfo: userInfo\r\n            })\r\n            .then(response => {\r\n                // let releaseSubSample =response.data[\"ReleaseSample\"];           \r\n                let masterData = { ...data, ...response.data };\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        data: response.data,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log(\"errordot\", error)\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleaseSelectedSubSamples(userInfo, controlId, selectedSubSampleData, data, flag) {\r\n    let ntransactionsamplecode = \"\"\r\n    let npreregno = \"\"\r\n\r\n    selectedSubSampleData.map((item, i) => {\r\n        let s = \"\"\r\n        ntransactionsamplecode = ntransactionsamplecode + item.ntransactionsamplecode;\r\n        npreregno = npreregno + item.npreregno;\r\n\r\n        if (i < selectedSubSampleData.length) {\r\n            if (i < selectedSubSampleData.length - 1) {\r\n                s = \",\"\r\n            }\r\n            ntransactionsamplecode = ntransactionsamplecode + s;\r\n            npreregno = npreregno + s;\r\n\r\n        }\r\n        else {\r\n            ntransactionsamplecode = item.ntransactionsamplecode;\r\n            npreregno = item.npreregno;\r\n\r\n        }\r\n    })\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"coarelease/updateReleasedSubSample\",\r\n            {\r\n\r\n                npreregno: npreregno,\r\n                ntransactionsamplecode: ntransactionsamplecode,\r\n\r\n                userinfo: userInfo\r\n            })\r\n\r\n            .then(response => {\r\n                // let releaseSubSample =response.data[\"ReleaseSample\"];           \r\n                let masterData = { ...data, ...response.data };\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        data: response.data,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log(\"errordot\", error)\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getTestBySample(methodParam, kjkj) {\r\n\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"coarelease/getTestBySample\",\r\n            {\r\n                nsitecode: methodParam.nsitecode, npreregno: methodParam.viewRow.npreregno,\r\n                ntransactionsamplecode: methodParam.viewRow.ntransactionsamplecode,\r\n                userinfo: methodParam.userInfo\r\n            })\r\n            .then(response => {\r\n                let releaseTest = methodParam.masterData.releaseTest || new Map();\r\n                releaseTest.set(parseInt(Object.keys(response.data[\"ReleaseTest\"])[0]), Object.values(response.data[\"ReleaseTest\"])[0]);\r\n                let masterData = { ...methodParam.masterData, releaseTest, ...response.data };\r\n\r\n                //  sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        data: methodParam.data,\r\n                        releaseTest,\r\n                        dataState: methodParam.dataState,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleaseSelectedTest(userInfo, controlId, selectedTestData, data, flag) {\r\n    let ntransactionsamplecode = \"\"\r\n    let npreregno = \"\"\r\n    let ntransactiontestcode = \"\"\r\n\r\n    selectedTestData.map((item, i) => {\r\n        let s = \"\"\r\n        ntransactionsamplecode = ntransactionsamplecode + item.ntransactionsamplecode;\r\n        npreregno = npreregno + item.npreregno;\r\n        ntransactiontestcode = ntransactiontestcode + item.ntransactiontestcode;\r\n\r\n        if (i < selectedTestData.length) {\r\n            if (i < selectedTestData.length - 1) {\r\n                s = \",\"\r\n            }\r\n            ntransactionsamplecode = ntransactionsamplecode + s;\r\n            npreregno = npreregno + s;\r\n            ntransactiontestcode = ntransactiontestcode + s;\r\n\r\n        }\r\n        else {\r\n            ntransactionsamplecode = item.ntransactionsamplecode;\r\n            npreregno = item.npreregno;\r\n            ntransactiontestcode = item.ntransactiontestcode;\r\n\r\n        }\r\n    })\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"coarelease/updateReleasedTest\",\r\n            {\r\n\r\n                npreregno: npreregno,\r\n                ntransactionsamplecode: ntransactionsamplecode,\r\n                ntransactiontestcode: ntransactiontestcode,\r\n\r\n                userinfo: userInfo\r\n            })\r\n\r\n            .then(response => {\r\n                // let releaseSubSample =response.data[\"ReleaseSample\"];           \r\n                let masterData = { ...data, ...response.data };\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        data: response.data,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log(\"errordot\", error)\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n// export function getReleaseSelectedSampleSubSampleTest(userInfo, control, SampleArray1, SubSampleArray1, TestArray1,SampleArray,SubSampleArray,TestArray,Data1,k) {    \r\n//    let ntransactionsamplecode = \"\"\r\n//    let npreregno = \"\"\r\n//     let ntransactiontestcode = \"\" \r\n//     let bFlag = \"\" \r\n//     if (TestArray !== undefined) {\r\n//         TestArray.map(test => {\r\n//             ntransactionsamplecode += test.ntransactionsamplecode + ',';\r\n//             npreregno += test.npreregno + ',';\r\n//             ntransactiontestcode += test.ntransactiontestcode + ',';\r\n//         })\r\n//         TestArray = {\r\n//             ntransactionsamplecode: ntransactionsamplecode,\r\n//             npreregno: npreregno,\r\n//             ntransactiontestcode: ntransactiontestcode,\r\n//             bFlag:\"3\"\r\n\r\n//         }\r\n//     }   \r\n//     if (SubSampleArray !== undefined) {\r\n//         SubSampleArray.map(SubSample => {\r\n//             ntransactionsamplecode += SubSample.ntransactionsamplecode + ',';\r\n//             npreregno += SubSample.npreregno + ',';\r\n//             ntransactiontestcode += SubSample.ntransactiontestcode + ',';\r\n//             SubSampleArray = {\r\n//                 ntransactionsamplecode: ntransactionsamplecode,\r\n//                 npreregno: npreregno,\r\n//                 ntransactiontestcode: ntransactiontestcode,\r\n//                 bFlag:\"2\"\r\n\r\n//             }\r\n//         })\r\n//     }\r\n//     if (SampleArray !== undefined) {\r\n\r\n//         SampleArray.map(Sample => {\r\n//             ntransactionsamplecode += Sample.ntransactionsamplecode + ',';\r\n//             npreregno += Sample.npreregno + ',';\r\n//             ntransactiontestcode += Sample.ntransactiontestcode + ',';\r\n\r\n//         })\r\n//         SampleArray = {\r\n//             ntransactionsamplecode: ntransactionsamplecode,\r\n//             npreregno: npreregno,\r\n//             ntransactiontestcode: ntransactiontestcode,\r\n//             bFlag:\"1\"\r\n\r\n//         }\r\n//     }\r\n//     let allNpreregno = []\r\n//     if (SampleArray1 !== undefined) {\r\n\r\n//         SampleArray1.map(temp => {\r\n//             allNpreregno += temp + ','\r\n//         })\r\n//     }\r\n//     let allNtransactionsamplecode = []\r\n//     if (SubSampleArray1 !== undefined) {\r\n\r\n//         SubSampleArray1.map(temp => {\r\n//             allNtransactionsamplecode += temp + ','\r\n//         })\r\n//     }\r\n//     let allNtransactiontestcode = []\r\n//     if (TestArray1 !== undefined) {\r\n\r\n//         TestArray1.map(temp => {\r\n//             allNtransactiontestcode += temp + ','\r\n//         })\r\n//     }\r\n\r\n//     return function (dispatch) {  \r\n//     dispatch(initRequest(true));\r\n//     return rsapi.post(\"coarelease/updateStatus\", \r\n//         {\r\n//             SampleArray:SampleArray,\r\n//             SubSampleArray:SubSampleArray,\r\n//             TestArray: TestArray,\r\n//             userinfo: userInfo,\r\n//             allNtransactionsamplecode: allNtransactionsamplecode,\r\n//             allNtransactiontestcode: allNtransactiontestcode,\r\n//             allNpreregno:allNpreregno\r\n//         })\r\n//     .then(response=>{ \r\n//        // let releaseSubSample = response.data[\"ReleaseSubSample\"];  \r\n//        let releaseSubSample = Data1.releaseSubSample || new Map();           \r\n//        let releaseTest = Data1.releaseTest || new Map();           \r\n//        releaseSubSample = Data1.releaseSubSample || new Map();           \r\n\r\n//              releaseTest = Data1.releaseTest || new Map();\r\n// if(response.data.body[\"cFlag\"]===\"3\"){\r\n//             releaseTest.set(parseInt(Object.keys(response.data.body[\"ReleaseTest\"])[0]), Object.values(response.data.body[\"ReleaseTest\"])[0]);\r\n//        }\r\n//       //  else {\r\n//         if(response.data.body[\"cFlag\"]===\"2\"){\r\n\r\n\r\n//             releaseSubSample.set(parseInt(Object.keys(response.data.body[\"ReleaseSubSample\"])[0]), Object.values(response.data.body[\"ReleaseSubSample\"])[0]);\r\n\r\n//         }\r\n//         let masterData = { ...Data1, releaseSubSample,releaseTest,...response.data.body};\r\n\r\n//             sortData(masterData);\r\n//             dispatch({type: DEFAULT_RETURN, payload:{masterData,\r\n//                 data:releaseSubSample,releaseTest,\r\n//                       //  dataState:dataState,\r\n//                         loading:false\r\n//                     }});\r\n//         })\r\n//         .catch(error=>{\r\n//             dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n//             if (error.response.status === 500){\r\n//                 toast.error(error.message);\r\n//             } \r\n//             else{               \r\n//                 toast.warn(error.response.data);\r\n//             }  \r\n//         })        \r\n//     }\r\n// }\r\nexport function getReleaseSelectedSampleSubSampleTest(userInfo, Data1, inputData) {\r\n\r\n\r\n    return function (dispatch) {\r\n      if (inputData !== undefined &&inputData.npreregno!==\"\") {\r\n\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"coarelease/updateStatus\",\r\n\r\n            inputData\r\n        )\r\n            .then(response => {\r\n                if (response.data.statusCodeValue !== 200) {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: response.data.body\r\n                    }));\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    });\r\n\r\n\r\n                }\r\n                else {\r\n                    let selected = []\r\n                    let expanded = []\r\n                    let testdata = []\r\n                    let subsampleData = []\r\n                    let subsampleexpanded = []\r\n                    let subsampleselected = []\r\n                    let subsampleDataRes = []\r\n                    let y = []\r\n                    let a = []\r\n                    let SubSample = Object.values(Data1.ReleaseSubSample).forEach(item1 => {\r\n                        item1.map(item2 => {\r\n                            subsampleData.push(item2)\r\n                            if (item2.expanded === true) {\r\n                                subsampleexpanded.push({ \"ntransactionsamplecode\": item2.ntransactionsamplecode, \"expanded\": item2.expanded })\r\n                            }\r\n                            if (item2.selected === true) {\r\n                                subsampleselected.push({ \"ntransactionsamplecode\": item2.ntransactionsamplecode, \"selected\": item2.selected })\r\n                            }\r\n\r\n                        })\r\n                    });\r\n                    let SubSampleRes = Object.values(response.data.body.ReleaseSubSample).forEach(item1 => {\r\n                        item1.map(item2 => {\r\n                            subsampleDataRes.push(item2)\r\n                            subsampleexpanded.map(item1 => {\r\n                                if (item1.ntransactionsamplecode === item2.ntransactionsamplecode) {\r\n                                    item2[\"expanded\"] = true\r\n                                }\r\n                            })\r\n                            subsampleselected.map(item1 => {\r\n                                if (item1.ntransactionsamplecode === item2.ntransactionsamplecode) {\r\n                                    item2[\"selected\"] = true\r\n                                }\r\n                            })\r\n                        })\r\n                    });\r\n                    let testDataRes = []\r\n                    let testDataPrevious = []\r\n                    let testDataSelected = []\r\n                    let testDataExpanded = []\r\n                    testDataSelected = Object.values(Data1.ReleaseTest).forEach(item1 => {\r\n                        item1.map(item2 => {\r\n                            testDataPrevious.push(item2)\r\n                            if (item2.selected === true) {\r\n                                testdata.push({ \"ntransactiontestcode\": item2.ntransactiontestcode })\r\n                            }\r\n                        })\r\n                    });\r\n                    testDataExpanded = Object.values(response.data.body.ReleaseTest||{}).forEach(item1 => {\r\n                        item1.map(item2 => {\r\n                            testDataRes.push(item2)\r\n\r\n                            testdata.map(x => {\r\n                                if (item2.ntransactiontestcode === x.ntransactiontestcode) {\r\n                                    item2[\"selected\"] = true\r\n                                }\r\n                            })\r\n                        })\r\n                    });\r\n                    let ReleaseTest = replaceUpdatedObject(testDataRes, testDataPrevious, 'ntransactiontestcode');\r\n                    let ReleaseTest1 = groupBy(ReleaseTest, 'ntransactionsamplecode');\r\n                    let ReleaseSubSample = replaceUpdatedObject(subsampleDataRes, subsampleData, 'ntransactionsamplecode');\r\n                    let ReleaseSubSample1 = groupBy(ReleaseSubSample, 'npreregno');\r\n\r\n                    function groupBy(objectArray, property) {\r\n                        return objectArray.reduce((acc, obj) => {\r\n                            const key = obj[property];\r\n                            if (!acc[key]) {\r\n                                acc[key] = [];\r\n                            }\r\n                            acc[key].push(obj);\r\n                            return acc;\r\n                        }, {});\r\n                    }\r\n                    // Data1.ReleaseSample.map(item => {\r\n                    //     delete item[\"expanded\"]\r\n                    // });\r\n                    Data1.ReleaseSample.map(item2 => {\r\n                        if (item2.expanded === true) {\r\n                            expanded.push({ \"npreregno\": item2.npreregno, \"expanded\": item2.expanded })\r\n                        }\r\n                        if (item2.selected === true) {\r\n                            selected.push({ \"npreregno\": item2.npreregno, \"selected\": item2.selected })\r\n                        }\r\n                    })\r\n                    response.data.body.ReleaseSample&&response.data.body.ReleaseSample.map(item2 => {\r\n                        expanded.map(item1 => {\r\n                            if (item1.npreregno === item2.npreregno) {\r\n                                item2[\"expanded\"] = true\r\n                            }\r\n                        })\r\n                        selected.map(item1 => {\r\n                            if (item1.npreregno === item2.npreregno) {\r\n                                item2[\"selected\"] = true\r\n                            }\r\n                        })\r\n\r\n                    })\r\n\r\n                    let masterData = {\r\n\r\n                        ...Data1, ...response.data.body,\r\n                        ReleaseTest: ReleaseTest1,\r\n                        ReleaseSubSample: ReleaseSubSample1,\r\n\r\n                        ReleaseSample: replaceUpdatedObject(response.data.body.ReleaseSample, Data1.ReleaseSample, 'npreregno'),\r\n\r\n\r\n                    };\r\n\r\n                    console.log(\"ReleasedTest,\", masterData);\r\n                    // sortData(masterData);\r\n                  //  dispatch(generateReport(inputData,masterData))\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            masterData,\r\n                            change: inputData.change,\r\n                            loading: false\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                    console.log(\"ErrorRelease,\", error);\r\n\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n\r\n\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({\r\n                id: \"IDS_SELECTANYONESAMPLE/SUBSAMPLE/TEST\"\r\n            }));\r\n        }\r\n    }\r\n}\r\nexport function getReleaseRegistrationType(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"coarelease/getRegistrationType\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            SampleTypeValue: inputData.SampleTypeValue\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleaseRegistrationSubType(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"coarelease/getRegistrationSubType\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            RegTypeValue: inputData.RegTypeValue\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleaseFilterStatus(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"coarelease/getFilterStatus\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            RegSubTypeValue: inputData.RegSubTypeValue\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReleaseFilterBasedTest(inputData) {\r\n    return function (dispatch) {\r\n        if (inputData.napprovalversioncode) {\r\n            dispatch(initRequest(true));\r\n            rsapi.post(\"coarelease/getFilterBasedTest\", inputData)\r\n                .then(response => {\r\n\r\n\r\n                    let responseData = { ...response.data }\r\n                    responseData = sortData(responseData)\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            masterData: {\r\n                                ...inputData.masterData,\r\n                                ...responseData,\r\n                                RegSubTypeValue: inputData.RegSubTypeValue,\r\n                                ndesigntemplatemappingcode: inputData.ndesigntemplatemappingcode,\r\n                                DesignTemplateMappingValue: inputData.DesignTemplateMappingValue\r\n                            },\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    if (response.data.rtn) {\r\n                        toast.warn(response.data.rtn);\r\n                    }\r\n\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({\r\n                id: \"IDS_PLSSELECTALLVALUESINFILTER\"\r\n            }));\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport function getReleaseApprovalVersion(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"coarelease/getApprovalVersion\", inputParam.inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputParam.masterData,\r\n                            ...responseData,\r\n                            // fromDate: inputParam.inputData.dfrom,\r\n                            // toDate: inputParam.inputData.dto,\r\n                        },\r\n                        loading: false,\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleaseSample(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"coarelease/getReleaseSample\", inputParam.inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                // responseData = sortData(responseData)\r\n                let masterData = {\r\n                    ...inputParam.masterData,\r\n                    ...responseData,\r\n                }\r\n                if (inputParam.searchSampleRef !== undefined && inputParam.searchSampleRef.current !== null) {\r\n                    inputParam.searchSampleRef.current.value = \"\";\r\n                    masterData['searchedSample'] = undefined\r\n                }\r\n                if (inputParam.searchSubSampleRef !== undefined && inputParam.searchSubSampleRef.current !== null) {\r\n                    inputParam.searchSubSampleRef.current.value = \"\";\r\n                    masterData['searchedSubSample'] = undefined\r\n                }\r\n                if (inputParam.searchTestRef !== undefined && inputParam.searchTestRef.current !== null) {\r\n                    inputParam.searchTestRef.current.value = \"\"\r\n                    // masterData['searchedTest'] = undefined\r\n                    masterData['searchedTests'] = undefined\r\n\r\n                }\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        showFilter: false,\r\n                        skip: 0,\r\n                        take: inputParam.take,\r\n                        testskip: 0,\r\n                        testtake: inputParam.testtake,\r\n                        resultDataState: { ...inputParam.resultDataState, sort: undefined, filter: undefined },\r\n                        instrumentDataState: { ...inputParam.instrumentDataState, sort: undefined, filter: undefined },\r\n                        materialDataState: { ...inputParam.materialDataState, sort: undefined, filter: undefined },\r\n                        taskDataState: { ...inputParam.taskDataState, sort: undefined, filter: undefined },\r\n                        documentDataState: { ...inputParam.documentDataState, sort: undefined, filter: undefined },\r\n                        resultChangeDataState: { ...inputParam.resultChangeDataState, sort: undefined, filter: undefined },\r\n                        testCommentDataState: { ...inputParam.testCommentDataState, sort: undefined, filter: undefined },\r\n                        historyDataState: { ...inputParam.historyDataState, sort: undefined, filter: undefined },\r\n                        samplePrintHistoryDataState: { ...inputParam.samplePrintHistoryDataState, sort: undefined, filter: undefined },\r\n                        sampleHistoryDataState: { ...inputParam.sampleHistoryDataState, sort: undefined, filter: undefined }\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getCOAReportType(releaseParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"coarelease/getCOAReportType\", {userinfo: releaseParam.userInfo })\r\n            .then(response => {\r\n                let reportType = [];\r\n\r\n                const reportTypeMap = constructOptionList(response.data.ReportType || [], \"ncoareporttypecode\",\r\n                    \"scoareporttypename\", undefined, undefined, false);\r\n\r\n                const ReportTypeList = reportTypeMap.get(\"OptionList\");\r\n                let selectedRecord = {\"ncoareporttypecode\": {\r\n                    \"value\": response.data.ReportType[0].ncoareporttypecode,\r\n                     \"label\": response.data.ReportType[0].scoareporttypename\r\n                 }};\r\n                \r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                     payload: {\r\n                        operation: null, modalName: undefined,\r\n                        loading: false, dataState: undefined//,modalShow: true\r\n                        ,ReportTypeList\r\n                        ,modalTitle:\"IDS_RELEASEANDREPORTGENERATION\"\r\n                       ,selectedRecord\r\n\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\nexport function generateReport(inputParam,Data) {\r\n    return function (dispatch) {\r\n\r\n        dispatch(initRequest(true));\r\n        const inputData = {\r\n            npreregno: inputParam.npreregno,\r\n         //   nsectioncode: inputParam.nsectioncode || -1,\r\n            userinfo: inputParam.userinfo,\r\n            nprimarykey: inputParam.npreregno,\r\n            ncoareporttypecode: reportCOAType.SAMPLEWISE,\r\n            nreporttypecode: REPORTTYPE.COAREPORT,\r\n            sprimarykeyname: \"npreregno\",\r\n            ncontrolcode: inputParam.ncontrolCode,\r\n            nregtypecode: inputParam.nregtypecode,\r\n            nregsubtypecode: inputParam.nregsubtypecode,\r\n            ntransactiontestcode:inputParam.ntransactiontestcode,\r\n            napproveconfversioncode: inputParam.napprovalversioncode,\r\n            action:inputParam.action\r\n        }\r\n        rsapi.post(\"approval/generateCOAReport\", inputData)\r\n            .then(response => {\r\n\r\n                if (response.data.rtn === \"Success\") {\r\n                    document.getElementById(\"download_data\").setAttribute(\"href\", response.data.filepath);\r\n                    document.getElementById(\"download_data\").click();\r\n                } else {\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n               \r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false,change: inputParam.change,masterData:Data,\r\n                    modalShow: false, selectedRecord: {}, loadEsign: false } })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}