{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{ListGroup,Media,Image}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCloudDownloadAlt,faTrashAlt,faPencilAlt,faExternalLinkAlt,faThumbtack}from'@fortawesome/free-solid-svg-icons';import{injectIntl}from'react-intl';import{attachmentType,designProperties}from'./Enumeration';import ConfirmDialog from'./confirm-alert/confirm-alert.component';import{Attachments}from'./dropzone/dropzone.styles';import{getAttachedFileIcon}from'./FileIcon';import{MediaLabel,MediaSubHeader}from'./App.styles';import{Nav}from'react-bootstrap';import{Form}from'react-bootstrap';import'../pages/registration/registration.css';import{bytesToSize}from'./CommonScript';import ReactTooltip from'react-tooltip';import CustomPager from'./CustomPager';import{FontIconWrap}from'./data-grid/data-grid.styles';var ListAttachment=/*#__PURE__*/function(_Component){_inherits(ListAttachment,_Component);var _super=_createSuper(ListAttachment);function ListAttachment(props){var _this;_classCallCheck(this,ListAttachment);_this=_super.call(this,props);_this.showHideDetails=function(event,index){event.stopPropagation();var showMore=_objectSpread(_objectSpread({},_this.state.showMore),{},_defineProperty({},index,!_this.state.showMore[index]));_this.setState({showMore:showMore});};_this.handlePageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.state={showMore:{},buttonCount:2,info:true,skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};return _this;}_createClass(ListAttachment,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,fileName=_this$props.fileName,deleteId=_this$props.deleteId,editId=_this$props.editId,defaultId=_this$props.defaultId,viewId=_this$props.viewId,isjsonfield=_this$props.isjsonfield,jsonfield=_this$props.jsonfield;var data=this.props.hidePaging?this.props.attachmentList:this.props.attachmentList.slice(this.state.skip,this.state.skip+this.state.take);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\",className:\"grouped-list-view\"},data.length>0?data.map(function(file,index){var fileExtension=\"\";var attachmentTypeCode=file.nattachmenttypecode||file[_this2.props.jsonfield].nattachmenttypecode;if(_this2.props.isjsonfield){if(attachmentTypeCode===attachmentType.FTP){var splittedFileName=file[_this2.props.jsonfield][fileName].split('.');fileExtension=file[_this2.props.jsonfield][fileName].split('.')[splittedFileName.length-1];}}else{if(attachmentTypeCode===attachmentType.FTP){var _splittedFileName=file[fileName].split('.');fileExtension=file[fileName].split('.')[_splittedFileName.length-1];}}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"true\",id:\"tooltip_attachment_wrap\"}),/*#__PURE__*/React.createElement(ListGroup.Item,{key:\"file_\".concat(index)},/*#__PURE__*/React.createElement(Attachments,null,/*#__PURE__*/React.createElement(Media,{className:\"block-view\"},/*#__PURE__*/React.createElement(Media.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"left-icon-header\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mt-0 attatchment-title\",\"data-for\":\"tooltip_attachment_wrap\",\"data-tip-disable\":_this2.props.isjsonfield?file[_this2.props.jsonfield][fileName].length<50:file[fileName].length<50,\"data-tip\":_this2.props.isjsonfield?file[_this2.props.jsonfield][fileName]:file[fileName]},/*#__PURE__*/React.createElement(Image,{width:25,height:25,className:\"mr-2\",src:getAttachedFileIcon(fileExtension)}),_this2.props.isjsonfield?file[_this2.props.jsonfield][fileName]:file[fileName]),/*#__PURE__*/React.createElement(Nav.Link,{className:\"action-icons-wrap\"},attachmentTypeCode===attachmentType.FTP?/*#__PURE__*/React.createElement(FontIconWrap,{icon:faCloudDownloadAlt,className:\"mr-3\",size:\"lg\",hidden:_this2.props.userRoleControlRights.indexOf(viewId)===-1,\"data-tip\":_this2.props.intl.formatMessage({id:\"IDS_DOWNLOAD\"}),\"data-for\":\"tooltip_attachment_wrap\",onClick:function onClick(){return _this2.props.viewFile(file);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCloudDownloadAlt}))//Added by sonia on 18-04-2022 \n:/*#__PURE__*/React.createElement(FontIconWrap,{icon:faExternalLinkAlt,className:\"mr-3\",size:\"lg\",hidden:_this2.props.userRoleControlRights.indexOf(viewId)===-1,\"data-tip\":_this2.props.intl.formatMessage({id:\"IDS_LINK\"}),\"data-for\":\"tooltip_attachment_wrap\",onClick:function onClick(){return _this2.props.viewFile(file);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faExternalLinkAlt}))//Commented by sonia on 18-04-2022 \n// : <FontAwesomeIcon icon={faExternalLinkAlt} className=\"mr-3\" size=\"lg\" hidden={this.props.userRoleControlRights.indexOf(viewId) === -1}\n//     data-tip={this.props.intl.formatMessage({ id: \"IDS_LINK\" })}\n//     data-for=\"tooltip_attachment_wrap\"\n//     onClick={() => this.props.viewFile(file)} />\n,/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbtack,className:\"mr-3\",size:\"lg\",hidden:_this2.props.userRoleControlRights.indexOf(defaultId)===-1,onClick:function onClick(){return _this2.props.defaultRecord(_objectSpread(_objectSpread({},_this2.props.defaultParam),{},{selectedRecord:file}));}}),/*#__PURE__*/React.createElement(FontIconWrap,{className:\"mr-3 d-font-icon\",size:\"lg\",hidden:_this2.props.userRoleControlRights.indexOf(editId)===-1,\"data-tip\":_this2.props.intl.formatMessage({id:\"IDS_EDIT\"}),\"data-for\":\"tooltip_attachment_wrap\",onClick:function onClick(){return _this2.props.fetchRecord(_objectSpread(_objectSpread({},_this2.props.editParam),{},{selectedRecord:file,operation:\"update\"}));}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(ConfirmDialog,{name:\"deleteMessage\",message:_this2.props.intl.formatMessage({id:\"IDS_DELETECONFIRMMSG\"}),cardTitle:_this2.props.intl.formatMessage({id:\"IDS_CONFIRMATION\"}),doLabel:_this2.props.intl.formatMessage({id:\"IDS_OK\"}),doNotLabel:_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),dataforprops:\"tooltip_attachment_wrap\",icon:faTrashAlt,size:\"lg\",title:_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),hidden:_this2.props.userRoleControlRights.indexOf(deleteId)===-1,handleClickDelete:function handleClickDelete(){return _this2.props.deleteRecord(_objectSpread(_objectSpread({},_this2.props.deleteParam),{},{selectedRecord:file,ncontrolCode:deleteId,data:data,skip:_this2.props.skip?_this2.props.skip:_this2.state.skip,take:_this2.props.take?_this2.props.take:_this2.state.take}));}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"attatchment-details pad-5\"},_this2.props.subFields&&_this2.props.subFields.map(function(field,i){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MediaLabel,{style:{fontWeight:\"normal\"}},field[1]?_this2.props.intl.formatMessage({id:field[designProperties.LABEL]})+\": \":\"\"),_this2.props.isjsonfield?field['fieldType']==='size'?/*#__PURE__*/React.createElement(MediaLabel,null,bytesToSize(file[_this2.props.jsonfield][field[designProperties.VALUE]])):/*#__PURE__*/React.createElement(MediaLabel,null,file[_this2.props.jsonfield][field[designProperties.VALUE]]||file[field[designProperties.VALUE]]):field['fieldType']==='size'?/*#__PURE__*/React.createElement(MediaLabel,null,bytesToSize(file[field[designProperties.VALUE]])):/*#__PURE__*/React.createElement(MediaLabel,null,file[field[designProperties.VALUE]]),i!==_this2.props.subFields.length-1?/*#__PURE__*/React.createElement(MediaLabel,{className:\"seperator\"},\"|\"):\"\");}),_this2.props.moreField&&_this2.props.moreField.length>0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MediaLabel,null,/*#__PURE__*/React.createElement(Nav.Link,{name:\"show-wrap_\".concat(index),className:\"show-more-action showmore\",onClick:function onClick(event){return _this2.showHideDetails(event,index);},style:{display:\"inline\"}},/*#__PURE__*/React.createElement(Form.Label,{className:\"show-more-link showmore\",for:\"show-wrap_\".concat(index)},\" ...\".concat(_this2.props.intl.formatMessage({id:_this2.state.showMore[index]?\"IDS_SHOWLESS\":\"IDS_SHOWMORE\"}))))),/*#__PURE__*/React.createElement(Media.Body,{className:\"show-more-wrap \".concat(_this2.state.showMore[index]?\"showmore\":\"\")},/*#__PURE__*/React.createElement(MediaSubHeader,null,_this2.props.moreField.map(function(field,i){return/*#__PURE__*/React.createElement(\"div\",{className:\"media-label-split blocked-flex\"},/*#__PURE__*/React.createElement(MediaLabel,{style:{fontWeight:\"bold\"}},field[1]?_this2.props.intl.formatMessage({id:field[designProperties.LABEL]})+\": \":\"\"),/*#__PURE__*/React.createElement(MediaLabel,{\"data-tip-disable\":false,\"data-for\":\"tooltip_attachment_wrap\",\"data-tip\":_this2.props.isjsonfield?file[_this2.props.jsonfield][field[designProperties.VALUE]]||file[field[designProperties.VALUE]]:file[field[designProperties.VALUE]],className:\"media-value\"},_this2.props.isjsonfield?file[_this2.props.jsonfield][field[designProperties.VALUE]]||file[field[designProperties.VALUE]]:file[field[designProperties.VALUE]]),field['fieldType']==='size'?/*#__PURE__*/React.createElement(React.Fragment,null,\" \",\" bytes\"):\"\");})))):\"\"))))));}):/*#__PURE__*/React.createElement(ListGroup.Item,null,/*#__PURE__*/React.createElement(Attachments,{className:\"norecordtxt\"},this.props.intl.formatMessage({id:\"IDS_NORECORDSAVAILABLE\"})))),this.props.hidePaging?\"\":/*#__PURE__*/React.createElement(CustomPager,{skip:this.state.skip,take:this.state.take// width={20}\n,pagershowwidth:33,handlePageChange:this.handlePageChange,total:this.props.attachmentList?this.props.attachmentList.length:0,buttonCount:this.state.buttonCount,info:this.state.info,pageSize:this.props.settings?this.props.settings[15].split(\",\").map(function(setting){return parseInt(setting);}):[5,10,15]}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.attachmentList!==previousProps.attachmentList){if(this.props.skip===undefined&&this.props.attachmentList&&this.props.attachmentList.length<=this.state.skip){this.setState({skip:0});}}if(this.props.skip!==undefined&&this.props.skip!==previousProps.skip){this.setState({skip:this.props.skip,take:this.props.take});}}}]);return ListAttachment;}(Component);export default injectIntl(ListAttachment);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/ListAttachment.jsx"],"names":["React","Component","ListGroup","Media","Image","FontAwesomeIcon","faCloudDownloadAlt","faTrashAlt","faPencilAlt","faExternalLinkAlt","faThumbtack","injectIntl","attachmentType","designProperties","ConfirmDialog","Attachments","getAttachedFileIcon","MediaLabel","MediaSubHeader","Nav","Form","bytesToSize","ReactTooltip","CustomPager","FontIconWrap","ListAttachment","props","showHideDetails","event","index","stopPropagation","showMore","state","setState","handlePageChange","e","skip","take","buttonCount","info","settings","parseInt","fileName","deleteId","editId","defaultId","viewId","isjsonfield","jsonfield","data","hidePaging","attachmentList","slice","length","map","file","fileExtension","attachmentTypeCode","nattachmenttypecode","FTP","splittedFileName","split","userRoleControlRights","indexOf","intl","formatMessage","id","viewFile","defaultRecord","defaultParam","selectedRecord","fetchRecord","editParam","operation","deleteRecord","deleteParam","ncontrolCode","subFields","field","i","fontWeight","LABEL","VALUE","moreField","display","setting","previousProps","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { ListGroup, Media, Image } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCloudDownloadAlt, faTrashAlt, faPencilAlt, faExternalLinkAlt, faThumbtack } from '@fortawesome/free-solid-svg-icons';\r\nimport { injectIntl } from 'react-intl';\r\nimport { attachmentType, designProperties } from './Enumeration';\r\nimport ConfirmDialog from './confirm-alert/confirm-alert.component';\r\nimport { Attachments } from './dropzone/dropzone.styles';\r\nimport { getAttachedFileIcon } from './FileIcon';\r\nimport { MediaLabel, MediaSubHeader } from './App.styles';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { Form } from 'react-bootstrap';\r\nimport '../pages/registration/registration.css'\r\nimport { bytesToSize } from './CommonScript';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport CustomPager from './CustomPager';\r\nimport { FontIconWrap } from './data-grid/data-grid.styles';\r\nclass ListAttachment extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            showMore: {},\r\n            buttonCount: 2,\r\n            info: true,\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\r\n        }\r\n    }\r\n    render() {\r\n\r\n        const { fileName, deleteId, editId, defaultId, viewId, isjsonfield, jsonfield } = this.props;\r\n        let data = this.props.hidePaging ? this.props.attachmentList : this.props.attachmentList.slice(this.state.skip, ((this.state.skip) + (this.state.take)))\r\n\r\n        return (\r\n            <>\r\n            <ListGroup variant=\"flush\" className='grouped-list-view'>\r\n                {data.length > 0 ?\r\n                    data.map((file, index) => {\r\n                        let fileExtension = \"\";\r\n                        let attachmentTypeCode = file.nattachmenttypecode || file[this.props.jsonfield].nattachmenttypecode\r\n\r\n                        if (this.props.isjsonfield) {\r\n                            if (attachmentTypeCode === attachmentType.FTP) {\r\n                                const splittedFileName = file[this.props.jsonfield][fileName].split('.');\r\n                                fileExtension = file[this.props.jsonfield][fileName].split('.')[splittedFileName.length - 1];\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (attachmentTypeCode === attachmentType.FTP) {\r\n                                const splittedFileName = file[fileName].split('.');\r\n                                fileExtension = file[fileName].split('.')[splittedFileName.length - 1];\r\n                            }\r\n                        }\r\n                        return (\r\n                            <>\r\n                                <ReactTooltip place=\"bottom\" globalEventOff=\"true\" id=\"tooltip_attachment_wrap\" />\r\n                                <ListGroup.Item key={`file_${index}`}>\r\n                                    <Attachments>\r\n                                        <Media className='block-view'>\r\n                                            <Media.Body>\r\n                                                <div className=\"left-icon-header\">\r\n                                                    <h5 className=\"mt-0 attatchment-title\"\r\n                                                        data-for=\"tooltip_attachment_wrap\"\r\n                                                        data-tip-disable={this.props.isjsonfield\r\n                                                            ? file[this.props.jsonfield][fileName].length < 50\r\n                                                            : file[fileName].length < 50}\r\n                                                        data-tip={this.props.isjsonfield\r\n                                                            ? file[this.props.jsonfield][fileName]\r\n                                                            : file[fileName]}>\r\n                                                        <Image\r\n                                                            width={25}\r\n                                                            height={25}\r\n                                                            className=\"mr-2\"\r\n                                                            src={getAttachedFileIcon(fileExtension)}\r\n                                                        />\r\n                                                        {this.props.isjsonfield\r\n                                                            ? file[this.props.jsonfield][fileName]\r\n                                                            : file[fileName]}</h5>\r\n                                                    <Nav.Link className=\"action-icons-wrap\">\r\n\r\n                                                        {attachmentTypeCode === attachmentType.FTP ?\r\n\r\n\r\n                                                            <FontIconWrap icon={faCloudDownloadAlt} className=\"mr-3\" size=\"lg\" hidden={this.props.userRoleControlRights.indexOf(viewId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DOWNLOAD\" })}\r\n                                                                data-for=\"tooltip_attachment_wrap\"\r\n                                                                onClick={() => this.props.viewFile(file)}\r\n                                                            >\r\n                                                                <FontAwesomeIcon icon={faCloudDownloadAlt} />\r\n                                                            </FontIconWrap>\r\n                                                            //Added by sonia on 18-04-2022 \r\n                                                            : <FontIconWrap icon={faExternalLinkAlt} className=\"mr-3\" size=\"lg\" hidden={this.props.userRoleControlRights.indexOf(viewId) === -1}\r\n                                                                 data-tip={this.props.intl.formatMessage({ id: \"IDS_LINK\" })}\r\n                                                                 data-for=\"tooltip_attachment_wrap\"\r\n                                                                 onClick={() => this.props.viewFile(file)}\r\n                                                              >\r\n                                                                <FontAwesomeIcon icon={faExternalLinkAlt} />\r\n                                                              </FontIconWrap>\r\n\r\n                                                            //Commented by sonia on 18-04-2022 \r\n                                                            // : <FontAwesomeIcon icon={faExternalLinkAlt} className=\"mr-3\" size=\"lg\" hidden={this.props.userRoleControlRights.indexOf(viewId) === -1}\r\n                                                            //     data-tip={this.props.intl.formatMessage({ id: \"IDS_LINK\" })}\r\n                                                            //     data-for=\"tooltip_attachment_wrap\"\r\n                                                            //     onClick={() => this.props.viewFile(file)} />\r\n                                                        }\r\n                                                        <FontAwesomeIcon icon={faThumbtack} className=\"mr-3\" size=\"lg\" hidden={this.props.userRoleControlRights.indexOf(defaultId) === -1}\r\n                                                            onClick={() => this.props.defaultRecord({ ...this.props.defaultParam, selectedRecord: file })} />\r\n                    \r\n\r\n                                                        <FontIconWrap className=\"mr-3 d-font-icon\" size=\"lg\" hidden={this.props.userRoleControlRights.indexOf(editId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                            data-for=\"tooltip_attachment_wrap\"\r\n                                                            onClick={() => this.props.fetchRecord({ ...this.props.editParam, selectedRecord: file, operation: \"update\" })}\r\n                                                        >\r\n                                                            <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                        </FontIconWrap>\r\n\r\n                                                        <ConfirmDialog\r\n                                                            name=\"deleteMessage\"\r\n                                                            message={this.props.intl.formatMessage({ id: \"IDS_DELETECONFIRMMSG\" })}\r\n                                                            cardTitle={this.props.intl.formatMessage({ id: \"IDS_CONFIRMATION\" })}\r\n                                                            doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                            doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                            dataforprops=\"tooltip_attachment_wrap\"\r\n                                                            icon={faTrashAlt}\r\n                                                            size=\"lg\"\r\n                                                            title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            hidden={this.props.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                            handleClickDelete={() => this.props.deleteRecord({ ...this.props.deleteParam, selectedRecord: file, ncontrolCode: deleteId, data, skip: this.props.skip ? this.props.skip : this.state.skip, take: this.props.take ? this.props.take : this.state.take })}\r\n                                                        />\r\n                                                    </Nav.Link>\r\n                                                </div>\r\n                                                <div className=\"attatchment-details pad-5\">\r\n                                                    {/* {file[this.props.mainField]?<>{file[this.props.mainField]}<span className=\"seperator\">|</span></>:\"\"}{file.screateddate} \r\n                                        {\r\n                                            file.nattachmenttypecode === attachmentType.FTP?\r\n                                                <>\r\n                                                    {file[filesize]?<><span className=\"seperator\">|</span>{file[filesize]} bytes</>:\"\"}\r\n                                                    {file[defaultStatusName]?<><span className=\"seperator\">|</span>{file[defaultStatusName]} </>:\"\"}\r\n                                                </>\r\n                                            :\r\n                                                <>\r\n                                                    {file[linkname]?<><span className=\"seperator\">|</span>{file[linkname]}</>:\"\"}\r\n                                                    {file[defaultStatusName]?<><span className=\"seperator\">|</span>{file[defaultStatusName]}</>:\"\"}\r\n                                                </>\r\n                                        } */}\r\n                                                    {\r\n                                                        this.props.subFields && this.props.subFields.map((field, i) =>\r\n                                                            <>\r\n                                                             <MediaLabel style={{ fontWeight: \"normal\" }}>{field[1] ?\r\n                                                                        this.props.intl.formatMessage({ id: field[designProperties.LABEL] })\r\n                                                                        + \": \" : \"\"}\r\n                                                            </MediaLabel>\r\n                                                                {   \r\n                                                                    this.props.isjsonfield ?\r\n                                                                        field['fieldType'] === 'size' ?\r\n                                                                            <MediaLabel>{bytesToSize(file[this.props.jsonfield][field[designProperties.VALUE]])}</MediaLabel>\r\n                                                                            : <MediaLabel>{file[this.props.jsonfield][field[designProperties.VALUE]] || file[field[designProperties.VALUE]]}</MediaLabel>\r\n                                                                        :\r\n                                                                        field['fieldType'] === 'size' ?\r\n                                                                            <MediaLabel>{bytesToSize(file[field[designProperties.VALUE]])}</MediaLabel>\r\n                                                                            : <MediaLabel>{file[field[designProperties.VALUE]]}</MediaLabel>}\r\n                                                                {/* {this.props.subFields.length > 1 && i % 2 === 0 ?<MediaLabel className=\"seperator\">|</MediaLabel>: \"\"} */}\r\n                                                                {i !== this.props.subFields.length - 1 ? <MediaLabel className=\"seperator\">|</MediaLabel> : \"\"}\r\n                                                            </>\r\n                                                        )\r\n                                                    }\r\n                                                    {\r\n                                                        this.props.moreField && this.props.moreField.length > 0 ?\r\n                                                            <>\r\n                                                                <MediaLabel>\r\n                                                                    <Nav.Link name={`show-wrap_${index}`} className={`show-more-action showmore`} onClick={(event) => this.showHideDetails(event, index)} style={{ display: \"inline\" }}>\r\n                                                                        <Form.Label className={`show-more-link showmore`} for={`show-wrap_${index}`}>{` ...${this.props.intl.formatMessage({ id: this.state.showMore[index] ? \"IDS_SHOWLESS\" : \"IDS_SHOWMORE\" })}`}</Form.Label>\r\n                                                                    </Nav.Link>\r\n                                                                </MediaLabel>\r\n                                                                <Media.Body className={`show-more-wrap ${this.state.showMore[index] ? \"showmore\" : \"\"}`}>\r\n                                                                    <MediaSubHeader>\r\n\r\n\r\n                                                                        {this.props.moreField.map((field, i) =>\r\n                                                                            <div className=\"media-label-split blocked-flex\">\r\n                                                                                <MediaLabel style={{ fontWeight: \"bold\" }}>{field[1] ?\r\n                                                                                    this.props.intl.formatMessage({ id: field[designProperties.LABEL] })\r\n                                                                                    + \": \" : \"\"}\r\n                                                                                </MediaLabel>\r\n                                                                                <MediaLabel\r\n                                                                                    data-tip-disable={false}\r\n                                                                                    data-for=\"tooltip_attachment_wrap\"\r\n                                                                                    data-tip={this.props.isjsonfield ? file[this.props.jsonfield][field[designProperties.VALUE]] || file[field[designProperties.VALUE]] : file[field[designProperties.VALUE]]} className='media-value' >\r\n                                                                                    {this.props.isjsonfield ?\r\n                                                                                        file[this.props.jsonfield][field[designProperties.VALUE]] || file[field[designProperties.VALUE]]\r\n                                                                                        : file[field[designProperties.VALUE]]}</MediaLabel>\r\n                                                                                {field['fieldType'] === 'size' ? <>{\" \"} bytes</> : \"\"}\r\n                                                                                {/* {i % 2 === 0 && i !== this.props.moreField.length - 1 ?\r\n                                                                                        <MediaLabel className=\"seperator\">|</MediaLabel> : \"\"}\r\n                                                                                    {(i + 1) % 2 === 0 ? <br></br> : \"\"} */}\r\n\r\n                                                                            </div>\r\n                                                                        )}\r\n                                                                    </MediaSubHeader>\r\n                                                                </Media.Body>\r\n                                                            </>\r\n                                                            : \"\"\r\n                                                    }\r\n                                                </div>\r\n                                            </Media.Body>\r\n                                        </Media>\r\n                                    </Attachments>\r\n                                </ListGroup.Item>\r\n                            </>\r\n                        );\r\n                    }) : <ListGroup.Item>\r\n                        <Attachments className=\"norecordtxt\">\r\n                            {this.props.intl.formatMessage({ id: \"IDS_NORECORDSAVAILABLE\" })}\r\n                        </Attachments>\r\n                    </ListGroup.Item>\r\n                }\r\n            </ListGroup>\r\n            {this.props.hidePaging ? \"\" :\r\n                    <CustomPager\r\n                        skip={this.state.skip}\r\n                        take={this.state.take}\r\n                        // width={20}\r\n                        pagershowwidth={33}\r\n                        handlePageChange={this.handlePageChange}\r\n                        total={this.props.attachmentList ? this.props.attachmentList.length : 0}\r\n                        buttonCount={this.state.buttonCount}\r\n                        info={this.state.info}\r\n                        pageSize={this.props.settings ? this.props.settings[15].split(\",\").map(setting => parseInt(setting)) : [5, 10, 15]}\r\n\r\n                    >\r\n                    </CustomPager>\r\n                }\r\n            </>\r\n        );\r\n    }\r\n    showHideDetails = (event, index) => {\r\n\r\n        event.stopPropagation();\r\n        let showMore = { ...this.state.showMore, [index]: !this.state.showMore[index] }\r\n        this.setState({ showMore })\r\n\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.attachmentList !== previousProps.attachmentList) {\r\n            if (this.props.skip === undefined && this.props.attachmentList && this.props.attachmentList.length <= this.state.skip) {\r\n                this.setState({ skip: 0 });\r\n            }\r\n        }\r\n        if (this.props.skip !== undefined && this.props.skip !== previousProps.skip) {\r\n            this.setState({ skip: this.props.skip, take: this.props.take });\r\n        }\r\n    }\r\n}\r\nexport default injectIntl(ListAttachment);"]},"metadata":{},"sourceType":"module"}