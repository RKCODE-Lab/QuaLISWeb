{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{sortData}from'../components/CommonScript';import{initRequest}from'./LoginAction';import{toast}from'react-toastify';import{intl}from'../components/App';export function sendRequest(obj){return function(dispatch){dispatch(initRequest(true));var newMap=_objectSpread({},obj.inputData);var masterData=obj.masterData;var selectedRecord=obj.selectedRecord;rsapi.post(obj.url,_objectSpread(_objectSpread({},newMap),{},{userinfo:obj.userinfo})).then(function(response){masterData['consoleData']=response.data;newMap['whereCondition']=obj.inputData.whereCondition;// selectedRecord['filterNew']\ndispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},masterData),{},{selectedRecord:selectedRecord,newMap:newMap}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export function getQualisForms(obj){return function(dispatch){dispatch(initRequest(true));var userinfo=obj.userinfo;var selectedRecord=obj.selectedRecord;var constructApiData=obj.constructApiData;var masterData=obj.masterData;rsapi.post('/apiservice/getQualisForms',{'userinfo':userinfo,'napiservicecode':selectedRecord.napiservicecode.value}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);masterData['SelectedApi']=selectedRecord['napiservicecode'];if(selectedRecord['napiservicecode'].value<3){constructApiData=obj.constructApiData;}else{constructApiData=[];}masterData['consoleData']=[];selectedRecord['filterNew']=[];dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread({},masterData),loading:false,selectedRecord:selectedRecord,userinfo:userinfo,//constructApiData:[]\nconstructApiData:constructApiData}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export function getQualisFormsFields(obj){return function(dispatch){dispatch(initRequest(true));var userinfo=obj.userinfo;var selectedRecord=_objectSpread(_objectSpread({},obj.selectedRecord),{},{'filterNew':[]});var masterData=_objectSpread({},obj.masterData);rsapi.post('/apiservice/getQualisFormFields',{'userinfo':userinfo,'nformcode':selectedRecord.nformcode.value}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),{},{'lstquerybilderColumns':response.data,'SelectedForm':_objectSpread({},selectedRecord['nformcode']),'consoleData':[]});selectedRecord['filterNew']=[];dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread({},masterData),loading:false,selectedRecord:selectedRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/APIServiceAction.js"],"names":["rsapi","DEFAULT_RETURN","sortData","initRequest","toast","intl","sendRequest","obj","dispatch","newMap","inputData","masterData","selectedRecord","post","url","userinfo","then","response","data","whereCondition","type","payload","loading","catch","error","getQualisForms","constructApiData","napiservicecode","value","getQualisFormsFields","nformcode"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { sortData } from '../components/CommonScript';\r\nimport { initRequest } from './LoginAction';\r\nimport { toast } from 'react-toastify';\r\nimport { intl } from '../components/App';\r\n\r\n\r\nexport function sendRequest(obj) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const newMap={...obj.inputData}\r\n        const masterData=obj.masterData\r\n        const selectedRecord=obj.selectedRecord\r\n        rsapi.post(obj.url, {...newMap , userinfo: obj.userinfo} )\r\n            .then(response => {\r\n                masterData['consoleData']=response.data\r\n                newMap['whereCondition']=obj.inputData.whereCondition\r\n                // selectedRecord['filterNew']\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData:{...masterData,selectedRecord,newMap}, loading: false\r\n                        \r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN,payload: { loading: false }})\r\n            })\r\n    }\r\n}\r\n\r\nexport function getQualisForms(obj) {\r\n    return function (dispatch) {     \r\n        dispatch(initRequest(true));\r\n       const userinfo=obj.userinfo\r\n       const selectedRecord=obj.selectedRecord\r\n       let constructApiData = obj.constructApiData\r\n       let masterData=obj.masterData\r\n        rsapi.post('/apiservice/getQualisForms', {'userinfo':userinfo,'napiservicecode':selectedRecord.napiservicecode.value} )\r\n            .then(response => {\r\n                masterData={...masterData,\r\n                    ...response.data,\r\n                    // lstquerybilderColumns: response.data.lstquerybilderColumns.map((item, index) => {\r\n                    //         return { label: item.scolumndisplayname, value: index, item: { ...item } }})\r\n                }\r\n                masterData['SelectedApi']=selectedRecord['napiservicecode']\r\n                if(selectedRecord['napiservicecode'].value < 3){   \r\n                    constructApiData = obj.constructApiData\r\n                }\r\n                else{\r\n                    constructApiData = []\r\n                }\r\n                \r\n                masterData['consoleData']=[]\r\n                selectedRecord['filterNew']=[]\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData:{...masterData},\r\n                        loading: false,\r\n                        selectedRecord,\r\n                        userinfo,\r\n                        //constructApiData:[]\r\n                        constructApiData\r\n                       \r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\nexport function getQualisFormsFields(obj) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n       const userinfo=obj.userinfo\r\n       let selectedRecord={...obj.selectedRecord,'filterNew':[]}\r\n       let masterData={...obj.masterData}\r\n        rsapi.post('/apiservice/getQualisFormFields', {'userinfo':userinfo,'nformcode':selectedRecord.nformcode.value} )\r\n            .then(response => {\r\n                masterData={...masterData,'lstquerybilderColumns':response.data,\r\n                'SelectedForm':{...selectedRecord['nformcode']},'consoleData':[]}\r\n                selectedRecord['filterNew']=[]\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData:{...masterData} ,\r\n                        loading: false,\r\n                        selectedRecord\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}