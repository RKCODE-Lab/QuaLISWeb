{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { SchedulerItem } from './SchedulerItem';\nimport { intersects, first, calculateOrder, last } from '../utils';\nimport { useSchedulerElementContext, useSchedulerViewItemsContext, useSchedulerViewSlotsContext } from '../context';\nimport { getRect, setRect } from '../views/common/utils';\nimport { BORDER_WIDTH } from '../constants';\nimport { useInternationalization } from '@progress/kendo-react-intl';\nimport { SchedulerItemContent } from './SchedulerItemContent';\nvar ITEMS_SPACING = 1;\n/* eslint-disable max-len */\n\n/**\n * Represents a customized `viewItem` component which position itself proportionally to the duration of the item.\n *\n * This is a composite component of the [`SchedulerItem`]({% slug api_scheduler_scheduleritem %}), extending it to provide extended positioning inside a view.\n */\n\nexport var SchedulerProportionalViewItem = React.forwardRef(function (props, ref) {\n  // tslint:enable:max-line-length\n  var itemProp = props.item,\n      _ref = props._ref,\n      itemRef = props.itemRef,\n      itemProps = __rest(props, [\"item\", \"_ref\", \"itemRef\"]);\n\n  var timeout = React.useRef();\n  var item = React.useRef(null);\n  var viewItem = React.useRef(null);\n  var schedulerRect = React.useRef(null);\n  React.useImperativeHandle(viewItem, function () {\n    return {\n      props: props,\n      element: item.current && item.current.element\n    };\n  });\n  React.useImperativeHandle(ref, function () {\n    return viewItem.current;\n  });\n  React.useImperativeHandle(_ref, function () {\n    return item.current;\n  });\n  React.useImperativeHandle(itemRef, function () {\n    return item.current;\n  });\n  var Item = itemProp || defaultProps.item;\n  var intl = useInternationalization();\n  var viewItems = useSchedulerViewItemsContext()[0];\n  var viewSlots = useSchedulerViewSlotsContext()[0];\n  var scheduler = useSchedulerElementContext();\n\n  var _a = React.useState(true),\n      display = _a[0],\n      setDisplay = _a[1];\n\n  var _b = React.useState(false),\n      visible = _b[0],\n      setVisible = _b[1];\n\n  var _c = React.useState(0),\n      maxSiblingsPerSlot = _c[0],\n      setMaxSiblingsPerSlot = _c[1];\n\n  var itemTime = React.useMemo(function () {\n    return props.isAllDay ? intl.toString(props.zonedStart, 't') : intl.format('{0:t} - {1:t}', props.zonedStart, props.zonedEnd);\n  }, [intl, props.isAllDay, props.zonedEnd, props.zonedStart]);\n  var itemTitle = React.useMemo(function () {\n    return \"(\".concat(itemTime, \"): \").concat(props.title);\n  }, [itemTime, props.title]);\n\n  var calculateMostSiblings = function (slots, items) {\n    var most = 1;\n    slots.forEach(function (slot) {\n      var itemsInSlot = items.filter(function (i) {\n        return inSlot(slot.current.props, i.props);\n      });\n\n      if (itemsInSlot.length > most) {\n        most = itemsInSlot.length;\n      }\n    });\n    return most;\n  };\n\n  var getSiblingsInAllSlots = function (slots, items) {\n    var siblings = slots.map(function (slot) {\n      return items.filter(function (i) {\n        return inSlot(slot.current.props, i.props);\n      });\n    });\n    return siblings;\n  };\n\n  var inSlot = function (slot, current) {\n    return intersects(slot.start, slot.end, current.start, current.end) && slot.group.index === current.group.index && slot.range.index === current.range.index && (props.ignoreIsAllDay || slot.isAllDay === current.isAllDay);\n  }; // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n  var align = function () {\n    var slots = (viewSlots || []).filter(function (slot) {\n      return slot.current && inSlot(slot.current.props, props);\n    });\n\n    if (slots.length === 0) {\n      setDisplay(false);\n      return;\n    }\n\n    var firstSlot = first(slots);\n\n    if (!firstSlot.current || !item.current) {\n      return;\n    }\n\n    var rect = getRect(firstSlot.current.element);\n    setRect(item.current.element, rect);\n  }; // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n  var position = function () {\n    var slots = (viewSlots || []).filter(function (slot) {\n      return slot.current && inSlot(slot.current.props, props);\n    });\n    var element = item.current && item.current.element;\n\n    if (!element) {\n      return;\n    }\n\n    var firstSlot = first(slots);\n    var lastSlot = last(slots);\n\n    if (!firstSlot.current || !item.current || !lastSlot.current) {\n      return;\n    }\n\n    var items = [];\n    var dragItems = [];\n    var resizeItems = [];\n    var slotRect = getRect(firstSlot.current.element);\n    var pxPerMillisecond = (props.vertical ? slotRect.height : slotRect.width) / (firstSlot.current.props.end.getTime() - firstSlot.current.props.start.getTime());\n    var offset = (props.start.getTime() - firstSlot.current.props.start.getTime()) * pxPerMillisecond;\n    var total = (Math.min(props.end.getTime(), lastSlot.current.props.end.getTime()) - Math.max(props.start.getTime(), firstSlot.current.props.start.getTime())) * pxPerMillisecond;\n    (viewItems || []).forEach(function (i) {\n      if (!i.current) {\n        return;\n      }\n\n      if (i.current.props.dragHint) {\n        dragItems.push(i.current);\n      } else if (i.current.props.resizeHint) {\n        resizeItems.push(i.current);\n      } else {\n        items.push(i.current);\n      }\n    });\n    var order = props.dragHint || props.resizeHint ? calculateOrder(item.current, props.dragHint ? dragItems : resizeItems, slots, props.ignoreIsAllDay) : props.order || 0;\n    var mostSiblingsInSlot = props.dragHint || props.resizeHint ? calculateMostSiblings(slots, props.dragHint ? dragItems : resizeItems) : calculateMostSiblings(slots, items);\n    var siblingsPerSlot = getSiblingsInAllSlots(slots, items);\n    var topOffset = 0;\n    var rect = getRect(element);\n    siblingsPerSlot.forEach(function (slot) {\n      var currentOffset = 0;\n      slot.forEach(function (current) {\n        if (intersects(current.props.start, current.props.end, props.start, props.end) && !(props.dragHint || props.resizeHint) && current.props._maxSiblingsPerSlot && current.props._maxSiblingsPerSlot > mostSiblingsInSlot && current.element !== element) {\n          mostSiblingsInSlot = current.props._maxSiblingsPerSlot;\n        }\n\n        var currentRect = getRect(current.element);\n\n        if (current.props.order !== null && current.props.order < order) {\n          currentOffset = currentRect.top + currentRect.height - rect.top - BORDER_WIDTH * order + ITEMS_SPACING;\n        }\n      });\n\n      if (currentOffset > topOffset) {\n        topOffset = currentOffset;\n      }\n    });\n\n    if (slots.length === 0) {\n      setDisplay(false);\n      return;\n    }\n\n    var OFFSET = 20;\n    rect.width = props.vertical ? rect.width / mostSiblingsInSlot - BORDER_WIDTH - OFFSET / mostSiblingsInSlot : total + BORDER_WIDTH;\n    rect.height = props.vertical ? total - BORDER_WIDTH : (props.resizeHint || props.dragHint) && mostSiblingsInSlot <= 1 ? rect.height : props.style && props.style.height ? props.style.height : 25;\n    rect.left = props.vertical ? rect.left + order * rect.width + BORDER_WIDTH * order : rect.left + (offset < 0 ? 0 : offset);\n    rect.top = props.vertical ? rect.top + (offset < 0 ? 0 : offset) : rect.top + topOffset + BORDER_WIDTH * order;\n    setMaxSiblingsPerSlot(mostSiblingsInSlot);\n    setRect(element, rect);\n    setVisible(true);\n    setDisplay(true);\n  };\n\n  var handleResize = React.useCallback(function (entries) {\n    var entry = entries && entries[0];\n    var rect = schedulerRect.current;\n\n    if (timeout.current !== undefined) {\n      window.cancelAnimationFrame(timeout.current);\n    }\n\n    if (rect && entry && (rect.width !== entry.contentRect.width || rect.height !== entry.contentRect.height)) {\n      timeout.current = window.requestAnimationFrame(function () {\n        align();\n        position();\n      });\n    }\n\n    schedulerRect.current = {\n      width: entry.contentRect.width,\n      height: entry.contentRect.height\n    };\n  }, [align, position]);\n  React.useEffect(align);\n  React.useEffect(position);\n  React.useEffect(function () {\n    if (!scheduler.current) {\n      return;\n    }\n\n    var observer = new window.ResizeObserver(handleResize);\n    observer.observe(scheduler.current);\n    return function () {\n      observer.disconnect();\n    };\n  }, [handleResize, scheduler]);\n  return React.createElement(Item, __assign({}, itemProps, {\n    _ref: item,\n    _maxSiblingsPerSlot: maxSiblingsPerSlot,\n    itemRef: item,\n    style: __assign({\n      visibility: visible ? undefined : 'hidden',\n      display: display ? undefined : 'none'\n    }, props.style)\n  }), !props.resizeHint && React.createElement(\"span\", {\n    className: \"k-event-actions\"\n  }, props.tail && React.createElement(\"span\", {\n    className: \"k-icon k-i-caret-alt-left\"\n  }), props.isRecurring && !props.isException && React.createElement(\"span\", {\n    className: \"k-icon k-i-reload\"\n  }), !props.isRecurring && props.isException && React.createElement(\"span\", {\n    className: \"k-icon k-i-non-recurrence\"\n  })), !props.resizeHint && React.createElement(\"div\", {\n    title: itemTitle\n  }, !props.isAllDay && React.createElement(SchedulerItemContent, {\n    className: \"k-event-template k-event-time \"\n  }, itemTitle), React.createElement(SchedulerItemContent, {\n    className: \"k-event-template\"\n  }, props.title)));\n});\nvar defaultProps = {\n  item: SchedulerItem\n};\nSchedulerProportionalViewItem.defaultProps = defaultProps;\nSchedulerProportionalViewItem.displayName = 'KendoReactSchedulerProportionalViewItem';","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/SOURCE-512/QuaLISWeb/node_modules/@progress/kendo-react-scheduler/dist/es/items/SchedulerProportionalViewItem.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","SchedulerItem","intersects","first","calculateOrder","last","useSchedulerElementContext","useSchedulerViewItemsContext","useSchedulerViewSlotsContext","getRect","setRect","BORDER_WIDTH","useInternationalization","SchedulerItemContent","ITEMS_SPACING","SchedulerProportionalViewItem","forwardRef","props","ref","itemProp","item","_ref","itemRef","itemProps","timeout","useRef","viewItem","schedulerRect","useImperativeHandle","element","current","Item","defaultProps","intl","viewItems","viewSlots","scheduler","_a","useState","display","setDisplay","_b","visible","setVisible","_c","maxSiblingsPerSlot","setMaxSiblingsPerSlot","itemTime","useMemo","isAllDay","toString","zonedStart","format","zonedEnd","itemTitle","concat","title","calculateMostSiblings","slots","items","most","forEach","slot","itemsInSlot","filter","inSlot","getSiblingsInAllSlots","siblings","map","start","end","group","index","range","ignoreIsAllDay","align","firstSlot","rect","position","lastSlot","dragItems","resizeItems","slotRect","pxPerMillisecond","vertical","height","width","getTime","offset","total","Math","min","max","dragHint","push","resizeHint","order","mostSiblingsInSlot","siblingsPerSlot","topOffset","currentOffset","_maxSiblingsPerSlot","currentRect","top","OFFSET","style","left","handleResize","useCallback","entries","entry","undefined","window","cancelAnimationFrame","contentRect","requestAnimationFrame","useEffect","observer","ResizeObserver","observe","disconnect","createElement","visibility","className","tail","isRecurring","isException","displayName"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { SchedulerItem } from './SchedulerItem';\nimport { intersects, first, calculateOrder, last } from '../utils';\nimport { useSchedulerElementContext, useSchedulerViewItemsContext, useSchedulerViewSlotsContext } from '../context';\nimport { getRect, setRect } from '../views/common/utils';\nimport { BORDER_WIDTH } from '../constants';\nimport { useInternationalization } from '@progress/kendo-react-intl';\nimport { SchedulerItemContent } from './SchedulerItemContent';\nvar ITEMS_SPACING = 1;\n/* eslint-disable max-len */\n/**\n * Represents a customized `viewItem` component which position itself proportionally to the duration of the item.\n *\n * This is a composite component of the [`SchedulerItem`]({% slug api_scheduler_scheduleritem %}), extending it to provide extended positioning inside a view.\n */\nexport var SchedulerProportionalViewItem = React.forwardRef(function (props, ref) {\n    // tslint:enable:max-line-length\n    var itemProp = props.item, _ref = props._ref, itemRef = props.itemRef, itemProps = __rest(props, [\"item\", \"_ref\", \"itemRef\"]);\n    var timeout = React.useRef();\n    var item = React.useRef(null);\n    var viewItem = React.useRef(null);\n    var schedulerRect = React.useRef(null);\n    React.useImperativeHandle(viewItem, function () { return ({ props: props, element: item.current && item.current.element }); });\n    React.useImperativeHandle(ref, function () { return viewItem.current; });\n    React.useImperativeHandle(_ref, function () { return item.current; });\n    React.useImperativeHandle(itemRef, function () { return item.current; });\n    var Item = itemProp || defaultProps.item;\n    var intl = useInternationalization();\n    var viewItems = useSchedulerViewItemsContext()[0];\n    var viewSlots = useSchedulerViewSlotsContext()[0];\n    var scheduler = useSchedulerElementContext();\n    var _a = React.useState(true), display = _a[0], setDisplay = _a[1];\n    var _b = React.useState(false), visible = _b[0], setVisible = _b[1];\n    var _c = React.useState(0), maxSiblingsPerSlot = _c[0], setMaxSiblingsPerSlot = _c[1];\n    var itemTime = React.useMemo(function () { return props.isAllDay\n        ? intl.toString(props.zonedStart, 't')\n        : intl.format('{0:t} - {1:t}', props.zonedStart, props.zonedEnd); }, [intl, props.isAllDay, props.zonedEnd, props.zonedStart]);\n    var itemTitle = React.useMemo(function () { return \"(\".concat(itemTime, \"): \").concat(props.title); }, [itemTime, props.title]);\n    var calculateMostSiblings = function (slots, items) {\n        var most = 1;\n        slots.forEach(function (slot) {\n            var itemsInSlot = items.filter(function (i) { return inSlot(slot.current.props, i.props); });\n            if (itemsInSlot.length > most) {\n                most = itemsInSlot.length;\n            }\n        });\n        return most;\n    };\n    var getSiblingsInAllSlots = function (slots, items) {\n        var siblings = slots.map(function (slot) {\n            return items.filter(function (i) { return inSlot(slot.current.props, i.props); });\n        });\n        return siblings;\n    };\n    var inSlot = function (slot, current) {\n        return intersects(slot.start, slot.end, current.start, current.end)\n            && slot.group.index === current.group.index\n            && slot.range.index === current.range.index\n            && (props.ignoreIsAllDay || slot.isAllDay === current.isAllDay);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var align = function () {\n        var slots = (viewSlots || []).filter(function (slot) { return slot.current && inSlot(slot.current.props, props); });\n        if (slots.length === 0) {\n            setDisplay(false);\n            return;\n        }\n        var firstSlot = first(slots);\n        if (!firstSlot.current || !item.current) {\n            return;\n        }\n        var rect = getRect(firstSlot.current.element);\n        setRect(item.current.element, rect);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var position = function () {\n        var slots = (viewSlots || []).filter(function (slot) { return slot.current && inSlot(slot.current.props, props); });\n        var element = item.current && item.current.element;\n        if (!element) {\n            return;\n        }\n        var firstSlot = first(slots);\n        var lastSlot = last(slots);\n        if (!firstSlot.current || !item.current || !lastSlot.current) {\n            return;\n        }\n        var items = [];\n        var dragItems = [];\n        var resizeItems = [];\n        var slotRect = getRect(firstSlot.current.element);\n        var pxPerMillisecond = (props.vertical ? slotRect.height : slotRect.width) /\n            (firstSlot.current.props.end.getTime() - firstSlot.current.props.start.getTime());\n        var offset = (props.start.getTime() - firstSlot.current.props.start.getTime()) * pxPerMillisecond;\n        var total = (Math.min(props.end.getTime(), lastSlot.current.props.end.getTime()) - Math.max(props.start.getTime(), firstSlot.current.props.start.getTime())) * pxPerMillisecond;\n        (viewItems || []).forEach(function (i) {\n            if (!i.current) {\n                return;\n            }\n            if (i.current.props.dragHint) {\n                dragItems.push(i.current);\n            }\n            else if (i.current.props.resizeHint) {\n                resizeItems.push(i.current);\n            }\n            else {\n                items.push(i.current);\n            }\n        });\n        var order = (props.dragHint || props.resizeHint)\n            ? calculateOrder(item.current, props.dragHint ? dragItems : resizeItems, slots, props.ignoreIsAllDay)\n            : (props.order || 0);\n        var mostSiblingsInSlot = props.dragHint || props.resizeHint\n            ? calculateMostSiblings(slots, props.dragHint ? dragItems : resizeItems)\n            : calculateMostSiblings(slots, items);\n        var siblingsPerSlot = getSiblingsInAllSlots(slots, items);\n        var topOffset = 0;\n        var rect = getRect(element);\n        siblingsPerSlot.forEach(function (slot) {\n            var currentOffset = 0;\n            slot.forEach(function (current) {\n                if (intersects(current.props.start, current.props.end, props.start, props.end)\n                    && !(props.dragHint || props.resizeHint)\n                    && current.props._maxSiblingsPerSlot\n                    && current.props._maxSiblingsPerSlot > mostSiblingsInSlot\n                    && current.element !== element) {\n                    mostSiblingsInSlot = current.props._maxSiblingsPerSlot;\n                }\n                var currentRect = getRect(current.element);\n                if (current.props.order !== null && current.props.order < order) {\n                    currentOffset = ((currentRect.top + currentRect.height) - rect.top) - (BORDER_WIDTH * order) + ITEMS_SPACING;\n                }\n            });\n            if (currentOffset > topOffset) {\n                topOffset = currentOffset;\n            }\n        });\n        if (slots.length === 0) {\n            setDisplay(false);\n            return;\n        }\n        var OFFSET = 20;\n        rect.width = (props.vertical\n            ? ((rect.width / mostSiblingsInSlot) - BORDER_WIDTH - (OFFSET / mostSiblingsInSlot))\n            : ((total) + (BORDER_WIDTH)));\n        rect.height = props.vertical\n            ? (total - (BORDER_WIDTH))\n            : ((props.resizeHint || props.dragHint) && mostSiblingsInSlot <= 1)\n                ? rect.height\n                : (props.style && props.style.height ? props.style.height : 25);\n        rect.left = props.vertical\n            ? (rect.left + (order * rect.width) + (BORDER_WIDTH * order))\n            : rect.left + (offset < 0 ? 0 : offset);\n        rect.top = props.vertical\n            ? rect.top + (offset < 0 ? 0 : offset)\n            : (rect.top + topOffset + (BORDER_WIDTH * order));\n        setMaxSiblingsPerSlot(mostSiblingsInSlot);\n        setRect(element, rect);\n        setVisible(true);\n        setDisplay(true);\n    };\n    var handleResize = React.useCallback(function (entries) {\n        var entry = entries && entries[0];\n        var rect = schedulerRect.current;\n        if (timeout.current !== undefined) {\n            window.cancelAnimationFrame(timeout.current);\n        }\n        if (rect && entry &&\n            (rect.width !== entry.contentRect.width ||\n                rect.height !== entry.contentRect.height)) {\n            timeout.current = window.requestAnimationFrame(function () {\n                align();\n                position();\n            });\n        }\n        schedulerRect.current = { width: entry.contentRect.width, height: entry.contentRect.height };\n    }, [align, position]);\n    React.useEffect(align);\n    React.useEffect(position);\n    React.useEffect(function () {\n        if (!scheduler.current) {\n            return;\n        }\n        var observer = new window.ResizeObserver(handleResize);\n        observer.observe(scheduler.current);\n        return function () {\n            observer.disconnect();\n        };\n    }, [handleResize, scheduler]);\n    return (React.createElement(Item, __assign({}, itemProps, { _ref: item, _maxSiblingsPerSlot: maxSiblingsPerSlot, itemRef: item, style: __assign({ visibility: visible ? undefined : 'hidden', display: display ? undefined : 'none' }, props.style) }),\n        (!props.resizeHint) && React.createElement(\"span\", { className: \"k-event-actions\" },\n            props.tail && React.createElement(\"span\", { className: \"k-icon k-i-caret-alt-left\" }),\n            (props.isRecurring && !props.isException) && React.createElement(\"span\", { className: \"k-icon k-i-reload\" }),\n            (!props.isRecurring && props.isException) && React.createElement(\"span\", { className: \"k-icon k-i-non-recurrence\" })),\n        (!props.resizeHint) && (React.createElement(\"div\", { title: itemTitle },\n            !props.isAllDay && (React.createElement(SchedulerItemContent, { className: \"k-event-template k-event-time \" }, itemTitle)),\n            React.createElement(SchedulerItemContent, { className: \"k-event-template\" }, props.title)))));\n});\nvar defaultProps = {\n    item: SchedulerItem\n};\nSchedulerProportionalViewItem.defaultProps = defaultProps;\nSchedulerProportionalViewItem.displayName = 'KendoReactSchedulerProportionalViewItem';\n"]},"metadata":{},"sourceType":"module"}