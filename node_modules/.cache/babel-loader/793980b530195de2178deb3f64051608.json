{"ast":null,"code":"import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl}from'react-intl';import rsapi from'../../rsapi';import{toast}from'react-toastify';import{Row,Col,Card,Button,Nav}from'react-bootstrap';import PerfectScrollbar from'react-perfect-scrollbar';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faPlus,faSync}from'@fortawesome/free-solid-svg-icons';import'react-perfect-scrollbar/dist/css/styles.css';import SplitterLayout from'react-splitter-layout';import{faEye,faTrashAlt}from'@fortawesome/free-regular-svg-icons';// import { Tooltip } from '@progress/kendo-react-tooltip';\nimport{process}from'@progress/kendo-data-query';import DataGrid from'../../components/data-grid/data-grid.component';import OrgTree from'react-org-tree';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import Esign from'../audittrail/Esign';import{callService,crudMaster,filterTestGroup,createTree,editTree,getTestGroupDetails,sampleTypeOnChange,validateEsignCredential,updateStore,addSpecification,getSpecification,addComponent,changeTestCategory,addTestGroupTest,editTestGroupTest,getTestGroupParameter,editTestGroupParameter,addTestFile,editSpecFile,getSpecificationDetails,addTestGroupCodedResult,getComponentBySpecId,filterColumnData,viewAttachment,viewTestGroupCheckList,getTestGroupComponentDetails,filterTransactionList,reportSpecification,retireSpecification,getDataForTestMaterial,getMaterialCategoryBasedMaterialType,getMaterialBasedMaterialCategory,getTestGroupMaterial,getDataForEditTestMaterial,addTestGroupNumericTab,getTestGroupRulesEngineAdd,getEditTestGroupRulesEngine,getSelectedTestGroupRulesEngine,getParameterRulesEngine,getParameterResultValue,subCodedResultView,saveExecutionOrder}from'../../actions';import{constructOptionList,formatInputDate,create_UUID,deleteAttachmentDropZone,filterRecordBasedOnTwoArrays,getControlMap,onDropAttachFileList,showEsign,sortData,Lims_JSON_stringify}from'../../components/CommonScript';import TestGroupTestTab from'./TestGroupTestTab';import AddTestGroupSpecification from'./AddTestGroupSpecification';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{transactionStatus,REPORTTYPE,attachmentType,formCode,designProperties,parameterType,SampleType}from'../../components/Enumeration';import AddTestGroupTest from'./AddTestGroupTest';import AddProfileTree from'./AddProfileTree';import SampleFilter from'./SampleFilter';import AddFile from'../testmanagement/AddFile';import AdvFilter from'../../components/AdvFilter';import SpecificationHistory from'./SpecificationHistory';import TestGroupSpecFile from'./TestGroupSpecFile';import SpecificationInfo from'./SpecificationInfo';import CustomTab from'../../components/custom-tabs/custom-tabs.component';import TransationListMaster from'../../components/TransactionListMaster';import TransationListMasterView from'../../components/TransactionListMasterView';import FormTreeMenu from'../../components/form-tree-menu/form-tree-menu.component';// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\nimport FormInput from'../../components/form-input/form-input.component';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import{testMoreFields,testSubFields,searchFieldList,specificationColumnList,componentColumnList,addTestColumnList,editTestColumnList}from'./TestGroupFields';import EditTestGroupTest from'./EditTestGroupTest';import{ContentPanel,SearchAdd}from'../../components/App.styles';import'../../pages/registration/registration.css';import{ListWrapper}from'../../components/client-group.styles';import{ProductList}from'../product/product.styled';import TransactionListMasterJsonView from'../../components/TransactionListMasterJsonView';// import ReactTooltip from 'react-tooltip';\nimport PortalModalSlideout from'../../components/portal-modal/portal-modal-slideout';import AddTestGroupRule from'./AddTestGroupRule';import ViewSubCodedResult from'./ViewSubCodedResult';var TestGroup=/*#__PURE__*/function(_Component){_inherits(TestGroup,_Component);var _super=_createSuper(TestGroup);function TestGroup(_props){var _ref3;var _this;_classCallCheck(this,TestGroup);_this=_super.call(this,_props);_this.reloadData=function(){var filterData=_this.props.Login.filterData||_this.state.filterData;if(filterData.nsampletypecode===undefined){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SAMPLETYPENOTAVAILABLE\"}));}else if(filterData.nproductcatcode===\"\"){if(filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTCATEGORYNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALCATEGORYNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_CATEGORYNOTAVAILABLE\"}));}}else if(filterData.nproductcode===\"\"&&filterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.NO){if(filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY&&filterData.nsampletypecode.item.ncategorybasedflowrequired===transactionStatus.NO){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}}else if(filterData.ntreeversiontempcode===\"\"){toast.warn(_this.props.intl.formatMessage({id:\"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\"}));}else{var inputParam={inputData:{userinfo:_this.props.Login.userInfo,nsampletypecode:filterData.nsampletypecode.item[\"nsampletypecode\"],nproductcatcode:filterData.nproductcatcode.item[\"nproductcatcode\"],//   nproductcode: filterData.nproductcode.item[\"nproductcode\"],\nnproductcode:filterData.nsampletypecode.item.ncategorybasedflowrequired==transactionStatus.YES?-1:filterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.YES?-1:filterData.nproductcode?filterData.nproductcode.value:-1,ntreeversiontempcode:filterData.ntreeversiontempcode.item[\"ntreeversiontempcode\"],nprojectmastercode:filterData.nprojectmastercode!==undefined?filterData.nprojectmastercode.item[\"nprojectmastercode\"]:-1,filterData:filterData//: { ...this.props.Login.filterData }\n},historyDataState:_this.state.historyDataState};_this.props.filterTestGroup(inputParam,_this.props.Login.masterData,_this.searchRef);}};_this.ConfirmDelete=function(obj){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteRecord(obj);});};_this.handlePageChange=function(event){_this.setState({testskip:event.skip,testtake:event.take});};_this.viewTestFile=function(props){var viewParam={operation:\"view\",methodUrl:\"TestGroupTestFile\",classUrl:\"testgroup\",inputData:{ntestgroupfilecode:props.selectedTest?props.selectedTest.ntestgroupfilecode:0,userinfo:_this.props.Login.userInfo,testgroupspecification:_this.props.Login.masterData.SelectedSpecification,ntestgrouptestcode:props.selectedTest?props.selectedTest.ntestgrouptestcode:0}};_this.props.viewAttachment(viewParam);};_this.fileViewIcon=function(master){if(master.ntestgroupfilecode>0&&master.nlinkcode===transactionStatus.NA){return true;}else{return false;}};_this.linkViewIcon=function(master){if(master.ntestgroupfilecode>0&&master.nlinkcode!==transactionStatus.NA){return true;}else{return false;}};_this.onFilterSumbit=function(){var tempFilterData=_this.state.tempFilterData;if(tempFilterData.nsampletypecode===undefined){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SAMPLETYPENOTAVAILABLE\"}));}else if(tempFilterData.nproductcatcode===\"\"){if(tempFilterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTCATEGORYNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALCATEGORYNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_CATEGORYNOTAVAILABLE\"}));}}// else if(tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO){\nelse if(tempFilterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.NO&&tempFilterData.nproductcode===\"\"&&tempFilterData.nsampletypecode.item.ncategorybasedflowrequired===transactionStatus.NO||tempFilterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.NO&&tempFilterData.nproductcode===undefined&&tempFilterData.nsampletypecode.item.ncategorybasedflowrequired===transactionStatus.NO){if(tempFilterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY&&tempFilterData.nsampletypecode.item.ncategorybasedflowrequired===transactionStatus.NO){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}}// }\nelse if(tempFilterData.ntreeversiontempcode===\"\"){toast.warn(_this.props.intl.formatMessage({id:\"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\"}));}else{var inputParam={inputData:{userinfo:_this.props.Login.userInfo,nsampletypecode:tempFilterData.nsampletypecode.value,nproductcatcode:tempFilterData.nproductcatcode.value,nproductcode:tempFilterData.nsampletypecode.item.ncategorybasedflowrequired===transactionStatus.YES?-1:tempFilterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.YES?-1:tempFilterData.nproductcode?tempFilterData.nproductcode.value:-1,ntreeversiontempcode:tempFilterData.ntreeversiontempcode.value,nprojectmastercode:tempFilterData.nsampletypecode.value===SampleType.PROJECTSAMPLETYPE?tempFilterData.nsampletypecode.item.nprojectspecrequired===transactionStatus.YES?tempFilterData.nprojectmastercode.value:-1:-1,filterData:_objectSpread({},tempFilterData)},historyDataState:_this.state.historyDataState};_this.props.filterTestGroup(inputParam,_this.props.Login.masterData,_this.searchRef);}};_this.onTreeClick=function(event){var inputParam={methodUrl:\"TestGroupSpecification\",screenName:\"IDS_SPECIFICATION\",operation:\"get\",keyName:\"treetemplatemanipulation\",userinfo:_this.props.Login.userInfo,selectedRecord:event.item,activeKey:event.key,focusKey:event.key,primaryKey:event.primaryKey,historyDataState:_this.state.historyDataState};_this.props.getSpecification(inputParam,_this.props.Login.masterData,_this.searchRef);};_this.tabDetail=function(){var tabMap=new Map();tabMap.set(\"IDS_FILE\",/*#__PURE__*/React.createElement(TestGroupSpecFile,{controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,userInfo:_this.props.Login.userInfo,inputParam:_this.props.Login.inputParam,deleteRecord:_this.deleteRecord,testGroupSpecFile:_this.props.Login.masterData.TestGroupSpecFile||[],selectedSpecification:_this.props.Login.masterData.SelectedSpecification,addTestFile:_this.addFile,editSpecFile:_this.props.editSpecFile,filterData:_this.state.filterData,viewTestFile:_this.viewTestFile,defaultRecord:_this.defaultRecord,screenName:\"IDS_FILE\",viewAttachment:_this.props.viewAttachment,settings:_this.props.Login.settings,masterData:_this.props.Login.masterData}));tabMap.set(\"IDS_SPECIFICATIONHISTORY\",/*#__PURE__*/React.createElement(SpecificationHistory,{data:_this.props.Login.masterData.TestGroupSpecificationHistory,dataResult:process(_this.props.Login.masterData.TestGroupSpecificationHistory||[],_this.state.historyDataState),dataState:_this.state.historyDataState,dataStateChange:_this.historyDataStateChange// testGroupSpecificationHistory={this.props.Login.masterData.TestGroupSpecificationHistory}\n// dataState={this.props.Login.screenName === \"IDS_SPECIFICATIONHISTORY\" ? this.state.historyDataState : { skip: 0, take: 10 }}\n,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,userInfo:_this.props.Login.userInfo,inputParam:_this.props.Login.inputParam,screenName:\"IDS_SPECIFICATIONHISTORY\"}));return tabMap;};_this.historyDataStateChange=function(event){_this.setState({dataResult:process(_this.props.Login.masterData.TestGroupSpecificationHistory||[],event.dataState),historyDataState:event.dataState});};_this.specDataStateChange=function(event){_this.setState({dataResult:process(_this.props.Login.masterData.TestGroupTestClinicalSpec||[],event.dataState),clinicalspecDataState:event.dataState});};_this.addFile=function(userInfo,operation,ncontrolCode,screenName,modalName,nflag){// const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\n// if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\n//     || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\n//     this.props.addTestFile(userInfo, operation, ncontrolCode, screenName, modalName, nflag);\n// } else {\n//     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\n// }\nvar masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{var testgroupspecification=_this.props.Login.masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){_this.props.addTestFile(userInfo,operation,ncontrolCode,screenName,modalName);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.componentRowClick=function(event){var masterData=_this.props.Login.masterData;masterData[\"SelectedComponent\"]=event.testgroupspecsampletype[0];var inputParam={testgroupspecsampletype:event.testgroupspecsampletype[0],userInfo:_this.props.Login.userInfo};_this.props.getTestGroupComponentDetails(inputParam,masterData,_this.searchRef);};_this.deleteTest=function(deleteParam){var masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{var testgroupspecification=masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var testgrouptest=deleteParam.props.testgrouptest;var inputParam={inputData:{testgrouptest:testgrouptest,userinfo:_this.props.Login.userInfo,testgroupspecification:testgroupspecification,ntreeversiontempcode:deleteParam.filterData.ntreeversiontempcode.value},classUrl:\"testgroup\",operation:\"delete\",methodUrl:\"Test\",screenName:\"IDS_TEST\",postParam:{inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:testgrouptest.ntestgrouptestcode,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.Login.userInfo},masterData:masterData,searchFieldList:searchFieldList,unchangeList:[\"TestGroupSpecification\",\"SelectedSpecification\",\"SampleType\",\"TreeVersionTemplate\",\"ProductCategory\",\"SelectedTest\",\"Product\",\"AgaramTree\",\"OpenNodes\",\"selectedNode\",\"FocusKey\",\"ActiveKey\",\"SelectedComponent\",\"TestGroupSpecSampleType\"]//, isSingleSelect: true\n}};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_TEST\",operation:\"delete\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"Default\"||_this.props.Login.operation==='approve'||_this.props.Login.operation==='complete'){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord[\"agree\"]=4;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.onInputOnChange=function(event,caseNo,optional){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?optional[0]:optional[1];}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;// selectedRecord[\"sfilename\"] = \"\";\n}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});break;case 2:selectedRecord[event.target.name]=event.target.value;var indexKey=Object.keys(optional)[0];var value=Object.values(optional)[0];var treeData={ntreeversiontempcode:value.ntreeversiontempcode,npositioncode:value.nlevelno-1,sleveldescription:event.target.value,ntemptranstestgroupcode:value.ntemptranstestgroupcode,nformcode:62,schildnode:\"\",nnextchildcode:value.schildnode!==null?value.schildnode:-1,ntemplatemanipulationcode:value.ntemplatemanipulationcode,isreadonly:value.ntemplatemanipulationcode>0?true:false,slevelformat:value.slevelformat};var treetemplatemanipulation=selectedRecord.treetemplatemanipulation||[];treetemplatemanipulation[indexKey]=treeData;selectedRecord[\"treetemplatemanipulation\"]=treetemplatemanipulation;_this.setState({selectedRecord:selectedRecord});break;default:break;}};_this.onEsignInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onTabChangeRulesEngine=function(tabProps){var masterData=_this.props.Login.masterData&&_this.props.Login.masterData;masterData['activeTabName']=tabProps.activeTabName;var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:masterData}};_this.props.updateStore(updateInfo);};_this.tabDetailRulesEngine=function(){var masterData=_this.props.Login.masterData||{};var jsonuidata=_this.props.Login.masterData.SelectedRulesEngine&&_this.props.Login.masterData.SelectedRulesEngine['jsonuidata'];var tabMap=new Map();{tabMap.set(\"IDS_Test\",/*#__PURE__*/React.createElement(DataGrid,{key:\"testsectionkey\",primaryKeyField:\"nresultusedmaterialcode\",expandField:\"expanded\",handleExpandChange:_this.handleExpandChange,dataResult:_this.props.Login.masterData.SelectedRulesEngine&&_this.props.Login.masterData.SelectedRulesEngine&&process(sortData(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testInitiateTests'],\"descending\",\"npkAtestparametercode\")||[],_this.state.dataStatetestinitiate?_this.state.dataStatetestinitiate:{skip:0,take:10}),dataState:_this.state.dataStatetestinitiate?_this.state.dataStatetestinitiate:{skip:0,take:10},dataStateChange:_this.dataStateChangetestinitiateTab,extractedColumnList:[{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestsynonym\",\"width\":\"200px\"}],controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,pageable:true,scrollable:'scrollable',hideColumnFilter:false,selectedId:0,deleteParam:{operation:\"delete\"},hasChild:true,childMappingField:'npkAtestparametercode',childColumnList:[{\"idsName\":\"IDS_TOSITE\",\"dataField\":\"stositename\",\"width\":\"200px\"},{\"idsName\":\"IDS_FROMSITE\",\"dataField\":\"sfromsitename\",\"width\":\"200px\"}],childList:_this.state.childListMap,activeTabName:\"IDS_Test\",gridHeight:'400px'}));tabMap.set(\"IDS_COMMENTS\",/*#__PURE__*/React.createElement(DataGrid,{key:\"testsectionkey\",primaryKeyField:\"nresultusedmaterialcode\",handleExpandChange:_this.handleExpandChange,dataResult:_this.props.Login.masterData.SelectedRulesEngine&&process(sortData(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentsTestsTab'],\"descending\",\"nslno\")||[],_this.state.dataState?_this.state.dataState:{skip:0,take:10}),dataState:_this.state.dataState?_this.state.dataState:{skip:0,take:10},dataStateChange:_this.dataStateChange,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,pageable:true,scrollable:'scrollable',hideColumnFilter:false,selectedId:0,deleteParam:{operation:\"delete\"},childMappingField:'npkBtestparametercode',extractedColumnList:[{\"idsName\":\"IDS_DESCRIPTION\",\"dataField\":\"sdescription\",\"width\":\"200px\"},{\"idsName\":\"IDS_RESULTS\",\"dataField\":\"spredefinedname\",\"width\":\"200px\"},{\"idsName\":\"IDS_COMMENTSUBTYPE\",\"dataField\":\"scommentsubtype\",\"width\":\"200px\"},{\"idsName\":\"IDS_COMMENTTYPE\",\"dataField\":\"scommenttype\",\"width\":\"200px\"},{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestsynonym\",\"width\":\"200px\"}],childList:_this.state.childListMap2&&_this.state.childListMap2,activeTabName:\"IDS_COMMENTS\",gridHeight:'400px'}));tabMap.set(\"IDS_REPEAT\",/*#__PURE__*/React.createElement(DataGrid,{key:\"testsectionkey\",primaryKeyField:\"nresultusedmaterialcode\",dataResult:_this.props.Login.masterData.SelectedRulesEngine&&process(sortData(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testRepeatTestsTab'],\"descending\",\"npkCtestparametercode\")||[],_this.state.dataStaterepeatTab?_this.state.dataStaterepeatTab:{skip:0,take:10}),dataState:_this.state.dataStaterepeatTab?_this.state.dataStaterepeatTab:{skip:0,take:10},dataStateChange:_this.dataStateChangeRepeatTab,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,pageable:true,scrollable:'scrollable',hideColumnFilter:false,selectedId:0,deleteParam:{operation:\"delete\"},extractedColumnList:[{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestsynonym\",\"width\":\"200px\"},{\"idsName\":\"IDS_REPEATCOUNT\",\"dataField\":\"nrepeatcountno\",\"width\":\"200px\"}],activeTabName:\"IDS_COMMENTS\",gridHeight:'400px'}));tabMap.set(\"IDS_ENFORCERESULT\",/*#__PURE__*/React.createElement(DataGrid,{key:\"testsectionkey\",primaryKeyField:\"nresultusedmaterialcode\",dataResult:_this.props.Login.masterData.SelectedRulesEngine&&process(sortData(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testenforceTestsTab'],\"descending\",\"npkDtestparametercode\")||[],_this.state.dataStateChangenforceTab?_this.state.dataStateChangenforceTab:{skip:0,take:10}),dataState:_this.state.dataStateChangenforceTab?_this.state.dataStateChangenforceTab:{skip:0,take:10},dataStateChange:_this.dataStateChangenforceTab,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,pageable:true,scrollable:'scrollable',hideColumnFilter:false,selectedId:0,deleteParam:{operation:\"delete\"},extractedColumnList:[{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestsynonym\",\"width\":\"200px\"},{\"idsName\":\"IDS_PARAMETERS\",\"dataField\":\"sparametersynonym\",\"width\":\"200px\"},{\"idsName\":\"IDS_PASSFLAG\",\"dataField\":\"sgradename\",\"width\":\"200px\"},{\"idsName\":\"IDS_RESULTS\",\"dataField\":\"senforcestatuscomment\",\"width\":\"200px\"}],activeTabName:\"IDS_COMMENTS\",gridHeight:'400px'}));}return tabMap;};_this.dataStateChange=function(event,ntestgrouptestparametercode){var dataStateObject=_this.state.dataStateObject||{};if(ntestgrouptestparametercode){dataStateObject=_objectSpread(_objectSpread({},dataStateObject),{},_defineProperty({},ntestgrouptestparametercode,event.dataState));_this.setState({dataStateObject:dataStateObject});}else{_this.setState({dataState:event.dataState});}};_this.dataStateChangetestRepeat=function(event){_this.setState({//  dataResult: process(this.props.Login.queryData, event.dataState),\ndataStatetestRepeat:event.dataState});};_this.dataStateChangetestEnforce=function(event){_this.setState({//  dataResult: process(this.props.Login.queryData, event.dataState),\ndataStatetestEnforce:event.dataState});};_this.dataStateChangetestinitiateTab=function(event){_this.setState({//  dataResult: process(this.props.Login.queryData, event.dataState),\ndataStatetestinitiate:event.dataState});};_this.dataStateChangeRepeatTab=function(event){_this.setState({//  dataResult: process(this.props.Login.queryData, event.dataState),\ndataStaterepeatTab:event.dataState});};_this.dataStateChangenforceTab=function(event){_this.setState({//  dataResult: process(this.props.Login.queryData, event.dataState),\ndataStateChangenforceTab:event.dataState});};_this.dataStateChangeMain=function(event){_this.setState({dataResultMain:process(_this.props.Login.queryDataMain,event.dataStateMain),dataStateMain:event.dataStateMain});};_this.ConfirmDeleteRule=function(deleteId){if(_this.props.Login.masterData['RulesEngine']&&_this.props.Login.masterData['RulesEngine'].length>0){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.handleClickDelete(_this.props.Login.masterData,deleteId,\"openModal\");});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTRULETODELETE\"}));}};_this.closeModalShow=function(){var openModalPopup=_this.props.Login.openModalPopup;var selectedRecord=_this.props.Login.selectedRecord||{};selectedRecord['srulename']=\"\";openModalPopup=false;var updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:openModalPopup,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.onsavevalidation=function(selectedRecord){var grouplist=selectedRecord[\"groupList\"];var hasAll=true;var _loop=function _loop(){var rules=grouplist[i];for(j=0;j<rules.length;j++){var props=[];if(rules[j][\"orderresulttype\"]&&rules[j][\"orderresulttype\"].value===1){props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ndiagnosticcasecode\"];}else if(rules[j][\"orderresulttype\"]&&rules[j][\"orderresulttype\"].value===3){if(rules[j][\"stestname\"]&&rules[j][\"stestname\"]['item']['nparametertypecode']===parameterType.PREDEFINED){props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ntestgrouptestpredefcode\"];}else if(rules[j][\"stestname\"]&&rules[j][\"stestname\"]['item']['nparametertypecode']===parameterType.CHARACTER){props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ntestgrouptestcharcode\"];}else if(rules[j][\"stestname\"]&&rules[j][\"stestname\"]['item']['nparametertypecode']===parameterType.NUMERIC){props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ntestgrouptestnumericcode\"];}else{if(rules[j][\"orderresulttype\"]&&rules[j][\"orderresulttype\"].value===1){props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ndiagnosticcasecode\"];}else{props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ngradecode\"];}}}else{props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ngradecode\"];}hasAll=props.every(function(prop){return rules[j].hasOwnProperty(prop);});if(hasAll===false){break;}}if(hasAll===false){return\"break\";}};for(var i=0;i<grouplist.length;i++){var j;var _ret=_loop();if(_ret===\"break\")break;}return hasAll;};_this.save=function(){var inputData=[];var siteObject=_this.props.Login.siteObject||{};var testCommentObject=_this.props.Login.testCommentObject||{};var reportCommentObject=_this.props.Login.reportCommentObject||{};var PredefinedParameterOptions=_this.props.Login.masterData.PredefinedParameterOptions||[];var testInitiateTests=_this.props.Login.testInitiateTests||[];var testCommentsTests=_this.props.Login.testCommentsTests||[];var reportCommentsTests=_this.props.Login.reportCommentsTests||[];var testRepeatTests=_this.props.Login.testRepeatTests||[];var testenforceTests=_this.props.Login.testenforceTests||[];var testsInvolvedInRules=[];var testsNameInvolvedInRules=[];var selectedRecord=_this.state.selectedRecord;var rules=[];//  if (selectedRecord[\"nproductcatcode\"]) {\nif(testInitiateTests.length>0||testCommentsTests.length>0||testRepeatTests.length>0||testenforceTests.length>0){if(selectedRecord[\"groupList\"].length>0){if(_this.onsavevalidation(selectedRecord)){if(selectedRecord[\"srulename\"]&&selectedRecord[\"srulename\"]!==\"\"&&_this.props.Login.action!=='update'&&_this.props.Login.action!=='IDS_ADDTESTCOMMENTS'&&_this.props.Login.action!=='IDS_ADDREPORTCOMMENTS'&&_this.props.Login.action!=='IDS_ADDTEST'&&_this.props.Login.action!=='IDS_ADDSITE'){if(selectedRecord[\"groupList\"]){var groupList=[];var outcomeList={};groupList=selectedRecord[\"groupList\"];outcomeList['groupList']=groupList;outcomeList['addGroupList']=_this.props.Login.addGroupList;outcomeList['testInitiateTests']=_this.props.Login.testInitiateTests&&_this.props.Login.testInitiateTests;outcomeList['testCommentsTests']=_this.props.Login.testCommentsTests&&_this.props.Login.testCommentsTests;outcomeList['testRepeatTests']=_this.props.Login.testRepeatTests&&_this.props.Login.testRepeatTests;outcomeList['testenforceTests']=_this.props.Login.testenforceTests&&_this.props.Login.testenforceTests;outcomeList['reportCommentsTests']=_this.props.Login.reportCommentsTests&&_this.props.Login.reportCommentsTests;outcomeList['siteObject']=_this.props.Login.siteObject&&_this.props.Login.siteObject;outcomeList['testCommentObject']=_this.props.Login.testCommentObject&&_this.props.Login.testCommentObject;outcomeList['reportCommentObject']=_this.props.Login.reportCommentObject&&_this.props.Login.reportCommentObject;outcomeList['testInitiateSiteTab']=_this.props.Login.masterData.testInitiateSiteTab&&_this.props.Login.masterData.testInitiateSiteTab;outcomeList['testCommentsTestsTab']=_this.props.Login.masterData.testCommentsTestsTab&&_this.props.Login.masterData.testCommentsTestsTab;outcomeList['reportCommentsTestsTab']=_this.props.Login.reportCommentsTestsTab&&_this.props.Login.reportCommentsTestsTab;outcomeList['testRepeatTestsTab']=_this.props.Login.masterData['testRepeatTestsTab']&&_this.props.Login.masterData['testRepeatTestsTab'];outcomeList['testenforceTestsTab']=_this.props.Login.masterData['testenforceTestsTab']&&_this.props.Login.masterData['testenforceTestsTab'];outcomeList['PredefinedParameterOptions']=PredefinedParameterOptions;// outcomeList['nproductcatcode'] = selectedRecord['nproductcatcode']\noutcomeList['ntestgrouptestcode']=_this.props.Login.masterData.SelectedTest.ntestgrouptestcode;// outcomeList['nallottedspeccode'] = selectedRecord['nallottedspeccode']\n// outcomeList['ncomponentcode'] = selectedRecord['ncomponentcode'] \noutcomeList['groupListJoins']=selectedRecord['groupListJoins']?selectedRecord['groupListJoins']:[];var ruleEngineLayout=[];var ruleEngineLayoutObject=[];var groupRuleObject={};groupList.map(function(List){return List.map(function(x){testsInvolvedInRules.push(x.stestname.item.ntestgrouptestcode);testsNameInvolvedInRules.push(x.stestname.item);});});outcomeList['testsNameInvolvedInRules']=testsNameInvolvedInRules;outcomeList['testsInvolvedInRules']=testsInvolvedInRules;groupList.map(function(List){if(List.hasOwnProperty('button_or')&&List['button_or']===true){if(List.hasOwnProperty('button_not')&&List['button_not']===true){groupRuleObject['button_not_button_or']=List;}else{groupRuleObject['button_or']=List;}// groupRuleObject['button_or'] = List\nruleEngineLayout.push(groupRuleObject);groupRuleObject={};}if(List.hasOwnProperty('button_and')&&List['button_and']===true){if(List.hasOwnProperty('button_not')&&List['button_not']===true){groupRuleObject['button_not_button_and']=List;}else{groupRuleObject['button_and']=List;}//  groupRuleObject['button_and'] = List\nruleEngineLayout.push(groupRuleObject);groupRuleObject={};}});ruleEngineLayoutObject=groupList.hasOwnProperty('button_or')&&groupList['button_or']===true?{'button_or':ruleEngineLayout}:{'button_and':ruleEngineLayout};console.log('savelist--->',JSON.stringify(ruleEngineLayoutObject));//  inputData['nproductcatcode'] = this.props.Login.masterData.SelectedProductCategory.nproductcatcode\n//  inputData['nproductcatcode'] = selectedRecord['nproductcatcode'].value\ninputData['ntestgrouptestcode']=_this.props.Login.masterData.SelectedTest.ntestgrouptestcode;// inputData['nallottedspeccode'] = selectedRecord['nallottedspeccode'].value\n// inputData['ncomponentcode'] = selectedRecord['ncomponentcode'].value\ninputData['srulename']=selectedRecord['srulename'];//   inputData['nruleexecorder'] = parseInt(selectedRecord['nruleexecorder'])\ninputData['outcomeList']=JSON.stringify(outcomeList);inputData['jsondata']=JSON.stringify(ruleEngineLayout);inputData['userinfo']=_this.props.Login.userInfo;if(_this.props.Login.operation==='update'){inputData['ntestgrouprulesenginecode']=_this.props.Login.masterData.SelectedRulesEngine['ntestgrouprulesenginecode'];}var inputParam={classUrl:\"testgrouprulesengine\",methodUrl:\"TestGroupRulesEngine\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:_this.props.Login.operation==='create'?'create':'update'};_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openPortalModal\");}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_PLEASEADDRULE\"}));}}else{selectedRecord['srulename']=selectedRecord['srulenamecopy']||\"\";//  selectedRecord['nruleexecorder'] = selectedRecord['nruleexecordercopy'] || \"\"\nvar updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:true,selectedRecord:selectedRecord,action:\"IDS_SAVERULEMODAL\",openmodalsavePopup:true}};_this.props.updateStore(updateInfo);//   toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERRULESENGINENAME\" }));\n}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_COMPLETETHERULETOSAVE\"}));}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_ATLEASTADDONERULE\"}));}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_ATLEASTADDONEOUTCOME\"}));}};_this.onOutcomeChange=function(comboData,index){var selectedRecord=_this.state.selectedRecord;selectedRecord[\"outComeList\"]=[];selectedRecord[\"outComeList\"][index]=[];selectedRecord[\"outComeList\"][index]=comboData;if(selectedRecord[\"outComeList\"][index]){_this.setState({selectedRecord:selectedRecord});}};_this.writtenRules=function(data){var selectedRecord=_this.state.selectedRecord||{};var grouplist=selectedRecord[\"groupList\"];var activeTabIndex=_this.props.Login.activeTabIndex||0;if(activeTabIndex===1){var boolean=grouplist.every(function(x){return x.every(function(y){return y['stestname']['item'].ntestgrouptestcode!==data['item'].ntestgrouptestcode;});});if(boolean){return data;}}else{var _boolean=grouplist.some(function(x){return x.some(function(y){return y['stestname']['item'].ntestgrouptestcode===data['item'].ntestgrouptestcode;});});if(_boolean){return data;}}};_this.selectedTestRemove=function(data){var activeTabIndex=_this.props.Login.activeTabIndex||0;if(activeTabIndex===1){if(_this.props.Login.masterData.SelectedTest.ntestgrouptestcode!==data['item'].ntestgrouptestcode){return data;}}else{if(_this.props.Login.masterData.SelectedTest.ntestgrouptestcode===data['item'].ntestgrouptestcode){return data;}}};_this.outComeTestsRemoveFromRules=function(data){var testInitiateTests=_this.props.Login.testInitiateTests;var boolean=testInitiateTests.every(function(x){return x['ntestgrouptestcode']!==data['item'].ntestgrouptestcode;});if(boolean){return data;}};_this.addTest=function(tabName){var openModalPopup=_this.props.Login.openModalPopup;var action=_this.props.Login.action;var selectedRecord=_this.props.Login.selectedRecord||{};var rulesOption=_this.props.Login.masterData.rulesOption||[];var testInitiateTestCombo=_this.props.Login.masterData.testInitiateTestCombo||[];var testCommentsTestCombo=_this.props.Login.masterData.testCommentsTestCombo||[];var testRepeatTestCombo=_this.props.Login.masterData.testRepeatTestCombo||[];var testenforceTestCombo=_this.props.Login.masterData.testenforceTestCombo||[];if(tabName=='IDS_Test'){testInitiateTestCombo=testInitiateTestCombo.filter(_this.selectedTestRemove);testInitiateTestCombo=testInitiateTestCombo.filter(_this.writtenRules);}else if(tabName=='IDS_COMMENTS'){var selectedTestTempArray=[];selectedTestTempArray=testCommentsTestCombo.filter(_this.selectedTestRemove);testCommentsTestCombo=testCommentsTestCombo.filter(_this.writtenRules);var duplicatePresent=selectedTestTempArray.some(function(x){return testCommentsTestCombo.some(function(y){return y['item'].ntestgrouptestcode===x['item'].ntestgrouptestcode;});});if(duplicatePresent){testCommentsTestCombo=testCommentsTestCombo;}else{testCommentsTestCombo=[].concat(_toConsumableArray(testCommentsTestCombo),_toConsumableArray(selectedTestTempArray));}}else if(tabName=='IDS_REPEAT'){var _selectedTestTempArray=[];_selectedTestTempArray=testRepeatTestCombo.filter(_this.selectedTestRemove);testRepeatTestCombo=testRepeatTestCombo.filter(_this.writtenRules);var _duplicatePresent=_selectedTestTempArray.some(function(x){return testRepeatTestCombo.some(function(y){return y['item'].ntestgrouptestcode===x['item'].ntestgrouptestcode;});});if(_duplicatePresent){testRepeatTestCombo=testRepeatTestCombo;}else{testRepeatTestCombo=[].concat(_toConsumableArray(testRepeatTestCombo),_toConsumableArray(_selectedTestTempArray));}}else if(tabName=='IDS_ENFORCERESULT'){var _selectedTestTempArray2=[];_selectedTestTempArray2=testenforceTestCombo.filter(_this.selectedTestRemove);testenforceTestCombo=testenforceTestCombo.filter(_this.writtenRules);var _duplicatePresent2=_selectedTestTempArray2.some(function(x){return testenforceTestCombo.some(function(y){return y['item'].ntestgrouptestcode===x['item'].ntestgrouptestcode;});});if(_duplicatePresent2){testenforceTestCombo=testenforceTestCombo;}else{testenforceTestCombo=[].concat(_toConsumableArray(testenforceTestCombo),_toConsumableArray(_selectedTestTempArray2));}}else{}selectedRecord['ntestgrouptestcode']&&delete selectedRecord['ntestgrouptestcode'];selectedRecord['nsampletestcommentscode']&&delete selectedRecord['nsampletestcommentscode'];selectedRecord['ncommentsubtypecode']&&delete selectedRecord['ncommentsubtypecode'];selectedRecord['ncommenttypecode']&&delete selectedRecord['ncommenttypecode'];selectedRecord['sgeneralcomments']&&delete selectedRecord['sgeneralcomments'];selectedRecord['needoutsource']&&delete selectedRecord['needoutsource'];selectedRecord['sdescription']&&delete selectedRecord['sdescription'];selectedRecord['ntestgrouptestparametercode']&&delete selectedRecord['ntestgrouptestparametercode'];selectedRecord['senforcestatuscomment']&&delete selectedRecord['senforcestatuscomment'];selectedRecord['ngradecode']&&delete selectedRecord['ngradecode'];selectedRecord['nfromsitecode']&&delete selectedRecord['nfromsitecode'];selectedRecord['ntositecode']&&delete selectedRecord['ntositecode'];selectedRecord['nrepeatcountno']&&delete selectedRecord['nrepeatcountno'];if(_this.props.Login.addGroupList.length>0){action=\"IDS_ADDTEST\";openModalPopup=true;var updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:openModalPopup,action:action,selectedRecord:selectedRecord,openmodalsavePopup:false,testInitiateTestCombo:testInitiateTestCombo,testCommentsTestCombo:testCommentsTestCombo,testRepeatTestCombo:testRepeatTestCombo,testenforceTestCombo:testenforceTestCombo}};_this.props.updateStore(updateInfo);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PLEASEADDRULETOADDOUTCOME\"}));}};_this.onRuleChange=function(comboData,fieldName,groupIndex,index){var PredefinedParameterOptions=_this.props.Login.masterData.PredefinedParameterOptions||[];var selectedRecord=_this.state.selectedRecord;_this.clearSelectedRule(selectedRecord,index);if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]&&selectedRecord[\"groupList\"][groupIndex][index][fieldName].value!==comboData.value){selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode'];selectedRecord[\"groupList\"][groupIndex][index]['ngradecode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ngradecode'];selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode'];selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode'];selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode'];selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname'];}selectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;selectedRecord[\"groupList\"][groupIndex][index][fieldName]['nparenttestgrouptestcode']=_this.props.Login.masterData.SelectedTest.ntestgrouptestcode;selectedRecord[\"groupList\"][groupIndex][index][fieldName]['nparentstestname']=_this.props.Login.masterData.SelectedTest.stestname;if(selectedRecord[\"groupList\"][groupIndex][index]['orderresulttype']){if(selectedRecord[\"groupList\"][groupIndex][index]['orderresulttype'].value===3){var nparametertypecode=selectedRecord[\"groupList\"][groupIndex][index][fieldName]['item']['nparametertypecode'];if(nparametertypecode===parameterType.PREDEFINED){_this.props.getParameterResultValue(selectedRecord[\"groupList\"][groupIndex][index],groupIndex,index,PredefinedParameterOptions,selectedRecord,_this.props.Login.masterData,_this.props.Login.userInfo);}else{if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]){_this.setState({selectedRecord:selectedRecord,groupIndex:groupIndex,index:index});}}}else{if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]){_this.setState({selectedRecord:selectedRecord,groupIndex:groupIndex,index:index});}}}else{if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]){_this.setState({selectedRecord:selectedRecord,groupIndex:groupIndex,index:index});}}};_this.onRuleInputChange=function(event,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;selectedRecord[\"groupList\"][groupIndex][index][fieldName]=event.target.value;selectedRecord[\"groupList\"][groupIndex][index]['sfinal']=event.target.value;_this.setState({selectedRecord:selectedRecord});};_this.onRuleNumericInputOnChange=function(event,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;if(groupIndex===undefined&&index===undefined){selectedRecord[fieldName]=event;_this.setState({selectedRecord:selectedRecord});}else{if(event!==0){selectedRecord[\"groupList\"][groupIndex][index][fieldName]=event;selectedRecord[\"groupList\"][groupIndex][index]['sfinal']=event;_this.setState({selectedRecord:selectedRecord});}}};_this.onMasterDataChange=function(comboData,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;var PredefinedParameterOptions=_this.props.Login.masterData.PredefinedParameterOptions||[];var isResultorOrderType=[];var optionsByRule=[];if(_this.state.optionsByRule&&_this.state.optionsByRule.length>0){optionsByRule=_this.state.optionsByRule;}else{optionsByRule[groupIndex]=[];optionsByRule[groupIndex][index]=[];}if(_this.state.isResultorOrderType&&_this.state.isResultorOrderType.length>0){isResultorOrderType=_this.state.isResultorOrderType;}else{isResultorOrderType[groupIndex]=[];isResultorOrderType[groupIndex][index]=[];}if(fieldName!=='ndiagnosticcasecode'&&fieldName!=='ngradecode'&&fieldName!=='ntestgrouptestpredefcode'&&fieldName!=='ntestgrouptestcharcode'&&fieldName!=='ntestgrouptestnumericcode'){if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]&&selectedRecord[\"groupList\"][groupIndex][index][fieldName].value!==comboData.value){selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode'];selectedRecord[\"groupList\"][groupIndex][index]['ngradecode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ngradecode'];selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode'];selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode'];selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode'];selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname'];}selectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;if(isResultorOrderType[groupIndex]===undefined){isResultorOrderType[groupIndex]=[];isResultorOrderType[groupIndex][index]=[];}isResultorOrderType[groupIndex][index]=comboData.value;if(optionsByRule[groupIndex]===undefined){optionsByRule[groupIndex]=[];optionsByRule[groupIndex][index]=[];}if(isResultorOrderType[groupIndex][index]===1){optionsByRule[groupIndex][index]=_this.props.Login.masterData.DiagnosticCaseList;}else if(isResultorOrderType[groupIndex][index]===3){var nparametertypecode=selectedRecord[\"groupList\"][groupIndex][index]['stestname']['item']['nparametertypecode'];if(nparametertypecode===parameterType.PREDEFINED){_this.props.getParameterResultValue(selectedRecord[\"groupList\"][groupIndex][index],groupIndex,index,PredefinedParameterOptions,selectedRecord,_this.props.Login.masterData,_this.props.Login.userInfo);}else{optionsByRule[groupIndex][index]=_this.props.Login.masterData.GradeList;}}else{optionsByRule[groupIndex][index]=_this.props.Login.masterData.GradeList;}_this.setState({selectedRecord:selectedRecord,isResultorOrderType:isResultorOrderType,optionsByRule:optionsByRule});}else{selectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;selectedRecord[\"groupList\"][groupIndex][index]['sfinal']=comboData.label;_this.setState({selectedRecord:selectedRecord});}};_this.addRule=function(type,groupIndex){var selectedRecord=_this.state.selectedRecord;var viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];var addGroupList=_this.props.Login.addGroupList||[];var arrayLength=addGroupList[groupIndex];addGroupList[groupIndex]=arrayLength+1;selectedRecord[\"groupList\"][groupIndex][arrayLength]={};viewColumnListByRule=_this.props.Login.viewColumnList||_this.props.Login.databaseviewList;;var updateInfo={typeName:DEFAULT_RETURN,data:{addGroupList:addGroupList,viewColumnListByRule:viewColumnListByRule,activeTabIndex:0}};_this.props.updateStore(updateInfo);};_this.paneSizeChange=function(d){_this.setState({splitChangeWidthPercentage:d});};_this.addComments=function(){var openModalPopup=_this.props.Login.openModalPopup;var action=_this.props.Login.action;var selectedParameterRulesEngine=_this.props.Login.masterData.selectedParameterRulesEngine||[];var testparameter=_this.props.Login.masterData.testCommentsTestCombo||[];var selectedRecord=_this.props.Login.selectedRecord||{};selectedRecord['ntestgrouptestcode']={};selectedRecord['ntestgrouptestcode']=testparameter.filter(function(x){return x.value===selectedParameterRulesEngine.ntestgrouptestcode;})[0];delete selectedRecord['nsampletestcommentscode'];delete selectedRecord['ncommentsubtypecode'];delete selectedRecord['ncommenttypecode'];delete selectedRecord['sgeneralcomments'];delete selectedRecord['sdescription'];if(_this.props.Login.addGroupList.length>0){if(_this.props.Login.activeTabIndex===2){action=\"IDS_ADDTESTCOMMENTS\";}else{action=\"IDS_ADDREPORTCOMMENTS\";}openModalPopup=true;var updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:openModalPopup,action:action,selectedRecord:selectedRecord,openmodalsavePopup:false}};_this.props.updateStore(updateInfo);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PLEASEADDRULETOADDOUTCOME\"}));}};_this.addModalSite=function(){var openModalPopup=_this.props.Login.openModalPopup;var selectedParameterRulesEngine=_this.props.Login.masterData.selectedParameterRulesEngine||[];var testparameter=_this.props.Login.masterData.testInitiateTestCombo||[];var selectedRecord=_this.props.Login.selectedRecord||{};selectedRecord['ntestgrouptestcode']={};selectedRecord['ntestgrouptestcode']=testparameter.filter(function(x){return x.value===selectedParameterRulesEngine.ntestgrouptestcode;})[0];selectedRecord['nfromsitecode']&&delete selectedRecord['nfromsitecode'];selectedRecord['ntositecode']&&delete selectedRecord['ntositecode'];openModalPopup=true;var action=_this.props.Login.action;action=\"IDS_ADDSITE\";var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:selectedRecord,openModalPopup:openModalPopup,action:action,openmodalsavePopup:false}};_this.props.updateStore(updateInfo);};_this.modalsaveClick=function(){var needoutsource=_this.props.Login.needoutsource||{};var selectedRecord=_this.state.selectedRecord||{};var masterData=_this.props.Login.masterData||{};var testInitiateTests=_this.props.Login.testInitiateTests||[];var testCommentsTests=_this.props.Login.testCommentsTests||[];var testRepeatTests=_this.props.Login.testRepeatTests||[];var testenforceTests=_this.props.Login.testenforceTests||[];var reportCommentsTests=_this.props.Login.reportCommentsTests||[];var siteObject=_this.props.Login.siteObject||{};var testCommentObject=_this.props.Login.testCommentObject||{};var reportCommentObject=_this.props.Login.reportCommentObject||{};var testInitiateTestsTemp=[];var testCommentsTestsTemp=[];var reportCommentsTestsTemp=[];var testInitiateSiteTemp=[];var testCommentsTestsTab=_this.props.Login.masterData.testCommentsTestsTab||[];var reportCommentsTestsTab=_this.props.Login.reportCommentsTestsTab||[];var testInitiateSiteTab=_this.props.Login.masterData.testInitiateSiteTab||[];var testInitiateTestOptions=_this.props.Login.testInitiateTestOptions||[];var testCommentsTestOptions=_this.props.Login.testCommentsTestOptions||[];var reportCommentsTestOptions=_this.props.Login.reportCommentsTestOptions||[];var testInitiateTestdeletedOptions=_this.props.Login.testInitiateTestdeletedOptions||[];var testCommentsTestdeletedOptions=_this.props.Login.testCommentsTestdeletedOptions||[];var reportCommentsTestdeletedOptions=_this.props.Login.reportCommentsTestdeletedOptions||[];var updateInfo={};if(_this.props.Login.action==='IDS_ADDTEST'){var npkAtestparametercode=0;var npkBtestparametercode=0;var npkCtestparametercode=0;var npkDtestparametercode=0;if(_this.props.Login.activeTabIndex===1){var isduplicate={};isduplicate=testInitiateTests.filter(function(x){return x.ntestgrouptestcode===selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'];});if(isduplicate.length===0){masterData['testParameter']={};npkAtestparametercode=testInitiateTests.length>0?Math.max.apply(Math,_toConsumableArray(testInitiateTests.map(function(x){return x.npkAtestparametercode;}))):0;npkAtestparametercode++;selectedRecord['ntestgrouptestcode'].item['npkAtestparametercode']=npkAtestparametercode;if(selectedRecord['ntestgrouptestcode'].item['nrepeatcountno']){selectedRecord['ntestgrouptestcode'].item['nrepeatcountno']=0;}testInitiateTests.push(selectedRecord['ntestgrouptestcode'].item);masterData['testParameter']=sortData(testInitiateTests,'descending','npkAtestparametercode');masterData['selectedParameterRulesEngine']=selectedRecord['ntestgrouptestcode'].item;delete selectedRecord['ntestgrouptestcode'];}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYEXISTS\"}));}}if(_this.props.Login.activeTabIndex===2){var _isduplicate={};_isduplicate=testCommentsTests.filter(function(x){return x.ntestgrouptestcode===selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'];});if(_isduplicate.length===0){masterData['testParameterComments']={};npkBtestparametercode=testCommentsTests.length>0?Math.max.apply(Math,_toConsumableArray(testCommentsTests.map(function(x){return x.npkBtestparametercode;}))):0;npkBtestparametercode++;selectedRecord['ntestgrouptestcode'].item['npkBtestparametercode']=npkBtestparametercode;selectedRecord['ntestgrouptestcode'].item['sdescription']=selectedRecord['sdescription']?selectedRecord['sdescription']:'-';testCommentsTests.push(selectedRecord['ntestgrouptestcode'].item);masterData['testParameterComments']=sortData(testCommentsTests,'descending','npkBtestparametercode');masterData['selectedParameterRulesEngine']=selectedRecord['ntestgrouptestcode'].item;//delete selectedRecord['ntestgrouptestcode']\n}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYEXISTS\"}));}}if(_this.props.Login.activeTabIndex===3){var _isduplicate2={};_isduplicate2=testRepeatTests.filter(function(x){return x.ntestgrouptestcode===selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'];});if(_isduplicate2.length===0){masterData['testRepeat']={};npkCtestparametercode=testRepeatTests.length>0?Math.max.apply(Math,_toConsumableArray(testRepeatTests.map(function(x){return x.npkCtestparametercode;}))):0;npkCtestparametercode++;selectedRecord['ntestgrouptestcode'].item['npkCtestparametercode']=npkCtestparametercode;selectedRecord['ntestgrouptestcode'].item['nrepeatcountno']=selectedRecord['nrepeatcountno']?selectedRecord['nrepeatcountno']:1;testRepeatTests.push(selectedRecord['ntestgrouptestcode'].item);masterData['testRepeatTestsTab']=sortData(testRepeatTests,'descending','npkCtestparametercode');masterData['testRepeat']=sortData(testRepeatTests,'descending','npkCtestparametercode');masterData['selectedParameterRulesEngine']=selectedRecord['ntestgrouptestcode'].item;delete selectedRecord['ntestgrouptestcode'];}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYEXISTS\"}));}}if(_this.props.Login.activeTabIndex===4){var _isduplicate3={};// isduplicate = testenforceTests.filter(x => x.ntestgrouptestcode ===\n//     selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'])\n_isduplicate3=testenforceTests.some(function(x){return selectedRecord['ntestgrouptestcode'].value===x.ntestgrouptestcode&&selectedRecord['ntestgrouptestparametercode'].value===x.ntestgrouptestparametercode;});if(!_isduplicate3){masterData['testenforceTests']={};npkDtestparametercode=testenforceTests.length>0?Math.max.apply(Math,_toConsumableArray(testenforceTests.map(function(x){return x.npkDtestparametercode;}))):0;npkDtestparametercode++;// selectedRecord['ntestgrouptestcode'].item['sparametersynonym'] = selectedRecord['ntestgrouptestparametercode'] && selectedRecord['ntestgrouptestparametercode'].label\n// selectedRecord['ntestgrouptestcode'].item['ngradecode'] = selectedRecord['ngradecode'] && selectedRecord['ngradecode'].value\n// selectedRecord['ntestgrouptestcode'].item['sgradename'] = selectedRecord['ngradecode'] && selectedRecord['ngradecode'].label\n// selectedRecord['ntestgrouptestcode'].item['ntestgrouptestparametercode'] = selectedRecord['ntestgrouptestparametercode'] && selectedRecord['ntestgrouptestparametercode'].value\n// selectedRecord['ntestgrouptestcode'].item['senforcestatuscomment'] = selectedRecord['senforcestatuscomment'] && selectedRecord['senforcestatuscomment']\nvar object=_objectSpread(_objectSpread({},selectedRecord['ntestgrouptestcode'].item),{},{'sparametersynonym':selectedRecord['ntestgrouptestparametercode']&&selectedRecord['ntestgrouptestparametercode'].label,'ngradecode':selectedRecord['ngradecode']&&selectedRecord['ngradecode'].value,'sgradename':selectedRecord['ngradecode']&&selectedRecord['ngradecode'].label,'ntestgrouptestparametercode':selectedRecord['ntestgrouptestparametercode']&&selectedRecord['ntestgrouptestparametercode'].value,'senforcestatuscomment':selectedRecord['senforcestatuscomment']&&selectedRecord['senforcestatuscomment'],'npkDtestparametercode':npkDtestparametercode});// selectedRecord['ntestgrouptestcode'].item['npkDtestparametercode'] = npkDtestparametercode\ntestenforceTests.push(object);masterData['testenforceTestsTab']=sortData(testenforceTests,'descending','npkDtestparametercode');masterData['testenforceTests']=sortData(testenforceTests,'descending','npkDtestparametercode');//  masterData['selectedParameterRulesEngine'] = selectedRecord['ntestgrouptestcode'].item\ndelete selectedRecord['ntestgrouptestcode'];}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYEXISTS\"}));}}updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:false,masterData:masterData,testInitiateTests:testInitiateTests,testCommentsTests:testCommentsTests,reportCommentsTests:reportCommentsTests,npkAtestparametercode:npkAtestparametercode,npkBtestparametercode:npkBtestparametercode,npkCtestparametercode:npkCtestparametercode,testInitiateTestOptions:testInitiateTestOptions,testInitiateTestdeletedOptions:testInitiateTestdeletedOptions,selectedRecord:selectedRecord,testRepeatTests:testRepeatTests,testenforceTests:testenforceTests}};}if(selectedRecord['nsampletestcommentscode']||selectedRecord['sgeneralcomments']){masterData['testComments']={};var npKAsampletestcommentscode=0;var nslno=0;var _object={ncommentsubtypecode:selectedRecord['ncommentsubtypecode'],scommentsubtype:selectedRecord['ncommentsubtypecode']['label'],stestsynonym:selectedRecord['ntestgrouptestcode']['label'],ncommenttypecode:selectedRecord['ncommenttypecode']['value'],scommenttype:selectedRecord['ncommenttypecode']['label'],nsampletestcommentscode:selectedRecord['nsampletestcommentscode']?selectedRecord['nsampletestcommentscode']:-1,// spredefinedname: selectedRecord['nsampletestcommentscode'] ? selectedRecord['nsampletestcommentscode'].label : \"-\",\n// sgeneralcomments: selectedRecord['sgeneralcomments'] ? selectedRecord['sgeneralcomments'] : \"-\",\nspredefinedname:selectedRecord['nsampletestcommentscode']?selectedRecord['nsampletestcommentscode'].label:selectedRecord['sgeneralcomments']?selectedRecord['sgeneralcomments']:\"-\",scomments:selectedRecord['sdescription']?selectedRecord['sdescription']:'-',sdescription:selectedRecord['sdescription']?selectedRecord['sdescription']:'-',stestparametersynonym:masterData.selectedParameterRulesEngine.stestparametersynonym,ntestgrouptestcode:masterData.selectedParameterRulesEngine.ntestgrouptestcode,npkBtestparametercode:masterData.selectedParameterRulesEngine.npkBtestparametercode};nslno=testCommentsTestsTab.length>0?Math.max.apply(Math,_toConsumableArray(testCommentsTestsTab.map(function(x){return x.nslno;}))):0;nslno++;if(testCommentObject.hasOwnProperty(masterData.selectedParameterRulesEngine.npkBtestparametercode)){npKAsampletestcommentscode=Math.max.apply(Math,_toConsumableArray(testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode].map(function(x){return x.npKAsampletestcommentscode;})));npKAsampletestcommentscode++;_object=_objectSpread(_objectSpread({},_object),{},{npKAsampletestcommentscode:npKAsampletestcommentscode,nslno:nslno});testCommentsTestsTemp=testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode];testCommentsTestsTemp.push(_object);testCommentsTestsTab.push(_object);var commentsArrayIndex=testCommentsTests.findIndex(function(x){return x.npkBtestparametercode===masterData.selectedParameterRulesEngine.npkBtestparametercode;});testCommentsTests[commentsArrayIndex]['commentsArray']=[];testCommentsTests[commentsArrayIndex]['commentsArray']=sortData(testCommentsTestsTemp,'ascending','npKAsampletestcommentscode');testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode]=sortData(testCommentsTestsTemp,'descending','npKAsampletestcommentscode');delete selectedRecord['nsampletestcommentscode'];delete selectedRecord['ncommentsubtypecode'];delete selectedRecord['ncommenttypecode'];delete selectedRecord['sgeneralcomments'];}else{npKAsampletestcommentscode++;_object=_objectSpread(_objectSpread({},_object),{},{npKAsampletestcommentscode:npKAsampletestcommentscode,nslno:nslno});testCommentsTestsTemp.push(_object);testCommentsTestsTab.push(_object);var _commentsArrayIndex=testCommentsTests.findIndex(function(x){return x.npkBtestparametercode===masterData.selectedParameterRulesEngine.npkBtestparametercode;});testCommentsTests[_commentsArrayIndex]['commentsArray']=[];testCommentsTests[_commentsArrayIndex]['commentsArray']=sortData(testCommentsTestsTemp,'ascending','npKAsampletestcommentscode');testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode]=sortData(testCommentsTestsTemp,'descending','npKAsampletestcommentscode');delete selectedRecord['nsampletestcommentscode'];delete selectedRecord['ncommentsubtypecode'];delete selectedRecord['ncommenttypecode'];delete selectedRecord['sgeneralcomments'];}masterData['testComments']=testCommentObject;masterData['testCommentsTestsTab']=testCommentsTestsTab;updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:false,masterData:masterData,testCommentObject:testCommentObject,npKAsampletestcommentscode:npKAsampletestcommentscode,selectedRecord:selectedRecord}};}if(selectedRecord['nfromsitecode']&&selectedRecord['ntositecode']){if(selectedRecord['nfromsitecode'].value!==selectedRecord['ntositecode'].value){var siteseqnumber=0;if(siteObject.hasOwnProperty(masterData.selectedParameterRulesEngine.npkAtestparametercode)){var isalreadyExist=siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode].some(function(x){return selectedRecord['nfromsitecode'].value===x.nfromsitecode&&selectedRecord['ntositecode'].value===x.ntositecode;});if(!isalreadyExist){masterData['testSite']={};siteseqnumber=Math.max.apply(Math,_toConsumableArray(siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode].map(function(x){return x.npksitecode;})));siteseqnumber++;var _object2={npksitecode:siteseqnumber,sfromsitename:selectedRecord['nfromsitecode'].label,stositename:selectedRecord['ntositecode'].label,nfromsitecode:selectedRecord['nfromsitecode'].value,ntositecode:selectedRecord['ntositecode'].value,stestparametersynonym:masterData.selectedParameterRulesEngine.stestparametersynonym,npkAtestparametercode:masterData.selectedParameterRulesEngine.ntestgrouptestcode};testInitiateSiteTemp=siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode];testInitiateSiteTemp.push(_object2);testInitiateSiteTab.push(_object2);siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode]=sortData(testInitiateSiteTemp,'descending','npksitecode');delete selectedRecord['ntestgrouptestcode'];delete selectedRecord['nfromsitecode'];delete selectedRecord['ntositecode'];}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_FROMANDTOSITEALREADYEXIST\"}));}}else{masterData['testSite']={};siteseqnumber++;var _object3={npksitecode:siteseqnumber,sfromsitename:selectedRecord['nfromsitecode'].label,stositename:selectedRecord['ntositecode'].label,nfromsitecode:selectedRecord['nfromsitecode'].value,ntositecode:selectedRecord['ntositecode'].value,stestparametersynonym:masterData.selectedParameterRulesEngine.stestparametersynonym,npkAtestparametercode:masterData.selectedParameterRulesEngine.npkAtestparametercode};testInitiateSiteTemp.push(_object3);testInitiateSiteTab.push(_object3);siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode]=sortData(testInitiateSiteTemp,'descending','npksitecode');delete selectedRecord['ntestgrouptestcode'];delete selectedRecord['nfromsitecode'];delete selectedRecord['ntositecode'];}masterData['testSite']=siteObject;masterData['testInitiateSiteTab']=testInitiateSiteTab;updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:false,masterData:masterData,siteObject:siteObject,siteseqnumber:siteseqnumber}};}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_FROMANDTOSITECANNOTBESAME\"}));}}if(Object.keys(updateInfo).length>0){_this.props.updateStore(updateInfo);}};_this.deletModalSite=function(inputparam,action,row){var temparray=[];var index=0;var testInitiateSiteTab=_this.props.Login.masterData.testInitiateSiteTab;var testCommentsTestsTab=_this.props.Login.masterData.testCommentsTestsTab;var reportCommentsTestsTab=_this.props.Login.reportCommentsTestsTab;var siteObject=_this.props.Login.siteObject||{};var testCommentObject=_this.props.Login.testCommentObject||{};var reportCommentObject=_this.props.Login.reportCommentObject||{};var masterData=_this.props.Login.masterData||{};if(_this.props.Login.activeTabIndex===1){temparray=siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode];temparray.splice(row['dataIndex'],1);testInitiateSiteTab.splice(row['dataIndex'],1);siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode]=temparray;}if(_this.props.Login.activeTabIndex===2){temparray=testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode];index=temparray.findIndex(function(x){return x.npKAsampletestcommentscode===row['dataItem'].npKAsampletestcommentscode;});// temparray.splice(row['dataIndex'], 1);\ntemparray.splice(index,1);index=testCommentsTestsTab.findIndex(function(x){return x.nslno===row['dataItem'].nslno;});//   testCommentsTestsTab.splice(row['dataIndex'], 1);\ntestCommentsTestsTab.splice(index,1);testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode]=temparray;}if(_this.props.Login.activeTabIndex===3){temparray=masterData.testRepeat;temparray.splice(row['dataIndex'],1);reportCommentsTestsTab.splice(row['dataIndex'],1);reportCommentObject[masterData.selectedParameterRulesEngine.ntestgrouptestcode]=temparray;}var updateInfo={};updateInfo={typeName:DEFAULT_RETURN,data:{siteObject:siteObject,testCommentObject:testCommentObject,reportCommentObject:reportCommentObject,testInitiateSiteTab:testInitiateSiteTab,reportCommentsTestsTab:reportCommentsTestsTab,testCommentsTestsTab:testCommentsTestsTab}};_this.props.updateStore(updateInfo);};_this.deleteModalTest=function(inputparam,action,row){var testInitiateTests=_this.props.Login.testInitiateTests||[];var testCommentsTests=_this.props.Login.testCommentsTests||[];var testRepeatTests=_this.props.Login.testRepeatTests||[];var testenforceTests=_this.props.Login.testenforceTests||[];var reportCommentsTests=_this.props.Login.reportCommentsTests||[];var testInitiateSiteTab=_this.props.Login.masterData.testInitiateSiteTab;var testCommentsTestsTab=_this.props.Login.masterData.testCommentsTestsTab;var testRepeatTestsTab=_this.props.Login.masterData.testRepeatTestsTab;var testenforceTestsTab=_this.props.Login.masterData.testenforceTestsTab;var siteObject=_this.props.Login.siteObject||{};var testCommentObject=_this.props.Login.testCommentObject||{};var reportCommentObject=_this.props.Login.reportCommentObject||{};var testInitiateTestOptions=_this.props.Login.testInitiateTestOptions||[];var testCommentsTestOptions=_this.props.Login.testCommentsTestOptions||[];var reportCommentsTestOptions=_this.props.Login.reportCommentsTestOptions||[];var viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];var testInitiateTestdeletedOptions=_this.props.Login.testInitiateTestdeletedOptions||[];var testCommentsTestdeletedOptions=_this.props.Login.testCommentsTestdeletedOptions||[];var reportCommentsTestdeletedOptions=_this.props.Login.reportCommentsTestdeletedOptions||[];var masterData=_this.props.Login.masterData||{};var index=0;if(_this.props.Login.activeTabIndex===1){// index = this.props.Login.testInitiateTests.findIndex(x => x.ntestgrouptestcode === masterData.selectedParameterRulesEngine.ntestgrouptestcode)\nindex=_this.props.Login.testInitiateTests.findIndex(function(x){return x.npkAtestparametercode===inputparam.testParameter.npkAtestparametercode;});testInitiateTests.splice(index,1);// index = testInitiateSiteTab.findIndex(x => x.ntestgrouptestcode === inputparam.testParameter.ntestgrouptestcode)\n// testInitiateSiteTab.splice(index, 1); \ntestInitiateSiteTab=testInitiateSiteTab.filter(function(obj){return obj.npkAtestparametercode!==inputparam.testParameter.npkAtestparametercode;});delete siteObject[inputparam.testParameter.npkAtestparametercode];}if(_this.props.Login.activeTabIndex===2){index=_this.props.Login.testCommentsTests.findIndex(function(x){return x.npkBtestparametercode===inputparam.testParameterComments.npkBtestparametercode;});testCommentsTests.splice(index,1);// index =  testCommentsTestsTab.findIndex(x => x.ntestgrouptestcode === inputparam.testParameterComments.ntestgrouptestcode) \n// testCommentsTestsTab.splice(index, 1);\ntestCommentsTestsTab=testCommentsTestsTab.filter(function(obj){return obj.npkBtestparametercode!==inputparam.testParameterComments.npkBtestparametercode;});delete testCommentObject[inputparam.testParameterComments.npkBtestparametercode];}if(_this.props.Login.activeTabIndex===3){//  index = this.props.Login.testRepeatTests.findIndex(x => x.ntestgrouptestcode === masterData.selectedParameterRulesEngine.ntestgrouptestcode) \nindex=row['dataIndex'];testRepeatTests.splice(index,1);testRepeatTestsTab.splice(index,1);}if(_this.props.Login.activeTabIndex===4){//    index = this.props.Login.testenforceTests.findIndex(x => x.ntestgrouptestcode === masterData.selectedParameterRulesEngine.ntestgrouptestcode)  \nindex=row['dataIndex'];testenforceTests.splice(index,1);testenforceTestsTab.splice(index,1);}var updateInfo={};updateInfo={typeName:DEFAULT_RETURN,data:{testInitiateTests:testInitiateTests,siteObject:siteObject,testCommentObject:testCommentObject,testCommentsTests:testCommentsTests,reportCommentsTests:reportCommentsTests,reportCommentObject:reportCommentObject,masterData:_objectSpread(_objectSpread({},masterData),{},{testCommentsTestsTab:testCommentsTestsTab,testInitiateSiteTab:testInitiateSiteTab,testRepeatTestsTab:testRepeatTestsTab,testenforceTestsTab:testenforceTestsTab}),testRepeatTests:testRepeatTests,testenforceTests:testenforceTests}};_this.props.updateStore(updateInfo);};_this.onmodalComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};var isneedsgeneralcomments=_this.state.isneedsgeneralcomments||{};if(fieldName==='ncommentsubtypecode'){if(comboData.value===6){isneedsgeneralcomments=true;delete selectedRecord['nsampletestcommentscode'];}else{isneedsgeneralcomments=false;delete selectedRecord['sgeneralcomments'];}}else if(fieldName==='nproductcatcode'){selectedRecord[fieldName]=comboData;_this.props.getSpecificationTestGroupRulesEngine(selectedRecord,_this.props.Login.selectedRecord,true,_this.props.Login.masterData,_this.props.Login.userInfo);}else if(fieldName==='ntestgrouptestcode'&&_this.state.activeTabIndex===4){if(selectedRecord['ntestgrouptestparametercode']){if(selectedRecord[fieldName].value!==comboData.value){delete selectedRecord['ntestgrouptestparametercode'];}}selectedRecord[fieldName]=comboData;_this.props.getParameterRulesEngine(selectedRecord,_this.props.Login.masterData,_this.props.Login.userInfo);}else if(fieldName==='nallottedspeccode'){selectedRecord[fieldName]=comboData;_this.props.getComponentTestGroupRulesEngine(selectedRecord,_this.props.Login.selectedRecord,true,_this.props.Login.masterData,_this.props.Login.userInfo);}if(fieldName==='nsampletestcommentscode'){selectedRecord['sdescription']=comboData.item.sdescription;}selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord,isneedsgeneralcomments:isneedsgeneralcomments});};_this.getOutcomeDetails=function(inputParam){var masterData=_this.props.Login.masterData||{};var testParameter=_this.state.activeTabIndex===1?inputParam.testParameter:_this.state.activeTabIndex===2?inputParam.testParameterComments:inputParam.testParameterreportComments;masterData['selectedParameterRulesEngine']={};masterData['selectedParameterRulesEngine']=testParameter;var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:masterData}};_this.props.updateStore(updateInfo);};_this.handleExpandChange=function(){var childListMap1=new Map();var childListMap2=new Map();var childListMap3=new Map();var childListMap=new Map();if(_this.props.Login.masterData.activeTabName==='IDS_Test'){var keylst=_this.props.Login.masterData.activeTabName==='IDS_Test'?Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject']):_this.props.Login.masterData.activeTabName==='IDS_COMMENTS'?Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject']):Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject']);keylst.map(function(key){childListMap.set(parseInt(key),Object.values(_this.props.Login.masterData.activeTabName==='IDS_Test'?_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject'][key]:_this.props.Login.masterData.activeTabName==='IDS_COMMENTS'?_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key]:_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));});_this.setState({childListMap:childListMap});}if(_this.props.Login.masterData.activeTabName==='IDS_COMMENTS'){var _keylst=Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject']);_keylst.map(function(key){childListMap2.set(parseInt(key),Object.values(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key]));});_this.setState({childListMap2:childListMap2});}if(_this.props.Login.masterData.activeTabName==='IDS_REPORTCOMMENTS'){var _keylst2=Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject']);_keylst2.map(function(key){childListMap3.set(parseInt(key),Object.values(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));});_this.setState({childListMap3:childListMap3});}};_this.viewOutcome=function(props){if(_this.props.Login.masterData['RulesEngine']&&_this.props.Login.masterData['RulesEngine'].length>0){var masterData=_this.props.Login.masterData;masterData['SelectedRulesEngine']=props['SelectedRulesEngine'][0];if(masterData['SelectedRulesEngine']['jsonuidata']&&masterData['SelectedRulesEngine']['jsonuidata']['testInitiateTests']){masterData['SelectedRulesEngine']['jsonuidata']['testInitiateTests'].forEach(function(object){object['expanded']&&delete object['expanded'];});}masterData['activeTabName']='IDS_Test';var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:\"IDS_VIEWOUTCOME\",operation:\"IDS_VIEW\",openModal:true,masterData:masterData}};_this.props.updateStore(updateInfo);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTRULETOVIEWOUTCOME\"}));}};_this.openflowview=function(props){if(_this.props.Login.masterData['RulesEngine']&&_this.props.Login.masterData['RulesEngine'].length>0){var masterData=_this.props.Login.masterData;masterData['SelectedRulesEngine']=props['SelectedRulesEngine'][0];var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:\"IDS_VIEWRULE\",operation:\"IDS_VIEW\",openModal:true,masterData:masterData}};_this.props.updateStore(updateInfo);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTRULETOVIEWRULE\"}));}};_this.handlePageChangeRuleEngine=function(event){_this.setState({skipRulesEngine:event.skip,takeRulesEngine:event.take});};_this.addGroup=function(){var selectedRecord=_this.state.selectedRecord;var viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];var addGroupList=_this.props.Login.addGroupList||[];var arrayLength=addGroupList.length;addGroupList[arrayLength]=1;viewColumnListByRule=_this.props.Login.databaseviewList;if(arrayLength===0){selectedRecord[\"groupList\"]=[];selectedRecord[\"filtercolumns\"]=_this.props.Login.selectFields;}if(selectedRecord[\"groupListJoins\"]===undefined){selectedRecord[\"groupListJoins\"]=[];}if(selectedRecord[\"groupListJoins\"][arrayLength-1]===undefined){selectedRecord[\"groupListJoins\"][arrayLength-1]={};}selectedRecord[\"groupListJoins\"][arrayLength-1][\"button_and\"]=true;selectedRecord[\"groupList\"][arrayLength]=[];selectedRecord[\"groupList\"][arrayLength][\"button_and\"]=true;selectedRecord[\"groupList\"][arrayLength][0]={};var updateInfo={typeName:DEFAULT_RETURN,data:{addGroupList:addGroupList,viewColumnListByRule:viewColumnListByRule,selectedRecord:selectedRecord,activeTabIndex:0}};_this.props.updateStore(updateInfo);};_this.getTestGroupRulesEngineAdd=function(){//   if (this.state.selectedcombo['nproductcatcode']) {\n//    const sqlQuery = false;\n//this.setState({ selectedRecord: {} });\nvar selectedRecord=_this.state.selectedRecord||{};_this.props.getTestGroupRulesEngineAdd(_this.props.Login.userInfo,false,{addRuleList:[],addGroupList:[],addAggregateList:[],addOrderbyList:[]},_this.props.Login.masterData);//  } else {\n//       toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTPRODUCTCATEGORY\" }));\n//   }\n};_this.closePortalModal=function(){var masterData=_this.props.Login.masterData||{};masterData['testParameter']={};masterData['testParameterComments']={};masterData['testParameterreportComments']={};masterData['testComments']={};masterData['reportComments']={};masterData['testSite']={};var updateInfo={typeName:DEFAULT_RETURN,data:_this.props.Login.operation!=='update'?{activeTabIndex:0,openPortalModal:false,selectedRecord:{},addRuleList:[],count:0,masterData:masterData,testInitiateTests:[],reportCommentsTests:[],testCommentsTests:[],siteObject:{},testCommentObject:{},reportCommentObject:{},npkAtestparametercode:0,npkBtestparametercode:0,npkCtestparametercode:0,testInitiateSiteTab:[],testCommentsTestsTab:[],reportCommentsTestsTab:[]}:{activeTabIndex:0,openPortalModal:false,selectedRecord:{},addRuleList:[],count:0,masterData:masterData,//  testInitiateTests: [], reportCommentsTests: [],\n// testCommentsTests: [], siteObject: {}, testCommentObject: {}, reportCommentObject: {},\nnpkAtestparametercode:0,npkBtestparametercode:0,npkCtestparametercode:0// ,\n// testInitiateSiteTab: [],\n// testCommentsTestsTab: [],\n// reportCommentsTestsTab: []\n}};_this.props.updateStore(updateInfo);};_this.changePropertyView=function(index,event,status){var id=false;var activeTabIndex;var activeTabId;var masterData=_this.props.Login.masterData||{};var activeTestTab=_this.props.Login.activeTestTab||\"\";var selectedRecord=_this.state.selectedRecord;if(selectedRecord[\"groupList\"].length>0){if(_this.onsavevalidation(selectedRecord)){if(window.innerWidth>992&&event&&_this.state.enableAutoClick||!event){activeTabIndex=_this.state.activeTabIndex!==index?index:id?index:false;}if(window.innerWidth>992&&event&&_this.state.enableAutoClick||!event){if(index===1){activeTestTab='IDS_Test';masterData['selectedParameterRulesEngine']=_this.props.Login.testInitiateTests&&_this.props.Login.testInitiateTests[0];}if(index===2){activeTestTab='IDS_COMMENTS';masterData['selectedParameterRulesEngine']=_this.props.Login.testCommentsTests&&_this.props.Login.testCommentsTests[0];}if(index===3){activeTestTab='IDS_REPEAT';masterData['selectedParameterRulesEngine']=_this.props.Login.testRepeatTests&&_this.props.Login.testRepeatTests[0];}if(index===4){activeTestTab='IDS_ENFORCERESULT';masterData['selectedParameterRulesEngine']=_this.props.Login.testEnforceTests&&_this.props.Login.testEnforceTests[0];}var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:index===0?0:_this.state.activeTabIndex!==index?index:id?index:false,activeTabId:id,activeTestTab:activeTestTab,masterData:masterData}};_this.props.updateStore(updateInfo);}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_FILLTHERULETOADDOUTCOME\"}));}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_ATLEASTADDONERULETOADDOUTCOME\"}));}};_this.deleteRule=function(groupIndex,index){var addGroupList=_this.props.Login.addGroupList||[];var selectedRecord=_this.state.selectedRecord;addGroupList[groupIndex]=addGroupList[groupIndex]-1;if(addGroupList[groupIndex]===0){addGroupList.splice(groupIndex,1);selectedRecord[\"groupList\"].splice(groupIndex,1);if(selectedRecord[\"groupListJoins\"]){selectedRecord[\"groupListJoins\"].splice(groupIndex-1,1);}}else{selectedRecord[\"groupList\"][groupIndex].splice(index,1);}var updateInfo={typeName:DEFAULT_RETURN,data:{addGroupList:addGroupList,selectedRecord:selectedRecord,activeTabIndex:0}};_this.props.updateStore(updateInfo);};_this.deleteOutcome=function(index){var addOutcomeList=_this.props.Login.addOutcomeList;addOutcomeList.splice(index,1);var updateInfo={typeName:DEFAULT_RETURN,data:{addOutcomeList:addOutcomeList}};_this.props.updateStore(updateInfo);};_this.clearRule=function(){var sviewname=_this.state.selectedRecord.sviewname||\"\";var updateInfo={typeName:DEFAULT_RETURN,data:{addRuleList:[],selectedRecord:{sviewname:sviewname},sqlQuery:false}};_this.props.updateStore(updateInfo);};_this.resetRule=function(){var masterData=_this.props.Login.masterData||{};var selectedRecord=_this.state.selectedRecord||{};masterData['testParameter']={};masterData['testParameterComments']={};masterData['testParameterreportComments']={};masterData['testComments']={};masterData['reportComments']={};masterData['testRepeat']=[];masterData['testenforceTests']=[];masterData['testSite']={};if(selectedRecord[\"groupList\"]){selectedRecord[\"groupList\"]=[];}if(selectedRecord[\"groupListJoins\"]){selectedRecord[\"groupListJoins\"]=[];}var updateInfo={typeName:DEFAULT_RETURN,data:{addRuleList:[],addGroupList:[],masterData:masterData,addAggregateList:[],addOrderbyList:[],testInitiateTests:[],reportCommentsTests:[],testCommentsTests:[],siteObject:{},testCommentObject:{},reportCommentObject:{},selectedRecord:selectedRecord,testRepeatTests:[],testenforceTests:[],activeTabIndex:0}};_this.props.updateStore(updateInfo);};_this.onSymbolChange=function(comboData,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;var oldSelectedRecord=selectedRecord[\"groupList\"][groupIndex][index][fieldName]||{};selectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;_this.setState({selectedRecord:selectedRecord,groupIndex:groupIndex,index:index});};_this.onInputChange=function(event,type,groupIndex,index){var selectedRecord=_this.state.selectedRecord||{};var needoutsource=_this.state.needoutsource||{};if(event.target.type==='checkbox'){if(event.target.name==='needoutsource'&&event.target.checked===true){needoutsource=true;}else{needoutsource=false;delete selectedRecord['nfromsitecode'];delete selectedRecord['ntositecode'];}selectedRecord[event.target.name]=event.target.checked===true?3:4;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord,needoutsource:needoutsource});};_this.viewColumnListByRule=function(list){var activeTabIndex=_this.props.Login.activeTabIndex;if(activeTabIndex!==0){var selectedRecord=_this.props.Login.selectedRecord&&_this.props.Login.selectedRecord;var dynamicList=activeTabIndex===1?_this.props.Login.testInitiateTests:activeTabIndex===2?_this.props.Login.testCommentsTests:activeTabIndex===3?_this.props.Login.testRepeatTests:activeTabIndex===4?_this.props.Login.testenforceTests:\"\";if(dynamicList!==undefined&&dynamicList)list=list.filter(function(_ref){var value=_ref.value;return!dynamicList.some(function(x){return x.ntestgrouptestcode==value;});});}return list;};_this.onConditionClick=function(fieldName,index,isgroup){var selectedRecord=_this.state.selectedRecord;selectedRecord[\"groupListJoins\"]=selectedRecord[\"groupListJoins\"]||[];if(index!==undefined&&isgroup===false){if(fieldName===\"button_and\"){selectedRecord[\"groupList\"][index][fieldName]=selectedRecord[\"groupList\"][index][fieldName]===true?true:true;selectedRecord[\"groupList\"][index][\"button_or\"]=false;}else if(fieldName===\"button_or\"){selectedRecord[\"groupList\"][index][fieldName]=selectedRecord[\"groupList\"][index][fieldName]===true?true:true;selectedRecord[\"groupList\"][index][\"button_and\"]=false;}else if(fieldName===\"button_not\"){selectedRecord[\"groupList\"][index][fieldName]=selectedRecord[\"groupList\"][index][fieldName]===true?false:true;}else{}_this.setState({selectedRecord:selectedRecord});}else{if(fieldName===\"button_and\"){if(selectedRecord[\"groupListJoins\"][index]===undefined){selectedRecord[\"groupListJoins\"][index]={};}selectedRecord[\"groupListJoins\"][index][fieldName]=selectedRecord[\"groupListJoins\"][index][fieldName]===true?true:true;selectedRecord[\"groupListJoins\"][index][\"button_or\"]=false;}if(fieldName===\"button_or\"){if(selectedRecord[\"groupListJoins\"][index]===undefined){selectedRecord[\"groupListJoins\"][index]={};}selectedRecord[\"groupListJoins\"][index][fieldName]=selectedRecord[\"groupListJoins\"][index][fieldName]===true?true:true;selectedRecord[\"groupListJoins\"][index][\"button_and\"]=false;}if(fieldName===\"button_not\"){if(selectedRecord[\"groupListJoins\"][index]===undefined){selectedRecord[\"groupListJoins\"][index]={};}selectedRecord[\"groupListJoins\"][index][fieldName]=selectedRecord[\"groupListJoins\"][index][fieldName]===true?false:true;}_this.setState({selectedRecord:selectedRecord});}};_this.changePropertyViewClose=function(id){var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:undefined,activeTestTab:undefined,activeTabId:id}};_this.props.updateStore(updateInfo);};_this.onFilterComboChange=function(comboData,fieldName,caseNo){var tempFilterData=_this.state.tempFilterData||{};var inputParam={};switch(caseNo){case 1:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,sampletype:comboData.item,tempFilterData:tempFilterData},methodUrl:\"/getProductCategory\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;case 2:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,sampletype:tempFilterData.nsampletypecode.item,productcategory:comboData.item,tempFilterData:tempFilterData},methodUrl:\"/getProduct\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;case 3:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,sampletype:tempFilterData.nsampletypecode.item,productcategory:tempFilterData.nproductcatcode.item,product:comboData.item,project:comboData.item,tempFilterData:tempFilterData},methodUrl:\"/getTreeVersionTemplate\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;case 4:tempFilterData[fieldName]=comboData;_this.setState({tempFilterData:tempFilterData});break;case 5:var selectedRecord=_this.state.selectedRecord;selectedRecord[fieldName]=comboData;var TestGroupSpecSampleType=_this.props.Login.testGroupInputData.TestGroupSpecSampleType||{};var testGroupSpecSampleType={};if(_this.props.Login.screenName===\"IDS_COMPONENT\"){testGroupSpecSampleType=selectedRecord[\"ncomponentcode\"]?selectedRecord[\"ncomponentcode\"].item:TestGroupSpecSampleType[0].item;}else{testGroupSpecSampleType=_this.props.Login.masterData.SelectedComponent;}inputParam={userinfo:_this.props.Login.userInfo,testcategory:comboData.item,testgroupspecsampletype:testGroupSpecSampleType,nallottedspeccode:_this.props.Login.masterData.SelectedSpecification[\"nallottedspeccode\"],selectedRecord:selectedRecord};_this.props.changeTestCategory(inputParam,_this.props.Login.testGroupInputData);break;case 6:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,nprojecttypecode:tempFilterData.nprojecttypecode.value,projecttype:tempFilterData.nprojecttypecode.item,// sampletype: tempFilterData.nsampletypecode.item,\n// productcategory: comboData.item,\ntempFilterData:tempFilterData},classUrl:\"/projectmaster\",methodUrl:\"/getApprovedProjectByProjectType\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;default:break;}};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;if(dateValue===null){dateValue=new Date();}selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.onNumericInputChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){var inputParam={};if(_this.props.Login.screenName===\"IDS_PROFILETREE\"||_this.props.Login.screenName===\"IDS_EDITTREE\"){inputParam=_this.onSaveTree(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_SPECIFICATION\"){inputParam=_this.onSaveSpecification(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_COMPONENT\"){inputParam=_this.onSaveComponent(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_COPYSPECIFICATION\"){inputParam=_this.onSaveCopySpecification(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_TEST\"||_this.props.Login.screenName===\"IDS_EDITTESTGROUPTEST\"){inputParam=_this.onSaveTest(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_SPECFILE\"){inputParam=_this.onSaveSpecFile(saveType,formRef);}if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,openModal:true,operation:_this.props.Login.operation,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}};_this.onSaveTest=function(saveType,formRef){var operation=_this.props.Login.operation;var masterData=_this.props.Login.masterData;var selectedRecord=_this.state.selectedRecord;var inputData={};var userinfo=_this.props.Login.userInfo;var postParam=undefined;if(operation===\"create\"){var testArray=selectedRecord.ntestcode.map(function(test){return test.item;});inputData={testgroupspecification:masterData.SelectedSpecification,testgroupspecsampletype:[masterData.SelectedComponent],testgrouptest:testArray,userinfo:userinfo};}else{postParam={inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:masterData.SelectedTest?masterData.SelectedTest.ntestgrouptestcode:0,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.Login.userInfo},masterData:_this.props.Login.masterData,searchFieldList:searchFieldList,changeList:[\"TestGroupTestFormula\",\"TestGroupTestNumericParameter\",\"TestGroupTestPredefinedParameter\",\"TestGroupTestCharParameter\",\"TestGroupTestParameter\"],isSingleSelect:true};var testgrouptestfile=null;var testGroupFile=selectedRecord.ntestfilecode;if(testGroupFile){testGroupFile=testGroupFile.item;testgrouptestfile={nlinkcode:testGroupFile.nlinkcode,nattachmenttypecode:testGroupFile.nattachmenttypecode,sdescription:testGroupFile.sdescription,ssystemfilename:testGroupFile.ssystemfilename,dcreateddate:testGroupFile.dcreateddate,nfilesize:testGroupFile.nfilesize,ntestgroupfilecode:selectedRecord.ntestgroupfilecode,ntestgrouptestcode:selectedRecord.ntestgrouptestcode,sfilename:testGroupFile.sfilename,nstatus:transactionStatus.ACTIVE};}inputData={testgroupspecification:masterData.SelectedSpecification,testgrouptest:{ntestgrouptestcode:selectedRecord.ntestgrouptestcode,nsectioncode:selectedRecord.nsectioncode.value,//nsourcecode: selectedRecord.nsourcecode.value,\nnmethodcode:selectedRecord.nmethodcode?selectedRecord.nmethodcode.value:transactionStatus.NA,ninstrumentcatcode:selectedRecord.ninstrumentcatcode?selectedRecord.ninstrumentcatcode.value:transactionStatus.NA,ncontainertypecode:selectedRecord.ncontainertypecode?selectedRecord.ncontainertypecode.value:transactionStatus.NA,stestsynonym:selectedRecord.stestsynonym,ncost:selectedRecord.ncost,nsorter:selectedRecord.nsorter,nspecsampletypecode:selectedRecord.nspecsampletypecode,nrepeatcountno:selectedRecord.nrepeatcountno},testgrouptestfile:testgrouptestfile,userinfo:userinfo};}var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:operation,methodUrl:\"Test\",saveType:saveType,formRef:formRef,searchRef:_this.searchRef,postParam:postParam};return inputParam;};_this.onSaveTree=function(saveType,formRef){var operation=_this.props.Login.operation;var selectedRecord=_this.state.selectedRecord;var inputData={userinfo:_this.props.Login.userInfo};if(operation===\"update\"){var selectedNode=_this.props.Login.masterData.selectedNode;inputData[\"treetemplatemanipulation\"]={ntemplatemanipulationcode:selectedRecord.ntemplatemanipulationcode,sleveldescription:selectedRecord.sleveldescription,nsampletypecode:selectedNode.nsampletypecode,ntreeversiontempcode:selectedNode.ntreeversiontempcode,nproductcatcode:selectedNode.nproductcatcode,nproductcode:selectedNode.nproductcode,nprojectmastercode:selectedNode.nprojectmastercode};inputData[\"selectednode\"]=_this.props.Login.masterData.ActiveKey;}else{var TreetempTranstestGroup=_this.props.Login.TreetempTranstestGroup;var filterData=_this.state.filterData;var _selectedRecord=_this.state.selectedRecord;var treetemplatemanipulation=[];var tempArray=filterRecordBasedOnTwoArrays(TreetempTranstestGroup,_selectedRecord.treetemplatemanipulation,\"ntemptranstestgroupcode\");tempArray.map(function(item){var treeData={ntreeversiontempcode:item.ntreeversiontempcode,npositioncode:item.nlevelno-1,sleveldescription:item.sleveldescription,ntemptranstestgroupcode:item.ntemptranstestgroupcode,nformcode:62,schildnode:\"\",nnextchildcode:item.schildnode,ntemplatemanipulationcode:item.ntemplatemanipulationcode,isreadonly:item.ntemplatemanipulationcode>0?true:false,slevelformat:item.slevelformat};return treetemplatemanipulation.push(treeData);});_selectedRecord.treetemplatemanipulation.map(function(item){var treeTemplateManip=TreetempTranstestGroup.filter(function(temp){return temp.ntemptranstestgroupcode===item.ntemptranstestgroupcode;});if(treeTemplateManip.length>0){item[\"ntemplatemanipulationcode\"]=treeTemplateManip[\"ntemplatemanipulationcode\"];}else{item[\"ntemplatemanipulationcode\"]=0;}return treetemplatemanipulation.push(item);});inputData[\"treetemplatemanipulation\"]=treetemplatemanipulation;inputData[\"sampletype\"]=filterData.nsampletypecode.item;inputData[\"ncategorycode\"]=filterData.nproductcatcode.value;inputData[\"nproductcode\"]=filterData.nsampletypecode.item.ncategorybasedflowrequired===transactionStatus.YES?-1:filterData.nproductcatcode.item.ncategorybasedflow==transactionStatus.YES?-1:filterData.nproductcode.value?filterData.nproductcode.value:-1;inputData[\"ntreeversiontempcode\"]=filterData.ntreeversiontempcode.value;//  inputData[\"nprojectmastercode\"] = filterData.nprojectmastercode ? filterData.nprojectmastercode.value:-1;\ninputData[\"nprojectmastercode\"]=filterData.nprojectmastercode?filterData.nsampletypecode.item.nprojectspecrequired===transactionStatus.YES?filterData.nprojectmastercode.value:-1:-1;}var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:operation,methodUrl:\"Tree\",saveType:saveType,formRef:formRef};return inputParam;};_this.onSaveSpecification=function(saveType,formRef){var operation=_this.props.Login.operation;var selectedRecord=_this.state.selectedRecord;var testGroupSpec={napproveconfversioncode:-1,sversion:'',napprovalstatus:transactionStatus.DRAFT,nstatus:transactionStatus.ACTIVE,ntransactionstatus:selectedRecord[\"ntransactionstatus\"],ncomponentrequired:selectedRecord[\"ncomponentrequired\"],//   nclinicalspec: selectedRecord[\"nclinicalspec\"],\n// nprojectcode: selectedRecord[\"nprojectcode\"] ? selectedRecord[\"nprojectcode\"] : -1,\nnprojectmastercode:_this.state.filterData.nprojectmastercode?_this.state.filterData.nsampletypecode.item.nprojectspecrequired===transactionStatus.YES?_this.state.filterData.nprojectmastercode.value:-1:-1,sspecname:selectedRecord[\"sspecname\"],dexpirydate:selectedRecord[\"dexpirydate\"],nallottedspeccode:selectedRecord[\"nallottedspeccode\"]?selectedRecord[\"nallottedspeccode\"]:0,ntzexpirydate:selectedRecord[\"ntzexpirydate\"].value,stzexpirydate:selectedRecord[\"ntzexpirydate\"].label};var dexpirydate=testGroupSpec[\"dexpirydate\"];//need this conversion when the datatype of the field is 'Instant'\ntestGroupSpec[\"dexpirydate\"]=formatInputDate(dexpirydate,false);if(operation===\"create\"){testGroupSpec[\"ntemplatemanipulationcode\"]=_this.props.Login.masterData.selectedNode.ntemplatemanipulationcode;}var ntreeversiontempcode=_this.state.filterData.ntreeversiontempcode.value;var inputData={userinfo:_this.props.Login.userInfo,testgroupspecification:testGroupSpec,treetemplatemanipulation:_this.props.Login.masterData.selectedNode,selectedspecification:_this.props.Login.masterData.SelectedSpecification,ntreeversiontempcode:ntreeversiontempcode};var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:operation,methodUrl:\"Specification\",saveType:saveType,formRef:formRef};return inputParam;};_this.onSaveComponent=function(saveType,formRef){var masterData=_this.props.Login.masterData;var selectedRecord=_this.state.selectedRecord;var testArray=selectedRecord.ntestcode.map(function(test){return test.item;});var inputData={testgroupspecification:masterData.SelectedSpecification,testgroupspecsampletype:[selectedRecord.ncomponentcode.item],testgrouptest:testArray,userinfo:_this.props.Login.userInfo};var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:_this.props.Login.operation,methodUrl:\"Component\",saveType:saveType,formRef:formRef};return inputParam;};_this.onSaveSpecFile=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var specFileArray=[];var selectedSpecification=_this.props.Login.masterData.SelectedSpecification;var specFile={nallottedspeccode:selectedSpecification.nallottedspeccode,nspecfilecode:selectedRecord.nspecfilecode?selectedRecord.nspecfilecode:0,nstatus:transactionStatus.ACTIVE,nattachmenttypecode:nattachmenttypecode};var formData=new FormData();if(nattachmenttypecode===attachmentType.FTP){if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var tempData=Object.assign({},specFile);var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var uniquefilename=nattachmenttypecode===attachmentType.FTP?create_UUID()+'.'+fileExtension:\"\";tempData[\"sfilename\"]=Lims_JSON_stringify(file.name,false);tempData[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\",false);tempData[\"nlinkcode\"]=transactionStatus.NA;tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"nfilesize\"]=file.size;formData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);specFileArray.push(tempData);});formData.append(\"filecount\",acceptedFiles.length);isFileEdited=transactionStatus.YES;}else{specFile[\"sfilename\"]=Lims_JSON_stringify(selectedRecord.sfilename,false);specFile[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\",false);specFile[\"nlinkcode\"]=transactionStatus.NA;specFile[\"ssystemfilename\"]=selectedRecord.ssystemfilename;specFile[\"nfilesize\"]=selectedRecord.nfilesize;specFileArray.push(specFile);}}else{specFile[\"sfilename\"]=Lims_JSON_stringify(selectedRecord.slinkfilename.trim(),false);specFile[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.slinkdescription?selectedRecord.slinkdescription.trim():\"\",false);specFile[\"nlinkcode\"]=selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;specFile[\"ssystemfilename\"]=\"\";specFile[\"nfilesize\"]=0;specFileArray.push(specFile);}formData.append(\"isFileEdited\",isFileEdited);formData.append(\"testgroupspecification\",JSON.stringify(selectedSpecification));formData.append(\"testgroupspecfile\",JSON.stringify(specFileArray));var inputParam={// inputData: { userinfo: this.props.Login.userInfo },\ninputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sformname:Lims_JSON_stringify(_this.props.Login.userInfo.sformname),smodulename:Lims_JSON_stringify(_this.props.Login.userInfo.smodulename)})},formData:formData,isFileupload:true,operation:_this.props.Login.operation,classUrl:\"testgroup\",saveType:saveType,formRef:formRef,methodUrl:\"SpecificationFile\"};return inputParam;};_this.deleteSpecRecord=function(deleteParam){var selectedRecord=deleteParam.selectedRecord;var masterData=_this.props.Login.masterData;var ntreeversiontempcode=masterData[\"TreeTemplateManipulation\"][0].ntreeversiontempcode;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===ntreeversiontempcode;});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{if(selectedRecord.napprovalstatus===transactionStatus.DRAFT||selectedRecord.napprovalstatus===transactionStatus.CORRECTION){_this.deleteRecord(deleteParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.deleteRecord=function(deleteParam){if(_this.props.Login.masterData.selectedNode!==undefined&&_this.props.Login.masterData.selectedNode!==null){var masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{if(_this.props.Login.masterData.selectedNode){var _inputData;var methodUrl=deleteParam.methodUrl;var dataState=_this.state.componentDataState;var screenName=deleteParam.screenName;var inputParam={inputData:(_inputData={},_defineProperty(_inputData,deleteParam.keyName,deleteParam.selectedRecord),_defineProperty(_inputData,\"userinfo\",_this.props.Login.userInfo),_defineProperty(_inputData,\"testgroupspecification\",_this.props.Login.masterData.SelectedSpecification),_defineProperty(_inputData,\"treetemplatemanipulation\",_this.props.Login.masterData.selectedNode),_defineProperty(_inputData,\"ntreeversiontempcode\",deleteParam.filterData.ntreeversiontempcode.value),_inputData),classUrl:\"testgroup\",operation:deleteParam.operation,methodUrl:methodUrl,screenName:screenName,dataState:dataState};var _masterData=_this.props.Login.masterData;//if (showEsign(this.state.controlMap, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\nif(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_masterData},openModal:true,screenName:screenName,operation:deleteParam.operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROFILENODE\"}));}}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROFILENODE\"}));}};_this.deleteMultipleRecord=function(deleteParam){//console.log(\"delete component:\", deleteParam, this.props.Login.masterData);\nvar masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{var testgroupspecification=_this.props.Login.masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var inputParam={inputData:{testgroupspecsampletype:deleteParam.props.testgroupspecsampletype,userinfo:_this.props.Login.userInfo,testgroupspecification:testgroupspecification,treetemplatemanipulation:_this.props.Login.masterData.selectedNode},classUrl:\"testgroup\",operation:\"delete\",methodUrl:\"TestGroupComponent\",screenName:\"IDS_COMPONENT\"};var _masterData2=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_masterData2},openModal:true,screenName:\"IDS_COMPONENT\",operation:\"delete\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.onDropSpecFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"//fileToDelete:file.name \n});};_this.validateTestGroupComplete=function(operation,inputValue,ncontrolCode){if(_this.props.Login.masterData.selectedNode!==undefined&&_this.props.Login.masterData.selectedNode!==null){var masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{if(inputValue.testgroupspecification){if(inputValue.testgroupspecification.napprovalstatus===transactionStatus.DRAFT||inputValue.testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){return rsapi.post(\"testgroup/validateTestGroupComplete\",{nallottedspeccode:inputValue.testgroupspecification.nallottedspeccode,\"userinfo\":_this.props.Login.userInfo}).then(function(response){if(response.data&&response.data.length>0){var inactiveTestArray=[];response.data.map(function(item){return inactiveTestArray.indexOf(item.stestname)===-1?inactiveTestArray.push(item.stestname):\"\";});var data=\" [\"+inactiveTestArray+\"] \"+_this.props.intl.formatMessage({id:\"IDS_INACTIVETESTSATCOMPLETE\"});_this.confirmMessage.confirm(_this.props.intl.formatMessage({id:\"IDS_CONFIRMATION\"}),_this.props.intl.formatMessage({id:\"IDS_CONFIRMATION\"}),data,_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.completeSpecification(operation,inputValue,ncontrolCode);},false,undefined);}else{_this.completeSpecification(operation,inputValue,ncontrolCode);}}).catch(function(error){if(error.response.status===500){toast.error(_this.props.intl.formatMessage({id:error.message}));}else{toast.warn(_this.props.intl.formatMessage({id:error.response}));}});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTSPECIFICATION\"}));}}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTSPECIFICATION\"}));}};_this.retireSpec=function(operation,selectedSpecification,approvalRoleActionDetail,retireSpecId){if(selectedSpecification.testgroupspecification.napprovalstatus!==transactionStatus.RETIRED){if(approvalRoleActionDetail.length>0&&approvalRoleActionDetail[0].nlevelno===transactionStatus.ACTIVE){if(selectedSpecification.testgroupspecification[\"napprovalstatus\"]===approvalRoleActionDetail[0].ntransactionstatus){var inputParam={inputData:{nallottedspeccode:selectedSpecification.testgroupspecification,treetemplatemanipulation:selectedSpecification.treetemplatemanipulation,approvalRoleActionDetail:approvalRoleActionDetail[0],userinfo:_this.props.Login.userInfo,operation:operation},classUrl:\"testgroup\",operation:operation,methodUrl:\"Spec\",screenName:\"IDS_STUDYPLAN\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,retireSpecId)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_STUDYPLAN\",operation:operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.retireSpecification(inputParam.inputData,masterData);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_RETIRECANBECONEAFTERFINAL\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_FINALLEVELAPPROVE\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYRETIRED\"}));}};_this.specificationReport=function(operation,ncontrolCode){if(_this.props.Login.masterData.SelectedComponent&&_this.props.Login.masterData.SelectedTest){var inputParam={inputData:{sprimarykeyname:'nallottedspeccode',userinfo:_this.props.Login.userInfo,ncontrolcode:ncontrolCode,nregtypecode:transactionStatus.NA,nregsubtypecode:transactionStatus.NA,nreportmodulecode:transactionStatus.NA,nreporttypecode:REPORTTYPE.CONTROLBASED,nreportdecisiontypecode:transactionStatus.NA,certificatetypecode:transactionStatus.NA,nsectioncode:transactionStatus.NA,operation:operation,nallottedspeccode:_this.props.Login.masterData['SelectedSpecification']['nallottedspeccode'],selectedComponent:_this.props.Login.masterData[\"SelectedComponent\"],selectedTest:_this.props.Login.masterData[\"SelectedTest\"],filterData:_this.state.filterData}};_this.props.reportSpecification(inputParam['inputData']);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\"}));}};_this.completeSpecification=function(operation,inputValue,ncontrolCode){if(inputValue.testgroupspecification){if(inputValue.testgroupspecification.napprovalstatus===transactionStatus.DRAFT||inputValue.testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var inputParam={inputData:_objectSpread({userinfo:_this.props.Login.userInfo,ntreeversiontempcode:_this.state.filterData.ntreeversiontempcode.value,testGroupTest:_this.props.Login.masterData.TestGroupTest},inputValue),classUrl:\"testgroup\",operation:operation,methodUrl:\"Specification\",screenName:\"IDS_SPECIFICATION\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:\"IDS_SPECIFICATION\",operation:operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTSPECIFICATION\"}));}};_this.approveSpecification=function(status,needEsign){var masterData=_this.props.Login.masterData;var inputParam={inputData:{userinfo:_this.props.Login.userInfo,treetemplatemanipulation:masterData.selectedNode,ntreeversiontempcode:_this.state.filterData.ntreeversiontempcode.value,testgroupspecification:_objectSpread(_objectSpread({},masterData.SelectedSpecification),{},{napprovalstatus:status})},classUrl:\"testgroup\",operation:\"approve\",methodUrl:\"Specification\",screenName:\"IDS_SPECIFICATION\"};if(needEsign===transactionStatus.YES){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_SPECIFICATION\",operation:\"approve\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\",{});}};_this.onComboChange=function(comboData,fieldName,caseNo,optional){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:if(fieldName===\"ntestcode\"){selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}break;case 2:selectedRecord[\"parameterTypeCode\"]=comboData.value;selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;case 3:selectedRecord[\"schecklistversionname\"]=comboData.item.schecklistversionname;selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;default:break;}};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};var componentDataState={skip:0,take:10};var historyDataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};var clinicalspecDataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5,group:[{field:'sgendername'}]};_this.state={selectedRecord:{},filterData:{},error:\"\",userRoleControlRights:[],controlMap:new Map(),componentDataState:componentDataState,historyDataState:historyDataState,clinicalspecDataState:clinicalspecDataState,tempFilterData:{},showTest:true,testskip:0,testtake:_this.props.Login.settings?_this.props.Login.settings[12]:5,skipRulesEngine:0,takeRulesEngine:_this.props.Login.settings?_this.props.Login.settings[12]:5,fixefScrollHeight:window.outerHeight-400,initialVerticalWidth:\"20vh\",testView:true,//paneHeight:'calc(100vh - ' +window.outerHeight-847 + 'px)'\npaneHeight:'calc(100vh -183px)'};_this.componentBreadcrumbs=[];_this.breadCrumbData=[];_this.searchRef=React.createRef();_this.specSubField=[_defineProperty({},designProperties.VALUE,\"stransdisplaystatus\"),(_ref3={},_defineProperty(_ref3,designProperties.VALUE,\"sapprovalstatus\"),_defineProperty(_ref3,designProperties.COLOUR,true),_ref3)];_this.myRef=React.createRef();return _this;}_createClass(TestGroup,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({parentHeight:height-50});}}},{key:\"render\",value:function render(){var _this2=this;var _this$props$Login$mas=this.props.Login.masterData,TestGroupSpecification=_this$props$Login$mas.TestGroupSpecification,SelectedSpecification=_this$props$Login$mas.SelectedSpecification,SelectedTest=_this$props$Login$mas.SelectedTest,OpenNodes=_this$props$Login$mas.OpenNodes,selectedNode=_this$props$Login$mas.selectedNode,FocusKey=_this$props$Login$mas.FocusKey,ActiveKey=_this$props$Login$mas.ActiveKey,SelectedComponent=_this$props$Login$mas.SelectedComponent,TestGroupTest=_this$props$Login$mas.TestGroupTest,TestGroupSpecSampleType=_this$props$Login$mas.TestGroupSpecSampleType,searchedData=_this$props$Login$mas.searchedData,TestGroupTestParameter=_this$props$Login$mas.TestGroupTestParameter;// const deleteTree = {\n//     methodUrl: \"Tree\", operation: \"delete\", inputParam: this.props.Login.inputParam,\n//     userInfo: this.props.Login.userInfo, screenName: \"IDS_TREE\"\n// };\nif(this.props.Login.masterData&&this.props.Login.masterData.AgaramTree&&this.props.Login.masterData.AgaramTree.length>0){this.props.Login.masterData.AgaramTree[0][\"label\"]=this.props.Login.masterData.AgaramTree[0][\"label\"]==='root'?this.props.intl.formatMessage({id:\"IDS_ROOT\"}):this.props.Login.masterData.AgaramTree[0][\"label\"];}var testGroupTestData=searchedData||TestGroupTest||[];if(TestGroupTestParameter){sortData(TestGroupTestParameter,\"ascending\",\"nsorter\");}if(testGroupTestData){sortData(testGroupTestData,\"descending\",\"nsorter\");}var getComponent={screenName:\"IDS_COMPONENT\",operation:\"get\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,methodUrl:\"TestGroupComponent\",keyName:\"testgroupspecification\"};var addSpecParam={testgroupspecification:SelectedSpecification,selectedRecord:this.state.filterData,userInfo:this.props.Login.userInfo,selectedNode:selectedNode};var editSpecParam={selectedRecord:this.state.filterData,userinfo:this.props.Login.userInfo,selectedNode:selectedNode};var specDeleteParam={operation:\"delete\",methodUrl:\"Specification\",screenName:\"IDS_SPECIFICATION\",keyName:\"testgroupspecification\",filterData:this.state.filterData};var addSpecId=this.state.controlMap.has(\"AddSpecification\")&&this.state.controlMap.get(\"AddSpecification\").ncontrolcode;var addTreeId=this.state.controlMap.has(\"AddTree\")&&this.state.controlMap.get(\"AddTree\").ncontrolcode;var editTreeId=this.state.controlMap.has(\"EditTree\")&&this.state.controlMap.get(\"EditTree\").ncontrolcode;var deleteTreeId=this.state.controlMap.has(\"DeleteTree\")&&this.state.controlMap.get(\"DeleteTree\").ncontrolcode;var editSpecId=this.state.controlMap.has(\"EditSpecification\")&&this.state.controlMap.get(\"EditSpecification\").ncontrolcode;var deleteSpecId=this.state.controlMap.has(\"DeleteSpecification\")&&this.state.controlMap.get(\"DeleteSpecification\").ncontrolcode;var addComponentId=this.state.controlMap.has(\"AddComponent\")&&this.state.controlMap.get(\"AddComponent\").ncontrolcode;var deleteComponentId=this.state.controlMap.has(\"DeleteComponent\")&&this.state.controlMap.get(\"DeleteComponent\").ncontrolcode;var addTestId=this.state.controlMap.has(\"AddTest\")&&this.state.controlMap.get(\"AddTest\").ncontrolcode;var deleteTestId=this.state.controlMap.has(\"DeleteTest\")&&this.state.controlMap.get(\"DeleteTest\").ncontrolcode;var editTestId=this.state.controlMap.has(\"EditTest\")&&this.state.controlMap.get(\"EditTest\").ncontrolcode;var viewFileId=this.state.controlMap.has(\"ViewTestFile\")&&this.state.controlMap.get(\"ViewTestFile\").ncontrolcode;var confirmMessage=new ConfirmMessage();var deleteTree={methodUrl:\"Tree\",operation:\"delete\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,screenName:\"IDS_TREE\",ncontrolCode:deleteTreeId,filterData:this.state.filterData};var getTest={screenName:\"IDS_TEST\",operation:\"get\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,methodUrl:\"TestGroupTest\",keyName:\"ntestgrouptestcode\"};var filterParam={testskip:0,testtake:this.props.Login.settings?this.props.Login.settings[12]:5,inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:searchFieldList,changeList:[\"TestGroupTestFormula\",\"TestGroupTestNumericParameter\",\"TestGroupTestPredefinedParameter\",\"TestGroupTestCharParameter\",\"TestGroupTestParameter\"],isSingleSelect:true};var filterParamRulesEngine={skipRulesEngine:0,takeRulesEngine:this.props.Login.settings?this.props.Login.settings[12]:5,inputListName:\"RulesEngine\",selectedObject:\"SelectedRulesEngine\",primaryKeyField:\"ntestgrouprulesenginecode\",fetchUrl:\"testgrouprulesengine/getSelectedTestGroupRulesEngine\",fecthInputObject:{userinfo:this.props.Login.userInfo,ntestgrouptestcode:this.props.Login.masterData.SelectedTest&&this.props.Login.masterData.SelectedTest.ntestgrouptestcode},masterData:this.props.Login.masterData,'searchFieldList':[\"srulename\",\"stransdisplaystatus\"],changeList:[],isSingleSelect:true};var specMandatoryFields=[];var compMandatoryFields=[];var editTestMandatoryFields=[];var addTestMandatoryFields=[];specificationColumnList.forEach(function(item){return item.mandatory===true?specMandatoryFields.push(item):\"\";});componentColumnList.forEach(function(item){return item.mandatory===true?compMandatoryFields.push(item):\"\";});editTestColumnList.forEach(function(item){return item.mandatory===true?editTestMandatoryFields.push(item):\"\";});addTestColumnList.forEach(function(item){return item.mandatory===true?addTestMandatoryFields.push(item):\"\";});if(this.props.Login.masterData&&Object.values(this.props.Login.masterData).length>0){if(selectedNode&&selectedNode.sleveldescription){var splitNode=this.props.Login.masterData.ActiveKey.split('/');var treeNodeNames=[];splitNode.forEach(function(nodeItem){_this2.props.Login.masterData.TreeTemplateManipulation.forEach(function(treeItem){if(treeItem.ntemplatemanipulationcode===parseInt(nodeItem))treeNodeNames.push(treeItem.sleveldescription);});});this.componentBreadcrumbs=treeNodeNames;if(SelectedSpecification&&SelectedSpecification!==null&&SelectedSpecification.sspecname){this.componentBreadcrumbs.push(SelectedSpecification.sspecname);if(SelectedComponent&&SelectedComponent!==null&&SelectedComponent.ncomponentcode!==-1){// this.componentBreadcrumbs[2] = this.props.intl.formatMessage({ id: \"IDS_COMPONENT\" }) + \": \" + SelectedComponent.scomponentname;\nthis.componentBreadcrumbs.push(SelectedComponent.scomponentname);}else{// delete this.componentBreadcrumbs[2];\n}}else{// delete this.componentBreadcrumbs[1];\n}}else{this.componentBreadcrumbs=[];// delete this.componentBreadcrumbs[0];\n}}this.confirmMessage=new ConfirmMessage();//New Design\nvar specDesign=/*#__PURE__*/React.createElement(React.Fragment,null,this.componentBreadcrumbs&&this.componentBreadcrumbs.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"component_breadcrumbs\"},/*#__PURE__*/React.createElement(\"ul\",null,this.componentBreadcrumbs.map(function(item){return/*#__PURE__*/React.createElement(\"li\",null,item);}))),/*#__PURE__*/React.createElement(ContentPanel,{hidden:this.state.showTest,className:\"mr-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card_group\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(\"span\",{style:{display:\"inline-block\",marginTop:\"1%\"}},/*#__PURE__*/React.createElement(\"h4\",null,this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONINFO\"}))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",style:{float:\"right\",marginRight:\"1rem\"},onClick:function onClick(){return _this2.showSpecAndTestInfo1();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}),\"  \",this.props.intl.formatMessage({id:\"IDS_TEST\"}))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(SpecificationInfo,{controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,selectedSpecification:this.props.Login.masterData.SelectedSpecification,userInfo:this.props.Login.userInfo,selectedNode:this.props.Login.masterData.selectedNode,selectedRecord:this.state.filterData,approvalRoleActionDetail:this.props.Login.masterData.ApprovalRoleActionDetail,screenName:\"IDS_SPECIFICATIONINFO\",deleteRecord:this.deleteRecord,addSpecification:this.props.addSpecification,filterData:this.state.filterData//completeSpecification={this.completeSpecification}\n,completeSpecification:this.validateTestGroupComplete,approveSpecification:this.approveSpecification,specificationReport:this.specificationReport,retireSpec:this.retireSpec,masterData:this.props.Login.masterData})))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CustomTab,{tabDetail:this.tabDetail(),onTabChange:this.onTabChange}))));var testDesign=/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,{className:\"sm-header\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"spec-info-title\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_TEST\"})},this.props.intl.formatMessage({id:\"IDS_TEST\"})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",style:{position:\"absolute\",right:\"7px\",top:\"7px\"},onClick:function onClick(){return _this2.showSpecAndTestInfo();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}),\"  \",this.props.intl.formatMessage({id:\"IDS_SPECINFO\"}))),/*#__PURE__*/React.createElement(Card.Body,{className:this.state.testView?'p-0':'no-pad-t'},/*#__PURE__*/React.createElement(TransactionListMasterJsonView,{cardHead:167,componentBreadcrumbs:this.breadCrumbData?this.breadCrumbData.length>0?true:false:false// notSearchable={false}\n,masterList:searchedData||TestGroupTest||[]//selectedMaster={[SelectedTest]}\n,clickIconGroup:true,selectedMaster:SelectedTest!==undefined?[SelectedTest]:undefined,primaryKeyField:\"ntestgrouptestcode\",getMasterDetail:this.props.getTestGroupDetails,inputParam:getTest,additionalParam:[],mainField:\"stestname\",selectedListName:\"SelectedTest\",objectName:\"testgrouptest\",listName:\"IDS_TEST\",showStatusLink:true,statusFieldName:\"stransdisplaystatus\",statusField:\"ntransactionstatus\",subFields:testSubFields,moreField:testMoreFields,needValidation:false,needFilter:false,filterColumnData:this.props.filterTransactionList,searchListName:\"searchedData\",searchRef:this.searchRef,hidePaging:false,filterParam:filterParam,handlePageChange:this.handlePageChange,skip:this.state.testskip,take:this.state.testtake,pageSize:this.props.Login.settings&&this.props.Login.settings[13].split(\",\").map(function(setting){return parseInt(setting);}),actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_VIEW\"}),controlname:\"faCloudDownloadAlt\",objectName:\"selectedTest\",hidden:this.state.userRoleControlRights.indexOf(viewFileId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.viewTestFile(props);},needConditionalIcon:true,conditionalIconFunction:this.fileViewIcon},{title:this.props.intl.formatMessage({id:\"IDS_VIEW\"}),controlname:\"faExternalLinkAlt\",objectName:\"selectedTest\",hidden:this.state.userRoleControlRights.indexOf(viewFileId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.viewTestFile(props);},needConditionalIcon:true,conditionalIconFunction:this.linkViewIcon},{title:this.props.intl.formatMessage({id:\"IDS_EDIT\"}),controlname:\"faPencilAlt\",objectName:\"testgroupspecification\",hidden:this.state.userRoleControlRights.indexOf(editTestId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.props.editTestGroupTest(\"update\",props.SelectedTest[0],_this2.props.Login.userInfo,editTestId,SelectedSpecification,_this2.state.filterData,props.masterData);}},{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),controlname:\"faTrashAlt\",objectName:\"testgrouptest\",hidden:this.state.userRoleControlRights.indexOf(deleteTestId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return confirmMessage.confirm(\"deleteMessage\",_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this2.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this2.props.intl.formatMessage({id:\"IDS_OK\"}),_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this2.deleteTest({props:props,ncontrolCode:deleteTestId,filterData:_this2.state.filterData});});}}],commonActions:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addTestId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})// data-for=\"tooltip-list-wrap\"\n,onClick:function onClick(){return _this2.props.addTestGroupTest(SelectedComponent,_this2.props.Login.userInfo,addTestId,SelectedSpecification,_this2.state.filterData,_this2.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus,title:this.props.intl.formatMessage({id:\"IDS_ADD\"})})))})));var paramDesign=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ContentPanel,{hidden:!this.state.showTest,className:\"grouped-param\"},/*#__PURE__*/React.createElement(Card,null,console.log(this.props.Login.ncontrolCode),/*#__PURE__*/React.createElement(TestGroupTestTab,{paneHeight:this.state.paneHeight,testView:this.state.testView,isrulesenginerequired:this.props.Login.masterData.isrulesenginerequired&&this.props.Login.masterData.isrulesenginerequired===transactionStatus.YES?true:false,masterData:this.props.Login.masterData,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,userRoleControlRights:this.state.userRoleControlRights,esignRights:this.props.Login.userRoleControlRights,screenName:this.props.Login.screenName,openChildModal:this.props.Login.openChildModal,operation:this.props.Login.operation,loadEsign:this.props.Login.loadEsign,testGroupInputData:this.props.Login.testGroupInputData,parameterData:this.props.Login.parameterData,selectedRecord:this.state.selectedRecord,selectedsubcodedresult:this.state.selectedsubcodedresult,selectsubcodedelete:this.state.selectsubcodedelete,screenData:this.props.Login.screenData,ncontrolCode:this.props.Login.ncontrolCode,controlMap:this.state.controlMap,testGroupCheckList:this.props.Login.testGroupCheckList,openTemplateModal:this.props.Login.openTemplateModal,editTestGroupTest:this.props.editTestGroupTest,updateStore:this.props.updateStore,crudMaster:this.props.crudMaster,getTestGroupParameter:this.props.getTestGroupParameter,editTestGroupParameter:this.props.editTestGroupParameter,filterData:this.state.filterData,addTestGroupCodedResult:this.props.addTestGroupCodedResult,subCodedResultView:this.props.subCodedResultView,addTestGroupNumericTab:this.props.addTestGroupNumericTab,validateEsignCredential:this.props.validateEsignCredential,filterColumnData:this.props.filterColumnData,viewTestGroupCheckList:this.props.viewTestGroupCheckList,getDataForTestMaterial:this.props.getDataForTestMaterial,materialType:this.props.Login.materialType,getMaterialCategoryBasedMaterialType:this.props.getMaterialCategoryBasedMaterialType,materialCategoryList:this.props.Login.materialCategoryList,materialList:this.props.Login.materialList,getMaterialBasedMaterialCategory:this.props.getMaterialBasedMaterialCategory,getTestGroupMaterial:this.props.getTestGroupMaterial,getDataForEditTestMaterial:this.props.getDataForEditTestMaterial,dataState:this.state.clinicalspecDataState,dataStateChange:this.specDataStateChange,getTestGroupRulesEngineAdd:this.getTestGroupRulesEngineAdd,settings:this.props.Login.settings,skip:this.state.testskip,take:this.state.testtake,getEditTestGroupRulesEngine:this.props.getEditTestGroupRulesEngine,getSelectedTestGroupRulesEngine:this.props.getSelectedTestGroupRulesEngine,ConfirmDeleteRule:this.ConfirmDeleteRule,approveVersion:function approveVersion(masterdata,nflag){return _this2.approveVersion(masterdata,nflag);},openflowview:function openflowview(props){return _this2.openflowview(props);},handlePageChangeRuleEngine:function handlePageChangeRuleEngine(event){return _this2.handlePageChangeRuleEngine(event);},skipRulesEngine:this.state.skipRulesEngine,takeRulesEngine:this.state.takeRulesEngine,viewOutcome:function viewOutcome(props){return _this2.viewOutcome(props);},filterParamRulesEngine:filterParamRulesEngine,filterTransactionList:this.props.filterTransactionList,saveExecutionOrder:function saveExecutionOrder(props){return _this2.props.saveExecutionOrder(props,_this2.props.Login.masterData,_this2.props.Login.userInfo);}}))));var mainDesign=/*#__PURE__*/React.createElement(SplitterLayout,{customClassName:this.state.testView?\"detailed-inner\":\"detailed-inner no-height \",vertical:this.state.testView?false:true,borderColor:\"#999\",primaryIndex:1,percentage:true//secondaryInitialSize={this.state.testView ? 600 : this.state.fixefScrollHeight}\n,secondaryInitialSize:37,primaryMinSize:30,secondaryMinSize:37},testDesign,paramDesign);// const testDesign = this.state.testView ?\n//     <SplitterLayout\n//         customClassName=\"detailed-inner\"\n//         borderColor=\"#999\"\n//         primaryIndex={1}>\n//         {tempDesign}{paramDesign}\n//     </SplitterLayout>\n//     :\n//     <SplitterLayout\n//         customClassName=\"detailed-inner no-height\"\n//         vertical\n//         borderColor=\"#999\"\n//         primaryIndex={1}\n//         // onSecondaryPaneSizeChange={this.verticalPaneSizeChange}\n//         secondaryInitialSize={this.state.fixefScrollHeight}\n//     >\n//         <ContentPanel>\n//             {tempDesign}\n//         </ContentPanel>\n//         {paramDesign}\n//     </SplitterLayout>\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-4 screen-height-window\"},this.breadCrumbData&&this.breadCrumbData.length>0&&/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:this.breadCrumbData}),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12,className:\"parent-port-height sticky_head_parent\",ref:function ref(parentHeight){_this2.parentHeight=parentHeight;}},/*#__PURE__*/React.createElement(SplitterLayout,{borderColor:\"#999\",primaryIndex:1,percentage:true,secondaryInitialSize:30//customClassName=\"fixed_list_height\"\n},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(this.state.showModalBg?'show_modal_bg fixed_list_height':'fixed_list_height')},/*#__PURE__*/React.createElement(\"div\",{className:\"sticky_head\"},/*#__PURE__*/React.createElement(SearchAdd,{className:\"border fixed_ico_list title_grp_custom\"},/*#__PURE__*/React.createElement(\"h4\",null,this.props.intl.formatMessage({id:\"IDS_PROFILETREE\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"icon_group_right_aligned\"},/*#__PURE__*/React.createElement(AdvFilter,{filterComponent:[{\"IDS_SAMPLEFILTER\":/*#__PURE__*/React.createElement(SampleFilter,{sampleType:this.state.sampleType,treeVersionTemplate:this.state.treeVersionTemplate,productCategory:this.state.productCategory,product:this.state.product,projectType:this.state.projectType,project:this.state.project,onFilterComboChange:this.onFilterComboChange,tempFilterData:this.state.tempFilterData}),needActionStrip:false}],onFilterSubmit:this.onFilterSumbit,showModalBg:function showModalBg(e){return _this2.setState({showModalBg:e});}}),/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex product-category float-right icon-group-wrap\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue mr-1\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addTreeId)===-1,onClick:function onClick(){return _this2.props.createTree(_this2.state.filterData,_this2.props.Login.userInfo,_this2.props.Login.masterData,addTreeId);},\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})//  data-for=\"tooltip-list-wrap\"\n},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr0 mr-1\",name:\"edittestname\",hidden:this.state.userRoleControlRights.indexOf(editTreeId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"})//  data-for=\"tooltip-list-wrap\"\n,onClick:function onClick(){return _this2.props.editTree(\"update\",selectedNode,_this2.props.Login.userInfo,editTreeId,_this2.state.filterData,_this2.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"deleteLink\",hidden:this.state.userRoleControlRights.indexOf(deleteTreeId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})// data-for=\"tooltip-list-wrap\"\n,className:\"btn btn-circle outline-grey \",onClick:function onClick(){return _this2.ConfirmDelete(_objectSpread({},deleteTree));}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey ml-1\",variant:\"link\",onClick:function onClick(){return _this2.reloadData();}// data-for=\"tooltip-list-wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"})},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSync,style:{\"width\":\"0.6!important\"}})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"sticky_head_scroll_body\",style:{\"height\":this.state.parentHeight}},/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(FormTreeMenu,{data:this.props.Login.masterData.AgaramTree,hasSearch:false,handleTreeClick:this.onTreeClick,initialOpenNodes:OpenNodes,focusKey:FocusKey||\"\",activeKey:ActiveKey||\"\"}),/*#__PURE__*/React.createElement(TransationListMaster,{notSearchable:true,titleHead:this.props.intl.formatMessage({id:\"IDS_SPECIFICATION\"}),titleClasses:\"title_grp_custom fixed_ico_list\",masterList:TestGroupSpecification||[],selectedMaster:[SelectedSpecification],needMultiSelect:false,primaryKeyField:\"nallottedspeccode\",getMasterDetail:function getMasterDetail(spec){return _this2.props.getComponentBySpecId(_objectSpread(_objectSpread({},getComponent),{},{selectedRecord:spec,historyDataState:_this2.state.historyDataState}),_this2.props.Login.masterData,_this2.searchRef);},mainField:\"sspecname\",selectedListName:\"testgroupspecification\",objectName:\"testgroupspecification\",listName:\"IDS_SPECIFICATION\",onFilterSumbit:this.onFilterSumbit,subFields:this.specSubField,actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_EDIT\"}),controlname:\"faPencilAlt\",objectName:\"testgroupspecification\",hidden:this.state.userRoleControlRights.indexOf(editSpecId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.props.addSpecification(\"update\",_objectSpread(_objectSpread({},editSpecParam),props),editSpecId);}},{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),controlname:\"faTrashAlt\",objectName:\"testgroupspecification\",hidden:this.state.userRoleControlRights.indexOf(deleteSpecId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return confirmMessage.confirm(\"deleteMessage\",_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this2.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this2.props.intl.formatMessage({id:\"IDS_OK\"}),_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this2.deleteSpecRecord(_objectSpread(_objectSpread({props:props},specDeleteParam),{},{selectedRecord:SelectedSpecification,ncontrolCode:deleteSpecId}));});}}],needFilter:false,commonActions:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addSpecId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})//  data-for=\"tooltip-list-wrap\"\n,onClick:function onClick(){return _this2.props.addSpecification(\"create\",_objectSpread({},addSpecParam),addSpecId,_this2.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus// title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\n}))),hideSearch:false,hidePaging:true}),SelectedSpecification&&SelectedSpecification.ncomponentrequired===transactionStatus.YES&&/*#__PURE__*/React.createElement(TransationListMaster,{notSearchable:true,titleHead:this.props.intl.formatMessage({id:\"IDS_COMPONENT\"}),titleClasses:\"title_grp_custom fixed_ico_list\",masterList:TestGroupSpecSampleType||[],selectedMaster:[SelectedComponent],needMultiSelect:false,primaryKeyField:\"nspecsampletypecode\",getMasterDetail:function getMasterDetail(event){return _this2.componentRowClick(event);},mainField:\"scomponentname\",selectedListName:\"testgroupspecsampletype\",objectName:\"testgroupspecsampletype\",listName:\"IDS_COMPONENT\",actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),// data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\ncontrolname:\"faTrashAlt\",objectName:\"testgroupspecsampletype\",hidden:this.state.userRoleControlRights.indexOf(deleteComponentId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return confirmMessage.confirm(\"deleteMessage\",_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this2.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this2.props.intl.formatMessage({id:\"IDS_OK\"}),_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this2.deleteMultipleRecord({props:props,ncontrolCode:deleteComponentId});});}}],commonActions:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addComponentId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})//  data-for=\"tooltip-list-wrap\"\n// title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\n,onClick:function onClick(){return _this2.props.addComponent(SelectedSpecification,_this2.props.Login.userInfo,addComponentId,_this2.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus// title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} \n}))),hidePaging:true})))),/*#__PURE__*/React.createElement(React.Fragment,null,this.state.testView?/*#__PURE__*/React.createElement(React.Fragment,null,specDesign,this.state.showTest?/*#__PURE__*/React.createElement(\"div\",null,mainDesign):\"\"):/*#__PURE__*/React.createElement(PerfectScrollbar,null,specDesign,this.state.showTest?/*#__PURE__*/React.createElement(\"div\",null,mainDesign):\"\")))))),this.props.Login.openModal&&this.props.Login.screenName&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,className:this.props.Login.screenName===\"IDS_VIEWRULE\"?\"wide-popup\":\"\",operation:this.props.Login.screenName===\"IDS_VIEWRULE\"||this.props.Login.screenName===\"IDS_VIEWOUTCOME\"?\"\":this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName===\"IDS_VIEWRULE\"||this.props.Login.screenName===\"IDS_VIEWOUTCOME\"?this.props.intl.formatMessage({id:this.props.Login.screenName})+\" - \"+this.props.Login.masterData.SelectedTest.stestsynonym:this.props.Login.screenName,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,onSaveClick:this.onSaveClick,hideSave:this.props.Login.screenName===\"IDS_VIEWRULE\"||this.props.Login.screenName===\"IDS_VIEWOUTCOME\"||this.props.Login.screenName===\"IDS_SUBCODERESULT\"?true:false,size:this.props.Login.screenName===\"IDS_VIEWRULE\"||this.props.Login.screenName===\"IDS_VIEWOUTCOME\"?'xl':\"lg\",selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.screenName===\"IDS_SPECFILE\"?this.findMandatoryFields(this.props.Login.screenName,this.state.selectedRecord):this.props.Login.screenName===\"IDS_SPECIFICATION\"?specMandatoryFields:this.props.Login.screenName===\"IDS_COMPONENT\"?compMandatoryFields:this.props.Login.screenName===\"IDS_EDITTESTGROUPTEST\"?editTestMandatoryFields:this.props.Login.screenName===\"IDS_TEST\"?addTestMandatoryFields:this.props.Login.screenName===\"IDS_PROFILETREE\"||this.props.Login.screenName===\"IDS_EDITTREE\"?this.props.Login.treeMandatoryFields:[],addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onEsignInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_SPECIFICATION\"?/*#__PURE__*/React.createElement(AddTestGroupSpecification,{selectedRecord:this.state.selectedRecord||{},timeZoneList:this.props.Login.timeZoneList,onInputOnChange:this.onInputOnChange,handleDateChange:this.handleDateChange,onComboChange:this.onComboChange,screenName:this.props.Login.screenName,operation:this.props.Login.operation,userInfo:this.props.Login.userInfo,nsampletypecode:this.props.Login.masterData.selectedNode.nsampletypecode,settings:this.props.Login.settings,tempFilterData:this.state.tempFilterData}):this.props.Login.screenName===\"IDS_COMPONENT\"?/*#__PURE__*/React.createElement(AddTestGroupTest,{selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.Login.testGroupInputData,screenName:this.props.Login.screenName,onComboChange:this.onComboChange,onFilterComboChange:this.onFilterComboChange}):this.props.Login.screenName===\"IDS_SUBCODERESULT\"?/*#__PURE__*/React.createElement(ViewSubCodedResult,{selectedRecord:this.state.selectedsubcoderesult||{},selectedsubcoderesult:this.props.Login.selectedsubcoderesult||[],screenName:this.props.Login.screenName,onComboChange:this.onComboChange,onFilterComboChange:this.onFilterComboChange}):this.props.Login.screenName===\"IDS_PROFILETREE\"?/*#__PURE__*/React.createElement(AddProfileTree,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,treetempTranstestGroup:this.props.Login.TreetempTranstestGroup}):this.props.Login.screenName===\"IDS_SPECFILE\"?/*#__PURE__*/React.createElement(AddFile,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,actionType:this.state.actionType,onDrop:this.onDropSpecFile,deleteAttachment:this.deleteAttachment,linkMaster:this.props.Login.linkMaster,editFiles:this.props.Login.editFiles,maxSize:20,maxFiles:this.props.Login.operation===\"update\"?1:1,multiple:this.props.Login.operation===\"update\"?false:true,label:this.props.intl.formatMessage({id:\"IDS_SPECFILE\"}),hideDefaultToggle:true,name:\"specfilename\"}):this.props.Login.screenName===\"IDS_EDITTREE\"?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormInput,{name:\"sleveldescription\",label:this.state.selectedRecord.slabelname,type:\"text\",onChange:function onChange(event){return _this2.onInputOnChange(event,1);},placeholder:this.state.selectedRecord.slabelname,value:this.state.selectedRecord?this.state.selectedRecord[\"sleveldescription\"]:\"\",isMandatory:\"*\",required:true,maxLength:100}))):this.props.Login.screenName===\"IDS_TEST\"?/*#__PURE__*/React.createElement(AddTestGroupTest,{selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.Login.testGroupInputData,screenName:this.props.Login.screenName,onComboChange:this.onComboChange,onFilterComboChange:this.onFilterComboChange}):this.props.Login.screenName===\"IDS_EDITTESTGROUPTEST\"?/*#__PURE__*/React.createElement(EditTestGroupTest,{selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.Login.testGroupInputData,onComboChange:this.onComboChange,onInputOnChange:this.onInputOnChange,onNumericInputChange:this.onNumericInputChange}):this.props.Login.screenName===\"IDS_VIEWRULE\"?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(OrgTree,{data:this.ruleflowobject(),horizontal:true,collapsable:true,expandAll:true,labelClassName:\"ruletree\"}))):this.props.Login.screenName===\"IDS_VIEWOUTCOME\"?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},this.props.Login.masterData.SelectedRulesEngine&&/*#__PURE__*/React.createElement(CustomTab,{tabDetail:this.tabDetailRulesEngine(),onTabChange:this.onTabChangeRulesEngine}))):\"\"}),this.props.Login.openPortalModal&&/*#__PURE__*/React.createElement(PortalModalSlideout,{show:this.props.Login.openPortalModal,closeModal:this.closePortalModal,screenName:this.props.intl.formatMessage({id:this.props.Login.screenName})+\" - \"+this.props.Login.masterData.SelectedTest.stestsynonym,handleSaveClick:this.save,addComponent:(this.props.Login.operation==='update'?this.state.selectedRecord['groupList']:true)&&/*#__PURE__*/React.createElement(AddTestGroupRule,{productCategoryList:this.state.ProductCategoryList||[],selectedRecord:this.state.selectedRecord||{},databaseTableList:this.props.Login.databaseTableList,tableColumnList:this.state.tableColumnList,specificationOptions:this.state.TestGroupSpecificationList||[],componentOptions:this.state.ComponentList||[],foreignTableList:this.state.foreignTableList||[],foreignTableColumnList:this.props.Login.foreignTableColumnList||[],count:this.state.count,foreignTableCount:this.state.foreignTableCount,sqlQuery:this.state.sqlQuery,userInfo:this.props.Login.userInfo,onInputChange:this.onInputChange,deleteRule:this.deleteRule,clearRule:this.clearRule,resetRule:this.resetRule,onSymbolChange:this.onSymbolChange,onRuleChange:this.onRuleChange,addRule:this.addRule,addTest:this.addTest,onConditionClick:this.onConditionClick,onMasterDataChange:this.onMasterDataChange,databaseviewList:this.props.Login.databaseviewList,addRuleList:this.props.Login.addRuleList||[],rulesOption:this.props.Login.masterData.rulesOption&&this.props.Login.masterData.rulesOption.filter(this.outComeTestsRemoveFromRules),masterdata:this.props.Login.masterdata,switchRecord:this.state.switchRecord,data:this.state.data,dataResult:this.state.dataResult||[],dataState:this.state.dataState,dataStateChange:this.dataStateChange,userRoleControlRights:this.state.userRoleControlRights,gridColumnList:this.props.Login.gridColumnList||[],queryType:this.state.queryType,addAggregateList:this.props.Login.addAggregateList||[],addOrderbyList:this.props.Login.addOrderbyList||[],addGroup:this.addGroup,addGroupList:this.props.Login.addGroupList||[],onFilterComboChange:this.onFilterComboChange,selectFields:this.props.Login.selectFields||[],SelectedProductCategory:this.props.Login.masterData.SelectedProductCategory,DiagnosticCaseList:this.props.Login.masterData.DiagnosticCaseList,GradeList:this.props.Login.masterData.GradeList,PredefinedParameterOptions:this.props.Login.masterData.PredefinedParameterOptions,siteList:this.props.Login.masterData.siteList,resultTypeList:this.props.Login.masterData.resultTypeList,isResultorOrderType:this.state.isResultorOrderType,optionsByRule:this.state.optionsByRule||this.props.Login.masterData.DiagnosticCaseList,changePropertyView:this.changePropertyView,splitChangeWidthPercentage:this.state.splitChangeWidthPercentage,activeTabIndex:this.props.Login.activeTabIndex,enablePropertyPopup:this.state.enablePropertyPopup,propertyPopupWidth:this.state.propertyPopupWidth,controlMap:this.state.controlMap,sectionDataState:this.state.sectionDataState,masterData:this.props.Login.masterData,intl:this.props.intl,addOutcomeList:this.props.Login.addOutcomeList&&this.props.Login.addOutcomeList||[],deleteOutcome:this.deleteOutcome,onmodalComboChange:this.onmodalComboChange,openModalPopup:this.props.Login.openModalPopup,closeModalShow:this.closeModalShow,modalsaveClick:this.modalsaveClick,getOutcomeDetails:this.getOutcomeDetails,addModalSite:this.addModalSite,action:this.props.Login.action,deletModalSite:this.deletModalSite,deleteModalTest:this.deleteModalTest,activeTestTab:this.props.Login.activeTestTab,testcomments:this.props.Login.testcomments,reportcomments:this.props.Login.reportcomments,addComments:this.addComments,CommentType:this.props.Login.CommentType,CommentSubType:this.props.Login.CommentSubType,isneedsgeneralcomments:this.state.isneedsgeneralcomments,predefcomments:this.props.Login.predefcomments,needoutsource:this.state.selectedRecord['needoutsource']&&this.state.selectedRecord['needoutsource']===3?true:false,openmodalsavePopup:this.props.Login.openmodalsavePopup,save:this.save,dataStateObject:this.state.dataStateObject,paneSizeChange:this.paneSizeChange,testInitiateTestCombo:this.props.Login.testInitiateTestCombo&&this.viewColumnListByRule(this.props.Login.testInitiateTestCombo),testCommentsTestCombo:this.props.Login.testCommentsTestCombo&&this.viewColumnListByRule(this.props.Login.testCommentsTestCombo),testRepeatTestCombo:this.props.Login.testRepeatTestCombo&&this.viewColumnListByRule(this.props.Login.testRepeatTestCombo),testenforceTestCombo:this.props.Login.testenforceTestCombo&&this.props.Login.testenforceTestCombo,dataStateChangetestRepeat:this.dataStateChangetestRepeat,dataStateChangetestEnforce:this.dataStateChangetestEnforce,dataStatetestEnforce:this.state.dataStatetestEnforce,dataStatetestRepeat:this.state.dataStatetestRepeat,testGroupTestParameterRulesEngine:this.props.Login.masterData.testGroupTestParameterRulesEngine,onRuleInputChange:this.onRuleInputChange,onRuleNumericInputOnChange:this.onRuleNumericInputOnChange})}));}},{key:\"findMandatoryFields\",value:function findMandatoryFields(screenName,selectedRecord){var mandyFields=[];if(screenName===\"IDS_SPECFILE\"){if(selectedRecord&&selectedRecord.nattachmenttypecode===attachmentType.LINK){mandyFields=[{\"idsName\":\"IDS_FILENAME\",\"dataField\":\"slinkfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"},{\"idsName\":\"IDS_LINKNAME\",\"dataField\":\"nlinkcode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];}else{//if (this.props.Login.operation === 'update') {\nmandyFields=[{\"idsName\":\"IDS_FILE\",\"dataField\":\"sfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"}];// }\n}}else{return[];}var finalMandyFields=[];mandyFields.forEach(function(item){return item.mandatory===true&&finalMandyFields.push(item);});return finalMandyFields;}},{key:\"showSpecAndTestInfo\",value:function showSpecAndTestInfo(){this.setState({showTest:!this.state.showTest,testView:false});this.updateSpiltterLayout();}},{key:\"showSpecAndTestInfo1\",value:function showSpecAndTestInfo1(){this.setState({showTest:!this.state.showTest,testView:true});//this.updateSpiltterLayout()\n}},{key:\"ruleflowobject\",value://Rules Engine Functions Start\nfunction ruleflowobject(){var _this3=this;var object={};var labelColor=['#e63109','#2fb47d','#eaa203','#6554c0'];var labelBGColor=['#fcd7cd','#e5f8f1','#fcf3dd','#e7e6f5'];var borderColor=['#e6310','#c6f6e4','#fde2a4','#cbc5f7'];var groupList=this.props.Login.masterData.SelectedRulesEngine['jsondata'];var groupListJoins=this.props.Login.masterData.SelectedRulesEngine['jsonuidata']&&this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['groupListJoins'];var children=[];var parent=[];var grandparent=[];groupList.map(function(groupobject,index){if(groupobject.hasOwnProperty('button_or')){children=[];var rulesList=groupobject['button_or'];rulesList.map(function(rule,index){children.push({id:index,label:/*#__PURE__*/React.createElement(React.Fragment,null,rule['stestname'].label+\" -> \"+rule['orderresulttype'].label+\" -> \"+rule['ssymbolname'].label+\" -> \"+(rule['ndiagnosticcasecode']&&rule['ndiagnosticcasecode'].label||rule['ngradecode']&&rule['ngradecode'].label||rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']||rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label))});});if(groupList.length===1?rulesList.length>1:true){parent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_OR\"})),children:children});}}if(groupobject.hasOwnProperty('button_and')){children=[];var _rulesList=groupobject['button_and'];_rulesList.map(function(rule,index){children.push({id:index,label:/*#__PURE__*/React.createElement(React.Fragment,null,rule['stestname'].label+\" -> \"+rule['orderresulttype'].label+\" -> \"+rule['ssymbolname'].label+\" -> \"+(rule['ndiagnosticcasecode']&&rule['ndiagnosticcasecode'].label||rule['ngradecode']&&rule['ngradecode'].label||rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']||rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label))});});if(groupList.length===1?_rulesList.length>1:true){parent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_AND\"})),children:children});}}if(groupobject.hasOwnProperty('button_not_button_and')){children=[];var _rulesList2=groupobject['button_not_button_and'];_rulesList2.map(function(rule,index){children.push({id:index,label:/*#__PURE__*/React.createElement(React.Fragment,null,rule['stestname'].label+\" -> \"+rule['orderresulttype'].label+\" -> \"+rule['ssymbolname'].label+\" -> \"+(rule['ndiagnosticcasecode']&&rule['ndiagnosticcasecode'].label||rule['ngradecode']&&rule['ngradecode'].label||rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']||rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label))});});var notarray=[{id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_AND\"})),children:children}];if(groupList.length===1?_rulesList2.length>1:true){parent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_NOT\"})),children:notarray});}}if(groupobject.hasOwnProperty('button_not_button_or')){children=[];var _rulesList3=groupobject['button_not_button_or'];_rulesList3.map(function(rule,index){children.push({id:index,label:/*#__PURE__*/React.createElement(React.Fragment,null,rule['stestname'].label+\" -> \"+rule['orderresulttype'].label+\" -> \"+rule['ssymbolname'].label+\" -> \"+(rule['ndiagnosticcasecode']&&rule['ndiagnosticcasecode'].label||rule['ngradecode']&&rule['ngradecode'].label||rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']||rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label))});});var _notarray=[{id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_OR\"})),children:children}];if(groupList.length===1?_rulesList3.length>1:true){parent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_NOT\"})),children:_notarray});}}});if(groupListJoins!==undefined){groupListJoins.map(function(join,index){var parentjoins=[];if(join.hasOwnProperty('button_or')&&join['button_or']===true){var notarray=[];parentjoins.push(parent[index]);parentjoins.push(parent[index+1]);if(join.hasOwnProperty('button_not')&&join['button_not']===true){notarray=[{id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_OR\"}),\" \")// 'button_or'\n,children:parentjoins}];grandparent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_NOT\"}),\" \")// 'button_or'\n,children:notarray});}else{grandparent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_OR\"}),\" \")// 'button_or'\n,children:parentjoins});}}if(join.hasOwnProperty('button_and')&&join['button_and']===true){var _notarray2=[];parentjoins.push(parent[index]);parentjoins.push(parent[index+1]);if(join.hasOwnProperty('button_not')&&join['button_not']===true){_notarray2=[{id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_AND\"}),\" \")// 'button_or'\n,children:parentjoins}];grandparent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_NOT\"}),\" \")// 'button_or'\n,children:_notarray2});}else{grandparent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_AND\"}))// 'button_and'\n,children:parentjoins});}}});}object=grandparent.length>0?{id:0,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},this.props.Login.masterData.SelectedRulesEngine.srulename,\" \"),children:grandparent}:{id:0,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},this.props.Login.masterData.SelectedRulesEngine.srulename,\" \"),children:parent.length!==0?parent:children};return object;}},{key:\"handleClickDelete\",value:function handleClickDelete(masterData,ncontrolcode//, modalName\n){var fieldArray=[];var inputParam={methodUrl:\"TestGroupRulesEngine\",classUrl:\"testgrouprulesengine\",inputData:{\"ntestgrouptestcode\":this.props.Login.masterData.SelectedTest.ntestgrouptestcode,\"ntestgrouprulesenginecode\":this.props.Login.masterData.SelectedRulesEngine.ntestgrouprulesenginecode,\"userinfo\":this.props.Login.userInfo},operation:\"delete\",//postParam,\ndisplayName:\"RulesEngine\"};if(showEsign(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode,ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},// [modalName]: true,\noperation:'delete',screenName:\"IDS_RULESENGINE\",id:\"RulesEngine\"}};this.props.updateStore(updateInfo);}else{this.props.crudMaster(inputParam,masterData,undefined);}}},{key:\"approveVersion\",value:function approveVersion(masterData,nflag,ncontrolcode//, modalName\n){if(masterData['RulesEngine']&&masterData['RulesEngine'].length>0){var fieldArray=[];var inputParam={methodUrl:\"TestGroupRulesEngine\",classUrl:\"testgrouprulesengine\",inputData:{\"ntestgrouptestcode\":this.props.Login.masterData.SelectedTest.ntestgrouptestcode,\"ntestgrouprulesenginecode\":this.props.Login.masterData.SelectedRulesEngine.ntestgrouprulesenginecode,\"userinfo\":this.props.Login.userInfo,nflag:nflag},operation:\"approve\",//postParam,\ndisplayName:\"RulesEngine\"};if(showEsign(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode,ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},// [modalName]: true,\noperation:'delete',screenName:\"IDS_RULESENGINE\",id:\"RulesEngine\"}};this.props.updateStore(updateInfo);}else{this.props.crudMaster(inputParam,masterData,undefined);}}else{if(nflag==1){toast.warn(this.props.intl.formatMessage({id:\"IDS_SELECTRULETOAPPROVE\"}));}else{toast.warn(this.props.intl.formatMessage({id:\"IDS_SELECTRULETORETIRE\"}));}}}},{key:\"clearSelectedRule\",value:function clearSelectedRule(selectedRecord,index){selectedRecord[\"sinputname_\"+index]&&delete selectedRecord[\"sinputname_\"+index];selectedRecord[\"ssymbolname_\"+index]&&delete selectedRecord[\"ssymbolname_\"+index];selectedRecord[\"snumericinput_\"+index]&&delete selectedRecord[\"snumericinput_\"+index];selectedRecord[\"columnname_\"+index]&&delete selectedRecord[\"columnname_\"+index];selectedRecord[\"snumericinputtwo_\"+index]&&delete selectedRecord[\"snumericinputtwo_\"+index];selectedRecord[\"dateinput_\"+index]&&delete selectedRecord[\"dateinput_\"+index];selectedRecord[\"dateinputtwo_\"+index]&&delete selectedRecord[\"dateinputtwo_\"+index];}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(filterData){if(filterData&&Object.values(filterData).length>0&&filterData.nsampletypecode&&filterData.nsampletypecode.item){// if (filterData.nsampletypecode && filterData.nproductcatcode \n//     && filterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.YES \n//     && filterData.nsampletypecode.item.ncategorybasedflowrequired == transactionStatus.NO) \nif(filterData.nsampletypecode&&filterData.nsampletypecode.item.ncategorybasedflowrequired==transactionStatus.YES?true:filterData.nproductcatcode&&filterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.YES?true:false){this.breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":filterData.nsampletypecode?filterData.nsampletypecode.label:\"\"},{\"label\":filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY?\"IDS_PRODUCTCATEGORY\":filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY?\"IDS_INSTRUMENTCATEGORY\":filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY?\"IDS_MATERIALCATEGORY\":\"\",\"value\":filterData.nproductcatcode?filterData.nproductcatcode.label:\"\"},{\"label\":\"IDS_TREETEMPLATEVERSION\",\"value\":filterData.ntreeversiontempcode?filterData.ntreeversiontempcode.label:\"\"}];if(filterData.nsampletypecode.value===SampleType.PROJECTSAMPLETYPE){if(filterData.nsampletypecode.item.nprojectspecrequired===transactionStatus.YES){this.breadCrumbData.push({\"label\":\"IDS_PROJECTTYPE\",\"value\":filterData.nprojecttypecode?filterData.nprojecttypecode.label:\"\"},{\"label\":\"IDS_PROJECT\",\"value\":filterData.nprojectmastercode?filterData.nprojectmastercode.label:\"\"});}}}else{this.breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":filterData.nsampletypecode?filterData.nsampletypecode.label:\"\"},{\"label\":filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY?\"IDS_PRODUCTCATEGORY\":filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY?\"IDS_INSTRUMENTCATEGORY\":filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY?\"IDS_MATERIALCATEGORY\":\"\",\"value\":filterData.nproductcatcode?filterData.nproductcatcode.label:\"\"},{\"label\":filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY?\"IDS_PRODUCT\":filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY?\"IDS_INSTRUMENT\":filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY?\"IDS_MATERIAL\":\"\",\"value\":filterData.nproductcode?filterData.nproductcode.label:\"\"},{\"label\":\"IDS_TREETEMPLATEVERSION\",\"value\":filterData.ntreeversiontempcode?filterData.ntreeversiontempcode.label:\"\"}];if(filterData.nsampletypecode.value===SampleType.PROJECTSAMPLETYPE){if(filterData.nsampletypecode.item.nprojectspecrequired===transactionStatus.YES){this.breadCrumbData.push({\"label\":\"IDS_PROJECTTYPE\",\"value\":filterData.nprojecttypecode?filterData.nprojecttypecode.label:\"\"},{\"label\":\"IDS_PROJECT\",\"value\":filterData.nprojectmastercode?filterData.nprojectmastercode.label:\"\"});}}}}else{this.breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":filterData&&filterData.nsampletypecode?filterData.nsampletypecode.label:\"\"}];}}},{key:\"updateSpiltterLayout\",value:function updateSpiltterLayout(){var _this4=this;if(this.myRef&&this.myRef.current&&this.myRef.current.clientHeight+20!==this.state.fixefScrollHeight){this.setState({fixefScrollHeight:this.myRef.current.clientHeight+20,disableSplit:true});console.log(this.myRef.current.clientHeight);setTimeout(function(){_this4.setState({disableSplit:false});});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps,previousState){var selectedRecord=this.state.selectedRecord;var selectedsubcodedresult=this.state.selectedsubcodedresult;var selectsubcodedelete=this.state.selectsubcodedelete;var filterData=this.state.filterData||{};var isStateChanged=false;var activeTabIndex=this.props.Login.activeTabIndex||0;var activeTabId=this.props.Login.activeTabId||false;this.updateSpiltterLayout();var tempFilterData=this.state.tempFilterData||{};if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;isStateChanged=true;}if(this.props.Login.selectedsubcodedresult!==previousProps.Login.selectedsubcodedresult){selectedsubcodedresult=this.props.Login.selectedsubcodedresult;//selectedsubcodedresult = this.state.selectedsubcodedresult;\nisStateChanged=true;}if(this.props.Login.selectsubcodedelete!==previousProps.Login.selectsubcodedelete){selectsubcodedelete=this.props.Login.selectsubcodedelete;//selectedsubcodedresult = this.state.selectedsubcodedresult;\nisStateChanged=true;}if(this.props.Login.activeTabIndex!==previousProps.Login.activeTabIndex||this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.activeTabIndex!==previousProps.Login.activeTabIndex){activeTabIndex=this.props.Login.activeTabIndex;activeTabId=this.props.Login.activeTabId;isStateChanged=true;// this.setState({\n//     activeTabIndex,\n//     activeTabId\n// });\n}}if(this.props.Login.tempFilterData!==previousProps.Login.tempFilterData){tempFilterData=this.props.Login.tempFilterData||{};isStateChanged=true;}var sampleType=this.state.sampleType||[];if(this.props.Login.masterData.SampleType!==previousProps.Login.masterData.SampleType){var sampleTypeMap=constructOptionList(this.props.Login.masterData.SampleType||[],\"nsampletypecode\",\"ssampletypename\",\"nsorter\",\"ascending\",false);sampleType=sampleTypeMap.get(\"OptionList\");tempFilterData[\"nsampletypecode\"]=sampleType.length?sampleType[0]:\"\";isStateChanged=true;}var productCategory=this.state.productCategory||[];if(this.props.Login.masterData.ProductCategory!==previousProps.Login.masterData.ProductCategory){var productCatMap=constructOptionList(this.props.Login.masterData.ProductCategory||[],\"nproductcatcode\",\"sproductcatname\",\"nproductcatcode\",\"ascending\",false);productCategory=productCatMap.get(\"OptionList\");tempFilterData[\"nproductcatcode\"]=productCategory.length>0?productCategory[0]:\"\";isStateChanged=true;}var product=this.state.product||[];if(this.props.Login.masterData.Product!==previousProps.Login.masterData.Product){var productMap=constructOptionList(this.props.Login.masterData.Product||[],\"nproductcode\",\"sproductname\",\"nproductcode\",\"ascending\",false);product=productMap.get(\"OptionList\");tempFilterData[\"nproductcode\"]=product.length>0?product[0]:undefined;isStateChanged=true;}var projectType=this.state.projectType||[];if(this.props.Login.masterData.ProjectTypeList!==previousProps.Login.masterData.ProjectTypeList){var projectTypeMap=constructOptionList(this.props.Login.masterData.ProjectTypeList||[],\"nprojecttypecode\",\"sprojecttypename\",\"nprojecttypecode\",\"ascending\",false);projectType=projectTypeMap.get(\"OptionList\");tempFilterData[\"nprojecttypecode\"]=projectType.length>0?projectType[0]:undefined;isStateChanged=true;}var project=this.state.project||[];if(this.props.Login.masterData.ProjectMasterList!==previousProps.Login.masterData.ProjectMasterList){var projectMasterMap=constructOptionList(this.props.Login.masterData.ProjectMasterList||[],\"nprojectmastercode\",\"sprojectcode\",\"nprojectmastercode\",\"ascending\",false);project=projectMasterMap.get(\"OptionList\");tempFilterData[\"nprojectmastercode\"]=project.length>0?project[0]:undefined;isStateChanged=true;}var treeVersionTemplate=this.state.treeVersionTemplate||[];if(this.props.Login.masterData.TreeVersionTemplate!==previousProps.Login.masterData.TreeVersionTemplate){var templateMap=constructOptionList(this.props.Login.masterData.TreeVersionTemplate||[],\"ntreeversiontempcode\",\"sversiondescription\",\"ntreeversiontempcode\",\"ascending\",false);treeVersionTemplate=templateMap.get(\"OptionList\");tempFilterData[\"ntreeversiontempcode\"]=treeVersionTemplate.length>0?treeVersionTemplate[treeVersionTemplate.length-1]:\"\";isStateChanged=true;}// if (this.props.Login.masterData.TestGroupTestParameter && this.props.Login.masterData.TestGroupTestParameter !== previousProps.Login.masterData.TestGroupTestParameter) {\n//     sortData(this.props.Login.masterData.TestGroupTestParameter, \"ascending\", \"nsorter\");\n// }\n// if (this.props.Login.masterData.TestGroupTesT && this.props.Login.masterData.TestGroupTesT !== previousProps.Login.masterData.TestGroupTesT) {\n//     sortData(this.props.Login.masterData.TestGroupTesTest, \"ascending\", \"nsorter\");\n// }\nvar userRoleControlRights=this.state.userRoleControlRights||[];var controlMap=this.state.controlMap||[];if(this.props.Login.userInfo&&this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var nformCode=this.props.Login.userInfo.nformcode;if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[nformCode]&&Object.values(this.props.Login.userRoleControlRights[nformCode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,nformCode);filterData=_objectSpread({},tempFilterData);this.generateBreadCrumData(filterData);}if(this.props.Login.filterData!==previousProps.Login.filterData){filterData=_objectSpread({},this.props.Login.filterData);this.generateBreadCrumData(filterData);isStateChanged=true;}else{this.generateBreadCrumData(filterData);}// else if (filterData !== previousState.filterData) {\n//     filterData = { ...tempFilterData };\n//     this.generateBreadCrumData(filterData);\n// }\nvar historyDataState=this.state.historyDataState;if(this.props.Login.historyDataState&&this.props.Login.historyDataState!==previousProps.Login.historyDataState){historyDataState=this.props.Login.historyDataState;isStateChanged=true;}var _this$state=this.state,testskip=_this$state.testskip,testtake=_this$state.testtake;if(this.props.Login.masterData!==previousProps.Login.masterData){testskip=this.props.Login.testskip===undefined?testskip:this.props.Login.testskip;testtake=testtake?testtake:this.props.Login.testtake;isStateChanged=true;}var _this$state2=this.state,skipRulesEngine=_this$state2.skipRulesEngine,takeRulesEngine=_this$state2.takeRulesEngine;if(this.props.Login.masterData!==previousProps.Login.masterData){skipRulesEngine=this.props.Login.skipRulesEngine===undefined?skipRulesEngine:this.props.Login.skipRulesEngine;takeRulesEngine=takeRulesEngine?takeRulesEngine:this.props.Login.takeRulesEngine;isStateChanged=true;}if(isStateChanged){this.setState({selectedRecord:selectedRecord,tempFilterData:tempFilterData,filterData:filterData,userRoleControlRights:userRoleControlRights,controlMap:controlMap,sampleType:sampleType,productCategory:productCategory,product:product,treeVersionTemplate:treeVersionTemplate,historyDataState:historyDataState,testskip:testskip,testtake:testtake,projectType:projectType,project:project,activeTabIndex:activeTabIndex,activeTabId:activeTabId,skipRulesEngine:skipRulesEngine,takeRulesEngine:takeRulesEngine,selectedsubcodedresult:selectedsubcodedresult,selectsubcodedelete:selectsubcodedelete});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return TestGroup;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,filterTestGroup:filterTestGroup,createTree:createTree,editTree:editTree,sampleTypeOnChange:sampleTypeOnChange,getTestGroupDetails:getTestGroupDetails,validateEsignCredential:validateEsignCredential,updateStore:updateStore,addSpecification:addSpecification,getSpecification:getSpecification,addComponent:addComponent,changeTestCategory:changeTestCategory,addTestGroupTest:addTestGroupTest,editTestGroupTest:editTestGroupTest,getTestGroupParameter:getTestGroupParameter,editTestGroupParameter:editTestGroupParameter,addTestFile:addTestFile,editSpecFile:editSpecFile,getSpecificationDetails:getSpecificationDetails,addTestGroupCodedResult:addTestGroupCodedResult,getComponentBySpecId:getComponentBySpecId,filterColumnData:filterColumnData,viewAttachment:viewAttachment,viewTestGroupCheckList:viewTestGroupCheckList,getTestGroupComponentDetails:getTestGroupComponentDetails,filterTransactionList:filterTransactionList,reportSpecification:reportSpecification,retireSpecification:retireSpecification,getDataForTestMaterial:getDataForTestMaterial,getEditTestGroupRulesEngine:getEditTestGroupRulesEngine,getMaterialCategoryBasedMaterialType:getMaterialCategoryBasedMaterialType,getMaterialBasedMaterialCategory:getMaterialBasedMaterialCategory,getTestGroupMaterial:getTestGroupMaterial,getDataForEditTestMaterial:getDataForEditTestMaterial,addTestGroupNumericTab:addTestGroupNumericTab,getTestGroupRulesEngineAdd:getTestGroupRulesEngineAdd,getSelectedTestGroupRulesEngine:getSelectedTestGroupRulesEngine,getParameterRulesEngine:getParameterRulesEngine,getParameterResultValue:getParameterResultValue,subCodedResultView:subCodedResultView,saveExecutionOrder:saveExecutionOrder})(injectIntl(TestGroup));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/testgroup/TestGroup.jsx"],"names":["React","Component","connect","injectIntl","rsapi","toast","Row","Col","Card","Button","Nav","PerfectScrollbar","FontAwesomeIcon","faPencilAlt","faPlus","faSync","SplitterLayout","faEye","faTrashAlt","process","DataGrid","OrgTree","SlideOutModal","Esign","callService","crudMaster","filterTestGroup","createTree","editTree","getTestGroupDetails","sampleTypeOnChange","validateEsignCredential","updateStore","addSpecification","getSpecification","addComponent","changeTestCategory","addTestGroupTest","editTestGroupTest","getTestGroupParameter","editTestGroupParameter","addTestFile","editSpecFile","getSpecificationDetails","addTestGroupCodedResult","getComponentBySpecId","filterColumnData","viewAttachment","viewTestGroupCheckList","getTestGroupComponentDetails","filterTransactionList","reportSpecification","retireSpecification","getDataForTestMaterial","getMaterialCategoryBasedMaterialType","getMaterialBasedMaterialCategory","getTestGroupMaterial","getDataForEditTestMaterial","addTestGroupNumericTab","getTestGroupRulesEngineAdd","getEditTestGroupRulesEngine","getSelectedTestGroupRulesEngine","getParameterRulesEngine","getParameterResultValue","subCodedResultView","saveExecutionOrder","constructOptionList","formatInputDate","create_UUID","deleteAttachmentDropZone","filterRecordBasedOnTwoArrays","getControlMap","onDropAttachFileList","showEsign","sortData","Lims_JSON_stringify","TestGroupTestTab","AddTestGroupSpecification","DEFAULT_RETURN","transactionStatus","REPORTTYPE","attachmentType","formCode","designProperties","parameterType","SampleType","AddTestGroupTest","AddProfileTree","SampleFilter","AddFile","AdvFilter","SpecificationHistory","TestGroupSpecFile","SpecificationInfo","CustomTab","TransationListMaster","TransationListMasterView","FormTreeMenu","FormInput","ConfirmMessage","BreadcrumbComponent","testMoreFields","testSubFields","searchFieldList","specificationColumnList","componentColumnList","addTestColumnList","editTestColumnList","EditTestGroupTest","ContentPanel","SearchAdd","ListWrapper","ProductList","TransactionListMasterJsonView","PortalModalSlideout","AddTestGroupRule","ViewSubCodedResult","TestGroup","props","reloadData","filterData","Login","state","nsampletypecode","undefined","warn","intl","formatMessage","id","nproductcatcode","item","nformcode","PRODUCTCATEGORY","INSTRUMENTCATEGORY","MATERIALCATEGORY","nproductcode","ncategorybasedflow","NO","ncategorybasedflowrequired","ntreeversiontempcode","inputParam","inputData","userinfo","userInfo","YES","value","nprojectmastercode","historyDataState","masterData","searchRef","ConfirmDelete","obj","confirmMessage","confirm","deleteRecord","handlePageChange","event","setState","testskip","skip","testtake","take","viewTestFile","viewParam","operation","methodUrl","classUrl","ntestgroupfilecode","selectedTest","testgroupspecification","SelectedSpecification","ntestgrouptestcode","fileViewIcon","master","nlinkcode","NA","linkViewIcon","onFilterSumbit","tempFilterData","PROJECTSAMPLETYPE","nprojectspecrequired","onTreeClick","screenName","keyName","selectedRecord","activeKey","key","focusKey","primaryKey","tabDetail","tabMap","Map","set","controlMap","userRoleControlRights","addFile","defaultRecord","settings","TestGroupSpecificationHistory","historyDataStateChange","dataResult","dataState","specDataStateChange","TestGroupTestClinicalSpec","clinicalspecDataState","ncontrolCode","modalName","nflag","treeVersionTemplateIndex","findIndex","x","selectedNode","templateVersionStatus","ntransactionstatus","RETIRED","napprovalstatus","DRAFT","CORRECTION","onTabChange","tabProps","updateInfo","typeName","data","componentRowClick","testgroupspecsampletype","deleteTest","deleteParam","testgrouptest","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","fetchUrl","fecthInputObject","unchangeList","loadEsign","screenData","openModal","closeModal","onInputOnChange","caseNo","optional","target","type","name","checked","indexKey","Object","keys","values","treeData","npositioncode","nlevelno","sleveldescription","ntemptranstestgroupcode","schildnode","nnextchildcode","ntemplatemanipulationcode","isreadonly","slevelformat","treetemplatemanipulation","onEsignInputOnChange","onTabChangeRulesEngine","activeTabName","tabDetailRulesEngine","jsonuidata","SelectedRulesEngine","handleExpandChange","dataStatetestinitiate","dataStateChangetestinitiateTab","childListMap","dataStateChange","childListMap2","dataStaterepeatTab","dataStateChangeRepeatTab","dataStateChangenforceTab","ntestgrouptestparametercode","dataStateObject","dataStateChangetestRepeat","dataStatetestRepeat","dataStateChangetestEnforce","dataStatetestEnforce","dataStateChangeMain","dataResultMain","queryDataMain","dataStateMain","ConfirmDeleteRule","deleteId","length","handleClickDelete","closeModalShow","openModalPopup","onsavevalidation","grouplist","hasAll","rules","i","j","PREDEFINED","CHARACTER","NUMERIC","every","prop","hasOwnProperty","save","siteObject","testCommentObject","reportCommentObject","PredefinedParameterOptions","testInitiateTests","testCommentsTests","reportCommentsTests","testRepeatTests","testenforceTests","testsInvolvedInRules","testsNameInvolvedInRules","action","groupList","outcomeList","addGroupList","testInitiateSiteTab","testCommentsTestsTab","reportCommentsTestsTab","SelectedTest","ruleEngineLayout","ruleEngineLayoutObject","groupRuleObject","map","List","push","stestname","console","log","JSON","stringify","displayName","info","openmodalsavePopup","onOutcomeChange","comboData","index","writtenRules","activeTabIndex","boolean","y","some","selectedTestRemove","outComeTestsRemoveFromRules","addTest","tabName","rulesOption","testInitiateTestCombo","testCommentsTestCombo","testRepeatTestCombo","testenforceTestCombo","filter","selectedTestTempArray","duplicatePresent","onRuleChange","fieldName","groupIndex","clearSelectedRule","nparametertypecode","onRuleInputChange","onRuleNumericInputOnChange","onMasterDataChange","isResultorOrderType","optionsByRule","DiagnosticCaseList","GradeList","label","addRule","viewColumnListByRule","arrayLength","viewColumnList","databaseviewList","paneSizeChange","d","splitChangeWidthPercentage","addComments","selectedParameterRulesEngine","testparameter","addModalSite","modalsaveClick","needoutsource","testInitiateTestsTemp","testCommentsTestsTemp","reportCommentsTestsTemp","testInitiateSiteTemp","testInitiateTestOptions","testCommentsTestOptions","reportCommentsTestOptions","testInitiateTestdeletedOptions","testCommentsTestdeletedOptions","reportCommentsTestdeletedOptions","npkAtestparametercode","npkBtestparametercode","npkCtestparametercode","npkDtestparametercode","isduplicate","Math","max","object","npKAsampletestcommentscode","nslno","ncommentsubtypecode","scommentsubtype","stestsynonym","ncommenttypecode","scommenttype","nsampletestcommentscode","spredefinedname","scomments","sdescription","stestparametersynonym","commentsArrayIndex","siteseqnumber","isalreadyExist","nfromsitecode","ntositecode","npksitecode","sfromsitename","stositename","deletModalSite","inputparam","row","temparray","splice","testRepeat","deleteModalTest","testRepeatTestsTab","testenforceTestsTab","testParameter","testParameterComments","onmodalComboChange","isneedsgeneralcomments","getSpecificationTestGroupRulesEngine","getComponentTestGroupRulesEngine","getOutcomeDetails","testParameterreportComments","childListMap1","childListMap3","keylst","parseInt","viewOutcome","forEach","openflowview","handlePageChangeRuleEngine","skipRulesEngine","takeRulesEngine","addGroup","selectFields","addRuleList","addAggregateList","addOrderbyList","closePortalModal","openPortalModal","count","changePropertyView","status","activeTabId","activeTestTab","window","innerWidth","enableAutoClick","testEnforceTests","deleteRule","deleteOutcome","addOutcomeList","clearRule","sviewname","sqlQuery","resetRule","onSymbolChange","oldSelectedRecord","onInputChange","list","dynamicList","onConditionClick","isgroup","changePropertyViewClose","onFilterComboChange","sampletype","productcategory","product","project","TestGroupSpecSampleType","testGroupInputData","testGroupSpecSampleType","SelectedComponent","testcategory","nallottedspeccode","nprojecttypecode","projecttype","handleDateChange","dateName","dateValue","Date","onNumericInputChange","onSaveClick","saveType","formRef","onSaveTree","onSaveSpecification","onSaveComponent","onSaveCopySpecification","onSaveTest","onSaveSpecFile","testArray","ntestcode","test","changeList","isSingleSelect","testgrouptestfile","testGroupFile","ntestfilecode","nattachmenttypecode","ssystemfilename","dcreateddate","nfilesize","sfilename","nstatus","ACTIVE","nsectioncode","nmethodcode","ninstrumentcatcode","ncontainertypecode","ncost","nsorter","nspecsampletypecode","nrepeatcountno","ActiveKey","TreetempTranstestGroup","tempArray","treeTemplateManip","temp","testGroupSpec","napproveconfversioncode","sversion","ncomponentrequired","sspecname","dexpirydate","ntzexpirydate","stzexpirydate","selectedspecification","ncomponentcode","acceptedFiles","isFileEdited","specFileArray","selectedSpecification","specFile","nspecfilecode","formData","FormData","FTP","Array","isArray","file","tempData","assign","splittedFileName","split","fileExtension","uniquefilename","trim","size","append","slinkfilename","slinkdescription","sformname","smodulename","isFileupload","deleteSpecRecord","componentDataState","deleteMultipleRecord","onDropSpecFile","attachedFiles","maxSize","actionType","deleteAttachment","validateTestGroupComplete","inputValue","post","then","response","inactiveTestArray","indexOf","completeSpecification","catch","error","message","retireSpec","approvalRoleActionDetail","retireSpecId","specificationReport","sprimarykeyname","ncontrolcode","nregtypecode","nregsubtypecode","nreportmodulecode","nreporttypecode","CONTROLBASED","nreportdecisiontypecode","certificatetypecode","selectedComponent","testGroupTest","TestGroupTest","approveSpecification","needEsign","onComboChange","schecklistversionname","validateEsign","sreason","nreasoncode","spredefinedreason","password","group","field","showTest","fixefScrollHeight","outerHeight","initialVerticalWidth","testView","paneHeight","componentBreadcrumbs","breadCrumbData","createRef","specSubField","VALUE","COLOUR","myRef","parentHeight","height","clientHeight","TestGroupSpecification","OpenNodes","FocusKey","searchedData","TestGroupTestParameter","AgaramTree","testGroupTestData","getComponent","addSpecParam","editSpecParam","specDeleteParam","addSpecId","has","get","addTreeId","editTreeId","deleteTreeId","editSpecId","deleteSpecId","addComponentId","deleteComponentId","addTestId","deleteTestId","editTestId","viewFileId","deleteTree","getTest","filterParam","filterParamRulesEngine","specMandatoryFields","compMandatoryFields","editTestMandatoryFields","addTestMandatoryFields","mandatory","splitNode","treeNodeNames","nodeItem","TreeTemplateManipulation","treeItem","scomponentname","specDesign","display","marginTop","float","marginRight","showSpecAndTestInfo1","ApprovalRoleActionDetail","testDesign","position","right","top","showSpecAndTestInfo","setting","title","controlname","objectName","hidden","onClick","needConditionalIcon","conditionalIconFunction","paramDesign","isrulesenginerequired","openChildModal","parameterData","selectedsubcodedresult","selectsubcodedelete","testGroupCheckList","openTemplateModal","materialType","materialCategoryList","materialList","masterdata","approveVersion","mainDesign","showModalBg","sampleType","treeVersionTemplate","productCategory","projectType","needActionStrip","e","spec","findMandatoryFields","treeMandatoryFields","timeZoneList","selectedsubcoderesult","linkMaster","editFiles","slabelname","ruleflowobject","ProductCategoryList","databaseTableList","tableColumnList","TestGroupSpecificationList","ComponentList","foreignTableList","foreignTableColumnList","foreignTableCount","switchRecord","gridColumnList","queryType","SelectedProductCategory","siteList","resultTypeList","enablePropertyPopup","propertyPopupWidth","sectionDataState","testcomments","reportcomments","CommentType","CommentSubType","predefcomments","testGroupTestParameterRulesEngine","mandyFields","LINK","finalMandyFields","updateSpiltterLayout","labelColor","labelBGColor","borderColor","groupListJoins","children","parent","grandparent","groupobject","rulesList","rule","notarray","join","parentjoins","srulename","fieldArray","ntestgrouprulesenginecode","current","disableSplit","setTimeout","previousProps","previousState","isStateChanged","sampleTypeMap","ProductCategory","productCatMap","Product","productMap","ProjectTypeList","projectTypeMap","ProjectMasterList","projectMasterMap","TreeVersionTemplate","templateMap","nformCode","generateBreadCrumData","masterStatus","errorCode","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport rsapi from '../../rsapi';\r\nimport { toast } from 'react-toastify';\r\nimport { Row, Col, Card, Button, Nav } from 'react-bootstrap';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faPlus, faSync } from '@fortawesome/free-solid-svg-icons';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport { faEye, faTrashAlt } from '@fortawesome/free-regular-svg-icons';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport OrgTree from 'react-org-tree';\r\n\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../audittrail/Esign';\r\nimport {\r\n    callService, crudMaster, filterTestGroup, createTree, editTree, getTestGroupDetails, sampleTypeOnChange,\r\n    validateEsignCredential, updateStore, addSpecification, getSpecification, addComponent, changeTestCategory,\r\n    addTestGroupTest, editTestGroupTest, getTestGroupParameter, editTestGroupParameter, addTestFile,\r\n    editSpecFile, getSpecificationDetails, addTestGroupCodedResult, getComponentBySpecId, filterColumnData,\r\n    viewAttachment, viewTestGroupCheckList, getTestGroupComponentDetails, filterTransactionList, reportSpecification, retireSpecification, getDataForTestMaterial,\r\n    getMaterialCategoryBasedMaterialType, getMaterialBasedMaterialCategory, getTestGroupMaterial, getDataForEditTestMaterial, addTestGroupNumericTab, getTestGroupRulesEngineAdd,\r\n    getEditTestGroupRulesEngine, getSelectedTestGroupRulesEngine, getParameterRulesEngine,getParameterResultValue,subCodedResultView,saveExecutionOrder\r\n} from '../../actions'\r\nimport { constructOptionList, formatInputDate, create_UUID, deleteAttachmentDropZone, filterRecordBasedOnTwoArrays, getControlMap, onDropAttachFileList, showEsign, sortData, Lims_JSON_stringify } from '../../components/CommonScript';\r\nimport TestGroupTestTab from './TestGroupTestTab';\r\nimport AddTestGroupSpecification from './AddTestGroupSpecification';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { transactionStatus, REPORTTYPE, attachmentType, formCode, designProperties, \r\n    parameterType,SampleType } from '../../components/Enumeration';\r\nimport AddTestGroupTest from './AddTestGroupTest';\r\nimport AddProfileTree from './AddProfileTree';\r\nimport SampleFilter from './SampleFilter';\r\nimport AddFile from '../testmanagement/AddFile';\r\nimport AdvFilter from '../../components/AdvFilter';\r\nimport SpecificationHistory from './SpecificationHistory';\r\nimport TestGroupSpecFile from './TestGroupSpecFile';\r\nimport SpecificationInfo from './SpecificationInfo';\r\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component';\r\nimport TransationListMaster from '../../components/TransactionListMaster';\r\nimport TransationListMasterView from '../../components/TransactionListMasterView';\r\nimport FormTreeMenu from '../../components/form-tree-menu/form-tree-menu.component';\r\n// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\r\nimport FormInput from '../../components/form-input/form-input.component';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\n\r\nimport {\r\n    testMoreFields, testSubFields, searchFieldList, specificationColumnList, componentColumnList,\r\n    addTestColumnList, editTestColumnList \r\n} from './TestGroupFields';\r\nimport EditTestGroupTest from './EditTestGroupTest';\r\nimport { ContentPanel, SearchAdd } from '../../components/App.styles';\r\nimport '../../pages/registration/registration.css';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { ProductList } from '../product/product.styled';\r\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport PortalModalSlideout from '../../components/portal-modal/portal-modal-slideout';\r\nimport AddTestGroupRule from './AddTestGroupRule';\r\nimport ViewSubCodedResult from './ViewSubCodedResult';\r\n\r\n\r\nclass TestGroup extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const componentDataState = { skip: 0, take: 10 };\r\n        const historyDataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n        const clinicalspecDataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5, group: [{ field: 'sgendername' }] };\r\n\r\n        this.state = {\r\n            selectedRecord: {},\r\n            filterData: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            componentDataState,\r\n            historyDataState,\r\n            clinicalspecDataState,\r\n            tempFilterData: {},\r\n            showTest: true,\r\n            testskip: 0,\r\n            testtake: this.props.Login.settings ? this.props.Login.settings[12] : 5,\r\n            skipRulesEngine: 0,\r\n            takeRulesEngine: this.props.Login.settings ? this.props.Login.settings[12] : 5,\r\n            fixefScrollHeight: window.outerHeight - 400,\r\n            initialVerticalWidth: \"20vh\",\r\n            testView: true,\r\n            //paneHeight:'calc(100vh - ' +window.outerHeight-847 + 'px)'\r\n            paneHeight: 'calc(100vh -183px)'\r\n        }\r\n        this.componentBreadcrumbs = [];\r\n        this.breadCrumbData = [];\r\n        this.searchRef = React.createRef();\r\n        this.specSubField = [{ [designProperties.VALUE]: \"stransdisplaystatus\" },\r\n        { [designProperties.VALUE]: \"sapprovalstatus\", [designProperties.COLOUR]: true }];\r\n        this.myRef = React.createRef();\r\n\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    reloadData = () => {\r\n\r\n        const filterData = this.props.Login.filterData || this.state.filterData;\r\n        if (filterData.nsampletypecode === undefined) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SAMPLETYPENOTAVAILABLE\" }));\r\n        }\r\n        else if (filterData.nproductcatcode === \"\") {\r\n            if (filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORYNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_CATEGORYNOTAVAILABLE\" }));\r\n            }\r\n        }\r\n        else if (filterData.nproductcode === \"\" && (filterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO)) {\r\n            if (filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY && filterData.nsampletypecode.item.ncategorybasedflowrequired === transactionStatus.NO ) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            }\r\n        } else if (filterData.ntreeversiontempcode === \"\") {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\" }));\r\n        }\r\n        else {\r\n            const inputParam = {\r\n                inputData: {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nsampletypecode: filterData.nsampletypecode.item[\"nsampletypecode\"],\r\n                    nproductcatcode: filterData.nproductcatcode.item[\"nproductcatcode\"],\r\n                 //   nproductcode: filterData.nproductcode.item[\"nproductcode\"],\r\n                    nproductcode: filterData.nsampletypecode.item.ncategorybasedflowrequired == transactionStatus.YES ? -1 :\r\n                    filterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.YES ? -1 : filterData.nproductcode ? filterData.nproductcode.value : -1,\r\n                    ntreeversiontempcode: filterData.ntreeversiontempcode.item[\"ntreeversiontempcode\"],\r\n                    nprojectmastercode: filterData.nprojectmastercode !== undefined ? filterData.nprojectmastercode.item[\"nprojectmastercode\"]:-1,\r\n                    filterData,//: { ...this.props.Login.filterData }\r\n                },\r\n                historyDataState: this.state.historyDataState\r\n\r\n            }\r\n            this.props.filterTestGroup(inputParam, this.props.Login.masterData, this.searchRef);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { TestGroupSpecification, SelectedSpecification, SelectedTest, OpenNodes, selectedNode, FocusKey,\r\n            ActiveKey, SelectedComponent, TestGroupTest, TestGroupSpecSampleType, searchedData,\r\n            TestGroupTestParameter } = this.props.Login.masterData;\r\n        // const deleteTree = {\r\n        //     methodUrl: \"Tree\", operation: \"delete\", inputParam: this.props.Login.inputParam,\r\n        //     userInfo: this.props.Login.userInfo, screenName: \"IDS_TREE\"\r\n        // };\r\n        if (this.props.Login.masterData && this.props.Login.masterData.AgaramTree && this.props.Login.masterData.AgaramTree.length > 0) {\r\n         this.props.Login.masterData.AgaramTree[0][\"label\"] = this.props.Login.masterData.AgaramTree[0][\"label\"] === 'root' ? \r\n         this.props.intl.formatMessage({ id: \"IDS_ROOT\" }) : this.props.Login.masterData.AgaramTree[0][\"label\"];\r\n        }\r\n\r\n        const testGroupTestData = searchedData || TestGroupTest || []\r\n\r\n        if (TestGroupTestParameter) {\r\n            sortData(TestGroupTestParameter, \"ascending\", \"nsorter\");\r\n        }\r\n\r\n        if (testGroupTestData) {\r\n            sortData(testGroupTestData, \"descending\", \"nsorter\");\r\n        }\r\n\r\n        const getComponent = {\r\n            screenName: \"IDS_COMPONENT\", operation: \"get\", inputParam: this.props.Login.inputParam,\r\n            userInfo: this.props.Login.userInfo, methodUrl: \"TestGroupComponent\", keyName: \"testgroupspecification\"\r\n        };\r\n        const addSpecParam = { testgroupspecification: SelectedSpecification, selectedRecord: this.state.filterData, userInfo: this.props.Login.userInfo, selectedNode };\r\n        const editSpecParam = { selectedRecord: this.state.filterData, userinfo: this.props.Login.userInfo, selectedNode };\r\n        const specDeleteParam = { operation: \"delete\", methodUrl: \"Specification\", screenName: \"IDS_SPECIFICATION\", keyName: \"testgroupspecification\", filterData: this.state.filterData };\r\n        const addSpecId = this.state.controlMap.has(\"AddSpecification\") && this.state.controlMap.get(\"AddSpecification\").ncontrolcode;\r\n        const addTreeId = this.state.controlMap.has(\"AddTree\") && this.state.controlMap.get(\"AddTree\").ncontrolcode;\r\n        const editTreeId = this.state.controlMap.has(\"EditTree\") && this.state.controlMap.get(\"EditTree\").ncontrolcode;\r\n        const deleteTreeId = this.state.controlMap.has(\"DeleteTree\") && this.state.controlMap.get(\"DeleteTree\").ncontrolcode;\r\n        const editSpecId = this.state.controlMap.has(\"EditSpecification\") && this.state.controlMap.get(\"EditSpecification\").ncontrolcode;\r\n        const deleteSpecId = this.state.controlMap.has(\"DeleteSpecification\") && this.state.controlMap.get(\"DeleteSpecification\").ncontrolcode;\r\n        const addComponentId = this.state.controlMap.has(\"AddComponent\") && this.state.controlMap.get(\"AddComponent\").ncontrolcode;\r\n        const deleteComponentId = this.state.controlMap.has(\"DeleteComponent\") && this.state.controlMap.get(\"DeleteComponent\").ncontrolcode;\r\n        const addTestId = this.state.controlMap.has(\"AddTest\") && this.state.controlMap.get(\"AddTest\").ncontrolcode;\r\n        const deleteTestId = this.state.controlMap.has(\"DeleteTest\") && this.state.controlMap.get(\"DeleteTest\").ncontrolcode;\r\n        const editTestId = this.state.controlMap.has(\"EditTest\") && this.state.controlMap.get(\"EditTest\").ncontrolcode;\r\n        const viewFileId = this.state.controlMap.has(\"ViewTestFile\") && this.state.controlMap.get(\"ViewTestFile\").ncontrolcode;\r\n        const confirmMessage = new ConfirmMessage();\r\n\r\n        const deleteTree = {\r\n            methodUrl: \"Tree\", operation: \"delete\", inputParam: this.props.Login.inputParam,\r\n            userInfo: this.props.Login.userInfo, screenName: \"IDS_TREE\", ncontrolCode: deleteTreeId, filterData: this.state.filterData\r\n        };\r\n\r\n        const getTest = {\r\n            screenName: \"IDS_TEST\", operation: \"get\", masterData: this.props.Login.masterData,\r\n            userInfo: this.props.Login.userInfo, methodUrl: \"TestGroupTest\", keyName: \"ntestgrouptestcode\"\r\n        };\r\n        const filterParam = {\r\n            testskip: 0, testtake: this.props.Login.settings ? this.props.Login.settings[12] : 5,\r\n            inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n            fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.Login.userInfo }, masterData: this.props.Login.masterData,\r\n            searchFieldList, changeList: [\"TestGroupTestFormula\", \"TestGroupTestNumericParameter\",\r\n                \"TestGroupTestPredefinedParameter\", \"TestGroupTestCharParameter\", \"TestGroupTestParameter\"], isSingleSelect: true\r\n        };\r\n        const filterParamRulesEngine = {\r\n            skipRulesEngine: 0, takeRulesEngine: this.props.Login.settings ? this.props.Login.settings[12] : 5,\r\n            inputListName: \"RulesEngine\", selectedObject: \"SelectedRulesEngine\", primaryKeyField: \"ntestgrouprulesenginecode\",\r\n            fetchUrl: \"testgrouprulesengine/getSelectedTestGroupRulesEngine\", fecthInputObject: { userinfo: this.props.Login.userInfo\r\n                ,ntestgrouptestcode:this.props.Login.masterData.SelectedTest&&this.props.Login.masterData.SelectedTest.ntestgrouptestcode }, masterData: this.props.Login.masterData,\r\n            'searchFieldList':[\"srulename\",\"stransdisplaystatus\" \r\n        ], changeList: [],  isSingleSelect: true\r\n        };\r\n        const specMandatoryFields = [];\r\n        const compMandatoryFields = [];\r\n        const editTestMandatoryFields = [];\r\n        const addTestMandatoryFields = [];\r\n        specificationColumnList.forEach(item => item.mandatory === true ?\r\n            specMandatoryFields.push(item) : \"\"\r\n        );\r\n        componentColumnList.forEach(item => item.mandatory === true ?\r\n            compMandatoryFields.push(item) : \"\"\r\n        );\r\n        editTestColumnList.forEach(item => item.mandatory === true ?\r\n            editTestMandatoryFields.push(item) : \"\"\r\n        );\r\n        addTestColumnList.forEach(item => item.mandatory === true ?\r\n            addTestMandatoryFields.push(item) : \"\"\r\n        );\r\n\r\n        if (this.props.Login.masterData && Object.values(this.props.Login.masterData).length > 0) {\r\n            if (selectedNode && selectedNode.sleveldescription) {\r\n                const splitNode = this.props.Login.masterData.ActiveKey.split('/');\r\n                let treeNodeNames = [];\r\n                splitNode.forEach(nodeItem => {\r\n                    this.props.Login.masterData.TreeTemplateManipulation.forEach(treeItem => {\r\n                        if (treeItem.ntemplatemanipulationcode === parseInt(nodeItem))\r\n                            treeNodeNames.push(treeItem.sleveldescription);\r\n                    })\r\n                })\r\n                this.componentBreadcrumbs = treeNodeNames;\r\n                if (SelectedSpecification && SelectedSpecification !== null && SelectedSpecification.sspecname) {\r\n                    this.componentBreadcrumbs.push(SelectedSpecification.sspecname);\r\n                    if (SelectedComponent && SelectedComponent !== null && SelectedComponent.ncomponentcode !== -1) {\r\n                        // this.componentBreadcrumbs[2] = this.props.intl.formatMessage({ id: \"IDS_COMPONENT\" }) + \": \" + SelectedComponent.scomponentname;\r\n                        this.componentBreadcrumbs.push(SelectedComponent.scomponentname);\r\n                    } else {\r\n                        // delete this.componentBreadcrumbs[2];\r\n                    }\r\n                } else {\r\n                    // delete this.componentBreadcrumbs[1];\r\n                }\r\n            } else {\r\n                this.componentBreadcrumbs = [];\r\n                // delete this.componentBreadcrumbs[0];\r\n            }\r\n        }\r\n\r\n        this.confirmMessage = new ConfirmMessage();\r\n\r\n\r\n\r\n        //New Design\r\n        const specDesign =\r\n            <>\r\n                {this.componentBreadcrumbs && this.componentBreadcrumbs.length > 0 &&\r\n                    <div className=\"component_breadcrumbs\">\r\n                        <ul>\r\n                            {this.componentBreadcrumbs.map((item) => {\r\n                                return <li>{item}</li>\r\n                            })}\r\n                        </ul>\r\n                    </div>\r\n                }\r\n\r\n                <ContentPanel hidden={this.state.showTest} className='mr-2'>\r\n                    <div className='card_group'>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <span style={{ display: \"inline-block\", marginTop: \"1%\" }} >\r\n                                    <h4>{this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONINFO\" })}</h4>\r\n                                </span>\r\n                                {/* <button className=\"btn btn-primary\" style={{ float: \"right\" }}\r\n                                    onClick={() => this.showSpecAndTestInfo()}>\r\n                                    <FontAwesomeIcon icon={faEye}></FontAwesomeIcon>{\"  \"}\r\n                                    {this.props.intl.formatMessage({ id: \"IDS_TEST\" })}\r\n                                </button> */}\r\n                                <button className=\"btn btn-primary\" style={{ float: \"right\", marginRight: \"1rem\" }}\r\n                                    onClick={() => this.showSpecAndTestInfo1()}>\r\n                                    <FontAwesomeIcon icon={faEye}></FontAwesomeIcon>{\"  \"}\r\n                                    {this.props.intl.formatMessage({ id: \"IDS_TEST\" })}\r\n                                </button>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <SpecificationInfo\r\n                                    controlMap={this.state.controlMap}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                    selectedSpecification={this.props.Login.masterData.SelectedSpecification}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    selectedNode={this.props.Login.masterData.selectedNode}\r\n                                    selectedRecord={this.state.filterData}\r\n                                    approvalRoleActionDetail={this.props.Login.masterData.ApprovalRoleActionDetail}\r\n                                    screenName=\"IDS_SPECIFICATIONINFO\"\r\n                                    deleteRecord={this.deleteRecord}\r\n                                    addSpecification={this.props.addSpecification}\r\n                                    filterData={this.state.filterData}\r\n                                    //completeSpecification={this.completeSpecification}\r\n                                    completeSpecification={this.validateTestGroupComplete}\r\n                                    approveSpecification={this.approveSpecification}\r\n                                    specificationReport={this.specificationReport}\r\n                                    retireSpec={this.retireSpec}\r\n                                    masterData={this.props.Login.masterData}\r\n\r\n                                />\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </div>\r\n\r\n                        <div>\r\n                            <CustomTab tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                        </div>\r\n                </ContentPanel>\r\n            </>\r\n\r\n\r\n        const testDesign = <Card>\r\n            <Card.Header className='sm-header'>\r\n                <h4 className='spec-info-title' data-tip={ this.props.intl.formatMessage({ id: \"IDS_TEST\" }) }>{this.props.intl.formatMessage({ id: \"IDS_TEST\" })}</h4>\r\n                <button className=\"btn btn-primary\" style={{ position: \"absolute\", right: \"7px\", top: \"7px\" }}\r\n                    onClick={() => this.showSpecAndTestInfo()}>\r\n                    <FontAwesomeIcon icon={faEye}></FontAwesomeIcon>{\"  \"}\r\n                    {this.props.intl.formatMessage({ id: \"IDS_SPECINFO\" })}\r\n                </button>\r\n            </Card.Header>\r\n            <Card.Body className={this.state.testView ? 'p-0' : 'no-pad-t'}>\r\n                <TransactionListMasterJsonView\r\n                    cardHead={167}\r\n                    componentBreadcrumbs={this.breadCrumbData ? this.breadCrumbData.length > 0 ? true : false : false}\r\n                    // notSearchable={false}\r\n                    masterList={searchedData || TestGroupTest || []}\r\n                    //selectedMaster={[SelectedTest]}\r\n                    clickIconGroup={true}\r\n                    selectedMaster={SelectedTest !== undefined ? [SelectedTest] : undefined}\r\n                    primaryKeyField=\"ntestgrouptestcode\"\r\n                    getMasterDetail={this.props.getTestGroupDetails}\r\n                    inputParam={getTest}\r\n                    additionalParam={[]}\r\n                    mainField=\"stestname\"\r\n                    selectedListName=\"SelectedTest\"\r\n                    objectName=\"testgrouptest\"\r\n                    listName=\"IDS_TEST\"\r\n                    showStatusLink={true}\r\n                    statusFieldName=\"stransdisplaystatus\"\r\n                    statusField=\"ntransactionstatus\"\r\n                    subFields={testSubFields}\r\n                    moreField={testMoreFields}\r\n                    needValidation={false}\r\n                    needFilter={false}\r\n                    filterColumnData={this.props.filterTransactionList}\r\n                    searchListName=\"searchedData\"\r\n                    searchRef={this.searchRef}\r\n                    hidePaging={false}\r\n                    filterParam={filterParam}\r\n                    handlePageChange={this.handlePageChange}\r\n                    skip={this.state.testskip}\r\n                    take={this.state.testtake}\r\n                    pageSize={this.props.Login.settings && this.props.Login.settings[13].split(\",\").map(setting => parseInt(setting))}\r\n                    actionIcons={\r\n                        [\r\n                            {\r\n                                title: this.props.intl.formatMessage({ id: \"IDS_VIEW\" }),\r\n                                controlname: \"faCloudDownloadAlt\",\r\n                                objectName: \"selectedTest\",\r\n                                hidden: this.state.userRoleControlRights.indexOf(viewFileId) === -1,\r\n                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                onClick: (props) => this.viewTestFile(props),\r\n                                needConditionalIcon: true,\r\n                                conditionalIconFunction: this.fileViewIcon\r\n                            },\r\n                            {\r\n                                title: this.props.intl.formatMessage({ id: \"IDS_VIEW\" }),\r\n                                controlname: \"faExternalLinkAlt\",\r\n                                objectName: \"selectedTest\",\r\n                                hidden: this.state.userRoleControlRights.indexOf(viewFileId) === -1,\r\n                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                onClick: (props) => this.viewTestFile(props),\r\n                                needConditionalIcon: true,\r\n                                conditionalIconFunction: this.linkViewIcon\r\n                            },\r\n                            {\r\n                                title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                controlname: \"faPencilAlt\",\r\n                                objectName: \"testgroupspecification\",\r\n                                hidden: this.state.userRoleControlRights.indexOf(editTestId) === -1,\r\n                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                onClick: (props) => this.props.editTestGroupTest(\"update\", props.SelectedTest[0], this.props.Login.userInfo, editTestId, SelectedSpecification, this.state.filterData, props.masterData)\r\n                            },\r\n                            {\r\n                                title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                controlname: \"faTrashAlt\",\r\n                                objectName: \"testgrouptest\",\r\n                                hidden: this.state.userRoleControlRights.indexOf(deleteTestId) === -1,\r\n                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                onClick: (props) => confirmMessage.confirm(\r\n                                    \"deleteMessage\",\r\n                                    this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                    this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                                    this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                    this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                    () => this.deleteTest({ props, ncontrolCode: deleteTestId, filterData: this.state.filterData })\r\n                                )\r\n                            }\r\n                        ]\r\n                    }\r\n                    commonActions={\r\n                        <>\r\n\r\n                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                hidden={this.state.userRoleControlRights.indexOf(addTestId) === -1}\r\n                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                // data-for=\"tooltip-list-wrap\"\r\n                                onClick={() => this.props.addTestGroupTest(SelectedComponent, this.props.Login.userInfo, addTestId, SelectedSpecification, this.state.filterData, this.props.Login.masterData)}>\r\n                                <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                            </Button>\r\n                        </>\r\n                    }\r\n                />\r\n            </Card.Body>\r\n        </Card>\r\n\r\n        const paramDesign =\r\n            <>\r\n                <ContentPanel hidden={!this.state.showTest} className=\"grouped-param\">\r\n                    <Card>\r\n                        {/* <Card.Header className='sm-header'>\r\n                            <span style={{ display: \"inline-block\" }} >\r\n                                <h4>{this.props.intl.formatMessage({ id: \"IDS_PARAMETER\" })}</h4>\r\n                            </span>\r\n                        </Card.Header> */}\r\n                        {/* {TestGroupTestParameter && TestGroupTestParameter.length > 0 && */}\r\n                        {/* <PerfectScrollbar> */}\r\n                        {console.log(this.props.Login.ncontrolCode)}\r\n                        <TestGroupTestTab\r\n                            paneHeight={this.state.paneHeight}\r\n                            testView={this.state.testView}\r\n                            isrulesenginerequired={this.props.Login.masterData.isrulesenginerequired&&\r\n                                this.props.Login.masterData.isrulesenginerequired===transactionStatus.YES?true:false}\r\n                            masterData={this.props.Login.masterData}\r\n                            inputParam={this.props.Login.inputParam}\r\n                            userInfo={this.props.Login.userInfo}\r\n                            userRoleControlRights={this.state.userRoleControlRights}\r\n                            esignRights={this.props.Login.userRoleControlRights}\r\n                            screenName={this.props.Login.screenName}\r\n                            openChildModal={this.props.Login.openChildModal}\r\n                            operation={this.props.Login.operation}\r\n                            loadEsign={this.props.Login.loadEsign}\r\n                            testGroupInputData={this.props.Login.testGroupInputData}\r\n                            parameterData={this.props.Login.parameterData}\r\n                            selectedRecord={this.state.selectedRecord}\r\n                            selectedsubcodedresult={this.state.selectedsubcodedresult}\r\n                            selectsubcodedelete={this.state.selectsubcodedelete}\r\n                            screenData={this.props.Login.screenData}\r\n                            ncontrolCode={this.props.Login.ncontrolCode}\r\n                            controlMap={this.state.controlMap}\r\n                            testGroupCheckList={this.props.Login.testGroupCheckList}\r\n                            openTemplateModal={this.props.Login.openTemplateModal}\r\n                            editTestGroupTest={this.props.editTestGroupTest}\r\n                            updateStore={this.props.updateStore}\r\n                            crudMaster={this.props.crudMaster}\r\n                            getTestGroupParameter={this.props.getTestGroupParameter}\r\n                            editTestGroupParameter={this.props.editTestGroupParameter}\r\n                            filterData={this.state.filterData}\r\n                            addTestGroupCodedResult={this.props.addTestGroupCodedResult}\r\n                            subCodedResultView={this.props.subCodedResultView}\r\n                            addTestGroupNumericTab={this.props.addTestGroupNumericTab}\r\n                            validateEsignCredential={this.props.validateEsignCredential}\r\n                            filterColumnData={this.props.filterColumnData}\r\n                            viewTestGroupCheckList={this.props.viewTestGroupCheckList}\r\n                            getDataForTestMaterial={this.props.getDataForTestMaterial}\r\n                            materialType={this.props.Login.materialType}\r\n                            getMaterialCategoryBasedMaterialType={this.props.getMaterialCategoryBasedMaterialType}\r\n                            materialCategoryList={this.props.Login.materialCategoryList}\r\n                            materialList={this.props.Login.materialList}\r\n                            getMaterialBasedMaterialCategory={this.props.getMaterialBasedMaterialCategory}\r\n                            getTestGroupMaterial={this.props.getTestGroupMaterial}\r\n                            getDataForEditTestMaterial={this.props.getDataForEditTestMaterial}\r\n                            dataState={this.state.clinicalspecDataState}\r\n                            dataStateChange={this.specDataStateChange}\r\n                            getTestGroupRulesEngineAdd={this.getTestGroupRulesEngineAdd}\r\n                            settings={this.props.Login.settings}\r\n                            skip={this.state.testskip}\r\n                            take={this.state.testtake}\r\n                            getEditTestGroupRulesEngine={this.props.getEditTestGroupRulesEngine}\r\n                            getSelectedTestGroupRulesEngine={this.props.getSelectedTestGroupRulesEngine}\r\n                            ConfirmDeleteRule={this.ConfirmDeleteRule}\r\n                            approveVersion={(masterdata, nflag) => this.approveVersion(masterdata, nflag)}\r\n                            openflowview={(props)=>this.openflowview(props)}\r\n                            handlePageChangeRuleEngine={(event) => this.handlePageChangeRuleEngine(event)}\r\n                            skipRulesEngine={this.state.skipRulesEngine}\r\n                            takeRulesEngine={this.state.takeRulesEngine}\r\n                            viewOutcome={ (props)=>this.viewOutcome(props)}\r\n                            filterParamRulesEngine={ filterParamRulesEngine}\r\n                            filterTransactionList={this.props.filterTransactionList} \r\n                            saveExecutionOrder={(props)=>this.props.saveExecutionOrder(props,this.props.Login.masterData,this.props.Login.userInfo)}  \r\n                        />\r\n                        {/* </PerfectScrollbar>\r\n                     } */}\r\n                    </Card>\r\n                </ContentPanel>\r\n            </>\r\n\r\n        const mainDesign =\r\n            <SplitterLayout\r\n                customClassName={this.state.testView ? \"detailed-inner\" : \"detailed-inner no-height \"}\r\n                vertical={this.state.testView ? false : true}\r\n                borderColor=\"#999\"\r\n                primaryIndex={1}\r\n                percentage={true}\r\n                //secondaryInitialSize={this.state.testView ? 600 : this.state.fixefScrollHeight}\r\n                secondaryInitialSize={37}\r\n                primaryMinSize={30}\r\n                secondaryMinSize={37}\r\n            >\r\n                {testDesign}{paramDesign}\r\n            </SplitterLayout >\r\n\r\n\r\n        // const testDesign = this.state.testView ?\r\n        //     <SplitterLayout\r\n        //         customClassName=\"detailed-inner\"\r\n        //         borderColor=\"#999\"\r\n        //         primaryIndex={1}>\r\n        //         {tempDesign}{paramDesign}\r\n        //     </SplitterLayout>\r\n        //     :\r\n        //     <SplitterLayout\r\n        //         customClassName=\"detailed-inner no-height\"\r\n        //         vertical\r\n        //         borderColor=\"#999\"\r\n        //         primaryIndex={1}\r\n        //         // onSecondaryPaneSizeChange={this.verticalPaneSizeChange}\r\n        //         secondaryInitialSize={this.state.fixefScrollHeight}\r\n        //     >\r\n        //         <ContentPanel>\r\n        //             {tempDesign}\r\n        //         </ContentPanel>\r\n\r\n        //         {paramDesign}\r\n        //     </SplitterLayout>\r\n\r\n        return (\r\n            <>\r\n                {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip-list-wrap\" /> */}\r\n                {/* screen-height-window active_seperator */}\r\n                <ListWrapper className=\"client-listing-wrap mtop-4 screen-height-window\">\r\n                    {this.breadCrumbData && this.breadCrumbData.length > 0 &&\r\n                        <BreadcrumbComponent\r\n                            breadCrumbItem={this.breadCrumbData}\r\n                        />}\r\n                    <Row noGutters>\r\n                        <Col md={12} className=\"parent-port-height sticky_head_parent\" ref={(parentHeight) => { this.parentHeight = parentHeight }}>\r\n                            <SplitterLayout\r\n                                borderColor=\"#999\"\r\n                                primaryIndex={1}\r\n                                percentage={true}\r\n                                secondaryInitialSize={30}\r\n                            //customClassName=\"fixed_list_height\"\r\n                            >\r\n                                <div className={`${this.state.showModalBg ? 'show_modal_bg fixed_list_height' : 'fixed_list_height'}`}>\r\n                                    <div className=\"sticky_head\">\r\n                                        <SearchAdd className=\"border fixed_ico_list title_grp_custom\">\r\n                                            <h4>{this.props.intl.formatMessage({ id: \"IDS_PROFILETREE\" })}</h4>\r\n                                            <div className=\"icon_group_right_aligned\">\r\n                                                <AdvFilter\r\n                                                    filterComponent={[{\r\n                                                        \"IDS_SAMPLEFILTER\":\r\n                                                            <SampleFilter\r\n                                                                sampleType={this.state.sampleType}\r\n                                                                treeVersionTemplate={this.state.treeVersionTemplate}\r\n                                                                productCategory={this.state.productCategory}\r\n                                                                product={this.state.product}\r\n                                                                projectType={this.state.projectType}\r\n                                                                project={this.state.project}\r\n                                                                onFilterComboChange={this.onFilterComboChange}\r\n                                                                tempFilterData={this.state.tempFilterData}\r\n                                                            >\r\n                                                            </SampleFilter>,\r\n                                                        needActionStrip: false\r\n                                                    }]}\r\n                                                    onFilterSubmit={this.onFilterSumbit}\r\n                                                    showModalBg={(e) => this.setState({ showModalBg: e })}\r\n                                                />\r\n\r\n                                                <ProductList className=\"d-flex product-category float-right icon-group-wrap\">\r\n                                                    {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                    <Button className=\"btn btn-icon-rounded btn-circle solid-blue mr-1\" role=\"button\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(addTreeId) === -1}\r\n                                                        onClick={() => this.props.createTree(this.state.filterData, this.props.Login.userInfo, this.props.Login.masterData, addTreeId)}\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                    //  data-for=\"tooltip-list-wrap\"\r\n                                                    >\r\n                                                        <FontAwesomeIcon icon={faPlus} />\r\n                                                    </Button>\r\n\r\n                                                    <Nav.Link className=\"btn btn-circle outline-grey mr0 mr-1\" name=\"edittestname\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(editTreeId) === -1}\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                        //  data-for=\"tooltip-list-wrap\"\r\n                                                        onClick={() => this.props.editTree(\"update\", selectedNode, this.props.Login.userInfo, editTreeId, this.state.filterData,\r\n                                                            this.props.Login.masterData)}>\r\n                                                        <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                    </Nav.Link>\r\n                                                    <Nav.Link name=\"deleteLink\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(deleteTreeId) === -1}\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                        // data-for=\"tooltip-list-wrap\"\r\n                                                        className=\"btn btn-circle outline-grey \"\r\n                                                        onClick={() => this.ConfirmDelete({ ...deleteTree })}>\r\n                                                        <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                        {/* <ConfirmDialog\r\n                                                            name=\"deleteMessage\"\r\n                                                            message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                            doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                            doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                            icon={faTrashAlt}\r\n                                                            title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(deleteTreeId) === -1}\r\n                                                            handleClickDelete={() => this.deleteRecord({ ...deleteTree })}\r\n                                                        /> */}\r\n                                                    </Nav.Link>\r\n                                                    <Button className=\"btn btn-circle outline-grey ml-1\" variant=\"link\"\r\n                                                        onClick={() => this.reloadData()}\r\n                                                        // data-for=\"tooltip-list-wrap\"\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                        <FontAwesomeIcon icon={faSync} style={{ \"width\": \"0.6!important\" }} />\r\n                                                    </Button>\r\n                                                    {/* </Tooltip> */}\r\n                                                </ProductList>\r\n\r\n                                            </div>\r\n                                        </SearchAdd>\r\n                                    </div>\r\n                                    <div className=\"sticky_head_scroll_body\" style={{ \"height\": this.state.parentHeight }}>\r\n                                        <PerfectScrollbar>\r\n                                            <FormTreeMenu\r\n                                                data={this.props.Login.masterData.AgaramTree}\r\n                                                hasSearch={false}\r\n                                                handleTreeClick={this.onTreeClick}\r\n                                                initialOpenNodes={OpenNodes}\r\n                                                focusKey={FocusKey || \"\"}\r\n                                                activeKey={ActiveKey || \"\"}\r\n                                            />\r\n                                            <TransationListMaster\r\n                                                notSearchable={true}\r\n                                                titleHead={this.props.intl.formatMessage({ id: \"IDS_SPECIFICATION\" })}\r\n                                                titleClasses=\"title_grp_custom fixed_ico_list\"\r\n                                                masterList={TestGroupSpecification || []}\r\n                                                selectedMaster={[SelectedSpecification]}\r\n                                                needMultiSelect={false}\r\n                                                primaryKeyField=\"nallottedspeccode\"\r\n                                                getMasterDetail={(spec) => this.props.getComponentBySpecId({ ...getComponent, selectedRecord: spec, historyDataState: this.state.historyDataState }, this.props.Login.masterData, this.searchRef)}\r\n                                                mainField=\"sspecname\"\r\n                                                selectedListName=\"testgroupspecification\"\r\n                                                objectName=\"testgroupspecification\"\r\n                                                listName=\"IDS_SPECIFICATION\"\r\n                                                onFilterSumbit={this.onFilterSumbit}\r\n                                                subFields={this.specSubField}\r\n                                                actionIcons={\r\n                                                    [\r\n                                                        {\r\n                                                            title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                            controlname: \"faPencilAlt\",\r\n                                                            objectName: \"testgroupspecification\",\r\n                                                            hidden: this.state.userRoleControlRights.indexOf(editSpecId) === -1,\r\n                                                            inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                            onClick: (props) => this.props.addSpecification(\"update\", { ...editSpecParam, ...props }, editSpecId)\r\n                                                        },\r\n                                                        {\r\n                                                            title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                            controlname: \"faTrashAlt\",\r\n                                                            objectName: \"testgroupspecification\",\r\n                                                            hidden: this.state.userRoleControlRights.indexOf(deleteSpecId) === -1,\r\n                                                            inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                            onClick: (props) => confirmMessage.confirm(\r\n                                                                \"deleteMessage\",\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                                                () => this.deleteSpecRecord({ props, ...specDeleteParam, selectedRecord: SelectedSpecification, ncontrolCode: deleteSpecId })\r\n                                                            )\r\n                                                        }\r\n                                                    ]\r\n                                                }\r\n                                                needFilter={false}\r\n                                                commonActions={\r\n                                                    <>\r\n                                                        {/* <ReactTooltip place=\"bottom\" /> */}\r\n                                                        <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(addSpecId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                            //  data-for=\"tooltip-list-wrap\"\r\n                                                            onClick={() => this.props.addSpecification(\"create\", { ...addSpecParam }, addSpecId, this.props.Login.masterData)}>\r\n                                                            <FontAwesomeIcon icon={faPlus}\r\n                                                            // title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                            />\r\n                                                        </Button>\r\n                                                    </>\r\n                                                }\r\n                                                hideSearch={false}\r\n                                                hidePaging={true}\r\n                                            />\r\n                                            {SelectedSpecification && SelectedSpecification.ncomponentrequired === transactionStatus.YES &&\r\n                                                <TransationListMaster\r\n                                                    notSearchable={true}\r\n                                                    titleHead={this.props.intl.formatMessage({ id: \"IDS_COMPONENT\" })}\r\n                                                    titleClasses=\"title_grp_custom fixed_ico_list\"\r\n                                                    masterList={TestGroupSpecSampleType || []}\r\n                                                    selectedMaster={[SelectedComponent]}\r\n                                                    needMultiSelect={false}\r\n                                                    primaryKeyField=\"nspecsampletypecode\"\r\n                                                    getMasterDetail={(event) => this.componentRowClick(event)}\r\n                                                    mainField=\"scomponentname\"\r\n                                                    selectedListName=\"testgroupspecsampletype\"\r\n                                                    objectName=\"testgroupspecsampletype\"\r\n                                                    listName=\"IDS_COMPONENT\"\r\n                                                    actionIcons={\r\n                                                        [\r\n                                                            {\r\n                                                                title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                // data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                                controlname: \"faTrashAlt\",\r\n                                                                objectName: \"testgroupspecsampletype\",\r\n                                                                hidden: this.state.userRoleControlRights.indexOf(deleteComponentId) === -1,\r\n                                                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                                onClick: (props) => confirmMessage.confirm(\r\n                                                                    \"deleteMessage\",\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                                                    () => this.deleteMultipleRecord({ props, ncontrolCode: deleteComponentId })\r\n                                                                )\r\n                                                            }\r\n                                                        ]\r\n                                                    }\r\n                                                    commonActions={\r\n                                                        <>\r\n                                                            {/* <ReactTooltip place=\"bottom\" /> */}\r\n                                                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                                hidden={this.state.userRoleControlRights.indexOf(addComponentId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                                //  data-for=\"tooltip-list-wrap\"\r\n                                                                // title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                                onClick={() => this.props.addComponent(SelectedSpecification, this.props.Login.userInfo, addComponentId, this.props.Login.masterData)}>\r\n                                                                <FontAwesomeIcon icon={faPlus}\r\n                                                                // title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} \r\n                                                                />\r\n                                                            </Button>\r\n\r\n                                                        </>\r\n                                                    }\r\n                                                    hidePaging={true}\r\n                                                />}\r\n                                        </PerfectScrollbar>\r\n                                    </div>\r\n                                </div>\r\n                                <>\r\n                                    {this.state.testView ?\r\n                                        <>\r\n                                            {specDesign}\r\n                                            {this.state.showTest ?\r\n                                                <div>\r\n                                                    {mainDesign}\r\n                                                </div>\r\n                                                : \"\"}\r\n                                        </>\r\n                                        :\r\n                                        <PerfectScrollbar>\r\n                                            {specDesign}\r\n                                            {this.state.showTest ?\r\n                                                <div>\r\n                                                    {mainDesign}\r\n                                                </div>\r\n                                                : \"\"}\r\n                                        </PerfectScrollbar>\r\n                                    }\r\n\r\n\r\n                                </>\r\n                            </SplitterLayout>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n                {\r\n                    this.props.Login.openModal && this.props.Login.screenName &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        className={this.props.Login.screenName === \"IDS_VIEWRULE\"  ? \"wide-popup\" : \"\"}\r\n                        operation={this.props.Login.screenName === \"IDS_VIEWRULE\"||this.props.Login.screenName === \"IDS_VIEWOUTCOME\" ? \"\" : this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName === \"IDS_VIEWRULE\"||this.props.Login.screenName === \"IDS_VIEWOUTCOME\" ?this.props.intl.formatMessage({id: this.props.Login.screenName})\r\n                        +\" - \"+this.props.Login.masterData.SelectedTest.stestsynonym:this.props.Login.screenName}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        onSaveClick={this.onSaveClick}\r\n                        hideSave={this.props.Login.screenName === \"IDS_VIEWRULE\"||this.props.Login.screenName === \"IDS_VIEWOUTCOME\" ||this.props.Login.screenName === \"IDS_SUBCODERESULT\"  ? true : false}\r\n                        size={this.props.Login.screenName === \"IDS_VIEWRULE\" ||this.props.Login.screenName === \"IDS_VIEWOUTCOME\"  ? 'xl' : \"lg\"}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={\r\n                            this.props.Login.screenName === \"IDS_SPECFILE\" ? this.findMandatoryFields(this.props.Login.screenName, this.state.selectedRecord)\r\n                                : this.props.Login.screenName === \"IDS_SPECIFICATION\" ? specMandatoryFields\r\n                                    : this.props.Login.screenName === \"IDS_COMPONENT\" ? compMandatoryFields\r\n                                        : this.props.Login.screenName === \"IDS_EDITTESTGROUPTEST\" ? editTestMandatoryFields\r\n                                            : this.props.Login.screenName === \"IDS_TEST\" ? addTestMandatoryFields\r\n                                                : this.props.Login.screenName === \"IDS_PROFILETREE\" || this.props.Login.screenName === \"IDS_EDITTREE\"\r\n                                                    ? this.props.Login.treeMandatoryFields : []}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign\r\n                                operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onEsignInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            /> :\r\n                            this.props.Login.screenName === \"IDS_SPECIFICATION\" ?\r\n                                <AddTestGroupSpecification\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    timeZoneList={this.props.Login.timeZoneList}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    handleDateChange={this.handleDateChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    screenName={this.props.Login.screenName}\r\n                                    operation={this.props.Login.operation}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    nsampletypecode={this.props.Login.masterData.selectedNode.nsampletypecode}\r\n                                    settings={this.props.Login.settings}\r\n                                    tempFilterData = {this.state.tempFilterData}\r\n                                /> :\r\n                                this.props.Login.screenName === \"IDS_COMPONENT\" ?\r\n                                    <AddTestGroupTest\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                        testGroupInputData={this.props.Login.testGroupInputData}\r\n                                        screenName={this.props.Login.screenName}\r\n                                        onComboChange={this.onComboChange}\r\n                                        onFilterComboChange={this.onFilterComboChange}\r\n                                    /> :\r\n\r\n\r\n                                    this.props.Login.screenName === \"IDS_SUBCODERESULT\" ?\r\n                                    <ViewSubCodedResult\r\n                                        selectedRecord={this.state.selectedsubcoderesult || {}}\r\n                                        selectedsubcoderesult={this.props.Login.selectedsubcoderesult||[]}\r\n                                        screenName={this.props.Login.screenName}\r\n                                        onComboChange={this.onComboChange}\r\n                                        onFilterComboChange={this.onFilterComboChange}\r\n                                    /> :\r\n\r\n                                    this.props.Login.screenName === \"IDS_PROFILETREE\" ?\r\n                                        <AddProfileTree\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            treetempTranstestGroup={this.props.Login.TreetempTranstestGroup}\r\n                                        /> :\r\n                                        this.props.Login.screenName === \"IDS_SPECFILE\" ?\r\n                                            <AddFile\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                actionType={this.state.actionType}\r\n                                                onDrop={this.onDropSpecFile}\r\n                                                deleteAttachment={this.deleteAttachment}\r\n                                                linkMaster={this.props.Login.linkMaster}\r\n                                                editFiles={this.props.Login.editFiles}\r\n                                                maxSize={20}\r\n                                                maxFiles={this.props.Login.operation === \"update\" ? 1 : 1}\r\n                                                multiple={this.props.Login.operation === \"update\" ? false : true}\r\n                                                label={this.props.intl.formatMessage({ id: \"IDS_SPECFILE\" })}\r\n                                                hideDefaultToggle={true}\r\n                                                name=\"specfilename\"\r\n                                            /> :\r\n                                            this.props.Login.screenName === \"IDS_EDITTREE\" ?\r\n                                                <Row>\r\n                                                    <Col md={12}>\r\n                                                        <FormInput\r\n                                                            name={\"sleveldescription\"}\r\n                                                            label={this.state.selectedRecord.slabelname}\r\n                                                            type=\"text\"\r\n                                                            onChange={(event) => this.onInputOnChange(event, 1)}\r\n                                                            placeholder={this.state.selectedRecord.slabelname}\r\n                                                            value={this.state.selectedRecord ? this.state.selectedRecord[\"sleveldescription\"] : \"\"}\r\n                                                            isMandatory=\"*\"\r\n                                                            required={true}\r\n                                                            maxLength={100}\r\n                                                        />\r\n                                                    </Col>\r\n                                                </Row> :\r\n                                                this.props.Login.screenName === \"IDS_TEST\" ?\r\n                                                    <AddTestGroupTest\r\n                                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                                        testGroupInputData={this.props.Login.testGroupInputData}\r\n                                                        screenName={this.props.Login.screenName}\r\n                                                        onComboChange={this.onComboChange}\r\n                                                        onFilterComboChange={this.onFilterComboChange}\r\n                                                    /> : this.props.Login.screenName === \"IDS_EDITTESTGROUPTEST\" ?\r\n                                                        <EditTestGroupTest\r\n                                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                                            testGroupInputData={this.props.Login.testGroupInputData}\r\n                                                            onComboChange={this.onComboChange}\r\n                                                            onInputOnChange={this.onInputOnChange}\r\n                                                            onNumericInputChange={this.onNumericInputChange}\r\n                                                        /> : this.props.Login.screenName === \"IDS_VIEWRULE\" ?\r\n                                                            <Row>\r\n                                                                <Col md={12}>\r\n                                                                    <OrgTree\r\n                                                                        data={this.ruleflowobject()}\r\n                                                                        horizontal={true}\r\n                                                                        collapsable={true}\r\n                                                                        expandAll={true}\r\n                                                                        labelClassName={\"ruletree\"}\r\n                                                                    /> \r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                               \r\n                                                            :  this.props.Login.screenName === \"IDS_VIEWOUTCOME\" ?\r\n                                                            <Row>\r\n                                                                <Col md={12}> \r\n                                                                    {this.props.Login.masterData.SelectedRulesEngine &&\r\n                                                                <CustomTab tabDetail={this.tabDetailRulesEngine()} onTabChange={this.onTabChangeRulesEngine} /> }\r\n                                                                </Col>\r\n                                                            </Row>:\"\"\r\n                        }\r\n                    />\r\n                }\r\n                {\r\n                    this.props.Login.openPortalModal &&\r\n                    <PortalModalSlideout\r\n                        show={this.props.Login.openPortalModal}\r\n                        closeModal={this.closePortalModal}\r\n                        screenName={this.props.intl.formatMessage({ id:this.props.Login.screenName})+\" - \"+this.props.Login.masterData.SelectedTest.stestsynonym}\r\n                        handleSaveClick={this.save}\r\n                        addComponent={\r\n                            (this.props.Login.operation === 'update' ? this.state.selectedRecord['groupList'] : true) &&\r\n                            <AddTestGroupRule\r\n                                productCategoryList={this.state.ProductCategoryList || []}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                databaseTableList={this.props.Login.databaseTableList}\r\n                                tableColumnList={this.state.tableColumnList}\r\n                                specificationOptions={this.state.TestGroupSpecificationList || []}\r\n                                componentOptions={this.state.ComponentList || []}\r\n                                foreignTableList={this.state.foreignTableList || []}\r\n                                foreignTableColumnList={this.props.Login.foreignTableColumnList || []}\r\n                                count={this.state.count}\r\n                                foreignTableCount={this.state.foreignTableCount}\r\n                                sqlQuery={this.state.sqlQuery}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                onInputChange={this.onInputChange}\r\n                                deleteRule={this.deleteRule}\r\n                                clearRule={this.clearRule}\r\n                                resetRule={this.resetRule}\r\n                                onSymbolChange={this.onSymbolChange}\r\n                                onRuleChange={this.onRuleChange}\r\n                                addRule={this.addRule}\r\n                                addTest={this.addTest}\r\n                                onConditionClick={this.onConditionClick}\r\n                                onMasterDataChange={this.onMasterDataChange}\r\n                                databaseviewList={this.props.Login.databaseviewList}\r\n                                addRuleList={this.props.Login.addRuleList || []}\r\n                                rulesOption={this.props.Login.masterData.rulesOption&&this.props.Login.masterData.rulesOption.filter(this.outComeTestsRemoveFromRules)}\r\n                                masterdata={this.props.Login.masterdata}\r\n                                switchRecord={this.state.switchRecord}\r\n                                data={this.state.data}\r\n                                dataResult={this.state.dataResult || []}\r\n                                dataState={this.state.dataState}\r\n                                dataStateChange={this.dataStateChange}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                gridColumnList={this.props.Login.gridColumnList || []}\r\n                                queryType={this.state.queryType}\r\n                                addAggregateList={this.props.Login.addAggregateList || []}\r\n                                addOrderbyList={this.props.Login.addOrderbyList || []}\r\n                                addGroup={this.addGroup}\r\n                                addGroupList={this.props.Login.addGroupList || []}\r\n                                onFilterComboChange={this.onFilterComboChange}\r\n                                selectFields={this.props.Login.selectFields || []}\r\n                                SelectedProductCategory={this.props.Login.masterData.SelectedProductCategory}\r\n                                DiagnosticCaseList={this.props.Login.masterData.DiagnosticCaseList}\r\n                                GradeList={this.props.Login.masterData.GradeList}\r\n                                PredefinedParameterOptions={this.props.Login.masterData.PredefinedParameterOptions} \r\n                                siteList={this.props.Login.masterData.siteList}\r\n                                resultTypeList={this.props.Login.masterData.resultTypeList}\r\n                                isResultorOrderType={this.state.isResultorOrderType}\r\n                                optionsByRule={this.state.optionsByRule || this.props.Login.masterData.DiagnosticCaseList}\r\n                                changePropertyView={this.changePropertyView}\r\n                                splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                activeTabIndex={this.props.Login.activeTabIndex}\r\n                                enablePropertyPopup={this.state.enablePropertyPopup}\r\n                                propertyPopupWidth={this.state.propertyPopupWidth}\r\n                                controlMap={this.state.controlMap}\r\n                                sectionDataState={this.state.sectionDataState}\r\n                                masterData={this.props.Login.masterData}\r\n                                intl={this.props.intl}\r\n                                addOutcomeList={this.props.Login.addOutcomeList && this.props.Login.addOutcomeList || []}\r\n                                deleteOutcome={this.deleteOutcome}\r\n                                onmodalComboChange={this.onmodalComboChange}\r\n                                openModalPopup={this.props.Login.openModalPopup}\r\n                                closeModalShow={this.closeModalShow}\r\n                                modalsaveClick={this.modalsaveClick}\r\n                                getOutcomeDetails={this.getOutcomeDetails}\r\n                                addModalSite={this.addModalSite}\r\n                                action={this.props.Login.action}\r\n                                deletModalSite={this.deletModalSite}\r\n                                deleteModalTest={this.deleteModalTest}\r\n                                activeTestTab={this.props.Login.activeTestTab}\r\n                                testcomments={this.props.Login.testcomments}\r\n                                reportcomments={this.props.Login.reportcomments}\r\n                                addComments={this.addComments}\r\n                                CommentType={this.props.Login.CommentType}\r\n                                CommentSubType={this.props.Login.CommentSubType}\r\n                                isneedsgeneralcomments={this.state.isneedsgeneralcomments}\r\n                                predefcomments={this.props.Login.predefcomments}\r\n                                needoutsource={this.state.selectedRecord['needoutsource'] && this.state.selectedRecord['needoutsource'] === 3 ? true : false}\r\n                                openmodalsavePopup={this.props.Login.openmodalsavePopup}\r\n                                save={this.save}\r\n                                dataStateObject={this.state.dataStateObject}\r\n                                paneSizeChange={this.paneSizeChange}\r\n                                testInitiateTestCombo={this.props.Login.testInitiateTestCombo && this.viewColumnListByRule(this.props.Login.testInitiateTestCombo)}\r\n                                testCommentsTestCombo={this.props.Login.testCommentsTestCombo && this.viewColumnListByRule(this.props.Login.testCommentsTestCombo)}\r\n                                testRepeatTestCombo={this.props.Login.testRepeatTestCombo && this.viewColumnListByRule(this.props.Login.testRepeatTestCombo)}\r\n                                testenforceTestCombo={this.props.Login.testenforceTestCombo &&this.props.Login.testenforceTestCombo}\r\n                                dataStateChangetestRepeat={this.dataStateChangetestRepeat}\r\n                                dataStateChangetestEnforce={this.dataStateChangetestEnforce}\r\n                                dataStatetestEnforce={this.state.dataStatetestEnforce}\r\n                                dataStatetestRepeat={this.state.dataStatetestRepeat}\r\n                                testGroupTestParameterRulesEngine={this.props.Login.masterData.testGroupTestParameterRulesEngine}\r\n                                onRuleInputChange={this.onRuleInputChange}\r\n                                onRuleNumericInputOnChange={this.onRuleNumericInputOnChange} \r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n\r\n    ConfirmDelete = (obj) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteRecord(obj));\r\n    }\r\n\r\n    handlePageChange = (event) => {\r\n        this.setState({\r\n            testskip: event.skip,\r\n            testtake: event.take\r\n        });\r\n    }\r\n\r\n    findMandatoryFields(screenName, selectedRecord) {\r\n        let mandyFields = [];\r\n        if (screenName === \"IDS_SPECFILE\") {\r\n            if (selectedRecord && selectedRecord.nattachmenttypecode === attachmentType.LINK) {\r\n                mandyFields = [\r\n                    { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"slinkfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n                    { \"idsName\": \"IDS_LINKNAME\", \"dataField\": \"nlinkcode\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n                ];\r\n            } else {\r\n                //if (this.props.Login.operation === 'update') {\r\n                mandyFields = [\r\n                    { \"idsName\": \"IDS_FILE\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n                ];\r\n                // }\r\n            }\r\n        } else {\r\n            return [];\r\n        }\r\n        let finalMandyFields = [];\r\n        mandyFields.forEach(item => item.mandatory === true && finalMandyFields.push(item));\r\n        return finalMandyFields;\r\n    }\r\n\r\n    viewTestFile = (props) => {\r\n        const viewParam = {\r\n            operation: \"view\",\r\n            methodUrl: \"TestGroupTestFile\",\r\n            classUrl: \"testgroup\",\r\n            inputData: {\r\n                ntestgroupfilecode: props.selectedTest ? props.selectedTest.ntestgroupfilecode : 0,\r\n                userinfo: this.props.Login.userInfo,\r\n                testgroupspecification: this.props.Login.masterData.SelectedSpecification,\r\n                ntestgrouptestcode: props.selectedTest ? props.selectedTest.ntestgrouptestcode : 0\r\n            }\r\n        }\r\n        this.props.viewAttachment(viewParam)\r\n    }\r\n\r\n    fileViewIcon = (master) => {\r\n        if (master.ntestgroupfilecode > 0 && master.nlinkcode === transactionStatus.NA) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    linkViewIcon = (master) => {\r\n        if (master.ntestgroupfilecode > 0 && master.nlinkcode !== transactionStatus.NA) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    showSpecAndTestInfo() {\r\n        this.setState({ showTest: !this.state.showTest, testView: false })\r\n        this.updateSpiltterLayout()\r\n\r\n    }\r\n    showSpecAndTestInfo1() {\r\n        this.setState({ showTest: !this.state.showTest, testView: true })\r\n        //this.updateSpiltterLayout()\r\n\r\n    }\r\n\r\n    onFilterSumbit = () => {\r\n        const tempFilterData = this.state.tempFilterData;\r\n        if (tempFilterData.nsampletypecode === undefined) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SAMPLETYPENOTAVAILABLE\" }));\r\n        } else if (tempFilterData.nproductcatcode === \"\") {\r\n            if (tempFilterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORYNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_CATEGORYNOTAVAILABLE\" }));\r\n            }\r\n        }\r\n        // else if(tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO){\r\n        else if ((tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO && tempFilterData.nproductcode === \"\" && \r\n        tempFilterData.nsampletypecode.item.ncategorybasedflowrequired === transactionStatus.NO) ||\r\n            (tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO && tempFilterData.nproductcode === undefined  && \r\n                tempFilterData.nsampletypecode.item.ncategorybasedflowrequired === transactionStatus.NO) ) {\r\n            \r\n                if (tempFilterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY && tempFilterData.nsampletypecode.item.ncategorybasedflowrequired === transactionStatus.NO ) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            }\r\n        }\r\n        // }\r\n        else if (tempFilterData.ntreeversiontempcode === \"\") {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\" }));\r\n        } else {\r\n            const inputParam = {\r\n                inputData: {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nsampletypecode: tempFilterData.nsampletypecode.value,\r\n                    nproductcatcode: tempFilterData.nproductcatcode.value,\r\n                    nproductcode: tempFilterData.nsampletypecode.item.ncategorybasedflowrequired === transactionStatus.YES ? -1 : \r\n                    \r\n                    tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.YES ? -1 : tempFilterData.nproductcode ? tempFilterData.nproductcode.value : -1,\r\n                    ntreeversiontempcode: tempFilterData.ntreeversiontempcode.value,\r\n                    nprojectmastercode: tempFilterData.nsampletypecode.value === SampleType.PROJECTSAMPLETYPE ?  tempFilterData.nsampletypecode.item.nprojectspecrequired=== transactionStatus.YES ? tempFilterData.nprojectmastercode.value :-1 : -1,\r\n                    filterData: { ...tempFilterData },\r\n                },\r\n                historyDataState: this.state.historyDataState\r\n            }\r\n            this.props.filterTestGroup(inputParam, this.props.Login.masterData, this.searchRef);\r\n        }\r\n    }\r\n\r\n    onTreeClick = (event) => {\r\n        const inputParam = {\r\n            methodUrl: \"TestGroupSpecification\",\r\n            screenName: \"IDS_SPECIFICATION\",\r\n            operation: \"get\",\r\n            keyName: \"treetemplatemanipulation\",\r\n            userinfo: this.props.Login.userInfo,\r\n            selectedRecord: event.item,\r\n            activeKey: event.key,\r\n            focusKey: event.key,\r\n            primaryKey: event.primaryKey,\r\n            historyDataState: this.state.historyDataState\r\n        };\r\n        this.props.getSpecification(inputParam, this.props.Login.masterData, this.searchRef);\r\n    }\r\n\r\n    tabDetail = () => {\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_FILE\",\r\n            <TestGroupSpecFile\r\n                controlMap={this.state.controlMap}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                userInfo={this.props.Login.userInfo}\r\n                inputParam={this.props.Login.inputParam}\r\n                deleteRecord={this.deleteRecord}\r\n                testGroupSpecFile={this.props.Login.masterData.TestGroupSpecFile || []}\r\n                selectedSpecification={this.props.Login.masterData.SelectedSpecification}\r\n                addTestFile={this.addFile}\r\n                editSpecFile={this.props.editSpecFile}\r\n                filterData={this.state.filterData}\r\n                viewTestFile={this.viewTestFile}\r\n                defaultRecord={this.defaultRecord}\r\n                screenName=\"IDS_FILE\"\r\n                viewAttachment={this.props.viewAttachment}\r\n                settings={this.props.Login.settings}\r\n                masterData={this.props.Login.masterData}\r\n            />);\r\n        tabMap.set(\"IDS_SPECIFICATIONHISTORY\",\r\n            <SpecificationHistory\r\n                data={this.props.Login.masterData.TestGroupSpecificationHistory}\r\n                dataResult={process(this.props.Login.masterData.TestGroupSpecificationHistory || [], this.state.historyDataState)}\r\n                dataState={this.state.historyDataState}\r\n                dataStateChange={this.historyDataStateChange}\r\n\r\n                // testGroupSpecificationHistory={this.props.Login.masterData.TestGroupSpecificationHistory}\r\n                // dataState={this.props.Login.screenName === \"IDS_SPECIFICATIONHISTORY\" ? this.state.historyDataState : { skip: 0, take: 10 }}\r\n                controlMap={this.state.controlMap}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                userInfo={this.props.Login.userInfo}\r\n                inputParam={this.props.Login.inputParam}\r\n                screenName=\"IDS_SPECIFICATIONHISTORY\"\r\n            />);\r\n        return tabMap;\r\n    }\r\n\r\n    historyDataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.TestGroupSpecificationHistory || [], event.dataState),\r\n            historyDataState: event.dataState\r\n        });\r\n    }\r\n    specDataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.TestGroupTestClinicalSpec || [], event.dataState),\r\n            clinicalspecDataState: event.dataState\r\n        });\r\n    }\r\n    addFile = (userInfo, operation, ncontrolCode, screenName, modalName, nflag) => {\r\n        // const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\r\n        // if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n        //     || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n        //     this.props.addTestFile(userInfo, operation, ncontrolCode, screenName, modalName, nflag);\r\n        // } else {\r\n        //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n        // }\r\n\r\n        const masterData = this.props.Login.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                this.props.addTestFile(userInfo, operation, ncontrolCode, screenName, modalName);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    componentRowClick = (event) => {\r\n        let masterData = this.props.Login.masterData;\r\n        masterData[\"SelectedComponent\"] = event.testgroupspecsampletype[0];\r\n        const inputParam = {\r\n            testgroupspecsampletype: event.testgroupspecsampletype[0],\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        this.props.getTestGroupComponentDetails(inputParam, masterData, this.searchRef);\r\n    }\r\n\r\n    deleteTest = (deleteParam) => {\r\n        const masterData = this.props.Login.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            const testgroupspecification = masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                const testgrouptest = deleteParam.props.testgrouptest;\r\n                const inputParam = {\r\n                    inputData: {\r\n                        testgrouptest,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        testgroupspecification,\r\n                        ntreeversiontempcode: deleteParam.filterData.ntreeversiontempcode.value\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: \"delete\",\r\n                    methodUrl: \"Test\",\r\n                    screenName: \"IDS_TEST\",\r\n                    postParam: {\r\n                        inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                        primaryKeyValue: testgrouptest.ntestgrouptestcode,\r\n                        fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n                        masterData, searchFieldList, unchangeList: [\"TestGroupSpecification\", \"SelectedSpecification\",\r\n                            \"SampleType\", \"TreeVersionTemplate\", \"ProductCategory\", \"SelectedTest\", \"Product\",\r\n                            \"AgaramTree\", \"OpenNodes\", \"selectedNode\", \"FocusKey\", \"ActiveKey\", \"SelectedComponent\", \"TestGroupSpecSampleType\"]//, isSingleSelect: true\r\n                    }\r\n                }\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData },\r\n                            openModal: true, screenName: \"IDS_TEST\", operation: \"delete\", selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Default\"\r\n                || this.props.Login.operation === 'approve' || this.props.Login.operation === 'complete') {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            } else {\r\n                loadEsign = false;\r\n                selectedRecord[\"agree\"] = 4;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason'] = \"\"\r\n\r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onInputOnChange = (event, caseNo, optional) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                if (event.target.type === 'checkbox') {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\r\n                } else if (event.target.type === 'radio') {\r\n                    selectedRecord[event.target.name] = optional;\r\n                    // selectedRecord[\"sfilename\"] = \"\";\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[event.target.name] = event.target.value;\r\n\r\n                const indexKey = Object.keys(optional)[0];\r\n                const value = Object.values(optional)[0];\r\n                const treeData = {\r\n                    ntreeversiontempcode: value.ntreeversiontempcode,\r\n                    npositioncode: value.nlevelno - 1,\r\n                    sleveldescription: event.target.value,\r\n                    ntemptranstestgroupcode: value.ntemptranstestgroupcode,\r\n                    nformcode: 62,\r\n                    schildnode: \"\",\r\n                    nnextchildcode: value.schildnode !== null ? value.schildnode : -1,\r\n                    ntemplatemanipulationcode: value.ntemplatemanipulationcode,\r\n                    isreadonly: value.ntemplatemanipulationcode > 0 ? true : false,\r\n                    slevelformat: value.slevelformat\r\n                }\r\n                let treetemplatemanipulation = selectedRecord.treetemplatemanipulation || [];\r\n                treetemplatemanipulation[indexKey] = treeData;\r\n                selectedRecord[\"treetemplatemanipulation\"] = treetemplatemanipulation;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    onEsignInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    //Rules Engine Functions Start\r\n    ruleflowobject() {\r\n        let object = {}\r\n        const labelColor = ['#e63109', '#2fb47d', '#eaa203', '#6554c0'];\r\n        const labelBGColor = ['#fcd7cd', '#e5f8f1', '#fcf3dd', '#e7e6f5'];\r\n        const borderColor = ['#e6310', '#c6f6e4', '#fde2a4', '#cbc5f7'];\r\n        let groupList = this.props.Login.masterData.SelectedRulesEngine['jsondata']\r\n        let groupListJoins = this.props.Login.masterData.SelectedRulesEngine['jsonuidata'] &&\r\n            this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['groupListJoins']\r\n        let children = []\r\n        let parent = []\r\n        let grandparent = []\r\n        groupList.map((groupobject, index) => {\r\n            if (groupobject.hasOwnProperty('button_or')) {\r\n                children = []\r\n                let rulesList = groupobject['button_or']\r\n                rulesList.map((rule, index) => {\r\n                    children.push(\r\n                        {\r\n                            id: index, label: <>{(rule['stestname'].label) //+ \" -> \" + (this.props.intl.formatMessage({ id: \"IDS_WITH\" })) \r\n                            + \" -> \" +\r\n                                (rule['orderresulttype'].label) + \" -> \" +\r\n                                (rule['ssymbolname'].label) + \" -> \" + ( rule['ndiagnosticcasecode']&& rule['ndiagnosticcasecode'].label ||\r\n                                rule['ngradecode']&&rule['ngradecode'].label||  rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||\r\n                                rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']|| rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label)\r\n\r\n                            }</>\r\n                        }\r\n                    )\r\n                })\r\n                if(groupList.length===1?rulesList.length>1:true){\r\n                 parent.push({ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_OR\" })}</div>, children: children }) \r\n                }\r\n            }\r\n            if (groupobject.hasOwnProperty('button_and')) {\r\n                children = []\r\n                let rulesList = groupobject['button_and']\r\n                rulesList.map((rule, index) => {\r\n                    children.push(\r\n                        {\r\n                            id: index, label: <>{\r\n\r\n                                (rule['stestname'].label) //+ \" -> \" + (this.props.intl.formatMessage({ id: \"IDS_WITH\" })) \r\n                                + \" -> \" +\r\n                                (rule['orderresulttype'].label) + \" -> \" +\r\n                                (rule['ssymbolname'].label) + \" -> \" +  ( rule['ndiagnosticcasecode']&& rule['ndiagnosticcasecode'].label ||\r\n                                rule['ngradecode']&&rule['ngradecode'].label||  rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||\r\n                                rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']|| rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label)\r\n\r\n\r\n                            }</>\r\n                        }\r\n                    )\r\n                })\r\n                if(groupList.length===1?rulesList.length>1:true){\r\n                parent.push({ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_AND\" })}</div>, children: children })\r\n                }\r\n            }\r\n            if (groupobject.hasOwnProperty('button_not_button_and')) {\r\n                children = []\r\n                let rulesList = groupobject['button_not_button_and']\r\n                rulesList.map((rule, index) => {\r\n                    children.push(\r\n                        {\r\n                            id: index, label: <>{(rule['stestname'].label) //+ \" -> \" + (this.props.intl.formatMessage({ id: \"IDS_WITH\" })) \r\n                            + \" -> \" +\r\n                                (rule['orderresulttype'].label) + \" -> \" +\r\n                                (rule['ssymbolname'].label) + \" -> \" +  ( rule['ndiagnosticcasecode']&& rule['ndiagnosticcasecode'].label ||\r\n                                rule['ngradecode']&&rule['ngradecode'].label||  rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||\r\n                                rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']|| rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label)\r\n\r\n                            }</>\r\n                        }\r\n                    )\r\n                })\r\n                let notarray = [{ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_AND\" })}</div>, children: children }]\r\n                if(groupList.length===1?rulesList.length>1:true){\r\n                parent.push({ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_NOT\" })}</div>, children: notarray })\r\n                }\r\n            }\r\n            if (groupobject.hasOwnProperty('button_not_button_or')) {\r\n                children = []\r\n                let rulesList = groupobject['button_not_button_or']\r\n                rulesList.map((rule, index) => {\r\n                    children.push(\r\n                        {\r\n                            id: index, label: <>{(rule['stestname'].label)// + \" -> \" + (this.props.intl.formatMessage({ id: \"IDS_WITH\" })) \r\n                            + \" -> \" +\r\n                                (rule['orderresulttype'].label) + \" -> \" +\r\n                                (rule['ssymbolname'].label) + \" -> \" +  ( rule['ndiagnosticcasecode']&& rule['ndiagnosticcasecode'].label ||\r\n                                rule['ngradecode']&&rule['ngradecode'].label||  rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||\r\n                                rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']|| rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label)\r\n\r\n                            }</>\r\n                        }\r\n                    )\r\n                })\r\n                let notarray = [{ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_OR\" })}</div>, children: children }]\r\n                if(groupList.length===1?rulesList.length>1:true){\r\n                parent.push({ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_NOT\" })}</div>, children: notarray })\r\n                }\r\n            }\r\n        })\r\n\r\n        if (groupListJoins !== undefined) {\r\n            groupListJoins.map((join, index) => {\r\n                let parentjoins = []\r\n                if (join.hasOwnProperty('button_or') && join['button_or'] === true) {\r\n                    let notarray = []\r\n                    parentjoins.push(parent[index])\r\n                    parentjoins.push(parent[index + 1])\r\n                    if (join.hasOwnProperty('button_not') && join['button_not'] === true) {\r\n                        notarray = [{\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_OR\" })} </div>// 'button_or'\r\n                            , children: parentjoins\r\n                        }]\r\n                        grandparent.push({\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_NOT\" })} </div>// 'button_or'\r\n                            , children: notarray\r\n                        })\r\n                    }\r\n                    else {\r\n                        grandparent.push({\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_OR\" })} </div>// 'button_or'\r\n                            , children: parentjoins\r\n                        })\r\n                    }\r\n                }\r\n                if (join.hasOwnProperty('button_and') && join['button_and'] === true) {\r\n                    let notarray = []\r\n                    parentjoins.push(parent[index])\r\n                    parentjoins.push(parent[index + 1])\r\n                    if (join.hasOwnProperty('button_not') && join['button_not'] === true) {\r\n                        notarray = [{\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_AND\" })} </div>// 'button_or'\r\n                            , children: parentjoins\r\n                        }]\r\n                        grandparent.push({\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_NOT\" })} </div>// 'button_or'\r\n                            , children: notarray\r\n                        })\r\n                    }\r\n                    else {\r\n                        grandparent.push({\r\n                            id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_AND\" })}</div>// 'button_and'\r\n                            , children: parentjoins\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        object = grandparent.length > 0 ?\r\n            {\r\n                id: 0,\r\n                label: <div className=\"btn btn-primary\" >{this.props.Login.masterData.SelectedRulesEngine.srulename} </div>,\r\n                children: grandparent\r\n            }\r\n            : {\r\n                id: 0,\r\n                label: <div className=\"btn btn-primary\" >{this.props.Login.masterData.SelectedRulesEngine.srulename} </div>,\r\n                children: parent.length!==0?parent:children\r\n            }\r\n        return object\r\n    }\r\n    onTabChangeRulesEngine = (tabProps) => {\r\n        let masterData = this.props.Login.masterData && this.props.Login.masterData\r\n        masterData['activeTabName'] = tabProps.activeTabName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { masterData }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    tabDetailRulesEngine = () => {\r\n        let masterData = this.props.Login.masterData || {};\r\n        let jsonuidata = this.props.Login.masterData.SelectedRulesEngine && this.props.Login.masterData.SelectedRulesEngine['jsonuidata'] \r\n        const tabMap = new Map();\r\n        {\r\n            tabMap.set(\"IDS_Test\",\r\n                <DataGrid\r\n                    key=\"testsectionkey\"\r\n                    primaryKeyField=\"nresultusedmaterialcode\"\r\n                    expandField=\"expanded\"\r\n                    handleExpandChange={this.handleExpandChange} \r\n                    dataResult={this.props.Login.masterData.SelectedRulesEngine &&\r\n                        this.props.Login.masterData.SelectedRulesEngine && process(\r\n                            sortData(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testInitiateTests'], \"descending\", \"npkAtestparametercode\")\r\n                            || [],\r\n                            this.state.dataStatetestinitiate\r\n                                ? this.state.dataStatetestinitiate : { skip: 0, take: 10 })} \r\n                    dataState={this.state.dataStatetestinitiate\r\n                        ? this.state.dataStatetestinitiate : { skip: 0, take: 10 }} \r\n                    dataStateChange={this.dataStateChangetestinitiateTab}\r\n\r\n                    extractedColumnList={[\r\n                        { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" } \r\n                    ]}\r\n                    controlMap={this.state.controlMap}\r\n                    userRoleControlRights={this.state.userRoleControlRights}\r\n                    pageable={true} \r\n                    scrollable={'scrollable'}\r\n                    hideColumnFilter={false}\r\n                    selectedId={0} \r\n                    deleteParam={{ operation: \"delete\" }} \r\n                    hasChild={true}\r\n                    childMappingField={'npkAtestparametercode'}\r\n                    childColumnList={[\r\n                        { \"idsName\": \"IDS_TOSITE\", \"dataField\": \"stositename\", \"width\": \"200px\" },\r\n                        { \"idsName\": \"IDS_FROMSITE\", \"dataField\": \"sfromsitename\", \"width\": \"200px\" }\r\n                        \r\n                    ]}\r\n                    childList={this.state.childListMap}\r\n                    activeTabName={\"IDS_Test\"}\r\n                    gridHeight = {'400px'}\r\n                >\r\n                </DataGrid>); \r\n            tabMap.set(\"IDS_COMMENTS\",\r\n            <DataGrid\r\n                key=\"testsectionkey\"\r\n                primaryKeyField=\"nresultusedmaterialcode\" \r\n                handleExpandChange={this.handleExpandChange} \r\n                dataResult={this.props.Login.masterData.SelectedRulesEngine && process(\r\n                    sortData(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentsTestsTab'], \"descending\", \"nslno\")\r\n                    || [],\r\n                    this.state.dataState\r\n                        ? this.state.dataState : { skip: 0, take: 10 })} \r\n                dataState={this.state.dataState\r\n                    ? this.state.dataState : { skip: 0, take: 10 }} \r\n                dataStateChange={this.dataStateChange} \r\n                controlMap={this.state.controlMap}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                pageable={true} \r\n                scrollable={'scrollable'}\r\n                hideColumnFilter={false}\r\n                selectedId={0} \r\n                deleteParam={{ operation: \"delete\" }} \r\n                childMappingField={'npkBtestparametercode'} \r\n                extractedColumnList={[\r\n                    { \"idsName\": \"IDS_DESCRIPTION\", \"dataField\": \"sdescription\", \"width\": \"200px\" },\r\n                    { \"idsName\": \"IDS_RESULTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" },\r\n                    { \"idsName\": \"IDS_COMMENTSUBTYPE\", \"dataField\": \"scommentsubtype\", \"width\": \"200px\" }, \r\n                    { \"idsName\": \"IDS_COMMENTTYPE\", \"dataField\": \"scommenttype\", \"width\": \"200px\" } ,\r\n                    { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" }   \r\n                ]}\r\n                childList={this.state.childListMap2 && this.state.childListMap2}\r\n                activeTabName={\"IDS_COMMENTS\"}\r\n                gridHeight = {'400px'}\r\n                >\r\n            </DataGrid>\r\n        ); \r\n        tabMap.set(\"IDS_REPEAT\",\r\n        <DataGrid\r\n            key=\"testsectionkey\"\r\n            primaryKeyField=\"nresultusedmaterialcode\"  \r\n            dataResult={this.props.Login.masterData.SelectedRulesEngine && process(\r\n                sortData(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testRepeatTestsTab'], \"descending\", \"npkCtestparametercode\")\r\n                || [],\r\n                this.state.dataStaterepeatTab\r\n                    ? this.state.dataStaterepeatTab : { skip: 0, take: 10 })} \r\n            dataState={this.state.dataStaterepeatTab\r\n                ? this.state.dataStaterepeatTab : { skip: 0, take: 10 }} \r\n            dataStateChange={this.dataStateChangeRepeatTab} \r\n            controlMap={this.state.controlMap}\r\n            userRoleControlRights={this.state.userRoleControlRights}\r\n            pageable={true} \r\n            scrollable={'scrollable'}\r\n            hideColumnFilter={false}\r\n            selectedId={0} \r\n            deleteParam={{ operation: \"delete\" }}  \r\n            extractedColumnList={[ \r\n                { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_REPEATCOUNT\", \"dataField\": \"nrepeatcountno\", \"width\": \"200px\" }  \r\n\r\n            ]} \r\n            activeTabName={\"IDS_COMMENTS\"}\r\n            gridHeight = {'400px'}\r\n            >\r\n        </DataGrid>\r\n    ); \r\n    tabMap.set(\"IDS_ENFORCERESULT\",\r\n    <DataGrid\r\n        key=\"testsectionkey\"\r\n        primaryKeyField=\"nresultusedmaterialcode\"  \r\n        dataResult={this.props.Login.masterData.SelectedRulesEngine && process(\r\n            sortData(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testenforceTestsTab'], \"descending\", \"npkDtestparametercode\")\r\n            || [],\r\n            this.state.dataStateChangenforceTab\r\n                ? this.state.dataStateChangenforceTab : { skip: 0, take: 10 })} \r\n        dataState={this.state.dataStateChangenforceTab\r\n            ? this.state.dataStateChangenforceTab : { skip: 0, take: 10 }} \r\n        dataStateChange={this.dataStateChangenforceTab} \r\n        controlMap={this.state.controlMap}\r\n        userRoleControlRights={this.state.userRoleControlRights}\r\n        pageable={true} \r\n        scrollable={'scrollable'}\r\n        hideColumnFilter={false}\r\n        selectedId={0} \r\n        deleteParam={{ operation: \"delete\" }}  \r\n        extractedColumnList={[ \r\n            { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" }, \r\n            { \"idsName\": \"IDS_PARAMETERS\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_PASSFLAG\", \"dataField\": \"sgradename\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_RESULTS\", \"dataField\": \"senforcestatuscomment\", \"width\": \"200px\" }\r\n        ]} \r\n        activeTabName={\"IDS_COMMENTS\"}\r\n        gridHeight = {'400px'}\r\n        >\r\n    </DataGrid>\r\n); \r\n        }\r\n        return tabMap;\r\n    }\r\n    dataStateChange = (event, ntestgrouptestparametercode) => {\r\n        let dataStateObject = this.state.dataStateObject || {}\r\n        if (ntestgrouptestparametercode) {\r\n            dataStateObject = {\r\n                ...dataStateObject,\r\n                [ntestgrouptestparametercode]: event.dataState\r\n            }\r\n            this.setState({\r\n                dataStateObject\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                dataState: event.dataState\r\n            });\r\n        }\r\n\r\n    }\r\n    dataStateChangetestRepeat = (event) => {\r\n        this.setState({\r\n            //  dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataStatetestRepeat: event.dataState\r\n        });\r\n    }\r\n    dataStateChangetestEnforce = (event) => {\r\n        this.setState({\r\n            //  dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataStatetestEnforce: event.dataState\r\n        });\r\n    }\r\n    dataStateChangetestinitiateTab = (event) => {\r\n        this.setState({\r\n            //  dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataStatetestinitiate: event.dataState\r\n        });\r\n    }\r\n    dataStateChangeRepeatTab = (event) => {\r\n        this.setState({\r\n            //  dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataStaterepeatTab: event.dataState\r\n        });\r\n    } \r\n    dataStateChangenforceTab = (event) => {\r\n        this.setState({\r\n            //  dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataStateChangenforceTab: event.dataState\r\n        });\r\n    } \r\n    dataStateChangeMain = (event) => {\r\n        this.setState({\r\n            dataResultMain: process(this.props.Login.queryDataMain, event.dataStateMain),\r\n            dataStateMain: event.dataStateMain\r\n        });\r\n    }\r\n    ConfirmDeleteRule = (deleteId) => {\r\n        if(this.props.Login.masterData['RulesEngine']&&this.props.Login.masterData['RulesEngine'].length>0){ \r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.handleClickDelete(this.props.Login.masterData, deleteId, \"openModal\"));\r\n        }\r\n        else{\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTRULETODELETE\" })); \r\n        }\r\n    }\r\n    handleClickDelete(masterData, ncontrolcode//, modalName\r\n    ) {\r\n      \r\n        const fieldArray = [];\r\n        const inputParam = {\r\n            methodUrl: \"TestGroupRulesEngine\",\r\n            classUrl: \"testgrouprulesengine\",\r\n            inputData: {\r\n                \"ntestgrouptestcode\": this.props.Login.masterData.SelectedTest.ntestgrouptestcode,\r\n                \"ntestgrouprulesenginecode\": this.props.Login.masterData.SelectedRulesEngine.ntestgrouprulesenginecode,\r\n                \"userinfo\": this.props.Login.userInfo,\r\n            },\r\n            operation: \"delete\", //postParam,\r\n            displayName: \"RulesEngine\",\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },// [modalName]: true,\r\n                    operation: 'delete', screenName: \"IDS_RULESENGINE\", id: \"RulesEngine\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, undefined\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n\r\n    approveVersion(masterData, nflag, ncontrolcode//, modalName\r\n    ) {\r\n        if (masterData['RulesEngine']&&masterData['RulesEngine'].length > 0) {\r\n            const fieldArray = [];\r\n            const inputParam = {\r\n                methodUrl: \"TestGroupRulesEngine\",\r\n                classUrl: \"testgrouprulesengine\",\r\n                inputData: {\r\n                    \"ntestgrouptestcode\": this.props.Login.masterData.SelectedTest.ntestgrouptestcode,\r\n                    \"ntestgrouprulesenginecode\": this.props.Login.masterData.SelectedRulesEngine.ntestgrouprulesenginecode,\r\n                    \"userinfo\": this.props.Login.userInfo, nflag: nflag\r\n                },\r\n                operation: \"approve\", //postParam,\r\n                displayName: \"RulesEngine\",\r\n            }\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolcode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },// [modalName]: true,\r\n                        operation: 'delete', screenName: \"IDS_RULESENGINE\", id: \"RulesEngine\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, undefined\r\n                );\r\n            }\r\n        }\r\n        else {\r\n            if(nflag==1)\r\n            { \r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTRULETOAPPROVE\" }));  \r\n            }\r\n            else\r\n            { \r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTRULETORETIRE\" }));  \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    closeModalShow = () => {\r\n        let openModalPopup = this.props.Login.openModalPopup;\r\n        let selectedRecord = this.props.Login.selectedRecord || {};\r\n        selectedRecord['srulename'] = \"\"\r\n        openModalPopup = false;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModalPopup, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onsavevalidation = (selectedRecord) => {\r\n        let grouplist = selectedRecord[\"groupList\"]\r\n        let hasAll = true;\r\n        for (var i = 0; i < grouplist.length; i++) {\r\n            let rules = grouplist[i]\r\n            for (var j = 0; j < rules.length; j++) {\r\n                let props = []\r\n                if (rules[j][\"orderresulttype\"] && rules[j][\"orderresulttype\"].value === 1) {\r\n                    props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ndiagnosticcasecode\"];\r\n                }\r\n                else if (rules[j][\"orderresulttype\"] && rules[j][\"orderresulttype\"].value === 3) {\r\n                    if(rules[j][\"stestname\"] && rules[j][\"stestname\"]['item']['nparametertypecode'] === parameterType.PREDEFINED)\r\n                    {\r\n                        props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ntestgrouptestpredefcode\"]; \r\n\r\n                    }\r\n                    else if(rules[j][\"stestname\"] && rules[j][\"stestname\"]['item']['nparametertypecode'] === parameterType.CHARACTER)\r\n                    {\r\n                        props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ntestgrouptestcharcode\"]; \r\n\r\n                    }\r\n                    else if (rules[j][\"stestname\"] && rules[j][\"stestname\"]['item']['nparametertypecode'] === parameterType.NUMERIC)\r\n                    {\r\n                        props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ntestgrouptestnumericcode\"]; \r\n\r\n                    } \r\n                    else\r\n                    {\r\n                        if (rules[j][\"orderresulttype\"] && rules[j][\"orderresulttype\"].value === 1) {\r\n                            props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ndiagnosticcasecode\"];\r\n                        }\r\n                        else {\r\n                            props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ngradecode\"];\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ngradecode\"];\r\n                }\r\n                hasAll = props.every(prop => rules[j].hasOwnProperty(prop));\r\n                if (hasAll === false) {\r\n                    break;\r\n                }\r\n            }\r\n            if (hasAll === false) {\r\n                break;\r\n            }\r\n        }\r\n        return hasAll\r\n    }\r\n    save = () => {\r\n        let inputData = [];\r\n        let siteObject = this.props.Login.siteObject || {};\r\n        let testCommentObject = this.props.Login.testCommentObject || {};\r\n        let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n        let PredefinedParameterOptions= this.props.Login.masterData.PredefinedParameterOptions||[]  \r\n\r\n        let testInitiateTests = this.props.Login.testInitiateTests || [];\r\n        let testCommentsTests = this.props.Login.testCommentsTests || [];\r\n        let reportCommentsTests = this.props.Login.reportCommentsTests || [];\r\n \r\n        let testRepeatTests = this.props.Login.testRepeatTests || [];\r\n        let testenforceTests = this.props.Login.testenforceTests || [];\r\n        let testsInvolvedInRules=[]\r\n        let testsNameInvolvedInRules=[]\r\n\r\n        const { selectedRecord } = this.state;\r\n        let rules = []\r\n        //  if (selectedRecord[\"nproductcatcode\"]) {\r\n            if(testInitiateTests.length > 0||testCommentsTests.length > 0||testRepeatTests.length > 0||testenforceTests.length > 0){\r\n        if (selectedRecord[\"groupList\"].length > 0) {\r\n            if (this.onsavevalidation(selectedRecord)) {\r\n                if (selectedRecord[\"srulename\"] && selectedRecord[\"srulename\"] !== \"\" && this.props.Login.action !== 'update'\r\n                    && this.props.Login.action !== 'IDS_ADDTESTCOMMENTS' && this.props.Login.action !== 'IDS_ADDREPORTCOMMENTS'\r\n                    && this.props.Login.action !== 'IDS_ADDTEST' && this.props.Login.action !== 'IDS_ADDSITE'\r\n                ) {\r\n\r\n                    if (selectedRecord[\"groupList\"]) {\r\n                        let groupList = [];\r\n                        let outcomeList = {};\r\n                        groupList = selectedRecord[\"groupList\"];\r\n\r\n                        outcomeList['groupList'] = groupList\r\n                        outcomeList['addGroupList'] = this.props.Login.addGroupList\r\n                        outcomeList['testInitiateTests'] = this.props.Login.testInitiateTests && this.props.Login.testInitiateTests\r\n                        outcomeList['testCommentsTests'] = this.props.Login.testCommentsTests && this.props.Login.testCommentsTests\r\n                        outcomeList['testRepeatTests'] = this.props.Login.testRepeatTests && this.props.Login.testRepeatTests\r\n                        outcomeList['testenforceTests'] = this.props.Login.testenforceTests && this.props.Login.testenforceTests\r\n\r\n                        outcomeList['reportCommentsTests'] = this.props.Login.reportCommentsTests && this.props.Login.reportCommentsTests\r\n                        outcomeList['siteObject'] = this.props.Login.siteObject && this.props.Login.siteObject\r\n                        outcomeList['testCommentObject'] = this.props.Login.testCommentObject && this.props.Login.testCommentObject\r\n                        outcomeList['reportCommentObject'] = this.props.Login.reportCommentObject && this.props.Login.reportCommentObject\r\n                        outcomeList['testInitiateSiteTab'] = this.props.Login.masterData.testInitiateSiteTab && this.props.Login.masterData.testInitiateSiteTab\r\n                        outcomeList['testCommentsTestsTab'] = this.props.Login.masterData.testCommentsTestsTab && this.props.Login.masterData.testCommentsTestsTab\r\n                        outcomeList['reportCommentsTestsTab'] = this.props.Login.reportCommentsTestsTab && this.props.Login.reportCommentsTestsTab\r\n                        outcomeList['testRepeatTestsTab'] =  this.props.Login.masterData['testRepeatTestsTab']&& this.props.Login.masterData['testRepeatTestsTab']\r\n                        outcomeList['testenforceTestsTab'] =  this.props.Login.masterData['testenforceTestsTab']&& this.props.Login.masterData['testenforceTestsTab']\r\n                        outcomeList['PredefinedParameterOptions']=PredefinedParameterOptions\r\n                        // outcomeList['nproductcatcode'] = selectedRecord['nproductcatcode']\r\n                        outcomeList['ntestgrouptestcode'] = this.props.Login.masterData.SelectedTest.ntestgrouptestcode\r\n                        // outcomeList['nallottedspeccode'] = selectedRecord['nallottedspeccode']\r\n                        // outcomeList['ncomponentcode'] = selectedRecord['ncomponentcode'] \r\n                        outcomeList['groupListJoins'] = selectedRecord['groupListJoins']?selectedRecord['groupListJoins']:[]\r\n\r\n                        let ruleEngineLayout = []\r\n                        let ruleEngineLayoutObject = []\r\n                        let groupRuleObject = {}\r\n\r\n                        groupList.map((List) => \r\n                        List.map(x=>{\r\n                            testsInvolvedInRules.push(x.stestname.item.ntestgrouptestcode);\r\n                            testsNameInvolvedInRules.push(x.stestname.item);\r\n                        }) \r\n                        )\r\n                        outcomeList['testsNameInvolvedInRules'] = testsNameInvolvedInRules\r\n                        outcomeList['testsInvolvedInRules'] = testsInvolvedInRules\r\n                        groupList.map((List) => {\r\n                            if (List.hasOwnProperty('button_or') && List['button_or'] === true) {\r\n                                if (List.hasOwnProperty('button_not') && List['button_not'] === true) {\r\n                                    groupRuleObject['button_not_button_or'] = List\r\n                                }\r\n                                else {\r\n                                    groupRuleObject['button_or'] = List\r\n                                }\r\n                                // groupRuleObject['button_or'] = List\r\n                                ruleEngineLayout.push(groupRuleObject)\r\n                                groupRuleObject = {}\r\n                            }\r\n                            if (List.hasOwnProperty('button_and') && List['button_and'] === true) {\r\n                                if (List.hasOwnProperty('button_not') && List['button_not'] === true) {\r\n                                    groupRuleObject['button_not_button_and'] = List\r\n                                }\r\n                                else {\r\n                                    groupRuleObject['button_and'] = List\r\n                                }\r\n                                //  groupRuleObject['button_and'] = List\r\n                                ruleEngineLayout.push(groupRuleObject)\r\n                                groupRuleObject = {}\r\n                            }\r\n                        })\r\n                        ruleEngineLayoutObject = groupList.hasOwnProperty('button_or') && groupList['button_or'] === true ?\r\n                            {\r\n                                'button_or': ruleEngineLayout\r\n                            } : {\r\n                                'button_and': ruleEngineLayout\r\n                            }\r\n                        console.log('savelist--->', JSON.stringify(ruleEngineLayoutObject))\r\n                        //  inputData['nproductcatcode'] = this.props.Login.masterData.SelectedProductCategory.nproductcatcode\r\n                        //  inputData['nproductcatcode'] = selectedRecord['nproductcatcode'].value\r\n                        inputData['ntestgrouptestcode'] = this.props.Login.masterData.SelectedTest.ntestgrouptestcode\r\n                        // inputData['nallottedspeccode'] = selectedRecord['nallottedspeccode'].value\r\n                        // inputData['ncomponentcode'] = selectedRecord['ncomponentcode'].value\r\n                        inputData['srulename'] = selectedRecord['srulename']\r\n                     //   inputData['nruleexecorder'] = parseInt(selectedRecord['nruleexecorder'])\r\n                        inputData['outcomeList'] = JSON.stringify(outcomeList)\r\n                        inputData['jsondata'] = JSON.stringify(ruleEngineLayout)\r\n                        inputData['userinfo'] = this.props.Login.userInfo\r\n                        if (this.props.Login.operation === 'update') {\r\n                            inputData['ntestgrouprulesenginecode'] = this.props.Login.masterData.SelectedRulesEngine['ntestgrouprulesenginecode']\r\n                        }\r\n                        const inputParam = {\r\n                            classUrl: \"testgrouprulesengine\",\r\n                            methodUrl: \"TestGroupRulesEngine\",\r\n                            displayName: this.props.Login.inputParam.displayName,\r\n                            inputData: inputData,\r\n                            operation: this.props.Login.operation === 'create' ? 'create' : 'update'\r\n                        }\r\n                        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openPortalModal\");\r\n                    }\r\n                    else {\r\n                        toast.info(this.props.intl.formatMessage({ id: \"IDS_PLEASEADDRULE\" }));\r\n                    }\r\n\r\n                }\r\n                else {\r\n                    selectedRecord['srulename'] = selectedRecord['srulenamecopy'] || \"\"\r\n                  //  selectedRecord['nruleexecorder'] = selectedRecord['nruleexecordercopy'] || \"\"\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: { openModalPopup: true, selectedRecord, action: \"IDS_SAVERULEMODAL\", openmodalsavePopup: true }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                    //   toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERRULESENGINENAME\" }));\r\n\r\n                }\r\n            } else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_COMPLETETHERULETOSAVE\" }));\r\n            }\r\n        }\r\n        else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_ATLEASTADDONERULE\" }));\r\n        } \r\n    }\r\n    else{\r\n        toast.info(this.props.intl.formatMessage({ id: \"IDS_ATLEASTADDONEOUTCOME\" })); \r\n    }\r\n    } \r\n    onOutcomeChange = (comboData, index) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"outComeList\"] = []\r\n        selectedRecord[\"outComeList\"][index] = []\r\n        selectedRecord[\"outComeList\"][index] = comboData;\r\n        if (selectedRecord[\"outComeList\"][index]) {\r\n            this.setState({\r\n                selectedRecord\r\n            });\r\n        }\r\n    }\r\n    writtenRules = (data) => {\r\n        let selectedRecord = this.state.selectedRecord || {}\r\n        let grouplist = selectedRecord[\"groupList\"]\r\n        let activeTabIndex = this.props.Login.activeTabIndex || 0;\r\n        if (activeTabIndex === 1) {\r\n            let boolean = grouplist.every(x => x.every(y => y['stestname']['item'].ntestgrouptestcode !== data['item'].ntestgrouptestcode)\r\n            )\r\n            if (boolean) {\r\n                return data;\r\n            }\r\n        }\r\n        else {\r\n            let boolean = grouplist.some(x => x.some(y => y['stestname']['item'].ntestgrouptestcode === data['item'].ntestgrouptestcode)\r\n            )\r\n            if (boolean) {\r\n                return data;\r\n            }\r\n        } \r\n    } \r\n    selectedTestRemove = (data) => {\r\n        let activeTabIndex = this.props.Login.activeTabIndex || 0;\r\n        if (activeTabIndex === 1) {\r\n            if (this.props.Login.masterData.SelectedTest.ntestgrouptestcode !== data['item'].ntestgrouptestcode) {\r\n                return data;\r\n            }\r\n        }\r\n        else {\r\n            if (this.props.Login.masterData.SelectedTest.ntestgrouptestcode === data['item'].ntestgrouptestcode) {\r\n                return data;\r\n            }\r\n        } \r\n    }\r\n    outComeTestsRemoveFromRules = (data) => { \r\n        let testInitiateTests=this.props.Login.testInitiateTests;\r\n        let boolean = testInitiateTests.every(x => x['ntestgrouptestcode']!== data['item'].ntestgrouptestcode)\r\n            if (boolean) {\r\n                return data;\r\n            } \r\n    }\r\n    addTest = (tabName) => {\r\n        let openModalPopup = this.props.Login.openModalPopup;\r\n        let action = this.props.Login.action;\r\n        let selectedRecord = this.props.Login.selectedRecord || {}\r\n\r\n        let rulesOption = this.props.Login.masterData.rulesOption || [];\r\n        let testInitiateTestCombo = this.props.Login.masterData.testInitiateTestCombo || [];\r\n        let testCommentsTestCombo = this.props.Login.masterData.testCommentsTestCombo || [];\r\n        let testRepeatTestCombo = this.props.Login.masterData.testRepeatTestCombo || [];\r\n        let testenforceTestCombo = this.props.Login.masterData.testenforceTestCombo || [];\r\n\r\n        if (tabName == 'IDS_Test') {\r\n            testInitiateTestCombo = testInitiateTestCombo.filter(this.selectedTestRemove);\r\n            testInitiateTestCombo = testInitiateTestCombo.filter(this.writtenRules);\r\n        }\r\n        else if (tabName == 'IDS_COMMENTS') {\r\n            let selectedTestTempArray = []\r\n            selectedTestTempArray = testCommentsTestCombo.filter(this.selectedTestRemove);\r\n            testCommentsTestCombo = testCommentsTestCombo.filter(this.writtenRules);\r\n            let duplicatePresent = selectedTestTempArray.some(x => testCommentsTestCombo.some(y => y['item'].ntestgrouptestcode === x['item'].ntestgrouptestcode))\r\n            if (duplicatePresent) {\r\n                testCommentsTestCombo = testCommentsTestCombo\r\n            } else {\r\n                testCommentsTestCombo = [...testCommentsTestCombo, ...selectedTestTempArray];\r\n            }\r\n        }\r\n        else if (tabName == 'IDS_REPEAT') {\r\n            let selectedTestTempArray = []\r\n            selectedTestTempArray = testRepeatTestCombo.filter(this.selectedTestRemove);\r\n            testRepeatTestCombo = testRepeatTestCombo.filter(this.writtenRules);\r\n            let duplicatePresent = selectedTestTempArray.some(x => testRepeatTestCombo.some(y => y['item'].ntestgrouptestcode === x['item'].ntestgrouptestcode))\r\n            if (duplicatePresent) {\r\n                testRepeatTestCombo = testRepeatTestCombo\r\n            } else {\r\n                testRepeatTestCombo = [...testRepeatTestCombo, ...selectedTestTempArray];\r\n            }\r\n        }\r\n        else if (tabName == 'IDS_ENFORCERESULT') {\r\n            let selectedTestTempArray = []\r\n            selectedTestTempArray = testenforceTestCombo.filter(this.selectedTestRemove);\r\n            testenforceTestCombo = testenforceTestCombo.filter(this.writtenRules);\r\n            let duplicatePresent = selectedTestTempArray.some(x => testenforceTestCombo.some(y => y['item'].ntestgrouptestcode === x['item'].ntestgrouptestcode))\r\n            if (duplicatePresent) {\r\n                testenforceTestCombo = testenforceTestCombo\r\n            } else {\r\n                testenforceTestCombo = [...testenforceTestCombo, ...selectedTestTempArray];\r\n            }\r\n        }\r\n        else {\r\n\r\n        }\r\n        selectedRecord['ntestgrouptestcode']&& delete selectedRecord['ntestgrouptestcode']\r\n        selectedRecord['nsampletestcommentscode']&&delete selectedRecord['nsampletestcommentscode']\r\n        selectedRecord['ncommentsubtypecode']&&delete selectedRecord['ncommentsubtypecode']\r\n        selectedRecord['ncommenttypecode']&&delete selectedRecord['ncommenttypecode']\r\n        selectedRecord['sgeneralcomments']&&delete selectedRecord['sgeneralcomments']\r\n        selectedRecord['needoutsource']&&delete selectedRecord['needoutsource']\r\n        selectedRecord['sdescription']&&delete selectedRecord['sdescription']\r\n        selectedRecord['ntestgrouptestparametercode']&&delete selectedRecord['ntestgrouptestparametercode']\r\n        selectedRecord['senforcestatuscomment']&&delete selectedRecord['senforcestatuscomment']\r\n        selectedRecord['ngradecode']&&delete selectedRecord['ngradecode']\r\n        selectedRecord['nfromsitecode']&&delete selectedRecord['nfromsitecode']\r\n        selectedRecord['ntositecode']&&delete selectedRecord['ntositecode']\r\n        selectedRecord['nrepeatcountno']&&delete selectedRecord['nrepeatcountno']\r\n\r\n        if (this.props.Login.addGroupList.length > 0) {\r\n            action = \"IDS_ADDTEST\"\r\n            openModalPopup = true;\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup,\r\n                    action,\r\n                    selectedRecord,\r\n                    openmodalsavePopup: false,\r\n                    testInitiateTestCombo,\r\n                    testCommentsTestCombo,\r\n                    testRepeatTestCombo,\r\n                    testenforceTestCombo\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLEASEADDRULETOADDOUTCOME\" }));\r\n        }\r\n\r\n    }\r\n    onRuleChange = (comboData, fieldName, groupIndex, index) => {\r\n        let PredefinedParameterOptions= this.props.Login.masterData.PredefinedParameterOptions||[] \r\n        const { selectedRecord } = this.state;\r\n        this.clearSelectedRule(selectedRecord, index); \r\n        if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]&&\r\n            selectedRecord[\"groupList\"][groupIndex][index][fieldName].value!==comboData.value)\r\n        {\r\n            selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']&& delete selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']\r\n            selectedRecord[\"groupList\"][groupIndex][index]['ngradecode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ngradecode'] \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode'] \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode'] \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode']  \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname']   \r\n        } \r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;  \r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName]['nparenttestgrouptestcode'] = this.props.Login.masterData.SelectedTest.ntestgrouptestcode;  \r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName]['nparentstestname'] = this.props.Login.masterData.SelectedTest.stestname;  \r\n        if(selectedRecord[\"groupList\"][groupIndex][index]['orderresulttype'])\r\n        {\r\n            if(selectedRecord[\"groupList\"][groupIndex][index]['orderresulttype'].value === 3)\r\n            {\r\n                let nparametertypecode=selectedRecord[\"groupList\"][groupIndex][index][fieldName]['item']['nparametertypecode'] \r\n                 if(nparametertypecode===parameterType.PREDEFINED)\r\n                {\r\n                    this.props.getParameterResultValue(selectedRecord[\"groupList\"][groupIndex][index],groupIndex,index,PredefinedParameterOptions,selectedRecord, this.props.Login.masterData, this.props.Login.userInfo) \r\n                }\r\n                else{\r\n                    if (selectedRecord[\"groupList\"][groupIndex][index][fieldName]) {\r\n                        this.setState({\r\n                            selectedRecord,\r\n                            groupIndex,\r\n                            index\r\n                        });\r\n                    }\r\n                }    \r\n            }      else{\r\n                if (selectedRecord[\"groupList\"][groupIndex][index][fieldName]) {\r\n                    this.setState({\r\n                        selectedRecord,\r\n                        groupIndex,\r\n                        index\r\n                    });\r\n                }\r\n            }  \r\n        }\r\n        else{\r\n            if (selectedRecord[\"groupList\"][groupIndex][index][fieldName]) {\r\n                this.setState({\r\n                    selectedRecord,\r\n                    groupIndex,\r\n                    index\r\n                });\r\n            }\r\n        }  \r\n    }\r\n    onRuleInputChange = (event, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = event.target.value;\r\n        selectedRecord[\"groupList\"][groupIndex][index]['sfinal'] = event.target.value; \r\n        this.setState({ selectedRecord });\r\n    }\r\n    onRuleNumericInputOnChange = (event, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        if(groupIndex===undefined&&index===undefined)\r\n        {\r\n            selectedRecord[fieldName] =  event;\r\n            this.setState({ selectedRecord }); \r\n        } \r\n        else\r\n        {\r\n            if(event!==0){ \r\n                selectedRecord[\"groupList\"][groupIndex][index][fieldName] =  event;\r\n                selectedRecord[\"groupList\"][groupIndex][index]['sfinal']=  event;\r\n                this.setState({ selectedRecord });\r\n            } \r\n        } \r\n    }\r\n    onMasterDataChange = (comboData, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        let PredefinedParameterOptions= this.props.Login.masterData.PredefinedParameterOptions||[]  \r\n        let isResultorOrderType = [];\r\n        let optionsByRule = [];\r\n        if (this.state.optionsByRule && this.state.optionsByRule.length > 0) {\r\n            optionsByRule = this.state.optionsByRule\r\n        }\r\n        else {\r\n            optionsByRule[groupIndex] = [];\r\n            optionsByRule[groupIndex][index] = [];\r\n        }\r\n        if (this.state.isResultorOrderType && this.state.isResultorOrderType.length > 0) {\r\n            isResultorOrderType = this.state.isResultorOrderType\r\n        }\r\n        else {\r\n            isResultorOrderType[groupIndex] = [];\r\n            isResultorOrderType[groupIndex][index] = [];\r\n        }\r\n        if (fieldName !== 'ndiagnosticcasecode' && fieldName !== 'ngradecode'&&\r\n        fieldName !== 'ntestgrouptestpredefcode' && fieldName !== 'ntestgrouptestcharcode' && fieldName !== 'ntestgrouptestnumericcode') {\r\n            if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]&&\r\n            selectedRecord[\"groupList\"][groupIndex][index][fieldName].value!==comboData.value)\r\n        {\r\n            selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']&& delete selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']\r\n            selectedRecord[\"groupList\"][groupIndex][index]['ngradecode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ngradecode'] \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode'] \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode'] \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode']  \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname']   \r\n        } \r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData; \r\n            if (isResultorOrderType[groupIndex] === undefined) {\r\n                isResultorOrderType[groupIndex] = [];\r\n                isResultorOrderType[groupIndex][index] = [];\r\n            }\r\n            isResultorOrderType[groupIndex][index] = comboData.value\r\n            if (optionsByRule[groupIndex] === undefined) {\r\n                optionsByRule[groupIndex] = [];\r\n                optionsByRule[groupIndex][index] = [];\r\n            }\r\n            if (isResultorOrderType[groupIndex][index] === 1) { \r\n                optionsByRule[groupIndex][index] = this.props.Login.masterData.DiagnosticCaseList\r\n            }\r\n            else if (isResultorOrderType[groupIndex][index] === 3) { \r\n                let nparametertypecode=selectedRecord[\"groupList\"][groupIndex][index]['stestname']['item']['nparametertypecode'] \r\n                 if(nparametertypecode===parameterType.PREDEFINED)\r\n                {\r\n                    this.props.getParameterResultValue(selectedRecord[\"groupList\"][groupIndex][index],groupIndex,index,PredefinedParameterOptions,selectedRecord, this.props.Login.masterData, this.props.Login.userInfo) \r\n                } \r\n                else\r\n                {\r\n                    optionsByRule[groupIndex][index] = this.props.Login.masterData.GradeList \r\n                }\r\n            }\r\n            else { \r\n                optionsByRule[groupIndex][index] = this.props.Login.masterData.GradeList\r\n            }\r\n            this.setState({ selectedRecord, isResultorOrderType, optionsByRule });\r\n        } \r\n        else {\r\n            selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData; \r\n            selectedRecord[\"groupList\"][groupIndex][index]['sfinal'] = comboData.label; \r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n    addRule = (type, groupIndex) => {\r\n        const { selectedRecord } = this.state;\r\n        let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n        const addGroupList = this.props.Login.addGroupList || [];\r\n        const arrayLength = addGroupList[groupIndex];\r\n        addGroupList[groupIndex] = arrayLength + 1;\r\n        selectedRecord[\"groupList\"][groupIndex][arrayLength] = {};\r\n        viewColumnListByRule = this.props.Login.viewColumnList || this.props.Login.databaseviewList;;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                addGroupList,\r\n                viewColumnListByRule,\r\n                activeTabIndex:0\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n\r\n    addComments = () => {\r\n        let openModalPopup = this.props.Login.openModalPopup;\r\n        let action = this.props.Login.action;\r\n        let selectedParameterRulesEngine = this.props.Login.masterData.selectedParameterRulesEngine || [];\r\n        let testparameter = this.props.Login.masterData.testCommentsTestCombo || [];\r\n        let selectedRecord = this.props.Login.selectedRecord || {}\r\n        selectedRecord['ntestgrouptestcode'] = {}\r\n        selectedRecord['ntestgrouptestcode'] = testparameter.filter(x => { return x.value === selectedParameterRulesEngine.ntestgrouptestcode })[0]\r\n\r\n        delete selectedRecord['nsampletestcommentscode']\r\n        delete selectedRecord['ncommentsubtypecode']\r\n        delete selectedRecord['ncommenttypecode']\r\n        delete selectedRecord['sgeneralcomments']\r\n        delete selectedRecord['sdescription']\r\n\r\n\r\n        if (this.props.Login.addGroupList.length > 0) {\r\n            if (this.props.Login.activeTabIndex === 2) {\r\n                action = \"IDS_ADDTESTCOMMENTS\"\r\n            }\r\n            else {\r\n                action = \"IDS_ADDREPORTCOMMENTS\"\r\n            }\r\n            openModalPopup = true;\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup,\r\n                    action,\r\n                    selectedRecord,\r\n                    openmodalsavePopup: false\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLEASEADDRULETOADDOUTCOME\" }));\r\n        }\r\n\r\n    }\r\n    addModalSite = () => {\r\n        let openModalPopup = this.props.Login.openModalPopup;\r\n\r\n        let selectedParameterRulesEngine = this.props.Login.masterData.selectedParameterRulesEngine || [];\r\n        let testparameter = this.props.Login.masterData.testInitiateTestCombo || [];\r\n        let selectedRecord = this.props.Login.selectedRecord || {}\r\n        selectedRecord['ntestgrouptestcode'] = {}\r\n        selectedRecord['ntestgrouptestcode'] = testparameter.filter(x => { return x.value === selectedParameterRulesEngine.ntestgrouptestcode })[0]\r\n        selectedRecord['nfromsitecode']&&delete selectedRecord['nfromsitecode']\r\n        selectedRecord['ntositecode']&&delete selectedRecord['ntositecode']\r\n\r\n        openModalPopup = true;\r\n        let action = this.props.Login.action;\r\n        action = \"IDS_ADDSITE\"\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedRecord,\r\n                openModalPopup,\r\n                action,\r\n                openmodalsavePopup: false\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    modalsaveClick = () => {\r\n        let needoutsource = this.props.Login.needoutsource || {};\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        let masterData = this.props.Login.masterData || {};\r\n        let testInitiateTests = this.props.Login.testInitiateTests || [];\r\n        let testCommentsTests = this.props.Login.testCommentsTests || [];\r\n        let testRepeatTests = this.props.Login.testRepeatTests || [];\r\n        let testenforceTests = this.props.Login.testenforceTests || [];\r\n\r\n\r\n        let reportCommentsTests = this.props.Login.reportCommentsTests || [];\r\n\r\n        let siteObject = this.props.Login.siteObject || {};\r\n        let testCommentObject = this.props.Login.testCommentObject || {};\r\n        let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n\r\n\r\n        let testInitiateTestsTemp = [];\r\n        let testCommentsTestsTemp = [];\r\n        let reportCommentsTestsTemp = [];\r\n        let testInitiateSiteTemp = [];\r\n\r\n        let testCommentsTestsTab = this.props.Login.masterData.testCommentsTestsTab || []; \r\n\r\n\r\n        let reportCommentsTestsTab = this.props.Login.reportCommentsTestsTab || [];\r\n        let testInitiateSiteTab = this.props.Login.masterData.testInitiateSiteTab || [];\r\n\r\n        let testInitiateTestOptions = this.props.Login.testInitiateTestOptions || [];\r\n        let testCommentsTestOptions = this.props.Login.testCommentsTestOptions || [];\r\n        let reportCommentsTestOptions = this.props.Login.reportCommentsTestOptions || [];\r\n\r\n\r\n        let testInitiateTestdeletedOptions = this.props.Login.testInitiateTestdeletedOptions || [];\r\n        let testCommentsTestdeletedOptions = this.props.Login.testCommentsTestdeletedOptions || [];\r\n        let reportCommentsTestdeletedOptions = this.props.Login.reportCommentsTestdeletedOptions || [];\r\n\r\n        let updateInfo = {}\r\n        if (this.props.Login.action === 'IDS_ADDTEST') {\r\n            let npkAtestparametercode = 0;\r\n            let npkBtestparametercode = 0;\r\n            let npkCtestparametercode = 0;\r\n            let npkDtestparametercode = 0;\r\n            if (this.props.Login.activeTabIndex === 1) {\r\n                let isduplicate = {}\r\n                isduplicate = testInitiateTests.filter(x => x.ntestgrouptestcode ===\r\n                    selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'])\r\n                if (isduplicate.length === 0) {\r\n                    masterData['testParameter'] = {}\r\n                    npkAtestparametercode = testInitiateTests.length>0?Math.max(...testInitiateTests.map(x => x.npkAtestparametercode)) : 0;\r\n                    npkAtestparametercode++;\r\n                    selectedRecord['ntestgrouptestcode'].item['npkAtestparametercode'] = npkAtestparametercode \r\n                    if( selectedRecord['ntestgrouptestcode'].item['nrepeatcountno']){\r\n                        selectedRecord['ntestgrouptestcode'].item['nrepeatcountno']=0;\r\n                    } \r\n                    testInitiateTests.push(selectedRecord['ntestgrouptestcode'].item);\r\n                    masterData['testParameter'] = sortData(testInitiateTests, 'descending', 'npkAtestparametercode')\r\n                    masterData['selectedParameterRulesEngine'] = selectedRecord['ntestgrouptestcode'].item\r\n                    delete selectedRecord['ntestgrouptestcode']\r\n\r\n                }\r\n                else {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n                }\r\n\r\n            }\r\n            if (this.props.Login.activeTabIndex === 2) {\r\n                let isduplicate = {}\r\n                isduplicate = testCommentsTests.filter(x => x.ntestgrouptestcode ===\r\n                    selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'])\r\n                if (isduplicate.length === 0) {\r\n                    masterData['testParameterComments'] = {}\r\n                    npkBtestparametercode = testCommentsTests.length>0?Math.max(...testCommentsTests.map(x => x.npkBtestparametercode)) : 0;\r\n                    npkBtestparametercode++;\r\n                    selectedRecord['ntestgrouptestcode'].item['npkBtestparametercode'] = npkBtestparametercode\r\n                    selectedRecord['ntestgrouptestcode'].item['sdescription'] = selectedRecord['sdescription'] ? selectedRecord['sdescription'] : '-'\r\n                    testCommentsTests.push(selectedRecord['ntestgrouptestcode'].item);\r\n                    masterData['testParameterComments'] = sortData(testCommentsTests, 'descending', 'npkBtestparametercode')\r\n                    masterData['selectedParameterRulesEngine'] = selectedRecord['ntestgrouptestcode'].item\r\n                    //delete selectedRecord['ntestgrouptestcode']\r\n                }\r\n                else {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n                }\r\n            }\r\n            if (this.props.Login.activeTabIndex === 3) {\r\n                let isduplicate = {}\r\n                isduplicate = testRepeatTests.filter(x => x.ntestgrouptestcode ===\r\n                    selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'])\r\n                if (isduplicate.length === 0) {\r\n                    masterData['testRepeat'] = {}\r\n                    npkCtestparametercode = testRepeatTests.length>0? Math.max(...testRepeatTests.map(x => x.npkCtestparametercode)) : 0;\r\n                    npkCtestparametercode++;\r\n                    selectedRecord['ntestgrouptestcode'].item['npkCtestparametercode'] = npkCtestparametercode\r\n                    selectedRecord['ntestgrouptestcode'].item['nrepeatcountno'] = selectedRecord['nrepeatcountno']?selectedRecord['nrepeatcountno']:1\r\n                    testRepeatTests.push(selectedRecord['ntestgrouptestcode'].item);\r\n                    masterData['testRepeatTestsTab'] = sortData(testRepeatTests, 'descending', 'npkCtestparametercode')\r\n                    masterData['testRepeat'] = sortData(testRepeatTests, 'descending', 'npkCtestparametercode')\r\n                    masterData['selectedParameterRulesEngine'] = selectedRecord['ntestgrouptestcode'].item\r\n                    delete selectedRecord['ntestgrouptestcode']\r\n                }\r\n                else {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n                }\r\n            }\r\n            if (this.props.Login.activeTabIndex === 4) {\r\n                let isduplicate = {}\r\n                // isduplicate = testenforceTests.filter(x => x.ntestgrouptestcode ===\r\n                //     selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'])\r\n                    isduplicate=testenforceTests.some(x=>selectedRecord['ntestgrouptestcode'].value===x.ntestgrouptestcode&&selectedRecord['ntestgrouptestparametercode'].value===x.ntestgrouptestparametercode)\r\n\r\n                if (!isduplicate) { \r\n                    masterData['testenforceTests'] = {}\r\n                    npkDtestparametercode = testenforceTests.length>0? Math.max(...testenforceTests.map(x => x.npkDtestparametercode)) : 0;\r\n                    npkDtestparametercode++;\r\n                    // selectedRecord['ntestgrouptestcode'].item['sparametersynonym'] = selectedRecord['ntestgrouptestparametercode'] && selectedRecord['ntestgrouptestparametercode'].label\r\n                    // selectedRecord['ntestgrouptestcode'].item['ngradecode'] = selectedRecord['ngradecode'] && selectedRecord['ngradecode'].value\r\n                    // selectedRecord['ntestgrouptestcode'].item['sgradename'] = selectedRecord['ngradecode'] && selectedRecord['ngradecode'].label\r\n                    // selectedRecord['ntestgrouptestcode'].item['ntestgrouptestparametercode'] = selectedRecord['ntestgrouptestparametercode'] && selectedRecord['ntestgrouptestparametercode'].value\r\n                    // selectedRecord['ntestgrouptestcode'].item['senforcestatuscomment'] = selectedRecord['senforcestatuscomment'] && selectedRecord['senforcestatuscomment']\r\n                    let object={...selectedRecord['ntestgrouptestcode'].item,\r\n                    'sparametersynonym':selectedRecord['ntestgrouptestparametercode'] && selectedRecord['ntestgrouptestparametercode'].label,\r\n                    'ngradecode':selectedRecord['ngradecode'] && selectedRecord['ngradecode'].value,\r\n                    'sgradename': selectedRecord['ngradecode'] && selectedRecord['ngradecode'].label,\r\n                    'ntestgrouptestparametercode':selectedRecord['ntestgrouptestparametercode'] && selectedRecord['ntestgrouptestparametercode'].value,\r\n                    'senforcestatuscomment':selectedRecord['senforcestatuscomment'] && selectedRecord['senforcestatuscomment'],\r\n                'npkDtestparametercode':npkDtestparametercode}\r\n                   // selectedRecord['ntestgrouptestcode'].item['npkDtestparametercode'] = npkDtestparametercode\r\n                    testenforceTests.push(object);\r\n                    masterData['testenforceTestsTab'] = sortData(testenforceTests, 'descending', 'npkDtestparametercode') \r\n                    masterData['testenforceTests'] = sortData(testenforceTests, 'descending', 'npkDtestparametercode')\r\n                    //  masterData['selectedParameterRulesEngine'] = selectedRecord['ntestgrouptestcode'].item\r\n                    delete selectedRecord['ntestgrouptestcode']\r\n                }\r\n                else {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n                }\r\n            }\r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup: false,\r\n                    masterData,\r\n                    testInitiateTests,\r\n                    testCommentsTests,\r\n                    reportCommentsTests,\r\n                    npkAtestparametercode,\r\n                    npkBtestparametercode,\r\n                    npkCtestparametercode,\r\n                    testInitiateTestOptions,\r\n                    testInitiateTestdeletedOptions,\r\n                    selectedRecord,\r\n                    testRepeatTests,\r\n                    testenforceTests\r\n                }\r\n            }\r\n        }\r\n        if (selectedRecord['nsampletestcommentscode'] || selectedRecord['sgeneralcomments']\r\n        ) {\r\n            masterData['testComments'] = {}\r\n            let npKAsampletestcommentscode = 0;\r\n            let nslno = 0;\r\n\r\n            let object = {\r\n                ncommentsubtypecode: selectedRecord['ncommentsubtypecode'],\r\n                scommentsubtype: selectedRecord['ncommentsubtypecode']['label'],\r\n                stestsynonym: selectedRecord['ntestgrouptestcode']['label'], \r\n                ncommenttypecode: selectedRecord['ncommenttypecode']['value'],\r\n                scommenttype: selectedRecord['ncommenttypecode']['label'],\r\n                nsampletestcommentscode: selectedRecord['nsampletestcommentscode'] ? selectedRecord['nsampletestcommentscode'] : -1,\r\n                // spredefinedname: selectedRecord['nsampletestcommentscode'] ? selectedRecord['nsampletestcommentscode'].label : \"-\",\r\n                // sgeneralcomments: selectedRecord['sgeneralcomments'] ? selectedRecord['sgeneralcomments'] : \"-\",\r\n                spredefinedname:selectedRecord['nsampletestcommentscode']? selectedRecord['nsampletestcommentscode'].label:\r\n                selectedRecord['sgeneralcomments'] ? selectedRecord['sgeneralcomments'] : \"-\",\r\n                scomments: selectedRecord['sdescription'] ? selectedRecord['sdescription'] : '-',\r\n                sdescription: selectedRecord['sdescription'] ? selectedRecord['sdescription'] : '-'  \r\n                , stestparametersynonym: masterData.selectedParameterRulesEngine.stestparametersynonym,\r\n                ntestgrouptestcode: masterData.selectedParameterRulesEngine.ntestgrouptestcode,\r\n                npkBtestparametercode:masterData.selectedParameterRulesEngine.npkBtestparametercode\r\n            }\r\n            nslno= testCommentsTestsTab.length>0? Math.max(...testCommentsTestsTab.map(x => x.nslno)):0; \r\n            nslno++;\r\n            if (testCommentObject.hasOwnProperty(masterData.selectedParameterRulesEngine.npkBtestparametercode)) {\r\n                npKAsampletestcommentscode = Math.max(...testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode].map(x => x.npKAsampletestcommentscode));\r\n                npKAsampletestcommentscode++;\r\n                object = { ...object, npKAsampletestcommentscode: npKAsampletestcommentscode,nslno:nslno }\r\n                testCommentsTestsTemp = testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode]\r\n                testCommentsTestsTemp.push(object);\r\n                testCommentsTestsTab.push(object);\r\n                let commentsArrayIndex=testCommentsTests.findIndex(x=>x.npkBtestparametercode===masterData.selectedParameterRulesEngine.npkBtestparametercode)\r\n                testCommentsTests[commentsArrayIndex]['commentsArray']=[];\r\n                testCommentsTests[commentsArrayIndex]['commentsArray']=sortData(testCommentsTestsTemp, 'ascending', 'npKAsampletestcommentscode')\r\n                testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode] = sortData(testCommentsTestsTemp, 'descending', 'npKAsampletestcommentscode')\r\n                delete selectedRecord['nsampletestcommentscode']\r\n                delete selectedRecord['ncommentsubtypecode']\r\n                delete selectedRecord['ncommenttypecode']\r\n                delete selectedRecord['sgeneralcomments']\r\n            }\r\n            else {\r\n                npKAsampletestcommentscode++;\r\n                object = { ...object, npKAsampletestcommentscode: npKAsampletestcommentscode,nslno:nslno }\r\n                testCommentsTestsTemp.push(object);\r\n                testCommentsTestsTab.push(object);\r\n                let commentsArrayIndex=testCommentsTests.findIndex(x=>x.npkBtestparametercode===masterData.selectedParameterRulesEngine.npkBtestparametercode)\r\n                testCommentsTests[commentsArrayIndex]['commentsArray']=[];\r\n                testCommentsTests[commentsArrayIndex]['commentsArray']=sortData(testCommentsTestsTemp, 'ascending', 'npKAsampletestcommentscode')\r\n                testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode] = sortData(testCommentsTestsTemp, 'descending', 'npKAsampletestcommentscode')\r\n                delete selectedRecord['nsampletestcommentscode']\r\n                delete selectedRecord['ncommentsubtypecode']\r\n                delete selectedRecord['ncommenttypecode']\r\n                delete selectedRecord['sgeneralcomments']\r\n            }\r\n            masterData['testComments'] = testCommentObject\r\n            masterData['testCommentsTestsTab'] = testCommentsTestsTab \r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup: false,\r\n                    masterData,\r\n                    testCommentObject, \r\n                    npKAsampletestcommentscode,\r\n                    selectedRecord\r\n                }\r\n            }\r\n        }\r\n        if (selectedRecord['nfromsitecode'] && selectedRecord['ntositecode']) {\r\n          \r\n            if(selectedRecord['nfromsitecode'].value!==selectedRecord['ntositecode'].value){\r\n           \r\n            let siteseqnumber = 0;\r\n            if (siteObject.hasOwnProperty(masterData.selectedParameterRulesEngine.npkAtestparametercode)) {\r\n                let isalreadyExist=siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode].some(x=>selectedRecord['nfromsitecode'].value===x.nfromsitecode&&selectedRecord['ntositecode'].value===x.ntositecode)\r\n                if(!isalreadyExist){\r\n                    masterData['testSite'] = {}\r\n                siteseqnumber = Math.max(...siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode].map(x => x.npksitecode));\r\n                siteseqnumber++;\r\n                let object = {\r\n                    npksitecode: siteseqnumber, sfromsitename: selectedRecord['nfromsitecode'].label, stositename: selectedRecord['ntositecode'].label,\r\n                    nfromsitecode: selectedRecord['nfromsitecode'].value, ntositecode: selectedRecord['ntositecode'].value\r\n                    , stestparametersynonym: masterData.selectedParameterRulesEngine.stestparametersynonym, npkAtestparametercode: masterData.selectedParameterRulesEngine.ntestgrouptestcode\r\n                }\r\n                testInitiateSiteTemp = siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode]\r\n                testInitiateSiteTemp.push(object);\r\n                testInitiateSiteTab.push(object);\r\n                siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode] = sortData(testInitiateSiteTemp, 'descending', 'npksitecode')\r\n                delete selectedRecord['ntestgrouptestcode']\r\n                delete selectedRecord['nfromsitecode'];\r\n                delete selectedRecord['ntositecode'];\r\n            }\r\n            else\r\n            {\r\n                return toast.warn(this.props.intl.formatMessage({ id: \"IDS_FROMANDTOSITEALREADYEXIST\" }));  \r\n            }\r\n\r\n            }\r\n            else {\r\n                masterData['testSite'] = {}\r\n                siteseqnumber++;\r\n                let object = {\r\n                    npksitecode: siteseqnumber, sfromsitename: selectedRecord['nfromsitecode'].label, stositename: selectedRecord['ntositecode'].label,\r\n                    nfromsitecode: selectedRecord['nfromsitecode'].value, ntositecode: selectedRecord['ntositecode'].value\r\n                    , stestparametersynonym: masterData.selectedParameterRulesEngine.stestparametersynonym, npkAtestparametercode: masterData.selectedParameterRulesEngine.npkAtestparametercode\r\n                }\r\n                testInitiateSiteTemp.push(object);\r\n                testInitiateSiteTab.push(object);\r\n                siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode] = sortData(testInitiateSiteTemp, 'descending', 'npksitecode')\r\n                delete selectedRecord['ntestgrouptestcode']\r\n                delete selectedRecord['nfromsitecode'];\r\n                delete selectedRecord['ntositecode'];\r\n            }\r\n            masterData['testSite'] = siteObject\r\n            masterData['testInitiateSiteTab'] = testInitiateSiteTab \r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup: false,\r\n                    masterData,\r\n                    siteObject,\r\n                    siteseqnumber,\r\n                    \r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n           toast.warn(this.props.intl.formatMessage({ id: \"IDS_FROMANDTOSITECANNOTBESAME\" })); \r\n        }\r\n   \r\n        }\r\n        if (Object.keys(updateInfo).length > 0) {\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n    deletModalSite = (inputparam, action, row) => {\r\n        let temparray = [];\r\n        let index = 0;\r\n\r\n        let testInitiateSiteTab = this.props.Login.masterData.testInitiateSiteTab\r\n        let testCommentsTestsTab = this.props.Login.masterData.testCommentsTestsTab\r\n        let reportCommentsTestsTab = this.props.Login.reportCommentsTestsTab\r\n\r\n\r\n        let siteObject = this.props.Login.siteObject || {};\r\n        let testCommentObject = this.props.Login.testCommentObject || {};\r\n        let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n        let masterData = this.props.Login.masterData || {};\r\n\r\n\r\n\r\n        if (this.props.Login.activeTabIndex === 1) {\r\n            temparray = siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode]\r\n            temparray.splice(row['dataIndex'], 1);\r\n            testInitiateSiteTab.splice(row['dataIndex'], 1);\r\n            siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode] = temparray\r\n\r\n        }\r\n        if (this.props.Login.activeTabIndex === 2) {\r\n            temparray = testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode]\r\n            index = temparray.findIndex(x => x.npKAsampletestcommentscode === row['dataItem'].npKAsampletestcommentscode)\r\n            // temparray.splice(row['dataIndex'], 1);\r\n            temparray.splice(index, 1);\r\n            index = testCommentsTestsTab.findIndex(x => x.nslno === row['dataItem'].nslno)\r\n            //   testCommentsTestsTab.splice(row['dataIndex'], 1);\r\n            testCommentsTestsTab.splice(index, 1);\r\n            testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode] = temparray\r\n        }\r\n        if (this.props.Login.activeTabIndex === 3) {\r\n            temparray = masterData.testRepeat\r\n            temparray.splice(row['dataIndex'], 1);\r\n            reportCommentsTestsTab.splice(row['dataIndex'], 1);\r\n            reportCommentObject[masterData.selectedParameterRulesEngine.ntestgrouptestcode] = temparray\r\n        }\r\n        let updateInfo = {}\r\n        updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                siteObject,\r\n                testCommentObject,\r\n                reportCommentObject,\r\n                testInitiateSiteTab,\r\n                reportCommentsTestsTab,\r\n                testCommentsTestsTab\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    deleteModalTest = (inputparam, action, row) => {\r\n\r\n        let testInitiateTests = this.props.Login.testInitiateTests || [];\r\n        let testCommentsTests = this.props.Login.testCommentsTests || [];\r\n        let testRepeatTests = this.props.Login.testRepeatTests || [];\r\n        let testenforceTests = this.props.Login.testenforceTests || [];\r\n        let reportCommentsTests = this.props.Login.reportCommentsTests || [];\r\n        let testInitiateSiteTab = this.props.Login.masterData.testInitiateSiteTab \r\n        let testCommentsTestsTab = this.props.Login.masterData.testCommentsTestsTab\r\n        let testRepeatTestsTab = this.props.Login.masterData.testRepeatTestsTab\r\n        let testenforceTestsTab = this.props.Login.masterData.testenforceTestsTab\r\n\r\n        let siteObject = this.props.Login.siteObject || {};\r\n        let testCommentObject = this.props.Login.testCommentObject || {};\r\n        let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n\r\n\r\n        let testInitiateTestOptions = this.props.Login.testInitiateTestOptions || [];\r\n        let testCommentsTestOptions = this.props.Login.testCommentsTestOptions || [];\r\n        let reportCommentsTestOptions = this.props.Login.reportCommentsTestOptions || [];\r\n        let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n\r\n\r\n        let testInitiateTestdeletedOptions = this.props.Login.testInitiateTestdeletedOptions || [];\r\n        let testCommentsTestdeletedOptions = this.props.Login.testCommentsTestdeletedOptions || [];\r\n        let reportCommentsTestdeletedOptions = this.props.Login.reportCommentsTestdeletedOptions || [];\r\n\r\n        let masterData = this.props.Login.masterData || {};\r\n        let index = 0;\r\n        if (this.props.Login.activeTabIndex === 1) {\r\n           // index = this.props.Login.testInitiateTests.findIndex(x => x.ntestgrouptestcode === masterData.selectedParameterRulesEngine.ntestgrouptestcode)\r\n            index = this.props.Login.testInitiateTests.findIndex(x => x.npkAtestparametercode === inputparam.testParameter.npkAtestparametercode)\r\n            testInitiateTests.splice(index, 1);\r\n            // index = testInitiateSiteTab.findIndex(x => x.ntestgrouptestcode === inputparam.testParameter.ntestgrouptestcode)\r\n            // testInitiateSiteTab.splice(index, 1); \r\n            testInitiateSiteTab=testInitiateSiteTab.filter(function( obj ) {\r\n                return obj.npkAtestparametercode !== inputparam.testParameter.npkAtestparametercode;\r\n            }) \r\n            delete siteObject[inputparam.testParameter.npkAtestparametercode]\r\n        }\r\n        if (this.props.Login.activeTabIndex === 2) {\r\n            index = this.props.Login.testCommentsTests.findIndex(x => x.npkBtestparametercode === inputparam.testParameterComments.npkBtestparametercode)\r\n            testCommentsTests.splice(index, 1); \r\n            // index =  testCommentsTestsTab.findIndex(x => x.ntestgrouptestcode === inputparam.testParameterComments.ntestgrouptestcode) \r\n            // testCommentsTestsTab.splice(index, 1);\r\n            testCommentsTestsTab=testCommentsTestsTab.filter(function( obj ) {\r\n                return obj.npkBtestparametercode !== inputparam.testParameterComments.npkBtestparametercode;\r\n            }) \r\n            delete testCommentObject[inputparam.testParameterComments.npkBtestparametercode]\r\n        }\r\n        if (this.props.Login.activeTabIndex === 3) {\r\n          //  index = this.props.Login.testRepeatTests.findIndex(x => x.ntestgrouptestcode === masterData.selectedParameterRulesEngine.ntestgrouptestcode) \r\n            index=row['dataIndex'] \r\n            testRepeatTests.splice(index, 1);\r\n            testRepeatTestsTab.splice(index, 1); \r\n        }\r\n        if (this.props.Login.activeTabIndex === 4) {\r\n        //    index = this.props.Login.testenforceTests.findIndex(x => x.ntestgrouptestcode === masterData.selectedParameterRulesEngine.ntestgrouptestcode)  \r\n            index=row['dataIndex']\r\n            testenforceTests.splice(index, 1);\r\n            testenforceTestsTab.splice(index, 1); \r\n        }\r\n        let updateInfo = {}\r\n        updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                testInitiateTests,\r\n                siteObject,\r\n                testCommentObject,\r\n                testCommentsTests,\r\n                reportCommentsTests,\r\n                reportCommentObject,\r\n                masterData:{...masterData,   testCommentsTestsTab,testInitiateSiteTab,\r\n                    testRepeatTestsTab,\r\n                    testenforceTestsTab},\r\n                testRepeatTests,\r\n                testenforceTests,\r\n             \r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onmodalComboChange = (comboData, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        let isneedsgeneralcomments = this.state.isneedsgeneralcomments || {}\r\n\r\n        if (fieldName === 'ncommentsubtypecode') {\r\n            if (comboData.value === 6) {\r\n                isneedsgeneralcomments = true\r\n                delete selectedRecord['nsampletestcommentscode']\r\n            }\r\n            else {\r\n                isneedsgeneralcomments = false\r\n                delete selectedRecord['sgeneralcomments']\r\n\r\n            }\r\n        }\r\n        else if (fieldName === 'nproductcatcode') {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.getSpecificationTestGroupRulesEngine(selectedRecord, this.props.Login.selectedRecord, true, this.props.Login.masterData, this.props.Login.userInfo)\r\n        }\r\n        else if (fieldName === 'ntestgrouptestcode' && this.state.activeTabIndex === 4) {\r\n\r\n            if (selectedRecord['ntestgrouptestparametercode']) {\r\n                if (selectedRecord[fieldName].value !== comboData.value) {\r\n                    delete selectedRecord['ntestgrouptestparametercode']\r\n                }\r\n            }\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.getParameterRulesEngine(selectedRecord, this.props.Login.masterData, this.props.Login.userInfo)\r\n\r\n        }\r\n        else if (fieldName === 'nallottedspeccode') {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.getComponentTestGroupRulesEngine(selectedRecord, this.props.Login.selectedRecord, true, this.props.Login.masterData, this.props.Login.userInfo)\r\n        }\r\n        if (fieldName === 'nsampletestcommentscode') {\r\n            selectedRecord['sdescription'] = comboData.item.sdescription;\r\n        }\r\n        selectedRecord[fieldName] = comboData;\r\n        this.setState({ selectedRecord, isneedsgeneralcomments });\r\n    }\r\n    getOutcomeDetails = (inputParam) => {\r\n        let masterData = this.props.Login.masterData || {};\r\n        const testParameter = this.state.activeTabIndex === 1 ? inputParam.testParameter : this.state.activeTabIndex === 2 ?\r\n            inputParam.testParameterComments : inputParam.testParameterreportComments;\r\n        masterData['selectedParameterRulesEngine'] = {}\r\n        masterData['selectedParameterRulesEngine'] = testParameter;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    handleExpandChange = () => {\r\n        let childListMap1 =  new Map();\r\n        let childListMap2 =   new Map();\r\n        let childListMap3 =  new Map();\r\n        let childListMap =  new Map(); \r\n        if (this.props.Login.masterData.activeTabName === 'IDS_Test') { \r\n            let keylst = this.props.Login.masterData.activeTabName === 'IDS_Test' ?\r\n                Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject']) :\r\n                this.props.Login.masterData.activeTabName === 'IDS_COMMENTS' ?\r\n                    Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject']) :\r\n                    Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'])\r\n            keylst.map(key => {\r\n                childListMap.set(parseInt(key),\r\n                    Object.values(this.props.Login.masterData.activeTabName === 'IDS_Test' ?\r\n                        this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject'][key] :\r\n                        this.props.Login.masterData.activeTabName === 'IDS_COMMENTS' ?\r\n                            this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key] :\r\n                            this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));\r\n            })\r\n            this.setState({ childListMap })\r\n        }\r\n        if (this.props.Login.masterData.activeTabName === 'IDS_COMMENTS') {\r\n            let keylst = Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'])\r\n            keylst.map(key => {\r\n                childListMap2.set(parseInt(key),\r\n                    Object.values(\r\n                        this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key]));\r\n            })\r\n            this.setState({ childListMap2 })\r\n        }\r\n        if (this.props.Login.masterData.activeTabName === 'IDS_REPORTCOMMENTS') {\r\n            let keylst =\r\n                Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject']);\r\n            keylst.map(key => {\r\n                childListMap3.set(parseInt(key),\r\n                    Object.values(\r\n                        this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));\r\n            })\r\n            this.setState({ childListMap3 })\r\n        }\r\n    }\r\n    viewOutcome = (props) => {\r\n        if(this.props.Login.masterData['RulesEngine']&&this.props.Login.masterData['RulesEngine'].length>0){ \r\n            let  masterData= this.props.Login.masterData\r\n            masterData['SelectedRulesEngine']=props['SelectedRulesEngine'][0]\r\n            if(masterData['SelectedRulesEngine']['jsonuidata']&&masterData['SelectedRulesEngine']['jsonuidata']['testInitiateTests'])\r\n            {\r\n                 masterData['SelectedRulesEngine']['jsonuidata']['testInitiateTests'].forEach(object => {\r\n                    object['expanded']&&delete object['expanded'];\r\n                  });\r\n            } \r\n            masterData['activeTabName']='IDS_Test'\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                screenName: \"IDS_VIEWOUTCOME\",\r\n                operation: \"IDS_VIEW\",\r\n                openModal: true,\r\n                masterData\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    else{\r\n        toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTRULETOVIEWOUTCOME\" })); \r\n    }\r\n    }\r\n    openflowview = (props) => {\r\n        if(this.props.Login.masterData['RulesEngine']&&this.props.Login.masterData['RulesEngine'].length>0){\r\n           let  masterData= this.props.Login.masterData \r\n        masterData['SelectedRulesEngine']=props['SelectedRulesEngine'][0]\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                screenName: \"IDS_VIEWRULE\",\r\n                operation: \"IDS_VIEW\",\r\n                openModal: true,\r\n                masterData\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    else{\r\n        toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTRULETOVIEWRULE\" })); \r\n    }\r\n    } \r\n    handlePageChangeRuleEngine = (event) => {\r\n        this.setState({\r\n            skipRulesEngine: event.skip,\r\n            takeRulesEngine: event.take\r\n        });\r\n    }\r\n    addGroup = () => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n        const addGroupList = this.props.Login.addGroupList || [];\r\n        const arrayLength = addGroupList.length;\r\n        addGroupList[arrayLength] = 1;\r\n\r\n        viewColumnListByRule = this.props.Login.databaseviewList;\r\n        if (arrayLength === 0) {\r\n            selectedRecord[\"groupList\"] = [];\r\n            selectedRecord[\"filtercolumns\"] = this.props.Login.selectFields;\r\n        }\r\n        if (selectedRecord[\"groupListJoins\"] === undefined) {\r\n            selectedRecord[\"groupListJoins\"] = []\r\n        }\r\n        if (selectedRecord[\"groupListJoins\"][arrayLength - 1] === undefined) {\r\n            selectedRecord[\"groupListJoins\"][arrayLength - 1] = {}\r\n        }\r\n        selectedRecord[\"groupListJoins\"][arrayLength - 1][\"button_and\"] = true;\r\n\r\n        selectedRecord[\"groupList\"][arrayLength] = [];\r\n        selectedRecord[\"groupList\"][arrayLength][\"button_and\"] = true;\r\n        selectedRecord[\"groupList\"][arrayLength][0] = {};\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                addGroupList,\r\n                viewColumnListByRule,\r\n                selectedRecord,\r\n                activeTabIndex:0\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    getTestGroupRulesEngineAdd = () => {\r\n        //   if (this.state.selectedcombo['nproductcatcode']) {\r\n        //    const sqlQuery = false;\r\n        //this.setState({ selectedRecord: {} });\r\n        let selectedRecord = this.state.selectedRecord || {}\r\n        this.props.getTestGroupRulesEngineAdd(this.props.Login.userInfo, false, {\r\n            addRuleList: [], addGroupList: [],\r\n            addAggregateList: [], addOrderbyList: []\r\n        }, this.props.Login.masterData);\r\n        //  } else {\r\n        //       toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTPRODUCTCATEGORY\" }));\r\n\r\n        //   }\r\n\r\n\r\n    }\r\n    closePortalModal = () => {\r\n        let masterData = this.props.Login.masterData || {};\r\n        masterData['testParameter'] = {}\r\n        masterData['testParameterComments'] = {}\r\n        masterData['testParameterreportComments'] = {}\r\n        masterData['testComments'] = {}\r\n        masterData['reportComments'] = {}\r\n        masterData['testSite'] = {}\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: this.props.Login.operation !== 'update' ? {\r\n                activeTabIndex: 0,\r\n                openPortalModal: false, selectedRecord: {}, addRuleList: [], count: 0,\r\n                masterData, testInitiateTests: [], reportCommentsTests: [],\r\n                testCommentsTests: [], siteObject: {}, testCommentObject: {}, reportCommentObject: {},\r\n                npkAtestparametercode: 0,\r\n                npkBtestparametercode: 0,\r\n                npkCtestparametercode: 0,\r\n                testInitiateSiteTab: [],\r\n                testCommentsTestsTab: [],\r\n                reportCommentsTestsTab: []\r\n            } : {\r\n                activeTabIndex: 0,\r\n                openPortalModal: false, selectedRecord: {}, addRuleList: [], count: 0,\r\n                masterData,\r\n                //  testInitiateTests: [], reportCommentsTests: [],\r\n                // testCommentsTests: [], siteObject: {}, testCommentObject: {}, reportCommentObject: {},\r\n                npkAtestparametercode: 0,\r\n                npkBtestparametercode: 0,\r\n                npkCtestparametercode: 0\r\n                // ,\r\n                // testInitiateSiteTab: [],\r\n                // testCommentsTestsTab: [],\r\n                // reportCommentsTestsTab: []\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    changePropertyView = (index, event, status) => {\r\n\r\n        let id = false;\r\n        let activeTabIndex\r\n        let activeTabId\r\n        let masterData = this.props.Login.masterData || {};\r\n        let activeTestTab = this.props.Login.activeTestTab || \"\"\r\n        const { selectedRecord } = this.state;\r\n        if (selectedRecord[\"groupList\"].length > 0) {\r\n            if (this.onsavevalidation(selectedRecord)) {\r\n                if (window.innerWidth > 992 && event && this.state.enableAutoClick || !event) {\r\n                    activeTabIndex = this.state.activeTabIndex !== index ? index : id ? index : false;\r\n                }\r\n                if (window.innerWidth > 992 && event && this.state.enableAutoClick || !event) {\r\n                    if (index === 1) {\r\n                        activeTestTab = 'IDS_Test'\r\n                        masterData['selectedParameterRulesEngine'] = this.props.Login.testInitiateTests && this.props.Login.testInitiateTests[0]\r\n                    }\r\n                    if (index === 2) {\r\n                        activeTestTab = 'IDS_COMMENTS'\r\n                        masterData['selectedParameterRulesEngine'] = this.props.Login.testCommentsTests && this.props.Login.testCommentsTests[0]\r\n                    }\r\n                    if (index === 3) {\r\n                        activeTestTab = 'IDS_REPEAT'\r\n                        masterData['selectedParameterRulesEngine'] = this.props.Login.testRepeatTests && this.props.Login.testRepeatTests[0]\r\n                    }\r\n                    if (index === 4) {\r\n                        activeTestTab = 'IDS_ENFORCERESULT'\r\n                        masterData['selectedParameterRulesEngine'] = this.props.Login.testEnforceTests && this.props.Login.testEnforceTests[0]\r\n                    }\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            activeTabIndex: index === 0 ? 0 : this.state.activeTabIndex !== index ? index : id ? index : false,\r\n                            activeTabId: id,\r\n                            activeTestTab,\r\n                            masterData\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n            } else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_FILLTHERULETOADDOUTCOME\" }));\r\n            }\r\n        }\r\n        else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_ATLEASTADDONERULETOADDOUTCOME\" }));\r\n        }\r\n    }\r\n\r\n\r\n    deleteRule = (groupIndex, index) => {\r\n        let addGroupList = this.props.Login.addGroupList || [];\r\n        const selectedRecord = this.state.selectedRecord;\r\n        addGroupList[groupIndex] = addGroupList[groupIndex] - 1;\r\n\r\n        if (addGroupList[groupIndex] === 0) {\r\n            addGroupList.splice(groupIndex, 1);\r\n            selectedRecord[\"groupList\"].splice(groupIndex, 1);\r\n            if (selectedRecord[\"groupListJoins\"]) {\r\n                selectedRecord[\"groupListJoins\"].splice(groupIndex - 1, 1);\r\n            }\r\n        } else {\r\n            selectedRecord[\"groupList\"][groupIndex].splice(index, 1);\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addGroupList, selectedRecord,\r\n                activeTabIndex:0 }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    deleteOutcome = (index) => {\r\n        let addOutcomeList = this.props.Login.addOutcomeList;\r\n        addOutcomeList.splice(index, 1);\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addOutcomeList }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    clearSelectedRule(selectedRecord, index) {\r\n        selectedRecord[\"sinputname_\" + index] && delete selectedRecord[\"sinputname_\" + index];\r\n        selectedRecord[\"ssymbolname_\" + index] && delete selectedRecord[\"ssymbolname_\" + index];\r\n        selectedRecord[\"snumericinput_\" + index] && delete selectedRecord[\"snumericinput_\" + index];\r\n        selectedRecord[\"columnname_\" + index] && delete selectedRecord[\"columnname_\" + index];\r\n        selectedRecord[\"snumericinputtwo_\" + index] && delete selectedRecord[\"snumericinputtwo_\" + index];\r\n        selectedRecord[\"dateinput_\" + index] && delete selectedRecord[\"dateinput_\" + index];\r\n        selectedRecord[\"dateinputtwo_\" + index] && delete selectedRecord[\"dateinputtwo_\" + index];\r\n    }\r\n\r\n    clearRule = () => {\r\n        const sviewname = this.state.selectedRecord.sviewname || \"\";\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addRuleList: [], selectedRecord: { sviewname }, sqlQuery: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    resetRule = () => {\r\n        let masterData = this.props.Login.masterData || {};\r\n        let selectedRecord = this.state.selectedRecord || {}\r\n        masterData['testParameter'] = {}\r\n        masterData['testParameterComments'] = {}\r\n        masterData['testParameterreportComments'] = {}\r\n        masterData['testComments'] = {}\r\n        masterData['reportComments'] = {}\r\n        masterData['testRepeat'] = []\r\n        masterData['testenforceTests'] = []\r\n        masterData['testSite'] = {}\r\n        if (selectedRecord[\"groupList\"]) {\r\n            selectedRecord[\"groupList\"] = []\r\n\r\n        }\r\n        if (selectedRecord[\"groupListJoins\"]) {\r\n            selectedRecord[\"groupListJoins\"] = []\r\n\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                addRuleList: [], addGroupList: [], masterData,\r\n                addAggregateList: [], addOrderbyList: [], testInitiateTests: [], reportCommentsTests: [],\r\n                testCommentsTests: [], siteObject: {}, testCommentObject: {}, reportCommentObject: {}, selectedRecord, testRepeatTests: [],\r\n                testenforceTests: [],\r\n                activeTabIndex:0\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onSymbolChange = (comboData, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        const oldSelectedRecord = selectedRecord[\"groupList\"][groupIndex][index][fieldName] || {};\r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\r\n        this.setState({ selectedRecord, groupIndex, index });\r\n    }\r\n\r\n    onInputChange = (event, type, groupIndex, index) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let needoutsource = this.state.needoutsource || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === 'needoutsource' && event.target.checked === true) {\r\n                needoutsource = true\r\n            }\r\n            else {\r\n                needoutsource = false\r\n                delete selectedRecord['nfromsitecode'];\r\n                delete selectedRecord['ntositecode'];\r\n            }\r\n            selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord, needoutsource });\r\n    }\r\n\r\n\r\n\r\n    viewColumnListByRule = (list) => {\r\n        let activeTabIndex = this.props.Login.activeTabIndex\r\n\r\n        if (activeTabIndex !== 0) {\r\n            let selectedRecord = this.props.Login.selectedRecord && this.props.Login.selectedRecord\r\n            let dynamicList = activeTabIndex === 1 ? this.props.Login.testInitiateTests : activeTabIndex === 2 ? this.props.Login.testCommentsTests\r\n                : activeTabIndex === 3 ? this.props.Login.testRepeatTests : activeTabIndex === 4 ? this.props.Login.testenforceTests : \"\"\r\n            if (dynamicList !== undefined && dynamicList)\r\n                list = list.filter(({ value }) => !dynamicList.some(x => x.ntestgrouptestcode == value))\r\n        }\r\n        return list\r\n    }\r\n    onConditionClick = (fieldName, index, isgroup) => {\r\n        let { selectedRecord } = this.state;\r\n        selectedRecord[\"groupListJoins\"] = selectedRecord[\"groupListJoins\"] || []\r\n        if (index !== undefined && isgroup === false) {\r\n            if (fieldName === `button_and`) {\r\n                selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? true : true;\r\n                selectedRecord[\"groupList\"][index][`button_or`] = false;\r\n            } else if (fieldName === `button_or`) {\r\n                selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? true : true;\r\n                selectedRecord[\"groupList\"][index][`button_and`] = false;\r\n            } else if (fieldName === `button_not`) {\r\n                selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? false : true;\r\n            }\r\n            else {\r\n\r\n            }\r\n            this.setState({ selectedRecord });\r\n        }\r\n        else {\r\n            if (fieldName === `button_and`) {\r\n                if (selectedRecord[\"groupListJoins\"][index] === undefined) {\r\n                    selectedRecord[\"groupListJoins\"][index] = {}\r\n                }\r\n                selectedRecord[\"groupListJoins\"][index][fieldName] = selectedRecord[\"groupListJoins\"][index][fieldName] === true ? true : true;\r\n                selectedRecord[\"groupListJoins\"][index][`button_or`] = false;\r\n            }\r\n            if (fieldName === `button_or`) {\r\n                if (selectedRecord[\"groupListJoins\"][index] === undefined) {\r\n                    selectedRecord[\"groupListJoins\"][index] = {}\r\n                }\r\n                selectedRecord[\"groupListJoins\"][index][fieldName] = selectedRecord[\"groupListJoins\"][index][fieldName] === true ? true : true;\r\n                selectedRecord[\"groupListJoins\"][index][`button_and`] = false;\r\n            }\r\n            if (fieldName === `button_not`) {\r\n                if (selectedRecord[\"groupListJoins\"][index] === undefined) {\r\n                    selectedRecord[\"groupListJoins\"][index] = {}\r\n                }\r\n                selectedRecord[\"groupListJoins\"][index][fieldName] = selectedRecord[\"groupListJoins\"][index][fieldName] === true ? false : true;\r\n            }\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n\r\n\r\n    //Rules Engine Functions End\r\n    changePropertyViewClose = (id) => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                activeTabIndex: undefined,\r\n                activeTestTab: undefined,\r\n                activeTabId: id\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onFilterComboChange = (comboData, fieldName, caseNo) => {\r\n        let tempFilterData = this.state.tempFilterData || {};\r\n        let inputParam = {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sampletype: comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    methodUrl: \"/getProductCategory\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n\r\n            case 2:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sampletype: tempFilterData.nsampletypecode.item,\r\n                        productcategory: comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    methodUrl: \"/getProduct\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n\r\n            case 3:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sampletype: tempFilterData.nsampletypecode.item,\r\n                        productcategory: tempFilterData.nproductcatcode.item,\r\n                        product: comboData.item,\r\n                        project:comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    methodUrl: \"/getTreeVersionTemplate\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n\r\n            case 4:\r\n                tempFilterData[fieldName] = comboData;\r\n                this.setState({ tempFilterData });\r\n                break;\r\n\r\n            case 5:\r\n                const selectedRecord = this.state.selectedRecord;\r\n                selectedRecord[fieldName] = comboData;\r\n                const TestGroupSpecSampleType = this.props.Login.testGroupInputData.TestGroupSpecSampleType || {};\r\n                let testGroupSpecSampleType = {};\r\n                if (this.props.Login.screenName === \"IDS_COMPONENT\") {\r\n                    testGroupSpecSampleType = selectedRecord[\"ncomponentcode\"] ? selectedRecord[\"ncomponentcode\"].item : TestGroupSpecSampleType[0].item;\r\n                } else {\r\n                    testGroupSpecSampleType = this.props.Login.masterData.SelectedComponent;\r\n                }\r\n                inputParam = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    testcategory: comboData.item,\r\n                    testgroupspecsampletype: testGroupSpecSampleType,\r\n                    nallottedspeccode: this.props.Login.masterData.SelectedSpecification[\"nallottedspeccode\"],\r\n                    selectedRecord\r\n                }\r\n                this.props.changeTestCategory(inputParam, this.props.Login.testGroupInputData);\r\n                break;\r\n            case 6:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        nprojecttypecode:tempFilterData.nprojecttypecode.value,\r\n                        projecttype:tempFilterData.nprojecttypecode.item,\r\n                       // sampletype: tempFilterData.nsampletypecode.item,\r\n                       // productcategory: comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    classUrl:\"/projectmaster\",\r\n                    methodUrl: \"/getApprovedProjectByProjectType\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n           \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onNumericInputChange = (value, name) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        let inputParam = {};\r\n        if (this.props.Login.screenName === \"IDS_PROFILETREE\"\r\n            || this.props.Login.screenName === \"IDS_EDITTREE\") {\r\n            inputParam = this.onSaveTree(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_SPECIFICATION\") {\r\n            inputParam = this.onSaveSpecification(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_COMPONENT\") {\r\n            inputParam = this.onSaveComponent(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_COPYSPECIFICATION\") {\r\n            inputParam = this.onSaveCopySpecification(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_TEST\"\r\n            || this.props.Login.screenName === \"IDS_EDITTESTGROUPTEST\") {\r\n            inputParam = this.onSaveTest(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_SPECFILE\") {\r\n            inputParam = this.onSaveSpecFile(saveType, formRef);\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, openModal: true, operation: this.props.Login.operation,\r\n                    screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n        }\r\n    }\r\n\r\n    onSaveTest = (saveType, formRef) => {\r\n        const operation = this.props.Login.operation;\r\n        const masterData = this.props.Login.masterData;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        let inputData = {};\r\n        const userinfo = this.props.Login.userInfo;\r\n        let postParam = undefined;\r\n        if (operation === \"create\") {\r\n            const testArray = selectedRecord.ntestcode.map(test => { return test.item });\r\n            inputData = {\r\n                testgroupspecification: masterData.SelectedSpecification,\r\n                testgroupspecsampletype: [masterData.SelectedComponent],\r\n                testgrouptest: testArray, userinfo\r\n            }\r\n        } else {\r\n            postParam = {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: masterData.SelectedTest ? masterData.SelectedTest.ntestgrouptestcode : 0,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n                masterData: this.props.Login.masterData, searchFieldList, changeList: [\"TestGroupTestFormula\", \"TestGroupTestNumericParameter\",\r\n                    \"TestGroupTestPredefinedParameter\", \"TestGroupTestCharParameter\", \"TestGroupTestParameter\"], isSingleSelect: true\r\n            }\r\n            let testgrouptestfile = null;\r\n            let testGroupFile = selectedRecord.ntestfilecode;\r\n            if (testGroupFile) {\r\n                testGroupFile = testGroupFile.item;\r\n                testgrouptestfile = {\r\n                    nlinkcode: testGroupFile.nlinkcode,\r\n                    nattachmenttypecode: testGroupFile.nattachmenttypecode,\r\n                    sdescription: testGroupFile.sdescription,\r\n                    ssystemfilename: testGroupFile.ssystemfilename,\r\n                    dcreateddate: testGroupFile.dcreateddate,\r\n                    nfilesize: testGroupFile.nfilesize,\r\n                    ntestgroupfilecode: selectedRecord.ntestgroupfilecode,\r\n                    ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\r\n                    sfilename: testGroupFile.sfilename,\r\n                    nstatus: transactionStatus.ACTIVE\r\n                };\r\n            }\r\n            inputData = {\r\n                testgroupspecification: masterData.SelectedSpecification,\r\n                testgrouptest: {\r\n                    ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\r\n                    nsectioncode: selectedRecord.nsectioncode.value,\r\n                    //nsourcecode: selectedRecord.nsourcecode.value,\r\n                    nmethodcode: selectedRecord.nmethodcode ? selectedRecord.nmethodcode.value : transactionStatus.NA,\r\n                    ninstrumentcatcode: selectedRecord.ninstrumentcatcode ? selectedRecord.ninstrumentcatcode.value : transactionStatus.NA,\r\n                    ncontainertypecode: selectedRecord.ncontainertypecode ? selectedRecord.ncontainertypecode.value : transactionStatus.NA,\r\n                    stestsynonym: selectedRecord.stestsynonym,\r\n                    ncost: selectedRecord.ncost,\r\n                    nsorter: selectedRecord.nsorter,\r\n                    nspecsampletypecode: selectedRecord.nspecsampletypecode,\r\n                    nrepeatcountno: selectedRecord.nrepeatcountno\r\n\r\n                },\r\n                testgrouptestfile, userinfo\r\n            }\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: operation,\r\n            methodUrl: \"Test\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveTree = (saveType, formRef) => {\r\n        const operation = this.props.Login.operation;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo\r\n        };\r\n        if (operation === \"update\") {\r\n            const selectedNode = this.props.Login.masterData.selectedNode;\r\n            inputData[\"treetemplatemanipulation\"] = {\r\n                ntemplatemanipulationcode: selectedRecord.ntemplatemanipulationcode,\r\n                sleveldescription: selectedRecord.sleveldescription,\r\n                nsampletypecode: selectedNode.nsampletypecode,\r\n                ntreeversiontempcode: selectedNode.ntreeversiontempcode,\r\n                nproductcatcode: selectedNode.nproductcatcode,\r\n                nproductcode: selectedNode.nproductcode,\r\n                nprojectmastercode: selectedNode.nprojectmastercode,\r\n            }\r\n            inputData[\"selectednode\"] = this.props.Login.masterData.ActiveKey;\r\n        } else {\r\n            const TreetempTranstestGroup = this.props.Login.TreetempTranstestGroup;\r\n            const filterData = this.state.filterData;\r\n            const selectedRecord = this.state.selectedRecord;\r\n            let treetemplatemanipulation = [];\r\n            let tempArray = filterRecordBasedOnTwoArrays(TreetempTranstestGroup, selectedRecord.treetemplatemanipulation, \"ntemptranstestgroupcode\");\r\n\r\n            tempArray.map(item => {\r\n                const treeData = {\r\n                    ntreeversiontempcode: item.ntreeversiontempcode,\r\n                    npositioncode: item.nlevelno - 1,\r\n                    sleveldescription: item.sleveldescription,\r\n                    ntemptranstestgroupcode: item.ntemptranstestgroupcode,\r\n                    nformcode: 62,\r\n                    schildnode: \"\",\r\n                    nnextchildcode: item.schildnode,\r\n                    ntemplatemanipulationcode: item.ntemplatemanipulationcode,\r\n                    isreadonly: item.ntemplatemanipulationcode > 0 ? true : false,\r\n                    slevelformat: item.slevelformat\r\n                }\r\n                return treetemplatemanipulation.push(treeData);\r\n            });\r\n\r\n\r\n            selectedRecord.treetemplatemanipulation.map(item => {\r\n                const treeTemplateManip = TreetempTranstestGroup.filter(temp => temp.ntemptranstestgroupcode === item.ntemptranstestgroupcode);\r\n                if (treeTemplateManip.length > 0) {\r\n                    item[\"ntemplatemanipulationcode\"] = treeTemplateManip[\"ntemplatemanipulationcode\"];\r\n                } else {\r\n                    item[\"ntemplatemanipulationcode\"] = 0;\r\n                }\r\n                return treetemplatemanipulation.push(item);\r\n            });\r\n\r\n            inputData[\"treetemplatemanipulation\"] = treetemplatemanipulation;\r\n            inputData[\"sampletype\"] = filterData.nsampletypecode.item;\r\n            inputData[\"ncategorycode\"] = filterData.nproductcatcode.value;\r\n            inputData[\"nproductcode\"] = filterData.nsampletypecode.item.ncategorybasedflowrequired === transactionStatus.YES ? -1 : filterData.nproductcatcode.item.ncategorybasedflow == transactionStatus.YES ? -1 :\r\n                filterData.nproductcode.value ? filterData.nproductcode.value : -1;\r\n            inputData[\"ntreeversiontempcode\"] = filterData.ntreeversiontempcode.value;\r\n          //  inputData[\"nprojectmastercode\"] = filterData.nprojectmastercode ? filterData.nprojectmastercode.value:-1;\r\n            inputData[\"nprojectmastercode\"] = filterData.nprojectmastercode ? filterData.nsampletypecode.item.nprojectspecrequired === transactionStatus.YES ? filterData.nprojectmastercode.value :-1:-1;\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: operation,\r\n            methodUrl: \"Tree\",\r\n            saveType, formRef\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveSpecification = (saveType, formRef) => {\r\n        const operation = this.props.Login.operation;\r\n        const selectedRecord = this.state.selectedRecord;\r\n\r\n        let testGroupSpec = {\r\n            napproveconfversioncode: -1,\r\n            sversion: '',\r\n            napprovalstatus: transactionStatus.DRAFT,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            ntransactionstatus: selectedRecord[\"ntransactionstatus\"],\r\n            ncomponentrequired: selectedRecord[\"ncomponentrequired\"],\r\n            //   nclinicalspec: selectedRecord[\"nclinicalspec\"],\r\n           // nprojectcode: selectedRecord[\"nprojectcode\"] ? selectedRecord[\"nprojectcode\"] : -1,\r\n            nprojectmastercode: this.state.filterData.nprojectmastercode ? this.state.filterData.nsampletypecode.item.nprojectspecrequired === transactionStatus.YES ? this.state.filterData.nprojectmastercode.value :-1 : -1,\r\n            sspecname: selectedRecord[\"sspecname\"],\r\n            dexpirydate: selectedRecord[\"dexpirydate\"],\r\n            nallottedspeccode: selectedRecord[\"nallottedspeccode\"] ? selectedRecord[\"nallottedspeccode\"] : 0,\r\n            ntzexpirydate: selectedRecord[\"ntzexpirydate\"].value,\r\n            stzexpirydate: selectedRecord[\"ntzexpirydate\"].label\r\n        };\r\n\r\n        const dexpirydate = testGroupSpec[\"dexpirydate\"];\r\n        //need this conversion when the datatype of the field is 'Instant'\r\n        testGroupSpec[\"dexpirydate\"] = formatInputDate(dexpirydate, false);\r\n\r\n        if (operation === \"create\") {\r\n            testGroupSpec[\"ntemplatemanipulationcode\"] = this.props.Login.masterData.selectedNode.ntemplatemanipulationcode\r\n        }\r\n        let ntreeversiontempcode = this.state.filterData.ntreeversiontempcode.value;\r\n\r\n        const inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n            testgroupspecification: testGroupSpec,\r\n            treetemplatemanipulation: this.props.Login.masterData.selectedNode,\r\n            selectedspecification: this.props.Login.masterData.SelectedSpecification,\r\n            ntreeversiontempcode: ntreeversiontempcode\r\n        }\r\n\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: operation,\r\n            methodUrl: \"Specification\",\r\n            saveType, formRef\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveComponent = (saveType, formRef) => {\r\n        const masterData = this.props.Login.masterData;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const testArray = selectedRecord.ntestcode.map(test => { return test.item });\r\n        const inputData = {\r\n            testgroupspecification: masterData.SelectedSpecification,\r\n            testgroupspecsampletype: [selectedRecord.ncomponentcode.item],\r\n            testgrouptest: testArray,\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.Login.operation,\r\n            methodUrl: \"Component\",\r\n            saveType, formRef\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveSpecFile = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let specFileArray = [];\r\n        const selectedSpecification = this.props.Login.masterData.SelectedSpecification;\r\n        let specFile = {\r\n            nallottedspeccode: selectedSpecification.nallottedspeccode,\r\n            nspecfilecode: selectedRecord.nspecfilecode ? selectedRecord.nspecfilecode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            nattachmenttypecode\r\n        };\r\n        const formData = new FormData();\r\n        if (nattachmenttypecode === attachmentType.FTP) {\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, specFile);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] =Lims_JSON_stringify(file.name,false)  ;\r\n                    tempData[\"sdescription\"] =Lims_JSON_stringify( selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\",false);\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    specFileArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                specFile[\"sfilename\"] =Lims_JSON_stringify(selectedRecord.sfilename,false)  ;\r\n                specFile[\"sdescription\"] =Lims_JSON_stringify(selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\",false) ;\r\n                specFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                specFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                specFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                specFileArray.push(specFile);\r\n            }\r\n        } else {\r\n            specFile[\"sfilename\"] =Lims_JSON_stringify( selectedRecord.slinkfilename.trim(),false) ;\r\n            specFile[\"sdescription\"] =Lims_JSON_stringify( selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\",false);\r\n            specFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\r\n            specFile[\"ssystemfilename\"] = \"\";\r\n            specFile[\"nfilesize\"] = 0;\r\n            specFileArray.push(specFile);\r\n        }\r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"testgroupspecification\", JSON.stringify(selectedSpecification));\r\n        formData.append(\"testgroupspecfile\", JSON.stringify(specFileArray));\r\n        const inputParam = {\r\n           // inputData: { userinfo: this.props.Login.userInfo },\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sformname: Lims_JSON_stringify(this.props.Login.userInfo.sformname),\r\n                    smodulename: Lims_JSON_stringify(this.props.Login.userInfo.smodulename)\r\n                }\r\n            },\r\n            formData: formData,\r\n            isFileupload: true,\r\n            operation: this.props.Login.operation,\r\n            classUrl: \"testgroup\",\r\n            saveType, formRef, methodUrl: \"SpecificationFile\"\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    deleteSpecRecord = (deleteParam) => {\r\n        const selectedRecord = deleteParam.selectedRecord;\r\n\r\n        const masterData = this.props.Login.masterData;\r\n        const ntreeversiontempcode = masterData[\"TreeTemplateManipulation\"][0].ntreeversiontempcode;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === ntreeversiontempcode);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            if (selectedRecord.napprovalstatus === transactionStatus.DRAFT\r\n                || selectedRecord.napprovalstatus === transactionStatus.CORRECTION) {\r\n                this.deleteRecord(deleteParam);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteRecord = (deleteParam) => {\r\n        if (this.props.Login.masterData.selectedNode !== undefined && this.props.Login.masterData.selectedNode !== null) {\r\n            const masterData = this.props.Login.masterData;\r\n            const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n                x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n            const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n            if (templateVersionStatus === transactionStatus.RETIRED) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n            }\r\n            else {\r\n                if (this.props.Login.masterData.selectedNode) {\r\n                    const methodUrl = deleteParam.methodUrl;\r\n                    let dataState = this.state.componentDataState;\r\n                    const screenName = deleteParam.screenName;\r\n                    const inputParam = {\r\n                        inputData: {\r\n                            [deleteParam.keyName]: deleteParam.selectedRecord,\r\n                            userinfo: this.props.Login.userInfo,\r\n                            testgroupspecification: this.props.Login.masterData.SelectedSpecification,\r\n                            treetemplatemanipulation: this.props.Login.masterData.selectedNode,\r\n                            ntreeversiontempcode: deleteParam.filterData.ntreeversiontempcode.value\r\n                        },\r\n                        classUrl: \"testgroup\",\r\n                        operation: deleteParam.operation,\r\n                        methodUrl: methodUrl,\r\n                        screenName, dataState\r\n                    }\r\n                    const masterData = this.props.Login.masterData;\r\n                    //if (showEsign(this.state.controlMap, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData },\r\n                                openModal: true, screenName: screenName, operation: deleteParam.operation, selectedRecord: {}\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n                    }\r\n                } else {\r\n                    toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROFILENODE\" }));\r\n                }\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROFILENODE\" }));\r\n        }\r\n    }\r\n\r\n    deleteMultipleRecord = (deleteParam) => {\r\n        //console.log(\"delete component:\", deleteParam, this.props.Login.masterData);\r\n        const masterData = this.props.Login.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                const inputParam = {\r\n                    inputData: {\r\n                        testgroupspecsampletype: deleteParam.props.testgroupspecsampletype,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        testgroupspecification,\r\n                        treetemplatemanipulation: this.props.Login.masterData.selectedNode\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: \"delete\",\r\n                    methodUrl: \"TestGroupComponent\",\r\n                    screenName: \"IDS_COMPONENT\"\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData },\r\n                            openModal: true, screenName: \"IDS_COMPONENT\", operation: \"delete\", selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    onDropSpecFile = (attachedFiles, fieldName, maxSize) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\" //fileToDelete:file.name \r\n        });\r\n    }\r\n\r\n    validateTestGroupComplete = (operation, inputValue, ncontrolCode) => {\r\n        if (this.props.Login.masterData.selectedNode !== undefined && this.props.Login.masterData.selectedNode !== null) {\r\n            const masterData = this.props.Login.masterData;\r\n            const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n                x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n            const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n            if (templateVersionStatus === transactionStatus.RETIRED) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n            }\r\n            else {\r\n                if (inputValue.testgroupspecification) {\r\n                    if (inputValue.testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                        || inputValue.testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                        return rsapi.post(\"testgroup/validateTestGroupComplete\", {\r\n                            nallottedspeccode: inputValue.testgroupspecification.nallottedspeccode,\r\n                            \"userinfo\": this.props.Login.userInfo\r\n                        })\r\n                            .then(response => {\r\n                                if (response.data && response.data.length > 0) {\r\n                                    const inactiveTestArray = [];\r\n                                    response.data.map(item => inactiveTestArray.indexOf(item.stestname) === -1 ? inactiveTestArray.push(item.stestname) : \"\");\r\n                                    const data = \" [\" + inactiveTestArray + \"] \" + this.props.intl.formatMessage({ id: \"IDS_INACTIVETESTSATCOMPLETE\" })\r\n                                    this.confirmMessage.confirm(this.props.intl.formatMessage({ id: \"IDS_CONFIRMATION\" }),\r\n                                        this.props.intl.formatMessage({ id: \"IDS_CONFIRMATION\" }),\r\n                                        data,\r\n                                        this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                        this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                        () => this.completeSpecification(operation, inputValue, ncontrolCode),\r\n                                        false,\r\n                                        undefined);\r\n                                }\r\n                                else {\r\n                                    this.completeSpecification(operation, inputValue, ncontrolCode);\r\n                                }\r\n\r\n                            })\r\n                            .catch(error => {\r\n                                if (error.response.status === 500) {\r\n                                    toast.error(this.props.intl.formatMessage({ id: error.message }));\r\n                                }\r\n                                else {\r\n                                    toast.warn(this.props.intl.formatMessage({ id: error.response }));\r\n                                }\r\n                            })\r\n                    }\r\n                    else {\r\n                        toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n                    }\r\n                }\r\n                else {\r\n                    toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTSPECIFICATION\" }));\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTSPECIFICATION\" }));\r\n        }\r\n    }\r\n\r\n    retireSpec = (operation, selectedSpecification, approvalRoleActionDetail, retireSpecId) => {\r\n        if (selectedSpecification.testgroupspecification.napprovalstatus !== transactionStatus.RETIRED) {\r\n            if (approvalRoleActionDetail.length > 0 && approvalRoleActionDetail[0].nlevelno === transactionStatus.ACTIVE) {\r\n                if (selectedSpecification.testgroupspecification[\"napprovalstatus\"] === approvalRoleActionDetail[0].ntransactionstatus) {\r\n                    const inputParam = {\r\n                        inputData: {\r\n                            nallottedspeccode: selectedSpecification.testgroupspecification,\r\n                            treetemplatemanipulation: selectedSpecification.treetemplatemanipulation,\r\n                            approvalRoleActionDetail: approvalRoleActionDetail[0],\r\n                            userinfo: this.props.Login.userInfo,\r\n                            operation: operation\r\n                        },\r\n                        classUrl: \"testgroup\",\r\n                        operation: operation,\r\n                        methodUrl: \"Spec\",\r\n                        screenName: \"IDS_STUDYPLAN\"\r\n                    }\r\n\r\n\r\n                    let masterData = this.props.Login.masterData\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, retireSpecId)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData },\r\n                                openModal: true, screenName: \"IDS_STUDYPLAN\", operation: operation, selectedRecord: {}\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.retireSpecification(inputParam.inputData, masterData);\r\n                    }\r\n                } else {\r\n                    toast.warn(this.props.intl.formatMessage({ id: \"IDS_RETIRECANBECONEAFTERFINAL\" }));\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_FINALLEVELAPPROVE\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYRETIRED\" }));\r\n        }\r\n\r\n    }\r\n\r\n    specificationReport = (operation, ncontrolCode) => {\r\n        if (this.props.Login.masterData.SelectedComponent && this.props.Login.masterData.SelectedTest) {\r\n            const inputParam = {\r\n                inputData: {\r\n                    sprimarykeyname: 'nallottedspeccode',\r\n                    userinfo: this.props.Login.userInfo,\r\n                    ncontrolcode: ncontrolCode,\r\n                    nregtypecode: transactionStatus.NA,\r\n                    nregsubtypecode: transactionStatus.NA,\r\n                    nreportmodulecode: transactionStatus.NA,\r\n                    nreporttypecode: REPORTTYPE.CONTROLBASED,\r\n                    nreportdecisiontypecode: transactionStatus.NA,\r\n                    certificatetypecode: transactionStatus.NA,\r\n                    nsectioncode: transactionStatus.NA,\r\n                    operation: operation,\r\n                    nallottedspeccode: this.props.Login.masterData['SelectedSpecification']['nallottedspeccode'],\r\n                    selectedComponent: this.props.Login.masterData[\"SelectedComponent\"],\r\n                    selectedTest: this.props.Login.masterData[\"SelectedTest\"],\r\n                    filterData: this.state.filterData\r\n\r\n                },\r\n            }\r\n            this.props.reportSpecification(inputParam['inputData']);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\" }));\r\n        }\r\n    }\r\n\r\n    completeSpecification = (operation, inputValue, ncontrolCode) => {\r\n        if (inputValue.testgroupspecification) {\r\n            if (inputValue.testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || inputValue.testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n\r\n                const inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        ntreeversiontempcode: this.state.filterData.ntreeversiontempcode.value,\r\n                        testGroupTest: this.props.Login.masterData.TestGroupTest,\r\n                        ...inputValue\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: operation,\r\n                    methodUrl: \"Specification\",\r\n                    screenName: \"IDS_SPECIFICATION\"\r\n                }\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                            openModal: true, screenName: \"IDS_SPECIFICATION\", operation: operation, selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTSPECIFICATION\" }));\r\n        }\r\n    }\r\n\r\n    approveSpecification = (status, needEsign) => {\r\n        const masterData = this.props.Login.masterData;\r\n        const inputParam = {\r\n            inputData: {\r\n                userinfo: this.props.Login.userInfo,\r\n                treetemplatemanipulation: masterData.selectedNode,\r\n                ntreeversiontempcode: this.state.filterData.ntreeversiontempcode.value,\r\n                testgroupspecification: {\r\n                    ...masterData.SelectedSpecification,\r\n                    napprovalstatus: status\r\n                }\r\n            },\r\n            classUrl: \"testgroup\",\r\n            operation: \"approve\",\r\n            methodUrl: \"Specification\",\r\n            screenName: \"IDS_SPECIFICATION\"\r\n        }\r\n        if (needEsign === transactionStatus.YES) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_SPECIFICATION\", operation: \"approve\", selectedRecord: {}\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\", {});\r\n        }\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName, caseNo, optional) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                if (fieldName === \"ntestcode\") {\r\n                    selectedRecord[fieldName] = comboData;\r\n                    this.setState({ selectedRecord });\r\n                } else {\r\n                    selectedRecord[fieldName] = comboData;\r\n                    this.setState({ selectedRecord });\r\n                }\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[\"parameterTypeCode\"] = comboData.value;\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 3:\r\n                selectedRecord[\"schecklistversionname\"] = comboData.item.schecklistversionname;\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    generateBreadCrumData(filterData) {\r\n        if (filterData && Object.values(filterData).length > 0 && filterData.nsampletypecode && filterData.nsampletypecode.item) {\r\n            // if (filterData.nsampletypecode && filterData.nproductcatcode \r\n            //     && filterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.YES \r\n            //     && filterData.nsampletypecode.item.ncategorybasedflowrequired == transactionStatus.NO) \r\n            if (filterData.nsampletypecode && filterData.nsampletypecode.item.ncategorybasedflowrequired == transactionStatus.YES ? true : filterData.nproductcatcode \r\n                && filterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.YES ? true:false) \r\n                {\r\n                this.breadCrumbData = [\r\n                    {\r\n                        \"label\": \"IDS_SAMPLETYPE\",\r\n                        \"value\": filterData.nsampletypecode ? filterData.nsampletypecode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY ? \"IDS_PRODUCTCATEGORY\" :\r\n                            filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY ? \"IDS_INSTRUMENTCATEGORY\" :\r\n                                filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY ? \"IDS_MATERIALCATEGORY\" : \"\",\r\n                        \"value\": filterData.nproductcatcode ? filterData.nproductcatcode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": \"IDS_TREETEMPLATEVERSION\",\r\n                        \"value\": filterData.ntreeversiontempcode ? filterData.ntreeversiontempcode.label : \"\"\r\n                    }\r\n                ]\r\n                if (filterData.nsampletypecode.value === SampleType.PROJECTSAMPLETYPE)\r\n                {\r\n                 if ( filterData.nsampletypecode.item.nprojectspecrequired === transactionStatus.YES) {\r\n                    this.breadCrumbData.push(  {\r\n                        \"label\": \"IDS_PROJECTTYPE\",\r\n                        \"value\": filterData.nprojecttypecode ? filterData.nprojecttypecode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": \"IDS_PROJECT\",\r\n                        \"value\": filterData.nprojectmastercode ? filterData.nprojectmastercode.label : \"\"\r\n                    })\r\n                }\r\n                }\r\n            } else {\r\n                this.breadCrumbData = [\r\n                    {\r\n                        \"label\": \"IDS_SAMPLETYPE\",\r\n                        \"value\": filterData.nsampletypecode ? filterData.nsampletypecode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY ? \"IDS_PRODUCTCATEGORY\" :\r\n                            filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY ? \"IDS_INSTRUMENTCATEGORY\" :\r\n                                filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY ? \"IDS_MATERIALCATEGORY\" : \"\",\r\n                        \"value\": filterData.nproductcatcode ? filterData.nproductcatcode.label : \"\"\r\n                    },\r\n\r\n                    {\r\n                        \"label\": filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY ? \"IDS_PRODUCT\" :\r\n                            filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY ? \"IDS_INSTRUMENT\" :\r\n                                filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY ? \"IDS_MATERIAL\" : \"\",\r\n                        \"value\": filterData.nproductcode ? filterData.nproductcode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": \"IDS_TREETEMPLATEVERSION\",\r\n                        \"value\": filterData.ntreeversiontempcode ? filterData.ntreeversiontempcode.label : \"\"\r\n                    }\r\n                ];\r\n                if (filterData.nsampletypecode.value === SampleType.PROJECTSAMPLETYPE)\r\n                {\r\n                    if ( filterData.nsampletypecode.item.nprojectspecrequired === transactionStatus.YES) {\r\n                    this.breadCrumbData.push(  {\r\n                        \"label\": \"IDS_PROJECTTYPE\",\r\n                        \"value\": filterData.nprojecttypecode ? filterData.nprojecttypecode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": \"IDS_PROJECT\",\r\n                        \"value\": filterData.nprojectmastercode ? filterData.nprojectmastercode.label : \"\"\r\n                    })\r\n                }\r\n                }\r\n            }\r\n\r\n        }else{\r\n            this.breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_SAMPLETYPE\",\r\n                    \"value\":filterData && filterData.nsampletypecode ? filterData.nsampletypecode.label : \"\"\r\n                },\r\n            ]\r\n        }\r\n    }\r\n\r\n    updateSpiltterLayout() {\r\n        if (this.myRef && this.myRef.current && this.myRef.current.clientHeight + 20 !== this.state.fixefScrollHeight) {\r\n\r\n            this.setState({\r\n                fixefScrollHeight: this.myRef.current.clientHeight + 20,\r\n                disableSplit: true\r\n            })\r\n            console.log(this.myRef.current.clientHeight)\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    disableSplit: false\r\n                })\r\n            })\r\n        }\r\n\r\n    }\r\n    componentDidUpdate(previousProps, previousState) {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        let selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n        let selectsubcodedelete = this.state.selectsubcodedelete;\r\n        let filterData = this.state.filterData || {};\r\n        let isStateChanged = false;\r\n        let activeTabIndex = this.props.Login.activeTabIndex || 0;\r\n        let activeTabId = this.props.Login.activeTabId || false;\r\n\r\n        this.updateSpiltterLayout()\r\n        let tempFilterData = this.state.tempFilterData || {};\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            isStateChanged = true;\r\n        }\r\n        if (this.props.Login.selectedsubcodedresult !== previousProps.Login.selectedsubcodedresult) {\r\n           selectedsubcodedresult = this.props.Login.selectedsubcodedresult;\r\n            //selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n            isStateChanged = true;\r\n        }\r\n        if (this.props.Login.selectsubcodedelete !== previousProps.Login.selectsubcodedelete) {\r\n            selectsubcodedelete = this.props.Login.selectsubcodedelete;\r\n             //selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n             isStateChanged = true;\r\n         }\r\n        if (this.props.Login.activeTabIndex !== previousProps.Login.activeTabIndex || this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.activeTabIndex !== previousProps.Login.activeTabIndex) {\r\n                activeTabIndex = this.props.Login.activeTabIndex;\r\n                activeTabId = this.props.Login.activeTabId;\r\n                isStateChanged = true;\r\n                // this.setState({\r\n                //     activeTabIndex,\r\n                //     activeTabId\r\n                // });\r\n            }\r\n        }\r\n        if (this.props.Login.tempFilterData !== previousProps.Login.tempFilterData) {\r\n            tempFilterData = this.props.Login.tempFilterData || {};\r\n            isStateChanged = true;\r\n        }\r\n        let sampleType = this.state.sampleType || [];\r\n        if (this.props.Login.masterData.SampleType !== previousProps.Login.masterData.SampleType) {\r\n            const sampleTypeMap = constructOptionList(this.props.Login.masterData.SampleType || [], \"nsampletypecode\", \"ssampletypename\", \"nsorter\", \"ascending\", false);\r\n            sampleType = sampleTypeMap.get(\"OptionList\");\r\n            tempFilterData[\"nsampletypecode\"] = sampleType.length ? sampleType[0] : \"\";\r\n            isStateChanged = true;\r\n        }\r\n        let productCategory = this.state.productCategory || [];\r\n        if (this.props.Login.masterData.ProductCategory !== previousProps.Login.masterData.ProductCategory) {\r\n            const productCatMap = constructOptionList(this.props.Login.masterData.ProductCategory || [], \"nproductcatcode\", \"sproductcatname\", \"nproductcatcode\", \"ascending\", false);\r\n            productCategory = productCatMap.get(\"OptionList\");\r\n            tempFilterData[\"nproductcatcode\"] = productCategory.length > 0 ? productCategory[0] : \"\";\r\n            isStateChanged = true;\r\n        }\r\n        let product = this.state.product || [];\r\n        if (this.props.Login.masterData.Product !== previousProps.Login.masterData.Product) {\r\n            const productMap = constructOptionList(this.props.Login.masterData.Product || [], \"nproductcode\", \"sproductname\", \"nproductcode\", \"ascending\", false);\r\n            product = productMap.get(\"OptionList\");\r\n            tempFilterData[\"nproductcode\"] = product.length > 0 ? product[0] : undefined;\r\n            isStateChanged = true;\r\n        }\r\n        let projectType = this.state.projectType || [];\r\n        if (this.props.Login.masterData.ProjectTypeList !== previousProps.Login.masterData.ProjectTypeList) {\r\n            const projectTypeMap = constructOptionList(this.props.Login.masterData.ProjectTypeList || [], \"nprojecttypecode\", \r\n                        \"sprojecttypename\", \"nprojecttypecode\", \"ascending\", false);\r\n            projectType = projectTypeMap.get(\"OptionList\");\r\n            tempFilterData[\"nprojecttypecode\"] = projectType.length > 0 ? projectType[0] : undefined;\r\n            isStateChanged = true;\r\n        }\r\n        let project = this.state.project || [];\r\n        if (this.props.Login.masterData.ProjectMasterList !== previousProps.Login.masterData.ProjectMasterList) {\r\n            const projectMasterMap = constructOptionList(this.props.Login.masterData.ProjectMasterList || [], \"nprojectmastercode\", \r\n                        \"sprojectcode\", \"nprojectmastercode\", \"ascending\", false);\r\n            project = projectMasterMap.get(\"OptionList\");\r\n            tempFilterData[\"nprojectmastercode\"] = project.length > 0 ? project[0] : undefined;\r\n            isStateChanged = true;\r\n        }\r\n        let treeVersionTemplate = this.state.treeVersionTemplate || [];\r\n        if (this.props.Login.masterData.TreeVersionTemplate !== previousProps.Login.masterData.TreeVersionTemplate) {\r\n            const templateMap = constructOptionList(this.props.Login.masterData.TreeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", \"ntreeversiontempcode\", \"ascending\", false);\r\n            treeVersionTemplate = templateMap.get(\"OptionList\");\r\n            tempFilterData[\"ntreeversiontempcode\"] = treeVersionTemplate.length > 0 ? treeVersionTemplate[treeVersionTemplate.length - 1] : \"\";\r\n            isStateChanged = true;\r\n        }\r\n\r\n        // if (this.props.Login.masterData.TestGroupTestParameter && this.props.Login.masterData.TestGroupTestParameter !== previousProps.Login.masterData.TestGroupTestParameter) {\r\n        //     sortData(this.props.Login.masterData.TestGroupTestParameter, \"ascending\", \"nsorter\");\r\n        // }\r\n\r\n        // if (this.props.Login.masterData.TestGroupTesT && this.props.Login.masterData.TestGroupTesT !== previousProps.Login.masterData.TestGroupTesT) {\r\n        //     sortData(this.props.Login.masterData.TestGroupTesTest, \"ascending\", \"nsorter\");\r\n        // }\r\n\r\n        let userRoleControlRights = this.state.userRoleControlRights || [];\r\n        let controlMap = this.state.controlMap || [];\r\n        if (this.props.Login.userInfo && this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const nformCode = this.props.Login.userInfo.nformcode;\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[nformCode] && Object.values(this.props.Login.userRoleControlRights[nformCode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode));\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, nformCode);\r\n            filterData = { ...tempFilterData };\r\n            this.generateBreadCrumData(filterData);\r\n        }\r\n\r\n        if (this.props.Login.filterData !== previousProps.Login.filterData) {\r\n            filterData = { ...this.props.Login.filterData };\r\n            this.generateBreadCrumData(filterData);\r\n            isStateChanged = true;\r\n        }\r\n        else{\r\n             this.generateBreadCrumData(filterData);\r\n        }\r\n        // else if (filterData !== previousState.filterData) {\r\n        //     filterData = { ...tempFilterData };\r\n        //     this.generateBreadCrumData(filterData);\r\n        // }\r\n\r\n        let historyDataState = this.state.historyDataState;\r\n        if (this.props.Login.historyDataState && this.props.Login.historyDataState !== previousProps.Login.historyDataState) {\r\n            historyDataState = this.props.Login.historyDataState;\r\n            isStateChanged = true;\r\n        }\r\n\r\n        let { testskip, testtake } = this.state;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            testskip = this.props.Login.testskip === undefined ? testskip : this.props.Login.testskip\r\n            testtake = testtake ? testtake : this.props.Login.testtake\r\n            isStateChanged = true;\r\n        } \r\n        let { skipRulesEngine, takeRulesEngine } = this.state;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            skipRulesEngine = this.props.Login.skipRulesEngine === undefined ? skipRulesEngine : this.props.Login.skipRulesEngine\r\n            takeRulesEngine = takeRulesEngine ? takeRulesEngine : this.props.Login.takeRulesEngine\r\n            isStateChanged = true;\r\n        }\r\n        if (isStateChanged) {\r\n            this.setState({\r\n                selectedRecord, tempFilterData, filterData, userRoleControlRights, controlMap,\r\n                sampleType, productCategory, product, treeVersionTemplate, historyDataState,\r\n                testskip, testtake, projectType, project,activeTabIndex, activeTabId, skipRulesEngine, takeRulesEngine,selectedsubcodedresult,selectsubcodedelete\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, filterTestGroup, createTree, editTree, sampleTypeOnChange,\r\n    getTestGroupDetails, validateEsignCredential, updateStore, addSpecification, getSpecification, addComponent,\r\n    changeTestCategory, addTestGroupTest, editTestGroupTest, getTestGroupParameter, editTestGroupParameter,\r\n    addTestFile, editSpecFile, getSpecificationDetails, addTestGroupCodedResult, getComponentBySpecId, filterColumnData,\r\n    viewAttachment, viewTestGroupCheckList, getTestGroupComponentDetails, filterTransactionList, reportSpecification, retireSpecification, getDataForTestMaterial, getEditTestGroupRulesEngine,\r\n    getMaterialCategoryBasedMaterialType, getMaterialBasedMaterialCategory, getTestGroupMaterial, getDataForEditTestMaterial, addTestGroupNumericTab, getTestGroupRulesEngineAdd,\r\n    getSelectedTestGroupRulesEngine, getParameterRulesEngine,getParameterResultValue,subCodedResultView,saveExecutionOrder\r\n})(injectIntl(TestGroup));"]},"metadata":{},"sourceType":"module"}