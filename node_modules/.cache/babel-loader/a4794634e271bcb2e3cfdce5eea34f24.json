{"ast":null,"code":"import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{FormattedMessage,injectIntl}from'react-intl';import{Row,Col,FormGroup,FormLabel}from'react-bootstrap';import{toast}from'react-toastify';import{process}from'@progress/kendo-data-query';import DataGrid from'../../components/data-grid/data-grid.component';import AddCountry from'./AddCountry';import Esign from'../../pages/audittrail/Esign';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{ListWrapper,PrimaryHeader}from'../../components/client-group.styles';import{MediaLabel}from'../../components/add-client.styles';import rsapi from'../../rsapi';import{callService,crudMaster,updateStore,validateEsignCredential,fetchRecord}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{getControlMap,showEsign}from'../../components/CommonScript';//import FirstFile from '../rulespackage/FirstFile';\nimport FormSelectSearch from'../../components/form-select-search/form-select-search.component';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var Country=/*#__PURE__*/function(_React$Component){_inherits(Country,_React$Component);var _super=_createSuper(Country);function Country(_props){var _this;_classCallCheck(this,Country);_this=_super.call(this,_props);_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.state.data,event.dataState),dataState:event.dataState});};_this.openModal=function(ncontrolCode){var selectedRecord={\"ndefaultstatus\":4};//let selectedRecord = {};\nif(_this.props.Login.userInfo.nformcode===12){selectedRecord={\"nsafetymarkermand\":4};}else if(_this.props.Login.userInfo.nformcode===13){selectedRecord={\"nproducttypemand\":4};}var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:selectedRecord,operation:\"create\",ncontrolCode:ncontrolCode,selectedId:null,openModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;var selectedId=_this.props.Login.selectedId;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"){loadEsign=false;openModal=false;selectedRecord={};selectedId=null;}else{loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";}}else{openModal=false;selectedRecord={};selectedId=null;}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:selectedId}};_this.props.updateStore(updateInfo);};_this.onComboChange=function(comboData,fieldName){if(comboData!==null){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}};_this.expandChange=function(event){var isExpanded=event.dataItem.expanded===undefined?event.dataItem.aggregates:event.dataItem.expanded;event.dataItem.expanded=!isExpanded;_this.setState(_objectSpread({},_this.props));};_this.detailBand=function(props){var Dataitem=props.dataItem;var OptionalFieldList=[{datafield:\"scountryshortname\",Column:\"Country Short Name\"},{datafield:\"stwocharcountry\",Column:\"Two Char Country\"},{datafield:\"sthreecharcountry\",Column:\"Three Char Country\"}];return/*#__PURE__*/React.createElement(Row,null,OptionalFieldList.map(function(fields){return/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:fields.Column,message:fields.Column})),/*#__PURE__*/React.createElement(MediaLabel,{className:\"readonly-text font-weight-normal\"},Dataitem[fields.datafield])));}));};_this.detailedFieldList=[{dataField:\"scountryshortname\",idsName:\"IDS_COUNTRYABBREVIATION\",columnSize:\"4\"},{dataField:\"stwocharcountry\",idsName:\"IDS_TWOCHARCOUNTRY\",columnSize:\"4\"},{dataField:\"sthreecharcountry\",idsName:\"IDS_THREECHARCOUNTRY\",columnSize:\"4\"}];_this.fetchRecord=function(primaryKeyName,primaryKeyValue,operation){var _rsapi$post;var url=_this.props.Login.inputParam.classUrl+\"/getActive\"+_this.props.Login.inputParam.methodUrl+\"ById\";rsapi.post(url,(_rsapi$post={},_defineProperty(_rsapi$post,primaryKeyName,primaryKeyValue),_defineProperty(_rsapi$post,\"userinfo\",_this.props.Login.userInfo),_rsapi$post)).then(function(response){_this.setState({selectedRecord:response.data,operation:operation,isOpen:true});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){//if (event.target.name === \"agree\") {\nselectedRecord[event.target.name]=event.target.checked===true?3:4;//}\n}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.deleteRecord=function(deleteParam){var _inputData;if(deleteParam.selectedRecord.expanded!==undefined){delete deleteParam.selectedRecord.expanded;}var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:deleteParam.methodUrl,displayName:_this.props.Login.inputParam.displayName,inputData:(_inputData={},_defineProperty(_inputData,deleteParam.methodUrl.toLowerCase(),deleteParam.selectedRecord),_defineProperty(_inputData,\"userinfo\",_this.props.Login.userInfo),_inputData),operation:deleteParam.operation,selectedRecord:_objectSpread({},_this.state.selectedRecord)};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,selectedId:deleteParam.selectedRecord.ncountrycode,screenName:deleteParam.screenName,operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.reloadData=function(){var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:_this.props.Login.inputParam.classUrl,methodUrl:_this.props.Login.inputParam.methodUrl,displayName:_this.props.Login.inputParam.displayName,userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.onSaveClick=function(saveType,formRef){//add / edit      \nvar dataState=undefined;var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;var selectedId=null;if(_this.props.Login.operation===\"update\"){// edit\nselectedId=_this.props.Login.selectedId;inputData[_this.props.Login.inputParam.methodUrl.toLowerCase()]=_this.state.selectedRecord;// this.extractedColumnList.map(item => {\n//     let fieldName = item.dataField;\n//     if (item.controlType === \"checkbox\") {\n//         fieldName = item.controlName\n//     }\n//     return inputData[this.props.Login.inputParam.methodUrl.toLowerCase()][fieldName] = this.state.selectedRecord[fieldName] ? this.state.selectedRecord[fieldName] : \"\";\n// })\n_this.fieldList.map(function(item){return inputData[_this.props.Login.inputParam.methodUrl.toLowerCase()][item]=_this.state.selectedRecord[item];});dataState=_this.state.dataState;}else{//add               \ninputData[_this.props.Login.inputParam.methodUrl.toLowerCase()]={\"nsitecode\":_this.props.Login.userInfo.nmastersitecode};// this.extractedColumnList.map(item => {\n//     let fieldName = item.dataField;\n//     if (item.controlType === \"checkbox\") {\n//         fieldName = item.controlName\n//     }\n//     return inputData[this.props.Login.inputParam.methodUrl.toLowerCase()][fieldName] = this.state.selectedRecord[fieldName] ? this.state.selectedRecord[fieldName] : \"\";\n// })\n_this.fieldList.map(function(item){return inputData[_this.props.Login.inputParam.methodUrl.toLowerCase()][item]=_this.state.selectedRecord[item];});}var clearSelectedRecordField=[{\"idsName\":\"IDS_COUNTRYNAME\",\"dataField\":\"scountryname\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\",\"isClearField\":true},{\"idsName\":\"IDS_COUNTRYABBREVIATION\",\"dataField\":\"scountryshortname\",\"width\":\"200px\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\",\"isClearField\":true}//{ \"idsName\": \"IDS_COUNTRYSHORTNAME\", \"dataField\": \"scountryshortname\", \"width\": \"200px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\",\"isClearField\":true},\n//{ \"idsName\": \"IDS_COUNTRYSHORTNAME\", \"dataField\": \"scountryshortname\", \"width\": \"200px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\",\"isClearField\":true},\n];var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:_this.props.Login.inputParam.methodUrl,displayName:_this.props.Login.inputParam.displayName,inputData:inputData,selectedId:selectedId,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,dataState:dataState,selectedRecord:_objectSpread({},_this.state.selectedRecord)};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:_this.props.Login.inputParam.displayName}),operation:_this.props.Login.operation,selectedId:selectedId}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",\"\",\"\",clearSelectedRecordField);}};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.formRef=React.createRef();_this.extractedColumnList=[];_this.fieldList=[];var _dataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};_this.state={data:[],masterStatus:\"\",error:\"\",selectedRecord:{},dataResult:[],dataState:_dataState,isOpen:false,userRoleControlRights:[],controlMap:new Map()};return _this;}_createClass(Country,[{key:\"render\",value:function render(){var _this2=this;this.extractedColumnList=[{\"idsName\":\"IDS_COUNTRYNAME\",\"dataField\":\"scountryname\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_COUNTRYABBREVIATION\",\"dataField\":\"scountryshortname\",\"width\":\"200px\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}// { \"idsName\": \"IDS_TWOCHARCOUNTRY\", \"dataField\": \"stwocharcountry\", \"width\": \"200px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\n// { \"idsName\": \"IDS_THREECHARCOUNTRY\", \"dataField\": \"sthreecharcountry\", \"width\": \"200px\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\n// { \"idsName\": \"IDS_POOLCOUNTRY\", \"dataField\": \"spoolcountrystatus\", \"width\": \"200px\", \"isIdsField\": true, \"controlName\": \"npoolcountry\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\n// { \"idsName\": \"IDS_BATCHCOUNTRY\", \"dataField\": \"sbatchcountrystatus\", \"width\": \"200px\", \"isIdsField\": true, \"controlName\": \"nbatchcountry\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"}\n];this.validationColumnList=[{\"idsName\":\"IDS_COUNTRYNAME\",\"dataField\":\"scountryname\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_COUNTRYABBREVIATION\",\"dataField\":\"scountryshortname\",\"width\":\"150px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}// { \"idsName\": \"IDS_TWOCHARCOUNTRY\", \"dataField\": \"stwocharcountry\", \"width\": \"150px\",\"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\n// { \"idsName\": \"IDS_THREECHARCOUNTRY\", \"dataField\": \"sthreecharcountry\", \"width\": \"200px\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\n// { \"idsName\": \"IDS_POOLCOUNTRY\", \"dataField\": \"spoolcountrystatus\", \"width\": \"200px\", \"isIdsField\": true, \"controlName\": \"npoolcountry\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\n// { \"idsName\": \"IDS_BATCHCOUNTRY\", \"dataField\": \"sbatchcountrystatus\", \"width\": \"200px\", \"isIdsField\": true, \"controlName\": \"nbatchcountry\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" }\n];this.fieldList=[\"scountryname\",\"scountryshortname\",\"stwocharcountry\",\"sthreecharcountry\"];var addId=this.props.Login.inputParam&&this.state.controlMap.has(\"Add\".concat(this.props.Login.inputParam.methodUrl))&&this.state.controlMap.get(\"Add\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;var editId=this.props.Login.inputParam&&this.state.controlMap.has(\"Edit\".concat(this.props.Login.inputParam.methodUrl))&&this.state.controlMap.get(\"Edit\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;var editParam={screenName:this.props.Login.inputParam&&this.props.Login.inputParam.displayName&&this.props.intl.formatMessage({id:this.props.Login.inputParam.displayName}),operation:\"update\",primaryKeyField:\"ncountrycode\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,ncontrolCode:editId};var deleteParam={screenName:\"Country\",methodUrl:\"Country\",operation:\"delete\"};var mandatoryFields=[];this.validationColumnList.forEach(function(item){return item.mandatory===true?mandatoryFields.push(item):\"\";});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-list-content\"},/*#__PURE__*/React.createElement(PrimaryHeader,{className:\"d-flex justify-content-between mb-3\"}),this.state.data?/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"ncountrycode\"// expandField=\"expanded\"\n//ALPD-5235--Vignesh R(21-01-2025)-->In export pdf -> Extra columns are present which is not present in actual Screen\n// detailedFieldList={this.detailedFieldList}\n,data:this.state.data,dataResult:this.state.dataResult,dataState:this.state.dataState,dataStateChange:this.dataStateChange,extractedColumnList:this.extractedColumnList,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,fetchRecord:this.props.fetchRecord,editParam:editParam,deleteRecord:this.deleteRecord,deleteParam:deleteParam,reloadData:this.reloadData,addRecord:function addRecord(){return _this2.openModal(addId);},pageable:{buttonCount:4,pageSizes:true},scrollable:\"scrollable\",gridHeight:600,isActionRequired:true,isToolBarRequired:true,hideColumnFilter:false,selectedId:this.props.Login.selectedId,hasDynamicColSize:true//isComponent={true}\n}):\"\"))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,showSaveContinue:true,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):/*#__PURE__*/React.createElement(AddCountry,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,formatMessage:this.props.intl.formatMessage})}));}// render(){\n//     return(<>\n//         <Row>\n//             <Col>\n//                 <ListWrapper className=\"client-list-content\">\n//                 <Row>  \n//                 <Col md={4}>\n//                     <FormSelectSearch\n//                         formLabel={this.props.intl.formatMessage({ id: \"IDS_SCREEN\" })}\n//                         name={\"ncountrycode\"} \n//                         placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\n//                         value={this.state.selectedRecord ? this.state.selectedRecord[\"ncountrycode\"] : \"\"}\n//                         options={[{label:\"Unit\", value:1}, {label:\"Study Plan\", value:2},{label:\"Storage Condition\", value:3},]}\n//                         isMandatory={true}\n//                         isMulti={false}\n//                         isSearchable={false}\n//                         closeMenuOnSelect={true}\n//                         alphabeticalSort={true}\n//                         as={\"select\"}\n//                         onChange={(event) => this.onComboChange(event, \"ncountrycode\")}\n//                     />\n//                 </Col>\n//                 <Col md={4}>\n//                     <FormSelectSearch\n//                         formLabel={this.props.intl.formatMessage({ id: \"IDS_SPEC\" })}\n//                         name={\"ntestcode\"} \n//                         placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\n//                         value={this.state.selectedRecord ? this.state.selectedRecord[\"ntestcode\"] : \"\"}\n//                         options={[{label:\"Spec1\", value:1}, {label:\"Spec2\", value:2},{label:\"Spec3\", value:3},]}\n//                         isMandatory={true}\n//                         isMulti={false}\n//                         isSearchable={false}\n//                         closeMenuOnSelect={true}\n//                         alphabeticalSort={true}\n//                         as={\"select\"}\n//                         onChange={(event) => this.onComboChange(event, \"ntestcode\")}\n//                     />\n//                 </Col>\n//                 <Col md={4}>\n//                     <FormSelectSearch\n//                         formLabel={this.props.intl.formatMessage({ id: \"IDS_TEST\" })}\n//                         name={\"nparamcode\"} \n//                         placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\n//                         value={this.state.selectedRecord ? this.state.selectedRecord[\"nparamcode\"] : \"\"}\n//                         options={[{label:\"Test1\", value:1}, {label:\"Test2\", value:2},{label:\"Test3\", value:3},]}\n//                         isMandatory={true}\n//                         isMulti={false}\n//                         isSearchable={false}\n//                         closeMenuOnSelect={true}\n//                         alphabeticalSort={true}\n//                         as={\"select\"}\n//                         onChange={(event) => this.onComboChange(event, \"nparamcode\")}\n//                     />\n//                 </Col>\n//                 </Row>\n//                     <FirstFile/>\n//                 </ListWrapper>\n//             </Col>\n//         </Row>\n//         </>\n//     )\n// }\n},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,data:this.props.Login.masterData,dataResult:process(this.props.Login.masterData,this.state.dataState)});}else{var dataState=this.state.dataState;if(this.props.Login.dataState===undefined){dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};}this.setState({data:this.props.Login.masterData,dataResult:process(this.props.Login.masterData,dataState),dataState:dataState});}}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return Country;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,validateEsignCredential:validateEsignCredential,fetchRecord:fetchRecord})(injectIntl(Country));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/contactmaster/Country.jsx"],"names":["React","connect","FormattedMessage","injectIntl","Row","Col","FormGroup","FormLabel","toast","process","DataGrid","AddCountry","Esign","SlideOutModal","ListWrapper","PrimaryHeader","MediaLabel","rsapi","callService","crudMaster","updateStore","validateEsignCredential","fetchRecord","DEFAULT_RETURN","getControlMap","showEsign","FormSelectSearch","mapStateToProps","state","Login","Country","props","dataStateChange","event","setState","dataResult","data","dataState","openModal","ncontrolCode","selectedRecord","userInfo","nformcode","updateInfo","typeName","operation","selectedId","screenName","inputParam","displayName","closeModal","loadEsign","onComboChange","comboData","fieldName","expandChange","isExpanded","dataItem","expanded","undefined","aggregates","detailBand","Dataitem","OptionalFieldList","datafield","Column","map","fields","detailedFieldList","dataField","idsName","columnSize","primaryKeyName","primaryKeyValue","url","classUrl","methodUrl","post","then","response","isOpen","catch","error","status","message","warn","onInputOnChange","target","type","name","checked","value","deleteRecord","deleteParam","inputData","toLowerCase","userRoleControlRights","screenData","masterData","ncountrycode","reloadData","onSaveClick","saveType","formRef","fieldList","item","nmastersitecode","clearSelectedRecordField","intl","formatMessage","id","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","createRef","extractedColumnList","skip","take","settings","parseInt","masterStatus","controlMap","Map","validationColumnList","addId","has","concat","get","ncontrolcode","editId","editParam","primaryKeyField","mandatoryFields","forEach","mandatory","push","buttonCount","pageSizes","previousProps","Object","values","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { Row, Col, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport AddCountry from './AddCountry';\r\nimport Esign from '../../pages/audittrail/Esign';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { ListWrapper, PrimaryHeader } from '../../components/client-group.styles';\r\nimport { MediaLabel } from '../../components/add-client.styles';\r\nimport rsapi from '../../rsapi';\r\nimport { callService, crudMaster, updateStore, validateEsignCredential, fetchRecord } from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { getControlMap, showEsign } from '../../components/CommonScript';\r\n//import FirstFile from '../rulespackage/FirstFile';\r\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass Country extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef = React.createRef();\r\n        this.extractedColumnList = [];\r\n        this.fieldList = [];\r\n\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\r\n        };\r\n        this.state = {\r\n            data: [], masterStatus: \"\", error: \"\", selectedRecord: {},\r\n            dataResult: [],\r\n            dataState: dataState,\r\n            isOpen: false,\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n        };\r\n    }\r\n\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.state.data, event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n    openModal = (ncontrolCode) => {\r\n        let selectedRecord = { \"ndefaultstatus\": 4 };\r\n        //let selectedRecord = {};\r\n        if (this.props.Login.userInfo.nformcode === 12) {\r\n            selectedRecord = { \"nsafetymarkermand\": 4 }\r\n        }\r\n        else if (this.props.Login.userInfo.nformcode === 13) {\r\n            selectedRecord = { \"nproducttypemand\": 4 }\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedRecord, operation: \"create\", ncontrolCode, selectedId: null,\r\n                openModal: true, screenName: this.props.Login.inputParam.displayName\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        let selectedId = this.props.Login.selectedId;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                selectedId = null;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason']=\"\"\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n            selectedId = null;\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        this.extractedColumnList = [\r\n            { \"idsName\": \"IDS_COUNTRYNAME\", \"dataField\": \"scountryname\", \"width\": \"200px\",\"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            { \"idsName\": \"IDS_COUNTRYABBREVIATION\", \"dataField\": \"scountryshortname\", \"width\": \"200px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            // { \"idsName\": \"IDS_TWOCHARCOUNTRY\", \"dataField\": \"stwocharcountry\", \"width\": \"200px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            // { \"idsName\": \"IDS_THREECHARCOUNTRY\", \"dataField\": \"sthreecharcountry\", \"width\": \"200px\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            // { \"idsName\": \"IDS_POOLCOUNTRY\", \"dataField\": \"spoolcountrystatus\", \"width\": \"200px\", \"isIdsField\": true, \"controlName\": \"npoolcountry\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            // { \"idsName\": \"IDS_BATCHCOUNTRY\", \"dataField\": \"sbatchcountrystatus\", \"width\": \"200px\", \"isIdsField\": true, \"controlName\": \"nbatchcountry\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"}\r\n        ]\r\n\r\n        this.validationColumnList = [\r\n            { \"idsName\": \"IDS_COUNTRYNAME\", \"dataField\": \"scountryname\", \"width\": \"200px\",\"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            { \"idsName\": \"IDS_COUNTRYABBREVIATION\", \"dataField\": \"scountryshortname\", \"width\": \"150px\",\"mandatory\": true, \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            // { \"idsName\": \"IDS_TWOCHARCOUNTRY\", \"dataField\": \"stwocharcountry\", \"width\": \"150px\",\"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            // { \"idsName\": \"IDS_THREECHARCOUNTRY\", \"dataField\": \"sthreecharcountry\", \"width\": \"200px\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            // { \"idsName\": \"IDS_POOLCOUNTRY\", \"dataField\": \"spoolcountrystatus\", \"width\": \"200px\", \"isIdsField\": true, \"controlName\": \"npoolcountry\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            // { \"idsName\": \"IDS_BATCHCOUNTRY\", \"dataField\": \"sbatchcountrystatus\", \"width\": \"200px\", \"isIdsField\": true, \"controlName\": \"nbatchcountry\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" }\r\n        ]\r\n        \r\n        this.fieldList = [\"scountryname\", \"scountryshortname\", \"stwocharcountry\", \"sthreecharcountry\"];\r\n\r\n\r\n\r\n        const addId = this.props.Login.inputParam && this.state.controlMap.has(\"Add\".concat(this.props.Login.inputParam.methodUrl))\r\n            && this.state.controlMap.get(\"Add\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\r\n\r\n        const editId = this.props.Login.inputParam && this.state.controlMap.has(\"Edit\".concat(this.props.Login.inputParam.methodUrl))\r\n            && this.state.controlMap.get(\"Edit\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\r\n\r\n        const editParam = {\r\n            screenName: this.props.Login.inputParam && this.props.Login.inputParam.displayName && this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }), operation: \"update\",\r\n            primaryKeyField: \"ncountrycode\", inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: editId\r\n        };\r\n\r\n        const deleteParam = { screenName: \"Country\", methodUrl: \"Country\", operation: \"delete\" };\r\n        const mandatoryFields = [];\r\n        this.validationColumnList.forEach(item => item.mandatory === true ?\r\n            mandatoryFields.push(item) : \"\"\r\n        );\r\n        return (\r\n            <>\r\n              \r\n                <Row>\r\n                    <Col>\r\n                        <ListWrapper className=\"client-list-content\">\r\n                            <PrimaryHeader className=\"d-flex justify-content-between mb-3\">\r\n                              \r\n                            </PrimaryHeader>\r\n                           \r\n\r\n                            {this.state.data ?\r\n                                <DataGrid\r\n                                    primaryKeyField={\"ncountrycode\"}\r\n                                    // expandField=\"expanded\"\r\n\t\t\t\t\t\t\t\t//ALPD-5235--Vignesh R(21-01-2025)-->In export pdf -> Extra columns are present which is not present in actual Screen\r\n                                   // detailedFieldList={this.detailedFieldList}\r\n                                    data={this.state.data}\r\n                                    dataResult={this.state.dataResult}\r\n                                    dataState={this.state.dataState}\r\n                                    dataStateChange={this.dataStateChange}\r\n                                    extractedColumnList={this.extractedColumnList}\r\n                                    controlMap={this.state.controlMap}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    fetchRecord={this.props.fetchRecord}\r\n                                    editParam={editParam}\r\n                                    deleteRecord={this.deleteRecord}\r\n                                    deleteParam={deleteParam}\r\n                                    reloadData={this.reloadData}\r\n                                    addRecord={() => this.openModal(addId)}\r\n                                    pageable={{ buttonCount: 4, pageSizes: true }}\r\n                                    scrollable={\"scrollable\"}\r\n                                    gridHeight={600}\r\n                                    isActionRequired={true}\r\n                                    isToolBarRequired={true}\r\n                                    hideColumnFilter={false}\r\n                                    selectedId={this.props.Login.selectedId}\r\n                                    hasDynamicColSize={true}\r\n                                //isComponent={true}\r\n\r\n                                />\r\n                                : \"\"}\r\n                        </ListWrapper>\r\n                    </Col>\r\n                </Row>\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        showSaveContinue={true}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : <AddCountry\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n\r\n                            />}\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n\r\n    // render(){\r\n    //     return(<>\r\n          \r\n    //         <Row>\r\n    //             <Col>\r\n    //                 <ListWrapper className=\"client-list-content\">\r\n    //                 <Row>  \r\n    //                 <Col md={4}>\r\n    //                     <FormSelectSearch\r\n    //                         formLabel={this.props.intl.formatMessage({ id: \"IDS_SCREEN\" })}\r\n    //                         name={\"ncountrycode\"} \r\n    //                         placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n    //                         value={this.state.selectedRecord ? this.state.selectedRecord[\"ncountrycode\"] : \"\"}\r\n    //                         options={[{label:\"Unit\", value:1}, {label:\"Study Plan\", value:2},{label:\"Storage Condition\", value:3},]}\r\n    //                         isMandatory={true}\r\n    //                         isMulti={false}\r\n    //                         isSearchable={false}\r\n    //                         closeMenuOnSelect={true}\r\n    //                         alphabeticalSort={true}\r\n    //                         as={\"select\"}\r\n    //                         onChange={(event) => this.onComboChange(event, \"ncountrycode\")}\r\n                            \r\n    //                     />\r\n    //                 </Col>\r\n    //                 <Col md={4}>\r\n    //                     <FormSelectSearch\r\n    //                         formLabel={this.props.intl.formatMessage({ id: \"IDS_SPEC\" })}\r\n    //                         name={\"ntestcode\"} \r\n    //                         placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n    //                         value={this.state.selectedRecord ? this.state.selectedRecord[\"ntestcode\"] : \"\"}\r\n    //                         options={[{label:\"Spec1\", value:1}, {label:\"Spec2\", value:2},{label:\"Spec3\", value:3},]}\r\n    //                         isMandatory={true}\r\n    //                         isMulti={false}\r\n    //                         isSearchable={false}\r\n    //                         closeMenuOnSelect={true}\r\n    //                         alphabeticalSort={true}\r\n    //                         as={\"select\"}\r\n    //                         onChange={(event) => this.onComboChange(event, \"ntestcode\")}\r\n                            \r\n    //                     />\r\n    //                 </Col>\r\n    //                 <Col md={4}>\r\n    //                     <FormSelectSearch\r\n    //                         formLabel={this.props.intl.formatMessage({ id: \"IDS_TEST\" })}\r\n    //                         name={\"nparamcode\"} \r\n    //                         placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n    //                         value={this.state.selectedRecord ? this.state.selectedRecord[\"nparamcode\"] : \"\"}\r\n    //                         options={[{label:\"Test1\", value:1}, {label:\"Test2\", value:2},{label:\"Test3\", value:3},]}\r\n    //                         isMandatory={true}\r\n    //                         isMulti={false}\r\n    //                         isSearchable={false}\r\n    //                         closeMenuOnSelect={true}\r\n    //                         alphabeticalSort={true}\r\n    //                         as={\"select\"}\r\n    //                         onChange={(event) => this.onComboChange(event, \"nparamcode\")}\r\n                            \r\n    //                     />\r\n    //                 </Col>\r\n    //                 </Row>\r\n    //                     <FirstFile/>\r\n    //                 </ListWrapper>\r\n    //             </Col>\r\n    //         </Row>\r\n    //         </>\r\n    //     )\r\n    // }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        if (comboData !== null) {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n    expandChange = (event) => {\r\n        const isExpanded =\r\n            event.dataItem.expanded === undefined ?\r\n                event.dataItem.aggregates : event.dataItem.expanded;\r\n        event.dataItem.expanded = !isExpanded;\r\n        this.setState({ ...this.props });\r\n    }\r\n    detailBand = (props) => {\r\n\r\n        const Dataitem = props.dataItem\r\n        const OptionalFieldList = [\r\n            { datafield: \"scountryshortname\", Column: \"Country Short Name\" },\r\n            { datafield: \"stwocharcountry\", Column: \"Two Char Country\" },\r\n            { datafield: \"sthreecharcountry\", Column: \"Three Char Country\" },\r\n\r\n        ];\r\n        return (<Row>\r\n            {OptionalFieldList.map((fields) => {\r\n                return (\r\n                    <Col md='6'>\r\n                        <FormGroup>\r\n                            <FormLabel><FormattedMessage id={fields.Column} message={fields.Column} /></FormLabel>\r\n                            <MediaLabel className=\"readonly-text font-weight-normal\">{Dataitem[fields.datafield]}</MediaLabel>\r\n                        </FormGroup>\r\n                    </Col>\r\n                )\r\n            })\r\n            }\r\n        </Row>)\r\n    }\r\n    detailedFieldList = [\r\n        { dataField: \"scountryshortname\", idsName: \"IDS_COUNTRYABBREVIATION\", columnSize:\"4\"},\r\n        { dataField: \"stwocharcountry\", idsName: \"IDS_TWOCHARCOUNTRY\",columnSize:\"4\" },\r\n        { dataField: \"sthreecharcountry\", idsName: \"IDS_THREECHARCOUNTRY\",columnSize:\"4\" },\r\n\r\n    ];\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({\r\n                    userRoleControlRights, controlMap, data: this.props.Login.masterData,\r\n                    dataResult: process(this.props.Login.masterData, this.state.dataState),\r\n                });\r\n            }\r\n            else {\r\n                let { dataState } = this.state;\r\n                if (this.props.Login.dataState === undefined) {\r\n                    dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 }\r\n                }\r\n                this.setState({\r\n                    data: this.props.Login.masterData,\r\n                    dataResult: process(this.props.Login.masterData, dataState),\r\n                    dataState\r\n                });\r\n            }\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n    }\r\n\r\n    fetchRecord = (primaryKeyName, primaryKeyValue, operation) => {\r\n\r\n\r\n        const url = this.props.Login.inputParam.classUrl + \"/getActive\" + this.props.Login.inputParam.methodUrl + \"ById\";\r\n        rsapi.post(url, { [primaryKeyName]: primaryKeyValue, \"userinfo\": this.props.Login.userInfo })\r\n            .then(response => {\r\n\r\n                this.setState({ selectedRecord: response.data, operation, isOpen: true });\r\n            })\r\n            .catch(error => {\r\n\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            //if (event.target.name === \"agree\") {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            //}\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n\r\n\r\n    deleteRecord = (deleteParam) => {\r\n        if (deleteParam.selectedRecord.expanded !== undefined) {\r\n            delete deleteParam.selectedRecord.expanded\r\n        }\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: deleteParam.methodUrl,\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: {\r\n\r\n                [deleteParam.methodUrl.toLowerCase()]: deleteParam.selectedRecord,\r\n                \"userinfo\": this.props.Login.userInfo\r\n            },\r\n            operation: deleteParam.operation,\r\n            selectedRecord:{...this.state.selectedRecord}\r\n\r\n        }\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, selectedId: deleteParam.selectedRecord.ncountrycode,\r\n\r\n                    screenName: deleteParam.screenName, operation: deleteParam.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n\r\n    reloadData = () => {\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: this.props.Login.inputParam.methodUrl,\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        //add / edit      \r\n        let dataState = undefined;\r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        let selectedId = null;\r\n        if (this.props.Login.operation === \"update\") {\r\n            // edit\r\n            selectedId = this.props.Login.selectedId;\r\n            inputData[this.props.Login.inputParam.methodUrl.toLowerCase()] = this.state.selectedRecord;\r\n            // this.extractedColumnList.map(item => {\r\n            //     let fieldName = item.dataField;\r\n            //     if (item.controlType === \"checkbox\") {\r\n            //         fieldName = item.controlName\r\n            //     }\r\n            //     return inputData[this.props.Login.inputParam.methodUrl.toLowerCase()][fieldName] = this.state.selectedRecord[fieldName] ? this.state.selectedRecord[fieldName] : \"\";\r\n            // })\r\n\r\n            this.fieldList.map(item => {\r\n                return inputData[this.props.Login.inputParam.methodUrl.toLowerCase()][item] = this.state.selectedRecord[item]\r\n            })\r\n            dataState = this.state.dataState;\r\n        }\r\n        else {\r\n            //add               \r\n            inputData[this.props.Login.inputParam.methodUrl.toLowerCase()] = { \"nsitecode\": this.props.Login.userInfo.nmastersitecode };\r\n\r\n            // this.extractedColumnList.map(item => {\r\n            //     let fieldName = item.dataField;\r\n            //     if (item.controlType === \"checkbox\") {\r\n            //         fieldName = item.controlName\r\n            //     }\r\n            //     return inputData[this.props.Login.inputParam.methodUrl.toLowerCase()][fieldName] = this.state.selectedRecord[fieldName] ? this.state.selectedRecord[fieldName] : \"\";\r\n            // })\r\n\r\n            this.fieldList.map(item => {\r\n                return inputData[this.props.Login.inputParam.methodUrl.toLowerCase()][item] = this.state.selectedRecord[item]\r\n            })\r\n        }\r\n        let clearSelectedRecordField = [\r\n            { \"idsName\": \"IDS_COUNTRYNAME\", \"dataField\": \"scountryname\", \"width\": \"200px\",\"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\",\"isClearField\":true},\r\n            { \"idsName\": \"IDS_COUNTRYABBREVIATION\", \"dataField\": \"scountryshortname\", \"width\": \"200px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\",\"isClearField\":true},\r\n            //{ \"idsName\": \"IDS_COUNTRYSHORTNAME\", \"dataField\": \"scountryshortname\", \"width\": \"200px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\",\"isClearField\":true},\r\n            //{ \"idsName\": \"IDS_COUNTRYSHORTNAME\", \"dataField\": \"scountryshortname\", \"width\": \"200px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\",\"isClearField\":true},\r\n            \r\n        ]\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: this.props.Login.inputParam.methodUrl,\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: inputData, selectedId,\r\n            operation: this.props.Login.operation, saveType, formRef, dataState,\r\n            selectedRecord:{...this.state.selectedRecord}\r\n        }\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }),\r\n                    operation: this.props.Login.operation, selectedId\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\",\"\",\"\",clearSelectedRecordField);\r\n        }\r\n\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential,\r\n    fetchRecord\r\n})(injectIntl(Country));"]},"metadata":{},"sourceType":"module"}