{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import'./react-select-add-edit-component.css';import{LabelNormal,DivWrap}from'./react-select-add-edit-component.style';import{Row,Col}from'react-bootstrap';import{Form,ListGroup}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTimes,faChevronUp,faChevronDown}from'@fortawesome/free-solid-svg-icons';var ReactSelectAddEdit=/*#__PURE__*/function(_React$Component){_inherits(ReactSelectAddEdit,_React$Component);var _super=_createSuper(ReactSelectAddEdit);function ReactSelectAddEdit(Props){var _this;_classCallCheck(this,ReactSelectAddEdit);_this=_super.call(this,Props);_this.handleChange=function(newValue){_this.setState({value:newValue,//actionMeta.option\ninputValue:newValue[_this.state.optionValue],showList:false});_this.props.getValue(newValue);};_this.clearData=function(){_this.setState({showList:false,inputValue:''});};_this.toggleList=function(){_this.setState({showList:!_this.state.showList,options:_this.state.list});};_this.handleInputChange=function(inputValue){var optionObj=inputValue.trimStart()!==\"\"?{value:inputValue,label:inputValue}:[];var arrayList=_this.state.list.filter(function(o){return o[\"item\"][_this.state.optionValue].toString().toLowerCase().includes(inputValue.toLowerCase());});_this.setState({value:optionObj,inputValue:inputValue,options:arrayList,showList:arrayList.length>0?true:false});_this.props.getValue(optionObj);};_this.wrapperRef=React.createRef();_this.handleClickOutside=_this.handleClickOutside.bind(_assertThisInitialized(_this));_this.state=_objectSpread(_objectSpread({},Props),{},{inputValue:'',list:Props.options,showList:false,filteredList:[]});_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));// this.wrapperRef = React.createRef();\n// this.handleClickOutside = this.handleClickOutside.bind(this); \nreturn _this;}_createClass(ReactSelectAddEdit,[{key:\"handleClickOutside\",value:function handleClickOutside(event){if(this.wrapperRef&&!this.wrapperRef.current.contains(event.target)&&this.state.showList){this.closeList(event);}}},{key:\"closeList\",value:function closeList(){this.setState({showList:false});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener('mousedown',this.handleClickOutside);}},{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener('mousedown',this.handleClickOutside);this.setState({value:this.props.value,inputValue:this.props.value[this.state.optionValue]?this.props.value[this.state.optionValue]:this.props.value.label?this.props.value.label:''});}// componentWillUnmount() {\n//       document.removeEventListener('mousedown', this.handleClickOutside);\n//   }\n/**\n   * Alert if clicked on outside of element\n   */ // handleClickOutside(event) {\n//      if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\n//        this.setState({ \n//          inputValue: \"\",\n//          showAdd: false  \n//        });\n//      }\n// }\n},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(DivWrap,{className:\" parent_select_search_custom \".concat(this.state.showList?'active-list':'',\" \").concat(this.state.inputValue?'actice-input':''),ref:this.wrapperRef},/*#__PURE__*/React.createElement(LabelNormal,{className:\"form-label mgb-0\"},this.state.label,this.state.isMandatory?/*#__PURE__*/React.createElement(\"span\",{className:\"sup\"},\"*\"):''),/*#__PURE__*/React.createElement(DivWrap,{className:\"regular-input\"},/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Search\",maxLength:'100',value:this.state.inputValue,onChange:function onChange(e){return _this2.handleInputChange(e.target.value);},onClick:function onClick(e){return _this2.handleInputChange(e.target.value);}}),!this.state.isMandatory?/*#__PURE__*/React.createElement(\"i\",{onClick:this.clearData},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTimes})):'',/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"input_ico\",icon:this.state.showList?faChevronUp:faChevronDown,onClick:function onClick(e){return _this2.toggleList();}})),/*#__PURE__*/React.createElement(ListGroup,{className:\"regular-input-list\"},this.state.options&&this.state.options.map(function(optionItem){return/*#__PURE__*/React.createElement(ListGroup.Item,{onClick:function onClick(){return _this2.handleChange(optionItem);}},optionItem[\"item\"][_this2.state.optionValue]);}))))));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){document.addEventListener('mousedown',this.handleClickOutside);if(this.props.value!==prevProps.value){this.setState({value:this.props.value,inputValue:this.props.value[this.state.optionValue]?this.props.value[this.state.optionValue]:this.props.value.label?this.props.value.label:''});}}}]);return ReactSelectAddEdit;}(React.Component);export default ReactSelectAddEdit;","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/react-select-add-edit/react-select-add-edit-component.jsx"],"names":["React","LabelNormal","DivWrap","Row","Col","Form","ListGroup","FontAwesomeIcon","faTimes","faChevronUp","faChevronDown","ReactSelectAddEdit","Props","handleChange","newValue","setState","value","inputValue","state","optionValue","showList","props","getValue","clearData","toggleList","options","list","handleInputChange","optionObj","trimStart","label","arrayList","filter","o","toString","toLowerCase","includes","length","wrapperRef","createRef","handleClickOutside","bind","filteredList","event","current","contains","target","closeList","document","removeEventListener","addEventListener","isMandatory","e","map","optionItem","prevProps","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport './react-select-add-edit-component.css';\nimport { LabelNormal, DivWrap } from './react-select-add-edit-component.style';\nimport { Row, Col } from 'react-bootstrap';\nimport { Form , ListGroup } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes  , faChevronUp , faChevronDown} from '@fortawesome/free-solid-svg-icons';\n\nclass ReactSelectAddEdit extends React.Component {\n  constructor(Props) {\n   \n    super(Props);\n    this.wrapperRef = React.createRef();\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n    this.state = { ...Props, inputValue: '', list:Props.options,  showList: false, filteredList: [] };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    // this.wrapperRef = React.createRef();\n    // this.handleClickOutside = this.handleClickOutside.bind(this); \n  }\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.current.contains(event.target) && this.state.showList) {\n      this.closeList(event)\n    }\n  }\n  closeList(){\n      this.setState({\n          showList:false \n        })\n  }\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n  handleChange = (newValue) => {\n       this.setState({\n          value: newValue ,//actionMeta.option\n          inputValue:newValue[this.state.optionValue],\n          showList:false  \n        })\n        this.props.getValue(newValue)\n  }\n  clearData=()=>{\n    this.setState({\n      showList:false,\n      inputValue :''\n    })\n\n  }\n  toggleList =() =>{\n    this.setState({\n      showList : !this.state.showList,\n      options:this.state.list\n    })\n  }\n  handleInputChange = (inputValue) => {\n  \n          let optionObj = inputValue.trimStart()!==\"\"? { value: inputValue, label: inputValue}: []\n         \n          let arrayList = this.state.list.filter(o =>\n                            o[\"item\"][this.state.optionValue].toString().toLowerCase().includes(inputValue.toLowerCase())\n                          );\n          this.setState({\n            value: optionObj,\n            inputValue: inputValue,\n            options:arrayList,\n            showList: arrayList.length > 0 ? true : false\n          })\n          this.props.getValue(optionObj)\n          \n  }\n  componentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutside);\n      this.setState({ value: this.props.value, inputValue: this.props.value[this.state.optionValue] ? this.props.value[this.state.optionValue] : this.props.value.label ? this.props.value.label : ''    });\n        \n    }\n\n  // componentWillUnmount() {\n  //       document.removeEventListener('mousedown', this.handleClickOutside);\n  //   }\n\n  /**\n   * Alert if clicked on outside of element\n   */\n  // handleClickOutside(event) {\n  //      if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\n  //        this.setState({ \n  //          inputValue: \"\",\n  //          showAdd: false  \n  //        });\n  //      }\n  // }\n  render() {\n    return (\n      <>\n        <Row>\n          <Col>\n            <DivWrap className={` parent_select_search_custom ${this.state.showList ? 'active-list' : ''} ${this.state.inputValue ? 'actice-input' : ''}`} ref={this.wrapperRef}>\n              <LabelNormal className=\"form-label mgb-0\" >{this.state.label}{this.state.isMandatory ? <span className=\"sup\">*</span> : ''}</LabelNormal>\n              <DivWrap  className=\"regular-input\">\n                <Form.Control  type=\"text\" placeholder=\"Search\" maxLength={'100'} \n                value={this.state.inputValue} onChange={e => this.handleInputChange(e.target.value)} onClick={e => this.handleInputChange(e.target.value)} />    \n                {!this.state.isMandatory ? <i onClick={this.clearData}><FontAwesomeIcon icon={faTimes}></FontAwesomeIcon></i> : ''}\n                <FontAwesomeIcon className=\"input_ico\" icon={this.state.showList ? faChevronUp : faChevronDown }  onClick={e => this.toggleList()}/>\n              </DivWrap>\n              <ListGroup className=\"regular-input-list\">\n                {this.state.options && this.state.options.map(optionItem => \n                  <ListGroup.Item onClick={()=>this.handleChange(optionItem)}>\n                    {optionItem[\"item\"][this.state.optionValue]}\n                  </ListGroup.Item>\n                )}\n              </ListGroup>\n            </DivWrap>\n          </Col>\n        </Row>\n      </>\n    )\n  }\n  componentDidUpdate(prevProps) {\n    document.addEventListener('mousedown', this.handleClickOutside);\n\n    if (this.props.value !== prevProps.value) {\n      this.setState({ value: this.props.value, inputValue: this.props.value[this.state.optionValue] ? this.props.value[this.state.optionValue] : this.props.value.label ? this.props.value.label : ''    });\n    }\n  }\n}\nexport default ReactSelectAddEdit;\n\n"]},"metadata":{},"sourceType":"module"}