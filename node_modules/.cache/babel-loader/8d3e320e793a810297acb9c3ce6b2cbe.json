{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Row,Col}from'react-bootstrap';import FormSelectSearch from'../../components/form-select-search/form-select-search.component';import{intl}from'../../components/App';import{injectIntl}from'react-intl';import{MediaHeader}from'../../components/App.styles';import FormInput from'../../components/form-input/form-input.component';import FormTextarea from'../../components/form-textarea/form-textarea.component';import CustomSwitch from'../../components/custom-switch/custom-switch.component';import{transactionStatus}from'../../components/Enumeration';import{updateStore}from'../../actions';import{connect}from'react-redux';import{constructOptionList}from'../../components/CommonScript';import{toast}from'react-toastify';import rsapi from'../../rsapi';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import Preloader from'../../components/preloader/preloader.component';var ResultEntryMaterialForm=/*#__PURE__*/function(_React$Component){_inherits(ResultEntryMaterialForm,_React$Component);var _super=_createSuper(ResultEntryMaterialForm);//    const ResultEntryMaterialForm = (this.props) => {\nfunction ResultEntryMaterialForm(props){var _this;_classCallCheck(this,ResultEntryMaterialForm);_this=_super.call(this,props);_this.onInputOnChange=function(event,name){var selectedRecordMaterialForm=_this.state.selectedRecordMaterialForm||{};if(event.target.type==='checkbox'){selectedRecordMaterialForm[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecordMaterialForm[event.target.name]=event.target.value;}switch(name){case'ntestgroupmaterial':var ntestgrouptestcode=selectedRecordMaterialForm.ntestgroupmaterial==transactionStatus.YES?_this.props.Login.masterData.RESelectedTest[0].ntestgrouptestcode:-1;//this.props.\n_this.getREMaterialComboGet({ntestgroupmaterial:selectedRecordMaterialForm.ntestgroupmaterial,ntestgrouptestcode:ntestgrouptestcode,RESelectedTest:_this.props.Login.masterData.RESelectedTest,test:_this.props.Login.masterData.RESelectedTest[0],userInfo:_this.props.Login.userInfo});break;default://Sync Child Component data with Parent Component     \n_this.props.onChildDataChange(selectedRecordMaterialForm);_this.setState({selectedRecordMaterialForm:selectedRecordMaterialForm});}};_this.onMaterialComboChange=function(comboData,comboName){var selectedRecordMaterialForm=_this.state.selectedRecordMaterialForm||[];var ntestgrouptestcode=selectedRecordMaterialForm.ntestgroupmaterial==transactionStatus.YES?_this.props.Login.masterData.RESelectedTest[0].ntestgrouptestcode:-1;if(comboData){selectedRecordMaterialForm[comboName]=comboData;}else{selectedRecordMaterialForm[comboName]=[];}switch(comboName){case'nmaterialtypecode':_this.getREMaterialCategoryByType({ntestgrouptestcode:ntestgrouptestcode,selectedRecordMaterialForm:selectedRecordMaterialForm,userInfo:_this.props.Login.userInfo});break;case'nmaterialcatcode':selectedRecordMaterialForm['nsectioncode']=selectedRecordMaterialForm.nmaterialcatcode.item.needSectionwise==transactionStatus.YES?_this.props.Login.masterData.RESelectedTest[0].nsectioncode:-1;_this.getREMaterialByCategory({ntestgrouptestcode:ntestgrouptestcode,selectedRecordMaterialForm:selectedRecordMaterialForm,userInfo:_this.props.Login.userInfo});break;case'nmaterialcode':_this.getREMaterialInvertoryByMaterial({ntestgrouptestcode:ntestgrouptestcode,selectedRecordMaterialForm:selectedRecordMaterialForm,userInfo:_this.props.Login.userInfo});break;default:_this.getAvailableMaterialQuantity({ntestgrouptestcode:ntestgrouptestcode,selectedRecordMaterialForm:selectedRecordMaterialForm,userInfo:_this.props.Login.userInfo});break;}};_this.state={selectedRecordMaterialForm:_this.props.selectedRecordMaterialForm,materialType:_this.props.materialType,materialCategory:_this.props.materialCategory,material:_this.props.material,materialInventory:_this.props.materialInventory,loading:false};return _this;}_createClass(ResultEntryMaterialForm,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){var updateInfo={typeName:DEFAULT_RETURN,data:{isMaterialInitialRender:false}};this.props.updateStore(updateInfo);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.selectedRecordMaterialForm!==previousProps.selectedRecordMaterialForm){this.setState({selectedRecordMaterialForm:this.props.selectedRecordMaterialForm});}if(this.props.materialCategory!==previousProps.materialCategory){this.setState({materialCategory:this.props.materialCategory});}if(this.props.material!==previousProps.material){this.setState({material:this.props.material});}if(this.props.materialInventory!==previousProps.materialInventory){this.setState({materialInventory:this.props.materialInventory});}}},{key:\"getREMaterialComboGet\",value:function getREMaterialComboGet(inputData){var _this2=this;// return function (dispatch) {\n// dispatch(initRequest(true));\nthis.setState({loading:true});rsapi.post(\"resultentrybysample/getResultUsedMaterialCombo\",{userinfo:inputData.userInfo,nsectioncode:inputData.test.nsectioncode,ntestgrouptestcode:inputData.ntestgrouptestcode}).then(function(response){var materialTypeMap=constructOptionList(response.data.MaterialType||[],\"nmaterialtypecode\",\"smaterialtypename\",undefined,undefined,undefined);var materialType=materialTypeMap.get(\"OptionList\");var materialCatMap=constructOptionList(response.data.MaterialCategory||[],\"nmaterialcatcode\",\"smaterialcatname\",undefined,undefined,undefined);var materialCategory=materialCatMap.get(\"OptionList\");var materialMap=constructOptionList(response.data.Material||[],\"nmaterialcode\",\"smaterialname\",undefined,undefined,undefined);var material=materialMap.get(\"OptionList\");var materialInventoryMap=constructOptionList(response.data.MaterialInventory||[],\"nmaterialinventorycode\",\"sinventoryid\",undefined,undefined,undefined);var materialInventory=materialInventoryMap.get(\"OptionList\");//  dispatch({\n//     type: DEFAULT_RETURN,\n//      payload:\n//Sync Child Component data with Parent Component     \n_this2.props.onChildDataChange({ntestgroupmaterial:inputData.ntestgroupmaterial,sarno:inputData.test.sarno,ssamplearno:inputData.test.ssamplearno,stestsynonym:inputData.test.stestsynonym,nsectioncode:inputData.test.nsectioncode,ssectionname:inputData.test.ssectionname,transactiontestcode:inputData.RESelectedTest?inputData.RESelectedTest.map(function(test){return test.ntransactiontestcode;}).join(\",\").toString():\"\",ntransactiontestcode:inputData.test.ntransactiontestcode,npreregno:inputData.test.npreregno,nmaterialtypecode:materialTypeMap.get(\"DefaultValue\")?materialTypeMap.get(\"DefaultValue\"):\"\",nmaterialcatcode:materialCatMap.get(\"DefaultValue\")?materialCatMap.get(\"DefaultValue\"):\"\",nmaterialcode:materialMap.get(\"OptionList\").length>0?materialMap.get(\"OptionList\")[0]:\"\",nmaterialinventorycode:materialInventoryMap.get(\"OptionList\").length>0?materialInventoryMap.get(\"OptionList\")[0]:\"\",sunitname:response.data.MaterialInventory!==undefined?response.data.MaterialInventory[0].sunitname:\"\",savailablequantity:response.data.MaterialInventory!==undefined?response.data.MaterialInventory[0].savailablequatity:\"\"});_this2.setState(_defineProperty({selectedId:null,selectedRecordMaterialForm:{ntestgroupmaterial:inputData.ntestgroupmaterial,sarno:inputData.test.sarno,ssamplearno:inputData.test.ssamplearno,stestsynonym:inputData.test.stestsynonym,nsectioncode:inputData.test.nsectioncode,ssectionname:inputData.test.ssectionname,transactiontestcode:inputData.RESelectedTest?inputData.RESelectedTest.map(function(test){return test.ntransactiontestcode;}).join(\",\").toString():\"\",ntransactiontestcode:inputData.test.ntransactiontestcode,npreregno:inputData.test.npreregno,nmaterialtypecode:materialTypeMap.get(\"DefaultValue\")?materialTypeMap.get(\"DefaultValue\"):\"\",nmaterialcatcode:materialCatMap.get(\"DefaultValue\")?materialCatMap.get(\"DefaultValue\"):\"\",nmaterialcode:materialMap.get(\"OptionList\").length>0?materialMap.get(\"OptionList\")[0]:\"\",nmaterialinventorycode:materialInventoryMap.get(\"OptionList\").length>0?materialInventoryMap.get(\"OptionList\")[0]:\"\",sunitname:response.data.MaterialInventory!==undefined?response.data.MaterialInventory[0].sunitname:\"\",savailablequantity:response.data.MaterialInventory!==undefined?response.data.MaterialInventory[0].savailablequatity:\"\"},materialType:materialType,materialCategory:materialCategory,material:material,materialInventory:materialInventory,loading:false,screenName:\"IDS_MATERIAL\",openModal:true,operation:\"create\"},\"loading\",false));// })\n});// .catch(error => {\n//     dispatch({\n//         type: DEFAULT_RETURN,\n//         payload: {\n//             loading: false\n//         }\n//     })\n//     if (error.response.status === 500) {\n//         toast.error(error.message);\n//     } else {\n//         toast.warn(error.response.data);\n//     }\n// })\n// }\n}},{key:\"getREMaterialByCategory\",value:function getREMaterialByCategory(inputData){var _this3=this;// return function (dispatch) {\n//     dispatch(initRequest(true));\nthis.setState({loading:true});rsapi.post(\"resultentrybysample/getREMaterialByCategory\",{ntestgrouptestcode:inputData.ntestgrouptestcode,nmaterialtypecode:inputData.selectedRecordMaterialForm.nmaterialtypecode.value,nmaterialcatcode:inputData.selectedRecordMaterialForm.nmaterialcatcode.value,nsectioncode:inputData.selectedRecordMaterialForm.nsectioncode,userinfo:inputData.userInfo}).then(function(response){var materialMap=constructOptionList(response.data.Material||[],\"nmaterialcode\",\"smaterialname\",undefined,undefined,undefined);var material=materialMap.get(\"OptionList\");var materialInventoryMap=constructOptionList(response.data.MaterialInventory||[],\"nmaterialinventorycode\",\"sinventoryid\",undefined,undefined,undefined);var materialInventory=materialInventoryMap.get(\"OptionList\");// dispatch({\n//     type: DEFAULT_RETURN,\n//     payload:\n//Sync Child Component data with Parent Component     \n_this3.props.onChildDataChange(_objectSpread(_objectSpread({},inputData.selectedRecordMaterialForm),{},{nmaterialcode:materialMap.get(\"OptionList\")[0],nmaterialinventorycode:materialInventoryMap.get(\"OptionList\")[0],savailablequantity:response.data.MaterialInventory?response.data.MaterialInventory[0].savailablequatity:\"\",sunitname:response.data.MaterialInventory?response.data.MaterialInventory[0].sunitname:\"\"}));_this3.setState({selectedId:null,selectedRecordMaterialForm:_objectSpread(_objectSpread({},inputData.selectedRecordMaterialForm),{},{nmaterialcode:materialMap.get(\"OptionList\")[0],nmaterialinventorycode:materialInventoryMap.get(\"OptionList\")[0],savailablequantity:response.data.MaterialInventory?response.data.MaterialInventory[0].savailablequatity:\"\",sunitname:response.data.MaterialInventory?response.data.MaterialInventory[0].sunitname:\"\"}),material:material,materialInventory:materialInventory,loading:false});//  })\n});// .catch(error => {\n//     dispatch({\n//         type: DEFAULT_RETURN,\n//         payload: {\n//             loading: false\n//         }\n//     })\n//     if (error.response.status === 500) {\n//         toast.error(error.message);\n//     } else {\n//         toast.warn(error.response.data);\n//     }\n// })\n// }\n}},{key:\"getREMaterialInvertoryByMaterial\",value:function getREMaterialInvertoryByMaterial(inputData){var _this4=this;// return function (dispatch) {\n//     dispatch(initRequest(true));\nthis.setState({loading:true});rsapi.post(\"resultentrybysample/getREMaterialInvertoryByMaterial\",{ntestgrouptestcode:inputData.ntestgrouptestcode,nmaterialcode:inputData.selectedRecordMaterialForm.nmaterialcode.value,nsectioncode:inputData.selectedRecordMaterialForm.nsectioncode,userinfo:inputData.userInfo}).then(function(response){inputData.selectedRecordMaterialForm.nmaterialinventorycode&&delete inputData.selectedRecordMaterialForm.nmaterialinventorycode;var materialInventoryMap=constructOptionList(response.data.MaterialInventory||[],\"nmaterialinventorycode\",\"sinventoryid\",undefined,undefined,undefined);var materialInventory=materialInventoryMap.get(\"OptionList\");// dispatch({\n//    type: DEFAULT_RETURN,\n//    payload:\n//Sync Child Component data with Parent Component   \n_this4.props.onChildDataChange(_objectSpread(_objectSpread({},inputData.selectedRecordMaterialForm),{},{nmaterialinventorycode:response.data.MaterialInventory?materialInventoryMap.get(\"OptionList\")[0]:undefined,sunitname:response.data.MaterialInventory?response.data.MaterialInventory[0].sunitname:\"\",savailablequantity:response.data.MaterialInventory?response.data.MaterialInventory[0].savailablequatity:\"\"}));_this4.setState({selectedId:null,selectedRecordMaterialForm:_objectSpread(_objectSpread({},inputData.selectedRecordMaterialForm),{},{nmaterialinventorycode:response.data.MaterialInventory?materialInventoryMap.get(\"OptionList\")[0]:undefined,sunitname:response.data.MaterialInventory?response.data.MaterialInventory[0].sunitname:\"\",savailablequantity:response.data.MaterialInventory?response.data.MaterialInventory[0].savailablequatity:\"\"}),materialInventory:materialInventory,loading:false,screenName:\"IDS_MATERIAL\",openModal:true,//operation: \"create\",\n//activeTestKey: \"IDS_INSTRUMENT\",\nncontrolcode:inputData.addResultUsedInstrumentId});//  })\n});// .catch(error => {\n//     dispatch({\n//         type: DEFAULT_RETURN,\n//         payload: {\n//             loading: false\n//         }\n//     })\n//     if (error.response.status === 500) {\n//         toast.error(error.message);\n//     } else {\n//         toast.warn(error.response.data);\n//     }\n// })\n// }\n}},{key:\"getREMaterialCategoryByType\",value:function getREMaterialCategoryByType(inputData){var _this5=this;//   return function (dispatch) {\n//    dispatch(initRequest(true));\nthis.setState({loading:true});rsapi.post(\"resultentrybysample/getREMaterialCategoryByType\",{ntestgrouptestcode:inputData.ntestgrouptestcode,nmaterialtypecode:inputData.selectedRecordMaterialForm.nmaterialtypecode.value,userinfo:inputData.userInfo}).then(function(response){var materialCatMap=constructOptionList(response.data.MaterialCategory||[],\"nmaterialcatcode\",\"smaterialcatname\",undefined,undefined,undefined);var materialCategory=materialCatMap.get(\"OptionList\");var materialMap=constructOptionList(response.data.Material||[],\"nmaterialcode\",\"smaterialname\",undefined,undefined,undefined);var material=materialMap.get(\"OptionList\");var materialInventoryMap=constructOptionList(response.data.MaterialInventory||[],\"nmaterialinventorycode\",\"sinventoryid\",undefined,undefined,undefined);var materialInventory=materialInventoryMap.get(\"OptionList\");// dispatch({\n//     type: DEFAULT_RETURN,\n//     payload: \n//Sync Child Component data with Parent Component \n_this5.props.onChildDataChange(_objectSpread(_objectSpread({},inputData.selectedRecordMaterialForm),{},{nmaterialcode:materialMap.get(\"DefaultValue\")||\"\",nmaterialinventorycode:materialInventoryMap.get(\"DefaultValue\")||\"\",nmaterialcatcode:materialCatMap.get(\"DefaultValue\")||\"\"}));_this5.setState({selectedId:null,selectedRecordMaterialForm:_objectSpread(_objectSpread({},inputData.selectedRecordMaterialForm),{},{nmaterialcode:materialMap.get(\"DefaultValue\")||{},nmaterialinventorycode:materialInventoryMap.get(\"DefaultValue\")||{},nmaterialcatcode:materialCatMap.get(\"DefaultValue\")||{}}),materialCategory:materialCategory,material:material,materialInventory:materialInventory,loading:false});// })\n});// .catch(error => {\n//     dispatch({\n//         type: DEFAULT_RETURN,\n//         payload: {\n//             loading: false\n//         }\n//     })\n//     if (error.response.status === 500) {\n//         toast.error(error.message);\n//     } else {\n//         toast.warn(error.response.data);\n//     }\n// })\n//   }\n}},{key:\"getAvailableMaterialQuantity\",value:function getAvailableMaterialQuantity(inputData){var _this6=this;// return function (dispatch) {\n//     dispatch(initRequest(true));\nthis.setState({loading:true});rsapi.post(\"resultentrybysample/getAvailableMaterialQuantity\",{ntestgrouptestcode:inputData.ntestgrouptestcode,nmaterialinventorycode:inputData.selectedRecordMaterialForm.nmaterialinventorycode.value,nsectioncode:inputData.selectedRecordMaterialForm.nsectioncode,userinfo:inputData.userInfo}).then(function(response){// dispatch({\n//     type: DEFAULT_RETURN,\n//     payload: \n//Sync Child Component data with Parent Component   \n_this6.props.onChildDataChange(_objectSpread(_objectSpread({},inputData.selectedRecordMaterialForm),{},{savailablequantity:response.data.inventory?response.data.inventory.savailablequatity:\"\",sunitname:response.data.inventory?response.data.inventory.sunitname:\"\"}));_this6.setState({selectedId:null,selectedRecordMaterialForm:_objectSpread(_objectSpread({},inputData.selectedRecordMaterialForm),{},{savailablequantity:response.data.inventory?response.data.inventory.savailablequatity:\"\",sunitname:response.data.inventory?response.data.inventory.sunitname:\"\"}),loading:false,screenName:\"IDS_MATERIAL\",openModal:true,//operation: \"create\",\n//activeTestKey: \"IDS_INSTRUMENT\",\nncontrolcode:inputData.addResultUsedInstrumentId});//  })\n});// .catch(error => {\n//     dispatch({\n//         type: DEFAULT_RETURN,\n//         payload: {\n//             loading: false\n//         }\n//     })\n//     if (error.response.status === 500) {\n//         toast.error(error.message);\n//     } else {\n//         toast.warn(error.response.data);\n//     }\n// })\n//}\n}},{key:\"render\",value:function render(){var _this7=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Preloader,{loading:this.state.loading}),Object.values(this.props.selectedRecordMaterialForm).length>0?/*#__PURE__*/React.createElement(Row,{className:\"mb-4\"},this.props.needSubSample?/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(MediaHeader,{className:\"labelfont\"},intl.formatMessage({id:\"IDS_SAMPLEARNO\"}),\": \",\" \"+this.props.selectedRecordMaterialForm.ssamplearno)):/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(MediaHeader,{className:\"labelfont\"},intl.formatMessage({id:\"IDS_ARNO\"}),\": \",\" \"+this.props.selectedRecordMaterialForm.sarno)),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(MediaHeader,{className:\"labelfont\"},intl.formatMessage({id:\"IDS_TEST\"}),\": \",\" \"+this.props.selectedRecordMaterialForm.stestsynonym))):\"\",/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(CustomSwitch,{label:this.props.intl.formatMessage({id:\"IDS_TESTGROUPMATERIAL\"}),type:\"switch\",name:\"ntestgroupmaterial\",onChange:function onChange(event){return _this7.onInputOnChange(event,\"ntestgroupmaterial\");},placeholder:this.props.intl.formatMessage({id:\"IDS_DISPLAYSTATUS\"})//defaultValue={this.props.selectedRecordMaterialForm ? this.props.selectedRecordMaterialForm[nattachmenttypecode === attachmentType.LINK?\"nlinkdefaultstatus\":\"ndefaultstatus\"] === 3 ? true : false : \"\"}\n,isMandatory:false,required:false,checked:this.state.selectedRecordMaterialForm?this.state.selectedRecordMaterialForm[\"ntestgroupmaterial\"]===transactionStatus.YES?true:false:false// disabled={this.state.selectedRecordMaterialForm ? this.state.selectedRecordMaterialForm[\"ntestgroupmaterial\"] === 3 ? true : false : false}\n}),/*#__PURE__*/React.createElement(FormSelectSearch,{formLabel:intl.formatMessage({id:\"IDS_MATERIALTYPE\"}),placeholder:intl.formatMessage({id:\"IDS_SELECTRECORD\"}),isSearchable:false,name:\"nmaterialtypecode\",isDisabled:false,isMandatory:true,options:this.state.materialType||[],value:this.state.selectedRecordMaterialForm&&this.state.selectedRecordMaterialForm.nmaterialtypecode&&Object.values(this.state.selectedRecordMaterialForm.nmaterialtypecode).length>0&&this.state.selectedRecordMaterialForm.nmaterialtypecode!==undefined&&this.state.selectedRecordMaterialForm.nmaterialtypecode!==\"\"?this.state.selectedRecordMaterialForm.nmaterialtypecode:\"\",showOption:true,required:true,onChange:function onChange(event){return _this7.onMaterialComboChange(event,'nmaterialtypecode');},isMulti:false,closeMenuOnSelect:true}),/*#__PURE__*/React.createElement(FormSelectSearch,{formLabel:intl.formatMessage({id:\"IDS_MATERIALCATEGORY\"}),placeholder:intl.formatMessage({id:\"IDS_SELECTRECORD\"}),isSearchable:false,name:\"nmaterialcatcode\",isDisabled:false,isMandatory:true,options:this.state.materialCategory||[],value:this.state.selectedRecordMaterialForm&&this.state.selectedRecordMaterialForm.nmaterialcatcode&&Object.values(this.state.selectedRecordMaterialForm.nmaterialcatcode).length>0&&this.state.selectedRecordMaterialForm.nmaterialcatcode!==undefined&&this.state.selectedRecordMaterialForm.nmaterialcatcode!==\"\"?this.state.selectedRecordMaterialForm.nmaterialcatcode:\"\",showOption:true,required:true,onChange:function onChange(event){return _this7.onMaterialComboChange(event,'nmaterialcatcode');},isMulti:false,closeMenuOnSelect:true}),/*#__PURE__*/React.createElement(FormSelectSearch,{formLabel:intl.formatMessage({id:\"IDS_MATERIAL\"}),placeholder:intl.formatMessage({id:\"IDS_SELECTRECORD\"}),isSearchable:false,name:\"nmaterialcode\",isDisabled:false,isMandatory:true,options:this.state.material||[],value:this.state.selectedRecordMaterialForm&&this.state.selectedRecordMaterialForm.nmaterialcode&&Object.values(this.state.selectedRecordMaterialForm.nmaterialcode).length>0&&this.state.selectedRecordMaterialForm.nmaterialcode!==undefined&&this.state.selectedRecordMaterialForm.nmaterialcode!==\"\"?this.state.selectedRecordMaterialForm.nmaterialcode:\"\",showOption:true,required:true,onChange:function onChange(event){return _this7.onMaterialComboChange(event,'nmaterialcode');},isMulti:false,closeMenuOnSelect:true}),/*#__PURE__*/React.createElement(FormSelectSearch,{formLabel:intl.formatMessage({id:\"IDS_MATERIALINVENTORY\"}),placeholder:intl.formatMessage({id:\"IDS_SELECTRECORD\"}),isSearchable:false,name:\"nmaterialinventorycode\",isDisabled:false,isMandatory:true,options:this.state.materialInventory||[],value:this.state.selectedRecordMaterialForm&&this.state.selectedRecordMaterialForm.nmaterialinventorycode&&Object.values(this.state.selectedRecordMaterialForm.nmaterialinventorycode).length>0&&this.state.selectedRecordMaterialForm.nmaterialinventorycode!==undefined&&this.state.selectedRecordMaterialForm.nmaterialinventorycode!==\"\"?this.state.selectedRecordMaterialForm.nmaterialinventorycode:\"\",showOption:true,required:true,onChange:function onChange(event){return _this7.onMaterialComboChange(event,'nmaterialinventorycode');},isMulti:false,closeMenuOnSelect:true})))),/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormInput,{label:this.props.intl.formatMessage({id:\"IDS_AVAILABLEQUANTITY\"}),name:\"savailablequantity\",type:\"text\",maxLength:\"100\",isMandatory:true,value:this.state.selectedRecordMaterialForm[\"savailablequantity\"]||[],onChange:function onChange(event){return _this7.onInputOnChange(event);},placeholder:this.props.intl.formatMessage({id:\"IDS_AVAILABLEQUANTITY\"}),isDisabled:true})),/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormInput,{label:this.props.intl.formatMessage({id:\"IDS_USEDQTY\"}),name:\"susedquantity\",type:\"text\",maxLength:\"100\",isMandatory:true,value:this.state.selectedRecordMaterialForm[\"susedquantity\"]||[],onChange:function onChange(event){return _this7.onInputOnChange(event);},placeholder:this.props.intl.formatMessage({id:\"IDS_USEDQTY\"})})),/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormInput,{label:this.props.intl.formatMessage({id:\"IDS_UNIT\"}),name:\"sunitname\",type:\"text\",maxLength:\"100\",isMandatory:true,value:this.state.selectedRecordMaterialForm[\"sunitname\"]||[],onChange:function onChange(event){return _this7.onInputOnChange(event);},placeholder:this.props.intl.formatMessage({id:\"IDS_UNIT\"}),isDisabled:true})),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormInput,{label:this.props.intl.formatMessage({id:\"IDS_MOBILEPHASE\"}),name:\"smobilephase\",type:\"text\",maxLength:\"20\",value:this.state.selectedRecordMaterialForm[\"smobilephase\"]||[],onChange:function onChange(event){return _this7.onInputOnChange(event);},placeholder:this.props.intl.formatMessage({id:\"IDS_MOBILEPHASE\"})}),/*#__PURE__*/React.createElement(FormInput,{label:this.props.intl.formatMessage({id:\"IDS_CARRIERGAS\"}),name:\"scarriergas\",type:\"text\",maxLength:\"20\",value:this.state.selectedRecordMaterialForm[\"scarriergas\"]||[],onChange:function onChange(event){return _this7.onInputOnChange(event);},placeholder:this.props.intl.formatMessage({id:\"IDS_CARRIERGAS\"})}),/*#__PURE__*/React.createElement(FormTextarea,{label:this.props.intl.formatMessage({id:\"IDS_REMARKS\"}),name:\"sremarks\",type:\"text\",onChange:function onChange(event){return _this7.onInputOnChange(event);},placeholder:this.props.intl.formatMessage({id:\"IDS_REMARKS\"}),value:this.state.selectedRecordMaterialForm&&this.state.selectedRecordMaterialForm[\"sremarks\"]&&this.state.selectedRecordMaterialForm[\"sremarks\"]!==undefined&&this.state.selectedRecordMaterialForm[\"sremarks\"]!==\"\"?this.state.selectedRecordMaterialForm[\"sremarks\"]:\"\",isMandatory:false,required:false,maxLength:255,row:2}))))));}}]);return ResultEntryMaterialForm;}(React.Component);//export default injectIntl(ResultEntryMaterialForm);\nexport default connect(null,{updateStore:updateStore})(injectIntl(ResultEntryMaterialForm));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/ResultEntryBySample/ResultEntryMaterialForm.jsx"],"names":["React","Row","Col","FormSelectSearch","intl","injectIntl","MediaHeader","FormInput","FormTextarea","CustomSwitch","transactionStatus","updateStore","connect","constructOptionList","toast","rsapi","DEFAULT_RETURN","Preloader","ResultEntryMaterialForm","props","onInputOnChange","event","name","selectedRecordMaterialForm","state","target","type","checked","YES","NO","value","ntestgrouptestcode","ntestgroupmaterial","Login","masterData","RESelectedTest","getREMaterialComboGet","test","userInfo","onChildDataChange","setState","onMaterialComboChange","comboData","comboName","getREMaterialCategoryByType","nmaterialcatcode","item","needSectionwise","nsectioncode","getREMaterialByCategory","getREMaterialInvertoryByMaterial","getAvailableMaterialQuantity","materialType","materialCategory","material","materialInventory","loading","updateInfo","typeName","data","isMaterialInitialRender","previousProps","inputData","post","userinfo","then","response","materialTypeMap","MaterialType","undefined","get","materialCatMap","MaterialCategory","materialMap","Material","materialInventoryMap","MaterialInventory","sarno","ssamplearno","stestsynonym","ssectionname","transactiontestcode","map","ntransactiontestcode","join","toString","npreregno","nmaterialtypecode","nmaterialcode","length","nmaterialinventorycode","sunitname","savailablequantity","savailablequatity","selectedId","screenName","openModal","operation","ncontrolcode","addResultUsedInstrumentId","inventory","Object","values","needSubSample","formatMessage","id","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\r\nimport { intl } from '../../components/App';\r\nimport { injectIntl } from 'react-intl';\r\nimport { MediaHeader } from '../../components/App.styles';\r\nimport FormInput from '../../components/form-input/form-input.component';\r\nimport FormTextarea from '../../components/form-textarea/form-textarea.component';\r\nimport CustomSwitch from '../../components/custom-switch/custom-switch.component';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport {\r\n    updateStore\r\n} from '../../actions';\r\nimport { connect } from 'react-redux';\r\nimport { constructOptionList } from '../../components/CommonScript';\r\nimport { toast } from 'react-toastify';\r\nimport rsapi from '../../rsapi';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport Preloader from '../../components/preloader/preloader.component';\r\n\r\nclass ResultEntryMaterialForm extends React.Component {\r\n    //    const ResultEntryMaterialForm = (this.props) => {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            selectedRecordMaterialForm: this.props.selectedRecordMaterialForm,\r\n            materialType: this.props.materialType,\r\n            materialCategory: this.props.materialCategory,\r\n            material: this.props.material,\r\n            materialInventory: this.props.materialInventory,\r\n            loading:false\r\n        }\r\n\r\n    }\r\n    componentWillUnmount() { \r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN, \r\n            data: { isMaterialInitialRender: false  } \r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.selectedRecordMaterialForm !== previousProps.selectedRecordMaterialForm) {\r\n            this.setState({ selectedRecordMaterialForm: this.props.selectedRecordMaterialForm });\r\n        }\r\n        if (this.props.materialCategory !== previousProps.materialCategory) {\r\n            this.setState({ materialCategory: this.props.materialCategory });\r\n        }\r\n        if (this.props.material !== previousProps.material) {\r\n            this.setState({ material: this.props.material });\r\n        }\r\n        if (this.props.materialInventory !== previousProps.materialInventory) {\r\n            this.setState({ materialInventory: this.props.materialInventory });\r\n        }\r\n    }\r\n    onInputOnChange = (event, name) => {\r\n\r\n        const selectedRecordMaterialForm = this.state.selectedRecordMaterialForm || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecordMaterialForm[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else {\r\n            selectedRecordMaterialForm[event.target.name] = event.target.value;\r\n        }\r\n        switch (name) {\r\n            case 'ntestgroupmaterial':\r\n                const ntestgrouptestcode = selectedRecordMaterialForm.ntestgroupmaterial == transactionStatus.YES ? this.props.Login.masterData.RESelectedTest[0].ntestgrouptestcode : -1\r\n                //this.props.\r\n                this.getREMaterialComboGet({ ntestgroupmaterial: selectedRecordMaterialForm.ntestgroupmaterial, ntestgrouptestcode, RESelectedTest: this.props.Login.masterData.RESelectedTest, test: this.props.Login.masterData.RESelectedTest[0], userInfo: this.props.Login.userInfo })\r\n                break;\r\n            default:\r\n                //Sync Child Component data with Parent Component     \r\n                this.props.onChildDataChange(selectedRecordMaterialForm);\r\n                this.setState({ selectedRecordMaterialForm });\r\n        }\r\n    }\r\n\r\n    getREMaterialComboGet(inputData) {\r\n        // return function (dispatch) {\r\n        // dispatch(initRequest(true));\r\n        this.setState({loading:true})\r\n        rsapi.post(\"resultentrybysample/getResultUsedMaterialCombo\", { userinfo: inputData.userInfo, nsectioncode: inputData.test.nsectioncode, ntestgrouptestcode: inputData.ntestgrouptestcode })\r\n            .then(response => {\r\n                const materialTypeMap = constructOptionList(response.data.MaterialType || [], \"nmaterialtypecode\", \"smaterialtypename\", undefined, undefined, undefined);\r\n                const materialType = materialTypeMap.get(\"OptionList\");\r\n                const materialCatMap = constructOptionList(response.data.MaterialCategory || [], \"nmaterialcatcode\", \"smaterialcatname\", undefined, undefined, undefined);\r\n                const materialCategory = materialCatMap.get(\"OptionList\");\r\n                const materialMap = constructOptionList(response.data.Material || [], \"nmaterialcode\", \"smaterialname\", undefined, undefined, undefined);\r\n                const material = materialMap.get(\"OptionList\");\r\n                const materialInventoryMap = constructOptionList(response.data.MaterialInventory || [], \"nmaterialinventorycode\", \"sinventoryid\", undefined, undefined, undefined);\r\n                const materialInventory = materialInventoryMap.get(\"OptionList\");\r\n                //  dispatch({\r\n                //     type: DEFAULT_RETURN,\r\n                //      payload:\r\n\r\n                //Sync Child Component data with Parent Component     \r\n                this.props.onChildDataChange({\r\n                    ntestgroupmaterial: inputData.ntestgroupmaterial,\r\n                    sarno: inputData.test.sarno,\r\n                    ssamplearno: inputData.test.ssamplearno,\r\n                    stestsynonym: inputData.test.stestsynonym,\r\n                    nsectioncode: inputData.test.nsectioncode,\r\n                    ssectionname: inputData.test.ssectionname,\r\n                    transactiontestcode: inputData.RESelectedTest ? inputData.RESelectedTest.map(test => test.ntransactiontestcode).join(\",\").toString() : \"\",\r\n                    ntransactiontestcode: inputData.test.ntransactiontestcode,\r\n                    npreregno: inputData.test.npreregno,\r\n                    nmaterialtypecode: materialTypeMap.get(\"DefaultValue\") ? materialTypeMap.get(\"DefaultValue\") : \"\",\r\n                    nmaterialcatcode: materialCatMap.get(\"DefaultValue\") ? materialCatMap.get(\"DefaultValue\") : \"\",\r\n                    nmaterialcode: materialMap.get(\"OptionList\").length > 0 ? materialMap.get(\"OptionList\")[0] : \"\",\r\n                    nmaterialinventorycode: materialInventoryMap.get(\"OptionList\").length > 0 ? materialInventoryMap.get(\"OptionList\")[0] : \"\",\r\n                    sunitname: response.data.MaterialInventory !== undefined ? response.data.MaterialInventory[0].sunitname : \"\",\r\n                    savailablequantity: response.data.MaterialInventory !== undefined ? response.data.MaterialInventory[0].savailablequatity : \"\"\r\n                });\r\n                this.setState({\r\n                    selectedId: null,\r\n                    selectedRecordMaterialForm: {\r\n                        ntestgroupmaterial: inputData.ntestgroupmaterial,\r\n                        sarno: inputData.test.sarno,\r\n                        ssamplearno: inputData.test.ssamplearno,\r\n                        stestsynonym: inputData.test.stestsynonym,\r\n                        nsectioncode: inputData.test.nsectioncode,\r\n                        ssectionname: inputData.test.ssectionname,\r\n                        transactiontestcode: inputData.RESelectedTest ? inputData.RESelectedTest.map(test => test.ntransactiontestcode).join(\",\").toString() : \"\",\r\n                        ntransactiontestcode: inputData.test.ntransactiontestcode,\r\n                        npreregno: inputData.test.npreregno,\r\n                        nmaterialtypecode: materialTypeMap.get(\"DefaultValue\") ? materialTypeMap.get(\"DefaultValue\") : \"\",\r\n                        nmaterialcatcode: materialCatMap.get(\"DefaultValue\") ? materialCatMap.get(\"DefaultValue\") : \"\",\r\n                        nmaterialcode: materialMap.get(\"OptionList\").length > 0 ? materialMap.get(\"OptionList\")[0] : \"\",\r\n                        nmaterialinventorycode: materialInventoryMap.get(\"OptionList\").length > 0 ? materialInventoryMap.get(\"OptionList\")[0] : \"\",\r\n                        sunitname: response.data.MaterialInventory !== undefined ? response.data.MaterialInventory[0].sunitname : \"\",\r\n                        savailablequantity: response.data.MaterialInventory !== undefined ? response.data.MaterialInventory[0].savailablequatity : \"\"\r\n                    },\r\n                    materialType,\r\n                    materialCategory,\r\n                    material,\r\n                    materialInventory,\r\n                    loading: false,\r\n                    screenName: \"IDS_MATERIAL\",\r\n                    openModal: true,\r\n                    operation: \"create\",\r\n                    loading:false\r\n                })\r\n                // })\r\n            })\r\n        // .catch(error => {\r\n        //     dispatch({\r\n        //         type: DEFAULT_RETURN,\r\n        //         payload: {\r\n        //             loading: false\r\n        //         }\r\n        //     })\r\n        //     if (error.response.status === 500) {\r\n        //         toast.error(error.message);\r\n        //     } else {\r\n        //         toast.warn(error.response.data);\r\n        //     }\r\n        // })\r\n        // }\r\n    }\r\n    onMaterialComboChange = (comboData, comboName) => {\r\n        const selectedRecordMaterialForm = this.state.selectedRecordMaterialForm || [];\r\n        const ntestgrouptestcode = selectedRecordMaterialForm.ntestgroupmaterial == transactionStatus.YES ? this.props.Login.masterData.RESelectedTest[0].ntestgrouptestcode : -1;\r\n        if (comboData) {\r\n            selectedRecordMaterialForm[comboName] = comboData;\r\n        } else {\r\n            selectedRecordMaterialForm[comboName] = []\r\n        }\r\n        switch (comboName) {\r\n            case 'nmaterialtypecode':\r\n                this.getREMaterialCategoryByType({ ntestgrouptestcode, selectedRecordMaterialForm, userInfo: this.props.Login.userInfo })\r\n                break;\r\n            case 'nmaterialcatcode':\r\n                selectedRecordMaterialForm['nsectioncode'] = selectedRecordMaterialForm.nmaterialcatcode.item.needSectionwise == transactionStatus.YES ?\r\n                    this.props.Login.masterData.RESelectedTest[0].nsectioncode : -1;\r\n                this.getREMaterialByCategory({ ntestgrouptestcode, selectedRecordMaterialForm, userInfo: this.props.Login.userInfo })\r\n                break;\r\n            case 'nmaterialcode':\r\n                this.getREMaterialInvertoryByMaterial({ ntestgrouptestcode, selectedRecordMaterialForm, userInfo: this.props.Login.userInfo })\r\n                break;\r\n            default:\r\n                this.getAvailableMaterialQuantity({ ntestgrouptestcode, selectedRecordMaterialForm, userInfo: this.props.Login.userInfo })\r\n                break;\r\n        }\r\n    }\r\n\r\n    getREMaterialByCategory(inputData) {\r\n        // return function (dispatch) {\r\n        //     dispatch(initRequest(true));\r\n        this.setState({loading:true})\r\n        rsapi.post(\"resultentrybysample/getREMaterialByCategory\", {\r\n            ntestgrouptestcode: inputData.ntestgrouptestcode,\r\n            nmaterialtypecode: inputData.selectedRecordMaterialForm.nmaterialtypecode.value,\r\n            nmaterialcatcode: inputData.selectedRecordMaterialForm.nmaterialcatcode.value,\r\n            nsectioncode: inputData.selectedRecordMaterialForm.nsectioncode,\r\n            userinfo: inputData.userInfo\r\n        })\r\n            .then(response => {\r\n                const materialMap = constructOptionList(response.data.Material || [], \"nmaterialcode\", \"smaterialname\", undefined, undefined, undefined);\r\n                const material = materialMap.get(\"OptionList\");\r\n                const materialInventoryMap = constructOptionList(response.data.MaterialInventory || [], \"nmaterialinventorycode\", \"sinventoryid\", undefined, undefined, undefined);\r\n                const materialInventory = materialInventoryMap.get(\"OptionList\");\r\n                // dispatch({\r\n                //     type: DEFAULT_RETURN,\r\n                //     payload:\r\n\r\n                //Sync Child Component data with Parent Component     \r\n                this.props.onChildDataChange({\r\n                    ...inputData.selectedRecordMaterialForm,\r\n                    nmaterialcode: materialMap.get(\"OptionList\")[0],\r\n                    nmaterialinventorycode: materialInventoryMap.get(\"OptionList\")[0],\r\n                    savailablequantity: response.data.MaterialInventory ? response.data.MaterialInventory[0].savailablequatity : \"\",\r\n                    sunitname: response.data.MaterialInventory ? response.data.MaterialInventory[0].sunitname : \"\"\r\n                });\r\n                this.setState({\r\n                    selectedId: null,\r\n                    selectedRecordMaterialForm: {\r\n                        ...inputData.selectedRecordMaterialForm,\r\n                        nmaterialcode: materialMap.get(\"OptionList\")[0],\r\n                        nmaterialinventorycode: materialInventoryMap.get(\"OptionList\")[0],\r\n                        savailablequantity: response.data.MaterialInventory ? response.data.MaterialInventory[0].savailablequatity : \"\",\r\n                        sunitname: response.data.MaterialInventory ? response.data.MaterialInventory[0].sunitname : \"\"\r\n                    },\r\n                    material,\r\n                    materialInventory,\r\n                    loading: false\r\n                })\r\n                //  })\r\n            })\r\n        // .catch(error => {\r\n        //     dispatch({\r\n        //         type: DEFAULT_RETURN,\r\n        //         payload: {\r\n        //             loading: false\r\n        //         }\r\n        //     })\r\n        //     if (error.response.status === 500) {\r\n        //         toast.error(error.message);\r\n        //     } else {\r\n        //         toast.warn(error.response.data);\r\n        //     }\r\n        // })\r\n        // }\r\n    }\r\n\r\n    getREMaterialInvertoryByMaterial(inputData) {\r\n        // return function (dispatch) {\r\n        //     dispatch(initRequest(true));\r\n        this.setState({loading:true})\r\n        rsapi.post(\"resultentrybysample/getREMaterialInvertoryByMaterial\", {\r\n            ntestgrouptestcode: inputData.ntestgrouptestcode,\r\n            nmaterialcode: inputData.selectedRecordMaterialForm.nmaterialcode.value,\r\n            nsectioncode: inputData.selectedRecordMaterialForm.nsectioncode,\r\n            userinfo: inputData.userInfo\r\n        })\r\n            .then(response => {\r\n                inputData.selectedRecordMaterialForm.nmaterialinventorycode && delete\r\n                    inputData.selectedRecordMaterialForm.nmaterialinventorycode;\r\n\r\n                const materialInventoryMap = constructOptionList(response.data.MaterialInventory || [], \"nmaterialinventorycode\", \"sinventoryid\", undefined, undefined, undefined);\r\n                const materialInventory = materialInventoryMap.get(\"OptionList\");\r\n                // dispatch({\r\n                //    type: DEFAULT_RETURN,\r\n                //    payload:\r\n\r\n                //Sync Child Component data with Parent Component   \r\n                this.props.onChildDataChange({\r\n                    ...inputData.selectedRecordMaterialForm,\r\n                    nmaterialinventorycode: response.data.MaterialInventory ? materialInventoryMap.get(\"OptionList\")[0] : undefined,\r\n                    sunitname: response.data.MaterialInventory ? response.data.MaterialInventory[0].sunitname : \"\",\r\n                    savailablequantity: response.data.MaterialInventory ? response.data.MaterialInventory[0].savailablequatity : \"\"\r\n                });\r\n\r\n\r\n\r\n                this.setState({\r\n                    selectedId: null,\r\n                    selectedRecordMaterialForm: {\r\n                        ...inputData.selectedRecordMaterialForm,\r\n                        nmaterialinventorycode: response.data.MaterialInventory ? materialInventoryMap.get(\"OptionList\")[0] : undefined,\r\n                        sunitname: response.data.MaterialInventory ? response.data.MaterialInventory[0].sunitname : \"\",\r\n                        savailablequantity: response.data.MaterialInventory ? response.data.MaterialInventory[0].savailablequatity : \"\"\r\n                    },\r\n                    materialInventory,\r\n                    loading: false,\r\n                    screenName: \"IDS_MATERIAL\",\r\n                    openModal: true,\r\n                    //operation: \"create\",\r\n                    //activeTestKey: \"IDS_INSTRUMENT\",\r\n                    ncontrolcode: inputData.addResultUsedInstrumentId\r\n                })\r\n                //  })\r\n            })\r\n        // .catch(error => {\r\n        //     dispatch({\r\n        //         type: DEFAULT_RETURN,\r\n        //         payload: {\r\n        //             loading: false\r\n        //         }\r\n        //     })\r\n        //     if (error.response.status === 500) {\r\n        //         toast.error(error.message);\r\n        //     } else {\r\n        //         toast.warn(error.response.data);\r\n        //     }\r\n        // })\r\n        // }\r\n    }\r\n\r\n    getREMaterialCategoryByType(inputData) {\r\n        //   return function (dispatch) {\r\n        //    dispatch(initRequest(true));\r\n        this.setState({loading:true})\r\n        rsapi.post(\"resultentrybysample/getREMaterialCategoryByType\", {\r\n            ntestgrouptestcode: inputData.ntestgrouptestcode,\r\n            nmaterialtypecode: inputData.selectedRecordMaterialForm.nmaterialtypecode.value,\r\n            userinfo: inputData.userInfo\r\n        })\r\n            .then(response => {\r\n                const materialCatMap = constructOptionList(response.data.MaterialCategory || [], \"nmaterialcatcode\", \"smaterialcatname\", undefined, undefined, undefined);\r\n                const materialCategory = materialCatMap.get(\"OptionList\");\r\n                const materialMap = constructOptionList(response.data.Material || [], \"nmaterialcode\", \"smaterialname\", undefined, undefined, undefined);\r\n                const material = materialMap.get(\"OptionList\");\r\n                const materialInventoryMap = constructOptionList(response.data.MaterialInventory || [], \"nmaterialinventorycode\", \"sinventoryid\", undefined, undefined, undefined);\r\n                const materialInventory = materialInventoryMap.get(\"OptionList\");\r\n                // dispatch({\r\n                //     type: DEFAULT_RETURN,\r\n                //     payload: \r\n\r\n                //Sync Child Component data with Parent Component \r\n                this.props.onChildDataChange({\r\n                    ...inputData.selectedRecordMaterialForm,\r\n                    nmaterialcode:  materialMap.get(\"DefaultValue\") || \"\",\r\n                    nmaterialinventorycode: materialInventoryMap.get(\"DefaultValue\") || \"\",\r\n                    nmaterialcatcode: materialCatMap.get(\"DefaultValue\") || \"\",\r\n                });\r\n\r\n                this.setState({\r\n                    selectedId: null,\r\n                    selectedRecordMaterialForm: {\r\n                        ...inputData.selectedRecordMaterialForm,\r\n                        nmaterialcode: materialMap.get(\"DefaultValue\") || {},\r\n                        nmaterialinventorycode: materialInventoryMap.get(\"DefaultValue\") || {},\r\n                        nmaterialcatcode: materialCatMap.get(\"DefaultValue\") || {},\r\n                    },\r\n                    materialCategory,\r\n                    material,\r\n                    materialInventory,\r\n                    loading: false,\r\n                });\r\n                // })\r\n            })\r\n        // .catch(error => {\r\n        //     dispatch({\r\n        //         type: DEFAULT_RETURN,\r\n        //         payload: {\r\n        //             loading: false\r\n        //         }\r\n        //     })\r\n        //     if (error.response.status === 500) {\r\n        //         toast.error(error.message);\r\n        //     } else {\r\n        //         toast.warn(error.response.data);\r\n        //     }\r\n        // })\r\n        //   }\r\n    }\r\n\r\n\r\n    getAvailableMaterialQuantity(inputData) {\r\n        // return function (dispatch) {\r\n        //     dispatch(initRequest(true));\r\n        this.setState({loading:true})\r\n        rsapi.post(\"resultentrybysample/getAvailableMaterialQuantity\", {\r\n            ntestgrouptestcode: inputData.ntestgrouptestcode,\r\n            nmaterialinventorycode: inputData.selectedRecordMaterialForm.nmaterialinventorycode.value,\r\n            nsectioncode: inputData.selectedRecordMaterialForm.nsectioncode,\r\n            userinfo: inputData.userInfo\r\n        })\r\n            .then(response => {\r\n                // dispatch({\r\n                //     type: DEFAULT_RETURN,\r\n                //     payload: \r\n\r\n                //Sync Child Component data with Parent Component   \r\n                this.props.onChildDataChange({\r\n                    ...inputData.selectedRecordMaterialForm,\r\n                    savailablequantity: response.data.inventory ? response.data.inventory.savailablequatity : \"\",\r\n                    sunitname: response.data.inventory ? response.data.inventory.sunitname : \"\"\r\n                });\r\n\r\n                this.setState({\r\n                    selectedId: null,\r\n                    selectedRecordMaterialForm: {\r\n                        ...inputData.selectedRecordMaterialForm,\r\n                        savailablequantity: response.data.inventory ? response.data.inventory.savailablequatity : \"\",\r\n                        sunitname: response.data.inventory ? response.data.inventory.sunitname : \"\"\r\n                    },\r\n                    loading: false,\r\n                    screenName: \"IDS_MATERIAL\",\r\n                    openModal: true,\r\n                    //operation: \"create\",\r\n                    //activeTestKey: \"IDS_INSTRUMENT\",\r\n                    ncontrolcode: inputData.addResultUsedInstrumentId\r\n                })\r\n                //  })\r\n            })\r\n        // .catch(error => {\r\n        //     dispatch({\r\n        //         type: DEFAULT_RETURN,\r\n        //         payload: {\r\n        //             loading: false\r\n        //         }\r\n        //     })\r\n        //     if (error.response.status === 500) {\r\n        //         toast.error(error.message);\r\n        //     } else {\r\n        //         toast.warn(error.response.data);\r\n        //     }\r\n        // })\r\n        //}\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n               <Preloader loading={this.state.loading} /> \r\n\r\n                {Object.values(this.props.selectedRecordMaterialForm).length > 0 ?\r\n                    <Row className=\"mb-4\">\r\n                        {this.props.needSubSample ?\r\n\r\n                            <Col md={12}>\r\n                                <MediaHeader className={`labelfont`}>{intl.formatMessage({ id: \"IDS_SAMPLEARNO\" })}: {\" \" + this.props.selectedRecordMaterialForm.ssamplearno}</MediaHeader>\r\n                            </Col>\r\n                            :\r\n                            <Col md={12}>\r\n                                <MediaHeader className={`labelfont`}>{intl.formatMessage({ id: \"IDS_ARNO\" })}: {\" \" + this.props.selectedRecordMaterialForm.sarno}</MediaHeader>\r\n                            </Col>\r\n                        }\r\n                        <Col md={12}>\r\n                            <MediaHeader className={`labelfont`}>{intl.formatMessage({ id: \"IDS_TEST\" })}: {\" \" + this.props.selectedRecordMaterialForm.stestsynonym}</MediaHeader>\r\n                        </Col>\r\n                    </Row>\r\n                    : \"\"}\r\n\r\n                <Row>\r\n                    <Col md={6}>\r\n                        <Row>\r\n                            <Col md={12}>\r\n                                <CustomSwitch\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_TESTGROUPMATERIAL\" })}\r\n                                    type=\"switch\"\r\n                                    name={\"ntestgroupmaterial\"}\r\n                                    onChange={(event) => this.onInputOnChange(event, \"ntestgroupmaterial\")}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_DISPLAYSTATUS\" })}\r\n                                    //defaultValue={this.props.selectedRecordMaterialForm ? this.props.selectedRecordMaterialForm[nattachmenttypecode === attachmentType.LINK?\"nlinkdefaultstatus\":\"ndefaultstatus\"] === 3 ? true : false : \"\"}\r\n                                    isMandatory={false}\r\n                                    required={false}\r\n                                    checked={this.state.selectedRecordMaterialForm ? this.state.selectedRecordMaterialForm[\"ntestgroupmaterial\"] === transactionStatus.YES ? true : false : false}\r\n                                // disabled={this.state.selectedRecordMaterialForm ? this.state.selectedRecordMaterialForm[\"ntestgroupmaterial\"] === 3 ? true : false : false}\r\n                                >\r\n                                </CustomSwitch>\r\n                                <FormSelectSearch\r\n                                    formLabel={intl.formatMessage({ id: \"IDS_MATERIALTYPE\" })}\r\n                                    placeholder={intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                                    isSearchable={false}\r\n                                    name={\"nmaterialtypecode\"}\r\n                                    isDisabled={false}\r\n                                    isMandatory={true}\r\n                                    options={this.state.materialType || []}\r\n                                    value={this.state.selectedRecordMaterialForm&&this.state.selectedRecordMaterialForm.nmaterialtypecode&&\r\n                                        Object.values(this.state.selectedRecordMaterialForm.nmaterialtypecode).length>0      &&\r\n                                        this.state.selectedRecordMaterialForm.nmaterialtypecode!==undefined&&\r\n                                        this.state.selectedRecordMaterialForm.nmaterialtypecode!==\"\"  ? this.state.selectedRecordMaterialForm.nmaterialtypecode : \"\"}\r\n                                    showOption={true}\r\n                                    required={true}\r\n                                    onChange={(event) => this.onMaterialComboChange(event, 'nmaterialtypecode')}\r\n                                    isMulti={false}\r\n                                    closeMenuOnSelect={true}\r\n                                />\r\n                                <FormSelectSearch\r\n                                    formLabel={intl.formatMessage({ id: \"IDS_MATERIALCATEGORY\" })}\r\n                                    placeholder={intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                                    isSearchable={false}\r\n                                    name={\"nmaterialcatcode\"}\r\n                                    isDisabled={false}\r\n                                    isMandatory={true}\r\n                                    options={this.state.materialCategory || []}\r\n                                    value={this.state.selectedRecordMaterialForm&&\r\n                                        this.state.selectedRecordMaterialForm.nmaterialcatcode&&\r\n                                        Object.values(this.state.selectedRecordMaterialForm.nmaterialcatcode).length>0      &&\r\n                                        this.state.selectedRecordMaterialForm.nmaterialcatcode!==undefined&&\r\n                                        this.state.selectedRecordMaterialForm.nmaterialcatcode!==\"\"  ? this.state.selectedRecordMaterialForm.nmaterialcatcode : \"\"}\r\n                                    showOption={true}\r\n                                    required={true}\r\n                                    onChange={(event) => this.onMaterialComboChange(event, 'nmaterialcatcode')}\r\n                                    isMulti={false}\r\n                                    closeMenuOnSelect={true}\r\n                                />\r\n                                <FormSelectSearch\r\n                                    formLabel={intl.formatMessage({ id: \"IDS_MATERIAL\" })}\r\n                                    placeholder={intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                                    isSearchable={false}\r\n                                    name={\"nmaterialcode\"}\r\n                                    isDisabled={false}\r\n                                    isMandatory={true}\r\n                                    options={this.state.material || []}\r\n                                    value={this.state.selectedRecordMaterialForm&&\r\n                                        this.state.selectedRecordMaterialForm.nmaterialcode&&\r\n                                        Object.values(this.state.selectedRecordMaterialForm.nmaterialcode).length>0      &&\r\n                                        this.state.selectedRecordMaterialForm.nmaterialcode!==undefined&&\r\n                                        this.state.selectedRecordMaterialForm.nmaterialcode!==\"\" ? this.state.selectedRecordMaterialForm.nmaterialcode : \"\"}\r\n                                    showOption={true}\r\n                                    required={true}\r\n                                    onChange={(event) => this.onMaterialComboChange(event, 'nmaterialcode')}\r\n                                    isMulti={false}\r\n                                    closeMenuOnSelect={true}\r\n                                />\r\n                                <FormSelectSearch\r\n                                    formLabel={intl.formatMessage({ id: \"IDS_MATERIALINVENTORY\" })}\r\n                                    placeholder={intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                                    isSearchable={false}\r\n                                    name={\"nmaterialinventorycode\"}\r\n                                    isDisabled={false}\r\n                                    isMandatory={true}\r\n                                    options={this.state.materialInventory || []}\r\n                                    value={this.state.selectedRecordMaterialForm &&\r\n                                        this.state.selectedRecordMaterialForm.nmaterialinventorycode&&\r\n                                        Object.values(this.state.selectedRecordMaterialForm.nmaterialinventorycode).length>0      &&\r\n                                        this.state.selectedRecordMaterialForm.nmaterialinventorycode!==undefined&&\r\n                                        this.state.selectedRecordMaterialForm.nmaterialinventorycode!==\"\" ? this.state.selectedRecordMaterialForm.nmaterialinventorycode : \"\"}\r\n                                    showOption={true}\r\n                                    required={true}\r\n                                    onChange={(event) => this.onMaterialComboChange(event, 'nmaterialinventorycode')}\r\n                                    isMulti={false}\r\n                                    closeMenuOnSelect={true}\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col md={6}>\r\n                        <Row>\r\n                            <Col md={12}>\r\n                                <FormInput\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_AVAILABLEQUANTITY\" })}\r\n                                    name=\"savailablequantity\"\r\n                                    type=\"text\"\r\n                                    maxLength=\"100\"\r\n                                    isMandatory={true}\r\n                                    value={this.state.selectedRecordMaterialForm[\"savailablequantity\"] || []}\r\n                                    onChange={(event) => this.onInputOnChange(event)}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_AVAILABLEQUANTITY\" })}\r\n                                    isDisabled={true}\r\n                                />\r\n                            </Col>\r\n                            <Col md={6}>\r\n                                <FormInput\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_USEDQTY\" })}\r\n                                    name=\"susedquantity\"\r\n                                    type=\"text\"\r\n                                    maxLength=\"100\"\r\n                                    isMandatory={true}\r\n                                    value={this.state.selectedRecordMaterialForm[\"susedquantity\"] || []}\r\n                                    onChange={(event) => this.onInputOnChange(event)}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_USEDQTY\" })}\r\n                                />\r\n                            </Col>\r\n                            <Col md={6}>\r\n                                <FormInput\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_UNIT\" })}\r\n                                    name=\"sunitname\"\r\n                                    type=\"text\"\r\n                                    maxLength=\"100\"\r\n                                    isMandatory={true}\r\n                                    value={this.state.selectedRecordMaterialForm[\"sunitname\"] || []}\r\n                                    onChange={(event) => this.onInputOnChange(event)}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_UNIT\" })}\r\n                                    isDisabled={true}\r\n                                />\r\n                            </Col>\r\n                            <Col md={12}>\r\n                                <FormInput\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_MOBILEPHASE\" })}\r\n                                    name=\"smobilephase\"\r\n                                    type=\"text\"\r\n                                    maxLength=\"20\"\r\n                                    value={this.state.selectedRecordMaterialForm[\"smobilephase\"] || []}\r\n                                    onChange={(event) => this.onInputOnChange(event)}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_MOBILEPHASE\" })}\r\n                                />\r\n                                <FormInput\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_CARRIERGAS\" })}\r\n                                    name=\"scarriergas\"\r\n                                    type=\"text\"\r\n                                    maxLength=\"20\"\r\n                                    value={this.state.selectedRecordMaterialForm[\"scarriergas\"] || []}\r\n                                    onChange={(event) => this.onInputOnChange(event)}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_CARRIERGAS\" })}\r\n                                />\r\n                                <FormTextarea\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_REMARKS\" })}\r\n                                    name=\"sremarks\"\r\n                                    type=\"text\"\r\n                                    onChange={(event) => this.onInputOnChange(event)}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_REMARKS\" })}\r\n                                    value={this.state.selectedRecordMaterialForm&&this.state.selectedRecordMaterialForm[\"sremarks\"]&&\r\n                                        this.state.selectedRecordMaterialForm[\"sremarks\"]!==undefined&&\r\n                                        this.state.selectedRecordMaterialForm[\"sremarks\"]!==\"\" ? this.state.selectedRecordMaterialForm[\"sremarks\"] : \"\"}\r\n                                    isMandatory={false}\r\n                                    required={false}\r\n                                    maxLength={255}\r\n                                    row={2}\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </>\r\n        )\r\n    }\r\n\r\n}\r\n//export default injectIntl(ResultEntryMaterialForm);\r\n\r\nexport default connect(null, {\r\n    updateStore\r\n\r\n})(injectIntl(ResultEntryMaterialForm));\r\n"]},"metadata":{},"sourceType":"module"}