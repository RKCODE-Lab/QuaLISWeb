{"ast":null,"code":"import { intl } from '../../components/App';\nimport { convertDateTimetoStringDBFormat, formatInputDate } from '../../components/CommonScript';\nimport { SampleType, transactionStatus } from '../../components/Enumeration';\nexport function fnCheckBatchComponentMandatory(Components) {\n  // Components.map(component => {\n  for (var i = 0; i < Components.length; i++) {\n    if (Components[i].smanuflotno.length <= 0) {\n      // alert('IDS_ENTERMANUFLOTNOFOR ' + Components[i].scomponentname);\n      return intl.formatMessage({\n        id: \"IDS_ENTERMANUFLOTNOFOR\"\n      }) + Components[i].scomponentname;\n    } else if (Components[i].nnoofcontainer && Components[i].nnoofcontainer.length <= 0) {\n      // alert('IDS_ENTERNOOFCONTFOR' + Components[i].scomponentname);\n      return intl.formatMessage({\n        id: \"IDS_ENTERNOOFCONTFOR\"\n      }) + Components[i].scomponentname; // return ('IDS_ENTERNOOFCONTFOR' + Components[i].scomponentname);\n    } else if (Components[i].dreceiveddate === null) {\n      // alert('IDS_ENTERMANUFLOTNOFOR' + Components[i].scomponentname);\n      return intl.formatMessage({\n        id: \"IDS_ENTERMANUFLOTNOFOR\"\n      }) + Components[i].scomponentname; // return ('IDS_ENTERMANUFLOTNOFOR' + Components[i].scomponentname);\n    }\n  }\n\n  return true;\n}\nexport function fnCheckBatchProtocolComponentMandatory(Components) {\n  //Components.map(component => {\n  for (var i = 0; i < Components.length; i++) {\n    if (Components[i].smanuflotno.length <= 0) {\n      // alert('IDS_ENTERMANUFLOTNOFOR ' + {} + component.scomponentname);\n      //return (intl.formatMessage({ id: 'IDS_ENTERMANUFLOTNOFOR ' }) + {} + Components[i].scomponentname);\n      return intl.formatMessage({\n        id: \"IDS_ENTERMANUFLOTNOFOR\"\n      }) + Components[i].scomponentname;\n    } else if (Components[i].dreceiveddate === null) {\n      // alert('IDS_ENTERMANUFLOTNOFOR' + component.scomponentname);\n      return intl.formatMessage({\n        id: \"IDS_ENTERMANUFLOTNOFOR\"\n      }) + Components[i].scomponentname;\n    } //return null;\n    //});\n\n  }\n\n  return true;\n}\nexport function checkDuplicateComponentandManufLot(Components) {\n  let copiedArrays = [...Components];\n  let DuplicateComponent = [];\n  let bReturnFlag = true;\n  Components.map(component => {\n    copiedArrays.forEach(componentArray => {\n      component.slno !== componentArray.slno && component.smanuflotno === componentArray.smanuflotno && component.scomponentname === componentArray.scomponentname && DuplicateComponent.push(component);\n    });\n    return null;\n  });\n\n  if (DuplicateComponent.length > 0) {\n    let smanuflotno = DuplicateComponent[0].smanuflotno;\n    let scomponentname = DuplicateComponent[0].scomponentname; // Alert.show(resourceManager.getString('LocalizedStrings', 'IDS_DUPLICATEMANFNO') + \" \" + smanuflotno + \" for \" + scomponentname, resourceManager.getString('LocalizedStrings', 'IDS_WARNING'));\n\n    bReturnFlag = intl.formatMessage({\n      id: 'IDS_DUPLICATEMANFNO'\n    }) + \" \" + smanuflotno + \" \" + intl.formatMessage({\n      id: 'IDS_FOR'\n    }) + \" \" + scomponentname;\n  }\n\n  return bReturnFlag;\n}\nexport function TestListManipulation(Components, Test) {\n  //console.log(\"Test in component\");\n  let ArrayList = [];\n  Components.map(component => {\n    return ArrayList = Test && Test[component.slno] ? [...ArrayList, ...Test[component.slno]] : ArrayList;\n  }); //    ArrayList.map(item=>{\n  //        item['jsondata']={}\n  //       // if(item==='nsectioncode'||item==='nmethodcode'){\n  //         item['jsondata']['nsectioncode']={value:item['nsectioncode'],label:item['ssectionname']}\n  //         item['jsondata']['nmethodcode']={value:item['nmethodcode'],label:item['smethodname']}\n  //         item['jsondata']['ninstrumentcatcode']={value:item['ninstrumentcatcode'],label:item['sinstrumentcatname']}\n  //         item['jsondata']['ntestcode']=item['ntestcode']\n  //         item['jsondata']['ncost']=item['ncost']\n  //       // }\n  //    })\n\n  return ArrayList ? ArrayList : [];\n}\nexport function SubSample(Components, specBasedComponent, nneedsubsample, selectedSpec) {\n  //  let ArrayList = [];\n  if (nneedsubsample) {\n    if (specBasedComponent) {\n      Components.map(component => {\n        // if(component===\"ncomponentcode\"){\n        return component[\"ncomponentcode\"]; // }\n      });\n      return Components;\n    } else {\n      Components.map(component => {\n        // if(component===\"ncomponentcode\"){\n        return component[\"ncomponentcode\"] = -1; // }\n      });\n      return Components;\n    }\n  } else {\n    Components.map(component => {\n      // if(component===\"ncomponentcode\"){\n      component[\"ncomponentcode\"] = -1;\n      component[\"nspecsampletypecode\"] = selectedSpec.nallottedspeccode.item.nspecsampletypecode;\n      return component; // }\n    });\n    return Components;\n  }\n}\nexport function getRegistration(masterData, selectedRecord, selectedSpec, templateList, userInfo, defaulttimezone, operation, comboComponents) {\n  let sampleRegistration = {};\n  let dateList = [];\n  sampleRegistration[\"nsampletypecode\"] = masterData.RealSampleTypeValue.nsampletypecode;\n  sampleRegistration[\"nregtypecode\"] = masterData.RealRegTypeValue.nregtypecode;\n  sampleRegistration[\"nregsubtypecode\"] = masterData.RealRegSubTypeValue.nregsubtypecode;\n  sampleRegistration[\"ndesigntemplatemappingcode\"] = masterData.RealDesignTemplateMappingValue.ndesigntemplatemappingcode;\n  sampleRegistration[\"nregsubtypeversioncode\"] = masterData.RealRegSubTypeValue.nregsubtypeversioncode;\n  sampleRegistration[\"ntemplatemanipulationcode\"] = operation === 'update' ? masterData.selectedSample[0].ntemplatemanipulationcode : selectedSpec.ntemplatemanipulationcode;\n  sampleRegistration[\"nallottedspeccode\"] = operation === 'update' ? masterData.selectedSample[0].nallottedspeccode : selectedSpec.nallottedspeccode.value;\n\n  if (masterData.RealSampleTypeValue.nsampletypecode === SampleType.PRODUCT) {\n    sampleRegistration[\"nproductcatcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product Category')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product Category')]['label']].value : -1;\n    sampleRegistration[\"nproductcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product')]['label']].value : -1;\n    sampleRegistration[\"ninstrumentcatcode\"] = -1;\n    sampleRegistration[\"ninstrumentcode\"] = -1;\n    sampleRegistration[\"nmaterialcatcode\"] = -1;\n    sampleRegistration[\"nmaterialcode\"] = -1;\n  } else if (masterData.RealSampleTypeValue.nsampletypecode === SampleType.INSTRUMENT) {\n    sampleRegistration[\"ninstrumentcatcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Instrument Category')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Instrument Category')]['label']].value : -1;\n    sampleRegistration[\"ninstrumentcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Instrument')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Instrument')]['label']].value : -1;\n    sampleRegistration[\"nproductcatcode\"] = -1;\n    sampleRegistration[\"nproductcode\"] = -1;\n    sampleRegistration[\"nmaterialcatcode\"] = -1;\n    sampleRegistration[\"nmaterialcode\"] = -1;\n  } else if (masterData.RealSampleTypeValue.nsampletypecode === SampleType.MATERIAL) {\n    sampleRegistration[\"nmaterialcatcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Material Category')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Material Category')]['label']].value : -1;\n    sampleRegistration[\"nmaterialcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Material')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Material')]['label']].value : -1;\n    sampleRegistration[\"nproductcatcode\"] = -1;\n    sampleRegistration[\"nproductcode\"] = -1;\n    sampleRegistration[\"ninstrumentcatcode\"] = -1;\n    sampleRegistration[\"ninstrumentcode\"] = -1;\n  } else if (masterData.RealSampleTypeValue.nsampletypecode === SampleType.CLINICALTYPE) {\n    sampleRegistration[\"nproductcatcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product Category')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product Category')]['label']].value : -1;\n    sampleRegistration[\"nproductcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product')]] !== undefined ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product')]['label']].value : -1;\n    sampleRegistration[\"ngendercode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Gender')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Gender')]['label']].value : -1;\n    sampleRegistration[\"ninstrumentcatcode\"] = -1;\n    sampleRegistration[\"ninstrumentcode\"] = -1;\n    sampleRegistration[\"nmaterialcatcode\"] = -1;\n    sampleRegistration[\"nmaterialcode\"] = -1;\n  } else if (masterData.RealSampleTypeValue.nsampletypecode === SampleType.PROJECTSAMPLETYPE) {\n    sampleRegistration[\"nproductcatcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product Category')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product Category')]['label']].value : -1;\n    sampleRegistration[\"nproductcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product')]] !== undefined ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product')]['label']].value : -1;\n    sampleRegistration[\"nprojectmastercode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Project Code')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Project Code')]['label']].value : -1;\n    sampleRegistration[\"ninstrumentcatcode\"] = -1;\n    sampleRegistration[\"ninstrumentcode\"] = -1;\n    sampleRegistration[\"nmaterialcatcode\"] = -1;\n    sampleRegistration[\"nmaterialcode\"] = -1;\n  }\n\n  sampleRegistration[\"jsondata\"] = {};\n  sampleRegistration[\"jsonuidata\"] = {};\n\n  if (masterData.RealSampleTypeValue.nsampletypecode === SampleType.CLINICALTYPE) {\n    sampleRegistration[\"jsondata\"]['spatientid'] = selectedRecord['spatientid'] ? selectedRecord['spatientid'] : '';\n    sampleRegistration[\"jsonuidata\"]['spatientid'] = selectedRecord['spatientid'] ? selectedRecord['spatientid'] : '';\n  } //console.log(\"save registration:\", selectedRecord);\n\n\n  templateList && templateList.map(row => {\n    return row.children.map(column => {\n      return column.children.map(component => {\n        if (component.hasOwnProperty(\"children\")) {\n          return component.children.map(componentrow => {\n            if (componentrow.inputtype === \"combo\") {\n              //  if(componentrow.recordbasedreadonly)\n              sampleRegistration[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ? {\n                value: selectedRecord[componentrow.label].value,\n                label: selectedRecord[componentrow.label].label,\n                pkey: operation === \"create\" ? selectedRecord[componentrow.label].item.pkey : selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.pkey : selectedRecord[componentrow.label].pkey,\n                nquerybuildertablecode: operation === \"create\" ? selectedRecord[componentrow.label].item.nquerybuildertablecode : selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.nquerybuildertablecode : selectedRecord[componentrow.label].nquerybuildertablecode,\n                source: operation === \"create\" ? selectedRecord[componentrow.label].item.source : selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.source : selectedRecord[componentrow.label].source\n              } : -1;\n              sampleRegistration[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\n            } else if (componentrow.inputtype === \"date\") {\n              if (componentrow.mandatory) {\n                sampleRegistration[\"jsondata\"][componentrow.label] = typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? new Date(selectedRecord[componentrow.label]) : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\";\n                sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label];\n              } else {\n                sampleRegistration[\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ? typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? new Date(selectedRecord[componentrow.label]) : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\" : selectedRecord[componentrow.label] ? typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? new Date(selectedRecord[componentrow.label]) : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\" : \"\";\n                sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label];\n              }\n\n              if (componentrow.timezone) {\n                sampleRegistration[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ? {\n                  value: selectedRecord[`tz${componentrow.label}`].value,\n                  label: selectedRecord[`tz${componentrow.label}`].label\n                } : defaulttimezone ? defaulttimezone : -1;\n                sampleRegistration[\"jsonuidata\"][`tz${componentrow.label}`] = sampleRegistration[\"jsondata\"][`tz${componentrow.label}`];\n              }\n\n              dateList.push(componentrow.label);\n            } else {\n              sampleRegistration[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\";\n              sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label];\n            }\n          });\n          return sampleRegistration;\n        } else {\n          if (component.inputtype === \"combo\") {\n            sampleRegistration[\"jsondata\"][component.label] = selectedRecord[component.label] ? {\n              value: selectedRecord[component.label].value,\n              label: selectedRecord[component.label].label,\n              pkey: operation === \"create\" ? selectedRecord[component.label].item.pkey : selectedRecord[component.label].item ? selectedRecord[component.label].item.pkey : selectedRecord[component.label].pkey,\n              nquerybuildertablecode: operation === \"create\" ? selectedRecord[component.label].item.nquerybuildertablecode : selectedRecord[component.label].item ? selectedRecord[component.label].item.nquerybuildertablecode : selectedRecord[component.label].nquerybuildertablecode,\n              source: operation === \"create\" ? selectedRecord[component.label].item.source : selectedRecord[component.label].item ? selectedRecord[component.label].item.source : selectedRecord[component.label].source\n            } : -1;\n            sampleRegistration[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\n          } else if (component.inputtype === \"date\") {\n            if (component.mandatory) {\n              console.log(typeof selectedRecord[component.label] === \"object\");\n              sampleRegistration[\"jsondata\"][component.label] = typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? new Date(selectedRecord[component.label]) : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\";\n              sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label];\n            } else {\n              sampleRegistration[\"jsondata\"][component.label] = component.loadcurrentdate ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? new Date(selectedRecord[component.label]) : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\" : selectedRecord[component.label] ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? new Date(selectedRecord[component.label]) : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\" : \"\";\n              sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label];\n            }\n\n            if (component.timezone) {\n              sampleRegistration[\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ? {\n                value: selectedRecord[`tz${component.label}`].value,\n                label: selectedRecord[`tz${component.label}`].label\n              } : defaulttimezone ? defaulttimezone : -1;\n              sampleRegistration[\"jsonuidata\"][`tz${component.label}`] = sampleRegistration[\"jsondata\"][`tz${component.label}`];\n            }\n\n            dateList.push(component.label);\n          } else {\n            sampleRegistration[\"jsondata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label] : \"\";\n            sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label];\n          }\n\n          return sampleRegistration;\n        }\n      });\n    });\n  });\n  const param = {\n    sampleRegistration,\n    dateList\n  };\n  return param;\n}\nexport function getRegistrationScheduler(masterData, selectedRecord, selectedSpec, templateList, userInfo, defaulttimezone, operation, comboComponents) {\n  let sampleRegistration = {};\n  let dateList = [];\n  sampleRegistration[\"nsampletypecode\"] = masterData.RealSampleTypeValue ? masterData.RealSampleTypeValue.nsampletypecode : 1;\n  sampleRegistration[\"nregtypecode\"] = masterData.RealRegTypeValue ? masterData.RealRegTypeValue.nregtypecode : 1;\n  sampleRegistration[\"nregsubtypecode\"] = masterData.RealRegSubTypeValue ? masterData.RealRegSubTypeValue.nregsubtypecode : 1;\n  sampleRegistration[\"ndesigntemplatemappingcode\"] = masterData.RealDesignTemplateMappingValue ? masterData.RealDesignTemplateMappingValue.ndesigntemplatemappingcode : masterData.ndesigntemplatemappingcode;\n  sampleRegistration[\"nregsubtypeversioncode\"] = masterData.RealRegSubTypeValue ? masterData.RealRegSubTypeValue.nregsubtypeversioncode : masterData.nregsubtypeversioncode ? masterData.nregsubtypeversioncode : -1;\n  sampleRegistration[\"ntemplatemanipulationcode\"] = operation === 'update' ? masterData.selectedSample.ntemplatemanipulationcode : selectedSpec.ntemplatemanipulationcode;\n  sampleRegistration[\"nallottedspeccode\"] = operation === 'update' ? masterData.selectedSample.nallottedspeccode : selectedSpec.nallottedspeccode.value;\n\n  if (sampleRegistration[\"nsampletypecode\"] === 1) {\n    sampleRegistration[\"nproductcatcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product Category')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product Category')]['label']].value : -1;\n    sampleRegistration[\"nproductcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product')]['label']].value : -1;\n    sampleRegistration[\"ninstrumentcatcode\"] = -1;\n    sampleRegistration[\"ninstrumentcode\"] = -1;\n    sampleRegistration[\"nmaterialcatcode\"] = -1;\n    sampleRegistration[\"nmaterialcode\"] = -1;\n  } else if (masterData.RealSampleTypeValue.nsampletypecode === 2) {\n    sampleRegistration[\"ninstrumentcatcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Instrument Category')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Instrument Category')]['label']].value : -1;\n    sampleRegistration[\"ninstrumentcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Instrument')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Instrument')]['label']].value : -1;\n    sampleRegistration[\"nproductcatcode\"] = -1;\n    sampleRegistration[\"nproductcode\"] = -1;\n    sampleRegistration[\"nmaterialcatcode\"] = -1;\n    sampleRegistration[\"nmaterialcode\"] = -1;\n  } else if (masterData.RealSampleTypeValue.nsampletypecode === 3) {\n    sampleRegistration[\"nmaterialcatcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Material Category')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Material Category')]['label']].value : -1;\n    sampleRegistration[\"nmaterialcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Material')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Material')]['label']].value : -1;\n    sampleRegistration[\"nproductcatcode\"] = -1;\n    sampleRegistration[\"nproductcode\"] = -1;\n    sampleRegistration[\"ninstrumentcatcode\"] = -1;\n    sampleRegistration[\"ninstrumentcode\"] = -1;\n  }\n\n  sampleRegistration[\"jsondata\"] = {};\n  sampleRegistration[\"jsonuidata\"] = {};\n  templateList && templateList.map(row => {\n    return row.children.map(column => {\n      return column.children.map(component => {\n        if (component.hasOwnProperty(\"children\")) {\n          return component.children.map(componentrow => {\n            if (componentrow.inputtype === \"combo\") {\n              //  if(componentrow.recordbasedreadonly)\n              sampleRegistration[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ? {\n                value: selectedRecord[componentrow.label].value,\n                label: selectedRecord[componentrow.label].label\n              } : -1;\n              sampleRegistration[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\n            } else if (componentrow.inputtype === \"date\") {\n              if (componentrow.mandatory) {\n                sampleRegistration[\"jsondata\"][componentrow.label] = typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\";\n                sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label];\n              } else {\n                sampleRegistration[\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ? typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\" : selectedRecord[componentrow.label] ? typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\" : \"\";\n                sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label];\n              }\n\n              if (componentrow.timezone) {\n                sampleRegistration[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ? {\n                  value: selectedRecord[`tz${componentrow.label}`].value,\n                  label: selectedRecord[`tz${componentrow.label}`].label\n                } : defaulttimezone ? defaulttimezone : -1;\n                sampleRegistration[\"jsonuidata\"][`tz${componentrow.label}`] = sampleRegistration[\"jsondata\"][`tz${componentrow.label}`];\n              }\n\n              dateList.push(componentrow.label);\n            } else {\n              sampleRegistration[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\";\n              sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label];\n            }\n          });\n          return sampleRegistration;\n        } else {\n          if (component.inputtype === \"combo\") {\n            sampleRegistration[\"jsondata\"][component.label] = selectedRecord[component.label] ? {\n              value: selectedRecord[component.label].value,\n              label: selectedRecord[component.label].label\n            } : -1;\n            sampleRegistration[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\n          } else if (component.inputtype === \"date\") {\n            if (component.mandatory) {\n              sampleRegistration[\"jsondata\"][component.label] = typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\";\n              sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label];\n            } else {\n              sampleRegistration[\"jsondata\"][component.label] = component.loadcurrentdate ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\" : selectedRecord[component.label] ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\" : \"\";\n              sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label];\n            }\n\n            if (component.timezone) {\n              sampleRegistration[\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ? {\n                value: selectedRecord[`tz${component.label}`].value,\n                label: selectedRecord[`tz${component.label}`].label\n              } : defaulttimezone ? defaulttimezone : -1;\n              sampleRegistration[\"jsonuidata\"][`tz${component.label}`] = sampleRegistration[\"jsondata\"][`tz${component.label}`];\n            }\n\n            dateList.push(component.label);\n          } else {\n            sampleRegistration[\"jsondata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label] : \"\";\n            sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label];\n          }\n\n          return sampleRegistration;\n        }\n      });\n    });\n  });\n  const param = {\n    sampleRegistration,\n    dateList\n  };\n  return param;\n} // export function getComponentListfromUnwantedAttr(Components) {\n//     Components.map(component => {\n//         // if (component.ncomponentcode !== null && typeof component.ncomponentcode === \"object\") {\n//         //     component.ncomponentcode = component.ncomponentcode.value;\n//         // }\n//         // component['jsondata']['ssubsamplename'] = component['ssubsamplename'] ? component['ssubsamplename'] : \"\"\n//         // component['jsondata']['ssampleqty'] = component['ssampleqty'] ? component['ssampleqty'] : \"\"\n//         // component['jsondata']['nunitcode'] = { value: component.nunitcode, label: component.sunitname };\n//         // component['jsondata']['scomments'] = component['scomments'] ? component['scomments'] : \"\"\n//         return component;\n//     });\n//     return Components;\n// }\n\nexport function getRegistrationSubSample(selectedRecord, templateList, userInfo, defaulttimezone, preRegPopUp, specBasedComponent, selectedSpec, operation) {\n  let sampleRegistration = {};\n  let dateList = []; // let dataGridList={}\n  // sampleRegistration[\"ntemplatemanipulationcode\"] = selectedSpec.ntemplatemanipulationcode;\n  // sampleRegistration[\"nallottedspeccode\"] = selectedSpec.nallottedspeccode.value;\n\n  sampleRegistration[\"jsondata\"] = {};\n  sampleRegistration[\"jsonuidata\"] = {};\n  templateList && templateList.map(row => {\n    return row.children.map(column => {\n      return column.children.map(component => {\n        if (component.hasOwnProperty(\"children\")) {\n          //  let componentrowlabel = ''\n          // let componentrowvalue = ''\n          return component.children.map(componentrow => {\n            if (componentrow.inputtype === \"combo\") {\n              sampleRegistration[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ? {\n                value: selectedRecord[componentrow.label].value,\n                label: selectedRecord[componentrow.label].label,\n                pkey: operation && operation === 'update' ? selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.pkey : selectedRecord[componentrow.label].pkey : selectedRecord[componentrow.label].item.pkey,\n                nquerybuildertablecode: operation && operation === 'update' ? selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.nquerybuildertablecode : selectedRecord[componentrow.label].nquerybuildertablecode : selectedRecord[componentrow.label].item.nquerybuildertablecode,\n                source: operation && operation === 'update' ? selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.source : selectedRecord[componentrow.label].source : selectedRecord[componentrow.label].item.source\n              } : -1;\n              sampleRegistration[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\"; // if (componentrow.mandatory || selectedRecord[componentrow.label]) {\n              //     componentrowlabel = componentrowlabel + '&' + componentrow.label\n              //     componentrowvalue = componentrowvalue + ' ' + selectedRecord[componentrow.label].label\n              // }\n            } else if (componentrow.inputtype === \"date\") {\n              if (componentrow.mandatory) {\n                sampleRegistration[\"jsondata\"][componentrow.label] = typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? new Date(selectedRecord[componentrow.label]) : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\";\n                sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label];\n              } else {\n                sampleRegistration[\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ? typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? new Date(selectedRecord[componentrow.label]) : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\" : selectedRecord[componentrow.label] ? typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? new Date(selectedRecord[componentrow.label]) : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\" : \"\";\n                sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label];\n              }\n\n              if (componentrow.timezone) {\n                sampleRegistration[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ? {\n                  value: selectedRecord[`tz${componentrow.label}`].value,\n                  label: selectedRecord[`tz${componentrow.label}`].label\n                } : defaulttimezone ? defaulttimezone : -1;\n                sampleRegistration[\"jsonuidata\"][`tz${componentrow.label}`] = sampleRegistration[\"jsondata\"][`tz${componentrow.label}`];\n              }\n\n              dateList.push(componentrow.label);\n            } else {\n              sampleRegistration[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\";\n              sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label]; // if (selectedRecord[componentrow.label]) {\n              //     componentrowlabel = componentrowlabel + '&' + componentrow.label\n              //     componentrowvalue = componentrowvalue + ' ' + selectedRecord[componentrow.label]\n              // }\n            }\n\n            return sampleRegistration;\n          }); //  sampleRegistration[\"jsondata\"][componentrowlabel.substring(1)] = componentrowvalue\n        } else {\n          if (component.inputtype === \"combo\") {\n            sampleRegistration[\"jsondata\"][component.label] = selectedRecord[component.label] ? {\n              value: selectedRecord[component.label].value,\n              label: selectedRecord[component.label].label,\n              pkey: operation && operation === 'update' ? selectedRecord[component.label].item ? selectedRecord[component.label].item.pkey : selectedRecord[component.label].pkey : selectedRecord[component.label].item.pkey,\n              nquerybuildertablecode: operation && operation === 'update' ? selectedRecord[component.label].item ? selectedRecord[component.label].item.nquerybuildertablecode : selectedRecord[component.label].nquerybuildertablecode : selectedRecord[component.label].item.nquerybuildertablecode,\n              source: operation && operation === 'update' ? selectedRecord[component.label].item ? selectedRecord[component.label].item.source : selectedRecord[component.label].source : selectedRecord[component.label].item.source\n            } : -1;\n            sampleRegistration[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\n          } else if (component.inputtype === \"date\") {\n            if (component.mandatory) {\n              sampleRegistration[\"jsondata\"][component.label] = typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? new Date(selectedRecord[component.label]) : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\";\n              sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label];\n            } else {\n              sampleRegistration[\"jsondata\"][component.label] = component.loadcurrentdate ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? new Date(selectedRecord[component.label]) : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\" : selectedRecord[component.label] ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? new Date(selectedRecord[component.label]) : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\" : \"\";\n              sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label];\n            }\n\n            if (component.timezone) {\n              sampleRegistration[\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ? {\n                value: selectedRecord[`tz${component.label}`].value,\n                label: selectedRecord[`tz${component.label}`].label\n              } : defaulttimezone ? defaulttimezone : -1;\n              sampleRegistration[\"jsonuidata\"][`tz${component.label}`] = sampleRegistration[\"jsondata\"][`tz${component.label}`];\n            }\n\n            dateList.push(component.label);\n          } else {\n            sampleRegistration[\"jsondata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label] : \"\";\n            sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label];\n          }\n\n          return sampleRegistration;\n        }\n      });\n    });\n  });\n\n  if (preRegPopUp) {\n    sampleRegistration[\"nallottedspeccode\"] = selectedSpec[\"nallottedspeccode\"] ? selectedSpec[\"nallottedspeccode\"].value : -1;\n\n    if (specBasedComponent) {\n      sampleRegistration[\"scomponentname\"] = selectedRecord[\"ncomponentcode\"].label;\n      sampleRegistration[\"jsonuidata\"][\"scomponentname\"] = sampleRegistration[\"scomponentname\"];\n      sampleRegistration[\"ncomponentcode\"] = selectedRecord[\"ncomponentcode\"] ? selectedRecord[\"ncomponentcode\"].value : -1;\n      sampleRegistration[\"nspecsampletypecode\"] = selectedRecord[\"nspecsampletypecode\"] ? selectedRecord[\"nspecsampletypecode\"] : -1;\n    } else {\n      sampleRegistration[\"nspecsampletypecode\"] = selectedSpec[\"nallottedspeccode\"] ? selectedSpec[\"nallottedspeccode\"]['item'].nspecsampletypecode : -1;\n    }\n  } else {\n    if (specBasedComponent) {\n      sampleRegistration[\"scomponentname\"] = selectedRecord[\"ncomponentcode\"].label;\n      sampleRegistration[\"jsonuidata\"][\"scomponentname\"] = sampleRegistration[\"scomponentname\"];\n      sampleRegistration[\"ncomponentcode\"] = selectedRecord[\"ncomponentcode\"] ? selectedRecord[\"ncomponentcode\"].value : -1;\n      sampleRegistration[\"nspecsampletypecode\"] = selectedRecord[\"nspecsampletypecode\"] ? selectedRecord[\"nspecsampletypecode\"] : -1;\n    } else {\n      //  sampleRegistration[\"nspecsampletypecode\"] = selectedRecord[\"nspecsampletypecode\"] ? selectedRecord.nspecsampletypecode : -1;\n      sampleRegistration[\"ncomponentcode\"] = selectedRecord[\"ncomponentcode\"] ? selectedRecord[\"ncomponentcode\"] : -1;\n    }\n  }\n\n  const param = {\n    sampleRegistration,\n    dateList\n  };\n  return param;\n}\nexport function checkTestPresent(Test, Samples) {\n  const filterArray = Samples.filter(function (x) {\n    return !Test.some(function (y) {\n      return x[\"npreregno\"] === y[\"npreregno\"] && y[\"ntransactionstatus\"] !== transactionStatus.REJECT && y[\"ntransactionstatus\"] !== transactionStatus.CANCELLED;\n    });\n  });\n  return filterArray.length > 0 ? false : true;\n} // //added by perumalraj on 23/12/2020\n// //compare two arrays of object and filter the record which are not present in the second array and vice versa\n// export function filterStatusBasedOnTwoArrays(firstArray, secondArray, PrimaryKey) {\n//     const filterArray = firstArray.filter(function (x) {\n//         return secondArray.some(function (y) {\n//             return x[PrimaryKey] === y[PrimaryKey]\n//         })\n//     });\n//     return filterArray;\n// }\n\nexport function getRegistrationRoutine(selectedRecord) {\n  let sampleRegistrationRoutine = {};\n  sampleRegistrationRoutine[\"nclientcode\"] = selectedRecord.nclientcode ? selectedRecord.nclientcode.value : -1;\n  sampleRegistrationRoutine[\"nmanufcode\"] = selectedRecord.nmanufcode ? selectedRecord.nmanufcode.value : -1;\n  sampleRegistrationRoutine[\"nsuppliercode\"] = selectedRecord.nsuppliercode ? selectedRecord.nsuppliercode.value : -1;\n  sampleRegistrationRoutine[\"ssamplecondition\"] = selectedRecord.ssamplecondition ? selectedRecord.ssamplecondition : '';\n  sampleRegistrationRoutine[\"nstorageconditioncode\"] = selectedRecord.nstorageconditioncode ? selectedRecord.nstorageconditioncode.value : -1;\n  sampleRegistrationRoutine[\"dreceiveddate\"] = selectedRecord[\"dreceiveddate\"] ? formatInputDate(selectedRecord[\"dreceiveddate\"], false) : 'null';\n  sampleRegistrationRoutine[\"sreceiveddate\"] = selectedRecord[\"dreceiveddate\"] ? formatInputDate(selectedRecord[\"dreceiveddate\"], false) : 'null';\n  sampleRegistrationRoutine[\"ntzdreceivedate\"] = selectedRecord.ntzdreceivedate ? selectedRecord.ntzdreceivedate.value : -1;\n  sampleRegistrationRoutine[\"stzdreceivedate\"] = selectedRecord.stzdreceivedate ? selectedRecord.stzdreceivedate.label : -1;\n  sampleRegistrationRoutine[\"ncontainertypecode\"] = selectedRecord.ncontainertypecode ? selectedRecord.ncontainertypecode.value : -1;\n  sampleRegistrationRoutine[\"sourfile\"] = selectedRecord.sourfile ? selectedRecord.sourfile : '';\n  sampleRegistrationRoutine[\"sbatchno\"] = selectedRecord.sbatchno ? selectedRecord.sbatchno : '';\n  sampleRegistrationRoutine[\"slotno\"] = selectedRecord.slotno ? selectedRecord.slotno : '';\n  sampleRegistrationRoutine[\"ndisposition\"] = selectedRecord.ndisposition ? selectedRecord.ndisposition.value : -1;\n  sampleRegistrationRoutine[\"stotalqty\"] = selectedRecord.stotalqty ? selectedRecord.stotalqty : '0';\n  sampleRegistrationRoutine[\"ntotalunitcode\"] = selectedRecord.ntotalunitcode ? selectedRecord.ntotalunitcode.value : -1;\n  sampleRegistrationRoutine[\"npriority\"] = selectedRecord.npriority ? selectedRecord.npriority.value : -1;\n  sampleRegistrationRoutine[\"sdeadline\"] = selectedRecord.sdeadline ? selectedRecord.sdeadline : '0';\n  sampleRegistrationRoutine[\"nperiodconfigcode\"] = selectedRecord.nperiodconfigcode ? selectedRecord.nperiodconfigcode.value : -1;\n  sampleRegistrationRoutine[\"sremarks\"] = selectedRecord.sremarks ? selectedRecord.sremarks : null;\n  sampleRegistrationRoutine[\"sreportremarks\"] = selectedRecord.sreportremarks ? selectedRecord.sreportremarks : null;\n  sampleRegistrationRoutine[\"sdeviationcomments\"] = selectedRecord.sdeviationcomments ? selectedRecord.sdeviationcomments : null;\n  return sampleRegistrationRoutine;\n}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/registration/RegistrationValidation.jsx"],"names":["intl","convertDateTimetoStringDBFormat","formatInputDate","SampleType","transactionStatus","fnCheckBatchComponentMandatory","Components","i","length","smanuflotno","formatMessage","id","scomponentname","nnoofcontainer","dreceiveddate","fnCheckBatchProtocolComponentMandatory","checkDuplicateComponentandManufLot","copiedArrays","DuplicateComponent","bReturnFlag","map","component","forEach","componentArray","slno","push","TestListManipulation","Test","ArrayList","SubSample","specBasedComponent","nneedsubsample","selectedSpec","nallottedspeccode","item","nspecsampletypecode","getRegistration","masterData","selectedRecord","templateList","userInfo","defaulttimezone","operation","comboComponents","sampleRegistration","dateList","RealSampleTypeValue","nsampletypecode","RealRegTypeValue","nregtypecode","RealRegSubTypeValue","nregsubtypecode","RealDesignTemplateMappingValue","ndesigntemplatemappingcode","nregsubtypeversioncode","selectedSample","ntemplatemanipulationcode","value","PRODUCT","findIndex","x","name","INSTRUMENT","MATERIAL","CLINICALTYPE","undefined","PROJECTSAMPLETYPE","row","children","column","hasOwnProperty","componentrow","inputtype","label","pkey","nquerybuildertablecode","source","mandatory","Date","loadcurrentdate","timezone","console","log","param","getRegistrationScheduler","getRegistrationSubSample","preRegPopUp","checkTestPresent","Samples","filterArray","filter","some","y","REJECT","CANCELLED","getRegistrationRoutine","sampleRegistrationRoutine","nclientcode","nmanufcode","nsuppliercode","ssamplecondition","nstorageconditioncode","ntzdreceivedate","stzdreceivedate","ncontainertypecode","sourfile","sbatchno","slotno","ndisposition","stotalqty","ntotalunitcode","npriority","sdeadline","nperiodconfigcode","sremarks","sreportremarks","sdeviationcomments"],"mappings":"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","sourcesContent":["\r\nimport { intl } from '../../components/App';\r\nimport {convertDateTimetoStringDBFormat, formatInputDate } from '../../components/CommonScript';\r\nimport { SampleType, transactionStatus } from '../../components/Enumeration';\r\nexport function fnCheckBatchComponentMandatory(Components) {\r\n    // Components.map(component => {\r\n    for (var i = 0; i < Components.length; i++) {\r\n        if ((\r\n            Components[i].smanuflotno).length <= 0) {\r\n            // alert('IDS_ENTERMANUFLOTNOFOR ' + Components[i].scomponentname);\r\n            return (intl.formatMessage({ id: \"IDS_ENTERMANUFLOTNOFOR\" }) + Components[i].scomponentname);\r\n\r\n        } else if (Components[i].nnoofcontainer && (Components[i].nnoofcontainer).length <= 0) {\r\n            // alert('IDS_ENTERNOOFCONTFOR' + Components[i].scomponentname);\r\n            return (intl.formatMessage({ id: \"IDS_ENTERNOOFCONTFOR\" }) + Components[i].scomponentname);\r\n            // return ('IDS_ENTERNOOFCONTFOR' + Components[i].scomponentname);\r\n        } else if (Components[i].dreceiveddate === null) {\r\n            // alert('IDS_ENTERMANUFLOTNOFOR' + Components[i].scomponentname);\r\n            return (intl.formatMessage({ id: \"IDS_ENTERMANUFLOTNOFOR\" }) + Components[i].scomponentname);\r\n            // return ('IDS_ENTERMANUFLOTNOFOR' + Components[i].scomponentname);\r\n        }\r\n    }\r\n    return true;\r\n}\r\nexport function fnCheckBatchProtocolComponentMandatory(Components) {\r\n    //Components.map(component => {\r\n    for (var i = 0; i < Components.length; i++) {\r\n        if ((Components[i].smanuflotno).length <= 0) {\r\n            // alert('IDS_ENTERMANUFLOTNOFOR ' + {} + component.scomponentname);\r\n            //return (intl.formatMessage({ id: 'IDS_ENTERMANUFLOTNOFOR ' }) + {} + Components[i].scomponentname);\r\n            return (intl.formatMessage({ id: \"IDS_ENTERMANUFLOTNOFOR\" }) + Components[i].scomponentname);\r\n        } else if (Components[i].dreceiveddate === null) {\r\n            // alert('IDS_ENTERMANUFLOTNOFOR' + component.scomponentname);\r\n            return (intl.formatMessage({ id: \"IDS_ENTERMANUFLOTNOFOR\" }) + Components[i].scomponentname);\r\n        }\r\n        //return null;\r\n        //});\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function checkDuplicateComponentandManufLot(Components) {\r\n    let copiedArrays = [...Components];\r\n    let DuplicateComponent = [];\r\n    let bReturnFlag = true;\r\n    Components.map(component => {\r\n        copiedArrays.forEach(componentArray => {\r\n            (component.slno !== componentArray.slno && component.smanuflotno === componentArray.smanuflotno &&\r\n                component.scomponentname === componentArray.scomponentname) && DuplicateComponent.push(component);\r\n        })\r\n        return null;\r\n    });\r\n    if (DuplicateComponent.length > 0) {\r\n        let smanuflotno = DuplicateComponent[0].smanuflotno;\r\n        let scomponentname = DuplicateComponent[0].scomponentname;\r\n        // Alert.show(resourceManager.getString('LocalizedStrings', 'IDS_DUPLICATEMANFNO') + \" \" + smanuflotno + \" for \" + scomponentname, resourceManager.getString('LocalizedStrings', 'IDS_WARNING'));\r\n        bReturnFlag = intl.formatMessage({ id: 'IDS_DUPLICATEMANFNO' }) + \" \" + smanuflotno + \" \" + intl.formatMessage({ id: 'IDS_FOR' }) + \" \" + scomponentname;\r\n    }\r\n    return bReturnFlag;\r\n}\r\nexport function TestListManipulation(Components, Test) {\r\n    //console.log(\"Test in component\");\r\n    let ArrayList = [];\r\n    Components.map(component => {\r\n        return ArrayList = Test && Test[component.slno] ? [...ArrayList, ...Test[component.slno]] : ArrayList;\r\n    });\r\n\r\n    //    ArrayList.map(item=>{\r\n    //        item['jsondata']={}\r\n    //       // if(item==='nsectioncode'||item==='nmethodcode'){\r\n    //         item['jsondata']['nsectioncode']={value:item['nsectioncode'],label:item['ssectionname']}\r\n    //         item['jsondata']['nmethodcode']={value:item['nmethodcode'],label:item['smethodname']}\r\n    //         item['jsondata']['ninstrumentcatcode']={value:item['ninstrumentcatcode'],label:item['sinstrumentcatname']}\r\n    //         item['jsondata']['ntestcode']=item['ntestcode']\r\n    //         item['jsondata']['ncost']=item['ncost']\r\n    //       // }\r\n    //    })\r\n    return ArrayList ? ArrayList : [];\r\n}\r\n\r\nexport function SubSample(Components, specBasedComponent,nneedsubsample,selectedSpec) {\r\n    //  let ArrayList = [];\r\n    if(nneedsubsample){\r\n    if (specBasedComponent) {\r\n        Components.map(component => {\r\n            // if(component===\"ncomponentcode\"){\r\n         return  component[\"ncomponentcode\"] \r\n            // }\r\n        });\r\n        return Components;\r\n    } else {\r\n        Components.map(component => {\r\n            // if(component===\"ncomponentcode\"){\r\n            return component[\"ncomponentcode\"] = -1;\r\n            // }\r\n        });\r\n        return Components;\r\n    }\r\n    }else{\r\n        Components.map(component => {\r\n            // if(component===\"ncomponentcode\"){\r\n                component[\"ncomponentcode\"] = -1\r\n                component[\"nspecsampletypecode\"] =selectedSpec.nallottedspeccode.item.nspecsampletypecode\r\n            return component;\r\n            // }\r\n        });\r\n        return Components;\r\n    }\r\n}\r\n\r\nexport function getRegistration(masterData, selectedRecord, selectedSpec,\r\n    templateList, userInfo, defaulttimezone, operation,comboComponents) {\r\n    let sampleRegistration = {};\r\n    let dateList = []\r\n    sampleRegistration[\"nsampletypecode\"] = masterData.RealSampleTypeValue.nsampletypecode;\r\n    sampleRegistration[\"nregtypecode\"] = masterData.RealRegTypeValue.nregtypecode;\r\n    sampleRegistration[\"nregsubtypecode\"] = masterData.RealRegSubTypeValue.nregsubtypecode;\r\n    sampleRegistration[\"ndesigntemplatemappingcode\"] = masterData.RealDesignTemplateMappingValue.ndesigntemplatemappingcode;\r\n    sampleRegistration[\"nregsubtypeversioncode\"] = masterData.RealRegSubTypeValue.nregsubtypeversioncode;\r\n    sampleRegistration[\"ntemplatemanipulationcode\"] = operation==='update'?masterData.selectedSample[0].ntemplatemanipulationcode:selectedSpec.ntemplatemanipulationcode;\r\n    sampleRegistration[\"nallottedspeccode\"] =operation==='update'?masterData.selectedSample[0].nallottedspeccode:selectedSpec.nallottedspeccode.value;\r\n    \r\n    \r\n    if(masterData.RealSampleTypeValue.nsampletypecode===SampleType.PRODUCT){\r\n\r\n        sampleRegistration[\"nproductcatcode\"] =selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product Category')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product Category')]['label']].value : -1;\r\n        sampleRegistration[\"nproductcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product')]['label']].value : -1;\r\n        sampleRegistration[\"ninstrumentcatcode\"]=-1\r\n        sampleRegistration[\"ninstrumentcode\"]=-1\r\n        sampleRegistration[\"nmaterialcatcode\"]=-1\r\n        sampleRegistration[\"nmaterialcode\"]=-1\r\n    }else if(masterData.RealSampleTypeValue.nsampletypecode=== SampleType.INSTRUMENT){\r\n        sampleRegistration[\"ninstrumentcatcode\"] =selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Instrument Category')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Instrument Category')]['label']].value : -1;\r\n        sampleRegistration[\"ninstrumentcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Instrument')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Instrument')]['label']].value : -1;\r\n        sampleRegistration[\"nproductcatcode\"]=-1\r\n        sampleRegistration[\"nproductcode\"]=-1\r\n        sampleRegistration[\"nmaterialcatcode\"]=-1\r\n        sampleRegistration[\"nmaterialcode\"]=-1\r\n    }\r\n    else if(masterData.RealSampleTypeValue.nsampletypecode=== SampleType.MATERIAL){\r\n        sampleRegistration[\"nmaterialcatcode\"] =selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Material Category')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Material Category')]['label']].value : -1;\r\n        sampleRegistration[\"nmaterialcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Material')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Material')]['label']].value : -1;\r\n        sampleRegistration[\"nproductcatcode\"]=-1\r\n        sampleRegistration[\"nproductcode\"]=-1\r\n        sampleRegistration[\"ninstrumentcatcode\"]=-1\r\n        sampleRegistration[\"ninstrumentcode\"]=-1\r\n    }\r\n    else if(masterData.RealSampleTypeValue.nsampletypecode===SampleType.CLINICALTYPE){\r\n        sampleRegistration[\"nproductcatcode\"] =selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product Category')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product Category')]['label']].value : -1;\r\n        sampleRegistration[\"nproductcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product')]]!==undefined ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product')]['label']].value : -1;\r\n        sampleRegistration[\"ngendercode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Gender')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Gender')]['label']].value : -1;\r\n        sampleRegistration[\"ninstrumentcatcode\"] = -1\r\n        sampleRegistration[\"ninstrumentcode\"] = -1\r\n        sampleRegistration[\"nmaterialcatcode\"] = -1\r\n        sampleRegistration[\"nmaterialcode\"] = -1\r\n    }\r\n    else if(masterData.RealSampleTypeValue.nsampletypecode===SampleType.PROJECTSAMPLETYPE){\r\n        sampleRegistration[\"nproductcatcode\"] =selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product Category')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product Category')]['label']].value : -1;\r\n        sampleRegistration[\"nproductcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product')]]!==undefined ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Product')]['label']].value : -1;\r\n        sampleRegistration[\"nprojectmastercode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Project Code')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Project Code')]['label']].value : -1;\r\n        sampleRegistration[\"ninstrumentcatcode\"] = -1\r\n        sampleRegistration[\"ninstrumentcode\"] = -1\r\n        sampleRegistration[\"nmaterialcatcode\"] = -1\r\n        sampleRegistration[\"nmaterialcode\"] = -1\r\n    }\r\n    \r\n    sampleRegistration[\"jsondata\"] = {}\r\n    sampleRegistration[\"jsonuidata\"] = {}\r\n\r\n    if (masterData.RealSampleTypeValue.nsampletypecode === SampleType.CLINICALTYPE) {\r\n                sampleRegistration[\"jsondata\"]['spatientid']=selectedRecord['spatientid']?selectedRecord['spatientid']:''\r\n                sampleRegistration[\"jsonuidata\"]['spatientid']=selectedRecord['spatientid']?selectedRecord['spatientid']:''\r\n    \r\n            }\r\n    //console.log(\"save registration:\", selectedRecord);\r\n    templateList && templateList.map(row => {\r\n      return  row.children.map(column => {\r\n           return column.children.map(component => {\r\n                if (component.hasOwnProperty(\"children\")) {\r\n                   return component.children.map(componentrow => {\r\n                        if (componentrow.inputtype === \"combo\") {\r\n                          //  if(componentrow.recordbasedreadonly)\r\n                            sampleRegistration[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                { value: selectedRecord[componentrow.label].value, \r\n                                  label: selectedRecord[componentrow.label].label,\r\n                                  pkey: operation===\"create\"?selectedRecord[componentrow.label].item.pkey:selectedRecord[componentrow.label].item?selectedRecord[componentrow.label].item.pkey:selectedRecord[componentrow.label].pkey,\r\n                                  nquerybuildertablecode:operation===\"create\"?selectedRecord[componentrow.label].item.nquerybuildertablecode:selectedRecord[componentrow.label].item?selectedRecord[componentrow.label].item.nquerybuildertablecode:selectedRecord[componentrow.label].nquerybuildertablecode,\r\n                                  source:operation===\"create\"? selectedRecord[componentrow.label].item.source: selectedRecord[componentrow.label].item? selectedRecord[componentrow.label].item.source:selectedRecord[componentrow.label].source\r\n                                 } : -1\r\n                            sampleRegistration[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\"\r\n\r\n                        }\r\n                        else if (componentrow.inputtype === \"date\") {\r\n                            if (componentrow.mandatory) {\r\n                                sampleRegistration[\"jsondata\"][componentrow.label] = (typeof selectedRecord[componentrow.label] === \"object\") ?\r\n                                    convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : new Date(), userInfo) : \r\n                                        (typeof selectedRecord[componentrow.label] === \"number\")?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                            new Date( selectedRecord[componentrow.label])  : new Date(), userInfo)\r\n                                            : selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] :\"\";\r\n\r\n                                sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label]\r\n                            } else {\r\n                                sampleRegistration[\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ?\r\n                                    typeof selectedRecord[componentrow.label] === \"object\" ? \r\n                                    convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : new Date(), userInfo) :\r\n                                        typeof selectedRecord[componentrow.label] === \"number\"?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                            new Date( selectedRecord[componentrow.label] )  : new Date(), userInfo)\r\n\r\n                                         :selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : \"\" :\r\n                                    selectedRecord[componentrow.label] ? typeof selectedRecord[componentrow.label] === \"object\" ? \r\n                                    convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\"?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                            new Date( selectedRecord[componentrow.label] )  : new Date(), userInfo)\r\n                                            \r\n                                            : selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] \r\n                                        :\"\" : \"\";\r\n\r\n                                sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label]\r\n                            }\r\n                            if (componentrow.timezone) {\r\n                                sampleRegistration[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\r\n                                    { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\r\n                                    defaulttimezone ? defaulttimezone : -1\r\n\r\n                                sampleRegistration[\"jsonuidata\"][`tz${componentrow.label}`] = sampleRegistration[\"jsondata\"][`tz${componentrow.label}`]\r\n                            }\r\n                            dateList.push(componentrow.label)\r\n                        }\r\n\r\n                        else {\r\n                            sampleRegistration[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                selectedRecord[componentrow.label] : \"\"\r\n\r\n                            sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label]\r\n                        }\r\n                    })\r\n                    return sampleRegistration;\r\n                   \r\n                }\r\n                else {\r\n                    if (component.inputtype === \"combo\") {\r\n                        sampleRegistration[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                            { value: selectedRecord[component.label].value, \r\n                                label: selectedRecord[component.label].label,\r\n                                pkey: operation===\"create\"?selectedRecord[component.label].item.pkey:selectedRecord[component.label].item?selectedRecord[component.label].item.pkey:selectedRecord[component.label].pkey,\r\n                                nquerybuildertablecode:operation===\"create\"?selectedRecord[component.label].item.nquerybuildertablecode:selectedRecord[component.label].item?selectedRecord[component.label].item.nquerybuildertablecode:selectedRecord[component.label].nquerybuildertablecode,\r\n                                source:operation===\"create\"? selectedRecord[component.label].item.source: selectedRecord[component.label].item? selectedRecord[component.label].item.source:selectedRecord[component.label].source\r\n                            } : -1\r\n\r\n                        sampleRegistration[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\"\r\n                    }\r\n                    else if (component.inputtype === \"date\") {\r\n                        if (component.mandatory) {\r\n                            console.log(typeof selectedRecord[component.label] === \"object\")\r\n                            sampleRegistration[\"jsondata\"][component.label] = typeof selectedRecord[component.label] === \"object\" ?\r\n                        \r\n                                 convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : new Date(), userInfo) :\r\n                                    (typeof selectedRecord[component.label] === \"number\")?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            new Date( selectedRecord[component.label] )  : new Date(), userInfo):\r\n                                selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : \"\";\r\n\r\n                            sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label]\r\n                        } else {\r\n                            sampleRegistration[\"jsondata\"][component.label] = component.loadcurrentdate ?\r\n                                typeof selectedRecord[component.label] === \"object\" ? \r\n                                convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : new Date(), userInfo) :\r\n                                    typeof selectedRecord[component.label] === \"number\"?\r\n                                    convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                        new Date( selectedRecord[component.label] )  : new Date(), userInfo)\r\n                                    \r\n                                   : selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : \"\" :\r\n                                selectedRecord[component.label] ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : new Date(), userInfo) :typeof selectedRecord[component.label] === \"number\"?\r\n                                    convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                        new Date( selectedRecord[component.label] )  : new Date(), userInfo)\r\n                                    : selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label]  :\"\" : \"\";\r\n\r\n                            sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label]\r\n                        }\r\n                        if (component.timezone) {\r\n                            sampleRegistration[\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ?\r\n                                { value: selectedRecord[`tz${component.label}`].value, label: selectedRecord[`tz${component.label}`].label } :\r\n                                defaulttimezone ? defaulttimezone : -1\r\n\r\n                            sampleRegistration[\"jsonuidata\"][`tz${component.label}`] = sampleRegistration[\"jsondata\"][`tz${component.label}`]\r\n                        }\r\n                        dateList.push(component.label)\r\n                    }\r\n                    else {\r\n                        sampleRegistration[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                            selectedRecord[component.label] : \"\"\r\n\r\n                        sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label]\r\n                    }\r\n                   return sampleRegistration;\r\n                }\r\n            }\r\n            )\r\n        })\r\n    })\r\n    const param = { sampleRegistration, dateList }\r\n    return param;\r\n}\r\n\r\nexport function getRegistrationScheduler(masterData, selectedRecord, selectedSpec,\r\n    templateList, userInfo, defaulttimezone, operation,comboComponents) {\r\n    let sampleRegistration = {};\r\n    let dateList = []\r\n    sampleRegistration[\"nsampletypecode\"] = masterData.RealSampleTypeValue?masterData.RealSampleTypeValue.nsampletypecode:1;\r\n    sampleRegistration[\"nregtypecode\"] = masterData.RealRegTypeValue? masterData.RealRegTypeValue.nregtypecode:1;\r\n    sampleRegistration[\"nregsubtypecode\"] = masterData.RealRegSubTypeValue?masterData.RealRegSubTypeValue.nregsubtypecode:1;\r\n    sampleRegistration[\"ndesigntemplatemappingcode\"] = masterData.RealDesignTemplateMappingValue?\r\n    masterData.RealDesignTemplateMappingValue.ndesigntemplatemappingcode:masterData.ndesigntemplatemappingcode;\r\n    sampleRegistration[\"nregsubtypeversioncode\"] = masterData.RealRegSubTypeValue?\r\n    masterData.RealRegSubTypeValue.nregsubtypeversioncode:masterData.nregsubtypeversioncode?masterData.nregsubtypeversioncode:-1;\r\n    sampleRegistration[\"ntemplatemanipulationcode\"] = operation==='update'?masterData.selectedSample.ntemplatemanipulationcode:selectedSpec.ntemplatemanipulationcode;\r\n    sampleRegistration[\"nallottedspeccode\"] =operation==='update'?masterData.selectedSample.nallottedspeccode:selectedSpec.nallottedspeccode.value;\r\n    \r\n    \r\n    if( sampleRegistration[\"nsampletypecode\"]===1){\r\n\r\n        sampleRegistration[\"nproductcatcode\"] =selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product Category')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product Category')]['label']].value : -1;\r\n        sampleRegistration[\"nproductcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Product')]['label']].value : -1;\r\n        sampleRegistration[\"ninstrumentcatcode\"]=-1\r\n        sampleRegistration[\"ninstrumentcode\"]=-1\r\n        sampleRegistration[\"nmaterialcatcode\"]=-1\r\n        sampleRegistration[\"nmaterialcode\"]=-1\r\n    }else if(masterData.RealSampleTypeValue.nsampletypecode===2){\r\n        sampleRegistration[\"ninstrumentcatcode\"] =selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Instrument Category')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Instrument Category')]['label']].value : -1;\r\n        sampleRegistration[\"ninstrumentcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Instrument')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Instrument')]['label']].value : -1;\r\n        sampleRegistration[\"nproductcatcode\"]=-1\r\n        sampleRegistration[\"nproductcode\"]=-1\r\n        sampleRegistration[\"nmaterialcatcode\"]=-1\r\n        sampleRegistration[\"nmaterialcode\"]=-1\r\n    }\r\n    else if(masterData.RealSampleTypeValue.nsampletypecode===3){\r\n        sampleRegistration[\"nmaterialcatcode\"] =selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Material Category')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Material Category')]['label']].value : -1;\r\n        sampleRegistration[\"nmaterialcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Material')]['label']] ? \r\n        selectedRecord[comboComponents[comboComponents.findIndex(x=>x.name==='Material')]['label']].value : -1;\r\n        sampleRegistration[\"nproductcatcode\"]=-1\r\n        sampleRegistration[\"nproductcode\"]=-1\r\n        sampleRegistration[\"ninstrumentcatcode\"]=-1\r\n        sampleRegistration[\"ninstrumentcode\"]=-1\r\n    }\r\n    \r\n    sampleRegistration[\"jsondata\"] = {}\r\n    sampleRegistration[\"jsonuidata\"] = {}\r\n\r\n\r\n    \r\n    templateList && templateList.map(row => {\r\n      return  row.children.map(column => {\r\n           return column.children.map(component => {\r\n                if (component.hasOwnProperty(\"children\")) {\r\n                   return component.children.map(componentrow => {\r\n                        if (componentrow.inputtype === \"combo\") {\r\n                          //  if(componentrow.recordbasedreadonly)\r\n                            sampleRegistration[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                { value: selectedRecord[componentrow.label].value, label: selectedRecord[componentrow.label].label } : -1\r\n                            sampleRegistration[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\"\r\n\r\n                        }\r\n                        else if (componentrow.inputtype === \"date\") {\r\n                            if (componentrow.mandatory) {\r\n                                sampleRegistration[\"jsondata\"][componentrow.label] = typeof selectedRecord[componentrow.label] === \"object\" ?\r\n                                    convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : new Date(), userInfo) : selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : \"\";\r\n\r\n                                sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label]\r\n                            } else {\r\n                                sampleRegistration[\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ?\r\n                                    typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : new Date(), userInfo) : selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : \"\" :\r\n                                    selectedRecord[componentrow.label] ? typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : new Date(), userInfo) : selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : \"\" : \"\";\r\n\r\n                                sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label]\r\n                            }\r\n                            if (componentrow.timezone) {\r\n                                sampleRegistration[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\r\n                                    { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\r\n                                    defaulttimezone ? defaulttimezone : -1\r\n\r\n                                sampleRegistration[\"jsonuidata\"][`tz${componentrow.label}`] = sampleRegistration[\"jsondata\"][`tz${componentrow.label}`]\r\n                            }\r\n                            dateList.push(componentrow.label)\r\n                        }\r\n\r\n                        else {\r\n                            sampleRegistration[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                selectedRecord[componentrow.label] : \"\"\r\n\r\n                            sampleRegistration[\"jsonuidata\"][componentrow.label] = sampleRegistration[\"jsondata\"][componentrow.label]\r\n                        }\r\n                    })\r\n                    return sampleRegistration;\r\n                   \r\n                }\r\n                else {\r\n                    if (component.inputtype === \"combo\") {\r\n                        sampleRegistration[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                            { value: selectedRecord[component.label].value, label: selectedRecord[component.label].label } : -1\r\n\r\n                        sampleRegistration[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\"\r\n                    }\r\n                    else if (component.inputtype === \"date\") {\r\n                        if (component.mandatory) {\r\n                            sampleRegistration[\"jsondata\"][component.label] = typeof selectedRecord[component.label] === \"object\" ?\r\n                                convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : new Date(), userInfo) :\r\n                                selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : \"\";\r\n\r\n                            sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label]\r\n                        } else {\r\n                            sampleRegistration[\"jsondata\"][component.label] = component.loadcurrentdate ?\r\n                                typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : new Date(), userInfo) : selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : \"\" :\r\n                                selectedRecord[component.label] ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : new Date(), userInfo) : selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : \"\" : \"\";\r\n\r\n                            sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label]\r\n                        }\r\n                        if (component.timezone) {\r\n                            sampleRegistration[\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ?\r\n                                { value: selectedRecord[`tz${component.label}`].value, label: selectedRecord[`tz${component.label}`].label } :\r\n                                defaulttimezone ? defaulttimezone : -1\r\n\r\n                            sampleRegistration[\"jsonuidata\"][`tz${component.label}`] = sampleRegistration[\"jsondata\"][`tz${component.label}`]\r\n                        }\r\n                        dateList.push(component.label)\r\n                    }\r\n                    else {\r\n                        sampleRegistration[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                            selectedRecord[component.label] : \"\"\r\n\r\n                        sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label]\r\n                    }\r\n                   return sampleRegistration;\r\n                }\r\n            }\r\n            )\r\n        })\r\n    })\r\n    const param = { sampleRegistration, dateList }\r\n    return param;\r\n}\r\n// export function getComponentListfromUnwantedAttr(Components) {\r\n//     Components.map(component => {\r\n//         // if (component.ncomponentcode !== null && typeof component.ncomponentcode === \"object\") {\r\n//         //     component.ncomponentcode = component.ncomponentcode.value;\r\n//         // }\r\n\r\n//         // component['jsondata']['ssubsamplename'] = component['ssubsamplename'] ? component['ssubsamplename'] : \"\"\r\n//         // component['jsondata']['ssampleqty'] = component['ssampleqty'] ? component['ssampleqty'] : \"\"\r\n//         // component['jsondata']['nunitcode'] = { value: component.nunitcode, label: component.sunitname };\r\n//         // component['jsondata']['scomments'] = component['scomments'] ? component['scomments'] : \"\"\r\n\r\n\r\n//         return component;\r\n//     });\r\n//     return Components;\r\n// }\r\n\r\n\r\nexport function getRegistrationSubSample(selectedRecord,\r\n    templateList, userInfo, defaulttimezone,preRegPopUp,specBasedComponent,selectedSpec,operation) {\r\n    let sampleRegistration = {};\r\n    let dateList = []\r\n   // let dataGridList={}\r\n    // sampleRegistration[\"ntemplatemanipulationcode\"] = selectedSpec.ntemplatemanipulationcode;\r\n    // sampleRegistration[\"nallottedspeccode\"] = selectedSpec.nallottedspeccode.value;\r\n \r\n    sampleRegistration[\"jsondata\"] = {}\r\n    sampleRegistration[\"jsonuidata\"] = {}\r\n    templateList && templateList.map(row => {\r\n       return row.children.map(column => {\r\n           return column.children.map(component => {\r\n                if (component.hasOwnProperty(\"children\")) {\r\n                  //  let componentrowlabel = ''\r\n                   // let componentrowvalue = ''\r\n                  return  component.children.map(componentrow => {\r\n\r\n                        if (componentrow.inputtype === \"combo\") {\r\n                            sampleRegistration[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                { value: selectedRecord[componentrow.label].value, \r\n                                  label: selectedRecord[componentrow.label].label,\r\n                                  pkey: operation && operation==='update'?\r\n                                        selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.pkey\r\n                                        :selectedRecord[componentrow.label].pkey\r\n                                        :selectedRecord[componentrow.label].item.pkey,\r\n                                  nquerybuildertablecode:operation&&operation==='update'?selectedRecord[componentrow.label].item ?selectedRecord[componentrow.label].item.nquerybuildertablecode :selectedRecord[componentrow.label].nquerybuildertablecode :selectedRecord[componentrow.label].item.nquerybuildertablecode,\r\n                                  source:operation&&operation==='update'?selectedRecord[componentrow.label].item?selectedRecord[componentrow.label].item.source: selectedRecord[componentrow.label].source:selectedRecord[componentrow.label].item.source\r\n                                } : -1\r\n\r\n                                sampleRegistration[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label  : \"\"\r\n                            // if (componentrow.mandatory || selectedRecord[componentrow.label]) {\r\n                            //     componentrowlabel = componentrowlabel + '&' + componentrow.label\r\n                            //     componentrowvalue = componentrowvalue + ' ' + selectedRecord[componentrow.label].label\r\n                            // }\r\n\r\n                        }\r\n                        else if (componentrow.inputtype === \"date\") {\r\n                            if (componentrow.mandatory) {\r\n                                sampleRegistration[\"jsondata\"][componentrow.label] = typeof selectedRecord[componentrow.label] === \"object\" ?\r\n                                    convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : new Date(), userInfo) : \r\n                                        (typeof selectedRecord[componentrow.label] === \"number\")?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                            new Date( selectedRecord[componentrow.label])  : new Date(), userInfo)\r\n                                        \r\n                                        :selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : \"\";\r\n\r\n                                        sampleRegistration[\"jsonuidata\"][componentrow.label] =sampleRegistration[\"jsondata\"][componentrow.label]\r\n                            } else {\r\n                                sampleRegistration[\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ?\r\n                                    typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : new Date(), userInfo) : \r\n                                        (typeof selectedRecord[componentrow.label] === \"number\")?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                            new Date( selectedRecord[componentrow.label])  : new Date(), userInfo)\r\n                                       : selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : \"\" :\r\n                                    selectedRecord[componentrow.label] ? typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : new Date(), userInfo) : \r\n                                        (typeof selectedRecord[componentrow.label] === \"number\")?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                            new Date( selectedRecord[componentrow.label])  : new Date(), userInfo)\r\n                                       : selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : \"\" : \"\";\r\n\r\n                                        sampleRegistration[\"jsonuidata\"][componentrow.label] =sampleRegistration[\"jsondata\"][componentrow.label]\r\n                            }\r\n                            if (componentrow.timezone) {\r\n                                sampleRegistration[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\r\n                                    { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\r\n                                    defaulttimezone ? defaulttimezone : -1\r\n\r\n                                    sampleRegistration[\"jsonuidata\"][`tz${componentrow.label}`] =sampleRegistration[\"jsondata\"][`tz${componentrow.label}`]\r\n                            }\r\n                            dateList.push(componentrow.label)\r\n                        }\r\n\r\n                        else {\r\n                            sampleRegistration[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                selectedRecord[componentrow.label] : \"\"\r\n\r\n                                sampleRegistration[\"jsonuidata\"][componentrow.label] =sampleRegistration[\"jsondata\"][componentrow.label]\r\n                            // if (selectedRecord[componentrow.label]) {\r\n                            //     componentrowlabel = componentrowlabel + '&' + componentrow.label\r\n                            //     componentrowvalue = componentrowvalue + ' ' + selectedRecord[componentrow.label]\r\n                            // }\r\n                        }\r\n                        return sampleRegistration;\r\n                    })\r\n                   \r\n                  //  sampleRegistration[\"jsondata\"][componentrowlabel.substring(1)] = componentrowvalue\r\n                }\r\n                else {\r\n                    if (component.inputtype === \"combo\") {\r\n                        sampleRegistration[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                            { value: selectedRecord[component.label].value,\r\n                              label: selectedRecord[component.label].label,\r\n                              pkey: operation&&operation==='update'?selectedRecord[component.label].item?selectedRecord[component.label].item.pkey:selectedRecord[component.label].pkey:selectedRecord[component.label].item.pkey,\r\n                              nquerybuildertablecode:operation&&operation==='update'?selectedRecord[component.label].item ?selectedRecord[component.label].item.nquerybuildertablecode :selectedRecord[component.label].nquerybuildertablecode :selectedRecord[component.label].item.nquerybuildertablecode,\r\n                              source:operation&&operation==='update'?selectedRecord[component.label].item?selectedRecord[component.label].item.source: selectedRecord[component.label].source:selectedRecord[component.label].item.source\r\n                            } : -1\r\n\r\n                            sampleRegistration[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label  : \"\"\r\n                    }\r\n                    else if (component.inputtype === \"date\") {\r\n                        if (component.mandatory) {\r\n                            sampleRegistration[\"jsondata\"][component.label] = typeof selectedRecord[component.label] === \"object\" ?\r\n                                convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : new Date(), userInfo) :\r\n                                    (typeof selectedRecord[component.label] === \"number\")?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            new Date( selectedRecord[component.label])  : new Date(), userInfo)\r\n                                :selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : \"\";\r\n\r\n                                    sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label] \r\n                        } else {\r\n                            sampleRegistration[\"jsondata\"][component.label] = component.loadcurrentdate ?\r\n                                typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : new Date(), userInfo) :\r\n                                    (typeof selectedRecord[component.label] === \"number\")?\r\n                                    convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                        new Date( selectedRecord[component.label])  : new Date(), userInfo)\r\n                                    :selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : \"\" :\r\n                                selectedRecord[component.label] ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : new Date(), userInfo) :\r\n                                    (typeof selectedRecord[component.label] === \"number\")?\r\n                                    convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                        new Date( selectedRecord[component.label])  : new Date(), userInfo)\r\n                                    :selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : \"\" : \"\";\r\n\r\n                                    sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label] \r\n                        }\r\n                        if (component.timezone) {\r\n                            sampleRegistration[\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ?\r\n                                { value: selectedRecord[`tz${component.label}`].value, label: selectedRecord[`tz${component.label}`].label } :\r\n                                defaulttimezone ? defaulttimezone : -1\r\n\r\n                                sampleRegistration[\"jsonuidata\"][`tz${component.label}`]  = sampleRegistration[\"jsondata\"][`tz${component.label}`] \r\n                        }\r\n                        dateList.push(component.label)\r\n                    }\r\n                    else {\r\n                        sampleRegistration[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                            selectedRecord[component.label] : \"\"\r\n\r\n                            sampleRegistration[\"jsonuidata\"][component.label] = sampleRegistration[\"jsondata\"][component.label] \r\n                    }\r\n                    return sampleRegistration;\r\n                }\r\n\r\n            }\r\n            )\r\n        })\r\n    })\r\n    if(preRegPopUp){\r\n        sampleRegistration[\"nallottedspeccode\"] = selectedSpec[\"nallottedspeccode\"] ?selectedSpec[\"nallottedspeccode\"].value : -1;\r\n        if(specBasedComponent){\r\n            sampleRegistration[\"scomponentname\"] = selectedRecord[\"ncomponentcode\"].label;\r\n            sampleRegistration[\"jsonuidata\"][\"scomponentname\"]= sampleRegistration[\"scomponentname\"]\r\n\r\n            sampleRegistration[\"ncomponentcode\"] = selectedRecord[\"ncomponentcode\"] ? selectedRecord[\"ncomponentcode\"].value : -1;\r\n            sampleRegistration[\"nspecsampletypecode\"] = selectedRecord[\"nspecsampletypecode\"] ?selectedRecord[\"nspecsampletypecode\"]  : -1;\r\n        }else{\r\n            sampleRegistration[\"nspecsampletypecode\"] = selectedSpec[\"nallottedspeccode\"] ? selectedSpec[\"nallottedspeccode\"]['item'].nspecsampletypecode : -1;\r\n        }\r\n    }else{\r\n        if(specBasedComponent){\r\n            sampleRegistration[\"scomponentname\"] = selectedRecord[\"ncomponentcode\"].label;\r\n            sampleRegistration[\"jsonuidata\"][\"scomponentname\"]= sampleRegistration[\"scomponentname\"]\r\n\r\n            sampleRegistration[\"ncomponentcode\"] = selectedRecord[\"ncomponentcode\"] ? selectedRecord[\"ncomponentcode\"].value : -1;\r\n            sampleRegistration[\"nspecsampletypecode\"] = selectedRecord[\"nspecsampletypecode\"] ?selectedRecord[\"nspecsampletypecode\"]  : -1;\r\n        }else{\r\n          //  sampleRegistration[\"nspecsampletypecode\"] = selectedRecord[\"nspecsampletypecode\"] ? selectedRecord.nspecsampletypecode : -1;\r\n            sampleRegistration[\"ncomponentcode\"] = selectedRecord[\"ncomponentcode\"] ? selectedRecord[\"ncomponentcode\"] : -1;\r\n        }\r\n    }\r\n    const param = { sampleRegistration, dateList }\r\n    return param;\r\n}\r\nexport function checkTestPresent(Test, Samples) {\r\n\r\n    const filterArray = Samples.filter(function (x) {\r\n        return !Test.some(function (y) {\r\n            return x[\"npreregno\"] === y[\"npreregno\"] && (y[\"ntransactionstatus\"] !== transactionStatus.REJECT && y[\"ntransactionstatus\"] !== transactionStatus.CANCELLED)\r\n        });\r\n    });\r\n    return filterArray.length > 0 ? false : true\r\n}\r\n\r\n// //added by perumalraj on 23/12/2020\r\n// //compare two arrays of object and filter the record which are not present in the second array and vice versa\r\n// export function filterStatusBasedOnTwoArrays(firstArray, secondArray, PrimaryKey) {\r\n\r\n//     const filterArray = firstArray.filter(function (x) {\r\n//         return secondArray.some(function (y) {\r\n//             return x[PrimaryKey] === y[PrimaryKey]\r\n//         })\r\n//     });\r\n//     return filterArray;\r\n// }\r\n\r\nexport function getRegistrationRoutine(selectedRecord) {\r\n\r\n    let sampleRegistrationRoutine = {};\r\n    sampleRegistrationRoutine[\"nclientcode\"] = selectedRecord.nclientcode ? selectedRecord.nclientcode.value : -1;\r\n    sampleRegistrationRoutine[\"nmanufcode\"] = selectedRecord.nmanufcode ? selectedRecord.nmanufcode.value : -1;\r\n    sampleRegistrationRoutine[\"nsuppliercode\"] = selectedRecord.nsuppliercode ? selectedRecord.nsuppliercode.value : -1;\r\n    sampleRegistrationRoutine[\"ssamplecondition\"] = selectedRecord.ssamplecondition ? selectedRecord.ssamplecondition : '';\r\n    sampleRegistrationRoutine[\"nstorageconditioncode\"] = selectedRecord.nstorageconditioncode ? selectedRecord.nstorageconditioncode.value : -1;\r\n    sampleRegistrationRoutine[\"dreceiveddate\"] = selectedRecord[\"dreceiveddate\"] ? formatInputDate(selectedRecord[\"dreceiveddate\"], false) : 'null';\r\n    sampleRegistrationRoutine[\"sreceiveddate\"] = selectedRecord[\"dreceiveddate\"] ? formatInputDate(selectedRecord[\"dreceiveddate\"], false) : 'null';\r\n    sampleRegistrationRoutine[\"ntzdreceivedate\"] = selectedRecord.ntzdreceivedate ? selectedRecord.ntzdreceivedate.value : -1;\r\n    sampleRegistrationRoutine[\"stzdreceivedate\"] = selectedRecord.stzdreceivedate ? selectedRecord.stzdreceivedate.label : -1;\r\n    sampleRegistrationRoutine[\"ncontainertypecode\"] = selectedRecord.ncontainertypecode ? selectedRecord.ncontainertypecode.value : -1;\r\n    sampleRegistrationRoutine[\"sourfile\"] = selectedRecord.sourfile ? selectedRecord.sourfile : '';\r\n    sampleRegistrationRoutine[\"sbatchno\"] = selectedRecord.sbatchno ? selectedRecord.sbatchno : '';\r\n    sampleRegistrationRoutine[\"slotno\"] = selectedRecord.slotno ? selectedRecord.slotno : '';\r\n    sampleRegistrationRoutine[\"ndisposition\"] = selectedRecord.ndisposition ? selectedRecord.ndisposition.value : -1;\r\n    sampleRegistrationRoutine[\"stotalqty\"] = selectedRecord.stotalqty ? selectedRecord.stotalqty : '0';\r\n    sampleRegistrationRoutine[\"ntotalunitcode\"] = selectedRecord.ntotalunitcode ? selectedRecord.ntotalunitcode.value : -1;\r\n    sampleRegistrationRoutine[\"npriority\"] = selectedRecord.npriority ? selectedRecord.npriority.value : -1;\r\n    sampleRegistrationRoutine[\"sdeadline\"] = selectedRecord.sdeadline ? selectedRecord.sdeadline : '0';\r\n    sampleRegistrationRoutine[\"nperiodconfigcode\"] = selectedRecord.nperiodconfigcode ? selectedRecord.nperiodconfigcode.value : -1;\r\n    sampleRegistrationRoutine[\"sremarks\"] = selectedRecord.sremarks ? selectedRecord.sremarks : null;\r\n    sampleRegistrationRoutine[\"sreportremarks\"] = selectedRecord.sreportremarks ? selectedRecord.sreportremarks : null;\r\n    sampleRegistrationRoutine[\"sdeviationcomments\"] = selectedRecord.sdeviationcomments ? selectedRecord.sdeviationcomments : null;\r\n\r\n    return sampleRegistrationRoutine;\r\n}"]},"metadata":{},"sourceType":"module"}