{"ast":null,"code":"import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import{initRequest}from'./LoginAction';import{sortData,constructOptionList,parentChildComboLoad,rearrangeDateFormat,ageCalculate,comboChild,validateEmail,getSameRecordFromTwoArrays,removeIndex}from'../components/CommonScript';import{getcomponentdata,getValidComponent,replaceChildFromChildren}from'../components/droparea/helpers';import{designComponents,ReactComponents,SampleType,transactionStatus}from'../components/Enumeration';import Axios from'axios';import{getTreeByProduct,preRegDispatch}from'./RegistrationAction';import{faShareAltSquare}from'@fortawesome/free-solid-svg-icons';import{intl}from'../components/App';export function getReactInputFields(userinfo,operation,respObj,ncontrolCode){return function(dispatch){dispatch(initRequest(true));var listURL=[];listURL[0]=rsapi.post(\"dynamicpreregdesign/getReactComponents\",{userinfo:userinfo});listURL[1]=rsapi.post(\"dynamicpreregdesign/getReactInputFields\",{userinfo:userinfo});listURL[2]=rsapi.post(\"registrationsubtype/getPeriods\",{userinfo:userinfo});listURL[3]=rsapi.post(\"dynamicpreregdesign/getReactStaticFilterTables\",{userinfo:userinfo});Axios.all(listURL).then(function(response){respObj=respObj?_objectSpread({},respObj):{};dispatch({type:DEFAULT_RETURN,payload:_objectSpread({ReactInputFields:response[1].data,ReactComponents:response[0].data.components,Period:constructOptionList(response[2].data,'nperiodcode','speriodname').get(\"OptionList\"),ReactTables:constructOptionList(response[0].data.tables,'nquerybuildertablecode','sdisplayname').get(\"OptionList\"),staticfiltertables:constructOptionList(response[3].data,'nquerybuilderstaticfiltercode','displayname').get(\"OptionList\"),selectedFieldRecord:{},openModal:false,loading:false,openPortal:true,operation:operation,showFilter:false,ncontrolcode:ncontrolCode},respObj)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function selectRegistrationTemplate(template,masterData,userinfo){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"dynamicpreregdesign/getRegistrationTemplateById\",{nreactregtemplatecode:template.nreactregtemplatecode,userinfo:userinfo}).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},masterData),{},{selectedTemplate:response.data}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getRegistrationTemplate(selectedSampleType,masterData,userinfo){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"dynamicpreregdesign/getDynamicPreRegDesign\",{nsampletypecode:selectedSampleType.value,userinfo:userinfo}).then(function(response){masterData=_objectSpread(_objectSpread(_objectSpread({},masterData),response.data),{},{searchedData:undefined});sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,realSampleType:[{\"label\":\"IDS_SAMPLETYPE\",\"value\":selectedSampleType.label,\"item\":selectedSampleType}],loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getEditRegTemplate(masterData,userinfo,editId){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"dynamicpreregdesign/getRegistrationTemplateById\",{nreactregtemplatecode:masterData.selectedTemplate.nreactregtemplatecode,userinfo:userinfo}).then(function(response){if(response.data.ntransactionstatus===transactionStatus.DRAFT){var jsonData=response.data.jsondata;sortData(masterData);var respObj={masterData:masterData,ncontrolcode:editId,openPortal:true,loading:false,openModal:false,design:jsonData,selectedRecord:{templateName:response.data.sregtemplatename}};// dispatch({\n//     type: DEFAULT_RETURN,\n//     payload: {\n//         masterData,\n//         ncontrolcode: editId,\n//         // openPortal: true,\n//         // loading: false,\n//         design: jsonData,\n//         selectedRecord: { templateName: response.data.sregtemplatename }\n//     }\n// })\ndispatch(getReactInputFields(userinfo,\"update\",respObj));}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,masterStatus:\"IDS_SELECTDRAFTRECORD\"}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getJsonValue(PGjsonData){if(Array.isArray(PGjsonData)){var JSONData=[];PGjsonData.map(function(data){return JSONData.push(JSON.parse(data.jsondata));});return JSONData;}else{return JSON.parse(PGjsonData);}}export function getTableColumns(design,selectedFieldRecord,stablename,userinfo,path,columnInfo,componentData,updateComponents,showFilter){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"dynamicpreregdesign/getTableColumns\",{\"nquerybuildertablecode\":stablename||0,userinfo:userinfo}).then(function(response){columnInfo=columnInfo||{};var staicColumns=response.data.jstaticcolumns||[];var dynamicColumns=response.data.jdynamiccolumns||[];var multilingualColumns=response.data.jmultilingualcolumn||[];var numericColumns=response.data.jnumericcolumns||[];var primaryKeyName=response.data.sprimarykeyname;columnInfo=_objectSpread(_objectSpread({},columnInfo),{},_defineProperty({},stablename,{staicColumns:staicColumns,dynamicColumns:dynamicColumns,multilingualColumns:multilingualColumns,numericColumns:numericColumns,primaryKeyName:primaryKeyName}));var defaultColumn={};var comboData=[];var filterColumns=[];//  let selectedComponentpath=componentData.selectedComponentpath\nstaicColumns.map(function(item){comboData.push({label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"static\",item:item});if(item.default){defaultColumn={label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"static\",item:item};}});dynamicColumns.map(function(item){comboData.push({label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"dynamic\",item:item});if(item.default){defaultColumn={label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"dynamic\",item:item};}});multilingualColumns.map(function(item){comboData.push({label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"static\",item:item});if(item.default){defaultColumn={label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"static\",item:item};}});filterColumns=[].concat(comboData);numericColumns.map(function(item){filterColumns.push({label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.tablecolumnname,type:\"numeric\",item:item});});if(defaultColumn.item&&defaultColumn.item.ismultilingual){selectedFieldRecord['isMultiLingual']=true;}if(updateComponents){componentData=componentData||{};selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{column:defaultColumn,displaymember:defaultColumn.value,valuemember:primaryKeyName});design=replaceChildFromChildren(design,path,selectedFieldRecord);if(selectedFieldRecord.componentcode!==ReactComponents.COMBO&&selectedFieldRecord.componentcode!==ReactComponents.FRONTENDSEARCHFILTER&&selectedFieldRecord.componentcode!==ReactComponents.BACKENDSEARCHFILTER){var validComponents=getValidComponent(selectedFieldRecord,componentData.components,columnInfo);componentData=_objectSpread(_objectSpread({},componentData),{},{validComponents:validComponents});}}else if(componentData===undefined||componentData.components===undefined){componentData=componentData||{};if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{filterfields:[_objectSpread({type:defaultColumn.type},defaultColumn.item)],customsearchfilter:[defaultColumn],displaymember:defaultColumn.value,valuemember:primaryKeyName});}else{selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{column:defaultColumn,displaymember:defaultColumn.value,valuemember:primaryKeyName});}design=replaceChildFromChildren(design,path,selectedFieldRecord);if(selectedFieldRecord.componentcode!==ReactComponents.COMBO&&selectedFieldRecord.componentcode!==ReactComponents.FRONTENDSEARCHFILTER&&selectedFieldRecord.componentcode!==ReactComponents.BACKENDSEARCHFILTER){var _validComponents=getValidComponent(selectedFieldRecord,componentData.components,columnInfo);componentData=_objectSpread(_objectSpread({},componentData),{},{validComponents:_validComponents});}}else{var _validComponents2=getValidComponent(selectedFieldRecord,componentData.components,columnInfo);var parentRadioValue=[];if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){if(selectedFieldRecord.parentPath){var oldParentData=getcomponentdata(design,selectedFieldRecord.parentPath.split(\"-\"));if(oldParentData.hasOwnProperty('child')){oldParentData.child.map(function(item){if(item.label===selectedFieldRecord.label){parentRadioValue=oldParentData.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});}});}}}componentData=_objectSpread(_objectSpread({},componentData),{},{validComponents:_validComponents2,parentRadioValue:parentRadioValue});}columnInfo=_objectSpread(_objectSpread({},columnInfo),{},_defineProperty({},stablename,_objectSpread(_objectSpread({},columnInfo[stablename]),{},{tableColumn:comboData,filterColumns:filterColumns})));var optionalPayload={selectedComponentpath:Array.isArray(path)?path.join(\"-\"):undefined};dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread(_objectSpread({loading:false,design:design,// selectedComponentpath,\nselectedFieldRecord:selectedFieldRecord},optionalPayload),{},{tableColumn:comboData,filterColumns:filterColumns,columnInfo:columnInfo,primaryKeyName:primaryKeyName,selectedComponentpath:componentData.path},componentData),{},{showFilter:showFilter})});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getForeignTableData(design,selectedFieldRecord,stablename,userinfo,path,columnInfo,componentData,updateComponents){return function(dispatch){var parentcolumnlist=[{source:selectedFieldRecord.filtercolumn.item.foriegntablename,valuemember:selectedFieldRecord.filtercolumn.item.foriegntablePK,displaymember:selectedFieldRecord.filtercolumn.item.columnname,conditionstring:selectedFieldRecord.filtercolumn.item.conditionstring,label:\"filterData\",inputtype:\"combo\",isMultiLingual:selectedFieldRecord.filtercolumn.item.ismultilingual}];rsapi.post(\"dynamicpreregdesign/getComboValues\",{parentcolumnlist:parentcolumnlist,userinfo:userinfo}).then(function(response){var comboData=[];var selectedRecord={};var newcomboData=parentChildComboLoad(parentcolumnlist,response.data,selectedRecord,[],[],undefined,userinfo.slanguagetypecode,userinfo);// sortData(masterData)\nvar comboData1=newcomboData.comboData;var selectedRecord1=newcomboData.selectedRecord;if(updateComponents){componentData=componentData||{};// selectedFieldRecord = { ...selectedFieldRecord };\ndesign=replaceChildFromChildren(design,path,selectedFieldRecord);if(selectedFieldRecord.componentcode!==ReactComponents.COMBO){var validComponents=getValidComponent(selectedFieldRecord,componentData.components,columnInfo);componentData=_objectSpread(_objectSpread({},componentData),{},{validComponents:validComponents});}}dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({loading:false,design:design,selectedFieldRecord:selectedFieldRecord,masterDataValue:comboData,columnInfo:columnInfo},componentData),comboData1)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getPreviewTemplate(masterData,userinfo,editId,columnList,selectedRecord,childColumnList,comboComponents,withoutCombocomponent,openPortal,openModal,mapOfFilterRegData,preview,operation,screenName){return function(dispatch){dispatch(initRequest(true));var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var actualService=rsapi.post(\"dynamicpreregdesign/getComboValues\",{parentcolumnlist:columnList?columnList:[],childcolumnlist:childColumnList?childColumnList:[],userinfo:userinfo});var dateService=rsapi.post(\"dynamicpreregdesign/dateValidation\",{datecolumnlist:withoutCombocomponent.filter(function(x){return x.inputtype===\"date\";}),userinfo:userinfo});var currentDate=rsapi.post(\"timezone/getLocalTimeByZone\",{userinfo:userinfo});Axios.all([timeZoneService,actualService,dateService,currentDate]).then(function(response){var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:userinfo.stimezoneid,value:userinfo.ntimezonecode};var newcomboData=parentChildComboLoad(columnList,response[1].data,selectedRecord,childColumnList,withoutCombocomponent,undefined,userinfo.slanguagetypecode,userinfo);// sortData(masterData)\nvar comboData1=newcomboData.comboData;var selectedRecord1=newcomboData.selectedRecord;withoutCombocomponent.map(function(componentrow){if(componentrow.inputtype===\"date\"){//  if (componentrow.mandatory) {\nif(componentrow.loadcurrentdate){selectedRecord1[componentrow.label]=componentrow.loadcurrentdate?rearrangeDateFormat(userinfo,response[3].data):\"\";if(masterData.selectedTemplate&&masterData.selectedTemplate.nsampletypecode===SampleType.CLINICALTYPE){var Age=withoutCombocomponent.filter(function(item){return item.name===\"Age\";});selectedRecord[Age[0].label]=ageCalculate(selectedRecord1[componentrow.label]);}selectedRecord1[componentrow.label+\"value\"]=selectedRecord1[componentrow.label];}else if(componentrow.nperiodcode){selectedRecord1[componentrow.label+\"value\"]=response[2].data[componentrow.label]?new Date(response[2].data[componentrow.label][\"datevalue\"]):null;if(componentrow.loadselecteddate){selectedRecord1[componentrow.label]=response[2].data[componentrow.label]?new Date(response[2].data[componentrow.label][\"datevalue\"]):null;}//    selectedRecord1[componentrow.label]=response[2].data[componentrow.label]?\n//    new Date(response[2].data[componentrow.label]):null;\n}else{selectedRecord1[componentrow.label+\"value\"]=new Date();}if(componentrow.hidebeforedate){selectedRecord1[componentrow.label+\"min\"]=selectedRecord1[componentrow.label+\"value\"];}if(componentrow.hideafterdate){selectedRecord1[componentrow.label+\"max\"]=selectedRecord1[componentrow.label+\"value\"];}// }else{\n//     selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? new Date() : \"\";\n// }\n// if (componentrow.timezone) {\n//     sampleRegistration[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\n//         { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\n//         defaulttimezone ? defaulttimezone : -1\n// }\n}else if(componentrow.inputtype===\"radio\"){selectedRecord1[componentrow.label]=componentrow.radioOptions?componentrow.radioOptions.tags[0].text:\"\";}});//console.log(\"selectedRecord1 action1:\", selectedRecord1);\nif(preview){dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:comboData1,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,screenName:screenName,operation:\"preview\"// childOperation:true\n}});}else{if(mapOfFilterRegData.nsampletypecode===SampleType.PRODUCT){var ProductCategory=comboComponents.filter(function(x){return x.name==='Product Category';});if(ProductCategory.length>0){var nproductcatcode=selectedRecord1[ProductCategory[0].label]&&selectedRecord1[ProductCategory[0].label].value;var ncategorybasedFlow=selectedRecord1[ProductCategory[0].label]&&selectedRecord1[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(mapOfFilterRegData.sampletypecategorybasedflow===transactionStatus.YES){ncategorybasedFlow=transactionStatus.YES;}if(ncategorybasedFlow!==undefined){if(ncategorybasedFlow===transactionStatus.YES){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=nproductcatcode;var inputParam={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,inputParam));}else{var Product=comboComponents.filter(function(x){return x.name==='Product';});if(Product.length>0){var nproductcode=selectedRecord1[Product[0].label]&&selectedRecord1[Product[0].label].value;mapOfFilterRegData['nproductcode']=nproductcode!==undefined?nproductcode:-1;mapOfFilterRegData['nproductcatcode']=nproductcatcode;var _inputParam={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam));}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam2={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam2));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam3={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam3));}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam4={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};//console.log(\"selectedRecord1 action2:\", selectedRecord1);\ndispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam4));}}else if(mapOfFilterRegData.nsampletypecode===SampleType.INSTRUMENT){var InstrumentCategory=comboComponents.filter(function(x){return x.name==='Instrument Category';});if(InstrumentCategory.length>0){var ninstrumentcatcode=selectedRecord1[InstrumentCategory[0].label]&&selectedRecord1[InstrumentCategory[0].label].value;var _ncategorybasedFlow=selectedRecord1[InstrumentCategory[0].label]&&selectedRecord1[InstrumentCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(mapOfFilterRegData.sampletypecategorybasedflow===transactionStatus.YES){_ncategorybasedFlow=transactionStatus.YES;}if(_ncategorybasedFlow!==undefined){if(_ncategorybasedFlow===transactionStatus.YES){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=ninstrumentcatcode;var _inputParam5={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam5));}else{var Instrument=comboComponents.filter(function(x){return x.name==='Instrument';});if(Instrument.length>0){var ninstrumentcode=selectedRecord1[Instrument[0].label]&&selectedRecord1[Instrument[0].label].value;mapOfFilterRegData['nproductcode']=ninstrumentcode!==undefined?ninstrumentcode:-1;mapOfFilterRegData['nproductcatcode']=ninstrumentcatcode;var _inputParam6={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam6));}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam7={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam7));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam8={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam8));}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam9={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam9));}}else if(mapOfFilterRegData.nsampletypecode===SampleType.MATERIAL){var MaterialType=comboComponents.filter(function(x){return x.name==='Material Type';});if(MaterialType.length>0){var nmaterialtypecode=selectedRecord1[MaterialType[0].label]&&selectedRecord1[MaterialType[0].label].value;if(nmaterialtypecode!==undefined){var MaterialCategory=comboComponents.filter(function(x){return x.name==='Material Category';});if(MaterialCategory.length>0){var nmaterialcatcode=selectedRecord1[MaterialCategory[0].label]&&selectedRecord1[MaterialCategory[0].label].value;var _ncategorybasedFlow2=selectedRecord1[MaterialCategory[0].label]&&selectedRecord1[MaterialCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(mapOfFilterRegData.sampletypecategorybasedflow===transactionStatus.YES){_ncategorybasedFlow2=transactionStatus.YES;}if(_ncategorybasedFlow2!==undefined){if(_ncategorybasedFlow2===transactionStatus.YES){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=nmaterialcatcode;var _inputParam10={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam10));}else{var Material=comboComponents.filter(function(x){return x.name==='Material';});if(Material.length>0){var nmaterialcode=selectedRecord1[Material[0].label]&&selectedRecord1[Material[0].label].value;mapOfFilterRegData['nproductcode']=nmaterialcode!==undefined?nmaterialcode:-1;mapOfFilterRegData['nproductcatcode']=nmaterialcatcode;var _inputParam11={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam11));}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam12={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam12));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam13={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam13));}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam14={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam14));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam15={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam15));}}else if(mapOfFilterRegData.nsampletypecode===SampleType.CLINICALTYPE){var _ProductCategory=comboComponents.filter(function(x){return x.name==='Product Category';});var dateComp=withoutCombocomponent.filter(function(item){return item.name===\"Date Of Birth\";});if(dateComp[0].label!==undefined){var ageComp=withoutCombocomponent.filter(function(item){return item.name===\"Age\";});var age=ageCalculate(selectedRecord1[dateComp[0].label]);selectedRecord1[ageComp[0].label]=age;}if(_ProductCategory.length>0){var _nproductcatcode=selectedRecord1[_ProductCategory[0].label]?selectedRecord1[_ProductCategory[0].label].value:-1;var _ncategorybasedFlow3=selectedRecord1[_ProductCategory[0].label]?selectedRecord1[_ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow']:undefined;if(mapOfFilterRegData.sampletypecategorybasedflow===transactionStatus.YES){_ncategorybasedFlow3=transactionStatus.YES;}if(_ncategorybasedFlow3!==undefined){if(_ncategorybasedFlow3===transactionStatus.YES){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=_nproductcatcode;var _inputParam16={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam16));}else{var _Product=comboComponents.filter(function(x){return x.name==='Product';});if(_Product.length>0){var _nproductcode=selectedRecord1[_Product[0].label]&&selectedRecord1[_Product[0].label].value;mapOfFilterRegData['nproductcode']=_nproductcode!==undefined?_nproductcode:-1;mapOfFilterRegData['nproductcatcode']=_nproductcatcode;var _inputParam17={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam17));}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam18={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam18));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam19={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam19));}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;var _inputParam20={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};//console.log(\"selectedRecord1 action2:\", selectedRecord1);\ndispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam20));}}else if(mapOfFilterRegData.nsampletypecode===SampleType.PROJECTSAMPLETYPE){var _ProductCategory2=comboComponents.filter(function(x){return x.name==='Product Category';});var project=comboComponents.filter(function(x){return x.name==='Project Code';});var nprojectMasterCode=-1;if(project&&project.length>0&&mapOfFilterRegData['nprojectSpecReqd']==transactionStatus.YES){nprojectMasterCode=selectedRecord1[project[0].label]&&selectedRecord1[project[0].label].value;}if(_ProductCategory2.length>0){var _nproductcatcode2=selectedRecord1[_ProductCategory2[0].label]&&selectedRecord1[_ProductCategory2[0].label].value;var _ncategorybasedFlow4=selectedRecord1[_ProductCategory2[0].label]&&selectedRecord1[_ProductCategory2[0].label]['item']['jsondata']['ncategorybasedflow'];if(mapOfFilterRegData.sampletypecategorybasedflow===transactionStatus.YES){_ncategorybasedFlow4=transactionStatus.YES;}if(_ncategorybasedFlow4!==undefined){if(_ncategorybasedFlow4===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=_nproductcatcode2;mapOfFilterRegData['nprojectmastercode']=nprojectMasterCode||-1;var _inputParam21={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam21));}else{var _Product2=comboComponents.filter(function(x){return x.name==='Product';});if(_Product2.length>0){var _nproductcode2=selectedRecord1[_Product2[0].label]&&selectedRecord1[_Product2[0].label].value;mapOfFilterRegData['nproductcode']=_nproductcode2!==undefined?_nproductcode2:-1;mapOfFilterRegData['nproductcatcode']=_nproductcatcode2;mapOfFilterRegData['nprojectmastercode']=nprojectMasterCode||-1;var _inputParam22={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName// loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam22));}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;mapOfFilterRegData['nprojectmastercode']=nprojectMasterCode||-1;var _inputParam23={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam23));}}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;mapOfFilterRegData['nprojectmastercode']=nprojectMasterCode||-1;var _inputParam24={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam24));}}else{mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=-1;mapOfFilterRegData['nprojectmastercode']=nprojectMasterCode||-1;var _inputParam25={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName//loadPreregister:true\n};//console.log(\"selectedRecord1 action2:\", selectedRecord1);\ndispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam25));}}}}).catch(function(error){//console.log(\"error:\", error);\ndispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getChildValues(inputParem,userinfo,selectedRecord,comboData,parentcolumnlist,childcolumnlist,withoutCombocomponent,parentListWithReadonly,productCategory,product,mapOfRegFilterData,instrumentCategory,instrument,materialCategory,material,materialType,subsample,project){return function(dispatch){var _rsapi$post;dispatch(initRequest(true));rsapi.post('dynamicpreregdesign/getChildValues',(_rsapi$post={child:inputParem.child,parentdata:inputParem.item.jsondata,parentsource:inputParem.source},_defineProperty(_rsapi$post,inputParem.primarykeyField,inputParem.value),_defineProperty(_rsapi$post,\"valuemember\",inputParem.primarykeyField),_defineProperty(_rsapi$post,\"childcolumnlist\",childcolumnlist),_defineProperty(_rsapi$post,\"userinfo\",userinfo),_defineProperty(_rsapi$post,\"parentcolumnlist\",parentcolumnlist),_rsapi$post)).then(function(response){var returnObj=_objectSpread(_objectSpread({},comboData),response.data);returnObj=parentChildComboLoad(parentListWithReadonly,returnObj,selectedRecord,childcolumnlist,withoutCombocomponent,inputParem,userinfo.slanguagetypecode,userinfo);selectedRecord=_objectSpread(_objectSpread({},selectedRecord),returnObj.selectedRecord);if(subsample){dispatch({type:DEFAULT_RETURN,payload:{loading:false,SubSamplecomboData:_objectSpread({},returnObj.comboData),selectComponent:selectedRecord,screenName:inputParem.screenName,selectedMaster:[],addMaster:false,selectedControl:[],masterComboColumnFiled:[],masterDesign:[],masterextractedColumnList:[],masterfieldList:[],masterdataList:[],mastercomboComponents:[],masterwithoutCombocomponent:[],masterIndex:undefined}});}else if(project){dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else if(productCategory){dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else if(product){if(selectedRecord[inputParem.nameofdefaultcomp===\"Product\"?inputParem.label:inputParem.ProductName]){mapOfRegFilterData[\"nproductcode\"]=selectedRecord[inputParem.nameofdefaultcomp===\"Product\"?inputParem.label:inputParem.ProductName]?selectedRecord[inputParem.nameofdefaultcomp===\"Product\"?inputParem.label:inputParem.ProductName].value:-1;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[],selectedMaster:[],subSampleDataGridList:[]}});}}else if(instrumentCategory){dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else if(materialCategory){dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else if(instrument){if(selectedRecord[inputParem.nameofdefaultcomp===\"Instrument\"?inputParem.label:inputParem.InstrumentName]){mapOfRegFilterData[\"nproductcode\"]=selectedRecord[inputParem.nameofdefaultcomp===\"Instrument\"?inputParem.label:inputParem.InstrumentName]?selectedRecord[inputParem.nameofdefaultcomp===\"Instrument\"?inputParem.label:inputParem.InstrumentName].value:-1;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[],selectedMaster:[],addMaster:false}});}}else if(material){if(selectedRecord[inputParem.nameofdefaultcomp===\"Material\"?inputParem.label:inputParem.MaterialName]){mapOfRegFilterData[\"nproductcode\"]=selectedRecord[inputParem.nameofdefaultcomp===\"Material\"?inputParem.label:inputParem.MaterialName]?selectedRecord[inputParem.nameofdefaultcomp===\"Material\"?inputParem.label:inputParem.MaterialName].value:-1;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[],selectedMaster:[],addMaster:false}});}}else if(materialType){if(selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialCategoryName:inputParem.label]){var _productCategory=selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialCategoryName:inputParem.label]?selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialCategoryName:inputParem.label]:undefined;//  mapOfRegFilterData[\"nproductcatcode\"]\nif(_productCategory!==undefined){if(_productCategory.item.ncategorybasedflow===3){mapOfRegFilterData[\"nproductcatcode\"]=_productCategory.value;mapOfRegFilterData[\"nproductcode\"]=-1;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{var _product=selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialName:inputParem.label]?selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialName:inputParem.label]:undefined;if(_product!==undefined){mapOfRegFilterData[\"nproductcatcode\"]=_productCategory.value;mapOfRegFilterData[\"nproductcode\"]=_product.value;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{var _product2=selectedRecord[inputParem.nameofdefaultcomp===\"MaterialType\"?inputParem.MaterialName:inputParem.label]?selectedRecord[inputParem.nameofdefaultcomp===\"MaterialType\"?inputParem.MaterialName:inputParem.label]:undefined;if(_product2!==undefined){mapOfRegFilterData[\"nproductcatcode\"]=_productCategory.value;mapOfRegFilterData[\"nproductcode\"]=_product2.value;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[],selectedMaster:[],addMaster:false}});}}}}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[],selectedMaster:[],addMaster:false}});}}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[],selectedMaster:[],addMaster:false}});}}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,selectedMaster:[],addMaster:false,selectedControl:[],masterComboColumnFiled:[],masterDesign:[],masterextractedColumnList:[],masterfieldList:[],masterdataList:[],mastercomboComponents:[],masterwithoutCombocomponent:[],masterIndex:undefined,screenName:inputParem.screenName}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function validatePreview(inputParam){return function(dispatch){rsapi.post(\"dynamicpreregdesign/validatePreview\",_objectSpread({},inputParam)).then(function(response){if(response.data.rtn===\"Success\"){toast.info(intl.formatMessage({id:\"IDS_SUCCESSFULLYVALIDATE\"}));dispatch({type:DEFAULT_RETURN,payload:{loading:false}});}else{toast.warn(response.data.rtn);dispatch({type:DEFAULT_RETURN,payload:{loading:false,showConfirmAlert:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function addMasterRecord(inputParam){return function(dispatch){rsapi.post(inputParam.classUrl+\"/\"+inputParam.operation+inputParam.methodUrl,_objectSpread({},inputParam.inputData)).then(function(response){if(response.status===202){//HttpStatus:Accepted\n//Use this block when u need to display any success message\ndispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.success(response.data);}else if(response.status===208){//HttpStatus:Accepted\n//208-Already Reported\ndispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.warn(response.data);}else{var masterIndex=inputParam.masterIndex;var data=[];var data1=sortData(response.data);if(inputParam.selectedControl[masterIndex].table.item.component==='Dynamic'){data=constructOptionList(data1.DynamicMasterData,inputParam.selectedControl[masterIndex].valuemember,inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\");}else if(inputParam.selectedControl[masterIndex].table.item.nformcode===137){data=constructOptionList(data1.PatientList,inputParam.selectedControl[masterIndex].valuemember,inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\");}else{data=constructOptionList(data1,inputParam.selectedControl[masterIndex].valuemember,inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\");}var newdata=data.map(function(item1,index){item1=_objectSpread(_objectSpread({},item1),{},{item:{jsondata:_objectSpread(_objectSpread({},item1.item),{},{jsondata:_objectSpread({},item1.item)})}});return item1;});if(masterIndex===0){var selectedRecord=inputParam.selectedRecord||{};var selectedControl=inputParam.selectedControl||{};var comboData1=_objectSpread(_objectSpread({},newdata[0]),{},{item:_objectSpread(_objectSpread({},newdata[0].item),{},{\"pkey\":selectedControl[masterIndex].valuemember,\"nquerybuildertablecode\":selectedControl[masterIndex].nquerybuildertablecode,\"source\":selectedControl[masterIndex].source})});selectedRecord[selectedControl[masterIndex].label]=comboData1;var comboData=inputParam.comboData;comboData[selectedControl[masterIndex].label]=newdata;if(selectedControl[masterIndex].child&&selectedControl[masterIndex].child.length>0){var childComboList=getSameRecordFromTwoArrays(inputParam.comboComponents,selectedControl[masterIndex].child,\"label\");var childColumnList={};childComboList.map(function(columnList){var val=comboChild(inputParam.comboComponents,columnList,childColumnList,false);childColumnList=val.childColumnList;});var parentList=getSameRecordFromTwoArrays(inputParam.withoutCombocomponent,selectedControl[masterIndex].child,\"label\");var inputParem={child:selectedControl[masterIndex].child,source:selectedControl[masterIndex].source,primarykeyField:selectedControl[masterIndex].valuemember,value:comboData1.value,item:comboData1.item,screenName:inputParam.screenName};if(inputParam.loadSubSample){dispatch(getChildValues(inputParem,inputParam.inputData.userinfo,selectedRecord,comboData,childComboList,childColumnList,inputParam.withoutCombocomponent,[].concat(_toConsumableArray(childComboList),_toConsumableArray(parentList)),false,false,{},false,false,false,false,false,true,false));}else{dispatch(getChildValues(inputParem,inputParam.inputData.userinfo,selectedRecord,comboData,childComboList,childColumnList,inputParam.withoutCombocomponent,[].concat(_toConsumableArray(childComboList),_toConsumableArray(parentList))));}}else{var _payload;dispatch({type:DEFAULT_RETURN,payload:(_payload={loading:false,addMaster:false},_defineProperty(_payload,inputParam.comboName,comboData),_defineProperty(_payload,\"selectedMaster\",[]),_defineProperty(_payload,inputParam.selectedRecordName,selectedRecord),_defineProperty(_payload,\"screenName\",inputParam.screenName),_defineProperty(_payload,\"masterIndex\",undefined),_payload)});}}else{var selectedMaster=inputParam.selectedMaster||[];var _selectedControl=inputParam.selectedControl||[];var _comboData=_objectSpread(_objectSpread({},newdata[0]),{},{item:_objectSpread(_objectSpread({},newdata[0].item),{},{\"pkey\":_selectedControl[masterIndex].valuemember,\"nquerybuildertablecode\":_selectedControl[masterIndex].nquerybuildertablecode,\"source\":_selectedControl[masterIndex].source})});selectedMaster[masterIndex-1][_selectedControl[masterIndex].label]=_comboData;// const comboData = inputParam.comboData\n// comboData[selectedControl[masterIndex].label] = newdata\nvar masterdataList=inputParam.masterdataList||[];masterdataList[masterIndex-1]=_objectSpread(_objectSpread({},masterdataList[masterIndex-1]),{},_defineProperty({},_selectedControl[masterIndex].label,newdata));if(_selectedControl[masterIndex].child&&_selectedControl[masterIndex].child.length>0){var _childComboList=getSameRecordFromTwoArrays(inputParam.mastercomboComponents[masterIndex-1],_selectedControl[masterIndex].child,\"label\");var _childColumnList={};_childComboList.map(function(columnList){var val=comboChild(inputParam.mastercomboComponents[masterIndex-1],columnList,_childColumnList,false);_childColumnList=val.childColumnList;});var _parentList=getSameRecordFromTwoArrays(inputParam.masterwithoutCombocomponent[masterIndex-1],_selectedControl[masterIndex].child,\"label\");var _inputParem={child:_selectedControl[masterIndex].child,source:_selectedControl[masterIndex].source,primarykeyField:_selectedControl[masterIndex].valuemember,value:_comboData.value,item:_comboData.item,screenName:inputParam.screenName};dispatch(getChildValuesForMasterAdd(_inputParem,inputParam.inputData.userinfo,selectedMaster,inputParam.masterdataList,_childComboList,_childColumnList,inputParam.masterwithoutCombocomponent,[].concat(_toConsumableArray(_childComboList),_toConsumableArray(_parentList)),masterIndex,inputParam));}else{_selectedControl=_selectedControl&&removeIndex(_selectedControl,masterIndex);selectedMaster=selectedMaster&&removeIndex(selectedMaster,masterIndex);var mastercomboComponents=inputParam.mastercomboComponents&&removeIndex(inputParam.mastercomboComponents,masterIndex);var masterwithoutCombocomponent=inputParam.masterwithoutCombocomponent&&removeIndex(inputParam.masterwithoutCombocomponent,masterIndex);var masterComboColumnFiled=inputParam.masterComboColumnFiled&&removeIndex(inputParam.masterComboColumnFiled,masterIndex);var masterextractedColumnList=inputParam.masterextractedColumnList&&removeIndex(inputParam.masterextractedColumnList,masterIndex);masterdataList=masterdataList&&removeIndex(masterdataList,masterIndex);var masterDesign=inputParam.masterDesign&&removeIndex(inputParam.masterDesign,masterIndex);var masterfieldList=inputParam.masterfieldList&&removeIndex(inputParam.masterfieldList,masterIndex);var screenName=_selectedControl[masterIndex-1].displayname[inputParam.userinfo.slanguagetypecode];masterIndex=parseInt(masterIndex)-1;dispatch({type:DEFAULT_RETURN,payload:{selectedControl:_selectedControl,selectedMaster:selectedMaster,mastercomboComponents:mastercomboComponents,masterwithoutCombocomponent:masterwithoutCombocomponent,masterComboColumnFiled:masterComboColumnFiled,masterextractedColumnList:masterextractedColumnList,masterdataList:masterdataList,masterDesign:masterDesign,masterfieldList:masterfieldList,loading:false,// addMaster: false,\n// masterdataList,\n// selectedMaster: {},\n//  selectedMaster: selectedMaster,\nscreenName:screenName,masterIndex:masterIndex}});}}}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}// export function removeIndex(data, removeIndex) {\n//     const data1 = [...data.splice(0, removeIndex), ...data.splice(removeIndex + 1)]\n//     return data1\n// }\nexport function getAddMasterCombo(inputParam){return function(dispatch){dispatch(initRequest(true));var urlArray=[];var masterIndex=inputParam.masterIndex;inputParam.masterComboColumnFiled[masterIndex].map(function(item){if(item.needService===undefined){urlArray.push(rsapi.post(item.classUrl+\"/\"+item.methodUrl,{userinfo:inputParam.userinfo}));}});if(inputParam.selectedControl[masterIndex].table.item.nformcode===137){urlArray.push(rsapi.post(\"timezone/getLocalTimeByZone\",{userinfo:inputParam.userinfo}));}Axios.all(urlArray).then(function(response){var ComboFieldData=[];var masterdataList=inputParam.masterdataList;inputParam.masterComboColumnFiled[masterIndex].map(function(item,index){if(item.needService===undefined){ComboFieldData=constructOptionList(item.objectValue===null?response[index].data||[]:response[index].data[item.objectValue],item.foreignDataField,item.dataField,undefined,undefined,undefined);masterdataList[masterIndex][item.dataField]=ComboFieldData.get(\"OptionList\");}else{if(item.child!==undefined){masterdataList[masterIndex][item.dataField]=[];}else if(item.useService!==undefined){masterdataList[masterIndex][item.dataField]=masterdataList[masterIndex][inputParam.masterComboColumnFiled[masterIndex][item.useService].dataField];}}});var currentTime='';var selectedMaster=inputParam.selectedMaster||[];if(inputParam.selectedControl[masterIndex].table.item.nformcode===137){//const data=inputParam.masterComboColumnFiled.filter(x=>x.needService===undefined)\ncurrentTime=rearrangeDateFormat(inputParam.userinfo,response[urlArray.length-1].data);selectedMaster[masterIndex][\"ddob\"]=rearrangeDateFormat(inputParam.userinfo,response[urlArray.length-1].data);selectedMaster[masterIndex][\"sage\"]=ageCalculate(selectedMaster[\"ddob\"]);selectedMaster[masterIndex][\"nneedcurrentaddress\"]=transactionStatus.NO;selectedMaster[masterIndex][\"today\"]=inputParam.userinfo;}dispatch({type:DEFAULT_RETURN,payload:{masterIndex:masterIndex,selectedMaster:selectedMaster,masterdataList:masterdataList,addMaster:true,loading:false,selectedControl:inputParam.selectedControl,masterfieldList:inputParam.masterfieldList,masterextractedColumnList:inputParam.masterextractedColumnList,masterprimaryKeyField:inputParam.masterprimaryKeyField,masterComboColumnFiled:inputParam.masterComboColumnFiled,screenName:inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode],mastercomboComponents:inputParam.mastercomboComponents,masterwithoutCombocomponent:inputParam.masterwithoutCombocomponent,masterDesign:inputParam.masterDesign}});}).catch(function(error){dispatch(initRequest(false));if(error.response.status===500){toast.error(error.message);}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getDynamicMasterTempalte(inputParam){return function(dispatch){var _this=this;dispatch(initRequest(true));var masterIndex=inputParam.masterIndex;rsapi.post(inputParam.selectedControl[masterIndex].table.item.classUrl+\"/getMasterDesign\",{userinfo:_objectSpread(_objectSpread({},inputParam.userinfo),{},{nformcode:inputParam.selectedControl[inputParam.masterIndex].table.item.nformcode})}).then(function(response){var design=response.data;var masterwithoutCombocomponent=inputParam.masterwithoutCombocomponent||[];var data=inputParam.masterdesignData||[];var masterextractedColumnList=inputParam.masterextractedColumnList||[];//masterwithoutCombocomponent[masterIndex] = []\n// masterextractedColumnList[masterIndex] = []\ndata[masterIndex]=[];design.slideoutdesign.map(function(row){row.children.map(function(column){column.children.map(function(component){if(component.hasOwnProperty(\"children\")){component.children.map(function(componentrow){if(componentrow.inputtype===\"combo\"){data[masterIndex].push(componentrow);}else{masterwithoutCombocomponent[masterIndex].push(componentrow);}if(componentrow.mandatory===true){if(componentrow.inputtype===\"email\"){masterextractedColumnList[masterIndex].push({\"mandatory\":true,\"idsName\":componentrow.label,\"dataField\":componentrow.label,\"alertPreFix\":_this.props.intl.formatMessage({id:\"IDS_VALID\"}),\"validateFunction\":validateEmail,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});}else{masterextractedColumnList[masterIndex].push({\"mandatory\":true,\"idsName\":componentrow.label,\"dataField\":componentrow.label,\"mandatoryLabel\":componentrow.inputtype===\"combo\"?\"IDS_SELECT\":\"IDS_ENTER\",\"controlType\":componentrow.inputtype===\"combo\"?\"selectbox\":\"textbox\"});}}});}else{component.inputtype===\"combo\"?data[masterIndex].push(component):masterwithoutCombocomponent[masterIndex].push(component);if(component.mandatory===true){if(component.inputtype===\"email\"){masterextractedColumnList[masterIndex].push({\"mandatory\":true,\"idsName\":component.label,\"dataField\":component.label,\"alertPreFix\":_this.props.intl.formatMessage({id:\"IDS_VALID\"}),\"validateFunction\":validateEmail,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});}else{masterextractedColumnList[masterIndex].push({\"mandatory\":true,\"idsName\":component.label,\"dataField\":component.label,\"mandatoryLabel\":component.inputtype===\"combo\"?\"IDS_SELECT\":\"IDS_ENTER\",\"controlType\":component.inputtype===\"combo\"?\"selectbox\":\"textbox\"});}}}});});});var comboComponents=inputParam.mastercomboComponents||[];comboComponents[masterIndex]=data[masterIndex];var childColumnList={};data[masterIndex].map(function(columnList){var val=comboChild(data[masterIndex],columnList,childColumnList,true);data[masterIndex]=val.data;childColumnList=val.childColumnList;});var masterdesignData=inputParam.masterdesignData||[];masterdesignData[masterIndex]=_toConsumableArray(data[masterIndex]);var masterDesign=inputParam.masterDesign||[];masterDesign[masterIndex]=design;inputParam=_objectSpread(_objectSpread({},inputParam),{},{masterchildColumnList:childColumnList,mastercomboComponents:comboComponents,masterextractedColumnList:masterextractedColumnList,masterwithoutCombocomponent:masterwithoutCombocomponent,masterDesign:masterDesign,masterdesignData:masterdesignData});dispatch(getDynamicMasterComboForAdd(inputParam,true));// dispatch({\n//     type: DEFAULT_RETURN,\n//     payload: {\n//         addMaster: true,\n//         loading: false,\n//         selectedControl: inputParam.selectedControl,\n//         masterchildColumnList: childColumnList,\n//         mastercomboComponents: comboComponents,\n//         mastermandatoryFields,\n//         masterwithoutCombocomponent,\n//         masterDesign: design\n//     }\n// })\n}).catch(function(error){dispatch(initRequest(false));if(error.response.status===500){toast.error(error.message);}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getDynamicMasterComboForAdd(inputParam,preview){return function(dispatch){dispatch(initRequest(true));var masterIndex=inputParam.masterIndex;var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var actualService=rsapi.post(\"dynamicpreregdesign/getComboValues\",{parentcolumnlist:inputParam.masterdesignData[masterIndex],childcolumnlist:inputParam.masterchildColumnList,userinfo:inputParam.userinfo});var urlArray=[timeZoneService,actualService];Axios.all(urlArray).then(function(response){var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:inputParam.userinfo.stimezoneid,value:inputParam.userinfo.ntimezonecode};var selectedMaster=inputParam.selectedMaster||[];selectedMaster[masterIndex]=selectedMaster[masterIndex]&&_objectSpread({},selectedMaster[masterIndex])||{};var newcomboData=parentChildComboLoad(inputParam.masterdesignData[masterIndex],response[1].data,selectedMaster[masterIndex],inputParam.masterchildColumnList,inputParam.masterwithoutCombocomponent[masterIndex],undefined,inputParam.userinfo.slanguagetypecode,inputParam.userinfo);var comboData1=newcomboData.comboData;var selectedRecord1=newcomboData.selectedRecord;inputParam.masterwithoutCombocomponent[masterIndex].map(function(componentrow){if(componentrow.inputtype===\"date\"){if(componentrow.mandatory){selectedRecord1[componentrow.label]=componentrow.loadcurrentdate?new Date():\"\";}}else if(componentrow.inputtype===\"radio\"){selectedRecord1[componentrow.label]=componentrow.radioOptions?componentrow.radioOptions.tags[0].text:\"\";}});//const masterchildColumnList=inputParam.masterchildColumnList || []\n// masterchildColumnList[masterIndex] = comboData1\nvar masterdataList=inputParam.masterdataList||[];masterdataList[masterIndex]=comboData1;selectedMaster[masterIndex]=_objectSpread(_objectSpread({},selectedMaster[masterIndex]),{},{selectedRecord1:selectedRecord1});if(preview){dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},inputParam),{},{mastertimeZoneList:timeZoneList,masterdefaultTimeZone:defaultTimeZone,loading:false,addMaster:true,masterdataList:masterdataList,selectedMaster:selectedMaster,mastercomboComponents:inputParam.mastercomboComponents,masterwithoutCombocomponent:inputParam.masterwithoutCombocomponent,masterdesignData:inputParam.masterdesignData,masterIndex:masterIndex,// masterchildColumnList: inputParam.masterchildColumnList,\nscreenName:inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode]})});}}).catch(function(error){console.log(\"error:\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getChildValuesForAddMaster(inputParam,userinfo,selectedMaster,comboData,parentcolumnlist,childcolumnlist,withoutCombocomponent,parentListWithReadonly,masterIndex){return function(dispatch){var _rsapi$post2;dispatch(initRequest(true));rsapi.post('dynamicpreregdesign/getChildValues',(_rsapi$post2={child:inputParam.child,parentdata:inputParam.item.jsondata,parentsource:inputParam.source},_defineProperty(_rsapi$post2,inputParam.primarykeyField,inputParam.value),_defineProperty(_rsapi$post2,\"valuemember\",inputParam.primarykeyField),_defineProperty(_rsapi$post2,\"childcolumnlist\",childcolumnlist),_defineProperty(_rsapi$post2,\"userinfo\",userinfo),_defineProperty(_rsapi$post2,\"parentcolumnlist\",parentcolumnlist),_rsapi$post2)).then(function(response){var returnObj=_objectSpread(_objectSpread({},comboData[masterIndex]),response.data);returnObj=parentChildComboLoad(parentListWithReadonly,returnObj,selectedMaster[masterIndex],childcolumnlist,withoutCombocomponent[masterIndex],inputParam,userinfo.slanguagetypecode,userinfo);selectedMaster[masterIndex]=_objectSpread(_objectSpread({},selectedMaster[masterIndex]),returnObj.selectedRecord);var masterdataList=comboData||[];masterdataList[masterIndex]=returnObj.comboData;dispatch({type:DEFAULT_RETURN,payload:{loading:false,masterdataList:masterdataList,selectedMaster:selectedMaster}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getChildComboMaster(selectedMaster,filedName,item,selectedControl,masterComboColumnFiled,masterdataList,userInfo,masterIndex){return function(dispatch){var _rsapi$post3;dispatch(initRequest(true));var urlArray=[];var obj=masterComboColumnFiled[masterIndex][item.childIndex];urlArray.push(rsapi.post(obj.classUrl+\"/\"+obj.methodUrl,(_rsapi$post3={},_defineProperty(_rsapi$post3,item.foreignDataField,selectedMaster[masterIndex][item.tableDataField]),_defineProperty(_rsapi$post3,\"userinfo\",userInfo),_rsapi$post3)));Axios.all(urlArray).then(function(response){selectedMaster[masterIndex][obj.dataField]=undefined;var ComboFieldData=constructOptionList(obj.objectValue===null?response[0].data||[]:response[0].data[obj.objectValue],obj.foreignDataField,obj.foreignDisplayMember,undefined,undefined,undefined);masterdataList[masterIndex][obj.dataField]=ComboFieldData.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{selectedMaster:selectedMaster,masterdataList:masterdataList,loading:false}});}).catch(function(error){dispatch(initRequest(false));if(error.response.status===500){toast.error(error.message);}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getChildValuesForMasterAdd(inputParem,userinfo,selectedMaster,masterdataList,parentcolumnlist,childcolumnlist,withoutCombocomponent,parentListWithReadonly,masterIndex,inputParam){return function(dispatch){var _rsapi$post4;dispatch(initRequest(true));rsapi.post('dynamicpreregdesign/getChildValues',(_rsapi$post4={child:inputParem.child,parentdata:inputParem.item.jsondata,parentsource:inputParem.source},_defineProperty(_rsapi$post4,inputParem.primarykeyField,inputParem.value),_defineProperty(_rsapi$post4,\"valuemember\",inputParem.primarykeyField),_defineProperty(_rsapi$post4,\"childcolumnlist\",childcolumnlist),_defineProperty(_rsapi$post4,\"userinfo\",userinfo),_defineProperty(_rsapi$post4,\"parentcolumnlist\",parentcolumnlist),_rsapi$post4)).then(function(response){var returnObj=_objectSpread(_objectSpread({},masterdataList[masterIndex-1]),response.data);returnObj=parentChildComboLoad(parentListWithReadonly,returnObj,selectedMaster[masterIndex-1],childcolumnlist,withoutCombocomponent[masterIndex-1],inputParem,userinfo.slanguagetypecode,userinfo);selectedMaster[masterIndex-1]=_objectSpread(_objectSpread({},selectedMaster[masterIndex-1]),returnObj.selectedRecord);masterdataList[masterIndex-1]=returnObj.comboData;// const dataList = {\n// }\nvar selectedControl=inputParam.selectedControl&&removeIndex(inputParam.selectedControl,masterIndex);selectedMaster=selectedMaster&&removeIndex(selectedMaster,masterIndex);var mastercomboComponents=inputParam.mastercomboComponents&&removeIndex(inputParam.mastercomboComponents,masterIndex);var masterwithoutCombocomponent=inputParam.masterwithoutCombocomponent&&removeIndex(inputParam.masterwithoutCombocomponent,masterIndex);var masterComboColumnFiled=inputParam.masterComboColumnFiled&&removeIndex(inputParam.masterComboColumnFiled,masterIndex);var masterextractedColumnList=inputParam.masterextractedColumnList&&removeIndex(inputParam.masterextractedColumnList,masterIndex);masterdataList=masterdataList&&removeIndex(masterdataList,masterIndex);var masterDesign=inputParam.masterDesign&&removeIndex(inputParam.masterDesign,masterIndex);var masterfieldList=inputParam.masterfieldList&&removeIndex(inputParam.masterfieldList,masterIndex);var screenName=selectedControl[masterIndex-1].displayname[inputParam.userinfo.slanguagetypecode];masterIndex=parseInt(masterIndex)-1;dispatch({type:DEFAULT_RETURN,payload:{// selectedControl: inputParam.selectedControl && removeIndex(inputParam.selectedControl, masterIndex),\n// selectedMaster: selectedMaster && removeIndex(selectedMaster, masterIndex),\n// mastercomboComponents: inputParam.mastercomboComponents && removeIndex(inputParam.mastercomboComponents, masterIndex),\n// masterwithoutCombocomponent: inputParam.masterwithoutCombocomponent && removeIndex(inputParam.masterwithoutCombocomponent, masterIndex),\n// masterComboColumnFiled: inputParam.masterComboColumnFiled && removeIndex(inputParam.masterComboColumnFiled, masterIndex),\n// masterextractedColumnList: inputParam.masterextractedColumnList && removeIndex(inputParam.masterextractedColumnList, masterIndex),\n// masterdataList: masterdataList && removeIndex(masterdataList, masterIndex),\n// masterDesign: inputParam.masterDesign && removeIndex(inputParam.masterDesign, masterIndex),\n// masterfieldList: inputParam.masterfieldList && removeIndex(inputParam.masterfieldList, masterIndex),\n// screenName: inputParam.selectedControl[masterIndex - 1].displayname[userinfo.slanguagetypecode],\n// loading: false,\n//masterdataList,\n//selectedMaster,\n// ...dataList,\n//   masterIndex: (parseInt(masterIndex) - 1),\n// screenName: inputParem.screenName\nselectedControl:selectedControl,selectedMaster:selectedMaster,mastercomboComponents:mastercomboComponents,masterwithoutCombocomponent:masterwithoutCombocomponent,masterComboColumnFiled:masterComboColumnFiled,masterextractedColumnList:masterextractedColumnList,masterdataList:masterdataList,masterDesign:masterDesign,masterfieldList:masterfieldList,loading:false,// addMaster: false,\n// masterdataList,\n// selectedMaster: {},\n//  selectedMaster: selectedMaster,\nscreenName:screenName,masterIndex:masterIndex}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/DynamicPreRegDesignAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","initRequest","sortData","constructOptionList","parentChildComboLoad","rearrangeDateFormat","ageCalculate","comboChild","validateEmail","getSameRecordFromTwoArrays","removeIndex","getcomponentdata","getValidComponent","replaceChildFromChildren","designComponents","ReactComponents","SampleType","transactionStatus","Axios","getTreeByProduct","preRegDispatch","faShareAltSquare","intl","getReactInputFields","userinfo","operation","respObj","ncontrolCode","dispatch","listURL","post","all","then","response","type","payload","ReactInputFields","data","components","Period","get","ReactTables","tables","staticfiltertables","selectedFieldRecord","openModal","loading","openPortal","showFilter","ncontrolcode","catch","error","status","message","warn","selectRegistrationTemplate","template","masterData","nreactregtemplatecode","selectedTemplate","getRegistrationTemplate","selectedSampleType","nsampletypecode","value","searchedData","undefined","realSampleType","label","getEditRegTemplate","editId","ntransactionstatus","DRAFT","jsonData","jsondata","design","selectedRecord","templateName","sregtemplatename","masterStatus","getJsonValue","PGjsonData","Array","isArray","JSONData","map","push","JSON","parse","getTableColumns","stablename","path","columnInfo","componentData","updateComponents","staicColumns","jstaticcolumns","dynamicColumns","jdynamiccolumns","multilingualColumns","jmultilingualcolumn","numericColumns","jnumericcolumns","primaryKeyName","sprimarykeyname","defaultColumn","comboData","filterColumns","item","displayname","slanguagetypecode","columnname","default","tablecolumnname","ismultilingual","column","displaymember","valuemember","componentcode","COMBO","FRONTENDSEARCHFILTER","BACKENDSEARCHFILTER","validComponents","filterfields","customsearchfilter","parentRadioValue","parentPath","oldParentData","split","hasOwnProperty","child","radioOptions","tags","id","text","tableColumn","optionalPayload","selectedComponentpath","join","getForeignTableData","parentcolumnlist","source","filtercolumn","foriegntablename","foriegntablePK","conditionstring","inputtype","isMultiLingual","newcomboData","comboData1","selectedRecord1","masterDataValue","getPreviewTemplate","columnList","childColumnList","comboComponents","withoutCombocomponent","mapOfFilterRegData","preview","screenName","timeZoneService","actualService","childcolumnlist","dateService","datecolumnlist","filter","x","currentDate","timeZoneMap","timeZoneList","defaultTimeZone","stimezoneid","ntimezonecode","componentrow","loadcurrentdate","CLINICALTYPE","Age","name","nperiodcode","Date","loadselecteddate","hidebeforedate","hideafterdate","PRODUCT","ProductCategory","length","nproductcatcode","ncategorybasedFlow","sampletypecategorybasedflow","YES","inputParam","Product","nproductcode","INSTRUMENT","InstrumentCategory","ninstrumentcatcode","Instrument","ninstrumentcode","MATERIAL","MaterialType","nmaterialtypecode","MaterialCategory","nmaterialcatcode","Material","nmaterialcode","dateComp","ageComp","age","PROJECTSAMPLETYPE","project","nprojectMasterCode","getChildValues","inputParem","parentListWithReadonly","productCategory","product","mapOfRegFilterData","instrumentCategory","instrument","materialCategory","material","materialType","subsample","parentdata","parentsource","primarykeyField","returnObj","SubSamplecomboData","selectComponent","selectedMaster","addMaster","selectedControl","masterComboColumnFiled","masterDesign","masterextractedColumnList","masterfieldList","masterdataList","mastercomboComponents","masterwithoutCombocomponent","masterIndex","nameofdefaultcomp","ProductName","AgaramTree","ActiveKey","FocusKey","OpenNodes","Test","SelectedTest","selectedSpec","Component","selectedComponent","Specification","subSampleDataGridList","InstrumentName","MaterialName","MaterialCategoryName","ncategorybasedflow","validatePreview","rtn","info","formatMessage","showConfirmAlert","addMasterRecord","classUrl","methodUrl","inputData","success","data1","table","component","DynamicMasterData","nformcode","PatientList","newdata","item1","index","nquerybuildertablecode","childComboList","val","parentList","loadSubSample","comboName","selectedRecordName","getChildValuesForMasterAdd","parseInt","getAddMasterCombo","urlArray","needService","ComboFieldData","objectValue","foreignDataField","dataField","useService","currentTime","NO","masterprimaryKeyField","getDynamicMasterTempalte","masterdesignData","slideoutdesign","row","children","mandatory","props","masterchildColumnList","getDynamicMasterComboForAdd","mastertimeZoneList","masterdefaultTimeZone","console","log","getChildValuesForAddMaster","getChildComboMaster","filedName","userInfo","obj","childIndex","tableDataField","foreignDisplayMember"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport { initRequest } from './LoginAction';\r\nimport { sortData, constructOptionList, parentChildComboLoad, rearrangeDateFormat, ageCalculate, comboChild, validateEmail, getSameRecordFromTwoArrays, removeIndex } from '../components/CommonScript';\r\nimport { getcomponentdata, getValidComponent, replaceChildFromChildren } from '../components/droparea/helpers';\r\nimport { designComponents, ReactComponents, SampleType, transactionStatus } from '../components/Enumeration';\r\nimport Axios from 'axios';\r\nimport { getTreeByProduct, preRegDispatch } from './RegistrationAction';\r\nimport { faShareAltSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { intl } from '../components/App';\r\n\r\nexport function getReactInputFields(userinfo, operation, respObj,ncontrolCode) {\r\n\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const listURL = [];\r\n        listURL[0] = rsapi.post(\"dynamicpreregdesign/getReactComponents\", { userinfo })\r\n        listURL[1] = rsapi.post(\"dynamicpreregdesign/getReactInputFields\", { userinfo })\r\n        listURL[2] = rsapi.post(\"registrationsubtype/getPeriods\", { userinfo })\r\n        listURL[3] = rsapi.post(\"dynamicpreregdesign/getReactStaticFilterTables\", { userinfo })\r\n        Axios.all(listURL)\r\n            .then(response => {\r\n                respObj = respObj ? { ...respObj } : {}\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        ReactInputFields: response[1].data,\r\n                        ReactComponents: response[0].data.components,\r\n                        Period: constructOptionList(response[2].data, 'nperiodcode', 'speriodname').get(\"OptionList\"),\r\n                        ReactTables: constructOptionList(response[0].data.tables, 'nquerybuildertablecode', 'sdisplayname').get(\"OptionList\"),\r\n                        staticfiltertables: constructOptionList(response[3].data, 'nquerybuilderstaticfiltercode', 'displayname').get(\"OptionList\"),\r\n                        selectedFieldRecord: {},\r\n                        openModal: false,\r\n                        loading: false,\r\n                        openPortal: true,\r\n                        operation,\r\n                        showFilter: false,\r\n                        ncontrolcode:ncontrolCode,\r\n                        ...respObj\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function selectRegistrationTemplate(template, masterData, userinfo) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"dynamicpreregdesign/getRegistrationTemplateById\", {\r\n            nreactregtemplatecode: template.nreactregtemplatecode,\r\n            userinfo\r\n        })\r\n            .then(response => {\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: { masterData: { ...masterData, selectedTemplate: response.data }, loading: false }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getRegistrationTemplate(selectedSampleType, masterData, userinfo) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"dynamicpreregdesign/getDynamicPreRegDesign\", {\r\n            nsampletypecode: selectedSampleType.value,\r\n            userinfo\r\n        })\r\n            .then(response => {\r\n                masterData = { ...masterData, ...response.data, searchedData: undefined }\r\n                sortData(masterData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        realSampleType: [{\r\n                            \"label\": \"IDS_SAMPLETYPE\",\r\n                            \"value\": selectedSampleType.label,\r\n                            \"item\": selectedSampleType\r\n                        }],\r\n                        loading: false,\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getEditRegTemplate(masterData, userinfo, editId) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"dynamicpreregdesign/getRegistrationTemplateById\", {\r\n            nreactregtemplatecode: masterData.selectedTemplate.nreactregtemplatecode,\r\n            userinfo\r\n        })\r\n            .then(response => {\r\n                if (response.data.ntransactionstatus === transactionStatus.DRAFT) {\r\n                    let jsonData = response.data.jsondata;\r\n                    sortData(masterData)\r\n\r\n                    const respObj = {\r\n                        masterData,\r\n                        ncontrolcode: editId,\r\n                        openPortal: true,\r\n                        loading: false,\r\n                        openModal: false,\r\n                        design: jsonData,\r\n                        selectedRecord: { templateName: response.data.sregtemplatename }\r\n                    }\r\n                    // dispatch({\r\n                    //     type: DEFAULT_RETURN,\r\n                    //     payload: {\r\n                    //         masterData,\r\n                    //         ncontrolcode: editId,\r\n                    //         // openPortal: true,\r\n                    //         // loading: false,\r\n                    //         design: jsonData,\r\n                    //         selectedRecord: { templateName: response.data.sregtemplatename }\r\n                    //     }\r\n                    // })\r\n                    dispatch(getReactInputFields(userinfo, \"update\", respObj))\r\n                } else {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false, masterStatus: \"IDS_SELECTDRAFTRECORD\" } })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getJsonValue(PGjsonData) {\r\n\r\n    if (Array.isArray(PGjsonData)) {\r\n        let JSONData = [];\r\n        PGjsonData.map(data => {\r\n            return JSONData.push(JSON.parse(data.jsondata))\r\n        })\r\n        return JSONData;\r\n    } else {\r\n        return JSON.parse(PGjsonData);\r\n    }\r\n\r\n}\r\nexport function getTableColumns(design, selectedFieldRecord, stablename,\r\n    userinfo, path, columnInfo, componentData, updateComponents, showFilter) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"dynamicpreregdesign/getTableColumns\", { \"nquerybuildertablecode\": stablename || 0, userinfo })\r\n            .then(response => {\r\n                columnInfo = columnInfo || {}\r\n                const staicColumns = response.data.jstaticcolumns || []\r\n                const dynamicColumns = response.data.jdynamiccolumns || []\r\n                const multilingualColumns = response.data.jmultilingualcolumn || []\r\n                const numericColumns = response.data.jnumericcolumns || []\r\n                const primaryKeyName = response.data.sprimarykeyname\r\n                columnInfo = {\r\n                    ...columnInfo,\r\n                    [stablename]: {\r\n                        staicColumns,\r\n                        dynamicColumns,\r\n                        multilingualColumns,\r\n                        numericColumns,\r\n                        primaryKeyName\r\n                    }\r\n                }\r\n                let defaultColumn = {};\r\n                let comboData = []\r\n                let filterColumns = [];\r\n                //  let selectedComponentpath=componentData.selectedComponentpath\r\n                staicColumns.map(item => {\r\n                    comboData.push({\r\n                        label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                        value: item.columnname,\r\n                        type: \"static\",\r\n                        item\r\n                    })\r\n                    if (item.default) {\r\n                        defaultColumn = {\r\n                            label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                            value: item.columnname,\r\n                            type: \"static\",\r\n                            item\r\n                        }\r\n                    }\r\n                })\r\n                dynamicColumns.map(item => {\r\n                    comboData.push({\r\n                        label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                        value: item.columnname,\r\n                        type: \"dynamic\",\r\n                        item\r\n                    })\r\n                    if (item.default) {\r\n                        defaultColumn = {\r\n                            label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                            value: item.columnname,\r\n                            type: \"dynamic\",\r\n                            item\r\n                        }\r\n                    }\r\n                })\r\n                multilingualColumns.map(item => {\r\n                    comboData.push({\r\n                        label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                        value: item.columnname,\r\n                        type: \"static\",\r\n                        item\r\n                    })\r\n                    if (item.default) {\r\n                        defaultColumn = {\r\n                            label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                            value: item.columnname,\r\n                            type: \"static\",\r\n                            item\r\n                        }\r\n                    }\r\n                })\r\n                filterColumns = [...comboData];\r\n                numericColumns.map(item => {\r\n                    filterColumns.push({\r\n                        label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                        value: item.tablecolumnname,\r\n                        type: \"numeric\",\r\n                        item\r\n                    })\r\n                })\r\n                if (defaultColumn.item && defaultColumn.item.ismultilingual) {\r\n                    selectedFieldRecord['isMultiLingual'] = true;\r\n                }\r\n                if (updateComponents) {\r\n                    componentData = componentData || {}\r\n                    selectedFieldRecord = { ...selectedFieldRecord, column: defaultColumn, displaymember: defaultColumn.value, valuemember: primaryKeyName };\r\n                    design = replaceChildFromChildren(design, path, selectedFieldRecord)\r\n                    if (selectedFieldRecord.componentcode !== ReactComponents.COMBO\r\n                        && selectedFieldRecord.componentcode !== ReactComponents.FRONTENDSEARCHFILTER\r\n                        && selectedFieldRecord.componentcode !== ReactComponents.BACKENDSEARCHFILTER) {\r\n                        let validComponents = getValidComponent(selectedFieldRecord, componentData.components, columnInfo);\r\n                        componentData = { ...componentData, validComponents }\r\n                    }\r\n                } else if (componentData === undefined || componentData.components === undefined) {\r\n                    componentData = componentData || {}\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER\r\n                        || selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                        selectedFieldRecord = { ...selectedFieldRecord, filterfields: [{ type: defaultColumn.type, ...defaultColumn.item }], customsearchfilter: [defaultColumn], displaymember: defaultColumn.value, valuemember: primaryKeyName };\r\n                    } else {\r\n                        selectedFieldRecord = { ...selectedFieldRecord, column: defaultColumn, displaymember: defaultColumn.value, valuemember: primaryKeyName };\r\n                    }\r\n\r\n                    design = replaceChildFromChildren(design, path, selectedFieldRecord)\r\n\r\n                    if (selectedFieldRecord.componentcode !== ReactComponents.COMBO\r\n                        && selectedFieldRecord.componentcode !== ReactComponents.FRONTENDSEARCHFILTER\r\n                        && selectedFieldRecord.componentcode !== ReactComponents.BACKENDSEARCHFILTER) {\r\n                        let validComponents = getValidComponent(selectedFieldRecord, componentData.components, columnInfo);\r\n                        componentData = { ...componentData, validComponents }\r\n                    }\r\n                } else {\r\n                    let validComponents = getValidComponent(selectedFieldRecord, componentData.components, columnInfo);\r\n                    let parentRadioValue = []\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER || selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                        if (selectedFieldRecord.parentPath) {\r\n                            let oldParentData = getcomponentdata(design, selectedFieldRecord.parentPath.split(\"-\"))\r\n                            if (oldParentData.hasOwnProperty('child')) {\r\n                                oldParentData.child.map(item => {\r\n                                    if (item.label === selectedFieldRecord.label) {\r\n                                        parentRadioValue = oldParentData.radioOptions.tags.map(item => {\r\n                                            return { value: item.id, label: item.text, item }\r\n                                        })\r\n                                    }\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                    componentData = { ...componentData, validComponents, parentRadioValue }\r\n                }\r\n\r\n                columnInfo = {\r\n                    ...columnInfo,\r\n                    [stablename]: { ...columnInfo[stablename], tableColumn: comboData, filterColumns }\r\n                }\r\n                let optionalPayload = {\r\n                    selectedComponentpath: Array.isArray(path) ? path.join(\"-\") : undefined,\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        design,\r\n                        // selectedComponentpath,\r\n                        selectedFieldRecord,\r\n                        ...optionalPayload,\r\n                        tableColumn: comboData,\r\n                        filterColumns,\r\n                        columnInfo,\r\n                        primaryKeyName,\r\n                        selectedComponentpath: componentData.path,\r\n                        ...componentData,\r\n                        showFilter: showFilter\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getForeignTableData(design, selectedFieldRecord, stablename, userinfo, path, columnInfo, componentData, updateComponents) {\r\n    return function (dispatch) {\r\n        let parentcolumnlist = [{\r\n            source: selectedFieldRecord.filtercolumn.item.foriegntablename,\r\n            valuemember: selectedFieldRecord.filtercolumn.item.foriegntablePK,\r\n            displaymember: selectedFieldRecord.filtercolumn.item.columnname,\r\n            conditionstring: selectedFieldRecord.filtercolumn.item.conditionstring,\r\n            label: \"filterData\",\r\n            inputtype: \"combo\",\r\n            isMultiLingual: selectedFieldRecord.filtercolumn.item.ismultilingual\r\n        }]\r\n        rsapi.post(\"dynamicpreregdesign/getComboValues\", { parentcolumnlist, userinfo })\r\n            .then(response => {\r\n                let comboData = [];\r\n                let selectedRecord = {};\r\n                const newcomboData = parentChildComboLoad(parentcolumnlist, response.data,\r\n                    selectedRecord, [], [], undefined, userinfo.slanguagetypecode, userinfo)\r\n                // sortData(masterData)\r\n\r\n                const comboData1 = newcomboData.comboData\r\n                const selectedRecord1 = newcomboData.selectedRecord\r\n                if (updateComponents) {\r\n                    componentData = componentData || {}\r\n                    // selectedFieldRecord = { ...selectedFieldRecord };\r\n                    design = replaceChildFromChildren(design, path, selectedFieldRecord)\r\n                    if (selectedFieldRecord.componentcode !== ReactComponents.COMBO) {\r\n                        let validComponents = getValidComponent(selectedFieldRecord, componentData.components, columnInfo);\r\n                        componentData = { ...componentData, validComponents }\r\n                    }\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        design,\r\n                        selectedFieldRecord,\r\n                        masterDataValue: comboData,\r\n                        columnInfo,\r\n                        ...componentData,\r\n                        ...comboData1\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getPreviewTemplate(masterData, userinfo,\r\n    editId, columnList, selectedRecord, childColumnList, comboComponents,\r\n    withoutCombocomponent, openPortal, openModal, mapOfFilterRegData, preview, operation, screenName) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\r\n            parentcolumnlist: columnList ? columnList : [],\r\n            childcolumnlist: childColumnList ? childColumnList : [],\r\n            userinfo\r\n        })\r\n        const dateService = rsapi.post(\"dynamicpreregdesign/dateValidation\", {\r\n            datecolumnlist: withoutCombocomponent.filter(x => x.inputtype === \"date\"),\r\n            userinfo\r\n        })\r\n\r\n        const currentDate = rsapi.post(\"timezone/getLocalTimeByZone\", {\r\n            userinfo\r\n        })\r\n        Axios.all([timeZoneService, actualService, dateService, currentDate])\r\n            .then(response => {\r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: userinfo.stimezoneid, value: userinfo.ntimezonecode }\r\n                const newcomboData = parentChildComboLoad(columnList, response[1].data, selectedRecord,\r\n                    childColumnList, withoutCombocomponent, undefined, userinfo.slanguagetypecode, userinfo)\r\n                // sortData(masterData)\r\n\r\n                const comboData1 = newcomboData.comboData\r\n                const selectedRecord1 = newcomboData.selectedRecord\r\n                withoutCombocomponent.map(componentrow => {\r\n                    if (componentrow.inputtype === \"date\") {\r\n                        //  if (componentrow.mandatory) {\r\n                        if (componentrow.loadcurrentdate) {\r\n                            selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? rearrangeDateFormat(userinfo, response[3].data) : \"\";\r\n                            if (masterData.selectedTemplate && masterData.selectedTemplate.nsampletypecode === SampleType.CLINICALTYPE) {\r\n                                const Age = withoutCombocomponent.filter(item =>\r\n                                    item.name === \"Age\");\r\n                                selectedRecord[Age[0].label] = ageCalculate(selectedRecord1[componentrow.label])\r\n                            }\r\n                            selectedRecord1[componentrow.label + \"value\"] = selectedRecord1[componentrow.label];\r\n                        } else if (componentrow.nperiodcode) {\r\n                            selectedRecord1[componentrow.label + \"value\"] = response[2].data[componentrow.label] ?\r\n                                new Date(response[2].data[componentrow.label][\"datevalue\"]) : null;\r\n                            if (componentrow.loadselecteddate) {\r\n                                selectedRecord1[componentrow.label] = response[2].data[componentrow.label] ?\r\n                                    new Date(response[2].data[componentrow.label][\"datevalue\"]) : null;\r\n                            }\r\n                            //    selectedRecord1[componentrow.label]=response[2].data[componentrow.label]?\r\n                            //    new Date(response[2].data[componentrow.label]):null;\r\n                        } else {\r\n                            selectedRecord1[componentrow.label + \"value\"] = new Date();\r\n                        }\r\n\r\n                        if (componentrow.hidebeforedate) {\r\n                            selectedRecord1[componentrow.label + \"min\"] = selectedRecord1[componentrow.label + \"value\"]\r\n                        }\r\n                        if (componentrow.hideafterdate) {\r\n                            selectedRecord1[componentrow.label + \"max\"] = selectedRecord1[componentrow.label + \"value\"]\r\n                        }\r\n\r\n                        // }else{\r\n                        //     selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? new Date() : \"\";\r\n                        // }\r\n                        // if (componentrow.timezone) {\r\n                        //     sampleRegistration[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\r\n                        //         { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\r\n                        //         defaulttimezone ? defaulttimezone : -1\r\n                        // }\r\n                    }\r\n                    else if (componentrow.inputtype === \"radio\") {\r\n                        selectedRecord1[componentrow.label] = componentrow.radioOptions ?\r\n                            componentrow.radioOptions.tags[0].text : \"\";\r\n                    }\r\n\r\n                })\r\n                //console.log(\"selectedRecord1 action1:\", selectedRecord1);\r\n                if (preview) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            timeZoneList,\r\n                            defaultTimeZone,\r\n                            masterData,\r\n                            ncontrolcode: editId,\r\n                            openModal,\r\n                            loading: false,\r\n                            comboData: comboData1,\r\n                            selectedRecord: selectedRecord1,\r\n                            comboComponents,\r\n                            withoutCombocomponent,\r\n                            openPortal,\r\n                            columnList,\r\n                            childColumnList,\r\n                            screenName,\r\n                            operation: \"preview\"\r\n\r\n                            // childOperation:true\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    if (mapOfFilterRegData.nsampletypecode === SampleType.PRODUCT) {\r\n                        const ProductCategory = comboComponents.filter(x => x.name === 'Product Category');\r\n                        if (ProductCategory.length > 0) {\r\n                            const nproductcatcode = selectedRecord1[ProductCategory[0].label] &&\r\n                                selectedRecord1[ProductCategory[0].label].value;\r\n                            let ncategorybasedFlow = selectedRecord1[ProductCategory[0].label]\r\n                                && selectedRecord1[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (mapOfFilterRegData.sampletypecategorybasedflow === transactionStatus.YES) {\r\n                                ncategorybasedFlow = transactionStatus.YES;\r\n                            }\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === transactionStatus.YES) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = nproductcatcode;\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName,\r\n                                        // loadPreregister:true\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Product = comboComponents.filter(x => x.name === 'Product');\r\n                                    if (Product.length > 0) {\r\n                                        const nproductcode = selectedRecord1[Product[0].label]\r\n                                            && selectedRecord1[Product[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = nproductcode !== undefined ? nproductcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            // loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        mapOfFilterRegData['nproductcode'] = -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = -1\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            //loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                mapOfFilterRegData['nproductcode'] = -1;\r\n                                mapOfFilterRegData['nproductcatcode'] = -1\r\n                                const inputParam = {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName,\r\n                                    //loadPreregister:true\r\n                                }\r\n                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                    selectedRecord1,\r\n                                    newcomboData.comboData, inputParam))\r\n                            }\r\n                        } else {\r\n                            mapOfFilterRegData['nproductcode'] = -1;\r\n                            mapOfFilterRegData['nproductcatcode'] = -1\r\n                            const inputParam = {\r\n                                timeZoneList,\r\n                                defaultTimeZone,\r\n                                masterData,\r\n                                ncontrolcode: editId,\r\n                                openModal,\r\n                                comboComponents,\r\n                                withoutCombocomponent,\r\n                                openPortal,\r\n                                columnList,\r\n                                childColumnList,\r\n                                operation,\r\n                                screenName,\r\n                                //loadPreregister:true\r\n                            }\r\n                            //console.log(\"selectedRecord1 action2:\", selectedRecord1);\r\n                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                selectedRecord1,\r\n                                newcomboData.comboData, inputParam))\r\n                        }\r\n                    } else if (mapOfFilterRegData.nsampletypecode === SampleType.INSTRUMENT) {\r\n                        const InstrumentCategory = comboComponents.filter(x => x.name === 'Instrument Category');\r\n                        if (InstrumentCategory.length > 0) {\r\n                            const ninstrumentcatcode = selectedRecord1[InstrumentCategory[0].label] &&\r\n                                selectedRecord1[InstrumentCategory[0].label].value\r\n                            let ncategorybasedFlow = selectedRecord1[InstrumentCategory[0].label]\r\n                                && selectedRecord1[InstrumentCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n\r\n                            if (mapOfFilterRegData.sampletypecategorybasedflow === transactionStatus.YES) {\r\n                                ncategorybasedFlow = transactionStatus.YES;\r\n                            }\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === transactionStatus.YES) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = ninstrumentcatcode\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName,\r\n                                        // loadPreregister:true\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Instrument = comboComponents.filter(x => x.name === 'Instrument');\r\n                                    if (Instrument.length > 0) {\r\n                                        const ninstrumentcode = selectedRecord1[Instrument[0].label]\r\n                                            && selectedRecord1[Instrument[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = ninstrumentcode !== undefined ? ninstrumentcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = ninstrumentcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            //loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        mapOfFilterRegData['nproductcode'] = -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = -1\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            //loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                mapOfFilterRegData['nproductcode'] = -1;\r\n                                mapOfFilterRegData['nproductcatcode'] = -1\r\n                                const inputParam = {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName,\r\n                                    // loadPreregister:true\r\n                                }\r\n                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                    selectedRecord1,\r\n                                    newcomboData.comboData, inputParam))\r\n                            }\r\n                        } else {\r\n                            mapOfFilterRegData['nproductcode'] = -1;\r\n                            mapOfFilterRegData['nproductcatcode'] = -1\r\n                            const inputParam = {\r\n                                timeZoneList,\r\n                                defaultTimeZone,\r\n                                masterData,\r\n                                ncontrolcode: editId,\r\n                                openModal,\r\n                                comboComponents,\r\n                                withoutCombocomponent,\r\n                                openPortal,\r\n                                columnList,\r\n                                childColumnList,\r\n                                operation,\r\n                                screenName,\r\n                                // loadPreregister:true\r\n                            }\r\n                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                selectedRecord1,\r\n                                newcomboData.comboData, inputParam))\r\n                        }\r\n                    } else if (mapOfFilterRegData.nsampletypecode === SampleType.MATERIAL) {\r\n                        const MaterialType = comboComponents.filter(x => x.name === 'Material Type');\r\n                        if (MaterialType.length > 0) {\r\n                            const nmaterialtypecode = selectedRecord1[MaterialType[0].label] &&\r\n                                selectedRecord1[MaterialType[0].label].value\r\n                            if (nmaterialtypecode !== undefined) {\r\n                                const MaterialCategory = comboComponents.filter(x => x.name === 'Material Category');\r\n                                if (MaterialCategory.length > 0) {\r\n                                    const nmaterialcatcode = selectedRecord1[MaterialCategory[0].label] &&\r\n                                        selectedRecord1[MaterialCategory[0].label].value\r\n                                    let ncategorybasedFlow = selectedRecord1[MaterialCategory[0].label]\r\n                                        && selectedRecord1[MaterialCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n\r\n                                    if (mapOfFilterRegData.sampletypecategorybasedflow === transactionStatus.YES) {\r\n                                        ncategorybasedFlow = transactionStatus.YES;\r\n                                    }\r\n                                    if (ncategorybasedFlow !== undefined) {\r\n                                        if (ncategorybasedFlow === transactionStatus.YES) {\r\n                                            mapOfFilterRegData['nproductcode'] = -1;\r\n                                            mapOfFilterRegData['nproductcatcode'] = nmaterialcatcode\r\n                                            const inputParam = {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName,\r\n                                                // loadPreregister:true\r\n                                            }\r\n                                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                selectedRecord1,\r\n                                                newcomboData.comboData, inputParam))\r\n                                        }\r\n                                        else {\r\n                                            const Material = comboComponents.filter(x => x.name === 'Material');\r\n                                            if (Material.length > 0) {\r\n                                                const nmaterialcode = selectedRecord1[Material[0].label]\r\n                                                    && selectedRecord1[Material[0].label].value;\r\n\r\n                                                mapOfFilterRegData['nproductcode'] = nmaterialcode !== undefined ? nmaterialcode : -1;\r\n                                                mapOfFilterRegData['nproductcatcode'] = nmaterialcatcode\r\n\r\n                                                const inputParam = {\r\n                                                    timeZoneList,\r\n                                                    defaultTimeZone,\r\n                                                    masterData,\r\n                                                    ncontrolcode: editId,\r\n                                                    openModal,\r\n                                                    comboComponents,\r\n                                                    withoutCombocomponent,\r\n                                                    openPortal,\r\n                                                    columnList,\r\n                                                    childColumnList,\r\n                                                    operation,\r\n                                                    screenName,\r\n                                                    // loadPreregister:true\r\n                                                }\r\n                                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                    selectedRecord1,\r\n                                                    newcomboData.comboData, inputParam))\r\n                                            } else {\r\n                                                mapOfFilterRegData['nproductcode'] = -1;\r\n                                                mapOfFilterRegData['nproductcatcode'] = -1\r\n                                                const inputParam = {\r\n                                                    timeZoneList,\r\n                                                    defaultTimeZone,\r\n                                                    masterData,\r\n                                                    ncontrolcode: editId,\r\n                                                    openModal,\r\n                                                    comboComponents,\r\n                                                    withoutCombocomponent,\r\n                                                    openPortal,\r\n                                                    columnList,\r\n                                                    childColumnList,\r\n                                                    operation,\r\n                                                    screenName,\r\n                                                    //loadPreregister:true\r\n                                                }\r\n                                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                    selectedRecord1,\r\n                                                    newcomboData.comboData, inputParam))\r\n                                            }\r\n                                        }\r\n\r\n                                    } else {\r\n                                        mapOfFilterRegData['nproductcode'] = -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = -1\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            // loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    }\r\n                                } else {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = -1\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName,\r\n                                        //loadPreregister:true\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n\r\n                            }\r\n\r\n                        } else {\r\n                            mapOfFilterRegData['nproductcode'] = -1;\r\n                            mapOfFilterRegData['nproductcatcode'] = -1\r\n                            const inputParam = {\r\n                                timeZoneList,\r\n                                defaultTimeZone,\r\n                                masterData,\r\n                                ncontrolcode: editId,\r\n                                openModal,\r\n                                comboComponents,\r\n                                withoutCombocomponent,\r\n                                openPortal,\r\n                                columnList,\r\n                                childColumnList,\r\n                                operation,\r\n                                screenName,\r\n                                // loadPreregister:true\r\n                            }\r\n                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                selectedRecord1,\r\n                                newcomboData.comboData, inputParam))\r\n                        }\r\n\r\n                    }\r\n                    else if (mapOfFilterRegData.nsampletypecode === SampleType.CLINICALTYPE) {\r\n                        const ProductCategory = comboComponents.filter(x => x.name === 'Product Category');\r\n                        const dateComp = withoutCombocomponent.filter(item => item.name === \"Date Of Birth\");\r\n                        if (dateComp[0].label !== undefined) {\r\n                            const ageComp = withoutCombocomponent.filter(item => item.name === \"Age\");\r\n                            const age = ageCalculate(selectedRecord1[dateComp[0].label]);\r\n                            selectedRecord1[ageComp[0].label] = age;\r\n                        }\r\n                        if (ProductCategory.length > 0) {\r\n                            const nproductcatcode = selectedRecord1[ProductCategory[0].label] ?\r\n                                selectedRecord1[ProductCategory[0].label].value : -1;\r\n                            let ncategorybasedFlow = selectedRecord1[ProductCategory[0].label]\r\n                                ? selectedRecord1[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow']\r\n                                : undefined;\r\n                            if (mapOfFilterRegData.sampletypecategorybasedflow === transactionStatus.YES) {\r\n                                ncategorybasedFlow = transactionStatus.YES;\r\n                            }\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === transactionStatus.YES) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName,\r\n                                        // loadPreregister:true\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Product = comboComponents.filter(x => x.name === 'Product');\r\n                                    if (Product.length > 0) {\r\n                                        const nproductcode = selectedRecord1[Product[0].label]\r\n                                            && selectedRecord1[Product[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = nproductcode !== undefined ? nproductcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            // loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        mapOfFilterRegData['nproductcode'] = -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = -1\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            //loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                mapOfFilterRegData['nproductcode'] = -1;\r\n                                mapOfFilterRegData['nproductcatcode'] = -1\r\n                                const inputParam = {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName,\r\n                                    //loadPreregister:true\r\n                                }\r\n                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                    selectedRecord1,\r\n                                    newcomboData.comboData, inputParam))\r\n                            }\r\n                        } else {\r\n                            mapOfFilterRegData['nproductcode'] = -1;\r\n                            mapOfFilterRegData['nproductcatcode'] = -1\r\n                            const inputParam = {\r\n                                timeZoneList,\r\n                                defaultTimeZone,\r\n                                masterData,\r\n                                ncontrolcode: editId,\r\n                                openModal,\r\n                                comboComponents,\r\n                                withoutCombocomponent,\r\n                                openPortal,\r\n                                columnList,\r\n                                childColumnList,\r\n                                operation,\r\n                                screenName,\r\n                                //loadPreregister:true\r\n                            }\r\n                            //console.log(\"selectedRecord1 action2:\", selectedRecord1);\r\n                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                selectedRecord1,\r\n                                newcomboData.comboData, inputParam))\r\n                        }\r\n                    }\r\n                    else if (mapOfFilterRegData.nsampletypecode === SampleType.PROJECTSAMPLETYPE) {\r\n                        const ProductCategory = comboComponents.filter(x => x.name === 'Product Category');\r\n                        const project = comboComponents.filter(x => x.name === 'Project Code');\r\n                        let nprojectMasterCode = -1;\r\n                        if (project && project.length > 0 && mapOfFilterRegData['nprojectSpecReqd'] == transactionStatus.YES) {\r\n                            nprojectMasterCode = selectedRecord1[project[0].label] &&\r\n                                selectedRecord1[project[0].label].value;\r\n                        }\r\n\r\n                        if (ProductCategory.length > 0) {\r\n                            const nproductcatcode = selectedRecord1[ProductCategory[0].label] &&\r\n                                selectedRecord1[ProductCategory[0].label].value;\r\n                            let ncategorybasedFlow = selectedRecord1[ProductCategory[0].label]\r\n                                && selectedRecord1[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (mapOfFilterRegData.sampletypecategorybasedflow === transactionStatus.YES) {\r\n                                ncategorybasedFlow = transactionStatus.YES;\r\n                            }\r\n\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === 3) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = nproductcatcode;\r\n                                    mapOfFilterRegData['nprojectmastercode'] = nprojectMasterCode || -1;\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName,\r\n                                        // loadPreregister:true\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Product = comboComponents.filter(x => x.name === 'Product');\r\n                                    if (Product.length > 0) {\r\n                                        const nproductcode = selectedRecord1[Product[0].label]\r\n                                            && selectedRecord1[Product[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = nproductcode !== undefined ? nproductcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = nproductcatcode;\r\n                                        mapOfFilterRegData['nprojectmastercode'] = nprojectMasterCode || -1;\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            // loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        mapOfFilterRegData['nproductcode'] = -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = -1;\r\n                                        mapOfFilterRegData['nprojectmastercode'] = nprojectMasterCode || -1;\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName,\r\n                                            //loadPreregister:true\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                mapOfFilterRegData['nproductcode'] = -1;\r\n                                mapOfFilterRegData['nproductcatcode'] = -1;\r\n                                mapOfFilterRegData['nprojectmastercode'] = nprojectMasterCode || -1;\r\n                                const inputParam = {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName,\r\n                                    //loadPreregister:true\r\n                                }\r\n                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                    selectedRecord1,\r\n                                    newcomboData.comboData, inputParam))\r\n                            }\r\n                        }\r\n                        else {\r\n                            mapOfFilterRegData['nproductcode'] = -1;\r\n                            mapOfFilterRegData['nproductcatcode'] = -1;\r\n                            mapOfFilterRegData['nprojectmastercode'] = nprojectMasterCode || -1;\r\n                            const inputParam = {\r\n                                timeZoneList,\r\n                                defaultTimeZone,\r\n                                masterData,\r\n                                ncontrolcode: editId,\r\n                                openModal,\r\n                                comboComponents,\r\n                                withoutCombocomponent,\r\n                                openPortal,\r\n                                columnList,\r\n                                childColumnList,\r\n                                operation,\r\n                                screenName,\r\n                                //loadPreregister:true\r\n                            }\r\n                            //console.log(\"selectedRecord1 action2:\", selectedRecord1);\r\n                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                selectedRecord1,\r\n                                newcomboData.comboData, inputParam))\r\n                        }\r\n                    }\r\n\r\n                }\r\n            })\r\n            .catch(error => {\r\n                //console.log(\"error:\", error);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getChildValues(inputParem,\r\n    userinfo, selectedRecord, comboData, parentcolumnlist,\r\n    childcolumnlist, withoutCombocomponent, parentListWithReadonly,\r\n    productCategory, product, mapOfRegFilterData,\r\n    instrumentCategory, instrument, materialCategory,\r\n    material, materialType, subsample, project) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post('dynamicpreregdesign/getChildValues', {\r\n            child: inputParem.child,\r\n            parentdata: inputParem.item.jsondata,\r\n            parentsource: inputParem.source,\r\n            [inputParem.primarykeyField]: inputParem.value,\r\n            valuemember: inputParem.primarykeyField,\r\n            childcolumnlist,\r\n            userinfo,\r\n            parentcolumnlist\r\n        })\r\n            .then(response => {\r\n                let returnObj = { ...comboData, ...response.data }\r\n                returnObj = parentChildComboLoad(parentListWithReadonly, returnObj, selectedRecord, childcolumnlist, withoutCombocomponent, inputParem, userinfo.slanguagetypecode, userinfo)\r\n                selectedRecord = { ...selectedRecord, ...returnObj.selectedRecord }\r\n                if (subsample) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            SubSamplecomboData: { ...returnObj.comboData },\r\n                            selectComponent: selectedRecord,\r\n                            screenName: inputParem.screenName,\r\n                            selectedMaster: [],\r\n                            addMaster: false,\r\n                            selectedControl: [],\r\n                            masterComboColumnFiled: [],\r\n                            masterDesign: [],\r\n                            masterextractedColumnList: [],\r\n                            masterfieldList: [],\r\n                            masterdataList: [],\r\n                            mastercomboComponents: [],\r\n                            masterwithoutCombocomponent: [],\r\n                            masterIndex: undefined\r\n                        }\r\n                    })\r\n                }\r\n                else if (project) {\r\n                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\r\n                }\r\n                else if (productCategory) {\r\n                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }));\r\n                }\r\n                else if (product) {\r\n                    if (selectedRecord[inputParem.nameofdefaultcomp === \"Product\" ? inputParem.label : inputParem.ProductName]) {\r\n                        mapOfRegFilterData[\"nproductcode\"] = selectedRecord[inputParem.nameofdefaultcomp === \"Product\" ? inputParem.label : inputParem.ProductName] ? selectedRecord[inputParem.nameofdefaultcomp === \"Product\" ? inputParem.label : inputParem.ProductName].value : -1\r\n                        dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                    } else {\r\n                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                        selectedRecord[\"sversion\"] = \"\"\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                AgaramTree: [],\r\n                                ActiveKey: [],\r\n                                FocusKey: [],\r\n                                OpenNodes: [],\r\n                                Test: [],\r\n                                SelectedTest: [],\r\n                                selectedSpec: {},\r\n                                Component: [],\r\n                                selectComponent: {},\r\n                                selectedComponent: {},\r\n                                Specification: [],\r\n                                selectedMaster: [],\r\n                                subSampleDataGridList:[]\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n                else if (instrumentCategory) {\r\n                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                }\r\n                else if (materialCategory) {\r\n                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                }\r\n                else if (instrument) {\r\n                    if (selectedRecord[inputParem.nameofdefaultcomp === \"Instrument\" ? inputParem.label : inputParem.InstrumentName]) {\r\n                        mapOfRegFilterData[\"nproductcode\"] = selectedRecord[inputParem.nameofdefaultcomp === \"Instrument\" ?\r\n                            inputParem.label : inputParem.InstrumentName] ? selectedRecord[inputParem.nameofdefaultcomp === \"Instrument\" ? inputParem.label : inputParem.InstrumentName].value : -1\r\n                        dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                    } else {\r\n                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                        selectedRecord[\"sversion\"] = \"\"\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                AgaramTree: [],\r\n                                ActiveKey: [],\r\n                                FocusKey: [],\r\n                                OpenNodes: [],\r\n                                Test: [],\r\n                                SelectedTest: [],\r\n                                selectedSpec: {},\r\n                                Component: [],\r\n                                selectComponent: {},\r\n                                selectedComponent: {},\r\n                                Specification: [],\r\n                                selectedMaster: [],\r\n                                addMaster: false\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n                else if (material) {\r\n                    if (selectedRecord[inputParem.nameofdefaultcomp === \"Material\" ? inputParem.label : inputParem.MaterialName]) {\r\n                        mapOfRegFilterData[\"nproductcode\"] = selectedRecord[inputParem.nameofdefaultcomp === \"Material\" ?\r\n                            inputParem.label : inputParem.MaterialName] ? selectedRecord[inputParem.nameofdefaultcomp === \"Material\" ? inputParem.label : inputParem.MaterialName].value : -1\r\n                        dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                    } else {\r\n                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                        selectedRecord[\"sversion\"] = \"\"\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                AgaramTree: [],\r\n                                ActiveKey: [],\r\n                                FocusKey: [],\r\n                                OpenNodes: [],\r\n                                Test: [],\r\n                                SelectedTest: [],\r\n                                selectedSpec: {},\r\n                                Component: [],\r\n                                selectComponent: {},\r\n                                selectedComponent: {},\r\n                                Specification: [],\r\n                                selectedMaster: [],\r\n                                addMaster: false\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n                else if (materialType) {\r\n                    if (selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ? inputParem.MaterialCategoryName : inputParem.label]) {\r\n                        const productCategory = selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ?\r\n                            inputParem.MaterialCategoryName : inputParem.label] ? selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ?\r\n                                inputParem.MaterialCategoryName : inputParem.label] : undefined\r\n\r\n                        //  mapOfRegFilterData[\"nproductcatcode\"]\r\n                        if (productCategory !== undefined) {\r\n                            if (productCategory.item.ncategorybasedflow === 3) {\r\n                                mapOfRegFilterData[\"nproductcatcode\"] = productCategory.value\r\n                                mapOfRegFilterData[\"nproductcode\"] = -1\r\n                                dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                            } else {\r\n\r\n                                const product = selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ?\r\n                                    inputParem.MaterialName : inputParem.label] ? selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ?\r\n                                        inputParem.MaterialName : inputParem.label] : undefined\r\n                                if (product !== undefined) {\r\n                                    mapOfRegFilterData[\"nproductcatcode\"] = productCategory.value\r\n                                    mapOfRegFilterData[\"nproductcode\"] = product.value\r\n                                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                                } else {\r\n\r\n                                    const product = selectedRecord[inputParem.nameofdefaultcomp === \"MaterialType\" ?\r\n                                        inputParem.MaterialName : inputParem.label] ? selectedRecord[inputParem.nameofdefaultcomp === \"MaterialType\" ?\r\n                                            inputParem.MaterialName : inputParem.label] : undefined\r\n                                    if (product !== undefined) {\r\n                                        mapOfRegFilterData[\"nproductcatcode\"] = productCategory.value\r\n                                        mapOfRegFilterData[\"nproductcode\"] = product.value\r\n                                        dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                                    } else {\r\n                                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                                        selectedRecord[\"sversion\"] = \"\"\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                loading: false,\r\n                                                comboData: { ...returnObj.comboData },\r\n                                                selectedRecord,\r\n                                                AgaramTree: [],\r\n                                                ActiveKey: [],\r\n                                                FocusKey: [],\r\n                                                OpenNodes: [],\r\n                                                Test: [],\r\n                                                SelectedTest: [],\r\n                                                selectedSpec: {},\r\n                                                Component: [],\r\n                                                selectComponent: {},\r\n                                                selectedComponent: {},\r\n                                                Specification: [],\r\n                                                selectedMaster: [],\r\n                                                addMaster: false\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n                        } else {\r\n                            selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                            selectedRecord[\"sversion\"] = \"\"\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    loading: false,\r\n                                    comboData: { ...returnObj.comboData },\r\n                                    selectedRecord,\r\n                                    AgaramTree: [],\r\n                                    ActiveKey: [],\r\n                                    FocusKey: [],\r\n                                    OpenNodes: [],\r\n                                    Test: [],\r\n                                    SelectedTest: [],\r\n                                    selectedSpec: {},\r\n                                    Component: [],\r\n                                    selectComponent: {},\r\n                                    selectedComponent: {},\r\n                                    Specification: [],\r\n                                    selectedMaster: [],\r\n                                    addMaster: false\r\n                                }\r\n                            })\r\n                        }\r\n                    } else {\r\n                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                        selectedRecord[\"sversion\"] = \"\"\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                AgaramTree: [],\r\n                                ActiveKey: [],\r\n                                FocusKey: [],\r\n                                OpenNodes: [],\r\n                                Test: [],\r\n                                SelectedTest: [],\r\n                                selectedSpec: {},\r\n                                Component: [],\r\n                                selectComponent: {},\r\n                                selectedComponent: {},\r\n                                Specification: [],\r\n                                selectedMaster: [],\r\n                                addMaster: false\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            comboData: { ...returnObj.comboData },\r\n                            selectedRecord,\r\n                            selectedMaster: [],\r\n                            addMaster: false,\r\n                            selectedControl: [],\r\n                            masterComboColumnFiled: [],\r\n                            masterDesign: [],\r\n                            masterextractedColumnList: [],\r\n                            masterfieldList: [],\r\n                            masterdataList: [],\r\n                            mastercomboComponents: [],\r\n                            masterwithoutCombocomponent: [],\r\n                            masterIndex: undefined,\r\n                            screenName: inputParem.screenName\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function validatePreview(inputParam) {\r\n    return function (dispatch) {\r\n\r\n        rsapi.post(\"dynamicpreregdesign/validatePreview\", { ...inputParam })\r\n            .then(response => {\r\n                if (response.data.rtn === \"Success\") {\r\n                    toast.info(intl.formatMessage({\r\n                        id: \"IDS_SUCCESSFULLYVALIDATE\"\r\n                    }));\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                        }\r\n                    })\r\n                } else {\r\n                    toast.warn(response.data.rtn);\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false, showConfirmAlert: false } })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function addMasterRecord(inputParam) {\r\n    return function (dispatch) {\r\n        rsapi.post(inputParam.classUrl + \"/\" + inputParam.operation + inputParam.methodUrl, { ...inputParam.inputData })\r\n            .then(response => {\r\n                if (response.status === 202) {\r\n                    //HttpStatus:Accepted\r\n                    //Use this block when u need to display any success message\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    toast.success(response.data);\r\n                }\r\n                else if (response.status === 208) {\r\n                    //HttpStatus:Accepted\r\n                    //208-Already Reported\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    toast.warn(response.data);\r\n                } else {\r\n                    let masterIndex = inputParam.masterIndex\r\n                    let data = []\r\n                    const data1 = sortData(response.data);\r\n                    if (inputParam.selectedControl[masterIndex].table.item.component === 'Dynamic') {\r\n                        data = constructOptionList(data1.DynamicMasterData, inputParam.selectedControl[masterIndex].valuemember, inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\")\r\n                    }\r\n                    else if (inputParam.selectedControl[masterIndex].table.item.nformcode === 137) {\r\n                        data = constructOptionList(data1.PatientList, inputParam.selectedControl[masterIndex].valuemember, inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\")\r\n                    }\r\n                    else {\r\n                        data = constructOptionList(data1, inputParam.selectedControl[masterIndex].valuemember, inputParam.selectedControl[masterIndex].displaymember).get(\"OptionList\")\r\n                    }\r\n\r\n                    const newdata = data.map((item1, index) => {\r\n                        item1 = { ...item1, item: { jsondata: { ...item1.item, jsondata: { ...item1.item } } } }\r\n                        return item1;\r\n                    })\r\n                    if (masterIndex === 0) {\r\n                        const selectedRecord = inputParam.selectedRecord || {}\r\n                        const selectedControl = inputParam.selectedControl || {}\r\n\r\n                        const comboData1 = {\r\n                            ...newdata[0], item: {\r\n                                ...newdata[0].item, \"pkey\": selectedControl[masterIndex].valuemember,\r\n                                \"nquerybuildertablecode\": selectedControl[masterIndex].nquerybuildertablecode,\r\n                                \"source\": selectedControl[masterIndex].source\r\n                            }\r\n                        }\r\n\r\n                        selectedRecord[selectedControl[masterIndex].label] = comboData1\r\n\r\n                        const comboData = inputParam.comboData\r\n                        comboData[selectedControl[masterIndex].label] = newdata\r\n\r\n                        if (selectedControl[masterIndex].child && selectedControl[masterIndex].child.length > 0) {\r\n                            const childComboList = getSameRecordFromTwoArrays(inputParam.comboComponents, selectedControl[masterIndex].child, \"label\")\r\n                            let childColumnList = {};\r\n                            childComboList.map(columnList => {\r\n                                const val = comboChild(inputParam.comboComponents, columnList, childColumnList, false);\r\n                                childColumnList = val.childColumnList\r\n                            })\r\n\r\n                            const parentList = getSameRecordFromTwoArrays(inputParam.withoutCombocomponent, selectedControl[masterIndex].child, \"label\")\r\n\r\n                            const inputParem = {\r\n                                child: selectedControl[masterIndex].child,\r\n                                source: selectedControl[masterIndex].source,\r\n                                primarykeyField: selectedControl[masterIndex].valuemember,\r\n                                value: comboData1.value,\r\n                                item: comboData1.item,\r\n                                screenName: inputParam.screenName\r\n                            }\r\n                            if (inputParam.loadSubSample) {\r\n                                dispatch(getChildValues(inputParem,\r\n                                    inputParam.inputData.userinfo, selectedRecord, comboData,\r\n                                    childComboList, childColumnList,\r\n                                    inputParam.withoutCombocomponent,\r\n                                    [...childComboList, ...parentList], false, false, {},\r\n                                    false, false, false,\r\n                                    false, false, true, false))\r\n                            } else {\r\n                                dispatch(getChildValues(inputParem,\r\n                                    inputParam.inputData.userinfo, selectedRecord, comboData,\r\n                                    childComboList, childColumnList,\r\n                                    inputParam.withoutCombocomponent,\r\n                                    [...childComboList, ...parentList]))\r\n                            }\r\n\r\n\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    loading: false,\r\n                                    addMaster: false,\r\n                                    [inputParam.comboName]: comboData,\r\n                                    selectedMaster: [],\r\n                                    [inputParam.selectedRecordName]: selectedRecord,\r\n                                    screenName: inputParam.screenName,\r\n                                    masterIndex: undefined\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                    else {\r\n\r\n                        let selectedMaster = inputParam.selectedMaster || []\r\n                        let selectedControl = inputParam.selectedControl || []\r\n\r\n                        const comboData1 = {\r\n                            ...newdata[0], item: {\r\n                                ...newdata[0].item, \"pkey\": selectedControl[masterIndex].valuemember,\r\n                                \"nquerybuildertablecode\": selectedControl[masterIndex].nquerybuildertablecode,\r\n                                \"source\": selectedControl[masterIndex].source\r\n                            }\r\n                        }\r\n\r\n                        selectedMaster[masterIndex - 1][selectedControl[masterIndex].label] = comboData1\r\n\r\n                        // const comboData = inputParam.comboData\r\n                        // comboData[selectedControl[masterIndex].label] = newdata\r\n\r\n                        let masterdataList = inputParam.masterdataList || []\r\n                        masterdataList[masterIndex - 1] = { ...masterdataList[masterIndex - 1], [selectedControl[masterIndex].label]: newdata }\r\n\r\n                        if (selectedControl[masterIndex].child && selectedControl[masterIndex].child.length > 0) {\r\n                            const childComboList = getSameRecordFromTwoArrays(inputParam.mastercomboComponents[masterIndex - 1], selectedControl[masterIndex].child, \"label\")\r\n                            let childColumnList = {};\r\n                            childComboList.map(columnList => {\r\n                                const val = comboChild(inputParam.mastercomboComponents[masterIndex - 1], columnList, childColumnList, false);\r\n                                childColumnList = val.childColumnList\r\n                            })\r\n\r\n                            const parentList = getSameRecordFromTwoArrays(inputParam.masterwithoutCombocomponent[masterIndex - 1], selectedControl[masterIndex].child, \"label\")\r\n\r\n                            const inputParem = {\r\n                                child: selectedControl[masterIndex].child,\r\n                                source: selectedControl[masterIndex].source,\r\n                                primarykeyField: selectedControl[masterIndex].valuemember,\r\n                                value: comboData1.value,\r\n                                item: comboData1.item,\r\n                                screenName: inputParam.screenName\r\n                            }\r\n\r\n                            dispatch(getChildValuesForMasterAdd(inputParem,\r\n                                inputParam.inputData.userinfo, selectedMaster, inputParam.masterdataList,\r\n                                childComboList, childColumnList,\r\n                                inputParam.masterwithoutCombocomponent,\r\n                                [...childComboList, ...parentList], masterIndex, inputParam))\r\n\r\n\r\n\r\n                        } else {\r\n\r\n                            selectedControl = selectedControl && removeIndex(selectedControl, masterIndex)\r\n                            selectedMaster = selectedMaster && removeIndex(selectedMaster, masterIndex)\r\n\r\n                            const mastercomboComponents = inputParam.mastercomboComponents && removeIndex(inputParam.mastercomboComponents, masterIndex)\r\n                            const masterwithoutCombocomponent = inputParam.masterwithoutCombocomponent && removeIndex(inputParam.masterwithoutCombocomponent, masterIndex)\r\n                            const masterComboColumnFiled = inputParam.masterComboColumnFiled && removeIndex(inputParam.masterComboColumnFiled, masterIndex)\r\n                            const masterextractedColumnList = inputParam.masterextractedColumnList && removeIndex(inputParam.masterextractedColumnList, masterIndex)\r\n                            masterdataList = masterdataList && removeIndex(masterdataList, masterIndex)\r\n                            const masterDesign = inputParam.masterDesign && removeIndex(inputParam.masterDesign, masterIndex)\r\n                            const masterfieldList = inputParam.masterfieldList && removeIndex(inputParam.masterfieldList, masterIndex)\r\n                            const screenName = selectedControl[masterIndex - 1].displayname[inputParam.userinfo.slanguagetypecode]\r\n                            masterIndex = (parseInt(masterIndex) - 1)\r\n\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    selectedControl,\r\n                                    selectedMaster,\r\n                                    mastercomboComponents,\r\n                                    masterwithoutCombocomponent,\r\n                                    masterComboColumnFiled,\r\n                                    masterextractedColumnList,\r\n                                    masterdataList,\r\n                                    masterDesign,\r\n                                    masterfieldList,\r\n                                    loading: false,\r\n                                    // addMaster: false,\r\n                                    // masterdataList,\r\n                                    // selectedMaster: {},\r\n                                    //  selectedMaster: selectedMaster,\r\n\r\n                                    screenName,\r\n                                    masterIndex,\r\n\r\n                                }\r\n                            })\r\n                        }\r\n\r\n                    }\r\n\r\n\r\n                }\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n// export function removeIndex(data, removeIndex) {\r\n//     const data1 = [...data.splice(0, removeIndex), ...data.splice(removeIndex + 1)]\r\n//     return data1\r\n// }\r\n\r\nexport function getAddMasterCombo(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let urlArray = [];\r\n        let masterIndex = inputParam.masterIndex\r\n        inputParam.masterComboColumnFiled[masterIndex].map(item => {\r\n            if (item.needService === undefined) {\r\n                urlArray.push(rsapi.post(item.classUrl + \"/\" + item.methodUrl, { userinfo: inputParam.userinfo }))\r\n            }\r\n        }\r\n        )\r\n        if (inputParam.selectedControl[masterIndex].table.item.nformcode === 137) {\r\n            urlArray.push(rsapi.post(\"timezone/getLocalTimeByZone\", { userinfo: inputParam.userinfo }));\r\n        }\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let ComboFieldData = [];\r\n                let masterdataList = inputParam.masterdataList;\r\n\r\n                inputParam.masterComboColumnFiled[masterIndex].map((item, index) => {\r\n                    if (item.needService === undefined) {\r\n                        ComboFieldData = constructOptionList(item.objectValue === null ? response[index].data || [] : response[index].data[item.objectValue], item.foreignDataField,\r\n                            item.dataField, undefined, undefined, undefined);\r\n                        masterdataList[masterIndex][item.dataField] = ComboFieldData.get(\"OptionList\");\r\n                    } else {\r\n                        if (item.child !== undefined) {\r\n                            masterdataList[masterIndex][item.dataField] = []\r\n                        } else if (item.useService !== undefined) {\r\n                            masterdataList[masterIndex][item.dataField] = masterdataList[masterIndex][inputParam.masterComboColumnFiled[masterIndex][item.useService].dataField]\r\n                        }\r\n\r\n                    }\r\n                });\r\n                let currentTime = ''\r\n                let selectedMaster = inputParam.selectedMaster || []\r\n                if (inputParam.selectedControl[masterIndex].table.item.nformcode === 137) {\r\n                    //const data=inputParam.masterComboColumnFiled.filter(x=>x.needService===undefined)\r\n                    currentTime = rearrangeDateFormat(inputParam.userinfo, response[urlArray.length - 1].data);\r\n                    selectedMaster[masterIndex][\"ddob\"] = rearrangeDateFormat(inputParam.userinfo, response[urlArray.length - 1].data);\r\n                    selectedMaster[masterIndex][\"sage\"] = ageCalculate(selectedMaster[\"ddob\"])\r\n                    selectedMaster[masterIndex][\"nneedcurrentaddress\"] = transactionStatus.NO;\r\n                    selectedMaster[masterIndex][\"today\"] = inputParam.userinfo;\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterIndex,\r\n                        selectedMaster,\r\n                        masterdataList,\r\n                        addMaster: true,\r\n                        loading: false,\r\n                        selectedControl: inputParam.selectedControl,\r\n                        masterfieldList: inputParam.masterfieldList,\r\n                        masterextractedColumnList: inputParam.masterextractedColumnList,\r\n                        masterprimaryKeyField: inputParam.masterprimaryKeyField,\r\n                        masterComboColumnFiled: inputParam.masterComboColumnFiled,\r\n                        screenName: inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode],\r\n                        mastercomboComponents: inputParam.mastercomboComponents,\r\n                        masterwithoutCombocomponent: inputParam.masterwithoutCombocomponent,\r\n                        masterDesign: inputParam.masterDesign,\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch(initRequest(false));\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getDynamicMasterTempalte(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const masterIndex = inputParam.masterIndex\r\n        rsapi.post(inputParam.selectedControl[masterIndex].table.item.classUrl + \"/getMasterDesign\",\r\n            { userinfo: { ...inputParam.userinfo, nformcode: inputParam.selectedControl[inputParam.masterIndex].table.item.nformcode } })\r\n            .then(response => {\r\n                const design = response.data\r\n                const masterwithoutCombocomponent = inputParam.masterwithoutCombocomponent || []\r\n                let data = inputParam.masterdesignData || []\r\n                const masterextractedColumnList = inputParam.masterextractedColumnList || []\r\n\r\n                //masterwithoutCombocomponent[masterIndex] = []\r\n                // masterextractedColumnList[masterIndex] = []\r\n                data[masterIndex] = []\r\n                design.slideoutdesign.map(row => {\r\n                    row.children.map(column => {\r\n                        column.children.map(component => {\r\n                            if (component.hasOwnProperty(\"children\")) {\r\n                                component.children.map(componentrow => {\r\n                                    if (componentrow.inputtype === \"combo\") {\r\n                                        data[masterIndex].push(componentrow)\r\n                                    } else {\r\n                                        masterwithoutCombocomponent[masterIndex].push(componentrow)\r\n                                    }\r\n                                    if (componentrow.mandatory === true) {\r\n                                        if (componentrow.inputtype === \"email\") {\r\n                                            masterextractedColumnList[masterIndex].push({\r\n                                                \"mandatory\": true, \"idsName\": componentrow.label,\r\n                                                \"dataField\": componentrow.label,\r\n                                                \"alertPreFix\": this.props.intl.formatMessage({ id: \"IDS_VALID\" }),\r\n                                                \"validateFunction\": validateEmail,\r\n                                                \"mandatoryLabel\": \"IDS_ENTER\",\r\n                                                \"controlType\": \"textbox\"\r\n                                            })\r\n                                        }\r\n                                        else {\r\n                                            masterextractedColumnList[masterIndex].push({\r\n                                                \"mandatory\": true,\r\n                                                \"idsName\": componentrow.label,\r\n                                                \"dataField\": componentrow.label,\r\n                                                \"mandatoryLabel\": componentrow.inputtype === \"combo\" ?\r\n                                                    \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                                \"controlType\": componentrow.inputtype === \"combo\" ?\r\n                                                    \"selectbox\" : \"textbox\"\r\n                                            })\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n                            else {\r\n                                component.inputtype === \"combo\" ?\r\n                                    data[masterIndex].push(component)\r\n                                    : masterwithoutCombocomponent[masterIndex].push(component)\r\n\r\n                                if (component.mandatory === true) {\r\n                                    if (component.inputtype === \"email\") {\r\n                                        masterextractedColumnList[masterIndex].push({\r\n                                            \"mandatory\": true, \"idsName\": component.label,\r\n                                            \"dataField\": component.label,\r\n                                            \"alertPreFix\": this.props.intl.formatMessage({ id: \"IDS_VALID\" }),\r\n                                            \"validateFunction\": validateEmail,\r\n                                            \"mandatoryLabel\": \"IDS_ENTER\",\r\n                                            \"controlType\": \"textbox\"\r\n                                        })\r\n                                    }\r\n                                    else {\r\n                                        masterextractedColumnList[masterIndex].push({\r\n                                            \"mandatory\": true,\r\n                                            \"idsName\": component.label,\r\n                                            \"dataField\": component.label,\r\n                                            \"mandatoryLabel\": component.inputtype === \"combo\" ?\r\n                                                \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                            \"controlType\": component.inputtype === \"combo\" ?\r\n                                                \"selectbox\" : \"textbox\"\r\n                                        })\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n                const comboComponents = inputParam.mastercomboComponents || []\r\n                comboComponents[masterIndex] = data[masterIndex];\r\n                let childColumnList = {};\r\n                data[masterIndex].map(columnList => {\r\n                    const val = comboChild(data[masterIndex], columnList, childColumnList, true);\r\n                    data[masterIndex] = val.data;\r\n                    childColumnList = val.childColumnList\r\n                })\r\n\r\n                const masterdesignData = inputParam.masterdesignData || []\r\n                masterdesignData[masterIndex] = [...data[masterIndex]]\r\n                const masterDesign = inputParam.masterDesign || []\r\n                masterDesign[masterIndex] = design\r\n                inputParam = {\r\n                    ...inputParam,\r\n                    masterchildColumnList: childColumnList,\r\n                    mastercomboComponents: comboComponents,\r\n                    masterextractedColumnList,\r\n                    masterwithoutCombocomponent,\r\n                    masterDesign,\r\n                    masterdesignData\r\n                }\r\n                dispatch(getDynamicMasterComboForAdd(inputParam, true))\r\n\r\n                // dispatch({\r\n                //     type: DEFAULT_RETURN,\r\n                //     payload: {\r\n                //         addMaster: true,\r\n                //         loading: false,\r\n                //         selectedControl: inputParam.selectedControl,\r\n                //         masterchildColumnList: childColumnList,\r\n                //         mastercomboComponents: comboComponents,\r\n                //         mastermandatoryFields,\r\n                //         masterwithoutCombocomponent,\r\n                //         masterDesign: design\r\n\r\n                //     }\r\n                // })\r\n            })\r\n            .catch(error => {\r\n                dispatch(initRequest(false));\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getDynamicMasterComboForAdd(inputParam, preview) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const masterIndex = inputParam.masterIndex\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\r\n            parentcolumnlist: inputParam.masterdesignData[masterIndex],\r\n            childcolumnlist: inputParam.masterchildColumnList,\r\n            userinfo: inputParam.userinfo\r\n        })\r\n        let urlArray = [timeZoneService, actualService];\r\n\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: inputParam.userinfo.stimezoneid, value: inputParam.userinfo.ntimezonecode }\r\n                let selectedMaster = inputParam.selectedMaster || []\r\n                selectedMaster[masterIndex] = selectedMaster[masterIndex] && { ...selectedMaster[masterIndex] } || {}\r\n                const newcomboData = parentChildComboLoad(inputParam.masterdesignData[masterIndex], response[1].data, selectedMaster[masterIndex], inputParam.masterchildColumnList,\r\n                    inputParam.masterwithoutCombocomponent[masterIndex], undefined, inputParam.userinfo.slanguagetypecode, inputParam.userinfo)\r\n\r\n                const comboData1 = newcomboData.comboData\r\n                const selectedRecord1 = newcomboData.selectedRecord\r\n                inputParam.masterwithoutCombocomponent[masterIndex].map(componentrow => {\r\n                    if (componentrow.inputtype === \"date\") {\r\n                        if (componentrow.mandatory) {\r\n                            selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? new Date() : \"\";\r\n                        }\r\n                    }\r\n                    else if (componentrow.inputtype === \"radio\") {\r\n                        selectedRecord1[componentrow.label] = componentrow.radioOptions ?\r\n                            componentrow.radioOptions.tags[0].text : \"\";\r\n                    }\r\n\r\n                })\r\n                //const masterchildColumnList=inputParam.masterchildColumnList || []\r\n                // masterchildColumnList[masterIndex] = comboData1\r\n                const masterdataList = inputParam.masterdataList || []\r\n                masterdataList[masterIndex] = comboData1\r\n                selectedMaster[masterIndex] = { ...selectedMaster[masterIndex], selectedRecord1 }\r\n                if (preview) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            ...inputParam,\r\n                            mastertimeZoneList: timeZoneList,\r\n                            masterdefaultTimeZone: defaultTimeZone,\r\n                            loading: false,\r\n                            addMaster: true,\r\n                            masterdataList,\r\n                            selectedMaster,\r\n                            mastercomboComponents: inputParam.mastercomboComponents,\r\n                            masterwithoutCombocomponent: inputParam.masterwithoutCombocomponent,\r\n                            masterdesignData: inputParam.masterdesignData,\r\n                            masterIndex,\r\n                            // masterchildColumnList: inputParam.masterchildColumnList,\r\n                            screenName: inputParam.selectedControl[masterIndex].displayname[inputParam.userinfo.slanguagetypecode]\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(\"error:\", error);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getChildValuesForAddMaster(inputParam,\r\n    userinfo, selectedMaster, comboData, parentcolumnlist,\r\n    childcolumnlist, withoutCombocomponent, parentListWithReadonly, masterIndex\r\n) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post('dynamicpreregdesign/getChildValues', {\r\n            child: inputParam.child,\r\n            parentdata: inputParam.item.jsondata,\r\n            parentsource: inputParam.source,\r\n            [inputParam.primarykeyField]: inputParam.value,\r\n            valuemember: inputParam.primarykeyField,\r\n            childcolumnlist,\r\n            userinfo,\r\n            parentcolumnlist\r\n        })\r\n            .then(response => {\r\n                let returnObj = { ...comboData[masterIndex], ...response.data }\r\n                returnObj = parentChildComboLoad(parentListWithReadonly, returnObj, selectedMaster[masterIndex], childcolumnlist, withoutCombocomponent[masterIndex], inputParam, userinfo.slanguagetypecode, userinfo)\r\n                selectedMaster[masterIndex] = { ...selectedMaster[masterIndex], ...returnObj.selectedRecord }\r\n                const masterdataList = comboData || []\r\n                masterdataList[masterIndex] = returnObj.comboData\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        masterdataList,\r\n                        selectedMaster\r\n                    }\r\n                })\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport function getChildComboMaster(selectedMaster, filedName,\r\n    item, selectedControl, masterComboColumnFiled, masterdataList, userInfo, masterIndex) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let urlArray = [];\r\n        const obj = masterComboColumnFiled[masterIndex][item.childIndex]\r\n        urlArray.push(rsapi.post(obj.classUrl + \"/\" + obj.methodUrl, { [item.foreignDataField]: selectedMaster[masterIndex][item.tableDataField], userinfo: userInfo }))\r\n\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                selectedMaster[masterIndex][obj.dataField] = undefined\r\n                const ComboFieldData = constructOptionList(obj.objectValue === null ? response[0].data || [] : response[0].data[obj.objectValue], obj.foreignDataField,\r\n                    obj.foreignDisplayMember, undefined, undefined, undefined);\r\n                masterdataList[masterIndex][obj.dataField] = ComboFieldData.get(\"OptionList\");\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        selectedMaster,\r\n                        masterdataList,\r\n                        loading: false,\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch(initRequest(false));\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function getChildValuesForMasterAdd(inputParem,\r\n    userinfo, selectedMaster, masterdataList, parentcolumnlist,\r\n    childcolumnlist, withoutCombocomponent, parentListWithReadonly,\r\n    masterIndex, inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post('dynamicpreregdesign/getChildValues', {\r\n            child: inputParem.child,\r\n            parentdata: inputParem.item.jsondata,\r\n            parentsource: inputParem.source,\r\n            [inputParem.primarykeyField]: inputParem.value,\r\n            valuemember: inputParem.primarykeyField,\r\n            childcolumnlist,\r\n            userinfo,\r\n            parentcolumnlist\r\n        })\r\n            .then(response => {\r\n                let returnObj = { ...masterdataList[masterIndex - 1], ...response.data }\r\n                returnObj = parentChildComboLoad(parentListWithReadonly, returnObj,\r\n                    selectedMaster[masterIndex - 1],\r\n                    childcolumnlist, withoutCombocomponent[masterIndex - 1], inputParem,\r\n                    userinfo.slanguagetypecode, userinfo)\r\n                selectedMaster[masterIndex - 1] = { ...selectedMaster[masterIndex - 1], ...returnObj.selectedRecord }\r\n                masterdataList[masterIndex - 1] = returnObj.comboData\r\n\r\n\r\n                // const dataList = {\r\n\r\n                // }\r\n                const selectedControl = inputParam.selectedControl && removeIndex(inputParam.selectedControl, masterIndex)\r\n                selectedMaster = selectedMaster && removeIndex(selectedMaster, masterIndex)\r\n\r\n                const mastercomboComponents = inputParam.mastercomboComponents && removeIndex(inputParam.mastercomboComponents, masterIndex)\r\n                const masterwithoutCombocomponent = inputParam.masterwithoutCombocomponent && removeIndex(inputParam.masterwithoutCombocomponent, masterIndex)\r\n                const masterComboColumnFiled = inputParam.masterComboColumnFiled && removeIndex(inputParam.masterComboColumnFiled, masterIndex)\r\n                const masterextractedColumnList = inputParam.masterextractedColumnList && removeIndex(inputParam.masterextractedColumnList, masterIndex)\r\n                masterdataList = masterdataList && removeIndex(masterdataList, masterIndex)\r\n                const masterDesign = inputParam.masterDesign && removeIndex(inputParam.masterDesign, masterIndex)\r\n                const masterfieldList = inputParam.masterfieldList && removeIndex(inputParam.masterfieldList, masterIndex)\r\n                const screenName = selectedControl[masterIndex - 1].displayname[inputParam.userinfo.slanguagetypecode]\r\n                masterIndex = (parseInt(masterIndex) - 1)\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        // selectedControl: inputParam.selectedControl && removeIndex(inputParam.selectedControl, masterIndex),\r\n                        // selectedMaster: selectedMaster && removeIndex(selectedMaster, masterIndex),\r\n                        // mastercomboComponents: inputParam.mastercomboComponents && removeIndex(inputParam.mastercomboComponents, masterIndex),\r\n                        // masterwithoutCombocomponent: inputParam.masterwithoutCombocomponent && removeIndex(inputParam.masterwithoutCombocomponent, masterIndex),\r\n                        // masterComboColumnFiled: inputParam.masterComboColumnFiled && removeIndex(inputParam.masterComboColumnFiled, masterIndex),\r\n                        // masterextractedColumnList: inputParam.masterextractedColumnList && removeIndex(inputParam.masterextractedColumnList, masterIndex),\r\n                        // masterdataList: masterdataList && removeIndex(masterdataList, masterIndex),\r\n                        // masterDesign: inputParam.masterDesign && removeIndex(inputParam.masterDesign, masterIndex),\r\n                        // masterfieldList: inputParam.masterfieldList && removeIndex(inputParam.masterfieldList, masterIndex),\r\n                        // screenName: inputParam.selectedControl[masterIndex - 1].displayname[userinfo.slanguagetypecode],\r\n                        // loading: false,\r\n                        //masterdataList,\r\n                        //selectedMaster,\r\n                        // ...dataList,\r\n                        //   masterIndex: (parseInt(masterIndex) - 1),\r\n                        // screenName: inputParem.screenName\r\n\r\n\r\n                        selectedControl,\r\n                        selectedMaster,\r\n                        mastercomboComponents,\r\n                        masterwithoutCombocomponent,\r\n                        masterComboColumnFiled,\r\n                        masterextractedColumnList,\r\n                        masterdataList,\r\n                        masterDesign,\r\n                        masterfieldList,\r\n                        loading: false,\r\n                        // addMaster: false,\r\n                        // masterdataList,\r\n                        // selectedMaster: {},\r\n                        //  selectedMaster: selectedMaster,\r\n\r\n                        screenName,\r\n                        masterIndex,\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}