{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\COARelease.jsx\";\nimport React from 'react';\nimport { ListWrapper } from '../components/client-group.styles';\nimport { Row, Col } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport { process } from '@progress/kendo-data-query';\nimport { intl } from '../components/App';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport { callService, crudMaster, updateStore, validateEsignCredential, getSubSampleBySample, getReleaseSelectedSamples, filterColumnData, getReleaseSelectedSampleSubSampleTest, getReleaseSelectedSubSamples, getTestBySample, getReleaseSelectedTest, xmlExportAction, getReleaseRegistrationType, getReleaseRegistrationSubType, getReleaseFilterStatus, getReleaseApprovalVersion, getReleaseFilterBasedTest, getReleaseSample } from '../actions';\nimport Esign from '../pages/audittrail/Esign';\nimport { DEFAULT_RETURN } from '../actions/LoginTypes';\nimport { showEsign, getControlMap, convertDateValuetoString, rearrangeDateFormat, constructOptionList, searchData, searchJsonData } from '../components/CommonScript';\nimport { designProperties, transactionStatus } from '../components/Enumeration';\nimport DataGridWithMultipleGrid from '../components/data-grid/DataGridWithMultipleGrid';\nimport BreadcrumbComponentToolbar from '../components/ToolbarBreadcrumb.Component';\nimport { getSelectedState } from \"@progress/kendo-react-grid\";\nimport COAReleaseFilter from './coarelease/COAReleaseFilter';\nimport TrainingUpdateChildTab from './competencemanagement/trainingupdate/TrainingUpdateChildTab';\nimport { Affix } from 'rsuite';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass COARelease extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleExpandChange = (row, dataState) => {\n      const viewParam = {\n        nsitecode: -1,\n        userInfo: this.props.Login.userInfo,\n        primaryKeyField: \"npreregno\",\n        masterData: this.props.Login.masterData\n      };\n      this.props.getSubSampleBySample({ ...viewParam,\n        dataState,\n        primaryKeyValue: row[\"dataItem\"][viewParam.primaryKeyField],\n        viewRow: row[\"dataItem\"]\n      });\n    };\n\n    this.handleExpandChange = (row, dataState) => {\n      const viewParam = {\n        nsitecode: -1,\n        userInfo: this.props.Login.userInfo,\n        primaryKeyField: \"npreregno\",\n        masterData: this.props.Login.masterData\n      };\n      this.props.getSubSampleBySample({ ...viewParam,\n        dataState,\n        primaryKeyValue: row[\"dataItem\"][viewParam.primaryKeyField],\n        viewRow: row[\"dataItem\"]\n      });\n    };\n\n    this.childHandleExpandChange = (row, dataState) => {\n      const viewParam = {\n        nsitecode: -1,\n        userInfo: this.props.Login.userInfo,\n        primaryKeyField: \"npreregno\",\n        masterData: this.props.Login.masterData\n      };\n      this.props.getTestBySample({ ...viewParam,\n        dataState,\n        primaryKeyValue: row[\"dataItem\"][viewParam.primaryKeyField],\n        viewRow: row[\"dataItem\"]\n      });\n    };\n\n    this.dataStateChange = event => {\n      this.setState({\n        dataState: event.dataState,\n        dataResult: process(this.state.data, event.dataState)\n      });\n      this.expandNextData(event.dataState);\n    };\n\n    this.handleDateChange = (dateName, dateValue) => {\n      if (dateValue === null) {\n        dateValue = new Date();\n      }\n\n      let dfrom = this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date();\n      let dto = this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date();\n      let obj = {};\n\n      if (dateName === 'fromDate') {\n        obj = convertDateValuetoString(dateValue, dto, this.props.Login.userInfo);\n        dfrom = obj.fromDate;\n        dto = obj.toDate;\n      } else {\n        obj = convertDateValuetoString(dfrom, dateValue, this.props.Login.userInfo);\n        dfrom = obj.fromDate;\n        dto = obj.toDate;\n      }\n\n      let inputParam = {\n        inputData: {\n          nflag: 2,\n          nregtypecode: this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue.nregtypecode,\n          nregsubtypecode: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\n          dfrom: String(dfrom),\n          dto: String(dto),\n          userinfo: this.props.Login.userInfo\n        },\n        masterData: this.props.Login.masterData\n      };\n      this.props.getReleaseApprovalVersion(inputParam);\n    };\n\n    this.onFilterComboChange = (comboData, fieldName) => {\n      if (comboData) {\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n        let inputParamData = {};\n\n        if (fieldName === 'nsampletypecode') {\n          if (comboData.value !== this.props.Login.masterData.SampleTypeValue.nsampletypecode) {\n            inputParamData = {\n              nflag: 2,\n              dfrom: obj.fromDate,\n              dto: obj.toDate,\n              nsampletypecode: comboData.value,\n              userinfo: this.props.Login.userInfo,\n              masterData: this.props.Login.masterData,\n              SampleTypeValue: comboData.item\n            };\n            this.props.getReleaseRegistrationType(inputParamData);\n          }\n        } else if (fieldName === 'nregtypecode') {\n          if (comboData.value !== this.props.Login.masterData.RegTypeValue.nregtypecode) {\n            inputParamData = {\n              nflag: 3,\n              dfrom: obj.fromDate,\n              dto: obj.toDate,\n              nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\n              nregtypecode: comboData.value,\n              userinfo: this.props.Login.userInfo,\n              masterData: this.props.Login.masterData,\n              RegTypeValue: comboData.item\n            };\n            this.props.getReleaseRegistrationSubType(inputParamData);\n          }\n        } else if (fieldName === 'nregsubtypecode') {\n          if (comboData.value !== this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) {\n            let inputData = {\n              nflag: 4,\n              dfrom: obj.fromDate,\n              dto: obj.toDate,\n              nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\n              nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\n              nregsubtypecode: comboData.value,\n              userinfo: this.props.Login.userInfo,\n              nsectioncode: this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") : this.props.Login.masterData.UserSectionValue.nsectioncode\n            };\n            inputParamData = {\n              inputData,\n              masterData: { ...this.props.Login.masterData,\n                RegSubTypeValue: comboData.item\n              }\n            };\n            this.props.getReleaseApprovalVersion(inputParamData);\n          }\n        } else if (fieldName === 'ndesigntemplatemappingcode') {\n          const inputParamData = {\n            dfrom: obj.fromDate,\n            dto: obj.toDate,\n            nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\n            nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\n            nregsubtypecode: this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\n            napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,\n            userinfo: this.props.Login.userInfo,\n            masterData: { ...this.props.Login.masterData\n            },\n            RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue,\n            ntransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\n            stransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus === 0 ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\n            nsectioncode: this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") : this.props.Login.masterData.UserSectionValue.nsectioncode,\n            ndesigntemplatemappingcode: comboData.value,\n            DesignTemplateMappingValue: comboData.item\n          };\n          this.props.getReleaseFilterBasedTest(inputParamData);\n        } else if (fieldName === 'napproveconfversioncode') {\n          if (comboData.value !== this.props.Login.masterData.ApprovalVersionValue.napproveconfversioncode) {\n            inputParamData = {\n              nflag: 4,\n              dfrom: obj.fromDate,\n              dto: obj.toDate,\n              nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\n              nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\n              nregsubtypecode: this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\n              napprovalversioncode: comboData.value,\n              userinfo: this.props.Login.userInfo,\n              masterData: { ...this.props.Login.masterData,\n                ApprovalVersionValue: comboData.item\n              },\n              RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue,\n              nsectioncode: this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") : this.props.Login.masterData.UserSectionValue.nsectioncode,\n              ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode ? this.props.Login.masterData.ndesigntemplatemappingcode : -1\n            };\n            this.props.getReleaseFilterStatus(inputParamData);\n          }\n        } else if (fieldName === 'nsectioncode') {\n          if (comboData.value !== this.props.Login.masterData.UserSectionValue.nsectioncode) {\n            // let masterData = { ...this.props.Login.masterData, UserSectionValue: comboData.item }\n            inputParamData = {\n              dfrom: obj.fromDate,\n              dto: obj.toDate,\n              nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\n              nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\n              nregsubtypecode: this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\n              napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,\n              userinfo: this.props.Login.userInfo,\n              masterData: { ...this.props.Login.masterData,\n                UserSectionValue: comboData.item\n              },\n              RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue,\n              ntransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\n              nsectioncode: comboData.value === -1 ? null // this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") \n              : comboData.value,\n              stransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus === 0 ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\n              ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode ? this.props.Login.masterData.ndesigntemplatemappingcode : -1,\n              DesignTemplateMappingValue: this.props.Login.masterData.DesignTemplateMappingValue && this.props.Login.masterData.DesignTemplateMappingValue\n            };\n            this.props.getReleaseFilterBasedTest(inputParamData);\n          }\n        } else if (fieldName === 'njobstatuscode') {\n          if (comboData.value !== this.props.Login.masterData.JobStatusValue.njobstatuscode) {\n            let masterData = { ...this.props.Login.masterData,\n              JobStatusValue: comboData.item\n            };\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                masterData\n              }\n            };\n            this.props.updateStore(updateInfo);\n          }\n        } else if (fieldName === 'ntestcode') {\n          if (comboData.value !== this.props.Login.masterData.TestValue.ntestcode) {\n            let masterData = { ...this.props.Login.masterData,\n              TestValue: comboData.item\n            };\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                masterData\n              }\n            };\n            this.props.updateStore(updateInfo);\n          }\n        } else {\n          if (comboData.value !== this.props.Login.masterData.FilterStatusValue.ntransactionstatus) {\n            //  let masterData = { ...this.props.Login.masterData, FilterStatusValue: comboData.item }\n            //  const updateInfo = {\n            //     typeName: DEFAULT_RETURN,\n            //    data: { masterData }\n            // }\n            inputParamData = {\n              dfrom: obj.fromDate,\n              dto: obj.toDate,\n              nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\n              nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\n              nregsubtypecode: this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\n              napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,\n              userinfo: this.props.Login.userInfo,\n              masterData: { ...this.props.Login.masterData,\n                FilterStatusValue: comboData.item\n              },\n              RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue,\n              ntransactionstatus: comboData.value,\n              stransactionstatus: comboData.value === 0 ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : comboData.value,\n              nsectioncode: null //this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? \n              //this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") \n              //: this.props.Login.masterData.UserSectionValue.nsectioncode,\n\n            };\n            this.props.getReleaseFilterBasedTest(inputParamData);\n          }\n        }\n      }\n    };\n\n    this.onFilterSubmit = () => {\n      this.searchRef.current.value = \"\";\n      delete this.props.Login.masterData[\"searchedData1\"];\n      delete this.props.Login.masterData[\"searchedData2\"];\n      delete this.props.Login.masterData[\"searchedData3\"];\n      this.props.Login.change = false;\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n      let realFromDate = obj.fromDate;\n      let realToDate = obj.toDate;\n      let realSampleTypeValue = this.props.Login.masterData.SampleTypeValue && this.props.Login.masterData.SampleTypeValue;\n      let realRegTypeValue = this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue;\n      let realRegSubTypeValue = this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue;\n      let realFilterStatusValue = this.props.Login.masterData.FilterStatusValue && this.props.Login.masterData.FilterStatusValue;\n      let realApprovalVersionValue = this.props.Login.masterData.ApprovalVersionValue && this.props.Login.masterData.ApprovalVersionValue;\n      let realUserSectionValue = this.props.Login.masterData.UserSectionValue && this.props.Login.masterData.UserSectionValue;\n      let realTestValue = this.props.Login.masterData.TestValue && this.props.Login.masterData.TestValue;\n      let realDesignTemplateMappingValue = this.props.Login.masterData.DesignTemplateMappingValue && this.props.Login.masterData.DesignTemplateMappingValue;\n      let masterData = { ...this.props.Login.masterData,\n        realFromDate,\n        realToDate,\n        realSampleTypeValue,\n        realRegTypeValue,\n        realRegSubTypeValue,\n        realFilterStatusValue,\n        realApprovalVersionValue,\n        realUserSectionValue,\n        realTestValue,\n        realDesignTemplateMappingValue\n      };\n      let inputData = {\n        npreregno: \"0\",\n        nsampletypecode: this.props.Login.masterData.SampleTypeValue && this.props.Login.masterData.SampleTypeValue.nsampletypecode || -1,\n        nregtypecode: parseInt(this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue.nregtypecode) || -1,\n        nregsubtypecode: parseInt(this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) || -1,\n        ntransactionstatus: this.props.Login.masterData.FilterStatusValue && this.props.Login.masterData.FilterStatusValue.ntransactionstatus !== undefined || this.props.Login.masterData.FilterStatusValue.ntransactionstatus !== '0' ? String(this.props.Login.masterData.FilterStatusValue.ntransactionstatus) : \"-1\",\n        napprovalconfigcode: this.props.Login.masterData.ApprovalVersionValue ? this.props.Login.masterData.ApprovalVersionValue.napprovalconfigcode || -1 : null,\n        napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue && this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode ? String(this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode) : null,\n        nsectioncode: this.props.Login.masterData.UserSectionValue ? this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(section => section.nsectioncode).join(',') : String(this.props.Login.masterData.UserSectionValue.nsectioncode) : null,\n        ntestcode: this.props.Login.masterData.TestValue ? this.props.Login.masterData.TestValue.ntestcode : -1,\n        nneedsubsample: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedsubsample || false,\n        nneedtemplatebasedflow: this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nneedtemplatebasedflow || false,\n        userinfo: this.props.Login.userInfo,\n        ntype: 2,\n        ndesigntemplatemappingcode: this.props.Login.masterData.DesignTemplateMappingValue && this.props.Login.masterData.DesignTemplateMappingValue.ndesigntemplatemappingcode || -1\n      };\n\n      if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1 && inputData.ntransactionstatus !== \"-1\" && inputData.napprovalconfigcode !== -1 && inputData.napprovalversioncode !== \"-1\" && realFilterStatusValue.sfilterstatus !== null && inputData.ntestcode !== undefined) {\n        inputData['dfrom'] = obj.fromDate;\n        inputData['dto'] = obj.toDate;\n        let inputParam = {\n          masterData,\n          inputData,\n          searchSampleRef: this.searchSampleRef,\n          searchSubSampleRef: this.searchSubSampleRef,\n          searchTestRef: this.searchTestRef,\n          skip: this.state.skip,\n          take: this.state.take,\n          testskip: this.state.testskip,\n          testtake: this.state.testtake\n        };\n        this.props.getReleaseSample(inputParam);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTALLVALUESINFILTER\"\n        }));\n      }\n    };\n\n    this.searchedGridData = (filterValue, filterParam) => {\n      let masterData1 = filterParam.masterData;\n      let primaryKeyValue = 0;\n      let searchedData = undefined;\n\n      if (filterValue === \"\") {\n        if (masterData1[filterParam.inputListName] && masterData1[filterParam.inputListName].length > 0) {\n          primaryKeyValue = masterData1[filterParam.inputListName][0][filterParam.primaryKeyField]; // }\n        }\n      } else {\n        if (filterParam.isjsondata) {\n          searchedData = searchJsonData(filterValue, masterData1[filterParam.inputListName], filterParam.searchFieldList || []);\n        } else {\n          searchedData = this.searchNestedGridData(filterValue, masterData1[filterParam.inputListName], filterParam.searchFieldList || [], masterData1);\n        }\n\n        masterData1[\"searchedData3\"] = searchedData.test;\n        masterData1[\"searchedData1\"] = searchedData.sample;\n        masterData1[\"searchedData2\"] = searchedData.subsample; //    masterData1[\"searchedData\"][\"selected\"]=false\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          masterData: { ...masterData1\n          }\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.searchNestedGridData = (filterValue, originalData, fieldList, masterData) => {\n      let searchedData = [];\n      let ntransactionsamplecode = [];\n      let subdata = [];\n      let detail = [];\n      let npreregno = [];\n      Object.entries(originalData).map(item1 => {\n        item1[1].map(item => {\n          detail.push(item);\n        });\n      });\n      let temp = detail.filter(item => {\n        const itemArray = [];\n        fieldList.map(itemKey => item[itemKey] && item[itemKey] !== null ? itemArray.push(typeof item[itemKey] === \"string\" ? item[itemKey].toLowerCase() : item[itemKey].toString().toLowerCase()) : \"\");\n        return itemArray.findIndex(element => element.includes(filterValue.toLowerCase())) > -1;\n      });\n      temp.map(item1 => {\n        if (!npreregno.includes(item1.npreregno)) npreregno.push(item1.npreregno);\n        if (!ntransactionsamplecode.includes(item1.ntransactionsamplecode)) ntransactionsamplecode.push(item1.ntransactionsamplecode);\n      });\n      let test = groupBy(temp, 'ntransactionsamplecode');\n      let sample = masterData.ReleaseSample.filter(item => {\n        for (var i = 0; i < npreregno.length; i++) {\n          if (npreregno[i] === item.npreregno && npreregno[i] !== undefined) {\n            return item;\n          }\n        }\n      });\n      Object.entries(masterData.ReleaseSubSample).map(item1 => {\n        item1[1].map(item => {\n          subdata.push(item);\n        });\n      });\n      let subsample1 = subdata.filter(item => {\n        for (var i = 0; i < ntransactionsamplecode.length; i++) {\n          if (ntransactionsamplecode[i] === item.ntransactionsamplecode && ntransactionsamplecode[i] !== undefined) {\n            return item;\n          }\n        }\n      });\n      let subsample = groupBy(subsample1, \"npreregno\");\n\n      function groupBy(objectArray, property) {\n        return objectArray.reduce((acc, obj) => {\n          const key = obj[property];\n\n          if (!acc[key]) {\n            acc[key] = [];\n          }\n\n          acc[key].push(obj);\n          return acc;\n        }, {});\n      }\n\n      searchedData = {\n        test,\n        sample,\n        subsample\n      };\n      return searchedData;\n    };\n\n    this.checkFunction = data => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          arrayfalse: data.arrayfalse,\n          childfalsearray: data.childfalsearray\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.checkFunction1 = () => {\n      this.setState({\n        count: 1\n      });\n    };\n\n    this.expandFunc = change => {\n      let count = change.count;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          masterData: { ...this.props.Login.masterData\n          },\n          change: change.change,\n          checkFlag: \"1\",\n          count: count\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.releaseRecord = () => {\n      let ntransactionsamplecode = \"\";\n      let ntransactiontestcode = \"\";\n      let npreregno = \"\";\n      let sample = this.props.Login.npreregno.filter((c, index) => {\n        return this.props.Login.npreregno.indexOf(c) === index;\n      });\n      let subsample = this.props.Login.ntransactionsamplecode.filter((c, index) => {\n        return this.props.Login.ntransactionsamplecode.indexOf(c) === index;\n      });\n      let test = this.props.Login.ntransactiontestcode.filter((c, index) => {\n        return this.props.Login.ntransactiontestcode.indexOf(c) === index;\n      });\n      npreregno = sample.map(x => x).join(\",\");\n      ntransactionsamplecode = subsample.map(x => x).join(\",\");\n      ntransactiontestcode = test.map(x => x).join(\",\");\n      let obj = convertDateValuetoString(this.props.Login.masterData.realFromDate, this.props.Login.masterData.realToDate, this.props.Login.userInfo);\n      let ntransCode = this.props.Login.masterData.FilterStatusValue.ntransactionstatus;\n\n      if (ntransCode === transactionStatus.ALL) {\n        ntransCode = this.props.Login.masterData.FilterStatus.map(status => status.ntransactionstatus).join(\",\");\n      } else {\n        ntransCode = ntransCode;\n      }\n\n      const inputParam = {\n        inputData: {\n          change: this.props.Login.change,\n          npreregno: npreregno,\n          ntransactionsamplecode: ntransactionsamplecode,\n          ntransactiontestcode: ntransactiontestcode,\n          nsectioncode: this.props.Login.masterData.UserSectionValue ? this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(section => section.nsectioncode).join(',') : String(this.props.Login.masterData.UserSectionValue.nsectioncode) : null,\n          ntestcode: this.props.Login.masterData.realTestValue && this.props.Login.masterData.realTestValue.ntestcode,\n          // nTransStatus: ntransCode,\n          ntransactionstatus: String(-1),\n          nsampletypecode: this.props.Login.masterData.realSampleTypeValue && this.props.Login.masterData.realSampleTypeValue.nsampletypecode,\n          nregtypecode: this.props.Login.masterData.realRegTypeValue && this.props.Login.masterData.realRegTypeValue.nregtypecode,\n          nregsubtypecode: this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nregsubtypecode,\n          napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,\n          nneedsubsample: this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nneedsubsample || false,\n          nneedtemplatebasedflow: this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nneedtemplatebasedflow || false,\n          dfrom: obj.fromDate,\n          dto: obj.toDate,\n          nflag: 2,\n          ntype: 1,\n          userinfo: this.props.Login.userInfo,\n          APSelectedSample: this.props.Login.masterData.APSelectedSample,\n          APSelectedSubSample: this.props.Login.masterData.APSelectedSubSample,\n          APSelectedTest: this.props.Login.masterData.APSelectedTest,\n          // retestcount: action.ntransactionstatus === transactionStatus.RETEST ? this.state.selectedRecord ? this.state.selectedRecord.retestcount || 1 : 1 : undefined,\n          // ncontrolCode,\n          checkBoxOperation: 3,\n          ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode || -1\n        },\n        userinfo: this.props.Login.userInfo\n      };\n      this.props.getReleaseSelectedSampleSubSampleTest(this.props.Login.userInfo, this.props.Login.masterData, inputParam.inputData);\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      delete this.props.Login.masterData[\"searchedData1\"];\n      delete this.props.Login.masterData[\"searchedData2\"];\n      delete this.props.Login.masterData[\"searchedData3\"]; // this.props.Login.masterData.ReleaseSample.map(item=>item[\"expanded\"]=false)\n\n      this.props.Login.change = false;\n      let {\n        realFromDate,\n        realToDate,\n        realSampleTypeValue,\n        realRegTypeValue,\n        realRegSubTypeValue,\n        realFilterStatusValue,\n        realApprovalVersionValue,\n        realUserSectionValue,\n        realTestValue\n      } = this.props.Login.masterData;\n      let masterData = { ...this.props.Login.masterData,\n        realFromDate,\n        realToDate,\n        realSampleTypeValue,\n        realRegTypeValue,\n        realRegSubTypeValue,\n        realFilterStatusValue,\n        realApprovalVersionValue,\n        realUserSectionValue,\n        realTestValue\n      };\n      let inputData = {\n        npreregno: \"0\",\n        nneedsubsample: realRegSubTypeValue && realRegSubTypeValue.nneedsubsample || false,\n        nneedtemplatebasedflow: realRegSubTypeValue && realRegSubTypeValue.nneedtemplatebasedflow || false,\n        nsampletypecode: realSampleTypeValue && realSampleTypeValue.nsampletypecode || -1,\n        nregtypecode: realRegTypeValue && realRegTypeValue.nregtypecode || -1,\n        nregsubtypecode: realRegSubTypeValue && realRegSubTypeValue.nregsubtypecode || -1,\n        ntransactionstatus: realFilterStatusValue && realFilterStatusValue.ntransactionstatus !== undefined || realFilterStatusValue.ntransactionstatus !== '0' ? String(realFilterStatusValue.ntransactionstatus) : \"-1\",\n        napprovalconfigcode: realApprovalVersionValue ? realApprovalVersionValue.napprovalconfigcode || -1 : null,\n        napprovalversioncode: realApprovalVersionValue && realApprovalVersionValue.napprovalconfigversioncode ? String(realApprovalVersionValue.napprovalconfigversioncode) : null,\n        nsectioncode: realUserSectionValue ? realUserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(section => section.nsectioncode).join(',') : String(realUserSectionValue.nsectioncode) : null,\n        ntestcode: realTestValue && realTestValue.ntestcode ? realTestValue.ntestcode : -1,\n        userinfo: this.props.Login.userInfo,\n        activeTestTab: this.props.Login.activeTestTab || \"\",\n        activeSampleTab: this.props.Login.activeSampleTab || \"\",\n        activeSubSampleTab: this.props.Login.activeSubSampleTab || \"\",\n        checkBoxOperation: 3,\n        ntype: 2,\n        ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode || -1\n      };\n\n      if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1 && inputData.ntransactionstatus !== \"-1\" && inputData.napprovalconfigcode !== -1 && inputData.napprovalversioncode !== \"-1\" && realFilterStatusValue.sfilterstatus !== null) {\n        let obj = convertDateValuetoString(realFromDate, realToDate, this.props.Login.userInfo);\n        inputData['dfrom'] = obj.fromDate;\n        inputData['dto'] = obj.toDate;\n        let inputParam = {\n          masterData,\n          inputData,\n          searchSampleRef: this.searchSampleRef,\n          searchSubSampleRef: this.searchSubSampleRef,\n          searchTestRef: this.searchTestRef,\n          skip: this.state.skip,\n          take: this.state.take,\n          testskip: this.state.testskip,\n          testtake: this.state.testtake,\n          resultDataState: this.state.resultDataState,\n          instrumentDataState: this.state.instrumentDataState,\n          materialDataState: this.state.materialDataState,\n          taskDataState: this.state.taskDataState,\n          documentDataState: this.state.documentDataState,\n          resultChangeDataState: this.state.resultChangeDataState,\n          testCommentDataState: this.state.testCommentDataState,\n          historyDataState: this.state.historyDataState,\n          samplePrintHistoryDataState: this.state.samplePrintHistoryDataState,\n          sampleHistoryDataState: this.state.sampleHistoryDataState\n        };\n        this.props.getReleaseSample(inputParam);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTALLVALUESINFILTER\"\n        }));\n      }\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"]\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.selectionChange = (event, nflag) => {\n      const checked = event.syntheticEvent.target.checked;\n\n      if (nflag === undefined) {\n        this.state.dataResult.data.map(item => {\n          if (item.npreregno === event.dataItem.npreregno) {\n            item.selected = checked;\n          }\n        });\n        let preregno = event.dataItem.npreregno;\n        this.childHeaderSelectionChange(event, preregno);\n      } else {\n        let data = [];\n        event.dataItems.map(item => {\n          data.push({\n            \"npreregno\": item.npreregno\n          });\n        });\n        this.childHeaderSelectionChange(event, data);\n      } // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: {\n      //         data: undefined, dataState: undefined,\n      //     }\n      // }\n      // this.props.updateStore(updateInfo);\n\n    };\n\n    this.childHeaderSelectionChange = (event, preregno, nflag) => {\n      const checked = event.syntheticEvent.target.checked;\n      let subsamplecode = [];\n      let npreregno = preregno === undefined ? event.dataItems[0].npreregno : preregno;\n\n      if (npreregno.length === 0 || npreregno.length === undefined) {\n        this.props.Login.masterData.ReleaseSubSample[npreregno].map(item => {\n          item.selected = checked;\n\n          if (!subsamplecode.includes(item.ntransactionsamplecode)) {\n            subsamplecode.push({\n              \"ntransactionsamplecode\": item.ntransactionsamplecode\n            });\n          }\n        });\n        this.props.Login.masterData.ReleaseSample.map(data => {\n          if (data.npreregno === npreregno) {\n            data.selected = checked;\n          }\n        });\n        this.subChildHeaderSelectionChange(event, subsamplecode);\n      } else {\n        npreregno.map(value => {\n          this.props.Login.masterData.ReleaseSubSample[value.npreregno].map(item => {\n            item.selected = checked;\n\n            if (!subsamplecode.includes(item.ntransactionsamplecode)) {\n              subsamplecode.push({\n                \"ntransactionsamplecode\": item.ntransactionsamplecode\n              });\n            }\n          }); //    this.props.Login.masterData.ReleaseSample.map(data => {\n          //        if (data.npreregno === value.npreregno) {\n          //         data.selected = checked\n          //        }\n          //    })\n        });\n        this.subChildHeaderSelectionChange(event, subsamplecode);\n      } // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: {\n      //         data: undefined, dataState: undefined,\n      //     }\n      // }\n      // this.props.updateStore(updateInfo);\n\n    };\n\n    this.subChildHeaderSelectionChange = (event, subsamplecode) => {\n      const checked = event.syntheticEvent.target.checked;\n      let transactionsamplecode = [];\n\n      if (subsamplecode !== undefined) {\n        transactionsamplecode = subsamplecode;\n        transactionsamplecode.map(value => this.props.Login.masterData.ReleaseTest[value.ntransactionsamplecode].map(item => {\n          item.selected = checked;\n          this.collectData(item);\n          return item;\n        }));\n      } else {\n        let rFlag = true;\n        event.dataItems.map(value => this.props.Login.masterData.ReleaseTest[value.ntransactionsamplecode].map(item => {\n          item.selected = checked;\n          this.collectData(item);\n          return item;\n        }));\n        this.props.Login.masterData.ReleaseSubSample[event.dataItems[0].npreregno].map(item => {\n          if (event.dataItems[0].ntransactionsamplecode === item.ntransactionsamplecode) {\n            item.selected = checked;\n          }\n        });\n        let data = this.props.Login.masterData.ReleaseSubSample[event.dataItems[0].npreregno].every(item => {\n          return item.selected === true;\n        });\n\n        if (data === true) {\n          this.props.Login.masterData.ReleaseSample.map(item => {\n            if (event.dataItems[0].npreregno === item.npreregno) {\n              item.selected = checked;\n            }\n          });\n        } else {\n          this.props.Login.masterData.ReleaseSample.map(item => {\n            if (event.dataItems[0].npreregno === item.npreregno) {\n              item.selected = false;\n            }\n          });\n        } // let x;\n        // let i;\n        // for (i = 0; i < this.props.Login.masterData.ReleaseSample.length; i++){\n        //     x=i\n        //         if (event.dataItems[0].npreregno !== this.props.Login.masterData.ReleaseSample[i].npreregno) {\n        //             // item.selected = checked;\n        //             rFlag = false;\n        //             break;\n        //         }\n        // }\n        // if (rFlag === true) {\n        //     this.props.Login.masterData.ReleaseSample[x].selected = checked;\n        // }\n\n      } // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: {\n      //         data: undefined, dataState: undefined,\n      //     }\n      // }\n      // this.props.updateStore(updateInfo);\n\n    };\n\n    this.headerSelectionChange = event => {\n      const checked = event.syntheticEvent.target.checked;\n      this.state.dataResult.data.map(item => {\n        item.selected = checked;\n        return item;\n      });\n      this.selectionChange(event, 1);\n    };\n\n    this.childSelectionChange = event => {\n      const checked = event.syntheticEvent.target.checked;\n      this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map(item => {\n        if (item.npreregno === event.dataItem.npreregno && item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\n          item.selected = checked;\n        }\n      });\n      let data = this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].every(item => {\n        return item.slected === true;\n      });\n\n      if (data === true) {\n        this.props.Login.masterData.ReleaseSample.map(item => {\n          if (event.dataItem.npreregno === item.npreregno) {\n            item.selected = checked;\n          }\n        });\n        this.props.Login.masterData.ReleaseTest[event.dataItem.ntransactionsamplecode].map(item => {\n          if (event.dataItem.ntransactionsamplecode === item.ntransactionsamplecode) {\n            item.selected = checked;\n            this.collectData(item);\n          }\n        });\n      } else {\n        this.props.Login.masterData.ReleaseTest[event.dataItem.ntransactionsamplecode].map(item => {\n          if (event.dataItem.ntransactionsamplecode === item.ntransactionsamplecode) {\n            item.selected = checked;\n            this.collectData(item);\n          }\n        });\n        let data = this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].every(item => {\n          return item.selected === true;\n        });\n\n        if (data === true) {\n          this.props.Login.masterData.ReleaseSample.map(item => {\n            if (event.dataItem.npreregno === item.npreregno) {\n              item.selected = checked;\n            }\n          });\n        }\n      } // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: {\n      //         data: undefined, dataState: undefined,\n      //     }\n      // }\n      // this.props.updateStore(updateInfo); \n\n    };\n\n    this.subChildSelectionChange = event => {\n      let x = [];\n      const checked = event.syntheticEvent.target.checked;\n      this.props.Login.masterData.ReleaseTest[event.dataItem.ntransactionsamplecode].map(item => {\n        if (item.ntransactiontestcode === event.dataItem.ntransactiontestcode) {\n          item.selected = checked;\n          this.collectData(item);\n        }\n      });\n      this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map(item => {\n        if (item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\n          if (this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]) {\n            x = this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode];\n          }\n        }\n      });\n      let y = x.filter(t => t.selected === true);\n\n      if (x.length === y.length) {\n        this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map((t, i) => {\n          if (t.ntransactionsamplecode === y[0].ntransactionsamplecode) {\n            this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno][i].selected = true;\n          }\n        });\n      } else {\n        this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map((t, i) => {\n          if (t.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\n            this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno][i].selected = false;\n          }\n        });\n      }\n\n      this.state.dataResult.data.map(item => {\n        if (item.npreregno === event.dataItem.npreregno) {\n          if (this.props.Login.masterData.ReleaseSubSample[item.npreregno]) {\n            x = this.props.Login.masterData.ReleaseSubSample[item.npreregno];\n          }\n        }\n      });\n      let y1 = x.filter(t => t.selected === true);\n\n      if (x.length === y1.length) {\n        this.state.dataResult.data.map((t, i) => {\n          if (t.npreregno === y1[0].npreregno) {\n            this.state.dataResult.data[i].selected = true;\n          }\n        });\n      } else {\n        this.state.dataResult.data.map((t, i) => {\n          if (t.npreregno === event.dataItem.npreregno) {\n            this.state.dataResult.data[i].selected = false;\n          }\n        });\n      }\n    };\n\n    this.collectData = item => {\n      let npreregno = this.state.npreregno || [];\n      let ntransactionsamplecode = this.state.ntransactionsamplecode || [];\n      let ntransactiontestcode = this.state.ntransactiontestcode || [];\n\n      if (item.selected === true) {\n        if (!npreregno.includes(item.npreregno)) {\n          npreregno.push(item.npreregno);\n        }\n\n        if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\n          ntransactionsamplecode.push(item.ntransactionsamplecode);\n        }\n\n        if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\n          ntransactiontestcode.push(item.ntransactiontestcode);\n        }\n      } else {\n        const npreregno1 = npreregno.filter(data => data === item.npreregno);\n        npreregno = npreregno1;\n        const ntransactionsamplecode1 = ntransactionsamplecode.filter(data => data === item.ntransactionsamplecode);\n        ntransactionsamplecode = ntransactionsamplecode1;\n        const ntransactiontestcode1 = ntransactiontestcode.filter(data => data === item.ntransactiontestcode);\n        ntransactiontestcode = ntransactiontestcode1;\n      } //      const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: {\n      //         data: undefined, dataState: undefined,\n      //         npreregno: npreregno,\n      //         ntransactionsamplecode:ntransactionsamplecode,\n      //         ntransactiontestcode:ntransactiontestcode\n      //     }\n      // }\n      // this.props.updateStore(updateInfo);\n\n\n      this.setState({\n        npreregno: npreregno,\n        ntransactionsamplecode: ntransactionsamplecode,\n        ntransactiontestcode: ntransactiontestcode\n      });\n    };\n\n    this.formRef = React.createRef();\n    const _dataState = {\n      skip: 0,\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n    };\n    this.state = {\n      data: [],\n      masterStatus: \"\",\n      error: \"\",\n      selectedRecord: {},\n      dataResult: [],\n      childDataResult: [],\n      dataState: _dataState,\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      SampletypeList: [],\n      RegistrationTypeList: [],\n      RegistrationSubTypeList: [],\n      FilterStatusList: [],\n      sampleSearchField: [],\n      subsampleSearchField: [],\n      testSearchField: [],\n      searchedData: [],\n      count: 0,\n      SampleGridItem: [],\n      combinedSearchField: [],\n      npreregno: [],\n      ntransactiontestcode: [],\n      ntransactionsamplecode: []\n    };\n    this.searchRef = React.createRef();\n    this.extractedColumnList = [{\n      \"idsName\": \"IDS_ARNO\",\n      \"dataField\": \"sarno\",\n      \"width\": \"200px\"\n    }, {\n      \"idsName\": \"IDS_PRODUCT\",\n      \"dataField\": \"Specimen Type\",\n      \"width\": \"200px\"\n    }, {\n      \"idsName\": \"IDS_PRODUCTCATEGORY\",\n      \"dataField\": \"Specimen Category\",\n      \"width\": \"200px\"\n    }, {\n      \"idsName\": \"IDS_STATUS\",\n      \"dataField\": \"stransdisplaystatus\",\n      \"width\": \"200px\"\n    }];\n    this.sampleColumnList = [{\n      \"idsName\": \"IDS_SAMPLEARNO\",\n      \"dataField\": \"ssamplearno\",\n      \"width\": \"150px\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_SAMPLENAME\",\n      \"dataField\": \"Sample Name\",\n      \"width\": \"100px\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_STATUS\",\n      \"dataField\": \"stransdisplaystatus\",\n      \"width\": \"100px\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n    this.testColumnList = [{\n      \"idsName\": \"IDS_TESTNAME\",\n      \"dataField\": \"stestname\",\n      \"width\": \"100px\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_STATUS\",\n      \"dataField\": \"stransdisplaystatus\",\n      \"width\": \"100px\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n  } // headerSelectionChange = (event) => {\n  //     const checked = event.syntheticEvent.target.checked;\n  //     let dataResult = this.props.Login.masterData.ReleaseSample || []\n  //     this.state.dataResult.data.map(item => {\n  //         item.selected = checked;\n  //         return item;\n  //     });\n  //     this.childHeaderSelectionChange(event);\n  //     const updateInfo = {\n  //         typeName: DEFAULT_RETURN,\n  //         data: {\n  //             data: undefined, dataState: undefined,\n  //             selectAll: checked,\n  //             childSelectAll: checked,\n  //             nFlag: \"2\"\n  //         }\n  //     }\n  //     this.props.updateStore(updateInfo);\n  //     this.setState({\n  //         selectAll: checked,\n  //         childSelectAll: checked\n  //     });\n  // }\n  // childHeaderSelectionChange = (event) => {\n  //     const checked = event.syntheticEvent.target.checked;\n  //     let x;\n  //     let w;\n  //     let testsubsample = [];\n  //     let releaseSubSample = this.props.Login.masterData.releaseSubSample || new Map()\n  //     let selectedTestData = this.props.Login.selectedTestData || [];\n  //     let selectedSubSampleData = this.props.Login.selectedSubSampleData || [];\n  //     let npreregno = this.props.Login.npreregno || [];\n  //     let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\n  //     let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\n  //     let selectedSampleData = this.props.Login.selectedSampleData || [];\n  //     if (event.dataItem != undefined) {\n  //         this.state.dataResult.data.map(item => {\n  //             if (item.npreregno === event.dataItem.npreregno) {\n  //                 if (this.props.Login.masterData.ReleaseSubSample[item.npreregno]) {\n  //                     x = this.props.Login.masterData.ReleaseSubSample[item.npreregno]\n  //                     testsubsample.push(x)\n  //                 }\n  //             }\n  //         })\n  //         let y = x.filter(t => t.selected === true);\n  //         if (x.length === y.length) {\n  //             this.state.dataResult.data.map((t, i) => {\n  //                 if (t.npreregno === y[0].npreregno) {\n  //                     this.state.dataResult.data[i].selected = checked\n  //                 }\n  //             })\n  //         }\n  //         Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //             item1.map(item2 => {\n  //                 if (item2.selected === true) {\n  //                     let a = selectedTestData.every(item3 => {\n  //                         return item3.ntransactiontestcode !== item2.ntransactiontestcode\n  //                     })\n  //                     if (a === true) {\n  //                         selectedTestData.push({\n  //                             \"npreregno\": item2.npreregno,\n  //                             \"ntransactionsamplecode\": item2.ntransactionsamplecode,\n  //                             \"ntransactiontestcode\": item2.ntransactiontestcode,\n  //                         })\n  //                         npreregno.push(item2.npreregno,\n  //                         )\n  //                         ntransactionsamplecode.push(item2.ntransactionsamplecode,\n  //                         )\n  //                         ntransactiontestcode.push(\n  //                             item2.ntransactiontestcode,\n  //                         )\n  //                     }\n  //                 }\n  //                 if (item2.selected === false) {\n  //                     const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                     selectedTestData = selectedTestData1\n  //                     const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\n  //                     npreregno = npreregno1\n  //                     const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\n  //                     ntransactionsamplecode = ntransactionsamplecode1\n  //                     const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                     ntransactiontestcode = ntransactiontestcode1\n  //                 }\n  //             })\n  //         })\n  //     }\n  //     else{\n  //     Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\n  //         item1.map(item => {\n  //             event.dataItems.map(y => {\n  //                 if (item.npreregno === y.npreregno) {\n  //                     item.selected = checked\n  //                 }\n  //             })\n  //             return item;\n  //         });\n  //     });\n  //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //         item1.map(item => {\n  //             event.dataItems.map(y => {\n  //                 if (item.npreregno === y.npreregno) {\n  //                     item.selected = checked\n  //                 }\n  //             })\n  //             this.state.dataResult.data.map(item4 => {\n  //                 event.dataItems.map(y => {\n  //                     if (item4.npreregno === y.npreregno) {\n  //                         item4.selected = checked\n  //                     }\n  //                 })\n  //             })\n  //             return item;\n  //         });\n  //     });\n  // }\n  //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //         item1.map(item2 => {\n  //             if (item2.selected === true) {\n  //                 let a = selectedTestData.every(item3 => {\n  //                     return item3.ntransactiontestcode !== item2.ntransactiontestcode\n  //                 })\n  //                 if (a === true) {\n  //                     selectedTestData.push({\n  //                         \"npreregno\": item2.npreregno,\n  //                         \"ntransactionsamplecode\": item2.ntransactionsamplecode,\n  //                         \"ntransactiontestcode\": item2.ntransactiontestcode,\n  //                     })\n  //                     npreregno.push(item2.npreregno,\n  //                     )\n  //                     ntransactionsamplecode.push(item2.ntransactionsamplecode,\n  //                     )\n  //                     ntransactiontestcode.push(\n  //                         item2.ntransactiontestcode,\n  //                     )\n  //                 }\n  //             }\n  //             if (item2.selected === false) {\n  //                 const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                 selectedTestData = selectedTestData1\n  //                 const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\n  //                 npreregno = npreregno1\n  //                 const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\n  //                 ntransactionsamplecode = ntransactionsamplecode1\n  //                 const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                 ntransactiontestcode = ntransactiontestcode1\n  //             }\n  //         })\n  //     })\n  //     const updateInfo = {\n  //         typeName: DEFAULT_RETURN,\n  //         data: {\n  //             data: undefined, dataState: undefined,\n  //             masterData: { ...this.props.Login.masterData, ...releaseSubSample },\n  //             selectedSubSampleData: selectedSubSampleData,\n  //             selectedSampleData: selectedSampleData,\n  //             ntransactiontestcode: ntransactiontestcode,\n  //             ntransactionsamplecode: ntransactionsamplecode,\n  //             npreregno: npreregno,\n  //             selectedTestData: selectedTestData,\n  //             nFlag: \"2\"\n  //         }\n  //     }\n  //     this.props.updateStore(updateInfo);\n  // }\n  // subChildHeaderSelectionChange = (event) => {\n  //     let x;\n  //     let w;\n  //     let r;\n  //     let testsubsample = [];\n  //     const checked = event.syntheticEvent.target.checked;\n  //     let releaseTest = this.props.Login.masterData.releaseTest || new Map()\n  //     let subChildSelectAll = this.props.Login.subChildSelectAll || false\n  //     let selectedsubcild = \"\"\n  //     let selectedTestData = this.props.Login.selectedTestData || [];\n  //     let npreregno = this.props.Login.npreregno || [];\n  //     let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\n  //     let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\n  //     if (event.dataItem != undefined) {\n  //         Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\n  //             item1.map(item => {\n  //                  if (item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\n  //                 if (this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]) {\n  //                     x = this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]\n  //                 }\n  //             }\n  //             })\n  //         })\n  //         let  y = x.filter(t =>  t.selected === true );\n  //         if (x.length ===y.length)\n  //         {\n  //             this.props.Login.masterData.ReleaseSubSample[y[0].npreregno].map((t,i) => {\n  //                 if (t.ntransactionsamplecode === y[0].ntransactionsamplecode)\n  //                 {\n  //                     this.props.Login.masterData.ReleaseSubSample[y[0].npreregno][i].selected =checked \n  //                     }\n  //             })\n  //         }\n  //         Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //             item1.map(item2 => {\n  //                 if (item2.selected === true) {\n  //                     let a = selectedTestData.every(item3 => {\n  //                         return item3.ntransactiontestcode !== item2.ntransactiontestcode\n  //                     })\n  //                     if (a === true) {\n  //                         selectedTestData.push({\n  //                             \"npreregno\": item2.npreregno,\n  //                             \"ntransactionsamplecode\": item2.ntransactionsamplecode,\n  //                             \"ntransactiontestcode\": item2.ntransactiontestcode,\n  //                         })\n  //                         npreregno.push(item2.npreregno,\n  //                         )\n  //                         ntransactionsamplecode.push(item2.ntransactionsamplecode,\n  //                         )\n  //                         ntransactiontestcode.push(\n  //                             item2.ntransactiontestcode,\n  //                         )\n  //                     }\n  //                 }\n  //                 if (item2.selected === false) {\n  //                     const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                     selectedTestData = selectedTestData1\n  //                     const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\n  //                     npreregno = npreregno1\n  //                     const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\n  //                     ntransactionsamplecode = ntransactionsamplecode1\n  //                     const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                     ntransactiontestcode = ntransactiontestcode1\n  //                 }\n  //             })\n  //         })\n  //     }\n  //     else {\n  //         Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //             item1.map(item => {\n  //                 event.dataItems.map(y => {\n  //                     if (item.ntransactiontestcode === y.ntransactiontestcode) {\n  //                         item.selected = checked\n  //                     }\n  //                 })\n  //                 return item;\n  //             });\n  //         });\n  //         Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\n  //             item1.map(item => {\n  //                 event.dataItems.map(y => {\n  //                     if (item.ntransactionsamplecode === y.ntransactionsamplecode) {\n  //                         item.selected = checked\n  //                     }\n  //                 })\n  //                 this.state.dataResult.data.map(item4 => {\n  //                     event.dataItems.map(y => {\n  //                         if (item4.npreregno === y.npreregno) {\n  //                             item4.selected = checked\n  //                         }\n  //                     })\n  //                 })\n  //                 return item;\n  //             });\n  //         });\n  //     }\n  //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //         item1.map(item2 => {\n  //             if (item2.selected === true) {\n  //                 let a = selectedTestData.every(item3 => {\n  //                     return item3.ntransactiontestcode !== item2.ntransactiontestcode\n  //                 })\n  //                 if (a === true) {\n  //                     selectedTestData.push({\n  //                         \"npreregno\": item2.npreregno,\n  //                         \"ntransactionsamplecode\": item2.ntransactionsamplecode,\n  //                         \"ntransactiontestcode\": item2.ntransactiontestcode,\n  //                     })\n  //                     npreregno.push(item2.npreregno,\n  //                     )\n  //                     ntransactionsamplecode.push(item2.ntransactionsamplecode,\n  //                     )\n  //                     ntransactiontestcode.push(\n  //                         item2.ntransactiontestcode,\n  //                     )\n  //                 }\n  //             }\n  //             if (item2.selected === false) {\n  //                 const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                 selectedTestData = selectedTestData1\n  //                 const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\n  //                 npreregno = npreregno1\n  //                 const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\n  //                 ntransactionsamplecode = ntransactionsamplecode1\n  //                 const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                 ntransactiontestcode = ntransactiontestcode1\n  //             }\n  //         })\n  //     })\n  //     const updateInfo = {\n  //         typeName: DEFAULT_RETURN,\n  //         data: {\n  //             data: undefined, dataState: undefined,\n  //             masterData: { ...this.props.Login.masterData, ...releaseTest },\n  //             selectedTestData: selectedTestData,\n  //             ntransactiontestcode: ntransactiontestcode,\n  //             ntransactionsamplecode: ntransactionsamplecode,\n  //             npreregno: npreregno,\n  //             subChildSelectAll: subChildSelectAll,\n  //             selectedsubcild: selectedsubcild,\n  //             nFlag: \"2\"\n  //         }\n  //     }\n  //     this.props.updateStore(updateInfo);\n  //     this.setState({\n  //         subChildSelectAll: subChildSelectAll\n  //     });\n  //     return subChildSelectAll;\n  // }\n\n\n  expandNextData(y) {\n    let change = [];\n    let x = process(this.props.Login.masterData.searchedData1 && this.props.Login.masterData.searchedData1 || this.props.Login.masterData.ReleaseSample && this.props.Login.masterData.ReleaseSample || [], y);\n    let data = x.data.every(item => {\n      return item.expanded === true;\n    });\n\n    if (data === true) {\n      change = true;\n    } else {\n      change = false;\n    }\n\n    this.expandFunc({\n      change: change\n    });\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  gridfillingColumn(data) {\n    //  const tempArray = [];\n    const temparray = data && data.map(option => {\n      return {\n        \"idsName\": option[designProperties.LABEL][this.props.Login.userInfo.slanguagetypecode],\n        \"dataField\": option[designProperties.VALUE],\n        \"width\": \"200px\",\n        \"columnSize\": \"3\"\n      };\n    });\n    return temparray;\n  }\n\n  render() {\n    let obj = convertDateValuetoString(this.props.Login.masterData.realFromDate, this.props.Login.masterData.realToDate, this.props.Login.userInfo);\n    const filterTestParam = {\n      inputListName: \"ReleaseTest\",\n      //  selectedObject: \"APSelectedTest\",\n      primaryKeyField: \"ntransactiontestcode\",\n      //    fetchUrl: this.getActiveTestURL(),\n      // fecthInputObject: {\n      //     ntransactiontestcode: this.props.Login.masterData.APSelectedTest ? this.props.Login.masterData.APSelectedTest.map(test => test.ntransactiontestcode).join(\",\") : \"-1\",\n      //     userinfo: this.props.Login.userInfo,\n      //     checkBoxOperation: 3,\n      //     ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode || -1\n      // },\n      isSingleSelect: false,\n      masterData: this.props.Login.masterData,\n      searchFieldList: this.state.combinedSearchField || []\n    };\n    let breadCrumbData = [{\n      \"label\": \"IDS_FROM\",\n      \"value\": obj.breadCrumbFrom\n    }, {\n      \"label\": \"IDS_TO\",\n      \"value\": obj.breadCrumbto\n    }, {\n      \"label\": \"IDS_SAMPLETYPE\",\n      \"value\": this.props.Login.masterData.realSampleTypeValue && this.props.Login.masterData.realSampleTypeValue.ssampletypename ? this.props.Login.masterData.realSampleTypeValue.ssampletypename : \"Product\"\n    }, {\n      \"label\": \"IDS_REGTYPE\",\n      \"value\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.sregtypename || \"NA\" : this.props.Login.masterData.RegTypeValue ? this.props.Login.masterData.RegTypeValue.sregtypename || \"NA\" : \"NA\"\n    }, {\n      \"label\": \"IDS_REGSUBTYPE\",\n      \"value\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.sregsubtypename || \"NA\" : this.props.Login.masterData.RegSubTypeValue ? this.props.Login.masterData.RegSubTypeValue.sregsubtypename : \"NA\"\n    }, {\n      \"label\": \"IDS_DESIGNTEMPLATE\",\n      \"value\": this.props.Login.masterData.realDesignTemplateMappingValue ? this.props.Login.masterData.realDesignTemplateMappingValue.sregtemplatename || \"NA\" : this.props.Login.masterData.realDesignTemplateMappingValue ? this.props.Login.masterData.realDesignTemplateMappingValue.sregtemplatename || \"NA\" : \"NA\"\n    }, {\n      \"label\": \"IDS_CONFIGVERSION\",\n      \"value\": this.props.Login.masterData.realApprovalVersionValue ? this.props.Login.masterData.realApprovalVersionValue.sversionname || \"NA\" : this.props.Login.masterData.ApprovalVersionValue ? this.props.Login.masterData.ApprovalVersionValue.sversionname || \"NA\" : \"NA\"\n    }, {\n      \"label\": \"IDS_SECTION\",\n      \"value\": this.props.Login.masterData.realUserSectionValue ? this.props.Login.masterData.realUserSectionValue.ssectionname || \"NA\" : this.props.Login.masterData.UserSectionValue ? this.props.Login.masterData.UserSectionValue.ssectionname || \"NA\" : \"NA\"\n    }, {\n      \"label\": \"IDS_Test\",\n      \"value\": this.props.Login.masterData.realTestValue ? this.props.Login.masterData.realTestValue.stestsynonym || \"NA\" : this.props.Login.masterData.TestValue ? this.props.Login.masterData.TestValue.stestsynonym || \"NA\" : \"NA\"\n    }, {\n      \"label\": \"IDS_FILTERSTATUS\",\n      \"value\": this.props.Login.masterData.realFilterStatusValue ? this.props.Login.masterData.realFilterStatusValue.sfilterstatus || \"NA\" : this.props.Login.masterData.FilterStatusValue ? this.props.Login.masterData.FilterStatusValue.sfilterstatus || \"NA\" : \"NA\"\n    }];\n    const releaseId = this.props.Login.inputParam && this.state.controlMap.has(\"COARelease\") && this.state.controlMap.get('COARelease').ncontrolcode;\n    const expandId = this.props.Login.inputParam && this.state.controlMap.has(\"ReleaseExpand\") && this.state.controlMap.get('ReleaseExpand').ncontrolcode;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1047,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Affix, {\n      top: 60,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1048,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponentToolbar //   showFilter={true}\n    , {\n      showSearch: true,\n      breadCrumbItem: breadCrumbData,\n      filterColumnData: this.searchedGridData,\n      filterParam: filterTestParam,\n      selectedMaster: this.props.Login.masterData.RSSelectedSample,\n      searchRef: this.searchRef,\n      filterComponent: [{\n        \"Sample Filter\": /*#__PURE__*/React.createElement(COAReleaseFilter, {\n          SampleType: this.state.SampletypeList || [],\n          SampleTypeValue: this.props.Login.masterData.SampleTypeValue || [],\n          RegType: this.state.RegistrationTypeList || [],\n          RegTypeValue: this.props.Login.masterData.RegTypeValue || [],\n          RegSubType: this.state.RegistrationSubTypeList || [],\n          RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue || [],\n          ApprovalVersion: this.state.ConfigVersionList || [],\n          ApprovalVersionValue: this.props.Login.masterData.ApprovalVersionValue || [],\n          UserSection: this.state.UserSectionList || [],\n          UserSectionValue: this.props.Login.masterData.UserSectionValue || [] // JobStatus={this.props.Login.masterData.JobStatus || []}\n          ,\n          Test: this.state.TestList || [],\n          TestValue: this.props.Login.masterData.TestValue || [],\n          FilterStatus: this.state.FilterStatusList || [],\n          FilterStatusValue: this.props.Login.masterData.FilterStatusValue || [],\n          fromDate: this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date(),\n          toDate: this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date(),\n          onFilterComboChange: this.onFilterComboChange,\n          handleDateChange: this.handleDateChange // onDesignTemplateChange={this.onDesignTemplateChange}\n          // DynamicDesignMapping={this.state.stateDynamicDesign || []}\n          // DesignTemplateMapping={this.props.Login.masterData.DesignTemplateMapping}\n          // DesignTemplateMappingValue={this.props.Login.masterData.DesignTemplateMappingValue || {}}\n          ,\n          userInfo: this.props.Login.userInfo,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1059,\n            columnNumber: 58\n          }\n        })\n      }],\n      onFilterSubmit: this.onFilterSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1049,\n        columnNumber: 26\n      }\n    }))), /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"client-list-content\",\n      style: {\n        paddingTop: \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1096,\n        columnNumber: 25\n      }\n    }, this.state.data ? /*#__PURE__*/React.createElement(DataGridWithMultipleGrid, {\n      needSubSample: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedsubsample || false,\n      data: this.state.data,\n      dataResult: process(this.props.Login.masterData.searchedData1 && this.props.Login.masterData.searchedData1 || this.props.Login.masterData.ReleaseSample && this.props.Login.masterData.ReleaseSample || [], this.state.dataState),\n      dataState: this.state.dataState,\n      dataStateChange: this.dataStateChange,\n      expandNextData: this.expandNextData,\n      checkFunction: this.checkFunction,\n      checkFunction1: this.checkFunction1,\n      expandFunc: this.expandFunc //expandData={this.expandData}\n      ,\n      childDataResult: this.state.childDataResult,\n      subChildDataResult: this.state.subChildDataResult,\n      extractedColumnList: this.gridfillingColumn(this.state.DynamicGridItem) || [],\n      subChildColumnList: this.gridfillingColumn(this.state.DynamicTestGridItem) || [],\n      expandField: \"expanded\",\n      handleExpandChange: this.handleExpandChange,\n      childHandleExpandChange: this.childHandleExpandChange,\n      reloadData: this.reloadData,\n      controlMap: this.state.controlMap,\n      userRoleControlRights: this.state.userRoleControlRights,\n      inputParam: this.props.Login.inputParam,\n      userInfo: this.props.Login.userInfo,\n      pageable: true,\n      scrollable: 'scrollable',\n      gridHeight: '600px',\n      gridTop: '10px',\n      isActionRequired: true,\n      isToolBarRequired: true,\n      isExpandRequired: true,\n      isCollapseRequired: true,\n      selectedId: this.props.Login.selectedId,\n      hasChild: true,\n      hasSubChild: true,\n      childList: this.props.Login.masterData.searchedData2 || this.props.Login.masterData.ReleaseSubSample,\n      childColumnList: this.sampleColumnList,\n      childMappingField: \"npreregno\",\n      subChildMappingField: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedsubsample ? \"ntransactionsamplecode\" : \"npreregno\",\n      subChildList: this.props.Login.masterData.searchedData3 || this.props.Login.masterData.ReleaseTest,\n      selectedsubcild: this.props.Login.selectedsubcild,\n      methodUrl: \"Release\",\n      headerSelectionChange: this.headerSelectionChange,\n      childHeaderSelectionChange: this.childHeaderSelectionChange,\n      childSelectAll: this.props.Login.childSelectAll,\n      childSelectionChange: this.childSelectionChange,\n      subChildSelectionChange: this.subChildSelectionChange,\n      subChildHeaderSelectionChange: this.subChildHeaderSelectionChange,\n      subChildSelectAll: this.props.Login.subChildSelectAll,\n      selectionChange: this.selectionChange,\n      selectAll: this.props.Login.selectAll,\n      releaseRecord: this.releaseRecord,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1100,\n        columnNumber: 33\n      }\n    }) : \"\"));\n  }\n\n  componentDidUpdate(previousProps) {\n    let {\n      userRoleControlRights,\n      controlMap,\n      sampleListColumns,\n      subSampleListColumns,\n      testListColumns,\n      SingleItem,\n      sampleListMainField,\n      subSampleListMainField,\n      testListMainField,\n      SampleGridItem,\n      SampleGridExpandableItem,\n      testMoreField,\n      resultDataState,\n      instrumentDataState,\n      materialDataState,\n      taskDataState,\n      documentDataState,\n      resultChangeDataState,\n      historyDataState,\n      testCommentDataState,\n      samplePrintHistoryDataState,\n      sampleHistoryDataState,\n      selectedRecord,\n      SampletypeList,\n      RegistrationTypeList,\n      RegistrationSubTypeList,\n      FilterStatusList,\n      ConfigVersionList,\n      UserSectionList,\n      TestList,\n      skip,\n      take,\n      testskip,\n      testtake,\n      selectedFilter,\n      DynamicSampleColumns,\n      DynamicSubSampleColumns,\n      DynamicTestColumns,\n      DynamicGridItem,\n      DynamicTestGridItem,\n      DynamicGridMoreField,\n      stateDynamicDesign,\n      sampleSearchField,\n      subsampleSearchField,\n      testSearchField,\n      combinedSearchField\n    } = this.state;\n    let bool = false;\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n      bool = true;\n    }\n\n    if (this.props.Login.masterData.RegSubTypeValue !== previousProps.Login.masterData.RegSubTypeValue) {\n      if (this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nsubsampleneed === transactionStatus.NO) {\n        let dataState = {\n          skip: 0,\n          take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 //, group: [{ field: `${this.props.Login.masterData.RegSubTypeValue.nsubsampleneed ? 'ssamplearno' : 'sarno'}` }] \n\n        };\n        resultDataState = dataState;\n        instrumentDataState = dataState;\n        materialDataState = dataState;\n        taskDataState = dataState;\n        documentDataState = dataState;\n        resultChangeDataState = dataState;\n        historyDataState = dataState;\n        testCommentDataState = dataState;\n        bool = true;\n      }\n    }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      selectedRecord = this.props.Login.selectedRecord;\n      bool = true;\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      const SampletypeListMap = constructOptionList(this.props.Login.masterData.SampleType || [], \"nsampletypecode\", \"ssampletypename\", 'ascending', 'nsampletypecode', false);\n      const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.RegType || [], \"nregtypecode\", \"sregtypename\", \"nsorter\", 'ascending', 'nregtypecode', false);\n      const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.RegSubType || [], \"nregsubtypecode\", \"sregsubtypename\", \"nsorter\", 'ascending', 'nregsubtypecode', false);\n      const FilterStatusListMap = constructOptionList(this.props.Login.masterData.FilterStatus || [], \"ntransactionstatus\", \"sfilterstatus\", undefined, undefined, true);\n      const ConfigVersionListMap = constructOptionList(this.props.Login.masterData.ApprovalVersion || [], \"napprovalconfigversioncode\", \"sversionname\", 'descending', 'ntransactionstatus', false);\n      const UserSectionListMap = constructOptionList(this.props.Login.masterData.UserSection || [], \"nsectioncode\", \"ssectionname\", undefined, undefined, true);\n      const TestListMap = constructOptionList(this.props.Login.masterData.Test || [], \"ntestcode\", \"stestsynonym\", undefined, undefined, true);\n      SampletypeList = SampletypeListMap.get(\"OptionList\");\n      RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\n      RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\n      FilterStatusList = FilterStatusListMap.get(\"OptionList\");\n      ConfigVersionList = ConfigVersionListMap.get(\"OptionList\");\n      UserSectionList = UserSectionListMap.get(\"OptionList\");\n      TestList = TestListMap.get(\"OptionList\");\n      bool = true;\n      skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip;\n      take = this.props.Login.take || take;\n      testskip = this.props.Login.testskip === undefined ? testskip : this.props.Login.testskip;\n      testtake = this.props.Login.testtake || testtake;\n      let selectFilterStatus = {\n        ntransactionstatus: transactionStatus.PARTIAL,\n        sfilterstatus: this.props.intl.formatMessage({\n          id: \"IDS_PARTIAL\"\n        }),\n        scolorhexcode: \"#800000\"\n      };\n      const selectedFilters = this.props.Login.masterData.FilterStatus || [];\n      const selectedFiltersNew = JSON.parse(JSON.stringify(selectedFilters));\n      const index = selectedFiltersNew.findIndex(item => item.ntransactionstatus === transactionStatus.PARTIAL);\n\n      if (selectedFiltersNew.length > 0 && index === -1) {\n        selectedFiltersNew.push(selectFilterStatus);\n      }\n\n      selectedFilter = selectedFiltersNew;\n\n      if (this.props.Login.resultDataState && this.props.Login.resultDataState !== previousProps.Login.resultDataState) {\n        resultDataState = this.props.Login.resultDataState;\n      }\n\n      if (this.props.Login.instrumentDataState && this.props.Login.instrumentDataState !== previousProps.Login.instrumentDataState) {\n        instrumentDataState = this.props.Login.instrumentDataState;\n      }\n\n      if (this.props.Login.taskDataState && this.props.Login.taskDataState !== previousProps.Login.taskDataState) {\n        taskDataState = this.props.Login.taskDataState;\n      }\n\n      if (this.props.Login.resultChangeDataState && this.props.Login.resultChangeDataState !== previousProps.Login.resultChangeDataState) {\n        resultChangeDataState = this.props.Login.resultChangeDataState;\n      }\n\n      if (this.props.Login.historyDataState && this.props.Login.historyDataState !== previousProps.Login.historyDataState) {\n        historyDataState = this.props.Login.historyDataState;\n      }\n\n      if (this.props.Login.testCommentDataState && this.props.Login.testCommentDataState !== previousProps.Login.testCommentDataState) {\n        testCommentDataState = this.props.Login.testCommentDataState;\n      }\n\n      if (this.props.Login.samplePrintHistoryDataState && this.props.Login.samplePrintHistoryDataState !== previousProps.Login.samplePrintHistoryDataState) {\n        samplePrintHistoryDataState = this.props.Login.samplePrintHistoryDataState;\n      }\n\n      if (this.props.Login.sampleHistoryDataState && this.props.Login.sampleHistoryDataState !== previousProps.Login.sampleHistoryDataState) {\n        sampleHistoryDataState = this.props.Login.sampleHistoryDataState;\n      }\n    }\n\n    if (this.props.Login.masterData.DynamicDesign && this.props.Login.masterData.DynamicDesign !== previousProps.Login.masterData.DynamicDesign) {\n      const dynamicColumn = JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata.value);\n      DynamicSampleColumns = dynamicColumn.samplelistitem ? dynamicColumn.samplelistitem : [];\n      DynamicSubSampleColumns = dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [];\n      DynamicTestColumns = dynamicColumn.testlistitem ? dynamicColumn.testlistitem : [];\n      DynamicGridItem = dynamicColumn.samplegriditem ? dynamicColumn.samplegriditem : [];\n      DynamicTestGridItem = dynamicColumn.testgriditem ? dynamicColumn.testgriditem : [];\n      DynamicGridMoreField = dynamicColumn.samplegridmoreitem ? dynamicColumn.samplegridmoreitem : [];\n      SingleItem = dynamicColumn.sampledisplayfields ? dynamicColumn.sampledisplayfields : [];\n      testMoreField = dynamicColumn.testlistmoreitems ? dynamicColumn.testlistmoreitems : [];\n      testListColumns = dynamicColumn.testlistitem ? dynamicColumn.testlistitem : [];\n      sampleSearchField = dynamicColumn.samplesearchfields ? dynamicColumn.samplesearchfields : [];\n      subsampleSearchField = dynamicColumn.subsamplesearchfields ? dynamicColumn.subsamplesearchfields : [];\n      testSearchField = dynamicColumn.testsearchfields ? dynamicColumn.testsearchfields : [];\n      sampleSearchField.map(item => {\n        combinedSearchField.push(item);\n      });\n      subsampleSearchField.map(item => {\n        combinedSearchField.push(item);\n      });\n      testSearchField.map(item => {\n        combinedSearchField.push(item);\n      });\n      bool = true;\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n      selectedRecord['fromDate'] = obj.fromDate;\n      selectedRecord['toDate'] = obj.toDate;\n      bool = true;\n    }\n\n    if (this.props.Login.masterData.DesignTemplateMapping !== previousProps.Login.masterData.DesignTemplateMapping) {\n      const DesignTemplateMappingMap = constructOptionList(this.props.Login.masterData.DesignTemplateMapping || [], \"ndesigntemplatemappingcode\", \"sregtemplatename\", undefined, undefined, false);\n      stateDynamicDesign = DesignTemplateMappingMap.get(\"OptionList\");\n    }\n\n    if (bool) {\n      bool = false;\n      this.setState({\n        userRoleControlRights,\n        controlMap,\n        sampleListColumns,\n        subSampleListColumns,\n        testListColumns,\n        SingleItem,\n        sampleListMainField,\n        subSampleListMainField,\n        testListMainField,\n        SampleGridItem,\n        SampleGridExpandableItem,\n        testMoreField,\n        resultDataState,\n        instrumentDataState,\n        materialDataState,\n        taskDataState,\n        documentDataState,\n        resultChangeDataState,\n        historyDataState,\n        testCommentDataState,\n        samplePrintHistoryDataState,\n        sampleHistoryDataState,\n        selectedRecord,\n        SampletypeList,\n        RegistrationTypeList,\n        RegistrationSubTypeList,\n        FilterStatusList,\n        ConfigVersionList,\n        UserSectionList,\n        TestList,\n        skip,\n        take,\n        testskip,\n        testtake,\n        selectedFilter,\n        DynamicSampleColumns,\n        DynamicSubSampleColumns,\n        DynamicTestColumns,\n        DynamicGridItem,\n        DynamicTestGridItem,\n        DynamicGridMoreField,\n        stateDynamicDesign,\n        sampleSearchField,\n        subsampleSearchField,\n        testSearchField,\n        combinedSearchField\n      }); //     if (this.state.count === 0){\n      //         const updateInfo = {\n      //             typeName: DEFAULT_RETURN,\n      //             data: {\n      //                 change: false,\n      //             }\n      //         }\n      //     this.props.updateStore(updateInfo);\n      // }\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n        const userRoleControlRights = [];\n\n        if (this.props.Login.userRoleControlRights) {\n          this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n        }\n\n        const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n        this.setState({\n          userRoleControlRights,\n          controlMap,\n          data: this.props.Login.masterData,\n          data: this.props.Login.data || this.props.Login.masterData.ReleaseSample || [],\n          dataResult: process(this.props.Login.data || this.props.Login.masterData.ReleaseSample || [], this.state.dataState) //        childDataResult: process(this.props.Login.data || Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item=>item) || [], this.state.dataState),\n          //  subChildDataResult: process(this.props.Login.data || Object.entries(this.props.Login.masterData.ReleaseTest)[1] || [], this.state.dataState),\n\n        }); //     const updateInfo = {\n        //         typeName: DEFAULT_RETURN,\n        //         data: {\n        //             masterData: process( this.props.Login.masterData.ReleaseSample || [], this.props.Login.dataState || this.state.dataState),\n        //         }\n        //     }\n        // this.props.updateStore(updateInfo);\n      } else {\n        let {\n          dataState\n        } = this.state;\n\n        if (this.state.dataState === undefined) {\n          dataState = {\n            skip: 0,\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n          };\n        }\n\n        const releaseData = this.props.Login.data || this.props.Login.masterData.ReleaseSample || [];\n        this.setState({\n          data: this.props.Login.data || this.props.Login.masterData.ReleaseSample || [],\n          dataResult: process(this.props.Login.masterData.ReleaseSample || [], this.props.Login.dataState || dataState),\n          //   childDataResult: process(Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item=>item) || [], this.props.Login.dataState || dataState),\n          //    subChildDataResult: process(Object.entries(this.props.Login.masterData.ReleaseTest) || [], this.props.Login.dataState || dataState),\n          dataState\n        });\n      }\n    } else if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.Login.selectedRecord\n      });\n    }\n  } // selectionChange = (event) => {\n  //     const checked = event.syntheticEvent.target.checked;\n  //     let npreregno = this.props.Login.npreregno || [];\n  //     let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\n  //     let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\n  //     let selectedTestData = this.props.Login.selectedTestData || [];\n  //     let selectedSubSampleData = this.props.Login.selectedSubSampleData || [];\n  //     let subChildSelectAll =  this.props.Login.subChildSelectAll || false;\n  //     let dataResult = this.props.Login.masterData.ReleaseSample && this.props.Login.masterData.ReleaseSample || this.state.dataResult || [];\n  //     let selectedSampleData = this.props.Login.selectedSampleData || [];\n  //     let releaseSubSample = new Map();\n  //     let hasChild = true\n  //     let hasSubChild = true\n  //     let x;\n  //     this.state.dataResult.data.map((item, i) => {\n  //         if (item.npreregno === event.dataItem.npreregno) {\n  //             item.selected = !event.dataItem.selected;\n  //             if (item.selected === true) {\n  //                 selectedSampleData.push({\n  //                     \"nregtypecode\": item.nregtypecode, \"nregsubtypecode\": item.nregsubtypecode,\n  //                     \"npreregno\": item.npreregno, \"ntranscode\": item.ntranscode, bFlag: \"1\"\n  //                 })\n  //                 subChildSelectAll = item.selected === true ? this.childHeaderSelectionChange(event) : false;\n  //                 if (hasChild === true) {\n  //                     Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\n  //                         item1.map(item => {\n  //                             if (item.npreregno === event.dataItem.npreregno) {\n  //                                 item.selected = true;\n  //                             }\n  //                             if (ntransactionsamplecode.length === 0) {\n  //                                 ntransactionsamplecode.push(item.ntransactionsamplecode);\n  //                             }\n  //                             if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\n  //                                 ntransactionsamplecode.push(item.ntransactionsamplecode);\n  //                             }\n  //                             selectedSubSampleData.push({\n  //                                 \"npreregno\": item.npreregno, \"ntranscode\": item.ntranscode,\n  //                                 bFlag: \"2\"\n  //                             })\n  //                         })\n  //                     })\n  //                 }\n  //                 Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //                     item1.map(item => {\n  //                         if (item.npreregno === event.dataItem.npreregno) {\n  //                             item.selected = true;\n  //                         }\n  //                         if (ntransactiontestcode.length === 0) {\n  //                             ntransactiontestcode.push(item.ntransactiontestcode);\n  //                         }\n  //                         if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\n  //                             ntransactiontestcode.push(item.ntransactiontestcode);\n  //                         }\n  //                     })\n  //                 })\n  //                 if (npreregno.length === 0) {\n  //                     npreregno.push(item.npreregno);\n  //                 }\n  //                 if (!npreregno.includes(item.npreregno)) {\n  //                     npreregno.push(item.npreregno);\n  //                 }\n  //             }\n  //             else {\n  //                 const ntransactiontestcode1 = []\n  //                 Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\n  //                     item1.map(item => {\n  //                         if (item.npreregno === event.dataItem.npreregno) {\n  //                             item.selected = false;\n  //                         }\n  //                     });\n  //                 })\n  //                 Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //                     item1.map(item => {\n  //                         if (item.npreregno === event.dataItem.npreregno) {\n  //                             item.selected = false;\n  //                         }\n  //                     })\n  //                 })\n  //             }\n  //         }\n  //         return item;\n  //     });\n  //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //         item1.map(item2 => {\n  //             if (item2.selected === true) {\n  //                 let a = selectedTestData.every(item3 => {\n  //                     return item3.ntransactiontestcode !== item2.ntransactiontestcode\n  //                 })\n  //                 if (a === true) {\n  //                     selectedTestData.push({\n  //                         \"npreregno\": item2.npreregno,\n  //                         \"ntransactionsamplecode\": item2.ntransactionsamplecode,\n  //                         \"ntransactiontestcode\": item2.ntransactiontestcode,\n  //                     })\n  //                     if (!npreregno.includes(item2.npreregno)) {\n  //                         npreregno.push(item2.npreregno);\n  //                     }\n  //                     if (!ntransactionsamplecode.includes(item2.npreregno)) {\n  //                         ntransactionsamplecode.push(item2.ntransactionsamplecode)\n  //                     }\n  //                     if (!ntransactiontestcode.includes(item2.ntransactiontestcode)) {\n  //                         ntransactiontestcode.push(item2.ntransactiontestcode)\n  //                     }\n  //                 }\n  //             }\n  //             if (item2.selected === false) {\n  //                 const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                 selectedTestData = selectedTestData1\n  //                 const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\n  //                 npreregno = npreregno1\n  //                 const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\n  //                 ntransactionsamplecode = ntransactionsamplecode1\n  //                 const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                 ntransactiontestcode = ntransactiontestcode1\n  //             }\n  //         })\n  //     })\n  //     const updateInfo = {\n  //         typeName: DEFAULT_RETURN,\n  //         data: {\n  //             nFlag: \"1\",\n  //             ntransactiontestcode: ntransactiontestcode,\n  //             ntransactionsamplecode: ntransactionsamplecode,\n  //             npreregno: npreregno,\n  //             selectedSampleData: selectedSampleData,\n  //             selectedTestData: selectedTestData,\n  //             selectedSubSampleData: selectedSubSampleData,\n  //             masterData:{...this.props.Login.masterData}\n  //         }\n  //     }\n  //     this.props.updateStore(updateInfo);\n  //     this.setState({\n  //         dataResult, selectedSampleData,\n  //         nFlag: \"1\"\n  //     });\n  // }\n  // childSelectionChange = (event) => {\n  //     const checked = event.syntheticEvent.target.checked;\n  //     let selectedTestData = this.props.Login.selectedTestData || [];\n  //     let releaseSubSample = new Map();\n  //     let selectedSubSampleData = this.props.Login.selectedSubSampleData || [];\n  //     let npreregno = this.props.Login.npreregno || [];\n  //     let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\n  //     let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\n  //     let hasSubChild = true\n  //     let subChildSelectAll = this.props.Login.subChildSelectAll || false;\n  //     Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\n  //         item1.map(item => {\n  //             if (item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\n  //                 item.selected = !event.dataItem.selected;\n  //                 if (item.selected === true) {\n  //                     selectedSubSampleData.push({\n  //                         \"npreregno\": item.npreregno, \"ntranscode\": item.ntranscode,\n  //                         \"ntransactionsamplecode\": item.ntransactionsamplecode, bFlag: \"2\"\n  //                     })\n  //                     subChildSelectAll = item.selected === true ? this.childHeaderSelectionChange(event) : false;\n  //                     if (hasSubChild === true) {\n  //                         Object.values(this.props.Login.masterData.ReleaseTest).forEach(item8 => {\n  //                             item8.map(item9 => {\n  //                                 if (item9.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\n  //                                     item9.selected = true;\n  //                                 }\n  //                                 if (item9.selected === true) {\n  //                                     if (ntransactiontestcode.length === 0) {\n  //                                         ntransactiontestcode.push(item9.ntransactiontestcode);\n  //                                     }\n  //                                     if (!ntransactiontestcode.includes(item9.ntransactiontestcode)) {\n  //                                         ntransactiontestcode.push(item9.ntransactiontestcode);\n  //                                     }\n  //                                 }\n  //                             })\n  //                         })\n  //                     }\n  //                     if (npreregno.length === 0) {\n  //                         npreregno.push(item.npreregno);\n  //                     }\n  //                     if (!npreregno.includes(item.npreregno)) {\n  //                         npreregno.push(item.npreregno);\n  //                     }\n  //                     if (ntransactionsamplecode.length === 0) {\n  //                         ntransactionsamplecode.push(item.ntransactionsamplecode);\n  //                     }\n  //                     if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\n  //                         ntransactionsamplecode.push(item.ntransactionsamplecode);\n  //                     }\n  //                 }\n  //                 else {\n  //                     subChildSelectAll = false\n  //                     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //                         item1.map(item => {\n  //                             if (item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\n  //                                 item.selected = checked;\n  //                             }\n  //                         })\n  //                     })\n  //                     this.state.dataResult.data.map(item4 => {\n  //                         if (item4.npreregno === event.dataItem.npreregno) {\n  //                             item4.selected = checked\n  //                         }\n  //                     })\n  //                 }\n  //             }\n  //             return item;\n  //         });\n  //     });\n  //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //         item1.map(item2 => {\n  //             if (item2.selected === true) {\n  //                 let a = selectedTestData.every(item3 => {\n  //                     return item3.ntransactiontestcode !== item2.ntransactiontestcode\n  //                 })\n  //                 if (a === true) {\n  //                     selectedTestData.push({\n  //                         \"npreregno\": item2.npreregno,\n  //                         \"ntransactionsamplecode\": item2.ntransactionsamplecode,\n  //                         \"ntransactiontestcode\": item2.ntransactiontestcode,\n  //                     })\n  //                     npreregno.push(item2.npreregno,\n  //                     )\n  //                     ntransactionsamplecode.push(item2.ntransactionsamplecode,\n  //                     )\n  //                     ntransactiontestcode.push(\n  //                         item2.ntransactiontestcode,\n  //                     )\n  //                 }\n  //             }\n  //             if (item2.selected === false) {\n  //                 const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                 selectedTestData = selectedTestData1\n  //                 const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\n  //                 npreregno = npreregno1\n  //                 const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\n  //                 ntransactionsamplecode = ntransactionsamplecode1\n  //                 const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                 ntransactiontestcode = ntransactiontestcode1\n  //             }\n  //         })\n  //     })\n  //     const updateInfo = {\n  //         typeName: DEFAULT_RETURN,\n  //         data: {\n  //             data: undefined, dataState: undefined,\n  //             masterData: { ...this.props.Login.masterData, ...releaseSubSample },\n  //             selectedSubSampleData: selectedSubSampleData,\n  //             ntransactiontestcode: ntransactiontestcode,\n  //             ntransactionsamplecode: ntransactionsamplecode,\n  //             selectedTestData: selectedTestData,\n  //             subChildSelectAll: subChildSelectAll,\n  //             npreregno: npreregno,\n  //             nFlag: \"2\",\n  //         }\n  //     }\n  //     this.props.updateStore(updateInfo);\n  // }\n  // subChildSelectionChange = (event) => {\n  //     const checked = event.syntheticEvent.target.checked;\n  //     let releaseTest = new Map();\n  //     let selectedTestData = this.props.Login.selectedTestData || [];\n  //     let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\n  //     let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\n  //     let npreregno = this.props.Login.npreregno || [];\n  //     let dataResult = this.props.Login.masterData.ReleaseSample && this.props.Login.masterData.ReleaseSample || this.props.Login.masterData.ReleaseSample || [];\n  //     let x;\n  //     let subChildSelectAll = false\n  //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //         item1.map(item => {\n  //             if (item.ntransactiontestcode === event.dataItem.ntransactiontestcode) {\n  //                 item.selected = !event.dataItem.selected;\n  //                 if (item.selected === true) {\n  //                     subChildSelectAll = item.selected === true ? this.subChildHeaderSelectionChange(event) : false;\n  //                     if (npreregno.length === 0) {\n  //                         npreregno.push(item.npreregno);\n  //                     }\n  //                     if (!npreregno.includes(item.npreregno)) {\n  //                         npreregno.push(item.npreregno);\n  //                     }\n  //                     if (ntransactionsamplecode.length === 0) {\n  //                         ntransactionsamplecode.push(item.ntransactionsamplecode);\n  //                     }\n  //                     if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\n  //                         ntransactionsamplecode.push(item.ntransactionsamplecode);\n  //                     }\n  //                     if (ntransactiontestcode.length === 0) {\n  //                         ntransactiontestcode.push(item.ntransactiontestcode);\n  //                     }\n  //                     if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\n  //                         ntransactiontestcode.push(item.ntransactiontestcode);\n  //                     }\n  //                 }\n  //                 else {\n  //                     Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item2 => {\n  //                         item2.map(item3 => {\n  //                             if (item3.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\n  //                                 item3.selected = checked\n  //                             }\n  //                         })\n  //                     })\n  //                     this.state.dataResult.data.map(item4 => {\n  //                         if (item4.npreregno === event.dataItem.npreregno) {\n  //                             item4.selected = checked\n  //                         }\n  //                     })\n  //                 }\n  //             }\n  //             return item;\n  //         });\n  //     });\n  //     this.state.dataResult.data.map(item => {\n  //         if (item.npreregno === event.dataItem.npreregno) {\n  //             if (this.props.Login.masterData.ReleaseSubSample[item.npreregno]) {\n  //                 x = this.props.Login.masterData.ReleaseSubSample[item.npreregno]\n  //             }\n  //         }\n  //     })\n  //     let y = x.filter(t => t.selected === true);\n  //     if (x.length === y.length||y.length>0) {\n  //         this.state.dataResult.data.map((t, i) => {\n  //             if (t.npreregno === y[0].npreregno) {\n  //                 this.state.dataResult.data[i].selected = true\n  //             }\n  //         })\n  //     }\n  //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\n  //         item1.map(item2 => {\n  //             if (item2.selected === true) {\n  //                 let a = selectedTestData.every(item3 => {\n  //                     return item3.ntransactiontestcode !== item2.ntransactiontestcode\n  //                 })\n  //                 if (a === true) {\n  //                     selectedTestData.push({\n  //                         \"npreregno\": item2.npreregno,\n  //                         \"ntransactionsamplecode\": item2.ntransactionsamplecode,\n  //                         \"ntransactiontestcode\": item2.ntransactiontestcode,\n  //                     })\n  //                     npreregno.push(item2.npreregno,\n  //                     )\n  //                     ntransactionsamplecode.push(item2.ntransactionsamplecode,\n  //                     )\n  //                     ntransactiontestcode.push(\n  //                         item2.ntransactiontestcode,\n  //                     )\n  //                 }\n  //             }\n  //             if (item2.selected === false) {\n  //                 const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                 selectedTestData = selectedTestData1\n  //                 const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\n  //                 npreregno = npreregno1\n  //                 const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\n  //                 ntransactionsamplecode = ntransactionsamplecode1\n  //                 const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\n  //                 ntransactiontestcode = ntransactiontestcode1\n  //             }\n  //         })\n  //     })\n  //     const updateInfo = {\n  //         typeName: DEFAULT_RETURN,\n  //         data: {\n  //             data: undefined, dataState: undefined,\n  //             masterData: { ...this.props.Login.masterData, ...releaseTest },\n  //             selectedTestData: selectedTestData,\n  //             nFlag: \"3\", ntransactiontestcode: ntransactiontestcode,\n  //             ntransactionsamplecode: ntransactionsamplecode,\n  //             npreregno: npreregno,\n  //             subChildSelectAll: subChildSelectAll\n  //         }\n  //     }\n  //     this.props.updateStore(updateInfo);\n  //     this.setState({\n  //         dataResult,\n  //         nFlag: \"1\"\n  //     });\n  // }\n\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  updateStore,\n  validateEsignCredential,\n  filterColumnData,\n  getSubSampleBySample,\n  getReleaseSelectedSamples,\n  getReleaseSelectedSubSamples,\n  getTestBySample,\n  getReleaseSelectedTest,\n  getReleaseSelectedSampleSubSampleTest,\n  getReleaseRegistrationType,\n  getReleaseRegistrationSubType,\n  getReleaseFilterStatus,\n  getReleaseApprovalVersion,\n  getReleaseFilterBasedTest,\n  getReleaseSample\n})(injectIntl(COARelease));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/COARelease.jsx"],"names":["React","ListWrapper","Row","Col","toast","process","intl","connect","injectIntl","callService","crudMaster","updateStore","validateEsignCredential","getSubSampleBySample","getReleaseSelectedSamples","filterColumnData","getReleaseSelectedSampleSubSampleTest","getReleaseSelectedSubSamples","getTestBySample","getReleaseSelectedTest","xmlExportAction","getReleaseRegistrationType","getReleaseRegistrationSubType","getReleaseFilterStatus","getReleaseApprovalVersion","getReleaseFilterBasedTest","getReleaseSample","Esign","DEFAULT_RETURN","showEsign","getControlMap","convertDateValuetoString","rearrangeDateFormat","constructOptionList","searchData","searchJsonData","designProperties","transactionStatus","DataGridWithMultipleGrid","BreadcrumbComponentToolbar","getSelectedState","COAReleaseFilter","TrainingUpdateChildTab","Affix","mapStateToProps","state","Login","COARelease","Component","constructor","props","handleExpandChange","row","dataState","viewParam","nsitecode","userInfo","primaryKeyField","masterData","primaryKeyValue","viewRow","childHandleExpandChange","dataStateChange","event","setState","dataResult","data","expandNextData","handleDateChange","dateName","dateValue","Date","dfrom","fromDate","dto","toDate","obj","inputParam","inputData","nflag","nregtypecode","RegTypeValue","nregsubtypecode","RegSubTypeValue","String","userinfo","onFilterComboChange","comboData","fieldName","inputParamData","value","SampleTypeValue","nsampletypecode","item","nsectioncode","UserSectionValue","UserSection","map","join","napprovalversioncode","ApprovalVersionValue","napprovalconfigversioncode","ntransactionstatus","FilterStatusValue","stransactionstatus","FilterStatus","ndesigntemplatemappingcode","DesignTemplateMappingValue","napproveconfversioncode","JobStatusValue","njobstatuscode","updateInfo","typeName","TestValue","ntestcode","onFilterSubmit","searchRef","current","change","realFromDate","realToDate","realSampleTypeValue","realRegTypeValue","realRegSubTypeValue","realFilterStatusValue","realApprovalVersionValue","realUserSectionValue","realTestValue","realDesignTemplateMappingValue","npreregno","parseInt","undefined","napprovalconfigcode","section","nneedsubsample","nneedtemplatebasedflow","ntype","sfilterstatus","searchSampleRef","searchSubSampleRef","searchTestRef","skip","take","testskip","testtake","warn","formatMessage","id","searchedGridData","filterValue","filterParam","masterData1","searchedData","inputListName","length","isjsondata","searchFieldList","searchNestedGridData","test","sample","subsample","originalData","fieldList","ntransactionsamplecode","subdata","detail","Object","entries","item1","push","temp","filter","itemArray","itemKey","toLowerCase","toString","findIndex","element","includes","groupBy","ReleaseSample","i","ReleaseSubSample","subsample1","objectArray","property","reduce","acc","key","checkFunction","arrayfalse","childfalsearray","checkFunction1","count","expandFunc","checkFlag","releaseRecord","ntransactiontestcode","c","index","indexOf","x","ntransCode","ALL","status","APSelectedSample","APSelectedSubSample","APSelectedTest","checkBoxOperation","reloadData","activeTestTab","activeSampleTab","activeSubSampleTab","resultDataState","instrumentDataState","materialDataState","taskDataState","documentDataState","resultChangeDataState","testCommentDataState","historyDataState","samplePrintHistoryDataState","sampleHistoryDataState","validateEsign","sreason","selectedRecord","password","screenData","selectionChange","checked","syntheticEvent","target","dataItem","selected","preregno","childHeaderSelectionChange","dataItems","subsamplecode","subChildHeaderSelectionChange","transactionsamplecode","ReleaseTest","collectData","rFlag","every","headerSelectionChange","childSelectionChange","slected","subChildSelectionChange","y","t","y1","npreregno1","ntransactionsamplecode1","ntransactiontestcode1","formRef","createRef","settings","masterStatus","error","childDataResult","userRoleControlRights","controlMap","Map","SampletypeList","RegistrationTypeList","RegistrationSubTypeList","FilterStatusList","sampleSearchField","subsampleSearchField","testSearchField","SampleGridItem","combinedSearchField","extractedColumnList","sampleColumnList","testColumnList","searchedData1","expanded","getDerivedStateFromProps","gridfillingColumn","temparray","option","LABEL","slanguagetypecode","VALUE","render","filterTestParam","isSingleSelect","breadCrumbData","breadCrumbFrom","breadCrumbto","ssampletypename","sregtypename","sregsubtypename","sregtemplatename","sversionname","ssectionname","stestsynonym","releaseId","has","get","ncontrolcode","expandId","RSSelectedSample","ConfigVersionList","UserSectionList","TestList","paddingTop","subChildDataResult","DynamicGridItem","DynamicTestGridItem","selectedId","searchedData2","searchedData3","selectedsubcild","childSelectAll","subChildSelectAll","selectAll","componentDidUpdate","previousProps","sampleListColumns","subSampleListColumns","testListColumns","SingleItem","sampleListMainField","subSampleListMainField","testListMainField","SampleGridExpandableItem","testMoreField","selectedFilter","DynamicSampleColumns","DynamicSubSampleColumns","DynamicTestColumns","DynamicGridMoreField","stateDynamicDesign","bool","nformcode","values","nsubsampleneed","NO","SampletypeListMap","SampleType","RegistrationTypeListMap","RegType","RegistrationSubTypeListMap","RegSubType","FilterStatusListMap","ConfigVersionListMap","ApprovalVersion","UserSectionListMap","TestListMap","Test","selectFilterStatus","PARTIAL","scolorhexcode","selectedFilters","selectedFiltersNew","JSON","parse","stringify","DynamicDesign","dynamicColumn","jsondata","samplelistitem","subsamplelistitem","testlistitem","samplegriditem","testgriditem","samplegridmoreitem","sampledisplayfields","testlistmoreitems","samplesearchfields","subsamplesearchfields","testsearchfields","DesignTemplateMapping","DesignTemplateMappingMap","releaseData"],"mappings":"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A;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAC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CAAiBO,SAAjB,IAA8BA,SAAhF,CAFT;AAGV;AACA;AAEAA,UAAAA;AANU,SAAd;AAUH;AACJ,KA7CD,MA8CK,IAAI,KAAKH,KAAL,CAAWJ,KAAX,CAAiBmL,cAAjB,KAAoC6F,aAAa,CAAChR,KAAd,CAAoBmL,cAA5D,EAA4E;AAC7E,WAAKjK,QAAL,CAAc;AAAEiK,QAAAA,cAAc,EAAE,KAAK/K,KAAL,CAAWJ,KAAX,CAAiBmL;AAAnC,OAAd;AACH;AAEJ,GAz4CoC,CA04CrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AAGA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAx1DqC;;AA+uEzC,eAAe1N,OAAO,CAACqC,eAAD,EAAkB;AACpCnC,EAAAA,WADoC;AACvBC,EAAAA,UADuB;AACXC,EAAAA,WADW;AACEC,EAAAA,uBADF;AAC2BG,EAAAA,gBAD3B;AAEpCF,EAAAA,oBAFoC;AAEdC,EAAAA,yBAFc;AAEaG,EAAAA,4BAFb;AAE2CC,EAAAA,eAF3C;AAGpCC,EAAAA,sBAHoC;AAGZH,EAAAA,qCAHY;AAG2BK,EAAAA,0BAH3B;AAGuDC,EAAAA,6BAHvD;AAIpCC,EAAAA,sBAJoC;AAIZC,EAAAA,yBAJY;AAIeC,EAAAA,yBAJf;AAI0CC,EAAAA;AAJ1C,CAAlB,CAAP,CAMZlB,UAAU,CAACuC,UAAD,CANE,CAAf","sourcesContent":["import React from 'react';\r\nimport { ListWrapper } from '../components/client-group.styles';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { intl } from '../components/App';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport {\r\n    callService, crudMaster, updateStore, validateEsignCredential, getSubSampleBySample, getReleaseSelectedSamples, filterColumnData,\r\n    getReleaseSelectedSampleSubSampleTest, getReleaseSelectedSubSamples, getTestBySample, getReleaseSelectedTest, xmlExportAction,\r\n    getReleaseRegistrationType, getReleaseRegistrationSubType,\r\n    getReleaseFilterStatus, getReleaseApprovalVersion, getReleaseFilterBasedTest, getReleaseSample\r\n} from '../actions';\r\n\r\n\r\nimport Esign from '../pages/audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../actions/LoginTypes';\r\n\r\nimport { showEsign, getControlMap, convertDateValuetoString, rearrangeDateFormat, constructOptionList, searchData, searchJsonData } from '../components/CommonScript';\r\nimport { designProperties, transactionStatus } from '../components/Enumeration';\r\nimport DataGridWithMultipleGrid from '../components/data-grid/DataGridWithMultipleGrid';\r\nimport BreadcrumbComponentToolbar from '../components/ToolbarBreadcrumb.Component';\r\n\r\nimport {\r\n\r\n    getSelectedState\r\n} from \"@progress/kendo-react-grid\";\r\nimport COAReleaseFilter from './coarelease/COAReleaseFilter';\r\nimport TrainingUpdateChildTab from './competencemanagement/trainingupdate/TrainingUpdateChildTab';\r\nimport { Affix } from 'rsuite';\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass COARelease extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef = React.createRef();\r\n\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n        };\r\n        this.state = {\r\n            data: [], masterStatus: \"\", error: \"\", selectedRecord: {},\r\n            dataResult: [],\r\n            childDataResult: [],\r\n            dataState: dataState,\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            SampletypeList: [],\r\n            RegistrationTypeList: [],\r\n            RegistrationSubTypeList: [],\r\n            FilterStatusList: [],\r\n            sampleSearchField: [],\r\n            subsampleSearchField: [],\r\n            testSearchField: [],\r\n            searchedData: [],\r\n            count: 0,\r\n            SampleGridItem: [],\r\n            combinedSearchField:[],\r\n            npreregno:[],\r\n            ntransactiontestcode:[],\r\n            ntransactionsamplecode:[]\r\n\r\n        };\r\n        this.searchRef = React.createRef();\r\n\r\n        this.extractedColumnList = [\r\n            { \"idsName\": \"IDS_ARNO\", \"dataField\": \"sarno\", \"width\": \"200px\" },\r\n            {\r\n                \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"Specimen Type\", \"width\": \"200px\"\r\n            },\r\n            { \"idsName\": \"IDS_PRODUCTCATEGORY\", \"dataField\": \"Specimen Category\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" }\r\n        ];\r\n\r\n        this.sampleColumnList = [{ \"idsName\": \"IDS_SAMPLEARNO\", \"dataField\": \"ssamplearno\", \"width\": \"150px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_SAMPLENAME\", \"dataField\": \"Sample Name\", \"width\": \"100px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"100px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n        ];\r\n\r\n        this.testColumnList = [\r\n            { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestname\", \"width\": \"100px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"100px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n        ];\r\n    }\r\n\r\n    // headerSelectionChange = (event) => {\r\n    //     const checked = event.syntheticEvent.target.checked;\r\n    //     let dataResult = this.props.Login.masterData.ReleaseSample || []\r\n    //     this.state.dataResult.data.map(item => {\r\n    //         item.selected = checked;\r\n    //         return item;\r\n    //     });\r\n\r\n\r\n    //     this.childHeaderSelectionChange(event);\r\n    //     const updateInfo = {\r\n    //         typeName: DEFAULT_RETURN,\r\n    //         data: {\r\n    //             data: undefined, dataState: undefined,\r\n    //             selectAll: checked,\r\n    //             childSelectAll: checked,\r\n\r\n    //             nFlag: \"2\"\r\n    //         }\r\n    //     }\r\n    //     this.props.updateStore(updateInfo);\r\n    //     this.setState({\r\n    //         selectAll: checked,\r\n    //         childSelectAll: checked\r\n\r\n    //     });\r\n\r\n    // }\r\n    // childHeaderSelectionChange = (event) => {\r\n    //     const checked = event.syntheticEvent.target.checked;\r\n    //     let x;\r\n    //     let w;\r\n    //     let testsubsample = [];\r\n    //     let releaseSubSample = this.props.Login.masterData.releaseSubSample || new Map()\r\n    //     let selectedTestData = this.props.Login.selectedTestData || [];\r\n    //     let selectedSubSampleData = this.props.Login.selectedSubSampleData || [];\r\n    //     let npreregno = this.props.Login.npreregno || [];\r\n    //     let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\r\n    //     let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\r\n    //     let selectedSampleData = this.props.Login.selectedSampleData || [];\r\n    //     if (event.dataItem != undefined) {\r\n\r\n    //         this.state.dataResult.data.map(item => {\r\n\r\n\r\n    //             if (item.npreregno === event.dataItem.npreregno) {\r\n    //                 if (this.props.Login.masterData.ReleaseSubSample[item.npreregno]) {\r\n    //                     x = this.props.Login.masterData.ReleaseSubSample[item.npreregno]\r\n    //                     testsubsample.push(x)\r\n    //                 }\r\n    //             }\r\n\r\n    //         })\r\n    //         let y = x.filter(t => t.selected === true);\r\n    //         if (x.length === y.length) {\r\n    //             this.state.dataResult.data.map((t, i) => {\r\n    //                 if (t.npreregno === y[0].npreregno) {\r\n    //                     this.state.dataResult.data[i].selected = checked\r\n    //                 }\r\n    //             })\r\n\r\n    //         }\r\n    //         Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //             item1.map(item2 => {\r\n    //                 if (item2.selected === true) {\r\n    //                     let a = selectedTestData.every(item3 => {\r\n    //                         return item3.ntransactiontestcode !== item2.ntransactiontestcode\r\n    //                     })\r\n    //                     if (a === true) {\r\n    //                         selectedTestData.push({\r\n    //                             \"npreregno\": item2.npreregno,\r\n    //                             \"ntransactionsamplecode\": item2.ntransactionsamplecode,\r\n    //                             \"ntransactiontestcode\": item2.ntransactiontestcode,\r\n\r\n    //                         })\r\n    //                         npreregno.push(item2.npreregno,\r\n\r\n    //                         )\r\n    //                         ntransactionsamplecode.push(item2.ntransactionsamplecode,\r\n\r\n    //                         )\r\n    //                         ntransactiontestcode.push(\r\n    //                             item2.ntransactiontestcode,\r\n\r\n    //                         )\r\n    //                     }\r\n    //                 }\r\n    //                 if (item2.selected === false) {\r\n    //                     const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                     selectedTestData = selectedTestData1\r\n    //                     const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\r\n    //                     npreregno = npreregno1\r\n\r\n    //                     const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\r\n    //                     ntransactionsamplecode = ntransactionsamplecode1\r\n\r\n    //                     const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                     ntransactiontestcode = ntransactiontestcode1\r\n\r\n    //                 }\r\n    //             })\r\n    //         })\r\n\r\n\r\n    //     }\r\n    //     else{\r\n    //     Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n    //         item1.map(item => {\r\n    //             event.dataItems.map(y => {\r\n\r\n    //                 if (item.npreregno === y.npreregno) {\r\n    //                     item.selected = checked\r\n    //                 }\r\n    //             })\r\n\r\n\r\n    //             return item;\r\n    //         });\r\n    //     });\r\n    //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //         item1.map(item => {\r\n    //             event.dataItems.map(y => {\r\n\r\n    //                 if (item.npreregno === y.npreregno) {\r\n    //                     item.selected = checked\r\n\r\n    //                 }\r\n    //             })\r\n\r\n    //             this.state.dataResult.data.map(item4 => {\r\n    //                 event.dataItems.map(y => {\r\n    //                     if (item4.npreregno === y.npreregno) {\r\n\r\n    //                         item4.selected = checked\r\n\r\n    //                     }\r\n    //                 })\r\n    //             })\r\n\r\n\r\n\r\n\r\n    //             return item;\r\n    //         });\r\n    //     });\r\n    // }\r\n    //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //         item1.map(item2 => {\r\n    //             if (item2.selected === true) {\r\n    //                 let a = selectedTestData.every(item3 => {\r\n    //                     return item3.ntransactiontestcode !== item2.ntransactiontestcode\r\n    //                 })\r\n    //                 if (a === true) {\r\n    //                     selectedTestData.push({\r\n    //                         \"npreregno\": item2.npreregno,\r\n    //                         \"ntransactionsamplecode\": item2.ntransactionsamplecode,\r\n    //                         \"ntransactiontestcode\": item2.ntransactiontestcode,\r\n\r\n    //                     })\r\n    //                     npreregno.push(item2.npreregno,\r\n\r\n    //                     )\r\n    //                     ntransactionsamplecode.push(item2.ntransactionsamplecode,\r\n\r\n    //                     )\r\n    //                     ntransactiontestcode.push(\r\n    //                         item2.ntransactiontestcode,\r\n\r\n    //                     )\r\n    //                 }\r\n    //             }\r\n    //             if (item2.selected === false) {\r\n    //                 const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                 selectedTestData = selectedTestData1\r\n    //                 const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\r\n    //                 npreregno = npreregno1\r\n\r\n    //                 const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\r\n    //                 ntransactionsamplecode = ntransactionsamplecode1\r\n\r\n    //                 const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                 ntransactiontestcode = ntransactiontestcode1\r\n\r\n    //             }\r\n    //         })\r\n    //     })\r\n\r\n    //     const updateInfo = {\r\n    //         typeName: DEFAULT_RETURN,\r\n    //         data: {\r\n    //             data: undefined, dataState: undefined,\r\n    //             masterData: { ...this.props.Login.masterData, ...releaseSubSample },\r\n    //             selectedSubSampleData: selectedSubSampleData,\r\n    //             selectedSampleData: selectedSampleData,\r\n\r\n    //             ntransactiontestcode: ntransactiontestcode,\r\n    //             ntransactionsamplecode: ntransactionsamplecode,\r\n    //             npreregno: npreregno,\r\n    //             selectedTestData: selectedTestData,\r\n\r\n\r\n    //             nFlag: \"2\"\r\n    //         }\r\n    //     }\r\n    //     this.props.updateStore(updateInfo);\r\n    // }\r\n    // subChildHeaderSelectionChange = (event) => {\r\n    //     let x;\r\n    //     let w;\r\n    //     let r;\r\n    //     let testsubsample = [];\r\n    //     const checked = event.syntheticEvent.target.checked;\r\n    //     let releaseTest = this.props.Login.masterData.releaseTest || new Map()\r\n    //     let subChildSelectAll = this.props.Login.subChildSelectAll || false\r\n    //     let selectedsubcild = \"\"\r\n    //     let selectedTestData = this.props.Login.selectedTestData || [];\r\n    //     let npreregno = this.props.Login.npreregno || [];\r\n    //     let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\r\n    //     let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\r\n    //     if (event.dataItem != undefined) {\r\n\r\n    //         Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n    //             item1.map(item => {\r\n\r\n\r\n    //                  if (item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n    //                 if (this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]) {\r\n    //                     x = this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]\r\n    //                 }\r\n    //             }\r\n\r\n    //             })\r\n    //         })\r\n    //         let  y = x.filter(t =>  t.selected === true );\r\n    //         if (x.length ===y.length)\r\n    //         {\r\n    //             this.props.Login.masterData.ReleaseSubSample[y[0].npreregno].map((t,i) => {\r\n    //                 if (t.ntransactionsamplecode === y[0].ntransactionsamplecode)\r\n    //                 {\r\n    //                     this.props.Login.masterData.ReleaseSubSample[y[0].npreregno][i].selected =checked \r\n    //                     }\r\n    //             })\r\n\r\n    //         }\r\n    //         Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //             item1.map(item2 => {\r\n    //                 if (item2.selected === true) {\r\n    //                     let a = selectedTestData.every(item3 => {\r\n    //                         return item3.ntransactiontestcode !== item2.ntransactiontestcode\r\n    //                     })\r\n    //                     if (a === true) {\r\n    //                         selectedTestData.push({\r\n    //                             \"npreregno\": item2.npreregno,\r\n    //                             \"ntransactionsamplecode\": item2.ntransactionsamplecode,\r\n    //                             \"ntransactiontestcode\": item2.ntransactiontestcode,\r\n\r\n    //                         })\r\n    //                         npreregno.push(item2.npreregno,\r\n\r\n    //                         )\r\n    //                         ntransactionsamplecode.push(item2.ntransactionsamplecode,\r\n\r\n    //                         )\r\n    //                         ntransactiontestcode.push(\r\n    //                             item2.ntransactiontestcode,\r\n\r\n    //                         )\r\n    //                     }\r\n    //                 }\r\n    //                 if (item2.selected === false) {\r\n    //                     const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                     selectedTestData = selectedTestData1\r\n    //                     const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\r\n    //                     npreregno = npreregno1\r\n\r\n    //                     const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\r\n    //                     ntransactionsamplecode = ntransactionsamplecode1\r\n\r\n    //                     const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                     ntransactiontestcode = ntransactiontestcode1\r\n\r\n    //                 }\r\n    //             })\r\n    //         })\r\n\r\n\r\n    //     }\r\n    //     else {\r\n    //         Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //             item1.map(item => {\r\n    //                 event.dataItems.map(y => {\r\n\r\n    //                     if (item.ntransactiontestcode === y.ntransactiontestcode) {\r\n    //                         item.selected = checked\r\n    //                     }\r\n    //                 })\r\n\r\n\r\n    //                 return item;\r\n    //             });\r\n    //         });\r\n    //         Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n    //             item1.map(item => {\r\n    //                 event.dataItems.map(y => {\r\n\r\n    //                     if (item.ntransactionsamplecode === y.ntransactionsamplecode) {\r\n    //                         item.selected = checked\r\n\r\n    //                     }\r\n    //                 })\r\n\r\n    //                 this.state.dataResult.data.map(item4 => {\r\n    //                     event.dataItems.map(y => {\r\n    //                         if (item4.npreregno === y.npreregno) {\r\n\r\n    //                             item4.selected = checked\r\n\r\n    //                         }\r\n    //                     })\r\n    //                 })\r\n\r\n\r\n\r\n\r\n    //                 return item;\r\n    //             });\r\n    //         });\r\n    //     }\r\n    //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //         item1.map(item2 => {\r\n    //             if (item2.selected === true) {\r\n    //                 let a = selectedTestData.every(item3 => {\r\n    //                     return item3.ntransactiontestcode !== item2.ntransactiontestcode\r\n    //                 })\r\n    //                 if (a === true) {\r\n    //                     selectedTestData.push({\r\n    //                         \"npreregno\": item2.npreregno,\r\n    //                         \"ntransactionsamplecode\": item2.ntransactionsamplecode,\r\n    //                         \"ntransactiontestcode\": item2.ntransactiontestcode,\r\n\r\n    //                     })\r\n    //                     npreregno.push(item2.npreregno,\r\n\r\n    //                     )\r\n    //                     ntransactionsamplecode.push(item2.ntransactionsamplecode,\r\n\r\n    //                     )\r\n    //                     ntransactiontestcode.push(\r\n    //                         item2.ntransactiontestcode,\r\n\r\n    //                     )\r\n    //                 }\r\n    //             }\r\n    //             if (item2.selected === false) {\r\n    //                 const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                 selectedTestData = selectedTestData1\r\n    //                 const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\r\n    //                 npreregno = npreregno1\r\n\r\n    //                 const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\r\n    //                 ntransactionsamplecode = ntransactionsamplecode1\r\n\r\n    //                 const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                 ntransactiontestcode = ntransactiontestcode1\r\n    //             }\r\n    //         })\r\n    //     })\r\n\r\n    //     const updateInfo = {\r\n    //         typeName: DEFAULT_RETURN,\r\n    //         data: {\r\n    //             data: undefined, dataState: undefined,\r\n    //             masterData: { ...this.props.Login.masterData, ...releaseTest },\r\n    //             selectedTestData: selectedTestData,\r\n    //             ntransactiontestcode: ntransactiontestcode,\r\n    //             ntransactionsamplecode: ntransactionsamplecode,\r\n    //             npreregno: npreregno,\r\n    //             subChildSelectAll: subChildSelectAll,\r\n    //             selectedsubcild: selectedsubcild,\r\n\r\n    //             nFlag: \"2\"\r\n    //         }\r\n    //     }\r\n    //     this.props.updateStore(updateInfo);\r\n    //     this.setState({\r\n    //         subChildSelectAll: subChildSelectAll\r\n\r\n    //     });\r\n    //     return subChildSelectAll;\r\n\r\n    // }\r\n\r\n    handleExpandChange = (row, dataState) => {\r\n        const viewParam = {\r\n            nsitecode: -1,\r\n            userInfo: this.props.Login.userInfo, primaryKeyField: \"npreregno\",\r\n            masterData: this.props.Login.masterData\r\n        };\r\n\r\n        this.props.getSubSampleBySample({\r\n            ...viewParam, dataState,\r\n            primaryKeyValue: row[\"dataItem\"][viewParam.primaryKeyField], viewRow: row[\"dataItem\"]\r\n        });\r\n\r\n    }\r\n    handleExpandChange = (row, dataState) => {\r\n        const viewParam = {\r\n            nsitecode: -1,\r\n            userInfo: this.props.Login.userInfo, primaryKeyField: \"npreregno\",\r\n            masterData: this.props.Login.masterData\r\n        };\r\n\r\n        this.props.getSubSampleBySample({\r\n            ...viewParam, dataState,\r\n            primaryKeyValue: row[\"dataItem\"][viewParam.primaryKeyField], viewRow: row[\"dataItem\"]\r\n        });\r\n\r\n    }\r\n    childHandleExpandChange = (row, dataState) => {\r\n        const viewParam = {\r\n            nsitecode: -1,\r\n            userInfo: this.props.Login.userInfo, primaryKeyField: \"npreregno\",\r\n            masterData: this.props.Login.masterData\r\n        };\r\n\r\n        this.props.getTestBySample({\r\n            ...viewParam, dataState,\r\n            primaryKeyValue: row[\"dataItem\"][viewParam.primaryKeyField], viewRow: row[\"dataItem\"]\r\n        });\r\n\r\n    }\r\n    expandNextData(y) {\r\n        let change = []\r\n        let x = process(this.props.Login.masterData.searchedData1 && this.props.Login.masterData.searchedData1 || this.props.Login.masterData.ReleaseSample && this.props.Login.masterData.ReleaseSample || [], y);\r\n\r\n        let data = x.data.every(item => {\r\n            return item.expanded === true\r\n        })\r\n        if (data === true) {\r\n            change = true\r\n        } else {\r\n            change = false\r\n        }\r\n        this.expandFunc({ change: change })\r\n\r\n    }\r\n    dataStateChange = (event) => {\r\n\r\n\r\n        this.setState({ dataState: event.dataState, dataResult: process(this.state.data, event.dataState) })\r\n        this.expandNextData(event.dataState);\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    handleDateChange = (dateName, dateValue) => {\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        let dfrom = this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()\r\n        let dto = this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()\r\n        let obj = {}\r\n        if (dateName === 'fromDate') {\r\n            obj = convertDateValuetoString(dateValue, dto, this.props.Login.userInfo)\r\n            dfrom = obj.fromDate\r\n            dto = obj.toDate\r\n        } else {\r\n            obj = convertDateValuetoString(dfrom, dateValue, this.props.Login.userInfo)\r\n            dfrom = obj.fromDate\r\n            dto = obj.toDate\r\n\r\n        }\r\n        let inputParam = {\r\n            inputData: {\r\n                nflag: 2,\r\n                nregtypecode: this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n                nregsubtypecode: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n                dfrom: String(dfrom),\r\n                dto: String(dto),\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            masterData: this.props.Login.masterData\r\n\r\n        }\r\n        this.props.getReleaseApprovalVersion(inputParam)\r\n    }\r\n\r\n    onFilterComboChange = (comboData, fieldName) => {\r\n\r\n        if (comboData) {\r\n            let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n            let inputParamData = {};\r\n            if (fieldName === 'nsampletypecode') {\r\n                if (comboData.value !== this.props.Login.masterData.SampleTypeValue.nsampletypecode) {\r\n                    inputParamData = {\r\n                        nflag: 2,\r\n                        dfrom: obj.fromDate,\r\n                        dto: obj.toDate,\r\n                        nsampletypecode: comboData.value,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        masterData: this.props.Login.masterData,\r\n                        SampleTypeValue: comboData.item\r\n                    };\r\n                    this.props.getReleaseRegistrationType(inputParamData)\r\n                }\r\n            } else if (fieldName === 'nregtypecode') {\r\n                if (comboData.value !== this.props.Login.masterData.RegTypeValue.nregtypecode) {\r\n                    inputParamData = {\r\n                        nflag: 3,\r\n                        dfrom: obj.fromDate,\r\n                        dto: obj.toDate,\r\n                        nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\r\n                        nregtypecode: comboData.value,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        masterData: this.props.Login.masterData,\r\n                        RegTypeValue: comboData.item\r\n                    }\r\n                    this.props.getReleaseRegistrationSubType(inputParamData)\r\n                }\r\n            } else if (fieldName === 'nregsubtypecode') {\r\n\r\n                if (comboData.value !== this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) {\r\n                    let inputData = {\r\n                        nflag: 4,\r\n                        dfrom: obj.fromDate,\r\n                        dto: obj.toDate,\r\n                        nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\r\n                        nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n                        nregsubtypecode: comboData.value,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        nsectioncode: this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") : this.props.Login.masterData.UserSectionValue.nsectioncode,\r\n                    }\r\n                    inputParamData = {\r\n                        inputData,\r\n                        masterData: {\r\n                            ...this.props.Login.masterData,\r\n                            RegSubTypeValue: comboData.item\r\n                        }\r\n                    }\r\n                    this.props.getReleaseApprovalVersion(inputParamData)\r\n                }\r\n            }\r\n            else if (fieldName === 'ndesigntemplatemappingcode') {\r\n                const inputParamData = {\r\n                    dfrom: obj.fromDate,\r\n                    dto: obj.toDate,\r\n                    nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\r\n                    nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n                    nregsubtypecode: this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n                    napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    masterData: { ...this.props.Login.masterData },\r\n                    RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue,\r\n                    ntransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\r\n                    stransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus === 0 ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\r\n                    nsectioncode: this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") : this.props.Login.masterData.UserSectionValue.nsectioncode,\r\n                    ndesigntemplatemappingcode: comboData.value,\r\n                    DesignTemplateMappingValue: comboData.item\r\n                }\r\n                this.props.getReleaseFilterBasedTest(inputParamData)\r\n            }\r\n            else if (fieldName === 'napproveconfversioncode') {\r\n                if (comboData.value !== this.props.Login.masterData.ApprovalVersionValue.napproveconfversioncode) {\r\n                    inputParamData = {\r\n                        nflag: 4,\r\n                        dfrom: obj.fromDate,\r\n                        dto: obj.toDate,\r\n                        nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\r\n                        nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n                        nregsubtypecode: this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n                        napprovalversioncode: comboData.value,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        masterData: { ...this.props.Login.masterData, ApprovalVersionValue: comboData.item },\r\n                        RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue,\r\n                        nsectioncode: this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") : this.props.Login.masterData.UserSectionValue.nsectioncode,\r\n                        ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode ? this.props.Login.masterData.ndesigntemplatemappingcode : -1\r\n                    }\r\n                    this.props.getReleaseFilterStatus(inputParamData)\r\n                }\r\n            }\r\n            else if (fieldName === 'nsectioncode') {\r\n                if (comboData.value !== this.props.Login.masterData.UserSectionValue.nsectioncode) {\r\n                    // let masterData = { ...this.props.Login.masterData, UserSectionValue: comboData.item }\r\n                    inputParamData = {\r\n                        dfrom: obj.fromDate,\r\n                        dto: obj.toDate,\r\n                        nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\r\n                        nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n                        nregsubtypecode: this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n                        napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        masterData: { ...this.props.Login.masterData, UserSectionValue: comboData.item },\r\n                        RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue,\r\n                        ntransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\r\n                        nsectioncode: comboData.value === -1 ? null\r\n                            // this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") \r\n                            : comboData.value,\r\n                        stransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus === 0 ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\r\n                        ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode ? this.props.Login.masterData.ndesigntemplatemappingcode : -1,\r\n                        DesignTemplateMappingValue: this.props.Login.masterData.DesignTemplateMappingValue && this.props.Login.masterData.DesignTemplateMappingValue\r\n                    }\r\n\r\n                    this.props.getReleaseFilterBasedTest(inputParamData);\r\n                }\r\n            } else if (fieldName === 'njobstatuscode') {\r\n                if (comboData.value !== this.props.Login.masterData.JobStatusValue.njobstatuscode) {\r\n                    let masterData = { ...this.props.Login.masterData, JobStatusValue: comboData.item }\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: { masterData }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n            }\r\n            else if (fieldName === 'ntestcode') {\r\n                if (comboData.value !== this.props.Login.masterData.TestValue.ntestcode) {\r\n                    let masterData = { ...this.props.Login.masterData, TestValue: comboData.item }\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: { masterData }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n            }\r\n            else {\r\n                if (comboData.value !== this.props.Login.masterData.FilterStatusValue.ntransactionstatus) {\r\n                    //  let masterData = { ...this.props.Login.masterData, FilterStatusValue: comboData.item }\r\n                    //  const updateInfo = {\r\n                    //     typeName: DEFAULT_RETURN,\r\n                    //    data: { masterData }\r\n                    // }\r\n\r\n                    inputParamData = {\r\n                        dfrom: obj.fromDate,\r\n                        dto: obj.toDate,\r\n                        nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\r\n                        nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n                        nregsubtypecode: this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n                        napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        masterData: { ...this.props.Login.masterData, FilterStatusValue: comboData.item },\r\n                        RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue,\r\n                        ntransactionstatus: comboData.value,\r\n                        stransactionstatus: comboData.value === 0 ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : comboData.value,\r\n                        nsectioncode: null//this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? \r\n                        //this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") \r\n                        //: this.props.Login.masterData.UserSectionValue.nsectioncode,\r\n                    }\r\n\r\n                    this.props.getReleaseFilterBasedTest(inputParamData);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onFilterSubmit = () => {\r\n        this.searchRef.current.value = \"\";\r\n        delete this.props.Login.masterData[\"searchedData1\"]\r\n        delete this.props.Login.masterData[\"searchedData2\"]\r\n\r\n        delete this.props.Login.masterData[\"searchedData3\"]\r\n        this.props.Login.change = false\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n        let realFromDate = obj.fromDate;\r\n        let realToDate = obj.toDate\r\n        let realSampleTypeValue = this.props.Login.masterData.SampleTypeValue && this.props.Login.masterData.SampleTypeValue\r\n        let realRegTypeValue = this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue\r\n        let realRegSubTypeValue = this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue\r\n        let realFilterStatusValue = this.props.Login.masterData.FilterStatusValue && this.props.Login.masterData.FilterStatusValue\r\n        let realApprovalVersionValue = this.props.Login.masterData.ApprovalVersionValue && this.props.Login.masterData.ApprovalVersionValue\r\n        let realUserSectionValue = this.props.Login.masterData.UserSectionValue && this.props.Login.masterData.UserSectionValue\r\n        let realTestValue = this.props.Login.masterData.TestValue && this.props.Login.masterData.TestValue\r\n        let realDesignTemplateMappingValue = this.props.Login.masterData.DesignTemplateMappingValue && this.props.Login.masterData.DesignTemplateMappingValue\r\n        let masterData = { ...this.props.Login.masterData, realFromDate, realToDate, realSampleTypeValue, realRegTypeValue, realRegSubTypeValue, realFilterStatusValue, realApprovalVersionValue, realUserSectionValue, realTestValue, realDesignTemplateMappingValue }\r\n        let inputData = {\r\n            npreregno: \"0\",\r\n            nsampletypecode: (this.props.Login.masterData.SampleTypeValue && this.props.Login.masterData.SampleTypeValue.nsampletypecode) || -1,\r\n            nregtypecode: parseInt(this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue.nregtypecode) || -1,\r\n            nregsubtypecode: parseInt(this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) || -1,\r\n            ntransactionstatus: ((this.props.Login.masterData.FilterStatusValue && this.props.Login.masterData.FilterStatusValue.ntransactionstatus !== undefined) || this.props.Login.masterData.FilterStatusValue.ntransactionstatus !== '0') ? String(this.props.Login.masterData.FilterStatusValue.ntransactionstatus) : \"-1\",\r\n            napprovalconfigcode: this.props.Login.masterData.ApprovalVersionValue ? this.props.Login.masterData.ApprovalVersionValue.napprovalconfigcode || -1 : null,\r\n            napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue && this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode ? String(this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode) : null,\r\n            nsectioncode: this.props.Login.masterData.UserSectionValue ? this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(section => section.nsectioncode).join(',') : String(this.props.Login.masterData.UserSectionValue.nsectioncode) : null,\r\n            ntestcode: this.props.Login.masterData.TestValue ? this.props.Login.masterData.TestValue.ntestcode : -1,\r\n            nneedsubsample: (this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedsubsample) || false,\r\n            nneedtemplatebasedflow: (this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nneedtemplatebasedflow) || false,\r\n            userinfo: this.props.Login.userInfo,\r\n\r\n            ntype: 2,\r\n            ndesigntemplatemappingcode: (this.props.Login.masterData.DesignTemplateMappingValue && this.props.Login.masterData.DesignTemplateMappingValue.ndesigntemplatemappingcode) || -1\r\n        }\r\n        if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1\r\n            && inputData.ntransactionstatus !== \"-1\" && inputData.napprovalconfigcode !== -1 && inputData.napprovalversioncode !== \"-1\"\r\n            && realFilterStatusValue.sfilterstatus !== null && inputData.ntestcode !== undefined) {\r\n\r\n            inputData['dfrom'] = obj.fromDate;\r\n            inputData['dto'] = obj.toDate;\r\n            let inputParam = {\r\n                masterData,\r\n                inputData,\r\n                searchSampleRef: this.searchSampleRef,\r\n                searchSubSampleRef: this.searchSubSampleRef,\r\n                searchTestRef: this.searchTestRef,\r\n                skip: this.state.skip,\r\n                take: this.state.take,\r\n                testskip: this.state.testskip,\r\n                testtake: this.state.testtake,\r\n\r\n            }\r\n            this.props.getReleaseSample(inputParam)\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }))\r\n        }\r\n\r\n    }\r\n    searchedGridData = (filterValue, filterParam) => {\r\n\r\n        let masterData1 = filterParam.masterData;\r\n\r\n        let primaryKeyValue = 0;\r\n        let searchedData = undefined;\r\n        if (filterValue === \"\") {\r\n            if (masterData1[filterParam.inputListName] && masterData1[filterParam.inputListName].length > 0) {\r\n\r\n                primaryKeyValue = masterData1[filterParam.inputListName][0][filterParam.primaryKeyField];\r\n                // }\r\n            }\r\n        }\r\n        else {\r\n            if (filterParam.isjsondata) {\r\n                searchedData = searchJsonData(filterValue, masterData1[filterParam.inputListName], filterParam.searchFieldList || []);\r\n            }\r\n            else {\r\n                searchedData = this.searchNestedGridData(filterValue, masterData1[filterParam.inputListName], filterParam.searchFieldList || [], masterData1);\r\n\r\n            }\r\n            masterData1[\"searchedData3\"] = searchedData.test;\r\n            masterData1[\"searchedData1\"] = searchedData.sample;\r\n            masterData1[\"searchedData2\"] = searchedData.subsample;\r\n\r\n            //    masterData1[\"searchedData\"][\"selected\"]=false\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: { ...masterData1 }\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    searchNestedGridData=(filterValue, originalData, fieldList, masterData) =>{\r\n        let searchedData = [];\r\n        let ntransactionsamplecode = [];\r\n        let subdata = [];\r\n        let detail = []\r\n        let npreregno = []\r\n      \r\n        Object.entries(originalData).map(item1 => {\r\n          item1[1].map(item => {\r\n            detail.push(item)\r\n          })\r\n        })\r\n      \r\n        let temp =\r\n          detail.filter(item => {\r\n            const itemArray = [];\r\n      \r\n            fieldList.map(itemKey =>\r\n              item[itemKey] && item[itemKey] !== null ?\r\n                itemArray.push(typeof item[itemKey] === \"string\" ? item[itemKey].toLowerCase()\r\n                  : item[itemKey].toString().toLowerCase())\r\n                : \"\")\r\n            return itemArray\r\n              .findIndex(element => element\r\n                .includes(filterValue.toLowerCase())) > -1\r\n      \r\n          })\r\n      \r\n        temp.map(item1 => {\r\n          if (!npreregno.includes(item1.npreregno))\r\n            npreregno.push(item1.npreregno)\r\n          if (!ntransactionsamplecode.includes(item1.ntransactionsamplecode))\r\n            ntransactionsamplecode.push(item1.ntransactionsamplecode)\r\n        })\r\n        let test = groupBy(temp, 'ntransactionsamplecode');\r\n        let sample = masterData.ReleaseSample.filter(item => {\r\n      \r\n          for (var i = 0; i < npreregno.length; i++) {\r\n            if (npreregno[i] === item.npreregno && npreregno[i] !== undefined) {\r\n              return item\r\n            }\r\n          }\r\n      \r\n        })\r\n      \r\n        Object.entries(masterData.ReleaseSubSample).map(item1 => {\r\n          item1[1].map(item => {\r\n            subdata.push(item)\r\n          })\r\n        })\r\n        let subsample1 = subdata.filter(item => {\r\n      \r\n          for (var i = 0; i < ntransactionsamplecode.length; i++) {\r\n            if (ntransactionsamplecode[i] === item.ntransactionsamplecode && ntransactionsamplecode[i] !== undefined) {\r\n              return item\r\n            }\r\n          }\r\n      \r\n        })\r\n        let subsample = groupBy(subsample1, \"npreregno\");\r\n        function groupBy(objectArray, property) {\r\n          return objectArray.reduce((acc, obj) => {\r\n            const key = obj[property];\r\n            if (!acc[key]) {\r\n              acc[key] = [];\r\n            }\r\n            acc[key].push(obj);\r\n            return acc;\r\n          }, {});\r\n        }\r\n        searchedData = { test, sample, subsample }\r\n        return searchedData;\r\n      }\r\n      //end- search logic\r\n    checkFunction = (data) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                arrayfalse: data.arrayfalse,\r\n                childfalsearray: data.childfalsearray\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    checkFunction1 = () => {\r\n        this.setState({\r\n            count: 1\r\n        })\r\n    }\r\n    expandFunc = (change) => {\r\n        let count = change.count;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: { ...this.props.Login.masterData },\r\n                change: change.change,\r\n                checkFlag: \"1\",\r\n                count: count\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    gridfillingColumn(data) {\r\n        //  const tempArray = [];\r\n        const temparray = data && data.map((option) => {\r\n            return { \"idsName\": option[designProperties.LABEL][this.props.Login.userInfo.slanguagetypecode], \"dataField\": option[designProperties.VALUE], \"width\": \"200px\", \"columnSize\": \"3\" };\r\n        });\r\n        return temparray;\r\n    }\r\n    render() {\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.realFromDate, this.props.Login.masterData.realToDate, this.props.Login.userInfo)\r\n\r\n\r\n\r\n\r\n        const filterTestParam = {\r\n            inputListName: \"ReleaseTest\",\r\n            //  selectedObject: \"APSelectedTest\",\r\n            primaryKeyField: \"ntransactiontestcode\",\r\n            //    fetchUrl: this.getActiveTestURL(),\r\n            // fecthInputObject: {\r\n            //     ntransactiontestcode: this.props.Login.masterData.APSelectedTest ? this.props.Login.masterData.APSelectedTest.map(test => test.ntransactiontestcode).join(\",\") : \"-1\",\r\n            //     userinfo: this.props.Login.userInfo,\r\n            //     checkBoxOperation: 3,\r\n            //     ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode || -1\r\n            // },\r\n            isSingleSelect: false,\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: this.state.combinedSearchField || [],\r\n\r\n        };\r\n\r\n        let breadCrumbData = [\r\n            {\r\n                \"label\": \"IDS_FROM\",\r\n                \"value\": obj.breadCrumbFrom\r\n            }, {\r\n                \"label\": \"IDS_TO\",\r\n                \"value\": obj.breadCrumbto\r\n            },\r\n            {\r\n                \"label\": \"IDS_SAMPLETYPE\",\r\n                \"value\": this.props.Login.masterData.realSampleTypeValue && this.props.Login.masterData.realSampleTypeValue.ssampletypename ? this.props.Login.masterData.realSampleTypeValue.ssampletypename : \"Product\"\r\n            }, {\r\n                \"label\": \"IDS_REGTYPE\",\r\n                \"value\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.sregtypename || \"NA\" :\r\n                    this.props.Login.masterData.RegTypeValue ? this.props.Login.masterData.RegTypeValue.sregtypename || \"NA\" : \"NA\"\r\n            }, {\r\n                \"label\": \"IDS_REGSUBTYPE\",\r\n                \"value\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.sregsubtypename || \"NA\" :\r\n                    this.props.Login.masterData.RegSubTypeValue ?\r\n                        this.props.Login.masterData.RegSubTypeValue.sregsubtypename : \"NA\"\r\n            },\r\n            {\r\n                \"label\": \"IDS_DESIGNTEMPLATE\",\r\n                \"value\": this.props.Login.masterData.realDesignTemplateMappingValue ?\r\n                    this.props.Login.masterData.realDesignTemplateMappingValue.sregtemplatename || \"NA\" :\r\n                    this.props.Login.masterData.realDesignTemplateMappingValue ? this.props.Login.masterData.realDesignTemplateMappingValue.sregtemplatename || \"NA\" : \"NA\"\r\n            },\r\n            {\r\n                \"label\": \"IDS_CONFIGVERSION\",\r\n                \"value\": this.props.Login.masterData.realApprovalVersionValue ?\r\n                    this.props.Login.masterData.realApprovalVersionValue.sversionname || \"NA\" :\r\n                    this.props.Login.masterData.ApprovalVersionValue ? this.props.Login.masterData.ApprovalVersionValue.sversionname || \"NA\" : \"NA\"\r\n            },\r\n            {\r\n                \"label\": \"IDS_SECTION\",\r\n                \"value\": this.props.Login.masterData.realUserSectionValue ?\r\n                    this.props.Login.masterData.realUserSectionValue.ssectionname || \"NA\" :\r\n                    this.props.Login.masterData.UserSectionValue ?\r\n                        this.props.Login.masterData.UserSectionValue.ssectionname || \"NA\" : \"NA\"\r\n            },\r\n            {\r\n                \"label\": \"IDS_Test\",\r\n                \"value\": this.props.Login.masterData.realTestValue ?\r\n                    this.props.Login.masterData.realTestValue.stestsynonym || \"NA\" :\r\n                    this.props.Login.masterData.TestValue ?\r\n                        this.props.Login.masterData.TestValue.stestsynonym || \"NA\" : \"NA\"\r\n            },\r\n            {\r\n                \"label\": \"IDS_FILTERSTATUS\",\r\n                \"value\": this.props.Login.masterData.realFilterStatusValue ?\r\n                    this.props.Login.masterData.realFilterStatusValue.sfilterstatus || \"NA\" :\r\n                    this.props.Login.masterData.FilterStatusValue ?\r\n                        this.props.Login.masterData.FilterStatusValue.sfilterstatus || \"NA\" : \"NA\"\r\n            }\r\n        ];\r\n        const releaseId = this.props.Login.inputParam && this.state.controlMap.has(\"COARelease\")\r\n            && this.state.controlMap.get('COARelease').ncontrolcode;\r\n        const expandId = this.props.Login.inputParam && this.state.controlMap.has(\"ReleaseExpand\")\r\n            && this.state.controlMap.get('ReleaseExpand').ncontrolcode;\r\n        return (\r\n            <>\r\n                {/* <Row> */}\r\n                    {/* <Col> */}\r\n                    <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                        <Affix top={60}>\r\n                         <BreadcrumbComponentToolbar\r\n                                //   showFilter={true}\r\n                                showSearch={true}\r\n                                breadCrumbItem={breadCrumbData}\r\n                                filterColumnData={this.searchedGridData}\r\n                                filterParam={filterTestParam}\r\n                                selectedMaster={this.props.Login.masterData.RSSelectedSample}\r\n                                searchRef={this.searchRef}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"Sample Filter\": <COAReleaseFilter\r\n                                            SampleType={this.state.SampletypeList || []}\r\n                                            SampleTypeValue={this.props.Login.masterData.SampleTypeValue || []}\r\n                                            RegType={this.state.RegistrationTypeList || []}\r\n                                            RegTypeValue={this.props.Login.masterData.RegTypeValue || []}\r\n                                            RegSubType={this.state.RegistrationSubTypeList || []}\r\n                                            RegSubTypeValue={this.props.Login.masterData.RegSubTypeValue || []}\r\n                                            ApprovalVersion={this.state.ConfigVersionList || []}\r\n                                            ApprovalVersionValue={this.props.Login.masterData.ApprovalVersionValue || []}\r\n                                            UserSection={this.state.UserSectionList || []}\r\n                                            UserSectionValue={this.props.Login.masterData.UserSectionValue || []}\r\n                                            // JobStatus={this.props.Login.masterData.JobStatus || []}\r\n                                            Test={this.state.TestList || []}\r\n                                            TestValue={this.props.Login.masterData.TestValue || []}\r\n                                            FilterStatus={this.state.FilterStatusList || []}\r\n                                            FilterStatusValue={this.props.Login.masterData.FilterStatusValue || []}\r\n                                            fromDate={this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()}\r\n                                            toDate={this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()}\r\n                                            onFilterComboChange={this.onFilterComboChange}\r\n                                            handleDateChange={this.handleDateChange}\r\n\r\n                                            // onDesignTemplateChange={this.onDesignTemplateChange}\r\n                                            // DynamicDesignMapping={this.state.stateDynamicDesign || []}\r\n                                            // DesignTemplateMapping={this.props.Login.masterData.DesignTemplateMapping}\r\n                                            // DesignTemplateMappingValue={this.props.Login.masterData.DesignTemplateMappingValue || {}}\r\n                                            userInfo={this.props.Login.userInfo}\r\n\r\n                                        />\r\n                                    }\r\n                                ]}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n\r\n                                />\r\n                            </Affix>\r\n                </div>\r\n                {/* <Row>\r\n                <Col> */}\r\n                        <ListWrapper className=\"client-list-content\" style={{paddingTop:\"5px\"}}>\r\n                     \r\n\r\n                            {this.state.data ?\r\n                                <DataGridWithMultipleGrid\r\n                                    needSubSample={this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedsubsample || false}\r\n                                    data={this.state.data}\r\n                                    dataResult={process(this.props.Login.masterData.searchedData1 && this.props.Login.masterData.searchedData1 || this.props.Login.masterData.ReleaseSample && this.props.Login.masterData.ReleaseSample || [], this.state.dataState)}\r\n                                    dataState={this.state.dataState}\r\n                                    dataStateChange={this.dataStateChange}\r\n                                    expandNextData={this.expandNextData}\r\n                                    checkFunction={this.checkFunction}\r\n                                    checkFunction1={this.checkFunction1}\r\n                                    expandFunc={this.expandFunc}\r\n                                    //expandData={this.expandData}\r\n                                    childDataResult={this.state.childDataResult}\r\n                                    subChildDataResult={this.state.subChildDataResult}\r\n                                    extractedColumnList={this.gridfillingColumn(this.state.DynamicGridItem) || []}\r\n                                    subChildColumnList={this.gridfillingColumn(this.state.DynamicTestGridItem) || []}\r\n\r\n                                    expandField=\"expanded\"\r\n                                    handleExpandChange={this.handleExpandChange}\r\n                                    childHandleExpandChange={this.childHandleExpandChange}\r\n\r\n                                    reloadData={this.reloadData}\r\n                                    controlMap={this.state.controlMap}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    pageable={true}\r\n                                    scrollable={'scrollable'}\r\n                            gridHeight={'600px'}\r\n                            gridTop={'10px'}\r\n                                    isActionRequired={true}\r\n                                    isToolBarRequired={true}\r\n                                    isExpandRequired={true}\r\n                                    isCollapseRequired={true}\r\n\r\n                                    selectedId={this.props.Login.selectedId}\r\n                                    hasChild={true}\r\n                                    hasSubChild={true}\r\n                                    childList={\r\n                                        this.props.Login.masterData.searchedData2 ||\r\n                                        this.props.Login.masterData.ReleaseSubSample\r\n                                    }\r\n                                    childColumnList={this.sampleColumnList}\r\n                                    childMappingField={\"npreregno\"}\r\n                                    subChildMappingField={this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedsubsample ? \"ntransactionsamplecode\" : \"npreregno\"}\r\n                                    subChildList={\r\n                                        this.props.Login.masterData.searchedData3 ||\r\n                                        this.props.Login.masterData.ReleaseTest\r\n                                    }\r\n                                    selectedsubcild={this.props.Login.selectedsubcild}\r\n                                    methodUrl={\"Release\"}\r\n                                    headerSelectionChange={this.headerSelectionChange}\r\n                                    childHeaderSelectionChange={this.childHeaderSelectionChange}\r\n                                    childSelectAll={this.props.Login.childSelectAll}\r\n                                    childSelectionChange={this.childSelectionChange}\r\n                                    subChildSelectionChange={this.subChildSelectionChange}\r\n                                    subChildHeaderSelectionChange={this.subChildHeaderSelectionChange}\r\n                                    subChildSelectAll={this.props.Login.subChildSelectAll}\r\n                                    selectionChange={this.selectionChange}\r\n                                    selectAll={this.props.Login.selectAll}\r\n                                    releaseRecord={this.releaseRecord}\r\n                                />\r\n                                : \"\"}\r\n                        </ListWrapper>\r\n                    {/* </Col>\r\n                </Row> */}\r\n\r\n            </>\r\n        );\r\n    }\r\n    releaseRecord = () => {\r\n        let ntransactionsamplecode = \"\"\r\n        let ntransactiontestcode = \"\"\r\n        let npreregno = \"\"\r\n        let sample = this.props.Login.npreregno.filter((c, index) => {\r\n            return this.props.Login.npreregno.indexOf(c) === index;\r\n        });\r\n        let subsample = this.props.Login.ntransactionsamplecode.filter((c, index) => {\r\n            return this.props.Login.ntransactionsamplecode.indexOf(c) === index;\r\n        });\r\n        let test = this.props.Login.ntransactiontestcode.filter((c, index) => {\r\n            return this.props.Login.ntransactiontestcode.indexOf(c) === index;\r\n        });\r\n        npreregno = sample.map(x => x).join(\",\")\r\n        ntransactionsamplecode = subsample.map(x => x).join(\",\")\r\n        ntransactiontestcode = test.map(x => x).join(\",\")\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.realFromDate, this.props.Login.masterData.realToDate, this.props.Login.userInfo)\r\n        let ntransCode = this.props.Login.masterData.FilterStatusValue.ntransactionstatus\r\n        if (ntransCode === transactionStatus.ALL) {\r\n            ntransCode = this.props.Login.masterData.FilterStatus.map(status => status.ntransactionstatus).join(\",\");\r\n        } else {\r\n            ntransCode = ntransCode\r\n        }\r\n        const inputParam = {\r\n            inputData: {\r\n                change: this.props.Login.change,\r\n                npreregno: npreregno,\r\n                ntransactionsamplecode: ntransactionsamplecode,\r\n                ntransactiontestcode: ntransactiontestcode,\r\n                nsectioncode: this.props.Login.masterData.UserSectionValue ?\r\n                    this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ?\r\n                        this.props.Login.masterData.UserSection.map(section => section.nsectioncode).join(',') :\r\n                        String(this.props.Login.masterData.UserSectionValue.nsectioncode) :\r\n                    null,\r\n                ntestcode: this.props.Login.masterData.realTestValue && this.props.Login.masterData.realTestValue.ntestcode,\r\n                // nTransStatus: ntransCode,\r\n                ntransactionstatus: String(-1),\r\n                nsampletypecode: this.props.Login.masterData.realSampleTypeValue && this.props.Login.masterData.realSampleTypeValue.nsampletypecode,\r\n                nregtypecode: this.props.Login.masterData.realRegTypeValue && this.props.Login.masterData.realRegTypeValue.nregtypecode,\r\n                nregsubtypecode: this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nregsubtypecode,\r\n                napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,\r\n                nneedsubsample: (this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nneedsubsample) || false,\r\n                nneedtemplatebasedflow: (this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nneedtemplatebasedflow) || false,\r\n                dfrom: obj.fromDate,\r\n                dto: obj.toDate,\r\n                nflag: 2,\r\n                ntype: 1,\r\n                userinfo: this.props.Login.userInfo,\r\n                APSelectedSample: this.props.Login.masterData.APSelectedSample,\r\n                APSelectedSubSample: this.props.Login.masterData.APSelectedSubSample,\r\n                APSelectedTest: this.props.Login.masterData.APSelectedTest,\r\n                // retestcount: action.ntransactionstatus === transactionStatus.RETEST ? this.state.selectedRecord ? this.state.selectedRecord.retestcount || 1 : 1 : undefined,\r\n                // ncontrolCode,\r\n                checkBoxOperation: 3,\r\n                ndesigntemplatemappingcode: (this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode) || -1\r\n            },\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        this.props.getReleaseSelectedSampleSubSampleTest(this.props.Login.userInfo, this.props.Login.masterData, inputParam.inputData)\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n        let { userRoleControlRights, controlMap,\r\n            sampleListColumns, subSampleListColumns, testListColumns, SingleItem,\r\n            sampleListMainField, subSampleListMainField, testListMainField,\r\n            SampleGridItem, SampleGridExpandableItem, testMoreField,\r\n            resultDataState, instrumentDataState,\r\n            materialDataState, taskDataState,\r\n            documentDataState, resultChangeDataState,\r\n            historyDataState, testCommentDataState,\r\n            samplePrintHistoryDataState, sampleHistoryDataState,\r\n            selectedRecord, SampletypeList, RegistrationTypeList,\r\n            RegistrationSubTypeList, FilterStatusList,\r\n            ConfigVersionList, UserSectionList, TestList, skip, take, testskip, testtake, selectedFilter,\r\n            DynamicSampleColumns, DynamicSubSampleColumns, DynamicTestColumns, DynamicGridItem, DynamicTestGridItem,\r\n            DynamicGridMoreField, stateDynamicDesign, sampleSearchField, subsampleSearchField, testSearchField ,combinedSearchField} = this.state;\r\n\r\n        let bool = false;\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            bool = true;\r\n        }\r\n        if (this.props.Login.masterData.RegSubTypeValue !== previousProps.Login.masterData.RegSubTypeValue) {\r\n            if (this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nsubsampleneed === transactionStatus.NO) {\r\n                let dataState = {\r\n                    skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5//, group: [{ field: `${this.props.Login.masterData.RegSubTypeValue.nsubsampleneed ? 'ssamplearno' : 'sarno'}` }] \r\n                }\r\n                resultDataState = dataState\r\n                instrumentDataState = dataState\r\n                materialDataState = dataState\r\n                taskDataState = dataState\r\n                documentDataState = dataState\r\n                resultChangeDataState = dataState\r\n                historyDataState = dataState\r\n                testCommentDataState = dataState\r\n\r\n                bool = true;\r\n            }\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n\r\n            selectedRecord = this.props.Login.selectedRecord\r\n            bool = true;\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const SampletypeListMap = constructOptionList(this.props.Login.masterData.SampleType || [], \"nsampletypecode\", \"ssampletypename\", 'ascending', 'nsampletypecode', false);\r\n            const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.RegType || [], \"nregtypecode\", \"sregtypename\", \"nsorter\", 'ascending', 'nregtypecode', false);\r\n            const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.RegSubType || [], \"nregsubtypecode\", \"sregsubtypename\", \"nsorter\", 'ascending', 'nregsubtypecode', false);\r\n            const FilterStatusListMap = constructOptionList(this.props.Login.masterData.FilterStatus || [], \"ntransactionstatus\", \"sfilterstatus\", undefined, undefined, true);\r\n            const ConfigVersionListMap = constructOptionList(this.props.Login.masterData.ApprovalVersion || [], \"napprovalconfigversioncode\", \"sversionname\", 'descending', 'ntransactionstatus', false);\r\n            const UserSectionListMap = constructOptionList(this.props.Login.masterData.UserSection || [], \"nsectioncode\", \"ssectionname\", undefined, undefined, true);\r\n            const TestListMap = constructOptionList(this.props.Login.masterData.Test || [], \"ntestcode\", \"stestsynonym\", undefined, undefined, true);\r\n            SampletypeList = SampletypeListMap.get(\"OptionList\");\r\n            RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n            RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n            FilterStatusList = FilterStatusListMap.get(\"OptionList\");\r\n            ConfigVersionList = ConfigVersionListMap.get(\"OptionList\");\r\n            UserSectionList = UserSectionListMap.get(\"OptionList\");\r\n            TestList = TestListMap.get(\"OptionList\");\r\n            bool = true;\r\n            skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip\r\n            take = this.props.Login.take || take\r\n            testskip = this.props.Login.testskip === undefined ? testskip : this.props.Login.testskip\r\n            testtake = this.props.Login.testtake || testtake\r\n            let selectFilterStatus = { ntransactionstatus: transactionStatus.PARTIAL, sfilterstatus: this.props.intl.formatMessage({ id: \"IDS_PARTIAL\" }), scolorhexcode: \"#800000\" }\r\n            const selectedFilters = this.props.Login.masterData.FilterStatus || [];\r\n\r\n            const selectedFiltersNew = JSON.parse(JSON.stringify(selectedFilters));\r\n\r\n            const index = selectedFiltersNew.findIndex(item => item.ntransactionstatus === transactionStatus.PARTIAL)\r\n            if (selectedFiltersNew.length > 0 && index === -1) {\r\n                selectedFiltersNew.push(selectFilterStatus)\r\n            }\r\n            selectedFilter = selectedFiltersNew;\r\n            if (this.props.Login.resultDataState && this.props.Login.resultDataState !== previousProps.Login.resultDataState) {\r\n                resultDataState = this.props.Login.resultDataState;\r\n            }\r\n            if (this.props.Login.instrumentDataState && this.props.Login.instrumentDataState !== previousProps.Login.instrumentDataState) {\r\n                instrumentDataState = this.props.Login.instrumentDataState;\r\n            }\r\n            if (this.props.Login.taskDataState && this.props.Login.taskDataState !== previousProps.Login.taskDataState) {\r\n                taskDataState = this.props.Login.taskDataState;\r\n            }\r\n            if (this.props.Login.resultChangeDataState && this.props.Login.resultChangeDataState !== previousProps.Login.resultChangeDataState) {\r\n                resultChangeDataState = this.props.Login.resultChangeDataState;\r\n            }\r\n            if (this.props.Login.historyDataState && this.props.Login.historyDataState !== previousProps.Login.historyDataState) {\r\n                historyDataState = this.props.Login.historyDataState;\r\n            }\r\n            if (this.props.Login.testCommentDataState && this.props.Login.testCommentDataState !== previousProps.Login.testCommentDataState) {\r\n                testCommentDataState = this.props.Login.testCommentDataState;\r\n            }\r\n            if (this.props.Login.samplePrintHistoryDataState && this.props.Login.samplePrintHistoryDataState !== previousProps.Login.samplePrintHistoryDataState) {\r\n                samplePrintHistoryDataState = this.props.Login.samplePrintHistoryDataState;\r\n            }\r\n            if (this.props.Login.sampleHistoryDataState && this.props.Login.sampleHistoryDataState !== previousProps.Login.sampleHistoryDataState) {\r\n                sampleHistoryDataState = this.props.Login.sampleHistoryDataState;\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData.DynamicDesign && this.props.Login.masterData.DynamicDesign !== previousProps.Login.masterData.DynamicDesign) {\r\n            const dynamicColumn = JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata.value)\r\n            DynamicSampleColumns = dynamicColumn.samplelistitem ? dynamicColumn.samplelistitem : [];\r\n            DynamicSubSampleColumns = dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [];\r\n            DynamicTestColumns = dynamicColumn.testlistitem ? dynamicColumn.testlistitem : []\r\n\r\n            DynamicGridItem = dynamicColumn.samplegriditem ? dynamicColumn.samplegriditem : [];\r\n            DynamicTestGridItem = dynamicColumn.testgriditem ? dynamicColumn.testgriditem : [];\r\n\r\n            DynamicGridMoreField = dynamicColumn.samplegridmoreitem ? dynamicColumn.samplegridmoreitem : [];\r\n\r\n            SingleItem = dynamicColumn.sampledisplayfields ? dynamicColumn.sampledisplayfields : [];\r\n            testMoreField = dynamicColumn.testlistmoreitems ? dynamicColumn.testlistmoreitems : [];\r\n            testListColumns = dynamicColumn.testlistitem ? dynamicColumn.testlistitem : [];\r\n\r\n            sampleSearchField = dynamicColumn.samplesearchfields ? dynamicColumn.samplesearchfields : [];\r\n            subsampleSearchField = dynamicColumn.subsamplesearchfields ? dynamicColumn.subsamplesearchfields : [];\r\n            testSearchField = dynamicColumn.testsearchfields ? dynamicColumn.testsearchfields : [];\r\n            sampleSearchField.map(item => { combinedSearchField.push(item) });\r\n            subsampleSearchField.map(item => { combinedSearchField.push(item) });\r\n            testSearchField.map(item => { combinedSearchField.push(item) });\r\n\r\n\r\n            bool = true;\r\n\r\n            let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n            selectedRecord['fromDate'] = obj.fromDate;\r\n            selectedRecord['toDate'] = obj.toDate;\r\n\r\n            bool = true;\r\n        }\r\n        if (this.props.Login.masterData.DesignTemplateMapping !== previousProps.Login.masterData.DesignTemplateMapping) {\r\n\r\n            const DesignTemplateMappingMap = constructOptionList(this.props.Login.masterData.DesignTemplateMapping || [], \"ndesigntemplatemappingcode\",\r\n                \"sregtemplatename\", undefined, undefined, false);\r\n\r\n            stateDynamicDesign = DesignTemplateMappingMap.get(\"OptionList\")\r\n        }\r\n        if (bool) {\r\n            bool = false;\r\n            this.setState({\r\n                userRoleControlRights, controlMap,\r\n                sampleListColumns, subSampleListColumns, testListColumns, SingleItem,\r\n                sampleListMainField, subSampleListMainField, testListMainField,\r\n                SampleGridItem, SampleGridExpandableItem, testMoreField,\r\n                resultDataState, instrumentDataState,\r\n                materialDataState, taskDataState,\r\n                documentDataState, resultChangeDataState,\r\n                historyDataState, testCommentDataState,\r\n                samplePrintHistoryDataState, sampleHistoryDataState,\r\n                selectedRecord, SampletypeList, RegistrationTypeList,\r\n                RegistrationSubTypeList, FilterStatusList,\r\n                ConfigVersionList, UserSectionList, TestList,\r\n                skip, take, testskip, testtake, selectedFilter,\r\n                DynamicSampleColumns, DynamicSubSampleColumns,\r\n                DynamicTestColumns, DynamicGridItem, DynamicTestGridItem,\r\n                DynamicGridMoreField, stateDynamicDesign,\r\n                sampleSearchField, subsampleSearchField, testSearchField,combinedSearchField\r\n            });\r\n            //     if (this.state.count === 0){\r\n            //         const updateInfo = {\r\n            //             typeName: DEFAULT_RETURN,\r\n            //             data: {\r\n            //                 change: false,\r\n            //             }\r\n            //         }\r\n            //     this.props.updateStore(updateInfo);\r\n            // }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({\r\n                    userRoleControlRights, controlMap, data: this.props.Login.masterData,\r\n                    data: this.props.Login.data || this.props.Login.masterData.ReleaseSample || [],\r\n                    dataResult: process(this.props.Login.data || this.props.Login.masterData.ReleaseSample || [], this.state.dataState),\r\n\r\n                    //        childDataResult: process(this.props.Login.data || Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item=>item) || [], this.state.dataState),\r\n                    //  subChildDataResult: process(this.props.Login.data || Object.entries(this.props.Login.masterData.ReleaseTest)[1] || [], this.state.dataState),\r\n\r\n\r\n                });\r\n                //     const updateInfo = {\r\n                //         typeName: DEFAULT_RETURN,\r\n                //         data: {\r\n                //             masterData: process( this.props.Login.masterData.ReleaseSample || [], this.props.Login.dataState || this.state.dataState),\r\n                //         }\r\n                //     }\r\n                // this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                let { dataState } = this.state;\r\n                if (this.state.dataState === undefined) {\r\n                    dataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 }\r\n                }\r\n\r\n                const releaseData = this.props.Login.data || this.props.Login.masterData.ReleaseSample || [];\r\n\r\n                this.setState({\r\n                    data: this.props.Login.data || this.props.Login.masterData.ReleaseSample || [],\r\n                    dataResult: process(this.props.Login.masterData.ReleaseSample || [], this.props.Login.dataState || dataState),\r\n                    //   childDataResult: process(Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item=>item) || [], this.props.Login.dataState || dataState),\r\n                    //    subChildDataResult: process(Object.entries(this.props.Login.masterData.ReleaseTest) || [], this.props.Login.dataState || dataState),\r\n\r\n                    dataState\r\n                });\r\n\r\n\r\n            }\r\n        }\r\n        else if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n\r\n    }\r\n    // selectionChange = (event) => {\r\n    //     const checked = event.syntheticEvent.target.checked;\r\n    //     let npreregno = this.props.Login.npreregno || [];\r\n    //     let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\r\n    //     let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\r\n    //     let selectedTestData = this.props.Login.selectedTestData || [];\r\n    //     let selectedSubSampleData = this.props.Login.selectedSubSampleData || [];\r\n    //     let subChildSelectAll =  this.props.Login.subChildSelectAll || false;\r\n\r\n    //     let dataResult = this.props.Login.masterData.ReleaseSample && this.props.Login.masterData.ReleaseSample || this.state.dataResult || [];\r\n    //     let selectedSampleData = this.props.Login.selectedSampleData || [];\r\n    //     let releaseSubSample = new Map();\r\n    //     let hasChild = true\r\n    //     let hasSubChild = true\r\n    //     let x;\r\n\r\n    //     this.state.dataResult.data.map((item, i) => {\r\n    //         if (item.npreregno === event.dataItem.npreregno) {\r\n    //             item.selected = !event.dataItem.selected;\r\n    //             if (item.selected === true) {\r\n    //                 selectedSampleData.push({\r\n    //                     \"nregtypecode\": item.nregtypecode, \"nregsubtypecode\": item.nregsubtypecode,\r\n    //                     \"npreregno\": item.npreregno, \"ntranscode\": item.ntranscode, bFlag: \"1\"\r\n    //                 })\r\n    //                 subChildSelectAll = item.selected === true ? this.childHeaderSelectionChange(event) : false;\r\n\r\n    //                 if (hasChild === true) {\r\n\r\n    //                     Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n    //                         item1.map(item => {\r\n    //                             if (item.npreregno === event.dataItem.npreregno) {\r\n    //                                 item.selected = true;\r\n    //                             }\r\n    //                             if (ntransactionsamplecode.length === 0) {\r\n    //                                 ntransactionsamplecode.push(item.ntransactionsamplecode);\r\n    //                             }\r\n    //                             if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\r\n    //                                 ntransactionsamplecode.push(item.ntransactionsamplecode);\r\n\r\n    //                             }\r\n    //                             selectedSubSampleData.push({\r\n    //                                 \"npreregno\": item.npreregno, \"ntranscode\": item.ntranscode,\r\n    //                                 bFlag: \"2\"\r\n    //                             })\r\n\r\n    //                         })\r\n    //                     })\r\n    //                 }\r\n\r\n    //                 Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //                     item1.map(item => {\r\n    //                         if (item.npreregno === event.dataItem.npreregno) {\r\n    //                             item.selected = true;\r\n    //                         }\r\n    //                         if (ntransactiontestcode.length === 0) {\r\n    //                             ntransactiontestcode.push(item.ntransactiontestcode);\r\n    //                         }\r\n    //                         if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\r\n    //                             ntransactiontestcode.push(item.ntransactiontestcode);\r\n\r\n    //                         }\r\n\r\n    //                     })\r\n    //                 })\r\n\r\n    //                 if (npreregno.length === 0) {\r\n    //                     npreregno.push(item.npreregno);\r\n    //                 }\r\n    //                 if (!npreregno.includes(item.npreregno)) {\r\n    //                     npreregno.push(item.npreregno);\r\n\r\n    //                 }\r\n\r\n    //             }\r\n    //             else {\r\n\r\n\r\n    //                 const ntransactiontestcode1 = []\r\n    //                 Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n    //                     item1.map(item => {\r\n    //                         if (item.npreregno === event.dataItem.npreregno) {\r\n    //                             item.selected = false;\r\n    //                         }\r\n    //                     });\r\n    //                 })\r\n    //                 Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //                     item1.map(item => {\r\n    //                         if (item.npreregno === event.dataItem.npreregno) {\r\n    //                             item.selected = false;\r\n\r\n    //                         }\r\n    //                     })\r\n\r\n    //                 })\r\n    //             }\r\n\r\n\r\n    //         }\r\n    //         return item;\r\n    //     });\r\n\r\n\r\n\r\n    //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //         item1.map(item2 => {\r\n    //             if (item2.selected === true) {\r\n    //                 let a = selectedTestData.every(item3 => {\r\n    //                     return item3.ntransactiontestcode !== item2.ntransactiontestcode\r\n    //                 })\r\n    //                 if (a === true) {\r\n    //                     selectedTestData.push({\r\n    //                         \"npreregno\": item2.npreregno,\r\n    //                         \"ntransactionsamplecode\": item2.ntransactionsamplecode,\r\n    //                         \"ntransactiontestcode\": item2.ntransactiontestcode,\r\n\r\n    //                     })\r\n    //                     if (!npreregno.includes(item2.npreregno)) {\r\n    //                         npreregno.push(item2.npreregno);\r\n\r\n    //                     }\r\n    //                     if (!ntransactionsamplecode.includes(item2.npreregno)) {\r\n    //                         ntransactionsamplecode.push(item2.ntransactionsamplecode)\r\n\r\n    //                     }\r\n    //                     if (!ntransactiontestcode.includes(item2.ntransactiontestcode)) {\r\n    //                         ntransactiontestcode.push(item2.ntransactiontestcode)\r\n\r\n    //                     }\r\n\r\n    //                 }\r\n    //             }\r\n    //             if (item2.selected === false) {\r\n    //                 const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                 selectedTestData = selectedTestData1\r\n    //                 const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\r\n    //                 npreregno = npreregno1\r\n\r\n    //                 const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\r\n    //                 ntransactionsamplecode = ntransactionsamplecode1\r\n\r\n    //                 const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                 ntransactiontestcode = ntransactiontestcode1\r\n    //             }\r\n    //         })\r\n    //     })\r\n\r\n\r\n    //     const updateInfo = {\r\n    //         typeName: DEFAULT_RETURN,\r\n    //         data: {\r\n\r\n    //             nFlag: \"1\",\r\n    //             ntransactiontestcode: ntransactiontestcode,\r\n    //             ntransactionsamplecode: ntransactionsamplecode,\r\n    //             npreregno: npreregno,\r\n    //             selectedSampleData: selectedSampleData,\r\n    //             selectedTestData: selectedTestData,\r\n    //             selectedSubSampleData: selectedSubSampleData,\r\n    //             masterData:{...this.props.Login.masterData}\r\n\r\n    //         }\r\n    //     }\r\n    //     this.props.updateStore(updateInfo);\r\n\r\n    //     this.setState({\r\n    //         dataResult, selectedSampleData,\r\n    //         nFlag: \"1\"\r\n    //     });\r\n    // }\r\n    // childSelectionChange = (event) => {\r\n    //     const checked = event.syntheticEvent.target.checked;\r\n    //     let selectedTestData = this.props.Login.selectedTestData || [];\r\n\r\n    //     let releaseSubSample = new Map();\r\n    //     let selectedSubSampleData = this.props.Login.selectedSubSampleData || [];\r\n    //     let npreregno = this.props.Login.npreregno || [];\r\n    //     let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\r\n    //     let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\r\n    //     let hasSubChild = true\r\n    //     let subChildSelectAll = this.props.Login.subChildSelectAll || false;\r\n\r\n    //     Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n    //         item1.map(item => {\r\n    //             if (item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n    //                 item.selected = !event.dataItem.selected;\r\n    //                 if (item.selected === true) {\r\n    //                     selectedSubSampleData.push({\r\n    //                         \"npreregno\": item.npreregno, \"ntranscode\": item.ntranscode,\r\n    //                         \"ntransactionsamplecode\": item.ntransactionsamplecode, bFlag: \"2\"\r\n    //                     })\r\n    //                     subChildSelectAll = item.selected === true ? this.childHeaderSelectionChange(event) : false;\r\n\r\n    //                     if (hasSubChild === true) {\r\n\r\n    //                         Object.values(this.props.Login.masterData.ReleaseTest).forEach(item8 => {\r\n    //                             item8.map(item9 => {\r\n\r\n    //                                 if (item9.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n    //                                     item9.selected = true;\r\n    //                                 }\r\n    //                                 if (item9.selected === true) {\r\n    //                                     if (ntransactiontestcode.length === 0) {\r\n    //                                         ntransactiontestcode.push(item9.ntransactiontestcode);\r\n    //                                     }\r\n    //                                     if (!ntransactiontestcode.includes(item9.ntransactiontestcode)) {\r\n    //                                         ntransactiontestcode.push(item9.ntransactiontestcode);\r\n\r\n    //                                     }\r\n\r\n    //                                 }\r\n\r\n    //                             })\r\n    //                         })\r\n    //                     }\r\n    //                     if (npreregno.length === 0) {\r\n    //                         npreregno.push(item.npreregno);\r\n    //                     }\r\n    //                     if (!npreregno.includes(item.npreregno)) {\r\n    //                         npreregno.push(item.npreregno);\r\n\r\n    //                     }\r\n    //                     if (ntransactionsamplecode.length === 0) {\r\n    //                         ntransactionsamplecode.push(item.ntransactionsamplecode);\r\n    //                     }\r\n    //                     if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\r\n    //                         ntransactionsamplecode.push(item.ntransactionsamplecode);\r\n\r\n    //                     }\r\n\r\n    //                 }\r\n    //                 else {\r\n\r\n\r\n    //                     subChildSelectAll = false\r\n    //                     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //                         item1.map(item => {\r\n    //                             if (item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n    //                                 item.selected = checked;\r\n    //                             }\r\n    //                         })\r\n\r\n\r\n    //                     })\r\n    //                     this.state.dataResult.data.map(item4 => {\r\n    //                         if (item4.npreregno === event.dataItem.npreregno) {\r\n\r\n    //                             item4.selected = checked\r\n    //                         }\r\n    //                     })\r\n\r\n    //                 }\r\n\r\n\r\n    //             }\r\n\r\n    //             return item;\r\n    //         });\r\n    //     });\r\n    //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //         item1.map(item2 => {\r\n    //             if (item2.selected === true) {\r\n    //                 let a = selectedTestData.every(item3 => {\r\n    //                     return item3.ntransactiontestcode !== item2.ntransactiontestcode\r\n    //                 })\r\n    //                 if (a === true) {\r\n    //                     selectedTestData.push({\r\n    //                         \"npreregno\": item2.npreregno,\r\n    //                         \"ntransactionsamplecode\": item2.ntransactionsamplecode,\r\n    //                         \"ntransactiontestcode\": item2.ntransactiontestcode,\r\n\r\n    //                     })\r\n    //                     npreregno.push(item2.npreregno,\r\n\r\n    //                     )\r\n    //                     ntransactionsamplecode.push(item2.ntransactionsamplecode,\r\n\r\n    //                     )\r\n    //                     ntransactiontestcode.push(\r\n    //                         item2.ntransactiontestcode,\r\n\r\n    //                     )\r\n    //                 }\r\n    //             }\r\n    //             if (item2.selected === false) {\r\n    //                 const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                 selectedTestData = selectedTestData1\r\n    //                 const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\r\n    //                 npreregno = npreregno1\r\n\r\n    //                 const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\r\n    //                 ntransactionsamplecode = ntransactionsamplecode1\r\n\r\n    //                 const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                 ntransactiontestcode = ntransactiontestcode1\r\n    //             }\r\n    //         })\r\n    //     })\r\n\r\n    //     const updateInfo = {\r\n    //         typeName: DEFAULT_RETURN,\r\n    //         data: {\r\n    //             data: undefined, dataState: undefined,\r\n    //             masterData: { ...this.props.Login.masterData, ...releaseSubSample },\r\n    //             selectedSubSampleData: selectedSubSampleData,\r\n    //             ntransactiontestcode: ntransactiontestcode,\r\n    //             ntransactionsamplecode: ntransactionsamplecode,\r\n    //             selectedTestData: selectedTestData,\r\n    //             subChildSelectAll: subChildSelectAll,\r\n    //             npreregno: npreregno,\r\n    //             nFlag: \"2\",\r\n\r\n    //         }\r\n    //     }\r\n    //     this.props.updateStore(updateInfo);\r\n\r\n    // }\r\n\r\n    // subChildSelectionChange = (event) => {\r\n    //     const checked = event.syntheticEvent.target.checked;\r\n    //     let releaseTest = new Map();\r\n    //     let selectedTestData = this.props.Login.selectedTestData || [];\r\n    //     let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\r\n    //     let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\r\n    //     let npreregno = this.props.Login.npreregno || [];\r\n    //     let dataResult = this.props.Login.masterData.ReleaseSample && this.props.Login.masterData.ReleaseSample || this.props.Login.masterData.ReleaseSample || [];\r\n    //     let x;\r\n    //     let subChildSelectAll = false\r\n    //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //         item1.map(item => {\r\n    //             if (item.ntransactiontestcode === event.dataItem.ntransactiontestcode) {\r\n    //                 item.selected = !event.dataItem.selected;\r\n    //                 if (item.selected === true) {\r\n\r\n    //                     subChildSelectAll = item.selected === true ? this.subChildHeaderSelectionChange(event) : false;\r\n\r\n\r\n    //                     if (npreregno.length === 0) {\r\n    //                         npreregno.push(item.npreregno);\r\n    //                     }\r\n    //                     if (!npreregno.includes(item.npreregno)) {\r\n    //                         npreregno.push(item.npreregno);\r\n\r\n    //                     }\r\n    //                     if (ntransactionsamplecode.length === 0) {\r\n    //                         ntransactionsamplecode.push(item.ntransactionsamplecode);\r\n    //                     }\r\n    //                     if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\r\n    //                         ntransactionsamplecode.push(item.ntransactionsamplecode);\r\n\r\n    //                     }\r\n    //                     if (ntransactiontestcode.length === 0) {\r\n    //                         ntransactiontestcode.push(item.ntransactiontestcode);\r\n    //                     }\r\n    //                     if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\r\n    //                         ntransactiontestcode.push(item.ntransactiontestcode);\r\n\r\n    //                     }\r\n    //                 }\r\n    //                 else {\r\n    //                     Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item2 => {\r\n    //                         item2.map(item3 => {\r\n    //                             if (item3.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n\r\n    //                                 item3.selected = checked\r\n    //                             }\r\n    //                         })\r\n    //                     })\r\n    //                     this.state.dataResult.data.map(item4 => {\r\n    //                         if (item4.npreregno === event.dataItem.npreregno) {\r\n\r\n    //                             item4.selected = checked\r\n    //                         }\r\n    //                     })\r\n\r\n\r\n\r\n    //                 }\r\n\r\n\r\n    //             }\r\n\r\n    //             return item;\r\n    //         });\r\n    //     });\r\n    //     this.state.dataResult.data.map(item => {\r\n\r\n\r\n    //         if (item.npreregno === event.dataItem.npreregno) {\r\n    //             if (this.props.Login.masterData.ReleaseSubSample[item.npreregno]) {\r\n    //                 x = this.props.Login.masterData.ReleaseSubSample[item.npreregno]\r\n    //             }\r\n    //         }\r\n\r\n    //     })\r\n    //     let y = x.filter(t => t.selected === true);\r\n    //     if (x.length === y.length||y.length>0) {\r\n    //         this.state.dataResult.data.map((t, i) => {\r\n    //             if (t.npreregno === y[0].npreregno) {\r\n    //                 this.state.dataResult.data[i].selected = true\r\n    //             }\r\n    //         })\r\n\r\n    //     }\r\n    //     Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n    //         item1.map(item2 => {\r\n    //             if (item2.selected === true) {\r\n    //                 let a = selectedTestData.every(item3 => {\r\n    //                     return item3.ntransactiontestcode !== item2.ntransactiontestcode\r\n    //                 })\r\n    //                 if (a === true) {\r\n    //                     selectedTestData.push({\r\n    //                         \"npreregno\": item2.npreregno,\r\n    //                         \"ntransactionsamplecode\": item2.ntransactionsamplecode,\r\n    //                         \"ntransactiontestcode\": item2.ntransactiontestcode,\r\n\r\n    //                     })\r\n    //                     npreregno.push(item2.npreregno,\r\n\r\n    //                     )\r\n    //                     ntransactionsamplecode.push(item2.ntransactionsamplecode,\r\n\r\n    //                     )\r\n    //                     ntransactiontestcode.push(\r\n    //                         item2.ntransactiontestcode,\r\n\r\n    //                     )\r\n    //                 }\r\n\r\n\r\n    //             }\r\n    //             if (item2.selected === false) {\r\n    //                 const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                 selectedTestData = selectedTestData1\r\n    //                 const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\r\n    //                 npreregno = npreregno1\r\n\r\n    //                 const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\r\n    //                 ntransactionsamplecode = ntransactionsamplecode1\r\n\r\n    //                 const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n    //                 ntransactiontestcode = ntransactiontestcode1\r\n    //             }\r\n    //         })\r\n    //     })\r\n\r\n    //     const updateInfo = {\r\n    //         typeName: DEFAULT_RETURN,\r\n    //         data: {\r\n    //             data: undefined, dataState: undefined,\r\n    //             masterData: { ...this.props.Login.masterData, ...releaseTest },\r\n    //             selectedTestData: selectedTestData,\r\n    //             nFlag: \"3\", ntransactiontestcode: ntransactiontestcode,\r\n    //             ntransactionsamplecode: ntransactionsamplecode,\r\n    //             npreregno: npreregno,\r\n    //             subChildSelectAll: subChildSelectAll\r\n    //         }\r\n    //     }\r\n    //     this.props.updateStore(updateInfo);\r\n    //     this.setState({\r\n    //         dataResult,\r\n    //         nFlag: \"1\"\r\n    //     });\r\n    // }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        delete this.props.Login.masterData[\"searchedData1\"]\r\n        delete this.props.Login.masterData[\"searchedData2\"]\r\n\r\n        delete this.props.Login.masterData[\"searchedData3\"]\r\n\r\n        // this.props.Login.masterData.ReleaseSample.map(item=>item[\"expanded\"]=false)\r\n\r\n        this.props.Login.change = false\r\n        let { realFromDate, realToDate, realSampleTypeValue, realRegTypeValue, realRegSubTypeValue,\r\n            realFilterStatusValue, realApprovalVersionValue, realUserSectionValue, realTestValue } = this.props.Login.masterData\r\n        let masterData = { ...this.props.Login.masterData, realFromDate, realToDate, realSampleTypeValue, realRegTypeValue, realRegSubTypeValue, realFilterStatusValue, realApprovalVersionValue, realUserSectionValue, realTestValue }\r\n        let inputData = {\r\n            npreregno: \"0\",\r\n            nneedsubsample: (realRegSubTypeValue && realRegSubTypeValue.nneedsubsample) || false,\r\n            nneedtemplatebasedflow: (realRegSubTypeValue && realRegSubTypeValue.nneedtemplatebasedflow) || false,\r\n            nsampletypecode: (realSampleTypeValue && realSampleTypeValue.nsampletypecode) || -1,\r\n            nregtypecode: (realRegTypeValue && realRegTypeValue.nregtypecode) || -1,\r\n            nregsubtypecode: (realRegSubTypeValue && realRegSubTypeValue.nregsubtypecode) || -1,\r\n            ntransactionstatus: ((realFilterStatusValue && realFilterStatusValue.ntransactionstatus !== undefined) || realFilterStatusValue.ntransactionstatus !== '0') ? String(realFilterStatusValue.ntransactionstatus) : \"-1\",\r\n            napprovalconfigcode: realApprovalVersionValue ? realApprovalVersionValue.napprovalconfigcode || -1 : null,\r\n            napprovalversioncode: realApprovalVersionValue && realApprovalVersionValue.napprovalconfigversioncode ? String(realApprovalVersionValue.napprovalconfigversioncode) : null,\r\n            nsectioncode: realUserSectionValue ? realUserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(section => section.nsectioncode).join(',') : String(realUserSectionValue.nsectioncode) : null,\r\n            ntestcode: realTestValue && realTestValue.ntestcode ? realTestValue.ntestcode : -1,\r\n            userinfo: this.props.Login.userInfo,\r\n            activeTestTab: this.props.Login.activeTestTab || \"\",\r\n            activeSampleTab: this.props.Login.activeSampleTab || \"\",\r\n            activeSubSampleTab: this.props.Login.activeSubSampleTab || \"\",\r\n            checkBoxOperation: 3,\r\n            ntype: 2,\r\n            ndesigntemplatemappingcode: (this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode) || -1\r\n        }\r\n        if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1\r\n            && inputData.ntransactionstatus !== \"-1\" && inputData.napprovalconfigcode !== -1 && inputData.napprovalversioncode !== \"-1\"\r\n            && realFilterStatusValue.sfilterstatus !== null) {\r\n\r\n            let obj = convertDateValuetoString(realFromDate, realToDate, this.props.Login.userInfo)\r\n            inputData['dfrom'] = obj.fromDate;\r\n            inputData['dto'] = obj.toDate;\r\n            let inputParam = {\r\n                masterData,\r\n                inputData,\r\n                searchSampleRef: this.searchSampleRef,\r\n                searchSubSampleRef: this.searchSubSampleRef,\r\n                searchTestRef: this.searchTestRef,\r\n                skip: this.state.skip,\r\n                take: this.state.take,\r\n                testskip: this.state.testskip,\r\n                testtake: this.state.testtake,\r\n                resultDataState: this.state.resultDataState,\r\n                instrumentDataState: this.state.instrumentDataState,\r\n                materialDataState: this.state.materialDataState,\r\n                taskDataState: this.state.taskDataState,\r\n                documentDataState: this.state.documentDataState,\r\n                resultChangeDataState: this.state.resultChangeDataState,\r\n                testCommentDataState: this.state.testCommentDataState,\r\n                historyDataState: this.state.historyDataState,\r\n                samplePrintHistoryDataState: this.state.samplePrintHistoryDataState,\r\n                sampleHistoryDataState: this.state.sampleHistoryDataState\r\n            }\r\n            this.props.getReleaseSample(inputParam)\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }))\r\n        }\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n    selectionChange = (event,nflag) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n        if (nflag === undefined) {\r\n            this.state.dataResult.data.map(item => {\r\n                if (item.npreregno === event.dataItem.npreregno) {\r\n                    item.selected = checked;\r\n                }\r\n                   \r\n            })\r\n            let preregno = event.dataItem.npreregno\r\n            this.childHeaderSelectionChange(event, preregno)\r\n        }\r\n        else {\r\n            let data=[]\r\n            event.dataItems.map(item => {\r\n                data.push({\"npreregno\":item.npreregno})\r\n            })\r\n            this.childHeaderSelectionChange(event, data)\r\n\r\n        }\r\n       \r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         data: undefined, dataState: undefined,\r\n\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n    }\r\n    childHeaderSelectionChange=(event, preregno,nflag) =>{\r\n        const checked = event.syntheticEvent.target.checked;\r\n        let subsamplecode = [];\r\n        let npreregno = preregno === undefined ? event.dataItems[0].npreregno : preregno\r\n       if (npreregno.length===0||npreregno.length===undefined) {\r\n           this.props.Login.masterData.ReleaseSubSample[npreregno].map(item => {\r\n                \r\n                item.selected = checked\r\n                if (!subsamplecode.includes(item.ntransactionsamplecode)) {\r\n                    subsamplecode.push({ \"ntransactionsamplecode\": item.ntransactionsamplecode })\r\n                }\r\n                \r\n            })\r\n            this.props.Login.masterData.ReleaseSample.map(data => {\r\n                if (data.npreregno === npreregno) {\r\n                 data.selected = checked\r\n\r\n                }\r\n            })\r\n\r\n            this.subChildHeaderSelectionChange(event, subsamplecode)\r\n        }\r\n       else {\r\n           npreregno.map(value => {\r\n               this.props.Login.masterData.ReleaseSubSample[value.npreregno].map(item => {\r\n                   item.selected = checked\r\n                   if (!subsamplecode.includes(item.ntransactionsamplecode)) {\r\n                       subsamplecode.push({ \"ntransactionsamplecode\": item.ntransactionsamplecode })\r\n                   }\r\n               })\r\n            //    this.props.Login.masterData.ReleaseSample.map(data => {\r\n            //        if (data.npreregno === value.npreregno) {\r\n            //         data.selected = checked\r\n \r\n            //        }\r\n            //    })\r\n           })\r\n           \r\n\r\n        this.subChildHeaderSelectionChange(event, subsamplecode)\r\n        }\r\n\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         data: undefined, dataState: undefined,\r\n\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    subChildHeaderSelectionChange = (event, subsamplecode) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n        let transactionsamplecode=[]\r\n        if (subsamplecode !== undefined) {\r\n            transactionsamplecode = subsamplecode\r\n            transactionsamplecode.map(value =>\r\n                this.props.Login.masterData.ReleaseTest[value.ntransactionsamplecode].map(item => {\r\n                    item.selected = checked;\r\n                    this.collectData(item)\r\n\r\n                    return item;\r\n                })\r\n            )\r\n        }\r\n        else {\r\n            let rFlag = true;\r\n            event.dataItems.map(value =>\r\n                this.props.Login.masterData.ReleaseTest[value.ntransactionsamplecode].map(item => {\r\n                    item.selected = checked;\r\n                    this.collectData(item)\r\n\r\n                    return item;\r\n                })\r\n                \r\n            )\r\n            this.props.Login.masterData.ReleaseSubSample[event.dataItems[0].npreregno].map(item => {\r\n                if (event.dataItems[0].ntransactionsamplecode === item.ntransactionsamplecode) {\r\n                    item.selected = checked;\r\n\r\n                }\r\n            })\r\n            let data = this.props.Login.masterData.ReleaseSubSample[event.dataItems[0].npreregno].every(item => {\r\n                return item.selected === true;\r\n            })\r\n            if (data === true) {\r\n                this.props.Login.masterData.ReleaseSample.map(item => {\r\n                    if (event.dataItems[0].npreregno === item.npreregno) {\r\n                        item.selected = checked;\r\n\r\n                    }\r\n    \r\n                })\r\n            }\r\n            else {\r\n                this.props.Login.masterData.ReleaseSample.map(item => {\r\n                    if (event.dataItems[0].npreregno === item.npreregno) {\r\n                        item.selected = false;\r\n                    }\r\n    \r\n                })\r\n            }\r\n            \r\n            // let x;\r\n            // let i;\r\n            // for (i = 0; i < this.props.Login.masterData.ReleaseSample.length; i++){\r\n            //     x=i\r\n            //         if (event.dataItems[0].npreregno !== this.props.Login.masterData.ReleaseSample[i].npreregno) {\r\n            //             // item.selected = checked;\r\n            //             rFlag = false;\r\n            //             break;\r\n            //         }\r\n            // }\r\n            \r\n            // if (rFlag === true) {\r\n            //     this.props.Login.masterData.ReleaseSample[x].selected = checked;\r\n            // }\r\n        }\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         data: undefined, dataState: undefined,\r\n\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n    }\r\n    headerSelectionChange = (event) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n        this.state.dataResult.data.map(item => {\r\n            item.selected = checked;\r\n            return item;\r\n        });\r\n\r\n\r\n        this.selectionChange(event,1);\r\n\r\n    }\r\n    childSelectionChange = (event) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n            this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map(item => {\r\n                if (item.npreregno === event.dataItem.npreregno&&item.ntransactionsamplecode===event.dataItem.ntransactionsamplecode) {\r\n                    item.selected = checked;\r\n                }\r\n                   \r\n            })\r\n        let data = this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].every(item => {\r\n            return item.slected===true\r\n        })\r\n        if (data === true) {\r\n            this.props.Login.masterData.ReleaseSample.map(item => {\r\n                if (event.dataItem.npreregno === item.npreregno) {\r\n                    item.selected = checked;\r\n                }\r\n            })\r\n            this.props.Login.masterData.ReleaseTest[event.dataItem.ntransactionsamplecode].map(item => {\r\n                if (event.dataItem.ntransactionsamplecode === item.ntransactionsamplecode) {\r\n                    item.selected = checked;\r\n                    this.collectData(item)\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            this.props.Login.masterData.ReleaseTest[event.dataItem.ntransactionsamplecode].map(item => {\r\n                if (event.dataItem.ntransactionsamplecode === item.ntransactionsamplecode) {\r\n                    item.selected = checked;\r\n                    this.collectData(item)\r\n                }\r\n            })\r\n            let data = this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].every(item => {\r\n                return item.selected===true\r\n            })\r\n            if (data === true) {\r\n                this.props.Login.masterData.ReleaseSample.map(item => {\r\n                    if (event.dataItem.npreregno === item.npreregno) {\r\n                        item.selected = checked;\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        \r\n\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         data: undefined, dataState: undefined,\r\n\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo); \r\n    }\r\n    subChildSelectionChange = (event) => {\r\n        let x=[]\r\n        const checked = event.syntheticEvent.target.checked;\r\n        this.props.Login.masterData.ReleaseTest[event.dataItem.ntransactionsamplecode].map(item => {\r\n            if (item.ntransactiontestcode === event.dataItem.ntransactiontestcode) {\r\n                item.selected = checked;\r\n                this.collectData(item)\r\n            }\r\n               \r\n        })\r\n        this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map(item => {\r\n\r\n\r\n                if (item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n                    if (this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]) {\r\n                        x = this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]\r\n                    }\r\n                }\r\n\r\n            })\r\n            let y = x.filter(t => t.selected === true);\r\n            if (x.length === y.length) {\r\n                this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map((t, i) => {\r\n                    if (t.ntransactionsamplecode === y[0].ntransactionsamplecode) {\r\n                        this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno][i].selected = true\r\n                    }\r\n                })\r\n\r\n        }\r\n            else {\r\n                this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map((t, i) => {\r\n                    if (t.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n                        this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno][i].selected = false\r\n                    }\r\n                })\r\n        }\r\n                this.state.dataResult.data.map(item => {\r\n\r\n\r\n                if (item.npreregno === event.dataItem.npreregno) {\r\n                    if (this.props.Login.masterData.ReleaseSubSample[item.npreregno]) {\r\n                        x = this.props.Login.masterData.ReleaseSubSample[item.npreregno]\r\n                    }\r\n                }\r\n\r\n            })\r\n            let y1 = x.filter(t => t.selected === true);\r\n            if (x.length === y1.length) {\r\n                this.state.dataResult.data.map((t, i) => {\r\n                    if (t.npreregno === y1[0].npreregno) {\r\n                        this.state.dataResult.data[i].selected = true\r\n                    }\r\n                })\r\n\r\n        }\r\n            else {\r\n                this.state.dataResult.data.map((t, i) => {\r\n                    if(t.npreregno===event.dataItem.npreregno){\r\n                    this.state.dataResult.data[i].selected = false\r\n                    } \r\n                })\r\n        }\r\n   \r\n    }\r\n    collectData = (item) => {\r\n            let npreregno = this.state.npreregno || []\r\n        let ntransactionsamplecode=this.state.ntransactionsamplecode||[]\r\n        let ntransactiontestcode = this.state.ntransactiontestcode || []\r\n                        if (item.selected === true) {\r\n                        if (!npreregno.includes(item.npreregno)) {\r\n                            npreregno.push(item.npreregno)\r\n                        }\r\n                        if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\r\n                            ntransactionsamplecode.push(item.ntransactionsamplecode)\r\n                        }\r\n                        if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\r\n                            ntransactiontestcode.push(item.ntransactiontestcode)\r\n                        }\r\n                    }\r\n                    else {\r\n                        const npreregno1 = npreregno.filter(data => data === item.npreregno)\r\n                        npreregno = npreregno1\r\n    \r\n                        const ntransactionsamplecode1 = ntransactionsamplecode.filter(data => data === item.ntransactionsamplecode)\r\n                        ntransactionsamplecode = ntransactionsamplecode1\r\n    \r\n                        const ntransactiontestcode1 = ntransactiontestcode.filter(data => data=== item.ntransactiontestcode)\r\n                        ntransactiontestcode = ntransactiontestcode1\r\n                    }   \r\n        //      const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         data: undefined, dataState: undefined,\r\n        //         npreregno: npreregno,\r\n        //         ntransactionsamplecode:ntransactionsamplecode,\r\n        //         ntransactiontestcode:ntransactiontestcode\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        this.setState({npreregno:npreregno,ntransactionsamplecode:ntransactionsamplecode,ntransactiontestcode:ntransactiontestcode})\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential, filterColumnData,\r\n    getSubSampleBySample, getReleaseSelectedSamples, getReleaseSelectedSubSamples, getTestBySample,\r\n    getReleaseSelectedTest, getReleaseSelectedSampleSubSampleTest, getReleaseRegistrationType, getReleaseRegistrationSubType,\r\n    getReleaseFilterStatus, getReleaseApprovalVersion, getReleaseFilterBasedTest, getReleaseSample\r\n\r\n})(injectIntl(COARelease));"]},"metadata":{},"sourceType":"module"}