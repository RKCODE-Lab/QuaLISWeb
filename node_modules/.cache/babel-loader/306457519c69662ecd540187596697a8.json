{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\branches\\\\SOURCE-512\\\\QuaLISWeb\\\\src\\\\pages\\\\testmanagement\\\\Method.jsx\";\nimport React, { Component } from 'react';\nimport { ListWrapper } from '../../components/client-group.styles';\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport rsapi from '../../rsapi';\nimport { process } from '@progress/kendo-data-query';\nimport DataGrid from '../../components/data-grid/data-grid.component'; // import {\n//     callService, crudMaster, getTestMaster, addTest, updateStore, getTestDetails, formulaChangeFunction, filterColumnData,\n//     addParameter, validateEsignCredential, addCodedResult, addParameterSpecification, getAvailableData, addFormula,\n//     changeTestCategoryFilter, addTestFile, viewAttachment,getActiveTestContainerTypeById\n// } from '../../actions'\n\nimport { callService, crudMaster, getMethodComboService, getMethodDetail, getAvailableValidityData, fetchMethodValidityById, getMethodValidityUTCDate, updateStore, validateEsignCredential, filterColumnData } from '../../actions';\nimport MethodValidityView from './MethodValidityView';\nimport { injectIntl } from 'react-intl';\nimport { toast } from 'react-toastify'; //import AddParameter from './AddParameter'\n//import AddTest from '../../pages/testmanagement/AddTest'\n\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { getControlMap, showEsign, constructOptionList, convertDateValuetoString } from '../../components/CommonScript'; //import TestCategoryFilter from './TestCategoryFilter';\n\nimport ListMaster from '../../components/list-master/list-master.component';\nimport { faTrashAlt, faPencilAlt, faCopy, faCheck } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { ReadOnlyText, ContentPanel, MediaLabel } from '../../components/App.styles';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport Esign from '../audittrail/Esign'; // import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\n\nimport { parameterType, transactionStatus } from '../../components/Enumeration';\nimport 'react-perfect-scrollbar/dist/css/styles.css'; // import { Tooltip } from '@progress/kendo-react-tooltip';\n\nimport AddMethod from './AddMethod';\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport { Affix } from 'rsuite'; //import ReactTooltip from 'react-tooltip';\n\nimport { removeItems } from '@progress/kendo-react-treelist';\n\nclass Method extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sidebarExpandCollapse = () => {\n      this.setState({\n        sidebarview: true\n      });\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      // if (this.state.selectedRecord[\"dvalidityenddate\"] !== undefined && this.state.selectedRecord[\"dvaliditystartdate\"] !== undefined) {\n      //     if (this.state.selectedRecord[\"dvalidityenddate\"] < this.state.selectedRecord[\"dvaliditystartdate\"]) {\n      //         toast.info(this.props.intl.formatMessage({ id: \"IDS_ENDDATEGRATERTHANSTARTDATE\" }));\n      //         return;\n      //     }\n      // }\n      //add / edit            \n      let inputData = [];\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      let dataState = undefined;\n      let selectedId = null;\n      inputData[\"method\"] = {};\n\n      if (this.props.Login.operation === \"update\") {\n        // edit\n        delete this.state.selectedRecord[\"dcurrentdate\"];\n        dataState = this.state.dataState; //inputData[this.props.Login.inputParam.methodUrl.toLowerCase()] = JSON.parse(JSON.stringify(this.state.selectedRecord));\n\n        selectedId = this.props.Login.selectedRecord.nmethodcode;\n        inputData[\"method\"][\"nmethodcode\"] = this.props.Login.selectedRecord.nmethodcode;\n      } else {\n        //add               \n        inputData[this.props.Login.inputParam.methodUrl.toLowerCase()] = {\n          \"nsitecode\": this.props.Login.userInfo.nmastersitecode\n        };\n      }\n\n      inputData[\"method\"][\"ndefaultstatus\"] = this.state.selectedRecord[\"ndefaultstatus\"] !== undefined && this.state.selectedRecord[\"ndefaultstatus\"] ? this.state.selectedRecord[\"ndefaultstatus\"] : transactionStatus.NO;\n      inputData[\"method\"][\"nmethodcatcode\"] = this.state.selectedRecord[\"nmethodcatcode\"] ? this.state.selectedRecord[\"nmethodcatcode\"].value : \"\";\n      inputData[\"method\"][\"smethodname\"] = this.state.selectedRecord[\"smethodname\"] ? this.state.selectedRecord[\"smethodname\"] : \"\";\n      inputData[\"method\"][\"nneedvalidity\"] = this.state.selectedRecord[\"nneedvalidity\"] !== undefined && this.state.selectedRecord[\"nneedvalidity\"] ? this.state.selectedRecord[\"nneedvalidity\"] : transactionStatus.NO;\n      inputData[\"method\"][\"sdescription\"] = this.state.selectedRecord[\"sdescription\"] ? this.state.selectedRecord[\"sdescription\"] : \"\";\n      inputData[\"methodvalidity\"] = {};\n\n      if (this.state.selectedRecord[\"nneedvalidity\"] === transactionStatus.YES) {\n        let obj = convertDateValuetoString(this.state.selectedRecord[\"dvaliditystartdate\"] ? this.state.selectedRecord[\"dvaliditystartdate\"] : new Date(), this.state.selectedRecord[\"dvalidityenddate\"] ? this.state.selectedRecord[\"dvalidityenddate\"] : new Date(), this.props.Login.userInfo);\n        this.state.selectedRecord[\"svaliditystartdate\"] = obj.fromDate;\n        this.state.selectedRecord[\"svalidityenddate\"] = obj.toDate;\n        inputData[\"methodvalidity\"][\"dvaliditystartdate\"] = this.state.selectedRecord[\"dvaliditystartdate\"] ? this.state.selectedRecord[\"dvaliditystartdate\"] : new Date();\n        inputData[\"methodvalidity\"][\"dvalidityenddate\"] = this.state.selectedRecord[\"dvalidityenddate\"] ? this.state.selectedRecord[\"dvalidityenddate\"] : new Date();\n        inputData[\"methodvalidity\"][\"svaliditystartdate\"] = this.state.selectedRecord[\"svaliditystartdate\"] ? this.state.selectedRecord[\"svaliditystartdate\"] : new Date();\n        inputData[\"methodvalidity\"][\"svalidityenddate\"] = this.state.selectedRecord[\"svalidityenddate\"] ? this.state.selectedRecord[\"svalidityenddate\"] : new Date();\n        inputData[\"methodvalidity\"][\"ntzvaliditystartdatetimezone\"] = this.state.selectedRecord[\"ntzvaliditystartdatetimezone\"] ? this.state.selectedRecord[\"ntzvaliditystartdatetimezone\"].value || this.props.Login.userInfo.ntimezonecode : this.props.Login.userInfo.ntimezonecode;\n        inputData[\"methodvalidity\"][\"ntzvalidityenddatetimezone\"] = this.state.selectedRecord[\"ntzvalidityenddatetimezone\"] ? this.state.selectedRecord[\"ntzvalidityenddatetimezone\"].value || this.props.Login.userInfo.ntimezonecode : this.props.Login.userInfo.ntimezonecode;\n        inputData[\"methodvalidity\"][\"stzvaliditystartdatetimezone\"] = this.state.selectedRecord[\"stzvaliditystartdatetimezone\"] ? this.state.selectedRecord[\"stzvaliditystartdatetimezone\"].value || this.props.Login.userInfo.ntimezonecode : this.props.Login.userInfo.ntimezonecode;\n        inputData[\"methodvalidity\"][\"stzvalidityenddatetimezone\"] = this.state.selectedRecord[\"stzvalidityenddatetimezone\"] ? this.state.selectedRecord[\"stzvalidityenddatetimezone\"].value || this.props.Login.userInfo.ntimezonecode : this.props.Login.userInfo.ntimezonecode;\n      }\n\n      let postParam = undefined;\n      postParam = {\n        inputListName: \"Method\",\n        selectedObject: \"SelectedMethod\",\n        primaryKeyField: \"nmethodcode\",\n        primaryKeyValue: this.props.Login.selectedRecord.nmethodcode,\n        fetchUrl: \"method/getActiveMethodById\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        },\n        masterData: this.props.Login.masterData\n      };\n      const inputParam = {\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: \"Method\",\n        //this.props.Login.inputParam.methodUrl,\n        displayName: this.props.Login.screenName,\n        inputData: inputData,\n        selectedId,\n        dataState,\n        operation: this.props.Login.operation,\n        saveType,\n        formRef,\n        postParam,\n        searchRef: this.searchRef,\n        selectedRecord: { ...this.state.selectedRecord\n        }\n      };\n      const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\n\n      if (esignNeeded) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData: this.props.Login.masterData\n            },\n            openModal: true,\n            screenName: this.props.Login.screenName && this.props.intl.formatMessage({\n              id: this.props.Login.screenName\n            }),\n            operation: this.props.Login.operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.ConfirmDelete = (deleteParam, deleteID) => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.deleteRecord(deleteParam, deleteID));\n    };\n\n    this.deleteRecord = (deleteParam, nControlcode) => {\n      const postParam = {\n        inputListName: \"Method\",\n        selectedObject: \"SelectedMethod\",\n        primaryKeyField: \"nmethodcode\",\n        primaryKeyValue: this.props.Login.masterData.SelectedMethod.nmethodcode,\n        fetchUrl: \"method/getMethod\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      const inputParam = {\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: \"Method\",\n        //this.props.Login.inputParam.methodUrl,                        \n        displayName: this.props.Login.screenName,\n        inputData: {\n          [\"method\"]: this.props.Login.masterData.SelectedMethod,\n          //deleteParam.selectedRecord,\n          \"userinfo\": this.props.Login.userInfo\n        },\n        operation: deleteParam.operation,\n        dataState: this.state.dataState,\n        postParam,\n        selectedRecord: { ...this.state.selectedRecord\n        }\n      };\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, nControlcode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData: this.props.Login.masterData\n            },\n            openModal: true,\n            screenName: this.props.Login.screenName && this.props.intl.formatMessage({\n              id: this.props.Login.screenName\n            }),\n            operation: deleteParam.operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.onEsignInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = comboData;\n      ;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.handleDateChange = (dateName, dateValue, sdatename) => {\n      const {\n        selectedRecord\n      } = this.state; // if(dateName === \"dvaliditystartdate\")\n      // {\n      //    selectedRecord[\"dvalidityenddate\"] = dateValue;  \n      // }\n\n      selectedRecord[dateName] = dateValue;\n      selectedRecord[sdatename] = dateValue;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.closeModal = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let selectedRecord = this.props.Login.selectedRecord;\n      let selectedId = this.props.Login.selectedId;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\") {\n          loadEsign = false;\n          openModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsign = false;\n          selectedRecord[\"agree\"] = transactionStatus.NO;\n          selectedRecord['esignpassword'] = \"\";\n          selectedRecord['esigncomments'] = \"\";\n          selectedRecord['esignreason'] = \"\";\n        }\n      } else {\n        openModal = false;\n        selectedRecord = {};\n        selectedId = null;\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          loadEsign,\n          selectedRecord,\n          selectedId\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      const inputParam = {\n        inputData: {\n          \"userinfo\": this.props.Login.userInfo\n        },\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: \"Method\",\n        //this.props.Login.inputParam.methodUrl,\n        //displayName:this.props.Login.inputParam.displayName,\n        //ALPD-5148 Method --> When approve the method validity method name is hiding\n        displayName: this.props.intl.formatMessage({\n          id: \"IDS_METHOD\"\n        }),\n        userInfo: this.props.Login.userInfo\n      };\n      this.props.callService(inputParam);\n    };\n\n    this.state = {\n      selectedRecord: {},\n      error: \"\",\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      skip: 0,\n      take: this.props.Login.settings ? this.props.Login.settings[3] : 25,\n      sidebarview: false\n    };\n    this.searchRef = React.createRef(); // this.searchFieldList = [\"smethodname\", \"sdescription\",  \"smethodcategoryname\", \"stransactionstatus\"];\n\n    this.confirmMessage = new ConfirmMessage();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\") {\n      if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\n        toast.warn(props.Login.masterStatus);\n        props.Login.masterStatus = \"\";\n      }\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  render() {\n    //     const addId = this.props.Login.inputParam && this.state.controlMap.has(\"Add\".concat(this.props.Login.inputParam.methodUrl))\n    //     && this.state.controlMap.get(\"Add\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\n    //    const editId = this.props.Login.inputParam && this.state.controlMap.has(\"Edit\".concat(this.props.Login.inputParam.methodUrl))\n    //     && this.state.controlMap.get(\"Edit\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\n    const addId = this.state.controlMap.has(\"AddMethod\") && this.state.controlMap.get(\"AddMethod\").ncontrolcode;\n    const editId = this.state.controlMap.has(\"EditMethod\") && this.state.controlMap.get(\"EditMethod\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"DeleteMethod\") && this.state.controlMap.get(\"DeleteMethod\").ncontrolcode; // const addParam = {screenName:\"Method\", primaryeyField: \"nmethodcode\", primaryKeyValue:undefined,  \n    //     operation:\"create\", inputParam:this.props.Login.inputParam, userInfo : this.props.Login.userInfo, ncontrolCode: addId};\n    //   const editParam = {screenName:this.props.Login.inputParam && this.props.Login.inputParam.displayName && this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }), operation:\"update\", \n    //    primaryKeyField:\"nmethodcode\", inputParam:this.props.Login.inputParam,  userInfo:this.props.Login.userInfo,  ncontrolCode:editId};\n\n    const addParam = {\n      screenName: \"IDS_METHOD\",\n      operation: \"create\",\n      primaryKeyName: \"nmethodcode\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      ncontrolcode: addId\n    };\n    const editParam = {\n      screenName: \"IDS_METHOD\",\n      operation: \"update\",\n      primaryKeyName: \"nmethodcode\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      ncontrolcode: editId,\n      inputListName: \"Method\",\n      selectedObject: \"SelectedMethod\"\n    };\n    const editValidityId = this.state.controlMap.has(\"EditMethodValidity\") && this.state.controlMap.get(\"EditMethodValidity\").ncontrolcode;\n    const approveValidityId = this.state.controlMap.has(\"ApproveMethodValidity\") && this.state.controlMap.get(\"ApproveMethodValidity\").ncontrolcode;\n    const editValidityParam = {\n      screenName: \"IDS_METHODVALIDITY\",\n      operation: \"update\",\n      primaryKeyName: \"nmethodvaliditycode\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      ncontrolcode: editValidityId,\n      inputListName: \"MethodValidity\",\n      selectedObject: \"selectedRecord\"\n    };\n    const approveValidityParam = {\n      screenName: \"IDS_METHODVALIDITY\",\n      operation: \"approve\",\n      primaryKeyName: \"nmethodvaliditycode\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      ncontrolcode: approveValidityId,\n      inputListName: \"MethodValidity\",\n      selectedObject: \"selectedRecord\"\n    };\n    const mandatoryFields = [{\n      \"idsName\": \"IDS_METHODCATEGORY\",\n      \"dataField\": \"nmethodcatcode\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_METHODNAME\",\n      \"dataField\": \"smethodname\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    } // {idsName: \"IDS_VALIDITYSTARTDATE\",dataField: \"dvaliditystartdate\", mandatoryLabel: \"IDS_SELECT\",controlType: \"selectbox\"},\n    // {idsName: \"IDS_VALIDITYENDDATE\",dataField: \"dvalidityenddate\",mandatoryLabel: \"IDS_SELECT\",controlType: \"selectbox\"},\n    ];\n    const deleteParam = {\n      operation: \"delete\"\n    };\n    const filterParam = {\n      inputListName: \"Method\",\n      selectedObject: \"SelectedMethod\",\n      primaryKeyField: \"nmethodcode\",\n      fetchUrl: \"method/getMethod\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: [\"smethodname\", \"sdescription\", \"smethodcatname\", 'sdisplaystatus', \"stransactionstatus\"]\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.props.sidebarview ? '4' : \"2\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      masterData: this.props.Login.masterData,\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_METHOD\"\n      }),\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.Method,\n      getMasterDetail: method => this.props.getMethodDetail(method, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.SelectedMethod,\n      primaryKeyField: \"nmethodcode\",\n      mainField: \"smethodname\",\n      firstField: \"smethodcatname\",\n      secondField: \"sdisplaystatus\",\n      openModal: () => this.props.getMethodComboService(addParam),\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addId,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.props.sidebarview ? '8' : \"10\"}`,\n      className: \"position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-view-btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-view-btn \",\n      onClick: this.props.parentFunction,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 33\n      }\n    }, !this.props.sidebarview ? /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-less-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 41\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-greater-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 41\n      }\n    }))), this.props.Login.masterData.Method && this.props.Login.masterData.Method.length > 0 && this.props.Login.masterData.SelectedMethod && Object.values(this.props.Login.masterData.SelectedMethod).length > 0 ? /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 45\n      }\n    }, this.props.Login.masterData.SelectedMethod.smethodname), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      name: \"editmethodname\",\n      hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }) //data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: () => this.props.getMethodComboService(editParam),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      name: \"deletemethodname\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }) //data-for=\"tooltip_list_wrap\"\n      ,\n      hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n      onClick: () => this.ConfirmDelete(deleteParam, deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 61\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Body, {\n      className: \"form-static-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 57\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_REMARKS\"\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData.SelectedMethod.sdescription))), /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 57\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_DEFAULTSTATUS\"\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData.SelectedMethod.sdisplaystatus)))), /*#__PURE__*/React.createElement(MethodValidityView, {\n      userInfo: this.props.Login.userInfo,\n      dataState: this.props.Login.dataState,\n      masterData: this.props.Login.masterData,\n      inputParam: this.props.Login.inputParam,\n      controlMap: this.state.controlMap,\n      userRoleControlRights: this.state.userRoleControlRights,\n      esignRights: this.props.Login.userRoleControlRights,\n      screenData: this.props.Login.screenData,\n      openChildModal: this.props.Login.openChildModal,\n      fetchMethodValidityById: this.props.fetchMethodValidityById,\n      editParam: editValidityParam,\n      operation: this.props.Login.operation,\n      screenName: this.props.Login.screenName,\n      selectedRecord: this.props.Login.selectedRecord,\n      selectedMethod: this.props.Login.masterData.SelectedMethod,\n      loadEsign: this.props.Login.loadEsign,\n      ncontrolCode: this.props.Login.ncontrolCode,\n      crudMaster: this.props.crudMaster,\n      getAvailableValidityData: this.props.getAvailableValidityData,\n      getMethodDetails: this.props.getMethodDetails,\n      getMethodValidityUTCDate: this.props.getMethodValidityUTCDate,\n      updateStore: this.props.updateStore,\n      validateEsignCredential: this.props.validateEsignCredential,\n      settings: this.props.Login.settings,\n      selectedId: this.props.Login.selectedId,\n      approveParam: approveValidityParam,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 45\n      }\n    })))) : \"\"))), this.props.Login.openModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal,\n      closeModal: this.closeModal,\n      operation: this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.Login.screenName,\n      onSaveClick: this.onSaveClick,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: mandatoryFields || [],\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        onInputOnChange: this.onEsignInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 29\n        }\n      }) : /*#__PURE__*/React.createElement(AddMethod, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onComboChange: this.onComboChange,\n        handleDateChange: this.handleDateChange,\n        methodCategoryList: this.props.Login.methodCategoryList || [],\n        operation: this.props.Login.operation,\n        userInfo: this.props.Login.userInfo,\n        inputParam: this.props.Login.inputParam,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 31\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  componentDidUpdate(previousProps) {\n    let isComponentUpdated = false; // if (this.props.Login.regparentSubSampleColumnList !== previousProps.Login.regparentSubSampleColumnList) {\n    //     this.setState({\n    //         regparentSubSampleColumnList: this.props.Login.regparentSubSampleColumnList,\n    //         regSubSamplecomboComponents: this.props.Login.regSubSamplecomboComponents,\n    //         regSubSamplewithoutCombocomponent: this.props.Login.regSubSamplewithoutCombocomponent\n    //     });\n    // }\n\n    if (this.props.Login.showSaveContinue !== previousProps.Login.showSaveContinue) {\n      this.setState({\n        showSaveContinue: this.props.Login.showSaveContinue\n      });\n    }\n\n    if (this.props.Login !== previousProps.Login) {\n      this.PrevoiusLoginData = previousProps;\n    }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.Login.selectedRecord\n      });\n    }\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      const userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n      this.setState({\n        userRoleControlRights,\n        controlMap\n      });\n    }\n  } // generateBreadCrumData() {\n  //     const breadCrumbData = [];\n  //     if (this.props.Login.masterData && this.props.Login.masterData.filterTestCategory) {\n  //         breadCrumbData.push(\n  //             {\n  //                 \"label\": \"IDS_TESTCATEGORY\",\n  //                 \"value\": this.props.Login.masterData.SelectedTestCat ? this.props.Login.masterData.SelectedTestCat.stestcategoryname : \"NA\"\n  //             }\n  //         );\n  //     }\n  //     return breadCrumbData;\n  // }\n\n\n  componentWillUnmount() {\n    const updateInfo = {\n      typeName: DEFAULT_RETURN,\n      data: {\n        masterData: [],\n        inputParam: undefined,\n        operation: null,\n        modalName: undefined\n      }\n    };\n    this.props.updateStore(updateInfo);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  getMethodComboService,\n  getMethodDetail,\n  getAvailableValidityData,\n  fetchMethodValidityById,\n  getMethodValidityUTCDate,\n  updateStore,\n  validateEsignCredential,\n  filterColumnData\n})(injectIntl(Method));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-512/QuaLISWeb/src/pages/testmanagement/Method.jsx"],"names":["React","Component","ListWrapper","Row","Col","Card","Nav","FormGroup","FormLabel","connect","rsapi","process","DataGrid","callService","crudMaster","getMethodComboService","getMethodDetail","getAvailableValidityData","fetchMethodValidityById","getMethodValidityUTCDate","updateStore","validateEsignCredential","filterColumnData","MethodValidityView","injectIntl","toast","SlideOutModal","getControlMap","showEsign","constructOptionList","convertDateValuetoString","ListMaster","faTrashAlt","faPencilAlt","faCopy","faCheck","FontAwesomeIcon","ReadOnlyText","ContentPanel","MediaLabel","DEFAULT_RETURN","Esign","parameterType","transactionStatus","AddMethod","ConfirmMessage","BreadcrumbComponent","Affix","removeItems","Method","constructor","props","sidebarExpandCollapse","setState","sidebarview","onSaveClick","saveType","formRef","inputData","Login","userInfo","dataState","undefined","selectedId","operation","state","selectedRecord","nmethodcode","inputParam","methodUrl","toLowerCase","nmastersitecode","NO","value","YES","obj","Date","fromDate","toDate","ntimezonecode","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","fetchUrl","fecthInputObject","userinfo","masterData","classUrl","displayName","screenName","searchRef","esignNeeded","userRoleControlRights","nformcode","ncontrolCode","updateInfo","typeName","data","loadEsign","screenData","openModal","intl","formatMessage","id","ConfirmDelete","deleteParam","deleteID","confirmMessage","confirm","deleteRecord","nControlcode","SelectedMethod","onEsignInputOnChange","event","target","type","name","checked","onInputOnChange","onComboChange","comboData","fieldName","handleDateChange","dateName","dateValue","sdatename","closeModal","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","reloadData","current","error","controlMap","Map","skip","take","settings","createRef","getDerivedStateFromProps","masterStatus","errorCode","warn","render","addId","has","get","ncontrolcode","editId","deleteId","addParam","primaryKeyName","editParam","editValidityId","approveValidityId","editValidityParam","approveValidityParam","mandatoryFields","filterParam","searchFieldList","searchedData","method","parentFunction","length","Object","values","smethodname","indexOf","sdescription","sdisplaystatus","openChildModal","getMethodDetails","methodCategoryList","componentDidUpdate","previousProps","isComponentUpdated","showSaveContinue","PrevoiusLoginData","map","item","push","componentWillUnmount","modalName","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {ListWrapper} from '../../components/client-group.styles';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport rsapi from '../../rsapi';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\n// import {\r\n//     callService, crudMaster, getTestMaster, addTest, updateStore, getTestDetails, formulaChangeFunction, filterColumnData,\r\n//     addParameter, validateEsignCredential, addCodedResult, addParameterSpecification, getAvailableData, addFormula,\r\n//     changeTestCategoryFilter, addTestFile, viewAttachment,getActiveTestContainerTypeById\r\n// } from '../../actions'\r\nimport { callService, crudMaster,getMethodComboService,getMethodDetail,getAvailableValidityData,fetchMethodValidityById,getMethodValidityUTCDate,updateStore, validateEsignCredential,filterColumnData } from '../../actions';\r\nimport MethodValidityView from './MethodValidityView';\r\nimport { injectIntl } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\n//import AddParameter from './AddParameter'\r\n//import AddTest from '../../pages/testmanagement/AddTest'\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { getControlMap, showEsign, constructOptionList, convertDateValuetoString } from '../../components/CommonScript';\r\n//import TestCategoryFilter from './TestCategoryFilter';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { faTrashAlt, faPencilAlt, faCopy, faCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ReadOnlyText, ContentPanel, MediaLabel } from '../../components/App.styles';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport Esign from '../audittrail/Esign';\r\n// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\r\nimport { parameterType, transactionStatus } from '../../components/Enumeration';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport AddMethod from './AddMethod';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { Affix } from 'rsuite';\r\n//import ReactTooltip from 'react-tooltip';\r\nimport { removeItems } from '@progress/kendo-react-treelist';\r\n\r\n\r\nclass Method extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = ({\r\n            selectedRecord: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            take: this.props.Login.settings ? this.props.Login.settings[3] : 25,\r\n            sidebarview: false\r\n        });\r\n        this.searchRef = React.createRef();\r\n       // this.searchFieldList = [\"smethodname\", \"sdescription\",  \"smethodcategoryname\", \"stransactionstatus\"];\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    sidebarExpandCollapse = () => {\r\n        this.setState({\r\n            sidebarview: true\r\n        })          \r\n    }\r\n\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n\r\n    //     const addId = this.props.Login.inputParam && this.state.controlMap.has(\"Add\".concat(this.props.Login.inputParam.methodUrl))\r\n    //     && this.state.controlMap.get(\"Add\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\r\n\r\n    //    const editId = this.props.Login.inputParam && this.state.controlMap.has(\"Edit\".concat(this.props.Login.inputParam.methodUrl))\r\n    //     && this.state.controlMap.get(\"Edit\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\r\n    const addId = this.state.controlMap.has(\"AddMethod\") && this.state.controlMap.get(\"AddMethod\").ncontrolcode;\r\n    const editId = this.state.controlMap.has(\"EditMethod\") && this.state.controlMap.get(\"EditMethod\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteMethod\") && this.state.controlMap.get(\"DeleteMethod\").ncontrolcode;\r\n\r\n        // const addParam = {screenName:\"Method\", primaryeyField: \"nmethodcode\", primaryKeyValue:undefined,  \r\n        //     operation:\"create\", inputParam:this.props.Login.inputParam, userInfo : this.props.Login.userInfo, ncontrolCode: addId};\r\n\r\n        //   const editParam = {screenName:this.props.Login.inputParam && this.props.Login.inputParam.displayName && this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }), operation:\"update\", \r\n        //    primaryKeyField:\"nmethodcode\", inputParam:this.props.Login.inputParam,  userInfo:this.props.Login.userInfo,  ncontrolCode:editId};\r\n        const addParam = {\r\n            screenName: \"IDS_METHOD\", operation: \"create\", primaryKeyName: \"nmethodcode\",\r\n            masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n            ncontrolcode: addId\r\n        }\r\n\r\n        const editParam = {\r\n            screenName: \"IDS_METHOD\", operation: \"update\", primaryKeyName: \"nmethodcode\",\r\n            masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n            ncontrolcode: editId, inputListName: \"Method\", selectedObject: \"SelectedMethod\"\r\n        };\r\n        const editValidityId = this.state.controlMap.has(\"EditMethodValidity\") && this.state.controlMap.get(\"EditMethodValidity\").ncontrolcode;\r\n        const approveValidityId = this.state.controlMap.has(\"ApproveMethodValidity\") && this.state.controlMap.get(\"ApproveMethodValidity\").ncontrolcode;\r\n    const editValidityParam = {\r\n      screenName: \"IDS_METHODVALIDITY\", operation: \"update\", primaryKeyName: \"nmethodvaliditycode\",\r\n      masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n      ncontrolcode: editValidityId, inputListName: \"MethodValidity\", selectedObject: \"selectedRecord\"\r\n  };\r\n  const approveValidityParam = {\r\n    screenName: \"IDS_METHODVALIDITY\", operation: \"approve\", primaryKeyName: \"nmethodvaliditycode\",\r\n    masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n    ncontrolcode: approveValidityId, inputListName: \"MethodValidity\", selectedObject: \"selectedRecord\"\r\n};\r\n        const mandatoryFields = [{\"idsName\":\"IDS_METHODCATEGORY\",\"dataField\":\"nmethodcatcode\", \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n        {\"idsName\":\"IDS_METHODNAME\",\"dataField\":\"smethodname\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n        // {idsName: \"IDS_VALIDITYSTARTDATE\",dataField: \"dvaliditystartdate\", mandatoryLabel: \"IDS_SELECT\",controlType: \"selectbox\"},\r\n        // {idsName: \"IDS_VALIDITYENDDATE\",dataField: \"dvalidityenddate\",mandatoryLabel: \"IDS_SELECT\",controlType: \"selectbox\"},\r\n        ];\r\n        const deleteParam = { operation: \"delete\" };\r\n        const filterParam = {\r\n            inputListName: \"Method\", selectedObject: \"SelectedMethod\", primaryKeyField: \"nmethodcode\",\r\n            fetchUrl: \"method/getMethod\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"smethodname\", \"sdescription\", \"smethodcatname\",'sdisplaystatus', \"stransactionstatus\"]\r\n        };\r\n\r\n        return (\r\n            <>\r\n                {/* Start of get display */}\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {/* {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    } */}\r\n                    <Row noGutters={true}>\r\n                        <Col md={`${!this.props.sidebarview ? '4' : \"2\"}`}> \r\n                            <ListMaster\r\n                                masterData={this.props.Login.masterData}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_METHOD\" })}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.Method}\r\n                                getMasterDetail={(method) => this.props.getMethodDetail(method, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.SelectedMethod}\r\n                                primaryKeyField=\"nmethodcode\"\r\n                                mainField=\"smethodname\"\r\n                                firstField=\"smethodcatname\"\r\n                                secondField=\"sdisplaystatus\"\r\n                                openModal={() => this.props.getMethodComboService(addParam)}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n\r\n                                \r\n                                \r\n                            />\r\n                        </Col>\r\n                        <Col md={`${!this.props.sidebarview ? '8' : \"10\"}`} className=\"position-relative\">\r\n                            <div className=\"sidebar-view-btn-block\">\r\n                                <div className=\"sidebar-view-btn \" onClick={this.props.parentFunction}>\r\n                                    {!this.props.sidebarview ?                    \r\n                                        <i class=\"fa fa-less-than\"></i> :\r\n                                        <i class=\"fa fa-greater-than\"></i> \r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            {this.props.Login.masterData.Method && this.props.Login.masterData.Method.length > 0 && this.props.Login.masterData.SelectedMethod && Object.values(this.props.Login.masterData.SelectedMethod).length > 0 ?\r\n                                <ContentPanel className=\"panel-main-content\">\r\n                                    <Card className=\"border-0\">\r\n                                        <Card.Header>\r\n                                            {/* <ReactTooltip place=\"bottom\" globalEventOff='click' /> */}\r\n                                            <Card.Title className=\"product-title-main\">\r\n                                                {this.props.Login.masterData.SelectedMethod.smethodname}\r\n                                            </Card.Title>\r\n                                            <Card.Subtitle>\r\n                                                {/* <Row>\r\n                                                <Col md={8}> */}\r\n                                                <div className=\"d-flex product-category\">\r\n                                                    <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                        {/* <MediaLabel className={`btn btn-outlined ${this.props.Login.masterData.SelectedMethod.nstatus === 1 ? \"outline-success\" : \"outline-secondary\"} btn-sm ml-3`}>\r\n                                                            {this.props.Login.masterData.SelectedMethod.nstatus === 1 && <FontAwesomeIcon icon={faCheck}></FontAwesomeIcon>}\r\n                                                            {this.props.Login.masterData.SelectedMethod.sdisplaystatus}\r\n                                                        </MediaLabel> */}\r\n                                                        \r\n                                                    </h2>\r\n                                                    {/* </Col>\r\n                                                <Col md=\"4\"> */}\r\n                                                    {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                    <div className=\"d-inline\">\r\n                                                       \r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\" name=\"editmethodname\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                            //data-for=\"tooltip_list_wrap\"\r\n                                                            onClick={() => this.props.getMethodComboService(editParam)}>\r\n                                                            <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" name=\"deletemethodname\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            //data-for=\"tooltip_list_wrap\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                            onClick={() => this.ConfirmDelete(deleteParam,deleteId)}\r\n                                                        >\r\n                                                            <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                            {/* <ConfirmDialog\r\n                                                                    name=\"deleteMessage\"\r\n                                                                    message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                                    doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                                    doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                                    icon={faTrashAlt}\r\n                                                                    // title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                    hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                    handleClickDelete={() => this.deleteAction(SelectedTest, \"delete\", deleteId, \"TestMaster\", \"openModal\")}\r\n                                                                /> */}\r\n                                                        </Nav.Link>\r\n                                                        \r\n                                                    </div>\r\n                                                    {/* </Tooltip> */}\r\n                                                </div>\r\n                                                {/* </Col>\r\n                                            </Row> */}\r\n                                            </Card.Subtitle>\r\n                                        </Card.Header>\r\n                                        <Card.Body className=\"form-static-wrap\">\r\n                                            <Row>\r\n                                            <Col md=\"6\">\r\n                                                    <FormGroup>\r\n                                                        <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_REMARKS\" })}</FormLabel>\r\n                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedMethod.sdescription}</ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md=\"6\">\r\n                                                    <FormGroup>\r\n                                                        <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_DEFAULTSTATUS\" })}</FormLabel>\r\n                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedMethod.sdisplaystatus}</ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                {/* <Col md=\"6\">\r\n                                                    <FormGroup>\r\n                                                        <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_METHODVALIDITYENABLE\" })}</FormLabel>\r\n                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedMethod.smethodvalidityenable}</ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                </Col> */}\r\n                                                \r\n                                                {/* <Col md=\"6\">\r\n                                                    <FormGroup>\r\n                                                        <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_DISPLAYSTATUS\" })}</FormLabel>\r\n                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedMethod.sdisplaystatus}</ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                </Col> */}\r\n\r\n                                                \r\n                                               \r\n                                                {/* End Here */}\r\n                                            </Row>\r\n                                            <MethodValidityView\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                dataState={this.props.Login.dataState}\r\n                                                masterData={this.props.Login.masterData}\r\n                                                inputParam={this.props.Login.inputParam}\r\n                                                controlMap={this.state.controlMap}\r\n                                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                                esignRights={this.props.Login.userRoleControlRights}\r\n                                                screenData={this.props.Login.screenData}\r\n                                                openChildModal={this.props.Login.openChildModal}\r\n                                                fetchMethodValidityById={this.props.fetchMethodValidityById}\r\n                                                editParam={editValidityParam}\r\n                                                operation={this.props.Login.operation}\r\n                                                screenName={this.props.Login.screenName}\r\n                                                selectedRecord={this.props.Login.selectedRecord}\r\n                                                selectedMethod={this.props.Login.masterData.SelectedMethod}\r\n                                                loadEsign={this.props.Login.loadEsign}\r\n                                                ncontrolCode={this.props.Login.ncontrolCode}\r\n                                                crudMaster={this.props.crudMaster}\r\n                                                getAvailableValidityData={this.props.getAvailableValidityData}\r\n                                                getMethodDetails={this.props.getMethodDetails}\r\n                                                getMethodValidityUTCDate={this.props.getMethodValidityUTCDate}\r\n                                                updateStore={this.props.updateStore}\r\n                                                validateEsignCredential={this.props.validateEsignCredential}\r\n                                                settings = {this.props.Login.settings}\r\n                                                selectedId={this.props.Login.selectedId}\r\n                                                approveParam ={approveValidityParam}\r\n                                            ></MethodValidityView>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </ContentPanel>\r\n                                : \"\"\r\n                            }\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {/* End of get display */}\r\n\r\n                {/* Start of Modal Sideout for Test Creation */}\r\n                {this.props.Login.openModal && \r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={mandatoryFields || []}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign\r\n                                operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onEsignInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : <AddMethod  \r\n                            selectedRecord={this.state.selectedRecord ||{}}                                  \r\n                            onInputOnChange={this.onInputOnChange}\r\n                            onComboChange={this.onComboChange} \r\n                            handleDateChange={this.handleDateChange}\r\n                            methodCategoryList={this.props.Login.methodCategoryList ||[]}\r\n                            operation={this.props.Login.operation}\r\n                            userInfo={this.props.Login.userInfo}\r\n                            inputParam={this.props.Login.inputParam}  \r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n                {/* End of Modal Sideout for Test Creation */}\r\n            </>\r\n        );\r\n    }\r\n   \r\n    onSaveClick = (saveType, formRef) => {\r\n        // if (this.state.selectedRecord[\"dvalidityenddate\"] !== undefined && this.state.selectedRecord[\"dvaliditystartdate\"] !== undefined) {\r\n        //     if (this.state.selectedRecord[\"dvalidityenddate\"] < this.state.selectedRecord[\"dvaliditystartdate\"]) {\r\n        //         toast.info(this.props.intl.formatMessage({ id: \"IDS_ENDDATEGRATERTHANSTARTDATE\" }));\r\n        //         return;\r\n        //     }\r\n        // }\r\n        //add / edit            \r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        let dataState = undefined;\r\n        let selectedId = null;\r\n        inputData[\"method\"]={};\r\n        if ( this.props.Login.operation === \"update\"){\r\n            // edit\r\n            delete this.state.selectedRecord[\"dcurrentdate\"];\r\n            dataState = this.state.dataState;\r\n            //inputData[this.props.Login.inputParam.methodUrl.toLowerCase()] = JSON.parse(JSON.stringify(this.state.selectedRecord));\r\n            selectedId = this.props.Login.selectedRecord.nmethodcode;              \r\n            inputData[\"method\"][\"nmethodcode\"] = this.props.Login.selectedRecord.nmethodcode;\r\n        }\r\n        else{\r\n            //add               \r\n            inputData[this.props.Login.inputParam.methodUrl.toLowerCase()] = {\"nsitecode\":this.props.Login.userInfo.nmastersitecode};      \r\n           \r\n        }   \r\n\r\n        inputData[\"method\"][\"ndefaultstatus\"] = this.state.selectedRecord[\"ndefaultstatus\"] !== undefined && this.state.selectedRecord[\"ndefaultstatus\"]? this.state.selectedRecord[\"ndefaultstatus\"]:transactionStatus.NO;\r\n        inputData[\"method\"][\"nmethodcatcode\"] = this.state.selectedRecord[\"nmethodcatcode\"]? this.state.selectedRecord[\"nmethodcatcode\"].value:\"\";\r\n        inputData[\"method\"][\"smethodname\"] = this.state.selectedRecord[\"smethodname\"]? this.state.selectedRecord[\"smethodname\"]:\"\";\r\n        inputData[\"method\"][\"nneedvalidity\"] = this.state.selectedRecord[\"nneedvalidity\"] !== undefined && this.state.selectedRecord[\"nneedvalidity\"]? this.state.selectedRecord[\"nneedvalidity\"]:transactionStatus.NO;\r\n        inputData[\"method\"][\"sdescription\"] = this.state.selectedRecord[\"sdescription\"]? this.state.selectedRecord[\"sdescription\"]:\"\";\r\n       \r\n        inputData[\"methodvalidity\"]={};\r\n\r\n        if(this.state.selectedRecord[\"nneedvalidity\"] === transactionStatus.YES)\r\n        {\r\n            let obj= convertDateValuetoString(this.state.selectedRecord[\"dvaliditystartdate\"] ? this.state.selectedRecord[\"dvaliditystartdate\"]: new Date(),this.state.selectedRecord[\"dvalidityenddate\"]?this.state.selectedRecord[\"dvalidityenddate\"]:new Date(),this.props.Login.userInfo);\r\n            this.state.selectedRecord[\"svaliditystartdate\"]=obj.fromDate;\r\n            this.state.selectedRecord[\"svalidityenddate\"]=obj.toDate;\r\n\r\n            inputData[\"methodvalidity\"][\"dvaliditystartdate\"] = this.state.selectedRecord[\"dvaliditystartdate\"] ? this.state.selectedRecord[\"dvaliditystartdate\"] : new Date();\r\n            inputData[\"methodvalidity\"][\"dvalidityenddate\"] = this.state.selectedRecord[\"dvalidityenddate\"] ? this.state.selectedRecord[\"dvalidityenddate\"] : new Date();\r\n            inputData[\"methodvalidity\"][\"svaliditystartdate\"] = this.state.selectedRecord[\"svaliditystartdate\"] ? this.state.selectedRecord[\"svaliditystartdate\"] : new Date();\r\n            inputData[\"methodvalidity\"][\"svalidityenddate\"] = this.state.selectedRecord[\"svalidityenddate\"] ? this.state.selectedRecord[\"svalidityenddate\"] : new Date();\r\n\r\n            inputData[\"methodvalidity\"][\"ntzvaliditystartdatetimezone\"] = this.state.selectedRecord[\"ntzvaliditystartdatetimezone\"]\r\n                                                                        ? this.state.selectedRecord[\"ntzvaliditystartdatetimezone\"].value \r\n                                                                        || this.props.Login.userInfo.ntimezonecode\r\n                                                                        : this.props.Login.userInfo.ntimezonecode;\r\n            inputData[\"methodvalidity\"][\"ntzvalidityenddatetimezone\"] = this.state.selectedRecord[\"ntzvalidityenddatetimezone\" ]\r\n                                                                        ? this.state.selectedRecord[\"ntzvalidityenddatetimezone\"].value \r\n                                                                        || this.props.Login.userInfo.ntimezonecode\r\n                                                                        : this.props.Login.userInfo.ntimezonecode;\r\n\r\n            inputData[\"methodvalidity\"][\"stzvaliditystartdatetimezone\"] = this.state.selectedRecord[\"stzvaliditystartdatetimezone\"]\r\n                                                                        ? this.state.selectedRecord[\"stzvaliditystartdatetimezone\"].value \r\n                                                                        || this.props.Login.userInfo.ntimezonecode\r\n                                                                        : this.props.Login.userInfo.ntimezonecode;\r\n            inputData[\"methodvalidity\"][\"stzvalidityenddatetimezone\"] = this.state.selectedRecord[\"stzvalidityenddatetimezone\"]\r\n                                                                        ? this.state.selectedRecord[\"stzvalidityenddatetimezone\"].value \r\n                                                                        || this.props.Login.userInfo.ntimezonecode\r\n                                                                        : this.props.Login.userInfo.ntimezonecode;\r\n\r\n        }   \r\n        let postParam = undefined;\r\n        postParam= {\r\n            inputListName: \"Method\", selectedObject: \"SelectedMethod\", primaryKeyField: \"nmethodcode\",\r\n            primaryKeyValue: this.props.Login.selectedRecord.nmethodcode,\r\n            fetchUrl: \"method/getActiveMethodById\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData\r\n        }\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"Method\",//this.props.Login.inputParam.methodUrl,\r\n            displayName: this.props.Login.screenName,  \r\n            inputData: inputData, selectedId, dataState,\r\n            operation: this.props.Login.operation, saveType, formRef,\r\n            postParam, searchRef: this.searchRef,\r\n            selectedRecord: {...this.state.selectedRecord}\r\n\r\n        }\r\n       \r\n        const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\r\n        if (esignNeeded){\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign:true, screenData:{inputParam, masterData:this.props.Login.masterData}, \r\n                    openModal:true, screenName: this.props.Login.screenName && this.props.intl.formatMessage({ id:this.props.Login.screenName}),\r\n                    operation:this.props.Login.operation\r\n                    }\r\n                }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else{\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n       \r\n}\r\n\r\n    ConfirmDelete = (deleteParam,deleteID) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteRecord(deleteParam,deleteID));\r\n    }\r\n    deleteRecord = (deleteParam, nControlcode) => {\r\n        const postParam = {\r\n            inputListName: \"Method\", selectedObject: \"SelectedMethod\",\r\n            primaryKeyField: \"nmethodcode\",\r\n            primaryKeyValue: this.props.Login.masterData.SelectedMethod.nmethodcode,\r\n            fetchUrl: \"method/getMethod\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n                                classUrl: this.props.Login.inputParam.classUrl,\r\n                                methodUrl: \"Method\",//this.props.Login.inputParam.methodUrl,                        \r\n                                displayName:this.props.Login.screenName,\r\n                                inputData: {[\"method\"] :this.props.Login.masterData.SelectedMethod,   //deleteParam.selectedRecord,\r\n                                            \"userinfo\": this.props.Login.userInfo},\r\n                                operation:deleteParam.operation,\r\n                                dataState: this.state.dataState,\r\n                                postParam,\r\n                                selectedRecord: {...this.state.selectedRecord}\r\n                            }       \r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, nControlcode)){\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign:true, screenData:{inputParam, masterData:this.props.Login.masterData}, \r\n                    openModal:true, screenName: this.props.Login.screenName && this.props.intl.formatMessage({ id:this.props.Login.screenName}),\r\n                    operation:deleteParam.operation\r\n                    }\r\n                }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else{\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n    onEsignInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onInputOnChange=(event) => {\r\n        \r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox')\r\n        {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else{\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        \r\n        this.setState({selectedRecord});\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {      \r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;;   \r\n     \r\n        this.setState({selectedRecord});        \r\n    }\r\n    handleDateChange = (dateName, dateValue, sdatename) => {\r\n        const { selectedRecord } = this.state;\r\n        // if(dateName === \"dvaliditystartdate\")\r\n        // {\r\n        //    selectedRecord[\"dvalidityenddate\"] = dateValue;  \r\n        // }\r\n        selectedRecord[dateName] = dateValue;\r\n        selectedRecord[sdatename] = dateValue;\r\n        this.setState({ selectedRecord });\r\n      };\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        let selectedId = this.props.Login.selectedId;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            } else {\r\n                loadEsign = false;\r\n                selectedRecord[\"agree\"] = transactionStatus.NO;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason']=\"\"\r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n            selectedId=null;\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord,selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n\r\n        const inputParam = {\r\n                        inputData : {\"userinfo\":this.props.Login.userInfo},                        \r\n                        classUrl: this.props.Login.inputParam.classUrl,\r\n                        methodUrl: \"Method\",//this.props.Login.inputParam.methodUrl,\r\n                        //displayName:this.props.Login.inputParam.displayName,\r\n                        //ALPD-5148 Method --> When approve the method validity method name is hiding\r\n                        displayName:this.props.intl.formatMessage({ id:\"IDS_METHOD\"}),\r\n                        userInfo: this.props.Login.userInfo\r\n                    };     \r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let isComponentUpdated = false;\r\n\r\n       \r\n\r\n        // if (this.props.Login.regparentSubSampleColumnList !== previousProps.Login.regparentSubSampleColumnList) {\r\n        //     this.setState({\r\n        //         regparentSubSampleColumnList: this.props.Login.regparentSubSampleColumnList,\r\n        //         regSubSamplecomboComponents: this.props.Login.regSubSamplecomboComponents,\r\n        //         regSubSamplewithoutCombocomponent: this.props.Login.regSubSamplewithoutCombocomponent\r\n        //     });\r\n\r\n        // }\r\n\r\n\r\n        if (this.props.Login.showSaveContinue !== previousProps.Login.showSaveContinue) {\r\n            this.setState({ showSaveContinue: this.props.Login.showSaveContinue });\r\n\r\n        }\r\n        if (this.props.Login !== previousProps.Login) {\r\n            this.PrevoiusLoginData = previousProps\r\n        }\r\n\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ userRoleControlRights, controlMap });\r\n        }\r\n        \r\n\r\n        \r\n       \r\n        \r\n    }\r\n\r\n    // generateBreadCrumData() {\r\n    //     const breadCrumbData = [];\r\n    //     if (this.props.Login.masterData && this.props.Login.masterData.filterTestCategory) {\r\n\r\n    //         breadCrumbData.push(\r\n    //             {\r\n    //                 \"label\": \"IDS_TESTCATEGORY\",\r\n    //                 \"value\": this.props.Login.masterData.SelectedTestCat ? this.props.Login.masterData.SelectedTestCat.stestcategoryname : \"NA\"\r\n    //             }\r\n    //         );\r\n    //     }\r\n    //     return breadCrumbData;\r\n    // }\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n                \r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster,getMethodComboService,getMethodDetail,getAvailableValidityData,fetchMethodValidityById,getMethodValidityUTCDate,updateStore, validateEsignCredential,filterColumnData,\r\n})(injectIntl(Method));"]},"metadata":{},"sourceType":"module"}