{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { sleep } from \"./stuff\";\nimport { listValuesToArray, mapListValues } from \"./listValues\";\nexport var simulateAsyncFetch = function simulateAsyncFetch(all) {\n  var cPageSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(search, offset, meta) {\n      var pageSize, filtered, pages, currentOffset, currentPage, values, newOffset, hasMore;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            pageSize = meta.pageSize != undefined ? meta.pageSize : cPageSize;\n            filtered = listValuesToArray(all).filter(function (_ref2) {\n              var title = _ref2.title;\n              return search == null ? true : title.toUpperCase().indexOf(search.toUpperCase()) != -1;\n            });\n            pages = pageSize ? Math.ceil(filtered.length / pageSize) : 0;\n            currentOffset = offset || 0;\n            currentPage = pageSize ? Math.ceil(currentOffset / pageSize) : null;\n            values = pageSize ? filtered.slice(currentOffset, currentOffset + pageSize) : filtered;\n            newOffset = pageSize ? currentOffset + values.length : null;\n            hasMore = pageSize ? newOffset < filtered.length : false;\n            console.debug(\"simulateAsyncFetch\", {\n              search: search,\n              offset: offset,\n              values: values,\n              hasMore: hasMore,\n              filtered: filtered\n            });\n            _context.next = 11;\n            return sleep(delay);\n\n          case 11:\n            return _context.abrupt(\"return\", {\n              values: values,\n              hasMore: hasMore\n            });\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var mergeListValues = function mergeListValues(values, newValues) {\n  var toStart = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (!newValues) return values;\n  var old = values || [];\n  var newFiltered = newValues.filter(function (v) {\n    return old.find(function (av) {\n      return av.value == v.value;\n    }) == undefined;\n  });\n  var merged = toStart ? [].concat(_toConsumableArray(newFiltered), _toConsumableArray(old)) : [].concat(_toConsumableArray(old), _toConsumableArray(newFiltered));\n  return merged;\n};\nexport var listValueToOption = function listValueToOption(lv) {\n  if (lv == null) return null;\n  var title = lv.title,\n      value = lv.value,\n      disabled = lv.disabled,\n      groupTitle = lv.groupTitle,\n      renderTitle = lv.renderTitle;\n  var option = {\n    title: title,\n    value: value\n  };\n  if (disabled) option.disabled = disabled;\n  if (groupTitle) option.groupTitle = groupTitle;\n  if (renderTitle) option.renderTitle = renderTitle;\n  return option;\n};\nexport var getListValue = function getListValue(selectedValue, listValues) {\n  return mapListValues(listValues, function (lv) {\n    return lv.value === selectedValue ? lv : null;\n  }).filter(function (v) {\n    return v !== null;\n  }).shift();\n};","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/SOURCE-512/QuaLISWeb/node_modules/@react-awesome-query-builder/core/esm/utils/autocomplete.js"],"names":["_toConsumableArray","_asyncToGenerator","_regeneratorRuntime","sleep","listValuesToArray","mapListValues","simulateAsyncFetch","all","cPageSize","arguments","length","undefined","delay","_ref","mark","_callee","search","offset","meta","pageSize","filtered","pages","currentOffset","currentPage","values","newOffset","hasMore","wrap","_callee$","_context","prev","next","filter","_ref2","title","toUpperCase","indexOf","Math","ceil","slice","console","debug","abrupt","stop","_x","_x2","_x3","apply","mergeListValues","newValues","toStart","old","newFiltered","v","find","av","value","merged","concat","listValueToOption","lv","disabled","groupTitle","renderTitle","option","getListValue","selectedValue","listValues","shift"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { sleep } from \"./stuff\";\nimport { listValuesToArray, mapListValues } from \"./listValues\";\nexport var simulateAsyncFetch = function simulateAsyncFetch(all) {\n  var cPageSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(search, offset, meta) {\n      var pageSize, filtered, pages, currentOffset, currentPage, values, newOffset, hasMore;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            pageSize = meta.pageSize != undefined ? meta.pageSize : cPageSize;\n            filtered = listValuesToArray(all).filter(function (_ref2) {\n              var title = _ref2.title;\n              return search == null ? true : title.toUpperCase().indexOf(search.toUpperCase()) != -1;\n            });\n            pages = pageSize ? Math.ceil(filtered.length / pageSize) : 0;\n            currentOffset = offset || 0;\n            currentPage = pageSize ? Math.ceil(currentOffset / pageSize) : null;\n            values = pageSize ? filtered.slice(currentOffset, currentOffset + pageSize) : filtered;\n            newOffset = pageSize ? currentOffset + values.length : null;\n            hasMore = pageSize ? newOffset < filtered.length : false;\n            console.debug(\"simulateAsyncFetch\", {\n              search: search,\n              offset: offset,\n              values: values,\n              hasMore: hasMore,\n              filtered: filtered\n            });\n            _context.next = 11;\n            return sleep(delay);\n          case 11:\n            return _context.abrupt(\"return\", {\n              values: values,\n              hasMore: hasMore\n            });\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function (_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var mergeListValues = function mergeListValues(values, newValues) {\n  var toStart = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (!newValues) return values;\n  var old = values || [];\n  var newFiltered = newValues.filter(function (v) {\n    return old.find(function (av) {\n      return av.value == v.value;\n    }) == undefined;\n  });\n  var merged = toStart ? [].concat(_toConsumableArray(newFiltered), _toConsumableArray(old)) : [].concat(_toConsumableArray(old), _toConsumableArray(newFiltered));\n  return merged;\n};\nexport var listValueToOption = function listValueToOption(lv) {\n  if (lv == null) return null;\n  var title = lv.title,\n    value = lv.value,\n    disabled = lv.disabled,\n    groupTitle = lv.groupTitle,\n    renderTitle = lv.renderTitle;\n  var option = {\n    title: title,\n    value: value\n  };\n  if (disabled) option.disabled = disabled;\n  if (groupTitle) option.groupTitle = groupTitle;\n  if (renderTitle) option.renderTitle = renderTitle;\n  return option;\n};\nexport var getListValue = function getListValue(selectedValue, listValues) {\n  return mapListValues(listValues, function (lv) {\n    return lv.value === selectedValue ? lv : null;\n  }).filter(function (v) {\n    return v !== null;\n  }).shift();\n};"]},"metadata":{},"sourceType":"module"}