{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{Row,Col,Card,Nav,FormGroup,FormLabel,Form,Button}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import PerfectScrollbar from'react-perfect-scrollbar';import{faTrashAlt,faCopy,faPencilAlt,faSync,faPlus,faThumbsUp,faBoxOpen,faBox,faLocationArrow,faFolderMinus,faFolder,faFolderOpen,faArrowRight}from'@fortawesome/free-solid-svg-icons';import{toast}from'react-toastify';import ListMaster from'../../components/list-master/list-master.component';import{constructOptionList,getControlMap,showEsign}from'../../components/CommonScript';import{ReadOnlyText,ContentPanel}from'../../components/App.styles';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{callService,crudMaster,validateEsignCredential,updateStore,getSelectedSampleStorageLocation,filterColumnData,changeStorageCategoryFilter,openPropertyModal,editSampleStorageLocation,approveSampleStorageLocation,getSelectedSampleStorageVersion,fetchStorageCategory,copySampleStorageVersion,crudSampleStorageLocation}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{ListWrapper}from'../../components/client-group.styles';import{ProductList}from'../product/product.styled';// import ReactTooltip from 'react-tooltip';\nimport{uuid}from\"uuidv4\";import TreeEditable from\"../../components/form-tree-editable/TreeEditable\";import TreeViewEditable from\"../../components/form-tree-editable/form-tree-editable.component\";import{mapTree,removeItems}from\"@progress/kendo-react-treelist\";import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import AddTreeview from'./AddTreeview';import AddTreeProperties from'./AddTreeProperties';import{Splitter}from'@progress/kendo-react-layout';import TransactionListMaster from'../../components/TransactionListMaster';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import SplitterLayout from'react-splitter-layout';import StorageCategoryFilter from'./StorageCategoryFilter';import{transactionStatus}from'../../components/Enumeration';import Esign from'../audittrail/Esign';var SampleStorageLocation=/*#__PURE__*/function(_Component){_inherits(SampleStorageLocation,_Component);var _super=_createSuper(SampleStorageLocation);function SampleStorageLocation(_props){var _this;_classCallCheck(this,SampleStorageLocation);_this=_super.call(this,_props);_this.onChange=function(event){_this.setState({panes:event.newState});};_this.addChildNode=function(e,clickedItem){var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===clickedItem.id){item.items=item.items||[];item.items.push({id:uuid(),text:_this.props.intl.formatMessage({id:\"IDS_LABEL\"}),expanded:true,editable:false,locationlastnode:false,containerfirstnode:false,containerlastnode:false});}return item;});_this.setState({treeData:newData});};_this.equalNode=function(e,clickedItem){var parentItem={};var parentFound=false;var newData=_toConsumableArray(_this.state.treeData);mapTree(_this.state.treeData,\"items\",function(item){if(item.items){if(parentFound){parentItem=item;parentFound=false;}}if(item.id===clickedItem.id){parentFound=true;}return item;});if(parentItem.text===undefined){newData.push({id:uuid(),text:_this.props.intl.formatMessage({id:\"IDS_LABEL\"}),expanded:true,editable:false,locationlastnode:false,containerfirstnode:false,containerlastnode:false});_this.setState({treeData:newData});}else{newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===parentItem.id){item.items.push({id:uuid(),text:_this.props.intl.formatMessage({id:\"IDS_LABEL\"}),expanded:true,editable:false,locationlastnode:false,containerfirstnode:false,containerlastnode:false});}return item;});_this.setState({treeData:newData});}};_this.deleteNode=function(clickedItem){if(clickedItem.root&&clickedItem.root===true){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PARENTNODENOTALLOWTODELETE\"}));}else{var newData=removeItems(_this.state.treeData,\"items\",function(item){return item.id===clickedItem.id;});_this.setState({treeData:newData});}};_this.editRecord=function(e,clickedItem){_this.setState({toggleAction:!_this.state.toggleAction});};_this.openModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true,selectedRecord:{},loadTreeProperties:false,treeData:[{text:\"root\",expanded:true,editable:true,root:true,id:uuid()}],operation:\"create\"}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         openModal: false, selectedRecord: {}\n//     }\n// }\n// this.props.updateStore(updateInfo);\nvar loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedId=_this.props.Login.selectedId;var selectedRecord=_this.state.selectedRecord;//this.props.Login.selectedRecord;\nif(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"Approve\"||_this.props.Login.operation===\"copy\"){loadEsign=false;openModal=false;selectedRecord={};selectedId=null;}else{loadEsign=false;}}else{openModal=false;selectedId=null;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:selectedId}};_this.props.updateStore(updateInfo);};_this.onInputChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.itemRender=function(props){if(_this.state.toggleAction){return/*#__PURE__*/React.createElement(React.Fragment,null,props.item.editable?/*#__PURE__*/React.createElement(Form.Group,{className:\"k-editable-text-wrap\"},/*#__PURE__*/React.createElement(Form.Control,{id:\"nodename\",name:\"nodename\",type:\"text\",onKeyDown:function onKeyDown(e){return e.stopPropagation();},value:props.item.text,autoFocus:true,autoComplete:\"off\",onChange:function onChange(e){return _this.handleChange(e,props.item);},onBlur:function onBlur(e){return _this.handleBlur(e,props.item);}})):/*#__PURE__*/React.createElement(\"span\",null,props.item.text));}else{return/*#__PURE__*/React.createElement(React.Fragment,null,props.item?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node\\n                            \".concat(props.item.editable?\"active-node\":\"\",\"\\n                            \").concat(props.item.expanded?\"expand-node\":\"collapse-node\",\"\\n                            \")},props.item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):props.item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):props.item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):props.item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),props.item.text),props.item.editable?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"action-icon tree-level1\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_EQUALNODE\"}),onClick:function onClick(e){e.stopPropagation();_this.equalNode(e,props.item);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"action-icon tree-level2\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_CHILDNODE\"}),onClick:function onClick(e){e.stopPropagation();_this.addChildNode(e,props.item);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"k-icon k-i-edit k-i-pencil\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(e){e.stopPropagation();_this.editRecord(e,props.item);}}),!props.item.isRoot?/*#__PURE__*/React.createElement(\"span\",{className:\"k-icon k-i-delete\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),onClick:function onClick(e){e.stopPropagation();_this.deleteNode(props.item);}}):null):null):\"\");}};_this.onItemClick=function(event){var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;}return item;});_this.setState({treeData:newData});};_this.onExpandChange=function(event){event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.itemRenderView=function(clickedItem){var item=clickedItem.item;if(!_this.state.toggleActionView){return/*#__PURE__*/React.createElement(React.Fragment,null,clickedItem.item?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node\\n                        \".concat(item.selected?\"active-node\":\"\",\"\\n                        \").concat(item.expanded?\"expand-node\":\"collapse-node\",\"\\n                        \")},item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),item.text),clickedItem.item.editable?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"action-icon tree-toggle m-l-half\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_PROPERTIES\"}),onClick:function onClick(e){return _this.setProperties(e,clickedItem);}})):null):\"\");}};_this.onItemClickView=function(event){// if (this.state.selectedItem) {\n//     let selectedobj = this.state.selectedItem;\n//         selectedobj.selected = false\n//     this.setState({\n//         selectedItem : selectedobj\n//     })\n// }\n// this.setState({\n//     selectedItem : event.item\n// })            \nvar newData=mapTree(_this.state.treeDataView,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;}return item;});newData.map(function(data){_this.clearSelected(data,event.item);});_this.setState({treeDataView:newData});};_this.onExpandChangeView=function(event){event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.setProperties=function(event,clickedItem){var editId=_this.state.controlMap.has(\"Edit SampleStorageLocation\")&&_this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;_this.props.openPropertyModal(clickedItem,editId);};_this.handleChange=function(e,clickedItem){var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===clickedItem.id){item.text=e.target.value;}return item;});_this.setState({treeData:newData});};_this.handleBlur=function(e,item){item.editable=false;_this.setState({toggleAction:!_this.state.toggleAction});};_this.onSaveClick=function(saveType,formRef){if(_this.props.Login.loadTreeProperties===true){_this.onSaveProperties(saveType,formRef);}else{_this.onSaveSampleStorageLocation(saveType,formRef);}};_this.onSaveProperties=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;if(_this.props.Login.clickedItem&&_this.props.Login.clickedItem!==undefined){var inputData=[];var jsondata={};var postParam=undefined;var count=0;if(selectedRecord[\"locationlastnode\"]!==undefined&&selectedRecord[\"locationlastnode\"]===true){count=count+1;}if(selectedRecord[\"containerfirstnode\"]!==undefined&&selectedRecord[\"containerfirstnode\"]===true){count=count+1;}if(selectedRecord[\"containerlastnode\"]!==undefined&&selectedRecord[\"containerlastnode\"]===true){count=count+1;}if(count>1){toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTONLYONE\"}));}else{var newData=mapTree(_this.state.treeDataView,\"items\",function(item){if(item.id===_this.props.Login.clickedItem.item.id){item.locationlastnode=selectedRecord[\"locationlastnode\"]!==undefined?selectedRecord[\"locationlastnode\"]:false;item.containerfirstnode=selectedRecord[\"containerfirstnode\"]!==undefined?selectedRecord[\"containerfirstnode\"]:false;item.containerlastnode=selectedRecord[\"containerlastnode\"]!==undefined?selectedRecord[\"containerlastnode\"]:false;}if(item.selected&&item.selected===true){item.selected=false;}return item;});postParam={inputListName:\"sampleStorageLocation\",selectedObject:\"selectedSampleStorageLocation\",primaryKeyField:\"nsamplestoragelocationcode\"};jsondata[\"data\"]=newData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"nstoragecategorycode\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"sampleStorageVersion\"][\"jsondata\"]=jsondata;var inputParam={classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"update\",saveType:saveType,formRef:formRef,postParam:postParam};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}}}};_this.onSaveSampleStorageLocation=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;// if (selectedRecord[\"nstoragecategorycode\"] && selectedRecord[\"nstoragecategorycode\"] !== undefined) {\n//     if (selectedRecord[\"ssamplestoragelocationname\"] && selectedRecord[\"ssamplestoragelocationname\"].length > 0) {\nvar inputData=[];var jsondata={};var postParam=undefined;var countLevels=0;var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.editable===true){item.editable=false;}if(item.expanded===false){item.expanded=true;}countLevels++;return item;});// let lhs = JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data;\n// let rhs = newData;\n// console.log(detailedDiff(lhs, rhs));\n// return;\n// postParam = { inputListName: \"SampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\nif(countLevels>3){jsondata[\"data\"]=newData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"]=selectedRecord[\"ssamplestoragelocationname\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=selectedRecord[\"nstoragecategorycode\"].value;inputData[\"sampleStorageVersion\"][\"jsondata\"]=jsondata;if(_this.props.Login.operation===\"create\"){var inputParam={classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"create\",saveType:saveType,formRef:formRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");// }\n// this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n}}else{inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];var _inputParam={classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"update\",saveType:saveType,formRef:formRef};var _masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var _updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:_inputParam,masterData:_masterData},saveType:saveType}};_this.props.updateStore(_updateInfo);}else{_this.props.crudMaster(_inputParam,_this.props.Login.masterData,\"openModal\");// this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n}}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_CREATEATLEASTFOURLEVELS\"}));}};_this.deleteSampleStorageLocation=function(ncontrolCode){var inputData=[];inputData[\"sampleStorageVersion\"]={};inputData[\"sampleStorageLocation\"]={};inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];var inputParam={methodUrl:\"SampleStorageLocation\",classUrl:\"samplestoragelocation\",inputData:inputData,operation:\"delete\",searchRef:_this.searchRef};var masterData=_this.props.Login.masterData;// this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\nif(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},operation:\"delete\",openModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.confirmDelete=function(ncontrolCode){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteSampleStorageLocation(ncontrolCode);});};_this.paneSizeChange=function(d){_this.setState({splitChangeWidthPercentage:d});};_this.handlePageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.handleDetailPageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};if(caseNo===3){var nfilterStorageCategory=_this.state.nfilterStorageCategory||{};nfilterStorageCategory=comboData;_this.searchRef.current.value=\"\";_this.setState({nfilterStorageCategory:nfilterStorageCategory});}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){if(_this.state.nfilterStorageCategory.value){var inputParam={inputData:{nstoragecategorycode:_this.state.nfilterStorageCategory.value,userinfo:_this.props.Login.userInfo,nfilterStorageCategory:_this.state.nfilterStorageCategory}};_this.props.changeStorageCategoryFilter(inputParam,_this.props.Login.masterData.filterStorageCategory);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_STORAGECATEGORYNOTAVAILABLE\"}));}};_this.onApproveSampleStorageLocation=function(ncontrolCode){var inputData=[];var locationEnd=false;var storageStart=false;var storageEnd=false;mapTree(_this.state.treeDataView,\"items\",function(item){if(item.locationlastnode===true){locationEnd=true;}if(item.containerfirstnode===true){storageStart=true;}if(item.containerlastnode===true){storageEnd=true;}return null;});if(locationEnd===false){toast.warning(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTLOCATIONEND\"}));return;}if(storageStart===false){toast.warning(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTSTORAGESTART\"}));return;}if(storageEnd===false){toast.warning(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTSTORAGEEND\"}));return;}var masterData=_this.props.Login.masterData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];var inputParam={inputData:inputData,classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:\"IDS_SAMPLESTORAGELOCATION\",userInfo:_this.props.Login.userInfo,operation:\"Approve\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,operation:\"Approve\",screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{// this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\n_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.copySampleStorageversion=function(ncontrolCode){var inputData=[];var masterData=_this.props.Login.masterData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];var inputParam={inputData:inputData,classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageVersion\",displayName:\"IDS_SAMPLESTORAGELOCATION\",userInfo:_this.props.Login.userInfo,operation:\"copy\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,operation:\"copy\",screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{// this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\n_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.reloadData=function(){_this.searchRef.current.value=\"\";var nfilterStorageCategory=_this.state.nfilterStorageCategory&&Object.keys(_this.state.nfilterStorageCategory).length!==0?_this.state.nfilterStorageCategory.value:0;var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,\"nstoragecategorycode\":nfilterStorageCategory},classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:\"IDS_SAMPLESTORAGELOCATION\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.onEditSampleStorageLocation=function(selectedSampleStorageVersion,userInfo,editId){var isOnlyDraft=false;if(_this.props.Login.masterData.sampleStorageVersion&&_this.props.Login.masterData.sampleStorageVersion.length>1){isOnlyDraft=true;}_this.props.editSampleStorageLocation(selectedSampleStorageVersion,userInfo,isOnlyDraft,editId);};_this.openStorageLocation=function(addId){if(_this.state.nfilterStorageCategory&&Object.keys(_this.state.nfilterStorageCategory).length!==0){_this.props.fetchStorageCategory({userInfo:_this.props.Login.userInfo,id:uuid(),nfilterStorageCategory:_this.state.nfilterStorageCategory,addId:addId});}else{toast.warning(_this.props.intl.formatMessage({id:\"IDS_SELECTSTORAGECATEGORY\"}));}};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}}else if(event.target.type==='select-one'){selectedRecord[event.target.name]=event.target.value;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.state={toggleAction:false,treeDataView:undefined,toggleActionView:false,treeData:[{text:\"root\",expanded:true,editable:true,root:true,id:uuid()}],panes:[{size:'50%',scrollable:false}],selectedRecord:{},userRoleControlRights:[],controlMap:new Map(),skip:0,detailSkip:0,detailTake:10,take:_this.props.Login.settings?_this.props.Login.settings[3]:25,splitChangeWidthPercentage:22,selectedItem:undefined};_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(SampleStorageLocation,[{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this2=this;var isComponentUpdated=false;var filterData=this.state.filterData;var selectedRecord=this.state.selectedRecord||{};if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights});}if(this.props.Login.treeData!==previousProps.Login.treeData){this.setState({treeData:this.props.Login.treeData});}if(this.props.Login.masterData.selectedSampleStorageVersion!==previousProps.Login.masterData.selectedSampleStorageVersion){if(this.props.Login.masterData.selectedSampleStorageVersion&&this.props.Login.masterData.selectedSampleStorageVersion!==undefined){this.setState({treeDataView:JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data});}}var nfilterStorageCategory=this.state.nStorageCategory||{};var filterStorageCategory=this.state.filterStorageCategory||{};if(this.props.Login.masterData.filterStorageCategory!==previousProps.Login.masterData.filterStorageCategory){var filterStorageCategoryMap=constructOptionList(this.props.Login.masterData.filterStorageCategory||[],\"nstoragecategorycode\",\"sstoragecategoryname\",'nstoragecategorycode','ascending',false);filterStorageCategory=filterStorageCategoryMap.get(\"OptionList\");if(filterStorageCategory&&filterStorageCategory.length>0){var filterCategory=filterStorageCategory.filter(function(item){return item.value===_this2.props.Login.masterData.nfilterStorageCategory;});//filterStorageCategory[0];\nnfilterStorageCategory=filterCategory[0];}isComponentUpdated=true;}else if(this.props.Login.masterData.nfilterStorageCategory!==previousProps.Login.masterData.nfilterStorageCategory){nfilterStorageCategory=this.props.Login.masterData.nfilterStorageCategory;isComponentUpdated=true;}if(isComponentUpdated){this.setState({nfilterStorageCategory:nfilterStorageCategory,selectedRecord:selectedRecord,filterStorageCategory:filterStorageCategory});}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.masterData!==previousProps.Login.masterData){var _filterData=this.generateBreadCrumData();this.setState({filterData:_filterData});}}},{key:\"clearSelected\",value:function clearSelected(innerObj,selectedItem){var _this3=this;if(innerObj.id==selectedItem.id){innerObj.selected=true;}else{innerObj.selected=false;}if(innerObj.items&&innerObj.items.length>0){innerObj.items.map(function(childObj){_this3.clearSelected(childObj,selectedItem);});}return innerObj;}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({firstPane:height-80,parentHeight:height-50});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.filterStorageCategory){breadCrumbData.push({\"label\":\"IDS_STORAGECATEGORY\",\"value\":this.props.Login.masterData.selectedStorageCategoryName&&this.props.Login.masterData.selectedStorageCategoryName!==null?this.props.Login.masterData.selectedStorageCategoryName:\"NA\"// \"value\": this.props.Login.masterData.selectedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\n//     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\n});}return breadCrumbData;}},{key:\"render\",value:function render(){var _this4=this;var addId=this.state.controlMap.has(\"Add SampleStorageLocation\")&&this.state.controlMap.get(\"Add SampleStorageLocation\").ncontrolcode;var editId=this.state.controlMap.has(\"Edit SampleStorageLocation\")&&this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;var deleteId=this.state.controlMap.has(\"Delete SampleStorageLocation\")&&this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;var copyId=this.state.controlMap.has(\"Copy SampleStorageLocation\")&&this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;var approveId=this.state.controlMap.has(\"Approve SampleStorageLocation\")&&this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;var filterParam={inputListName:\"sampleStorageLocation\",selectedObject:\"selectedSampleStorageLocation\",primaryKeyField:\"nsamplestoragelocationcode\",fetchUrl:\"samplestoragelocation/getSelectedSampleStorageLocation\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"ssamplestoragelocationname\"]};var mandatoryFields=[{\"idsName\":\"IDS_STORAGECATEGORY\",\"dataField\":\"nstoragecategorycode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_SAMPLESTORAGELOCATIONNAME\",\"dataField\":\"ssamplestoragelocationname\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];var breadCrumbData=this.state.filterData||[];var confirmMessage=new ConfirmMessage();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-4 screen-height-window\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData}):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12,className:\"parent-port-height\"},/*#__PURE__*/React.createElement(SplitterLayout,{borderColor:\"#999\",percentage:true,primaryIndex:1,onSecondaryPaneSizeChange:this.paneSizeChange,secondaryInitialSize:25,primaryMinSize:40,secondaryMinSize:20},/*#__PURE__*/React.createElement(TransactionListMaster,{paneHeight:this.state.parentHeight,needMultiSelect:false,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.sampleStorageLocation||[],selectedMaster:[this.props.Login.masterData.selectedSampleStorageLocation],primaryKeyField:\"nsamplestoragelocationcode\",getMasterDetail:function getMasterDetail(selectedItem){return _this4.props.getSelectedSampleStorageLocation(selectedItem,_this4.props.Login.userInfo,_this4.props.Login.masterData);},inputParam:{userInfo:this.props.Login.userInfo,masterData:this.props.Login.masterData},mainField:\"ssamplestoragelocationname\",selectedListName:\"selectedSampleStorageLocation\",objectName:\"LocationMaster\",listName:\"IDS_SAMPLESTORAGELOCATION\",filterColumnData:this.props.filterColumnData,searchListName:\"searchedData\",searchRef:this.searchRef,filterParam:filterParam,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,needFilter:true,hidePaging:false,handlePageChange:this.handlePageChange,skip:this.state.skip,take:this.state.take,commonActions:/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex product-category float-right\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})// data-for=\"tooltip-common-wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(addId)===-1,onClick:function onClick(){return _this4.openStorageLocation(addId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus,title:this.props.intl.formatMessage({id:\"IDS_ADD\"})})),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey ml-2\",variant:\"link\",onClick:function onClick(){return _this4.reloadData();}// data-for=\"tooltip-common-wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"})},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSync,style:{\"width\":\"0.6!important\"}}))),filterComponent:[{\"IDS_TESTFILTER\":/*#__PURE__*/React.createElement(StorageCategoryFilter,{filterStorageCategory:this.state.filterStorageCategory||[],nfilterStorageCategory:this.state.nfilterStorageCategory||{},onComboChange:this.onComboChange})}]}),/*#__PURE__*/React.createElement(SplitterLayout,{vertical:true,borderColor:\"#999\",percentage:true,primaryIndex:1//secondaryInitialSize={400}\n,customClassName:\"fixed_list_height\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card_group\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:3,style:{paddingRight:'0'}},/*#__PURE__*/React.createElement(TransactionListMaster,{masterList:this.props.Login.masterData.sampleStorageVersion||[],needMultiSelect:false,selectedMaster:[this.props.Login.masterData.selectedSampleStorageVersion],primaryKeyField:\"nsamplestorageversioncode\",getMasterDetail:function getMasterDetail(selectedItem){return _this4.props.getSelectedSampleStorageVersion(selectedItem,_this4.props.Login.userInfo,_this4.props.Login.masterData);},inputParam:{userInfo:this.props.Login.userInfo,masterData:this.props.Login.masterData},mainField:\"nversionno\",mainFieldLabel:this.props.intl.formatMessage({id:\"IDS_VERSION\"}),selectedListName:\"selectedSampleStorageVersion\",objectName:\"Version\",listName:\"IDS_SAMPLESTORAGEVersion\",hideSearch:true,needValidation:false,needFilter:false,moreField:[],skip:this.state.detailSkip,take:this.state.detailTake,hidePaging:true,handlePageChange:this.handleDetailPageChange,splitModeClass:this.state.splitChangeWidthPercentage&&this.state.splitChangeWidthPercentage>50?'split-mode':this.state.splitChangeWidthPercentage>40?'split-md':''// actionIcons={\n//     [\n//         {\n//             title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\n//             controlname: \"faPencilAlt\",\n//             objectName: \"detailtoedit\",\n//             hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n//             onClick: (e) => this.props.editSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, this.props.Login.masterData),\n//         },\n//         {\n//             title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\n//             controlname: \"faTrashAlt\",\n//             objectName: \"mastertodelete\",\n//             hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n//             onClick: () => this.confirmDelete(deleteId)\n//         }\n//     ]\n// }\n})),/*#__PURE__*/React.createElement(Col,{md:9},/*#__PURE__*/React.createElement(ProductList,{className:\"panel-main-content grid-master tree-view-container\"},this.props.Login.masterData.sampleStorageLocation&&this.props.Login.masterData.sampleStorageLocation.length>0&&this.props.Login.masterData.selectedSampleStorageLocation?/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.selectedSampleStorageLocation.ssamplestoragelocationname),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"action-icons-wrap mr-2\"},this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined  outline-secondary btn-sm ml-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DRAFT\",defaultMessage:\"Draft\"})):this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.RETIRED?/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined outline-danger btn-sm ml-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_RETIRED\",defaultMessage:\"Retired\"})):/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined outline-success btn-sm ml-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_APPROVED\",defaultMessage:\"Approved\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle 1 outline-grey mr-2 \",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(e){return _this4.onEditSampleStorageLocation(_this4.props.Login.masterData.selectedSampleStorageVersion,_this4.props.Login.userInfo,editId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})):/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 \",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(copyId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_COPY\"}),onClick:function onClick(e){return _this4.copySampleStorageversion(copyId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCopy})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"QB\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),onClick:function onClick(){return _this4.confirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(Nav.Link,{name:\"QB\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"}),onClick:function onClick(){return _this4.onApproveSampleStorageLocation(approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})):\"\")))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(TreeViewEditable,{id:\"samplestoragelocation\",name:\"samplestoragelocation\"// label=\"Sample Storage Location\"\n,data:this.state.treeDataView,expandIcons:true,selectField:'active-node',item:this.itemRenderView,onExpandChange:this.onExpandChangeView,onItemClick:this.onItemClickView}))):\"\"))))))))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.intl.formatMessage({id:\"IDS_SAMPLESTORAGELOCATION\"}),onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.loadTreeProperties===true?[]:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.loadTreeProperties?/*#__PURE__*/React.createElement(AddTreeProperties,{onInputChange:function onInputChange(e){return _this4.onInputChange(e);},selectedRecord:this.state.selectedRecord||{}}):this.state.treeData?/*#__PURE__*/React.createElement(AddTreeview,{treeData:this.state.treeData,onInputChange:function onInputChange(e){return _this4.onInputChange(e);},selectedRecord:this.state.selectedRecord||{},itemRender:this.itemRender,onExpandChange:this.onExpandChange,onItemClick:this.onItemClick,onComboChange:this.onComboChange,storageCategoryList:this.props.Login.storageCategoryList||[],isOnlyDraft:this.props.Login.isOnlyDraft}):/*#__PURE__*/React.createElement(React.Fragment,null)}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==\"\"&&props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return SampleStorageLocation;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,validateEsignCredential:validateEsignCredential,filterColumnData:filterColumnData,changeStorageCategoryFilter:changeStorageCategoryFilter,getSelectedSampleStorageLocation:getSelectedSampleStorageLocation,openPropertyModal:openPropertyModal,editSampleStorageLocation:editSampleStorageLocation,approveSampleStorageLocation:approveSampleStorageLocation,getSelectedSampleStorageVersion:getSelectedSampleStorageVersion,fetchStorageCategory:fetchStorageCategory,copySampleStorageVersion:copySampleStorageVersion,crudSampleStorageLocation:crudSampleStorageLocation})(injectIntl(SampleStorageLocation));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/basemaster/SampleStorageLocation.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Form","Button","FontAwesomeIcon","PerfectScrollbar","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faBoxOpen","faBox","faLocationArrow","faFolderMinus","faFolder","faFolderOpen","faArrowRight","toast","ListMaster","constructOptionList","getControlMap","showEsign","ReadOnlyText","ContentPanel","SlideOutModal","callService","crudMaster","validateEsignCredential","updateStore","getSelectedSampleStorageLocation","filterColumnData","changeStorageCategoryFilter","openPropertyModal","editSampleStorageLocation","approveSampleStorageLocation","getSelectedSampleStorageVersion","fetchStorageCategory","copySampleStorageVersion","crudSampleStorageLocation","DEFAULT_RETURN","ListWrapper","ProductList","uuid","TreeEditable","TreeViewEditable","mapTree","removeItems","ConfirmMessage","AddTreeview","AddTreeProperties","Splitter","TransactionListMaster","BreadcrumbComponent","SplitterLayout","StorageCategoryFilter","transactionStatus","Esign","SampleStorageLocation","props","onChange","event","setState","panes","newState","addChildNode","e","clickedItem","newData","state","treeData","item","id","items","push","text","intl","formatMessage","expanded","editable","locationlastnode","containerfirstnode","containerlastnode","equalNode","parentItem","parentFound","undefined","deleteNode","root","warn","editRecord","toggleAction","openModal","updateInfo","typeName","data","selectedRecord","loadTreeProperties","operation","closeModal","loadEsign","Login","selectedId","onInputChange","target","type","name","checked","value","itemRender","stopPropagation","handleChange","handleBlur","isRoot","onItemClick","onExpandChange","forceUpdate","itemRenderView","toggleActionView","selected","setProperties","onItemClickView","treeDataView","map","clearSelected","onExpandChangeView","editId","controlMap","has","get","ncontrolcode","onSaveClick","saveType","formRef","onSaveProperties","onSaveSampleStorageLocation","inputData","jsondata","postParam","count","info","inputListName","selectedObject","primaryKeyField","userInfo","masterData","selectedSampleStorageLocation","selectedSampleStorageVersion","inputParam","classUrl","methodUrl","displayName","userRoleControlRights","nformcode","screenData","countLevels","deleteSampleStorageLocation","ncontrolCode","searchRef","screenName","confirmDelete","confirmMessage","confirm","paneSizeChange","d","splitChangeWidthPercentage","handlePageChange","skip","take","handleDetailPageChange","onComboChange","comboData","fieldName","caseNo","nfilterStorageCategory","current","openFilter","showFilter","closeFilter","onFilterSubmit","nstoragecategorycode","userinfo","filterStorageCategory","onApproveSampleStorageLocation","locationEnd","storageStart","storageEnd","warning","copySampleStorageversion","reloadData","Object","keys","length","onEditSampleStorageLocation","isOnlyDraft","sampleStorageVersion","openStorageLocation","addId","onInputOnChange","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","size","scrollable","Map","detailSkip","detailTake","settings","selectedItem","createRef","previousProps","isComponentUpdated","filterData","values","JSON","parse","nStorageCategory","filterStorageCategoryMap","filterCategory","filter","generateBreadCrumData","innerObj","childObj","parentHeight","height","clientHeight","firstPane","breadCrumbData","selectedStorageCategoryName","deleteId","copyId","approveId","filterParam","fetchUrl","fecthInputObject","searchFieldList","mandatoryFields","searchedData","sampleStorageLocation","indexOf","paddingRight","ssamplestoragelocationname","napprovalstatus","DRAFT","RETIRED","masterStatus","storageCategoryList","error","mapStateToProps"],"mappings":"m8BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,CAAqBC,gBAArB,KAA6C,YAA7C,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,CAAyBC,GAAzB,CAA8BC,SAA9B,CAAyCC,SAAzC,CAAoDC,IAApD,CAA0DC,MAA1D,KAAwE,iBAAxE,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,yBAA7B,CACA,OAASC,UAAT,CAAqBC,MAArB,CAA6BC,WAA7B,CAA0CC,MAA1C,CAAkDC,MAAlD,CAA0DC,UAA1D,CAAsEC,SAAtE,CAAiFC,KAAjF,CAAwFC,eAAxF,CAAyGC,aAAzG,CAAwHC,QAAxH,CAAkIC,YAAlI,CAAgJC,YAAhJ,KAAoK,mCAApK,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,oDAAvB,CACA,OAASC,mBAAT,CAA8BC,aAA9B,CAA6CC,SAA7C,KAA8D,+BAA9D,CACA,OAASC,YAAT,CAAuBC,YAAvB,KAA2C,6BAA3C,CACA,MAAOC,CAAAA,aAAP,KAA0B,gDAA1B,CACA,OACIC,WADJ,CACiBC,UADjB,CAC6BC,uBAD7B,CACsDC,WADtD,CACmEC,gCADnE,CACqGC,gBADrG,CACuHC,2BADvH,CAEIC,iBAFJ,CAEuBC,yBAFvB,CAEkDC,4BAFlD,CAEgFC,+BAFhF,CAEiHC,oBAFjH,CAEuIC,wBAFvI,CAGIC,yBAHJ,KAIO,eAJP,CAKA,OAASC,cAAT,KAA+B,0BAA/B,CACA,OAASC,WAAT,KAA4B,sCAA5B,CACA,OAASC,WAAT,KAA4B,2BAA5B,CACA;AACA,OAASC,IAAT,KAAqB,QAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,kDAAzB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,kEAA7B,CACA,OAASC,OAAT,CAAkBC,WAAlB,KAAqC,gCAArC,CACA,MAAOC,CAAAA,cAAP,KAA2B,0DAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,OAASC,QAAT,KAAyB,8BAAzB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,wCAAlC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uCAAhC,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CACA,MAAOC,CAAAA,qBAAP,KAAkC,yBAAlC,CACA,OAASC,iBAAT,KAAkC,8BAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,C,GAGMC,CAAAA,qB,8HAEF,+BAAYC,MAAZ,CAAmB,uDACf,uBAAMA,MAAN,EADe,MA8CnBC,QA9CmB,CA8CR,SAACC,KAAD,CAAW,CAElB,MAAKC,QAAL,CAAc,CAAEC,KAAK,CAAEF,KAAK,CAACG,QAAf,CAAd,EAEH,CAlDkB,OA8GnBC,YA9GmB,CA8GJ,SAACC,CAAD,CAAIC,WAAJ,CAAoB,CAC/B,GAAIC,CAAAA,OAAO,CAAGtB,OAAO,CAAC,MAAKuB,KAAL,CAAWC,QAAZ,CAAsB,OAAtB,CAA+B,SAACC,IAAD,CAAU,CAC1D,GAAIA,IAAI,CAACC,EAAL,GAAYL,WAAW,CAACK,EAA5B,CAAgC,CAC5BD,IAAI,CAACE,KAAL,CAAaF,IAAI,CAACE,KAAL,EAAc,EAA3B,CACAF,IAAI,CAACE,KAAL,CAAWC,IAAX,CAAgB,CACZF,EAAE,CAAE7B,IAAI,EADI,CAEZgC,IAAI,CAAE,MAAKhB,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,WAAN,CAA9B,CAFM,CAGZM,QAAQ,CAAE,IAHE,CAIZC,QAAQ,CAAE,KAJE,CAKZC,gBAAgB,CAAE,KALN,CAMZC,kBAAkB,CAAE,KANR,CAOZC,iBAAiB,CAAE,KAPP,CAAhB,EASH,CACD,MAAOX,CAAAA,IAAP,CACH,CAdoB,CAArB,CAeA,MAAKT,QAAL,CAAc,CAAEQ,QAAQ,CAAEF,OAAZ,CAAd,EACH,CA/HkB,OAiInBe,SAjImB,CAiIP,SAACjB,CAAD,CAAIC,WAAJ,CAAoB,CAC5B,GAAIiB,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIC,CAAAA,WAAW,CAAG,KAAlB,CACA,GAAIjB,CAAAA,OAAO,oBAAO,MAAKC,KAAL,CAAWC,QAAlB,CAAX,CACAxB,OAAO,CAAC,MAAKuB,KAAL,CAAWC,QAAZ,CAAsB,OAAtB,CAA+B,SAACC,IAAD,CAAU,CAC5C,GAAIA,IAAI,CAACE,KAAT,CAAgB,CACZ,GAAIY,WAAJ,CAAiB,CACbD,UAAU,CAAGb,IAAb,CACAc,WAAW,CAAG,KAAd,CACH,CACJ,CAED,GAAId,IAAI,CAACC,EAAL,GAAYL,WAAW,CAACK,EAA5B,CAAgC,CAC5Ba,WAAW,CAAG,IAAd,CACH,CAED,MAAOd,CAAAA,IAAP,CACH,CAbM,CAAP,CAcA,GAAIa,UAAU,CAACT,IAAX,GAAoBW,SAAxB,CAAmC,CAC/BlB,OAAO,CAACM,IAAR,CAAa,CACTF,EAAE,CAAE7B,IAAI,EADC,CAETgC,IAAI,CAAE,MAAKhB,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,WAAN,CAA9B,CAFG,CAGTM,QAAQ,CAAE,IAHD,CAITC,QAAQ,CAAE,KAJD,CAKTC,gBAAgB,CAAE,KALT,CAMTC,kBAAkB,CAAE,KANX,CAOTC,iBAAiB,CAAE,KAPV,CAAb,EASA,MAAKpB,QAAL,CAAc,CAAEQ,QAAQ,CAAEF,OAAZ,CAAd,EACH,CAXD,IAWO,CACHA,OAAO,CAAGtB,OAAO,CAAC,MAAKuB,KAAL,CAAWC,QAAZ,CAAsB,OAAtB,CAA+B,SAACC,IAAD,CAAU,CACtD,GAAIA,IAAI,CAACC,EAAL,GAAYY,UAAU,CAACZ,EAA3B,CAA+B,CAC3BD,IAAI,CAACE,KAAL,CAAWC,IAAX,CAAgB,CACZF,EAAE,CAAE7B,IAAI,EADI,CAEZgC,IAAI,CAAE,MAAKhB,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,WAAN,CAA9B,CAFM,CAGZM,QAAQ,CAAE,IAHE,CAIZC,QAAQ,CAAE,KAJE,CAKZC,gBAAgB,CAAE,KALN,CAMZC,kBAAkB,CAAE,KANR,CAOZC,iBAAiB,CAAE,KAPP,CAAhB,EASH,CACD,MAAOX,CAAAA,IAAP,CACH,CAbgB,CAAjB,CAcA,MAAKT,QAAL,CAAc,CAAEQ,QAAQ,CAAEF,OAAZ,CAAd,EACH,CACJ,CA/KkB,OAgLnBmB,UAhLmB,CAgLN,SAACpB,WAAD,CAAiB,CAC1B,GAAIA,WAAW,CAACqB,IAAZ,EAAoBrB,WAAW,CAACqB,IAAZ,GAAqB,IAA7C,CAAmD,CAC/CtE,KAAK,CAACuE,IAAN,CAAW,MAAK9B,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,gCAAN,CAA9B,CAAX,EACH,CAFD,IAEO,CACH,GAAMJ,CAAAA,OAAO,CAAGrB,WAAW,CAAC,MAAKsB,KAAL,CAAWC,QAAZ,CAAsB,OAAtB,CAA+B,SAACC,IAAD,CAAU,CAChE,MAAOA,CAAAA,IAAI,CAACC,EAAL,GAAYL,WAAW,CAACK,EAA/B,CACH,CAF0B,CAA3B,CAGA,MAAKV,QAAL,CAAc,CAAEQ,QAAQ,CAAEF,OAAZ,CAAd,EACH,CACJ,CAzLkB,OA0LnBsB,UA1LmB,CA0LN,SAACxB,CAAD,CAAIC,WAAJ,CAAoB,CAC7B,MAAKL,QAAL,CAAc,CAAE6B,YAAY,CAAE,CAAC,MAAKtB,KAAL,CAAWsB,YAA5B,CAAd,EACH,CA5LkB,OA6LnBC,SA7LmB,CA6LP,UAAM,CACd,GAAMC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEtD,cADK,CAEfuD,IAAI,CAAE,CACFH,SAAS,CAAE,IADT,CACeI,cAAc,CAAE,EAD/B,CACmCC,kBAAkB,CAAE,KADvD,CAEF3B,QAAQ,CAAE,CACN,CACIK,IAAI,CAAE,MADV,CAEIG,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,IAHd,CAIIS,IAAI,CAAE,IAJV,CAKIhB,EAAE,CAAE7B,IAAI,EALZ,CADM,CAFR,CAUCuD,SAAS,CAAE,QAVZ,CAFS,CAAnB,CAeA,MAAKvC,KAAL,CAAW9B,WAAX,CAAuBgE,UAAvB,EACH,CA9MkB,OA+MnBM,UA/MmB,CA+MN,UAAM,CACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAIC,CAAAA,SAAS,CAAG,MAAKzC,KAAL,CAAW0C,KAAX,CAAiBD,SAAjC,CACA,GAAIR,CAAAA,SAAS,CAAG,MAAKjC,KAAL,CAAW0C,KAAX,CAAiBT,SAAjC,CACA,GAAIU,CAAAA,UAAU,CAAG,MAAK3C,KAAL,CAAW0C,KAAX,CAAiBC,UAAlC,CACA,GAAIN,CAAAA,cAAc,CAAG,MAAK3B,KAAL,CAAW2B,cAAhC,CAAgD;AAChD,GAAI,MAAKrC,KAAL,CAAW0C,KAAX,CAAiBD,SAArB,CAAgC,CAC5B,GAAI,MAAKzC,KAAL,CAAW0C,KAAX,CAAiBH,SAAjB,GAA+B,QAA/B,EAA2C,MAAKvC,KAAL,CAAW0C,KAAX,CAAiBH,SAAjB,GAA+B,SAA1E,EAAuF,MAAKvC,KAAL,CAAW0C,KAAX,CAAiBH,SAAjB,GAA+B,MAA1H,CAAkI,CAC9HE,SAAS,CAAG,KAAZ,CACAR,SAAS,CAAG,KAAZ,CACAI,cAAc,CAAG,EAAjB,CACAM,UAAU,CAAG,IAAb,CACH,CALD,IAMK,CACDF,SAAS,CAAG,KAAZ,CAEH,CACJ,CAXD,IAYK,CACDR,SAAS,CAAG,KAAZ,CACAU,UAAU,CAAG,IAAb,CACAN,cAAc,CAAG,EAAjB,CACH,CAED,GAAMH,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEtD,cADK,CAEfuD,IAAI,CAAE,CAAEH,SAAS,CAATA,SAAF,CAAaQ,SAAS,CAATA,SAAb,CAAwBJ,cAAc,CAAdA,cAAxB,CAAwCM,UAAU,CAAVA,UAAxC,CAFS,CAAnB,CAIA,MAAK3C,KAAL,CAAW9B,WAAX,CAAuBgE,UAAvB,EACH,CAlPkB,OAmPnBU,aAnPmB,CAmPH,SAAC1C,KAAD,CAAW,CACvB,GAAMmC,CAAAA,cAAc,CAAG,MAAK3B,KAAL,CAAW2B,cAAX,EAA6B,EAApD,CACA,GAAInC,KAAK,CAAC2C,MAAN,CAAaC,IAAb,GAAsB,UAA1B,CAAsC,CAClCT,cAAc,CAACnC,KAAK,CAAC2C,MAAN,CAAaE,IAAd,CAAd,CAAoC7C,KAAK,CAAC2C,MAAN,CAAaG,OAAjD,CACH,CAFD,IAEO,CACHX,cAAc,CAACnC,KAAK,CAAC2C,MAAN,CAAaE,IAAd,CAAd,CAAoC7C,KAAK,CAAC2C,MAAN,CAAaI,KAAjD,CACH,CAED,MAAK9C,QAAL,CAAc,CAAEkC,cAAc,CAAdA,cAAF,CAAd,EACH,CA5PkB,OA8PnBa,UA9PmB,CA8PN,SAAClD,KAAD,CAAW,CACpB,GAAI,MAAKU,KAAL,CAAWsB,YAAf,CAA6B,CACzB,mBACI,wCACKhC,KAAK,CAACY,IAAN,CAAWQ,QAAX,cACG,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,sBAAtB,eACI,oBAAC,IAAD,CAAM,OAAN,EACI,EAAE,CAAE,UADR,CAEI,IAAI,CAAE,UAFV,CAGI,IAAI,CAAC,MAHT,CAII,SAAS,CAAE,mBAACb,CAAD,QAAOA,CAAAA,CAAC,CAAC4C,eAAF,EAAP,EAJf,CAKI,KAAK,CAAEnD,KAAK,CAACY,IAAN,CAAWI,IALtB,CAMI,SAAS,KANb,CAOI,YAAY,CAAC,KAPjB,CAQI,QAAQ,CAAE,kBAACT,CAAD,QAAO,OAAK6C,YAAL,CAAkB7C,CAAlB,CAAqBP,KAAK,CAACY,IAA3B,CAAP,EARd,CASI,MAAM,CAAE,gBAACL,CAAD,QAAO,OAAK8C,UAAL,CAAgB9C,CAAhB,CAAmBP,KAAK,CAACY,IAAzB,CAAP,EATZ,EADJ,CADH,cAeG,gCAAOZ,KAAK,CAACY,IAAN,CAAWI,IAAlB,CAhBR,CADJ,CAqBH,CAtBD,IAsBO,CACH,mBACI,wCACKhB,KAAK,CAACY,IAAN,cACG,qDACI,4BAAM,SAAS,oDACbZ,KAAK,CAACY,IAAN,CAAWQ,QAAX,CAAsB,aAAtB,CAAsC,EADzB,0CAEbpB,KAAK,CAACY,IAAN,CAAWO,QAAX,CAAsB,aAAtB,CAAsC,eAFzB,kCAAf,EAIKnB,KAAK,CAACY,IAAN,CAAWU,kBAAX,cAAgC,oBAAC,eAAD,EAAiB,IAAI,CAAEtE,SAAvB,EAAhC,CACGgD,KAAK,CAACY,IAAN,CAAWS,gBAAX,cAA8B,oBAAC,eAAD,EAAiB,IAAI,CAAEnE,eAAvB,EAA9B,CACI8C,KAAK,CAACY,IAAN,CAAWW,iBAAX,cAA+B,oBAAC,eAAD,EAAiB,IAAI,CAAEtE,KAAvB,EAA/B,CACI+C,KAAK,CAACY,IAAN,CAAWO,QAAX,cAAsB,oBAAC,eAAD,EAAiB,IAAI,CAAE9D,YAAvB,EAAtB,cAAgE,oBAAC,eAAD,EAAiB,IAAI,CAAED,QAAvB,EAPhF,CAQK4C,KAAK,CAACY,IAAN,CAAWI,IARhB,CADJ,CAWKhB,KAAK,CAACY,IAAN,CAAWQ,QAAX,cACG,qDACI,4BACI,SAAS,CAAC,yBADd,CAEI,WAAU,MAAKpB,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,eAAN,CAA9B,CAFd,CAGI,OAAO,CAAE,iBAACN,CAAD,CAAO,CACZA,CAAC,CAAC4C,eAAF,GACA,MAAK3B,SAAL,CAAejB,CAAf,CAAkBP,KAAK,CAACY,IAAxB,EACH,CANL,EADJ,cASI,4BACI,SAAS,CAAC,yBADd,CAEI,WAAU,MAAKZ,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,eAAN,CAA9B,CAFd,CAGI,OAAO,CAAE,iBAACN,CAAD,CAAO,CACZA,CAAC,CAAC4C,eAAF,GACA,MAAK7C,YAAL,CAAkBC,CAAlB,CAAqBP,KAAK,CAACY,IAA3B,EACH,CANL,EATJ,cAiBI,4BACI,SAAS,CAAC,4BADd,CAEI,WAAU,MAAKZ,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,UAAN,CAA9B,CAFd,CAGI,OAAO,CAAE,iBAACN,CAAD,CAAO,CACZA,CAAC,CAAC4C,eAAF,GACA,MAAKpB,UAAL,CAAgBxB,CAAhB,CAAmBP,KAAK,CAACY,IAAzB,EACH,CANL,EAjBJ,CAyBK,CAACZ,KAAK,CAACY,IAAN,CAAW0C,MAAZ,cACG,4BACI,SAAS,CAAC,mBADd,CAEI,WAAU,MAAKtD,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,YAAN,CAA9B,CAFd,CAGI,OAAO,CAAE,iBAACN,CAAD,CAAO,CACZA,CAAC,CAAC4C,eAAF,GACA,MAAKvB,UAAL,CAAgB5B,KAAK,CAACY,IAAtB,EACH,CANL,EADH,CASG,IAlCR,CADH,CAqCG,IAhDR,CADH,CAoDG,EArDR,CADJ,CA0DH,CACJ,CAjVkB,OAmVnB2C,WAnVmB,CAmVL,SAACrD,KAAD,CAAW,CACrB,GAAIO,CAAAA,OAAO,CAAGtB,OAAO,CAAC,MAAKuB,KAAL,CAAWC,QAAZ,CAAsB,OAAtB,CAA+B,SAACC,IAAD,CAAU,CAC1D,GAAIA,IAAI,CAACQ,QAAL,GAAkB,IAAtB,CAA4B,CACxBR,IAAI,CAACQ,QAAL,CAAgB,KAAhB,CACH,CAFD,IAEO,IAAIR,IAAI,CAACC,EAAL,GAAYX,KAAK,CAACU,IAAN,CAAWC,EAA3B,CAA+B,CAClCD,IAAI,CAACQ,QAAL,CAAgB,IAAhB,CACH,CACD,MAAOR,CAAAA,IAAP,CACH,CAPoB,CAArB,CAQA,MAAKT,QAAL,CAAc,CAAEQ,QAAQ,CAAEF,OAAZ,CAAd,EACH,CA7VkB,OA+VnB+C,cA/VmB,CA+VF,SAACtD,KAAD,CAAW,CACxBA,KAAK,CAACU,IAAN,CAAWO,QAAX,CAAsB,CAACjB,KAAK,CAACU,IAAN,CAAWO,QAAlC,CACA,MAAKsC,WAAL,GACH,CAlWkB,OAmWnBC,cAnWmB,CAmWF,SAAClD,WAAD,CAAiB,CAC9B,GAAII,CAAAA,IAAI,CAAGJ,WAAW,CAACI,IAAvB,CACA,GAAI,CAAC,MAAKF,KAAL,CAAWiD,gBAAhB,CAAkC,CAC9B,mBACI,wCACKnD,WAAW,CAACI,IAAZ,cACG,qDACI,4BAAM,SAAS,gDACjBA,IAAI,CAACgD,QAAL,CAAgB,aAAhB,CAAgC,EADf,sCAEjBhD,IAAI,CAACO,QAAL,CAAgB,aAAhB,CAAgC,eAFf,8BAAf,EAIKP,IAAI,CAACU,kBAAL,cAA0B,oBAAC,eAAD,EAAiB,IAAI,CAAEtE,SAAvB,EAA1B,CACG4D,IAAI,CAACS,gBAAL,cAAwB,oBAAC,eAAD,EAAiB,IAAI,CAAEnE,eAAvB,EAAxB,CACI0D,IAAI,CAACW,iBAAL,cAAyB,oBAAC,eAAD,EAAiB,IAAI,CAAEtE,KAAvB,EAAzB,CACI2D,IAAI,CAACO,QAAL,cAAgB,oBAAC,eAAD,EAAiB,IAAI,CAAE9D,YAAvB,EAAhB,cAA0D,oBAAC,eAAD,EAAiB,IAAI,CAAED,QAAvB,EAP1E,CAQKwD,IAAI,CAACI,IARV,CADJ,CAaKR,WAAW,CAACI,IAAZ,CAAiBQ,QAAjB,cACG,qDAEI,4BACI,SAAS,CAAC,kCADd,CAEI,WAAU,MAAKpB,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,gBAAN,CAA9B,CAFd,CAGI,OAAO,CAAE,iBAACN,CAAD,QAAO,OAAKsD,aAAL,CAAmBtD,CAAnB,CAAsBC,WAAtB,CAAP,EAHb,EAFJ,CADH,CAUG,IAvBR,CADH,CA4BG,EA7BR,CADJ,CAkCH,CACJ,CAzYkB,OA0YnBsD,eA1YmB,CA0YD,SAAC5D,KAAD,CAAW,CACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAIO,CAAAA,OAAO,CAAGtB,OAAO,CAAC,MAAKuB,KAAL,CAAWqD,YAAZ,CAA0B,OAA1B,CAAmC,SAACnD,IAAD,CAAU,CAC9D,GAAIA,IAAI,CAACQ,QAAL,GAAkB,IAAtB,CAA4B,CACxBR,IAAI,CAACQ,QAAL,CAAgB,KAAhB,CACH,CAFD,IAEO,IAAIR,IAAI,CAACC,EAAL,GAAYX,KAAK,CAACU,IAAN,CAAWC,EAA3B,CAA+B,CAClCD,IAAI,CAACQ,QAAL,CAAgB,IAAhB,CACH,CACD,MAAOR,CAAAA,IAAP,CACH,CAPoB,CAArB,CAQAH,OAAO,CAACuD,GAAR,CAAY,SAAC5B,IAAD,CAAU,CAClB,MAAK6B,aAAL,CAAmB7B,IAAnB,CAAyBlC,KAAK,CAACU,IAA/B,EACH,CAFD,EAGA,MAAKT,QAAL,CAAc,CAAE4D,YAAY,CAAEtD,OAAhB,CAAd,EACH,CAlakB,OAgbnByD,kBAhbmB,CAgbE,SAAChE,KAAD,CAAW,CAC5BA,KAAK,CAACU,IAAN,CAAWO,QAAX,CAAsB,CAACjB,KAAK,CAACU,IAAN,CAAWO,QAAlC,CACA,MAAKsC,WAAL,GACH,CAnbkB,OAobnBI,aApbmB,CAobH,SAAC3D,KAAD,CAAQM,WAAR,CAAwB,CACpC,GAAM2D,CAAAA,MAAM,CAAG,MAAKzD,KAAL,CAAW0D,UAAX,CAAsBC,GAAtB,CAA0B,4BAA1B,GAA2D,MAAK3D,KAAL,CAAW0D,UAAX,CAAsBE,GAAtB,CAA0B,4BAA1B,EAAwDC,YAAlI,CACA,MAAKvE,KAAL,CAAW1B,iBAAX,CAA6BkC,WAA7B,CAA0C2D,MAA1C,EACH,CAvbkB,OAybnBf,YAzbmB,CAybJ,SAAC7C,CAAD,CAAIC,WAAJ,CAAoB,CAC/B,GAAIC,CAAAA,OAAO,CAAGtB,OAAO,CAAC,MAAKuB,KAAL,CAAWC,QAAZ,CAAsB,OAAtB,CAA+B,SAACC,IAAD,CAAU,CAC1D,GAAIA,IAAI,CAACC,EAAL,GAAYL,WAAW,CAACK,EAA5B,CAAgC,CAC5BD,IAAI,CAACI,IAAL,CAAYT,CAAC,CAACsC,MAAF,CAASI,KAArB,CACH,CACD,MAAOrC,CAAAA,IAAP,CACH,CALoB,CAArB,CAMA,MAAKT,QAAL,CAAc,CAAEQ,QAAQ,CAAEF,OAAZ,CAAd,EACH,CAjckB,OAmcnB4C,UAncmB,CAmcN,SAAC9C,CAAD,CAAIK,IAAJ,CAAa,CACtBA,IAAI,CAACQ,QAAL,CAAgB,KAAhB,CACA,MAAKjB,QAAL,CAAc,CAAE6B,YAAY,CAAE,CAAC,MAAKtB,KAAL,CAAWsB,YAA5B,CAAd,EACH,CAtckB,OAwcnBwC,WAxcmB,CAwcL,SAACC,QAAD,CAAWC,OAAX,CAAuB,CACjC,GAAI,MAAK1E,KAAL,CAAW0C,KAAX,CAAiBJ,kBAAjB,GAAwC,IAA5C,CAAkD,CAC9C,MAAKqC,gBAAL,CAAsBF,QAAtB,CAAgCC,OAAhC,EACH,CAFD,IAEO,CACH,MAAKE,2BAAL,CAAiCH,QAAjC,CAA2CC,OAA3C,EACH,CACJ,CA9ckB,OA+cnBC,gBA/cmB,CA+cA,SAACF,QAAD,CAAWC,OAAX,CAAuB,CAEtC,GAAQrC,CAAAA,cAAR,CAA2B,MAAK3B,KAAhC,CAAQ2B,cAAR,CAEA,GAAI,MAAKrC,KAAL,CAAW0C,KAAX,CAAiBlC,WAAjB,EAAgC,MAAKR,KAAL,CAAW0C,KAAX,CAAiBlC,WAAjB,GAAiCmB,SAArE,CAAgF,CAC5E,GAAIkD,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIC,CAAAA,SAAS,CAAGpD,SAAhB,CACA,GAAIqD,CAAAA,KAAK,CAAG,CAAZ,CACA,GAAI3C,cAAc,CAAC,kBAAD,CAAd,GAAuCV,SAAvC,EAAoDU,cAAc,CAAC,kBAAD,CAAd,GAAuC,IAA/F,CAAqG,CACjG2C,KAAK,CAAGA,KAAK,CAAG,CAAhB,CACH,CACD,GAAI3C,cAAc,CAAC,oBAAD,CAAd,GAAyCV,SAAzC,EAAsDU,cAAc,CAAC,oBAAD,CAAd,GAAyC,IAAnG,CAAyG,CACrG2C,KAAK,CAAGA,KAAK,CAAG,CAAhB,CACH,CACD,GAAI3C,cAAc,CAAC,mBAAD,CAAd,GAAwCV,SAAxC,EAAqDU,cAAc,CAAC,mBAAD,CAAd,GAAwC,IAAjG,CAAuG,CACnG2C,KAAK,CAAGA,KAAK,CAAG,CAAhB,CACH,CACD,GAAIA,KAAK,CAAG,CAAZ,CAAe,CACXzH,KAAK,CAAC0H,IAAN,CAAW,MAAKjF,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,mBAAN,CAA9B,CAAX,EACH,CAFD,IAEO,CACH,GAAIJ,CAAAA,OAAO,CAAGtB,OAAO,CAAC,MAAKuB,KAAL,CAAWqD,YAAZ,CAA0B,OAA1B,CAAmC,SAACnD,IAAD,CAAU,CAC9D,GAAIA,IAAI,CAACC,EAAL,GAAY,MAAKb,KAAL,CAAW0C,KAAX,CAAiBlC,WAAjB,CAA6BI,IAA7B,CAAkCC,EAAlD,CAAsD,CAClDD,IAAI,CAACS,gBAAL,CAAwBgB,cAAc,CAAC,kBAAD,CAAd,GAAuCV,SAAvC,CAAmDU,cAAc,CAAC,kBAAD,CAAjE,CAAwF,KAAhH,CACAzB,IAAI,CAACU,kBAAL,CAA0Be,cAAc,CAAC,oBAAD,CAAd,GAAyCV,SAAzC,CAAqDU,cAAc,CAAC,oBAAD,CAAnE,CAA4F,KAAtH,CACAzB,IAAI,CAACW,iBAAL,CAAyBc,cAAc,CAAC,mBAAD,CAAd,GAAwCV,SAAxC,CAAoDU,cAAc,CAAC,mBAAD,CAAlE,CAA0F,KAAnH,CACH,CACD,GAAIzB,IAAI,CAACgD,QAAL,EAAiBhD,IAAI,CAACgD,QAAL,GAAkB,IAAvC,CAA6C,CACzChD,IAAI,CAACgD,QAAL,CAAgB,KAAhB,CACH,CACD,MAAOhD,CAAAA,IAAP,CACH,CAVoB,CAArB,CAYAmE,SAAS,CAAG,CAAEG,aAAa,CAAE,uBAAjB,CAA0CC,cAAc,CAAE,+BAA1D,CAA2FC,eAAe,CAAE,4BAA5G,CAAZ,CAEAN,QAAQ,CAAC,MAAD,CAAR,CAAmBrE,OAAnB,CACAoE,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB2C,QAAzC,CACAR,SAAS,CAAC,sBAAD,CAAT,CAAoC,CAAE,UAAW,CAAb,CAApC,CACAA,SAAS,CAAC,uBAAD,CAAT,CAAqC,CAAE,UAAW,CAAb,CAArC,CACAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,EAAmE,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BC,6BAA5B,CAA0D,4BAA1D,CAAnE,CACAV,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,EAAmE,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BC,6BAA5B,CAA0D,4BAA1D,CAAnE,CACAV,SAAS,CAAC,uBAAD,CAAT,CAAmC,sBAAnC,EAA6D,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BC,6BAA5B,CAA0D,sBAA1D,CAA7D,CACAV,SAAS,CAAC,sBAAD,CAAT,CAAkC,2BAAlC,EAAiE,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyD,2BAAzD,CAAjE,CACAX,SAAS,CAAC,sBAAD,CAAT,CAAkC,iBAAlC,EAAuD,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyD,iBAAzD,CAAvD,CACAX,SAAS,CAAC,sBAAD,CAAT,CAAkC,UAAlC,EAAgDC,QAAhD,CAEA,GAAMW,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE,uBADK,CAEfC,SAAS,CAAE,uBAFI,CAGfC,WAAW,CAAE,MAAK5F,KAAL,CAAW0C,KAAX,CAAiB+C,UAAjB,CAA4BG,WAH1B,CAIff,SAAS,CAAEA,SAJI,CAKftC,SAAS,CAAE,QALI,CAKMkC,QAAQ,CAARA,QALN,CAKgBC,OAAO,CAAPA,OALhB,CAKyBK,SAAS,CAATA,SALzB,CAAnB,CAOA,GAAMO,CAAAA,UAAU,CAAG,MAAKtF,KAAL,CAAW0C,KAAX,CAAiB4C,UAApC,CAEA,GAAI3H,SAAS,CAAC,MAAKqC,KAAL,CAAW0C,KAAX,CAAiBmD,qBAAlB,CAAyC,MAAK7F,KAAL,CAAW0C,KAAX,CAAiB2C,QAAjB,CAA0BS,SAAnE,CAA8E,MAAK9F,KAAL,CAAW0C,KAAX,CAAiB6B,YAA/F,CAAb,CAA2H,CACvH,GAAMrC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEtD,cADK,CAEfuD,IAAI,CAAE,CACFK,SAAS,CAAE,IADT,CACesD,UAAU,CAAE,CAAEN,UAAU,CAAVA,UAAF,CAAcH,UAAU,CAAVA,UAAd,CAD3B,CACuDb,QAAQ,CAARA,QADvD,CAFS,CAAnB,CAMA,MAAKzE,KAAL,CAAW9B,WAAX,CAAuBgE,UAAvB,EACH,CARD,IAQO,CACH,MAAKlC,KAAL,CAAWhC,UAAX,CAAsByH,UAAtB,CAAkC,MAAKzF,KAAL,CAAW0C,KAAX,CAAiB4C,UAAnD,CAA+D,WAA/D,EACH,CACJ,CACJ,CACJ,CAnhBkB,OAohBnBV,2BAphBmB,CAohBW,SAACH,QAAD,CAAWC,OAAX,CAAuB,CAEjD,GAAQrC,CAAAA,cAAR,CAA2B,MAAK3B,KAAhC,CAAQ2B,cAAR,CAEA;AACA;AAEA,GAAIwC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIC,CAAAA,SAAS,CAAGpD,SAAhB,CACA,GAAIqE,CAAAA,WAAW,CAAG,CAAlB,CAEA,GAAIvF,CAAAA,OAAO,CAAGtB,OAAO,CAAC,MAAKuB,KAAL,CAAWC,QAAZ,CAAsB,OAAtB,CAA+B,SAACC,IAAD,CAAU,CAC1D,GAAIA,IAAI,CAACQ,QAAL,GAAkB,IAAtB,CAA4B,CACxBR,IAAI,CAACQ,QAAL,CAAgB,KAAhB,CACH,CACD,GAAIR,IAAI,CAACO,QAAL,GAAkB,KAAtB,CAA6B,CACzBP,IAAI,CAACO,QAAL,CAAgB,IAAhB,CACH,CACD6E,WAAW,GACX,MAAOpF,CAAAA,IAAP,CACH,CAToB,CAArB,CAWA;AACA;AAEA;AAEA;AACA;AAEA,GAAIoF,WAAW,CAAG,CAAlB,CAAqB,CAGjBlB,QAAQ,CAAC,MAAD,CAAR,CAAmBrE,OAAnB,CACAoE,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB2C,QAAzC,CACAR,SAAS,CAAC,uBAAD,CAAT,CAAqC,CAAE,UAAW,CAAb,CAArC,CACAA,SAAS,CAAC,sBAAD,CAAT,CAAoC,CAAE,UAAW,CAAb,CAApC,CAGAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,EAAmExC,cAAc,CAAC,4BAAD,CAAjF,CACAwC,SAAS,CAAC,uBAAD,CAAT,CAAmC,sBAAnC,EAA6DxC,cAAc,CAAC,sBAAD,CAAd,CAAuCY,KAApG,CACA4B,SAAS,CAAC,sBAAD,CAAT,CAAkC,UAAlC,EAAgDC,QAAhD,CAEA,GAAI,MAAK9E,KAAL,CAAW0C,KAAX,CAAiBH,SAAjB,GAA+B,QAAnC,CAA6C,CACzC,GAAMkD,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE,uBADK,CAEfC,SAAS,CAAE,uBAFI,CAGfC,WAAW,CAAE,MAAK5F,KAAL,CAAW0C,KAAX,CAAiB+C,UAAjB,CAA4BG,WAH1B,CAIff,SAAS,CAAEA,SAJI,CAKftC,SAAS,CAAE,QALI,CAKMkC,QAAQ,CAARA,QALN,CAKgBC,OAAO,CAAPA,OALhB,CAAnB,CAOA,GAAMY,CAAAA,UAAU,CAAG,MAAKtF,KAAL,CAAW0C,KAAX,CAAiB4C,UAApC,CAEA,GAAI3H,SAAS,CAAC,MAAKqC,KAAL,CAAW0C,KAAX,CAAiBmD,qBAAlB,CAAyC,MAAK7F,KAAL,CAAW0C,KAAX,CAAiB2C,QAAjB,CAA0BS,SAAnE,CAA8E,MAAK9F,KAAL,CAAW0C,KAAX,CAAiB6B,YAA/F,CAAb,CAA2H,CACvH,GAAMrC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEtD,cADK,CAEfuD,IAAI,CAAE,CACFK,SAAS,CAAE,IADT,CACesD,UAAU,CAAE,CAAEN,UAAU,CAAVA,UAAF,CAAcH,UAAU,CAAVA,UAAd,CAD3B,CACuDb,QAAQ,CAARA,QADvD,CAFS,CAAnB,CAMA,MAAKzE,KAAL,CAAW9B,WAAX,CAAuBgE,UAAvB,EACH,CARD,IASK,CACD,MAAKlC,KAAL,CAAWhC,UAAX,CAAsByH,UAAtB,CAAkC,MAAKzF,KAAL,CAAW0C,KAAX,CAAiB4C,UAAnD,CAA+D,WAA/D,EACA;AACA;AACH,CACJ,CAxBD,IAwBO,CACHT,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,EAAmE,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BC,6BAA5B,CAA0D,4BAA1D,CAAnE,CACAV,SAAS,CAAC,sBAAD,CAAT,CAAkC,2BAAlC,EAAiE,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyD,2BAAzD,CAAjE,CACAX,SAAS,CAAC,sBAAD,CAAT,CAAkC,iBAAlC,EAAuD,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyD,iBAAzD,CAAvD,CAEA,GAAMC,CAAAA,WAAU,CAAG,CACfC,QAAQ,CAAE,uBADK,CAEfC,SAAS,CAAE,uBAFI,CAGfC,WAAW,CAAE,MAAK5F,KAAL,CAAW0C,KAAX,CAAiB+C,UAAjB,CAA4BG,WAH1B,CAIff,SAAS,CAAEA,SAJI,CAKftC,SAAS,CAAE,QALI,CAKMkC,QAAQ,CAARA,QALN,CAKgBC,OAAO,CAAPA,OALhB,CAAnB,CAOA,GAAMY,CAAAA,WAAU,CAAG,MAAKtF,KAAL,CAAW0C,KAAX,CAAiB4C,UAApC,CAEA,GAAI3H,SAAS,CAAC,MAAKqC,KAAL,CAAW0C,KAAX,CAAiBmD,qBAAlB,CAAyC,MAAK7F,KAAL,CAAW0C,KAAX,CAAiB2C,QAAjB,CAA0BS,SAAnE,CAA8E,MAAK9F,KAAL,CAAW0C,KAAX,CAAiB6B,YAA/F,CAAb,CAA2H,CACvH,GAAMrC,CAAAA,WAAU,CAAG,CACfC,QAAQ,CAAEtD,cADK,CAEfuD,IAAI,CAAE,CACFK,SAAS,CAAE,IADT,CACesD,UAAU,CAAE,CAAEN,UAAU,CAAVA,WAAF,CAAcH,UAAU,CAAVA,WAAd,CAD3B,CACuDb,QAAQ,CAARA,QADvD,CAFS,CAAnB,CAMA,MAAKzE,KAAL,CAAW9B,WAAX,CAAuBgE,WAAvB,EACH,CARD,IAQO,CACH,MAAKlC,KAAL,CAAWhC,UAAX,CAAsByH,WAAtB,CAAkC,MAAKzF,KAAL,CAAW0C,KAAX,CAAiB4C,UAAnD,CAA+D,WAA/D,EACA;AACH,CAEJ,CACJ,CAjED,IAiEO,CACH/H,KAAK,CAAC0H,IAAN,CAAW,MAAKjF,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,6BAAN,CAA9B,CAAX,EACH,CAEJ,CAxnBkB,OA0nBnBoF,2BA1nBmB,CA0nBW,SAACC,YAAD,CAAkB,CAC5C,GAAIrB,CAAAA,SAAS,CAAG,EAAhB,CACAA,SAAS,CAAC,sBAAD,CAAT,CAAoC,EAApC,CACAA,SAAS,CAAC,uBAAD,CAAT,CAAqC,EAArC,CAEAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,4BAAlC,EAAkE,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyD,4BAAzD,CAAlE,CACAX,SAAS,CAAC,sBAAD,CAAT,CAAkC,2BAAlC,EAAiE,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyD,2BAAzD,CAAjE,CACAX,SAAS,CAAC,sBAAD,CAAT,CAAkC,iBAAlC,EAAuD,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyD,iBAAzD,CAAvD,CAEAX,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB2C,QAAzC,CACAR,SAAS,CAAC,uBAAD,CAAT,CAAmC,sBAAnC,EAA6D,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyD,sBAAzD,CAA7D,CACAX,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,EAAmE,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyD,sBAAzD,CAAnE,CACAX,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,EAAmE,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BC,6BAA5B,CAA0D,4BAA1D,CAAnE,CAEA,GAAME,CAAAA,UAAU,CAAG,CACfE,SAAS,CAAE,uBADI,CAEfD,QAAQ,CAAE,uBAFK,CAGfb,SAAS,CAAEA,SAHI,CAIftC,SAAS,CAAE,QAJI,CAIM4D,SAAS,CAAE,MAAKA,SAJtB,CAAnB,CAMA,GAAMb,CAAAA,UAAU,CAAG,MAAKtF,KAAL,CAAW0C,KAAX,CAAiB4C,UAApC,CACA;AACA,GAAI3H,SAAS,CAAC,MAAKqC,KAAL,CAAW0C,KAAX,CAAiBmD,qBAAlB,CAAyC,MAAK7F,KAAL,CAAW0C,KAAX,CAAiB2C,QAAjB,CAA0BS,SAAnE,CAA8EI,YAA9E,CAAb,CAA0G,CACtG,GAAMhE,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEtD,cADK,CAEfuD,IAAI,CAAE,CACFK,SAAS,CAAE,IADT,CACesD,UAAU,CAAE,CAAEN,UAAU,CAAVA,UAAF,CAAcH,UAAU,CAAVA,UAAd,CAD3B,CACuD/C,SAAS,CAAE,QADlE,CAC4EN,SAAS,CAAE,IADvF,CAEFmE,UAAU,CAAE,MAAKpG,KAAL,CAAW0C,KAAX,CAAiB+C,UAAjB,CAA4BG,WAFtC,CAFS,CAAnB,CAOA,MAAK5F,KAAL,CAAW9B,WAAX,CAAuBgE,UAAvB,EACH,CATD,IAUK,CACD,MAAKlC,KAAL,CAAWhC,UAAX,CAAsByH,UAAtB,CAAkC,MAAKzF,KAAL,CAAW0C,KAAX,CAAiB4C,UAAnD,CAA+D,WAA/D,EACH,CAEJ,CA9pBkB,OA+pBnBe,aA/pBmB,CA+pBH,SAACH,YAAD,CAAkB,CAC9B,MAAKI,cAAL,CAAoBC,OAApB,CAA4B,eAA5B,CACI,MAAKvG,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,YAAN,CAA9B,CADJ,CAEI,MAAKb,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,uBAAN,CAA9B,CAFJ,CAGI,MAAKb,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,QAAN,CAA9B,CAHJ,CAII,MAAKb,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,YAAN,CAA9B,CAJJ,CAKI,iBAAM,OAAKoF,2BAAL,CAAiCC,YAAjC,CAAN,EALJ,EAMH,CAtqBkB,OAwqBnBM,cAxqBmB,CAwqBF,SAACC,CAAD,CAAO,CACpB,MAAKtG,QAAL,CAAc,CACVuG,0BAA0B,CAAED,CADlB,CAAd,EAGH,CA5qBkB,OA6qBnBE,gBA7qBmB,CA6qBA,SAAApG,CAAC,CAAI,CACpB,MAAKJ,QAAL,CAAc,CACVyG,IAAI,CAAErG,CAAC,CAACqG,IADE,CAEVC,IAAI,CAAEtG,CAAC,CAACsG,IAFE,CAAd,EAIH,CAlrBkB,OAmrBnBC,sBAnrBmB,CAmrBM,SAAAvG,CAAC,CAAI,CAC1B,MAAKJ,QAAL,CAAc,CACVyG,IAAI,CAAErG,CAAC,CAACqG,IADE,CAEVC,IAAI,CAAEtG,CAAC,CAACsG,IAFE,CAAd,EAIH,CAxrBkB,OA0rBnBE,aA1rBmB,CA0rBH,SAACC,SAAD,CAAYC,SAAZ,CAAuBC,MAAvB,CAAkC,CAC9C,GAAM7E,CAAAA,cAAc,CAAG,MAAK3B,KAAL,CAAW2B,cAAX,EAA6B,EAApD,CACA,GAAI6E,MAAM,GAAK,CAAf,CAAkB,CAEd,GAAIC,CAAAA,sBAAsB,CAAG,MAAKzG,KAAL,CAAWyG,sBAAX,EAAqC,EAAlE,CACAA,sBAAsB,CAAGH,SAAzB,CACA,MAAKb,SAAL,CAAeiB,OAAf,CAAuBnE,KAAvB,CAA+B,EAA/B,CACA,MAAK9C,QAAL,CAAc,CAAEgH,sBAAsB,CAAtBA,sBAAF,CAAd,EAEH,CAPD,IAOO,CACH9E,cAAc,CAAC4E,SAAD,CAAd,CAA4BD,SAA5B,CACA,MAAK7G,QAAL,CAAc,CAAEkC,cAAc,CAAdA,cAAF,CAAd,EACH,CAGJ,CAzsBkB,OAmuBnBgF,UAnuBmB,CAmuBN,UAAM,CACf,GAAIC,CAAAA,UAAU,CAAG,CAAC,MAAKtH,KAAL,CAAW0C,KAAX,CAAiB4E,UAAnC,CACA,GAAMpF,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEtD,cADK,CAEfuD,IAAI,CAAE,CAAEkF,UAAU,CAAVA,UAAF,CAFS,CAAnB,CAIA,MAAKtH,KAAL,CAAW9B,WAAX,CAAuBgE,UAAvB,EACH,CA1uBkB,OA4uBnBqF,WA5uBmB,CA4uBL,UAAM,CAEhB,GAAMrF,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEtD,cADK,CAEfuD,IAAI,CAAE,CAAEkF,UAAU,CAAE,KAAd,CAFS,CAAnB,CAIA,MAAKtH,KAAL,CAAW9B,WAAX,CAAuBgE,UAAvB,EACH,CAnvBkB,OAqvBnBsF,cArvBmB,CAqvBF,UAAM,CACnB,GAAI,MAAK9G,KAAL,CAAWyG,sBAAX,CAAkClE,KAAtC,CAA6C,CACzC,GAAIwC,CAAAA,UAAU,CAAG,CACbZ,SAAS,CAAE,CACP4C,oBAAoB,CAAE,MAAK/G,KAAL,CAAWyG,sBAAX,CAAkClE,KADjD,CAEPyE,QAAQ,CAAE,MAAK1H,KAAL,CAAW0C,KAAX,CAAiB2C,QAFpB,CAGP8B,sBAAsB,CAAE,MAAKzG,KAAL,CAAWyG,sBAH5B,CADE,CAAjB,CAQA,MAAKnH,KAAL,CAAW3B,2BAAX,CAAuCoH,UAAvC,CAAmD,MAAKzF,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BqC,qBAA/E,EACH,CAVD,IAUO,CACHpK,KAAK,CAACuE,IAAN,CAAW,MAAK9B,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,iCAAN,CAA9B,CAAX,EACH,CACJ,CAnwBkB,OAswBnB+G,8BAtwBmB,CAswBc,SAAC1B,YAAD,CAAkB,CAC/C,GAAIrB,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIgD,CAAAA,WAAW,CAAG,KAAlB,CACA,GAAIC,CAAAA,YAAY,CAAG,KAAnB,CACA,GAAIC,CAAAA,UAAU,CAAG,KAAjB,CACA5I,OAAO,CAAC,MAAKuB,KAAL,CAAWqD,YAAZ,CAA0B,OAA1B,CAAmC,SAACnD,IAAD,CAAU,CAChD,GAAIA,IAAI,CAACS,gBAAL,GAA0B,IAA9B,CAAoC,CAChCwG,WAAW,CAAG,IAAd,CACH,CACD,GAAIjH,IAAI,CAACU,kBAAL,GAA4B,IAAhC,CAAsC,CAClCwG,YAAY,CAAG,IAAf,CACH,CACD,GAAIlH,IAAI,CAACW,iBAAL,GAA2B,IAA/B,CAAqC,CACjCwG,UAAU,CAAG,IAAb,CACH,CACD,MAAO,KAAP,CACH,CAXM,CAAP,CAYA,GAAIF,WAAW,GAAK,KAApB,CAA2B,CACvBtK,KAAK,CAACyK,OAAN,CAAc,MAAKhI,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,6BAAN,CAA9B,CAAd,EACA,OACH,CACD,GAAIiH,YAAY,GAAK,KAArB,CAA4B,CACxBvK,KAAK,CAACyK,OAAN,CAAc,MAAKhI,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,8BAAN,CAA9B,CAAd,EACA,OACH,CACD,GAAIkH,UAAU,GAAK,KAAnB,CAA0B,CACtBxK,KAAK,CAACyK,OAAN,CAAc,MAAKhI,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,4BAAN,CAA9B,CAAd,EACA,OACH,CACD,GAAMyE,CAAAA,UAAU,CAAG,MAAKtF,KAAL,CAAW0C,KAAX,CAAiB4C,UAApC,CAEAT,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB2C,QAAzC,CACAR,SAAS,CAAC,uBAAD,CAAT,CAAqC,CAAE,UAAW,CAAb,CAArC,CACAA,SAAS,CAAC,sBAAD,CAAT,CAAoC,CAAE,UAAW,CAAb,CAApC,CAEAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,iBAAlC,EAAuDS,UAAU,CAACE,4BAAX,CAAwC,iBAAxC,CAAvD,CACAX,SAAS,CAAC,sBAAD,CAAT,CAAkC,2BAAlC,EAAiES,UAAU,CAACE,4BAAX,CAAwC,2BAAxC,CAAjE,CACAX,SAAS,CAAC,sBAAD,CAAT,CAAkC,4BAAlC,EAAkES,UAAU,CAACE,4BAAX,CAAwC,4BAAxC,CAAlE,CAEAX,SAAS,CAAC,uBAAD,CAAT,CAAmC,sBAAnC,EAA6DS,UAAU,CAACE,4BAAX,CAAwC,sBAAxC,CAA7D,CACAX,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,EAAmES,UAAU,CAACE,4BAAX,CAAwC,4BAAxC,CAAnE,CACA,GAAMC,CAAAA,UAAU,CAAG,CACfZ,SAAS,CAAEA,SADI,CAEfa,QAAQ,CAAE,uBAFK,CAGfC,SAAS,CAAE,uBAHI,CAIfC,WAAW,CAAE,2BAJE,CAKfP,QAAQ,CAAE,MAAKrF,KAAL,CAAW0C,KAAX,CAAiB2C,QALZ,CAKsB9C,SAAS,CAAE,SALjC,CAAnB,CAQA,GAAI5E,SAAS,CAAC,MAAKqC,KAAL,CAAW0C,KAAX,CAAiBmD,qBAAlB,CAAyC,MAAK7F,KAAL,CAAW0C,KAAX,CAAiB2C,QAAjB,CAA0BS,SAAnE,CAA8EI,YAA9E,CAAb,CAA0G,CACtG,GAAMhE,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEtD,cADK,CAEfuD,IAAI,CAAE,CACFK,SAAS,CAAE,IADT,CACesD,UAAU,CAAE,CAAEN,UAAU,CAAVA,UAAF,CAAcH,UAAU,CAAVA,UAAd,CAD3B,CACuDrD,SAAS,CAAE,IADlE,CACwEM,SAAS,CAAE,SADnF,CAEF6D,UAAU,CAAE,MAAKpG,KAAL,CAAW0C,KAAX,CAAiB+C,UAAjB,CAA4BG,WAFtC,CAFS,CAAnB,CAOA,MAAK5F,KAAL,CAAW9B,WAAX,CAAuBgE,UAAvB,EACH,CATD,IAUK,CACD;AACA,MAAKlC,KAAL,CAAWhC,UAAX,CAAsByH,UAAtB,CAAkC,MAAKzF,KAAL,CAAW0C,KAAX,CAAiB4C,UAAnD,CAA+D,WAA/D,EACH,CACJ,CAr0BkB,OAu0BnB2C,wBAv0BmB,CAu0BQ,SAAC/B,YAAD,CAAkB,CACzC,GAAIrB,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAMS,CAAAA,UAAU,CAAG,MAAKtF,KAAL,CAAW0C,KAAX,CAAiB4C,UAApC,CAEAT,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB2C,QAAzC,CACAR,SAAS,CAAC,uBAAD,CAAT,CAAqC,CAAE,UAAW,CAAb,CAArC,CACAA,SAAS,CAAC,sBAAD,CAAT,CAAoC,CAAE,UAAW,CAAb,CAApC,CAEAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,iBAAlC,EAAuDS,UAAU,CAACE,4BAAX,CAAwC,iBAAxC,CAAvD,CACAX,SAAS,CAAC,sBAAD,CAAT,CAAkC,2BAAlC,EAAiES,UAAU,CAACE,4BAAX,CAAwC,2BAAxC,CAAjE,CACAX,SAAS,CAAC,sBAAD,CAAT,CAAkC,4BAAlC,EAAkES,UAAU,CAACE,4BAAX,CAAwC,4BAAxC,CAAlE,CAEAX,SAAS,CAAC,uBAAD,CAAT,CAAmC,sBAAnC,EAA6DS,UAAU,CAACE,4BAAX,CAAwC,sBAAxC,CAA7D,CACAX,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,EAAmES,UAAU,CAACE,4BAAX,CAAwC,4BAAxC,CAAnE,CACA,GAAMC,CAAAA,UAAU,CAAG,CACfZ,SAAS,CAAEA,SADI,CAEfa,QAAQ,CAAE,uBAFK,CAGfC,SAAS,CAAE,sBAHI,CAIfC,WAAW,CAAE,2BAJE,CAKfP,QAAQ,CAAE,MAAKrF,KAAL,CAAW0C,KAAX,CAAiB2C,QALZ,CAKsB9C,SAAS,CAAE,MALjC,CAAnB,CAQA,GAAI5E,SAAS,CAAC,MAAKqC,KAAL,CAAW0C,KAAX,CAAiBmD,qBAAlB,CAAyC,MAAK7F,KAAL,CAAW0C,KAAX,CAAiB2C,QAAjB,CAA0BS,SAAnE,CAA8EI,YAA9E,CAAb,CAA0G,CACtG,GAAMhE,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEtD,cADK,CAEfuD,IAAI,CAAE,CACFK,SAAS,CAAE,IADT,CACesD,UAAU,CAAE,CAAEN,UAAU,CAAVA,UAAF,CAAcH,UAAU,CAAVA,UAAd,CAD3B,CACuDrD,SAAS,CAAE,IADlE,CACwEM,SAAS,CAAE,MADnF,CAEF6D,UAAU,CAAE,MAAKpG,KAAL,CAAW0C,KAAX,CAAiB+C,UAAjB,CAA4BG,WAFtC,CAFS,CAAnB,CAOA,MAAK5F,KAAL,CAAW9B,WAAX,CAAuBgE,UAAvB,EACH,CATD,IAUK,CACD;AACA,MAAKlC,KAAL,CAAWhC,UAAX,CAAsByH,UAAtB,CAAkC,MAAKzF,KAAL,CAAW0C,KAAX,CAAiB4C,UAAnD,CAA+D,WAA/D,EACH,CACJ,CA32BkB,OA42BnB4C,UA52BmB,CA42BN,UAAM,CACf,MAAK/B,SAAL,CAAeiB,OAAf,CAAuBnE,KAAvB,CAA+B,EAA/B,CACA,GAAIkE,CAAAA,sBAAsB,CAAG,MAAKzG,KAAL,CAAWyG,sBAAX,EAAqCgB,MAAM,CAACC,IAAP,CAAY,MAAK1H,KAAL,CAAWyG,sBAAvB,EAA+CkB,MAA/C,GAA0D,CAA/F,CAAmG,MAAK3H,KAAL,CAAWyG,sBAAX,CAAkClE,KAArI,CAA6I,CAA1K,CACA,GAAMwC,CAAAA,UAAU,CAAG,CACfZ,SAAS,CAAE,CAAE,WAAY,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB2C,QAA/B,CAAyC,uBAAwB8B,sBAAjE,CADI,CAEfzB,QAAQ,CAAE,uBAFK,CAGfC,SAAS,CAAE,uBAHI,CAIfC,WAAW,CAAE,2BAJE,CAKfP,QAAQ,CAAE,MAAKrF,KAAL,CAAW0C,KAAX,CAAiB2C,QALZ,CAAnB,CAQA,MAAKrF,KAAL,CAAWjC,WAAX,CAAuB0H,UAAvB,EACH,CAx3BkB,OAy3BnB6C,2BAz3BmB,CAy3BW,SAAC9C,4BAAD,CAA+BH,QAA/B,CAAyClB,MAAzC,CAAoD,CAC9E,GAAIoE,CAAAA,WAAW,CAAG,KAAlB,CACA,GAAI,MAAKvI,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BkD,oBAA5B,EAAoD,MAAKxI,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BkD,oBAA5B,CAAiDH,MAAjD,CAA0D,CAAlH,CAAqH,CACjHE,WAAW,CAAG,IAAd,CACH,CACD,MAAKvI,KAAL,CAAWzB,yBAAX,CAAqCiH,4BAArC,CAAmEH,QAAnE,CAA6EkD,WAA7E,CAA0FpE,MAA1F,EACH,CA/3BkB,OAg4BnBsE,mBAh4BmB,CAg4BG,SAACC,KAAD,CAAW,CAC7B,GAAI,MAAKhI,KAAL,CAAWyG,sBAAX,EAAqCgB,MAAM,CAACC,IAAP,CAAY,MAAK1H,KAAL,CAAWyG,sBAAvB,EAA+CkB,MAA/C,GAA0D,CAAnG,CAAsG,CAClG,MAAKrI,KAAL,CAAWtB,oBAAX,CAAgC,CAAE2G,QAAQ,CAAE,MAAKrF,KAAL,CAAW0C,KAAX,CAAiB2C,QAA7B,CAAuCxE,EAAE,CAAE7B,IAAI,EAA/C,CAAmDmI,sBAAsB,CAAE,MAAKzG,KAAL,CAAWyG,sBAAtF,CAA8GuB,KAAK,CAALA,KAA9G,CAAhC,EACH,CAFD,IAEO,CACHnL,KAAK,CAACyK,OAAN,CAAc,MAAKhI,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,2BAAN,CAA9B,CAAd,EACH,CACJ,CAt4BkB,OAu4BnB8H,eAv4BmB,CAu4BD,SAACzI,KAAD,CAAW,CAEzB,GAAMmC,CAAAA,cAAc,CAAG,MAAK3B,KAAL,CAAW2B,cAAX,EAA6B,EAApD,CACA,GAAInC,KAAK,CAAC2C,MAAN,CAAaC,IAAb,GAAsB,UAA1B,CAAsC,CAClC,GAAI5C,KAAK,CAAC2C,MAAN,CAAaE,IAAb,GAAsB,OAA1B,CAAmC,CAC/BV,cAAc,CAACnC,KAAK,CAAC2C,MAAN,CAAaE,IAAd,CAAd,CAAoC7C,KAAK,CAAC2C,MAAN,CAAaG,OAAb,GAAyB,IAAzB,CAAgC,CAAhC,CAAoC,CAAxE,CACH,CACJ,CAJD,IAKK,IAAI9C,KAAK,CAAC2C,MAAN,CAAaC,IAAb,GAAsB,YAA1B,CAAwC,CAEzCT,cAAc,CAACnC,KAAK,CAAC2C,MAAN,CAAaE,IAAd,CAAd,CAAoC7C,KAAK,CAAC2C,MAAN,CAAaI,KAAjD,CAEH,CAJI,IAKA,CACDZ,cAAc,CAACnC,KAAK,CAAC2C,MAAN,CAAaE,IAAd,CAAd,CAAoC7C,KAAK,CAAC2C,MAAN,CAAaI,KAAjD,CACH,CAED,MAAK9C,QAAL,CAAc,CAAEkC,cAAc,CAAdA,cAAF,CAAd,EAGH,CA35BkB,OAgtCnBuG,aAhtCmB,CAgtCH,UAAM,CAClB,GAAMnD,CAAAA,UAAU,CAAG,CACfZ,SAAS,CAAE,CACP,0CACO,MAAK7E,KAAL,CAAW0C,KAAX,CAAiB2C,QADxB,MAEIwD,OAAO,CAAE,MAAKnI,KAAL,CAAW2B,cAAX,CAA0B,eAA1B,CAFb,CAGIyG,WAAW,CAAE,MAAKpI,KAAL,CAAW2B,cAAX,CAA0B,aAA1B,GAA4C,MAAK3B,KAAL,CAAW2B,cAAX,CAA0B,aAA1B,EAAyCY,KAHtG,CAII8F,iBAAiB,CAAE,MAAKrI,KAAL,CAAW2B,cAAX,CAA0B,aAA1B,GAA4C,MAAK3B,KAAL,CAAW2B,cAAX,CAA0B,aAA1B,EAAyC2G,KAJ5G,EADO,CAQPC,QAAQ,CAAE,MAAKvI,KAAL,CAAW2B,cAAX,CAA0B,eAA1B,CARH,CADI,CAWf0D,UAAU,CAAE,MAAK/F,KAAL,CAAW0C,KAAX,CAAiBqD,UAXd,CAAnB,CAaA,MAAK/F,KAAL,CAAW/B,uBAAX,CAAmCwH,UAAnC,CAA+C,WAA/C,EACH,CA/tCkB,CAGf,MAAK/E,KAAL,CAAa,CACTsB,YAAY,CAAE,KADL,CAET+B,YAAY,CAAEpC,SAFL,CAGTgC,gBAAgB,CAAE,KAHT,CAIThD,QAAQ,CAAE,CACN,CACIK,IAAI,CAAE,MADV,CAEIG,QAAQ,CAAE,IAFd,CAGIC,QAAQ,CAAE,IAHd,CAIIS,IAAI,CAAE,IAJV,CAKIhB,EAAE,CAAE7B,IAAI,EALZ,CADM,CAJD,CAYToB,KAAK,CAAE,CAAC,CACJ8I,IAAI,CAAE,KADF,CAEJC,UAAU,CAAE,KAFR,CAAD,CAZE,CAgBT9G,cAAc,CAAE,EAhBP,CAiBTwD,qBAAqB,CAAE,EAjBd,CAkBTzB,UAAU,CAAE,GAAIgF,CAAAA,GAAJ,EAlBH,CAmBTxC,IAAI,CAAE,CAnBG,CAoBTyC,UAAU,CAAE,CApBH,CAqBTC,UAAU,CAAE,EArBH,CAsBTzC,IAAI,CAAE,MAAK7G,KAAL,CAAW0C,KAAX,CAAiB6G,QAAjB,CACF,MAAKvJ,KAAL,CAAW0C,KAAX,CAAiB6G,QAAjB,CAA0B,CAA1B,CADE,CAC6B,EAvB1B,CAwBT7C,0BAA0B,CAAE,EAxBnB,CAyBT8C,YAAY,CAAE7H,SAzBL,CAAb,CA2BA,MAAKwE,SAAL,CAAiBxK,KAAK,CAAC8N,SAAN,EAAjB,CACA,MAAKnD,cAAL,CAAsB,GAAIjH,CAAAA,cAAJ,EAAtB,CA/Be,aAgClB,C,oEAmBD,4BAAmBqK,aAAnB,CAAkC,iBAE9B,GAAIC,CAAAA,kBAAkB,CAAG,KAAzB,CACA,GAAMC,CAAAA,UAAN,CAAqB,KAAKlJ,KAA1B,CAAMkJ,UAAN,CACA,GAAIvH,CAAAA,cAAc,CAAG,KAAK3B,KAAL,CAAW2B,cAAX,EAA6B,EAAlD,CACA,GAAI,KAAKrC,KAAL,CAAW0C,KAAX,CAAiB2C,QAAjB,CAA0BS,SAA1B,GAAwC4D,aAAa,CAAChH,KAAd,CAAoB2C,QAApB,CAA6BS,SAAzE,CAAoF,CAChF,GAAMD,CAAAA,qBAAqB,CAAG,EAA9B,CACA,GAAI,KAAK7F,KAAL,CAAW0C,KAAX,CAAiBmD,qBAArB,CAA4C,CACxC,KAAK7F,KAAL,CAAW0C,KAAX,CAAiBmD,qBAAjB,CAAuC,KAAK7F,KAAL,CAAW0C,KAAX,CAAiB2C,QAAjB,CAA0BS,SAAjE,GAA+EqC,MAAM,CAAC0B,MAAP,CAAc,KAAK7J,KAAL,CAAW0C,KAAX,CAAiBmD,qBAAjB,CAAuC,KAAK7F,KAAL,CAAW0C,KAAX,CAAiB2C,QAAjB,CAA0BS,SAAjE,CAAd,EAA2F9B,GAA3F,CAA+F,SAAApD,IAAI,QAC9KiF,CAAAA,qBAAqB,CAAC9E,IAAtB,CAA2BH,IAAI,CAAC2D,YAAhC,CAD8K,EAAnG,CAA/E,CAEH,CACD,GAAMH,CAAAA,UAAU,CAAG1G,aAAa,CAAC,KAAKsC,KAAL,CAAW0C,KAAX,CAAiBmD,qBAAlB,CAAyC,KAAK7F,KAAL,CAAW0C,KAAX,CAAiB2C,QAAjB,CAA0BS,SAAnE,CAAhC,CACA,KAAK3F,QAAL,CAAc,CAAEiE,UAAU,CAAVA,UAAF,CAAcyB,qBAAqB,CAArBA,qBAAd,CAAd,EACH,CAED,GAAI,KAAK7F,KAAL,CAAW0C,KAAX,CAAiB/B,QAAjB,GAA8B+I,aAAa,CAAChH,KAAd,CAAoB/B,QAAtD,CAAgE,CAC5D,KAAKR,QAAL,CAAc,CACVQ,QAAQ,CAAE,KAAKX,KAAL,CAAW0C,KAAX,CAAiB/B,QADjB,CAAd,EAGH,CACD,GAAI,KAAKX,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,GAA6DkE,aAAa,CAAChH,KAAd,CAAoB4C,UAApB,CAA+BE,4BAAhG,CAA8H,CAE1H,GAAI,KAAKxF,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,EAA4D,KAAKxF,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,GAA6D7D,SAA7H,CAAwI,CACpI,KAAKxB,QAAL,CAAc,CACV4D,YAAY,CACR+F,IAAI,CAACC,KAAL,CAAW,KAAK/J,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyD,UAAzD,EAAqEvC,KAAhF,EAAuFb,IAFjF,CAAd,EAIH,CACJ,CACD,GAAI+E,CAAAA,sBAAsB,CAAG,KAAKzG,KAAL,CAAWsJ,gBAAX,EAA+B,EAA5D,CACA,GAAIrC,CAAAA,qBAAqB,CAAG,KAAKjH,KAAL,CAAWiH,qBAAX,EAAoC,EAAhE,CAEA,GAAI,KAAK3H,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BqC,qBAA5B,GAAsD+B,aAAa,CAAChH,KAAd,CAAoB4C,UAApB,CAA+BqC,qBAAzF,CAAgH,CAC5G,GAAMsC,CAAAA,wBAAwB,CAAGxM,mBAAmB,CAAC,KAAKuC,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BqC,qBAA5B,EAAqD,EAAtD,CAA0D,sBAA1D,CAChD,sBADgD,CACxB,sBADwB,CACA,WADA,CACa,KADb,CAApD,CAEAA,qBAAqB,CAAGsC,wBAAwB,CAAC3F,GAAzB,CAA6B,YAA7B,CAAxB,CACA,GAAIqD,qBAAqB,EAAIA,qBAAqB,CAACU,MAAtB,CAA+B,CAA5D,CAA+D,CAE3D,GAAM6B,CAAAA,cAAc,CAAGvC,qBAAqB,CAACwC,MAAtB,CAA6B,SAAAvJ,IAAI,QAAIA,CAAAA,IAAI,CAACqC,KAAL,GAAe,MAAI,CAACjD,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4B6B,sBAA/C,EAAjC,CAAvB,CAA+H;AAC/HA,sBAAsB,CAAG+C,cAAc,CAAC,CAAD,CAAvC,CACH,CACDP,kBAAkB,CAAG,IAArB,CACH,CAVD,IAUO,IAAI,KAAK3J,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4B6B,sBAA5B,GAAuDuC,aAAa,CAAChH,KAAd,CAAoB4C,UAApB,CAA+B6B,sBAA1F,CAAkH,CACrHA,sBAAsB,CAAG,KAAKnH,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4B6B,sBAArD,CACAwC,kBAAkB,CAAG,IAArB,CACH,CACD,GAAIA,kBAAJ,CAAwB,CACpB,KAAKxJ,QAAL,CAAc,CAAEgH,sBAAsB,CAAtBA,sBAAF,CAA0B9E,cAAc,CAAdA,cAA1B,CAA0CsF,qBAAqB,CAArBA,qBAA1C,CAAd,EACH,CACD,GAAI,KAAK3H,KAAL,CAAW0C,KAAX,CAAiBL,cAAjB,GAAoCqH,aAAa,CAAChH,KAAd,CAAoBL,cAA5D,CAA4E,CACxE,KAAKlC,QAAL,CAAc,CACVkC,cAAc,CAAE,KAAKrC,KAAL,CAAW0C,KAAX,CAAiBL,cADvB,CAAd,EAGH,CACD,GAAI,KAAKrC,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,GAAgCoE,aAAa,CAAChH,KAAd,CAAoB4C,UAAxD,CAAoE,CAChE,GAAMsE,CAAAA,WAAU,CAAG,KAAKQ,qBAAL,EAAnB,CACA,KAAKjK,QAAL,CAAc,CAAEyJ,UAAU,CAAVA,WAAF,CAAd,EACH,CACJ,C,6BAsTD,uBAAcS,QAAd,CAAwBb,YAAxB,CAAsC,iBAClC,GAAIa,QAAQ,CAACxJ,EAAT,EAAe2I,YAAY,CAAC3I,EAAhC,CAAoC,CAChCwJ,QAAQ,CAACzG,QAAT,CAAoB,IAApB,CACH,CAFD,IAEO,CACHyG,QAAQ,CAACzG,QAAT,CAAoB,KAApB,CACH,CACD,GAAIyG,QAAQ,CAACvJ,KAAT,EAAkBuJ,QAAQ,CAACvJ,KAAT,CAAeuH,MAAf,CAAwB,CAA9C,CAAiD,CAC7CgC,QAAQ,CAACvJ,KAAT,CAAekD,GAAf,CAAmB,SAACsG,QAAD,CAAc,CAC7B,MAAI,CAACrG,aAAL,CAAmBqG,QAAnB,CAA6Bd,YAA7B,EACH,CAFD,EAGH,CACD,MAAOa,CAAAA,QAAP,CACH,C,iCA2RD,4BAAoB,CAChB,GAAI,KAAKE,YAAT,CAAuB,CACnB,GAAMC,CAAAA,MAAM,CAAG,KAAKD,YAAL,CAAkBE,YAAjC,CACA,KAAKtK,QAAL,CAAc,CACVuK,SAAS,CAAEF,MAAM,CAAG,EADV,CAEVD,YAAY,CAAEC,MAAM,CAAG,EAFb,CAAd,EAIH,CACJ,C,qCACD,gCAAwB,CACpB,GAAMG,CAAAA,cAAc,CAAG,EAAvB,CACA,GAAI,KAAK3K,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,EAA+B,KAAKtF,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BqC,qBAA/D,CAAsF,CAElFgD,cAAc,CAAC5J,IAAf,CACI,CACI,QAAS,qBADb,CAEI,QAAS,KAAKf,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BsF,2BAA5B,EAA2D,KAAK5K,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BsF,2BAA5B,GAA4D,IAAvH,CAA8H,KAAK5K,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BsF,2BAA1J,CAAwL,IACjM;AACA;AAJJ,CADJ,EAQH,CACD,MAAOD,CAAAA,cAAP,CACH,C,sBA2LD,iBAAS,iBAEL,GAAMjC,CAAAA,KAAK,CAAG,KAAKhI,KAAL,CAAW0D,UAAX,CAAsBC,GAAtB,CAA0B,2BAA1B,GAA0D,KAAK3D,KAAL,CAAW0D,UAAX,CAAsBE,GAAtB,CAA0B,2BAA1B,EAAuDC,YAA/H,CACA,GAAMJ,CAAAA,MAAM,CAAG,KAAKzD,KAAL,CAAW0D,UAAX,CAAsBC,GAAtB,CAA0B,4BAA1B,GAA2D,KAAK3D,KAAL,CAAW0D,UAAX,CAAsBE,GAAtB,CAA0B,4BAA1B,EAAwDC,YAAlI,CACA,GAAMsG,CAAAA,QAAQ,CAAG,KAAKnK,KAAL,CAAW0D,UAAX,CAAsBC,GAAtB,CAA0B,8BAA1B,GAA6D,KAAK3D,KAAL,CAAW0D,UAAX,CAAsBE,GAAtB,CAA0B,8BAA1B,EAA0DC,YAAxI,CACA,GAAMuG,CAAAA,MAAM,CAAG,KAAKpK,KAAL,CAAW0D,UAAX,CAAsBC,GAAtB,CAA0B,4BAA1B,GAA2D,KAAK3D,KAAL,CAAW0D,UAAX,CAAsBE,GAAtB,CAA0B,4BAA1B,EAAwDC,YAAlI,CACA,GAAMwG,CAAAA,SAAS,CAAG,KAAKrK,KAAL,CAAW0D,UAAX,CAAsBC,GAAtB,CAA0B,+BAA1B,GAA8D,KAAK3D,KAAL,CAAW0D,UAAX,CAAsBE,GAAtB,CAA0B,+BAA1B,EAA2DC,YAA3I,CAGA,GAAMyG,CAAAA,WAAW,CAAG,CAChB9F,aAAa,CAAE,uBADC,CACwBC,cAAc,CAAE,+BADxC,CACyEC,eAAe,CAAE,4BAD1F,CAEhB6F,QAAQ,CAAE,wDAFM,CAGhBC,gBAAgB,CAAE,CAAExD,QAAQ,CAAE,KAAK1H,KAAL,CAAW0C,KAAX,CAAiB2C,QAA7B,CAHF,CAIhBC,UAAU,CAAE,KAAKtF,KAAL,CAAW0C,KAAX,CAAiB4C,UAJb,CAKhB6F,eAAe,CAAE,CAAC,4BAAD,CALD,CAApB,CAOA,GAAMC,CAAAA,eAAe,CAAG,CACpB,CAAE,UAAW,qBAAb,CAAoC,YAAa,sBAAjD,CAAyE,iBAAkB,YAA3F,CAAyG,cAAe,WAAxH,CADoB,CAEpB,CAAE,UAAW,+BAAb,CAA8C,YAAa,4BAA3D,CAAyF,iBAAkB,WAA3G,CAAwH,cAAe,SAAvI,CAFoB,CAAxB,CAIA,GAAMT,CAAAA,cAAc,CAAG,KAAKjK,KAAL,CAAWkJ,UAAX,EAAyB,EAAhD,CAEA,GAAMtD,CAAAA,cAAc,CAAG,GAAIjH,CAAAA,cAAJ,EAAvB,CACA,mBACI,qDACI,oBAAC,WAAD,EAAa,SAAS,CAAC,iDAAvB,EACKsL,cAAc,CAACtC,MAAf,CAAwB,CAAxB,cACG,oBAAC,mBAAD,EAAqB,cAAc,CAAEsC,cAArC,EADH,CAEK,EAHV,cAII,oBAAC,GAAD,EAAK,SAAS,CAAE,IAAhB,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,oBAAvB,eAGI,oBAAC,cAAD,EAAgB,WAAW,CAAC,MAA5B,CAAmC,UAAU,CAAE,IAA/C,CAAqD,YAAY,CAAE,CAAnE,CAAsE,yBAAyB,CAAE,KAAKnE,cAAtG,CAAsH,oBAAoB,CAAE,EAA5I,CAAgJ,cAAc,CAAE,EAAhK,CAAoK,gBAAgB,CAAE,EAAtL,eAEI,oBAAC,qBAAD,EACI,UAAU,CAAE,KAAK9F,KAAL,CAAW6J,YAD3B,CAEI,eAAe,CAAE,KAFrB,CAGI,UAAU,CAAE,KAAKvK,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4B+F,YAA5B,EAA4C,KAAKrL,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BgG,qBAAxE,EAAiG,EAHjH,CAII,cAAc,CAAE,CAAC,KAAKtL,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BC,6BAA7B,CAJpB,CAKI,eAAe,CAAC,4BALpB,CAMI,eAAe,CAAE,yBAACiE,YAAD,QACb,CAAA,MAAI,CAACxJ,KAAL,CAAW7B,gCAAX,CACIqL,YADJ,CAEI,MAAI,CAACxJ,KAAL,CAAW0C,KAAX,CAAiB2C,QAFrB,CAE+B,MAAI,CAACrF,KAAL,CAAW0C,KAAX,CAAiB4C,UAFhD,CADa,EANrB,CAWI,UAAU,CAAE,CACRD,QAAQ,CAAE,KAAKrF,KAAL,CAAW0C,KAAX,CAAiB2C,QADnB,CAERC,UAAU,CAAE,KAAKtF,KAAL,CAAW0C,KAAX,CAAiB4C,UAFrB,CAXhB,CAeI,SAAS,CAAE,4BAff,CAgBI,gBAAgB,CAAC,+BAhBrB,CAiBI,UAAU,CAAC,gBAjBf,CAkBI,QAAQ,CAAC,2BAlBb,CAmBI,gBAAgB,CAAE,KAAKtF,KAAL,CAAW5B,gBAnBjC,CAoBI,cAAc,CAAC,cApBnB,CAqBI,SAAS,CAAE,KAAK+H,SArBpB,CAsBI,WAAW,CAAE6E,WAtBjB,CAuBI,UAAU,CAAE,KAAKhL,KAAL,CAAW0C,KAAX,CAAiB4E,UAvBjC,CAwBI,UAAU,CAAE,KAAKD,UAxBrB,CAyBI,WAAW,CAAE,KAAKE,WAzBtB,CA0BI,cAAc,CAAE,KAAKC,cA1BzB,CA2BI,UAAU,CAAE,IA3BhB,CA4BI,UAAU,CAAE,KA5BhB,CA6BI,gBAAgB,CAAE,KAAKb,gBA7B3B,CA8BI,IAAI,CAAE,KAAKjG,KAAL,CAAWkG,IA9BrB,CA+BI,IAAI,CAAE,KAAKlG,KAAL,CAAWmG,IA/BrB,CAgCI,aAAa,cACT,oBAAC,WAAD,EAAa,SAAS,CAAC,qCAAvB,eACI,oBAAC,MAAD,EAAQ,SAAS,CAAC,4CAAlB,CAA+D,IAAI,CAAC,QAApE,CACI,WAAU,KAAK7G,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,SAAN,CAA9B,CACV;AAFJ,CAGI,MAAM,CAAE,KAAKH,KAAL,CAAWmF,qBAAX,CAAiC0F,OAAjC,CAAyC7C,KAAzC,IAAoD,CAAC,CAHjE,CAII,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACD,mBAAL,CAAyBC,KAAzB,CAAN,EAJb,eAKI,oBAAC,eAAD,EAAiB,IAAI,CAAE5L,MAAvB,CAA+B,KAAK,CAAE,KAAKkD,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,SAAN,CAA9B,CAAtC,EALJ,CADJ,cAQI,oBAAC,MAAD,EAAQ,SAAS,CAAC,kCAAlB,CAAqD,OAAO,CAAC,MAA7D,CACI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACqH,UAAL,EAAN,EACT;AAFJ,CAGI,WAAU,KAAKlI,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,aAAN,CAA9B,CAHd,eAII,oBAAC,eAAD,EAAiB,IAAI,CAAEhE,MAAvB,CAA+B,KAAK,CAAE,CAAE,QAAS,eAAX,CAAtC,EAJJ,CARJ,CAjCR,CAiDI,eAAe,CAAE,CACb,CACI,8BACI,oBAAC,qBAAD,EACI,qBAAqB,CAAE,KAAK6D,KAAL,CAAWiH,qBAAX,EAAoC,EAD/D,CAEI,sBAAsB,CAAE,KAAKjH,KAAL,CAAWyG,sBAAX,EAAqC,EAFjE,CAGI,aAAa,CAAE,KAAKJ,aAHxB,EAFR,CADa,CAjDrB,EAFJ,cAiEI,oBAAC,cAAD,EAAgB,QAAQ,KAAxB,CAAyB,WAAW,CAAC,MAArC,CAA4C,UAAU,CAAE,IAAxD,CAA8D,YAAY,CAAE,CAAG;AAA/E,CACI,eAAe,CAAC,mBADpB,eAII,2BAAK,SAAS,CAAC,YAAf,eACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,KAAK,CAAE,CAAEyE,YAAY,CAAE,GAAhB,CAAnB,eAEI,oBAAC,qBAAD,EACI,UAAU,CAAE,KAAKxL,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BkD,oBAA5B,EAAoD,EADpE,CAEI,eAAe,CAAE,KAFrB,CAGI,cAAc,CAAE,CAAC,KAAKxI,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA7B,CAHpB,CAII,eAAe,CAAC,2BAJpB,CAKI,eAAe,CAAE,yBAACgE,YAAD,QACb,CAAA,MAAI,CAACxJ,KAAL,CAAWvB,+BAAX,CACI+K,YADJ,CACkB,MAAI,CAACxJ,KAAL,CAAW0C,KAAX,CAAiB2C,QADnC,CAEI,MAAI,CAACrF,KAAL,CAAW0C,KAAX,CAAiB4C,UAFrB,CADa,EALrB,CAUI,UAAU,CAAE,CACRD,QAAQ,CAAE,KAAKrF,KAAL,CAAW0C,KAAX,CAAiB2C,QADnB,CAERC,UAAU,CAAE,KAAKtF,KAAL,CAAW0C,KAAX,CAAiB4C,UAFrB,CAVhB,CAcI,SAAS,CAAE,YAdf,CAeI,cAAc,CAAE,KAAKtF,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,aAAN,CAA9B,CAfpB,CAgBI,gBAAgB,CAAC,8BAhBrB,CAiBI,UAAU,CAAC,SAjBf,CAkBI,QAAQ,CAAC,0BAlBb,CAmBI,UAAU,CAAE,IAnBhB,CAoBI,cAAc,CAAE,KApBpB,CAqBI,UAAU,CAAE,KArBhB,CAsBI,SAAS,CAAE,EAtBf,CAuBI,IAAI,CAAE,KAAKH,KAAL,CAAW2I,UAvBrB,CAwBI,IAAI,CAAE,KAAK3I,KAAL,CAAW4I,UAxBrB,CAyBI,UAAU,CAAE,IAzBhB,CA0BI,gBAAgB,CAAE,KAAKxC,sBA1B3B,CA2BI,cAAc,CAAE,KAAKpG,KAAL,CAAWgG,0BAAX,EAAyC,KAAKhG,KAAL,CAAWgG,0BAAX,CAAwC,EAAjF,CAAsF,YAAtF,CAAqG,KAAKhG,KAAL,CAAWgG,0BAAX,CAAwC,EAAxC,CAA6C,UAA7C,CAA0D,EACnL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7CA,EAFJ,CADJ,cAoDI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eAEI,oBAAC,WAAD,EAAa,SAAS,CAAC,oDAAvB,EACK,KAAK1G,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BgG,qBAA5B,EAAqD,KAAKtL,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BgG,qBAA5B,CAAkDjD,MAAlD,CAA2D,CAAhH,EAAqH,KAAKrI,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BC,6BAAjJ,cACG,oBAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,eACI,oBAAC,IAAD,CAAM,MAAN,mBACI,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,oBAAtB,EAA4C,KAAKvF,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BC,6BAA5B,CAA0DkG,0BAAtG,CADJ,cAEI,oBAAC,IAAD,CAAM,QAAN,mBACI,2BAAK,SAAS,CAAC,yBAAf,eACI,0BAAI,SAAS,CAAC,+BAAd,eACI,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,wBAApB,EACK,KAAKzL,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyDkG,eAAzD,GAA6E7L,iBAAiB,CAAC8L,KAA/F,cAEG,4BAAM,SAAS,kDAAf,eACI,oBAAC,gBAAD,EAAkB,EAAE,CAAE,WAAtB,CAAmC,cAAc,CAAC,OAAlD,EADJ,CAFH,CAMG,KAAK3L,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyDkG,eAAzD,GAA6E7L,iBAAiB,CAAC+L,OAA/F,cAEI,4BAAM,SAAS,8CAAf,eACI,oBAAC,gBAAD,EAAkB,EAAE,CAAE,aAAtB,CAAqC,cAAc,CAAC,SAApD,EADJ,CAFJ,cAMI,4BAAM,SAAS,+CAAf,eACI,oBAAC,gBAAD,EAAkB,EAAE,CAAE,cAAtB,CAAsC,cAAc,CAAC,UAArD,EADJ,CAbZ,CADJ,CADJ,cAqBI,2BAAK,SAAS,CAAC,UAAf,EACK,KAAK5L,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyDkG,eAAzD,GAA6E7L,iBAAiB,CAAC8L,KAA/F,cACG,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,qCAApB,CAA0D,IAAI,CAAC,GAA/D,CACI,MAAM,CAAE,KAAKjL,KAAL,CAAWmF,qBAAX,CAAiC0F,OAAjC,CAAyCpH,MAAzC,IAAqD,CAAC,CAC9D;AAFJ,CAGI,WAAU,KAAKnE,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,UAAN,CAA9B,CAHd,CAII,OAAO,CAAE,iBAACN,CAAD,QAAO,CAAA,MAAI,CAAC+H,2BAAL,CAAiC,MAAI,CAACtI,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA7D,CAA2F,MAAI,CAACxF,KAAL,CAAW0C,KAAX,CAAiB2C,QAA5G,CAAsHlB,MAAtH,CAAP,EAJb,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAEvH,WAAvB,EANJ,CADH,cAWG,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,mCAApB,CAAwD,IAAI,CAAC,GAA7D,CACI,MAAM,CAAE,KAAK8D,KAAL,CAAWmF,qBAAX,CAAiC0F,OAAjC,CAAyCT,MAAzC,IAAqD,CAAC,CAC9D;AAFJ,CAGI,WAAU,KAAK9K,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,UAAN,CAA9B,CAHd,CAII,OAAO,CAAE,iBAACN,CAAD,QAAO,CAAA,MAAI,CAAC0H,wBAAL,CAA8B6C,MAA9B,CAAP,EAJb,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAEnO,MAAvB,EANJ,CAZR,cAsBI,oBAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,IAAf,CAAoB,SAAS,CAAC,kCAA9B,CACI,MAAM,CAAE,KAAK+D,KAAL,CAAWmF,qBAAX,CAAiC0F,OAAjC,CAAyCV,QAAzC,IAAuD,CAAC,CAChE;AAFJ,CAGI,WAAU,KAAK7K,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,YAAN,CAA9B,CAHd,CAII,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACwF,aAAL,CAAmBwE,QAAnB,CAAN,EAJb,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAEnO,UAAvB,EANJ,CAtBJ,CA8BK,KAAKsD,KAAL,CAAW0C,KAAX,CAAiB4C,UAAjB,CAA4BE,4BAA5B,CAAyDkG,eAAzD,GAA6E7L,iBAAiB,CAAC8L,KAA/F,cACG,oBAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,IAAf,CAAoB,SAAS,CAAC,kCAA9B,CACI,MAAM,CAAE,KAAKjL,KAAL,CAAWmF,qBAAX,CAAiC0F,OAAjC,CAAyCR,SAAzC,IAAwD,CAAC,CACjE;AAFJ,CAGI,WAAU,KAAK/K,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,aAAN,CAA9B,CAHd,CAII,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC+G,8BAAL,CAAoCmD,SAApC,CAAN,EAJb,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAEhO,UAAvB,EANJ,CADH,CASK,EAvCV,CArBJ,CADJ,CAFJ,CADJ,cAsEI,oBAAC,IAAD,CAAM,IAAN,mBACI,oBAAC,gBAAD,EACI,EAAE,CAAC,uBADP,CAEI,IAAI,CAAC,uBACL;AAHJ,CAII,IAAI,CAAE,KAAK2D,KAAL,CAAWqD,YAJrB,CAKI,WAAW,CAAE,IALjB,CAMI,WAAW,CAAE,aANjB,CAOI,IAAI,CAAE,KAAKL,cAPf,CAQI,cAAc,CAAE,KAAKQ,kBARzB,CASI,WAAW,CAAE,KAAKJ,eATtB,EADJ,CAtEJ,CADH,CAqFK,EAtFV,CAFJ,CApDJ,CADJ,CAJJ,CAjEJ,CAHJ,CADJ,CAJJ,CADJ,CA4OK,KAAK9D,KAAL,CAAW0C,KAAX,CAAiBT,SAAjB,eACG,oBAAC,aAAD,EAAe,IAAI,CAAE,KAAKjC,KAAL,CAAW0C,KAAX,CAAiBT,SAAtC,CACI,UAAU,CAAE,KAAKO,UADrB,CAEI,SAAS,CAAE,KAAKxC,KAAL,CAAW0C,KAAX,CAAiBH,SAFhC,CAGI,UAAU,CAAE,KAAKvC,KAAL,CAAW0C,KAAX,CAAiB+C,UAHjC,CAII,UAAU,CAAE,KAAKzF,KAAL,CAAWiB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEL,EAAE,CAAE,2BAAN,CAA9B,CAJhB,CAKI,WAAW,CAAE,KAAK2D,WALtB,CAMI,KAAK,CAAE,KAAKxE,KAAL,CAAW0C,KAAX,CAAiBD,SAN5B,CAOI,aAAa,CAAE,KAAKmG,aAPxB,CAQI,YAAY,CAAE,KAAK5I,KAAL,CAAW0C,KAAX,CAAiBmJ,YARnC,CASI,WAAW,CAAE,KAAK7L,KAAL,CAAW9B,WAT5B,CAUI,cAAc,CAAE,KAAKwC,KAAL,CAAW2B,cAAX,EAA6B,EAVjD,CAWI,eAAe,CAAE,KAAKrC,KAAL,CAAW0C,KAAX,CAAiBJ,kBAAjB,GAAwC,IAAxC,CAA+C,EAA/C,CAAoD8I,eAXzE,CAYI,YAAY,CAAE,KAAKpL,KAAL,CAAW0C,KAAX,CAAiBD,SAAjB,cACV,oBAAC,KAAD,EAAO,SAAS,CAAE,KAAKzC,KAAL,CAAW0C,KAAX,CAAiBH,SAAnC,CACI,aAAa,CAAE,KAAKvC,KAAL,CAAWiB,IAAX,CAAgBC,aADnC,CAEI,eAAe,CAAE,KAAKyH,eAF1B,CAGI,UAAU,CAAE,KAAK3I,KAAL,CAAW0C,KAAX,CAAiB+C,UAHjC,CAII,cAAc,CAAE,KAAK/E,KAAL,CAAW2B,cAAX,EAA6B,EAJjD,EADU,CAQV,KAAKrC,KAAL,CAAW0C,KAAX,CAAiBJ,kBAAjB,cACI,oBAAC,iBAAD,EACI,aAAa,CAAE,uBAAC/B,CAAD,QAAO,CAAA,MAAI,CAACqC,aAAL,CAAmBrC,CAAnB,CAAP,EADnB,CAEI,cAAc,CAAE,KAAKG,KAAL,CAAW2B,cAAX,EAA6B,EAFjD,EADJ,CAKI,KAAK3B,KAAL,CAAWC,QAAX,cACA,oBAAC,WAAD,EACI,QAAQ,CAAE,KAAKD,KAAL,CAAWC,QADzB,CAEI,aAAa,CAAE,uBAACJ,CAAD,QAAO,CAAA,MAAI,CAACqC,aAAL,CAAmBrC,CAAnB,CAAP,EAFnB,CAGI,cAAc,CAAE,KAAKG,KAAL,CAAW2B,cAAX,EAA6B,EAHjD,CAII,UAAU,CAAE,KAAKa,UAJrB,CAKI,cAAc,CAAE,KAAKM,cALzB,CAMI,WAAW,CAAE,KAAKD,WANtB,CAOI,aAAa,CAAE,KAAKwD,aAPxB,CAQI,mBAAmB,CAAE,KAAK/G,KAAL,CAAW0C,KAAX,CAAiBoJ,mBAAjB,EAAwC,EARjE,CASI,WAAW,CAAE,KAAK9L,KAAL,CAAW0C,KAAX,CAAiB6F,WATlC,EADA,cAaA,wCAtCZ,EA7OR,CADJ,CA2RH,C,0CA7qCD,kCAAgCvI,KAAhC,CAAuCU,KAAvC,CAA8C,CAE1C,GAAIV,KAAK,CAAC0C,KAAN,CAAYmJ,YAAZ,GAA6B,EAA7B,EAAmC7L,KAAK,CAAC0C,KAAN,CAAYmJ,YAAZ,GAA6BnL,KAAK,CAACmL,YAA1E,CAAwF,CACpFtO,KAAK,CAACuE,IAAN,CAAW9B,KAAK,CAAC0C,KAAN,CAAYmJ,YAAvB,EACA7L,KAAK,CAAC0C,KAAN,CAAYmJ,YAAZ,CAA2B,EAA3B,CACH,CAED,GAAI7L,KAAK,CAAC0C,KAAN,CAAYqJ,KAAZ,GAAsB,EAAtB,EAA4B/L,KAAK,CAAC0C,KAAN,CAAYqJ,KAAZ,GAAsBrL,KAAK,CAACqL,KAA5D,CAAmE,CAC/DxO,KAAK,CAACwO,KAAN,CAAY/L,KAAK,CAAC0C,KAAN,CAAYqJ,KAAxB,EACA/L,KAAK,CAAC0C,KAAN,CAAYqJ,KAAZ,CAAoB,EAApB,CACH,CACD,MAAO,KAAP,CACH,C,mCA/C+BnQ,S,EAouCpC,GAAMoQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACtL,KAAD,CAAW,CAC/B,MAAO,CACHgC,KAAK,CAAEhC,KAAK,CAACgC,KADV,CAAP,CAGH,CAJD,CAMA,cAAe7G,CAAAA,OAAO,CAACmQ,eAAD,CAAkB,CACpCjO,WAAW,CAAXA,WADoC,CACvBC,UAAU,CAAVA,UADuB,CACXE,WAAW,CAAXA,WADW,CACED,uBAAuB,CAAvBA,uBADF,CAC2BG,gBAAgB,CAAhBA,gBAD3B,CAC6CC,2BAA2B,CAA3BA,2BAD7C,CAEpCF,gCAAgC,CAAhCA,gCAFoC,CAEFG,iBAAiB,CAAjBA,iBAFE,CAEiBC,yBAAyB,CAAzBA,yBAFjB,CAE4CC,4BAA4B,CAA5BA,4BAF5C,CAGpCC,+BAA+B,CAA/BA,+BAHoC,CAGHC,oBAAoB,CAApBA,oBAHG,CAGmBC,wBAAwB,CAAxBA,wBAHnB,CAG6CC,yBAAyB,CAAzBA,yBAH7C,CAAlB,CAAP,CAIZ9C,UAAU,CAACiE,qBAAD,CAJE,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, filterColumnData, changeStorageCategoryFilter,\r\n    openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion,\r\n    crudSampleStorageLocation\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { ProductList } from '../product/product.styled';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { uuid } from \"uuidv4\";\r\nimport TreeEditable from \"../../components/form-tree-editable/TreeEditable\";\r\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\r\nimport { mapTree, removeItems } from \"@progress/kendo-react-treelist\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport AddTreeview from './AddTreeview';\r\nimport AddTreeProperties from './AddTreeProperties';\r\nimport { Splitter } from '@progress/kendo-react-layout';\r\nimport TransactionListMaster from '../../components/TransactionListMaster';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport StorageCategoryFilter from './StorageCategoryFilter';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport Esign from '../audittrail/Esign';\r\n\r\n\r\nclass SampleStorageLocation extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            toggleAction: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            treeData: [\r\n                {\r\n                    text: \"root\",\r\n                    expanded: true,\r\n                    editable: true,\r\n                    root: true,\r\n                    id: uuid(),\r\n                }],\r\n            panes: [{\r\n                size: '50%',\r\n                scrollable: false\r\n            }],\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            selectedItem: undefined\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    onChange = (event) => {\r\n\r\n        this.setState({ panes: event.newState })\r\n\r\n    };\r\n    componentDidUpdate(previousProps) {\r\n\r\n        let isComponentUpdated = false;\r\n        let { filterData } = this.state;\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ controlMap, userRoleControlRights });\r\n        }\r\n\r\n        if (this.props.Login.treeData !== previousProps.Login.treeData) {\r\n            this.setState({\r\n                treeData: this.props.Login.treeData\r\n            });\r\n        }\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\r\n\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n                this.setState({\r\n                    treeDataView:\r\n                        JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data\r\n                });\r\n            }\r\n        }\r\n        let nfilterStorageCategory = this.state.nStorageCategory || {};\r\n        let filterStorageCategory = this.state.filterStorageCategory || {};\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\r\n            filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\r\n            if (filterStorageCategory && filterStorageCategory.length > 0) {\r\n\r\n                const filterCategory = filterStorageCategory.filter(item => item.value === this.props.Login.masterData.nfilterStorageCategory);//filterStorageCategory[0];\r\n                nfilterStorageCategory = filterCategory[0];\r\n            }\r\n            isComponentUpdated = true;\r\n        } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\r\n            nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\r\n            isComponentUpdated = true;\r\n        }\r\n        if (isComponentUpdated) {\r\n            this.setState({ nfilterStorageCategory, selectedRecord, filterStorageCategory });\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({\r\n                selectedRecord: this.props.Login.selectedRecord\r\n            });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n    }\r\n    addChildNode = (e, clickedItem) => {\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.id === clickedItem.id) {\r\n                item.items = item.items || [];\r\n                item.items.push({\r\n                    id: uuid(),\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                    expanded: true,\r\n                    editable: false,\r\n                    locationlastnode: false,\r\n                    containerfirstnode: false,\r\n                    containerlastnode: false\r\n                });\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData });\r\n    };\r\n\r\n    equalNode = (e, clickedItem) => {\r\n        let parentItem = {};\r\n        let parentFound = false;\r\n        let newData = [...this.state.treeData];\r\n        mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.items) {\r\n                if (parentFound) {\r\n                    parentItem = item;\r\n                    parentFound = false;\r\n                }\r\n            }\r\n\r\n            if (item.id === clickedItem.id) {\r\n                parentFound = true;\r\n            }\r\n\r\n            return item;\r\n        });\r\n        if (parentItem.text === undefined) {\r\n            newData.push({\r\n                id: uuid(),\r\n                text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                expanded: true,\r\n                editable: false,\r\n                locationlastnode: false,\r\n                containerfirstnode: false,\r\n                containerlastnode: false\r\n            });\r\n            this.setState({ treeData: newData });\r\n        } else {\r\n            newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n                if (item.id === parentItem.id) {\r\n                    item.items.push({\r\n                        id: uuid(),\r\n                        text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                        expanded: true,\r\n                        editable: false,\r\n                        locationlastnode: false,\r\n                        containerfirstnode: false,\r\n                        containerlastnode: false\r\n                    });\r\n                }\r\n                return item;\r\n            });\r\n            this.setState({ treeData: newData });\r\n        }\r\n    };\r\n    deleteNode = (clickedItem) => {\r\n        if (clickedItem.root && clickedItem.root === true) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PARENTNODENOTALLOWTODELETE\" }));\r\n        } else {\r\n            const newData = removeItems(this.state.treeData, \"items\", (item) => {\r\n                return item.id === clickedItem.id;\r\n            });\r\n            this.setState({ treeData: newData });\r\n        }\r\n    };\r\n    editRecord = (e, clickedItem) => {\r\n        this.setState({ toggleAction: !this.state.toggleAction });\r\n    };\r\n    openModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true, selectedRecord: {}, loadTreeProperties: false,\r\n                treeData: [\r\n                    {\r\n                        text: \"root\",\r\n                        expanded: true,\r\n                        editable: true,\r\n                        root: true,\r\n                        id: uuid(),\r\n                    },\r\n                ], operation: \"create\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openModal: false, selectedRecord: {}\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Approve\" || this.props.Login.operation === \"copy\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                selectedId = null;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === \"checkbox\") {\r\n            selectedRecord[event.target.name] = event.target.checked;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    itemRender = (props) => {\r\n        if (this.state.toggleAction) {\r\n            return (\r\n                <>\r\n                    {props.item.editable ? (\r\n                        <Form.Group className=\"k-editable-text-wrap\">\r\n                            <Form.Control\r\n                                id={\"nodename\"}\r\n                                name={\"nodename\"}\r\n                                type=\"text\"\r\n                                onKeyDown={(e) => e.stopPropagation()}\r\n                                value={props.item.text}\r\n                                autoFocus\r\n                                autoComplete=\"off\"\r\n                                onChange={(e) => this.handleChange(e, props.item)}\r\n                                onBlur={(e) => this.handleBlur(e, props.item)}\r\n                            />\r\n                        </Form.Group>\r\n                    ) : (\r\n                        <span>{props.item.text}</span>\r\n                    )}\r\n                </>\r\n            );\r\n        } else {\r\n            return (\r\n                <>\r\n                    {props.item ? (\r\n                        <>\r\n                            <span className={`normal-node\r\n                            ${props.item.editable ? \"active-node\" : \"\"}\r\n                            ${props.item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                            `}>\r\n                                {props.item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                    props.item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                        props.item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                            props.item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                {props.item.text}\r\n                            </span>\r\n                            {props.item.editable ? (\r\n                                <>\r\n                                    <span\r\n                                        className=\"action-icon tree-level1\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EQUALNODE\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.equalNode(e, props.item);\r\n                                        }}\r\n                                    ></span>\r\n                                    <span\r\n                                        className=\"action-icon tree-level2\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CHILDNODE\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.addChildNode(e, props.item);\r\n                                        }}\r\n                                    ></span>\r\n                                    <span\r\n                                        className=\"k-icon k-i-edit k-i-pencil\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.editRecord(e, props.item);\r\n                                        }}\r\n                                    ></span>\r\n                                    {!props.item.isRoot ? (\r\n                                        <span\r\n                                            className=\"k-icon k-i-delete\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                this.deleteNode(props.item);\r\n                                            }}\r\n                                        ></span>\r\n                                    ) : null}\r\n                                </>\r\n                            ) : null}\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClick = (event) => {\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData });\r\n    };\r\n\r\n    onExpandChange = (event) => {\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n    itemRenderView = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        if (!this.state.toggleActionView) {\r\n            return (\r\n                <>\r\n                    {clickedItem.item ? (\r\n                        <>\r\n                            <span className={`normal-node\r\n                        ${item.selected ? \"active-node\" : \"\"}\r\n                        ${item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                        `} >\r\n                                {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                    item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                        item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                            item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                {item.text}\r\n                            </span>\r\n                            {/* <ul className=\"list-inline mb-0\">\r\n                                <li className=\"list-inline-item mr-3\">{clickedItem.item.text}</li> */}\r\n                            {clickedItem.item.editable ? (\r\n                                <>\r\n                                    {/* <li className=\"list-inline-item\"> */}\r\n                                    <span\r\n                                        className=\"action-icon tree-toggle m-l-half\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_PROPERTIES\" })}\r\n                                        onClick={(e) => this.setProperties(e, clickedItem)}\r\n                                    ></span>\r\n                                    {/* </li> */}\r\n                                </>\r\n                            ) : null}\r\n                            {/* </ul> */}\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n    onItemClickView = (event) => {\r\n        // if (this.state.selectedItem) {\r\n        //     let selectedobj = this.state.selectedItem;\r\n        //         selectedobj.selected = false\r\n        //     this.setState({\r\n        //         selectedItem : selectedobj\r\n        //     })\r\n        // }\r\n        // this.setState({\r\n        //     selectedItem : event.item\r\n        // })            \r\n\r\n        let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n            }\r\n            return item;\r\n        });\r\n        newData.map((data) => {\r\n            this.clearSelected(data, event.item)\r\n        })\r\n        this.setState({ treeDataView: newData });\r\n    };\r\n    clearSelected(innerObj, selectedItem) {\r\n        if (innerObj.id == selectedItem.id) {\r\n            innerObj.selected = true;\r\n        } else {\r\n            innerObj.selected = false;\r\n        }\r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            innerObj.items.map((childObj) => {\r\n                this.clearSelected(childObj, selectedItem)\r\n            })\r\n        }\r\n        return innerObj\r\n    }\r\n    onExpandChangeView = (event) => {\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n    setProperties = (event, clickedItem) => {\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        this.props.openPropertyModal(clickedItem, editId);\r\n    };\r\n\r\n    handleChange = (e, clickedItem) => {\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.id === clickedItem.id) {\r\n                item.text = e.target.value;\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData });\r\n    };\r\n\r\n    handleBlur = (e, item) => {\r\n        item.editable = false;\r\n        this.setState({ toggleAction: !this.state.toggleAction });\r\n    };\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.loadTreeProperties === true) {\r\n            this.onSaveProperties(saveType, formRef);\r\n        } else {\r\n            this.onSaveSampleStorageLocation(saveType, formRef);\r\n        }\r\n    };\r\n    onSaveProperties = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n\r\n        if (this.props.Login.clickedItem && this.props.Login.clickedItem !== undefined) {\r\n            let inputData = [];\r\n            let jsondata = {}\r\n            let postParam = undefined;\r\n            let count = 0;\r\n            if (selectedRecord[\"locationlastnode\"] !== undefined && selectedRecord[\"locationlastnode\"] === true) {\r\n                count = count + 1;\r\n            }\r\n            if (selectedRecord[\"containerfirstnode\"] !== undefined && selectedRecord[\"containerfirstnode\"] === true) {\r\n                count = count + 1;\r\n            }\r\n            if (selectedRecord[\"containerlastnode\"] !== undefined && selectedRecord[\"containerlastnode\"] === true) {\r\n                count = count + 1;\r\n            }\r\n            if (count > 1) {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTONLYONE\" }));\r\n            } else {\r\n                let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n                    if (item.id === this.props.Login.clickedItem.item.id) {\r\n                        item.locationlastnode = selectedRecord[\"locationlastnode\"] !== undefined ? selectedRecord[\"locationlastnode\"] : false;\r\n                        item.containerfirstnode = selectedRecord[\"containerfirstnode\"] !== undefined ? selectedRecord[\"containerfirstnode\"] : false;\r\n                        item.containerlastnode = selectedRecord[\"containerlastnode\"] !== undefined ? selectedRecord[\"containerlastnode\"] : false;\r\n                    }\r\n                    if (item.selected && item.selected === true) {\r\n                        item.selected = false;\r\n                    }\r\n                    return item;\r\n                });\r\n\r\n                postParam = { inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\r\n\r\n                jsondata[\"data\"] = newData;\r\n                inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n                inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n                inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n                inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]\r\n                inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];\r\n                inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nstoragecategorycode\"]\r\n                inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n                inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n                inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\r\n\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"update\", saveType, formRef, postParam\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onSaveSampleStorageLocation = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n\r\n        // if (selectedRecord[\"nstoragecategorycode\"] && selectedRecord[\"nstoragecategorycode\"] !== undefined) {\r\n        //     if (selectedRecord[\"ssamplestoragelocationname\"] && selectedRecord[\"ssamplestoragelocationname\"].length > 0) {\r\n\r\n        let inputData = [];\r\n        let jsondata = {}\r\n        let postParam = undefined;\r\n        let countLevels = 0;\r\n\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            }\r\n            if (item.expanded === false) {\r\n                item.expanded = true;\r\n            }\r\n            countLevels++;\r\n            return item;\r\n        });\r\n\r\n        // let lhs = JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data;\r\n        // let rhs = newData;\r\n\r\n        // console.log(detailedDiff(lhs, rhs));\r\n\r\n        // return;\r\n        // postParam = { inputListName: \"SampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\r\n\r\n        if (countLevels > 3) {\r\n\r\n\r\n            jsondata[\"data\"] = newData;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n            inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n\r\n            inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = selectedRecord[\"ssamplestoragelocationname\"];\r\n            inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = selectedRecord[\"nstoragecategorycode\"].value;\r\n            inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\r\n\r\n            if (this.props.Login.operation === \"create\") {\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"create\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    // }\r\n                    // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n                }\r\n            } else {\r\n                inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]\r\n                inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n                inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"update\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n                }\r\n\r\n            }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_CREATEATLEASTFOURLEVELS\" }));\r\n        }\r\n\r\n    }\r\n\r\n    deleteSampleStorageLocation = (ncontrolCode) => {\r\n        let inputData = [];\r\n        inputData[\"sampleStorageVersion\"] = {};\r\n        inputData[\"sampleStorageLocation\"] = {};\r\n\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"]\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"]\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"]\r\n        inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"]\r\n\r\n        const inputParam = {\r\n            methodUrl: \"SampleStorageLocation\",\r\n            classUrl: \"samplestoragelocation\",\r\n            inputData: inputData,\r\n            operation: \"delete\", searchRef: this.searchRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\", openModal: true,\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n\r\n    }\r\n    confirmDelete = (ncontrolCode) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteSampleStorageLocation(ncontrolCode));\r\n    };\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    handleDetailPageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (caseNo === 3) {\r\n\r\n            let nfilterStorageCategory = this.state.nfilterStorageCategory || {}\r\n            nfilterStorageCategory = comboData;\r\n            this.searchRef.current.value = \"\";\r\n            this.setState({ nfilterStorageCategory })\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n\r\n    }\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": this.props.Login.masterData.selectedStorageCategoryName && this.props.Login.masterData.selectedStorageCategoryName !== null ? this.props.Login.masterData.selectedStorageCategoryName : \"NA\"\r\n                    // \"value\": this.props.Login.masterData.selectedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\r\n                    //     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        if (this.state.nfilterStorageCategory.value) {\r\n            let inputParam = {\r\n                inputData: {\r\n                    nstoragecategorycode: this.state.nfilterStorageCategory.value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nfilterStorageCategory: this.state.nfilterStorageCategory\r\n\r\n                }\r\n            }\r\n            this.props.changeStorageCategoryFilter(inputParam, this.props.Login.masterData.filterStorageCategory);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STORAGECATEGORYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n\r\n    onApproveSampleStorageLocation = (ncontrolCode) => {\r\n        let inputData = [];\r\n        let locationEnd = false;\r\n        let storageStart = false;\r\n        let storageEnd = false;\r\n        mapTree(this.state.treeDataView, \"items\", (item) => {\r\n            if (item.locationlastnode === true) {\r\n                locationEnd = true;\r\n            }\r\n            if (item.containerfirstnode === true) {\r\n                storageStart = true;\r\n            }\r\n            if (item.containerlastnode === true) {\r\n                storageEnd = true;\r\n            }\r\n            return null;\r\n        });\r\n        if (locationEnd === false) {\r\n            toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTLOCATIONEND\" }));\r\n            return;\r\n        }\r\n        if (storageStart === false) {\r\n            toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGESTART\" }));\r\n            return;\r\n        }\r\n        if (storageEnd === false) {\r\n            toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGEEND\" }));\r\n            return;\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n        const inputParam = {\r\n            inputData: inputData,\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageLocation\",\r\n            displayName: \"IDS_SAMPLESTORAGELOCATION\",\r\n            userInfo: this.props.Login.userInfo, operation: \"Approve\"\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, openModal: true, operation: \"Approve\",\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    copySampleStorageversion = (ncontrolCode) => {\r\n        let inputData = [];\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n        const inputParam = {\r\n            inputData: inputData,\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageVersion\",\r\n            displayName: \"IDS_SAMPLESTORAGELOCATION\",\r\n            userInfo: this.props.Login.userInfo, operation: \"copy\"\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, openModal: true, operation: \"copy\",\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo, \"nstoragecategorycode\": nfilterStorageCategory },\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageLocation\",\r\n            displayName: \"IDS_SAMPLESTORAGELOCATION\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n    onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\r\n    }\r\n    openStorageLocation = (addId) => {\r\n        if (this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0) {\r\n            this.props.fetchStorageCategory({ userInfo: this.props.Login.userInfo, id: uuid(), nfilterStorageCategory: this.state.nfilterStorageCategory, addId });\r\n        } else {\r\n            toast.warning(this.props.intl.formatMessage({ id: \"IDS_SELECTSTORAGECATEGORY\" }));\r\n        }\r\n    }\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n    render() {\r\n\r\n        const addId = this.state.controlMap.has(\"Add SampleStorageLocation\") && this.state.controlMap.get(\"Add SampleStorageLocation\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageLocation\") && this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;\r\n        const copyId = this.state.controlMap.has(\"Copy SampleStorageLocation\") && this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"Approve SampleStorageLocation\") && this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;\r\n\r\n\r\n        const filterParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\",\r\n            fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n        const mandatoryFields = [\r\n            { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_SAMPLESTORAGELOCATIONNAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }\r\n        ]\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-4 screen-height-window\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        : \"\"}\r\n                    <Row noGutters={true}>\r\n                        <Col md={12} className=\"parent-port-height\">\r\n                            {/* <Col md={12} className='parent-port-height-nobreadcrumb sticky_head_parent' ref={(parentHeight) => { this.parentHeight = parentHeight }}>\r\n                            <ListWrapper> */}\r\n                            <SplitterLayout borderColor=\"#999\" percentage={true} primaryIndex={1} onSecondaryPaneSizeChange={this.paneSizeChange} secondaryInitialSize={25} primaryMinSize={40} secondaryMinSize={20}>\r\n                                {/* First column */}\r\n                                <TransactionListMaster\r\n                                    paneHeight={this.state.parentHeight}\r\n                                    needMultiSelect={false}\r\n                                    masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.sampleStorageLocation || []}\r\n                                    selectedMaster={[this.props.Login.masterData.selectedSampleStorageLocation]}\r\n                                    primaryKeyField=\"nsamplestoragelocationcode\"\r\n                                    getMasterDetail={(selectedItem) =>\r\n                                        this.props.getSelectedSampleStorageLocation(\r\n                                            selectedItem,\r\n                                            this.props.Login.userInfo, this.props.Login.masterData\r\n                                        )}\r\n                                    inputParam={{\r\n                                        userInfo: this.props.Login.userInfo,\r\n                                        masterData: this.props.Login.masterData\r\n                                    }}\r\n                                    mainField={\"ssamplestoragelocationname\"}\r\n                                    selectedListName=\"selectedSampleStorageLocation\"\r\n                                    objectName=\"LocationMaster\"\r\n                                    listName=\"IDS_SAMPLESTORAGELOCATION\"\r\n                                    filterColumnData={this.props.filterColumnData}\r\n                                    searchListName=\"searchedData\"\r\n                                    searchRef={this.searchRef}\r\n                                    filterParam={filterParam}\r\n                                    showFilter={this.props.Login.showFilter}\r\n                                    openFilter={this.openFilter}\r\n                                    closeFilter={this.closeFilter}\r\n                                    onFilterSubmit={this.onFilterSubmit}\r\n                                    needFilter={true}\r\n                                    hidePaging={false}\r\n                                    handlePageChange={this.handlePageChange}\r\n                                    skip={this.state.skip}\r\n                                    take={this.state.take}\r\n                                    commonActions={\r\n                                        <ProductList className=\"d-flex product-category float-right\">\r\n                                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                // data-for=\"tooltip-common-wrap\"\r\n                                                hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                                onClick={() => this.openStorageLocation(addId)}>\r\n                                                <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                                            </Button>\r\n                                            <Button className=\"btn btn-circle outline-grey ml-2\" variant=\"link\"\r\n                                                onClick={() => this.reloadData()}\r\n                                                // data-for=\"tooltip-common-wrap\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                <FontAwesomeIcon icon={faSync} style={{ \"width\": \"0.6!important\" }} />\r\n                                            </Button>\r\n                                        </ProductList>\r\n                                    }\r\n                                    filterComponent={[\r\n                                        {\r\n                                            \"IDS_TESTFILTER\":\r\n                                                <StorageCategoryFilter\r\n                                                    filterStorageCategory={this.state.filterStorageCategory || []}\r\n                                                    nfilterStorageCategory={this.state.nfilterStorageCategory || {}}\r\n                                                    onComboChange={this.onComboChange}\r\n                                                />\r\n                                        }\r\n                                    ]}\r\n\r\n                                />\r\n\r\n                                {/* End of first column */}\r\n                                <SplitterLayout vertical borderColor=\"#999\" percentage={true} primaryIndex={1} //secondaryInitialSize={400}\r\n                                    customClassName=\"fixed_list_height\">\r\n                                    {/* <PerfectScrollbar> */}\r\n                                    {/* Start of second column */}\r\n                                    <div className=\"card_group\">\r\n                                        <Row>\r\n                                            <Col md={3} style={{ paddingRight: '0' }}>\r\n                                                {/* Start of version column */}\r\n                                                <TransactionListMaster\r\n                                                    masterList={this.props.Login.masterData.sampleStorageVersion || []}\r\n                                                    needMultiSelect={false}\r\n                                                    selectedMaster={[this.props.Login.masterData.selectedSampleStorageVersion]}\r\n                                                    primaryKeyField=\"nsamplestorageversioncode\"\r\n                                                    getMasterDetail={(selectedItem) =>\r\n                                                        this.props.getSelectedSampleStorageVersion(\r\n                                                            selectedItem, this.props.Login.userInfo,\r\n                                                            this.props.Login.masterData\r\n                                                        )}\r\n                                                    inputParam={{\r\n                                                        userInfo: this.props.Login.userInfo,\r\n                                                        masterData: this.props.Login.masterData\r\n                                                    }}\r\n                                                    mainField={\"nversionno\"}\r\n                                                    mainFieldLabel={this.props.intl.formatMessage({ id: \"IDS_VERSION\" })}\r\n                                                    selectedListName=\"selectedSampleStorageVersion\"\r\n                                                    objectName=\"Version\"\r\n                                                    listName=\"IDS_SAMPLESTORAGEVersion\"\r\n                                                    hideSearch={true}\r\n                                                    needValidation={false}\r\n                                                    needFilter={false}\r\n                                                    moreField={[]}\r\n                                                    skip={this.state.detailSkip}\r\n                                                    take={this.state.detailTake}\r\n                                                    hidePaging={true}\r\n                                                    handlePageChange={this.handleDetailPageChange}\r\n                                                    splitModeClass={this.state.splitChangeWidthPercentage && this.state.splitChangeWidthPercentage > 50 ? 'split-mode' : this.state.splitChangeWidthPercentage > 40 ? 'split-md' : ''}\r\n                                                // actionIcons={\r\n                                                //     [\r\n                                                //         {\r\n                                                //             title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                //             controlname: \"faPencilAlt\",\r\n                                                //             objectName: \"detailtoedit\",\r\n                                                //             hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\r\n                                                //             onClick: (e) => this.props.editSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, this.props.Login.masterData),\r\n                                                //         },\r\n                                                //         {\r\n                                                //             title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                //             controlname: \"faTrashAlt\",\r\n                                                //             objectName: \"mastertodelete\",\r\n                                                //             hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\r\n                                                //             onClick: () => this.confirmDelete(deleteId)\r\n                                                //         }\r\n                                                //     ]\r\n                                                // }\r\n                                                />\r\n                                                {/* End of version column */}\r\n                                            </Col>\r\n                                            <Col md={9}>\r\n                                                {/* Start of detailed content */}\r\n                                                <ProductList className=\"panel-main-content grid-master tree-view-container\">\r\n                                                    {this.props.Login.masterData.sampleStorageLocation && this.props.Login.masterData.sampleStorageLocation.length > 0 && this.props.Login.masterData.selectedSampleStorageLocation ?\r\n                                                        <Card className=\"border-0\">\r\n                                                            <Card.Header>\r\n                                                                <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedSampleStorageLocation.ssamplestoragelocationname}</Card.Title>\r\n                                                                <Card.Subtitle>\r\n                                                                    <div className=\"d-flex product-category\">\r\n                                                                        <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                            <Nav.Link className=\"action-icons-wrap mr-2\">\r\n                                                                                {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n\r\n                                                                                    <span className={`btn btn-outlined  outline-secondary btn-sm ml-3`}>\r\n                                                                                        <FormattedMessage id={\"IDS_DRAFT\"} defaultMessage=\"Draft\" />\r\n                                                                                    </span>\r\n                                                                                    :\r\n                                                                                    this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.RETIRED ?\r\n\r\n                                                                                        <span className={`btn btn-outlined outline-danger btn-sm ml-3`}>\r\n                                                                                            <FormattedMessage id={\"IDS_RETIRED\"} defaultMessage=\"Retired\" />\r\n                                                                                        </span>\r\n                                                                                        :\r\n                                                                                        <span className={`btn btn-outlined outline-success btn-sm ml-3`}>\r\n                                                                                            <FormattedMessage id={\"IDS_APPROVED\"} defaultMessage=\"Approved\" />\r\n                                                                                        </span>\r\n                                                                                }\r\n                                                                            </Nav.Link>\r\n                                                                        </h2>\r\n                                                                        <div className=\"d-inline\">\r\n                                                                            {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n                                                                                <Nav.Link className=\"btn btn-circle 1 outline-grey mr-2 \" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                                    onClick={(e) => this.onEditSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, editId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faPencilAlt} />\r\n\r\n                                                                                </Nav.Link>\r\n                                                                                :\r\n                                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_COPY\" })}\r\n                                                                                    onClick={(e) => this.copySampleStorageversion(copyId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faCopy} />\r\n\r\n                                                                                </Nav.Link>\r\n                                                                            }\r\n                                                                            <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                                // data-for=\"tooltip_list_wrap\"\r\n                                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                                onClick={() => this.confirmDelete(deleteId)}\r\n                                                                            >\r\n                                                                                <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                            </Nav.Link>\r\n                                                                            {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n                                                                                <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                                    onClick={() => this.onApproveSampleStorageLocation(approveId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faThumbsUp} />\r\n                                                                                </Nav.Link>\r\n                                                                                : \"\"\r\n                                                                            }\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </Card.Subtitle>\r\n                                                            </Card.Header>\r\n                                                            <Card.Body>\r\n                                                                <TreeViewEditable\r\n                                                                    id=\"samplestoragelocation\"\r\n                                                                    name=\"samplestoragelocation\"\r\n                                                                    // label=\"Sample Storage Location\"\r\n                                                                    data={this.state.treeDataView}\r\n                                                                    expandIcons={true}\r\n                                                                    selectField={'active-node'}\r\n                                                                    item={this.itemRenderView}\r\n                                                                    onExpandChange={this.onExpandChangeView}\r\n                                                                    onItemClick={this.onItemClickView}\r\n                                                                />\r\n                                                            </Card.Body>\r\n                                                        </Card>\r\n                                                        : \"\"}\r\n\r\n                                                </ProductList>\r\n                                                {/* End of detailed content */}\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                    </div>\r\n                                    {/* End of second column */}\r\n                                    {/* </PerfectScrollbar> */}\r\n\r\n                                </SplitterLayout>\r\n\r\n                            </SplitterLayout>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGELOCATION\" })}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.loadTreeProperties === true ? [] : mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            this.props.Login.loadTreeProperties ? (\r\n                                <AddTreeProperties\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                />\r\n                            ) : this.state.treeData ? (\r\n                                <AddTreeview\r\n                                    treeData={this.state.treeData}\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    itemRender={this.itemRender}\r\n                                    onExpandChange={this.onExpandChange}\r\n                                    onItemClick={this.onItemClick}\r\n                                    onComboChange={this.onComboChange}\r\n                                    storageCategoryList={this.props.Login.storageCategoryList || []}\r\n                                    isOnlyDraft={this.props.Login.isOnlyDraft}\r\n                                />\r\n                            ) : (\r\n                                <></>\r\n                            )\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential, filterColumnData, changeStorageCategoryFilter,\r\n    getSelectedSampleStorageLocation, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation,\r\n    getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion, crudSampleStorageLocation\r\n})(injectIntl(SampleStorageLocation));"]},"metadata":{},"sourceType":"module"}