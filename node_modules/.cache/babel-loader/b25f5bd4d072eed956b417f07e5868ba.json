{"ast":null,"code":"import _toConsumableArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl}from'react-intl';import{Row,Col}from'react-bootstrap';import{toast}from'react-toastify';import{constructOptionList,getControlMap,onSaveMandatoryValidation,searchData,searchJsonData,showEsign,sortData,onDropAttachFileList,deleteAttachmentDropZone,create_UUID,replaceBackSlash,Lims_JSON_stringify}from'../../components/CommonScript';//import SortableTree from 'react-sortable-tree'; \nimport DataGrid from'../../components/data-grid/data-grid.component';import{Utils as QbUtils}from\"@react-awesome-query-builder/ui\";import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{callService}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{ListWrapper}from'../../components/client-group.styles';// import ReactTooltip from 'react-tooltip';\nimport{uuid}from\"uuidv4\";import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import Esign from'../audittrail/Esign';import rsapi from'../../rsapi';import AddSampleStorageMapping from'./AddSampleStorageMapping';import Axios from'axios';import Preloader from'../../components/preloader/preloader.component';import{process}from'@progress/kendo-data-query';//import Spreadsheet from '../../components/Spreadsheet/Spreadsheet';\nimport MatrixComponent from'../../components/MatrixComponent';import FilterQueryBuilder from'../../components/FilterQueryBuilder';//import { ReactSpreadsheetImport } from 'react-spreadsheet-import';\nimport FormSelectSearch from'../../components/form-select-search/form-select-search.component';import{LocalizationProvider}from'@progress/kendo-react-intl';import{ExcelExport,ExcelExportColumn}from'@progress/kendo-react-excel-export';import ImportSampleStorageTransaction from'./ImportSampleStorageTransaction';import{intl}from'../../components/App';import{transactionStatus}from'../../components/Enumeration';var SampleStorageTransaction=/*#__PURE__*/function(_Component){_inherits(SampleStorageTransaction,_Component);var _super=_createSuper(SampleStorageTransaction);function SampleStorageTransaction(props){var _this$state;var _this;_classCallCheck(this,SampleStorageTransaction);_this=_super.call(this,props);_this.dragOverCnt=0;_this.isDragDrop=false;_this.SEPARATOR='_';_this.uniqueIDArr=[];_this.countforTree=0;_this.pointedItem=undefined;_this.getitemPath={};_this.openModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true,selectedRecord:{},loadTreeProperties:false,treeData:[{text:\"root\",expanded:true,editable:true,root:true,id:uuid()}],operation:\"create\"}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         openModal: false, selectedRecord: {}\n//     }\n// }\n// this.props.updateStore(updateInfo);\nvar loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedId=_this.props.Login.selectedId;var selectedRecord=_this.state.selectedRecord;//this.props.Login.selectedRecord;\nif(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"Approve\"||_this.props.Login.operation===\"copy\"){loadEsign=false;openModal=false;selectedRecord={};selectedId=null;}else{loadEsign=false;}}else{openModal=false;selectedId=null;selectedRecord={};}// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: { openModal, loadEsign, selectedRecord, selectedId }\n// }\n// this.props.updateStore(updateInfo);\n// this.getsamplestoragetransaction({}, this.props.Login.userInfo);\n//      if (!this.state.isFilterPopup) {\n//         this.getDynamicFilterExecuteData(2)\n//    }\n_this.setState({selectedRecord:selectedRecord,ExcelImport:false,openModal:false,isInitialRender:true,isFilterPopup:false});};_this.onInputChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){if(_this.props.Login.loadTreeProperties===true){_this.onSaveProperties(saveType,formRef);}else if(_this.state.openSpreadSheet){_this.CRUDSampleStorageTransaction(_objectSpread(_objectSpread({},_this.state.editedsheetData),{},{nsamplestoragemappingcode:_this.state.isMultiSampleAdd?Object.keys(_this.state.sheetData).map(function(nsamplestoragemappingcode){return nsamplestoragemappingcode;}).join(\",\"):_this.state.editedsheetData.nsamplestoragemappingcode.toString(),nsamplestoragelocationcode:_this.state.editedsheetData.nsamplestoragelocationcode,sheetData:JSON.stringify(_this.state.sheetData?_this.state.sheetData:{}),sheetUpdate:true,userinfo:_this.props.Login.userInfo,isMultiSampleAdd:_this.state.isMultiSampleAdd}),'create');}else if(_this.state.ExcelImport!==undefined&&_this.state.ExcelImport===true){_this.singlesampleimport(saveType,formRef);}else{_this.onSaveSampleStorageTransaction(saveType,formRef);}};_this.paneSizeChange=function(d){_this.setState({splitChangeWidthPercentage:d});};_this.handlePageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.handleDetailPageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.reloadData=function(){_this.onFilterSubmit();};_this.onEditSampleStorageLocation=function(selectedSampleStorageVersion,userInfo,editId){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}var isOnlyDraft=false;if(_this.props.Login.masterData.sampleStorageVersion&&_this.props.Login.masterData.sampleStorageVersion.length>1){isOnlyDraft=true;}_this.props.editSampleStorageLocation(selectedSampleStorageVersion,userInfo,isOnlyDraft,editId);};_this.openStorageMapping=function(addId){_this.addSampleStorageMapping({userInfo:_this.props.Login.userInfo,addId:addId});};_this.deletesamplestoragemapping=function(param){_this.CRUDSampleStorageTransaction({'nsamplestoragelocationcode':_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,'nsamplestoragemappingcode':param.nsamplestoragemappingcode,userinfo:_this.props.Login.userInfo},'delete');};_this.addMultipleSample=function(param){_this.setState({//sheetData: JSON.parse(response[0].data.sheetData),\nopenModal:true,isMultiSampleAdd:true,openSpreadSheet:true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\nloading:false});};_this.opensearch=function(){_this.setState({openModal:true,isFilterPopup:true,openSpreadSheet:false,selectedRecord:_objectSpread({},_this.state.submittedselectedRecord)||_objectSpread({},_this.state.selectedRecord)});};_this.addSample=function(param,nflag){_this.setState({loading:true});var urlArray=[];var groupedArray=_this.processWithGroups(_this.state.masterData.sampleStoragetransaction||[],_this.state.dataStateChange?_this.state.dataStateChange:{take:10,skip:0}).data;var url1=rsapi.post(\"samplestoragetransaction/getsamplestoragemappingSheetData\",{isMultiSampleAdd:nflag===2?true:false,nsamplestoragemappingcode:nflag===2?groupedArray.map(function(groupedItem){return groupedItem.items.map(function(item){return item.nsamplestoragemappingcode;});}).join(\",\"):param.nsamplestoragemappingcode.toString()});urlArray=[url1];Axios.all(urlArray).then(function(response){if(nflag===2){_this.setState({sheetData:JSON.parse(response[0].data.sheetData),AdditionalFieldsComponentData:JSON.parse(response[0].data.AdditionalFieldsComponentData),openModal:true,isMultiSampleAdd:true,openSpreadSheet:true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\nloading:false});}else{_this.setState({sheetData:JSON.parse(response[0].data.sheetData),AdditionalFieldsComponentData:JSON.parse(response[0].data.AdditionalFieldsComponentData),openModal:true,isMultiSampleAdd:false,openSpreadSheet:true,editedsheetData:param,Rows:param.nrow,columns:param.ncolumn,loading:false});}}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.handleImportClick=function(){if(_this.props.Login.masterData.sampleStorageLocation!==undefined){_this.setState({loading:false,openModal:true,ExcelImport:true,isMultiSampleAdd:false,openSpreadSheet:false,screenName:_this.props.intl.formatMessage({id:\"IDS_IMPORTEXCEL\"})});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PROJECTTYPE\"}));}};_this.handleExportClick=function(){var exportFiled=[{\"idsName\":\"IDS_PROJECTTYPECODE\",\"dataField\":\"nsamplestoragelocationcode\",\"width\":\"200px\",\"staticField\":true},{\"idsName\":\"IDS_PROJECTTYPE\",\"dataField\":\"nsamplestoragemappingcode\",\"width\":\"200px\",\"staticField\":true},{\"idsName\":\"IDS_STORAGESTRUCTURECODE\",\"dataField\":\"ssamplestoragelocationname\",\"width\":\"200px\",\"staticField\":true},{\"idsName\":\"IDS_STORAGESTRUCTURE\",\"dataField\":\"ssamplestoragelocationname\",\"width\":\"200px\",\"staticField\":true},{\"idsName\":\"IDS_SAMPLESTORAGEPATHCODE\",\"dataField\":\"scontainerpath\",\"width\":\"200px\",\"staticField\":true},{\"idsName\":\"IDS_SAMPLESTORAGEPATH\",\"dataField\":\"scontainerpath\",\"width\":\"200px\",\"staticField\":true},{\"idsName\":\"IDS_SAMPLEPOSITION\",\"dataField\":\"spositionvalue\",\"width\":\"200px\",\"staticField\":true},{\"idsName\":\"IDS_SAMPLEID\",\"dataField\":\"\",\"width\":\"200px\",\"staticField\":true},{\"idsName\":\"IDS_METADATA\",\"dataField\":\"\",\"width\":\"200px\",\"staticField\":true}];return exportFiled;};_this.singlesampleexport=function(param,nflag){_this.setState({loading:true});var urlArray=[];var groupedArray=_this.processWithGroups(_this.state.masterData.sampleStoragetransaction||[],_this.state.dataStateChange?_this.state.dataStateChange:{take:10,skip:0}).data;var url1=rsapi.post(\"samplestoragetransaction/getSingleExport\",{nsamplestoragemappingcode:param.nsamplestoragemappingcode,nprojecttypecode:param.nprojecttypecode,nsamplestoragelocationcode:param.nsamplestoragelocationcode,sprojecttypename:param.sprojecttypename,ssamplestoragelocationname:param.ssamplestoragelocationname,scontainerpath:param.scontainerpath,nquantity:param.nquantity,sunitname:param.sunitname,nrow:param.nrow,ncolumn:param.ncolumn,ssampleid:\"\",scomments:\"\",userinfo:_this.props.Login.userInfo});urlArray=[url1];Axios.all(urlArray).then(function(response){var value=\"\";if(response[0].data.rtn===\"Success\"){value=response[0].data[\"exportFileViewUrl\"];var win=window.open(value);if(win){win.focus();}else{toast.warn(intl.formatMessage(\"IDS_PLEASEALLOWPOPUPSFORTHISWEBSITE\"));}}else{if(response[0].data.rtn){toast.warn(intl.formatMessage({id:response[0].data.rtn}));}}_this.setState({openModal:false,isMultiSampleAdd:false,openSpreadSheet:false,editedsheetData:param,Rows:param.nrow,columns:param.ncolumn,loading:false});}).catch(function(error){if(error.response&&error.response.status===500){toast.error(error.message);}else{toast.warn(error.response?error.response.data:error.message);}_this.setState({loading:false});});};_this.singlesampleimport=function(){_this.setState({loading:true});var urlArray=[];var selectedRecord=_this.state.selectedRecord||{};var acceptedFiles=_this.state.selectedRecord.sfilename;var formData=new FormData();if(acceptedFiles&&acceptedFiles.length===1){if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var tempData={};tempData['nprojecttypecode']=_this.state.selectedProjectType&&_this.state.selectedProjectType.value||-1;});formData.append(\"nprojecttypecode\",_this.state.selectedProjectType.value||-1);formData.append(\"filecount\",acceptedFiles.length);formData.append(\"ImportFile\",selectedRecord['sfilename'][0]);formData.append(\"userinfo\",JSON.stringify(_this.props.Login.userInfo));var url1=rsapi.post(\"samplestoragetransaction/getImportData\",formData);urlArray=[url1];Axios.all(urlArray).then(function(response){var selectedRecord={};_this.setState({selectedRecord:selectedRecord,ExcelImport:false,openModal:false,isMultiSampleAdd:false,loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});}else{_this.setState({loading:false});toast.warn(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTTHEFILE\"}));}}else{_this.setState({loading:false});toast.warn(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTTHEFILE\"}));}};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};var selectedRecordFilter=_this.state.selectedRecordFilter||{};var selectedProjectType=_this.state.selectedProjectType;var masterData=_this.state.masterData;if(fieldName==='nstoragecategorycode'){return _this.getSampleStorageLocation({userinfo:_this.props.Login.userInfo,nstoragecategorycode:comboData.value},fieldName,comboData);}else if(fieldName==='ncontainertypecode'){return _this.getContainerStructure({userinfo:_this.props.Login.userInfo,ncontainertypecode:comboData.value},fieldName,comboData);}else if(fieldName==='nprojecttypecode'){if(selectedProjectType.value!==comboData.value){masterData=_objectSpread(_objectSpread({},masterData),{},{sampleStoragetransaction:[]});}_this.setState({masterData:masterData,selectedProjectType:{label:comboData.label,value:comboData.value}});}else if(fieldName==='ncontainerstructurecode'){selectedRecord['nrow']=comboData.item.nrow?comboData.item.nrow:1;selectedRecord['ncolumn']=comboData.item.ncolumn?comboData.item.ncolumn:1;}else if(fieldName==='nsamplestoragelocationcode'){return _this.getSampleStorageLocation({userinfo:_this.props.Login.userInfo,nstoragecategorycode:_this.state.selectedRecordFilter['nstoragecategorycode'].value,nsamplestoragelocationcode:comboData.value},fieldName,comboData);}if(fieldName==='nsamplestorageversioncode'){selectedRecordFilter[fieldName]=comboData;_this.setState({selectedRecordFilter:selectedRecordFilter});}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord,selectedRecordFilter:selectedRecordFilter});}};_this.onSaveSampleStorageTransaction=function(saveType){var selectedRecord=_this.state.selectedRecord;var containerpathCodeArray=[];if(_this.state.operation==='create'){containerpathCodeArray=selectedRecord['nsamplestoragecontainerpathcode'].map(function(item){return item.value;});}var inputParam={nsamplestoragetransactioncode:selectedRecord['nsamplestoragetransactioncode']?parseInt(selectedRecord['nsamplestoragetransactioncode']):0,nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,nsamplestoragemappingcode:selectedRecord['nsamplestoragemappingcode']?parseInt(selectedRecord['nsamplestoragemappingcode']):0,ncontainertypecode:-1,nproductcode:selectedRecord['nproductcode'].value,ndirectionmastercode:-1,ssamplestoragemappingname:\"-\",nsamplestoragecontainerpathcode:_this.state.operation==='create'?JSON.stringify(containerpathCodeArray):parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),containerpathsize:containerpathCodeArray.length,nneedposition:4,ncontainerstructurecode:-1,nquantity:selectedRecord['nquantity']?parseInt(selectedRecord['nquantity']):1,userinfo:_this.props.Login.userInfo};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.CRUDSampleStorageTransaction(inputParam,_this.state.operation);}};_this.getsamplestoragetransaction=function(inputParam,userinfo){_this.setState({loading:true});var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/getsamplestoragetransaction\",{userinfo:_this.props.Login.userInfo});urlArray=[url1];Axios.all(urlArray).then(function(response){_this.setState({masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.childDataChange=function(selectedRecord){_this.setState({selectedRecord:_objectSpread({},selectedRecord),isInitialRender:false});};_this.childSheetDataChange=function(sheetData){_this.setState({// selectedRecord: {\n//     ...this.state.selectedRecord,\n//     sheetData: {\n//         ...this.state.selectedRecord.sheetData,\n//         ...sheetData\n//     }\n// },\nsheetData:_objectSpread({},sheetData),isInitialRender:false});};_this.getActiveSampleStorageMappingById=function(inputParam,userinfo){_this.setState({loading:true});var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/getActiveSampleStorageMappingById\",{nsamplestoragelocationcode:inputParam['selectedSampleStorageLocation'][0].nsamplestoragelocationcode,userinfo:userinfo});urlArray=[url1];Axios.all(urlArray).then(function(response){_this.setState({masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data)//,\n// selectedRecord: {\n//     ...this.state.selectedRecord\n//    // , sheetData: JSON.parse(response[0].data.selectedSampleStoragemapping.jsondata.value)\n// }\n,loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.filterColumnData=function(filterValue,filterParam){var masterData=filterParam.masterData;var primaryKeyValue=0;var searchedData=undefined;if(filterValue===\"\"){if(masterData[filterParam.inputListName]&&masterData[filterParam.inputListName].length>0){primaryKeyValue=masterData[filterParam.inputListName][0][filterParam.primaryKeyField];}}else{if(filterParam.isjsondata){searchedData=searchJsonData(filterValue,masterData[filterParam.inputListName],filterParam.searchFieldList||[]);}else{searchedData=searchData(filterValue,masterData[filterParam.inputListName],filterParam.searchFieldList||[]);}if(searchedData.length>0){primaryKeyValue=searchedData[0][filterParam.primaryKeyField];}}if(primaryKeyValue!==0){_this.setState({loading:true});return rsapi.post(filterParam.fetchUrl,_objectSpread(_objectSpread({},filterParam.fecthInputObject),{},_defineProperty({},filterParam.primaryKeyField,primaryKeyValue))).then(function(response){masterData[\"searchedData\"]=searchedData;masterData=_objectSpread(_objectSpread({},masterData),response.data);if(filterParam.sortField){sortData(masterData,filterParam.sortOrder,filterParam.sortField);}else{sortData(masterData);}_this.setState({masterData:masterData,loading:false,skip:0,take:10,selectedId:null});}).catch(function(error){_this.setState({loading:false});if(error.response.status===500){toast.error(_this.props.intl.formatMessage({id:error.message}));}else{toast.warn(_this.props.intl.formatMessage({id:error.response.data}));}});}else{masterData[filterParam.selectedObject]=undefined;masterData[\"searchedData\"]=[];Object.keys(masterData).forEach(function(item){if(item!==filterParam.inputListName&&item!==filterParam.selectedObject&&filterParam.unchangeList&&filterParam.unchangeList.indexOf(item)===-1)masterData[item]=[];});_this.setState({masterData:masterData,operation:null,modalName:undefined,loading:false});}};_this.CRUDSampleStorageTransaction=function(inputParam,operation){_this.setState({loading:true});var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/\"+operation+\"SampleStorageTransaction\",inputParam);urlArray=[url1];Axios.all(urlArray).then(function(response){_this.setState({isInitialRender:true,selectedRecord:{},masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data),openModal:false,loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.onFilterSubmit=function(){_this.setState({loading:true});var inputParamData={nstoragecategorycode:_this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,// nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n// nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\nuserinfo:_this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/getsamplestoragemapping\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){var object={selectedStorageCategoryName:_this.state.selectedRecordFilter[\"nstoragecategorycode\"].item.sstoragecategoryname// ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\n// selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\n};var filterData=_this.generateBreadCrumData(object);_this.setState({filterData:filterData,masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.onSampleMappingSaveClick=function(){var mandatoryFields=_this.state.openSpreadSheet?[]:(_this.state.selectedRecord[\"nneedposition\"]===undefined||_this.state.selectedRecord[\"nneedposition\"]===false)&&_this.state.ExcelImport===false?[{\"idsName\":\"IDS_SAMPLESTORAGEMAPPING\",\"dataField\":\"nsamplestoragecontainerpathcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PRODUCT\",\"dataField\":\"nproductcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_AVAILABLESPACE\",\"dataField\":\"nquantity\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"selectbox\"}]:_this.state.ExcelImport?[{\"idsName\":\"IDS_FILE\",\"dataField\":\"sfilename\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}]:[{\"idsName\":\"IDS_SAMPLESTORAGEMAPPING\",\"dataField\":\"nsamplestoragecontainerpathcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PRODUCT\",\"dataField\":\"nproductcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_CONTAINERTYPE\",\"dataField\":\"ncontainertypecode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_CONTAINERSTRUCTURENAME\",\"dataField\":\"ncontainerstructurecode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_DIRECTION\",\"dataField\":\"ndirectionmastercode\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_AVAILABLESPACE\",\"dataField\":\"nquantity\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"selectbox\"}];onSaveMandatoryValidation(_this.state.selectedRecord,mandatoryFields,_this.onSaveClick);};_this.dataStateChange=function(event){_this.setState({dataStateChange:event.dataState});};_this.approveSampleStorageMapping=function(event){var inputParamData={};_this.setState({loading:true});inputParamData={nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,userinfo:_this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/approveSampleStorageMapping\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){_this.setState({masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.checkFilterIsEmptyQueryBuilder=function(treeData){//this condition is handle for bulk record only \nif(_this.props.Login&&_this.props.Login.settings&&parseInt(_this.props.Login.settings['69'])===transactionStatus.YES){var isFilterEmpty=true;return isFilterEmpty;}else{var ParentItem=_objectSpread({},treeData);var _isFilterEmpty=false;var childArray=ParentItem.children1;if(childArray&&childArray.length>0&&childArray!==undefined){for(var i=0;i<childArray.length;i++){var childData=childArray[i];if(!childData.hasOwnProperty('children1')){if(childData.properties.operator!==\"is_empty\"&&childData.properties.operator!==\"is_not_empty\"&&childData.properties.operator!==\"is_null\"&&childData.properties.operator!==\"is_not_null\"){_isFilterEmpty=true;return _isFilterEmpty;}}else{if(childData){ParentItem=_this.checkFilterIsEmptyQueryBuilder(childData);if(!ParentItem){return ParentItem;}}}}}return _isFilterEmpty;}};_this.fetchRecord=function(data){_this.setState({loading:true});var selectedRecord=_this.state.selectedRecord;var inputParamData={nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,userinfo:_this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/addSampleStorageMapping\",inputParamData);var url2=rsapi.post(\"product/getProduct\",{'userinfo':_this.props.Login.userInfo});var url3=rsapi.post(\"samplestoragetransaction/getEditSampleStorageMapping\",{'nsamplestoragemappingcode':data.nsamplestoragemappingcode,'userinfo':_this.props.Login.userInfo});urlArray=[url1,url2,url3];Axios.all(urlArray).then(function(response){var storageMappingMap=constructOptionList(response[0].data['samplestoragecontainerpath']||[],\"nsamplestoragecontainerpathcode\",\"scontainerpath\",undefined,undefined,true);var storageMappingMapList=storageMappingMap.get(\"OptionList\");var containerStructure=response[0].data['containerStructure'];var containerTypeMap=constructOptionList(response[0].data['containerType']||[],\"ncontainertypecode\",\"scontainertype\",undefined,undefined,true);var containerTypeList=containerTypeMap.get(\"OptionList\");var directionmasterMap=constructOptionList(response[0].data['directionmaster']||[],\"ndirectionmastercode\",\"sdirection\",undefined,undefined,true);var directionmasterList=directionmasterMap.get(\"OptionList\");var containerstructureMap=constructOptionList(response[2].data['containerStructure']||[],\"ncontainerstructurecode\",\"scontainerstructurename\",undefined,undefined,true);var containerstructureList=containerstructureMap.get(\"OptionList\");var productMap=constructOptionList(response[1].data['Product']||[],\"nproductcode\",\"sproductname\",undefined,undefined,true);var productList=productMap.get(\"OptionList\");var editedObject=response[2].data.editsampleStorageMapping;storageMappingMapList.unshift({label:editedObject.scontainerpath,value:editedObject.nsamplestoragecontainerpathcode});selectedRecord={ndirectionmastercode:{label:editedObject.sdirection,value:editedObject.ndirectionmastercode},nsamplestoragecontainerpathcode:{label:editedObject.scontainerpath,value:editedObject.nsamplestoragecontainerpathcode},nproductcode:{label:editedObject.sproductname,value:editedObject.nproductcode},ncontainertypecode:{label:editedObject.scontainertype,value:editedObject.ncontainertypecode},ncontainerstructurecode:{label:editedObject.scontainerstructurename,value:editedObject.ncontainerstructurecode},nneedposition:editedObject.nneedposition===3?true:false,directionmasterOptions:directionmasterList,nquantity:editedObject.nquantity,nrow:editedObject.nrow,ncolumn:editedObject.ncolumn,nsamplestoragemappingcode:editedObject.nsamplestoragemappingcode};_this.setState({openSpreadSheet:false,openModal:true,selectedRecord:_objectSpread(_objectSpread({},selectedRecord),{},{storageMappingMapOptions:storageMappingMapList,productOptions:productList,containerTypeOptions:containerTypeList,containerStructureOptions:containerstructureList,isInitialRender:true}),operation:'update',loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}}else if(event.target.type==='select-one'){selectedRecord[event.target.name]=event.target.value;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.handlePageChangeFilter=function(event){_this.setState({kendoSkip:event.skip,kendoTake:event.take});};_this.onChange=function(immutableTree,config){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[\"tree\"]=immutableTree;selectedRecord[\"config\"]=config;selectedRecord[\"filterQueryTreeStr\"]=QbUtils.getTree(immutableTree);var tree=QbUtils.getTree(immutableTree);tree=QbUtils.queryString(immutableTree,config,true);selectedRecord['filterquery']=QbUtils.sqlFormat(immutableTree,config);_this.setState({tree:immutableTree,config:config,selectedRecord:_objectSpread({},selectedRecord)});};_this.processWithGroups=function(data,dataState){var aggregates=[{field:\"navailablespace\",aggregate:\"sum\"}];var groups=dataState.group;if(groups){groups.map(function(group){return group.aggregates=aggregates;});}dataState.group=groups;var newDataState=process(data,dataState);// setGroupIds({\n//     data: newDataState.data,\n//     group: dataState.group,\n// });\nreturn newDataState;};_this.onDropFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.state=(_this$state={extractedColumnList:[{\"idsName\":\"IDS_STORAGESTRUCTURE\",\"dataField\":\"ssamplestoragelocationname\",\"width\":\"200px\"},{\"idsName\":\"IDS_SAMPLESTORAGEPATH\",\"dataField\":\"scontainerpath\",\"width\":\"450px\"},{\"idsName\":\"IDS_AVAILABLESPACE\",\"dataField\":\"navailablespace\",\"width\":\"100px\"},{\"idsName\":\"IDS_PRODUCT\",\"dataField\":\"sproductname\",\"width\":\"100px\"},{\"idsName\":\"IDS_PROJECTTYPE\",\"dataField\":\"sprojecttypename\",\"width\":\"100px\"},//{ \"idsName\": \"IDS_VISITNUMBER\", \"dataField\": \"svisitnumber\", \"width\": \"100px\" },\n{\"idsName\":\"IDS_NEEDPREDEFINEDSTRUCURE\",\"dataField\":\"stransdisplaystatus\",\"width\":\"100px\"},{\"idsName\":\"IDS_CONTAINERTYPE\",\"dataField\":\"scontainertype\",\"width\":\"100px\"},{\"idsName\":\"IDS_CONTAINERSTRUCTURENAME\",\"dataField\":\"scontainerstructurename\",\"width\":\"200px\"}],sheetData:{},selectedRecordFilter:{},treeData:[{title:'Chicken',children:[{title:'Egg'}]}],toggleAction:false,treeDataView:undefined,toggleActionView:false},_defineProperty(_this$state,\"treeData\",[{//  text: \"root\",\ntext:_this.props.intl.formatMessage({id:\"IDS_ROOT\"}),expanded:true,editable:true,root:true,id:uuid()}]),_defineProperty(_this$state,\"panes\",[{size:'50%',scrollable:false}]),_defineProperty(_this$state,\"selectedRecord\",{}),_defineProperty(_this$state,\"userRoleControlRights\",[]),_defineProperty(_this$state,\"controlMap\",new Map()),_defineProperty(_this$state,\"skip\",0),_defineProperty(_this$state,\"detailSkip\",0),_defineProperty(_this$state,\"detailTake\",10),_defineProperty(_this$state,\"take\",_this.props.Login.settings?_this.props.Login.settings[3]:25),_defineProperty(_this$state,\"splitChangeWidthPercentage\",22),_defineProperty(_this$state,\"selectedItem\",undefined),_defineProperty(_this$state,\"loading\",false),_defineProperty(_this$state,\"dataStateChange\",{take:10,skip:0,group:[{field:\"ssamplestoragelocationname\"}]}),_this$state);var fields={};if(_this.state.extractedColumnList){_this.state.extractedColumnList.map(function(field){if(field.dataField!=='ssamplestoragelocationname'&&field.dataField!=='sproductname'&&field.dataField!=='sprojecttypename'&&field.dataField!=='scontainertype'&&field.dataField!=='scontainerstructurename'){fields=_objectSpread(_objectSpread({},fields),{},_defineProperty({},field.dataField,{\"label\":_this.props.intl.formatMessage({id:field.idsName}),\"type\":field.dataField==='navailablespace'?\"number\":\"text\",\"valueSources\":[\"value\",\"func\"],\"mainWidgetProps\":{\"valueLabel\":\"Name\",\"valuePlaceholder\":_this.props.intl.formatMessage({id:field.idsName})}}));}});}_this.state=_objectSpread(_objectSpread({},_this.state),{},{'fields':fields});_this.searchRef=React.createRef();_this.dragClue=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(SampleStorageTransaction,[{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps,previousState){var _this2=this;var _this$state2=this.state,filterData=_this$state2.filterData,storageCategoryOptions=_this$state2.storageCategoryOptions,selectedRecord=_this$state2.selectedRecord,controlMap=_this$state2.controlMap,userRoleControlRights=_this$state2.userRoleControlRights,storageLocationOptions=_this$state2.storageLocationOptions,sampleStorageVersionOptions=_this$state2.sampleStorageVersionOptions,masterData=_this$state2.masterData,selectedRecordFilter=_this$state2.selectedRecordFilter,fields=_this$state2.fields,selectedProjectType=_this$state2.selectedProjectType,dataStateChange=_this$state2.dataStateChange;var bool=false;///////////////////////////////\nif(this.props.Login.masterData.sampleStorageLocation!==previousProps.Login.masterData.sampleStorageLocation){var queryBuilderFreezer=[];bool=true;this.props.Login.masterData.sampleStorageLocation&&this.props.Login.masterData.sampleStorageLocation.map(function(item){return queryBuilderFreezer.push({\"value\":item.nsamplestoragelocationcode,\"title\":item.ssamplestoragelocationname});});fields=_objectSpread(_objectSpread({},fields),{},{'nsamplestoragelocationcode':{\"label\":this.props.intl.formatMessage({id:\"IDS_STORAGESTRUCTURENAME\"}),\"type\":\"select\",\"valueSources\":[\"value\"],\"fieldSettings\":{\"listValues\":queryBuilderFreezer}}});}if(this.props.Login.masterData.sampleType!==previousProps.Login.masterData.sampleType){var _queryBuilderFreezer=[];bool=true;this.props.Login.masterData.sampleType&&this.props.Login.masterData.sampleType.map(function(item){return _queryBuilderFreezer.push({\"value\":item.nproductcode,\"title\":item.sproductname});});fields=_objectSpread(_objectSpread({},fields),{},{'nproductcode':{\"label\":this.props.intl.formatMessage({id:\"IDS_PRODUCT\"}),\"type\":\"select\",\"valueSources\":[\"value\"],\"fieldSettings\":{\"listValues\":_queryBuilderFreezer}}});}if(this.props.Login.masterData.projectType!==previousProps.Login.masterData.projectType){var _queryBuilderFreezer2=[];bool=true;masterData=this.props.Login.masterData;this.props.Login.masterData.projectType&&this.props.Login.masterData.projectType.map(function(item){return _queryBuilderFreezer2.push({\"value\":item.nprojecttypecode,\"title\":item.sprojecttypename});});// fields = {\n//     ...fields,\n//     'nprojecttypecode': {\n//         \"label\": this.props.intl.formatMessage({\n//             id: \"IDS_PROJECTTYPE\",\n//         }),\n//         \"type\": \"select\",\n//         \"valueSources\": [\"value\"],\n//         \"fieldSettings\": {\n//             \"listValues\": queryBuilderFreezer\n//         }\n//     }\n// }\nselectedProjectType={label:this.props.Login.masterData.selectedProjectType&&this.props.Login.masterData.selectedProjectType.sprojecttypename,value:this.props.Login.masterData.selectedProjectType&&this.props.Login.masterData.selectedProjectType.nprojecttypecode};var filterStorageCategorylist=constructOptionList(this.props.Login.masterData.projectType||[],\"nprojecttypecode\",\"sprojecttypename\",undefined,undefined,undefined);masterData['projectTypeOptions']=filterStorageCategorylist.get(\"OptionList\");}if(this.props.Login.masterData.containerType!==previousProps.Login.masterData.containerType){var _queryBuilderFreezer3=[];bool=true;this.props.Login.masterData.containerType&&this.props.Login.masterData.containerType.map(function(item){return _queryBuilderFreezer3.push({\"value\":item.ncontainertypecode,\"title\":item.scontainertype});});fields=_objectSpread(_objectSpread({},fields),{},{'ncontainertypecode':{\"label\":this.props.intl.formatMessage({id:\"IDS_CONTAINERTYPE\"}),\"type\":\"select\",\"valueSources\":[\"value\"],\"fieldSettings\":{\"listValues\":_queryBuilderFreezer3}}});}if(this.props.Login.masterData.containerStructure!==previousProps.Login.masterData.containerStructure){var _queryBuilderFreezer4=[];bool=true;this.props.Login.masterData.containerStructure&&this.props.Login.masterData.containerStructure.map(function(item){return _queryBuilderFreezer4.push({\"value\":item.ncontainerstructurecode,\"title\":item.scontainerstructurename});});fields=_objectSpread(_objectSpread({},fields),{},{'ncontainerstructurecode':{\"label\":this.props.intl.formatMessage({id:\"IDS_CONTAINERSTRUCTURENAME\"}),\"type\":\"select\",\"valueSources\":[\"value\"],\"fieldSettings\":{\"listValues\":_queryBuilderFreezer4}}});}///////////////////////////////\nif(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){bool=true;userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);}if(this.props.Login.masterData.filterStorageCategory!==previousProps.Login.masterData.filterStorageCategory){bool=true;var _filterStorageCategorylist=constructOptionList(this.props.Login.masterData.filterStorageCategory||[],\"nstoragecategorycode\",\"sstoragecategoryname\",undefined,undefined,undefined);storageCategoryOptions=_filterStorageCategorylist.get(\"OptionList\");if(this.props.Login.masterData.selectedStorageCategory){selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nstoragecategorycode:storageCategoryOptions.filter(function(item){return item.value===_this2.props.Login.masterData.selectedStorageCategory.nstoragecategorycode;})[0]});}}if(this.props.Login.masterData.sampleStorageLocation!==previousProps.Login.masterData.sampleStorageLocation){bool=true;var sampleStorageLocationList=constructOptionList(this.props.Login.masterData.sampleStorageLocation||[],\"nsamplestoragelocationcode\",\"ssamplestoragelocationname\",undefined,undefined,undefined);storageLocationOptions=sampleStorageLocationList.get(\"OptionList\");if(this.props.Login.masterData.selectedSampleStorageLocation){selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nsamplestoragelocationcode:storageLocationOptions.filter(function(item){return item.value===_this2.props.Login.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode;})[0]});}}if(this.props.Login.masterData.sampleStorageVersion!==previousProps.Login.masterData.sampleStorageVersion){bool=true;var sampleStorageVersionList=constructOptionList(this.props.Login.masterData.sampleStorageVersion||[],\"nsamplestorageversioncode\",\"nversionno\",undefined,undefined,undefined);sampleStorageVersionOptions=sampleStorageVersionList.get(\"OptionList\");if(this.props.Login.masterData.selectedSampleStorageVersion){selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nsamplestorageversioncode:sampleStorageVersionOptions.filter(function(item){return item.value===_this2.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode;})[0]});}}if(this.props.Login.masterData!==previousProps.Login.masterData){bool=true;masterData=this.props.Login.masterData;filterData=this.generateBreadCrumData(this.props.Login.masterData);}if(this.state.masterData!==previousState.masterData){bool=true;filterData=this.generateBreadCrumData(this.state.masterData);//ALPD-4496 janakumar  pagination  work \nvar group=this.state.dataStateChange.group!==undefined?this.state.dataStateChange.group:[];dataStateChange={take:10,skip:0,group:group};}if(bool){this.setState({storageCategoryOptions:storageCategoryOptions,filterData:filterData,selectedRecord:selectedRecord,controlMap:controlMap,userRoleControlRights:userRoleControlRights,storageLocationOptions:storageLocationOptions,dataStateChange:dataStateChange,sampleStorageVersionOptions:sampleStorageVersionOptions,masterData:masterData,selectedRecordFilter:selectedRecordFilter,fields:fields,selectedProjectType:selectedProjectType});}// if (this.state.masterData.ExcelImport!== previousState.masterData.ExcelImport) {\n//     this.setState({ ExcelImport: this.state.masterData.ExcelImport })\n// }\n}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({firstPane:height-80,parentHeight:height-50});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(obj){var breadCrumbData=[];if(this.state.masterData&&this.state.masterData.filterStorageCategory){breadCrumbData.push({\"label\":\"IDS_STORAGECATEGORY\",\"value\":obj.selectedStorageCategoryName&&obj.selectedStorageCategoryName!==null?obj.selectedStorageCategoryName:\"NA\"}// ,\n// {\n//     \"label\": \"IDS_STORAGECATEGORYLOCATION\",\n//     \"value\": obj.selectedSampleStorageLocation &&\n//         obj.selectedSampleStorageLocation.ssamplestoragelocationname !== null ?\n//         obj.selectedSampleStorageLocation.ssamplestoragelocationname : \"NA\"\n// },\n// {\n//     \"label\": \"IDS_STORAGECATEGORYVERSION\",\n//     \"value\": obj.selectedSampleStorageVersion &&\n//         obj.selectedSampleStorageVersion.nversionno !== null ?\n//         obj.selectedSampleStorageVersion.nversionno : \"NA\"\n// }\n);}return breadCrumbData;}},{key:\"getSampleStorageLocation\",value:function getSampleStorageLocation(inputData,fieldName,comboData){var _this3=this;var selectedRecordFilter=this.state.selectedRecordFilter||{};var inputParamData={};this.setState({loading:true});if(fieldName==='nsamplestoragelocationcode'){inputParamData={nstoragecategorycode:selectedRecordFilter['nstoragecategorycode'].value,nsamplestoragelocationcode:comboData.value,userinfo:inputData.userinfo};}else{inputParamData={nstoragecategorycode:comboData.value,userinfo:inputData.userinfo};}var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/getsamplestoragemapping\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){var _this3$state=_this3.state,storageLocationOptions=_this3$state.storageLocationOptions,sampleStorageVersionOptions=_this3$state.sampleStorageVersionOptions;var sampleStorageLocationList=constructOptionList(response[0].data.sampleStorageLocation||[],\"nsamplestoragelocationcode\",\"ssamplestoragelocationname\",undefined,undefined,undefined);storageLocationOptions=sampleStorageLocationList.get(\"OptionList\");var sampleStorageVersionList=constructOptionList(response[0].data.sampleStorageVersion||[],\"nsamplestorageversioncode\",\"nversionno\",undefined,undefined,undefined);sampleStorageVersionOptions=sampleStorageVersionList.get(\"OptionList\");selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nsamplestoragelocationcode:storageLocationOptions.length>0?storageLocationOptions[0]:[],nsamplestorageversioncode:sampleStorageVersionOptions.length>0?sampleStorageVersionOptions[0]:[]});_this3.setState({storageLocationOptions:storageLocationOptions,sampleStorageVersionOptions:sampleStorageVersionOptions,selectedRecordFilter:_objectSpread(_objectSpread({},selectedRecordFilter),{},_defineProperty({},fieldName,comboData)),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this3.setState({loading:false});});}},{key:\"addSampleStorageMapping\",value:function addSampleStorageMapping(){var _this4=this;this.setState({loading:true});var selectedRecord=this.state.selectedRecord;var inputParamData={// nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\nnsamplestoragelocationcode:this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,// nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\nuserinfo:this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/addSampleStorageMapping\",inputParamData);var url2=rsapi.post(\"product/getProduct\",{'userinfo':this.props.Login.userInfo});var url3=rsapi.post(\"containertype/getContainerType\",{'userinfo':this.props.Login.userInfo});urlArray=[url1,url2];Axios.all(urlArray).then(function(response){var storageMappingMap=constructOptionList(response[0].data['samplestoragecontainerpath']||[],\"nsamplestoragecontainerpathcode\",\"scontainerpath\",undefined,undefined,true);var storageMappingMapList=storageMappingMap.get(\"OptionList\");var containerStructure=response[0].data['containerStructure'];var containerTypeMap=constructOptionList(response[0].data['containerType']||[],\"ncontainertypecode\",\"scontainertype\",undefined,undefined,true);var containerTypeList=containerTypeMap.get(\"OptionList\");var directionmasterMap=constructOptionList(response[0].data['directionmaster']||[],\"ndirectionmastercode\",\"sdirection\",undefined,undefined,true);var directionmasterList=directionmasterMap.get(\"OptionList\");var containerstructureMap=constructOptionList(response[0].data['containerStructure']||[],\"ncontainerstructurecode\",\"scontainerstructurename\",undefined,undefined,true);var containerstructureList=containerstructureMap.get(\"OptionList\");var productMap=constructOptionList(response[1].data['Product']||[],\"nproductcode\",\"sproductname\",undefined,undefined,true);var productList=productMap.get(\"OptionList\");_this4.setState({openModal:true,selectedRecord:_objectSpread(_objectSpread({},selectedRecord),{},{storageMappingMapOptions:storageMappingMapList,productOptions:productList,containerTypeOptions:containerTypeList,directionmasterOptions:directionmasterList,// ncontainertypecode: containerTypeList[0],\n// containerStructureOptions: containerstructureList,\n// ncontainerstructurecode: containerstructureList[0],\nnrow:containerStructure.length>0?containerStructure[0].nrow:1,ncolumn:containerStructure.length>0?containerStructure[0].ncolumn:1,isInitialRender:true}),openSpreadSheet:false,operation:'create',loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this4.setState({loading:false});});}},{key:\"getContainerStructure\",value:function getContainerStructure(inputData,fieldName,comboData){var _this5=this;var inputParamData={};this.setState({loading:true});inputParamData={ncontainertypecode:comboData.value,userinfo:inputData.userinfo};var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/getContainerStructure\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){var _this5$state=_this5.state,containerStructureOptions=_this5$state.containerStructureOptions,selectedRecord=_this5$state.selectedRecord;var containerStructureList=constructOptionList(response[0].data.containerStructure||[],\"ncontainerstructurecode\",\"scontainerstructurename\",undefined,undefined,undefined);containerStructureOptions=containerStructureList.get(\"OptionList\");selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},{nrow:containerStructureOptions.length>0?containerStructureOptions[0].item.nrow:1,ncolumn:containerStructureOptions.length>0?containerStructureOptions[0].item.ncolumn:1,ncontainerstructurecode:containerStructureOptions.length>0?containerStructureOptions[0]:[],containerStructureOptions:containerStructureOptions.length>0?_toConsumableArray(containerStructureOptions):[]});_this5.setState({selectedRecord:_objectSpread(_objectSpread({},selectedRecord),{},_defineProperty({},fieldName,comboData)),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this5.setState({loading:false});});}},{key:\"getDynamicFilterExecuteData\",value:function getDynamicFilterExecuteData(nflag){var _this6=this;var selectedRecord=this.state.selectedRecord||{};if(nflag===2?true:selectedRecord.filterquery&&selectedRecord.filterquery!==\"\"){var isFilterEmpty=this.checkFilterIsEmptyQueryBuilder(selectedRecord.filterQueryTreeStr);if(isFilterEmpty){this.setState({loading:true});var obj={// ...inputParam.component, \nlabel:'sampleStoragetransaction',valuemember:'nsamplestoragemappingcode',filterquery:nflag===2?this.state.submittedselectedRecord.filterquery+\" and nprojecttypecode=\"+this.state.selectedProjectType.value:selectedRecord.filterquery+\" and nprojecttypecode=\"+this.state.selectedProjectType.value,source:'view_samplestoragelocation',userinfo:this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"/samplestoragetransaction/getdynamicfilterexecutedata\",obj);urlArray=[url1];Axios.all(urlArray).then(function(response){var masterData=_this6.state.masterData;masterData=_objectSpread(_objectSpread({},masterData),response[0].data);_this6.setState({masterData:_objectSpread({},masterData),loading:false,openModal:false,isFilterPopup:false,submittedselectedRecord:nflag===2?_objectSpread({},_this6.state.submittedselectedRecord):_objectSpread({},selectedRecord),selectedRecord:{},displayQuery:_this6.state.tree?QbUtils.queryString(_this6.state.tree,_this6.state.config,true):\"\"});}).catch(function(error){_this6.setState({loading:false});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data.rtn);}});}else{toast.warn(this.props.intl.formatMessage({id:\"IDS_PROVIDEONEMOREFILTERDATAWITHNOTNULLOPERATOR\"}));}}else{toast.warn(this.props.intl.formatMessage({id:\"IDS_SELECTAFILTER\"}));}}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if(this.state.openModal&&nextState.isInitialRender===false&&nextState.selectedRecord!==this.state.selectedRecord){return false;}else if(this.state.openModal&&nextState.isInitialRender===false&&nextState.sheetData!==this.state.sheetData){return false;}else{return true;}}},{key:\"render\",value:function render(){var _this7=this;var addId=this.state.controlMap.has(\"Add SampleStorageTransaction\")&&this.state.controlMap.get(\"Add SampleStorageTransaction\").ncontrolcode;var editId=this.state.controlMap.has(\"Edit SampleStorageLocation\")&&this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;var deleteId=this.state.controlMap.has(\"Delete SampleStorageLocation\")&&this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;var copyId=this.state.controlMap.has(\"Copy SampleStorageLocation\")&&this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;var approveId=this.state.controlMap.has(\"Approve SampleStorageLocation\")&&this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;var addMultipleSampleId=this.state.controlMap.has(\"AddMultipleSample\")&&this.state.controlMap.get(\"AddMultipleSample\").ncontrolcode;var addSampleId=this.state.controlMap.has(\"AddSample\")&&this.state.controlMap.get(\"AddSample\").ncontrolcode;var singleExport=this.state.controlMap.has(\"ExportExcel\")&&this.state.controlMap.get(\"ExportExcel\").ncontrolcode;var singleImport=this.state.controlMap.has(\"ImportExcel\")&&this.state.controlMap.get(\"ImportExcel\").ncontrolcode;var filterParam={inputListName:\"sampleStorageLocation\",selectedObject:\"selectedSampleStorageLocation\",primaryKeyField:\"nsamplestoragelocationcode\",fetchUrl:\"sampleStoragetransaction/getActiveSampleStorageMappingById\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"ssamplestoragelocationname\"]};var breadCrumbData=this.state.filterData||[];var confirmMessage=new ConfirmMessage();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Preloader,{loading:this.state.loading}),/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-list-content\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(FormSelectSearch,{name:\"nprojecttypecode\",as:\"select\",onChange:function onChange(event){return _this7.onComboChange(event,'nprojecttypecode');},formLabel:this.props.intl.formatMessage({id:\"IDS_PROJECTTYPE\"}),isMandatory:false,value:this.state.selectedProjectType?this.state.selectedProjectType||[]:[],options:this.state.masterData&&this.state.masterData.projectTypeOptions||[],optionId:\"value\",optionValue:\"label\",isMulti:false,isDisabled:false,isSearchable:false,isClearable:false}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(DataGrid// isDownloadPDFRequired={this.state.masterData && this.state.masterData.sampleStoragetransaction &&\n//     this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\n//         this.state.dataStateChange ? this.state.dataStateChange : {\n//             take: 10,\n//             skip: 0\n//         }).data.length > 0 ?\n//     true : false}\n//ATE234 Janakumar ALPD-5577 Sample Storage-->while download the pdf, screen getting freezed\n,{isDownloadPDFRequired:false,isDownloadExcelRequired:this.state.masterData&&this.state.masterData.sampleStoragetransaction&&this.processWithGroups(this.state.masterData.sampleStoragetransaction||[],this.state.dataStateChange?this.state.dataStateChange:{take:10,skip:0}).data.length>0?true:false,isRefreshRequired:this.state.masterData&&this.state.masterData.sampleStoragetransaction&&this.processWithGroups(this.state.masterData.sampleStoragetransaction||[],this.state.dataStateChange?this.state.dataStateChange:{take:10,skip:0}).data.length>0?true:false,reloadData:function reloadData(e){return _this7.getDynamicFilterExecuteData(2);},isCustomButton:true,customButtonlist:this.state.masterData&&this.state.masterData.sampleStoragetransaction&&this.processWithGroups(this.state.masterData.sampleStoragetransaction||[],this.state.dataStateChange?this.state.dataStateChange:{take:10,skip:0}).data.length>0?[{label:'IDS_IMPORTEXCEL',id:{},hidden:this.state.userRoleControlRights.indexOf(singleImport)===-1,onClick:function onClick(){return _this7.handleImportClick({},2);},controlname:'faFileImport'},{label:'IDS_ADDSAMPLETOMULTIPLEBOX',id:{},hidden:this.state.userRoleControlRights.indexOf(addMultipleSampleId)===-1,onClick:function onClick(){return _this7.addSample({},2);},controlname:'faBoxes'},{label:'IDS_SEARCH',id:{},onClick:function onClick(){return _this7.opensearch();},controlname:'faSearch'}]:[{label:'IDS_SEARCH',id:{},onClick:function onClick(){return _this7.opensearch();},controlname:'faSearch'}],cellRender:this.cellRender,group:this.state.group||[]// onGroupChange={this.handleGroupChange}\n,primaryKeyField:'nsamplestoragemappingcode',groupable:true,groupfooter:true,aggregateLabel:'IDS_AVAILABLESPACE',aggregatedColumn:'navailablespace',data:this.state.masterData&&this.state.masterData.sampleStoragetransaction,dataResult:// process(this.state.masterData.sampleStoragetransaction || [],\n//     this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 })\nthis.state.masterData&&this.state.masterData.sampleStoragetransaction?this.processWithGroups(this.state.masterData.sampleStoragetransaction||[],this.state.dataStateChange?this.state.dataStateChange:{take:10,skip:0}):[]// this.state.masterData && this.state.masterData.sampleStoragetransaction\n//     ? (\n//         this.state.masterData.sampleStoragetransaction.length > this.state.dataStateChange.skip\n//             ? this.state.dataStateChange.skip = 0\n//             : this.state.dataStateChange,\n//         this.processWithGroups(\n//             this.state.masterData.sampleStoragetransaction,\n//             this.state.dataStateChange || { take: 10, skip: 0 }\n//         )\n//     )\n//     : []\n,dataState:this.state.dataStateChange?this.state.dataStateChange:{skip:0,take:10},dataStateChange:this.dataStateChange,extractedColumnList:this.state.extractedColumnList,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,userInfo:this.props.Login.userInfo,deleteRecord:this.deleteRecord// addRecord={() => this.openStorageMapping()}\n,pageable:true,scrollable:'scrollable'// isComponent={true}\n,gridHeight:'600px',isActionRequired:true,isToolBarRequired:true,actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_EXPORTEXCEL\"}),controlname:\"faFileExcel\",hidden:this.state.userRoleControlRights.indexOf(singleExport)===-1,objectName:\"export\",onClick:function onClick(param){return _this7.singlesampleexport(param,1);}},{title:this.props.intl.formatMessage({id:\"IDS_ADDSAMPLETOABOX\"}),controlname:\"faBox\",hidden:this.state.userRoleControlRights.indexOf(addSampleId)===-1,objectName:\"add\",onClick:function onClick(param){return _this7.addSample(param,1);}}]})))),this.state.export?/*#__PURE__*/React.createElement(LocalizationProvider,null,/*#__PURE__*/React.createElement(ExcelExport,{data:[],collapsible:true//fileName={`${masterData?.realProjectType?.label || 'Project'}_${masterData?.realBarcodeConfig?.label || 'Barcode'}_${new Date().toISOString()}`}\n,ref:function ref(exporter){_this7._excelExport=exporter;}},this.state.samplepositionvalues.map(function(item,index){return item.sfieldname!=='samplepositionvalues'&&/*#__PURE__*/React.createElement(ExcelExportColumn,{key:index,field:item.sfieldname,title:item.sfieldname,width:200});}))):\"\"),this.state.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.state.openModal,closeModal:this.closeModal,hideSave:true,needClose:this.state.ExcelImport?false:this.state.isFilterPopup?true:false,showSubmit:this.state.openSpreadSheet?false:true,size:this.state.openSpreadSheet||this.state.isFilterPopup?'xl':\"\",operation:\"\",inputParam:this.props.Login.inputParam// screenName={this.state.isFilterPopup ? \"\" :\n//     this.state.isMultiSampleAdd ? this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGE\" })\n//         : this.state.editedsheetData && this.state.editedsheetData.scontainerpath}\n,screenName:this.state.ExcelImport?this.props.intl.formatMessage({id:\"IDS_IMPORTEXCEL\"}):this.state.isFilterPopup?\"\":this.state.isMultiSampleAdd?this.props.intl.formatMessage({id:\"IDS_SAMPLESTORAGE\"}):this.state.editedsheetData&&this.state.editedsheetData.scontainerpath,onSaveClick:this.state.isFilterPopup?this.getDynamicFilterExecuteData.bind(this):this.onSampleMappingSaveClick,esign:this.props.Login.loadEsign// className={\"wide-popup\"}\n,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},addComponent:this.state.isFilterPopup?/*#__PURE__*/React.createElement(FilterQueryBuilder,{fields:this.state.fields,isSampleStorage:true,queryArray:this.state.queryArray,skip:this.state.kendoSkip,take:this.state.kendoTake,onChange:this.onChange,tree:this.props.Login.tree!==undefined?this.props.Login.tree:this.state.selectedRecord.tree,gridColumns:this.slideList,filterData:this.props.Login.slideResult||[],handlePageChange:this.handlePageChangeFilter,static:true,userInfo:this.props.Login.userInfo,updateStore:this.props.updateStore}):this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.state.openSpreadSheet?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MatrixComponent,{updateStore:this.props.updateStore,intl:this.props.intl,Rows:this.state.Rows||1,AdditionalFieldsComponentData:this.state.AdditionalFieldsComponentData,userInfo:this.props.Login.userInfo,columns:this.state.columns||1,selectedRecord:this.state.selectedRecord.sheetData||{},sheetData:this.state.sheetData||{},isMultiSampleAdd:this.state.isMultiSampleAdd,childSheetDataChange:this.childSheetDataChange,editedsheetData:this.state.editedsheetData,nbarcodedescription:this.props.Login.settings&&parseInt(this.props.Login.settings[36]),nbarcodeLength:this.props.Login.settings&&parseInt(this.props.Login.settings[37]),sbarcodeboxWidth:this.props.Login.settings&&this.props.Login.settings[38],multipleSheetData:this.state.masterData&&this.state.masterData.sampleStoragetransaction&&process(this.state.masterData.sampleStoragetransaction||[],this.state.dataStateChange?this.state.dataStateChange:{skip:0,take:10}).data}))):this.state.ExcelImport?/*#__PURE__*/React.createElement(ImportSampleStorageTransaction,{operation:this.state.operation//loadImportFileData={this.props.Login.masterData}\n,onDropFile:this.onDropFile,selectedRecord:this.state.selectedRecord||{},deleteAttachment:this.deleteAttachment,onInputOnChange:this.onInputOnChange}):/*#__PURE__*/React.createElement(AddSampleStorageMapping,{operation:this.state.operation,selectedRecordFilter:this.state.selectedRecordFilter,onInputChange:function onInputChange(e){return _this7.onInputChange(e);},onComboChange:this.onComboChange,selectedRecord:this.state.selectedRecord||{},childDataChange:this.childDataChange,userInfo:this.props.Login.userInfo})}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==\"\"&&props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return SampleStorageTransaction;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService})(injectIntl(SampleStorageTransaction));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/basemaster/SampleStorageTransaction.jsx"],"names":["React","Component","connect","injectIntl","Row","Col","toast","constructOptionList","getControlMap","onSaveMandatoryValidation","searchData","searchJsonData","showEsign","sortData","onDropAttachFileList","deleteAttachmentDropZone","create_UUID","replaceBackSlash","Lims_JSON_stringify","DataGrid","Utils","QbUtils","SlideOutModal","callService","DEFAULT_RETURN","ListWrapper","uuid","ConfirmMessage","Esign","rsapi","AddSampleStorageMapping","Axios","Preloader","process","MatrixComponent","FilterQueryBuilder","FormSelectSearch","LocalizationProvider","ExcelExport","ExcelExportColumn","ImportSampleStorageTransaction","intl","transactionStatus","SampleStorageTransaction","props","dragOverCnt","isDragDrop","SEPARATOR","uniqueIDArr","countforTree","pointedItem","undefined","getitemPath","openModal","updateInfo","typeName","data","selectedRecord","loadTreeProperties","treeData","text","expanded","editable","root","id","operation","updateStore","closeModal","loadEsign","Login","selectedId","state","setState","ExcelImport","isInitialRender","isFilterPopup","onInputChange","event","target","type","name","checked","value","onSaveClick","saveType","formRef","onSaveProperties","openSpreadSheet","CRUDSampleStorageTransaction","editedsheetData","nsamplestoragemappingcode","isMultiSampleAdd","Object","keys","sheetData","map","join","toString","nsamplestoragelocationcode","JSON","stringify","sheetUpdate","userinfo","userInfo","singlesampleimport","onSaveSampleStorageTransaction","paneSizeChange","d","splitChangeWidthPercentage","handlePageChange","e","skip","take","handleDetailPageChange","openFilter","showFilter","closeFilter","reloadData","onFilterSubmit","onEditSampleStorageLocation","selectedSampleStorageVersion","editId","handleSearch","searchedTreeData","searchRef","current","isOnlyDraft","masterData","sampleStorageVersion","length","editSampleStorageLocation","openStorageMapping","addId","addSampleStorageMapping","deletesamplestoragemapping","param","selectedSampleStorageLocation","addMultipleSample","loading","opensearch","submittedselectedRecord","addSample","nflag","urlArray","groupedArray","processWithGroups","sampleStoragetransaction","dataStateChange","url1","post","groupedItem","items","item","all","then","response","parse","AdditionalFieldsComponentData","Rows","nrow","columns","ncolumn","catch","error","status","message","warn","handleImportClick","sampleStorageLocation","screenName","formatMessage","handleExportClick","exportFiled","singlesampleexport","nprojecttypecode","sprojecttypename","ssamplestoragelocationname","scontainerpath","nquantity","sunitname","ssampleid","scomments","rtn","win","window","open","focus","acceptedFiles","sfilename","formData","FormData","Array","isArray","forEach","file","index","tempData","selectedProjectType","append","onComboChange","comboData","fieldName","selectedRecordFilter","getSampleStorageLocation","nstoragecategorycode","getContainerStructure","ncontainertypecode","label","containerpathCodeArray","inputParam","nsamplestoragetransactioncode","parseInt","nproductcode","ndirectionmastercode","ssamplestoragemappingname","nsamplestoragecontainerpathcode","containerpathsize","nneedposition","ncontainerstructurecode","userRoleControlRights","nformcode","ncontrolcode","screenData","getsamplestoragetransaction","childDataChange","childSheetDataChange","getActiveSampleStorageMappingById","filterColumnData","filterValue","filterParam","primaryKeyValue","searchedData","inputListName","primaryKeyField","isjsondata","searchFieldList","fetchUrl","fecthInputObject","sortField","sortOrder","selectedObject","unchangeList","indexOf","modalName","inputParamData","object","selectedStorageCategoryName","sstoragecategoryname","filterData","generateBreadCrumData","onSampleMappingSaveClick","mandatoryFields","dataState","approveSampleStorageMapping","checkFilterIsEmptyQueryBuilder","settings","YES","isFilterEmpty","ParentItem","childArray","children1","i","childData","hasOwnProperty","properties","operator","fetchRecord","url2","url3","storageMappingMap","storageMappingMapList","get","containerStructure","containerTypeMap","containerTypeList","directionmasterMap","directionmasterList","containerstructureMap","containerstructureList","productMap","productList","editedObject","editsampleStorageMapping","unshift","sdirection","sproductname","scontainertype","scontainerstructurename","directionmasterOptions","storageMappingMapOptions","productOptions","containerTypeOptions","containerStructureOptions","onInputOnChange","handlePageChangeFilter","kendoSkip","kendoTake","onChange","immutableTree","config","getTree","tree","queryString","sqlFormat","aggregates","field","aggregate","groups","group","newDataState","onDropFile","attachedFiles","maxSize","actionType","deleteAttachment","validateEsign","inputData","sreason","nreasoncode","spredefinedreason","password","validateEsignCredential","extractedColumnList","title","children","toggleAction","treeDataView","toggleActionView","size","scrollable","Map","fields","dataField","idsName","createRef","dragClue","confirmMessage","previousProps","previousState","storageCategoryOptions","controlMap","storageLocationOptions","sampleStorageVersionOptions","bool","queryBuilderFreezer","push","sampleType","projectType","filterStorageCategorylist","containerType","values","filterStorageCategory","selectedStorageCategory","filter","sampleStorageLocationList","sampleStorageVersionList","nsamplestorageversioncode","parentHeight","height","clientHeight","firstPane","obj","breadCrumbData","containerStructureList","filterquery","filterQueryTreeStr","valuemember","source","displayQuery","info","nextProps","nextState","has","deleteId","copyId","approveId","addMultipleSampleId","addSampleId","singleExport","singleImport","projectTypeOptions","getDynamicFilterExecuteData","hidden","onClick","controlname","cellRender","deleteRecord","objectName","export","exporter","_excelExport","samplepositionvalues","sfieldname","bind","masterStatus","queryArray","slideList","slideResult","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { constructOptionList, getControlMap, onSaveMandatoryValidation, searchData, searchJsonData, showEsign, sortData, onDropAttachFileList, deleteAttachmentDropZone, create_UUID, replaceBackSlash, Lims_JSON_stringify } from '../../components/CommonScript';\r\n//import SortableTree from 'react-sortable-tree'; \r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport {\r\n    Utils as QbUtils,\r\n} from \"@react-awesome-query-builder/ui\";\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {callService} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { uuid } from \"uuidv4\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport Esign from '../audittrail/Esign';\r\nimport rsapi from '../../rsapi';\r\nimport AddSampleStorageMapping from './AddSampleStorageMapping';\r\nimport Axios from 'axios';\r\nimport Preloader from '../../components/preloader/preloader.component';\r\nimport { process } from '@progress/kendo-data-query';\r\n//import Spreadsheet from '../../components/Spreadsheet/Spreadsheet';\r\nimport MatrixComponent from '../../components/MatrixComponent';\r\nimport FilterQueryBuilder from '../../components/FilterQueryBuilder';\r\n//import { ReactSpreadsheetImport } from 'react-spreadsheet-import';\r\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\r\nimport { LocalizationProvider } from '@progress/kendo-react-intl';\r\nimport { ExcelExport, ExcelExportColumn } from '@progress/kendo-react-excel-export';\r\nimport ImportSampleStorageTransaction from './ImportSampleStorageTransaction';\r\n\r\nimport {\r\n    intl\r\n} from '../../components/App';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\n\r\n\r\nclass SampleStorageTransaction extends Component {\r\n    dragOverCnt = 0;\r\n    isDragDrop = false;\r\n    SEPARATOR = '_';\r\n    uniqueIDArr = [];\r\n    countforTree = 0;\r\n    pointedItem = undefined\r\n    getitemPath = {};\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            extractedColumnList: [\r\n                { \"idsName\": \"IDS_STORAGESTRUCTURE\", \"dataField\": \"ssamplestoragelocationname\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_SAMPLESTORAGEPATH\", \"dataField\": \"scontainerpath\", \"width\": \"450px\" },\r\n                { \"idsName\": \"IDS_AVAILABLESPACE\", \"dataField\": \"navailablespace\", \"width\": \"100px\" },\r\n                { \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"sproductname\", \"width\": \"100px\" },\r\n                { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"sprojecttypename\", \"width\": \"100px\" },\r\n                //{ \"idsName\": \"IDS_VISITNUMBER\", \"dataField\": \"svisitnumber\", \"width\": \"100px\" },\r\n                { \"idsName\": \"IDS_NEEDPREDEFINEDSTRUCURE\", \"dataField\": \"stransdisplaystatus\", \"width\": \"100px\" },\r\n                { \"idsName\": \"IDS_CONTAINERTYPE\", \"dataField\": \"scontainertype\", \"width\": \"100px\" },\r\n                { \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\", \"dataField\": \"scontainerstructurename\", \"width\": \"200px\" },\r\n\r\n            ],\r\n            sheetData: {},\r\n            selectedRecordFilter: {},\r\n            treeData: [{ title: 'Chicken', children: [{ title: 'Egg' }] }],\r\n            toggleAction: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            treeData: [\r\n                {\r\n                    //  text: \"root\",\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_ROOT\" }),\r\n                    expanded: true,\r\n                    editable: true,\r\n                    root: true,\r\n                    id: uuid(),\r\n                }],\r\n            panes: [{\r\n                size: '50%',\r\n                scrollable: false\r\n            }],\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            selectedItem: undefined,\r\n            loading: false,\r\n            dataStateChange: {\r\n                take: 10,\r\n                skip: 0,\r\n                group: [\r\n                    {\r\n                        field: \"ssamplestoragelocationname\",\r\n                    },\r\n                ],\r\n            }\r\n        };\r\n        let fields = {};\r\n        if (this.state.extractedColumnList) {\r\n            this.state.extractedColumnList.map(field => {\r\n                if (field.dataField !== 'ssamplestoragelocationname' && field.dataField !== 'sproductname'\r\n                    && field.dataField !== 'sprojecttypename' && field.dataField !== 'scontainertype'\r\n                    && field.dataField !== 'scontainerstructurename') {\r\n                    fields = {\r\n                        ...fields,\r\n                        [field.dataField]: {\r\n                            \"label\":\r\n                                this.props.intl.formatMessage({\r\n                                    id: field.idsName,\r\n                                })\r\n                            ,\r\n                            \"type\": field.dataField === 'navailablespace' ? \"number\" : \"text\",\r\n                            \"valueSources\": [\"value\", \"func\"],\r\n\r\n                            \"mainWidgetProps\": {\r\n                                \"valueLabel\": \"Name\",\r\n                                \"valuePlaceholder\": this.props.intl.formatMessage({\r\n                                    id: field.idsName\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        this.state = { ... this.state, 'fields': fields }\r\n        this.searchRef = React.createRef();\r\n        this.dragClue = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    componentDidUpdate(previousProps, previousState) {\r\n        let { filterData, storageCategoryOptions,\r\n            selectedRecord, controlMap,\r\n            userRoleControlRights, storageLocationOptions,\r\n            sampleStorageVersionOptions, masterData, selectedRecordFilter, fields, selectedProjectType, dataStateChange } = this.state\r\n        let bool = false;\r\n        ///////////////////////////////\r\n        if (this.props.Login.masterData.sampleStorageLocation !== previousProps.Login.masterData.sampleStorageLocation) {\r\n            let queryBuilderFreezer = [];\r\n            bool = true;\r\n            this.props.Login.masterData.sampleStorageLocation && this.props.Login.masterData.sampleStorageLocation.map(\r\n                (item) => queryBuilderFreezer.push({ \"value\": item.nsamplestoragelocationcode, \"title\": item.ssamplestoragelocationname })\r\n            )\r\n            fields = {\r\n                ...fields,\r\n                'nsamplestoragelocationcode': {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_STORAGESTRUCTURENAME\",\r\n                    }),\r\n                    \"type\": \"select\",\r\n                    \"valueSources\": [\"value\"],\r\n                    \"fieldSettings\": {\r\n                        \"listValues\": queryBuilderFreezer\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.masterData.sampleType !== previousProps.Login.masterData.sampleType) {\r\n            let queryBuilderFreezer = [];\r\n            bool = true;\r\n            this.props.Login.masterData.sampleType && this.props.Login.masterData.sampleType.map(\r\n                (item) => queryBuilderFreezer.push({ \"value\": item.nproductcode, \"title\": item.sproductname })\r\n            )\r\n            fields = {\r\n                ...fields,\r\n                'nproductcode': {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_PRODUCT\",\r\n                    }),\r\n                    \"type\": \"select\",\r\n                    \"valueSources\": [\"value\"],\r\n                    \"fieldSettings\": {\r\n                        \"listValues\": queryBuilderFreezer\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.masterData.projectType !== previousProps.Login.masterData.projectType) {\r\n            let queryBuilderFreezer = [];\r\n            bool = true;\r\n            masterData = this.props.Login.masterData;\r\n            this.props.Login.masterData.projectType && this.props.Login.masterData.projectType.map(\r\n                (item) => queryBuilderFreezer.push({ \"value\": item.nprojecttypecode, \"title\": item.sprojecttypename })\r\n            )\r\n            // fields = {\r\n            //     ...fields,\r\n            //     'nprojecttypecode': {\r\n            //         \"label\": this.props.intl.formatMessage({\r\n            //             id: \"IDS_PROJECTTYPE\",\r\n            //         }),\r\n            //         \"type\": \"select\",\r\n            //         \"valueSources\": [\"value\"],\r\n            //         \"fieldSettings\": {\r\n            //             \"listValues\": queryBuilderFreezer\r\n            //         }\r\n            //     }\r\n            // }\r\n            selectedProjectType = {\r\n                label: this.props.Login.masterData.selectedProjectType &&\r\n                    this.props.Login.masterData.selectedProjectType.sprojecttypename, value:\r\n                    this.props.Login.masterData.selectedProjectType &&\r\n                    this.props.Login.masterData.selectedProjectType.nprojecttypecode\r\n            };\r\n\r\n            const filterStorageCategorylist = constructOptionList(this.props.Login.masterData.projectType || [], \"nprojecttypecode\",\r\n                \"sprojecttypename\", undefined, undefined, undefined);\r\n            masterData['projectTypeOptions'] = filterStorageCategorylist.get(\"OptionList\");\r\n        }\r\n        if (this.props.Login.masterData.containerType !== previousProps.Login.masterData.containerType) {\r\n            let queryBuilderFreezer = [];\r\n            bool = true;\r\n            this.props.Login.masterData.containerType && this.props.Login.masterData.containerType.map(\r\n                (item) => queryBuilderFreezer.push({ \"value\": item.ncontainertypecode, \"title\": item.scontainertype })\r\n            )\r\n            fields = {\r\n                ...fields,\r\n                'ncontainertypecode': {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_CONTAINERTYPE\",\r\n                    }),\r\n                    \"type\": \"select\",\r\n                    \"valueSources\": [\"value\"],\r\n                    \"fieldSettings\": {\r\n                        \"listValues\": queryBuilderFreezer\r\n                    }\r\n                }\r\n            }\r\n\r\n        } if (this.props.Login.masterData.containerStructure !== previousProps.Login.masterData.containerStructure) {\r\n            let queryBuilderFreezer = [];\r\n            bool = true;\r\n            this.props.Login.masterData.containerStructure && this.props.Login.masterData.containerStructure.map(\r\n                (item) => queryBuilderFreezer.push({ \"value\": item.ncontainerstructurecode, \"title\": item.scontainerstructurename })\r\n            )\r\n            fields = {\r\n                ...fields,\r\n                'ncontainerstructurecode': {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_CONTAINERSTRUCTURENAME\",\r\n                    }),\r\n                    \"type\": \"select\",\r\n                    \"valueSources\": [\"value\"],\r\n                    \"fieldSettings\": {\r\n                        \"listValues\": queryBuilderFreezer\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        ///////////////////////////////\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            bool = true;\r\n            userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n\r\n        }\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            bool = true;\r\n            const filterStorageCategorylist = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                \"sstoragecategoryname\", undefined, undefined, undefined);\r\n            storageCategoryOptions = filterStorageCategorylist.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedStorageCategory) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nstoragecategorycode: storageCategoryOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode)[0]\r\n                }\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.masterData.sampleStorageLocation !== previousProps.Login.masterData.sampleStorageLocation) {\r\n            bool = true;\r\n            const sampleStorageLocationList = constructOptionList(this.props.Login.masterData.sampleStorageLocation || [], \"nsamplestoragelocationcode\",\r\n                \"ssamplestoragelocationname\", undefined, undefined, undefined);\r\n            storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedSampleStorageLocation) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestoragelocationcode: storageLocationOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode)[0]\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n\r\n        if (this.props.Login.masterData.sampleStorageVersion !== previousProps.Login.masterData.sampleStorageVersion) {\r\n            bool = true;\r\n            const sampleStorageVersionList = constructOptionList(this.props.Login.masterData.sampleStorageVersion || [], \"nsamplestorageversioncode\",\r\n                \"nversionno\", undefined, undefined, undefined);\r\n            sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestorageversioncode: sampleStorageVersionOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode)[0]\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            bool = true;\r\n            masterData = this.props.Login.masterData;\r\n            filterData = this.generateBreadCrumData(this.props.Login.masterData);\r\n\r\n        }\r\n        if (this.state.masterData !== previousState.masterData) {\r\n            bool = true;\r\n            filterData = this.generateBreadCrumData(this.state.masterData);\r\n            //ALPD-4496 janakumar  pagination  work \r\n            let group = this.state.dataStateChange.group !== undefined ? this.state.dataStateChange.group : [];\r\n            dataStateChange = { take: 10, skip: 0, group: group }\r\n\r\n        }\r\n\r\n        if (bool) {\r\n            this.setState({\r\n                storageCategoryOptions, filterData,\r\n                selectedRecord, controlMap,\r\n                userRoleControlRights, storageLocationOptions, dataStateChange,\r\n                sampleStorageVersionOptions, masterData, selectedRecordFilter, fields, selectedProjectType\r\n            });\r\n        }\r\n        // if (this.state.masterData.ExcelImport!== previousState.masterData.ExcelImport) {\r\n        //     this.setState({ ExcelImport: this.state.masterData.ExcelImport })\r\n        // }\r\n\r\n    }\r\n\r\n\r\n    openModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true, selectedRecord: {}, loadTreeProperties: false,\r\n                treeData: [\r\n                    {\r\n                        text: \"root\",\r\n                        expanded: true,\r\n                        editable: true,\r\n                        root: true,\r\n                        id: uuid(),\r\n                    },\r\n                ], operation: \"create\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openModal: false, selectedRecord: {}\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Approve\" || this.props.Login.operation === \"copy\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                selectedId = null;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { openModal, loadEsign, selectedRecord, selectedId }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        // this.getsamplestoragetransaction({}, this.props.Login.userInfo);\r\n        //      if (!this.state.isFilterPopup) {\r\n        //         this.getDynamicFilterExecuteData(2)\r\n        //    }\r\n        this.setState({\r\n            selectedRecord,ExcelImport:false,\r\n            openModal: false, isInitialRender: true\r\n            , isFilterPopup: false\r\n        })\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === \"checkbox\") {\r\n            selectedRecord[event.target.name] = event.target.checked;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.loadTreeProperties === true) {\r\n            this.onSaveProperties(saveType, formRef);\r\n        } else if (this.state.openSpreadSheet) {\r\n            this.CRUDSampleStorageTransaction({\r\n                ...this.state.editedsheetData,\r\n                nsamplestoragemappingcode: this.state.isMultiSampleAdd ?\r\n                    Object.keys(this.state.sheetData).map(nsamplestoragemappingcode => nsamplestoragemappingcode).join(\",\")\r\n                    : this.state.editedsheetData.nsamplestoragemappingcode.toString(),\r\n                nsamplestoragelocationcode: this.state.editedsheetData.nsamplestoragelocationcode,\r\n                sheetData: JSON.stringify(this.state.sheetData ? this.state.sheetData : {}),\r\n                sheetUpdate: true,\r\n                userinfo: this.props.Login.userInfo,\r\n                isMultiSampleAdd: this.state.isMultiSampleAdd\r\n            }, 'create');\r\n        } else if (this.state.ExcelImport !== undefined && this.state.ExcelImport === true) {\r\n            this.singlesampleimport(saveType, formRef);\r\n        } else {\r\n            this.onSaveSampleStorageTransaction(saveType, formRef);\r\n        }\r\n    };\r\n\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    handleDetailPageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n    generateBreadCrumData(obj) {\r\n        const breadCrumbData = [];\r\n        if (this.state.masterData && this.state.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": obj.selectedStorageCategoryName &&\r\n                        obj.selectedStorageCategoryName !== null ?\r\n                        obj.selectedStorageCategoryName : \"NA\"\r\n\r\n                }\r\n                // ,\r\n                // {\r\n                //     \"label\": \"IDS_STORAGECATEGORYLOCATION\",\r\n                //     \"value\": obj.selectedSampleStorageLocation &&\r\n                //         obj.selectedSampleStorageLocation.ssamplestoragelocationname !== null ?\r\n                //         obj.selectedSampleStorageLocation.ssamplestoragelocationname : \"NA\"\r\n                // },\r\n                // {\r\n                //     \"label\": \"IDS_STORAGECATEGORYVERSION\",\r\n                //     \"value\": obj.selectedSampleStorageVersion &&\r\n                //         obj.selectedSampleStorageVersion.nversionno !== null ?\r\n                //         obj.selectedSampleStorageVersion.nversionno : \"NA\"\r\n                // }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    reloadData = () => {\r\n        this.onFilterSubmit();\r\n    }\r\n    onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n\r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\r\n    }\r\n    openStorageMapping = (addId) => {\r\n        this.addSampleStorageMapping({ userInfo: this.props.Login.userInfo, addId });\r\n    }\r\n    deletesamplestoragemapping = (param) => {\r\n        this.CRUDSampleStorageTransaction({\r\n            'nsamplestoragelocationcode': this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            'nsamplestoragemappingcode': param.nsamplestoragemappingcode,\r\n            userinfo: this.props.Login.userInfo\r\n        }, 'delete');\r\n    }\r\n    addMultipleSample = (param) => {\r\n        this.setState({\r\n            //sheetData: JSON.parse(response[0].data.sheetData),\r\n            openModal: true, isMultiSampleAdd: true, openSpreadSheet: true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n            loading: false\r\n        })\r\n    }\r\n    // opensearch=()={\r\n\r\n    // }\r\n\r\n    opensearch = () => {\r\n        this.setState({\r\n            openModal: true, isFilterPopup: true, openSpreadSheet: false, selectedRecord: { ...this.state.submittedselectedRecord } ||\r\n                { ...this.state.selectedRecord }\r\n        })\r\n    }\r\n    addSample = (param, nflag) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        let groupedArray = this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n            this.state.dataStateChange ? this.state.dataStateChange : {\r\n                take: 10,\r\n                skip: 0\r\n            }).data;\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getsamplestoragemappingSheetData\",\r\n            {\r\n                isMultiSampleAdd: (nflag === 2) ? true : false,\r\n                nsamplestoragemappingcode:\r\n                    (nflag === 2) ? groupedArray.map(groupedItem => groupedItem.items.map(item => item.nsamplestoragemappingcode)).join(\",\")\r\n                        : param.nsamplestoragemappingcode.toString()\r\n            });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                if (nflag === 2) {\r\n                    this.setState({\r\n                        sheetData: JSON.parse(response[0].data.sheetData),\r\n                        AdditionalFieldsComponentData: JSON.parse(response[0].data.AdditionalFieldsComponentData),\r\n                        openModal: true, isMultiSampleAdd: true, openSpreadSheet: true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n                        loading: false\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        sheetData: JSON.parse(response[0].data.sheetData),\r\n                        AdditionalFieldsComponentData: JSON.parse(response[0].data.AdditionalFieldsComponentData),\r\n                        openModal: true, isMultiSampleAdd: false, openSpreadSheet: true,\r\n                        editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n                        loading: false\r\n                    })\r\n                }\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n\r\n    }\r\n    handleImportClick = () => {\r\n        if (this.props.Login.masterData.sampleStorageLocation !== undefined) {\r\n\r\n            this.setState({\r\n                loading: false,\r\n                openModal: true,\r\n                ExcelImport: true,\r\n                isMultiSampleAdd: false, openSpreadSheet: false,\r\n                screenName: this.props.intl.formatMessage({ id: \"IDS_IMPORTEXCEL\" })\r\n\r\n            });\r\n        } else {\r\n            toast.warn(\r\n                this.props.intl.formatMessage({\r\n                    id: \"IDS_PROJECTTYPE\",\r\n                })\r\n            );\r\n\r\n\r\n        }\r\n    }\r\n\r\n    handleExportClick = () => {\r\n        let exportFiled =\r\n            [\r\n                { \"idsName\": \"IDS_PROJECTTYPECODE\", \"dataField\": \"nsamplestoragelocationcode\", \"width\": \"200px\", \"staticField\": true },\r\n                { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nsamplestoragemappingcode\", \"width\": \"200px\", \"staticField\": true },\r\n                { \"idsName\": \"IDS_STORAGESTRUCTURECODE\", \"dataField\": \"ssamplestoragelocationname\", \"width\": \"200px\", \"staticField\": true },\r\n                { \"idsName\": \"IDS_STORAGESTRUCTURE\", \"dataField\": \"ssamplestoragelocationname\", \"width\": \"200px\", \"staticField\": true },\r\n                { \"idsName\": \"IDS_SAMPLESTORAGEPATHCODE\", \"dataField\": \"scontainerpath\", \"width\": \"200px\", \"staticField\": true },\r\n                { \"idsName\": \"IDS_SAMPLESTORAGEPATH\", \"dataField\": \"scontainerpath\", \"width\": \"200px\", \"staticField\": true },\r\n                { \"idsName\": \"IDS_SAMPLEPOSITION\", \"dataField\": \"spositionvalue\", \"width\": \"200px\", \"staticField\": true },\r\n                { \"idsName\": \"IDS_SAMPLEID\", \"dataField\": \"\", \"width\": \"200px\", \"staticField\": true },\r\n                { \"idsName\": \"IDS_METADATA\", \"dataField\": \"\", \"width\": \"200px\", \"staticField\": true },\r\n            ];\r\n        return exportFiled;\r\n    }\r\n    singlesampleexport = (param, nflag) => {\r\n        this.setState({ loading: true });\r\n        let urlArray = [];\r\n        let groupedArray = this.processWithGroups(\r\n            this.state.masterData.sampleStoragetransaction || [],\r\n            this.state.dataStateChange ? this.state.dataStateChange : { take: 10, skip: 0 }\r\n        ).data;\r\n\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getSingleExport\", {\r\n            nsamplestoragemappingcode: param.nsamplestoragemappingcode,\r\n            nprojecttypecode: param.nprojecttypecode,\r\n            nsamplestoragelocationcode: param.nsamplestoragelocationcode,\r\n            sprojecttypename: param.sprojecttypename,\r\n            ssamplestoragelocationname: param.ssamplestoragelocationname,\r\n            scontainerpath: param.scontainerpath,\r\n            nquantity: param.nquantity,\r\n            sunitname: param.sunitname,\r\n            nrow: param.nrow,\r\n            ncolumn: param.ncolumn,\r\n            ssampleid: \"\",\r\n            scomments: \"\",\r\n            userinfo: this.props.Login.userInfo\r\n        });\r\n\r\n        urlArray = [url1];\r\n\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let value = \"\";\r\n                if (response[0].data.rtn === \"Success\") {\r\n                    value = response[0].data[\"exportFileViewUrl\"];\r\n\r\n\r\n                    const win = window.open(value);\r\n                    if (win) {\r\n                        win.focus();\r\n                    } else {\r\n                        toast.warn(intl.formatMessage(\"IDS_PLEASEALLOWPOPUPSFORTHISWEBSITE\"));\r\n                    }\r\n\r\n                } else {\r\n                    if (response[0].data.rtn) {\r\n                        toast.warn(intl.formatMessage({ id: response[0].data.rtn }));\r\n                    }\r\n                }\r\n\r\n                this.setState({\r\n                    openModal: false,\r\n                    isMultiSampleAdd: false,\r\n                    openSpreadSheet: false,\r\n                    editedsheetData: param,\r\n                    Rows: param.nrow,\r\n                    columns: param.ncolumn,\r\n                    loading: false\r\n                });\r\n            })\r\n            .catch(error => {\r\n                if (error.response && error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response ? error.response.data : error.message);\r\n                }\r\n                this.setState({ loading: false });\r\n            });\r\n    }\r\n\r\n\r\n\r\n    singlesampleimport = () => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        let selectedRecord = this.state.selectedRecord || {}\r\n        const acceptedFiles = this.state.selectedRecord.sfilename;\r\n        const formData = new FormData();\r\n\r\n        if (acceptedFiles && acceptedFiles.length === 1) {\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = {};\r\n                    tempData['nprojecttypecode'] = this.state.selectedProjectType && this.state.selectedProjectType.value || -1;\r\n\r\n                });\r\n                formData.append(\"nprojecttypecode\", this.state.selectedProjectType.value || -1);\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                formData.append(\"ImportFile\", selectedRecord['sfilename'][0])\r\n                formData.append(\"userinfo\", JSON.stringify(this.props.Login.userInfo));\r\n\r\n                \r\n            const url1 = rsapi.post(\"samplestoragetransaction/getImportData\", formData);\r\n            urlArray = [url1];\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    \r\n                    const selectedRecord = {};\r\n                    this.setState({\r\n                        selectedRecord: selectedRecord,ExcelImport:false,\r\n                        openModal: false, isMultiSampleAdd: false,\r\n                        loading: false\r\n                    })\r\n\r\n                }).catch(error => {\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                });\r\n\r\n\r\n            } else {\r\n                this.setState({ loading: false});\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTTHEFILE\" }))\r\n            }\r\n        } else {\r\n            this.setState({ loading: false});\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTTHEFILE\" }))\r\n        }\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let selectedRecordFilter = this.state.selectedRecordFilter || {};\r\n        let selectedProjectType = this.state.selectedProjectType;\r\n        let masterData = this.state.masterData;\r\n        if (fieldName === 'nstoragecategorycode') {\r\n            return this.getSampleStorageLocation({\r\n                userinfo: this.props.Login.userInfo,\r\n                nstoragecategorycode: comboData.value\r\n            }, fieldName, comboData);\r\n        } else if (fieldName === 'ncontainertypecode') {\r\n            return this.getContainerStructure({\r\n                userinfo: this.props.Login.userInfo,\r\n                ncontainertypecode: comboData.value\r\n            }, fieldName, comboData);\r\n\r\n        } else if (fieldName === 'nprojecttypecode') {\r\n            if (selectedProjectType.value !== comboData.value) {\r\n                masterData = {\r\n                    ...masterData,\r\n                    sampleStoragetransaction: []\r\n                }\r\n            }\r\n            this.setState({ masterData, selectedProjectType: { label: comboData.label, value: comboData.value } })\r\n\r\n        } else if (fieldName === 'ncontainerstructurecode') {\r\n            selectedRecord['nrow'] = comboData.item.nrow ? comboData.item.nrow : 1;\r\n            selectedRecord['ncolumn'] = comboData.item.ncolumn ? comboData.item.ncolumn : 1;\r\n        } else if (fieldName === 'nsamplestoragelocationcode') {\r\n            return this.getSampleStorageLocation({\r\n                userinfo: this.props.Login.userInfo,\r\n                nstoragecategorycode: this.state.selectedRecordFilter['nstoragecategorycode'].value,\r\n                nsamplestoragelocationcode: comboData.value\r\n\r\n            }, fieldName, comboData);\r\n        }\r\n        if (fieldName === 'nsamplestorageversioncode') {\r\n            selectedRecordFilter[fieldName] = comboData;\r\n            this.setState({ selectedRecordFilter });\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord, selectedRecordFilter });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onSaveSampleStorageTransaction = (saveType) => {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        let containerpathCodeArray = [];\r\n        if (this.state.operation === 'create') {\r\n            containerpathCodeArray = selectedRecord['nsamplestoragecontainerpathcode'].map(item => item.value);\r\n        }\r\n        const inputParam =\r\n        {\r\n            nsamplestoragetransactioncode: selectedRecord['nsamplestoragetransactioncode'] ?\r\n                parseInt(selectedRecord['nsamplestoragetransactioncode']) : 0,\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ?\r\n                parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\r\n            ncontainertypecode: -1,\r\n            nproductcode: selectedRecord['nproductcode'].value,\r\n            ndirectionmastercode: -1,\r\n            ssamplestoragemappingname: \"-\",\r\n            nsamplestoragecontainerpathcode: this.state.operation === 'create' ?\r\n                JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\r\n            containerpathsize: containerpathCodeArray.length,\r\n            nneedposition: 4,\r\n            ncontainerstructurecode: -1, nquantity: selectedRecord['nquantity'] ?\r\n                parseInt(selectedRecord['nquantity']) : 1,\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.CRUDSampleStorageTransaction(inputParam, this.state.operation);\r\n        }\r\n    }\r\n    getsamplestoragetransaction = (inputParam, userinfo) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getsamplestoragetransaction\", {\r\n            userinfo: this.props.Login.userInfo\r\n        });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    masterData: {\r\n                        ...this.state.masterData, ...response[0].data\r\n                    },\r\n                    loading: false\r\n                });\r\n\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n\r\n    childDataChange = (selectedRecord) => {\r\n        this.setState({\r\n            selectedRecord: {\r\n                ...selectedRecord\r\n            },\r\n            isInitialRender: false\r\n        });\r\n    }\r\n    childSheetDataChange = (sheetData) => {\r\n\r\n        this.setState({\r\n            // selectedRecord: {\r\n            //     ...this.state.selectedRecord,\r\n            //     sheetData: {\r\n            //         ...this.state.selectedRecord.sheetData,\r\n            //         ...sheetData\r\n            //     }\r\n            // },\r\n            sheetData: {\r\n                ...sheetData\r\n            },\r\n            isInitialRender: false\r\n        });\r\n    }\r\n    // Actions start\r\n    getActiveSampleStorageMappingById = (inputParam, userinfo) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getActiveSampleStorageMappingById\", {\r\n            nsamplestoragelocationcode: inputParam['selectedSampleStorageLocation'][0].nsamplestoragelocationcode,\r\n            userinfo: userinfo\r\n        });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    masterData: {\r\n                        ...this.state.masterData, ...response[0].data\r\n                    }//,\r\n                    // selectedRecord: {\r\n                    //     ...this.state.selectedRecord\r\n                    //    // , sheetData: JSON.parse(response[0].data.selectedSampleStoragemapping.jsondata.value)\r\n                    // }\r\n                    ,\r\n                    loading: false\r\n                });\r\n\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n    filterColumnData = (filterValue, filterParam) => {\r\n        let masterData = filterParam.masterData;\r\n        let primaryKeyValue = 0;\r\n        let searchedData = undefined;\r\n        if (filterValue === \"\") {\r\n            if (masterData[filterParam.inputListName] && masterData[filterParam.inputListName].length > 0) {\r\n                primaryKeyValue = masterData[filterParam.inputListName][0][filterParam.primaryKeyField];\r\n            }\r\n        }\r\n        else {\r\n            if (filterParam.isjsondata) {\r\n                searchedData = searchJsonData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n            }\r\n            else {\r\n                searchedData = searchData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n\r\n            }\r\n            if (searchedData.length > 0) {\r\n                primaryKeyValue = searchedData[0][filterParam.primaryKeyField];\r\n            }\r\n        }\r\n\r\n        if (primaryKeyValue !== 0) {\r\n            this.setState({ loading: true });\r\n            return rsapi.post(filterParam.fetchUrl, { ...filterParam.fecthInputObject, [filterParam.primaryKeyField]: primaryKeyValue })\r\n                .then(response => {\r\n                    masterData[\"searchedData\"] = searchedData;\r\n                    masterData = { ...masterData, ...response.data };\r\n\r\n                    if (filterParam.sortField) {\r\n                        sortData(masterData, filterParam.sortOrder, filterParam.sortField);\r\n                    }\r\n                    else {\r\n                        sortData(masterData);\r\n                    }\r\n                    this.setState({ masterData, loading: false, skip: 0, take: 10, selectedId: null });\r\n                })\r\n                .catch(error => {\r\n                    this.setState({ loading: false });\r\n                    if (error.response.status === 500) {\r\n                        toast.error(this.props.intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n                        toast.warn(this.props.intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            masterData[filterParam.selectedObject] = undefined;\r\n            masterData[\"searchedData\"] = [];\r\n            Object.keys(masterData).forEach(item => {\r\n                if (item !== filterParam.inputListName && item !== filterParam.selectedObject\r\n                    && filterParam.unchangeList && filterParam.unchangeList.indexOf(item) === -1)\r\n                    masterData[item] = [];\r\n            })\r\n            this.setState({\r\n                masterData, operation: null, modalName: undefined,\r\n                loading: false\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n\r\n    CRUDSampleStorageTransaction = (inputParam, operation) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/\" + operation + \"SampleStorageTransaction\", inputParam);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    isInitialRender: true,\r\n                    selectedRecord: {},\r\n                    masterData: {\r\n                        ...this.state.masterData, ...response[0].data\r\n                    },\r\n                    openModal: false,\r\n                    loading: false\r\n                });\r\n\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n\r\n    getSampleStorageLocation(inputData, fieldName, comboData) {\r\n        let selectedRecordFilter = this.state.selectedRecordFilter || {};\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        if (fieldName === 'nsamplestoragelocationcode') {\r\n            inputParamData = {\r\n                nstoragecategorycode: selectedRecordFilter['nstoragecategorycode'].value,\r\n                nsamplestoragelocationcode: comboData.value,\r\n                userinfo: inputData.userinfo\r\n            }\r\n        } else {\r\n            inputParamData = {\r\n                nstoragecategorycode: comboData.value,\r\n                userinfo: inputData.userinfo\r\n            }\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getsamplestoragemapping\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { storageLocationOptions,\r\n                    sampleStorageVersionOptions } = this.state\r\n\r\n                let sampleStorageLocationList = constructOptionList(response[0].data.sampleStorageLocation || [], \"nsamplestoragelocationcode\",\r\n                    \"ssamplestoragelocationname\", undefined, undefined, undefined);\r\n                storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\r\n                let sampleStorageVersionList = constructOptionList(response[0].data.sampleStorageVersion || [], \"nsamplestorageversioncode\",\r\n                    \"nversionno\", undefined, undefined, undefined);\r\n                sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestoragelocationcode: storageLocationOptions.length > 0 ?\r\n                        storageLocationOptions[0] : [],\r\n                    nsamplestorageversioncode: sampleStorageVersionOptions.length > 0 ?\r\n                        sampleStorageVersionOptions[0] : [],\r\n\r\n                }\r\n                this.setState({\r\n                    storageLocationOptions, sampleStorageVersionOptions,\r\n                    selectedRecordFilter: {\r\n                        ...selectedRecordFilter,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        this.setState({ loading: true })\r\n        let inputParamData = {\r\n            nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\r\n            // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n            // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getsamplestoragemapping\", inputParamData);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let object = {\r\n                    selectedStorageCategoryName: this.state.selectedRecordFilter[\"nstoragecategorycode\"].item.sstoragecategoryname,\r\n                    // ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\r\n                    // selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\r\n                }\r\n                let filterData = this.generateBreadCrumData(object);\r\n\r\n                this.setState({\r\n                    filterData,\r\n                    masterData: {\r\n                        ...this.state.masterData,\r\n                        ...response[0].data,\r\n                        //   sampleStoragetransaction: response[0].data['sampleStoragetransaction'],\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    addSampleStorageMapping() {\r\n        this.setState({ loading: true })\r\n        let selectedRecord = this.state.selectedRecord\r\n        let inputParamData = {\r\n            // nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/addSampleStorageMapping\", inputParamData);\r\n\r\n        const url2 = rsapi.post(\"product/getProduct\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        const url3 = rsapi.post(\"containertype/getContainerType\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        urlArray = [url1, url2];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                    \"nsamplestoragecontainerpathcode\",\r\n                    \"scontainerpath\", undefined, undefined, true);\r\n                const storageMappingMapList = storageMappingMap.get(\"OptionList\");\r\n                let containerStructure = response[0].data['containerStructure'];\r\n\r\n                const containerTypeMap = constructOptionList(response[0].data['containerType'] || [],\r\n                    \"ncontainertypecode\",\r\n                    \"scontainertype\", undefined, undefined, true);\r\n                const containerTypeList = containerTypeMap.get(\"OptionList\");\r\n\r\n\r\n                const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [],\r\n                    \"ndirectionmastercode\",\r\n                    \"sdirection\", undefined, undefined, true);\r\n                const directionmasterList = directionmasterMap.get(\"OptionList\");\r\n\r\n                const containerstructureMap = constructOptionList(response[0].data['containerStructure']\r\n                    || [],\r\n                    \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, true);\r\n                const containerstructureList = containerstructureMap.get(\"OptionList\");\r\n\r\n                const productMap = constructOptionList(response[1].data['Product'] || [],\r\n                    \"nproductcode\",\r\n                    \"sproductname\", undefined, undefined, true);\r\n                const productList = productMap.get(\"OptionList\");\r\n\r\n                this.setState({\r\n                    openModal: true,\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        storageMappingMapOptions: storageMappingMapList,\r\n                        productOptions: productList,\r\n                        containerTypeOptions: containerTypeList,\r\n                        directionmasterOptions: directionmasterList,\r\n                        // ncontainertypecode: containerTypeList[0],\r\n                        // containerStructureOptions: containerstructureList,\r\n                        // ncontainerstructurecode: containerstructureList[0],\r\n                        nrow: containerStructure.length > 0 ? containerStructure[0].nrow : 1,\r\n                        ncolumn: containerStructure.length > 0 ? containerStructure[0].ncolumn : 1,\r\n                        isInitialRender: true\r\n\r\n                    },\r\n                    openSpreadSheet: false,\r\n                    operation: 'create',\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n\r\n    getContainerStructure(inputData, fieldName, comboData) {\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        inputParamData = {\r\n            ncontainertypecode: comboData.value,\r\n            userinfo: inputData.userinfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getContainerStructure\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { containerStructureOptions, selectedRecord } = this.state\r\n\r\n                let containerStructureList = constructOptionList(response[0].data.containerStructure || [], \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, undefined);\r\n                containerStructureOptions = containerStructureList.get(\"OptionList\");\r\n                selectedRecord = {\r\n                    ...selectedRecord,\r\n                    nrow: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.nrow : 1,\r\n                    ncolumn: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.ncolumn : 1,\r\n                    ncontainerstructurecode: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0] : [],\r\n                    containerStructureOptions: containerStructureOptions.length > 0 ?\r\n                        [...containerStructureOptions] : [],\r\n                }\r\n\r\n                this.setState({\r\n\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    onSampleMappingSaveClick = () => {\r\n        const mandatoryFields = this.state.openSpreadSheet ? [] : (this.state.selectedRecord[\"nneedposition\"] === undefined ||\r\n            this.state.selectedRecord[\"nneedposition\"] === false) && this.state.ExcelImport === false ? [\r\n            {\r\n                \"idsName\": \"IDS_SAMPLESTORAGEMAPPING\", \"dataField\": \"nsamplestoragecontainerpathcode\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_PRODUCT\",\r\n                \"dataField\": \"nproductcode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_AVAILABLESPACE\",\r\n                \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n                    \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n            }\r\n        ] : this.state.ExcelImport ? [\r\n            {\r\n                \"idsName\": \"IDS_FILE\",\r\n                \"dataField\": \"sfilename\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            }\r\n\r\n        ] : [\r\n            {\r\n                \"idsName\": \"IDS_SAMPLESTORAGEMAPPING\", \"dataField\": \"nsamplestoragecontainerpathcode\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_PRODUCT\",\r\n                \"dataField\": \"nproductcode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            }\r\n            ,\r\n            {\r\n                \"idsName\": \"IDS_CONTAINERTYPE\",\r\n                \"dataField\": \"ncontainertypecode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\r\n                \"dataField\": \"ncontainerstructurecode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_DIRECTION\",\r\n                \"dataField\": \"ndirectionmastercode\", \"mandatoryLabel\":\r\n                    \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_AVAILABLESPACE\",\r\n                \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n                    \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n            }\r\n        ]\r\n        onSaveMandatoryValidation(this.state.selectedRecord, mandatoryFields,\r\n            this.onSaveClick)\r\n    }\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataStateChange: event.dataState\r\n        });\r\n    }\r\n\r\n    approveSampleStorageMapping = (event) => {\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        inputParamData = {\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/approveSampleStorageMapping\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    masterData: {\r\n                        ...this.state.masterData,\r\n                        ...response[0].data\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n     //ALPD-4635\r\n     checkFilterIsEmptyQueryBuilder=(treeData)=> {\r\n        //this condition is handle for bulk record only \r\n        if(this.props.Login && this.props.Login.settings && parseInt(this.props.Login.settings['69'])===transactionStatus.YES){\r\n            let isFilterEmpty=true;\r\n            return isFilterEmpty;\r\n        }else{\r\n        let ParentItem = { ...treeData };\r\n        let isFilterEmpty=false;\r\n            let childArray = ParentItem.children1;\r\n            if (childArray && childArray.length > 0 && childArray !== undefined) {\r\n                for (var i = 0; i < childArray.length; i++) {\r\n                    let childData = childArray[i]\r\n                    if (!childData.hasOwnProperty('children1')) {\r\n                        if(  childData.properties.operator!==\"is_empty\"\r\n                          && childData.properties.operator!==\"is_not_empty\"\r\n                          && childData.properties.operator!==\"is_null\"\r\n                          && childData.properties.operator!==\"is_not_null\" ){\r\n                            isFilterEmpty=true;\r\n                            return isFilterEmpty;\r\n                    }\r\n                    } else {\r\n                        if (childData) {\r\n                            ParentItem = this.checkFilterIsEmptyQueryBuilder(childData)\r\n                            if(!ParentItem){\r\n                                return ParentItem;\r\n                            }\r\n                        } \r\n                    }\r\n                }\r\n            }\r\n            return isFilterEmpty;\r\n        }\r\n      }\r\n\r\n    getDynamicFilterExecuteData(nflag) {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        if (nflag === 2 ? true : (selectedRecord.filterquery && selectedRecord.filterquery !== \"\")) {\r\n            let isFilterEmpty = this.checkFilterIsEmptyQueryBuilder(selectedRecord.filterQueryTreeStr);\r\n            if(isFilterEmpty){\r\n            this.setState({ loading: true })\r\n            let obj = {// ...inputParam.component, \r\n                label: 'sampleStoragetransaction', valuemember: 'nsamplestoragemappingcode',\r\n                filterquery: nflag === 2 ?\r\n                    this.state.submittedselectedRecord.filterquery + \" and nprojecttypecode=\" + this.state.selectedProjectType.value\r\n                    :\r\n                    selectedRecord.filterquery + \" and nprojecttypecode=\" + this.state.selectedProjectType.value\r\n                , source: 'view_samplestoragelocation', userinfo: this.props.Login.userInfo\r\n            }\r\n            let urlArray = [];\r\n            const url1 = rsapi.post(\"/samplestoragetransaction/getdynamicfilterexecutedata\", obj);\r\n            urlArray = [url1];\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let masterData = this.state.masterData\r\n                    masterData = { ...masterData, ...response[0].data }\r\n                    this.setState({\r\n                        masterData: { ...masterData },\r\n                        loading: false,\r\n                        openModal: false,\r\n                        isFilterPopup: false,\r\n                        submittedselectedRecord: nflag === 2 ?\r\n                            { ...this.state.submittedselectedRecord }\r\n                            :\r\n                            { ...selectedRecord }\r\n                        ,\r\n                        selectedRecord: {},\r\n                        displayQuery: this.state.tree ? QbUtils.queryString(this.state.tree, this.state.config, true) : \"\"\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.info(error.response.data.rtn);\r\n                    }\r\n\r\n                })\r\n            }else{\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PROVIDEONEMOREFILTERDATAWITHNOTNULLOPERATOR\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTAFILTER\" }));\r\n\r\n        }\r\n    }\r\n\r\n    fetchRecord = (data) => {\r\n        this.setState({ loading: true })\r\n        let selectedRecord = this.state.selectedRecord\r\n        let inputParamData = {\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/addSampleStorageMapping\", inputParamData);\r\n\r\n        const url2 = rsapi.post(\"product/getProduct\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        const url3 = rsapi.post(\"samplestoragetransaction/getEditSampleStorageMapping\",\r\n            { 'nsamplestoragemappingcode': data.nsamplestoragemappingcode, 'userinfo': this.props.Login.userInfo });\r\n\r\n        urlArray = [url1, url2, url3];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                    \"nsamplestoragecontainerpathcode\",\r\n                    \"scontainerpath\", undefined, undefined, true);\r\n                const storageMappingMapList = storageMappingMap.get(\"OptionList\");\r\n                let containerStructure = response[0].data['containerStructure'];\r\n\r\n                const containerTypeMap = constructOptionList(response[0].data['containerType'] || [],\r\n                    \"ncontainertypecode\",\r\n                    \"scontainertype\", undefined, undefined, true);\r\n                const containerTypeList = containerTypeMap.get(\"OptionList\");\r\n\r\n                const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [],\r\n                    \"ndirectionmastercode\",\r\n                    \"sdirection\", undefined, undefined, true);\r\n                const directionmasterList = directionmasterMap.get(\"OptionList\");\r\n\r\n\r\n                const containerstructureMap = constructOptionList(response[2].data['containerStructure']\r\n                    || [],\r\n                    \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, true);\r\n                const containerstructureList = containerstructureMap.get(\"OptionList\");\r\n\r\n                const productMap = constructOptionList(response[1].data['Product'] || [],\r\n                    \"nproductcode\",\r\n                    \"sproductname\", undefined, undefined, true);\r\n                const productList = productMap.get(\"OptionList\");\r\n\r\n                const editedObject = response[2].data.editsampleStorageMapping;\r\n\r\n                storageMappingMapList.unshift({ label: editedObject.scontainerpath, value: editedObject.nsamplestoragecontainerpathcode })\r\n                selectedRecord = {\r\n                    ndirectionmastercode: { label: editedObject.sdirection, value: editedObject.ndirectionmastercode },\r\n                    nsamplestoragecontainerpathcode: { label: editedObject.scontainerpath, value: editedObject.nsamplestoragecontainerpathcode },\r\n                    nproductcode: { label: editedObject.sproductname, value: editedObject.nproductcode },\r\n                    ncontainertypecode: { label: editedObject.scontainertype, value: editedObject.ncontainertypecode },\r\n                    ncontainerstructurecode: { label: editedObject.scontainerstructurename, value: editedObject.ncontainerstructurecode },\r\n                    nneedposition: editedObject.nneedposition === 3 ? true : false,\r\n                    directionmasterOptions: directionmasterList,\r\n                    nquantity: editedObject.nquantity,\r\n                    nrow: editedObject.nrow,\r\n                    ncolumn: editedObject.ncolumn,\r\n                    nsamplestoragemappingcode: editedObject.nsamplestoragemappingcode\r\n                }\r\n                this.setState({\r\n                    openSpreadSheet: false,\r\n                    openModal: true,\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        storageMappingMapOptions: storageMappingMapList,\r\n                        productOptions: productList,\r\n                        containerTypeOptions: containerTypeList,\r\n                        containerStructureOptions: containerstructureList,\r\n                        isInitialRender: true\r\n                    },\r\n                    operation: 'update',\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    // Actions End\r\n\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (this.state.openModal && nextState.isInitialRender === false &&\r\n            (nextState.selectedRecord !== this.state.selectedRecord)) {\r\n            return false;\r\n        } else if (this.state.openModal && nextState.isInitialRender === false &&\r\n            (nextState.sheetData !== this.state.sheetData)) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n    handlePageChangeFilter = (event) => {\r\n        this.setState({ kendoSkip: event.skip, kendoTake: event.take });\r\n    };\r\n    onChange = (immutableTree, config) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[\"tree\"] = immutableTree;\r\n        selectedRecord[\"config\"] = config;\r\n        selectedRecord[\"filterQueryTreeStr\"] = QbUtils.getTree(immutableTree);\r\n        let tree = QbUtils.getTree(immutableTree);\r\n        tree = QbUtils.queryString(immutableTree, config, true);\r\n        selectedRecord['filterquery'] = QbUtils.sqlFormat(immutableTree, config);\r\n        this.setState({ tree: immutableTree, config: config, selectedRecord: { ...selectedRecord } });\r\n\r\n    };\r\n    // cellRender(tdElement, cellProps) {\r\n\r\n    //     if (cellProps.rowType === \"groupFooter\") {\r\n    //         console.log('cellProps.field', cellProps)\r\n    //         if (cellProps.dataItem.field === \"ssamplestoragelocationname\") {\r\n    //             console.log('tdElement', tdElement, 'cellProps', cellProps)\r\n    //             return (\r\n    //                 <td aria-colindex={cellProps.columnIndex} role={\"gridcell\"}>\r\n    //                     Sum: {cellProps.dataItem.aggregates.navailablespace.sum}\r\n    //                 </td>\r\n    //             );\r\n    //         }\r\n    //     }\r\n    //     return tdElement;\r\n    // }\r\n    // handleGroupChange = (event) => {\r\n    //     const newDataState = this.processWithGroups(this.state.masterData.sampleStoragetransaction || [], this.state.dataStateChange, event.group);\r\n    //     this.setState({\r\n    //         masterData: { ...this.state.masterData, sampleStoragetransaction: newDataState },\r\n    //         group: event.group,\r\n    //     });\r\n    // };\r\n    // processWithGroups = (data, group) => {\r\n    //     const newDataState = groupBy(data, group);\r\n    //     return newDataState;\r\n    // };\r\n    processWithGroups = (data, dataState) => {\r\n        const aggregates = [\r\n            {\r\n                field: \"navailablespace\",\r\n                aggregate: \"sum\",\r\n            }\r\n        ];\r\n        const groups = dataState.group;\r\n        if (groups) {\r\n            groups.map((group) => (group.aggregates = aggregates));\r\n        }\r\n        dataState.group = groups;\r\n        const newDataState = process(data, dataState);\r\n        // setGroupIds({\r\n        //     data: newDataState.data,\r\n        //     group: dataState.group,\r\n        // });\r\n        return newDataState;\r\n    };\r\n    render() {\r\n\r\n\r\n        const addId = this.state.controlMap.has(\"Add SampleStorageTransaction\") && this.state.controlMap.get(\"Add SampleStorageTransaction\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageLocation\") && this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;\r\n        const copyId = this.state.controlMap.has(\"Copy SampleStorageLocation\") && this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"Approve SampleStorageLocation\") && this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;\r\n\r\n        const addMultipleSampleId = this.state.controlMap.has(\"AddMultipleSample\") && this.state.controlMap.get(\"AddMultipleSample\").ncontrolcode;\r\n        const addSampleId = this.state.controlMap.has(\"AddSample\") && this.state.controlMap.get(\"AddSample\").ncontrolcode;\r\n        const singleExport = this.state.controlMap.has(\"ExportExcel\") && this.state.controlMap.get(\"ExportExcel\").ncontrolcode;\r\n        const singleImport = this.state.controlMap.has(\"ImportExcel\") && this.state.controlMap.get(\"ImportExcel\").ncontrolcode;\r\n\r\n\r\n        const filterParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\",\r\n            fetchUrl: \"sampleStoragetransaction/getActiveSampleStorageMappingById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <Preloader loading={this.state.loading} />\r\n                <ListWrapper className=\"client-list-content\">\r\n                    {\r\n\r\n\r\n                        <Col md={12}>\r\n                            <Row>\r\n                                <Col md={3}>\r\n                                    <FormSelectSearch\r\n                                        name={\"nprojecttypecode\"}\r\n                                        as={\"select\"}\r\n                                        onChange={(event) => this.onComboChange(event, 'nprojecttypecode')}\r\n                                        formLabel={this.props.intl.formatMessage({ id: \"IDS_PROJECTTYPE\" })}\r\n                                        isMandatory={false}\r\n                                        value={this.state.selectedProjectType ? this.state.selectedProjectType || [] : []}\r\n                                        options={this.state.masterData && this.state.masterData.projectTypeOptions || []}\r\n                                        optionId={\"value\"}\r\n                                        optionValue={\"label\"}\r\n                                        isMulti={false}\r\n                                        isDisabled={false}\r\n                                        isSearchable={false}\r\n                                        isClearable={false}\r\n                                    />\r\n                                </Col>\r\n                            </Row><Row>\r\n                                <Col md={12}>\r\n                                    <DataGrid\r\n                                        // isDownloadPDFRequired={this.state.masterData && this.state.masterData.sampleStoragetransaction &&\r\n                                        //     this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                        //         this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                        //             take: 10,\r\n                                        //             skip: 0\r\n                                        //         }).data.length > 0 ?\r\n                                        //     true : false}\r\n                                        //ATE234 Janakumar ALPD-5577 Sample Storage-->while download the pdf, screen getting freezed\r\n                                        isDownloadPDFRequired={false}\r\n                                        isDownloadExcelRequired={this.state.masterData && this.state.masterData.sampleStoragetransaction &&\r\n                                            this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                                this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                                    take: 10,\r\n                                                    skip: 0\r\n                                                }).data.length > 0 ?\r\n                                            true : false}\r\n                                        isRefreshRequired={this.state.masterData && this.state.masterData.sampleStoragetransaction &&\r\n                                            this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                                this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                                    take: 10,\r\n                                                    skip: 0\r\n                                                }).data.length > 0 ?\r\n                                            true : false}\r\n                                        reloadData={(e) => this.getDynamicFilterExecuteData(2)}\r\n                                        isCustomButton={true}\r\n                                        customButtonlist={\r\n                                            this.state.masterData && this.state.masterData.sampleStoragetransaction &&\r\n                                                this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                                    this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                                        take: 10,\r\n                                                        skip: 0\r\n                                                    }).data.length > 0 ?\r\n                                                [\r\n                                                    {\r\n                                                        label: 'IDS_IMPORTEXCEL',\r\n                                                        id: {},\r\n                                                        hidden: this.state.userRoleControlRights.indexOf(singleImport) === -1,\r\n                                                        onClick: () => this.handleImportClick({}, 2),\r\n                                                        controlname: 'faFileImport'\r\n                                                    },\r\n\r\n                                                    {\r\n                                                        label: 'IDS_ADDSAMPLETOMULTIPLEBOX',\r\n                                                        id: {},\r\n                                                        hidden: this.state.userRoleControlRights.indexOf(addMultipleSampleId) === -1,\r\n                                                        onClick: () => this.addSample({}, 2),\r\n                                                        controlname: 'faBoxes'\r\n                                                    },\r\n                                                    {\r\n                                                        label: 'IDS_SEARCH',\r\n                                                        id: {},\r\n                                                        onClick: () => this.opensearch(),\r\n                                                        controlname: 'faSearch'\r\n                                                    }] : [{\r\n                                                        label: 'IDS_SEARCH',\r\n                                                        id: {},\r\n                                                        onClick: () => this.opensearch(),\r\n                                                        controlname: 'faSearch'\r\n                                                    }]}\r\n                                        cellRender={this.cellRender}\r\n                                        group={this.state.group || []}\r\n                                        // onGroupChange={this.handleGroupChange}\r\n                                        primaryKeyField={'nsamplestoragemappingcode'}\r\n                                        groupable={true}\r\n                                        groupfooter={true}\r\n                                        aggregateLabel={'IDS_AVAILABLESPACE'}\r\n                                        aggregatedColumn={'navailablespace'}\r\n                                        data={this.state.masterData &&\r\n                                            this.state.masterData.sampleStoragetransaction}\r\n                                        dataResult={\r\n                                            // process(this.state.masterData.sampleStoragetransaction || [],\r\n                                            //     this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 })\r\n                                            this.state.masterData && this.state.masterData.sampleStoragetransaction ? this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                                this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                                    take: 10,\r\n                                                    skip: 0\r\n                                                }) : []\r\n\r\n\r\n                                            // this.state.masterData && this.state.masterData.sampleStoragetransaction\r\n                                            //     ? (\r\n                                            //         this.state.masterData.sampleStoragetransaction.length > this.state.dataStateChange.skip\r\n                                            //             ? this.state.dataStateChange.skip = 0\r\n                                            //             : this.state.dataStateChange,\r\n                                            //         this.processWithGroups(\r\n                                            //             this.state.masterData.sampleStoragetransaction,\r\n                                            //             this.state.dataStateChange || { take: 10, skip: 0 }\r\n                                            //         )\r\n                                            //     )\r\n                                            //     : []\r\n                                        }\r\n                                        dataState={this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 }}\r\n                                        dataStateChange={this.dataStateChange}\r\n                                        extractedColumnList={this.state.extractedColumnList}\r\n                                        controlMap={this.state.controlMap}\r\n                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        deleteRecord={this.deleteRecord}\r\n                                        // addRecord={() => this.openStorageMapping()}\r\n                                        pageable={true}\r\n                                        scrollable={'scrollable'}\r\n                                        // isComponent={true}\r\n                                        gridHeight={'600px'}\r\n                                        isActionRequired={true}\r\n                                        isToolBarRequired={true}\r\n                                        actionIcons={\r\n                                            [{\r\n                                                title: this.props.intl.formatMessage({ id: \"IDS_EXPORTEXCEL\" }),\r\n                                                controlname: \"faFileExcel\",\r\n                                                hidden: this.state.userRoleControlRights.indexOf(singleExport) === -1,\r\n                                                objectName: \"export\",\r\n                                                onClick: (param) => this.singlesampleexport(param, 1)\r\n                                            },\r\n                                            {\r\n                                                title: this.props.intl.formatMessage({ id: \"IDS_ADDSAMPLETOABOX\" }),\r\n                                                controlname: \"faBox\",\r\n                                                hidden: this.state.userRoleControlRights.indexOf(addSampleId) === -1,\r\n                                                objectName: \"add\",\r\n                                                onClick: (param) => this.addSample(param, 1)\r\n                                            }]}\r\n                                    /></Col></Row>\r\n                        </Col>\r\n\r\n                    }\r\n                    {this.state.export ?\r\n                        <LocalizationProvider>\r\n                            {/* <ExcelExport\r\n                                data={[]}\r\n                                collapsible={true}\r\n                                //fileName={this.props.Login.masterData && this.props.Login.masterData.realProjectType.label + \"_\" + this.props.Login.masterData.realBarcodeConfig.label + \"_\" + new Date()}\r\n                                ref={(exporter) => {\r\n                                    this._excelExportHeader = exporter;\r\n                                }}>\r\n                                {this.props.Login.masterData.jsondataBarcodeFields && this.props.Login.masterData.jsondataBarcodeFields.map((item, index) =>\r\n                                    item.sfieldname !== 'Barcode Id' && (\r\n                                        <ExcelExportColumn\r\n                                            field={item.sfieldname} title={(item.sfieldname)} width={200} />\r\n\r\n\r\n                                    ))\r\n\r\n                                }\r\n\r\n                            </ExcelExport> */}\r\n                            <ExcelExport\r\n                                data={[]}\r\n                                collapsible={true}\r\n                                //fileName={`${masterData?.realProjectType?.label || 'Project'}_${masterData?.realBarcodeConfig?.label || 'Barcode'}_${new Date().toISOString()}`}\r\n                                ref={(exporter) => { this._excelExport = exporter; }}\r\n                            >\r\n                                {this.state.samplepositionvalues.map((item, index) => (\r\n                                    item.sfieldname !== 'samplepositionvalues' && (\r\n                                        <ExcelExportColumn\r\n                                            key={index}\r\n                                            field={item.sfieldname}\r\n                                            title={item.sfieldname}\r\n                                            width={200}\r\n                                        />\r\n                                    )\r\n                                ))}\r\n                            </ExcelExport>\r\n                        </LocalizationProvider > : \"\"}\r\n\r\n                </ListWrapper>\r\n\r\n                {\r\n                    this.state.openModal &&\r\n                    <SlideOutModal show={this.state.openModal}\r\n                        closeModal={this.closeModal}\r\n                        hideSave={true}\r\n                        needClose={this.state.ExcelImport ? false :this.state.isFilterPopup ? true : false }\r\n                        showSubmit={this.state.openSpreadSheet ? false : true}\r\n                        size={this.state.openSpreadSheet || this.state.isFilterPopup ? 'xl' : \"\"}\r\n                        operation={\"\"}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        // screenName={this.state.isFilterPopup ? \"\" :\r\n                        //     this.state.isMultiSampleAdd ? this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGE\" })\r\n                        //         : this.state.editedsheetData && this.state.editedsheetData.scontainerpath}\r\n                        screenName={this.state.ExcelImport ?this.props.intl.formatMessage({ id: \"IDS_IMPORTEXCEL\" }):this.state.isFilterPopup ?\r\n                         \"\" :this.state.isMultiSampleAdd ? this.props.intl.formatMessage({ id:\"IDS_SAMPLESTORAGE\" }): \r\n                         this.state.editedsheetData && this.state.editedsheetData.scontainerpath}\r\n                        onSaveClick={this.state.isFilterPopup ? this.getDynamicFilterExecuteData.bind(this) : this.onSampleMappingSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        // className={\"wide-popup\"}\r\n\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        addComponent={\r\n                            this.state.isFilterPopup ?\r\n                                <FilterQueryBuilder\r\n                                    fields={this.state.fields}\r\n                                    isSampleStorage={true}\r\n                                    queryArray={this.state.queryArray}\r\n                                    skip={this.state.kendoSkip}\r\n                                    take={this.state.kendoTake}\r\n                                    onChange={this.onChange}\r\n                                    tree={this.props.Login.tree !== undefined ? this.props.Login.tree : this.state.selectedRecord.tree}\r\n                                    gridColumns={this.slideList}\r\n                                    filterData={this.props.Login.slideResult || []}\r\n                                    handlePageChange={this.handlePageChangeFilter}\r\n                                    static={true}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    updateStore={this.props.updateStore}\r\n                                />\r\n                                : this.props.Login.loadEsign ?\r\n                                    <Esign operation={this.props.Login.operation}\r\n                                        formatMessage={this.props.intl.formatMessage}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        inputParam={this.props.Login.inputParam}\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                    />\r\n                                    :\r\n                                    this.state.openSpreadSheet ? <>\r\n                                        {/* <Spreadsheet\r\n                                    data={this.state.placedSample}\r\n                                    Rows={this.state.Rows || 1}\r\n                                    columns={this.state.columns || 1}\r\n                                /> */}\r\n                                        <>\r\n                                            <MatrixComponent\r\n                                                updateStore={this.props.updateStore}\r\n                                                intl={this.props.intl}\r\n                                                Rows={this.state.Rows || 1}\r\n                                                AdditionalFieldsComponentData={this.state.AdditionalFieldsComponentData}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                columns={this.state.columns || 1}\r\n                                                selectedRecord={this.state.selectedRecord.sheetData || {}}\r\n                                                sheetData={this.state.sheetData || {}}\r\n                                                isMultiSampleAdd={this.state.isMultiSampleAdd}\r\n                                                childSheetDataChange={this.childSheetDataChange}\r\n                                                editedsheetData={this.state.editedsheetData}\r\n                                                nbarcodedescription={this.props.Login.settings && parseInt(this.props.Login.settings[36])}\r\n                                                nbarcodeLength={this.props.Login.settings && parseInt(this.props.Login.settings[37])}\r\n                                                sbarcodeboxWidth={this.props.Login.settings && this.props.Login.settings[38]}\r\n                                                multipleSheetData={this.state.masterData &&\r\n                                                    this.state.masterData.sampleStoragetransaction &&\r\n                                                    process(this.state.masterData.sampleStoragetransaction || [],\r\n                                                        this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 }).data} /></>\r\n\r\n                                    </>\r\n                                        : this.state.ExcelImport ?\r\n                                            <ImportSampleStorageTransaction\r\n                                                operation={this.state.operation}\r\n                                                //loadImportFileData={this.props.Login.masterData}\r\n                                                onDropFile={this.onDropFile}\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                deleteAttachment={this.deleteAttachment}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n\r\n                                            /> :\r\n                                            <AddSampleStorageMapping\r\n                                                operation={this.state.operation}\r\n                                                selectedRecordFilter={this.state.selectedRecordFilter}\r\n                                                onInputChange={(e) => this.onInputChange(e)}\r\n                                                onComboChange={this.onComboChange}\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                childDataChange={this.childDataChange}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                            />\r\n                        }\r\n\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    onDropFile = (attachedFiles, fieldName, maxSize) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file);\r\n\r\n        this.setState({ selectedRecord, actionType: \"delete\" });\r\n    };\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService\r\n})(injectIntl(SampleStorageTransaction));"]},"metadata":{},"sourceType":"module"}