{"ast":null,"code":"import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{connect}from'react-redux';import*as React from'react';import{Sortable}from\"@progress/kendo-react-sortable\";import{updateStore}from'../../actions';import{formSortingService1,moduleSortingOrder1}from'../../actions';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var NestedSortableUI=function NestedSortableUI(props){var style=props.style,attributes=props.attributes,dataItem=props.dataItem,forwardRef=props.forwardRef,isActive=props.isActive;return/*#__PURE__*/React.createElement(\"div\",Object.assign({ref:forwardRef},attributes,{style:_objectSpread(_objectSpread({},style),{},{border:isActive?\"2px dashed black\":0,paddingTop:1,paddingBottom:1,paddingLeft:1,paddingRight:1})}),/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:\"rgba(6, 83, 248, 0.918)\",color:\"white\",height:30,border:\"1px solid black\"}},dataItem.sformname));};var SortableItemUI=/*#__PURE__*/function(_React$Component){_inherits(SortableItemUI,_React$Component);var _super=_createSuper(SortableItemUI);function SortableItemUI(props){var _this;_classCallCheck(this,SortableItemUI);_this=_super.call(this,props);_this.onDragEnd=function(event){var changedSorter=event.newState;var beforeSorter=_this.state.colors;var afterSorting=[];beforeSorter.map(function(item,index){return changedSorter.map(function(item1,index1){if(index==index1){afterSorting[index]={nsorter:item.nsorter,sformname:item1.sformname};}});});_this.setState({colors:afterSorting});_this.props.Login.boolValue!==2?_this.props.formSortingService1({inputData:{userinfo:_this.props.Login.userInfo,primarykey:_this.props.dataItem.data[0].nmenucode,nmodulecode:_this.props.dataItem.data[0].nmodulecode,changedValues:afterSorting},masterData:_this.props.masterData,url:\"sorting/updateForms\"}):_this.props.moduleSortingOrder1({inputData:{userinfo:_this.props.Login.userInfo,primarykey:_this.props.dataItem.data[0].nmenucode,changedValues:afterSorting},masterData:_this.props.masterData,url:\"sorting/updateModules\"});};_this.onNavigate=function(event){_this.setState({colors:event.newState});};_this.props.Login.boolValue!==2?_this.state={colors:_this.props.dataItem.data.map(function(item){return{nsorter:item.nsorter,sformname:item.sdisplayname};})}:_this.state={colors:_this.props.dataItem.data.map(function(item){return{nsorter:item.nsorter,sformname:item.sdisplayname};})};return _this;}_createClass(SortableItemUI,[{key:\"render\",value:function render(){var _this$props=this.props,style=_this$props.style,attributes=_this$props.attributes,dataItem=_this$props.dataItem,forwardRef=_this$props.forwardRef;return/*#__PURE__*/React.createElement(\"div\",Object.assign({ref:forwardRef},attributes,{style:_objectSpread(_objectSpread({},style),{},{float:\"left\",display:\"inline-block\",width:350,backgroundColor:\"#FFF\",marginTop:50,marginLeft:210,marginRight:-188,marginBottom:20,border:\"1px solid black\",textAlign:\"center\"})}),dataItem.name,/*#__PURE__*/React.createElement(Sortable,{idField:\"sformname\",data:this.state.colors,itemUI:NestedSortableUI,onNavigate:this.onNavigate,onDragEnd:this.onDragEnd}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(previousProps.dataItem.name!==this.props.dataItem.name){this.props.Login.boolValue!==2?this.setState({colors:this.props.dataItem.data&&this.props.dataItem.data.map(function(item){return{nsorter:item.nsorter,sformname:item.sdisplayname};})}):this.setState({colors:this.props.dataItem.data.map(function(item){return{nsorter:item.nsorter,sformname:item.sdisplayname};})});}}}]);return SortableItemUI;}(React.Component);export default connect(mapStateToProps,{updateStore:updateStore,formSortingService1:formSortingService1,moduleSortingOrder1:moduleSortingOrder1})(SortableItemUI);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/credentialmanagement/FormModuleSortingConfig.jsx"],"names":["connect","React","Sortable","updateStore","formSortingService1","moduleSortingOrder1","mapStateToProps","state","Login","NestedSortableUI","props","style","attributes","dataItem","forwardRef","isActive","border","paddingTop","paddingBottom","paddingLeft","paddingRight","backgroundColor","color","height","sformname","SortableItemUI","onDragEnd","event","changedSorter","newState","beforeSorter","colors","afterSorting","map","item","index","item1","index1","nsorter","setState","boolValue","inputData","userinfo","userInfo","primarykey","data","nmenucode","nmodulecode","changedValues","masterData","url","onNavigate","sdisplayname","float","display","width","marginTop","marginLeft","marginRight","marginBottom","textAlign","name","previousProps","Component"],"mappings":"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","sourcesContent":["import { connect } from 'react-redux';\r\nimport * as React from 'react';\r\nimport { Sortable } from \"@progress/kendo-react-sortable\";\r\nimport { updateStore } from '../../actions';\r\nimport { formSortingService1, moduleSortingOrder1 } from '../../actions';\r\n\r\nconst mapStateToProps = state => {\r\n  return ({ Login: state.Login })\r\n}\r\nconst NestedSortableUI = (props) => {\r\n  const { style, attributes, dataItem, forwardRef, isActive } = props;\r\n  return (\r\n    <div\r\n      ref={forwardRef}\r\n      {...attributes}\r\n      style={{\r\n        ...style,\r\n        border: isActive ? \"2px dashed black\" : 0,\r\n        paddingTop: 1,\r\n        paddingBottom: 1,\r\n        paddingLeft: 1,\r\n        paddingRight: 1,\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          backgroundColor: \"rgba(6, 83, 248, 0.918)\",\r\n          color: \"white\",\r\n          height: 30,\r\n          border: \"1px solid black\",\r\n        }}\r\n      >\r\n        {dataItem.sformname}\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nclass SortableItemUI extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.props.Login.boolValue !== 2 ?\r\n    this.state = {\r\n      colors: this.props.dataItem.data.map((item) => ({\r\n        nsorter: item.nsorter,\r\n        sformname: item.sdisplayname,\r\n      })),\r\n    } :\r\n    this.state = {\r\n      colors: this.props.dataItem.data.map((item) => ({\r\n        nsorter: item.nsorter,\r\n        sformname: item.sdisplayname,\r\n      })),\r\n    }\r\n  }\r\n\r\nonDragEnd = (event) => {\r\n  let changedSorter = event.newState;\r\n  let beforeSorter = this.state.colors;\r\n\r\nlet afterSorting = [];\r\nbeforeSorter.map((item, index)=>{\r\nreturn(\r\n  changedSorter.map((item1, index1)=>{\r\n    if(index==index1){\r\n      afterSorting[index]={\r\n        nsorter: item.nsorter,\r\n        sformname: item1.sformname\r\n      }\r\n    }      \r\n    }\r\n    ))\r\n  })\r\n\r\n    this.setState({colors: afterSorting,});\r\n    this.props.Login.boolValue !== 2 ?\r\n     this.props.formSortingService1({\r\n       inputData: {\r\n          userinfo: this.props.Login.userInfo,\r\n          primarykey: this.props.dataItem.data[0].nmenucode,\r\n          nmodulecode: this.props.dataItem.data[0].nmodulecode,\r\n          changedValues : afterSorting\r\n      },\r\n      masterData: this.props.masterData,\r\n      url: \"sorting/updateForms\"\r\n  }) :\r\n  this.props.moduleSortingOrder1({\r\n    inputData: {\r\n       userinfo: this.props.Login.userInfo,\r\n       primarykey: this.props.dataItem.data[0].nmenucode,\r\n      changedValues : afterSorting\r\n   },\r\n   masterData: this.props.masterData,\r\n   url: \"sorting/updateModules\"\r\n});\r\n   }\r\n\r\n  \r\n  onNavigate = (event) => {\r\n    this.setState({\r\n      colors: event.newState,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { style, attributes, dataItem, forwardRef } = this.props;\r\n    return (\r\n      <div\r\n        ref={forwardRef}\r\n        {...attributes}\r\n        style={{\r\n                ...style,\r\n                float: \"left\",\r\n                display: \"inline-block\",\r\n                width: 350,\r\n                backgroundColor: \"#FFF\",\r\n                marginTop: 50,\r\n                marginLeft:210,\r\n                marginRight:-188,\r\n                marginBottom:20,\r\n                border: \"1px solid black\",\r\n                textAlign: \"center\"\r\n        }}\r\n      >\r\n        {dataItem.name}\r\n      <Sortable\r\n      idField={\"sformname\"}\r\n      data={this.state.colors}\r\n      itemUI={NestedSortableUI}\r\n      onNavigate={this.onNavigate}\r\n      onDragEnd={this.onDragEnd}\r\n      />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidUpdate(previousProps){\r\n    if(previousProps.dataItem.name !== this.props.dataItem.name)\r\n    {\r\n      this.props.Login.boolValue !== 2 ?\r\n      this.setState({\r\n        colors: this.props.dataItem.data && this.props.dataItem.data.map((item) => ({\r\n          nsorter: item.nsorter,\r\n          sformname: item.sdisplayname,\r\n        })), \r\n      }) :\r\n      this.setState({\r\n        colors: this.props.dataItem.data.map((item) => ({\r\n          nsorter: item.nsorter,\r\n          sformname: item.sdisplayname,\r\n        })), \r\n      }) \r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,{updateStore, formSortingService1, moduleSortingOrder1})(SortableItemUI);"]},"metadata":{},"sourceType":"module"}