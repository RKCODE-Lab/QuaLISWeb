{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Row,Col,Card,Nav,FormGroup,FormLabel}from\"react-bootstrap\";import{connect}from\"react-redux\";import{toast}from\"react-toastify\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTrashAlt,faPencilAlt,faThumbsUp,faUserTimes}from'@fortawesome/free-solid-svg-icons';import{injectIntl}from\"react-intl\";import{callService,crudMaster,validateEsignCredential,updateStore,changeProjectTypeFilter,filterColumnData,viewAttachment,addProjectMaster,getProjectMaster,getProjectmasterAddMemberService,addProjectMasterFile,getuserComboServices}from\"../../actions\";import ListMaster from\"../../components/list-master/list-master.component\";import{transactionStatus}from\"../../components/Enumeration\";import AddProjectMaster from\"../../pages/project/AddProjectMaster\";import ProjectMasterTab from\"../../pages/project/ProjectMasterTab\";import ProjectMasterClosure from\"../../pages/project/ProjectMasterClosure\";import{DEFAULT_RETURN}from\"../../actions/LoginTypes\";import SlideOutModal from\"../../components/slide-out-modal/SlideOutModal\";import Esign from\"../audittrail/Esign\";import{showEsign,getControlMap,constructOptionList,formatInputDate,onDropAttachFileList,deleteAttachmentDropZone,create_UUID,rearrangeDateFormatDateOnly}from\"../../components/CommonScript\";import{ReadOnlyText,ContentPanel}from\"../../components/App.styles\";import{process}from\"@progress/kendo-data-query\";import ConfirmMessage from\"../../components/confirm-alert/confirm-message.component\";import BreadcrumbComponent from\"../../components/Breadcrumb.Component\";import{Affix}from\"rsuite\";import ProjectMasterFilter from'./ProjectMasterFilter';import{ReactComponent as Closure}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/cancel-close-svgrepo-com.svg\";import{intl}from\"../../components/App\";var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var ProjectMaster=/*#__PURE__*/function(_Component){_inherits(ProjectMaster,_Component);var _super=_createSuper(ProjectMaster);function ProjectMaster(props){var _this;_classCallCheck(this,ProjectMaster);_this=_super.call(this,props);_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.handleProjectMasterClosure=function(selectedProjectMaster){var closureId=_this.state.controlMap.has(\"ClosureProjectMaster\")&&_this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;//  const editId = this.state.controlMap.has(\"EditProjectMaster\") && this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;\nif(selectedProjectMaster.ntransactionstatus===transactionStatus.APPROVED){var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:\"IDS_CLOSUREFILE\",openModal:true,operation:\"create\",ncontrolCode:closureId}};_this.props.updateStore(updateInfo);}else{toast.warn(intl.formatMessage({id:\"IDS_SELECTAPPROVEVERSION\"}));}};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){var projectMasterData=[];var inputParam={};projectMasterData[\"userinfo\"]=_this.props.Login.userInfo;var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\"};if(_this.props.Login.operation===\"update\"&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){postParam[\"primaryKeyValue\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;projectMasterData[\"projectMaster\"]={nprojectmastercode:_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode,//     nprojecttypecode:this.state.selectedRecord.nprojecttypecode.value,\nsprojecttitle:_this.state.selectedRecord.sprojecttitle,sprojectcode:_this.state.selectedRecord.sprojectcode,sprojectdescription:_this.state.selectedRecord.sprojectdescription,// drfwdate: formatInputDate(this.state.selectedRecord[\"drfwdate\"],false),\n// dprojectstartdate: formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false),\n//     nstudydirectorcode:this.state.selectedRecord.nstudydirectorcode.value,\n//     nteammembercode: this.state.selectedRecord.nteammembercode.value,\n//     nperiodcode: this.state.selectedRecord.nperiodcode.value,\nnprojectduration:_this.state.selectedRecord.nprojectduration,ntransactionstatus:_this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus};}else if(_this.props.Login.operation===\"create\"&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){projectMasterData[\"projectMaster\"]={nsitecode:_this.props.Login.userInfo.nmastersitecode,sprojecttitle:_this.state.selectedRecord.sprojecttitle,sprojectcode:_this.state.selectedRecord.sprojectcode,sprojectdescription:_this.state.selectedRecord.sprojectdescription===undefined?\"\":_this.state.selectedRecord.sprojectdescription,nprojectduration:parseInt(_this.state.selectedRecord.nprojectduration),//  ntransactionstatus: this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus\nntransactionstatus:transactionStatus.DRAFT,sfilename:_this.state.selectedRecord.sfilename===undefined?\"\":_this.state.selectedRecord.sfilename,sclosureremarks:_this.state.selectedRecord.sclosureremarks===undefined?\"\":_this.state.selectedRecord.sclosureremarks};/*     this.projectMasterFieldList.map((item) => {\r\n             return (projectMasterData[\"projectMaster\"][item] = this.state.selectedRecord[item] == \"\" || this.state.selectedRecord[item] == undefined ?\r\n             undefined :this.state.selectedRecord[item]);\r\n           }); */}if((_this.props.Login.operation===\"create\"||_this.props.Login.operation===\"update\")&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){projectMasterData[\"projectMaster\"][\"nprojecttypecode\"]=_this.state.selectedRecord[\"nprojecttypecode\"]?_this.state.selectedRecord[\"nprojecttypecode\"].value:transactionStatus.NA;projectMasterData[\"projectMaster\"][\"nuserrolecode\"]=_this.state.selectedRecord[\"nuserrolecode\"]?_this.state.selectedRecord[\"nuserrolecode\"].value:transactionStatus.NA;projectMasterData[\"projectMaster\"][\"nusercode\"]=_this.state.selectedRecord[\"nusercode\"]?_this.state.selectedRecord[\"nusercode\"].value:transactionStatus.NA;// projectMasterData[\"projectMaster\"][\"nteammembercode\"] = this.state.selectedRecord[\"nteammembercode\"] ? this.state.selectedRecord[\"nteammembercode\"].value\n//   : transactionStatus.NA;\nprojectMasterData[\"projectMaster\"][\"nperiodcode\"]=_this.state.selectedRecord[\"nperiodcode\"]?_this.state.selectedRecord[\"nperiodcode\"].value:transactionStatus.NA;// if (this.state.selectedRecord[\"drfwdate\"] || this.state.selectedRecord[\"dprojectstartdate\"]) {\n//   if (this.props.Login.operation === \"create\") {\nprojectMasterData[\"projectMaster\"][\"drfwdate\"]=formatInputDate(_this.state.selectedRecord[\"drfwdate\"],false);projectMasterData[\"projectMaster\"][\"dprojectstartdate\"]=formatInputDate(_this.state.selectedRecord[\"dprojectstartdate\"],false);projectMasterData[\"projectMaster\"][\"ntzrfwdate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";projectMasterData[\"projectMaster\"][\"ntzprojectstartdate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";//   }\n//   else {\n//     projectMasterData[\"projectMaster\"][\"drfwdate\"] = formatInputDate(this.state.selectedRecord[\"drfwdate\"],false);\n//     projectMasterData[\"projectMaster\"][\"dprojectstartdate\"] = formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false);\n//   }\n// }\n}if(_this.props.Login.operation===\"create\"&&_this.props.Login.screenName===\"IDS_ADDMEMBERS\"){projectMasterData[\"ProjectMember\"]={};projectMasterData[\"ProjectMember\"][\"nusercode\"]=_this.state.selectedRecord[\"nusercode\"][0]?_this.state.selectedRecord[\"nusercode\"][0].value:transactionStatus.NA;projectMasterData[\"ProjectMember\"][\"nprojectmastercode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;}if((_this.props.Login.operation===\"create\"||_this.props.Login.operation===\"update\")&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){inputParam={classUrl:\"projectmaster\",methodUrl:\"ProjectMaster\",inputData:projectMasterData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,postParam:postParam,searchRef:_this.searchRef,isClearSearch:_this.props.Login.isClearSearch};}/* else if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      inputParam = {\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMember\",\r\n        inputData: projectMasterData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n      }\r\n    } */if(_this.props.Login.operation===\"create\"&&_this.props.Login.screenName===\"IDS_CLOSUREFILE\"){inputParam=_this.onSaveProjectMasterClosureFile(saveType,formRef);}var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.onNumericInputOnChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.onSaveProjectMasterClosureFile=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var projectmasterclosureFile={};var projectmasterclosureFileArray=[];var formData=new FormData();var tempData=Object.assign({},projectmasterclosureFile);if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var uniquefilename=create_UUID()+'.'+fileExtension;tempData[\"sclosureremarks\"]=selectedRecord.sclosureremarks?selectedRecord.sclosureremarks.trim():\"\";tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"sfilename\"]=file.name;tempData[\"nprojectmastercode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;tempData[\"ntransactionstatus\"]=_this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus;tempData[\"nprojecttypecode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojecttypecode;tempData[\"sprojecttitle\"]=_this.props.Login.masterData.SelectedProjectMaster.sprojecttitle;tempData[\"sprojectcode\"]=_this.props.Login.masterData.SelectedProjectMaster.sprojectcode;projectmasterclosureFileArray.push(tempData);});}formData.append(\"projectmaster\",JSON.stringify(projectmasterclosureFileArray[0]));var selectedId=null;var postParam=undefined;if(_this.props.Login.operation===\"create\"){// edit\npostParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\"};selectedId=selectedRecord[\"nprojectmastercode\"];}var inputParam={inputData:{userinfo:_this.props.Login.userInfo},formData:formData,isFileupload:true,operation:_this.props.Login.operation,classUrl:\"projectmaster\",saveType:saveType,formRef:formRef,methodUrl:\"ProjectMasterClosureFile\",postParam:postParam,searchRef:_this.searchRef};return inputParam;};_this.DeleteProjectMaster=function(methodUrl,selectedProjectMaster,operation,ncontrolCode){var postParam={inputListName:\"ProjectMasterList\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",primaryKeyValue:selectedProjectMaster.nprojectmastercode,fetchUrl:\"projectmaster/getProjectMasterById\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:methodUrl,postParam:postParam,inputData:{userinfo:_this.props.Login.userInfo,projectmaster:selectedProjectMaster},operation:operation,isClearSearch:_this.props.Login.isClearSearch};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROJECTMASTER\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"});};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:// const selectedRecord = this.state.selectedRecord || {};\nif(selectedRecord.nuserrolecode){if(parseInt(comboData.value)!==parseInt(selectedRecord.nuserrolecode.value)){// selectedRecord.nusercode={};\ndelete selectedRecord.nusercode;}}selectedRecord[fieldName]=comboData;selectedRecord[\"suserrolename\"]=comboData.item[\"suserrolename\"];_this.props.getuserComboServices({inputData:{userinfo:_this.props.Login.userInfo,sdisplayname:selectedRecord.nuserrolecode.label,primarykey:selectedRecord.nuserrolecode.value}},selectedRecord);// this.setState({ selectedRecord });\nbreak;case 2:// let nfilterProjectType = this.state.nfilterProjectType || {}\n// nfilterProjectType = comboData;\nvar selectedRecordfilter=_this.state.selectedRecordfilter||{};selectedRecordfilter[fieldName]=comboData;_this.setState({selectedRecordfilter:selectedRecordfilter});break;case 3:selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;default:break;}};_this.onDropProjectMasterFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"ntransactionstatus\")selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;// else if (event.target.name === \"nlockmode\")\n//     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\nelse selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.deleteProjectMember=function(deleteParam){var inputParam={classUrl:\"projectmaster\",methodUrl:\"ProjectMember\",//displayName: ,\ninputData:{\"projectmember\":deleteParam.selectedRecord,//.dataItem,\n\"nprojectmembercode\":deleteParam.selectedRecord.nprojectmembercode,\"userinfo\":_this.props.Login.userInfo},operation:\"delete\"// priceDataState:this.state.priceDataState\n};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openChildModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_MEMBERS\"}),operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.onDropProjectMasterclosureFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.onNumericInputChange=function(value,name){console.log(\"value:\",value,name);var selectedRecord=_this.state.selectedRecord||{};if(name===\"nprojectduration\"){if(/^[0-9]+$/.test(value.target.value)||value.target.value===\"\"){selectedRecord[name]=value.target.value;}else{selectedRecord[name]=\"\";}}else{selectedRecord[name]=value;}_this.setState({selectedRecord:selectedRecord});};_this.approveProjectMaster=function(methodUrl,selectedProjectMaster,operation,ncontrolCode){if(selectedProjectMaster.ntransactionstatus===transactionStatus.DRAFT){var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",primaryKeyValue:selectedProjectMaster.nprojectmastercode,fetchUrl:\"projectmaster/getProjectMaster\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:methodUrl,postParam:postParam,inputData:{\"userinfo\":_this.props.Login.userInfo,\"projectmaster\":selectedProjectMaster},operation:operation,isClearSearch:_this.props.Login.isClearSearch};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROJECTMASTER\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}};_this.RetireProjectMaster=function(methodUrl,selectedProjectMaster,operation,ncontrolCode){if(selectedProjectMaster.ntransactionstatus===transactionStatus.CLOSED){var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",primaryKeyValue:selectedProjectMaster.nprojectmastercode,fetchUrl:\"projectmaster/getProjectMaster\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:methodUrl,postParam:postParam,inputData:{\"userinfo\":_this.props.Login.userInfo,\"projectmaster\":selectedProjectMaster},operation:operation,isClearSearch:_this.props.Login.isClearSearch};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROJECTMASTER\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTCLOSEDVERSION\"}));}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.onDropTestFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.state.data,event.dataState),priceDataState:event.dataState});};_this.ConfirmDelete=function(selectedProjectMaster,operation,deleteId,screenName){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.DeleteProjectMaster(screenName,selectedProjectMaster,operation,deleteId);});};_this.reloadData=function(){_this.searchRef.current.value=\"\";// if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\nif(_this.props.Login.masterData.SelectedProjectType!==undefined){if(Object.values(_this.props.Login.masterData.SelectedProjectType).length&&_this.props.Login.masterData.SelectedProjectType!==undefined){var inputParam={inputData:{// nprojecttypecode: this.state.selectedRecord.nprojecttypecode.value,\nnprojecttypecode:_this.props.Login.masterData.SelectedProjectType.nprojecttypecode,userinfo:_this.props.Login.userInfo,// nfilterProjectType: this.state.selectedRecord.nprojecttypecode,\nnfilterProjectType:_this.props.Login.masterData.SelectedProjectType},classUrl:\"projectmaster\",methodUrl:\"ProjectMasterByProjectType\"};_this.props.changeProjectTypeFilter(inputParam,_this.props.Login.masterData.filterProjectType);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PROJECTTYPENOTAVAILABLE\"}));}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.state.selectedRecord;//    let selectedRecord = this.state.selectedRecord;\nif(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"approve\"||_this.props.Login.operation===\"retire\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']='';selectedRecord['esigncomments']='';selectedRecord['esignreason']='';}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){_this.searchRef.current.value=\"\";// if (this.state.nfilterProjectType.value) {\n// if (this.state.selectedRecord.nprojecttypecodevalue.value) {\n//if ((this.state.selectedRecord).length>0) {\n// if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\nif(_this.state.selectedRecordfilter.nprojecttypecodevalue!==undefined){if(Object.values(_this.state.selectedRecordfilter.nprojecttypecodevalue).length&&_this.state.selectedRecordfilter.nprojecttypecodevalue!==undefined){var inputParam={inputData:{nprojecttypecode:_this.state.selectedRecordfilter.nprojecttypecodevalue.value,userinfo:_this.props.Login.userInfo,// nfilterProjectType: this.state.nfilterProjectType,\nnfilterProjectType:_this.state.selectedRecordfilter.nprojecttypecodevalue},classUrl:\"projectmaster\",methodUrl:\"ProjectMasterByProjectType\"};_this.props.changeProjectTypeFilter(inputParam,_this.props.Login.masterData.filterProjectType);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PROJECTTYPENOTAVAILABLE\"}));}};var sectionDataState={skip:0,take:10};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],selectedProjectMaster:undefined,controlMap:new Map(),Instrument:[],sectionDataState:sectionDataState};_this.searchRef=React.createRef();_this.searchFieldList=[\"sprojectcode\",\"sprojecttitle\",\"suserrolename\",\"susername\",\"srfwdate\",\"sprojectstartdate\",\"sprojectdescription\",\"sversionstatus\",\"sfilename\",\"sclosureremarks\",\"sprojectduration\"];_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(ProjectMaster,[{key:\"render\",value:function render(){var _this2=this;var versionStatusCSS=\"outline-secondary\";var activeIconCSS=\"fa fa-check\";if(this.props.Login.masterData.SelectedProjectMaster&&this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.APPROVED){versionStatusCSS=\"outline-success\";}else if(this.props.Login.masterData.SelectedProjectMaster&&(this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.RETIRED||this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.CLOSED)){versionStatusCSS=\"outline-danger\";activeIconCSS=\"\";}else if(this.props.Login.masterData.SelectedProjectMaster&&this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.DRAFT){activeIconCSS=\"\";}if(this.props.Login.openModal){this.mandatoryFields=this.findMandatoryFields(this.props.Login.screenName,this.state.selectedRecord,this.props.Login.operation);}//console.log(\"master main\", this.props.Login.masterData);\n// let mandatoryFields = [];\nvar userInfo=this.props.Login.userInfo;var addId=this.state.controlMap.has(\"AddProjectMaster\")&&this.state.controlMap.get(\"AddProjectMaster\").ncontrolcode;var editId=this.state.controlMap.has(\"EditProjectMaster\")&&this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteProjectMaster\")&&this.state.controlMap.get(\"DeleteProjectMaster\").ncontrolcode;var approveId=this.state.controlMap.has(\"ApproveProjectMaster\")&&this.state.controlMap.get(\"ApproveProjectMaster\").ncontrolcode;// const addteammembersId = this.state.controlMap.has(\"AddTeamMembers\") && this.state.controlMap.get(\"AddTeamMembers\").ncontrolcode;\nvar retireId=this.state.controlMap.has(\"RetireProjectMaster\")&&this.state.controlMap.get(\"RetireProjectMaster\").ncontrolcode;var closureId=this.state.controlMap.has(\"ClosureProjectMaster\")&&this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;// const deleteteammembersId = this.state.controlMap.has(\"DeleteTeammembers\") && this.state.controlMap.get(\"DeleteTeammembers\").ncontrolcode;\nvar fieldsForGrid=[{\"idsName\":\"IDS_LOGINID\",\"dataField\":\"sloginid\",\"width\":\"200px\"},{\"idsName\":\"IDS_USER\",\"dataField\":\"steammembername\",\"width\":\"200px\"}];var SelectedProjectMaster=this.props.Login.masterData.SelectedProjectMaster;var selectedMaster=this.props.Login.masterData.SelectedProjectMaster;var selectedProjectMaster=this.props.Login.masterData.SelectedProjectMaster;var filterParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",fetchUrl:\"projectmaster/getProjectMasterById\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var breadCrumbData=this.state.filterData||[];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{screenName:this.props.intl.formatMessage({id:\"IDS_PROJECTMASTER\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.ProjectMaster,getMasterDetail:function getMasterDetail(ProjectMasterdata){return _this2.props.getProjectMaster(ProjectMasterdata,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:selectedProjectMaster,primaryKeyField:\"nprojectmastercode\",mainField:\"sprojecttitle\",firstField:\"sprojectcode\",secondField:\"sversionstatus\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,searchRef:this.searchRef,reloadData:this.reloadData//     openModal={() => this.props.addProjectMaster(\"create\", SelectedProjectMaster, userInfo, addId, this.state.ProjectMasterList)}\n,openModal:function openModal(){return _this2.props.addProjectMaster(\"create\",SelectedProjectMaster,userInfo,addId,_this2.state.selectedRecordfilter,_this2.props.Login.masterData.SelectedProjectType);},isMultiSelecct:false,hidePaging:false,isClearSearch:this.props.Login.isClearSearch,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,showFilterIcon:true,showFilter:this.props.Login.showFilter,filterComponent:[{\"IDS_PROJECTMASTERFILTER\":/*#__PURE__*/React.createElement(ProjectMasterFilter,{filterProjectType:this.state.ProjectMasterList||[],nfilterProjectType:this.props.Login.masterData.SelectedProjectType||{},onComboChange:this.onComboChange,selectedRecord:this.state.selectedRecordfilter||{}})}]})),/*#__PURE__*/React.createElement(Col,{md:8},selectedProjectMaster?/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},selectedProjectMaster.sprojecttitle),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(versionStatusCSS,\" btn-sm ml-3\")},/*#__PURE__*/React.createElement(\"i\",{class:activeIconCSS}),selectedProjectMaster.sversionstatus)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",name:\"edittestname\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.props.addProjectMaster(\"update\",selectedProjectMaster,userInfo,editId,_this2.state.selectedRecordfilter,addProjectMaster);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",name:\"deletetestname\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})//   data-for=\"tooltip_list_wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this2.ConfirmDelete(selectedProjectMaster,\"delete\",deleteId,\"ProjectMaster\");}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"approveProjectMaster\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.approveProjectMaster(\"ProjectMaster\",selectedProjectMaster,\"approve\",approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"ClosureProjectMaster\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(closureId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_CLOSE\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.handleProjectMasterClosure(selectedProjectMaster);}},/*#__PURE__*/React.createElement(Closure,{className:\"custom_icons\",width:\"17\",height:\"20\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"retireProjectMaster\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(retireId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_RETIRE\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.RetireProjectMaster(\"ProjectMaster\",selectedProjectMaster,\"retire\",retireId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUserTimes})))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_PROJECTCODE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sprojectcode))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_ROLE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.suserrolename))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_USER\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.susername))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_RFWDATE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.srfwdate),\" \"))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_STARTDATE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.sprojectstartdate),\" \"))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_PROJECTDURATION\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sprojectduration))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_PROJECTDESCRIPTION\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sprojectdescription)))),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"horizontal-line\"})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_CLOSUREFILENAME\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sfilename))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_REASONFORCLOSURE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sclosureremarks)))),/*#__PURE__*/React.createElement(Card,{className:\"at-tabs border-0\"},/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ProjectMasterTab,{primaryKeyField:\"nprojectmembercode\",data:this.props.Login.masterData.ProjectMember,dataResult:this.props.Login.masterData.ProjectMember,masterData:this.props.Login.masterData,screenName:this.props.Login.screenName,operation:this.props.Login.operation,openChildModal:this.props.Login.openChildModal,crudMaster:this.props.crudMaster,errorCode:this.props.Login.errorCode,validateEsignCredential:this.props.validateEsignCredential,loadEsign:this.props.Login.loadEsign,showAccordian:this.state.showAccordian,selectedRecord:this.state.selectedRecord||{}// dataState={{skip: 0, take: 10}}\n,dataState:this.props.Login.dataState,dataStateChange:this.dataStateChange,extractedColumnList:fieldsForGrid,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo//    getProjectmasterAddMemberService={(this.props.Login.screenName,this.props.Login.operation,this.props.getProjectmasterAddMemberService,this.props.Login.userInfo,this.props.Login.ncontrolCode)}\n,getProjectmasterAddMemberService:this.props.getProjectmasterAddMemberService// --   fetchRecord={this.props.getPricingEditService}\n//--       editParam={{...editTestPriceParam, \"updateType\":\"Single\", priceDataState:this.state.priceDataState}}\n,deleteRecord:this.deleteProjectMember//  deleteParam={{operation:\"delete\"}}\n,methodUrl:\"Teammembers\"// reloadData={this.reloadData}\n// --      addRecord = {() => this.openModal(addId)}\n,pageable:true,onTabChange:this.onTabChange,updateStore:this.props.updateStore,scrollable:'scrollable'// gridHeight = {'600px'}\n,isActionRequired:true,isToolBarRequired:false,selectedId:this.props.Login.selectedId,viewAttachment:this.props.viewAttachment,MembersList:this.props.Login.MembersList,onComboChange:this.onComboChange// File\n,addProjectMasterFile:this.props.addProjectMasterFile,esignRights:this.props.Login.userRoleControlRights,ntransactionstatus:selectedProjectMaster.ntransactionstatus//  selectedRecord={this.props.Login.selectedRecord}\n,onDropProjectMasterFile:this.onDropProjectMasterFile,onInputOnChange:this.onInputOnChange,screenData:this.props.Login.screenData,deleteAttachment:this.deleteAttachment,ncontrolCode:this.props.Login.ncontrolCode}))))))):\"\"))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal//size={this.props.Login.operation===\"create\" ? \"xl\" : \"lg\" }\n,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.mandatoryFields||[],addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_PROJECTMASTER\"?/*#__PURE__*/React.createElement(AddProjectMaster,{userInfo:this.props.Login.userInfo,selectedRecord:this.state.selectedRecord||{},ProjectType:this.props.Login.ProjectType,onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange// onNumericInputOnChange={this.onNumericInputOnChange}\n,onNumericInputChange:this.onNumericInputChange,handleDateChange:this.handleDateChange,Userrole:this.props.Login.Userrole,Users:this.props.Login.userList,TeamMembers:this.props.Login.TeamMembers,PeriodByControl:this.props.Login.PeriodByControl}):this.props.Login.screenName===\"IDS_CLOSUREFILE\"?/*#__PURE__*/React.createElement(ProjectMasterClosure,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onDrop:this.onDropProjectMasterclosureFile,onDropAccepted:this.onDropAccepted,deleteAttachment:this.deleteAttachment,actionType:this.state.actionType,onComboChange:this.onComboChange,linkMaster:this.props.linkMaster,editFiles:this.props.editFiles,maxSize:20,maxFiles:1,multiple:false,label:this.props.intl.formatMessage({id:\"IDS_FILENAME\"}),name:\"projectmasterclosurefilename\"}):\"\"}));}},{key:\"findMandatoryFields\",value:function findMandatoryFields(screenName,selectedRecord,operation){var mandatoryFields=[];if(screenName===\"IDS_PROJECTMASTER\"){mandatoryFields=[{\"idsName\":\"IDS_PROJECTTYPE\",\"dataField\":\"nprojecttypecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PROJECTTITLE\",\"dataField\":\"sprojecttitle\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_PROJECTCODE\",\"dataField\":\"sprojectcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_ROLE\",\"dataField\":\"nuserrolecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_USER\",\"dataField\":\"nusercode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_RFWDATE\",\"dataField\":\"drfwdate\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_STARTDATE\",\"dataField\":\"dprojectstartdate\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PROJECTDURATION\",\"dataField\":\"nprojectduration\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_DURATIONPERIOD\",\"dataField\":\"nperiodcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];mandatoryFields.forEach(function(item){return item.mandatory===true&&mandatoryFields.push(item);});return mandatoryFields;}else if(screenName===\"IDS_CLOSUREFILE\"){mandatoryFields=[{\"idsName\":\"IDS_FILENAME\",\"dataField\":\"sfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"},{\"idsName\":\"IDS_REASONFORCLOSURE\",\"dataField\":\"sclosureremarks\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textarea\"}];mandatoryFields.forEach(function(item){return item.mandatory===true&&mandatoryFields.push(item);});return mandatoryFields;}else{return[];}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,selectedRecord=_this$state.selectedRecord,selectedRecordfilter=_this$state.selectedRecordfilter,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,filterData=_this$state.filterData,nfilterProjectType=_this$state.nfilterProjectType,filterProjectType=_this$state.filterProjectType;if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;this.setState({selectedRecord:selectedRecord,selectedRecordfilter:selectedRecordfilter});}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights});//   updateState = true;\n}var nprojecttypecode=this.state.nfilterProjectType||{};if(this.props.Login.masterData!==previousProps.Login.masterData){nfilterProjectType=this.state.nfilterProjectType||{};var _filterProjectType=constructOptionList(this.props.Login.masterData.filterProjectType||[],\"nprojecttypecode\",\"sprojecttypename\",undefined,undefined,undefined);var ProjectMasterList=_filterProjectType.get(\"OptionList\");nprojecttypecode=ProjectMasterList[0];selectedRecordfilter={nprojecttypecodevalue:nprojecttypecode};selectedRecord={nprojecttypecodevalue:nprojecttypecode};// nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\nthis.setState({ProjectMasterList:ProjectMasterList,selectedRecordfilter:selectedRecordfilter,selectedRecord:selectedRecord});if(this.props.Login.masterData.SelectedProjectType&&this.props.Login.masterData.SelectedProjectType!==previousProps.Login.masterData.SelectedProjectType){nfilterProjectType={label:this.props.Login.masterData.SelectedProjectType.sprojecttypename,value:this.props.Login.masterData.SelectedProjectType.nprojecttypecode,item:this.props.Login.masterData.SelectedProjectType};}//  selectedRecordfilter = {nprojecttypecodevalue:nfilterProjectType}\nfilterData=this.generateBreadCrumData();updateState=true;this.setState({filterData:filterData,selectedRecordfilter:selectedRecordfilter});}if(this.props.Login.masterData.SelectedProjectType!==previousProps.Login.masterData.SelectedProjectType){var nprojecttypecodevalue=this.props.Login.masterData.SelectedProjectType?{label:this.props.Login.masterData.SelectedProjectType.sprojecttypename,value:this.props.Login.masterData.SelectedProjectType.nprojecttypecode,item:this.props.Login.masterData.SelectedProjectType}:\"\";//  nprojecttypecode=ProjectMasterList[ProjectMasterList.length-1];\nselectedRecordfilter={nprojecttypecodevalue:nprojecttypecodevalue};selectedRecord={nprojecttypecodevalue:nprojecttypecode};// nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\nthis.setState({selectedRecordfilter:selectedRecordfilter,selectedRecord:selectedRecord});}// if (this.props.Login.masterData.nfilterProjectType !== previousProps.Login.masterData.nfilterProjectType) {\n// }\n}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.SelectedProjectType){breadCrumbData.push({label:\"IDS_PROJECTTYPE\",value:this.props.Login.masterData.SelectedProjectType?this.props.Login.masterData.SelectedProjectType.sprojecttypename:\"NA\"});}else if(this.props.Login.masterData&&this.props.Login.masterData.SelectedProjectMaster){/*    breadCrumbData.push({\r\n            label: \"IDS_PROJECTTYPE\",\r\n            value: this.state.selectedRecord.nprojecttypecode\r\n              ? this.state.selectedRecord.nprojecttypecode.label\r\n              : \"NA\",\r\n          }); */breadCrumbData.push({label:\"IDS_PROJECTTYPE\",value:this.props.Login.masterData.SelectedProjectMaster?this.props.Login.masterData.SelectedProjectMaster.sprojecttypename:\"NA\"});}else{/*       breadCrumbData.push({\r\n             label: \"IDS_PROJECTTYPE\",\r\n             value:  this.state.selectedRecord.nprojecttypecodevalue\r\n               ? this.state.selectedRecord.nprojecttypecodevalue.label\r\n               : \"NA\",\r\n           }); */breadCrumbData.push({label:\"IDS_PROJECTTYPE\",value:this.props.Login.masterData.nfilterProjectType?this.props.Login.masterData.nfilterProjectType.label:\"NA\"});}return breadCrumbData;}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return ProjectMaster;}(Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,filterColumnData:filterColumnData,updateStore:updateStore,validateEsignCredential:validateEsignCredential,changeProjectTypeFilter:changeProjectTypeFilter,viewAttachment:viewAttachment,addProjectMaster:addProjectMaster,getProjectMaster:getProjectMaster,getProjectmasterAddMemberService:getProjectmasterAddMemberService,addProjectMasterFile:addProjectMasterFile,getuserComboServices:getuserComboServices})(injectIntl(ProjectMaster));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/project/ProjectMaster.jsx"],"names":["React","Component","Row","Col","Card","Nav","FormGroup","FormLabel","connect","toast","FontAwesomeIcon","faTrashAlt","faPencilAlt","faThumbsUp","faUserTimes","injectIntl","callService","crudMaster","validateEsignCredential","updateStore","changeProjectTypeFilter","filterColumnData","viewAttachment","addProjectMaster","getProjectMaster","getProjectmasterAddMemberService","addProjectMasterFile","getuserComboServices","ListMaster","transactionStatus","AddProjectMaster","ProjectMasterTab","ProjectMasterClosure","DEFAULT_RETURN","SlideOutModal","Esign","showEsign","getControlMap","constructOptionList","formatInputDate","onDropAttachFileList","deleteAttachmentDropZone","create_UUID","rearrangeDateFormatDateOnly","ReadOnlyText","ContentPanel","process","ConfirmMessage","BreadcrumbComponent","Affix","ProjectMasterFilter","intl","mapStateToProps","state","Login","ProjectMaster","props","handleDateChange","dateName","dateValue","selectedRecord","setState","handleProjectMasterClosure","selectedProjectMaster","closureId","controlMap","has","get","ncontrolcode","ntransactionstatus","APPROVED","updateInfo","typeName","data","screenName","openModal","operation","ncontrolCode","warn","formatMessage","id","onInputOnChange","event","optional","target","type","name","checked","value","onSaveClick","saveType","formRef","projectMasterData","inputParam","userInfo","postParam","inputListName","selectedObject","primaryKeyField","masterData","SelectedProjectMaster","nprojectmastercode","sprojecttitle","sprojectcode","sprojectdescription","nprojectduration","nsitecode","nmastersitecode","undefined","parseInt","DRAFT","sfilename","sclosureremarks","NA","userinfo","ntimezonecode","classUrl","methodUrl","inputData","searchRef","isClearSearch","onSaveProjectMasterClosureFile","userRoleControlRights","nformcode","loadEsign","screenData","onNumericInputOnChange","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","acceptedFiles","projectmasterclosureFile","projectmasterclosureFileArray","formData","FormData","tempData","Object","assign","Array","isArray","length","forEach","file","index","splittedFileName","split","fileExtension","uniquefilename","trim","nprojecttypecode","push","append","JSON","stringify","selectedId","isFileupload","DeleteProjectMaster","primaryKeyValue","fetchUrl","fecthInputObject","projectmaster","deleteAttachment","fieldName","actionType","onComboChange","comboData","caseNo","nuserrolecode","nusercode","item","sdisplayname","primarykey","selectedRecordfilter","onDropProjectMasterFile","attachedFiles","maxSize","ACTIVE","DEACTIVE","YES","NO","deleteProjectMember","deleteParam","nprojectmembercode","openChildModal","onDropProjectMasterclosureFile","onNumericInputChange","console","log","test","approveProjectMaster","RetireProjectMaster","CLOSED","onTabChange","tabProps","onDropTestFile","dataStateChange","dataResult","dataState","priceDataState","ConfirmDelete","deleteId","confirmMessage","confirm","reloadData","current","SelectedProjectType","values","nfilterProjectType","filterProjectType","closeModal","openFilter","showFilter","closeFilter","onFilterSubmit","nprojecttypecodevalue","sectionDataState","skip","take","error","Map","Instrument","createRef","searchFieldList","versionStatusCSS","activeIconCSS","RETIRED","mandatoryFields","findMandatoryFields","addId","editId","approveId","retireId","fieldsForGrid","selectedMaster","filterParam","breadCrumbData","filterData","searchedData","ProjectMasterdata","ProjectMasterList","sversionstatus","indexOf","suserrolename","susername","srfwdate","sprojectstartdate","sprojectduration","ProjectMember","errorCode","showAccordian","MembersList","ProjectType","Userrole","userList","TeamMembers","PeriodByControl","onDropAccepted","linkMaster","editFiles","mandatory","previousProps","updateState","map","sprojecttypename","generateBreadCrumData","masterStatus"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrashAlt, faPencilAlt, faThumbsUp, faUserTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { injectIntl } from \"react-intl\";\r\nimport {\r\n  callService, crudMaster, validateEsignCredential, updateStore, changeProjectTypeFilter, filterColumnData,\r\n  viewAttachment, addProjectMaster, getProjectMaster, getProjectmasterAddMemberService, addProjectMasterFile, getuserComboServices\r\n} from \"../../actions\";\r\n\r\nimport ListMaster from \"../../components/list-master/list-master.component\";\r\nimport { transactionStatus } from \"../../components/Enumeration\";\r\nimport AddProjectMaster from \"../../pages/project/AddProjectMaster\";\r\nimport ProjectMasterTab from \"../../pages/project/ProjectMasterTab\";\r\nimport ProjectMasterClosure from \"../../pages/project/ProjectMasterClosure\";\r\nimport { DEFAULT_RETURN } from \"../../actions/LoginTypes\";\r\nimport SlideOutModal from \"../../components/slide-out-modal/SlideOutModal\";\r\n\r\nimport Esign from \"../audittrail/Esign\";\r\nimport { showEsign, getControlMap, constructOptionList, formatInputDate, onDropAttachFileList, deleteAttachmentDropZone, create_UUID, rearrangeDateFormatDateOnly }\r\n  from \"../../components/CommonScript\";\r\nimport { ReadOnlyText, ContentPanel } from \"../../components/App.styles\";\r\nimport { process } from \"@progress/kendo-data-query\";\r\nimport ConfirmMessage from \"../../components/confirm-alert/confirm-message.component\";\r\nimport BreadcrumbComponent from \"../../components/Breadcrumb.Component\";\r\nimport { Affix } from \"rsuite\";\r\nimport ProjectMasterFilter from './ProjectMasterFilter';\r\nimport { ReactComponent as Closure } from '../../assets/image/cancel-close-svgrepo-com.svg';\r\nimport { intl } from \"../../components/App\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { Login: state.Login };\r\n};\r\n\r\nclass ProjectMaster extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const sectionDataState = { skip: 0, take: 10 };\r\n    this.state = {\r\n      selectedRecord: {},\r\n      error: \"\",\r\n      userRoleControlRights: [],\r\n      selectedProjectMaster: undefined,\r\n      controlMap: new Map(),\r\n      Instrument: [],\r\n      sectionDataState,\r\n    };\r\n    this.searchRef = React.createRef();\r\n    this.searchFieldList = [\"sprojectcode\", \"sprojecttitle\",\"suserrolename\", \"susername\", \"srfwdate\", \"sprojectstartdate\", \"sprojectdescription\", \"sversionstatus\", \"sfilename\", \"sclosureremarks\", \"sprojectduration\"]\r\n    this.confirmMessage = new ConfirmMessage();\r\n  }\r\n\r\n  handleDateChange = (dateName, dateValue) => {\r\n    const { selectedRecord } = this.state;\r\n    selectedRecord[dateName] = dateValue;\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n  handleProjectMasterClosure = (selectedProjectMaster) => {\r\n\r\n    const closureId = this.state.controlMap.has(\"ClosureProjectMaster\") && this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;\r\n  //  const editId = this.state.controlMap.has(\"EditProjectMaster\") && this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;\r\n\r\n    if (selectedProjectMaster.ntransactionstatus === transactionStatus.APPROVED) {\r\n\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          screenName: \"IDS_CLOSUREFILE\",\r\n          openModal: true,\r\n          operation: \"create\",\r\n          ncontrolCode :closureId\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n\r\n      toast.warn(intl.formatMessage({ id: \"IDS_SELECTAPPROVEVERSION\" }));\r\n\r\n    }\r\n\r\n  };\r\n\r\n\r\n  onInputOnChange = (event, optional) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (event.target.type === \"checkbox\") {\r\n      selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n    } else if (event.target.type === 'radio') {\r\n      selectedRecord[event.target.name] = optional;\r\n    } else {\r\n      selectedRecord[event.target.name] = event.target.value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n\r\n  onSaveClick = (saveType, formRef) => {\r\n\r\n    let projectMasterData = [];\r\n    let inputParam = {};\r\n    projectMasterData[\"userinfo\"] = this.props.Login.userInfo;\r\n    \r\n  \r\n    let postParam = {\r\n      inputListName: \"ProjectMaster\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n      \r\n    };\r\n\r\n    if ((this.props.Login.operation === \"update\") && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      postParam[\"primaryKeyValue\"] =\r\n        this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n\r\n      projectMasterData[\"projectMaster\"] = {\r\n        nprojectmastercode: this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode,\r\n        //     nprojecttypecode:this.state.selectedRecord.nprojecttypecode.value,\r\n        sprojecttitle: this.state.selectedRecord.sprojecttitle,\r\n        sprojectcode: this.state.selectedRecord.sprojectcode,\r\n        sprojectdescription: this.state.selectedRecord.sprojectdescription,\r\n        // drfwdate: formatInputDate(this.state.selectedRecord[\"drfwdate\"],false),\r\n        // dprojectstartdate: formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false),\r\n        //     nstudydirectorcode:this.state.selectedRecord.nstudydirectorcode.value,\r\n        //     nteammembercode: this.state.selectedRecord.nteammembercode.value,\r\n        //     nperiodcode: this.state.selectedRecord.nperiodcode.value,\r\n        nprojectduration: this.state.selectedRecord.nprojectduration,\r\n        ntransactionstatus: this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus\r\n\r\n      };\r\n\r\n    } else if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      projectMasterData[\"projectMaster\"] = {\r\n\r\n        nsitecode: this.props.Login.userInfo.nmastersitecode,\r\n        sprojecttitle: this.state.selectedRecord.sprojecttitle,\r\n        sprojectcode: this.state.selectedRecord.sprojectcode,\r\n        sprojectdescription: this.state.selectedRecord.sprojectdescription === undefined ? \"\" : this.state.selectedRecord.sprojectdescription,\r\n        nprojectduration: parseInt(this.state.selectedRecord.nprojectduration),\r\n        //  ntransactionstatus: this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus\r\n        ntransactionstatus: transactionStatus.DRAFT,\r\n        sfilename: this.state.selectedRecord.sfilename === undefined ? \"\" : this.state.selectedRecord.sfilename,\r\n        sclosureremarks: this.state.selectedRecord.sclosureremarks === undefined ? \"\" : this.state.selectedRecord.sclosureremarks\r\n      };\r\n\r\n      /*     this.projectMasterFieldList.map((item) => {\r\n             return (projectMasterData[\"projectMaster\"][item] = this.state.selectedRecord[item] == \"\" || this.state.selectedRecord[item] == undefined ?\r\n             undefined :this.state.selectedRecord[item]);\r\n           }); */\r\n    }\r\n\r\n    if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      projectMasterData[\"projectMaster\"][\"nprojecttypecode\"] = this.state.selectedRecord[\"nprojecttypecode\"] ? this.state.selectedRecord[\"nprojecttypecode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nuserrolecode\"] = this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nusercode\"] = this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      // projectMasterData[\"projectMaster\"][\"nteammembercode\"] = this.state.selectedRecord[\"nteammembercode\"] ? this.state.selectedRecord[\"nteammembercode\"].value\r\n      //   : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nperiodcode\"] = this.state.selectedRecord[\"nperiodcode\"] ? this.state.selectedRecord[\"nperiodcode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      // if (this.state.selectedRecord[\"drfwdate\"] || this.state.selectedRecord[\"dprojectstartdate\"]) {\r\n      //   if (this.props.Login.operation === \"create\") {\r\n\r\n      projectMasterData[\"projectMaster\"][\"drfwdate\"] = formatInputDate(this.state.selectedRecord[\"drfwdate\"], false);\r\n      projectMasterData[\"projectMaster\"][\"dprojectstartdate\"] = formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"], false);\r\n      projectMasterData[\"projectMaster\"][\"ntzrfwdate\"] =  projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n      projectMasterData[\"projectMaster\"][\"ntzprojectstartdate\"] =  projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n\r\n      //   }\r\n      //   else {\r\n\r\n      //     projectMasterData[\"projectMaster\"][\"drfwdate\"] = formatInputDate(this.state.selectedRecord[\"drfwdate\"],false);\r\n      //     projectMasterData[\"projectMaster\"][\"dprojectstartdate\"] = formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false);\r\n\r\n      //   }\r\n      // }\r\n    }\r\n\r\n    if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_ADDMEMBERS\")) {\r\n      projectMasterData[\"ProjectMember\"] = {};\r\n      projectMasterData[\"ProjectMember\"][\"nusercode\"] = this.state.selectedRecord[\"nusercode\"][0] ? this.state.selectedRecord[\"nusercode\"][0].value\r\n        : transactionStatus.NA;\r\n      projectMasterData[\"ProjectMember\"][\"nprojectmastercode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n    }\r\n\r\n\r\n\r\n    if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      inputParam = {\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMaster\",\r\n        inputData: projectMasterData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n      };\r\n    }/* else if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      inputParam = {\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMember\",\r\n        inputData: projectMasterData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n      }\r\n    } */\r\n\r\n    if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_CLOSUREFILE\")) {\r\n\r\n      inputParam = this.onSaveProjectMasterClosureFile(saveType, formRef);\r\n\r\n    }\r\n    const masterData = this.props.Login.masterData;\r\n\r\n    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true,\r\n          screenData: { inputParam, masterData },\r\n          saveType,\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n      this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n    }\r\n\r\n  };\r\n\r\n  onNumericInputOnChange = (value, name) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[name] = value;\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (props.Login.masterStatus !== \"\") {\r\n      if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n        toast.warn(props.Login.masterStatus);\r\n        props.Login.masterStatus = \"\";\r\n      }\r\n    }\r\n    if (props.Login.error !== state.error) {\r\n      toast.error(props.Login.error);\r\n      props.Login.error = \"\";\r\n    }\r\n    if (props.Login.selectedRecord === undefined) {\r\n      return { selectedRecord: {} };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  validateEsign = () => {\r\n    const inputParam = {\r\n        inputData: {\r\n            \"userinfo\": {\r\n                ...this.props.Login.userInfo,\r\n                sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n            },\r\n            password: this.state.selectedRecord[\"esignpassword\"]\r\n        },\r\n        screenData: this.props.Login.screenData\r\n    }\r\n    this.props.validateEsignCredential(inputParam, \"openModal\");\r\n}\r\n\r\n\r\n  onSaveProjectMasterClosureFile = (saveType, formRef) => {\r\n\r\n    const selectedRecord = this.state.selectedRecord;\r\n    const acceptedFiles = selectedRecord.sfilename;\r\n\r\n    let projectmasterclosureFile = {};\r\n    let projectmasterclosureFileArray = [];\r\n    const formData = new FormData();\r\n    const tempData = Object.assign({}, projectmasterclosureFile);\r\n\r\n\r\n    if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n      acceptedFiles.forEach((file, index) => {\r\n\r\n        const splittedFileName = file.name.split('.');\r\n        const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n        const uniquefilename = create_UUID() + '.' + fileExtension;\r\n        tempData[\"sclosureremarks\"] = selectedRecord.sclosureremarks ? selectedRecord.sclosureremarks.trim() : \"\";\r\n        tempData[\"ssystemfilename\"] = uniquefilename;\r\n        tempData[\"sfilename\"] = file.name;\r\n        tempData[\"nprojectmastercode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n        tempData[\"ntransactionstatus\"] = this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus;\r\n        tempData[\"nprojecttypecode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojecttypecode;\r\n        tempData[\"sprojecttitle\"] = this.props.Login.masterData.SelectedProjectMaster.sprojecttitle;\r\n        tempData[\"sprojectcode\"] = this.props.Login.masterData.SelectedProjectMaster.sprojectcode;\r\n\r\n        projectmasterclosureFileArray.push(tempData);\r\n\r\n      });\r\n    }\r\n\r\n    formData.append(\"projectmaster\", JSON.stringify(projectmasterclosureFileArray[0]));\r\n\r\n    let selectedId = null;\r\n    let postParam = undefined;\r\n\r\n    if (this.props.Login.operation === \"create\") {\r\n      // edit\r\n      postParam = { inputListName: \"ProjectMaster\", selectedObject: \"SelectedProjectMaster\", primaryKeyField: \"nprojectmastercode\" };\r\n      selectedId = selectedRecord[\"nprojectmastercode\"];\r\n    }\r\n    const inputParam = {\r\n      inputData: { userinfo: this.props.Login.userInfo },\r\n      formData: formData,\r\n      isFileupload: true,\r\n      operation: this.props.Login.operation,\r\n      classUrl: \"projectmaster\",\r\n      saveType, formRef, methodUrl: \"ProjectMasterClosureFile\", postParam,\r\n      searchRef: this.searchRef\r\n    }\r\n\r\n    return inputParam;\r\n  }\r\n\r\n  DeleteProjectMaster = (methodUrl, selectedProjectMaster, operation, ncontrolCode) => {\r\n    const postParam = {\r\n      inputListName: \"ProjectMasterList\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n      primaryKeyValue: selectedProjectMaster.nprojectmastercode,\r\n      fetchUrl: \"projectmaster/getProjectMasterById\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n    };\r\n\r\n    const inputParam = {\r\n      classUrl: this.props.Login.inputParam.classUrl,\r\n      methodUrl,\r\n      postParam,\r\n      inputData: {\r\n        userinfo: this.props.Login.userInfo,\r\n        projectmaster: selectedProjectMaster,\r\n      },\r\n      operation,\r\n      isClearSearch: this.props.Login.isClearSearch,\r\n    };\r\n\r\n    const masterData = this.props.Login.masterData;\r\n\r\n    if (\r\n      showEsign(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode,\r\n        ncontrolCode\r\n      )\r\n    ) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true,\r\n          screenData: { inputParam, masterData },\r\n          openModal: true,\r\n          screenName: \"IDS_PROJECTMASTER\",\r\n          operation,\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n      this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n    }\r\n  };\r\n\r\n  deleteAttachment = (event, file, fieldName) => {\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = deleteAttachmentDropZone(\r\n      selectedRecord[fieldName],\r\n      file\r\n    );\r\n\r\n    this.setState({\r\n      selectedRecord,\r\n      actionType: \"delete\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n\r\n\r\n    let versionStatusCSS = \"outline-secondary\";\r\n    let activeIconCSS = \"fa fa-check\"\r\n\r\n\r\n    if (this.props.Login.masterData.SelectedProjectMaster && this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.APPROVED) {\r\n      versionStatusCSS = \"outline-success\";\r\n    }\r\n    else if (this.props.Login.masterData.SelectedProjectMaster && ((this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.RETIRED) || (this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.CLOSED))) {\r\n      versionStatusCSS = \"outline-danger\";\r\n      activeIconCSS = \"\";\r\n    }\r\n    else if (this.props.Login.masterData.SelectedProjectMaster && this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.DRAFT) {\r\n      activeIconCSS = \"\";\r\n\r\n    }\r\n\r\n    if (this.props.Login.openModal) {\r\n      this.mandatoryFields = this.findMandatoryFields(this.props.Login.screenName, this.state.selectedRecord, this.props.Login.operation)\r\n    }\r\n\r\n    //console.log(\"master main\", this.props.Login.masterData);\r\n    // let mandatoryFields = [];\r\n    const { userInfo } = this.props.Login;\r\n    const addId = this.state.controlMap.has(\"AddProjectMaster\") && this.state.controlMap.get(\"AddProjectMaster\").ncontrolcode;\r\n    const editId = this.state.controlMap.has(\"EditProjectMaster\") && this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;\r\n    const deleteId = this.state.controlMap.has(\"DeleteProjectMaster\") && this.state.controlMap.get(\"DeleteProjectMaster\").ncontrolcode;\r\n    const approveId = this.state.controlMap.has(\"ApproveProjectMaster\") && this.state.controlMap.get(\"ApproveProjectMaster\").ncontrolcode;\r\n    // const addteammembersId = this.state.controlMap.has(\"AddTeamMembers\") && this.state.controlMap.get(\"AddTeamMembers\").ncontrolcode;\r\n    const retireId = this.state.controlMap.has(\"RetireProjectMaster\") && this.state.controlMap.get(\"RetireProjectMaster\").ncontrolcode;\r\n    const closureId = this.state.controlMap.has(\"ClosureProjectMaster\") && this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;\r\n    // const deleteteammembersId = this.state.controlMap.has(\"DeleteTeammembers\") && this.state.controlMap.get(\"DeleteTeammembers\").ncontrolcode;\r\n\r\n\r\n\r\n    const fieldsForGrid = [\r\n\r\n      { \"idsName\": \"IDS_LOGINID\", \"dataField\": \"sloginid\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_USER\", \"dataField\": \"steammembername\", \"width\": \"200px\" }\r\n\r\n    ]\r\n\r\n\r\n    const { SelectedProjectMaster } = this.props.Login.masterData;\r\n    const selectedMaster = this.props.Login.masterData.SelectedProjectMaster;\r\n    const selectedProjectMaster = this.props.Login.masterData.SelectedProjectMaster;\r\n\r\n    const filterParam = {\r\n      inputListName: \"ProjectMaster\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n      fetchUrl: \"projectmaster/getProjectMasterById\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      masterData: this.props.Login.masterData,\r\n      searchFieldList: this.searchFieldList,\r\n    };\r\n    const breadCrumbData = this.state.filterData || [];\r\n    return (\r\n      <>\r\n        <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n          {breadCrumbData.length > 0 ? (\r\n            <Affix top={53}>\r\n              <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n            </Affix>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Row noGutters={true}>\r\n            <Col md={4}>\r\n              <ListMaster\r\n                screenName={this.props.intl.formatMessage({ id: \"IDS_PROJECTMASTER\" })}\r\n                masterData={this.props.Login.masterData}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.ProjectMaster}\r\n                getMasterDetail={(ProjectMasterdata) => this.props.getProjectMaster(ProjectMasterdata, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                selectedMaster={selectedProjectMaster}\r\n                primaryKeyField=\"nprojectmastercode\"\r\n                mainField=\"sprojecttitle\"\r\n                firstField=\"sprojectcode\"\r\n                secondField=\"sversionstatus\"\r\n                filterColumnData={this.props.filterColumnData}\r\n                filterParam={filterParam}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                addId={addId}\r\n                searchRef={this.searchRef}\r\n                reloadData={this.reloadData}\r\n                //     openModal={() => this.props.addProjectMaster(\"create\", SelectedProjectMaster, userInfo, addId, this.state.ProjectMasterList)}\r\n                openModal={() => this.props.addProjectMaster(\"create\", SelectedProjectMaster, userInfo, addId, this.state.selectedRecordfilter, this.props.Login.masterData.SelectedProjectType)}\r\n                isMultiSelecct={false}\r\n                hidePaging={false}\r\n                isClearSearch={this.props.Login.isClearSearch}\r\n\r\n                openFilter={this.openFilter}\r\n                closeFilter={this.closeFilter}\r\n                onFilterSubmit={this.onFilterSubmit}\r\n                showFilterIcon={true}\r\n                showFilter={this.props.Login.showFilter}\r\n                filterComponent={[\r\n                  {\r\n                    \"IDS_PROJECTMASTERFILTER\":\r\n                      <ProjectMasterFilter\r\n                        filterProjectType={this.state.ProjectMasterList || []}\r\n                        nfilterProjectType={this.props.Login.masterData.SelectedProjectType || {}}\r\n                        onComboChange={this.onComboChange}\r\n                        selectedRecord={this.state.selectedRecordfilter || {}}\r\n                      />\r\n                  }\r\n                ]}\r\n\r\n              />\r\n            </Col>\r\n            <Col md={8}>\r\n              {selectedProjectMaster ?\r\n                <ContentPanel className=\"panel-main-content\">\r\n                  <Card className=\"border-0\">\r\n                    <Card.Header>\r\n                      {/* <ReactTooltip place=\"bottom\" globalEventOff='click' /> */}\r\n                      <Card.Title className=\"product-title-main\">\r\n                        {selectedProjectMaster.sprojecttitle}\r\n                      </Card.Title>\r\n                      <Card.Subtitle>\r\n                        <div className=\"d-flex product-category\">\r\n                          <h2 className=\"product-title-sub flex-grow-1\">\r\n\r\n                            <span className={`btn btn-outlined ${versionStatusCSS} btn-sm ml-3`}>\r\n                              <i class={activeIconCSS}></i>\r\n                              {selectedProjectMaster.sversionstatus}\r\n\r\n                            </span>\r\n                          </h2>\r\n                          {/* </Col>\r\n                                                <Col md=\"4\"> */}\r\n                          {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                          <div className=\"d-inline\">\r\n                            {/* Don't delete these commented lines because additional info feature is needed for Agaram LIMS */}\r\n                            {/* Start Here */}\r\n                            {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"\" >  \r\n                                                            <FontAwesomeIcon icon={faEye} className=\"ActionIconColor\" onClick={(e)=>this.viewAdditionalInfo(e)} />\r\n                                                        </Nav.Link> */}\r\n                            {/* End Here */}\r\n                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\" name=\"edittestname\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.props.addProjectMaster(\"update\", selectedProjectMaster, userInfo, editId, this.state.selectedRecordfilter, addProjectMaster)}>\r\n                              <FontAwesomeIcon icon={faPencilAlt} />\r\n                            </Nav.Link>\r\n                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" name=\"deletetestname\"\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                              //   data-for=\"tooltip_list_wrap\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                              onClick={() => this.ConfirmDelete(selectedProjectMaster, \"delete\", deleteId, \"ProjectMaster\")}\r\n                            >\r\n                              <FontAwesomeIcon icon={faTrashAlt} />\r\n\r\n                            </Nav.Link>\r\n                            <Nav.Link name=\"approveProjectMaster\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.approveProjectMaster(\"ProjectMaster\", selectedProjectMaster, \"approve\", approveId)}>\r\n                              <FontAwesomeIcon icon={faThumbsUp} />\r\n                            </Nav.Link>\r\n                            <Nav.Link name=\"ClosureProjectMaster\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(closureId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_CLOSE\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.handleProjectMasterClosure(selectedProjectMaster)}>\r\n                              {/* <FontAwesomeIcon icon={faWindowClose} /> */}\r\n                              <Closure className=\"custom_icons\" width=\"17\" height=\"20\" />\r\n                            </Nav.Link>\r\n\r\n                            <Nav.Link name=\"retireProjectMaster\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(retireId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_RETIRE\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.RetireProjectMaster(\"ProjectMaster\", selectedProjectMaster, \"retire\", retireId)}\r\n                            >\r\n                              <FontAwesomeIcon icon={faUserTimes} />\r\n                            </Nav.Link>\r\n\r\n                          </div>\r\n                          {/* </Tooltip> */}\r\n                        </div>\r\n                        {/* </Col>\r\n                                            </Row> */}\r\n                      </Card.Subtitle>\r\n                    </Card.Header>\r\n                    <Card.Body className=\"form-static-wrap\">\r\n                      <Row>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTCODE\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectcode}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        {/* <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTDESCRIPTION\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectdescription}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col> */}\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_ROLE\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.suserrolename}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_USER\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.susername}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        {/* <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_TEAMMEMBERS\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.steammembername}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col> */}\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_RFWDATE\" })}</FormLabel>\r\n                            <ReadOnlyText>{rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.srfwdate)} </ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_STARTDATE\" })}</FormLabel>\r\n                            <ReadOnlyText>{rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.sprojectstartdate)} </ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTDURATION\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectduration}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        {/* <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_DURATIONPERIOD\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.speriodname}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>  */}\r\n\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTDESCRIPTION\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectdescription}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n\r\n                      </Row>\r\n                      <Col md={12}>\r\n                        <div className=\"horizontal-line\"></div>\r\n                      </Col>\r\n\r\n                      <Row>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_CLOSUREFILENAME\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sfilename}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_REASONFORCLOSURE\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sclosureremarks}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                      </Row>\r\n                      <Card className=\"at-tabs border-0\">\r\n                        <Row noGutters>\r\n                          <Col md={12}>\r\n                            <ProjectMasterTab\r\n                              primaryKeyField={\"nprojectmembercode\"}\r\n                              data={this.props.Login.masterData.ProjectMember}\r\n                              dataResult={this.props.Login.masterData.ProjectMember}\r\n                              masterData={this.props.Login.masterData}\r\n                              screenName={this.props.Login.screenName}\r\n                              operation={this.props.Login.operation}\r\n                              openChildModal={this.props.Login.openChildModal}\r\n                              crudMaster={this.props.crudMaster}\r\n                              errorCode={this.props.Login.errorCode}\r\n                              validateEsignCredential={this.props.validateEsignCredential}\r\n                              loadEsign={this.props.Login.loadEsign}\r\n                              showAccordian={this.state.showAccordian}\r\n                              selectedRecord={this.state.selectedRecord || {}}\r\n                              // dataState={{skip: 0, take: 10}}\r\n                              dataState={this.props.Login.dataState}\r\n                              dataStateChange={this.dataStateChange}\r\n                              extractedColumnList={fieldsForGrid}\r\n                              controlMap={this.state.controlMap}\r\n                              userRoleControlRights={this.state.userRoleControlRights}\r\n                              inputParam={this.props.Login.inputParam}\r\n                              userInfo={this.props.Login.userInfo}\r\n                              //    getProjectmasterAddMemberService={(this.props.Login.screenName,this.props.Login.operation,this.props.getProjectmasterAddMemberService,this.props.Login.userInfo,this.props.Login.ncontrolCode)}\r\n                              getProjectmasterAddMemberService={this.props.getProjectmasterAddMemberService}\r\n                              // --   fetchRecord={this.props.getPricingEditService}\r\n                              //--       editParam={{...editTestPriceParam, \"updateType\":\"Single\", priceDataState:this.state.priceDataState}}\r\n                              deleteRecord={this.deleteProjectMember}\r\n                              //  deleteParam={{operation:\"delete\"}}\r\n                              methodUrl={\"Teammembers\"}\r\n                              // reloadData={this.reloadData}\r\n                              // --      addRecord = {() => this.openModal(addId)}\r\n                              pageable={true}\r\n                              onTabChange={this.onTabChange}\r\n                              updateStore={this.props.updateStore}\r\n                              scrollable={'scrollable'}\r\n                              // gridHeight = {'600px'}\r\n                              isActionRequired={true}\r\n                              isToolBarRequired={false}\r\n                              selectedId={this.props.Login.selectedId}\r\n                              viewAttachment={this.props.viewAttachment}\r\n                              MembersList={this.props.Login.MembersList}\r\n                              onComboChange={this.onComboChange}\r\n                              // File\r\n                              addProjectMasterFile={this.props.addProjectMasterFile}\r\n                              esignRights={this.props.Login.userRoleControlRights}\r\n                              ntransactionstatus={selectedProjectMaster.ntransactionstatus}\r\n                              //  selectedRecord={this.props.Login.selectedRecord}\r\n                              onDropProjectMasterFile={this.onDropProjectMasterFile}\r\n                              onInputOnChange={this.onInputOnChange}\r\n                              screenData={this.props.Login.screenData}\r\n                              deleteAttachment={this.deleteAttachment}\r\n                              ncontrolCode={this.props.Login.ncontrolCode}\r\n                            />\r\n                          </Col>\r\n                        </Row>\r\n                      </Card>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </ContentPanel>\r\n                : \"\"\r\n              }\r\n            </Col>\r\n          </Row>\r\n\r\n\r\n        </div>\r\n        {/* End of get display */}\r\n\r\n        {/* Start of Modal Sideout for Test Creation */}\r\n        {this.props.Login.openModal &&\r\n          <SlideOutModal\r\n            show={this.props.Login.openModal}\r\n            //size={this.props.Login.operation===\"create\" ? \"xl\" : \"lg\" }\r\n            closeModal={this.closeModal}\r\n            operation={this.props.Login.operation}\r\n            inputParam={this.props.Login.inputParam}\r\n            screenName={this.props.Login.screenName}\r\n            onSaveClick={this.onSaveClick}\r\n            esign={this.props.Login.loadEsign}\r\n            validateEsign={this.validateEsign}\r\n            selectedRecord={this.state.selectedRecord || {}}\r\n            mandatoryFields={this.mandatoryFields || []}\r\n            addComponent={this.props.Login.loadEsign ?\r\n              <Esign\r\n                operation={this.props.Login.operation}\r\n                onInputOnChange={this.onInputOnChange}\r\n                inputParam={this.props.Login.inputParam}\r\n                selectedRecord={this.state.selectedRecord || {}}\r\n              />\r\n              : (this.props.Login.screenName === \"IDS_PROJECTMASTER\") ?\r\n\r\n                <AddProjectMaster\r\n\r\n                  userInfo={this.props.Login.userInfo}\r\n                  selectedRecord={this.state.selectedRecord || {}}\r\n                  ProjectType={this.props.Login.ProjectType}\r\n                  onInputOnChange={this.onInputOnChange}\r\n                  onComboChange={this.onComboChange}\r\n                  // onNumericInputOnChange={this.onNumericInputOnChange}\r\n                  onNumericInputChange={this.onNumericInputChange}\r\n\r\n                  handleDateChange={this.handleDateChange}\r\n                  Userrole={this.props.Login.Userrole}\r\n                  Users={this.props.Login.userList}\r\n                  TeamMembers={this.props.Login.TeamMembers}\r\n                  PeriodByControl={this.props.Login.PeriodByControl}\r\n                /> :\r\n\r\n                this.props.Login.screenName === \"IDS_CLOSUREFILE\" ?\r\n\r\n                  <ProjectMasterClosure\r\n\r\n                    selectedRecord={this.state.selectedRecord || {}}\r\n                    onInputOnChange={this.onInputOnChange}\r\n                    onDrop={this.onDropProjectMasterclosureFile}\r\n                    onDropAccepted={this.onDropAccepted}\r\n                    deleteAttachment={this.deleteAttachment}\r\n                    actionType={this.state.actionType}\r\n                    onComboChange={this.onComboChange}\r\n                    linkMaster={this.props.linkMaster}\r\n                    editFiles={this.props.editFiles}\r\n                    maxSize={20}\r\n                    maxFiles={1}\r\n                    multiple={false}\r\n                    label={this.props.intl.formatMessage({ id: \"IDS_FILENAME\" })}\r\n                    name=\"projectmasterclosurefilename\"\r\n\r\n                  ></ProjectMasterClosure> : \"\"\r\n\r\n            }\r\n          />\r\n        }\r\n        {/* End of Modal Sideout for Test Creation */}\r\n      </>\r\n    );\r\n  }\r\n\r\n  findMandatoryFields(screenName, selectedRecord, operation) {\r\n    let mandatoryFields = [];\r\n    if (screenName === \"IDS_PROJECTMASTER\") {\r\n\r\n      mandatoryFields = [\r\n        { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nprojecttypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_PROJECTTITLE\", \"dataField\": \"sprojecttitle\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_PROJECTCODE\", \"dataField\": \"sprojectcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_ROLE\", \"dataField\": \"nuserrolecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_USER\", \"dataField\": \"nusercode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_RFWDATE\", \"dataField\": \"drfwdate\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_STARTDATE\", \"dataField\": \"dprojectstartdate\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_PROJECTDURATION\", \"dataField\": \"nprojectduration\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_DURATIONPERIOD\", \"dataField\": \"nperiodcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n      ]\r\n\r\n      mandatoryFields.forEach(item => item.mandatory === true && mandatoryFields.push(item));\r\n      return mandatoryFields;\r\n\r\n    } else if (screenName === \"IDS_CLOSUREFILE\") {\r\n\r\n      mandatoryFields = [\r\n        { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n        { \"idsName\": \"IDS_REASONFORCLOSURE\", \"dataField\": \"sclosureremarks\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textarea\" },\r\n\r\n      ]\r\n\r\n      mandatoryFields.forEach(item => item.mandatory === true && mandatoryFields.push(item));\r\n      return mandatoryFields;\r\n    }\r\n    else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  onComboChange = (comboData, fieldName, caseNo) => {\r\n\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    switch (caseNo) {\r\n      case 1:\r\n        // const selectedRecord = this.state.selectedRecord || {};\r\n        if (selectedRecord.nuserrolecode) {\r\n          if (parseInt(comboData.value) !== parseInt(selectedRecord.nuserrolecode.value)) {\r\n            // selectedRecord.nusercode={};\r\n            delete (selectedRecord.nusercode);\r\n          }\r\n        }\r\n\r\n        selectedRecord[fieldName] = comboData;\r\n        selectedRecord[\"suserrolename\"] = comboData.item[\"suserrolename\"];\r\n        this.props.getuserComboServices({\r\n\r\n          inputData: {\r\n            userinfo: this.props.Login.userInfo,\r\n            sdisplayname: selectedRecord.nuserrolecode.label,\r\n            primarykey: selectedRecord.nuserrolecode.value,\r\n          }\r\n\r\n        }, selectedRecord);\r\n\r\n\r\n        // this.setState({ selectedRecord });\r\n\r\n        break;\r\n\r\n      case 2:\r\n        // let nfilterProjectType = this.state.nfilterProjectType || {}\r\n        // nfilterProjectType = comboData;\r\n        const selectedRecordfilter = this.state.selectedRecordfilter || {};\r\n        selectedRecordfilter[fieldName] = comboData;\r\n        this.setState({ selectedRecordfilter });\r\n        break;\r\n\r\n      case 3:\r\n\r\n        selectedRecord[fieldName] = comboData;\r\n        this.setState({ selectedRecord });\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  onDropProjectMasterFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n    this.setState({ selectedRecord, actionType: \"new\" });\r\n  }\r\n\r\n  onInputOnChange = (event, optional) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (event.target.type === 'checkbox') {\r\n      if (event.target.name === \"ntransactionstatus\")\r\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n      // else if (event.target.name === \"nlockmode\")\r\n      //     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\r\n      else\r\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n    }\r\n    else if (event.target.type === 'radio') {\r\n      selectedRecord[event.target.name] = optional;\r\n    }\r\n    else {\r\n      selectedRecord[event.target.name] = event.target.value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n  }\r\n\r\n  deleteProjectMember = (deleteParam) => {\r\n    const inputParam = {\r\n      classUrl: \"projectmaster\",\r\n      methodUrl: \"ProjectMember\",\r\n      //displayName: ,\r\n      inputData: {\r\n        \"projectmember\": deleteParam.selectedRecord,//.dataItem,\r\n        \"nprojectmembercode\": deleteParam.selectedRecord.nprojectmembercode,\r\n        \"userinfo\": this.props.Login.userInfo\r\n      },\r\n      operation: \"delete\",\r\n      // priceDataState:this.state.priceDataState\r\n    }\r\n\r\n    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n          openChildModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_MEMBERS\" }),\r\n          operation: deleteParam.operation\r\n        }\r\n      }\r\n      this.props.updateStore(updateInfo);\r\n    }\r\n    else {\r\n      this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n    }\r\n  }\r\n\r\n  onDropProjectMasterclosureFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n    this.setState({ selectedRecord, actionType: \"new\" });\r\n  }\r\n\r\n  /* onNumericInputChange = (value, name) => {\r\n    console.log(\"value:\", value, name);\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (name === \"nroundingdigits\") {\r\n        \r\n        if (/^-?\\d*?$/.test(value.target.value) || value.target.value === \"\") {\r\n            console.log(\"val:\", value.target.value);\r\n            selectedRecord[name] = value.target.value;\r\n        }\r\n    }\r\n    else {\r\n        selectedRecord[name] = value;\r\n    }\r\n  \r\n    this.setState({ selectedRecord });\r\n  } */\r\n\r\n  onNumericInputChange = (value, name) => {\r\n\r\n    console.log(\"value:\", value, name);\r\n\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n\r\n    if (name === \"nprojectduration\") {\r\n\r\n      if (/^[0-9]+$/.test(value.target.value) || value.target.value === \"\") {\r\n\r\n        selectedRecord[name] = value.target.value;\r\n      } else {\r\n\r\n        selectedRecord[name] = \"\";\r\n      }\r\n\r\n    }\r\n\r\n    else {\r\n\r\n      selectedRecord[name] = value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n\r\n  }\r\n\r\n  approveProjectMaster = (methodUrl, selectedProjectMaster, operation, ncontrolCode) => {\r\n    if (selectedProjectMaster.ntransactionstatus === transactionStatus.DRAFT) {\r\n\r\n      const postParam = {\r\n        inputListName: \"ProjectMaster\",\r\n        selectedObject: \"SelectedProjectMaster\",\r\n        primaryKeyField: \"nprojectmastercode\",\r\n        primaryKeyValue: selectedProjectMaster.nprojectmastercode,\r\n        fetchUrl: \"projectmaster/getProjectMaster\",\r\n        fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      };\r\n\r\n      const inputParam = {\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        methodUrl, postParam,\r\n        inputData: {\r\n          \"userinfo\": this.props.Login.userInfo,\r\n          \"projectmaster\": selectedProjectMaster\r\n        },\r\n        operation,\r\n        isClearSearch: this.props.Login.isClearSearch\r\n      }\r\n\r\n      const masterData = this.props.Login.masterData;\r\n\r\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true, screenData: { inputParam, masterData },\r\n            openModal: true, screenName: \"IDS_PROJECTMASTER\", operation\r\n          }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n      }\r\n      else {\r\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n      }\r\n    }\r\n    else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }));\r\n    }\r\n\r\n  }\r\n\r\n  RetireProjectMaster = (methodUrl, selectedProjectMaster, operation, ncontrolCode) => {\r\n    if (selectedProjectMaster.ntransactionstatus === transactionStatus.CLOSED) {\r\n\r\n      const postParam = {\r\n        inputListName: \"ProjectMaster\",\r\n        selectedObject: \"SelectedProjectMaster\",\r\n        primaryKeyField: \"nprojectmastercode\",\r\n        primaryKeyValue: selectedProjectMaster.nprojectmastercode,\r\n        fetchUrl: \"projectmaster/getProjectMaster\",\r\n        fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      };\r\n\r\n      const inputParam = {\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        methodUrl, postParam,\r\n        inputData: {\r\n          \"userinfo\": this.props.Login.userInfo,\r\n          \"projectmaster\": selectedProjectMaster\r\n        },\r\n        operation,\r\n        isClearSearch: this.props.Login.isClearSearch\r\n      }\r\n\r\n      const masterData = this.props.Login.masterData;\r\n\r\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true, screenData: { inputParam, masterData },\r\n            openModal: true, screenName: \"IDS_PROJECTMASTER\", operation\r\n          }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n      }\r\n      else {\r\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n      }\r\n    }\r\n    else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTCLOSEDVERSION\" }));\r\n    }\r\n\r\n  }\r\n  onTabChange = (tabProps) => {\r\n    const screenName = tabProps.screenName;\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { screenName },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  onDropTestFile = (attachedFiles, fieldName, maxSize) => {\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = onDropAttachFileList(\r\n      selectedRecord[fieldName],\r\n      attachedFiles,\r\n      maxSize\r\n    );\r\n    this.setState({ selectedRecord, actionType: \"new\" });\r\n  };\r\n  /*\r\n  dataStateChange = (event) => {\r\n    this.setState({\r\n      dataResult: process(\r\n        this.props.Login.masterData[\"selectedSection\"],\r\n        event.dataState\r\n      ),\r\n      sectionDataState: event.dataState,\r\n    });\r\n  };\r\n*/\r\n  dataStateChange = (event) => {\r\n    this.setState({\r\n      dataResult: process(this.state.data, event.dataState),\r\n      priceDataState: event.dataState\r\n    });\r\n  }\r\n\r\n\r\n  /*\r\n    tabDetail = () => {\r\n      const tabMap = new Map();\r\n      const deleteSecId =\r\n        this.state.controlMap.has(\"DeleteSection\") &&\r\n        this.state.controlMap.get(\"DeleteSection\").ncontrolcode;\r\n      const defaultSecId =\r\n        this.state.controlMap.has(\"DefaultSection\") &&\r\n        this.state.controlMap.get(\"DefaultSection\").ncontrolcode;\r\n      tabMap.set(\r\n        \"IDS_SECTION\",\r\n        <InstrumentSectionTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          dataState={this.props.Login.dataState}\r\n          masterData={this.props.Login.masterData[\"selectedSection\"] || []}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          userInfo={this.props.Login.userInfo}\r\n          inputParam={this.props.Login.inputParam}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteSecId={deleteSecId}\r\n          defaultSecId={defaultSecId}\r\n          defaultRecord={this.defaultRecord}\r\n          getAvailableInstData={this.props.getAvailableInstData}\r\n          InstrumentSection={this.props.Login.masterData.selectedSection || []}\r\n          screenName=\"IDS_SECTION\"\r\n          selectedRecord={this.state.selectedRecord}\r\n          settings={this.props.Login.settings}\r\n        />\r\n      );\r\n      tabMap.set(\r\n        \"IDS_INSTRUMENTVALIDATION\",\r\n        <InstrumentValidationTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          FileData={this.props.Login.masterData.ValidationFileData}\r\n          InstrumentValidation={this.props.Login.masterData.InstrumentValidation}\r\n          masterData={this.props.Login.masterData}\r\n          userInfo={this.props.Login.userInfo}\r\n          getDataForAddEditValidation={this.props.getDataForAddEditValidation}\r\n          inputParam={this.props.inputParam}\r\n          selectedRecord={this.state.selectedRecord}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteTabFileRecord={this.deleteTabFileRecord}\r\n          getTabDetails={this.props.getTabDetails}\r\n          addInstrumentFile={this.props.addInstrumentFile}\r\n          deleteAction={this.props.deleteAction}\r\n          ConfirmDelete={this.ConfirmDelete}\r\n          getDataForEdit={this.props.getDataForEdit}\r\n          addfilecllick={this.addInstrumentFile}\r\n          viewInstrumentFile={this.viewInstrumentFile}\r\n          screenName=\"IDS_INSTRUMENTVALIDATION\"\r\n        />\r\n      );\r\n      tabMap.set(\r\n        \"IDS_INSTRUMENTCALIBRATION\",\r\n        <InstrumentCalibrationTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          FileData={this.props.Login.masterData.CalibrationFileData}\r\n          InstrumentCalibration={\r\n            this.props.Login.masterData.InstrumentCalibration\r\n          }\r\n          masterData={this.props.Login.masterData}\r\n          userInfo={this.props.Login.userInfo}\r\n          getDataForAddEditCalibration={this.props.getDataForAddEditCalibration}\r\n          inputParam={this.props.inputParam}\r\n          selectedRecord={this.state.selectedRecord}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteTabFileRecord={this.deleteTabFileRecord}\r\n          getTabDetails={this.props.getTabDetails}\r\n          viewInstrumentFile={this.viewInstrumentFile}\r\n          addInstrumentFile={this.props.addInstrumentFile}\r\n          addfilecllick={this.addInstrumentCalibrationFile}\r\n          deleteAction={this.props.deleteAction}\r\n          ConfirmDelete={this.ConfirmDelete}\r\n          addOpenDate={this.props.addOpenDate}\r\n          OpenDate={this.props.OpenDate}\r\n          CloseDate={this.props.CloseDate}\r\n          screenName=\"IDS_INSTRUMENTCALIBRATION\"\r\n        />\r\n      );\r\n      tabMap.set(\r\n        \"IDS_INSTRUMENTMAINTENANCE\",\r\n        <InstrumentMaintenanceTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          FileData={this.props.Login.masterData.MaintenanceFileData}\r\n          InstrumentMaintenance={\r\n            this.props.Login.masterData.InstrumentMaintenance\r\n          }\r\n          masterData={this.props.Login.masterData}\r\n          userInfo={this.props.Login.userInfo}\r\n          getDataForAddEditMaintenance={this.props.getDataForAddEditMaintenance}\r\n          inputParam={this.props.inputParam}\r\n          selectedRecord={this.state.selectedRecord}\r\n          viewInstrumentFile={this.viewInstrumentFile}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteTabFileRecord={this.deleteTabFileRecord}\r\n          getTabDetails={this.props.getTabDetails}\r\n          addInstrumentFile={this.props.addInstrumentFile}\r\n          addfilecllick={this.addInstrumentMaintenanceFile}\r\n          deleteAction={this.props.deleteAction}\r\n          ConfirmDelete={this.ConfirmDelete}\r\n          addOpenDate={this.props.addOpenDate}\r\n          OpenDate={this.props.OpenDate}\r\n          CloseDate={this.props.CloseDate}\r\n          screenName=\"IDS_INSTRUMENTMAINTENANCE\"\r\n        />\r\n      );\r\n  \r\n      return tabMap;\r\n    }; */\r\n\r\n  ConfirmDelete = (selectedProjectMaster, operation, deleteId, screenName) => {\r\n    this.confirmMessage.confirm(\r\n      \"deleteMessage\",\r\n      this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n      () =>\r\n        this.DeleteProjectMaster(\r\n          screenName,\r\n          selectedProjectMaster,\r\n          operation,\r\n          deleteId\r\n\r\n        )\r\n    );\r\n  };\r\n\r\n\r\n\r\n  reloadData = () => {\r\n    this.searchRef.current.value = \"\";\r\n\r\n    // if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n      if ( this.props.Login.masterData.SelectedProjectType !== undefined) {\r\n    if (Object.values(this.props.Login.masterData.SelectedProjectType).length && this.props.Login.masterData.SelectedProjectType !== undefined) {\r\n      let inputParam = {\r\n        inputData: {\r\n          // nprojecttypecode: this.state.selectedRecord.nprojecttypecode.value,\r\n          nprojecttypecode: this.props.Login.masterData.SelectedProjectType.nprojecttypecode,\r\n          userinfo: this.props.Login.userInfo,\r\n          // nfilterProjectType: this.state.selectedRecord.nprojecttypecode,\r\n          nfilterProjectType: this.props.Login.masterData.SelectedProjectType,\r\n        },\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMasterByProjectType\",\r\n      };\r\n\r\n      this.props.changeProjectTypeFilter(inputParam, this.props.Login.masterData.filterProjectType);\r\n    }\r\n    } else {\r\n      toast.warn(\r\n        this.props.intl.formatMessage({\r\n          id: \"IDS_PROJECTTYPENOTAVAILABLE\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n\r\n\r\n  closeModal = () => {\r\n    let loadEsign = this.props.Login.loadEsign;\r\n    let openModal = this.props.Login.openModal;\r\n    let selectedRecord = this.state.selectedRecord;\r\n//    let selectedRecord = this.state.selectedRecord;\r\n    if (this.props.Login.loadEsign) {\r\n        if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"approve\" || this.props.Login.operation === \"retire\") {\r\n            loadEsign = false;\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        else {\r\n            loadEsign = false;\r\n            selectedRecord['esignpassword'] = '';\r\n            selectedRecord['esigncomments'] = '';\r\n            selectedRecord['esignreason'] = '';\r\n        } \r\n    }\r\n    else {\r\n        openModal = false;\r\n        selectedRecord = {};\r\n    }\r\n\r\n    const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: { openModal, loadEsign, selectedRecord }\r\n    }\r\n    this.props.updateStore(updateInfo);\r\n\r\n}\r\n\r\n  componentDidUpdate(previousProps) {\r\n    let updateState = false;\r\n    let {\r\n      selectedRecord,\r\n      selectedRecordfilter,\r\n      userRoleControlRights,\r\n      controlMap,\r\n      filterData,\r\n      nfilterProjectType,\r\n      filterProjectType,\r\n\r\n    } = this.state;\r\n\r\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n      selectedRecord = this.props.Login.selectedRecord;\r\n      updateState = true;\r\n      this.setState({ selectedRecord, selectedRecordfilter });\r\n    }\r\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n      userRoleControlRights = [];\r\n      if (this.props.Login.userRoleControlRights) {\r\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode\r\n        ] &&\r\n          Object.values(\r\n            this.props.Login.userRoleControlRights[\r\n            this.props.Login.userInfo.nformcode\r\n            ]\r\n          ).map((item) => userRoleControlRights.push(item.ncontrolcode));\r\n      }\r\n      controlMap = getControlMap(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode\r\n      );\r\n      this.setState({ controlMap, userRoleControlRights });\r\n      //   updateState = true;\r\n    }\r\n\r\n    let nprojecttypecode = this.state.nfilterProjectType || {};\r\n\r\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n      nfilterProjectType = this.state.nfilterProjectType || {};\r\n\r\n      const filterProjectType = constructOptionList(this.props.Login.masterData.filterProjectType || [], \"nprojecttypecode\",\r\n        \"sprojecttypename\", undefined, undefined, undefined);\r\n\r\n      let ProjectMasterList = filterProjectType.get(\"OptionList\");\r\n      nprojecttypecode = ProjectMasterList[0];\r\n      selectedRecordfilter = { nprojecttypecodevalue: nprojecttypecode }\r\n      selectedRecord = { nprojecttypecodevalue: nprojecttypecode }\r\n      // nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\r\n      this.setState({\r\n        ProjectMasterList,\r\n        selectedRecordfilter, selectedRecord\r\n      });\r\n\r\n      if (this.props.Login.masterData.SelectedProjectType && this.props.Login.masterData.SelectedProjectType !== previousProps.Login.masterData.SelectedProjectType) {\r\n        nfilterProjectType = {\r\n          label: this.props.Login.masterData.SelectedProjectType.sprojecttypename,\r\n          value: this.props.Login.masterData.SelectedProjectType.nprojecttypecode,\r\n          item: this.props.Login.masterData.SelectedProjectType,\r\n        };\r\n      }\r\n      //  selectedRecordfilter = {nprojecttypecodevalue:nfilterProjectType}\r\n      filterData = this.generateBreadCrumData();\r\n      updateState = true;\r\n      this.setState({ filterData, selectedRecordfilter });\r\n    }\r\n\r\n    if (this.props.Login.masterData.SelectedProjectType !== previousProps.Login.masterData.SelectedProjectType) {\r\n\r\n      let nprojecttypecodevalue = this.props.Login.masterData.SelectedProjectType ?\r\n        {\r\n          label: this.props.Login.masterData.SelectedProjectType.sprojecttypename,\r\n          value: this.props.Login.masterData.SelectedProjectType.nprojecttypecode,\r\n          item: this.props.Login.masterData.SelectedProjectType\r\n        } : \"\"\r\n      //  nprojecttypecode=ProjectMasterList[ProjectMasterList.length-1];\r\n      selectedRecordfilter = { nprojecttypecodevalue }\r\n      selectedRecord = { nprojecttypecodevalue: nprojecttypecode }\r\n      // nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\r\n      this.setState({\r\n        selectedRecordfilter, selectedRecord\r\n\r\n      });\r\n\r\n    }\r\n\r\n    // if (this.props.Login.masterData.nfilterProjectType !== previousProps.Login.masterData.nfilterProjectType) {\r\n\r\n    // }\r\n\r\n  }\r\n  generateBreadCrumData() {\r\n    const breadCrumbData = [];\r\n    if (this.props.Login.masterData && this.props.Login.masterData.SelectedProjectType) {\r\n\r\n      breadCrumbData.push({\r\n        label: \"IDS_PROJECTTYPE\",\r\n        value: this.props.Login.masterData.SelectedProjectType\r\n          ? this.props.Login.masterData.SelectedProjectType.sprojecttypename\r\n          : \"NA\",\r\n      });\r\n\r\n    } else if (this.props.Login.masterData && this.props.Login.masterData.SelectedProjectMaster) {\r\n\r\n      /*    breadCrumbData.push({\r\n            label: \"IDS_PROJECTTYPE\",\r\n            value: this.state.selectedRecord.nprojecttypecode\r\n              ? this.state.selectedRecord.nprojecttypecode.label\r\n              : \"NA\",\r\n          }); */\r\n\r\n      breadCrumbData.push({\r\n        label: \"IDS_PROJECTTYPE\",\r\n        value: this.props.Login.masterData.SelectedProjectMaster\r\n          ? this.props.Login.masterData.SelectedProjectMaster.sprojecttypename\r\n          : \"NA\",\r\n      });\r\n\r\n    } else {\r\n\r\n      /*       breadCrumbData.push({\r\n             label: \"IDS_PROJECTTYPE\",\r\n             value:  this.state.selectedRecord.nprojecttypecodevalue\r\n               ? this.state.selectedRecord.nprojecttypecodevalue.label\r\n               : \"NA\",\r\n           }); */\r\n\r\n      breadCrumbData.push({\r\n        label: \"IDS_PROJECTTYPE\",\r\n        value: this.props.Login.masterData.nfilterProjectType\r\n          ? this.props.Login.masterData.nfilterProjectType.label\r\n          : \"NA\",\r\n      });\r\n\r\n    }\r\n    return breadCrumbData;\r\n  }\r\n\r\n  openFilter = () => {\r\n    let showFilter = !this.props.Login.showFilter;\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  closeFilter = () => {\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter: false },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  onFilterSubmit = () => {\r\n    this.searchRef.current.value = \"\";\r\n\r\n    // if (this.state.nfilterProjectType.value) {\r\n    // if (this.state.selectedRecord.nprojecttypecodevalue.value) {\r\n    //if ((this.state.selectedRecord).length>0) {\r\n\r\n   // if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n     \r\n      if ( this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n        if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n        let inputParam = {\r\n        inputData: {\r\n          nprojecttypecode: this.state.selectedRecordfilter.nprojecttypecodevalue.value,\r\n          userinfo: this.props.Login.userInfo,\r\n          // nfilterProjectType: this.state.nfilterProjectType,\r\n          nfilterProjectType: this.state.selectedRecordfilter.nprojecttypecodevalue,\r\n        },\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMasterByProjectType\",\r\n      };\r\n      this.props.changeProjectTypeFilter(\r\n        inputParam,\r\n        this.props.Login.masterData.filterProjectType\r\n      );\r\n     }\r\n    } else {\r\n      toast.warn(\r\n        this.props.intl.formatMessage({\r\n          id: \"IDS_PROJECTTYPENOTAVAILABLE\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  callService,\r\n  crudMaster,\r\n  filterColumnData,\r\n  updateStore,\r\n  validateEsignCredential,\r\n  changeProjectTypeFilter,\r\n  viewAttachment, addProjectMaster, getProjectMaster, getProjectmasterAddMemberService, addProjectMasterFile, getuserComboServices\r\n})(injectIntl(ProjectMaster));\r\n"]},"metadata":{},"sourceType":"module"}