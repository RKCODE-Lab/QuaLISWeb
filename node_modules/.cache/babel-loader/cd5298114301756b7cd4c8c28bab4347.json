{"ast":null,"code":"import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlus,faPencilAlt,faTrashAlt}from'@fortawesome/free-solid-svg-icons';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{callService,crudMaster,validateEsignCredential,updateStore,filterColumnData,fetchRecordCertificateType,getCertificateTypeVersion,getReportMasterByCertificateType,getReportDetailByReport,fetchCertificateTypeVersionById}from'../../../actions';import{process}from'@progress/kendo-data-query';import{toast}from'react-toastify';import ListMaster from'../../../components/list-master/list-master.component';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';import{showEsign,getControlMap}from'../../../components/CommonScript';import{transactionStatus}from'../../../components/Enumeration';import{ContentPanel,ReadOnlyText}from'../../../components/App.styles';// import { Tooltip } from '@progress/kendo-react-tooltip';\nimport ConfirmMessage from'../../../components/confirm-alert/confirm-message.component';import SlideOutModal from'../../../components/slide-out-modal/SlideOutModal';import Esign from'../../audittrail/Esign';import AddCertificateType from'./AddCertificateType';import DataGrid from'../../../components/data-grid/data-grid.component';import AddCertificateTypeVersion from'./AddCertificateTypeVersion';import ReactTooltip from'react-tooltip';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var CertificateType=/*#__PURE__*/function(_React$Component){_inherits(CertificateType,_React$Component);var _super=_createSuper(CertificateType);function CertificateType(props){var _this;_classCallCheck(this,CertificateType);_this=_super.call(this,props);_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onInputChangeVersion=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;}}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};if(fieldName==='nreportcode'||fieldName==='npreviewreportcode'){selectedRecord[fieldName]=comboData;_this.props.getReportDetailByReport(comboData.value,_this.props.Login.masterData.selectedCertificateType.ncertificatetypecode,selectedRecord,_this.props.Login.userInfo,fieldName);}else if(fieldName==='nreportdetailcode'){selectedRecord[fieldName]=comboData;selectedRecord['sdisplaystatus']=comboData.item.sdisplaystatus;selectedRecord['nversionno']=comboData.item.nversionno;_this.setState({selectedRecord:selectedRecord});}else if(fieldName==='npreviewreportdetailcode'){selectedRecord[fieldName]=comboData;selectedRecord['spreviewdisplaystatus']=comboData.item.sdisplaystatus;selectedRecord['npreviewversionno']=comboData.item.nversionno;_this.setState({selectedRecord:selectedRecord});}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var openChildModal=_this.props.Login.openChildModal;var selectedRecord=_this.state.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"){loadEsign=false;openModal=false;openChildModal=false;selectedRecord={};}else{loadEsign=false;}}else{openModal=false;openChildModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,openChildModal:openChildModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.onSaveClick=function(saveType,formRef){//add / edit  \nvar dataState=undefined;var operation=\"\";var inputData=[];var selectedId=null;inputData[\"userinfo\"]=_this.props.Login.userInfo;var postParam={selectedObject:\"selectedCertificateType\",primaryKeyField:\"ncertificatetypecode\",inputListName:\"certificatetype\",fetchUrl:\"certificatetype/getCertificateTypeByClick\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};if(_this.props.Login.operation===\"update\"){// edit    \npostParam['primaryKeyValue']=_this.props.Login.masterData.selectedCertificateType.ncertificatetypecode;var selectedRecord=_this.state.selectedRecord?_this.state.selectedRecord:{};inputData[\"certificatetype\"]={'ncertificatetypecode':selectedRecord.ncertificatetypecode};inputData[\"certificatetype\"]['nedqm']=selectedRecord['nedqm']||transactionStatus.YES;inputData[\"certificatetype\"]['naccredited']=selectedRecord['naccredited']||transactionStatus.YES;inputData[\"certificatetype\"]['ntransactionstatus']=selectedRecord['ntransactionstatus']||transactionStatus.YES;inputData[\"certificatetype\"]['scertificatetype']=selectedRecord['scertificatetype'];inputData[\"certificatetype\"]['sdescription']=selectedRecord['sdescription']||\"\";inputData[\"certificatetype\"][\"ncertificatereporttypecode\"]=selectedRecord[\"ncertificatereporttypecode\"].value;operation=\"update\";dataState=_this.state.dataState;selectedId=_this.props.Login.selectedId;}else{//add             \ninputData[\"certificatetype\"]={\"nsitecode\":_this.props.Login.userInfo.nmastersitecode};inputData[\"certificatetype\"]['nedqm']=_this.state.selectedRecord['nedqm']||transactionStatus.YES;inputData[\"certificatetype\"]['naccredited']=_this.state.selectedRecord['naccredited']||transactionStatus.YES;inputData[\"certificatetype\"]['ntransactionstatus']=_this.state.selectedRecord['ntransactionstatus']||transactionStatus.YES;inputData[\"certificatetype\"]['scertificatetype']=_this.state.selectedRecord['scertificatetype'];inputData[\"certificatetype\"]['sdescription']=_this.state.selectedRecord['sdescription']||\"\";inputData[\"certificatetype\"][\"ncertificatereporttypecode\"]=_this.state.selectedRecord[\"ncertificatereporttypecode\"].value;operation=\"create\";}var inputParam={classUrl:\"certificatetype\",methodUrl:\"CertificateType\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,postParam:postParam,searchRef:_this.searchRef,operation:operation,saveType:saveType,formRef:formRef,dataState:dataState,selectedId:selectedId};var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:_this.props.Login.inputParam.displayName}),operation:_this.props.Login.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.onSaveVersion=function(saveType,formRef){var dataState=undefined;var operation=\"\";var inputData=[];var selectedId=null;inputData[\"userinfo\"]=_this.props.Login.userInfo;if(_this.props.Login.operation===\"update\"){// edit    \nselectedId=_this.props.Login.selectedId;inputData[\"certificatetypeversion\"]={};inputData[\"certificatetypeversion\"][\"ncertificatetypeversioncode\"]=selectedId;inputData[\"certificatetypeversion\"][\"ncertificatetypecode\"]=_this.props.Login.masterData.selectedCertificateType.ncertificatetypecode;inputData[\"certificatetypeversion\"][\"nreportdetailcode\"]=_this.state.selectedRecord[\"nreportdetailcode\"].value;inputData[\"certificatetypeversion\"][\"npreviewreportdetailcode\"]=_this.state.selectedRecord[\"npreviewreportdetailcode\"].value;inputData[\"certificatetypeversion\"][\"ncertificatetypeversionno\"]=_this.state.selectedRecord[\"ncertificatetypeversionno\"];inputData[\"certificatetypeversion\"][\"ntransactionstatus\"]=_this.state.selectedRecord[\"ntransactionstatus\"];inputData[\"certificatetypeversion\"][\"nversionno\"]=_this.state.selectedRecord[\"nversionno\"];inputData[\"certificatetypeversion\"][\"nstatus\"]=transactionStatus.ACTIVE;operation=\"update\";dataState=_this.state.dataState;}else{//add             \ninputData[\"certificatetypeversion\"]={};inputData[\"certificatetypeversion\"][\"ncertificatetypecode\"]=_this.props.Login.masterData.selectedCertificateType.ncertificatetypecode;inputData[\"certificatetypeversion\"][\"nreportdetailcode\"]=_this.state.selectedRecord[\"nreportdetailcode\"].value;inputData[\"certificatetypeversion\"][\"npreviewreportdetailcode\"]=_this.state.selectedRecord[\"npreviewreportdetailcode\"].value;inputData[\"certificatetypeversion\"][\"ntransactionstatus\"]=_this.state.selectedRecord[\"ntransactionstatus\"]||transactionStatus.DEACTIVE;inputData[\"certificatetypeversion\"][\"nstatus\"]=transactionStatus.ACTIVE;inputData[\"certificatetypeversion\"][\"nversionno\"]=_this.state.selectedRecord[\"nversionno\"];operation=\"create\";}var inputParam={classUrl:'certificatetype',methodUrl:'CertificateTypeVersion',displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:operation,saveType:saveType,formRef:formRef,dataState:dataState,selectedId:selectedId};var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openChildModal:true,screenName:_this.props.intl.formatMessage({id:_this.props.Login.inputParam.displayName}),operation:_this.props.Login.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openChildModal\");}};_this.ConfirmDelete=function(deleteParam){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteRecord(_objectSpread(_objectSpread({},deleteParam),{},{selectedRecord:_this.props.Login.masterData.selectedCertificateType}));});};_this.deleteRecord=function(deleteParam){//deleteRecord = (selectedRecord, operation, ncontrolCode) => {       \nif(deleteParam.selectedRecord.expanded!==undefined){delete deleteParam.selectedRecord.expanded;}var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"CertificateType\",displayName:_this.props.Login.inputParam.displayName,inputData:{certificatetype:deleteParam.selectedRecord,userinfo:_this.props.Login.userInfo},operation:\"delete\",dataState:_this.state.dataState};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:_this.props.Login.inputParam.displayName}),operation:\"delete\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}//this.props.crudMaster(inputParam);\n};_this.validateEsign=function(){var modalName=_this.props.Login.openModal?'openModal':'openChildModal';var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,modalName);};_this.reloadData=function(){_this.searchRef.current.value=\"\";var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:\"certificatetype\",methodUrl:\"CertificateType\",displayName:\"IDS_CERTIFICATETYPE\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.formRef=React.createRef();_this.searchRef=React.createRef();_this.state={masterStatus:\"\",error:\"\",selectedRecord:{},dataState:{skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5},userRoleControlRights:[],controlMap:new Map()};_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(CertificateType,[{key:\"render\",value:function render(){var _this2=this;var addCTId=this.state.controlMap.has(\"AddCertificateType\")&&this.state.controlMap.get(\"AddCertificateType\").ncontrolcode;var editID=this.state.controlMap.has(\"EditCertificateType\")&&this.state.controlMap.get(\"EditCertificateType\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteCertificateType\")&&this.state.controlMap.get(\"DeleteCertificateType\").ncontrolcode;var createVersionId=this.state.controlMap.has(\"AddCertificateTypeVersion\")&&this.state.controlMap.get(\"AddCertificateTypeVersion\").ncontrolcode;var editVersionId=this.state.controlMap.has(\"EditCertificateTypeVersion\")&&this.state.controlMap.get(\"EditCertificateTypeVersion\").ncontrolcode;var extractedColumnList=[{\"idsName\":\"IDS_CERTIFICATETYPEVERSION\",\"dataField\":\"ncertificatetypeversionno\",\"width\":\"180px\"},{\"idsName\":\"IDS_STATUS\",\"dataField\":\"stransdisplaystatus\",\"width\":\"180px\"},{\"idsName\":\"IDS_REPORTNAME\",\"dataField\":\"sreportname\",\"width\":\"300px\"},{\"idsName\":\"IDS_REPORTVERSIONNO\",\"dataField\":\"nversionno\",\"width\":\"180px\"}];var AddCertificateType1={screenName:this.props.Login.screenName,primaryKeyField:\"ncertificatetypecode\",undefined:undefined,operation:\"create\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,ncontrolCode:addCTId};var editParam={screenName:this.props.Login.screenName,primaryKeyField:\"ncertificatetypecode\",operation:\"update\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,ncontrolCode:editID};var deleteParam={operation:\"delete\",ncontrolCode:deleteId};var editVersionParam={userInfo:this.props.Login.userInfo,primaryKeyField:\"ncertificatetypeversioncode\",ncontrolCode:editVersionId};var mandatoryFields=[{\"idsName\":\"IDS_CERTIFICATETYPE\",\"dataField\":\"scertificatetype\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},// { \"idsName\": \"IDS_VERSIONNO\", \"dataField\": \"sversionno\" },\n{\"idsName\":\"IDS_REPORTBATCHTYPE\",\"dataField\":\"ncertificatereporttypecode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];var mandatoryVersionFields=[{\"idsName\":\"IDS_REPORTNAME\",\"dataField\":\"nreportcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_REPORTVERSIONNO\",\"dataField\":\"nreportdetailcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PREVIEWREPORTNAME\",\"dataField\":\"npreviewreportcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PREVIEWREPORTVERSIONNO\",\"dataField\":\"npreviewreportdetailcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];var filterParam={inputListName:\"certificatetype\",selectedObject:\"selectedCertificateType\",primaryKeyField:\"ncertificatetypecode\",fetchUrl:\"certificatetype/getCertificateTypeByClick\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"scertificatetype\",\"sdescription\",\"sbatchdisplayname\",\"saccreditedCertificate\",\"sdisplaystatus\"]};var userStatusCSS=\"outline-secondary\";if(this.props.Login.masterData.selectedCertificateType&&this.props.Login.masterData.selectedCertificateType.ntransactionstatus===transactionStatus.YES){userStatusCSS=\"outline-success\";}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-4\"},/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{screenName:this.props.intl.formatMessage({id:\"IDS_CERTIFICATETYPE\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.certificatetype||[],getMasterDetail:function getMasterDetail(certificatetype){return _this2.props.getCertificateTypeVersion(certificatetype,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedCertificateType,primaryKeyField:\"ncertificatetypecode\",mainField:\"scertificatetype\",firstField:\"saccreditedCertificate\",filterColumnData:this.props.filterColumnData,openModal:function openModal(){return _this2.props.fetchRecordCertificateType(AddCertificateType1);},userRoleControlRights:this.state.userRoleControlRights,addId:addCTId,searchRef:this.searchRef,filterParam:filterParam,hidePaging:true,reloadData:this.reloadData})),/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.certificatetype&&this.props.Login.masterData.certificatetype.length>0&&this.props.Login.masterData.selectedCertificateType?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"click\"}),/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.selectedCertificateType.scertificatetype),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category justify-content-end\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(userStatusCSS,\" btn-sm ml-3\")},this.props.Login.masterData.selectedCertificateType.sdisplaystatus)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"editUser\",hidden:this.state.userRoleControlRights.indexOf(editID)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),\"data-for\":\"tooltip_list_wrap\",onClick:function onClick(){return _this2.props.fetchRecordCertificateType(_objectSpread(_objectSpread({},editParam),{},{primaryKeyValue:_this2.props.Login.masterData.selectedCertificateType.ncertificatetypecode}));}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"deleteUser\",className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),\"data-for\":\"tooltip_list_wrap\",hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this2.ConfirmDelete(deleteParam);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_REPORTBATCHTYPE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedCertificateType.sbatchdisplayname))),/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_EDQM\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedCertificateType.sedqmCertificate))),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DESCRIPTION\",message:\"Report Type\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedCertificateType.sdescription?this.props.Login.masterData.selectedCertificateType.sdescription===\"\"?\"-\":this.props.Login.masterData.selectedCertificateType.sdescription:\"-\")))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Card,{id:\"certificateversion\",className:\"at-tabs border-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"click\"}),/*#__PURE__*/React.createElement(Nav.Link,{className:\"add-txt-btn\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADDVERSION\"}),\"data-for\":\"tooltip_list_wrap\",hidden:this.state.userRoleControlRights.indexOf(createVersionId)===-1,onClick:function onClick(){return _this2.props.getReportMasterByCertificateType(_this2.props.Login.masterData.selectedCertificateType.ncertificatetypecode,_this2.props.Login.userInfo);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_VERSION\"}))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"ncertificatetypeversioncode\",data:this.props.Login.masterData.cerificateTypeVersion||[],dataResult:process(this.props.Login.masterData.cerificateTypeVersion,this.state.dataState),dataState:this.state.dataState,dataStateChange:function dataStateChange(event){return _this2.setState({dataState:event.dataState});},extractedColumnList:extractedColumnList,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,methodUrl:\"CertificateTypeVersion\",gridHeight:\"450px\",pageable:true,fetchRecord:this.props.fetchCertificateTypeVersionById,editParam:editVersionParam,selectedId:this.props.Login.selectedId,isComponent:true,isActionRequired:true,isToolBarRequired:false,scrollable:\"scrollable\"})))))))):\"\"))))))),(this.props.Login.openModal||this.props.Login.openChildModal)&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal||this.props.Login.openChildModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.props.Login.openModal?this.onSaveClick:this.onSaveVersion,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.openModal?mandatoryFields:mandatoryVersionFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.openChildModal?/*#__PURE__*/React.createElement(AddCertificateTypeVersion,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputChangeVersion,onComboChange:this.onComboChange,reportMasterList:this.props.Login.reportMasterList||[],reportDetailsList:this.props.Login.reportDetailsList||[],previewReportMasterList:this.props.Login.previewReportMasterList||[],previewReportDetailsList:this.props.Login.previewReportDetailsList||[]}):/*#__PURE__*/React.createElement(AddCertificateType,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,reportBatchTypeList:this.props.Login.reportBatchTypeList})}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,controlMap=_this$state.controlMap,selectedRecord=_this$state.selectedRecord,userRoleControlRights=_this$state.userRoleControlRights,dataState=_this$state.dataState;if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);}dataState={skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5};updateState=true;}else if(this.props.Login.selectedRecord!==this.state.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;}if(updateState){this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,selectedRecord:selectedRecord,dataState:dataState});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return CertificateType;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,fetchRecordCertificateType:fetchRecordCertificateType,updateStore:updateStore,getReportDetailByReport:getReportDetailByReport,fetchCertificateTypeVersionById:fetchCertificateTypeVersionById,validateEsignCredential:validateEsignCredential,filterColumnData:filterColumnData,getCertificateTypeVersion:getCertificateTypeVersion,getReportMasterByCertificateType:getReportMasterByCertificateType})(injectIntl(CertificateType));","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/pages/basemaster/certificatetype/CertificateType.jsx"],"names":["React","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faPlus","faPencilAlt","faTrashAlt","connect","injectIntl","FormattedMessage","callService","crudMaster","validateEsignCredential","updateStore","filterColumnData","fetchRecordCertificateType","getCertificateTypeVersion","getReportMasterByCertificateType","getReportDetailByReport","fetchCertificateTypeVersionById","process","toast","ListMaster","DEFAULT_RETURN","showEsign","getControlMap","transactionStatus","ContentPanel","ReadOnlyText","ConfirmMessage","SlideOutModal","Esign","AddCertificateType","DataGrid","AddCertificateTypeVersion","ReactTooltip","mapStateToProps","state","Login","CertificateType","props","onInputOnChange","event","selectedRecord","target","type","name","checked","YES","NO","value","setState","onInputChangeVersion","ACTIVE","DEACTIVE","onComboChange","comboData","fieldName","masterData","selectedCertificateType","ncertificatetypecode","userInfo","item","sdisplaystatus","nversionno","closeModal","loadEsign","openModal","openChildModal","operation","updateInfo","typeName","data","selectedId","onSaveClick","saveType","formRef","dataState","undefined","inputData","postParam","selectedObject","primaryKeyField","inputListName","fetchUrl","fecthInputObject","userinfo","nmastersitecode","inputParam","classUrl","methodUrl","displayName","searchRef","esignNeeded","userRoleControlRights","nformcode","ncontrolCode","screenData","screenName","intl","formatMessage","id","onSaveVersion","ConfirmDelete","deleteParam","confirmMessage","confirm","deleteRecord","expanded","certificatetype","validateEsign","modalName","sreason","password","reloadData","current","createRef","masterStatus","error","skip","take","settings","parseInt","controlMap","Map","addCTId","has","get","ncontrolcode","editID","deleteId","createVersionId","editVersionId","extractedColumnList","AddCertificateType1","editParam","editVersionParam","mandatoryFields","mandatoryVersionFields","filterParam","searchFieldList","userStatusCSS","ntransactionstatus","searchedData","length","scertificatetype","indexOf","primaryKeyValue","sbatchdisplayname","sedqmCertificate","sdescription","cerificateTypeVersion","reportMasterList","reportDetailsList","previewReportMasterList","previewReportDetailsList","reportBatchTypeList","previousProps","updateState","Object","values","map","push","warn","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faPencilAlt, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, filterColumnData, fetchRecordCertificateType,\r\n    getCertificateTypeVersion, getReportMasterByCertificateType, getReportDetailByReport, fetchCertificateTypeVersionById\r\n} from '../../../actions';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\nimport { showEsign, getControlMap } from '../../../components/CommonScript';\r\nimport { transactionStatus } from '../../../components/Enumeration';\r\nimport { ContentPanel, ReadOnlyText } from '../../../components/App.styles';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport ConfirmMessage from '../../../components/confirm-alert/confirm-message.component';\r\nimport SlideOutModal from '../../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../../audittrail/Esign';\r\nimport AddCertificateType from './AddCertificateType';\r\nimport DataGrid from '../../../components/data-grid/data-grid.component';\r\nimport AddCertificateTypeVersion from './AddCertificateTypeVersion';\r\nimport ReactTooltip from 'react-tooltip';\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\nclass CertificateType extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.formRef = React.createRef();\r\n        this.searchRef = React.createRef();\r\n        this.state = {\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            selectedRecord: {},\r\n            dataState: { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 },\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n        };\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n    render() {\r\n        const addCTId = this.state.controlMap.has(\"AddCertificateType\") && this.state.controlMap.get(\"AddCertificateType\").ncontrolcode\r\n        const editID = this.state.controlMap.has(\"EditCertificateType\") && this.state.controlMap.get(\"EditCertificateType\").ncontrolcode\r\n        const deleteId = this.state.controlMap.has(\"DeleteCertificateType\") && this.state.controlMap.get(\"DeleteCertificateType\").ncontrolcode\r\n        const createVersionId = this.state.controlMap.has(\"AddCertificateTypeVersion\") && this.state.controlMap.get(\"AddCertificateTypeVersion\").ncontrolcode\r\n        const editVersionId = this.state.controlMap.has(\"EditCertificateTypeVersion\") && this.state.controlMap.get(\"EditCertificateTypeVersion\").ncontrolcode\r\n        let extractedColumnList = [\r\n            { \"idsName\": \"IDS_CERTIFICATETYPEVERSION\", \"dataField\": \"ncertificatetypeversionno\", \"width\": \"180px\" },\r\n            { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"180px\" },\r\n            { \"idsName\": \"IDS_REPORTNAME\", \"dataField\": \"sreportname\", \"width\": \"300px\" },\r\n            { \"idsName\": \"IDS_REPORTVERSIONNO\", \"dataField\": \"nversionno\", \"width\": \"180px\" }\r\n        ];\r\n\r\n        const AddCertificateType1 = {\r\n            screenName: this.props.Login.screenName, primaryKeyField: \"ncertificatetypecode\", undefined, operation: \"create\",\r\n            inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: addCTId\r\n        };\r\n        const editParam = {\r\n            screenName: this.props.Login.screenName, primaryKeyField: \"ncertificatetypecode\", operation: \"update\",\r\n            inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: editID\r\n        };\r\n        const deleteParam = { operation: \"delete\", ncontrolCode: deleteId };\r\n        const editVersionParam = {\r\n            userInfo: this.props.Login.userInfo,\r\n            primaryKeyField: \"ncertificatetypeversioncode\",\r\n            ncontrolCode: editVersionId\r\n        };\r\n        const mandatoryFields = [\r\n            { \"idsName\": \"IDS_CERTIFICATETYPE\", \"dataField\": \"scertificatetype\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            // { \"idsName\": \"IDS_VERSIONNO\", \"dataField\": \"sversionno\" },\r\n            { \"idsName\": \"IDS_REPORTBATCHTYPE\", \"dataField\": \"ncertificatereporttypecode\", \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        ];\r\n        const mandatoryVersionFields = [\r\n            { \"idsName\": \"IDS_REPORTNAME\", \"dataField\": \"nreportcode\", \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_REPORTVERSIONNO\", \"dataField\": \"nreportdetailcode\", \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_PREVIEWREPORTNAME\", \"dataField\": \"npreviewreportcode\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n            { \"idsName\": \"IDS_PREVIEWREPORTVERSIONNO\", \"dataField\": \"npreviewreportdetailcode\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"}\r\n        ];\r\n\r\n        const filterParam = {\r\n            inputListName: \"certificatetype\",\r\n            selectedObject: \"selectedCertificateType\",\r\n            primaryKeyField: \"ncertificatetypecode\",\r\n            fetchUrl: \"certificatetype/getCertificateTypeByClick\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"scertificatetype\", \"sdescription\", \"sbatchdisplayname\", \"saccreditedCertificate\", \"sdisplaystatus\"]\r\n        }\r\n\r\n        let userStatusCSS = \"outline-secondary\";\r\n        if (this.props.Login.masterData.selectedCertificateType && this.props.Login.masterData.selectedCertificateType.ntransactionstatus === transactionStatus.YES) {\r\n            userStatusCSS = \"outline-success\";\r\n        }\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-4\">\r\n                    <Row noGutters={true}>\r\n                        <Col md={4}>\r\n                            <ListMaster\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_CERTIFICATETYPE\" })}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.certificatetype || []}\r\n                                getMasterDetail={(certificatetype) => this.props.getCertificateTypeVersion(certificatetype, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedCertificateType}\r\n                                primaryKeyField={\"ncertificatetypecode\"}\r\n                                mainField=\"scertificatetype\"\r\n                                firstField=\"saccreditedCertificate\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                openModal={() => this.props.fetchRecordCertificateType(AddCertificateType1)}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addCTId}\r\n                                searchRef={this.searchRef}\r\n                                filterParam={filterParam}\r\n                                hidePaging={true}\r\n                                reloadData={this.reloadData}\r\n                            />\r\n                        </Col>\r\n                        <Col md={8}>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <ContentPanel className=\"panel-main-content\">\r\n                                        <Card className=\"border-0\">\r\n                                            {this.props.Login.masterData.certificatetype && this.props.Login.masterData.certificatetype.length > 0 && this.props.Login.masterData.selectedCertificateType ?\r\n                                                <>\r\n                                                    <Card.Header>\r\n                                                        <ReactTooltip place=\"bottom\" globalEventOff='click' />\r\n                                                        <Card.Title className=\"product-title-main\">\r\n                                                            {this.props.Login.masterData.selectedCertificateType.scertificatetype}\r\n                                                        </Card.Title>\r\n                                                        <Card.Subtitle>\r\n                                                            <div className=\"d-flex product-category justify-content-end\">\r\n                                                                <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                    <span className={`btn btn-outlined ${userStatusCSS} btn-sm ml-3`}>\r\n                                                                        {this.props.Login.masterData.selectedCertificateType.sdisplaystatus}\r\n                                                                    </span>\r\n                                                                </h2>\r\n                                                                {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                                <div className=\"d-inline\">\r\n                                                                    <Nav.Link name=\"editUser\" hidden={this.state.userRoleControlRights.indexOf(editID) === -1}\r\n                                                                        className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                        data-for=\"tooltip_list_wrap\"\r\n                                                                        onClick={() => this.props.fetchRecordCertificateType({ ...editParam, primaryKeyValue: this.props.Login.masterData.selectedCertificateType.ncertificatetypecode })}\r\n                                                                    >\r\n                                                                        <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                                    </Nav.Link>\r\n\r\n                                                                    <Nav.Link name=\"deleteUser\" className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\"\r\n                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                        data-for=\"tooltip_list_wrap\"\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                        onClick={() => this.ConfirmDelete(deleteParam)}>\r\n                                                                        <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                    </Nav.Link>\r\n                                                                </div>\r\n                                                                {/* </Tooltip> */}\r\n                                                            </div>\r\n                                                        </Card.Subtitle>\r\n                                                    </Card.Header>\r\n                                                    <Card.Body className=\"form-static-wrap\">\r\n                                                        <Row>\r\n                                                            <Col md={6}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel>\r\n                                                                        <FormattedMessage id=\"IDS_REPORTBATCHTYPE\" />\r\n                                                                    </FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.selectedCertificateType.sbatchdisplayname}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                            <Col md={6}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel>\r\n                                                                        <FormattedMessage id=\"IDS_EDQM\" />\r\n                                                                    </FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.selectedCertificateType.sedqmCertificate}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                            {/* <Col md={3}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel>\r\n                                                                        <FormattedMessage id=\"IDS_ACCREDITED\" />\r\n                                                                    </FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.selectedCertificateType.saccreditedCertificate}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                            <Col md={3}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel>\r\n                                                                        <FormattedMessage id=\"IDS_ACTIVE\" />\r\n                                                                    </FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.selectedCertificateType.sdisplaystatus}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col> */}\r\n                                                            <Col md={12}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel>\r\n                                                                        <FormattedMessage id=\"IDS_DESCRIPTION\" message=\"Report Type\" />\r\n                                                                    </FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.selectedCertificateType.sdescription ?\r\n                                                                            this.props.Login.masterData.selectedCertificateType.sdescription === \"\" ?\r\n                                                                                \"-\"\r\n                                                                                : this.props.Login.masterData.selectedCertificateType.sdescription\r\n                                                                            : \"-\"}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                        </Row>\r\n                                                        <Row>\r\n                                                            <Col md={12}>\r\n                                                                <Card id=\"certificateversion\" className=\"at-tabs border-0\">\r\n                                                                    <Row>\r\n                                                                        <Col md={12}>\r\n                                                                            <div className=\"d-flex justify-content-end\">\r\n                                                                                <ReactTooltip place=\"bottom\" globalEventOff='click' />\r\n                                                                                <Nav.Link className=\"add-txt-btn\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_ADDVERSION\" })}\r\n                                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(createVersionId) === -1}\r\n                                                                                    onClick={() => this.props.getReportMasterByCertificateType(this.props.Login.masterData.selectedCertificateType.ncertificatetypecode, this.props.Login.userInfo)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faPlus} /> { }\r\n                                                                                    <FormattedMessage id='IDS_VERSION' />\r\n                                                                                </Nav.Link>\r\n                                                                            </div>\r\n                                                                        </Col>\r\n                                                                    </Row>\r\n                                                                    <Row>\r\n                                                                        <Col md={12}>\r\n                                                                            <DataGrid\r\n                                                                                primaryKeyField={\"ncertificatetypeversioncode\"}\r\n                                                                                data={this.props.Login.masterData.cerificateTypeVersion || []}\r\n                                                                                dataResult={process(this.props.Login.masterData.cerificateTypeVersion, this.state.dataState)}\r\n                                                                                dataState={this.state.dataState}\r\n                                                                                dataStateChange={(event) => this.setState({ dataState: event.dataState })}\r\n                                                                                extractedColumnList={extractedColumnList}\r\n                                                                                controlMap={this.state.controlMap}\r\n                                                                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                                                                inputParam={this.props.Login.inputParam}\r\n                                                                                userInfo={this.props.Login.userInfo}\r\n                                                                                methodUrl=\"CertificateTypeVersion\"\r\n                                                                                gridHeight={\"450px\"}\r\n                                                                                pageable={true}\r\n                                                                                fetchRecord={this.props.fetchCertificateTypeVersionById}\r\n                                                                                editParam={editVersionParam}\r\n                                                                                selectedId={this.props.Login.selectedId}\r\n                                                                                isComponent={true}\r\n                                                                                isActionRequired={true}\r\n                                                                                isToolBarRequired={false}\r\n                                                                                scrollable={\"scrollable\"}\r\n                                                                            />\r\n                                                                        </Col>\r\n                                                                    </Row>\r\n                                                                </Card>\r\n                                                            </Col>\r\n                                                        </Row>\r\n                                                    </Card.Body>\r\n                                                </>\r\n                                                : \"\"}\r\n                                        </Card>\r\n                                    </ContentPanel>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {\r\n                    (this.props.Login.openModal || this.props.Login.openChildModal) &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal || this.props.Login.openChildModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.props.Login.openModal ? this.onSaveClick : this.onSaveVersion}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.openModal ? mandatoryFields : mandatoryVersionFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : this.props.Login.openChildModal ?\r\n                                <AddCertificateTypeVersion\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onInputOnChange={this.onInputChangeVersion}\r\n                                    onComboChange={this.onComboChange}\r\n                                    reportMasterList={this.props.Login.reportMasterList || []}\r\n                                    reportDetailsList={this.props.Login.reportDetailsList || []}\r\n                                    previewReportMasterList={this.props.Login.previewReportMasterList || []}\r\n                                    previewReportDetailsList={this.props.Login.previewReportDetailsList || []}\r\n                                />\r\n                                : <AddCertificateType\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    reportBatchTypeList={this.props.Login.reportBatchTypeList}\r\n                                />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let updateState = false;\r\n        let { controlMap, selectedRecord, userRoleControlRights,dataState } = this.state;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n\r\n                \r\n            }\r\n            dataState = {skip:0,take:this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5}\r\n            updateState = true;\r\n        }\r\n        else if (this.props.Login.selectedRecord !== this.state.selectedRecord) {\r\n\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            updateState = true;\r\n\r\n        }\r\n\r\n        if (updateState) {\r\n            this.setState({\r\n                userRoleControlRights, controlMap, selectedRecord,dataState\r\n            });\r\n        }\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            }\r\n            else {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            }\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onInputChangeVersion = (event) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            }\r\n            else {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n            }\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (fieldName === 'nreportcode' || fieldName === 'npreviewreportcode') {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.getReportDetailByReport(comboData.value,\r\n                this.props.Login.masterData.selectedCertificateType.ncertificatetypecode,\r\n                selectedRecord, this.props.Login.userInfo, fieldName)\r\n\r\n        } else if (fieldName === 'nreportdetailcode') {\r\n            selectedRecord[fieldName] = comboData;\r\n            selectedRecord['sdisplaystatus'] = comboData.item.sdisplaystatus\r\n            selectedRecord['nversionno'] = comboData.item.nversionno\r\n            this.setState({ selectedRecord });\r\n        }\r\n        else if (fieldName === 'npreviewreportdetailcode') {\r\n            selectedRecord[fieldName] = comboData;\r\n            selectedRecord['spreviewdisplaystatus'] = comboData.item.sdisplaystatus\r\n            selectedRecord['npreviewversionno'] = comboData.item.nversionno\r\n            this.setState({ selectedRecord });\r\n        }\r\n        else {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let openChildModal = this.props.Login.openChildModal;\r\n        let selectedRecord = this.state.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                openChildModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            openChildModal = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, openChildModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n    onSaveClick = (saveType, formRef) => {\r\n\r\n        //add / edit  \r\n        let dataState = undefined;\r\n        let operation = \"\";\r\n        let inputData = [];\r\n        let selectedId = null;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        let postParam = {\r\n            selectedObject: \"selectedCertificateType\",\r\n            primaryKeyField: \"ncertificatetypecode\",\r\n            inputListName: \"certificatetype\",\r\n            fetchUrl: \"certificatetype/getCertificateTypeByClick\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo }\r\n        }\r\n        if (this.props.Login.operation === \"update\") {\r\n            // edit    \r\n            postParam['primaryKeyValue'] = this.props.Login.masterData.selectedCertificateType.ncertificatetypecode;\r\n            let selectedRecord = this.state.selectedRecord ? this.state.selectedRecord : {};\r\n            inputData[\"certificatetype\"] ={'ncertificatetypecode':selectedRecord.ncertificatetypecode};\r\n            inputData[\"certificatetype\"]['nedqm'] =  selectedRecord['nedqm']||transactionStatus.YES\r\n            inputData[\"certificatetype\"]['naccredited'] =  selectedRecord['naccredited']||transactionStatus.YES\r\n            inputData[\"certificatetype\"]['ntransactionstatus'] =  selectedRecord['ntransactionstatus']||transactionStatus.YES\r\n            inputData[\"certificatetype\"]['scertificatetype'] =  selectedRecord['scertificatetype']\r\n            inputData[\"certificatetype\"]['sdescription'] =  selectedRecord['sdescription']||\"\"\r\n            inputData[\"certificatetype\"][\"ncertificatereporttypecode\"] = selectedRecord[\"ncertificatereporttypecode\"].value;\r\n\r\n            operation = \"update\";\r\n            dataState = this.state.dataState;\r\n            selectedId = this.props.Login.selectedId;\r\n        }\r\n        else {\r\n            //add             \r\n            inputData[\"certificatetype\"] = { \"nsitecode\": this.props.Login.userInfo.nmastersitecode };\r\n            inputData[\"certificatetype\"]['nedqm'] = this.state.selectedRecord['nedqm']||transactionStatus.YES\r\n            inputData[\"certificatetype\"]['naccredited'] = this.state.selectedRecord['naccredited']||transactionStatus.YES\r\n            inputData[\"certificatetype\"]['ntransactionstatus'] = this.state.selectedRecord['ntransactionstatus']||transactionStatus.YES\r\n            inputData[\"certificatetype\"]['scertificatetype'] = this.state.selectedRecord['scertificatetype']\r\n            inputData[\"certificatetype\"]['sdescription'] = this.state.selectedRecord['sdescription']||\"\"\r\n\r\n            inputData[\"certificatetype\"][\"ncertificatereporttypecode\"] = this.state.selectedRecord[\"ncertificatereporttypecode\"].value;\r\n            operation = \"create\";\r\n        }\r\n\r\n        const inputParam = {\r\n            classUrl: \"certificatetype\",\r\n            methodUrl: \"CertificateType\",\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: inputData,\r\n            postParam,\r\n            searchRef: this.searchRef,\r\n            operation: operation, saveType, formRef, dataState, selectedId\r\n        }\r\n        const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\r\n        if (esignNeeded) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }),\r\n                    operation: this.props.Login.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    onSaveVersion = (saveType, formRef) => {\r\n        let dataState = undefined;\r\n        let operation = \"\";\r\n        let inputData = [];\r\n        let selectedId = null;\r\n\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        if (this.props.Login.operation === \"update\") {\r\n            // edit    \r\n            selectedId = this.props.Login.selectedId;\r\n            inputData[\"certificatetypeversion\"] = {};\r\n            inputData[\"certificatetypeversion\"][\"ncertificatetypeversioncode\"] = selectedId\r\n            inputData[\"certificatetypeversion\"][\"ncertificatetypecode\"] = this.props.Login.masterData.selectedCertificateType.ncertificatetypecode;\r\n            inputData[\"certificatetypeversion\"][\"nreportdetailcode\"] = this.state.selectedRecord[\"nreportdetailcode\"].value;\r\n            inputData[\"certificatetypeversion\"][\"npreviewreportdetailcode\"] = this.state.selectedRecord[\"npreviewreportdetailcode\"].value;\r\n            inputData[\"certificatetypeversion\"][\"ncertificatetypeversionno\"] = this.state.selectedRecord[\"ncertificatetypeversionno\"];\r\n            inputData[\"certificatetypeversion\"][\"ntransactionstatus\"] = this.state.selectedRecord[\"ntransactionstatus\"];\r\n            inputData[\"certificatetypeversion\"][\"nversionno\"] = this.state.selectedRecord[\"nversionno\"];\r\n            inputData[\"certificatetypeversion\"][\"nstatus\"] = transactionStatus.ACTIVE;\r\n\r\n            operation = \"update\";\r\n            dataState = this.state.dataState;\r\n\r\n        }\r\n        else {\r\n            //add             \r\n            inputData[\"certificatetypeversion\"] = {};\r\n            inputData[\"certificatetypeversion\"][\"ncertificatetypecode\"] = this.props.Login.masterData.selectedCertificateType.ncertificatetypecode;\r\n            inputData[\"certificatetypeversion\"][\"nreportdetailcode\"] = this.state.selectedRecord[\"nreportdetailcode\"].value;\r\n            inputData[\"certificatetypeversion\"][\"npreviewreportdetailcode\"] = this.state.selectedRecord[\"npreviewreportdetailcode\"].value;\r\n            inputData[\"certificatetypeversion\"][\"ntransactionstatus\"] = this.state.selectedRecord[\"ntransactionstatus\"] || transactionStatus.DEACTIVE;\r\n            inputData[\"certificatetypeversion\"][\"nstatus\"] = transactionStatus.ACTIVE;\r\n            inputData[\"certificatetypeversion\"][\"nversionno\"] = this.state.selectedRecord[\"nversionno\"];\r\n            operation = \"create\";\r\n        }\r\n\r\n        const inputParam = {\r\n            classUrl: 'certificatetype',\r\n            methodUrl: 'CertificateTypeVersion',\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: inputData,\r\n            operation: operation, saveType, formRef, dataState, selectedId\r\n        }\r\n        const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\r\n        if (esignNeeded) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openChildModal: true, screenName: this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }),\r\n                    operation: this.props.Login.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openChildModal\");\r\n        }\r\n    }\r\n\r\n    ConfirmDelete = (deleteParam) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteRecord({ ...deleteParam, selectedRecord: this.props.Login.masterData.selectedCertificateType }));\r\n    }\r\n    deleteRecord = (deleteParam) => {\r\n        //deleteRecord = (selectedRecord, operation, ncontrolCode) => {       \r\n        if (deleteParam.selectedRecord.expanded !== undefined) {\r\n            delete deleteParam.selectedRecord.expanded;\r\n        }\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"CertificateType\",\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: {\r\n                certificatetype: deleteParam.selectedRecord,\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            operation: \"delete\",\r\n            dataState: this.state.dataState\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }),\r\n                    operation: \"delete\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n        //this.props.crudMaster(inputParam);\r\n    }\r\n\r\n    validateEsign = () => {\r\n        let modalName = this.props.Login.openModal ? 'openModal' : 'openChildModal'\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, modalName);\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n            classUrl: \"certificatetype\",\r\n            methodUrl: \"CertificateType\",\r\n            displayName: \"IDS_CERTIFICATETYPE\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n}\r\nexport default connect(mapStateToProps,\r\n    {\r\n        callService, crudMaster, fetchRecordCertificateType, updateStore, getReportDetailByReport, fetchCertificateTypeVersionById,\r\n        validateEsignCredential, filterColumnData, getCertificateTypeVersion, getReportMasterByCertificateType\r\n    })(injectIntl(CertificateType));"]},"metadata":{},"sourceType":"module"}