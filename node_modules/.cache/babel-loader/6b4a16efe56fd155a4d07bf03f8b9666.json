{"ast":null,"code":"import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{FormattedMessage,injectIntl}from'react-intl';import{Button,Nav,Image,InputGroup}from'react-bootstrap';import{Grid,GridColumn as Column,GridToolbar,GridColumnMenuFilter,GridNoRecords,getSelectedState}from'@progress/kendo-react-grid';import{GridPDFExport}from'@progress/kendo-react-pdf';import{ExcelExport}from'@progress/kendo-react-excel-export';import ConfirmDialog from'../confirm-alert/confirm-alert.component';import SimpleGrid from'./SimpleGrid';import{Row,Col,Card,FormGroup,FormLabel}from'react-bootstrap';import{AtTableWrap,FormControlStatic,FontIconWrap}from'../data-grid/data-grid.styles';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{updateStore}from'../../actions';import{faCheck,faTrashAlt,faPencilAlt,faThumbsUp,faCopy,faPlus,faSync,faFileExcel,faFilePdf,faCloudDownloadAlt,faRedo,faEye,faRocket,faExpand,faMinus}from'@fortawesome/free-solid-svg-icons';import ColumnMenu from'./ColumnMenu';// import { Tooltip } from '@progress/kendo-react-tooltip';\nimport reject from\"../../assets/image/reject.svg\";import CustomSwitch from'../custom-switch/custom-switch.component';// import '../../assets/styles/unicode-font.css';\nimport parse from'html-react-parser';import{toast}from'react-toastify';import FormCheckbox from'../form-checkbox/form-checkbox.component';import messages_en from'../../assets/translations/en.json';import messages_de from'../../assets/translations/de.json';import{loadMessages,LocalizationProvider}from'@progress/kendo-react-intl';import{connect}from'react-redux';import{process}from'@progress/kendo-data-query';import ReactTooltip from'react-tooltip';import{getActionIcon}from'../HoverIcons';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import messages_ru from'../../assets/translations/ru.json';import messages_tg from'../../assets/translations/tg.json';import SimpleGridWithSelection from'./SimpleGridWithSelection';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import SingleSelectionDataGrid from'./SingleSelectionDataGrid';var messages={'en-US':messages_en,'ko-KR':messages_de,'ru-RU':messages_ru,'tg-TG':messages_tg};var DataGridWithMultipleGrid=/*#__PURE__*/function(_React$Component){_inherits(DataGridWithMultipleGrid,_React$Component);var _super=_createSuper(DataGridWithMultipleGrid);function DataGridWithMultipleGrid(_props){var _this;_classCallCheck(this,DataGridWithMultipleGrid);_this=_super.call(this,_props);_this.detailBand=function(props){return/*#__PURE__*/React.createElement(Row,{bsPrefix:\"margin_class\"},/*#__PURE__*/React.createElement(Col,{md:12},_this.props.hasChild&&_this.props.needSubSample?/*#__PURE__*/React.createElement(SimpleGridWithSelection,{ref:function ref(foo1){return _this.foo1=foo1;}//handleChange={this.expandData.bind(this)}\n,extractedColumnList:_this.props.childColumnList,dataState:_this.props.dataState,childList:props.dataItem?_this.props.childList[props.dataItem[_this.props.childMappingField]]||[]:_this.props.childList[props[_this.props.childMappingField]]||[],childDataResult:_this.props.childDataResult,childSelectionChange:_this.props.childSelectionChange,headerSelectionChange:_this.props.childHeaderSelectionChange,selectAll:_this.props.childSelectAll,hasSubChild:_this.props.hasSubChild,subChildDataResult:_this.props.subChildDataResult&&_this.props.subChildDataResult||[],subChildColumnList:_this.props.subChildColumnList,expandField:\"expanded\",childHandleExpandChange:_this.props.childHandleExpandChange,subChildSelectionChange:_this.props.subChildSelectionChange,subChildList:_this.props.subChildList||[],subChildMappingField:_this.props.subChildMappingField,subChildHeaderSelectionChange:_this.props.subChildHeaderSelectionChange,subChildSelectAll:_this.props.subChildSelectAll,selectedsubcild:_this.props.selectedsubcild}):/*#__PURE__*/React.createElement(SingleSelectionDataGrid,{hasSubChild:_this.props.hasSubChild,subChildDataResult:_this.props.subChildDataResult&&_this.props.subChildDataResult||[],subChildColumnList:_this.props.subChildColumnList,subChildSelectionChange:_this.props.subChildSelectionChange,subChildList:props.dataItem?_this.props.subChildList[props.dataItem[_this.props.subChildMappingField]]||[]:_this.props.subChildList[props[_this.props.subChildMappingField]]||[],subChildHeaderSelectionChange:_this.props.subChildHeaderSelectionChange,subChildSelectAll:_this.props.subChildSelectAll,selectedsubcild:_this.props.selectedsubcild,subChildMappingField:_this.props.subChildMappingField,extractedColumnList:_this.props.subChildColumnList})),\" \");};_this.expandChange=function(event){var arrayfalse=[];var change=[];var isExpanded=event.dataItem.expanded===undefined?event.dataItem.aggregates:event.dataItem.expanded;if(_this.props.hasChild&&event.value===true){event.dataItem.expanded=!isExpanded;Object.values(_this.props.childList).forEach(function(item){item.map(function(item1){item1['expanded']=true;});});}else{event.dataItem.expanded=!isExpanded;arrayfalse.push(event.dataItem);change=false;_this.setState({isExpanded:isExpanded,arrayfalse:arrayfalse});}var parentData=_this.props.dataResult.data?_this.props.dataResult.data.every(function(item){return item.expanded===true;}):_this.props.dataResult.every(function(item){return item.expanded===true;});if(parentData===true){change=true;}else{change=false;}_this.props.expandFunc({change:change});};_this.allData=function(props){props.map(function(item){});};_this.myRef=React.createRef();_this.confirmMessage=new ConfirmMessage();// this.state = { status: false }\n_this.state={showChild:true,arr:[],change:false,check:false,status:false,count:0};return _this;}_createClass(DataGridWithMultipleGrid,[{key:\"columnProps\",value:function columnProps(field){if(!this.props.hideColumnFilter){return{field:field,columnMenu:ColumnMenu,headerClassName:this.isColumnActive(field,this.props.dataState)?'active':''};}}},{key:\"isColumnActive\",value:function isColumnActive(field,dataState){return GridColumnMenuFilter.active(field,dataState.filter);}},{key:\"expandData\",value:function expandData(){var _this2=this;var change=[];if(this.props.Login.checkFlag===undefined||this.props.Login.checkFlag===\"1\"//|| this.props.Login.count === 0\n){var data=this.props.dataResult.data.every(function(item){return item.expanded===true;});if(data===false){this.props.dataResult.data.map(function(item,i){if(item['expanded']===undefined||item['expanded']!==true){item['expanded']=true;if(_this2.props.childList[item[_this2.props.childMappingField]]!=undefined){_this2.props.childList[item[_this2.props.childMappingField]].map(function(item1,x){_this2.props.childList[item[_this2.props.childMappingField]][x]['expanded']=true;});}change=true;}});}else{if(this.state.arrayfalse&&this.state.arrayfalse.length!==0&&this.props.Login.change===false){this.state.arrayfalse.map(function(item){item['expanded']=true;change=true;});}else{this.props.dataResult.data.map(function(item,i){item['expanded']=false;if(_this2.props.childList[item[_this2.props.childMappingField]]!=undefined){_this2.props.childList[item[_this2.props.childMappingField]].map(function(item1,x){_this2.props.childList[item[_this2.props.childMappingField]][x]['expanded']=false;});}change=false;});}}}else{if(this.props.Login.childfalsearray&&this.props.Login.childfalsearray!==0){this.props.Login.childfalsearray.map(function(item){return item['expanded']=true;});change=true;}if(this.state.arrayfalse&&this.state.arrayfalse.length!==0&&this.props.Login.change===false){this.state.arrayfalse.map(function(item){item['expanded']=true;change=true;});}}// if (this.props.Login.count === 0) {\n//  change=true        }\nthis.props.expandFunc({change:change});}},{key:\"render\",value:function render(){var _this3=this;console.log(\"selectiongrid\",this.props.subChildList);console.log(\"selectiongrid1\",this.props);var methodUrl=this.props.methodUrl?this.props.methodUrl:this.props.inputParam&&this.props.inputParam.methodUrl;var releaseId=this.props.controlMap&&this.props.controlMap.has(\"COA\".concat(methodUrl))&&this.props.controlMap.get(\"COA\".concat(methodUrl)).ncontrolcode;var expandId=this.props.controlMap&&this.props.controlMap.has(\"ReleaseExpand\")&&this.props.controlMap.get(\"ReleaseExpand\").ncontrolcode;var collapseId=this.props.controlMap&&this.props.controlMap.has(\"ReleaseCollapse\")&&this.props.controlMap.get(\"ReleaseCollapse\").ncontrolcode;var pageSizes=this.props.pageSizes?this.props.pageSizes:this.props.Login.settings&&this.props.Login.settings[15].split(\",\").map(function(setting){return parseInt(setting);});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AtTableWrap,{className:\"at-list-table\",actionColWidth:this.props.actionColWidth?this.props.actionColWidth:\"150px\"},/*#__PURE__*/React.createElement(LocalizationProvider,{language:\"lang\"},/*#__PURE__*/React.createElement(Grid,Object.assign({ref:function ref(foo){return _this3.foo=foo;},className:this.props.dataResult&&this.props.dataResult.length>0||this.props.extractedColumnList&&this.props.extractedColumnList.length>0?\"active-paging\":\"no-paging\",style:{height:this.props.gridHeight,width:this.props.gridWidth},sortable:true,resizable:true,reorderable:false,scrollable:this.props.scrollable,pageable:this.props.pageable?{buttonCount:5,pageSizes:pageSizes,previousNext:false}:\"\",groupable:this.props.groupable?true:false,detail:this.props.hideDetailBand?false:this.detailBand,expandField:\"expanded\",onExpandChange:this.expandChange,data:this.props.dataResult,total:this.props.total},this.props.dataState,{selectedField:\"selected\",onRowClick:this.props.handleRowClick,onSelectionChange:this.props.selectionChange,onHeaderSelectionChange:this.props.headerSelectionChange,onDataStateChange:this.props.dataStateChange,selectable:{enabled:true,drag:false,cell:false,mode:'multiple'}}),/*#__PURE__*/React.createElement(GridNoRecords,null,this.props.intl.formatMessage({id:\"IDS_NORECORDSAVAILABLE\"})),this.props.isToolBarRequired?/*#__PURE__*/React.createElement(GridToolbar,null,this.props.isExpandRequired===true?/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-padd-custom\",href:\"#\",style:{marginRight:\"8px\"}//    data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this3.expandData();}},this.props.intl.formatMessage({id:this.props.Login.change?\"IDS_COLLAPSE\":\"IDS_EXPAND\"}),\"                                                                \"):\"\",this.props.isReleaseRequired===false?\"\":/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",variant:\"link\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_RELEASE\"}),\"data-for\":\"tooltip-grid-wrap\",hidden:this.props.userRoleControlRights&&this.props.userRoleControlRights.indexOf(releaseId)===-1,onClick:function onClick(){return _this3.props.releaseRecord({userInfo:_this3.props.userInfo});}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faRocket})),this.props.isRefreshRequired===false?\"\":/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey\",variant:\"link\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"}),\"data-for\":\"tooltip-grid-wrap\",onClick:function onClick(){return _this3.props.reloadData();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSync}))):\"\",/*#__PURE__*/React.createElement(Column,{field:\"selected\"//    width=\"45px\"\n,title:this.props.title//    headerSelectionValue={false}\n,headerSelectionValue:this.props.dataResult.data&&this.props.dataResult.data.length===0?false:this.props.dataResult.data&&this.props.dataResult.data.every(function(data){return data.selected===true;})?true:false}),this.props.extractedColumnList.map(function(item,index){return/*#__PURE__*/React.createElement(Column,{key:index,title:_this3.props.intl.formatMessage({id:item.idsName})//  {...this.columnProps(item.dataField)}\n,width:item.width,cell:function cell(row){return/*#__PURE__*/React.createElement(\"td\",{\"data-tip\":row[\"dataItem\"][item.dataField]},item.isIdsField?/*#__PURE__*/React.createElement(FormattedMessage,{id:row[\"dataItem\"][item.dataField],defaultMessage:row[\"dataItem\"][item.dataField]}):row[\"dataItem\"][item.dataField]);}});})))));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){ReactTooltip.rebuild();}}]);return DataGridWithMultipleGrid;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{updateStore:updateStore})(injectIntl(DataGridWithMultipleGrid));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/data-grid/DataGridWithMultipleGrid.jsx"],"names":["React","FormattedMessage","injectIntl","Button","Nav","Image","InputGroup","Grid","GridColumn","Column","GridToolbar","GridColumnMenuFilter","GridNoRecords","getSelectedState","GridPDFExport","ExcelExport","ConfirmDialog","SimpleGrid","Row","Col","Card","FormGroup","FormLabel","AtTableWrap","FormControlStatic","FontIconWrap","FontAwesomeIcon","updateStore","faCheck","faTrashAlt","faPencilAlt","faThumbsUp","faCopy","faPlus","faSync","faFileExcel","faFilePdf","faCloudDownloadAlt","faRedo","faEye","faRocket","faExpand","faMinus","ColumnMenu","CustomSwitch","parse","toast","FormCheckbox","messages_en","messages_de","loadMessages","LocalizationProvider","connect","process","ReactTooltip","getActionIcon","ConfirmMessage","messages_ru","messages_tg","SimpleGridWithSelection","DEFAULT_RETURN","SingleSelectionDataGrid","messages","DataGridWithMultipleGrid","props","detailBand","hasChild","needSubSample","foo1","childColumnList","dataState","dataItem","childList","childMappingField","childDataResult","childSelectionChange","childHeaderSelectionChange","childSelectAll","hasSubChild","subChildDataResult","subChildColumnList","childHandleExpandChange","subChildSelectionChange","subChildList","subChildMappingField","subChildHeaderSelectionChange","subChildSelectAll","selectedsubcild","expandChange","event","arrayfalse","change","isExpanded","expanded","undefined","aggregates","value","Object","values","forEach","item","map","item1","push","setState","parentData","dataResult","data","every","expandFunc","allData","myRef","createRef","confirmMessage","state","showChild","arr","check","status","count","field","hideColumnFilter","columnMenu","headerClassName","isColumnActive","active","filter","Login","checkFlag","i","x","length","childfalsearray","console","log","methodUrl","inputParam","releaseId","controlMap","has","concat","get","ncontrolcode","expandId","collapseId","pageSizes","settings","split","setting","parseInt","actionColWidth","foo","extractedColumnList","height","gridHeight","width","gridWidth","scrollable","pageable","buttonCount","previousNext","groupable","hideDetailBand","total","handleRowClick","selectionChange","headerSelectionChange","dataStateChange","enabled","drag","cell","mode","intl","formatMessage","id","isToolBarRequired","isExpandRequired","marginRight","expandData","isReleaseRequired","userRoleControlRights","indexOf","releaseRecord","userInfo","isRefreshRequired","reloadData","title","selected","index","idsName","row","dataField","isIdsField","rebuild","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { Button, Nav, Image, InputGroup } from 'react-bootstrap';\r\nimport { Grid, GridColumn as Column, GridToolbar, GridColumnMenuFilter, GridNoRecords, getSelectedState } from '@progress/kendo-react-grid';\r\nimport { GridPDFExport } from '@progress/kendo-react-pdf';\r\nimport { ExcelExport } from '@progress/kendo-react-excel-export';\r\nimport ConfirmDialog from '../confirm-alert/confirm-alert.component';\r\nimport SimpleGrid from './SimpleGrid';\r\nimport { Row, Col, Card, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { AtTableWrap, FormControlStatic, FontIconWrap } from '../data-grid/data-grid.styles';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n    updateStore\r\n} from '../../actions';\r\n\r\nimport {\r\n    faCheck, faTrashAlt, faPencilAlt, faThumbsUp,\r\n    faCopy, faPlus, faSync, faFileExcel, faFilePdf, faCloudDownloadAlt, faRedo, faEye, faRocket, faExpand, faMinus\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport ColumnMenu from './ColumnMenu';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport reject from '../../assets/image/reject.svg'\r\nimport CustomSwitch from '../custom-switch/custom-switch.component';// import '../../assets/styles/unicode-font.css';\r\nimport parse from 'html-react-parser';\r\nimport { toast } from 'react-toastify';\r\nimport FormCheckbox from '../form-checkbox/form-checkbox.component';\r\nimport messages_en from '../../assets/translations/en.json';\r\nimport messages_de from '../../assets/translations/de.json';\r\nimport { loadMessages, LocalizationProvider } from '@progress/kendo-react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { getActionIcon } from '../HoverIcons';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport messages_ru from '../../assets/translations/ru.json';\r\nimport messages_tg from '../../assets/translations/tg.json';\r\nimport SimpleGridWithSelection from './SimpleGridWithSelection';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport SingleSelectionDataGrid from './SingleSelectionDataGrid';\r\n\r\nconst messages = {\r\n    'en-US': messages_en,\r\n    'ko-KR': messages_de,\r\n    'ru-RU': messages_ru,\r\n    'tg-TG': messages_tg\r\n}\r\n\r\nclass DataGridWithMultipleGrid extends React.Component {\r\n\r\n    _pdfExport;\r\n    _excelExport;\r\n    constructor(props) {\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        // this.state = { status: false }\r\n        this.state = {\r\n            showChild: true,\r\n            arr: [],\r\n            change: false,\r\n            check: false,\r\n            status: false,\r\n            count: 0\r\n        }\r\n\r\n    }\r\n    detailBand = (props) => {\r\n        return (\r\n            <Row bsPrefix=\"margin_class\">\r\n                <Col md={12}>\r\n                    {this.props.hasChild && this.props.needSubSample ?\r\n                        <SimpleGridWithSelection\r\n                            ref={foo1 => this.foo1 = foo1}\r\n                            //handleChange={this.expandData.bind(this)}\r\n                            extractedColumnList={this.props.childColumnList}\r\n                            dataState={this.props.dataState}\r\n                            childList={props.dataItem ? this.props.childList[(props.dataItem[this.props.childMappingField])] || []\r\n                                : this.props.childList[(props[this.props.childMappingField])] || []}\r\n                            childDataResult={this.props.childDataResult}\r\n                            childSelectionChange={this.props.childSelectionChange}\r\n                            headerSelectionChange={this.props.childHeaderSelectionChange}\r\n                            selectAll={this.props.childSelectAll}\r\n                            hasSubChild={this.props.hasSubChild}\r\n                            subChildDataResult={this.props.subChildDataResult && this.props.subChildDataResult || []}\r\n                            subChildColumnList={this.props.subChildColumnList}\r\n                            expandField=\"expanded\"\r\n                            childHandleExpandChange={this.props.childHandleExpandChange}\r\n                            subChildSelectionChange={this.props.subChildSelectionChange}\r\n                            subChildList={this.props.subChildList || []}\r\n                            subChildMappingField={this.props.subChildMappingField}\r\n                            subChildHeaderSelectionChange={this.props.subChildHeaderSelectionChange}\r\n                            subChildSelectAll={this.props.subChildSelectAll}\r\n                            selectedsubcild={this.props.selectedsubcild}\r\n                        />\r\n                        :\r\n                        <SingleSelectionDataGrid\r\n                            hasSubChild={this.props.hasSubChild}\r\n                            subChildDataResult={this.props.subChildDataResult && this.props.subChildDataResult || []}\r\n                            subChildColumnList={this.props.subChildColumnList}\r\n                            subChildSelectionChange={this.props.subChildSelectionChange}\r\n                            subChildList={props.dataItem ? this.props.subChildList[(props.dataItem[this.props.subChildMappingField])] || []\r\n                                : this.props.subChildList[(props[this.props.subChildMappingField])] || []}\r\n                            subChildHeaderSelectionChange={this.props.subChildHeaderSelectionChange}\r\n                            subChildSelectAll={this.props.subChildSelectAll}\r\n                            selectedsubcild={this.props.selectedsubcild}\r\n                            subChildMappingField={this.props.subChildMappingField}\r\n                            extractedColumnList={this.props.subChildColumnList}\r\n\r\n\r\n\r\n                        />}\r\n                </Col> </Row>\r\n        )\r\n    }\r\n    expandChange = (event) => {\r\n        let arrayfalse = []\r\n        let change = []\r\n\r\n        const isExpanded =\r\n            event.dataItem.expanded === undefined ?\r\n                event.dataItem.aggregates : event.dataItem.expanded;\r\n\r\n        if (this.props.hasChild && event.value === true) {\r\n            event.dataItem.expanded = !isExpanded;\r\n\r\n            Object.values(this.props.childList).forEach(item => {\r\n                item.map(item1 => {\r\n                    item1['expanded'] = true\r\n                })\r\n            })\r\n        }\r\n        else {\r\n            event.dataItem.expanded = !isExpanded;\r\n            arrayfalse.push(event.dataItem)\r\n            change = false\r\n            this.setState({ isExpanded, arrayfalse });\r\n        }\r\n        let parentData =\r\n            this.props.dataResult.data ? this.props.dataResult.data.every(item => {\r\n                return item.expanded === true\r\n            }) : this.props.dataResult.every(item => {\r\n                return item.expanded === true\r\n            })\r\n\r\n        if (parentData === true) {\r\n            change = true\r\n        }\r\n        else {\r\n            change = false\r\n        }\r\n        this.props.expandFunc({ change: change });\r\n\r\n\r\n    }\r\n\r\n    columnProps(field) {\r\n        if (!this.props.hideColumnFilter) {\r\n            return {\r\n                field: field,\r\n                columnMenu: ColumnMenu,\r\n                headerClassName: this.isColumnActive(field, this.props.dataState) ? 'active' : ''\r\n            };\r\n        }\r\n    }\r\n\r\n    isColumnActive(field, dataState) {\r\n        return GridColumnMenuFilter.active(field, dataState.filter)\r\n    }\r\n    expandData() {\r\n        let change = []\r\n        if (this.props.Login.checkFlag === undefined || this.props.Login.checkFlag === \"1\"\r\n            //|| this.props.Login.count === 0\r\n        ) {\r\n\r\n            let data = this.props.dataResult.data.every(item => {\r\n                return item.expanded === true\r\n            })\r\n            if (data === false) {\r\n                this.props.dataResult.data.map((item, i) => {\r\n                    if ((item['expanded'] === undefined) || (item['expanded'] !== true)) {\r\n                        item['expanded'] = true\r\n                        if (this.props.childList[(item[this.props.childMappingField])] != undefined) {\r\n                            this.props.childList[(item[this.props.childMappingField])].map((item1, x) => {\r\n                                this.props.childList[(item[this.props.childMappingField])][x]['expanded'] = true\r\n                            })\r\n                        }\r\n                        change = true\r\n                    }\r\n                })\r\n            }\r\n            else {\r\n                if (this.state.arrayfalse && this.state.arrayfalse.length !== 0 && this.props.Login.change === false) {\r\n                    this.state.arrayfalse.map(item => {\r\n                        item['expanded'] = true\r\n\r\n                        change = true\r\n\r\n                    })\r\n                }\r\n                else {\r\n                    this.props.dataResult.data.map((item, i) => {\r\n                        item['expanded'] = false\r\n                        if (this.props.childList[(item[this.props.childMappingField])] != undefined) {\r\n\r\n                            this.props.childList[(item[this.props.childMappingField])].map((item1, x) => {\r\n                                this.props.childList[(item[this.props.childMappingField])][x]['expanded'] = false\r\n                            })\r\n                        }\r\n                        change = false\r\n                    })\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (this.props.Login.childfalsearray && this.props.Login.childfalsearray !== 0) {\r\n                this.props.Login.childfalsearray.map(item =>\r\n                    item['expanded'] = true\r\n\r\n                )\r\n                change = true\r\n\r\n            }\r\n            if (this.state.arrayfalse && this.state.arrayfalse.length !== 0 && this.props.Login.change === false) {\r\n                this.state.arrayfalse.map(item => {\r\n                    item['expanded'] = true\r\n                    change = true\r\n\r\n                })\r\n            }\r\n        }\r\n        // if (this.props.Login.count === 0) {\r\n        //  change=true        }\r\n        this.props.expandFunc({ change: change })\r\n    }\r\n    allData = (props) => {\r\n        props.map(item => {\r\n\r\n        })\r\n    }\r\n    render() {\r\n        console.log(\"selectiongrid\", this.props.subChildList)\r\n        console.log(\"selectiongrid1\", this.props)\r\n\r\n\r\n        const methodUrl = this.props.methodUrl ? this.props.methodUrl : (this.props.inputParam && this.props.inputParam.methodUrl);\r\n\r\n        const releaseId = this.props.controlMap && this.props.controlMap.has(\"COA\".concat(methodUrl))\r\n            && this.props.controlMap.get(\"COA\".concat(methodUrl)).ncontrolcode;\r\n        const expandId = this.props.controlMap && this.props.controlMap.has(\"ReleaseExpand\")\r\n            && this.props.controlMap.get(\"ReleaseExpand\").ncontrolcode;\r\n        const collapseId = this.props.controlMap && this.props.controlMap.has(\"ReleaseCollapse\")\r\n            && this.props.controlMap.get(\"ReleaseCollapse\").ncontrolcode;\r\n        const pageSizes = this.props.pageSizes ? this.props.pageSizes : this.props.Login.settings && this.props.Login.settings[15].split(\",\").map(setting => parseInt(setting))\r\n        return (\r\n            <>\r\n                {/* <ReactTooltip place=\"bottom\" id=\"tooltip-grid-wrap\" globalEventOff='click' /> */}\r\n                <AtTableWrap className=\"at-list-table\" actionColWidth={this.props.actionColWidth ? this.props.actionColWidth : \"150px\"} >\r\n                    <LocalizationProvider language=\"lang\">\r\n\r\n                        <Grid ref={foo => this.foo = foo}\r\n                            className={((this.props.dataResult && this.props.dataResult.length > 0) || (this.props.extractedColumnList && this.props.extractedColumnList.length > 0)) ? \"active-paging\" : \"no-paging\"}\r\n                            style={{ height: this.props.gridHeight, width: this.props.gridWidth }}\r\n                            sortable\r\n                            resizable\r\n                            reorderable={false}\r\n                            scrollable={this.props.scrollable}\r\n                            pageable={this.props.pageable ? { buttonCount: 5, pageSizes: pageSizes, previousNext: false } : \"\"}\r\n                            groupable={this.props.groupable ? true : false}\r\n                            detail={this.props.hideDetailBand ? false : this.detailBand}\r\n                            expandField=\"expanded\"\r\n                            onExpandChange={this.expandChange}\r\n                            data={this.props.dataResult}\r\n                            total={this.props.total}\r\n                            {...this.props.dataState}\r\n                            selectedField=\"selected\"\r\n                            onRowClick={this.props.handleRowClick}\r\n                            onSelectionChange={this.props.selectionChange}\r\n                            onHeaderSelectionChange={this.props.headerSelectionChange}\r\n                            onDataStateChange={this.props.dataStateChange}\r\n                            selectable={{\r\n                                enabled: true,\r\n                                drag: false,\r\n                                cell: false,\r\n                                mode: 'multiple'\r\n                            }}\r\n                        >\r\n                            <GridNoRecords>\r\n                                {this.props.intl.formatMessage({ id: \"IDS_NORECORDSAVAILABLE\" })}\r\n                            </GridNoRecords>\r\n                            {this.props.isToolBarRequired ?\r\n                                <GridToolbar>\r\n                                    {/* {this.props.isExpandRequired === true ?\r\n\r\n                                        <Nav.Link className=\"p-0\" name=\"gridexpand\" onClick={() => this.expandData()}>\r\n                                            {this.props.intl.formatMessage({\r\n                                                id: this.props.Login.change ? \"IDS_COLLAPSE\" : \"IDS_EXPAND\"\r\n\r\n                                            })}\r\n                                        </Nav.Link>\r\n\r\n                                        : \"\"} */}\r\n                                    {this.props.isExpandRequired === true ?\r\n                                        <button className=\"btn btn-primary btn-padd-custom\" href=\"#\" style={{marginRight:\"8px\"}}\r\n                                            //    data-for=\"tooltip_list_wrap\"\r\n                                            onClick={() => this.expandData()} >\r\n\r\n                                            {this.props.intl.formatMessage({\r\n                                                id: this.props.Login.change ? \"IDS_COLLAPSE\" : \"IDS_EXPAND\"\r\n\r\n                                            })}                                                                </button>\r\n                                        : \"\"}\r\n                                    {this.props.isReleaseRequired === false ? \"\" :\r\n                                        <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" variant=\"link\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_RELEASE\" })}\r\n                                            data-for=\"tooltip-grid-wrap\"\r\n                                            hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(releaseId) === -1}\r\n                                            onClick={() => this.props.releaseRecord({userInfo:this.props.userInfo})}>\r\n                                            <FontAwesomeIcon icon={faRocket} />\r\n                                        </Button>\r\n                                    }\r\n                                    {this.props.isRefreshRequired === false ? \"\" :\r\n                                        <Button className=\"btn btn-circle outline-grey\" variant=\"link\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}\r\n                                            data-for=\"tooltip-grid-wrap\"\r\n                                            onClick={() => this.props.reloadData()}>\r\n                                            <FontAwesomeIcon icon={faSync} />\r\n                                        </Button>\r\n                                    }\r\n                                </GridToolbar>\r\n                                : \"\"}\r\n\r\n                            <Column\r\n\r\n                                field=\"selected\"\r\n                            //    width=\"45px\"\r\n                                title={this.props.title}\r\n                                //    headerSelectionValue={false}\r\n                                headerSelectionValue={this.props.dataResult.data && this.props.dataResult.data.length === 0 ? false : this.props.dataResult.data && this.props.dataResult.data.every((data) => {\r\n                                    return data.selected === true\r\n                                }) ? true : false} />\r\n\r\n                            {this.props.extractedColumnList.map((item, index) =>\r\n                                <Column key={index}\r\n                                    title={this.props.intl.formatMessage({ id: item.idsName })}\r\n                                    //  {...this.columnProps(item.dataField)}\r\n                                    width={item.width}\r\n                                    cell={(row) => (\r\n                                        <td data-tip={row[\"dataItem\"][item.dataField]}>\r\n                                            {item.isIdsField ?\r\n                                                <FormattedMessage id={row[\"dataItem\"][item.dataField]} defaultMessage={row[\"dataItem\"][item.dataField]} />\r\n                                                : row[\"dataItem\"][item.dataField]}\r\n                                        </td>\r\n                                    )} />\r\n                            )}\r\n\r\n\r\n                        </Grid>\r\n                    </LocalizationProvider >\r\n\r\n                </AtTableWrap >\r\n            </>\r\n        );\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        ReactTooltip.rebuild();\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, { updateStore })(injectIntl(DataGridWithMultipleGrid));"]},"metadata":{},"sourceType":"module"}