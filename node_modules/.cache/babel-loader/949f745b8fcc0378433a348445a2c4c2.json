{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useRef}from\"react\";import{useDrag}from\"react-dnd\";import{COLUMN}from\"./constants\";import DropArea from\"./DropArea.jsx\";import\"./styles.css\";import Componentrow from\"./Componentrow\";var style={};var Column=function Column(_ref){var data=_ref.data,components=_ref.components,baselength=_ref.baselength,handleDrop=_ref.handleDrop,validateDrop=_ref.validateDrop,path=_ref.path,onclickcomponent=_ref.onclickcomponent,deleteInput=_ref.deleteInput,selectedFieldRecord=_ref.selectedFieldRecord,slanguagetypecode=_ref.slanguagetypecode;var ref=useRef(null);var mandatoryCheck=[];var _useDrag=useDrag({type:COLUMN,item:{type:COLUMN,id:data.id,children:data.children,path:path},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=_slicedToArray(_useDrag,2),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1];var opacity=isDragging?0:1;drag(ref);var renderComponent=function renderComponent(component,currentPath){return/*#__PURE__*/React.createElement(Componentrow,{key:component.id,data:component,baselength:baselength,components:components,path:currentPath,handleDrop:handleDrop,deleteInput:deleteInput,validateDrop:validateDrop,onclickcomponent:onclickcomponent,selectedFieldRecord:selectedFieldRecord,slanguagetypecode:slanguagetypecode});};return/*#__PURE__*/React.createElement(\"div\",{class:\"position-relative column\"},data.children&&data.children.map(function(item){if(item.children){item.children.map(function(item2){if(item2.templatemandatory){mandatoryCheck.push(item2.templatemandatory);}});}else{if(item.templatemandatory){mandatoryCheck.push(item.templatemandatory);}}}),mandatoryCheck.length===0&&/*#__PURE__*/React.createElement(\"a\",{class:\"position-absolute delete-dynamic-row\",onClick:function onClick(e){return deleteInput(e,data,{type:COLUMN,id:data.id,data:data,path:path});}},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-times-circle\",\"aria-hidden\":\"true\"})),/*#__PURE__*/React.createElement(\"div\",{ref:ref,style:_objectSpread(_objectSpread({},style),{},{opacity:opacity}),className:\"base draggable\"},data.children?data.children.map(function(component,index){var currentPath=\"\".concat(path,\"-\").concat(index);return/*#__PURE__*/React.createElement(React.Fragment,{key:component.id},/*#__PURE__*/React.createElement(DropArea,{data:{path:currentPath,childrenCount:data.children.length},onDrop:handleDrop}),renderComponent(component,currentPath));}):\"\",/*#__PURE__*/React.createElement(DropArea,{data:{path:\"\".concat(path,\"-\").concat(data.children.length),childrenCount:data.children.length},onDrop:handleDrop,deleteInput:deleteInput,isLast:true})));};export default Column;","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/droparea/Column.jsx"],"names":["React","useRef","useDrag","COLUMN","DropArea","Componentrow","style","Column","data","components","baselength","handleDrop","validateDrop","path","onclickcomponent","deleteInput","selectedFieldRecord","slanguagetypecode","ref","mandatoryCheck","type","item","id","children","collect","monitor","isDragging","drag","opacity","renderComponent","component","currentPath","map","item2","templatemandatory","push","length","e","index","childrenCount"],"mappings":"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","sourcesContent":["import React, { useRef } from \"react\";\r\nimport { useDrag } from \"react-dnd\";\r\nimport { COLUMN } from \"./constants\";\r\nimport DropArea from \"./DropArea.jsx\";\r\nimport \"./styles.css\"\r\nimport Componentrow from \"./Componentrow\";\r\n\r\nconst style = {};\r\nconst Column = ({ data, components, baselength, handleDrop, validateDrop, path, onclickcomponent, deleteInput, selectedFieldRecord,  slanguagetypecode }) => {\r\n  const ref = useRef(null);\r\n  const mandatoryCheck = [];\r\n  const [{ isDragging }, drag] = useDrag({\r\n    \r\n    type: COLUMN,\r\n    item: {\r\n      type: COLUMN,\r\n      id: data.id,\r\n      children: data.children,\r\n      path\r\n    },\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging()\r\n    })\r\n  });\r\n\r\n  const opacity = isDragging ? 0 : 1;\r\n  drag(ref);\r\n\r\n  const renderComponent = (component, currentPath) => {\r\n      return (\r\n      <Componentrow\r\n        key={component.id}\r\n        data={component}\r\n        baselength= {baselength}\r\n        components={components}\r\n        path={currentPath}\r\n        handleDrop={handleDrop}\r\n        deleteInput={deleteInput}\r\n        validateDrop={validateDrop}\r\n        onclickcomponent={onclickcomponent}\r\n        selectedFieldRecord={selectedFieldRecord}\r\n        slanguagetypecode={slanguagetypecode}\r\n        >\r\n              </Componentrow>\r\n    );\r\n  };\r\n\r\n    return (\r\n        <div class=\"position-relative column\">\r\n          {data.children && data.children.map(item=>{\r\n            if(item.children){\r\n                item.children.map(item2=>{\r\n                  if(item2.templatemandatory){\r\n                    mandatoryCheck.push(item2.templatemandatory);\r\n                   }\r\n                })\r\n            }else{\r\n              if(item.templatemandatory){\r\n                mandatoryCheck.push(item.templatemandatory);\r\n               }\r\n            }\r\n          })}\r\n        {mandatoryCheck.length === 0 &&\r\n                <a class=\"position-absolute delete-dynamic-row\" onClick={(e) => deleteInput(e,data, {\r\n                  type: COLUMN,\r\n                  id: data.id,\r\n                  data: data,\r\n                  path\r\n              })}><i class=\"fa fa-times-circle\" aria-hidden=\"true\"></i></a>\r\n        }\r\n          \r\n        \r\n      \r\n    <div\r\n      ref={ref}\r\n      style={{ ...style, opacity }}\r\n      className=\"base draggable\"\r\n\r\n      >\r\n\r\n          \r\n      {/* {\"Column\"} */}\r\n      {data.children ? data.children.map((component, index) => {\r\n        const currentPath = `${path}-${index}`;\r\n\r\n        return (\r\n            <React.Fragment key={component.id}>\r\n            <DropArea\r\n              data={{\r\n                path: currentPath,\r\n                childrenCount: data.children.length\r\n              }}\r\n              onDrop={handleDrop}\r\n            />\r\n            {renderComponent(component, currentPath)}\r\n          </React.Fragment>\r\n        );\r\n      }) : \"\"}\r\n      <DropArea\r\n        data={{\r\n          path: `${path}-${data.children.length}`,\r\n          childrenCount: data.children.length\r\n        }}\r\n              onDrop={handleDrop}\r\n              deleteInput={deleteInput}\r\n        isLast\r\n      />\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Column;\r\n"]},"metadata":{},"sourceType":"module"}