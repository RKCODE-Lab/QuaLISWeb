{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{FormattedMessage,injectIntl}from'react-intl';import{Row,Col,Card,FormGroup,FormLabel,Nav,Image}from'react-bootstrap';import{Grid,GridColumn,GridColumnMenuFilter,GridNoRecords}from'@progress/kendo-react-grid';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{//faCalculator, \nfaCloudDownloadAlt,faEye,faListAlt,faPencilAlt}from'@fortawesome/free-solid-svg-icons';//import { Tooltip } from '@progress/kendo-react-tooltip';\nimport ColumnMenu from'../../components/data-grid/ColumnMenu';import{attachmentType,parameterType}from'../../components/Enumeration';import SimpleGrid from'../../components/data-grid/SimpleGrid';import enforcestatus from\"../../assets/image/enforcestatus.svg\";import{AtTableWrap,FontIconWrap,FormControlStatic}from'../../components/data-grid/data-grid.styles';// import ReactTooltip from 'react-tooltip';\nimport{LocalizationProvider}from'@progress/kendo-react-intl';import{connect}from'react-redux';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var ResultGrid=/*#__PURE__*/function(_React$Component){_inherits(ResultGrid,_React$Component);var _super=_createSuper(ResultGrid);function ResultGrid(){var _this;_classCallCheck(this,ResultGrid);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleClickDelete=function(deleteParam){_this.props.deleteRecord(deleteParam);};_this.expandChange=function(event){var isExpanded=event.dataItem.expanded===undefined?event.dataItem.aggregates:event.dataItem.expanded;if(_this.props.hasChild&&event.value===true){event.dataItem.expanded=!isExpanded;_this.props.handleExpandChange(event,_this.props.dataState);}else{event.dataItem.expanded=!isExpanded;_this.setState({isExpanded:isExpanded});}};_this.detailBand=function(props){return/*#__PURE__*/React.createElement(Row,{bsPrefix:\"margin_class\"},/*#__PURE__*/React.createElement(Col,{md:12},_this.props.hasChild?/*#__PURE__*/React.createElement(SimpleGrid,{childList:_this.props.childList.get(parseInt(props.dataItem[_this.props.childMappingField]))||[],extractedColumnList:_this.props.childColumnList}):/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_MOREINFO\",message:\"More Info\"})),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Row,null,_this.props.detailedFieldList.map(function(item,key){var validationtype=true;if(item.istypeValidation){if(props.dataItem['nparametertypecode']!==parameterType.NUMERIC){validationtype=false;}}if(validationtype){return/*#__PURE__*/React.createElement(Col,{md:item.isDecsriptionField?6:4,key:key},props.dataItem['nparametertypecode']===parameterType.PREDEFINED&&item.dataField==='spredefinedcomments'?/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:item.idsName,message:item.idsName}),item.needHistoryButton?/*#__PURE__*/React.createElement(Nav.Link,{name:\"enforcestatuscomments\",className:\"btn btn-circle outline-grey mr-2 ml-1\",\"data-tip\":_this.props.intl.formatMessage({id:item.buttonTitle})//   data-for=\"tooltip_grid_wrap\"\n,onClick:function onClick(){return item.onClickButton(props.dataItem,_this.props.masterData,_this.props.userInfo);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}))// <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\n//         style={{ display: \"inline-block\" }} >\n//     <FontIconWrap className=\"d-font-icon p-1\" title={this.props.intl.formatMessage({ id: item.buttonTitle })}>\n//         <FontAwesomeIcon\n//             icon={faEye}\n//             onClick={() => item.onClickButton(props.dataItem, this.props.masterData, this.props.userInfo)}\n//         >\n//         </FontAwesomeIcon>\n//     </FontIconWrap>\n// </Nav.Link>\n:\"\"),/*#__PURE__*/React.createElement(FormControlStatic,null,props.dataItem[item.dataField]===undefined||props.dataItem[item.dataField]===null||props.dataItem[item.dataField].length===0?'-':item.isIdsField?/*#__PURE__*/React.createElement(FormattedMessage,{id:props.dataItem[item.dataField],message:props.dataItem[item.dataField]}):props.dataItem[item.dataField]),/*#__PURE__*/React.createElement(FontIconWrap,{className:\"d-font-icon\",\"data-place\":\"left\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_EDITPREFINEDCOMMENTS\"}),hidden:_this.props.userRoleControlRights&&_this.props.userRoleControlRights.indexOf(_this.props.controlMap.has(\"EditPredefinedComments\")&&_this.props.controlMap.get(\"EditPredefinedComments\").ncontrolcode)===-1,onClick:function onClick(){return _this.props.editpredefinedcomments(props.dataItem);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt}))):item.dataField==='spredefinedcomments'?\"\":/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:item.idsName,message:item.idsName}),item.needHistoryButton?/*#__PURE__*/React.createElement(Nav.Link,{name:\"enforcestatuscomments\",className:\"btn btn-circle outline-grey mr-2 ml-1\",\"data-tip\":_this.props.intl.formatMessage({id:item.buttonTitle})//   data-for=\"tooltip_grid_wrap\"\n,onClick:function onClick(){return item.onClickButton(props.dataItem,_this.props.masterData,_this.props.userInfo);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}))// <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\n//         style={{ display: \"inline-block\" }} >\n//     <FontIconWrap className=\"d-font-icon p-1\" title={this.props.intl.formatMessage({ id: item.buttonTitle })}>\n//         <FontAwesomeIcon\n//             icon={faEye}\n//             onClick={() => item.onClickButton(props.dataItem, this.props.masterData, this.props.userInfo)}\n//         >\n//         </FontAwesomeIcon>\n//     </FontIconWrap>\n// </Nav.Link>\n:\"\"),/*#__PURE__*/React.createElement(FormControlStatic,null,props.dataItem[item.dataField]===undefined||props.dataItem[item.dataField]===null||props.dataItem[item.dataField].length===0?'-':item.isIdsField?/*#__PURE__*/React.createElement(FormattedMessage,{id:props.dataItem[item.dataField],message:props.dataItem[item.dataField]}):props.dataItem[item.dataField])));}}))))),\" \");};return _this;}_createClass(ResultGrid,[{key:\"columnProps\",value:function columnProps(field){if(!this.props.hideColumnFilter){return{field:field,columnMenu:ColumnMenu//headerClassName: this.isColumnActive(field, this.props.dataState) ? 'active' : ''\n};}}},{key:\"isColumnActive\",value:function isColumnActive(field,dataState){return GridColumnMenuFilter.active(field,dataState.filter);}},{key:\"render\",value:function render(){var _this2=this;//const methodUrl = this.props.methodUrl ? this.props.methodUrl : (this.props.inputParam && this.props.inputParam.methodUrl);\nvar editId=this.props.controlMap.has(\"AddParameterComments\")&&this.props.controlMap.get(\"AddParameterComments\").ncontrolcode;var enforceStatusID=this.props.controlMap.has(\"EnforceStatus\")&&this.props.controlMap.get(\"EnforceStatus\").ncontrolcode;var checklistID=this.props.controlMap.has(\"EditChecklist\")?this.props.controlMap.get(\"EditChecklist\").ncontrolcode:-1;var selectedId=this.props.selectedId;var pageSizes=this.props.pageSizes?this.props.pageSizes:this.props.Login.settings&&this.props.Login.settings[15].split(\",\").map(function(setting){return parseInt(setting);});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AtTableWrap,{className:\"at-list-table\",actionColWidth:this.props.actionColWidth?this.props.actionColWidth:\"150px\"},/*#__PURE__*/React.createElement(LocalizationProvider,{language:this.props.Login.userInfo.slanguagetypecode},/*#__PURE__*/React.createElement(Grid,Object.assign({style:{height:this.props.gridHeight},sortable:true,resizable:true,reorderable:false,scrollable:this.props.scrollable,pageable:this.props.pageable?{buttonCount:4,pageSizes:pageSizes,previousNext:false}:\"\",groupable:this.props.groupable?true:false,detail:this.detailBand,expandField:this.props.expandField?this.props.expandField:false,onExpandChange:this.expandChange,data:this.props.dataResult},this.props.dataState,{selectedField:\"selected\",onRowClick:this.props.handleRowClick,onDataStateChange:this.props.dataStateChange}),/*#__PURE__*/React.createElement(GridNoRecords,null,this.props.intl.formatMessage({id:\"IDS_NORECORDSAVAILABLE\"})),this.props.extractedColumnList.map(function(item,index){return/*#__PURE__*/React.createElement(GridColumn,Object.assign({key:index// data-tip={this.props.intl.formatMessage({ id: item.idsName })}\n,title:_this2.props.intl.formatMessage({id:item.idsName})},_this2.columnProps(item.dataField),{width:item.width,cell:function cell(row){return/*#__PURE__*/React.createElement(React.Fragment,null,item.fieldType===\"attachment\"&&row[\"dataItem\"]['nparametertypecode']===parameterType.ATTACHMENT&&row[\"dataItem\"]['nattachmenttypecode']===attachmentType.FTP?row.rowType===\"groupHeader\"?null:/*#__PURE__*/React.createElement(\"td\",{\"data-tip\":row[\"dataItem\"][item.dataField],className:selectedId===row[\"dataItem\"][_this2.props.primaryKeyField]?'active':''},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCloudDownloadAlt,title:_this2.props.intl.formatMessage({id:\"IDS_DOWNLOADFILE\"}),onClick:function onClick(){return _this2.props.viewFile(_objectSpread(_objectSpread({},_this2.props.attachmentParam),{},{inputData:{selectedRecord:row[\"dataItem\"],userinfo:_this2.props.userInfo}}),row);}}),\" \",row[\"dataItem\"][item.dataField]):item.fieldType===\"attachment\"&&row[\"dataItem\"]['nattachmenttypecode']===attachmentType.LINK?row.rowType===\"groupHeader\"?null:/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{href:row[\"dataItem\"][item.dataField],style:{cursor:\"pointer\"},onClick:function onClick(){return _this2.props.viewFile(_objectSpread(_objectSpread({},_this2.props.attachmentParam),{},{inputData:{selectedRecord:row[\"dataItem\"],userinfo:_this2.props.userInfo}}),row);}},row[\"dataItem\"][item.dataField])):item.fieldType===\"checklistview\"?row.rowType===\"groupHeader\"?null:row[\"dataItem\"][item.checklistKey]>0?/*#__PURE__*/React.createElement(\"td\",{\"data-tip\":row[\"dataItem\"][item.dataField]//data-for=\"tooltip_grid_wrap\" \n,className:selectedId===row[\"dataItem\"][_this2.props.primaryKeyField]?'active':''},/*#__PURE__*/React.createElement(FontIconWrap,{className:\"d-font-icon\"// data-for=\"tooltip-grid-wrap\" \n// data-for=\"tooltip-grid-wrap\" \n// onClick={() => this.props.viewFile({ ...this.props.attachmentParam, inputData: { selectedRecord: row[\"dataItem\"], userinfo: this.props.userInfo } }, row)}\n,needSaveButton:true,onClick:function onClick(){return _this2.props.checkListRecord(_objectSpread(_objectSpread({},_this2.props.checklistParam),{},{selectedRecord:row[\"dataItem\"],ncontrolcode:checklistID,needSaveButton:!(_this2.props.userRoleControlRights&&_this2.props.userRoleControlRights.indexOf(checklistID)===-1)}),row);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faListAlt})),\" \",row[\"dataItem\"][item.dataField]):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"td\",{\"data-tip\":row[\"dataItem\"][item.dataField]//  data-for=\"tooltip_grid_wrap\" \n,className:selectedId===row[\"dataItem\"][_this2.props.primaryKeyField]?'active':''},row[\"dataItem\"][item.dataField])):item.fieldType===\"gradeColumn\"?row.rowType===\"groupHeader\"?null:/*#__PURE__*/React.createElement(\"td\",{\"data-tip\":row[\"dataItem\"][item.dataField]// data-for=\"tooltip_grid_wrap\"\n,className:\"\".concat(selectedId===row[\"dataItem\"][_this2.props.primaryKeyField]?'active':''),style:{color:[row[\"dataItem\"]['scolorhexcode']]}},row[\"dataItem\"][item.dataField]):/*#__PURE__*/React.createElement(\"td\",{\"data-tip\":row[\"dataItem\"][item.dataField]//data-for=\"tooltip_grid_wrap\" \n,className:selectedId===row[\"dataItem\"][_this2.props.primaryKeyField]?'active':''},item.isIdsField?/*#__PURE__*/React.createElement(FormattedMessage,{id:row[\"dataItem\"][item.dataField],defaultMessage:row[\"dataItem\"][item.dataField]}):row[\"dataItem\"][item.dataField]));}}));}),this.props.isActionRequired?/*#__PURE__*/React.createElement(GridColumn,{locked:true,headerClassName:\"text-center\",title:this.props.intl.formatMessage({id:'IDS_ACTION'}),sort:false,cell:function cell(row){return row.rowType===\"groupHeader\"?null:/*#__PURE__*/React.createElement(\"td\",{className:\"k-grid-content-sticky k-command-cell selectedId === row[\\\"dataItem\\\"][this.props.primaryKeyField] ? 'active' : ''\",style:{left:'0',right:'0',borderRightWidth:'1px',textAlign:'center'}},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Nav.Link,{className:\"action-icons-wrap\"},/*#__PURE__*/React.createElement(FontIconWrap,{className:\"d-font-icon\"// data-for=\"tooltip_grid_wrap\" \n,\"data-place\":\"left\",\"data-tip\":_this2.props.intl.formatMessage({id:\"IDS_PARAMETERCOMMENTS\"}),hidden:_this2.props.userRoleControlRights&&_this2.props.userRoleControlRights.indexOf(editId)===-1,onClick:function onClick(){return _this2.props.fetchRecord(_objectSpread(_objectSpread({},_this2.props.editParam),{},{primaryKeyValue:row[\"dataItem\"][_this2.props.editParam.primaryKeyField],selectedRecord:row[\"dataItem\"],controlcode:editId}));}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(FontIconWrap,{className:\"d-font-icon\"// data-for=\"tooltip_grid_wrap\" \n,\"data-place\":\"left\",\"data-tip\":_this2.props.intl.formatMessage({id:\"IDS_ENFORCESTATUS\"})},/*#__PURE__*/React.createElement(Image,{src:enforcestatus,alt:\"filer-icon\",width:\"20\",height:\"20\",className:\"ActionIconColor img-normalize\",hidden:_this2.props.userRoleControlRights&&_this2.props.userRoleControlRights.indexOf(enforceStatusID)===-1,onClick:function onClick(){return _this2.props.fetchRecord(_objectSpread(_objectSpread({},_this2.props.editParam),{},{primaryKeyValue:row[\"dataItem\"][_this2.props.editParam.primaryKeyField],editRow:row[\"dataItem\"]}));}})))));}}):\"\"))));}}]);return ResultGrid;}(React.Component);export default connect(mapStateToProps,undefined)(injectIntl(ResultGrid));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/resultgrid/ResultGrid.jsx"],"names":["React","FormattedMessage","injectIntl","Row","Col","Card","FormGroup","FormLabel","Nav","Image","Grid","GridColumn","GridColumnMenuFilter","GridNoRecords","FontAwesomeIcon","faCloudDownloadAlt","faEye","faListAlt","faPencilAlt","ColumnMenu","attachmentType","parameterType","SimpleGrid","AtTableWrap","FontIconWrap","FormControlStatic","LocalizationProvider","connect","mapStateToProps","state","Login","ResultGrid","handleClickDelete","deleteParam","props","deleteRecord","expandChange","event","isExpanded","dataItem","expanded","undefined","aggregates","hasChild","value","handleExpandChange","dataState","setState","detailBand","childList","get","parseInt","childMappingField","childColumnList","detailedFieldList","map","item","key","validationtype","istypeValidation","NUMERIC","isDecsriptionField","PREDEFINED","dataField","idsName","needHistoryButton","intl","formatMessage","id","buttonTitle","onClickButton","masterData","userInfo","length","isIdsField","userRoleControlRights","indexOf","controlMap","has","ncontrolcode","editpredefinedcomments","field","hideColumnFilter","columnMenu","active","filter","editId","enforceStatusID","checklistID","selectedId","pageSizes","settings","split","setting","actionColWidth","slanguagetypecode","height","gridHeight","scrollable","pageable","buttonCount","previousNext","groupable","expandField","dataResult","handleRowClick","dataStateChange","extractedColumnList","index","columnProps","width","row","fieldType","ATTACHMENT","FTP","rowType","primaryKeyField","viewFile","attachmentParam","inputData","selectedRecord","userinfo","LINK","cursor","checklistKey","checkListRecord","checklistParam","needSaveButton","color","isActionRequired","left","right","borderRightWidth","textAlign","fetchRecord","editParam","primaryKeyValue","controlcode","enforcestatus","editRow","Component"],"mappings":"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","sourcesContent":["\r\nimport React from 'react';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { Row, Col, Card, FormGroup, FormLabel, Nav, Image } from 'react-bootstrap';\r\nimport { Grid, GridColumn, GridColumnMenuFilter, GridNoRecords } from '@progress/kendo-react-grid';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { //faCalculator, \r\n    faCloudDownloadAlt, faEye, faListAlt, faPencilAlt\r\n} from '@fortawesome/free-solid-svg-icons';\r\n//import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport ColumnMenu from '../../components/data-grid/ColumnMenu';\r\nimport { attachmentType, parameterType } from '../../components/Enumeration';\r\nimport SimpleGrid from '../../components/data-grid/SimpleGrid';\r\nimport enforcestatus from '../../assets/image/enforcestatus.svg'\r\nimport { AtTableWrap, FontIconWrap, FormControlStatic } from '../../components/data-grid/data-grid.styles';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport {  LocalizationProvider } from '@progress/kendo-react-intl';\r\nimport { connect } from 'react-redux';\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\nclass ResultGrid extends React.Component {\r\n    columnProps(field) {\r\n        if (!this.props.hideColumnFilter) {\r\n            return {\r\n                field: field,\r\n                columnMenu: ColumnMenu,\r\n                //headerClassName: this.isColumnActive(field, this.props.dataState) ? 'active' : ''\r\n            };\r\n        }\r\n    }\r\n\r\n    isColumnActive(field, dataState) {\r\n        return GridColumnMenuFilter.active(field, dataState.filter)\r\n    }\r\n\r\n    handleClickDelete = (deleteParam) => {\r\n        this.props.deleteRecord(deleteParam);\r\n    }\r\n    expandChange = (event) => {\r\n        const isExpanded =\r\n            event.dataItem.expanded === undefined ?\r\n                event.dataItem.aggregates : event.dataItem.expanded;\r\n\r\n        if (this.props.hasChild && event.value === true) {\r\n            event.dataItem.expanded = !isExpanded;\r\n            this.props.handleExpandChange(event, this.props.dataState)\r\n        }\r\n        else {\r\n            event.dataItem.expanded = !isExpanded;\r\n            this.setState({ isExpanded });\r\n        }\r\n    }\r\n    detailBand = (props) => {\r\n        return (\r\n            <Row bsPrefix=\"margin_class\">\r\n                <Col md={12}>\r\n                    {this.props.hasChild ?\r\n                        <SimpleGrid childList={this.props.childList.get(parseInt(props.dataItem[this.props.childMappingField])) || []}\r\n                            extractedColumnList={this.props.childColumnList} />\r\n                        :\r\n                        <Card>\r\n                            <Card.Header><FormattedMessage id=\"IDS_MOREINFO\" message=\"More Info\" /></Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    {this.props.detailedFieldList.map((item, key) => {\r\n                                        let validationtype = true;\r\n                                        if (item.istypeValidation) {\r\n                                            if (props.dataItem['nparametertypecode'] !== parameterType.NUMERIC) {\r\n                                                validationtype = false;\r\n                                            }\r\n                                        }\r\n\r\n                                        if (validationtype) {\r\n                                            return (\r\n                                                <Col md={item.isDecsriptionField ? 6 : 4} key={key}>\r\n                                                    { props.dataItem['nparametertypecode'] === parameterType.PREDEFINED && item.dataField==='spredefinedcomments'?  \r\n                                                    <FormGroup>\r\n                                                        <FormLabel>\r\n                                                            <FormattedMessage id={item.idsName} message={item.idsName} />\r\n                                                            {item.needHistoryButton ?\r\n                                                                <Nav.Link name={\"enforcestatuscomments\"}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2 ml-1\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: item.buttonTitle })}\r\n                                                                         //   data-for=\"tooltip_grid_wrap\"\r\n                                                                            onClick={() => item.onClickButton(props.dataItem, this.props.masterData, this.props.userInfo)}\r\n                                                                            >\r\n                                                                <FontAwesomeIcon icon={faEye}   />\r\n                                                                </Nav.Link> \r\n                                                                // <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                //         style={{ display: \"inline-block\" }} >\r\n                                                                //     <FontIconWrap className=\"d-font-icon p-1\" title={this.props.intl.formatMessage({ id: item.buttonTitle })}>\r\n                                                                //         <FontAwesomeIcon\r\n                                                                //             icon={faEye}\r\n                                                                //             onClick={() => item.onClickButton(props.dataItem, this.props.masterData, this.props.userInfo)}\r\n                                                                //         >\r\n                                                                //         </FontAwesomeIcon>\r\n                                                                //     </FontIconWrap>\r\n                                                                // </Nav.Link>\r\n                                                                : \"\"}\r\n                                                        </FormLabel>\r\n                                                        <FormControlStatic>\r\n                                                            {props.dataItem[item.dataField] === undefined || props.dataItem[item.dataField] === null || props.dataItem[item.dataField].length === 0 ? '-' :\r\n                                                                item.isIdsField ? <FormattedMessage id={props.dataItem[item.dataField]} message={props.dataItem[item.dataField]} /> : props.dataItem[item.dataField]}\r\n                                                        </FormControlStatic>\r\n                                                        <FontIconWrap className=\"d-font-icon\" \r\n                                                          data-place=\"left\" data-tip={this.props.intl.formatMessage({ id: \"IDS_EDITPREFINEDCOMMENTS\" })}\r\n                                                          hidden={this.props.userRoleControlRights &&\r\n                                                             this.props.userRoleControlRights.indexOf(this.props.controlMap.has(\"EditPredefinedComments\")\r\n                                                             && this.props.controlMap.get(\"EditPredefinedComments\").ncontrolcode) === -1}\r\n                                                          onClick={() => this.props.editpredefinedcomments(props.dataItem)\r\n                                                           }\r\n                                                         >\r\n                                                       <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                        </FontIconWrap> \r\n                                                    </FormGroup>:\r\n                                                       item.dataField==='spredefinedcomments'? \"\"  :\r\n                                                       <FormGroup>\r\n                                                       <FormLabel>\r\n                                                           <FormattedMessage id={item.idsName} message={item.idsName} />\r\n                                                           {item.needHistoryButton ?\r\n                                                               <Nav.Link name={\"enforcestatuscomments\"}\r\n                                                                           className=\"btn btn-circle outline-grey mr-2 ml-1\"\r\n                                                                           data-tip={this.props.intl.formatMessage({ id: item.buttonTitle })}\r\n                                                                        //   data-for=\"tooltip_grid_wrap\"\r\n                                                                           onClick={() => item.onClickButton(props.dataItem, this.props.masterData, this.props.userInfo)}\r\n                                                                           >\r\n                                                               <FontAwesomeIcon icon={faEye}   />\r\n                                                               </Nav.Link> \r\n                                                               // <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                               //         style={{ display: \"inline-block\" }} >\r\n                                                               //     <FontIconWrap className=\"d-font-icon p-1\" title={this.props.intl.formatMessage({ id: item.buttonTitle })}>\r\n                                                               //         <FontAwesomeIcon\r\n                                                               //             icon={faEye}\r\n                                                               //             onClick={() => item.onClickButton(props.dataItem, this.props.masterData, this.props.userInfo)}\r\n                                                               //         >\r\n                                                               //         </FontAwesomeIcon>\r\n                                                               //     </FontIconWrap>\r\n                                                               // </Nav.Link>\r\n                                                               : \"\"}\r\n                                                       </FormLabel>\r\n                                                       <FormControlStatic>\r\n                                                           {props.dataItem[item.dataField] === undefined || props.dataItem[item.dataField] === null || props.dataItem[item.dataField].length === 0 ? '-' :\r\n                                                               item.isIdsField ? <FormattedMessage id={props.dataItem[item.dataField]} message={props.dataItem[item.dataField]} /> : props.dataItem[item.dataField]}\r\n                                                       </FormControlStatic> \r\n                                                   </FormGroup>}\r\n                                                </Col>\r\n                                            )\r\n                                        }\r\n                                    })}\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card>}\r\n                </Col> </Row>\r\n        )\r\n    }\r\n    render() {\r\n   \r\n        //const methodUrl = this.props.methodUrl ? this.props.methodUrl : (this.props.inputParam && this.props.inputParam.methodUrl);\r\n\r\n        const editId = this.props.controlMap.has(\"AddParameterComments\")\r\n            && this.props.controlMap.get(\"AddParameterComments\").ncontrolcode;\r\n\r\n        const enforceStatusID = this.props.controlMap.has(\"EnforceStatus\")\r\n            && this.props.controlMap.get(\"EnforceStatus\").ncontrolcode;\r\n\r\n        const checklistID = this.props.controlMap.has(\"EditChecklist\")\r\n            ? this.props.controlMap.get(\"EditChecklist\").ncontrolcode : -1;\r\n\r\n        const selectedId = this.props.selectedId;\r\n\r\n        const pageSizes = this.props.pageSizes ? this.props.pageSizes : this.props.Login.settings && this.props.Login.settings[15].split(\",\").map(setting => parseInt(setting))\r\n\r\n        return (\r\n            <>\r\n                <AtTableWrap className=\"at-list-table\" actionColWidth={this.props.actionColWidth ? this.props.actionColWidth : \"150px\"} >\r\n                <LocalizationProvider language={this.props.Login.userInfo.slanguagetypecode}>\r\n                {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_grid_wrap\" /> */}\r\n                    {/* <Tooltip openDelay={100} position=\"bottom\" tooltipClassName=\"ad-tooltip\" anchorElement=\"element\" parentTitle={true}> */}\r\n                    <Grid\r\n                        style={{ height: this.props.gridHeight }}\r\n                        sortable\r\n                        resizable\r\n                        reorderable={false}\r\n                        scrollable={this.props.scrollable}\r\n                        pageable={this.props.pageable ? { buttonCount: 4, pageSizes: pageSizes, previousNext: false } : \"\"}\r\n                        groupable={this.props.groupable ? true : false}\r\n                        detail={this.detailBand}\r\n                        expandField={this.props.expandField ? this.props.expandField : false}\r\n                        onExpandChange={this.expandChange}\r\n                        data={this.props.dataResult}\r\n                        {...this.props.dataState}\r\n                        selectedField=\"selected\"\r\n                        onRowClick={this.props.handleRowClick}\r\n                        onDataStateChange={this.props.dataStateChange}>\r\n                        <GridNoRecords>\r\n                         {this.props.intl.formatMessage({ id: \"IDS_NORECORDSAVAILABLE\" })}\r\n                        </GridNoRecords>\r\n                        {this.props.extractedColumnList.map((item, index) =>\r\n\r\n                            <GridColumn key={index}\r\n                                // data-tip={this.props.intl.formatMessage({ id: item.idsName })}\r\n                                title={this.props.intl.formatMessage({ id: item.idsName })}\r\n                                {...this.columnProps(item.dataField)}\r\n                                width={item.width}\r\n                                cell={(row) => (\r\n                                    <>\r\n                                        {item.fieldType === \"attachment\" && row[\"dataItem\"]['nparametertypecode'] === parameterType.ATTACHMENT &&\r\n                                            row[\"dataItem\"]['nattachmenttypecode'] === attachmentType.FTP ?\r\n                                            row.rowType === \"groupHeader\" ? null :\r\n                                                <td data-tip={row[\"dataItem\"][item.dataField]} className={selectedId === row[\"dataItem\"][this.props.primaryKeyField] ? 'active' : ''}>\r\n                                                    {/* <ReactTooltip /> */}\r\n                                                    <FontAwesomeIcon icon={faCloudDownloadAlt} title={this.props.intl.formatMessage({ id: \"IDS_DOWNLOADFILE\" })}\r\n                                                        onClick={() => this.props.viewFile({ ...this.props.attachmentParam, inputData: { selectedRecord: row[\"dataItem\"], userinfo: this.props.userInfo } }, row)}\r\n                                                    />{\" \"}\r\n                                                    {row[\"dataItem\"][item.dataField]}\r\n                                                </td>\r\n\r\n                                            :\r\n                                            item.fieldType === \"attachment\" && row[\"dataItem\"]['nattachmenttypecode'] === attachmentType.LINK ?\r\n                                                row.rowType === \"groupHeader\" ? null :\r\n                                                    <td>\r\n                                                        <a href={row[\"dataItem\"][item.dataField]} style={{ cursor: \"pointer\" }} onClick={() => this.props.viewFile({ ...this.props.attachmentParam, inputData: { selectedRecord: row[\"dataItem\"], userinfo: this.props.userInfo } }, row)}>\r\n                                                            {row[\"dataItem\"][item.dataField]}\r\n                                                        </a>\r\n                                                    </td>\r\n                                                :\r\n                                                item.fieldType === \"checklistview\" ?\r\n                                                    row.rowType === \"groupHeader\" ? null :\r\n                                                        row[\"dataItem\"][item.checklistKey] > 0 ?\r\n                                                            <td data-tip={row[\"dataItem\"][item.dataField]}\r\n                                                             //data-for=\"tooltip_grid_wrap\" \r\n                                                             className={selectedId === row[\"dataItem\"][this.props.primaryKeyField] ? 'active' : ''}>   \r\n                                                               \r\n                                                               <FontIconWrap className=\"d-font-icon\"  // data-for=\"tooltip-grid-wrap\" \r\n                                                                   // data-for=\"tooltip-grid-wrap\" \r\n                                                                    // onClick={() => this.props.viewFile({ ...this.props.attachmentParam, inputData: { selectedRecord: row[\"dataItem\"], userinfo: this.props.userInfo } }, row)}\r\n                                                                    needSaveButton={true}\r\n                                                                    onClick={() => this.props.checkListRecord({\r\n                                                                        ...this.props.checklistParam, selectedRecord: row[\"dataItem\"], ncontrolcode: checklistID,\r\n                                                                        needSaveButton: !(this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(checklistID) === -1)\r\n                                                                    }, row)} >\r\n                                                                <FontAwesomeIcon\r\n                                                                    icon={faListAlt}\r\n                                                                  \r\n                                                                /></FontIconWrap>{\" \"}\r\n                                                                {row[\"dataItem\"][item.dataField]}\r\n                                                            </td>\r\n                                                            :\r\n                                                            <>\r\n                                                            <td data-tip={row[\"dataItem\"][item.dataField]} \r\n                                                          //  data-for=\"tooltip_grid_wrap\" \r\n                                                            className={selectedId === row[\"dataItem\"][this.props.primaryKeyField] ? 'active' : ''}>\r\n                                                                {row[\"dataItem\"][item.dataField]}\r\n                                                            </td>\r\n                                                            </>\r\n                                                    :\r\n                                                    item.fieldType === \"gradeColumn\" ?\r\n                                                        row.rowType === \"groupHeader\" ? null :\r\n                                                            <td\r\n                                                                data-tip={row[\"dataItem\"][item.dataField]}\r\n                                                               // data-for=\"tooltip_grid_wrap\"\r\n                                                                className={`${selectedId === row[\"dataItem\"][this.props.primaryKeyField] ? 'active' : ''}`}\r\n                                                                style={{ color: [row[\"dataItem\"]['scolorhexcode']] }}\r\n                                                            >\r\n                                                                {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_grid_wrap\" /> */}\r\n                                                                {row[\"dataItem\"][item.dataField]}\r\n                                                            </td>\r\n                                                        :\r\n                                                        <td data-tip={row[\"dataItem\"][item.dataField]} \r\n                                                        //data-for=\"tooltip_grid_wrap\" \r\n                                                        className={selectedId === row[\"dataItem\"][this.props.primaryKeyField] ? 'active' : ''}>\r\n                                                            {item.isIdsField ? <FormattedMessage id={row[\"dataItem\"][item.dataField]} defaultMessage={row[\"dataItem\"][item.dataField]} />\r\n                                                                : row[\"dataItem\"][item.dataField]}\r\n                                                        </td>\r\n                                        }\r\n                                    </>\r\n\r\n                                )}\r\n                            />\r\n \r\n                        )}\r\n\r\n                        {this.props.isActionRequired ?\r\n                            <GridColumn\r\n                                locked\r\n                                headerClassName=\"text-center\"\r\n                                title={this.props.intl.formatMessage({ id: 'IDS_ACTION' })}\r\n                                sort={false}\r\n                                cell={(row) => (\r\n                                    row.rowType === \"groupHeader\" ? null :\r\n                                        <td className={`k-grid-content-sticky k-command-cell selectedId === row[\"dataItem\"][this.props.primaryKeyField] ? 'active' : ''`} style={{ left: '0', right: '0', borderRightWidth: '1px', textAlign: 'center' }}>\r\n\r\n                                            <>\r\n                                                {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_tgrid_wrap\" /> */}\r\n                                                <Nav.Link className=\"action-icons-wrap\" >\r\n                                                   \r\n                                                <FontIconWrap className=\"d-font-icon\"\r\n                                                // data-for=\"tooltip_grid_wrap\" \r\n                                                data-place=\"left\" data-tip={this.props.intl.formatMessage({ id: \"IDS_PARAMETERCOMMENTS\" })}\r\n                                                                hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                onClick={() => this.props.fetchRecord({ ...this.props.editParam, primaryKeyValue: row[\"dataItem\"][this.props.editParam.primaryKeyField], selectedRecord: row[\"dataItem\"], controlcode: editId })}\r\n                                                            >\r\n                                                            <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                            \r\n                                                            </FontIconWrap>\r\n\r\n\r\n                                                    {/* <FontIconWrap className=\"d-font-icon\" data-for=\"tooltip_grid_wrap\" data-place=\"left\" data-tip={this.props.intl.formatMessage({ id: \"IDS_PARAMETERCOMMENTS\" })}>\r\n                                                        <FontAwesomeIcon icon={faPencilAlt}\r\n                                                            hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(editId) === -1}\r\n                                                            onClick={() => this.props.fetchRecord({ ...this.props.editParam, primaryKeyValue: row[\"dataItem\"][this.props.editParam.primaryKeyField], selectedRecord: row[\"dataItem\"], controlcode: editId })}\r\n                                                        />\r\n                                                    </FontIconWrap> */}\r\n                                                    <FontIconWrap className=\"d-font-icon\"\r\n                                                    // data-for=\"tooltip_grid_wrap\" \r\n                                                    data-place=\"left\" data-tip={this.props.intl.formatMessage({ id: \"IDS_ENFORCESTATUS\" })}>\r\n                                                        <Image\r\n                                                            src={enforcestatus} alt=\"filer-icon\" width=\"20\" height=\"20\"\r\n                                                            className=\"ActionIconColor img-normalize\"\r\n                                                            hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(enforceStatusID) === -1}\r\n                                                            onClick={() => this.props.fetchRecord({ ...this.props.editParam, primaryKeyValue: row[\"dataItem\"][this.props.editParam.primaryKeyField], editRow: row[\"dataItem\"] })}\r\n                                                        />\r\n                                                    </FontIconWrap>\r\n                                                    {/* uncomment below lines for mean calculation */}\r\n                                                    {/* {row[\"dataItem\"].nparametertypecode === 1 ?\r\n                                                        <FontIconWrap className=\"d-font-icon\" title={this.props.intl.formatMessage({ id: \"IDS_CALCULATEMEAN\" })}>\r\n                                                            <FontAwesomeIcon icon={faCalculator}\r\n                                                                title={this.props.intl.formatMessage({ id: \"IDS_CALCULATEMEAN\" })}\r\n                                                                //hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                onClick={() => this.props.getMeanTestParameter({...this.props.meanParam, selectedRecord: row[\"dataItem\"] })} \r\n                                                            />\r\n                                                        </FontIconWrap> :\"\"} */}\r\n                                                </Nav.Link>\r\n\r\n                                            </>\r\n                                        </td>\r\n                                )}\r\n                            />\r\n\r\n                            : \"\"}\r\n\r\n                    </Grid>\r\n                    {/* </Tooltip> */}\r\n                    </LocalizationProvider >\r\n                </AtTableWrap>\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default connect(mapStateToProps, undefined)(injectIntl(ResultGrid));"]},"metadata":{},"sourceType":"module"}