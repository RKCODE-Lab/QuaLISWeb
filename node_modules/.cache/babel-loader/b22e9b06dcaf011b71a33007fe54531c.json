{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import Axios from'axios';import{initRequest}from'./LoginAction';import{transactionStatus}from'../components/Enumeration';export function openFTPConfigModal(userInfo,ncontrolcode){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"site/getSiteForFTP\",{\"userinfo\":userInfo}).then(function(response){var selectedRecord={};var siteList=response.data[\"SiteList\"]||[];selectedRecord['nsitecode']=siteList.length>0?siteList[0].ndefaultstatus===transactionStatus.YES?siteList[0].nsitecode:-1:-1;selectedRecord['siteValue']=siteList.length>0?siteList[0].ndefaultstatus===transactionStatus.YES?[{value:siteList[0].nsitecode,label:siteList[0].ssitename,item:siteList[0]}]:[]:[];selectedRecord[\"sphysicalpath\"]=response.data[\"CheckSumDefaultPath\"];dispatch({type:DEFAULT_RETURN,payload:{openModal:true,operation:\"create\",siteOptions:siteList,checkSumDefaultPath:response.data[\"CheckSumDefaultPath\"],selectedRecord:selectedRecord,ncontrolcode:ncontrolcode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};};export function fetchFTPConfigByID(editParam){return function(dispatch){var _rsapi$post;var url1=rsapi.post(\"site/getSiteForFTP\",{\"userinfo\":editParam.userInfo});var url2=rsapi.post(\"ftpconfig/getActiveFTPConfigById\",(_rsapi$post={},_defineProperty(_rsapi$post,editParam.primaryKeyField,editParam.primaryKeyValue),_defineProperty(_rsapi$post,\"userinfo\",editParam.userInfo),_rsapi$post));dispatch(initRequest(true));Axios.all([url1,url2]).then(function(response){var selectedId=editParam.primaryKeyValue;var selectedRecord=response[1].data;selectedRecord['siteValue']={value:response[1].data.nsitecode,label:response[1].data.ssitename};dispatch({type:DEFAULT_RETURN,payload:{openModal:true,selectedRecord:selectedRecord,operation:editParam.operation,screenName:editParam.screenName,siteOptions:response[0].data,ncontrolcode:editParam.ncontrolCode,inputparam:editParam.inputparam,loading:false,selectedId:selectedId}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/FTPConfigAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","Axios","initRequest","transactionStatus","openFTPConfigModal","userInfo","ncontrolcode","dispatch","post","then","response","selectedRecord","siteList","data","length","ndefaultstatus","YES","nsitecode","value","label","ssitename","item","type","payload","openModal","operation","siteOptions","checkSumDefaultPath","loading","catch","error","status","message","warn","fetchFTPConfigByID","editParam","url1","url2","primaryKeyField","primaryKeyValue","all","selectedId","screenName","ncontrolCode","inputparam"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport {DEFAULT_RETURN} from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport Axios from 'axios'\r\nimport { initRequest } from './LoginAction';\r\nimport { transactionStatus } from '../components/Enumeration';\r\n\r\nexport function openFTPConfigModal  (userInfo,ncontrolcode)  {\r\n\r\n    return function(dispatch){\r\n    dispatch(initRequest(true));\r\n    rsapi.post(\"site/getSiteForFTP\",{\"userinfo\": userInfo})\r\n    .then(response=> { \r\n        const selectedRecord={};\r\n        const siteList = response.data[\"SiteList\"] || [];\r\n        selectedRecord['nsitecode']=siteList.length>0?\r\n                                    siteList[0].ndefaultstatus===transactionStatus.YES?\r\n                                    siteList[0].nsitecode\r\n                                    :-1:-1\r\n        selectedRecord['siteValue']=siteList.length>0? siteList[0].ndefaultstatus===transactionStatus.YES?  \r\n                                    [{value:siteList[0].nsitecode,label:siteList[0].ssitename,item:siteList[0]}]\r\n                                    :[]:[]\r\n        selectedRecord[\"sphysicalpath\"]= response.data[\"CheckSumDefaultPath\"];\r\n        dispatch({\r\n            type: DEFAULT_RETURN, payload:{\r\n                openModal:true,\r\n                operation:\"create\",\r\n                siteOptions:siteList,\r\n                checkSumDefaultPath: response.data[\"CheckSumDefaultPath\"],\r\n                selectedRecord,ncontrolcode    \r\n                ,loading:false           \r\n                }\r\n            }) \r\n    })\r\n    .catch(error => {\r\n        dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n        if (error.response.status === 500){\r\n            toast.error(error.message);\r\n        } \r\n        else{               \r\n            toast.warn(error.response.data);\r\n        }         \r\n    })\r\n}\r\n};\r\n\r\nexport function fetchFTPConfigByID(editParam){\r\n\r\n    return function(dispatch){\r\n    const url1=rsapi.post(\"site/getSiteForFTP\",{\"userinfo\": editParam.userInfo})\r\n    const url2=rsapi.post(\"ftpconfig/getActiveFTPConfigById\",\r\n            { [editParam.primaryKeyField] :editParam.primaryKeyValue,\"userinfo\":editParam.userInfo} )\r\n    dispatch(initRequest(true));\r\n    Axios.all([url1,url2])\r\n    .then(response=> { \r\n        let selectedId=editParam.primaryKeyValue\r\n        let selectedRecord=response[1].data\r\n        selectedRecord['siteValue']={value:response[1].data.nsitecode,label:response[1].data.ssitename}\r\n        \r\n        dispatch({\r\n            type: DEFAULT_RETURN, payload:{\r\n            openModal:true, \r\n            selectedRecord , \r\n            operation:editParam.operation,\r\n            screenName:editParam.screenName,\r\n            siteOptions:response[0].data,\r\n            ncontrolcode:editParam.ncontrolCode,\r\n            inputparam:editParam.inputparam,\r\n            loading:false,selectedId\r\n        }}) \r\n    })\r\n    .catch(error => {\r\n        dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n        if (error.response.status === 500){\r\n            toast.error(error.message);\r\n        } \r\n        else{               \r\n            toast.warn(error.response.data);\r\n        }         \r\n    })\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}