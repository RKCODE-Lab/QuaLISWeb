{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import{intl}from'../components/App';import{initRequest}from'./LoginAction';import{constructOptionList,parentChildComboLoad,constructjsonOptionList,constructjsonOptionDefault,childComboLoad,rearrangeDateFormatforUI,childComboLoadForEdit}from'../components/CommonScript';import Axios from'axios';import{getTreeByProduct}from'./RegistrationAction';export function getDynamicMasterCombo(masterData,userinfo,editId,columnList,selectedRecord,childColumnList,comboComponents,withoutCombocomponent,openPortal,openModal,mapOfFilterRegData,preview,operation,screenName){return function(dispatch){dispatch(initRequest(true));var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var actualService=rsapi.post(\"dynamicpreregdesign/getComboValues\",{parentcolumnlist:columnList.filter(function(x){return x.inputtype!=='backendsearchfilter'&&x.inputtype!=='frontendsearchfilter'&&x.readonly!==true;}),childcolumnlist:childColumnList,userinfo:userinfo});var urlArray=[timeZoneService,actualService];//const operation = fetchRecordParam.operation;\n// if (operation === \"update\"){\n//     const url = \"dynamicmaster/getActiveDynamicMasterById\";\n//     urlArray.push(rsapi.post(url, {\n//       [fetchRecordParam.primaryKeyField]: fetchRecordParam.primaryKeyValue, \"userinfo\": fetchRecordParam.userInfo\n//     }));\n// }\nAxios.all(urlArray).then(function(response){var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:userinfo.stimezoneid,value:userinfo.ntimezonecode};// if (operation === \"update\"){\n//     selectedRecord = response[2].data;\n// }\nvar newcomboData=parentChildComboLoad(columnList.filter(function(x){return x.inputtype!=='backendsearchfilter'&&x.inputtype!=='frontendsearchfilter'&&x.readonly!==true;}),response[1].data,selectedRecord,childColumnList,withoutCombocomponent,undefined,userinfo.slanguagetypecode,userinfo);// sortData(masterData)\nvar comboData1=newcomboData.comboData;var selectedRecord1=newcomboData.selectedRecord;withoutCombocomponent.map(function(componentrow){if(componentrow.inputtype===\"date\"){if(componentrow.mandatory){selectedRecord1[componentrow.label]=componentrow.loadcurrentdate?new Date():\"\";}}else if(componentrow.inputtype===\"radio\"){selectedRecord1[componentrow.label]=componentrow.radioOptions?componentrow.radioOptions.tags[0].text:\"\";}});if(preview){dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:comboData1,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,screenName:screenName,operation:operation}});}else{if(mapOfFilterRegData.nsampletypecode===1){var ProductCategory=comboComponents.filter(function(x){return x.name==='Product Category';});if(ProductCategory.length>0){var nproductcatcode=newcomboData.selectedRecord[ProductCategory[0].label]&&newcomboData.selectedRecord[ProductCategory[0].label].value;var ncategorybasedFlow=newcomboData.selectedRecord[ProductCategory[0].label]&&newcomboData.selectedRecord[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(ncategorybasedFlow!==undefined){if(ncategorybasedFlow===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=nproductcatcode;var inputParam={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,inputParam));}else{var Product=comboComponents.filter(function(x){return x.name==='Product';});if(Product.length>0){var nproductcode=newcomboData.selectedRecord[Product[0].label]&&newcomboData.selectedRecord[Product[0].label].value;mapOfFilterRegData['nproductcode']=nproductcode!==undefined?nproductcode:-1;mapOfFilterRegData['nproductcatcode']=nproductcatcode;var _inputParam={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam));}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,operation:operation,screenName:screenName}});}}else if(mapOfFilterRegData.nsampletypecode===2){var InstrumentCategory=comboComponents.filter(function(x){return x.name==='Instrument Category';});if(InstrumentCategory.length>0){var ninstrumentcatcode=newcomboData.selectedRecord[InstrumentCategory[0].label]&&newcomboData.selectedRecord[InstrumentCategory[0].label].value;var _ncategorybasedFlow=newcomboData.selectedRecord[InstrumentCategory[0].label]&&newcomboData.selectedRecord[InstrumentCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(_ncategorybasedFlow!==undefined){if(_ncategorybasedFlow===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=ninstrumentcatcode;var _inputParam2={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam2));}else{var Instrument=comboComponents.filter(function(x){return x.name==='Instrument';});if(Instrument.length>0){var ninstrumentcode=newcomboData.selectedRecord[Instrument[0].label]&&newcomboData.selectedRecord[Instrument[0].label].value;mapOfFilterRegData['nproductcode']=ninstrumentcode!==undefined?ninstrumentcode:-1;mapOfFilterRegData['nproductcatcode']=ninstrumentcatcode;var _inputParam3={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam3));}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,operation:operation,screenName:screenName}});}}else if(mapOfFilterRegData.nsampletypecode===3){var MaterialType=comboComponents.filter(function(x){return x.name==='Material Type';});if(MaterialType.length>0){var nmaterialtypecode=newcomboData.selectedRecord[MaterialType[0].label]&&newcomboData.selectedRecord[MaterialType[0].label].value;if(nmaterialtypecode!==undefined){var MaterialCategory=comboComponents.filter(function(x){return x.name==='Material Category';});if(MaterialCategory.length>0){var nmaterialcatcode=newcomboData.selectedRecord[MaterialCategory[0].label]&&newcomboData.selectedRecord[MaterialCategory[0].label].value;var _ncategorybasedFlow2=newcomboData.selectedRecord[MaterialCategory[0].label]&&newcomboData.selectedRecord[MaterialCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(_ncategorybasedFlow2!==undefined){if(_ncategorybasedFlow2===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=nmaterialcatcode;var _inputParam4={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam4));}else{var Material=comboComponents.filter(function(x){return x.name==='Material';});if(Material.length>0){var nmaterialcode=newcomboData.selectedRecord[Material[0].label]&&newcomboData.selectedRecord[Material[0].label].value;mapOfFilterRegData['nproductcode']=nmaterialcode!==undefined?nmaterialcode:-1;mapOfFilterRegData['nproductcatcode']=nmaterialcatcode;var _inputParam5={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam5));}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{}}}).catch(function(error){console.log(\"error:\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getEditDynamicMasterCombo(inputParam,columnList,selectedRecord1,childColumnList,comboComponents,withoutCombocomponent){return function(dispatch){var _rsapi$post;console.log(\"input:\",inputParam);dispatch(initRequest(true));var _inputParam6=_objectSpread({},inputParam),userInfo=_inputParam6.userInfo;var urlArray=[];var timeZoneService=rsapi.post(\"timezone/getTimeZone\");// const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\n//     parentcolumnlist: columnList,\n//     childcolumnlist: childColumnList,\n//     userinfo: inputParam.userInfo\n// })\nvar selectedMaster=rsapi.post(\"/dynamicmaster/getActiveDynamicMasterById\",(_rsapi$post={\"userinfo\":inputParam.userInfo},_defineProperty(_rsapi$post,inputParam.primaryKeyField,inputParam.primaryKeyValue),_defineProperty(_rsapi$post,\"parentcolumnlist\",columnList),_defineProperty(_rsapi$post,\"childcolumnlist\",childColumnList),_rsapi$post));urlArray=[timeZoneService,selectedMaster];Axios.all(urlArray).then(function(response){// let selectedRecord = { ...response[1].data };\nvar selectedRecord=_objectSpread({},response[1].data[\"EditData\"]);// selectedRecord = { ...selectedRecord, ...selectedRecord['jsondata'] }\nconsole.log(\"selectedRecord:\",selectedRecord);var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:userInfo.stimezoneid,value:userInfo.ntimezonecode};var languagetypeCode=undefined;var comboData=response[1].data;delete comboData['EditData'];var comboValues={};if(columnList.length>0){columnList.map(function(x){if(x.inputtype==='combo'){if(comboData[x.label]&&comboData[x.label].length>0)//&& comboData[x.label][0].hasOwnProperty(x.source) \n{if(comboData[x.label].length>0){if(comboData[x.label][0].label===undefined){var optionList=constructjsonOptionList(comboData[x.label]||[],x.valuemember,x.displaymember,false,false,true,undefined,x.source,x.isMultiLingual,languagetypeCode,x);comboData[x.label]=optionList.get(\"OptionList\");}else{comboData[x.label]=comboData[x.label];var _optionList=constructjsonOptionDefault(comboData[x.label]||[],x.valuemember,x.displaymember,false,false,true,undefined,x.source,x.isMultiLingual,languagetypeCode,x);}}else{comboData[x.label]=[];}comboValues=childComboLoadForEdit(x,comboData,selectedRecord,childColumnList,withoutCombocomponent);}else{comboValues={\"comboData\":comboData};}}else{comboValues=_objectSpread({comboData:comboData},comboValues);}});}else{comboValues={\"comboData\":comboData};}if(withoutCombocomponent.length>0){withoutCombocomponent.map(function(item){if(item.inputtype===\"date\"){if(selectedRecord[item.label]){selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},_defineProperty({},item.label,rearrangeDateFormatforUI(userInfo,selectedRecord[item.label])));}}});}dispatch({type:DEFAULT_RETURN,payload:{operation:\"update\",screenName:inputParam.screenName,timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,selectedRecord:selectedRecord,openModal:true,ncontrolCode:inputParam.ncontrolCode,loading:false,comboData:comboValues.comboData,childColumnList:childColumnList,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,columnList:columnList,selectedId:inputParam.primaryKeyValue}});}).catch(function(error){console.log(\"error:\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/DynamicMasterAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","intl","initRequest","constructOptionList","parentChildComboLoad","constructjsonOptionList","constructjsonOptionDefault","childComboLoad","rearrangeDateFormatforUI","childComboLoadForEdit","Axios","getTreeByProduct","getDynamicMasterCombo","masterData","userinfo","editId","columnList","selectedRecord","childColumnList","comboComponents","withoutCombocomponent","openPortal","openModal","mapOfFilterRegData","preview","operation","screenName","dispatch","timeZoneService","post","actualService","parentcolumnlist","filter","x","inputtype","readonly","childcolumnlist","urlArray","all","then","response","timeZoneMap","data","undefined","timeZoneList","get","defaultTimeZone","label","stimezoneid","value","ntimezonecode","newcomboData","slanguagetypecode","comboData1","comboData","selectedRecord1","map","componentrow","mandatory","loadcurrentdate","Date","radioOptions","tags","text","type","payload","ncontrolcode","loading","nsampletypecode","ProductCategory","name","length","nproductcatcode","ncategorybasedFlow","inputParam","Product","nproductcode","InstrumentCategory","ninstrumentcatcode","Instrument","ninstrumentcode","MaterialType","nmaterialtypecode","MaterialCategory","nmaterialcatcode","Material","nmaterialcode","catch","error","console","log","status","message","warn","getEditDynamicMasterCombo","userInfo","selectedMaster","primaryKeyField","primaryKeyValue","languagetypeCode","comboValues","optionList","valuemember","displaymember","source","isMultiLingual","item","ncontrolCode","selectedId","formatMessage","id"],"mappings":"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","sourcesContent":["\r\nimport rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport { intl } from '../components/App';\r\nimport { initRequest } from './LoginAction';\r\nimport {\r\n    constructOptionList, parentChildComboLoad, constructjsonOptionList,\r\n    constructjsonOptionDefault, childComboLoad, rearrangeDateFormatforUI, childComboLoadForEdit\r\n} from '../components/CommonScript';\r\nimport Axios from 'axios';\r\nimport { getTreeByProduct } from './RegistrationAction';\r\n\r\nexport function getDynamicMasterCombo(masterData, userinfo,\r\n    editId, columnList, selectedRecord, childColumnList, comboComponents,\r\n    withoutCombocomponent, openPortal, openModal, mapOfFilterRegData, preview, operation,\r\n    screenName) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\r\n            parentcolumnlist: columnList.filter(x=>(x.inputtype!=='backendsearchfilter'&&x.inputtype!=='frontendsearchfilter')&&(x.readonly!==true)),\r\n            childcolumnlist: childColumnList,\r\n            userinfo\r\n        })\r\n        let urlArray = [timeZoneService, actualService];\r\n        //const operation = fetchRecordParam.operation;\r\n        // if (operation === \"update\"){\r\n        //     const url = \"dynamicmaster/getActiveDynamicMasterById\";\r\n        //     urlArray.push(rsapi.post(url, {\r\n        //       [fetchRecordParam.primaryKeyField]: fetchRecordParam.primaryKeyValue, \"userinfo\": fetchRecordParam.userInfo\r\n        //     }));\r\n        // }\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: userinfo.stimezoneid, value: userinfo.ntimezonecode }\r\n                // if (operation === \"update\"){\r\n                //     selectedRecord = response[2].data;\r\n                // }\r\n                const newcomboData = parentChildComboLoad(columnList.filter(x=>(x.inputtype!=='backendsearchfilter'&&x.inputtype!=='frontendsearchfilter')&&(x.readonly!==true)), response[1].data, selectedRecord, childColumnList,\r\n                    withoutCombocomponent, undefined, userinfo.slanguagetypecode, userinfo)\r\n                // sortData(masterData)\r\n\r\n                const comboData1 = newcomboData.comboData\r\n                const selectedRecord1 = newcomboData.selectedRecord\r\n                withoutCombocomponent.map(componentrow => {\r\n                    if (componentrow.inputtype === \"date\") {\r\n                        if (componentrow.mandatory) {\r\n                            selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? new Date() : \"\";\r\n                        }\r\n                    }\r\n                    else if (componentrow.inputtype === \"radio\") {\r\n                        selectedRecord1[componentrow.label] = componentrow.radioOptions ?\r\n                            componentrow.radioOptions.tags[0].text : \"\";\r\n                    }\r\n\r\n                })\r\n\r\n                if (preview) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            timeZoneList,\r\n                            defaultTimeZone,\r\n                            masterData,\r\n                            ncontrolcode: editId,\r\n                            openModal,\r\n                            loading: false,\r\n                            comboData: comboData1,\r\n                            selectedRecord: selectedRecord1,\r\n                            comboComponents,\r\n                            withoutCombocomponent,\r\n                            openPortal,\r\n                            columnList,\r\n                            childColumnList,\r\n                            screenName,\r\n                            operation\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    if (mapOfFilterRegData.nsampletypecode === 1) {\r\n                        const ProductCategory = comboComponents.filter(x => x.name === 'Product Category');\r\n                        if (ProductCategory.length > 0) {\r\n                            const nproductcatcode = newcomboData.selectedRecord[ProductCategory[0].label] &&\r\n                                newcomboData.selectedRecord[ProductCategory[0].label].value\r\n                            const ncategorybasedFlow = newcomboData.selectedRecord[ProductCategory[0].label]\r\n                                && newcomboData.selectedRecord[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === 3) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        newcomboData.selectedRecord,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Product = comboComponents.filter(x => x.name === 'Product');\r\n                                    if (Product.length > 0) {\r\n                                        const nproductcode = newcomboData.selectedRecord[Product[0].label]\r\n                                            && newcomboData.selectedRecord[Product[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = nproductcode !== undefined ? nproductcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            newcomboData.selectedRecord,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                loading: false,\r\n                                                comboData: newcomboData.comboData,\r\n                                                selectedRecord: newcomboData.selectedRecord,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                dispatch({\r\n                                    type: DEFAULT_RETURN,\r\n                                    payload: {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        loading: false,\r\n                                        comboData: newcomboData.comboData,\r\n                                        selectedRecord: newcomboData.selectedRecord,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                })\r\n                            }\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    loading: false,\r\n                                    comboData: newcomboData.comboData,\r\n                                    selectedRecord: newcomboData.selectedRecord,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    operation,\r\n                                    screenName\r\n                                }\r\n                            })\r\n                        }\r\n                    } else if (mapOfFilterRegData.nsampletypecode === 2) {\r\n                        const InstrumentCategory = comboComponents.filter(x => x.name === 'Instrument Category');\r\n                        if (InstrumentCategory.length > 0) {\r\n                            const ninstrumentcatcode = newcomboData.selectedRecord[InstrumentCategory[0].label] &&\r\n                                newcomboData.selectedRecord[InstrumentCategory[0].label].value\r\n                            const ncategorybasedFlow = newcomboData.selectedRecord[InstrumentCategory[0].label]\r\n                                && newcomboData.selectedRecord[InstrumentCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === 3) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = ninstrumentcatcode\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        newcomboData.selectedRecord,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Instrument = comboComponents.filter(x => x.name === 'Instrument');\r\n                                    if (Instrument.length > 0) {\r\n                                        const ninstrumentcode = newcomboData.selectedRecord[Instrument[0].label]\r\n                                            && newcomboData.selectedRecord[Instrument[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = ninstrumentcode !== undefined ? ninstrumentcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = ninstrumentcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            newcomboData.selectedRecord,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                loading: false,\r\n                                                comboData: newcomboData.comboData,\r\n                                                selectedRecord: newcomboData.selectedRecord,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                dispatch({\r\n                                    type: DEFAULT_RETURN,\r\n                                    payload: {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        loading: false,\r\n                                        comboData: newcomboData.comboData,\r\n                                        selectedRecord: newcomboData.selectedRecord,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                })\r\n                            }\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    loading: false,\r\n                                    comboData: newcomboData.comboData,\r\n                                    selectedRecord: newcomboData.selectedRecord,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    operation,\r\n                                    screenName\r\n                                }\r\n                            })\r\n                        }\r\n                    } else if (mapOfFilterRegData.nsampletypecode === 3) {\r\n                        const MaterialType = comboComponents.filter(x => x.name === 'Material Type');\r\n                        if (MaterialType.length > 0) {\r\n                            const nmaterialtypecode = newcomboData.selectedRecord[MaterialType[0].label] &&\r\n                                newcomboData.selectedRecord[MaterialType[0].label].value\r\n                            if (nmaterialtypecode !== undefined) {\r\n                                const MaterialCategory = comboComponents.filter(x => x.name === 'Material Category');\r\n                                if (MaterialCategory.length > 0) {\r\n                                    const nmaterialcatcode = newcomboData.selectedRecord[MaterialCategory[0].label] &&\r\n                                        newcomboData.selectedRecord[MaterialCategory[0].label].value\r\n                                    const ncategorybasedFlow = newcomboData.selectedRecord[MaterialCategory[0].label]\r\n                                        && newcomboData.selectedRecord[MaterialCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                                    if (ncategorybasedFlow !== undefined) {\r\n                                        if (ncategorybasedFlow === 3) {\r\n                                            mapOfFilterRegData['nproductcode'] = -1;\r\n                                            mapOfFilterRegData['nproductcatcode'] = nmaterialcatcode\r\n                                            const inputParam = {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                newcomboData.selectedRecord,\r\n                                                newcomboData.comboData, inputParam))\r\n                                        }\r\n                                        else {\r\n                                            const Material = comboComponents.filter(x => x.name === 'Material');\r\n                                            if (Material.length > 0) {\r\n                                                const nmaterialcode = newcomboData.selectedRecord[Material[0].label]\r\n                                                    && newcomboData.selectedRecord[Material[0].label].value;\r\n\r\n                                                mapOfFilterRegData['nproductcode'] = nmaterialcode !== undefined ? nmaterialcode : -1;\r\n                                                mapOfFilterRegData['nproductcatcode'] = nmaterialcatcode\r\n\r\n                                                const inputParam = {\r\n                                                    timeZoneList,\r\n                                                    defaultTimeZone,\r\n                                                    masterData,\r\n                                                    ncontrolcode: editId,\r\n                                                    openModal,\r\n                                                    comboComponents,\r\n                                                    withoutCombocomponent,\r\n                                                    openPortal,\r\n                                                    columnList,\r\n                                                    childColumnList,\r\n                                                    operation,\r\n                                                    screenName\r\n                                                }\r\n                                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                    newcomboData.selectedRecord,\r\n                                                    newcomboData.comboData, inputParam))\r\n                                            } else {\r\n                                                dispatch({\r\n                                                    type: DEFAULT_RETURN,\r\n                                                    payload: {\r\n                                                        timeZoneList,\r\n                                                        defaultTimeZone,\r\n                                                        masterData,\r\n                                                        ncontrolcode: editId,\r\n                                                        openModal,\r\n                                                        loading: false,\r\n                                                        comboData: newcomboData.comboData,\r\n                                                        selectedRecord: newcomboData.selectedRecord,\r\n                                                        comboComponents,\r\n                                                        withoutCombocomponent,\r\n                                                        openPortal,\r\n                                                        columnList,\r\n                                                        childColumnList,\r\n                                                        operation,\r\n                                                        screenName\r\n                                                    }\r\n                                                })\r\n                                            }\r\n                                        }\r\n\r\n                                    } else {\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                loading: false,\r\n                                                comboData: newcomboData.comboData,\r\n                                                selectedRecord: newcomboData.selectedRecord,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                } else {\r\n                                    dispatch({\r\n                                        type: DEFAULT_RETURN,\r\n                                        payload: {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            loading: false,\r\n                                            comboData: newcomboData.comboData,\r\n                                            selectedRecord: newcomboData.selectedRecord,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            operation,\r\n                                            screenName\r\n                                        }\r\n                                    })\r\n                                }\r\n\r\n                            }\r\n\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    loading: false,\r\n                                    comboData: newcomboData.comboData,\r\n                                    selectedRecord: newcomboData.selectedRecord,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName\r\n                                }\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                    else {\r\n                    }\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(\"error:\", error);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getEditDynamicMasterCombo(inputParam, columnList,\r\n    selectedRecord1, childColumnList, comboComponents, withoutCombocomponent) {\r\n    return function (dispatch) {\r\n\r\n        console.log(\"input:\", inputParam);\r\n        dispatch(initRequest(true));\r\n        const { userInfo } = { ...inputParam };\r\n\r\n        let urlArray = [];\r\n\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        // const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\r\n        //     parentcolumnlist: columnList,\r\n        //     childcolumnlist: childColumnList,\r\n        //     userinfo: inputParam.userInfo\r\n        // })\r\n        const selectedMaster = rsapi.post(\"/dynamicmaster/getActiveDynamicMasterById\", {\r\n            \"userinfo\": inputParam.userInfo,\r\n            [inputParam.primaryKeyField]: inputParam.primaryKeyValue,\r\n            parentcolumnlist: columnList,\r\n            childcolumnlist: childColumnList,\r\n        })\r\n\r\n        urlArray = [timeZoneService, selectedMaster]\r\n\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n               // let selectedRecord = { ...response[1].data };\r\n                let selectedRecord = { ...response[1].data[\"EditData\"] };\r\n                // selectedRecord = { ...selectedRecord, ...selectedRecord['jsondata'] }\r\n                console.log(\"selectedRecord:\", selectedRecord);\r\n\r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: userInfo.stimezoneid, value: userInfo.ntimezonecode };\r\n\r\n                const languagetypeCode = undefined;\r\n                const comboData = response[1].data;\r\n                delete comboData['EditData']\r\n                let comboValues = {}\r\n                if (columnList.length > 0) {\r\n                    columnList.map(x => {\r\n                        if (x.inputtype === 'combo') {\r\n                            if (comboData[x.label] && comboData[x.label].length > 0) //&& comboData[x.label][0].hasOwnProperty(x.source) \r\n                            {\r\n                                if (comboData[x.label].length > 0) {\r\n                                    if (comboData[x.label][0].label === undefined) {\r\n                                        const optionList = constructjsonOptionList(comboData[x.label] || [], x.valuemember,\r\n                                            x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n                                        comboData[x.label] = optionList.get(\"OptionList\");\r\n                                    } else {\r\n                                        comboData[x.label] = comboData[x.label]\r\n                                        const optionList = constructjsonOptionDefault(comboData[x.label] || [], x.valuemember,\r\n                                            x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n                                    }\r\n                                } else {\r\n                                    comboData[x.label] = []\r\n                                }\r\n\r\n                                comboValues = childComboLoadForEdit(x, comboData, selectedRecord,\r\n                                    childColumnList, withoutCombocomponent)\r\n                            } else {\r\n                                comboValues = {\r\n                                    \"comboData\": comboData,\r\n                                }\r\n                            }\r\n                        } else {\r\n                            comboValues = {\r\n                                comboData: comboData,\r\n                                ...comboValues\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    comboValues = {\r\n                        \"comboData\": comboData,\r\n                    }\r\n                }\r\n\r\n                if (withoutCombocomponent.length > 0) {\r\n                    withoutCombocomponent.map(item => {\r\n                        if (item.inputtype === \"date\") {\r\n                            if (selectedRecord[item.label]) {\r\n                                selectedRecord = { ...selectedRecord, [item.label]: rearrangeDateFormatforUI(userInfo, selectedRecord[item.label]) }\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        operation: \"update\",\r\n                        screenName: inputParam.screenName,\r\n                        timeZoneList,\r\n                        defaultTimeZone,\r\n                        selectedRecord,\r\n                        openModal: true,\r\n                        ncontrolCode: inputParam.ncontrolCode,\r\n                        loading: false,\r\n                        comboData: comboValues.comboData,\r\n                        childColumnList, comboComponents,\r\n                        withoutCombocomponent,\r\n                        columnList,\r\n                        selectedId: inputParam.primaryKeyValue\r\n\r\n                    }\r\n                })\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(\"error:\", error);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}