{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\basemaster\\\\SampleStorageLocation.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button, FormControl } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight, faSearch, faTimes, faArrowDown, faHandPointLeft, faArrowUp, faClone } from '@fortawesome/free-solid-svg-icons';\nimport { toast } from 'react-toastify';\nimport ListMaster from '../../components/list-master/list-master.component';\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\nimport { ReadOnlyText, ContentPanel, SearchIcon } from '../../components/App.styles'; //import SortableTree from 'react-sortable-tree'; \n\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, filterColumnData, changeStorageCategoryFilter, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion, crudSampleStorageLocation } from '../../actions';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { ListWrapper } from '../../components/client-group.styles';\nimport { ProductList } from '../product/product.styled'; // import ReactTooltip from 'react-tooltip';\n\nimport { uuid } from \"uuidv4\";\nimport TreeEditable from \"../../components/form-tree-editable/TreeEditable\";\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\nimport { getItemPath, mapTree, removeItems } from \"@progress/kendo-react-treelist\";\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport AddTreeview from './AddTreeview';\nimport AddTreeProperties from './AddTreeProperties';\nimport { Splitter } from '@progress/kendo-react-layout';\nimport TransactionListMaster from '../../components/TransactionListMaster';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport SplitterLayout from 'react-splitter-layout';\nimport StorageCategoryFilter from './StorageCategoryFilter';\nimport { transactionStatus } from '../../components/Enumeration';\nimport Esign from '../audittrail/Esign';\nimport { TreeViewDragAnalyzer, moveTreeViewItem } from '@progress/kendo-react-treeview';\n\nclass SampleStorageLocation extends Component {\n  constructor(_props) {\n    super(_props);\n    this.dragOverCnt = 0;\n    this.isDragDrop = false;\n    this.SEPARATOR = '_';\n    this.uniqueIDArr = [];\n    this.countforTree = 0;\n    this.pointedItem = undefined;\n    this.getitemPath = {};\n\n    this.onChange = event => {\n      this.setState({\n        panes: event.newState\n      });\n    };\n\n    this.getSiblings = (itemIndex, data) => {\n      let result = data;\n      const indices = itemIndex.split(this.SEPARATOR).map(index => Number(index));\n\n      for (let i = 0; i < indices.length - 1; i++) {\n        result = result[indices[i]].items || [];\n      }\n\n      return result;\n    };\n\n    this.onItemDragOver = event => {\n      this.dragOverCnt++;\n      this.dragClue.show(event.pageY + 10, event.pageX, event.item.text, this.getClueClassName(event));\n    };\n\n    this.onItemDragEnd = event => {\n      this.isDragDrop = this.dragOverCnt > 0;\n      this.dragOverCnt = 0;\n      this.dragClue.hide();\n      const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\n\n      if (eventAnalyzer.isDropAllowed) {\n        const updatedTree = moveTreeViewItem(event.itemHierarchicalIndex, this.state.treeData, eventAnalyzer.getDropOperation() || 'child', eventAnalyzer.destinationMeta.itemHierarchicalIndex);\n        this.setState({\n          tree: updatedTree\n        });\n      }\n    };\n\n    this.addChildNode = (e, clickedItem) => {\n      let ParentItem = this.searchClickedItemParent(this.state.treeData[0]);\n\n      if (ParentItem) {\n        ParentItem.items.map(item => {\n          item.expanded = false;\n        });\n      }\n\n      let newData = mapTree(this.state.treeData, \"items\", item => {\n        if (item.id === clickedItem.id) {\n          item.items = item.items || [];\n          item.expanded = true;\n          item.items.push({\n            id: uuid(),\n            text: this.props.intl.formatMessage({\n              id: \"IDS_LABEL\"\n            }),\n            expanded: true,\n            editable: false,\n            locationlastnode: false,\n            containerfirstnode: false,\n            containerlastnode: false,\n            itemhierarchy: \"\"\n          });\n        }\n\n        return item;\n      });\n      this.setState({\n        treeData: newData\n      });\n    };\n\n    this.cloneNode = (e, clickedItem) => {\n      let parentItem = {};\n      let parentID = '';\n      let clonedParentID = '';\n      let parentFound = false;\n      let cloneItems = {};\n      let clonedparentFound = false;\n      let newData = [...this.state.treeData];\n      let newData1 = [...this.state.treeData];\n      mapTree(this.state.treeData, \"items\", item => {\n        // if (item.items) {\n        //     if (parentFound&&(item.id===parentID)) {\n        //         parentItem = item;\n        //         parentFound = false;\n        //     }\n        // }\n        if (item.id === clickedItem.id) {\n          parentFound = true;\n          parentID = clickedItem.parentID;\n          parentItem = this.searchClickedItemParent(this.state.treeData[0]);\n        }\n\n        if (item.editable === true) {\n          clonedParentID = uuid();\n          let clonedNewParentID = uuid(); //     //  let clonedObject=//{...item}\n          //     //   Object.assign({}, item);\n          //       const clonedObject = JSON.parse(JSON.stringify(item1));\n          //      cloneItems =//[{...clonedObject}].map((data) => {\n          //       // return \n          //        this.generateUUID(clonedObject)\n          //    // })\n\n          let levelBasedParents = {};\n          cloneItems = mapTree([{ ...item\n          }], \"items\", cloneditem => {\n            // const indices = cloneditem.itemHierarchicalIndex.split('_').map(index => Number(index));\n            // let x=getItemPath(this.state.treeData,indices,\"items\")\n            // console.log('------------->',cloneditem)\n            // if(cloneditem.items===undefined&&clonedparentFound){\n            //     clonedParentID=uuid();\n            //     clonedparentFound=false;\n            // }\n            // else{\n            //     clonedNewParentID=uuid();\n            // }\n            // if(!levelBasedParents.hasOwnProperty(cloneditem.itemHierarchicalIndex)){\n            //     let level=cloneditem.itemHierarchicalIndex;\n            //     levelBasedParents={...levelBasedParents,\n            //                         [level]:uuid()\n            //                     }\n            // }\n            // if(cloneditem.items){\n            //      //if ClonedItem is a Parent\n            //     cloneditem={\n            //         ...cloneditem,\n            //         'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedNewParentID\n            //         ,\n            //         'id':clonedParentID,\n            //         'editable': false \n            //     } \n            //     clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\n            //     //  clonedParentID=uuid()//clonedNewParentID;\n            //     // clonedparentFound=true;\n            // }else{\n            //if ClonedItem is a Child\n            cloneditem = { ...cloneditem,\n              //'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedParentID\n              // ,\n              'id': uuid(),\n              'editable': false,\n              'expanded': false //   }\n              //  clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\n\n            };\n            return cloneditem;\n          });\n        } // item={\n        //    ...item,\n        //     'id':uuid(),\n        //   'editable': false \n        //     } \n\n\n        return item;\n      });\n\n      if (parentItem === undefined) {\n        return toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_ROOTNODECANNOTBEDELETED\"\n        }));\n      }\n\n      let count = 1;\n      newData = mapTree(this.state.treeData, \"items\", item => {\n        if (item.id === parentItem.id) {\n          count++;\n          item.items.push( // {\n          // ...cloneItem,\n          // 'id':uuid(),\n          // 'editable': false,\n          // 'text': cloneItem['text']+'('+count+')'\n          // } \n          { ...cloneItems[0],\n            'parentID': parentID // 'id':clonedParentID\n\n          });\n        }\n\n        return item;\n      });\n      this.setState({\n        treeData: newData\n      });\n    };\n\n    this.equalNode = (e, clickedItem) => {\n      let parentItem = {};\n      let parentFound = false;\n      let newData = [...this.state.treeData];\n      mapTree(this.state.treeData, \"items\", item => {\n        if (item.items) {\n          if (parentFound) {\n            parentItem = item;\n            parentFound = false;\n          }\n        }\n\n        if (item.id === clickedItem.id) {\n          parentFound = true;\n        }\n\n        return item;\n      });\n\n      if (parentItem.text === undefined) {\n        newData.push({\n          id: uuid(),\n          text: this.props.intl.formatMessage({\n            id: \"IDS_LABEL\"\n          }),\n          expanded: true,\n          editable: false,\n          locationlastnode: false,\n          containerfirstnode: false,\n          containerlastnode: false,\n          itemhierarchy: \"\"\n        });\n        this.setState({\n          treeData: newData\n        });\n      } else {\n        newData = mapTree(this.state.treeData, \"items\", item => {\n          if (item.id === parentItem.id) {\n            item.items.push({\n              id: uuid(),\n              text: this.props.intl.formatMessage({\n                id: \"IDS_LABEL\"\n              }),\n              expanded: true,\n              editable: false,\n              locationlastnode: false,\n              containerfirstnode: false,\n              containerlastnode: false,\n              itemhierarchy: \"\"\n            });\n          }\n\n          return item;\n        });\n        this.setState({\n          treeData: newData\n        });\n      }\n    };\n\n    this.deleteNode = clickedItem => {\n      if (clickedItem.root && clickedItem.root === true) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_PARENTNODENOTALLOWTODELETE\"\n        }));\n      } else {\n        const newData = removeItems(this.state.treeData, \"items\", item => {\n          return item.id === clickedItem.id;\n        });\n        this.setState({\n          treeData: newData\n        });\n      }\n    };\n\n    this.editRecord = (e, clickedItem) => {\n      this.setState({\n        toggleAction: !this.state.toggleAction\n      });\n    };\n\n    this.openModal = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal: true,\n          selectedRecord: {},\n          loadTreeProperties: false,\n          treeData: [{\n            text: \"root\",\n            expanded: true,\n            editable: true,\n            root: true,\n            id: uuid()\n          }],\n          operation: \"create\"\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeModal = () => {\n      // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: {\n      //         openModal: false, selectedRecord: {}\n      //     }\n      // }\n      // this.props.updateStore(updateInfo);\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let selectedId = this.props.Login.selectedId;\n      let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Approve\" || this.props.Login.operation === \"copy\") {\n          loadEsign = false;\n          openModal = false;\n          selectedRecord = {};\n          selectedId = null;\n        } else {\n          loadEsign = false;\n        }\n      } else {\n        openModal = false;\n        selectedId = null;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          loadEsign,\n          selectedRecord,\n          selectedId\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onInputChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === \"checkbox\") {\n        selectedRecord[event.target.name] = event.target.checked;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.itemRender = props => {\n      if (this.state.toggleAction) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, props.item.editable ? /*#__PURE__*/React.createElement(Form.Group, {\n          className: \"k-editable-text-wrap\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Form.Control, {\n          id: \"nodename\",\n          name: \"nodename\",\n          type: \"text\",\n          onKeyDown: e => e.stopPropagation(),\n          value: props.item.text,\n          autoFocus: true,\n          autoComplete: \"off\",\n          onChange: e => this.handleChange(e, props.item),\n          onBlur: e => this.handleBlur(e, props.item),\n          maxLength: \"50\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 29\n          }\n        })) : /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 25\n          }\n        }, props.item.text));\n      } else {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, props.item ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"d-flex align-items-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: `normal-node text-truncate\n                            ${props.item.editable ? \"active-node\" : \"\"}\n                            ${props.item.expanded ? \"expand-node\" : \"collapse-node\"}\n                            `,\n          \"data-tip\": props.item.text,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 29\n          }\n        }, props.item.containerfirstnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faBoxOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 66\n          }\n        }) : props.item.locationlastnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faLocationArrow,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 67\n          }\n        }) : props.item.containerlastnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faBox,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 72\n          }\n        }) : props.item.expanded ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faFolderOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 67\n          }\n        }) : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faFolder,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 109\n          }\n        }), props.item.text), props.item.editable ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"action-icon tree-level1\",\n          \"data-tip\": this.props.intl.formatMessage({\n            id: \"IDS_CLONENODE\"\n          }),\n          onClick: e => {\n            e.stopPropagation();\n            this.cloneNode(e, props.item);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 38\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"action-icon tree-level2\",\n          \"data-tip\": this.props.intl.formatMessage({\n            id: \"IDS_CHILDNODE\"\n          }),\n          onClick: e => {\n            e.stopPropagation();\n            this.addChildNode(e, props.item);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 37\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"k-icon k-i-edit k-i-pencil ml-2\",\n          \"data-tip\": this.props.intl.formatMessage({\n            id: \"IDS_EDIT\"\n          }),\n          onClick: e => {\n            e.stopPropagation();\n            this.editRecord(e, props.item);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 37\n          }\n        }), !props.item.isRoot ? /*#__PURE__*/React.createElement(\"span\", {\n          className: \"k-icon k-i-delete ml-2\",\n          \"data-tip\": this.props.intl.formatMessage({\n            id: \"IDS_DELETE\"\n          }),\n          onClick: e => {\n            e.stopPropagation();\n            this.deleteNode(props.item);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 41\n          }\n        }) : null) : null)) : \"\");\n      }\n    };\n\n    this.onItemClick = event => {\n      // if (selectedItem) {\n      //     selectedItem.editable = false;\n      //   }\n      //   event.item.editable = true;\n      //   selectedItem = event.item; \n      let searchedData = undefined;\n\n      if (this.state.searchedTreeData) {\n        searchedData = mapTree(this.state.searchedTreeData, \"items\", item1 => {\n          if (item1.editable === true) {\n            item1.editable = false;\n          } else if (item1.id === event.item.id) {\n            item1.editable = true;\n          }\n\n          return item1;\n        });\n      }\n\n      let newData = mapTree(this.state.treeData, \"items\", item => {\n        if (item.editable === true) {\n          item.editable = false;\n        } else if (item.id === event.item.id) {\n          item.editable = true;\n        }\n\n        return item;\n      });\n      this.setState({\n        treeData: newData,\n        searchedTreeData: searchedData\n      });\n    };\n\n    this.toggleSearch = () => {\n      this.setState({\n        showSearch: !this.state.showSearch\n      });\n    };\n\n    this.clearSearchedState = () => {\n      this.setState({\n        searchedTreeData: undefined,\n        showSearch: false\n      });\n    };\n\n    this.navigationCounter = () => {\n      let counter = this.state.counter || 0;\n      return counter;\n    };\n\n    this.handleSearch = () => {\n      this.uniqueIDArr = [];\n      this.pointedItem = undefined;\n      this.countforTree = 0; //this.setState({searchedTreeData: undefined})\n    };\n\n    this.search = (items, term) => {\n      return items.reduce((acc, item) => {\n        if (this.contains(item.text, term)) {\n          this.uniqueIDArr.push(item.id);\n          acc.push(item);\n        } else if (item.items && item.items.length > 0) {\n          let newItems = this.search(item.items, term);\n\n          if (newItems && newItems.length > 0) {\n            acc.push({ ...item,\n              text: item.text,\n              items: newItems,\n              expanded: acc.length === 0 ? true : false //item.expanded\n\n            });\n          }\n        }\n\n        return acc;\n      }, []);\n    };\n\n    this.handlenavigation = (e, direction) => {\n      if (e.key === 'Enter' || e.type === 'click') {\n        let value = document.querySelector('.k-textbox').value;\n\n        if (value !== \"\") {\n          if (direction === 'up') {\n            //Navigate up\n            this.countforTree--;\n\n            if (this.countforTree <= 0) {\n              this.countforTree = 0;\n            }\n          } else {\n            //if(direction==='down'){\n            //Navigate down\n            this.countforTree++;\n\n            if (this.countforTree >= this.uniqueIDArr.length) {\n              if (this.uniqueIDArr.length - 1 === -1) {\n                this.countforTree = 0;\n              } else {\n                this.countforTree = this.uniqueIDArr.length - 1;\n              } //toast.info(this.props.intl.formatMessage({ id: \"IDS_NOMORENODESTOSEARCH\" }))\n\n            }\n          }\n\n          let newData = this.navigateSearchedTree(this.state.treeDataView, value);\n          this.setState({\n            searchedTreeData: JSON.parse(JSON.stringify(newData))\n          });\n        } else {\n          this.setState({\n            searchedTreeData: undefined\n          });\n        }\n      }\n    };\n\n    this.navigateSearchedTree = (items, term) => {\n      return items.reduce((acc, item) => {\n        if (item.editable) {\n          item.editable = false;\n        }\n\n        if (item.selected) {\n          item.selected = false;\n        }\n\n        if (this.contains(item.text, term)) {\n          if (!this.uniqueIDArr.includes(item.id)) {\n            this.uniqueIDArr.push(item.id);\n          }\n\n          if (item.id === this.uniqueIDArr[this.countforTree]) {\n            if (this.pointedItem) {\n              this.pointedItem = undefined;\n            }\n\n            this.pointedItem = item;\n          }\n\n          acc.push(item);\n        } else if (item.items && item.items.length > 0) {\n          let newItems = this.navigateSearchedTree(item.items, term);\n\n          if (newItems && newItems.length > 0) {\n            if (newItems.some(item => item.id === this.uniqueIDArr[this.countforTree])) {\n              acc.push({ ...item,\n                text: item.text,\n                items: newItems,\n                expanded: true\n              });\n            } else {\n              acc.push({ ...item,\n                text: item.text,\n                items: newItems,\n                expanded: newItems.some(item => item.expanded === true) ? true : false\n              });\n            }\n          }\n        }\n\n        return acc;\n      }, []);\n    };\n\n    this.contains = (text, term) => {\n      return text.toLowerCase().indexOf(term.toLowerCase()) >= 0;\n    };\n\n    this.onExpandChange = event => {\n      let clickedItem = event.item;\n\n      if (!event.item.expanded) {\n        //this.onItemClick(event)\n        let ParentItem = this.searchClickedItemParent( //this.state.searchedTreeData&&\n        //this.state.searchedTreeData[0]||\n        this.state.treeData[0], clickedItem);\n\n        if (ParentItem) {\n          ParentItem.items.map(item => {\n            item.expanded = false;\n          });\n        }\n\n        this.shrinkNodes(event.item);\n      }\n\n      event.item.expanded = !event.item.expanded;\n      this.forceUpdate();\n    };\n\n    this.itemRenderView = clickedItem => {\n      let item = clickedItem.item;\n      this.getitemPath = { ...this.getitemPath,\n        [item.id]: clickedItem.itemHierarchicalIndex\n      };\n\n      if (!this.state.toggleActionView) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, clickedItem.item ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"d-flex align-items-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 873,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: `normal-node text-truncate\n                        ${this.pointedItem ? item.id === this.pointedItem.id && !item.selected ? \"pointed-node\" : item.selected ? \"active-node\" : \"\" : item.selected ? \"active-node\" : \"\"}\n                        ${item.expanded ? \"expand-node\" : \"collapse-node\"}\n                        `,\n          \"data-tip\": item.text,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 874,\n            columnNumber: 29\n          }\n        }, item.containerfirstnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faBoxOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 60\n          }\n        }) : item.locationlastnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faLocationArrow,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 61\n          }\n        }) : item.containerlastnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faBox,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 66\n          }\n        }) : item.expanded ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faFolderOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 882,\n            columnNumber: 61\n          }\n        }) : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faFolder,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 882,\n            columnNumber: 103\n          }\n        }), item.text), this.pointedItem && item.id === this.pointedItem.id ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faHandPointLeft,\n          bounce: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 888,\n            columnNumber: 29\n          }\n        }) : clickedItem.item.editable ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"action-icon tree-toggle m-l-half\",\n          \"data-tip\": this.props.intl.formatMessage({\n            id: \"IDS_PROPERTIES\"\n          }),\n          onClick: e => this.setProperties(e, clickedItem),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 894,\n            columnNumber: 37\n          }\n        })) : null)) : \"\");\n      }\n    };\n\n    this.onItemClickView = event => {\n      // if (this.state.selectedItem) {\n      //     let selectedobj = this.state.selectedItem;\n      //         selectedobj.selected = false\n      //     this.setState({\n      //         selectedItem : selectedobj\n      //     })\n      // }\n      // this.setState({\n      //     selectedItem : event.item\n      // })             \n      let searchedData = undefined;\n\n      if (this.state.searchedTreeData) {\n        searchedData = mapTree(this.state.searchedTreeData, \"items\", item => {\n          if (item.editable === true) {\n            item.editable = false;\n          } else if (item.id === event.item.id) {\n            item.editable = true;\n\n            if (this.pointedItem) {\n              if (this.pointedItem.id === item.id) {\n                this.pointedItem = undefined;\n              }\n            }\n\n            let result = this.state.searchedTreeData;\n            const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\n            let itemText = \"\";\n\n            for (let i = 0; i < indices.length; i++) {\n              if (i === 0) {\n                result = result[0];\n              } else {\n                result = result.items[indices[i]];\n              }\n\n              itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\n            }\n\n            item.itemhierarchy = itemText;\n          }\n\n          return item;\n        });\n        searchedData.map(data => {\n          this.clearSelected(data, event.item);\n        });\n      }\n\n      let newData = mapTree(this.state.treeDataView, \"items\", item => {\n        if (item.editable === true) {\n          item.editable = false;\n        } else if (item.id === event.item.id) {\n          item.editable = true;\n          let result = this.state.treeDataView;\n          const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\n          let itemText = \"\";\n\n          for (let i = 0; i < indices.length; i++) {\n            if (i === 0) {\n              result = result[0];\n            } else {\n              result = result.items[indices[i]];\n            }\n\n            itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\n          }\n\n          item.itemhierarchy = itemText;\n        }\n\n        return item;\n      });\n      newData.map(data => {\n        this.clearSelected(data, event.item);\n      });\n      this.setState({\n        treeDataView: newData,\n        searchedTreeData: searchedData\n      });\n    };\n\n    this.onExpandChangeView = event => {\n      let clickedItem = event.item;\n\n      if (!event.item.expanded) {\n        //this.onItemClick(event)\n        let ParentItem = this.searchClickedItemParent(this.state.searchedTreeData && this.state.searchedTreeData[0] || this.state.treeDataView[0], clickedItem);\n\n        if (ParentItem) {\n          ParentItem.items.map(item => {\n            item.expanded = false;\n          });\n        }\n\n        this.shrinkNodes(event.item);\n      }\n\n      event.item.expanded = !event.item.expanded;\n      this.forceUpdate();\n    };\n\n    this.setProperties = (event, clickedItem) => {\n      const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\n      this.props.openPropertyModal(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, clickedItem, editId);\n    };\n\n    this.handleChange = (e, clickedItem) => {\n      let searchedData = undefined;\n\n      if (this.state.searchedTreeData) {\n        searchedData = mapTree(this.state.searchedTreeData, \"items\", item => {\n          if (item.id === clickedItem.id) {\n            item.text = e.target.value;\n          }\n\n          return item;\n        });\n      }\n\n      let newData = mapTree(this.state.treeData, \"items\", item => {\n        if (item.id === clickedItem.id) {\n          item.text = e.target.value;\n        }\n\n        return item;\n      });\n      this.setState({\n        treeData: newData,\n        searchedTreeData: searchedData\n      });\n    };\n\n    this.handleBlur = (e, item) => {\n      item.editable = false;\n      this.setState({\n        toggleAction: !this.state.toggleAction\n      });\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      if (this.props.Login.loadTreeProperties === true) {\n        this.onSaveProperties(saveType, formRef);\n      } else {\n        this.onSaveSampleStorageLocation(saveType, formRef);\n      }\n    };\n\n    this.onSaveProperties = (saveType, formRef) => {\n      const {\n        selectedRecord\n      } = this.state;\n\n      if (this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT) {\n        if (this.props.Login.clickedItem && this.props.Login.clickedItem !== undefined) {\n          let inputData = [];\n          let jsondata = {};\n          let postParam = undefined;\n          let count = 0; // let isContaierFirstNode = -1;\n\n          if (selectedRecord[\"locationlastnode\"] !== undefined && selectedRecord[\"locationlastnode\"] === true) {\n            count = count + 1;\n          }\n\n          if (selectedRecord[\"containerfirstnode\"] !== undefined && selectedRecord[\"containerfirstnode\"] === true) {\n            count = count + 1;\n          }\n\n          if (selectedRecord[\"containerlastnode\"] !== undefined && selectedRecord[\"containerlastnode\"] === true) {\n            count = count + 1;\n          }\n\n          if (count > 1) {\n            toast.info(this.props.intl.formatMessage({\n              id: \"IDS_SELECTONLYONE\"\n            }));\n          } else {\n            let newData = mapTree(this.state.treeDataView, \"items\", item => {\n              if (item.id === this.props.Login.clickedItem.item.id) {\n                item.locationlastnode = selectedRecord[\"locationlastnode\"] !== undefined ? selectedRecord[\"locationlastnode\"] : false;\n                item.containerfirstnode = selectedRecord[\"containerfirstnode\"] !== undefined ? selectedRecord[\"containerfirstnode\"] : false;\n                item.containerlastnode = selectedRecord[\"containerlastnode\"] !== undefined ? selectedRecord[\"containerlastnode\"] : false;\n              }\n\n              if (item.selected && item.selected === true) {\n                item.selected = false;\n              }\n\n              return item;\n            });\n            postParam = {\n              inputListName: \"sampleStorageLocation\",\n              selectedObject: \"selectedSampleStorageLocation\",\n              primaryKeyField: \"nsamplestoragelocationcode\"\n            }; // if (selectedRecord[\"containerfirstnode\"] && selectedRecord[\"containerfirstnode\"] === true) {\n            //     isContaierFirstNode = 1;\n            // }\n            // if (this.props.Login.clickedItem.item.containerfirstnode && this.props.Login.clickedItem.item.containerfirstnode === true) {\n            //     if (selectedRecord[\"containerfirstnode\"] && selectedRecord[\"containerfirstnode\"] === true) {\n            //         isContaierFirstNode = 2;\n            //     } else {\n            //         isContaierFirstNode = 3;\n            //     }\n            // }\n            // inputData[\"containerStorageCondition\"] = {isContaierFirstNode, slocationHierarchy: this.state.selectedHierarchy, \n            //  selectedItem: this.props.Login.clickedItem.item.id};\n\n            jsondata[\"data\"] = newData;\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\n            inputData[\"sampleStorageVersion\"] = {\n              \"nstatus\": 1\n            };\n            inputData[\"sampleStorageLocation\"] = {\n              \"nstatus\": 1\n            };\n            inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"];\n            inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];\n            inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nstoragecategorycode\"];\n            inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\n            inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\n            inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\n            const inputParam = {\n              classUrl: \"samplestoragelocation\",\n              methodUrl: \"SampleStorageLocation\",\n              displayName: this.props.Login.inputParam.displayName,\n              inputData: inputData,\n              operation: \"update\",\n              saveType,\n              formRef,\n              postParam\n            };\n            const masterData = this.props.Login.masterData;\n\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n              const updateInfo = {\n                typeName: DEFAULT_RETURN,\n                data: {\n                  loadEsign: true,\n                  screenData: {\n                    inputParam,\n                    masterData\n                  },\n                  saveType\n                }\n              };\n              this.props.updateStore(updateInfo);\n            } else {\n              this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n            }\n          }\n        }\n      } else {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_SELECTDRAFTRECORD\"\n        }));\n      }\n    };\n\n    this.onSaveSampleStorageLocation = (saveType, formRef) => {\n      const {\n        selectedRecord\n      } = this.state; // if (selectedRecord[\"nstoragecategorycode\"] && selectedRecord[\"nstoragecategorycode\"] !== undefined) {\n      //     if (selectedRecord[\"ssamplestoragelocationname\"] && selectedRecord[\"ssamplestoragelocationname\"].length > 0) {\n\n      let inputData = [];\n      let jsondata = {};\n      let postParam = undefined;\n      let countLevels = 0;\n      let newData = mapTree(this.state.treeData, \"items\", item => {\n        if (item.editable === true) {\n          item.editable = false;\n        }\n\n        if (item.expanded === false) {\n          item.expanded = true;\n        }\n\n        item.expanded = false;\n        countLevels++;\n        return item;\n      }); // let lhs = JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data;\n      // let rhs = newData;\n      // console.log(detailedDiff(lhs, rhs));\n      // return;\n      // postParam = { inputListName: \"SampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\n\n      if (countLevels > 3) {\n        jsondata[\"data\"] = newData;\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\n        inputData[\"sampleStorageLocation\"] = {\n          \"nstatus\": 1\n        };\n        inputData[\"sampleStorageVersion\"] = {\n          \"nstatus\": 1\n        };\n        inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = selectedRecord[\"ssamplestoragelocationname\"];\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = selectedRecord[\"nstoragecategorycode\"].value;\n        inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\n\n        if (this.props.Login.operation === \"create\") {\n          const inputParam = {\n            classUrl: \"samplestoragelocation\",\n            methodUrl: \"SampleStorageLocation\",\n            displayName: this.props.Login.inputParam.displayName,\n            inputData: inputData,\n            operation: \"create\",\n            saveType,\n            formRef\n          };\n          const masterData = this.props.Login.masterData;\n\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                saveType\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\"); // }\n            // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n          }\n        } else {\n          inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"];\n          inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\n          inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\n          const inputParam = {\n            classUrl: \"samplestoragelocation\",\n            methodUrl: \"SampleStorageLocation\",\n            displayName: this.props.Login.inputParam.displayName,\n            inputData: inputData,\n            operation: \"update\",\n            saveType,\n            formRef\n          };\n          const masterData = this.props.Login.masterData;\n\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                saveType\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\"); // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n          }\n        }\n      } else {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_CREATEATLEASTFOURLEVELS\"\n        }));\n      }\n    };\n\n    this.deleteSampleStorageLocation = ncontrolCode => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      });\n\n      if (this.searchRef.current) {\n        this.searchRef.current.value = \"\";\n      }\n\n      let inputData = [];\n      inputData[\"sampleStorageVersion\"] = {};\n      inputData[\"sampleStorageLocation\"] = {};\n      inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\n      inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\n      inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\n      inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\n      inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];\n      const inputParam = {\n        methodUrl: \"SampleStorageLocation\",\n        classUrl: \"samplestoragelocation\",\n        inputData: inputData,\n        operation: \"delete\",\n        searchRef: this.searchRef\n      };\n      const masterData = this.props.Login.masterData; // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            operation: \"delete\",\n            openModal: true,\n            screenName: this.props.Login.inputParam.displayName\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.confirmDelete = ncontrolCode => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.deleteSampleStorageLocation(ncontrolCode));\n    };\n\n    this.paneSizeChange = d => {\n      this.setState({\n        splitChangeWidthPercentage: d\n      });\n    };\n\n    this.handlePageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n    };\n\n    this.handleDetailPageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n    };\n\n    this.onComboChange = (comboData, fieldName, caseNo) => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (caseNo === 3) {\n        let nfilterStorageCategory = this.state.nfilterStorageCategory || {};\n        nfilterStorageCategory = comboData;\n\n        if (this.searchRef.current) {\n          this.searchRef.current.value = \"\";\n        }\n\n        this.setState({\n          nfilterStorageCategory\n        });\n      } else {\n        selectedRecord[fieldName] = comboData;\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onFilterSubmit = () => {\n      if (this.state.nfilterStorageCategory.value) {\n        let inputParam = {\n          inputData: {\n            nstoragecategorycode: this.state.nfilterStorageCategory.value,\n            userinfo: this.props.Login.userInfo,\n            nfilterStorageCategory: this.state.nfilterStorageCategory\n          }\n        };\n        this.props.changeStorageCategoryFilter(inputParam, this.props.Login.masterData.filterStorageCategory);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_STORAGECATEGORYNOTAVAILABLE\"\n        }));\n      }\n    };\n\n    this.onApproveSampleStorageLocation = ncontrolCode => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      });\n\n      if (this.searchRef.current) {\n        this.searchRef.current.value = \"\";\n      }\n\n      let inputData = [];\n      let locationEnd = false;\n      let storageStart = false;\n      let storageEnd = false;\n      let containers = [];\n      mapTree(this.state.treeDataView, \"items\", item => {\n        if (item.locationlastnode === true) {\n          locationEnd = true;\n        }\n\n        if (item.containerfirstnode === true) {\n          storageStart = true;\n          containers.push({\n            itemHierarchy: item.itemhierarchy,\n            scontainercode: item.id\n          });\n        }\n\n        if (item.containerlastnode === true) {\n          storageEnd = true;\n        }\n\n        return null;\n      }); // if (locationEnd === false) {\n      //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTLOCATIONEND\" }));\n      //     return;\n      // }\n      // if (storageStart === false) {\n      //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGESTART\" }));\n      //     return;\n      // }\n      // if (storageEnd === false) {\n      //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGEEND\" }));\n      //     return;\n      // }\n\n      const masterData = this.props.Login.masterData;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      inputData[\"sampleStorageLocation\"] = {\n        \"nstatus\": 1\n      };\n      inputData[\"sampleStorageVersion\"] = {\n        \"nstatus\": 1\n      };\n      inputData[\"containers\"] = containers;\n      inputData[\"propertyValidation\"] = {\n        \"locationEnd\": locationEnd,\n        \"storageStart\": storageStart,\n        \"storageEnd\": storageEnd\n      };\n      inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\n      inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\n      inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\n      inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\n      inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\n      const inputParam = {\n        inputData: inputData,\n        classUrl: \"samplestoragelocation\",\n        methodUrl: \"SampleStorageLocation\",\n        displayName: \"IDS_SAMPLESTORAGELOCATION\",\n        userInfo: this.props.Login.userInfo,\n        operation: \"Approve\"\n      };\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            operation: \"Approve\",\n            screenName: this.props.Login.inputParam.displayName\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.copySampleStorageversion = ncontrolCode => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      });\n\n      if (this.searchRef.current) {\n        this.searchRef.current.value = \"\";\n      }\n\n      let inputData = [];\n      const masterData = this.props.Login.masterData;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      inputData[\"sampleStorageLocation\"] = {\n        \"nstatus\": 1\n      };\n      inputData[\"sampleStorageVersion\"] = {\n        \"nstatus\": 1\n      };\n      inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\n      inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\n      inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\n      inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\n      inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\n      const inputParam = {\n        inputData: inputData,\n        classUrl: \"samplestoragelocation\",\n        methodUrl: \"SampleStorageVersion\",\n        displayName: \"IDS_SAMPLESTORAGELOCATION\",\n        userInfo: this.props.Login.userInfo,\n        operation: \"copy\"\n      };\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            operation: \"copy\",\n            screenName: this.props.Login.inputParam.displayName\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\"; // let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\n\n      let nfilterStorageCategory = this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.nfilterStorageCategory;\n      const inputParam = {\n        inputData: {\n          \"userinfo\": this.props.Login.userInfo,\n          \"nstoragecategorycode\": nfilterStorageCategory\n        },\n        classUrl: \"samplestoragelocation\",\n        methodUrl: \"SampleStorageLocation\",\n        displayName: \"IDS_SAMPLESTORAGELOCATION\",\n        userInfo: this.props.Login.userInfo\n      };\n      this.props.callService(inputParam);\n    };\n\n    this.onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      });\n\n      if (this.searchRef.current) {\n        this.searchRef.current.value = \"\";\n      }\n\n      let isOnlyDraft = false;\n\n      if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\n        isOnlyDraft = true;\n      }\n\n      this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\n    };\n\n    this.openStorageLocation = addId => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      });\n\n      if (this.searchRef.current) {\n        this.searchRef.current.value = \"\";\n      }\n\n      if (this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0) {\n        this.props.fetchStorageCategory({\n          userInfo: this.props.Login.userInfo,\n          id: uuid(),\n          nfilterStorageCategory: this.state.nfilterStorageCategory,\n          addId\n        });\n      } else {\n        toast.warning(this.props.intl.formatMessage({\n          id: \"IDS_SELECTSTORAGECATEGORY\"\n        }));\n      }\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        if (event.target.name === \"agree\") {\n          selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\n        }\n      } else if (event.target.type === 'select-one') {\n        selectedRecord[event.target.name] = event.target.value;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.state = {\n      treeData: [{\n        title: 'Chicken',\n        children: [{\n          title: 'Egg'\n        }]\n      }],\n      toggleAction: false,\n      treeDataView: undefined,\n      toggleActionView: false,\n      treeData: [{\n        //  text: \"root\",\n        text: this.props.intl.formatMessage({\n          id: \"IDS_ROOT\"\n        }),\n        expanded: true,\n        editable: true,\n        root: true,\n        id: uuid()\n      }],\n      panes: [{\n        size: '50%',\n        scrollable: false\n      }],\n      selectedRecord: {},\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      skip: 0,\n      detailSkip: 0,\n      detailTake: 10,\n      take: this.props.Login.settings ? this.props.Login.settings[3] : 25,\n      splitChangeWidthPercentage: 22,\n      selectedItem: undefined\n    };\n    this.searchRef = React.createRef();\n    this.dragClue = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== \"\" && props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  componentDidUpdate(previousProps) {\n    let isComponentUpdated = false;\n    let {\n      filterData\n    } = this.state;\n    let selectedRecord = this.state.selectedRecord || {};\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      const userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n      this.setState({\n        controlMap,\n        userRoleControlRights\n      });\n    }\n\n    if (this.props.Login.treeData !== previousProps.Login.treeData) {\n      this.setState({\n        treeData: this.props.Login.treeData\n      });\n    }\n\n    if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\n      if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\n        if (this.searchRef.current) {\n          this.searchRef.current.value = \"\";\n        }\n\n        this.handleSearch();\n        this.setState({\n          treeDataView: JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data,\n          searchedTreeData: undefined,\n          showSearch: false\n        });\n      } else {\n        if (this.searchRef.current) {\n          this.searchRef.current.value = \"\";\n        }\n\n        this.handleSearch();\n        this.setState({\n          treeDataView: undefined,\n          searchedTreeData: undefined,\n          showSearch: false\n        });\n      }\n    }\n\n    let nfilterStorageCategory = this.state.nStorageCategory || {};\n    let filterStorageCategory = this.state.filterStorageCategory || {};\n\n    if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\n      const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\", \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\n      filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\n\n      if (filterStorageCategory && filterStorageCategory.length > 0) {\n        const filterCategory = filterStorageCategory.filter(item => item.value === this.props.Login.masterData.nfilterStorageCategory); //filterStorageCategory[0];\n\n        nfilterStorageCategory = filterCategory[0];\n      }\n\n      isComponentUpdated = true;\n    } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\n      nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\n      isComponentUpdated = true;\n    }\n\n    if (isComponentUpdated) {\n      this.setState({\n        nfilterStorageCategory,\n        selectedRecord,\n        filterStorageCategory\n      });\n    }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.Login.selectedRecord\n      });\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      const filterData = this.generateBreadCrumData();\n      this.setState({\n        filterData\n      });\n    }\n  }\n\n  getClueClassName(event) {\n    const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\n    const {\n      itemHierarchicalIndex: itemIndex\n    } = eventAnalyzer.destinationMeta;\n\n    if (eventAnalyzer.isDropAllowed) {\n      switch (eventAnalyzer.getDropOperation()) {\n        case 'child':\n          return 'k-i-plus';\n\n        case 'before':\n          return itemIndex === '0' || itemIndex.endsWith(`${this.SEPARATOR}0`) ? 'k-i-insert-up' : 'k-i-insert-middle';\n\n        case 'after':\n          const siblings = this.getSiblings(itemIndex, this.state.tree);\n          const lastIndex = Number(itemIndex.split(this.SEPARATOR).pop());\n          return lastIndex < siblings.length - 1 ? 'k-i-insert-middle' : 'k-i-insert-down';\n\n        default:\n          break;\n      }\n    }\n\n    return 'k-i-cancel';\n  }\n\n  // generateUUID(innerObj) {\n  //     // let parentIDNew=uuid()\n  //     // let innerObjNew={...innerObj,\n  //     //                 'id':parentIDNew } \n  //     // if (innerObjNew.items && innerObjNew.items.length > 0) {\n  //     //     innerObjNew.items.map((childObj) => { \n  //     //         childObj={...childObj,\n  //     //         'parentID':parentIDNew}\n  //     //         this.generateUUID(childObj)\n  //     //     })\n  //     // }\n  //     let parentIDNew=uuid()\n  //     let innerObjNew={...innerObj,\n  //            'id':parentIDNew } \n  //  if (innerObjNew.items && innerObjNew.items.length > 0) {\n  //        innerObjNew.items.map((childObj) => { \n  //                 childObj={...childObj,\n  //                 'parentID':parentIDNew}\n  //                 return  this.generateUUID(childObj)\n  //             })\n  // } \n  //     return innerObjNew\n  // }\n  generateUUID(innerObj) {\n    let parentIDNew = uuid();\n    let innerObjNew = { ...innerObj,\n      'id': parentIDNew\n    }; //  innerObj['id']=parentIDNew  \n\n    if (innerObj.items && innerObj.items.length > 0) {\n      for (let Obj of innerObj.items) {\n        let childObj = Obj;\n        childObj = { ...childObj,\n          'parentID': parentIDNew\n        }; //childObj['parentID']=parentIDNew\n\n        this.generateUUID(childObj);\n      }\n    }\n\n    return innerObj;\n  }\n\n  searchClickedItemParent(treeData, clickedItem) {\n    let ParentItem = { ...treeData\n    };\n\n    if (ParentItem.items && ParentItem.items.length > 0) {\n      let childArray = ParentItem.items;\n\n      if (childArray.length > 0) {\n        for (var i = 0; i < childArray.length; i++) {\n          let childData = childArray[i];\n\n          if (clickedItem ? clickedItem.id === childData.id : childData.editable === true) {\n            return treeData;\n          } else {\n            if (childData.items) {\n              ParentItem = this.searchClickedItemParent(childData, clickedItem);\n\n              if (ParentItem) {\n                return ParentItem;\n              }\n            }\n          }\n        }\n      }\n    } //    return ParentItem;\n\n  }\n\n  shrinkNodes(ParentItem) {\n    //  ParentItem.expanded=false;\n    if (ParentItem.items && ParentItem.items.length > 0) {\n      let childArray = ParentItem.items;\n\n      if (childArray.length > 0) {\n        for (var i = 0; i < childArray.length; i++) {\n          let childData = childArray[i];\n          childData.expanded = false;\n\n          if (childData.items) {\n            this.shrinkNodes(childData);\n          }\n        }\n      }\n    }\n  }\n\n  clearSelected(innerObj, selectedItem) {\n    if (innerObj.id == selectedItem.id) {\n      innerObj.selected = true;\n    } else {\n      innerObj.selected = false;\n    }\n\n    if (innerObj.items && innerObj.items.length > 0) {\n      innerObj.items.map(childObj => {\n        this.clearSelected(childObj, selectedItem);\n      });\n    }\n\n    return innerObj;\n  }\n\n  componentDidMount() {\n    if (this.parentHeight) {\n      const height = this.parentHeight.clientHeight;\n      this.setState({\n        firstPane: height - 80,\n        parentHeight: height - 50\n      });\n    }\n  }\n\n  generateBreadCrumData() {\n    const breadCrumbData = [];\n\n    if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\n      breadCrumbData.push({\n        \"label\": \"IDS_STORAGECATEGORY\",\n        \"value\": this.props.Login.masterData.selectedStorageCategoryName && this.props.Login.masterData.selectedStorageCategoryName !== null ? this.props.Login.masterData.selectedStorageCategoryName : \"NA\" // \"value\": this.props.Login.masterData.selectedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\n        //     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\n\n      });\n    }\n\n    return breadCrumbData;\n  }\n\n  render() {\n    const addId = this.state.controlMap.has(\"Add SampleStorageLocation\") && this.state.controlMap.get(\"Add SampleStorageLocation\").ncontrolcode;\n    const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"Delete SampleStorageLocation\") && this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;\n    const copyId = this.state.controlMap.has(\"Copy SampleStorageLocation\") && this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;\n    const approveId = this.state.controlMap.has(\"Approve SampleStorageLocation\") && this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;\n    const filterParam = {\n      inputListName: \"sampleStorageLocation\",\n      selectedObject: \"selectedSampleStorageLocation\",\n      primaryKeyField: \"nsamplestoragelocationcode\",\n      fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: [\"ssamplestoragelocationname\"]\n    };\n    const mandatoryFields = [{\n      \"idsName\": \"IDS_STORAGECATEGORY\",\n      \"dataField\": \"nstoragecategorycode\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_SAMPLESTORAGELOCATIONNAME\",\n      \"dataField\": \"ssamplestoragelocationname\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }];\n    const breadCrumbData = this.state.filterData || [];\n    const confirmMessage = new ConfirmMessage();\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"client-listing-wrap mtop-4 screen-height-window\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1601,\n        columnNumber: 17\n      }\n    }, breadCrumbData.length > 0 ? /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1603,\n        columnNumber: 25\n      }\n    }) : \"\", /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1605,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      className: \"parent-port-height\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1606,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(SplitterLayout, {\n      borderColor: \"#999\",\n      percentage: true,\n      primaryIndex: 1,\n      onSecondaryPaneSizeChange: this.paneSizeChange,\n      secondaryInitialSize: 25,\n      primaryMinSize: 40,\n      secondaryMinSize: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1609,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(TransactionListMaster, {\n      paneHeight: this.state.parentHeight,\n      needMultiSelect: false,\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.sampleStorageLocation || [],\n      selectedMaster: [this.props.Login.masterData.selectedSampleStorageLocation],\n      primaryKeyField: \"nsamplestoragelocationcode\",\n      getMasterDetail: selectedItem => this.props.getSelectedSampleStorageLocation(selectedItem, this.props.Login.userInfo, this.props.Login.masterData),\n      inputParam: {\n        userInfo: this.props.Login.userInfo,\n        masterData: this.props.Login.masterData\n      },\n      mainField: \"ssamplestoragelocationname\",\n      selectedListName: \"selectedSampleStorageLocation\",\n      objectName: \"LocationMaster\",\n      listName: \"IDS_SAMPLESTORAGELOCATION\",\n      filterColumnData: this.props.filterColumnData,\n      searchListName: \"searchedData\",\n      searchRef: this.searchRef,\n      filterParam: filterParam,\n      showFilter: this.props.Login.showFilter,\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      onFilterSubmit: this.onFilterSubmit,\n      needFilter: true,\n      hidePaging: false,\n      handlePageChange: this.handlePageChange,\n      skip: this.state.skip,\n      take: this.state.take,\n      commonActions: /*#__PURE__*/React.createElement(ProductList, {\n        className: \"d-flex product-category float-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1644,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"btn btn-icon-rounded btn-circle solid-blue\",\n        role: \"button\",\n        \"data-tip\": this.props.intl.formatMessage({\n          id: \"IDS_ADD\"\n        }) // data-for=\"tooltip-common-wrap\"\n        ,\n        hidden: this.state.userRoleControlRights.indexOf(addId) === -1,\n        onClick: () => this.openStorageLocation(addId),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1645,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faPlus,\n        title: this.props.intl.formatMessage({\n          id: \"IDS_ADD\"\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1650,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        className: \"btn btn-circle outline-grey ml-2\",\n        variant: \"link\",\n        onClick: () => this.reloadData() // data-for=\"tooltip-common-wrap\"\n        ,\n        \"data-tip\": this.props.intl.formatMessage({\n          id: \"IDS_REFRESH\"\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1652,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faSync,\n        style: {\n          \"width\": \"0.6!important\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1656,\n          columnNumber: 49\n        }\n      }))),\n      filterComponent: [{\n        \"IDS_TESTFILTER\": /*#__PURE__*/React.createElement(StorageCategoryFilter, {\n          filterStorageCategory: this.state.filterStorageCategory || [],\n          nfilterStorageCategory: this.state.nfilterStorageCategory || {},\n          onComboChange: this.onComboChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1663,\n            columnNumber: 49\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1611,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(SplitterLayout, {\n      vertical: true,\n      borderColor: \"#999\",\n      percentage: true,\n      primaryIndex: 1 //secondaryInitialSize={400}\n      ,\n      customClassName: \"fixed_list_height\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1674,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card_group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1678,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1679,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      style: {\n        paddingRight: '0'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1680,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(TransactionListMaster, {\n      masterList: this.props.Login.masterData.searchedData && this.props.Login.masterData.searchedData.length === 0 ? [] : this.props.Login.masterData.sampleStorageVersion || [],\n      needMultiSelect: false,\n      selectedMaster: [this.props.Login.masterData.selectedSampleStorageVersion] || [],\n      primaryKeyField: \"nsamplestorageversioncode\",\n      getMasterDetail: selectedItem => this.props.getSelectedSampleStorageVersion(selectedItem, this.props.Login.userInfo, this.props.Login.masterData),\n      inputParam: {\n        userInfo: this.props.Login.userInfo,\n        masterData: this.props.Login.masterData\n      },\n      mainField: \"nversionno\",\n      mainFieldLabel: this.props.intl.formatMessage({\n        id: \"IDS_VERSION\"\n      }),\n      selectedListName: \"selectedSampleStorageVersion\",\n      objectName: \"Version\",\n      listName: \"IDS_SAMPLESTORAGEVersion\",\n      hideSearch: true,\n      needValidation: false,\n      needFilter: false,\n      moreField: [],\n      skip: this.state.detailSkip,\n      take: this.state.detailTake,\n      hidePaging: true,\n      handlePageChange: this.handleDetailPageChange,\n      splitModeClass: this.state.splitChangeWidthPercentage && this.state.splitChangeWidthPercentage > 50 ? 'split-mode' : this.state.splitChangeWidthPercentage > 40 ? 'split-md' : '' // actionIcons={\n      //     [\n      //         {\n      //             title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\n      //             controlname: \"faPencilAlt\",\n      //             objectName: \"detailtoedit\",\n      //             hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n      //             onClick: (e) => this.props.editSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, this.props.Login.masterData),\n      //         },\n      //         {\n      //             title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\n      //             controlname: \"faTrashAlt\",\n      //             objectName: \"mastertodelete\",\n      //             hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n      //             onClick: () => this.confirmDelete(deleteId)\n      //         }\n      //     ]\n      // }\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1682,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 9,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1732,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(ProductList, {\n      className: \"panel-main-content grid-master tree-view-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1734,\n        columnNumber: 49\n      }\n    }, this.props.Login.masterData.sampleStorageLocation && this.props.Login.masterData.sampleStorageLocation.length > 0 && this.props.Login.masterData.selectedSampleStorageLocation ? /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1736,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1737,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1738,\n        columnNumber: 65\n      }\n    }, this.props.Login.masterData.selectedSampleStorageLocation.ssamplestoragelocationname), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1739,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1740,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1741,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"action-icons-wrap mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1742,\n        columnNumber: 77\n      }\n    }, this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ? /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined  outline-secondary btn-sm ml-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1745,\n        columnNumber: 85\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_DRAFT\",\n      defaultMessage: \"Draft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1746,\n        columnNumber: 89\n      }\n    })) : this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.RETIRED ? /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined outline-danger btn-sm ml-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1751,\n        columnNumber: 89\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_RETIRED\",\n      defaultMessage: \"Retired\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1752,\n        columnNumber: 93\n      }\n    })) : /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined outline-success btn-sm ml-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1755,\n        columnNumber: 89\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_APPROVED\",\n      defaultMessage: \"Approved\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1756,\n        columnNumber: 93\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1761,\n        columnNumber: 73\n      }\n    }, this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ? /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle 1 outline-grey mr-2 \",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(editId) === -1 // data-for=\"tooltip_list_wrap\"\n      ,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      onClick: e => this.onEditSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, editId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1763,\n        columnNumber: 81\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1769,\n        columnNumber: 85\n      }\n    })) : /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 \",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(copyId) === -1 // data-for=\"tooltip_list_wrap\"\n      ,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_COPY\"\n      }),\n      onClick: e => this.copySampleStorageversion(copyId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1773,\n        columnNumber: 81\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faCopy,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1779,\n        columnNumber: 85\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      name: \"QB\",\n      className: \"btn btn-circle outline-grey mr-2\",\n      hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1 // data-for=\"tooltip_list_wrap\"\n      ,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }),\n      onClick: () => this.confirmDelete(deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1783,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1789,\n        columnNumber: 81\n      }\n    })), this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ? /*#__PURE__*/React.createElement(Nav.Link, {\n      name: \"QB\",\n      className: \"btn btn-circle outline-grey mr-2\",\n      hidden: this.state.userRoleControlRights.indexOf(approveId) === -1 // data-for=\"tooltip_list_wrap\"\n      ,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_APPROVE\"\n      }),\n      onClick: () => this.onApproveSampleStorageLocation(approveId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1792,\n        columnNumber: 81\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faThumbsUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1798,\n        columnNumber: 85\n      }\n    })) : \"\")))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1806,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 7,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1814,\n        columnNumber: 64\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `list-group-search tool-search ${this.state.showSearch ? 'activesearch' : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1815,\n        columnNumber: 64\n      }\n    }, /*#__PURE__*/React.createElement(SearchIcon, {\n      className: \"search-icon\",\n      onClick: this.toggleSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1816,\n        columnNumber: 68\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1817,\n        columnNumber: 70\n      }\n    })), /*#__PURE__*/React.createElement(FormControl, {\n      ref: this.searchRef,\n      autoComplete: \"off\",\n      className: \"k-textbox\",\n      onChange: this.handleSearch,\n      placeholder: `${this.props.intl.formatMessage({\n        id: \"IDS_FILTER\"\n      })}`,\n      name: \"search\",\n      onKeyUp: e => this.handlenavigation(e, 'down'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1819,\n        columnNumber: 68\n      }\n    }), this.props.showSearch ? /*#__PURE__*/React.createElement(SearchIcon, {\n      className: \"close-right-icon\",\n      onClick: this.toggleSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1825,\n        columnNumber: 70\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTimes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1826,\n        columnNumber: 72\n      }\n    })) : \"\")), /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1831,\n        columnNumber: 64\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"btn btn-icon-rounded btn-circle solid-blue\",\n      role: \"button\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_NAVIGATEDOWN\"\n      }),\n      onClick: e => this.handlenavigation(e, 'down'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1833,\n        columnNumber: 64\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowDown,\n      title: this.props.intl.formatMessage({\n        id: \"IDS_NAVIGATEDOWN\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1836,\n        columnNumber: 70\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      className: \"btn btn-icon-rounded btn-circle solid-blue\",\n      role: \"button\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_NAVIGATEUP\"\n      }),\n      onClick: e => this.handlenavigation(e, 'up'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1839,\n        columnNumber: 68\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowUp,\n      title: this.props.intl.formatMessage({\n        id: \"IDS_NAVIGATEDOWN\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1842,\n        columnNumber: 70\n      }\n    }))), /*#__PURE__*/React.createElement(TreeViewEditable, {\n      id: \"samplestoragelocation\",\n      name: \"samplestoragelocation\" // label=\"Sample Storage Location\"\n      ,\n      data: this.state.searchedTreeData || this.state.treeDataView,\n      expandIcons: true,\n      selectField: 'active-node',\n      item: this.itemRenderView,\n      onExpandChange: this.onExpandChangeView,\n      onItemClick: this.onItemClickView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1849,\n        columnNumber: 65\n      }\n    }))) : \"\"))))))))), this.props.Login.openModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal,\n      closeModal: this.closeModal,\n      operation: this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_SAMPLESTORAGELOCATION\"\n      }),\n      onSaveClick: this.onSaveClick,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: this.props.Login.loadTreeProperties === true ? [] : mandatoryFields,\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        formatMessage: this.props.intl.formatMessage,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1893,\n          columnNumber: 29\n        }\n      }) : this.props.Login.loadTreeProperties ? /*#__PURE__*/React.createElement(AddTreeProperties, {\n        onInputChange: e => this.onInputChange(e),\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1901,\n          columnNumber: 33\n        }\n      }) : this.state.treeData ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1907,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(AddTreeview, {\n        clearSearchedState: this.clearSearchedState,\n        toggleSearch: this.toggleSearch,\n        handleSearch: this.handleSearch,\n        handlenavigation: this.handlenavigation,\n        showSearch: this.state.showSearch,\n        treeData: //this.state.searchedTreeData||\n        this.state.treeData,\n        onInputChange: e => this.onInputChange(e),\n        selectedRecord: this.state.selectedRecord || {},\n        itemRender: this.itemRender,\n        onExpandChange: this.onExpandChange,\n        onItemClick: this.onItemClick,\n        onComboChange: this.onComboChange,\n        onItemDragOver: this.onItemDragOver,\n        onItemDragEnd: this.onItemDragEnd,\n        storageCategoryList: this.props.Login.storageCategoryList || [],\n        isOnlyDraft: this.props.Login.isOnlyDraft,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1910,\n          columnNumber: 33\n        }\n      }))) : /*#__PURE__*/React.createElement(React.Fragment, null),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1880,\n        columnNumber: 21\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  updateStore,\n  validateEsignCredential,\n  filterColumnData,\n  changeStorageCategoryFilter,\n  getSelectedSampleStorageLocation,\n  openPropertyModal,\n  editSampleStorageLocation,\n  approveSampleStorageLocation,\n  getSelectedSampleStorageVersion,\n  fetchStorageCategory,\n  copySampleStorageVersion,\n  crudSampleStorageLocation\n})(injectIntl(SampleStorageLocation));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/basemaster/SampleStorageLocation.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Form","Button","FormControl","FontAwesomeIcon","PerfectScrollbar","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faBoxOpen","faBox","faLocationArrow","faFolderMinus","faFolder","faFolderOpen","faArrowRight","faSearch","faTimes","faArrowDown","faHandPointLeft","faArrowUp","faClone","toast","ListMaster","constructOptionList","getControlMap","showEsign","ReadOnlyText","ContentPanel","SearchIcon","SlideOutModal","callService","crudMaster","validateEsignCredential","updateStore","getSelectedSampleStorageLocation","filterColumnData","changeStorageCategoryFilter","openPropertyModal","editSampleStorageLocation","approveSampleStorageLocation","getSelectedSampleStorageVersion","fetchStorageCategory","copySampleStorageVersion","crudSampleStorageLocation","DEFAULT_RETURN","ListWrapper","ProductList","uuid","TreeEditable","TreeViewEditable","getItemPath","mapTree","removeItems","ConfirmMessage","AddTreeview","AddTreeProperties","Splitter","TransactionListMaster","BreadcrumbComponent","SplitterLayout","StorageCategoryFilter","transactionStatus","Esign","TreeViewDragAnalyzer","moveTreeViewItem","SampleStorageLocation","constructor","props","dragOverCnt","isDragDrop","SEPARATOR","uniqueIDArr","countforTree","pointedItem","undefined","getitemPath","onChange","event","setState","panes","newState","getSiblings","itemIndex","data","result","indices","split","map","index","Number","i","length","items","onItemDragOver","dragClue","show","pageY","pageX","item","text","getClueClassName","onItemDragEnd","hide","eventAnalyzer","init","isDropAllowed","updatedTree","itemHierarchicalIndex","state","treeData","getDropOperation","destinationMeta","tree","addChildNode","e","clickedItem","ParentItem","searchClickedItemParent","expanded","newData","id","push","intl","formatMessage","editable","locationlastnode","containerfirstnode","containerlastnode","itemhierarchy","cloneNode","parentItem","parentID","clonedParentID","parentFound","cloneItems","clonedparentFound","newData1","clonedNewParentID","levelBasedParents","cloneditem","warn","count","equalNode","deleteNode","root","editRecord","toggleAction","openModal","updateInfo","typeName","selectedRecord","loadTreeProperties","operation","closeModal","loadEsign","Login","selectedId","onInputChange","target","type","name","checked","value","itemRender","stopPropagation","handleChange","handleBlur","isRoot","onItemClick","searchedData","searchedTreeData","item1","toggleSearch","showSearch","clearSearchedState","navigationCounter","counter","handleSearch","search","term","reduce","acc","contains","newItems","handlenavigation","direction","key","document","querySelector","navigateSearchedTree","treeDataView","JSON","parse","stringify","selected","includes","some","toLowerCase","indexOf","onExpandChange","shrinkNodes","forceUpdate","itemRenderView","toggleActionView","setProperties","onItemClickView","itemText","clearSelected","onExpandChangeView","editId","controlMap","has","get","ncontrolcode","masterData","selectedSampleStorageVersion","userInfo","onSaveClick","saveType","formRef","onSaveProperties","onSaveSampleStorageLocation","napprovalstatus","DRAFT","inputData","jsondata","postParam","info","inputListName","selectedObject","primaryKeyField","selectedSampleStorageLocation","inputParam","classUrl","methodUrl","displayName","userRoleControlRights","nformcode","screenData","countLevels","deleteSampleStorageLocation","ncontrolCode","searchRef","current","screenName","confirmDelete","confirmMessage","confirm","paneSizeChange","d","splitChangeWidthPercentage","handlePageChange","skip","take","handleDetailPageChange","onComboChange","comboData","fieldName","caseNo","nfilterStorageCategory","openFilter","showFilter","closeFilter","onFilterSubmit","nstoragecategorycode","userinfo","filterStorageCategory","onApproveSampleStorageLocation","locationEnd","storageStart","storageEnd","containers","itemHierarchy","scontainercode","copySampleStorageversion","reloadData","onEditSampleStorageLocation","isOnlyDraft","sampleStorageVersion","openStorageLocation","addId","Object","keys","warning","onInputOnChange","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","title","children","size","scrollable","Map","detailSkip","detailTake","settings","selectedItem","createRef","getDerivedStateFromProps","masterStatus","error","componentDidUpdate","previousProps","isComponentUpdated","filterData","values","nStorageCategory","filterStorageCategoryMap","filterCategory","filter","generateBreadCrumData","endsWith","siblings","lastIndex","pop","generateUUID","innerObj","parentIDNew","innerObjNew","Obj","childObj","childArray","childData","componentDidMount","parentHeight","height","clientHeight","firstPane","breadCrumbData","selectedStorageCategoryName","render","deleteId","copyId","approveId","filterParam","fetchUrl","fecthInputObject","searchFieldList","mandatoryFields","sampleStorageLocation","paddingRight","ssamplestoragelocationname","RETIRED","storageCategoryList","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button, FormControl } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight, faSearch, faTimes, faArrowDown, faHandPointLeft, faArrowUp, faClone } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel, SearchIcon } from '../../components/App.styles';\r\n//import SortableTree from 'react-sortable-tree'; \r\n\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, filterColumnData, changeStorageCategoryFilter,\r\n    openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion,\r\n    crudSampleStorageLocation\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { ProductList } from '../product/product.styled';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { uuid } from \"uuidv4\";\r\nimport TreeEditable from \"../../components/form-tree-editable/TreeEditable\";\r\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\r\nimport { getItemPath, mapTree, removeItems } from \"@progress/kendo-react-treelist\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport AddTreeview from './AddTreeview';\r\nimport AddTreeProperties from './AddTreeProperties';\r\nimport { Splitter } from '@progress/kendo-react-layout';\r\nimport TransactionListMaster from '../../components/TransactionListMaster';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport StorageCategoryFilter from './StorageCategoryFilter';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport Esign from '../audittrail/Esign';\r\nimport { TreeViewDragAnalyzer, moveTreeViewItem } from '@progress/kendo-react-treeview';\r\n\r\n \r\n\r\nclass SampleStorageLocation extends Component {\r\n    dragOverCnt = 0;\r\n    isDragDrop = false;\r\n    SEPARATOR = '_'; \r\n     uniqueIDArr=[];\r\n      countforTree=0;\r\n     pointedItem=undefined\r\n     getitemPath={};\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            treeData: [{ title: 'Chicken', children: [ { title: 'Egg' } ] }],\r\n            toggleAction: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            treeData: [\r\n                {\r\n                  //  text: \"root\",\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_ROOT\" }),\r\n                    expanded: true,\r\n                    editable: true,\r\n                    root: true,\r\n                    id: uuid(),\r\n                }],\r\n            panes: [{\r\n                size: '50%',\r\n                scrollable: false\r\n            }],\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            selectedItem: undefined\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.dragClue  = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    onChange = (event) => {\r\n\r\n        this.setState({ panes: event.newState })\r\n\r\n    };\r\n    componentDidUpdate(previousProps) {\r\n\r\n        let isComponentUpdated = false;\r\n        let { filterData } = this.state;\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ controlMap, userRoleControlRights });\r\n        } \r\n        if (this.props.Login.treeData !== previousProps.Login.treeData) {\r\n            this.setState({\r\n                treeData: this.props.Login.treeData\r\n            });\r\n        }\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\r\n\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n                if(this.searchRef.current){\r\n                    this.searchRef.current.value = \"\"; \r\n                }\r\n                this.handleSearch();\r\n                this.setState({\r\n                    treeDataView:\r\n                        JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data,\r\n                        searchedTreeData: undefined,\r\n                        showSearch:   false\r\n                });\r\n            } else {\r\n                if(this.searchRef.current){\r\n                    this.searchRef.current.value = \"\"; \r\n                }\r\n                this.handleSearch();\r\n                this.setState({\r\n                    treeDataView: undefined,\r\n                    searchedTreeData: undefined,\r\n                    showSearch:   false\r\n                });\r\n            }\r\n        }\r\n        let nfilterStorageCategory = this.state.nStorageCategory || {};\r\n        let filterStorageCategory = this.state.filterStorageCategory || {};\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\r\n            filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\r\n            if (filterStorageCategory && filterStorageCategory.length > 0) {\r\n\r\n                const filterCategory = filterStorageCategory.filter(item => item.value === this.props.Login.masterData.nfilterStorageCategory);//filterStorageCategory[0];\r\n                nfilterStorageCategory = filterCategory[0];\r\n            }\r\n            isComponentUpdated = true;\r\n        } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\r\n            nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\r\n            isComponentUpdated = true;\r\n        }\r\n        if (isComponentUpdated) {\r\n            this.setState({ nfilterStorageCategory, selectedRecord, filterStorageCategory });\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({\r\n                selectedRecord: this.props.Login.selectedRecord\r\n            });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n    }\r\n      getSiblings = (itemIndex, data) => {\r\n        let result = data;\r\n        const indices = itemIndex.split(this.SEPARATOR).map(index => Number(index));\r\n        for (let i = 0; i < indices.length - 1; i++) {\r\n          result = result[indices[i]].items || [];\r\n        }\r\n        return result;\r\n      };\r\n\r\n    getClueClassName(event) {\r\n        const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\r\n        const {\r\n          itemHierarchicalIndex: itemIndex\r\n        } = eventAnalyzer.destinationMeta;\r\n        if (eventAnalyzer.isDropAllowed) {\r\n          switch (eventAnalyzer.getDropOperation()) {\r\n            case 'child':\r\n              return 'k-i-plus';\r\n            case 'before':\r\n              return itemIndex === '0' || itemIndex.endsWith(`${this.SEPARATOR}0`) ? 'k-i-insert-up' : 'k-i-insert-middle';\r\n            case 'after':\r\n              const siblings = this.getSiblings(itemIndex, this.state.tree);\r\n              const lastIndex = Number(itemIndex.split(this.SEPARATOR).pop());\r\n              return lastIndex < siblings.length - 1 ? 'k-i-insert-middle' : 'k-i-insert-down';\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n        return 'k-i-cancel';\r\n      }\r\n    onItemDragOver = event => {\r\n        this.dragOverCnt++;\r\n       this.dragClue.show(event.pageY + 10, event.pageX, event.item.text, this.getClueClassName(event));\r\n      };\r\n    onItemDragEnd = event => {\r\n        this.isDragDrop = this.dragOverCnt > 0;\r\n        this.dragOverCnt = 0;\r\n       this.dragClue.hide();\r\n        const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\r\n        if (eventAnalyzer.isDropAllowed) {\r\n          const updatedTree = moveTreeViewItem(event.itemHierarchicalIndex, this.state.treeData, eventAnalyzer.getDropOperation() || 'child', eventAnalyzer.destinationMeta.itemHierarchicalIndex);\r\n          this.setState({\r\n            tree: updatedTree\r\n          });\r\n        }\r\n      };\r\n    addChildNode = (e, clickedItem) => { \r\n\r\n        let ParentItem=this.searchClickedItemParent(this.state.treeData[0]) \r\n        if(ParentItem){\r\n            ParentItem.items.map(item=>{\r\n                item.expanded=false;\r\n            }); \r\n        }  \r\n       \r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.id === clickedItem.id) {\r\n                item.items = item.items || [];\r\n                item.expanded=true\r\n                item.items.push({\r\n                    id: uuid(),\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                    expanded: true,\r\n                    editable: false,\r\n                    locationlastnode: false,\r\n                    containerfirstnode: false,\r\n                    containerlastnode: false,\r\n                    itemhierarchy: \"\"\r\n                });\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData });\r\n    };\r\n\r\n    // generateUUID(innerObj) {\r\n       \r\n    //     // let parentIDNew=uuid()\r\n    //     // let innerObjNew={...innerObj,\r\n    //     //                 'id':parentIDNew } \r\n    //     // if (innerObjNew.items && innerObjNew.items.length > 0) {\r\n    //     //     innerObjNew.items.map((childObj) => { \r\n    //     //         childObj={...childObj,\r\n    //     //         'parentID':parentIDNew}\r\n    //     //         this.generateUUID(childObj)\r\n    //     //     })\r\n    //     // }\r\n    //     let parentIDNew=uuid()\r\n    //     let innerObjNew={...innerObj,\r\n    //            'id':parentIDNew } \r\n    //  if (innerObjNew.items && innerObjNew.items.length > 0) {\r\n    //        innerObjNew.items.map((childObj) => { \r\n    //                 childObj={...childObj,\r\n    //                 'parentID':parentIDNew}\r\n    //                 return  this.generateUUID(childObj)\r\n    //             })\r\n    // } \r\n    //     return innerObjNew\r\n    // }\r\n\r\n    generateUUID(innerObj){\r\n        let parentIDNew=uuid()\r\n        let innerObjNew={...innerObj,\r\n               'id':parentIDNew } \r\n\r\n             //  innerObj['id']=parentIDNew  \r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            for (let Obj of innerObj.items){\r\n                let childObj=Obj;\r\n                childObj={...childObj,\r\n                    'parentID':parentIDNew}     \r\n                    //childObj['parentID']=parentIDNew\r\n\r\n                    this.generateUUID(childObj); \r\n            } \r\n        } \r\n        return innerObj;\r\n      }\r\n\r\n      searchClickedItemParent(treeData,clickedItem){\r\n        let ParentItem={...treeData}; \r\n            if(ParentItem.items&&ParentItem.items.length > 0){ \r\n                let childArray=ParentItem.items; \r\n                if(childArray.length > 0){\r\n                    for(var i=0;i<childArray.length;i++){ \r\n                        let childData=childArray[i]\r\n                        if(clickedItem?(clickedItem.id===childData.id):(childData.editable===true)){ \r\n                            return treeData;\r\n                        }else{\r\n                            if(childData.items){\r\n                                ParentItem= this.searchClickedItemParent(childData,clickedItem)\r\n                                if (ParentItem) {\r\n                                    return ParentItem;\r\n                                }\r\n                            } \r\n                        }\r\n                    } \r\n                }\r\n            }  \r\n        //    return ParentItem;\r\n      }\r\n    cloneNode= (e, clickedItem) => {\r\n        let parentItem = {};\r\n        let parentID = '';\r\n        let clonedParentID = '';\r\n        let parentFound = false;\r\n        let cloneItems = {};\r\n        let clonedparentFound = false;\r\n        let newData = [...this.state.treeData];\r\n        let newData1 = [...this.state.treeData];\r\n        mapTree( this.state.treeData\r\n            , \"items\", (item) => {\r\n            // if (item.items) {\r\n            //     if (parentFound&&(item.id===parentID)) {\r\n            //         parentItem = item;\r\n            //         parentFound = false;\r\n            //     }\r\n            // }\r\n\r\n            if (item.id === clickedItem.id) {\r\n                parentFound = true;\r\n                parentID=clickedItem.parentID\r\n                parentItem=this.searchClickedItemParent(this.state.treeData[0]) \r\n            }\r\n            if (item.editable===true) { \r\n                 clonedParentID=uuid();\r\n                 let  clonedNewParentID=uuid(); \r\n            //     //  let clonedObject=//{...item}\r\n            //     //   Object.assign({}, item);\r\n            //       const clonedObject = JSON.parse(JSON.stringify(item1));\r\n            //      cloneItems =//[{...clonedObject}].map((data) => {\r\n            //       // return \r\n            //        this.generateUUID(clonedObject)\r\n            //    // })\r\n                let levelBasedParents={}\r\n                cloneItems =  mapTree([{...item}], \"items\", (cloneditem) => {\r\n                    // const indices = cloneditem.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                    // let x=getItemPath(this.state.treeData,indices,\"items\")\r\n                    // console.log('------------->',cloneditem)\r\n                    // if(cloneditem.items===undefined&&clonedparentFound){\r\n                    //     clonedParentID=uuid();\r\n                    //     clonedparentFound=false;\r\n                    // }\r\n                    // else{\r\n                    //     clonedNewParentID=uuid();\r\n                    // }\r\n                    // if(!levelBasedParents.hasOwnProperty(cloneditem.itemHierarchicalIndex)){\r\n                    //     let level=cloneditem.itemHierarchicalIndex;\r\n                    //     levelBasedParents={...levelBasedParents,\r\n                    //                         [level]:uuid()\r\n                    //                     }\r\n                    // }\r\n                    // if(cloneditem.items){\r\n                    //      //if ClonedItem is a Parent\r\n                         \r\n                    //     cloneditem={\r\n                    //         ...cloneditem,\r\n                    //         'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedNewParentID\r\n                    //         ,\r\n                    //         'id':clonedParentID,\r\n                    //         'editable': false \r\n                    //     } \r\n                    //     clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\r\n                    //     //  clonedParentID=uuid()//clonedNewParentID;\r\n                    //     // clonedparentFound=true;\r\n                    // }else{\r\n                         //if ClonedItem is a Child\r\n                        cloneditem={\r\n                            ...cloneditem,\r\n                            //'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedParentID\r\n                           // ,\r\n                            'id':uuid(),\r\n                            'editable': false ,\r\n                            'expanded': false \r\n                     //   }\r\n                      //  clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\r\n                    } \r\n                    return cloneditem;\r\n                });\r\n            }\r\n\r\n            // item={\r\n            //    ...item,\r\n            //     'id':uuid(),\r\n            //   'editable': false \r\n            //     } \r\n              return item;\r\n        });\r\n        if(parentItem===undefined){\r\n            return toast.warn(this.props.intl.formatMessage({id:\"IDS_ROOTNODECANNOTBEDELETED\"}))\r\n    }\r\n            let count=1;\r\n            newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n               \r\n                if (item.id === parentItem.id) {\r\n                    count++;\r\n                    item.items.push(\r\n                    // {\r\n                    // ...cloneItem,\r\n                    // 'id':uuid(),\r\n                    // 'editable': false,\r\n                    // 'text': cloneItem['text']+'('+count+')'\r\n                    // } \r\n                    {\r\n                    ...cloneItems[0]\r\n                    ,\r\n                   'parentID':parentID,\r\n                   // 'id':clonedParentID\r\n                    }\r\n                    );\r\n                }\r\n                return item;\r\n            });\r\n            this.setState({ treeData: newData });\r\n    }\r\n    equalNode = (e, clickedItem) => {\r\n        let parentItem = {};\r\n        let parentFound = false;\r\n        let newData = [...this.state.treeData];\r\n        mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.items) {\r\n                if (parentFound) {\r\n                    parentItem = item;\r\n                    parentFound = false;\r\n                }\r\n            }\r\n\r\n            if (item.id === clickedItem.id) {\r\n                parentFound = true;\r\n            }\r\n\r\n            return item;\r\n        });\r\n        if (parentItem.text === undefined) {\r\n            newData.push({\r\n                id: uuid(),\r\n                text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                expanded: true,\r\n                editable: false,\r\n                locationlastnode: false,\r\n                containerfirstnode: false,\r\n                containerlastnode: false,\r\n                itemhierarchy: \"\"\r\n            });\r\n            this.setState({ treeData: newData });\r\n        } else {\r\n            newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n                if (item.id === parentItem.id) {\r\n                    item.items.push({\r\n                        id: uuid(),\r\n                        text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                        expanded: true,\r\n                        editable: false,\r\n                        locationlastnode: false,\r\n                        containerfirstnode: false,\r\n                        containerlastnode: false,\r\n                        itemhierarchy: \"\"\r\n                    });\r\n                }\r\n                return item;\r\n            });\r\n            this.setState({ treeData: newData });\r\n        }\r\n    };\r\n    deleteNode = (clickedItem) => {\r\n        if (clickedItem.root && clickedItem.root === true) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PARENTNODENOTALLOWTODELETE\" }));\r\n        } else {\r\n            const newData = removeItems(this.state.treeData, \"items\", (item) => {\r\n                return item.id === clickedItem.id;\r\n            });\r\n            this.setState({ treeData: newData });\r\n        }\r\n    };\r\n    editRecord = (e, clickedItem) => {\r\n        this.setState({ toggleAction: !this.state.toggleAction });\r\n    };\r\n    openModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true, selectedRecord: {}, loadTreeProperties: false,\r\n                treeData: [\r\n                    {\r\n                        text: \"root\",\r\n                        expanded: true,\r\n                        editable: true,\r\n                        root: true,\r\n                        id: uuid(),\r\n                    },\r\n                ], operation: \"create\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openModal: false, selectedRecord: {}\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Approve\" || this.props.Login.operation === \"copy\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                selectedId = null;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === \"checkbox\") {\r\n            selectedRecord[event.target.name] = event.target.checked;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    itemRender = (props) => {\r\n        if (this.state.toggleAction) {\r\n            return (\r\n                <>\r\n                    {props.item.editable ? (\r\n                        <Form.Group className=\"k-editable-text-wrap\">\r\n                            <Form.Control\r\n                                id={\"nodename\"}\r\n                                name={\"nodename\"}\r\n                                type=\"text\"\r\n                                onKeyDown={(e) => e.stopPropagation()}\r\n                                value={props.item.text}\r\n                                autoFocus\r\n                                autoComplete=\"off\"\r\n                                onChange={(e) => this.handleChange(e, props.item)}\r\n                                onBlur={(e) => this.handleBlur(e, props.item)}\r\n                                maxLength=\"50\"\r\n                            />\r\n                        </Form.Group>\r\n                    ) : (\r\n                        <span>{props.item.text}</span>\r\n                    )}\r\n                </>\r\n            );\r\n        } else {\r\n            return (\r\n                <>\r\n                    {props.item ? (\r\n                        <>\r\n                        <span className='d-flex align-items-center'>\r\n                            <span className={`normal-node text-truncate\r\n                            ${props.item.editable ? \"active-node\" : \"\"}\r\n                            ${props.item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                            `} data-tip={props.item.text}>\r\n                                {props.item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                    props.item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                        props.item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                            props.item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                {props.item.text}\r\n                            </span>\r\n                            {props.item.editable ? (\r\n                                <>\r\n                                     <span\r\n                                        className=\"action-icon tree-level1\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CLONENODE\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.cloneNode(e, props.item);\r\n                                        }}\r\n                                    ></span>  \r\n{/* \r\n                                <Button   className=\"action-icon tree-level1\" role=\"button\"\r\n                                                 data-tip={this.props.intl.formatMessage({ id: \"IDS_CLONENODE\" })}\r\n                                                onClick={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    this.cloneNode(e, props.item);\r\n                                                }}>\r\n                                                <FontAwesomeIcon icon={faClone}\r\n                                                 title={this.props.intl.formatMessage({ id: \"IDS_CLONENODE\" })} />\r\n                                            </Button> */}\r\n                                    {/* <span\r\n                                        className=\"action-icon tree-level1\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EQUALNODE\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.equalNode(e, props.item);\r\n                                        }}\r\n                                    ></span> */}\r\n                                    <span\r\n                                        className=\"action-icon tree-level2\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CHILDNODE\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.addChildNode(e, props.item);\r\n                                        }}\r\n                                    ></span>\r\n                                    <span\r\n                                        className=\"k-icon k-i-edit k-i-pencil ml-2\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.editRecord(e, props.item);\r\n                                        }}\r\n                                    ></span>\r\n                                    {!props.item.isRoot ? (\r\n                                        <span\r\n                                            className=\"k-icon k-i-delete ml-2\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                this.deleteNode(props.item);\r\n                                            }}\r\n                                        ></span>\r\n                                    ) : null}\r\n                                </>\r\n                            ) : null}\r\n                            </span>\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClick = (event) => {\r\n        // if (selectedItem) {\r\n        //     selectedItem.editable = false;\r\n        //   }\r\n        //   event.item.editable = true;\r\n        //   selectedItem = event.item; \r\n          \r\n\r\n        let searchedData =undefined;\r\n        if(this.state.searchedTreeData){\r\n             searchedData = mapTree(this.state.searchedTreeData, \"items\", (item1) => {\r\n                if (item1.editable === true) {\r\n                    item1.editable = false;\r\n                } else if (item1.id === event.item.id) {\r\n                    item1.editable = true;\r\n                }\r\n                return item1;\r\n            });\r\n        } \r\n\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData,searchedTreeData: searchedData  });\r\n    };\r\n\r\n\r\n    shrinkNodes(ParentItem){ \r\n          //  ParentItem.expanded=false;\r\n            if(ParentItem.items&&ParentItem.items.length > 0){ \r\n                let childArray=ParentItem.items; \r\n                if(childArray.length > 0){\r\n                    for(var i=0;i<childArray.length;i++){ \r\n                        let childData=childArray[i] \r\n                        childData.expanded=false;\r\n                            if(childData.items){ \r\n                              this.shrinkNodes(childData) \r\n                            }  \r\n                    } \r\n                }\r\n            }   \r\n      }\r\n\r\n      toggleSearch = () => {\r\n        this.setState({\r\n            showSearch:   !this.state.showSearch\r\n        })\r\n        }\r\n    clearSearchedState= () => {\r\n    this.setState({\r\n        searchedTreeData: undefined,\r\n        showSearch:   false\r\n    })\r\n        }\r\n\r\n    navigationCounter=()=>{\r\n        let counter=this.state.counter||0;\r\n\r\n        return counter;\r\n    }    \r\n    // handleSearch = () => { \r\n    //     let value = document.querySelector('.k-textbox').value\r\n    //     this.uniqueIDArr=[]\r\n    //     this.countforTree=0;\r\n    //     let newData = this.search(this.state.treeDataView, value) \r\n    //     //Always root node should be expanded\r\n    //     newData[0].expanded=true;  \r\n    //     if(value===\"\"){\r\n    //         this.pointedItem=undefined\r\n    //         this.setState({ searchedTreeData: undefined })\r\n    //     }else{\r\n    //         this.setState({ searchedTreeData: JSON.parse(JSON.stringify(newData)) })\r\n    //     }\r\n    //   }\r\n      handleSearch = () => { \r\n        this.uniqueIDArr=[]\r\n        this.pointedItem=undefined\r\n        this.countforTree=0;\r\n        //this.setState({searchedTreeData: undefined})\r\n      }\r\n      search = (items, term) => { \r\n        return items.reduce((acc, item) => {\r\n           if (this.contains(item.text, term)) { \r\n             this.uniqueIDArr.push(item.id); \r\n             acc.push(item); \r\n           } else if (item.items && item.items.length > 0) {\r\n             let newItems = this.search(item.items, term);\r\n             if (newItems && newItems.length > 0) { \r\n               acc.push({ ...item,text: item.text, items: newItems, expanded:   acc.length===0? \r\n                true   :false//item.expanded\r\n            \r\n            });\r\n             }\r\n           }\r\n           return acc;\r\n         }, []);\r\n       }\r\n\r\n       handlenavigation = (e,direction) => { \r\n        if (e.key === 'Enter' ||e.type==='click') {\r\n        let value = document.querySelector('.k-textbox').value \r\n        if(value!==\"\"){\r\n\r\n            if(direction==='up'){\r\n                //Navigate up\r\n                this.countforTree--;\r\n               if(this.countforTree<=0){\r\n                   this.countforTree=0;\r\n                 \r\n               }\r\n           } else{ \r\n           //if(direction==='down'){\r\n            //Navigate down\r\n            this.countforTree++;\r\n            if(this.countforTree>=this.uniqueIDArr.length){\r\n                if((this.uniqueIDArr.length-1)===-1){\r\n                    this.countforTree=0;\r\n                }else{\r\n                    this.countforTree=this.uniqueIDArr.length-1;\r\n                }\r\n               \r\n                //toast.info(this.props.intl.formatMessage({ id: \"IDS_NOMORENODESTOSEARCH\" }))\r\n            }\r\n        }\r\n\r\n            let newData = this.navigateSearchedTree(this.state.treeDataView, value)   \r\n         \r\n        \r\n            this.setState({ searchedTreeData: JSON.parse(JSON.stringify(newData)) })\r\n        } \r\n         else {\r\n            this.setState({ searchedTreeData: undefined })\r\n        } \r\n    }\r\n      }\r\n       navigateSearchedTree = (items, term) => { \r\n        return items.reduce((acc, item) => {\r\n            if(item.editable){\r\n                item.editable=false \r\n            }\r\n            if( item.selected){\r\n                item.selected=false \r\n            } \r\n           if (this.contains(item.text, term)) {  \r\n\r\n            if(!this.uniqueIDArr.includes(item.id)){\r\n                this.uniqueIDArr.push(item.id); \r\n            } \r\n            if(item.id===this.uniqueIDArr[this.countforTree]){ \r\n                if (this.pointedItem) {\r\n                    this.pointedItem = undefined;\r\n                  }\r\n                  this.pointedItem = item; \r\n            }  \r\n             acc.push(item); \r\n           } else if (item.items && item.items.length > 0) {\r\n             let newItems = this.navigateSearchedTree(item.items, term);\r\n             if (newItems && newItems.length > 0) { \r\n               if(newItems.some(item=>item.id===this.uniqueIDArr[this.countforTree])){\r\n                acc.push({ ...item,text: item.text, items: newItems, expanded:true});\r\n               }else{\r\n                acc.push({ ...item,text: item.text, items: newItems, expanded:\r\n                    newItems.some(item=>item.expanded===true) ? true :  false});\r\n               }\r\n               \r\n             }\r\n           }\r\n           return acc;\r\n         }, []);\r\n       }\r\n\r\n       contains = (text, term) => {\r\n        return text.toLowerCase().indexOf(term.toLowerCase()) >= 0;\r\n      }\r\n    onExpandChange = (event) => {  \r\n         let clickedItem=event.item   \r\n        if(!event.item.expanded){\r\n        //this.onItemClick(event)\r\n        let ParentItem=this.searchClickedItemParent(//this.state.searchedTreeData&&\r\n            //this.state.searchedTreeData[0]||\r\n            this.state.treeData[0],clickedItem) \r\n        if(ParentItem){\r\n            ParentItem.items.map(item=>{\r\n                item.expanded=false;\r\n            }); \r\n        } \r\n        this.shrinkNodes(event.item);\r\n      }\r\n        event.item.expanded = !event.item.expanded;\r\n \r\n        this.forceUpdate();\r\n    };\r\n    itemRenderView = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        this.getitemPath={...this.getitemPath,[item.id]:clickedItem.itemHierarchicalIndex}\r\n        if (!this.state.toggleActionView) {\r\n            return (\r\n                <>\r\n                    {clickedItem.item ? (\r\n                        <>\r\n                        <span className='d-flex align-items-center'>\r\n                            <span className={`normal-node text-truncate\r\n                        ${this.pointedItem?(item.id===this.pointedItem.id)&&!item.selected? \"pointed-node\" : item.selected ? \"active-node\" : \"\":\r\n                        item.selected ? \"active-node\" : \"\" }\r\n                        ${item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                        `} data-tip={item.text}>\r\n                                {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                    item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                        item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                            item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                {item.text}\r\n                            </span>\r\n                            {/* <ul className=\"list-inline mb-0\">\r\n                                <li className=\"list-inline-item mr-3\">{clickedItem.item.text}</li> */}\r\n                            {  this.pointedItem&&item.id===this.pointedItem.id ?  \r\n                            <FontAwesomeIcon icon={faHandPointLeft} bounce \r\n                            /> \r\n                            :\r\n                            clickedItem.item.editable ? (\r\n                                <>\r\n                                    {/* <li className=\"list-inline-item\"> */}\r\n                                    <span\r\n                                        className=\"action-icon tree-toggle m-l-half\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_PROPERTIES\" })}\r\n                                        onClick={(e) => this.setProperties(e, clickedItem)}\r\n                                    ></span>\r\n                                    {/* </li> */}\r\n                                </>\r\n                            ) : null}\r\n                            {/* </ul> */}\r\n                            </span>\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClickView = (event) => {\r\n        // if (this.state.selectedItem) {\r\n        //     let selectedobj = this.state.selectedItem;\r\n        //         selectedobj.selected = false\r\n        //     this.setState({\r\n        //         selectedItem : selectedobj\r\n        //     })\r\n        // }\r\n        // this.setState({\r\n        //     selectedItem : event.item\r\n        // })             \r\n        let searchedData =undefined;\r\n        if(this.state.searchedTreeData){\r\n             searchedData = mapTree(this.state.searchedTreeData, \"items\", (item) => {\r\n                if (item.editable === true) {\r\n                    item.editable = false;\r\n                } else if (item.id === event.item.id) {\r\n                    item.editable = true;\r\n                    if(this.pointedItem){\r\n                        if(this.pointedItem.id===item.id){\r\n                            this.pointedItem=undefined\r\n                        }\r\n                    }\r\n                    let result = this.state.searchedTreeData;\r\n                    const indices = \r\n                event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                    let itemText = \"\";\r\n    \r\n                    for (let i = 0; i < indices.length; i++) {\r\n                        if (i === 0) {\r\n                            result = result[0];\r\n                        } else {\r\n                            result = result.items[indices[i]];\r\n                        }\r\n                        itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                    }\r\n                    item.itemhierarchy = itemText;\r\n                }\r\n                return item;\r\n            });\r\n       \r\n        searchedData.map((data) => {\r\n            this.clearSelected(data, event.item)\r\n        })\r\n         } \r\n        let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n\r\n                let result = this.state.treeDataView;\r\n                const indices = \r\n                event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                let itemText = \"\";\r\n\r\n                for (let i = 0; i < indices.length; i++) {\r\n                    if (i === 0) {\r\n                        result = result[0];\r\n                    } else {\r\n                        result = result.items[indices[i]];\r\n                    }\r\n                    itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                }\r\n                item.itemhierarchy = itemText;\r\n            }\r\n            return item;\r\n        });\r\n        newData.map((data) => {\r\n            this.clearSelected(data, event.item)\r\n        })\r\n\r\n\r\n        this.setState({ treeDataView: newData,searchedTreeData: searchedData });\r\n    };\r\n    clearSelected(innerObj, selectedItem) {\r\n        if (innerObj.id == selectedItem.id) {\r\n            innerObj.selected = true;\r\n        } else {\r\n            innerObj.selected = false;\r\n        }\r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            innerObj.items.map((childObj) => {\r\n                this.clearSelected(childObj, selectedItem)\r\n            })\r\n        }\r\n        return innerObj\r\n    }\r\n    onExpandChangeView = (event) => {\r\n\r\n        let clickedItem=event.item   \r\n        if(!event.item.expanded){\r\n        //this.onItemClick(event)\r\n        let ParentItem=this.searchClickedItemParent(this.state.searchedTreeData&&\r\n            this.state.searchedTreeData[0]||this.state.treeDataView[0],clickedItem) \r\n        if(ParentItem){\r\n            ParentItem.items.map(item=>{\r\n                item.expanded=false;\r\n            }); \r\n        } \r\n        this.shrinkNodes(event.item);\r\n      }\r\n\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n    setProperties = (event, clickedItem) => {\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        this.props.openPropertyModal(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, clickedItem, editId);\r\n    };\r\n\r\n    handleChange = (e, clickedItem) => {\r\n        let searchedData =undefined;\r\n        if(this.state.searchedTreeData){\r\n             searchedData = mapTree(this.state.searchedTreeData, \"items\", (item) => {\r\n                if (item.id === clickedItem.id) {\r\n                    item.text = e.target.value;\r\n                }\r\n                return item;\r\n            });\r\n        } \r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.id === clickedItem.id) {\r\n                item.text = e.target.value;\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData,searchedTreeData: searchedData });\r\n    };\r\n\r\n    handleBlur = (e, item) => {\r\n        item.editable = false;\r\n        this.setState({ toggleAction: !this.state.toggleAction });\r\n    };\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.loadTreeProperties === true) {\r\n            this.onSaveProperties(saveType, formRef);\r\n        } else {\r\n            this.onSaveSampleStorageLocation(saveType, formRef);\r\n        }\r\n    };\r\n    onSaveProperties = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT) {\r\n            if (this.props.Login.clickedItem && this.props.Login.clickedItem !== undefined) {\r\n                let inputData = [];\r\n                let jsondata = {}\r\n                let postParam = undefined;\r\n                let count = 0;\r\n                // let isContaierFirstNode = -1;\r\n\r\n                if (selectedRecord[\"locationlastnode\"] !== undefined && selectedRecord[\"locationlastnode\"] === true) {\r\n                    count = count + 1;\r\n                }\r\n                if (selectedRecord[\"containerfirstnode\"] !== undefined && selectedRecord[\"containerfirstnode\"] === true) {\r\n                    count = count + 1;\r\n                }\r\n                if (selectedRecord[\"containerlastnode\"] !== undefined && selectedRecord[\"containerlastnode\"] === true) {\r\n                    count = count + 1;\r\n                }\r\n                if (count > 1) {\r\n                    toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTONLYONE\" }));\r\n                } else {\r\n                    let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n                        if (item.id === this.props.Login.clickedItem.item.id) {\r\n                            item.locationlastnode = selectedRecord[\"locationlastnode\"] !== undefined ? selectedRecord[\"locationlastnode\"] : false;\r\n                            item.containerfirstnode = selectedRecord[\"containerfirstnode\"] !== undefined ? selectedRecord[\"containerfirstnode\"] : false;\r\n                            item.containerlastnode = selectedRecord[\"containerlastnode\"] !== undefined ? selectedRecord[\"containerlastnode\"] : false;\r\n                        }\r\n                        if (item.selected && item.selected === true) {\r\n                            item.selected = false;\r\n                        }\r\n                        return item;\r\n                    });\r\n                    postParam = { inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\r\n\r\n                    // if (selectedRecord[\"containerfirstnode\"] && selectedRecord[\"containerfirstnode\"] === true) {\r\n                    //     isContaierFirstNode = 1;\r\n                    // }\r\n                    // if (this.props.Login.clickedItem.item.containerfirstnode && this.props.Login.clickedItem.item.containerfirstnode === true) {\r\n\r\n                    //     if (selectedRecord[\"containerfirstnode\"] && selectedRecord[\"containerfirstnode\"] === true) {\r\n                    //         isContaierFirstNode = 2;\r\n\r\n                    //     } else {\r\n                    //         isContaierFirstNode = 3;\r\n                    //     }\r\n                    // }\r\n\r\n\r\n                    // inputData[\"containerStorageCondition\"] = {isContaierFirstNode, slocationHierarchy: this.state.selectedHierarchy, \r\n                    //  selectedItem: this.props.Login.clickedItem.item.id};\r\n\r\n                    jsondata[\"data\"] = newData;\r\n                    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n                    inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n                    inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n                    inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]\r\n                    inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];\r\n                    inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nstoragecategorycode\"]\r\n                    inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n                    inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n                    inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\r\n\r\n                    const inputParam = {\r\n                        classUrl: \"samplestoragelocation\",\r\n                        methodUrl: \"SampleStorageLocation\",\r\n                        displayName: this.props.Login.inputParam.displayName,\r\n                        inputData: inputData,\r\n                        operation: \"update\", saveType, formRef, postParam\r\n                    }\r\n                    const masterData = this.props.Login.masterData;\r\n\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORD\" }));\r\n        }\r\n    }\r\n    onSaveSampleStorageLocation = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n\r\n        // if (selectedRecord[\"nstoragecategorycode\"] && selectedRecord[\"nstoragecategorycode\"] !== undefined) {\r\n        //     if (selectedRecord[\"ssamplestoragelocationname\"] && selectedRecord[\"ssamplestoragelocationname\"].length > 0) {\r\n\r\n        let inputData = [];\r\n        let jsondata = {}\r\n        let postParam = undefined;\r\n        let countLevels = 0;\r\n\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            }\r\n            if (item.expanded === false) {\r\n                item.expanded = true;\r\n            }\r\n            item.expanded = false;\r\n            countLevels++;\r\n            return item;\r\n        });\r\n\r\n        // let lhs = JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data;\r\n        // let rhs = newData;\r\n\r\n        // console.log(detailedDiff(lhs, rhs));\r\n\r\n        // return;\r\n        // postParam = { inputListName: \"SampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\r\n\r\n        if (countLevels > 3) {\r\n\r\n\r\n            jsondata[\"data\"] = newData;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n            inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n\r\n            inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = selectedRecord[\"ssamplestoragelocationname\"];\r\n            inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = selectedRecord[\"nstoragecategorycode\"].value;\r\n            inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\r\n\r\n            if (this.props.Login.operation === \"create\") {\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"create\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    // }\r\n                    // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n                }\r\n            } else {\r\n                inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]\r\n                inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n                inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"update\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n                }\r\n\r\n            }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_CREATEATLEASTFOURLEVELS\" }));\r\n        }\r\n\r\n    }\r\n\r\n    deleteSampleStorageLocation = (ncontrolCode) => {\r\n        this.handleSearch();\r\n        this.setState({searchedTreeData: undefined})\r\n        if(this.searchRef.current){ \r\n            this.searchRef.current.value = \"\"; \r\n        } \r\n\r\n\r\n        let inputData = [];\r\n        inputData[\"sampleStorageVersion\"] = {};\r\n        inputData[\"sampleStorageLocation\"] = {};\r\n\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"]\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"]\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"]\r\n        inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"]\r\n\r\n        const inputParam = {\r\n            methodUrl: \"SampleStorageLocation\",\r\n            classUrl: \"samplestoragelocation\",\r\n            inputData: inputData,\r\n            operation: \"delete\", searchRef: this.searchRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\", openModal: true,\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n\r\n    }\r\n    confirmDelete = (ncontrolCode) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteSampleStorageLocation(ncontrolCode));\r\n    };\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    handleDetailPageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (caseNo === 3) {\r\n\r\n            let nfilterStorageCategory = this.state.nfilterStorageCategory || {}\r\n            nfilterStorageCategory = comboData;\r\n            if(this.searchRef.current){\r\n                this.searchRef.current.value = \"\";\r\n            }\r\n           \r\n            this.setState({ nfilterStorageCategory })\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n\r\n    }\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": this.props.Login.masterData.selectedStorageCategoryName && this.props.Login.masterData.selectedStorageCategoryName !== null ? this.props.Login.masterData.selectedStorageCategoryName : \"NA\"\r\n                    // \"value\": this.props.Login.masterData.selectedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\r\n                    //     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        if (this.state.nfilterStorageCategory.value) {\r\n            let inputParam = {\r\n                inputData: {\r\n                    nstoragecategorycode: this.state.nfilterStorageCategory.value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nfilterStorageCategory: this.state.nfilterStorageCategory\r\n\r\n                }\r\n            }\r\n            this.props.changeStorageCategoryFilter(inputParam, this.props.Login.masterData.filterStorageCategory);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STORAGECATEGORYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n\r\n    onApproveSampleStorageLocation = (ncontrolCode) => {\r\n        this.handleSearch();\r\n        this.setState({searchedTreeData: undefined})\r\n        if(this.searchRef.current){ \r\n            this.searchRef.current.value = \"\"; \r\n        } \r\n\r\n        let inputData = [];\r\n        let locationEnd = false;\r\n        let storageStart = false;\r\n        let storageEnd = false;\r\n        let containers = [];\r\n        mapTree(this.state.treeDataView, \"items\", (item) => {\r\n            if (item.locationlastnode === true) {\r\n                locationEnd = true;\r\n            }\r\n            if (item.containerfirstnode === true) {\r\n                storageStart = true;\r\n                containers.push({ itemHierarchy: item.itemhierarchy, scontainercode: item.id });\r\n            }\r\n            if (item.containerlastnode === true) {\r\n                storageEnd = true;\r\n            }\r\n            return null;\r\n        });\r\n        // if (locationEnd === false) {\r\n        //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTLOCATIONEND\" }));\r\n        //     return;\r\n        // }\r\n        // if (storageStart === false) {\r\n        //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGESTART\" }));\r\n        //     return;\r\n        // }\r\n        // if (storageEnd === false) {\r\n        //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGEEND\" }));\r\n        //     return;\r\n        // }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n        inputData[\"containers\"] = containers;\r\n        inputData[\"propertyValidation\"] = {\"locationEnd\": locationEnd, \"storageStart\": storageStart, \"storageEnd\": storageEnd};\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n        const inputParam = {\r\n            inputData: inputData,\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageLocation\",\r\n            displayName: \"IDS_SAMPLESTORAGELOCATION\",\r\n            userInfo: this.props.Login.userInfo, operation: \"Approve\"\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, openModal: true, operation: \"Approve\",\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    copySampleStorageversion = (ncontrolCode) => {\r\n        this.handleSearch();\r\n        this.setState({searchedTreeData: undefined})\r\n        if(this.searchRef.current){ \r\n            this.searchRef.current.value = \"\"; \r\n        } \r\n\r\n\r\n        let inputData = [];\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n        const inputParam = {\r\n            inputData: inputData,\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageVersion\",\r\n            displayName: \"IDS_SAMPLESTORAGELOCATION\",\r\n            userInfo: this.props.Login.userInfo, operation: \"copy\"\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, openModal: true, operation: \"copy\",\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        // let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\r\n        let nfilterStorageCategory =  this.props.Login.masterData.filterStorageCategory &&  this.props.Login.masterData.nfilterStorageCategory;\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo, \"nstoragecategorycode\": nfilterStorageCategory },\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageLocation\",\r\n            displayName: \"IDS_SAMPLESTORAGELOCATION\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n    onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\r\n        this.handleSearch();\r\n        this.setState({searchedTreeData: undefined})\r\n        if(this.searchRef.current){ \r\n            this.searchRef.current.value = \"\"; \r\n        } \r\n        \r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\r\n    }\r\n    openStorageLocation = (addId) => {\r\n        this.handleSearch();\r\n        this.setState({searchedTreeData: undefined})\r\n        if(this.searchRef.current){\r\n            this.searchRef.current.value = \"\";  \r\n        } \r\n        if (this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0) {\r\n            this.props.fetchStorageCategory({ userInfo: this.props.Login.userInfo, id: uuid(), nfilterStorageCategory: this.state.nfilterStorageCategory, addId });\r\n        } else {\r\n            toast.warning(this.props.intl.formatMessage({ id: \"IDS_SELECTSTORAGECATEGORY\" }));\r\n        }\r\n    }\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n    render() {\r\n\r\n        const addId = this.state.controlMap.has(\"Add SampleStorageLocation\") && this.state.controlMap.get(\"Add SampleStorageLocation\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageLocation\") && this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;\r\n        const copyId = this.state.controlMap.has(\"Copy SampleStorageLocation\") && this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"Approve SampleStorageLocation\") && this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;\r\n\r\n\r\n        const filterParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\",\r\n            fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n        const mandatoryFields = [\r\n            { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_SAMPLESTORAGELOCATIONNAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }\r\n        ]\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-4 screen-height-window\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        : \"\"}\r\n                    <Row noGutters={true}>\r\n                        <Col md={12} className=\"parent-port-height\">\r\n                            {/* <Col md={12} className='parent-port-height-nobreadcrumb sticky_head_parent' ref={(parentHeight) => { this.parentHeight = parentHeight }}>\r\n                            <ListWrapper> */}\r\n                            <SplitterLayout borderColor=\"#999\" percentage={true} primaryIndex={1} onSecondaryPaneSizeChange={this.paneSizeChange} secondaryInitialSize={25} primaryMinSize={40} secondaryMinSize={20}>\r\n                                {/* First column */}\r\n                                <TransactionListMaster\r\n                                    paneHeight={this.state.parentHeight}\r\n                                    needMultiSelect={false}\r\n                                    masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.sampleStorageLocation || []}\r\n                                    selectedMaster={[this.props.Login.masterData.selectedSampleStorageLocation]}\r\n                                    primaryKeyField=\"nsamplestoragelocationcode\"\r\n                                    getMasterDetail={(selectedItem) => \r\n                                        this.props.getSelectedSampleStorageLocation(\r\n                                            selectedItem,\r\n                                            this.props.Login.userInfo, this.props.Login.masterData\r\n                                        )}\r\n                                    inputParam={{\r\n                                        userInfo: this.props.Login.userInfo,\r\n                                        masterData: this.props.Login.masterData\r\n                                    }}\r\n                                    mainField={\"ssamplestoragelocationname\"}\r\n                                    selectedListName=\"selectedSampleStorageLocation\"\r\n                                    objectName=\"LocationMaster\"\r\n                                    listName=\"IDS_SAMPLESTORAGELOCATION\"\r\n                                    filterColumnData={this.props.filterColumnData}\r\n                                    searchListName=\"searchedData\"\r\n                                    searchRef={this.searchRef}\r\n                                    filterParam={filterParam}\r\n                                    showFilter={this.props.Login.showFilter}\r\n                                    openFilter={this.openFilter}\r\n                                    closeFilter={this.closeFilter}\r\n                                    onFilterSubmit={this.onFilterSubmit}\r\n                                    needFilter={true}\r\n                                    hidePaging={false}\r\n                                    handlePageChange={this.handlePageChange}\r\n                                    skip={this.state.skip}\r\n                                    take={this.state.take}\r\n                                    commonActions={\r\n                                        <ProductList className=\"d-flex product-category float-right\">\r\n                                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                // data-for=\"tooltip-common-wrap\"\r\n                                                hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                                onClick={() => this.openStorageLocation(addId)}>\r\n                                                <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                                            </Button>\r\n                                            <Button className=\"btn btn-circle outline-grey ml-2\" variant=\"link\"\r\n                                                onClick={() => this.reloadData()}\r\n                                                // data-for=\"tooltip-common-wrap\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                <FontAwesomeIcon icon={faSync} style={{ \"width\": \"0.6!important\" }} />\r\n                                            </Button>\r\n                                        </ProductList>\r\n                                    }\r\n                                    filterComponent={[\r\n                                        {\r\n                                            \"IDS_TESTFILTER\":\r\n                                                <StorageCategoryFilter\r\n                                                    filterStorageCategory={this.state.filterStorageCategory || []}\r\n                                                    nfilterStorageCategory={this.state.nfilterStorageCategory || {}}\r\n                                                    onComboChange={this.onComboChange}\r\n                                                />\r\n                                        }\r\n                                    ]}\r\n\r\n                                />\r\n\r\n                                {/* End of first column */}\r\n                                <SplitterLayout vertical borderColor=\"#999\" percentage={true} primaryIndex={1} //secondaryInitialSize={400}\r\n                                    customClassName=\"fixed_list_height\">\r\n                                    {/* <PerfectScrollbar> */}\r\n                                    {/* Start of second column */}\r\n                                    <div className=\"card_group\">\r\n                                        <Row>\r\n                                            <Col md={3} style={{ paddingRight: '0' }}>\r\n                                                {/* Start of version column */}\r\n                                                <TransactionListMaster\r\n                                                    masterList={this.props.Login.masterData.searchedData && this.props.Login.masterData.searchedData.length === 0 ? [] :\r\n                                                         this.props.Login.masterData.sampleStorageVersion || []}\r\n                                                    needMultiSelect={false}\r\n                                                    selectedMaster={[this.props.Login.masterData.selectedSampleStorageVersion] || []}\r\n                                                    primaryKeyField=\"nsamplestorageversioncode\"\r\n                                                    getMasterDetail={(selectedItem) =>\r\n                                                        this.props.getSelectedSampleStorageVersion(\r\n                                                            selectedItem, this.props.Login.userInfo,\r\n                                                            this.props.Login.masterData\r\n                                                        )}\r\n                                                    inputParam={{\r\n                                                        userInfo: this.props.Login.userInfo,\r\n                                                        masterData: this.props.Login.masterData\r\n                                                    }}\r\n                                                    mainField={\"nversionno\"}\r\n                                                    mainFieldLabel={this.props.intl.formatMessage({ id: \"IDS_VERSION\" })}\r\n                                                    selectedListName=\"selectedSampleStorageVersion\"\r\n                                                    objectName=\"Version\"\r\n                                                    listName=\"IDS_SAMPLESTORAGEVersion\"\r\n                                                    hideSearch={true}\r\n                                                    needValidation={false}\r\n                                                    needFilter={false}\r\n                                                    moreField={[]}\r\n                                                    skip={this.state.detailSkip}\r\n                                                    take={this.state.detailTake}\r\n                                                    hidePaging={true}\r\n                                                    handlePageChange={this.handleDetailPageChange}\r\n                                                    splitModeClass={this.state.splitChangeWidthPercentage && this.state.splitChangeWidthPercentage > 50 ? 'split-mode' : this.state.splitChangeWidthPercentage > 40 ? 'split-md' : ''}\r\n                                                // actionIcons={\r\n                                                //     [\r\n                                                //         {\r\n                                                //             title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                //             controlname: \"faPencilAlt\",\r\n                                                //             objectName: \"detailtoedit\",\r\n                                                //             hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\r\n                                                //             onClick: (e) => this.props.editSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, this.props.Login.masterData),\r\n                                                //         },\r\n                                                //         {\r\n                                                //             title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                //             controlname: \"faTrashAlt\",\r\n                                                //             objectName: \"mastertodelete\",\r\n                                                //             hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\r\n                                                //             onClick: () => this.confirmDelete(deleteId)\r\n                                                //         }\r\n                                                //     ]\r\n                                                // }\r\n                                                />\r\n                                                {/* End of version column */}\r\n                                            </Col>\r\n                                            <Col md={9}>\r\n                                                {/* Start of detailed content */}\r\n                                                <ProductList className=\"panel-main-content grid-master tree-view-container\">\r\n                                                    {this.props.Login.masterData.sampleStorageLocation && this.props.Login.masterData.sampleStorageLocation.length > 0 && this.props.Login.masterData.selectedSampleStorageLocation ?\r\n                                                        <Card className=\"border-0\">\r\n                                                            <Card.Header>\r\n                                                                <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedSampleStorageLocation.ssamplestoragelocationname}</Card.Title>\r\n                                                                <Card.Subtitle>\r\n                                                                    <div className=\"d-flex product-category\">\r\n                                                                        <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                            <Nav.Link className=\"action-icons-wrap mr-2\">\r\n                                                                                {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n\r\n                                                                                    <span className={`btn btn-outlined  outline-secondary btn-sm ml-3`}>\r\n                                                                                        <FormattedMessage id={\"IDS_DRAFT\"} defaultMessage=\"Draft\" />\r\n                                                                                    </span>\r\n                                                                                    :\r\n                                                                                    this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.RETIRED ?\r\n\r\n                                                                                        <span className={`btn btn-outlined outline-danger btn-sm ml-3`}>\r\n                                                                                            <FormattedMessage id={\"IDS_RETIRED\"} defaultMessage=\"Retired\" />\r\n                                                                                        </span>\r\n                                                                                        :\r\n                                                                                        <span className={`btn btn-outlined outline-success btn-sm ml-3`}>\r\n                                                                                            <FormattedMessage id={\"IDS_APPROVED\"} defaultMessage=\"Approved\" />\r\n                                                                                        </span>\r\n                                                                                }\r\n                                                                            </Nav.Link>\r\n                                                                        </h2>\r\n                                                                        <div className=\"d-inline\">\r\n                                                                            {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n                                                                                <Nav.Link className=\"btn btn-circle 1 outline-grey mr-2 \" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                                    onClick={(e) => this.onEditSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, editId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faPencilAlt} />\r\n\r\n                                                                                </Nav.Link>\r\n                                                                                :\r\n                                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_COPY\" })}\r\n                                                                                    onClick={(e) => this.copySampleStorageversion(copyId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faCopy} />\r\n\r\n                                                                                </Nav.Link>\r\n                                                                            }\r\n                                                                            <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                                // data-for=\"tooltip_list_wrap\"\r\n                                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                                onClick={() => this.confirmDelete(deleteId)}\r\n                                                                            >\r\n                                                                                <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                            </Nav.Link>\r\n                                                                            {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n                                                                                <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                                    onClick={() => this.onApproveSampleStorageLocation(approveId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faThumbsUp} />\r\n                                                                                </Nav.Link>\r\n                                                                                : \"\"\r\n                                                                            }\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </Card.Subtitle>\r\n                                                            </Card.Header>\r\n                                                            <Card.Body>\r\n                                                            {/* <div style={{ height: 400 }}>\r\n         <SortableTree\r\n          treeData={this.state.treeData}\r\n          onChange={treeData => this.setState({ treeData })}\r\n        />\r\n      </div>  */}\r\n \r\n                                                               <Col md={7}>\r\n                                                               <div className={`list-group-search tool-search ${this.state.showSearch ? 'activesearch' : \"\"}`}>\r\n                                                                   <SearchIcon className=\"search-icon\" onClick={this.toggleSearch}>\r\n                                                                     <FontAwesomeIcon icon={faSearch} />\r\n                                                                   </SearchIcon>\r\n                                                                   <FormControl ref={this.searchRef} autoComplete=\"off\"\r\n                                                                     className='k-textbox' onChange={this.handleSearch}\r\n                                                                     placeholder={`${this.props.intl.formatMessage({ id: \"IDS_FILTER\" })}`}\r\n                                                                     name={\"search\"}  onKeyUp={(e)=>this.handlenavigation(e,'down')}\r\n                                                                   />\r\n                                                                   {this.props.showSearch ?\r\n                                                                     <SearchIcon className=\"close-right-icon\" onClick={this.toggleSearch}>\r\n                                                                       <FontAwesomeIcon icon={faTimes} />\r\n                                                                     </SearchIcon>\r\n                                                                     : \"\"} \r\n                                                                 </div>\r\n                                                               </Col>\r\n                                                               <Col md={2}>\r\n\r\n                                                               <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                                     data-tip={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEDOWN\" })}  \r\n                                                                     onClick={(e)=>this.handlenavigation(e,'down')}>\r\n                                                                     <FontAwesomeIcon icon={faArrowDown} title={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEDOWN\" })} />\r\n                                                                   </Button>\r\n\r\n                                                                   <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                                     data-tip={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEUP\" })}  \r\n                                                                     onClick={(e)=>this.handlenavigation(e,'up')}>\r\n                                                                     <FontAwesomeIcon icon={faArrowUp} title={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEDOWN\" })} />\r\n                                                                   </Button>\r\n\r\n\r\n                                                               </Col>\r\n \r\n\r\n                                                                <TreeViewEditable \r\n                                                                    id=\"samplestoragelocation\"\r\n                                                                    name=\"samplestoragelocation\"\r\n                                                                    // label=\"Sample Storage Location\"\r\n                                                                    data={this.state.searchedTreeData||this.state.treeDataView}\r\n                                                                    expandIcons={true}\r\n                                                                    selectField={'active-node'}\r\n                                                                    item={this.itemRenderView}\r\n                                                                    onExpandChange={this.onExpandChangeView}\r\n                                                                    onItemClick={this.onItemClickView} \r\n                                                                />\r\n                                                            </Card.Body>\r\n                                                        </Card>\r\n                                                        : \"\"}\r\n\r\n                                                </ProductList>\r\n                                                {/* End of detailed content */}\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                    </div>\r\n                                    {/* End of second column */}\r\n                                    {/* </PerfectScrollbar> */}\r\n\r\n                                </SplitterLayout>\r\n\r\n                            </SplitterLayout>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGELOCATION\" })}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.loadTreeProperties === true ? [] : mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            this.props.Login.loadTreeProperties ? (\r\n                                <AddTreeProperties\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                />\r\n                            ) : this.state.treeData ? ( \r\n                                <>  \r\n                                <div>\r\n                                {/* <input className='k-textbox' onChange={this.handleSearch}/>\r\n                                <hr /> */} \r\n                                <AddTreeview \r\n                                    clearSearchedState={this.clearSearchedState}\r\n                                    toggleSearch={this.toggleSearch}\r\n                                    handleSearch={this.handleSearch}\r\n                                    handlenavigation={this.handlenavigation}\r\n                                    showSearch={this.state.showSearch}\r\n                                    treeData={//this.state.searchedTreeData||\r\n                                        this.state.treeData}\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    itemRender={this.itemRender}\r\n                                    onExpandChange={this.onExpandChange}\r\n                                    onItemClick={this.onItemClick}\r\n                                    onComboChange={this.onComboChange}\r\n                                    onItemDragOver={this.onItemDragOver}\r\n                                    onItemDragEnd={this.onItemDragEnd}\r\n                                    storageCategoryList={this.props.Login.storageCategoryList || []}\r\n                                    isOnlyDraft={this.props.Login.isOnlyDraft}\r\n                                />\r\n                              </div></> \r\n                            ) : (\r\n                                <></>\r\n                            )\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential, filterColumnData, changeStorageCategoryFilter,\r\n    getSelectedSampleStorageLocation, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation,\r\n    getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion, crudSampleStorageLocation\r\n})(injectIntl(SampleStorageLocation));"]},"metadata":{},"sourceType":"module"}