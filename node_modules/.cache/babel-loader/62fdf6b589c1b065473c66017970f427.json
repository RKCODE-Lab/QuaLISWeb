{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{PureComponent}from'react';import{connect}from'react-redux';import{NavLink}from'react-router-dom';import{Tab,Nav,Image,Accordion,Button}from'react-bootstrap';import{FormattedMessage,injectIntl}from'react-intl';import Preloader from'../preloader/preloader.component';import ContextAwareToggle from'./ContextAwareToggle';import PerfectScrollbar from'react-perfect-scrollbar';import{callService,navPage,elnLoginAction,sdmsLoginAction}from'../../actions';import{SidebarNav,SidebarBrand,SidebarBrandTxt,NavHeader,CollapseInner}from'../../components/sidebar/sidebar.styles';// import HomeListLogo from '../../assets/image/homelist.svg';\nimport toggleExpand from\"../../assets/image/expand-icon.svg\";import toggleCollapse from\"../../assets/image/collapse-icon.svg\";import PrimaryLogo from'../../assets/image/sidebar-logo.png';import'react-perfect-scrollbar/dist/css/styles.css';import{formatInputDate}from'../CommonScript';//import LogiLabLogo from '../../assets/image/logilablogo.png'\n//import SDMSLogo from '../../assets/image/sdmslogo.png'\nimport{toast}from'react-toastify';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var Menu=/*#__PURE__*/function(_PureComponent){_inherits(Menu,_PureComponent);var _super=_createSuper(Menu);function Menu(props){var _this;_classCallCheck(this,Menu);_this=_super.call(this,props);_this.getDetail=function(classUrl,methodUrl,formCode,displayName,moduleCode,formname,modulename){if(_this.props.Login.userInfo.nformcode!==formCode){var userInfo=_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{\"nformcode\":formCode,\"nmodulecode\":moduleCode,\"sformname\":formname.sformname,\"smodulename\":modulename.smodulename});var inputParam={inputData:{\"userinfo\":userInfo,currentdate:formatInputDate(new Date(),true)},classUrl:classUrl,methodUrl:methodUrl,displayName:displayName};_this.props.callService(inputParam);}};_this.onELNLoginClick=function(){if(_this.props.Login.sdmselnsettings&&_this.props.Login.sdmselnsettings[3]){var serverUrl=_this.props.Login.sdmselnsettings[3]+\"Login/Validateuser\";var uiUrl=_this.props.Login.sdmselnsettings[4];var userInfo=_this.props.Login.userInfo;var inputParam={username:userInfo.sloginid,lssitemaster:{\"sitecode\":\"1\"},password:userInfo.spassword,lsusergroup:{\"usergroupname\":userInfo.suserrolename}};_this.props.elnLoginAction(inputParam,serverUrl,uiUrl);}else{toast.info(_this.intl.FormattedMessage({id:\"IDS_ELNSERVERURLNOTAVAILABLE\"}));}};_this.onSDMSLoginClick=function(){if(_this.props.Login.sdmselnsettings&&_this.props.Login.sdmselnsettings[1]){var serverUrl=_this.props.Login.sdmselnsettings[1]+\"/Login/validatelinkUser\";var uiUrl=_this.props.Login.sdmselnsettings[2];var userInfo=_this.props.Login.userInfo;var inputParam={sUserName:userInfo.sloginid,sSiteCode:\"DEFAULT\",sGroupName:userInfo.suserrolename};_this.props.sdmsLoginAction(inputParam,serverUrl,uiUrl);}else{toast.info(_this.intl.FormattedMessage({id:\"IDS_ELNSERVERURLNOTAVAILABLE\"}));}};_this.setKey=function(k){_this.setState({key:k});};_this.ToggleAction=function(value){_this.setState({isSidebarActive:value});};_this.pinnedEvent=function(){var isPinned=_this.state.isPinned;_this.setState({isPinned:!isPinned});};_this.formRef=React.createRef();_this.state={show:false,nusermultirolecode:-1,selectedRecord:{},isSidebarActive:false,isPinned:false,key:_this.props.Login.menuDesign&&_this.props.Login.menuDesign[0]?\"MenuId_\".concat(_this.props.Login.menuDesign[0].nmenucode):\"MenuId_0\"};return _this;}_createClass(Menu,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.Login.menuDesign!==prevProps.Login.menuDesign){this.setState({key:this.props.Login.menuDesign&&this.props.Login.menuDesign[0]?\"MenuId_\".concat(this.props.Login.menuDesign[0].nmenucode):\"MenuId_0\"});}}},{key:\"render\",value:function render(){var _this2=this;var isSidebarActive=this.state.isSidebarActive;var _this$props$Login=this.props.Login,menuDesign=_this$props$Login.menuDesign,loading=_this$props$Login.loading;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Preloader,{loading:loading}),/*#__PURE__*/React.createElement(SidebarNav,{className:\"d-flex side-nav sidebar sidebar-dark bg-gradient-primary \".concat(isSidebarActive&&!this.state.isPinned?'toggled':'',\" \").concat(this.state.isPinned&&'at-sidebar-pinned'),onMouseEnter:function onMouseEnter(){return _this2.ToggleAction(false);},onMouseLeave:function onMouseLeave(){return _this2.ToggleAction(true);}},/*#__PURE__*/React.createElement(Tab.Container,{activeKey:this.state.key,onSelect:function onSelect(k){return _this2.setKey(k);}},/*#__PURE__*/React.createElement(Nav,{className:\"nav flex-column side-nav\",variant:\"pills\",key:\"MenuIcon\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"text-center\",key:this.state.key,onClick:function onClick(){return _this2.pinnedEvent(false);}},/*#__PURE__*/React.createElement(Image,{src:!this.state.isPinned?toggleExpand:toggleCollapse,alt:\"sidebar\",width:\"34\",height:\"34\"})),menuDesign&&menuDesign.map(function(menu){return/*#__PURE__*/React.createElement(Nav.Link,{key:menu.nmenucode,eventKey:\"MenuId_\".concat(menu.nmenucode)},/*#__PURE__*/React.createElement(Image,{src:require(\"../../assets/image/\".concat(menu.smenuname.toLowerCase(),\".svg\")),alt:\"sidebar\",width:\"34\",height:\"34\"}));}),/*#__PURE__*/React.createElement(Nav.Link,{className:\"mt-auto\"},/*#__PURE__*/React.createElement(Image,{src:PrimaryLogo,alt:\"Primary-Logo\",width:\"45\",height:\"60\"}))),/*#__PURE__*/React.createElement(Button,{className:\"rounded-circle border-0\",id:\"sidebarToggle\"}),/*#__PURE__*/React.createElement(Tab.Content,null,menuDesign&&menuDesign.map(function(menu){return/*#__PURE__*/React.createElement(Tab.Pane,{key:menu.nmenucode,eventKey:\"MenuId_\".concat(menu.nmenucode)},/*#__PURE__*/React.createElement(Accordion,{className:\"navbar-nav position-relative\",as:\"ul\"},/*#__PURE__*/React.createElement(SidebarBrand,{className:\"sidebar-brand d-flex align-items-center\"},/*#__PURE__*/React.createElement(SidebarBrandTxt,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:menu.sdisplayname,defaultMessage:menu.sdisplayname}))),/*#__PURE__*/React.createElement(PerfectScrollbar,{className:\"sidebar-scroll\"},menu.lstmodule.map(function(module){return/*#__PURE__*/React.createElement(Nav.Item,{key:module.nmodulecode,as:\"li\"},/*#__PURE__*/React.createElement(ContextAwareToggle,{eventKey:module.nmodulecode},/*#__PURE__*/React.createElement(NavHeader,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:module.sdisplayname,defaultMessage:module.sdisplayname}))),/*#__PURE__*/React.createElement(Accordion.Collapse,{eventKey:module.nmodulecode},/*#__PURE__*/React.createElement(CollapseInner,{className:\"bg-transparent py-2 collapse-inner rounded\"},module.lstforms.map(function(forms){return/*#__PURE__*/React.createElement(NavLink,{className:\"collapse-item \".concat(forms.nformcode===_this2.props.Login.userInfo.nformcode?'active-form':''),key:forms.nformcode,nformcode:forms.nformcode,to:'/'+forms.sclassname,onClick:function onClick(){return _this2.getDetail(forms.sclassname.toLowerCase(),forms.surl,forms.nformcode,forms.sdisplayname,module.nmodulecode,forms,module);}},/*#__PURE__*/React.createElement(FormattedMessage,{id:forms.sdisplayname,defaultMessage:forms.sdisplayname}));}))));}))));})))));}// selectInputOnChange = (ComboVal, fieldName) =>  {\n//     this.setState({ [fieldName] : ComboVal }); \n// }\n}]);return Menu;}(PureComponent);export default connect(mapStateToProps,{callService:callService,navPage:navPage,elnLoginAction:elnLoginAction,sdmsLoginAction:sdmsLoginAction})(injectIntl(Menu));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/sidebar/sidebar.component.jsx"],"names":["React","PureComponent","connect","NavLink","Tab","Nav","Image","Accordion","Button","FormattedMessage","injectIntl","Preloader","ContextAwareToggle","PerfectScrollbar","callService","navPage","elnLoginAction","sdmsLoginAction","SidebarNav","SidebarBrand","SidebarBrandTxt","NavHeader","CollapseInner","PrimaryLogo","formatInputDate","toast","mapStateToProps","state","Login","Menu","props","getDetail","classUrl","methodUrl","formCode","displayName","moduleCode","formname","modulename","userInfo","nformcode","sformname","smodulename","inputParam","inputData","currentdate","Date","onELNLoginClick","sdmselnsettings","serverUrl","uiUrl","username","sloginid","lssitemaster","password","spassword","lsusergroup","suserrolename","info","intl","id","onSDMSLoginClick","sUserName","sSiteCode","sGroupName","setKey","k","setState","key","ToggleAction","value","isSidebarActive","pinnedEvent","isPinned","formRef","createRef","show","nusermultirolecode","selectedRecord","menuDesign","nmenucode","prevProps","loading","toggleExpand","toggleCollapse","map","menu","require","smenuname","toLowerCase","sdisplayname","lstmodule","module","nmodulecode","lstforms","forms","sclassname","surl"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Tab, Nav, Image, Accordion, Button } from 'react-bootstrap';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport Preloader from '../preloader/preloader.component';\r\nimport ContextAwareToggle from './ContextAwareToggle';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport { callService, navPage, elnLoginAction, sdmsLoginAction } from '../../actions'\r\nimport { SidebarNav, SidebarBrand, SidebarBrandTxt, NavHeader, CollapseInner } from '../../components/sidebar/sidebar.styles';\r\n// import HomeListLogo from '../../assets/image/homelist.svg';\r\nimport toggleExpand from '../../assets/image/expand-icon.svg';\r\nimport toggleCollapse from '../../assets/image/collapse-icon.svg';\r\nimport PrimaryLogo from '../../assets/image/sidebar-logo.png';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport { formatInputDate } from '../CommonScript';\r\n//import LogiLabLogo from '../../assets/image/logilablogo.png'\r\n//import SDMSLogo from '../../assets/image/sdmslogo.png'\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { Login: state.Login }\r\n}\r\n\r\nclass Menu extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef = React.createRef();\r\n        this.state = {\r\n            show: false,\r\n            nusermultirolecode: -1,\r\n            selectedRecord: {},\r\n            isSidebarActive: false,\r\n            isPinned: false,\r\n            key: this.props.Login.menuDesign &&\r\n                this.props.Login.menuDesign[0] ?\r\n                `MenuId_${this.props.Login.menuDesign[0].nmenucode}` :\r\n                \"MenuId_0\"\r\n        }\r\n    }\r\n\r\n    getDetail = (classUrl, methodUrl, formCode, displayName, moduleCode, formname, modulename) => {\r\n\r\n        if (this.props.Login.userInfo.nformcode !== formCode) {\r\n            const userInfo = {\r\n                ...this.props.Login.userInfo, \"nformcode\": formCode,\r\n                \"nmodulecode\": moduleCode, \"sformname\" : formname.sformname, \"smodulename\" : modulename.smodulename\r\n            }\r\n            const inputParam = {\r\n                inputData: { \"userinfo\": userInfo, currentdate: formatInputDate(new Date(), true) },\r\n                classUrl, methodUrl, displayName\r\n            };\r\n\r\n            this.props.callService(inputParam);\r\n        }\r\n    }\r\n\r\n    onELNLoginClick = () => {\r\n        if (this.props.Login.sdmselnsettings && this.props.Login.sdmselnsettings[3]) {\r\n            const serverUrl = this.props.Login.sdmselnsettings[3] + \"Login/Validateuser\";\r\n            const uiUrl = this.props.Login.sdmselnsettings[4];\r\n            const userInfo = this.props.Login.userInfo;\r\n            const inputParam = {\r\n                username: userInfo.sloginid,\r\n                lssitemaster: { \"sitecode\": \"1\" },\r\n                password: userInfo.spassword,\r\n                lsusergroup: { \"usergroupname\": userInfo.suserrolename }\r\n            };\r\n            this.props.elnLoginAction(inputParam, serverUrl, uiUrl);\r\n        } else {\r\n            toast.info(this.intl.FormattedMessage({ id: \"IDS_ELNSERVERURLNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n    onSDMSLoginClick = () => {\r\n        if (this.props.Login.sdmselnsettings && this.props.Login.sdmselnsettings[1]) {\r\n            const serverUrl = this.props.Login.sdmselnsettings[1] + \"/Login/validatelinkUser\";\r\n            const uiUrl = this.props.Login.sdmselnsettings[2];\r\n            const userInfo = this.props.Login.userInfo;\r\n            const inputParam = {\r\n                sUserName: userInfo.sloginid,\r\n                sSiteCode: \"DEFAULT\",\r\n                sGroupName: userInfo.suserrolename\r\n            };\r\n            this.props.sdmsLoginAction(inputParam, serverUrl, uiUrl);\r\n        } else {\r\n            toast.info(this.intl.FormattedMessage({ id: \"IDS_ELNSERVERURLNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n    setKey = (k) => {\r\n        this.setState({ key: k })\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.Login.menuDesign !== prevProps.Login.menuDesign) {\r\n            this.setState({ key: this.props.Login.menuDesign && this.props.Login.menuDesign[0] ? `MenuId_${this.props.Login.menuDesign[0].nmenucode}` : \"MenuId_0\" })\r\n        }\r\n    }\r\n    render() {\r\n\r\n        const { isSidebarActive } = this.state;\r\n        const { menuDesign, loading } = this.props.Login;\r\n\r\n        return (\r\n            <>\r\n                <Preloader loading={loading} />\r\n\r\n                <SidebarNav className={`d-flex side-nav sidebar sidebar-dark bg-gradient-primary ${isSidebarActive && !this.state.isPinned ? 'toggled' : ''} ${this.state.isPinned && 'at-sidebar-pinned'}`} onMouseEnter={() => this.ToggleAction(false)} onMouseLeave={() => this.ToggleAction(true)}\r\n                >\r\n                    <Tab.Container\r\n                        activeKey={this.state.key}\r\n                        onSelect={(k) => this.setKey(k)} >\r\n                        {/* Left Menu Icon */}\r\n                        < Nav className=\"nav flex-column side-nav\" variant=\"pills\" key='MenuIcon' >\r\n                            {/* <Nav.Link key={this.state.key} eventKey={this.state.key} onClick={() => this.ToggleAction1(false)}>\r\n                                <Image src={PrimaryLogo} alt=\"Primary-Logo\" width=\"45\" height=\"60\" />\r\n                            </Nav.Link> */}\r\n                            <Nav.Link className=\"text-center\" key={this.state.key} onClick={() => this.pinnedEvent(false)}>\r\n                                <Image src={!this.state.isPinned ? toggleExpand : toggleCollapse} alt=\"sidebar\" width=\"34\" height=\"34\" />\r\n                            </Nav.Link>\r\n\r\n                            {menuDesign && menuDesign.map((menu) => {\r\n                                return (\r\n                                    <Nav.Link key={menu.nmenucode} eventKey={`MenuId_${menu.nmenucode}`} >\r\n                                        <Image src={require(`../../assets/image/${menu.smenuname.toLowerCase()}.svg`)} alt=\"sidebar\" width=\"34\" height=\"34\" />\r\n                                    </Nav.Link>)\r\n                            })}\r\n                            {/* <Nav.Link key={6} onClick={() => this.onELNLoginClick()}>\r\n                                <Image src={LogiLabLogo} alt=\"logilablogo\" width=\"45\" height=\"55\" />\r\n                            </Nav.Link>\r\n                            <Nav.Link key={7} onClick={() => this.onSDMSLoginClick()}>\r\n                                <Image src={SDMSLogo} alt=\"sdmslogo\" width=\"45\" height=\"55\" />\r\n                            </Nav.Link> */}\r\n                            {/* //key={this.state.key} eventKey={this.state.key}  */}\r\n                            <Nav.Link className=\"mt-auto\">\r\n                                <Image src={PrimaryLogo} alt=\"Primary-Logo\" width=\"45\" height=\"60\" />\r\n                            </Nav.Link>\r\n                        </Nav>\r\n                        <Button className=\"rounded-circle border-0\" id=\"sidebarToggle\" ></Button>\r\n                        <Tab.Content>\r\n                            {menuDesign && menuDesign.map(menu => {\r\n                                return (\r\n                                    <Tab.Pane key={menu.nmenucode} eventKey={`MenuId_${menu.nmenucode}`}>\r\n                                        <Accordion className=\"navbar-nav position-relative\" as=\"ul\" >\r\n                                            {/* onClick={() => this.pinnedEvent()} */}\r\n                                            <SidebarBrand className=\"sidebar-brand d-flex align-items-center\">\r\n                                                <SidebarBrandTxt>\r\n                                                    <FormattedMessage id={menu.sdisplayname}\r\n                                                        defaultMessage={menu.sdisplayname} />\r\n                                                </SidebarBrandTxt>\r\n                                            </SidebarBrand>\r\n                                            <PerfectScrollbar className=\"sidebar-scroll\">\r\n                                                {\r\n                                                    (menu.lstmodule).map(module => {\r\n\r\n                                                        return (\r\n\r\n                                                            <Nav.Item key={module.nmodulecode} as=\"li\">\r\n                                                                <ContextAwareToggle eventKey={module.nmodulecode} >\r\n                                                                    <NavHeader>\r\n                                                                        <FormattedMessage id={module.sdisplayname}\r\n                                                                            defaultMessage={module.sdisplayname} />\r\n                                                                    </NavHeader>\r\n                                                                </ContextAwareToggle>\r\n\r\n                                                                <Accordion.Collapse eventKey={module.nmodulecode}>\r\n                                                                    <CollapseInner className=\"bg-transparent py-2 collapse-inner rounded\">\r\n                                                                        {\r\n                                                                            (module.lstforms).map(forms => {\r\n                                                                                return (\r\n                                                                                    <NavLink className={`collapse-item ${forms.nformcode === this.props.Login.userInfo.nformcode ? 'active-form' : ''}`} key={forms.nformcode}\r\n                                                                                        nformcode={forms.nformcode} to={'/' + forms.sclassname}\r\n                                                                                        onClick={() => this.getDetail(forms.sclassname.toLowerCase(), forms.surl, \r\n                                                                                            forms.nformcode, forms.sdisplayname, module.nmodulecode,forms,module)}\r\n                                                                                    >\r\n                                                                                        <FormattedMessage id={forms.sdisplayname}\r\n                                                                                            defaultMessage={forms.sdisplayname} />\r\n                                                                                    </NavLink>\r\n                                                                                )\r\n                                                                            })\r\n                                                                        }\r\n                                                                    </CollapseInner>\r\n                                                                </Accordion.Collapse>\r\n                                                            </Nav.Item>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </PerfectScrollbar>\r\n\r\n                                        </Accordion>\r\n                                    </Tab.Pane>)\r\n                            })}\r\n\r\n                        </Tab.Content>\r\n                    </Tab.Container>\r\n                </SidebarNav>\r\n            </>\r\n        );\r\n    }\r\n    ToggleAction = (value) => {\r\n\r\n        this.setState({\r\n            isSidebarActive: value\r\n        })\r\n    }\r\n    // ToggleAction1 = (value) => {\r\n    // let isSidebarActive = this.state.isSidebarActive;\r\n    // let isPinned  = this.state.isPinned;\r\n    //     this.setState({\r\n    //         isSidebarActive: !isSidebarActive,\r\n    //         isPinned: !isPinned\r\n    //     })\r\n    // }\r\n    pinnedEvent = () => {\r\n        let { isPinned } = this.state;\r\n        this.setState({\r\n            isPinned: !isPinned\r\n        })\r\n    }\r\n    // selectInputOnChange = (ComboVal, fieldName) =>  {\r\n    //     this.setState({ [fieldName] : ComboVal }); \r\n    // }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, { callService, navPage, elnLoginAction, sdmsLoginAction })(injectIntl(Menu));\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}