{"ast":null,"code":"import rsapi from '../rsapi';\nimport { DEFAULT_RETURN } from './LoginTypes';\nimport { sortData, getComboLabelValue, constructOptionList } from '../components/CommonScript';\nimport { toast } from 'react-toastify';\nimport { initRequest } from './LoginAction';\nimport { intl } from '../components/App';\nimport { transactionStatus, reportTypeEnum } from '../components/Enumeration';\nexport function getReportMasterComboService(inputParam) {\n  return function (dispatch) {\n    // if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus !== transactionStatus.APPROVED))\n    // {      \n    dispatch(initRequest(true));\n    let nreportcode = null;\n\n    if (inputParam.operation === \"update\") {\n      nreportcode = inputParam.mastertoedit[inputParam.primaryKeyName];\n    }\n\n    return rsapi.post(\"reportconfig/getReportMasterComboData\", {\n      nreportcode,\n      userinfo: inputParam.userInfo,\n      filterreporttype: inputParam.filterReportType\n    }).then(response => {\n      const reportTypeMap = constructOptionList(response.data[\"ReportType\"] || [], \"nreporttypecode\", \"sdisplayname\", undefined, undefined, true);\n      const reportModuleMap = constructOptionList(response.data[\"ReportModule\"] || [], \"nreportmodulecode\", \"sdisplayname\", undefined, undefined, true);\n      const reportSubTypeMap = constructOptionList(response.data[\"COAReportType\"] || [], \"ncoareporttypecode\", \"scoareporttypename\", undefined, undefined, true);\n      const sampleTypeMap = constructOptionList(response.data[\"SampleType\"] || [], \"nsampletypecode\", \"ssampletypename\", undefined, undefined, true);\n      const regTypeMap = constructOptionList(response.data[\"RegistrationType\"] || [], \"nregtypecode\", \"sregtypename\", undefined, undefined, true);\n      const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\", \"sregsubtypename\", undefined, undefined, true);\n      const approvaConfigVersionMap = constructOptionList(response.data[\"ApprovalConfigVersion\"] || [], \"napproveconfversioncode\", \"sversionname\", undefined, undefined, false);\n      const sectionMap = constructOptionList(response.data[\"SectionList\"] || [], \"nsectioncode\", \"ssectionname\", undefined, undefined, true);\n      const decisionTypeMap = constructOptionList(response.data[\"ReportDecisionType\"] || [], \"nreportdecisiontypecode\", \"sdecisiontypename\", undefined, undefined, true);\n      const certificateTypeMap = constructOptionList(response.data[\"CertificateType\"] || [], \"ncertificatetypecode\", \"scertificatetype\", undefined, undefined, true);\n      const controlScreenTypeMap = constructOptionList(response.data[\"ControlScreen\"] || [], \"nformcode\", \"sdisplayname\", undefined, undefined, true);\n      const reportTemplateMap = constructOptionList(response.data[\"ReportTemplate\"] || [], \"nreporttemplatecode\", \"sreporttemplatename\", undefined, undefined, true);\n      const reportTypeList = reportTypeMap.get(\"OptionList\");\n      const reportModuleList = reportModuleMap.get(\"OptionList\");\n      const reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\n      const regTypeList = regTypeMap.get(\"OptionList\");\n      const sampleTypeList = sampleTypeMap.get(\"OptionList\");\n      const regSubTypeList = regSubTypeMap.get(\"OptionList\");\n      const sectionList = sectionMap.get(\"OptionList\");\n      const decisionTypeList = decisionTypeMap.get(\"OptionList\");\n      const certificateTypeList = certificateTypeMap.get(\"OptionList\");\n      const controlScreenTypeList = controlScreenTypeMap.get(\"OptionList\");\n      const ApproveConfigList = approvaConfigVersionMap.get(\"OptionList\");\n      const reportTemplateList = reportTemplateMap.get(\"OptionList\");\n      let selectedRecord = {\n        ntransactionstatus: transactionStatus.ACTIVE\n      };\n      let respObject = {\n        \"reportVersionStatus\": transactionStatus.DRAFT\n      };\n\n      if (inputParam.operation === \"update\") {\n        if (response.status === 202) {\n          respObject[\"reportVersionStatus\"] = transactionStatus.APPROVED;\n          respObject[\"ApprovedReportMaster\"] = response.data[\"SelectedReportDesigner\"];\n        }\n\n        selectedRecord = JSON.parse(JSON.stringify(response.data[\"SelectedReportDesigner\"]));\n\n        if (selectedRecord.nreporttypecode === reportTypeEnum.SAMPLE || selectedRecord.nreporttypecode === reportTypeEnum.COA || selectedRecord.nreporttypecode === reportTypeEnum.COAPREVIEW) {\n          selectedRecord[\"nsampletypecode\"] = {\n            value: response.data[\"SelectedReportDesigner\"].nsampletypecode,\n            label: response.data[\"SelectedReportDesigner\"].ssampletypename\n          }; // selectedRecord[\"nregtypecode\"] = {\n          //     value: response.data[\"SelectedReportDesigner\"].nregtypecode,\n          //     label: response.data[\"SelectedReportDesigner\"].sregtypename\n          // };\n\n          if (response.data[\"SelectedReportDesigner\"].nregtypecode !== -1) {\n            selectedRecord[\"nregtypecode\"] = {\n              value: response.data[\"SelectedReportDesigner\"].nregtypecode,\n              label: response.data[\"SelectedReportDesigner\"].sregtypename\n            };\n          } else {\n            selectedRecord[\"nregtypecode\"] = undefined;\n          }\n\n          if (response.data[\"SelectedReportDesigner\"].nregsubtypecode !== -1) {\n            selectedRecord[\"nregsubtypecode\"] = {\n              value: response.data[\"SelectedReportDesigner\"].nregsubtypecode,\n              label: response.data[\"SelectedReportDesigner\"].sregsubtypename\n            };\n          } else {\n            selectedRecord[\"nregsubtypecode\"] = undefined;\n          }\n\n          if (response.data[\"SelectedReportDesigner\"].nregsubtypecode !== -1) {\n            selectedRecord[\"napproveconfversioncode\"] = {\n              value: response.data[\"SelectedReportDesigner\"].napproveconfversioncode,\n              label: response.data[\"SelectedReportDesigner\"].sapproveversionname\n            };\n          } else {\n            selectedRecord[\"nregsubtypecode\"] = undefined;\n          }\n\n          if (response.data[\"SelectedReportDesigner\"].nsectioncode !== -1) {\n            selectedRecord[\"nsectioncode\"] = {\n              value: response.data[\"SelectedReportDesigner\"].nsectioncode,\n              label: response.data[\"SelectedReportDesigner\"].ssectionname\n            };\n          } else {\n            selectedRecord[\"nsectioncode\"] = undefined;\n          }\n\n          if (response.data[\"SelectedReportDesigner\"].ncoareporttypecode !== -1) {\n            selectedRecord[\"ncoareporttypecode\"] = {\n              value: response.data[\"SelectedReportDesigner\"].ncoareporttypecode,\n              label: response.data[\"SelectedReportDesigner\"].scoareporttypename\n            };\n          } else {\n            selectedRecord[\"ncoareporttypecode\"] = undefined;\n          }\n\n          if (response.data[\"SelectedReportDesigner\"].nreporttemplatecode !== -1) {\n            selectedRecord[\"nreporttemplatecode\"] = {\n              value: response.data[\"SelectedReportDesigner\"].nreporttemplatecode,\n              label: response.data[\"SelectedReportDesigner\"].sreporttemplatename\n            };\n          }\n\n          if (selectedRecord.nreporttypecode === reportTypeEnum.SAMPLE) {\n            selectedRecord[\"nreportdecisiontypecode\"] = {\n              value: response.data[\"SelectedReportDesigner\"].nreportdecisiontypecode,\n              label: response.data[\"SelectedReportDesigner\"].sdecisiontypename\n            };\n          }\n        } else if (selectedRecord.nreporttypecode === reportTypeEnum.MIS) {\n          selectedRecord[\"nreportmodulecode\"] = {\n            value: response.data[\"SelectedReportDesigner\"].nreportmodulecode,\n            label: response.data[\"SelectedReportDesigner\"].smoduledisplayname\n          };\n          selectedRecord[\"nreportmodule\"] = {\n            value: response.data[\"SelectedReportDesigner\"].smoduledisplayname,\n            label: response.data[\"SelectedReportDesigner\"].smoduledisplayname\n          };\n        } else if (selectedRecord.nreporttypecode === reportTypeEnum.SCREENWISE) {\n          selectedRecord[\"ncontrolcode\"] = {\n            value: response.data[\"SelectedReportDesigner\"].ncontrolcode,\n            label: response.data[\"SelectedReportDesigner\"].scontrolids\n          };\n          selectedRecord[\"nformcode\"] = {\n            value: response.data[\"SelectedReportDesigner\"].nformcode,\n            label: response.data[\"SelectedReportDesigner\"].sdisplayname\n          };\n        }\n\n        if (selectedRecord.nreporttypecode === reportTypeEnum.SAMPLE || selectedRecord.nreporttypecode === reportTypeEnum.BATCH) {\n          if (response.data[\"SelectedReportDesigner\"].ncoareporttypecode !== -1) {\n            selectedRecord[\"ncoareporttypecode\"] = {\n              value: response.data[\"SelectedReportDesigner\"].ncoareporttypecode,\n              label: response.data[\"SelectedReportDesigner\"].scoareporttypename\n            };\n          } else {\n            selectedRecord[\"ncoareporttypecode\"] = undefined;\n          }\n\n          selectedRecord[\"ncertificatetypecode\"] = {\n            value: response.data[\"SelectedReportDesigner\"].ncertificatetypecode,\n            label: response.data[\"SelectedReportDesigner\"].scertificatetype\n          };\n          selectedRecord[\"sbatchtypename\"] = response.data[\"SelectedReportDesigner\"].sbatchtypename;\n        }\n\n        selectedRecord[\"ntransactionstatus\"] = response.data[\"SelectedReportDesigner\"].ntransactionstatus;\n        selectedRecord[\"nreporttypecode\"] = {\n          item: response.data[\"SelectedReportDesigner\"],\n          value: response.data[\"SelectedReportDesigner\"].nreporttypecode,\n          label: response.data[\"SelectedReportDesigner\"].sreportdisplayname\n        };\n      }\n\n      respObject = { ...respObject,\n        reportSubTypeList,\n        //:response.data[\"COAReportType\"]  || [], \n        sampleTypeList,\n        regTypeList,\n        //:response.data[\"RegistrationType\"]  || [],                                                               \n        regSubTypeList,\n        //:response.data[\"RegistrationSubType\"]  || [],  \n        sectionList,\n        ApproveConfigList,\n        //:response.data[\"SectionList\"] || [],   \n        certificateTypeList,\n        reportDecisionTypeList: decisionTypeList,\n        controlScreen: controlScreenTypeList,\n        reportTemplateList //masterData:{...inputParam.masterData, SelectedFilterReportType:response.data[\"SelectedReportType\"] }                                                             \n\n      };\n\n      if (inputParam.operation === \"create\") {\n        selectedRecord[\"nreporttypecode\"] = {\n          item: response.data[\"SelectedReportType\"],\n          label: response.data[\"SelectedReportType\"].sdisplayname,\n          value: response.data[\"SelectedReportType\"].nreporttypecode\n        };\n\n        if (selectedRecord[\"nreporttypecode\"].value === reportTypeEnum.SAMPLE && selectedRecord[\"nreporttypecode\"]['item'].isneedregtype === transactionStatus.YES) {\n          // selectedRecord[\"nregtypecode\"] = getComboLabelValue(response.data[\"SelectedRegType\"],\n          //     response.data[\"RegistrationType\"], \"nregtypecode\", \"sregtypename\")\n          selectedRecord[\"nsampletypecode\"] = getComboLabelValue(response.data[\"SelectedSampleType\"], response.data[\"SampleType\"], \"nsampletypecode\", \"ssampletypename\");\n\n          if (selectedRecord[\"nreporttypecode\"]['item'].isneedsection === transactionStatus.YES) {\n            selectedRecord[\"nsectioncode\"] = sectionMap.get(\"DefaultValue\");\n          }\n        }\n      }\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          reportTypeList,\n          //:response.data[\"ReportType\"] || [], \n          reportModuleList,\n          //:response.data[\"ReportModule\"] || [] ,\n          ...respObject,\n          operation: inputParam.operation,\n          screenName: inputParam.screenName,\n          selectedRecord,\n          openModal: true,\n          ncontrolCode: inputParam.ncontrolcode,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    }); // }\n    // else{       \n    //     toast.warn(intl.formatMessage({id: \"IDS_CANNOTUPDATEAPPROVEDREPORT\"}));\n    // }\n  };\n}\nexport function getReportDetailComboService(inputParam) {\n  return function (dispatch) {\n    if (inputParam.operation === \"create\" || inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus === transactionStatus.DRAFT) {\n      if (inputParam.masterData.SelectedReportMaster !== null) {\n        dispatch(initRequest(true));\n        let nreportdetailcode = null;\n\n        if (inputParam.operation === \"update\") {\n          nreportdetailcode = inputParam.detailtoedit[inputParam.primaryKeyName];\n        }\n\n        return rsapi.post(\"reportconfig/getReportDetailComboData\", {\n          nreportdetailcode,\n          reportmaster: inputParam.masterData.SelectedReportMaster,\n          userinfo: inputParam.userInfo\n        }).then(response => {\n          // const reportType = response.data[\"SelectedReportType\"];\n          // const reportSubTypeMap  = constructOptionList(response.data[\"COAReportType\"] ||[], \"ncoareporttypecode\",\n          //                             \"scoareporttypename\" , undefined, undefined, true);    \n          // const sectionMap  = constructOptionList(response.data[\"SectionList\"] ||[], \"nsectioncode\",\n          //                             \"ssectionname\", undefined, undefined, true);\n          // const decisionTypeMap  = constructOptionList(response.data[\"ReportDecisionType\"] ||[], \"nreportdecisiontypecode\",\n          //                             \"sdecisiontypename\" , undefined, undefined, true);   \n          // const certificateTypeMap  = constructOptionList(response.data[\"CertificateType\"] ||[], \"ncertificatetypecode\",\n          //                             \"scertificatetype\" , undefined, undefined, true);\n          // const  reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\n          // const  sectionList = sectionMap.get(\"OptionList\"); \n          // const  decisionTypeList = decisionTypeMap.get(\"OptionList\");\n          // const  certificateTypeList = certificateTypeMap.get(\"OptionList\");  \n          let selectedRecord = {};\n          let respObject = {};\n\n          if (inputParam.operation === \"update\") {\n            selectedRecord = response.data[\"SelectedReportDetail\"];\n          }\n\n          selectedRecord[\"ntransactionstatus\"] = transactionStatus.DRAFT; //    console.log(\"selected in action:\", selectedRecord);\n\n          dispatch({\n            type: DEFAULT_RETURN,\n            payload: { ...respObject,\n              operation: inputParam.operation,\n              screenName: inputParam.screenName,\n              selectedRecord,\n              openModal: true,\n              ncontrolCode: inputParam.ncontrolcode,\n              loading: false\n            }\n          });\n        }).catch(error => {\n          dispatch({\n            type: DEFAULT_RETURN,\n            payload: {\n              loading: false\n            }\n          });\n\n          if (error.response.status === 500) {\n            toast.error(error.message);\n          } else {\n            toast.warn(error.response.data);\n          }\n        });\n      } else {\n        toast.warn(intl.formatMessage({\n          id: \"IDS_REPORTNOTFOUND\"\n        }));\n      }\n    } else if (inputParam.operation === \"create\" || inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus === transactionStatus.APPROVED) {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_CANNOTEDITAPPROVEDREPORT\"\n      }));\n    } else if (inputParam.operation === \"create\" || inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus === transactionStatus.RETIRED) {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_CANNOTEDITRETIREDREPORT\"\n      }));\n    }\n  };\n}\nexport function getSelectedReportMasterDetail(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"reportconfig/getReportDesigner\", {\n      nreportcode: parseInt(inputParam.nreportcode),\n      nreporttypecode: inputParam.masterData && inputParam.masterData.SelectedFilterReportType ? inputParam.masterData.SelectedFilterReportType.nreporttypecode.toString() : null,\n      userinfo: inputParam.userInfo\n    }).then(response => {\n      const masterData = { ...inputParam.masterData,\n        ...response.data\n      };\n      sortData(masterData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          operation: null,\n          modalName: undefined,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getSelectedReportDetail(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"reportconfig/getReportDetail\", {\n      nreportdetailcode: parseInt(inputParam.nreportdetailcode),\n      userinfo: inputParam.userInfo\n    }).then(response => {\n      const masterData = { ...inputParam.masterData,\n        ...response.data\n      };\n      sortData(masterData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          operation: null,\n          modalName: undefined,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getConfigReportComboService(inputParam) {\n  return function (dispatch) {\n    if (inputParam.reportMaster.nreporttypecode === reportTypeEnum.MIS) {\n      if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT) {\n        dispatch(initRequest(true));\n        return rsapi.post(\"reportconfig/getReportAddDesignComboData\", {\n          nreportdetailcode: parseInt(inputParam.reportDetail.nreportdetailcode),\n          userinfo: inputParam.userInfo\n        }).then(response => {\n          const parameterMap = constructOptionList(response.data[\"ReportParameter\"] || [], \"nreportparametercode\", \"sreportparametername\", undefined, undefined, true);\n          const reportParameterList = parameterMap.get(\"OptionList\");\n          const designComponentMap = constructOptionList(response.data[\"DesignComponents\"] || [], \"ndesigncomponentcode\", \"sdesigncomponentname\", undefined, undefined, true);\n          const designComponentList = designComponentMap.get(\"OptionList\");\n          const sqlQueryMap = constructOptionList(response.data[\"SQLQuery\"] || [], \"nsqlquerycode\", \"ssqlqueryname\", undefined, undefined, true);\n          const sqlQueryList = sqlQueryMap.get(\"OptionList\");\n          dispatch({\n            type: DEFAULT_RETURN,\n            payload: {\n              reportParameterList,\n              //:response.data[\"ReportParameter\"] || [], \n              designComponentList,\n              //:response.data[\"DesignComponents\"] || [],\n              sqlQueryList,\n              //:response.data[\"SQLQuery\"] || [], \n              operation: inputParam.operation,\n              screenName: inputParam.screenName,\n              //selectedRecord:{nmandatory:transactionStatus.YES}, \n              selectedRecord: {},\n              openModal: true,\n              ncontrolCode: inputParam.ncontrolCode,\n              loading: false\n            }\n          });\n        }).catch(error => {\n          dispatch({\n            type: DEFAULT_RETURN,\n            payload: {\n              loading: false\n            }\n          });\n\n          if (error.response.status === 500) {\n            toast.error(error.message);\n          } else {\n            toast.warn(error.response.data);\n          }\n        });\n      } else {\n        toast.warn(intl.formatMessage({\n          id: \"IDS_CANNOTCONFIGUREAPPROVEDREPORT\"\n        }));\n      }\n    } else {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_CANCONFIGUREMISREPORT\"\n      }));\n    }\n  };\n}\nexport function getParameterMappingComboService(inputParam) {\n  return function (dispatch) {\n    if (inputParam.reportMaster.nreporttypecode === reportTypeEnum.MIS) {\n      if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT) {\n        dispatch(initRequest(true));\n        return rsapi.post(\"reportconfig/getReportParameterMappingComboData\", {\n          nreportdetailcode: parseInt(inputParam.reportDetail.nreportdetailcode),\n          userinfo: inputParam.userInfo\n        }).then(response => {\n          if (response.data[\"ChildComponentList\"].length > 0) {\n            const parentComponentMap = constructOptionList(response.data[\"ParentComponentList\"] || [], \"nreportdesigncode\", \"sdisplayname\", undefined, undefined, true);\n            const parentComponentList = parentComponentMap.get(\"OptionList\");\n            const childComponentMap = constructOptionList(response.data[\"ChildComponentList\"] || [], \"nreportdesigncode\", \"sdisplayname\", undefined, undefined, true);\n            const childComponentList = childComponentMap.get(\"OptionList\");\n            dispatch({\n              type: DEFAULT_RETURN,\n              payload: {\n                parentComponentList,\n                //:response.data[\"ParentComponenList\"] || [],\n                childComponentList,\n                //:response.data[\"ChildComponentList\"] || [], \n                operation: inputParam.operation,\n                screenName: inputParam.screenName,\n                selectedRecord: {},\n                openModal: true,\n                ncontrolCode: inputParam.ncontrolCode,\n                loading: false\n              }\n            });\n          } else {\n            dispatch({\n              type: DEFAULT_RETURN,\n              payload: {\n                loading: false\n              }\n            });\n            toast.warn(intl.formatMessage({\n              id: \"IDS_NOPARAMETERSTOMAP\"\n            }));\n          }\n        }).catch(error => {\n          dispatch({\n            type: DEFAULT_RETURN,\n            payload: {\n              loading: false\n            }\n          });\n\n          if (error.response.status === 500) {\n            toast.error(error.message);\n          } else {\n            toast.warn(error.response.data);\n          }\n        });\n      } else {\n        toast.warn(intl.formatMessage({\n          id: \"IDS_CANNOTMAPAPPROVEDREPORT\"\n        }));\n      }\n    } else {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_CANMAPMISREPORT\"\n      }));\n    }\n  };\n}\nexport function viewReportDetail(reportmaster, userInfo, masterData) {\n  return function (dispatch) {\n    if (reportmaster !== undefined) {\n      dispatch(initRequest(true));\n      return rsapi.post(\"reportview/viewReport\", {\n        reportmaster,\n        userinfo: userInfo\n      }).then(response => {\n        // console.log(\"report action:\", response);\n        masterData = { ...masterData,\n          ...response.data\n        };\n\n        if (response.data[\"ViewReportDesignConfig\"] !== undefined) {\n          masterData[\"ReportPDFFile\"] = undefined;\n        } // else{\n        //     document.getElementById(\"download_data\").setAttribute(\"href\", masterData[\"ReportPDFFile\"]);\n        //     document.getElementById(\"download_data\").click();\n        // }\n\n\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            masterData,\n            loading: false\n          }\n        });\n      }).catch(error => {\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            loading: false\n          }\n        });\n\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n      });\n    } else {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_REPORTNOTFOUND\"\n      }));\n    }\n  };\n} // export function getActionMappingComboService(inputParam) {\n//     return function (dispatch) {   \n//     if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT){\n//             dispatch(initRequest(true));\n//             return rsapi.post(\"reportconfig/getActionMappingComboData\", {nreportdetailcode:parseInt(inputParam.reportDetail.nreportdetailcode),\n//                                         userinfo:inputParam.userInfo})\n//         .then(response=>{ \n//             if (response.data[\"ActionMappingChild\"].length > 0)\n//             {     \n//                     dispatch({type: DEFAULT_RETURN, payload:{actionMappingParentList:response.data[\"ActionMappingParent\"] || [],\n//                                                             actionMappingChildList:response.data[\"ActionMappingChild\"] || [], \n//                                                             operation:inputParam.operation, \n//                                                             screenName:inputParam.screenName,   \n//                                                             selectedRecord:{}, \n//                                                             openModal : true,\n//                                                             ncontrolCode:inputParam.ncontrolCode,\n//                                                             loading:false\n//                                                             }}); \n//             }\n//             else{\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\n//                 toast.warn(intl.formatMessage({id:\"IDS_NOACTIONSTOMAP\"}))\n//             }\n//         })\n//         .catch(error=>{\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\n//             if (error.response.status === 500){\n//                 toast.error(error.message);\n//             } \n//             else{               \n//                 toast.warn(error.response.data);\n//             }  \n//         })\n//     }\n//     else{\n//         toast.warn(intl.formatMessage({id:\"IDS_CANNOTACTIONMAPAPPROVEDREPORT\"}))\n//     }\n// }}\n\nexport function getReportViewChildDataList(inputParam) {\n  return function (dispatch) {\n    // dispatch(initRequest(true));\n    return rsapi.post(\"reportview/getChildDataList\", { ...inputParam[\"inputData\"]\n    }).then(response => {\n      const controlList = inputParam.viewReportDesignConfigList;\n      const selectedRecord = inputParam.selectedRecord;\n      Object.keys(response.data).map(displayName => {\n        const index = controlList.findIndex(item => displayName === item.sdisplayname);\n        const comboMap = constructOptionList(response.data[displayName] || [], controlList[index].svaluemember, controlList[index].sdisplaymember, undefined, undefined, true);\n        const comboList = comboMap.get(\"OptionList\"); //selectedRecord[controlList[index].svaluemember] = undefined;\n\n        selectedRecord[controlList[index].sreportparametername] = undefined;\n        return controlList[index][\"dataList\"] = comboList; //response.data[displayName]\n      });\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          viewReportDesignConfigList: controlList,\n          loading: false,\n          inputFieldData: inputParam.inputData.inputfielddata,\n          selectedRecord\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function viewReportDetailWithParameters(viewReportParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"reportview/viewReportWithParameters\", { ...viewReportParam\n    }).then(response => {\n      const masterData = { ...viewReportParam.masterData,\n        ...response.data,\n        ReportPDFFile: response.data[\"ReportPDFFile\"],\n        SelectedReportDetails: response.data[\"SelectedReportDetails\"],\n        ReportPDFPath: response.data[\"ReportPDFPath\"],\n        ViewReportDesignConfig: undefined\n      };\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          loading: false //openModal:false\n\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReportsByModule(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"reportview/getReportView\", {\n      nreportmodulecode: inputParam.nreportmodulecode,\n      userinfo: inputParam.userInfo\n    }).then(response => {\n      const masterData = { ...inputParam.masterData,\n        ...response.data\n      }; // const  reportModuleMap  = constructOptionList(masterData.ViewReportModuleList ||[], \"nreportmodulecode\",\n      //                          \"smoduledisplayname\" , undefined, undefined, true);\n      // const  reportModuleList  = reportModuleMap.get(\"OptionList\");\n\n      sortData(masterData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          //viewReportModuleList:reportModuleList,\n          operation: null,\n          modalName: undefined,\n          loading: false,\n          selectedRecord: inputParam.selectedRecord\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getControlButton(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"reportconfig/getControlButton\", {\n      nformcode: inputParam.ControlScreen.nformcode,\n      userinfo: inputParam.userInfo\n    }).then(response => {\n      const controlButtonMap = constructOptionList(response.data || [], \"ncontrolcode\", \"scontrolids\", undefined, undefined, true);\n      const controlButtonList = controlButtonMap.get(\"OptionList\");\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          controlButton: controlButtonList,\n          //: response.data,                                            \n          loading: false,\n          selectedRecord: { ...inputParam.selectedRecord,\n            nregsubtypecode: undefined //nregsubtypecode:{label:\"Please Select...\", value:-4}\n\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReportRegSubType(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"reportconfig/getReportRegistrationSubType\", {\n      nregtypecode: inputParam.registrationType.nregtypecode,\n      userinfo: inputParam.userInfo\n    }).then(response => {\n      const regSubTypeMap = constructOptionList(response.data || [], \"nregsubtypecode\", \"sregsubtypename\", undefined, undefined, true);\n      const regSubTypeList = regSubTypeMap.get(\"OptionList\");\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          regSubTypeList,\n          //: response.data,                                            \n          loading: false,\n          ApproveConfigList: [],\n          selectedRecord: { ...inputParam.selectedRecord,\n            nregsubtypecode: undefined,\n            napproveconfversioncode: undefined //nregsubtypecode:{label:\"Please Select...\", value:-4}\n\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReportSubType(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"reportconfig/getReportSubType\", {\n      nreporttypecode: inputParam.reportType.nreporttypecode,\n      nreporttypecode: inputParam.reportType.nreporttypecode,\n      userinfo: inputParam.userInfo\n    }).then(response => {\n      // const reportSubTypeMap = constructOptionList(response.data.COAReportType || [], \"ncoareporttypecode\",\n      //     \"scoareporttypename\", undefined, undefined, true);\n      // const reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\n      const certificateTypeMap = constructOptionList(response.data.CertificateType || [], \"ncertificatetypecode\", \"scertificatetype\", undefined, undefined, true);\n      const certificateTypeList = certificateTypeMap.get(\"OptionList\");\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          // reportSubTypeList,\n          certificateTypeList,\n          loading: false,\n          selectedRecord: { ...inputParam.selectedRecord,\n            ncoareporttypecode: undefined,\n            ncertificatetypecode: \"\" // ncoareporttypecode:{label:\"Please Select...\", value:-4}\n\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReportSampletype(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"reportconfig/getReportSampleType\", {\n      nsampletypecode: inputParam.nsampletypecode,\n      nreporttypecode: inputParam.reportType.nreporttypecode,\n      userinfo: inputParam.userInfo\n    }).then(response => {\n      // const reportRegTypeMap  = constructOptionList(response.data.Regtype ||[], \"nregtypecode\",\n      //                          \"sregtypename\" , undefined, undefined, true);   \n      // const  reportRegTypeList = reportRegTypeMap.get(\"OptionList\");\n      // // const reportRegSubTypeMap  = constructOptionList(response.data.RegSubtype ||[], \"nregsubtypecode\",\n      // // \"sregsubtypename\" , undefined, undefined, true);   \n      // //   const  reportRegSubTypeList = reportRegSubTypeMap.get(\"OptionList\");\n      const sampleTypeMap = constructOptionList(response.data[\"SampleType\"] || [], \"nsampletypecode\", \"ssampletypename\", undefined, undefined, true);\n      const sampleTypeList = sampleTypeMap.get(\"OptionList\");\n      const regTypeMap = constructOptionList(response.data[\"RegistrationType\"] || [], \"nregtypecode\", \"sregtypename\", undefined, undefined, true);\n      const regTypeList = regTypeMap.get(\"OptionList\"); // const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\",\n      //     \"sregsubtypename\", undefined, undefined, true);\n      // const regSubTypeList = regSubTypeMap.get(\"OptionList\");\n\n      const coaReportTypeMap = constructOptionList(response.data.COAReportType || [], \"ncoareporttypecode\", \"scoareporttypename\", undefined, undefined, true);\n      const reportSubTypeList = coaReportTypeMap.get(\"OptionList\");\n      const certificateType = constructOptionList(response.data.CertificateType || [], \"ncertificatetypecode\", \"scertificatetype\", undefined, undefined, true);\n      const certificateTypeList = certificateType.get(\"OptionList\");\n      const nsampletypecode = getComboLabelValue(response.data[\"SelectedSampleType\"], response.data[\"SampleType\"], \"nsampletypecode\", \"ssampletypename\");\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          sampleTypeList,\n          regTypeList,\n          //  regSubTypeList,\n          reportSubTypeList,\n          loading: false,\n          certificateTypeList,\n          selectedRecord: { ...inputParam.selectedRecord,\n            nsampletypecode: nsampletypecode,\n            nregtypecode: undefined,\n            ncoareporttypecode: undefined,\n            ncertificatetypecode: \"\"\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getregtype(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"reportconfig/getRegistrationtypeForSample\", {\n      nsampletypecode: inputParam.sampleType.nsampletypecode,\n      nregtypecode: inputParam.nregtypecode,\n      nreporttypecode: inputParam.selectedRecord.nreporttypecode.value,\n      userinfo: inputParam.userInfo\n    }).then(response => {\n      // const reportRegTypeMap  = constructOptionList(response.data.Regtype ||[], \"nregtypecode\",\n      //                          \"sregtypename\" , undefined, undefined, true);   \n      // const  reportRegTypeList = reportRegTypeMap.get(\"OptionList\");\n      // // const reportRegSubTypeMap  = constructOptionList(response.data.RegSubtype ||[], \"nregsubtypecode\",\n      // // \"sregsubtypename\" , undefined, undefined, true);   \n      // //   const  reportRegSubTypeList = reportRegSubTypeMap.get(\"OptionList\");\n      // const sampleTypeMap = constructOptionList(response.data[\"SampleType\"] || [], \"nsampletypecode\",\n      // \"ssampletypename\", undefined, undefined, true);\n      // const sampleTypeList = sampleTypeMap.get(\"OptionList\");\n      const regTypeMap = constructOptionList(response.data[\"RegistrationType\"] || [], \"nregtypecode\", \"sregtypename\", undefined, undefined, true);\n      const regTypeList = regTypeMap.get(\"OptionList\"); // const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\",\n      //     \"sregsubtypename\", undefined, undefined, true);\n      // const regSubTypeList = regSubTypeMap.get(\"OptionList\");\n\n      const coaReportTypeMap = constructOptionList(response.data.COAReportType || [], \"ncoareporttypecode\", \"scoareporttypename\", undefined, undefined, true);\n      const reportSubTypeList = coaReportTypeMap.get(\"OptionList\");\n      const certificateType = constructOptionList(response.data.CertificateType || [], \"ncertificatetypecode\", \"scertificatetype\", undefined, undefined, true);\n      const certificateTypeList = certificateType.get(\"OptionList\"); //    const nregtypecode = getComboLabelValue(response.data[\"SelectedRegType\"],\n      //      response.data[\"RegistrationType\"], \"nregtypecode\", \"sregtypename\")\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          //   sampleTypeList,\n          regTypeList,\n          regSubTypeList: [],\n          ApproveConfigList: [],\n          reportSubTypeList,\n          loading: false,\n          certificateTypeList,\n          selectedRecord: { ...inputParam.selectedRecord,\n            nregtypecode: undefined,\n            nregsubtypecode: undefined,\n            ncoareporttypecode: undefined,\n            ncertificatetypecode: \"\",\n            napproveconfversioncode: undefined\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReportRegSubTypeApproveConfigVersion(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"reportconfig/getReportRegSubTypeApproveConfigVersion\", {\n      nregtypecode: inputParam.selectedRecord.nregtypecode.value,\n      nregsubtypecode: inputParam.registrationsubType.nregsubtypecode,\n      userinfo: inputParam.userInfo\n    }).then(response => {\n      const ApproveConfigVersionMap = constructOptionList(response.data || [], \"napproveconfversioncode\", \"sversionname\", undefined, undefined, false);\n      const ApproveConfigList = ApproveConfigVersionMap.get(\"OptionList\");\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          ApproveConfigList,\n          //: response.data,                                            \n          loading: false,\n          selectedRecord: { ...inputParam.selectedRecord,\n            napproveconfversioncode: undefined\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getReportTemplate(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"reportconfig/getReportTemplate\", {\n      userinfo: inputParam.userInfo\n    }).then(response => {\n      const reportTemplateMap = constructOptionList(response.data || [], \"nreporttemplatecode\", \"sreporttemplatename\", undefined, undefined, true);\n      const reportTemplateList = reportTemplateMap.get(\"OptionList\");\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          reportTemplateList,\n          loading: false,\n          selectedRecord: { ...inputParam.selectedRecord,\n            nreporttemplatecode: undefined\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/ReportDesignerAction.js"],"names":["rsapi","DEFAULT_RETURN","sortData","getComboLabelValue","constructOptionList","toast","initRequest","intl","transactionStatus","reportTypeEnum","getReportMasterComboService","inputParam","dispatch","nreportcode","operation","mastertoedit","primaryKeyName","post","userinfo","userInfo","filterreporttype","filterReportType","then","response","reportTypeMap","data","undefined","reportModuleMap","reportSubTypeMap","sampleTypeMap","regTypeMap","regSubTypeMap","approvaConfigVersionMap","sectionMap","decisionTypeMap","certificateTypeMap","controlScreenTypeMap","reportTemplateMap","reportTypeList","get","reportModuleList","reportSubTypeList","regTypeList","sampleTypeList","regSubTypeList","sectionList","decisionTypeList","certificateTypeList","controlScreenTypeList","ApproveConfigList","reportTemplateList","selectedRecord","ntransactionstatus","ACTIVE","respObject","DRAFT","status","APPROVED","JSON","parse","stringify","nreporttypecode","SAMPLE","COA","COAPREVIEW","value","nsampletypecode","label","ssampletypename","nregtypecode","sregtypename","nregsubtypecode","sregsubtypename","napproveconfversioncode","sapproveversionname","nsectioncode","ssectionname","ncoareporttypecode","scoareporttypename","nreporttemplatecode","sreporttemplatename","nreportdecisiontypecode","sdecisiontypename","MIS","nreportmodulecode","smoduledisplayname","SCREENWISE","ncontrolcode","scontrolids","nformcode","sdisplayname","BATCH","ncertificatetypecode","scertificatetype","sbatchtypename","item","sreportdisplayname","reportDecisionTypeList","controlScreen","isneedregtype","YES","isneedsection","type","payload","screenName","openModal","ncontrolCode","loading","catch","error","message","warn","getReportDetailComboService","detailtoedit","masterData","SelectedReportMaster","nreportdetailcode","reportmaster","formatMessage","id","RETIRED","getSelectedReportMasterDetail","parseInt","SelectedFilterReportType","toString","modalName","getSelectedReportDetail","getConfigReportComboService","reportMaster","reportDetail","parameterMap","reportParameterList","designComponentMap","designComponentList","sqlQueryMap","sqlQueryList","getParameterMappingComboService","length","parentComponentMap","parentComponentList","childComponentMap","childComponentList","viewReportDetail","getReportViewChildDataList","controlList","viewReportDesignConfigList","Object","keys","map","displayName","index","findIndex","comboMap","svaluemember","sdisplaymember","comboList","sreportparametername","inputFieldData","inputData","inputfielddata","viewReportDetailWithParameters","viewReportParam","ReportPDFFile","SelectedReportDetails","ReportPDFPath","ViewReportDesignConfig","getReportsByModule","getControlButton","ControlScreen","controlButtonMap","controlButtonList","controlButton","getReportRegSubType","registrationType","getReportSubType","reportType","CertificateType","getReportSampletype","coaReportTypeMap","COAReportType","certificateType","getregtype","sampleType","getReportRegSubTypeApproveConfigVersion","registrationsubType","ApproveConfigVersionMap","getReportTemplate"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,UAAlB;AACA,SAASC,cAAT,QAA+B,cAA/B;AACA,SAASC,QAAT,EAAmBC,kBAAnB,EAAuCC,mBAAvC,QAAkE,4BAAlE;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,SAASC,iBAAT,EAA4BC,cAA5B,QAAkD,2BAAlD;AAEA,OAAO,SAASC,2BAAT,CAAqCC,UAArC,EAAiD;AACpD,SAAO,UAAUC,QAAV,EAAoB;AACvB;AACA;AACAA,IAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,QAAIO,WAAW,GAAG,IAAlB;;AACA,QAAIF,UAAU,CAACG,SAAX,KAAyB,QAA7B,EAAuC;AACnCD,MAAAA,WAAW,GAAGF,UAAU,CAACI,YAAX,CAAwBJ,UAAU,CAACK,cAAnC,CAAd;AACH;;AACD,WAAOhB,KAAK,CAACiB,IAAN,CAAW,uCAAX,EAAoD;AACvDJ,MAAAA,WADuD;AAEvDK,MAAAA,QAAQ,EAAEP,UAAU,CAACQ,QAFkC;AAGvDC,MAAAA,gBAAgB,EAAET,UAAU,CAACU;AAH0B,KAApD,EAKFC,IALE,CAKGC,QAAQ,IAAI;AAEd,YAAMC,aAAa,GAAGpB,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,YAAd,KAA+B,EAAhC,EAAoC,iBAApC,EACrC,cADqC,EACrBC,SADqB,EACVA,SADU,EACC,IADD,CAAzC;AAEA,YAAMC,eAAe,GAAGvB,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,cAAd,KAAiC,EAAlC,EAAsC,mBAAtC,EACvC,cADuC,EACvBC,SADuB,EACZA,SADY,EACD,IADC,CAA3C;AAEA,YAAME,gBAAgB,GAAGxB,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,eAAd,KAAkC,EAAnC,EAAuC,oBAAvC,EACxC,oBADwC,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAA5C;AAEA,YAAMG,aAAa,GAAGzB,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,YAAd,KAA+B,EAAhC,EAAoC,iBAApC,EACrC,iBADqC,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAAzC;AAEA,YAAMI,UAAU,GAAG1B,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,kBAAd,KAAqC,EAAtC,EAA0C,cAA1C,EAClC,cADkC,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAAtC;AAEA,YAAMK,aAAa,GAAG3B,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,qBAAd,KAAwC,EAAzC,EAA6C,iBAA7C,EACrC,iBADqC,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAAzC;AAEC,YAAMM,uBAAuB,GAAG5B,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,uBAAd,KAA0C,EAA3C,EAA+C,yBAA/C,EAChD,cADgD,EAChCC,SADgC,EACrBA,SADqB,EACV,KADU,CAAnD;AAED,YAAMO,UAAU,GAAG7B,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,aAAd,KAAgC,EAAjC,EAAqC,cAArC,EAClC,cADkC,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAAtC;AAEA,YAAMQ,eAAe,GAAG9B,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,oBAAd,KAAuC,EAAxC,EAA4C,yBAA5C,EACvC,mBADuC,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAA3C;AAEA,YAAMS,kBAAkB,GAAG/B,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,iBAAd,KAAoC,EAArC,EAAyC,sBAAzC,EAC1C,kBAD0C,EACtBC,SADsB,EACXA,SADW,EACA,IADA,CAA9C;AAEA,YAAMU,oBAAoB,GAAGhC,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,eAAd,KAAkC,EAAnC,EAAuC,WAAvC,EAC5C,cAD4C,EAC5BC,SAD4B,EACjBA,SADiB,EACN,IADM,CAAhD;AAEA,YAAMW,iBAAiB,GAAGjC,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,gBAAd,KAAmC,EAApC,EAAwC,qBAAxC,EACzC,qBADyC,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAA7C;AAGA,YAAMY,cAAc,GAAGd,aAAa,CAACe,GAAd,CAAkB,YAAlB,CAAvB;AACA,YAAMC,gBAAgB,GAAGb,eAAe,CAACY,GAAhB,CAAoB,YAApB,CAAzB;AACA,YAAME,iBAAiB,GAAGb,gBAAgB,CAACW,GAAjB,CAAqB,YAArB,CAA1B;AACA,YAAMG,WAAW,GAAGZ,UAAU,CAACS,GAAX,CAAe,YAAf,CAApB;AACA,YAAMI,cAAc,GAAGd,aAAa,CAACU,GAAd,CAAkB,YAAlB,CAAvB;AACA,YAAMK,cAAc,GAAGb,aAAa,CAACQ,GAAd,CAAkB,YAAlB,CAAvB;AACA,YAAMM,WAAW,GAAGZ,UAAU,CAACM,GAAX,CAAe,YAAf,CAApB;AACA,YAAMO,gBAAgB,GAAGZ,eAAe,CAACK,GAAhB,CAAoB,YAApB,CAAzB;AACA,YAAMQ,mBAAmB,GAAGZ,kBAAkB,CAACI,GAAnB,CAAuB,YAAvB,CAA5B;AACA,YAAMS,qBAAqB,GAAGZ,oBAAoB,CAACG,GAArB,CAAyB,YAAzB,CAA9B;AACD,YAAOU,iBAAiB,GAACjB,uBAAuB,CAACO,GAAxB,CAA4B,YAA5B,CAAzB;AACC,YAAMW,kBAAkB,GAAGb,iBAAiB,CAACE,GAAlB,CAAsB,YAAtB,CAA3B;AAEA,UAAIY,cAAc,GAAG;AAAEC,QAAAA,kBAAkB,EAAE5C,iBAAiB,CAAC6C;AAAxC,OAArB;AACA,UAAIC,UAAU,GAAG;AAAE,+BAAuB9C,iBAAiB,CAAC+C;AAA3C,OAAjB;;AAEA,UAAI5C,UAAU,CAACG,SAAX,KAAyB,QAA7B,EAAuC;AACnC,YAAIS,QAAQ,CAACiC,MAAT,KAAoB,GAAxB,EAA6B;AACzBF,UAAAA,UAAU,CAAC,qBAAD,CAAV,GAAoC9C,iBAAiB,CAACiD,QAAtD;AACAH,UAAAA,UAAU,CAAC,sBAAD,CAAV,GAAqC/B,QAAQ,CAACE,IAAT,CAAc,wBAAd,CAArC;AACH;;AACD0B,QAAAA,cAAc,GAAGO,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAerC,QAAQ,CAACE,IAAT,CAAc,wBAAd,CAAf,CAAX,CAAjB;;AACA,YAAI0B,cAAc,CAACU,eAAf,KAAmCpD,cAAc,CAACqD,MAAlD,IACGX,cAAc,CAACU,eAAf,KAAmCpD,cAAc,CAACsD,GADrD,IAC4DZ,cAAc,CAACU,eAAf,KAAmCpD,cAAc,CAACuD,UADlH,EAC8H;AACtHb,UAAAA,cAAc,CAAC,iBAAD,CAAd,GAAoC;AAChCc,YAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCyC,eADf;AAEhCC,YAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC2C;AAFf,WAApC,CADsH,CAK1H;AACA;AACA;AACA;;AACA,cAAI7C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC4C,YAAxC,KAAyD,CAAC,CAA9D,EAAiE;AAC7DlB,YAAAA,cAAc,CAAC,cAAD,CAAd,GAAiC;AAC7Bc,cAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC4C,YADlB;AAE7BF,cAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC6C;AAFlB,aAAjC;AAIH,WALD,MAMK;AACDnB,YAAAA,cAAc,CAAC,cAAD,CAAd,GAAiCzB,SAAjC;AACH;;AACD,cAAIH,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC8C,eAAxC,KAA4D,CAAC,CAAjE,EAAoE;AAChEpB,YAAAA,cAAc,CAAC,iBAAD,CAAd,GAAoC;AAChCc,cAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC8C,eADf;AAEhCJ,cAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC+C;AAFf,aAApC;AAIH,WALD,MAMK;AACDrB,YAAAA,cAAc,CAAC,iBAAD,CAAd,GAAoCzB,SAApC;AACH;;AAGD,cAAIH,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC8C,eAAxC,KAA4D,CAAC,CAAjE,EAAoE;AAChEpB,YAAAA,cAAc,CAAC,yBAAD,CAAd,GAA4C;AACxCc,cAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCgD,uBADP;AAExCN,cAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCiD;AAFP,aAA5C;AAIH,WALD,MAMK;AACDvB,YAAAA,cAAc,CAAC,iBAAD,CAAd,GAAoCzB,SAApC;AACH;;AAED,cAAIH,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCkD,YAAxC,KAAyD,CAAC,CAA9D,EAAiE;AAC7DxB,YAAAA,cAAc,CAAC,cAAD,CAAd,GAAiC;AAC7Bc,cAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCkD,YADlB;AAE7BR,cAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCmD;AAFlB,aAAjC;AAIH,WALD,MAMK;AACDzB,YAAAA,cAAc,CAAC,cAAD,CAAd,GAAiCzB,SAAjC;AACH;;AAED,cAAIH,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCoD,kBAAxC,KAA+D,CAAC,CAApE,EAAuE;AACnE1B,YAAAA,cAAc,CAAC,oBAAD,CAAd,GAAuC;AACnCc,cAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCoD,kBADZ;AAEnCV,cAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCqD;AAFZ,aAAvC;AAIH,WALD,MAMK;AACD3B,YAAAA,cAAc,CAAC,oBAAD,CAAd,GAAuCzB,SAAvC;AACH;;AAED,cAAIH,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCsD,mBAAxC,KAAgE,CAAC,CAArE,EAAwE;AACpE5B,YAAAA,cAAc,CAAC,qBAAD,CAAd,GAAwC;AACpCc,cAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCsD,mBADX;AAEpCZ,cAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCuD;AAFX,aAAxC;AAIH;;AAED,cAAI7B,cAAc,CAACU,eAAf,KAAmCpD,cAAc,CAACqD,MAAtD,EAA8D;AAC1DX,YAAAA,cAAc,CAAC,yBAAD,CAAd,GAA4C;AACxCc,cAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCwD,uBADP;AAExCd,cAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCyD;AAFP,aAA5C;AAIH;AAEJ,SA1ED,MA2EK,IAAI/B,cAAc,CAACU,eAAf,KAAmCpD,cAAc,CAAC0E,GAAtD,EAA2D;AAC5DhC,UAAAA,cAAc,CAAC,mBAAD,CAAd,GAAsC;AAClCc,YAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC2D,iBADb;AAElCjB,YAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC4D;AAFb,WAAtC;AAMAlC,UAAAA,cAAc,CAAC,eAAD,CAAd,GAAkC;AAC9Bc,YAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC4D,kBADjB;AAE9BlB,YAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC4D;AAFjB,WAAlC;AAKH,SAZI,MAcA,IAAIlC,cAAc,CAACU,eAAf,KAAmCpD,cAAc,CAAC6E,UAAtD,EAAkE;AACnEnC,UAAAA,cAAc,CAAC,cAAD,CAAd,GAAiC;AAC7Bc,YAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC8D,YADlB;AAE7BpB,YAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC+D;AAFlB,WAAjC;AAKArC,UAAAA,cAAc,CAAC,WAAD,CAAd,GAA8B;AAC1Bc,YAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCgE,SADrB;AAE1BtB,YAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCiE;AAFrB,WAA9B;AAIH;;AAED,YAAIvC,cAAc,CAACU,eAAf,KAAmCpD,cAAc,CAACqD,MAAlD,IACGX,cAAc,CAACU,eAAf,KAAmCpD,cAAc,CAACkF,KADzD,EACgE;AAC5D,cAAIpE,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCoD,kBAAxC,KAA+D,CAAC,CAApE,EAAuE;AACnE1B,YAAAA,cAAc,CAAC,oBAAD,CAAd,GAAuC;AACnCc,cAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCoD,kBADZ;AAEnCV,cAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCqD;AAFZ,aAAvC;AAIH,WALD,MAMK;AACD3B,YAAAA,cAAc,CAAC,oBAAD,CAAd,GAAuCzB,SAAvC;AACH;;AACDyB,UAAAA,cAAc,CAAC,sBAAD,CAAd,GAAyC;AACrCc,YAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCmE,oBADV;AAErCzB,YAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCoE;AAFV,WAAzC;AAKA1C,UAAAA,cAAc,CAAC,gBAAD,CAAd,GAAmC5B,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCqE,cAA3E;AACH;;AAED3C,QAAAA,cAAc,CAAC,oBAAD,CAAd,GAAuC5B,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwC2B,kBAA/E;AAEAD,QAAAA,cAAc,CAAC,iBAAD,CAAd,GAAoC;AAChC4C,UAAAA,IAAI,EAAExE,QAAQ,CAACE,IAAT,CAAc,wBAAd,CAD0B;AAEhCwC,UAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCoC,eAFf;AAGhCM,UAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,wBAAd,EAAwCuE;AAHf,SAApC;AAMH;;AAED1C,MAAAA,UAAU,GAAG,EACT,GAAGA,UADM;AACMb,QAAAA,iBADN;AACwB;AACjCE,QAAAA,cAFS;AAGTD,QAAAA,WAHS;AAGG;AACZE,QAAAA,cAJS;AAIM;AACfC,QAAAA,WALS;AAMTI,QAAAA,iBANS;AAMS;AAClBF,QAAAA,mBAPS;AAQTkD,QAAAA,sBAAsB,EAAEnD,gBARf;AASToD,QAAAA,aAAa,EAAElD,qBATN;AAUTE,QAAAA,kBAVS,CAWT;;AAXS,OAAb;;AAcA,UAAIvC,UAAU,CAACG,SAAX,KAAyB,QAA7B,EAAuC;AACnCqC,QAAAA,cAAc,CAAC,iBAAD,CAAd,GAAoC;AAChC4C,UAAAA,IAAI,EAAExE,QAAQ,CAACE,IAAT,CAAc,oBAAd,CAD0B;AACW0C,UAAAA,KAAK,EAAE5C,QAAQ,CAACE,IAAT,CAAc,oBAAd,EAAoCiE,YADtD;AAEhCzB,UAAAA,KAAK,EAAE1C,QAAQ,CAACE,IAAT,CAAc,oBAAd,EAAoCoC;AAFX,SAApC;;AAKA,YAAIV,cAAc,CAAC,iBAAD,CAAd,CAAkCc,KAAlC,KAA4CxD,cAAc,CAACqD,MAA3D,IACGX,cAAc,CAAC,iBAAD,CAAd,CAAkC,MAAlC,EAA0CgD,aAA1C,KAA4D3F,iBAAiB,CAAC4F,GADrF,EAC0F;AACtF;AACA;AACAjD,UAAAA,cAAc,CAAC,iBAAD,CAAd,GAAoChD,kBAAkB,CAACoB,QAAQ,CAACE,IAAT,CAAc,oBAAd,CAAD,EAClDF,QAAQ,CAACE,IAAT,CAAc,YAAd,CADkD,EACrB,iBADqB,EACF,iBADE,CAAtD;;AAGA,cAAI0B,cAAc,CAAC,iBAAD,CAAd,CAAkC,MAAlC,EAA0CkD,aAA1C,KAA4D7F,iBAAiB,CAAC4F,GAAlF,EAAuF;AACnFjD,YAAAA,cAAc,CAAC,cAAD,CAAd,GAAiClB,UAAU,CAACM,GAAX,CAAe,cAAf,CAAjC;AACH;AACJ;AACJ;;AACD3B,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC3BjE,UAAAA,cAD2B;AACZ;AACfE,UAAAA,gBAF2B;AAEV;AACjB,aAAGc,UAHwB;AAI3BxC,UAAAA,SAAS,EAAEH,UAAU,CAACG,SAJK;AAK3B0F,UAAAA,UAAU,EAAE7F,UAAU,CAAC6F,UALI;AAM3BrD,UAAAA,cAN2B;AAO3BsD,UAAAA,SAAS,EAAE,IAPgB;AAQ3BC,UAAAA,YAAY,EAAE/F,UAAU,CAAC4E,YARE;AAS3BoB,UAAAA,OAAO,EAAE;AATkB;AAD1B,OAAD,CAAR;AAcH,KAtOE,EAuOFC,KAvOE,CAuOIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AACJ,KA/OE,CAAP,CARuB,CAwPvB;AACA;AACA;AACA;AAEH,GA7PD;AA8PH;AAED,OAAO,SAASuF,2BAAT,CAAqCrG,UAArC,EAAiD;AACpD,SAAO,UAAUC,QAAV,EAAoB;AACvB,QAAID,UAAU,CAACG,SAAX,KAAyB,QAAzB,IAAsCH,UAAU,CAACG,SAAX,KAAyB,QAAzB,IAAqCH,UAAU,CAACsG,YAAX,CAAwB7D,kBAAxB,KAA+C5C,iBAAiB,CAAC+C,KAAhJ,EAAwJ;AACpJ,UAAI5C,UAAU,CAACuG,UAAX,CAAsBC,oBAAtB,KAA+C,IAAnD,EAAyD;AACrDvG,QAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,YAAI8G,iBAAiB,GAAG,IAAxB;;AACA,YAAIzG,UAAU,CAACG,SAAX,KAAyB,QAA7B,EAAuC;AACnCsG,UAAAA,iBAAiB,GAAGzG,UAAU,CAACsG,YAAX,CAAwBtG,UAAU,CAACK,cAAnC,CAApB;AACH;;AACD,eAAOhB,KAAK,CAACiB,IAAN,CAAW,uCAAX,EAAoD;AACvDmG,UAAAA,iBADuD;AAEvDC,UAAAA,YAAY,EAAE1G,UAAU,CAACuG,UAAX,CAAsBC,oBAFmB;AAGvDjG,UAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAHkC,SAApD,EAKFG,IALE,CAKGC,QAAQ,IAAI;AAEd;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA,cAAI4B,cAAc,GAAG,EAArB;AACA,cAAIG,UAAU,GAAG,EAAjB;;AACA,cAAI3C,UAAU,CAACG,SAAX,KAAyB,QAA7B,EAAuC;AACnCqC,YAAAA,cAAc,GAAG5B,QAAQ,CAACE,IAAT,CAAc,sBAAd,CAAjB;AAEH;;AACD0B,UAAAA,cAAc,CAAC,oBAAD,CAAd,GAAuC3C,iBAAiB,CAAC+C,KAAzD,CAzBc,CA2Bd;;AACA3C,UAAAA,QAAQ,CAAC;AACL0F,YAAAA,IAAI,EAAErG,cADD;AACiBsG,YAAAA,OAAO,EAAE,EAC3B,GAAGjD,UADwB;AAE3BxC,cAAAA,SAAS,EAAEH,UAAU,CAACG,SAFK;AAG3B0F,cAAAA,UAAU,EAAE7F,UAAU,CAAC6F,UAHI;AAI3BrD,cAAAA,cAJ2B;AAK3BsD,cAAAA,SAAS,EAAE,IALgB;AAM3BC,cAAAA,YAAY,EAAE/F,UAAU,CAAC4E,YANE;AAO3BoB,cAAAA,OAAO,EAAE;AAPkB;AAD1B,WAAD,CAAR;AAWH,SA5CE,EA6CFC,KA7CE,CA6CIC,KAAK,IAAI;AACZjG,UAAAA,QAAQ,CAAC;AAAE0F,YAAAA,IAAI,EAAErG,cAAR;AAAwBsG,YAAAA,OAAO,EAAE;AAAEI,cAAAA,OAAO,EAAE;AAAX;AAAjC,WAAD,CAAR;;AACA,cAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,YAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,WAFD,MAGK;AACDzG,YAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AACJ,SArDE,CAAP;AAsDH,OA5DD,MA6DK;AACDpB,QAAAA,KAAK,CAAC0G,IAAN,CAAWxG,IAAI,CAAC+G,aAAL,CAAmB;AAAEC,UAAAA,EAAE,EAAE;AAAN,SAAnB,CAAX;AACH;AACJ,KAjED,MAkEK,IAAI5G,UAAU,CAACG,SAAX,KAAyB,QAAzB,IAAsCH,UAAU,CAACG,SAAX,KAAyB,QAAzB,IAAqCH,UAAU,CAACsG,YAAX,CAAwB7D,kBAAxB,KAA+C5C,iBAAiB,CAACiD,QAAhJ,EAA2J;AAC5JpD,MAAAA,KAAK,CAAC0G,IAAN,CAAWxG,IAAI,CAAC+G,aAAL,CAAmB;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAAnB,CAAX;AACH,KAFI,MAGA,IAAI5G,UAAU,CAACG,SAAX,KAAyB,QAAzB,IAAsCH,UAAU,CAACG,SAAX,KAAyB,QAAzB,IAAqCH,UAAU,CAACsG,YAAX,CAAwB7D,kBAAxB,KAA+C5C,iBAAiB,CAACgH,OAAhJ,EAA0J;AAC3JnH,MAAAA,KAAK,CAAC0G,IAAN,CAAWxG,IAAI,CAAC+G,aAAL,CAAmB;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAAnB,CAAX;AACH;AACJ,GAzED;AA0EH;AAED,OAAO,SAASE,6BAAT,CAAuC9G,UAAvC,EAAmD;AACtD,SAAO,UAAUC,QAAV,EAAoB;AACvBA,IAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,WAAON,KAAK,CAACiB,IAAN,CAAW,gCAAX,EAA6C;AAChDJ,MAAAA,WAAW,EAAE6G,QAAQ,CAAC/G,UAAU,CAACE,WAAZ,CAD2B;AAEhDgD,MAAAA,eAAe,EAAElD,UAAU,CAACuG,UAAX,IAAyBvG,UAAU,CAACuG,UAAX,CAAsBS,wBAA/C,GAA0EhH,UAAU,CAACuG,UAAX,CAAsBS,wBAAtB,CAA+C9D,eAA/C,CAA+D+D,QAA/D,EAA1E,GAAsJ,IAFvH;AAGhD1G,MAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAH2B,KAA7C,EAKFG,IALE,CAKGC,QAAQ,IAAI;AAEd,YAAM2F,UAAU,GAAG,EAAE,GAAGvG,UAAU,CAACuG,UAAhB;AAA4B,WAAG3F,QAAQ,CAACE;AAAxC,OAAnB;AAEAvB,MAAAA,QAAQ,CAACgH,UAAD,CAAR;AACAtG,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC3BW,UAAAA,UAD2B;AACfpG,UAAAA,SAAS,EAAE,IADI;AACE+G,UAAAA,SAAS,EAAEnG,SADb;AAE3BiF,UAAAA,OAAO,EAAE;AAFkB;AAD1B,OAAD,CAAR;AAMH,KAhBE,EAiBFC,KAjBE,CAiBIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,KA1BE,CAAP;AA2BH,GA7BD;AA8BH;AAED,OAAO,SAASqG,uBAAT,CAAiCnH,UAAjC,EAA6C;AAChD,SAAO,UAAUC,QAAV,EAAoB;AACvBA,IAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,WAAON,KAAK,CAACiB,IAAN,CAAW,8BAAX,EAA2C;AAC9CmG,MAAAA,iBAAiB,EAAEM,QAAQ,CAAC/G,UAAU,CAACyG,iBAAZ,CADmB;AAE9ClG,MAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAFyB,KAA3C,EAIFG,IAJE,CAIGC,QAAQ,IAAI;AAEd,YAAM2F,UAAU,GAAG,EAAE,GAAGvG,UAAU,CAACuG,UAAhB;AAA4B,WAAG3F,QAAQ,CAACE;AAAxC,OAAnB;AAEAvB,MAAAA,QAAQ,CAACgH,UAAD,CAAR;AACAtG,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC3BW,UAAAA,UAD2B;AACfpG,UAAAA,SAAS,EAAE,IADI;AACE+G,UAAAA,SAAS,EAAEnG,SADb;AAE3BiF,UAAAA,OAAO,EAAE;AAFkB;AAD1B,OAAD,CAAR;AAMH,KAfE,EAgBFC,KAhBE,CAgBIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,KAzBE,CAAP;AA0BH,GA5BD;AA6BH;AAED,OAAO,SAASsG,2BAAT,CAAqCpH,UAArC,EAAiD;AACpD,SAAO,UAAUC,QAAV,EAAoB;AAEvB,QAAID,UAAU,CAACqH,YAAX,CAAwBnE,eAAxB,KAA4CpD,cAAc,CAAC0E,GAA/D,EAAoE;AAChE,UAAIxE,UAAU,CAACsH,YAAX,CAAwB7E,kBAAxB,KAA+C5C,iBAAiB,CAAC+C,KAArE,EAA4E;AACxE3C,QAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,eAAON,KAAK,CAACiB,IAAN,CAAW,0CAAX,EAAuD;AAC1DmG,UAAAA,iBAAiB,EAAEM,QAAQ,CAAC/G,UAAU,CAACsH,YAAX,CAAwBb,iBAAzB,CAD+B;AAE1DlG,UAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAFqC,SAAvD,EAIFG,IAJE,CAIGC,QAAQ,IAAI;AAEd,gBAAM2G,YAAY,GAAG9H,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,iBAAd,KAAoC,EAArC,EAAyC,sBAAzC,EACpC,sBADoC,EACZC,SADY,EACDA,SADC,EACU,IADV,CAAxC;AAGA,gBAAMyG,mBAAmB,GAAGD,YAAY,CAAC3F,GAAb,CAAiB,YAAjB,CAA5B;AAEA,gBAAM6F,kBAAkB,GAAGhI,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,kBAAd,KAAqC,EAAtC,EAA0C,sBAA1C,EAC1C,sBAD0C,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAA9C;AAGA,gBAAM2G,mBAAmB,GAAGD,kBAAkB,CAAC7F,GAAnB,CAAuB,YAAvB,CAA5B;AAEA,gBAAM+F,WAAW,GAAGlI,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,UAAd,KAA6B,EAA9B,EAAkC,eAAlC,EACnC,eADmC,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAAvC;AAGA,gBAAM6G,YAAY,GAAGD,WAAW,CAAC/F,GAAZ,CAAgB,YAAhB,CAArB;AAEA3B,UAAAA,QAAQ,CAAC;AACL0F,YAAAA,IAAI,EAAErG,cADD;AACiBsG,YAAAA,OAAO,EAAE;AAC3B4B,cAAAA,mBAD2B;AACP;AACpBE,cAAAA,mBAF2B;AAEP;AACpBE,cAAAA,YAH2B;AAGd;AACbzH,cAAAA,SAAS,EAAEH,UAAU,CAACG,SAJK;AAK3B0F,cAAAA,UAAU,EAAE7F,UAAU,CAAC6F,UALI;AAM3B;AACArD,cAAAA,cAAc,EAAE,EAPW;AAQ3BsD,cAAAA,SAAS,EAAE,IARgB;AAS3BC,cAAAA,YAAY,EAAE/F,UAAU,CAAC+F,YATE;AAU3BC,cAAAA,OAAO,EAAE;AAVkB;AAD1B,WAAD,CAAR;AAcH,SAnCE,EAoCFC,KApCE,CAoCIC,KAAK,IAAI;AACZjG,UAAAA,QAAQ,CAAC;AAAE0F,YAAAA,IAAI,EAAErG,cAAR;AAAwBsG,YAAAA,OAAO,EAAE;AAAEI,cAAAA,OAAO,EAAE;AAAX;AAAjC,WAAD,CAAR;;AACA,cAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,YAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,WAFD,MAGK;AACDzG,YAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,SA7CE,CAAP;AA8CH,OAhDD,MAiDK;AACDpB,QAAAA,KAAK,CAAC0G,IAAN,CAAWxG,IAAI,CAAC+G,aAAL,CAAmB;AAAEC,UAAAA,EAAE,EAAE;AAAN,SAAnB,CAAX;AACH;AACJ,KArDD,MAsDK;AACDlH,MAAAA,KAAK,CAAC0G,IAAN,CAAWxG,IAAI,CAAC+G,aAAL,CAAmB;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAAnB,CAAX;AACH;AACJ,GA3DD;AA4DH;AAED,OAAO,SAASiB,+BAAT,CAAyC7H,UAAzC,EAAqD;AACxD,SAAO,UAAUC,QAAV,EAAoB;AAEvB,QAAID,UAAU,CAACqH,YAAX,CAAwBnE,eAAxB,KAA4CpD,cAAc,CAAC0E,GAA/D,EAAoE;AAChE,UAAIxE,UAAU,CAACsH,YAAX,CAAwB7E,kBAAxB,KAA+C5C,iBAAiB,CAAC+C,KAArE,EAA4E;AACxE3C,QAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,eAAON,KAAK,CAACiB,IAAN,CAAW,iDAAX,EAA8D;AACjEmG,UAAAA,iBAAiB,EAAEM,QAAQ,CAAC/G,UAAU,CAACsH,YAAX,CAAwBb,iBAAzB,CADsC;AAEjElG,UAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAF4C,SAA9D,EAIFG,IAJE,CAIGC,QAAQ,IAAI;AACd,cAAIA,QAAQ,CAACE,IAAT,CAAc,oBAAd,EAAoCgH,MAApC,GAA6C,CAAjD,EAAoD;AAEhD,kBAAMC,kBAAkB,GAAGtI,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,qBAAd,KAAwC,EAAzC,EAA6C,mBAA7C,EAC1C,cAD0C,EAC1BC,SAD0B,EACfA,SADe,EACJ,IADI,CAA9C;AAEA,kBAAMiH,mBAAmB,GAAGD,kBAAkB,CAACnG,GAAnB,CAAuB,YAAvB,CAA5B;AAEA,kBAAMqG,iBAAiB,GAAGxI,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,oBAAd,KAAuC,EAAxC,EAA4C,mBAA5C,EACzC,cADyC,EACzBC,SADyB,EACdA,SADc,EACH,IADG,CAA7C;AAEA,kBAAMmH,kBAAkB,GAAGD,iBAAiB,CAACrG,GAAlB,CAAsB,YAAtB,CAA3B;AAEA3B,YAAAA,QAAQ,CAAC;AACL0F,cAAAA,IAAI,EAAErG,cADD;AACiBsG,cAAAA,OAAO,EAAE;AAC3BoC,gBAAAA,mBAD2B;AACP;AACpBE,gBAAAA,kBAF2B;AAER;AACnB/H,gBAAAA,SAAS,EAAEH,UAAU,CAACG,SAHK;AAI3B0F,gBAAAA,UAAU,EAAE7F,UAAU,CAAC6F,UAJI;AAK3BrD,gBAAAA,cAAc,EAAE,EALW;AAM3BsD,gBAAAA,SAAS,EAAE,IANgB;AAO3BC,gBAAAA,YAAY,EAAE/F,UAAU,CAAC+F,YAPE;AAQ3BC,gBAAAA,OAAO,EAAE;AARkB;AAD1B,aAAD,CAAR;AAYH,WAtBD,MAuBK;AACD/F,YAAAA,QAAQ,CAAC;AAAE0F,cAAAA,IAAI,EAAErG,cAAR;AAAwBsG,cAAAA,OAAO,EAAE;AAAEI,gBAAAA,OAAO,EAAE;AAAX;AAAjC,aAAD,CAAR;AACAtG,YAAAA,KAAK,CAAC0G,IAAN,CAAWxG,IAAI,CAAC+G,aAAL,CAAmB;AAAEC,cAAAA,EAAE,EAAE;AAAN,aAAnB,CAAX;AACH;AACJ,SAhCE,EAiCFX,KAjCE,CAiCIC,KAAK,IAAI;AACZjG,UAAAA,QAAQ,CAAC;AAAE0F,YAAAA,IAAI,EAAErG,cAAR;AAAwBsG,YAAAA,OAAO,EAAE;AAAEI,cAAAA,OAAO,EAAE;AAAX;AAAjC,WAAD,CAAR;;AACA,cAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,YAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,WAFD,MAGK;AACDzG,YAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,SA1CE,CAAP;AA2CH,OA7CD,MA8CK;AACDpB,QAAAA,KAAK,CAAC0G,IAAN,CAAWxG,IAAI,CAAC+G,aAAL,CAAmB;AAAEC,UAAAA,EAAE,EAAE;AAAN,SAAnB,CAAX;AACH;AACJ,KAlDD,MAmDK;AACDlH,MAAAA,KAAK,CAAC0G,IAAN,CAAWxG,IAAI,CAAC+G,aAAL,CAAmB;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAAnB,CAAX;AACH;AACJ,GAxDD;AAyDH;AAED,OAAO,SAASuB,gBAAT,CAA0BzB,YAA1B,EAAwClG,QAAxC,EAAkD+F,UAAlD,EAA8D;AACjE,SAAO,UAAUtG,QAAV,EAAoB;AACvB,QAAIyG,YAAY,KAAK3F,SAArB,EAAgC;AAC5Bd,MAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,aAAON,KAAK,CAACiB,IAAN,CAAW,uBAAX,EAAoC;AAAEoG,QAAAA,YAAF;AAAgBnG,QAAAA,QAAQ,EAAEC;AAA1B,OAApC,EACFG,IADE,CACGC,QAAQ,IAAI;AACd;AACA2F,QAAAA,UAAU,GAAG,EAAE,GAAGA,UAAL;AAAiB,aAAG3F,QAAQ,CAACE;AAA7B,SAAb;;AAEA,YAAIF,QAAQ,CAACE,IAAT,CAAc,wBAAd,MAA4CC,SAAhD,EAA2D;AACvDwF,UAAAA,UAAU,CAAC,eAAD,CAAV,GAA8BxF,SAA9B;AACH,SANa,CAOd;AACA;AACA;AACA;;;AAEAd,QAAAA,QAAQ,CAAC;AAAE0F,UAAAA,IAAI,EAAErG,cAAR;AAAwBsG,UAAAA,OAAO,EAAE;AAAEW,YAAAA,UAAF;AAAcP,YAAAA,OAAO,EAAE;AAAvB;AAAjC,SAAD,CAAR;AACH,OAdE,EAeFC,KAfE,CAeIC,KAAK,IAAI;AACZjG,QAAAA,QAAQ,CAAC;AAAE0F,UAAAA,IAAI,EAAErG,cAAR;AAAwBsG,UAAAA,OAAO,EAAE;AAAEI,YAAAA,OAAO,EAAE;AAAX;AAAjC,SAAD,CAAR;;AACA,YAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,UAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,SAFD,MAGK;AACDzG,UAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AACJ,OAvBE,CAAP;AAwBH,KA1BD,MA2BK;AACDpB,MAAAA,KAAK,CAAC0G,IAAN,CAAWxG,IAAI,CAAC+G,aAAL,CAAmB;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAAnB,CAAX;AACH;AACJ,GA/BD;AAgCH,C,CAED;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASwB,0BAAT,CAAoCpI,UAApC,EAAgD;AACnD,SAAO,UAAUC,QAAV,EAAoB;AACvB;AACA,WAAOZ,KAAK,CAACiB,IAAN,CAAW,6BAAX,EAA0C,EAAE,GAAGN,UAAU,CAAC,WAAD;AAAf,KAA1C,EACFW,IADE,CACGC,QAAQ,IAAI;AACd,YAAMyH,WAAW,GAAGrI,UAAU,CAACsI,0BAA/B;AAEA,YAAM9F,cAAc,GAAGxC,UAAU,CAACwC,cAAlC;AAEA+F,MAAAA,MAAM,CAACC,IAAP,CAAY5H,QAAQ,CAACE,IAArB,EAA2B2H,GAA3B,CAA+BC,WAAW,IAAI;AAC1C,cAAMC,KAAK,GAAGN,WAAW,CAACO,SAAZ,CAAsBxD,IAAI,IAAIsD,WAAW,KAAKtD,IAAI,CAACL,YAAnD,CAAd;AAEA,cAAM8D,QAAQ,GAAGpJ,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc4H,WAAd,KAA8B,EAA/B,EAAmCL,WAAW,CAACM,KAAD,CAAX,CAAmBG,YAAtD,EAChCT,WAAW,CAACM,KAAD,CAAX,CAAmBI,cADa,EACGhI,SADH,EACcA,SADd,EACyB,IADzB,CAApC;AAGA,cAAMiI,SAAS,GAAGH,QAAQ,CAACjH,GAAT,CAAa,YAAb,CAAlB,CAN0C,CAO1C;;AACAY,QAAAA,cAAc,CAAC6F,WAAW,CAACM,KAAD,CAAX,CAAmBM,oBAApB,CAAd,GAA0DlI,SAA1D;AAEA,eAAOsH,WAAW,CAACM,KAAD,CAAX,CAAmB,UAAnB,IAAiCK,SAAxC,CAV0C,CAUQ;AACrD,OAXD;AAYA/I,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC3B0C,UAAAA,0BAA0B,EAAED,WADD;AAE3BrC,UAAAA,OAAO,EAAE,KAFkB;AAG3BkD,UAAAA,cAAc,EAAElJ,UAAU,CAACmJ,SAAX,CAAqBC,cAHV;AAI3B5G,UAAAA;AAJ2B;AAD1B,OAAD,CAAR;AAQH,KA1BE,EA2BFyD,KA3BE,CA2BIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,KApCE,CAAP;AAqCH,GAvCD;AAwCH;AAED,OAAO,SAASuI,8BAAT,CAAwCC,eAAxC,EAAyD;AAC5D,SAAO,UAAUrJ,QAAV,EAAoB;AACvBA,IAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,WAAON,KAAK,CAACiB,IAAN,CAAW,qCAAX,EAAkD,EAAE,GAAGgJ;AAAL,KAAlD,EACF3I,IADE,CACGC,QAAQ,IAAI;AACd,YAAM2F,UAAU,GAAG,EACf,GAAG+C,eAAe,CAAC/C,UADJ;AACgB,WAAG3F,QAAQ,CAACE,IAD5B;AAEfyI,QAAAA,aAAa,EAAE3I,QAAQ,CAACE,IAAT,CAAc,eAAd,CAFA;AAGf0I,QAAAA,qBAAqB,EAAE5I,QAAQ,CAACE,IAAT,CAAc,uBAAd,CAHR;AAIf2I,QAAAA,aAAa,EAAE7I,QAAQ,CAACE,IAAT,CAAc,eAAd,CAJA;AAKf4I,QAAAA,sBAAsB,EAAE3I;AALT,OAAnB;AAQAd,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC3BW,UAAAA,UAD2B;AACfP,UAAAA,OAAO,EAAE,KADM,CACC;;AADD;AAD1B,OAAD,CAAR;AAKH,KAfE,EAgBFC,KAhBE,CAgBIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,KAzBE,CAAP;AA0BH,GA5BD;AA6BH;AAED,OAAO,SAAS6I,kBAAT,CAA4B3J,UAA5B,EAAwC;AAC3C,SAAO,UAAUC,QAAV,EAAoB;AACvBA,IAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,WAAON,KAAK,CAACiB,IAAN,CAAW,0BAAX,EAAuC;AAC1CmE,MAAAA,iBAAiB,EAAEzE,UAAU,CAACyE,iBADY;AAE1ClE,MAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAFqB,KAAvC,EAIFG,IAJE,CAIGC,QAAQ,IAAI;AAEd,YAAM2F,UAAU,GAAG,EAAE,GAAGvG,UAAU,CAACuG,UAAhB;AAA4B,WAAG3F,QAAQ,CAACE;AAAxC,OAAnB,CAFc,CAId;AACA;AACA;;AAEAvB,MAAAA,QAAQ,CAACgH,UAAD,CAAR;AACAtG,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC3BW,UAAAA,UAD2B;AACf;AACZpG,UAAAA,SAAS,EAAE,IAFgB;AAEV+G,UAAAA,SAAS,EAAEnG,SAFD;AAG3BiF,UAAAA,OAAO,EAAE,KAHkB;AAGXxD,UAAAA,cAAc,EAAExC,UAAU,CAACwC;AAHhB;AAD1B,OAAD,CAAR;AAOH,KApBE,EAqBFyD,KArBE,CAqBIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,KA9BE,CAAP;AA+BH,GAjCD;AAkCH;AAGD,OAAO,SAAS8I,gBAAT,CAA0B5J,UAA1B,EAAsC;AACzC,SAAO,UAAUC,QAAV,EAAoB;AACvBA,IAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,WAAON,KAAK,CAACiB,IAAN,CAAW,+BAAX,EAA4C;AAC/CwE,MAAAA,SAAS,EAAE9E,UAAU,CAAC6J,aAAX,CAAyB/E,SADW;AAE/CvE,MAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAF0B,KAA5C,EAIFG,IAJE,CAIGC,QAAQ,IAAI;AAEd,YAAMkJ,gBAAgB,GAAGrK,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,IAAiB,EAAlB,EAAsB,cAAtB,EACxC,aADwC,EACzBC,SADyB,EACdA,SADc,EACH,IADG,CAA5C;AAEA,YAAMgJ,iBAAiB,GAAGD,gBAAgB,CAAClI,GAAjB,CAAqB,YAArB,CAA1B;AACA3B,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC3BoE,UAAAA,aAAa,EAAED,iBADY;AACM;AACjC/D,UAAAA,OAAO,EAAE,KAFkB;AAG3BxD,UAAAA,cAAc,EAAE,EACZ,GAAGxC,UAAU,CAACwC,cADF;AAEZoB,YAAAA,eAAe,EAAE7C,SAFL,CAGZ;;AAHY;AAHW;AAD1B,OAAD,CAAR;AAWH,KApBE,EAqBFkF,KArBE,CAqBIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,KA9BE,CAAP;AA+BH,GAjCD;AAkCH;AAED,OAAO,SAASmJ,mBAAT,CAA6BjK,UAA7B,EAAyC;AAC5C,SAAO,UAAUC,QAAV,EAAoB;AACvBA,IAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,WAAON,KAAK,CAACiB,IAAN,CAAW,2CAAX,EAAwD;AAC3DoD,MAAAA,YAAY,EAAE1D,UAAU,CAACkK,gBAAX,CAA4BxG,YADiB;AAE3DnD,MAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAFsC,KAAxD,EAIFG,IAJE,CAIGC,QAAQ,IAAI;AAEd,YAAMQ,aAAa,GAAG3B,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,IAAiB,EAAlB,EAAsB,iBAAtB,EACrC,iBADqC,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAAzC;AAEA,YAAMkB,cAAc,GAAGb,aAAa,CAACQ,GAAd,CAAkB,YAAlB,CAAvB;AACA3B,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC3B3D,UAAAA,cAD2B;AACZ;AACf+D,UAAAA,OAAO,EAAE,KAFkB;AAG3B1D,UAAAA,iBAAiB,EAAC,EAHS;AAI3BE,UAAAA,cAAc,EAAE,EACZ,GAAGxC,UAAU,CAACwC,cADF;AAEZoB,YAAAA,eAAe,EAAE7C,SAFL;AAGZ+C,YAAAA,uBAAuB,EAAE/C,SAHb,CAKZ;;AALY;AAJW;AAD1B,OAAD,CAAR;AAcH,KAvBE,EAwBFkF,KAxBE,CAwBIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,KAjCE,CAAP;AAkCH,GApCD;AAqCH;AAED,OAAO,SAASqJ,gBAAT,CAA0BnK,UAA1B,EAAsC;AACzC,SAAO,UAAUC,QAAV,EAAoB;AACvBA,IAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,WAAON,KAAK,CAACiB,IAAN,CAAW,+BAAX,EAA4C;AAC/C4C,MAAAA,eAAe,EAAElD,UAAU,CAACoK,UAAX,CAAsBlH,eADQ;AAE/CA,MAAAA,eAAe,EAAElD,UAAU,CAACoK,UAAX,CAAsBlH,eAFQ;AAG/C3C,MAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAH0B,KAA5C,EAKFG,IALE,CAKGC,QAAQ,IAAI;AAEf;AACA;AACA;AAEC,YAAMY,kBAAkB,GAAG/B,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAcuJ,eAAd,IAAiC,EAAlC,EAAsC,sBAAtC,EAC1C,kBAD0C,EACtBtJ,SADsB,EACXA,SADW,EACA,IADA,CAA9C;AAEA,YAAMqB,mBAAmB,GAAGZ,kBAAkB,CAACI,GAAnB,CAAuB,YAAvB,CAA5B;AACA3B,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC5B;AACCxD,UAAAA,mBAF2B;AAG3B4D,UAAAA,OAAO,EAAE,KAHkB;AAI3BxD,UAAAA,cAAc,EAAE,EACZ,GAAGxC,UAAU,CAACwC,cADF;AAEZ0B,YAAAA,kBAAkB,EAAEnD,SAFR;AAGZkE,YAAAA,oBAAoB,EAAE,EAHV,CAIZ;;AAJY;AAJW;AAD1B,OAAD,CAAR;AAaH,KA3BE,EA4BFgB,KA5BE,CA4BIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,KArCE,CAAP;AAsCH,GAxCD;AAyCH;AACD,OAAO,SAASwJ,mBAAT,CAA6BtK,UAA7B,EAAyC;AAC5C,SAAO,UAAUC,QAAV,EAAoB;AACvBA,IAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,WAAON,KAAK,CAACiB,IAAN,CAAW,kCAAX,EAA+C;AAClDiD,MAAAA,eAAe,EAAEvD,UAAU,CAACuD,eADsB;AACLL,MAAAA,eAAe,EAAElD,UAAU,CAACoK,UAAX,CAAsBlH,eADlC;AAElD3C,MAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAF6B,KAA/C,EAIFG,IAJE,CAIGC,QAAQ,IAAI;AAEd;AACA;AACA;AAEA;AACA;AACA;AAEA,YAAMM,aAAa,GAAGzB,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,YAAd,KAA+B,EAAhC,EAAoC,iBAApC,EACzC,iBADyC,EACtBC,SADsB,EACXA,SADW,EACA,IADA,CAAzC;AAEA,YAAMiB,cAAc,GAAGd,aAAa,CAACU,GAAd,CAAkB,YAAlB,CAAvB;AAEA,YAAMT,UAAU,GAAG1B,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,kBAAd,KAAqC,EAAtC,EAA0C,cAA1C,EAClC,cADkC,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAAtC;AAEA,YAAMgB,WAAW,GAAGZ,UAAU,CAACS,GAAX,CAAe,YAAf,CAApB,CAhBc,CAkBd;AACA;AACA;;AAEA,YAAM2I,gBAAgB,GAAG9K,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc0J,aAAd,IAA+B,EAAhC,EAAoC,oBAApC,EACxC,oBADwC,EAClBzJ,SADkB,EACPA,SADO,EACI,IADJ,CAA5C;AAEA,YAAMe,iBAAiB,GAAGyI,gBAAgB,CAAC3I,GAAjB,CAAqB,YAArB,CAA1B;AAEA,YAAM6I,eAAe,GAAGhL,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAcuJ,eAAd,IAAiC,EAAlC,EAAsC,sBAAtC,EACvC,kBADuC,EACnBtJ,SADmB,EACRA,SADQ,EACG,IADH,CAA3C;AAEA,YAAMqB,mBAAmB,GAAGqI,eAAe,CAAC7I,GAAhB,CAAoB,YAApB,CAA5B;AAGA,YAAM2B,eAAe,GAAG/D,kBAAkB,CAACoB,QAAQ,CAACE,IAAT,CAAc,oBAAd,CAAD,EACtCF,QAAQ,CAACE,IAAT,CAAc,YAAd,CADsC,EACT,iBADS,EACU,iBADV,CAA1C;AAIAb,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC3B5D,UAAAA,cAD2B;AAE3BD,UAAAA,WAF2B;AAG7B;AACED,UAAAA,iBAJ2B;AAK3BkE,UAAAA,OAAO,EAAE,KALkB;AAM3B5D,UAAAA,mBAN2B;AAO3BI,UAAAA,cAAc,EAAE,EACZ,GAAGxC,UAAU,CAACwC,cADF;AAEZe,YAAAA,eAAe,EAAEA,eAFL;AAEsBG,YAAAA,YAAY,EAAE3C,SAFpC;AAGZmD,YAAAA,kBAAkB,EAAEnD,SAHR;AAIZkE,YAAAA,oBAAoB,EAAE;AAJV;AAPW;AAD1B,OAAD,CAAR;AAgBH,KAvDE,EAwDFgB,KAxDE,CAwDIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,KAjEE,CAAP;AAkEH,GApED;AAqEH;AAED,OAAO,SAAS4J,UAAT,CAAoB1K,UAApB,EAAgC;AACnC,SAAO,UAAUC,QAAV,EAAoB;AACvBA,IAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,WAAON,KAAK,CAACiB,IAAN,CAAW,2CAAX,EAAwD;AAC3DiD,MAAAA,eAAe,EAAEvD,UAAU,CAAC2K,UAAX,CAAsBpH,eADoB;AAE3DG,MAAAA,YAAY,EAAE1D,UAAU,CAAC0D,YAFkC;AAEpBR,MAAAA,eAAe,EAAElD,UAAU,CAACwC,cAAX,CAA0BU,eAA1B,CAA0CI,KAFvC;AAG3D/C,MAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAHsC,KAAxD,EAKFG,IALE,CAKGC,QAAQ,IAAI;AAEd;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,YAAMO,UAAU,GAAG1B,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc,kBAAd,KAAqC,EAAtC,EAA0C,cAA1C,EAClC,cADkC,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAAtC;AAEA,YAAMgB,WAAW,GAAGZ,UAAU,CAACS,GAAX,CAAe,YAAf,CAApB,CAfc,CAiBd;AACA;AACA;;AAEA,YAAM2I,gBAAgB,GAAG9K,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAc0J,aAAd,IAA+B,EAAhC,EAAoC,oBAApC,EACxC,oBADwC,EAClBzJ,SADkB,EACPA,SADO,EACI,IADJ,CAA5C;AAEA,YAAMe,iBAAiB,GAAGyI,gBAAgB,CAAC3I,GAAjB,CAAqB,YAArB,CAA1B;AAEA,YAAM6I,eAAe,GAAGhL,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,CAAcuJ,eAAd,IAAiC,EAAlC,EAAsC,sBAAtC,EACvC,kBADuC,EACnBtJ,SADmB,EACRA,SADQ,EACG,IADH,CAA3C;AAEA,YAAMqB,mBAAmB,GAAGqI,eAAe,CAAC7I,GAAhB,CAAoB,YAApB,CAA5B,CA3Bc,CA8BlB;AACE;;AAGE3B,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC9B;AACG7D,UAAAA,WAF2B;AAG3BE,UAAAA,cAAc,EAAE,EAHW;AAI3BK,UAAAA,iBAAiB,EAAC,EAJS;AAK3BR,UAAAA,iBAL2B;AAM3BkE,UAAAA,OAAO,EAAE,KANkB;AAO3B5D,UAAAA,mBAP2B;AAQ3BI,UAAAA,cAAc,EAAE,EACZ,GAAGxC,UAAU,CAACwC,cADF;AAEZkB,YAAAA,YAAY,EAAE3C,SAFF;AAEa6C,YAAAA,eAAe,EAAE7C,SAF9B;AAGZmD,YAAAA,kBAAkB,EAAEnD,SAHR;AAIZkE,YAAAA,oBAAoB,EAAE,EAJV;AAKZnB,YAAAA,uBAAuB,EAAE/C;AALb;AARW;AAD1B,OAAD,CAAR;AAkBH,KAzDE,EA0DFkF,KA1DE,CA0DIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,KAnEE,CAAP;AAoEH,GAtED;AAuEH;AAED,OAAO,SAAS8J,uCAAT,CAAiD5K,UAAjD,EAA6D;AAChE,SAAO,UAAUC,QAAV,EAAoB;AACvBA,IAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,WAAON,KAAK,CAACiB,IAAN,CAAW,sDAAX,EAAmE;AACtEoD,MAAAA,YAAY,EAAE1D,UAAU,CAACwC,cAAX,CAA0BkB,YAA1B,CAAuCJ,KADiB;AAEtEM,MAAAA,eAAe,EAAE5D,UAAU,CAAC6K,mBAAX,CAA+BjH,eAFsB;AAGtErD,MAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAHiD,KAAnE,EAKFG,IALE,CAKGC,QAAQ,IAAI;AAEd,YAAMkK,uBAAuB,GAAGrL,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,IAAiB,EAAlB,EAAsB,yBAAtB,EAC/C,cAD+C,EAC/BC,SAD+B,EACpBA,SADoB,EACT,KADS,CAAnD;AAEA,YAAMuB,iBAAiB,GAAGwI,uBAAuB,CAAClJ,GAAxB,CAA4B,YAA5B,CAA1B;AACA3B,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC3BtD,UAAAA,iBAD2B;AACT;AAClB0D,UAAAA,OAAO,EAAE,KAFkB;AAG3BxD,UAAAA,cAAc,EAAE,EACZ,GAAGxC,UAAU,CAACwC,cADF;AAEZsB,YAAAA,uBAAuB,EAAE/C;AAFb;AAHW;AAD1B,OAAD,CAAR;AAWH,KArBE,EAsBFkF,KAtBE,CAsBIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,KA/BE,CAAP;AAgCH,GAlCD;AAmCH;AAED,OAAO,SAASiK,iBAAT,CAA2B/K,UAA3B,EAAuC;AAC1C,SAAO,UAAUC,QAAV,EAAoB;AACvBA,IAAAA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR;AACA,WAAON,KAAK,CAACiB,IAAN,CAAW,gCAAX,EAA6C;AAChDC,MAAAA,QAAQ,EAAEP,UAAU,CAACQ;AAD2B,KAA7C,EAGFG,IAHE,CAGGC,QAAQ,IAAI;AACd,YAAMc,iBAAiB,GAAGjC,mBAAmB,CAACmB,QAAQ,CAACE,IAAT,IAAiB,EAAlB,EAAsB,qBAAtB,EACzC,qBADyC,EAClBC,SADkB,EACPA,SADO,EACI,IADJ,CAA7C;AAEA,YAAMwB,kBAAkB,GAAGb,iBAAiB,CAACE,GAAlB,CAAsB,YAAtB,CAA3B;AACA3B,MAAAA,QAAQ,CAAC;AACL0F,QAAAA,IAAI,EAAErG,cADD;AACiBsG,QAAAA,OAAO,EAAE;AAC3BrD,UAAAA,kBAD2B;AAE3ByD,UAAAA,OAAO,EAAE,KAFkB;AAG3BxD,UAAAA,cAAc,EAAE,EACZ,GAAGxC,UAAU,CAACwC,cADF;AAEZ4B,YAAAA,mBAAmB,EAACrD;AAFR;AAHW;AAD1B,OAAD,CAAR;AAUH,KAjBE,EAkBFkF,KAlBE,CAkBIC,KAAK,IAAI;AACZjG,MAAAA,QAAQ,CAAC;AAAE0F,QAAAA,IAAI,EAAErG,cAAR;AAAwBsG,QAAAA,OAAO,EAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX;AAAjC,OAAD,CAAR;;AACA,UAAIE,KAAK,CAACtF,QAAN,CAAeiC,MAAf,KAA0B,GAA9B,EAAmC;AAC/BnD,QAAAA,KAAK,CAACwG,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACH,OAFD,MAGK;AACDzG,QAAAA,KAAK,CAAC0G,IAAN,CAAWF,KAAK,CAACtF,QAAN,CAAeE,IAA1B;AACH;AAEJ,KA3BE,CAAP;AA4BH,GA9BD;AA+BH","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { sortData, getComboLabelValue, constructOptionList } from '../components/CommonScript';\r\nimport { toast } from 'react-toastify';\r\nimport { initRequest } from './LoginAction';\r\nimport { intl } from '../components/App';\r\nimport { transactionStatus, reportTypeEnum } from '../components/Enumeration';\r\n\r\nexport function getReportMasterComboService(inputParam) {\r\n    return function (dispatch) {\r\n        // if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus !== transactionStatus.APPROVED))\r\n        // {      \r\n        dispatch(initRequest(true));\r\n        let nreportcode = null;\r\n        if (inputParam.operation === \"update\") {\r\n            nreportcode = inputParam.mastertoedit[inputParam.primaryKeyName];\r\n        }\r\n        return rsapi.post(\"reportconfig/getReportMasterComboData\", {\r\n            nreportcode,\r\n            userinfo: inputParam.userInfo,\r\n            filterreporttype: inputParam.filterReportType\r\n        })\r\n            .then(response => {\r\n\r\n                const reportTypeMap = constructOptionList(response.data[\"ReportType\"] || [], \"nreporttypecode\",\r\n                    \"sdisplayname\", undefined, undefined, true);\r\n                const reportModuleMap = constructOptionList(response.data[\"ReportModule\"] || [], \"nreportmodulecode\",\r\n                    \"sdisplayname\", undefined, undefined, true);\r\n                const reportSubTypeMap = constructOptionList(response.data[\"COAReportType\"] || [], \"ncoareporttypecode\",\r\n                    \"scoareporttypename\", undefined, undefined, true);\r\n                const sampleTypeMap = constructOptionList(response.data[\"SampleType\"] || [], \"nsampletypecode\",\r\n                    \"ssampletypename\", undefined, undefined, true);\r\n                const regTypeMap = constructOptionList(response.data[\"RegistrationType\"] || [], \"nregtypecode\",\r\n                    \"sregtypename\", undefined, undefined, true);                \r\n                const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\",\r\n                    \"sregsubtypename\", undefined, undefined, true);\r\n                 const approvaConfigVersionMap = constructOptionList(response.data[\"ApprovalConfigVersion\"] || [], \"napproveconfversioncode\",\r\n                    \"sversionname\", undefined, undefined, false);\r\n                const sectionMap = constructOptionList(response.data[\"SectionList\"] || [], \"nsectioncode\",\r\n                    \"ssectionname\", undefined, undefined, true);\r\n                const decisionTypeMap = constructOptionList(response.data[\"ReportDecisionType\"] || [], \"nreportdecisiontypecode\",\r\n                    \"sdecisiontypename\", undefined, undefined, true);\r\n                const certificateTypeMap = constructOptionList(response.data[\"CertificateType\"] || [], \"ncertificatetypecode\",\r\n                    \"scertificatetype\", undefined, undefined, true);\r\n                const controlScreenTypeMap = constructOptionList(response.data[\"ControlScreen\"] || [], \"nformcode\",\r\n                    \"sdisplayname\", undefined, undefined, true);\r\n                const reportTemplateMap = constructOptionList(response.data[\"ReportTemplate\"] || [], \"nreporttemplatecode\",\r\n                    \"sreporttemplatename\", undefined, undefined, true);\r\n\r\n                const reportTypeList = reportTypeMap.get(\"OptionList\");\r\n                const reportModuleList = reportModuleMap.get(\"OptionList\");\r\n                const reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\r\n                const regTypeList = regTypeMap.get(\"OptionList\");\r\n                const sampleTypeList = sampleTypeMap.get(\"OptionList\");\r\n                const regSubTypeList = regSubTypeMap.get(\"OptionList\");\r\n                const sectionList = sectionMap.get(\"OptionList\");\r\n                const decisionTypeList = decisionTypeMap.get(\"OptionList\");\r\n                const certificateTypeList = certificateTypeMap.get(\"OptionList\");\r\n                const controlScreenTypeList = controlScreenTypeMap.get(\"OptionList\");\r\n               const  ApproveConfigList=approvaConfigVersionMap.get(\"OptionList\");\r\n                const reportTemplateList = reportTemplateMap.get(\"OptionList\");\r\n\r\n                let selectedRecord = { ntransactionstatus: transactionStatus.ACTIVE };\r\n                let respObject = { \"reportVersionStatus\": transactionStatus.DRAFT };\r\n\r\n                if (inputParam.operation === \"update\") {\r\n                    if (response.status === 202) {\r\n                        respObject[\"reportVersionStatus\"] = transactionStatus.APPROVED;\r\n                        respObject[\"ApprovedReportMaster\"] = response.data[\"SelectedReportDesigner\"];\r\n                    }\r\n                    selectedRecord = JSON.parse(JSON.stringify(response.data[\"SelectedReportDesigner\"]));\r\n                    if (selectedRecord.nreporttypecode === reportTypeEnum.SAMPLE\r\n                        || selectedRecord.nreporttypecode === reportTypeEnum.COA || selectedRecord.nreporttypecode === reportTypeEnum.COAPREVIEW) {\r\n                            selectedRecord[\"nsampletypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nsampletypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].ssampletypename\r\n                            };\r\n                        // selectedRecord[\"nregtypecode\"] = {\r\n                        //     value: response.data[\"SelectedReportDesigner\"].nregtypecode,\r\n                        //     label: response.data[\"SelectedReportDesigner\"].sregtypename\r\n                        // };\r\n                        if (response.data[\"SelectedReportDesigner\"].nregtypecode !== -1) {\r\n                            selectedRecord[\"nregtypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nregtypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sregtypename\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"nregtypecode\"] = undefined;\r\n                        }\r\n                        if (response.data[\"SelectedReportDesigner\"].nregsubtypecode !== -1) {\r\n                            selectedRecord[\"nregsubtypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nregsubtypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sregsubtypename\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"nregsubtypecode\"] = undefined;\r\n                        }\r\n\r\n\r\n                        if (response.data[\"SelectedReportDesigner\"].nregsubtypecode !== -1) {\r\n                            selectedRecord[\"napproveconfversioncode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].napproveconfversioncode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sapproveversionname\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"nregsubtypecode\"] = undefined;\r\n                        }\r\n\r\n                        if (response.data[\"SelectedReportDesigner\"].nsectioncode !== -1) {\r\n                            selectedRecord[\"nsectioncode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nsectioncode,\r\n                                label: response.data[\"SelectedReportDesigner\"].ssectionname\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"nsectioncode\"] = undefined;\r\n                        }\r\n\r\n                        if (response.data[\"SelectedReportDesigner\"].ncoareporttypecode !== -1) {\r\n                            selectedRecord[\"ncoareporttypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].ncoareporttypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].scoareporttypename\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"ncoareporttypecode\"] = undefined;\r\n                        }\r\n\r\n                        if (response.data[\"SelectedReportDesigner\"].nreporttemplatecode !== -1) {\r\n                            selectedRecord[\"nreporttemplatecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nreporttemplatecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sreporttemplatename\r\n                            };\r\n                        }\r\n\r\n                        if (selectedRecord.nreporttypecode === reportTypeEnum.SAMPLE) {\r\n                            selectedRecord[\"nreportdecisiontypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nreportdecisiontypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sdecisiontypename\r\n                            };\r\n                        }\r\n\r\n                    }\r\n                    else if (selectedRecord.nreporttypecode === reportTypeEnum.MIS) {\r\n                        selectedRecord[\"nreportmodulecode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].nreportmodulecode,\r\n                            label: response.data[\"SelectedReportDesigner\"].smoduledisplayname,\r\n\r\n                        };\r\n\r\n                        selectedRecord[\"nreportmodule\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].smoduledisplayname,\r\n                            label: response.data[\"SelectedReportDesigner\"].smoduledisplayname\r\n                        }\r\n\r\n                    }\r\n\r\n                    else if (selectedRecord.nreporttypecode === reportTypeEnum.SCREENWISE) {\r\n                        selectedRecord[\"ncontrolcode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].ncontrolcode,\r\n                            label: response.data[\"SelectedReportDesigner\"].scontrolids\r\n                        };\r\n\r\n                        selectedRecord[\"nformcode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].nformcode,\r\n                            label: response.data[\"SelectedReportDesigner\"].sdisplayname\r\n                        };\r\n                    }\r\n\r\n                    if (selectedRecord.nreporttypecode === reportTypeEnum.SAMPLE\r\n                        || selectedRecord.nreporttypecode === reportTypeEnum.BATCH) {\r\n                        if (response.data[\"SelectedReportDesigner\"].ncoareporttypecode !== -1) {\r\n                            selectedRecord[\"ncoareporttypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].ncoareporttypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].scoareporttypename\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"ncoareporttypecode\"] = undefined;\r\n                        }\r\n                        selectedRecord[\"ncertificatetypecode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].ncertificatetypecode,\r\n                            label: response.data[\"SelectedReportDesigner\"].scertificatetype\r\n                        };\r\n\r\n                        selectedRecord[\"sbatchtypename\"] = response.data[\"SelectedReportDesigner\"].sbatchtypename\r\n                    }\r\n\r\n                    selectedRecord[\"ntransactionstatus\"] = response.data[\"SelectedReportDesigner\"].ntransactionstatus;\r\n\r\n                    selectedRecord[\"nreporttypecode\"] = {\r\n                        item: response.data[\"SelectedReportDesigner\"],\r\n                        value: response.data[\"SelectedReportDesigner\"].nreporttypecode,\r\n                        label: response.data[\"SelectedReportDesigner\"].sreportdisplayname\r\n                    };\r\n\r\n                }\r\n\r\n                respObject = {\r\n                    ...respObject, reportSubTypeList,//:response.data[\"COAReportType\"]  || [], \r\n                    sampleTypeList,\r\n                    regTypeList,//:response.data[\"RegistrationType\"]  || [],                                                               \r\n                    regSubTypeList,//:response.data[\"RegistrationSubType\"]  || [],  \r\n                    sectionList,\r\n                    ApproveConfigList,//:response.data[\"SectionList\"] || [],   \r\n                    certificateTypeList,\r\n                    reportDecisionTypeList: decisionTypeList,\r\n                    controlScreen: controlScreenTypeList,\r\n                    reportTemplateList\r\n                    //masterData:{...inputParam.masterData, SelectedFilterReportType:response.data[\"SelectedReportType\"] }                                                             \r\n                };\r\n\r\n                if (inputParam.operation === \"create\") {\r\n                    selectedRecord[\"nreporttypecode\"] = {\r\n                        item: response.data[\"SelectedReportType\"], label: response.data[\"SelectedReportType\"].sdisplayname,\r\n                        value: response.data[\"SelectedReportType\"].nreporttypecode\r\n                    }\r\n\r\n                    if (selectedRecord[\"nreporttypecode\"].value === reportTypeEnum.SAMPLE\r\n                        && selectedRecord[\"nreporttypecode\"]['item'].isneedregtype === transactionStatus.YES) {\r\n                        // selectedRecord[\"nregtypecode\"] = getComboLabelValue(response.data[\"SelectedRegType\"],\r\n                        //     response.data[\"RegistrationType\"], \"nregtypecode\", \"sregtypename\")\r\n                        selectedRecord[\"nsampletypecode\"] = getComboLabelValue(response.data[\"SelectedSampleType\"],\r\n                            response.data[\"SampleType\"], \"nsampletypecode\", \"ssampletypename\")\r\n\r\n                        if (selectedRecord[\"nreporttypecode\"]['item'].isneedsection === transactionStatus.YES) {\r\n                            selectedRecord[\"nsectioncode\"] = sectionMap.get(\"DefaultValue\");\r\n                        }\r\n                    }\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        reportTypeList,//:response.data[\"ReportType\"] || [], \r\n                        reportModuleList,//:response.data[\"ReportModule\"] || [] ,\r\n                        ...respObject,\r\n                        operation: inputParam.operation,\r\n                        screenName: inputParam.screenName,\r\n                        selectedRecord,\r\n                        openModal: true,\r\n                        ncontrolCode: inputParam.ncontrolcode,\r\n                        loading: false\r\n                    }\r\n                });\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n        // }\r\n        // else{       \r\n        //     toast.warn(intl.formatMessage({id: \"IDS_CANNOTUPDATEAPPROVEDREPORT\"}));\r\n        // }\r\n\r\n    }\r\n}\r\n\r\nexport function getReportDetailComboService(inputParam) {\r\n    return function (dispatch) {\r\n        if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus === transactionStatus.DRAFT)) {\r\n            if (inputParam.masterData.SelectedReportMaster !== null) {\r\n                dispatch(initRequest(true));\r\n                let nreportdetailcode = null;\r\n                if (inputParam.operation === \"update\") {\r\n                    nreportdetailcode = inputParam.detailtoedit[inputParam.primaryKeyName];\r\n                }\r\n                return rsapi.post(\"reportconfig/getReportDetailComboData\", {\r\n                    nreportdetailcode,\r\n                    reportmaster: inputParam.masterData.SelectedReportMaster,\r\n                    userinfo: inputParam.userInfo\r\n                })\r\n                    .then(response => {\r\n\r\n                        // const reportType = response.data[\"SelectedReportType\"];\r\n                        // const reportSubTypeMap  = constructOptionList(response.data[\"COAReportType\"] ||[], \"ncoareporttypecode\",\r\n                        //                             \"scoareporttypename\" , undefined, undefined, true);    \r\n                        // const sectionMap  = constructOptionList(response.data[\"SectionList\"] ||[], \"nsectioncode\",\r\n                        //                             \"ssectionname\", undefined, undefined, true);\r\n\r\n                        // const decisionTypeMap  = constructOptionList(response.data[\"ReportDecisionType\"] ||[], \"nreportdecisiontypecode\",\r\n                        //                             \"sdecisiontypename\" , undefined, undefined, true);   \r\n\r\n                        // const certificateTypeMap  = constructOptionList(response.data[\"CertificateType\"] ||[], \"ncertificatetypecode\",\r\n                        //                             \"scertificatetype\" , undefined, undefined, true);\r\n\r\n                        // const  reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\r\n                        // const  sectionList = sectionMap.get(\"OptionList\"); \r\n                        // const  decisionTypeList = decisionTypeMap.get(\"OptionList\");\r\n                        // const  certificateTypeList = certificateTypeMap.get(\"OptionList\");  \r\n\r\n                        let selectedRecord = {};\r\n                        let respObject = {};\r\n                        if (inputParam.operation === \"update\") {\r\n                            selectedRecord = response.data[\"SelectedReportDetail\"];\r\n\r\n                        }\r\n                        selectedRecord[\"ntransactionstatus\"] = transactionStatus.DRAFT;\r\n\r\n                        //    console.log(\"selected in action:\", selectedRecord);\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                ...respObject,\r\n                                operation: inputParam.operation,\r\n                                screenName: inputParam.screenName,\r\n                                selectedRecord,\r\n                                openModal: true,\r\n                                ncontrolCode: inputParam.ncontrolcode,\r\n                                loading: false\r\n                            }\r\n                        });\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        }\r\n                        else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n                    })\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: \"IDS_REPORTNOTFOUND\" }));\r\n            }\r\n        }\r\n        else if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus === transactionStatus.APPROVED)) {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CANNOTEDITAPPROVEDREPORT\" }));\r\n        }\r\n        else if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus === transactionStatus.RETIRED)) {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CANNOTEDITRETIREDREPORT\" }));\r\n        }\r\n    }\r\n}\r\n\r\nexport function getSelectedReportMasterDetail(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportDesigner\", {\r\n            nreportcode: parseInt(inputParam.nreportcode),\r\n            nreporttypecode: inputParam.masterData && inputParam.masterData.SelectedFilterReportType ? inputParam.masterData.SelectedFilterReportType.nreporttypecode.toString() : null,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const masterData = { ...inputParam.masterData, ...response.data };\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, operation: null, modalName: undefined,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getSelectedReportDetail(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportDetail\", {\r\n            nreportdetailcode: parseInt(inputParam.nreportdetailcode),\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const masterData = { ...inputParam.masterData, ...response.data };\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, operation: null, modalName: undefined,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getConfigReportComboService(inputParam) {\r\n    return function (dispatch) {\r\n\r\n        if (inputParam.reportMaster.nreporttypecode === reportTypeEnum.MIS) {\r\n            if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT) {\r\n                dispatch(initRequest(true));\r\n                return rsapi.post(\"reportconfig/getReportAddDesignComboData\", {\r\n                    nreportdetailcode: parseInt(inputParam.reportDetail.nreportdetailcode),\r\n                    userinfo: inputParam.userInfo\r\n                })\r\n                    .then(response => {\r\n\r\n                        const parameterMap = constructOptionList(response.data[\"ReportParameter\"] || [], \"nreportparametercode\",\r\n                            \"sreportparametername\", undefined, undefined, true);\r\n\r\n                        const reportParameterList = parameterMap.get(\"OptionList\");\r\n\r\n                        const designComponentMap = constructOptionList(response.data[\"DesignComponents\"] || [], \"ndesigncomponentcode\",\r\n                            \"sdesigncomponentname\", undefined, undefined, true);\r\n\r\n                        const designComponentList = designComponentMap.get(\"OptionList\");\r\n\r\n                        const sqlQueryMap = constructOptionList(response.data[\"SQLQuery\"] || [], \"nsqlquerycode\",\r\n                            \"ssqlqueryname\", undefined, undefined, true);\r\n\r\n                        const sqlQueryList = sqlQueryMap.get(\"OptionList\");\r\n\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                reportParameterList,//:response.data[\"ReportParameter\"] || [], \r\n                                designComponentList,//:response.data[\"DesignComponents\"] || [],\r\n                                sqlQueryList,//:response.data[\"SQLQuery\"] || [], \r\n                                operation: inputParam.operation,\r\n                                screenName: inputParam.screenName,\r\n                                //selectedRecord:{nmandatory:transactionStatus.YES}, \r\n                                selectedRecord: {},\r\n                                openModal: true,\r\n                                ncontrolCode: inputParam.ncontrolCode,\r\n                                loading: false\r\n                            }\r\n                        });\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        }\r\n                        else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n\r\n                    })\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: \"IDS_CANNOTCONFIGUREAPPROVEDREPORT\" }))\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CANCONFIGUREMISREPORT\" }))\r\n        }\r\n    }\r\n}\r\n\r\nexport function getParameterMappingComboService(inputParam) {\r\n    return function (dispatch) {\r\n\r\n        if (inputParam.reportMaster.nreporttypecode === reportTypeEnum.MIS) {\r\n            if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT) {\r\n                dispatch(initRequest(true));\r\n                return rsapi.post(\"reportconfig/getReportParameterMappingComboData\", {\r\n                    nreportdetailcode: parseInt(inputParam.reportDetail.nreportdetailcode),\r\n                    userinfo: inputParam.userInfo\r\n                })\r\n                    .then(response => {\r\n                        if (response.data[\"ChildComponentList\"].length > 0) {\r\n\r\n                            const parentComponentMap = constructOptionList(response.data[\"ParentComponentList\"] || [], \"nreportdesigncode\",\r\n                                \"sdisplayname\", undefined, undefined, true);\r\n                            const parentComponentList = parentComponentMap.get(\"OptionList\");\r\n\r\n                            const childComponentMap = constructOptionList(response.data[\"ChildComponentList\"] || [], \"nreportdesigncode\",\r\n                                \"sdisplayname\", undefined, undefined, true);\r\n                            const childComponentList = childComponentMap.get(\"OptionList\");\r\n\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN, payload: {\r\n                                    parentComponentList,//:response.data[\"ParentComponenList\"] || [],\r\n                                    childComponentList,//:response.data[\"ChildComponentList\"] || [], \r\n                                    operation: inputParam.operation,\r\n                                    screenName: inputParam.screenName,\r\n                                    selectedRecord: {},\r\n                                    openModal: true,\r\n                                    ncontrolCode: inputParam.ncontrolCode,\r\n                                    loading: false\r\n                                }\r\n                            });\r\n                        }\r\n                        else {\r\n                            dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                            toast.warn(intl.formatMessage({ id: \"IDS_NOPARAMETERSTOMAP\" }))\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        }\r\n                        else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n\r\n                    })\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: \"IDS_CANNOTMAPAPPROVEDREPORT\" }))\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CANMAPMISREPORT\" }))\r\n        }\r\n    }\r\n}\r\n\r\nexport function viewReportDetail(reportmaster, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        if (reportmaster !== undefined) {\r\n            dispatch(initRequest(true));\r\n            return rsapi.post(\"reportview/viewReport\", { reportmaster, userinfo: userInfo })\r\n                .then(response => {\r\n                    // console.log(\"report action:\", response);\r\n                    masterData = { ...masterData, ...response.data };\r\n\r\n                    if (response.data[\"ViewReportDesignConfig\"] !== undefined) {\r\n                        masterData[\"ReportPDFFile\"] = undefined;\r\n                    }\r\n                    // else{\r\n                    //     document.getElementById(\"download_data\").setAttribute(\"href\", masterData[\"ReportPDFFile\"]);\r\n                    //     document.getElementById(\"download_data\").click();\r\n                    // }\r\n\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false } });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_REPORTNOTFOUND\" }))\r\n        }\r\n    }\r\n}\r\n\r\n// export function getActionMappingComboService(inputParam) {\r\n//     return function (dispatch) {   \r\n\r\n//     if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT){\r\n//             dispatch(initRequest(true));\r\n//             return rsapi.post(\"reportconfig/getActionMappingComboData\", {nreportdetailcode:parseInt(inputParam.reportDetail.nreportdetailcode),\r\n//                                         userinfo:inputParam.userInfo})\r\n//         .then(response=>{ \r\n//             if (response.data[\"ActionMappingChild\"].length > 0)\r\n//             {     \r\n//                     dispatch({type: DEFAULT_RETURN, payload:{actionMappingParentList:response.data[\"ActionMappingParent\"] || [],\r\n//                                                             actionMappingChildList:response.data[\"ActionMappingChild\"] || [], \r\n//                                                             operation:inputParam.operation, \r\n//                                                             screenName:inputParam.screenName,   \r\n//                                                             selectedRecord:{}, \r\n//                                                             openModal : true,\r\n//                                                             ncontrolCode:inputParam.ncontrolCode,\r\n//                                                             loading:false\r\n//                                                             }}); \r\n//             }\r\n//             else{\r\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n//                 toast.warn(intl.formatMessage({id:\"IDS_NOACTIONSTOMAP\"}))\r\n//             }\r\n//         })\r\n//         .catch(error=>{\r\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n//             if (error.response.status === 500){\r\n//                 toast.error(error.message);\r\n//             } \r\n//             else{               \r\n//                 toast.warn(error.response.data);\r\n//             }  \r\n\r\n//         })\r\n//     }\r\n//     else{\r\n//         toast.warn(intl.formatMessage({id:\"IDS_CANNOTACTIONMAPAPPROVEDREPORT\"}))\r\n//     }\r\n// }}\r\n\r\nexport function getReportViewChildDataList(inputParam) {\r\n    return function (dispatch) {\r\n        // dispatch(initRequest(true));\r\n        return rsapi.post(\"reportview/getChildDataList\", { ...inputParam[\"inputData\"] })\r\n            .then(response => {\r\n                const controlList = inputParam.viewReportDesignConfigList;\r\n\r\n                const selectedRecord = inputParam.selectedRecord;\r\n\r\n                Object.keys(response.data).map(displayName => {\r\n                    const index = controlList.findIndex(item => displayName === item.sdisplayname);\r\n\r\n                    const comboMap = constructOptionList(response.data[displayName] || [], controlList[index].svaluemember,\r\n                        controlList[index].sdisplaymember, undefined, undefined, true);\r\n\r\n                    const comboList = comboMap.get(\"OptionList\");\r\n                    //selectedRecord[controlList[index].svaluemember] = undefined;\r\n                    selectedRecord[controlList[index].sreportparametername] = undefined;\r\n\r\n                    return controlList[index][\"dataList\"] = comboList;//response.data[displayName]\r\n                })\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        viewReportDesignConfigList: controlList,\r\n                        loading: false,\r\n                        inputFieldData: inputParam.inputData.inputfielddata,\r\n                        selectedRecord\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function viewReportDetailWithParameters(viewReportParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportview/viewReportWithParameters\", { ...viewReportParam })\r\n            .then(response => {\r\n                const masterData = {\r\n                    ...viewReportParam.masterData, ...response.data,\r\n                    ReportPDFFile: response.data[\"ReportPDFFile\"],\r\n                    SelectedReportDetails: response.data[\"SelectedReportDetails\"],\r\n                    ReportPDFPath: response.data[\"ReportPDFPath\"],\r\n                    ViewReportDesignConfig: undefined\r\n                };\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, loading: false, //openModal:false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportsByModule(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportview/getReportView\", {\r\n            nreportmodulecode: inputParam.nreportmodulecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const masterData = { ...inputParam.masterData, ...response.data };\r\n\r\n                // const  reportModuleMap  = constructOptionList(masterData.ViewReportModuleList ||[], \"nreportmodulecode\",\r\n                //                          \"smoduledisplayname\" , undefined, undefined, true);\r\n                // const  reportModuleList  = reportModuleMap.get(\"OptionList\");\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, //viewReportModuleList:reportModuleList,\r\n                        operation: null, modalName: undefined,\r\n                        loading: false, selectedRecord: inputParam.selectedRecord\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getControlButton(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getControlButton\", {\r\n            nformcode: inputParam.ControlScreen.nformcode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const controlButtonMap = constructOptionList(response.data || [], \"ncontrolcode\",\r\n                    \"scontrolids\", undefined, undefined, true);\r\n                const controlButtonList = controlButtonMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        controlButton: controlButtonList,//: response.data,                                            \r\n                        loading: false,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nregsubtypecode: undefined\r\n                            //nregsubtypecode:{label:\"Please Select...\", value:-4}\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportRegSubType(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportRegistrationSubType\", {\r\n            nregtypecode: inputParam.registrationType.nregtypecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const regSubTypeMap = constructOptionList(response.data || [], \"nregsubtypecode\",\r\n                    \"sregsubtypename\", undefined, undefined, true);\r\n                const regSubTypeList = regSubTypeMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        regSubTypeList,//: response.data,                                            \r\n                        loading: false,\r\n                        ApproveConfigList:[],                                           \r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nregsubtypecode: undefined,\r\n                            napproveconfversioncode: undefined\r\n\r\n                            //nregsubtypecode:{label:\"Please Select...\", value:-4}\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportSubType(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportSubType\", {\r\n            nreporttypecode: inputParam.reportType.nreporttypecode,\r\n            nreporttypecode: inputParam.reportType.nreporttypecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n               // const reportSubTypeMap = constructOptionList(response.data.COAReportType || [], \"ncoareporttypecode\",\r\n               //     \"scoareporttypename\", undefined, undefined, true);\r\n               // const reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\r\n\r\n                const certificateTypeMap = constructOptionList(response.data.CertificateType || [], \"ncertificatetypecode\",\r\n                    \"scertificatetype\", undefined, undefined, true);\r\n                const certificateTypeList = certificateTypeMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                       // reportSubTypeList,\r\n                        certificateTypeList,\r\n                        loading: false,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            ncoareporttypecode: undefined,\r\n                            ncertificatetypecode: \"\"\r\n                            // ncoareporttypecode:{label:\"Please Select...\", value:-4}\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\nexport function getReportSampletype(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportSampleType\", {\r\n            nsampletypecode: inputParam.nsampletypecode, nreporttypecode: inputParam.reportType.nreporttypecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                // const reportRegTypeMap  = constructOptionList(response.data.Regtype ||[], \"nregtypecode\",\r\n                //                          \"sregtypename\" , undefined, undefined, true);   \r\n                // const  reportRegTypeList = reportRegTypeMap.get(\"OptionList\");\r\n\r\n                // // const reportRegSubTypeMap  = constructOptionList(response.data.RegSubtype ||[], \"nregsubtypecode\",\r\n                // // \"sregsubtypename\" , undefined, undefined, true);   \r\n                // //   const  reportRegSubTypeList = reportRegSubTypeMap.get(\"OptionList\");\r\n                \r\n                const sampleTypeMap = constructOptionList(response.data[\"SampleType\"] || [], \"nsampletypecode\",\r\n                \"ssampletypename\", undefined, undefined, true);\r\n                const sampleTypeList = sampleTypeMap.get(\"OptionList\");\r\n                \r\n                const regTypeMap = constructOptionList(response.data[\"RegistrationType\"] || [], \"nregtypecode\",\r\n                    \"sregtypename\", undefined, undefined, true);\r\n                const regTypeList = regTypeMap.get(\"OptionList\");\r\n\r\n                // const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\",\r\n                //     \"sregsubtypename\", undefined, undefined, true);\r\n                // const regSubTypeList = regSubTypeMap.get(\"OptionList\");\r\n\r\n                const coaReportTypeMap = constructOptionList(response.data.COAReportType || [], \"ncoareporttypecode\",\r\n                    \"scoareporttypename\", undefined, undefined, true);\r\n                const reportSubTypeList = coaReportTypeMap.get(\"OptionList\");\r\n\r\n                const certificateType = constructOptionList(response.data.CertificateType || [], \"ncertificatetypecode\",\r\n                    \"scertificatetype\", undefined, undefined, true);\r\n                const certificateTypeList = certificateType.get(\"OptionList\");\r\n\r\n\r\n                const nsampletypecode = getComboLabelValue(response.data[\"SelectedSampleType\"],\r\n                    response.data[\"SampleType\"], \"nsampletypecode\", \"ssampletypename\")\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        sampleTypeList,\r\n                        regTypeList,\r\n                      //  regSubTypeList,\r\n                        reportSubTypeList,\r\n                        loading: false,\r\n                        certificateTypeList,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nsampletypecode: nsampletypecode, nregtypecode: undefined,\r\n                            ncoareporttypecode: undefined,\r\n                            ncertificatetypecode: \"\"\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getregtype(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getRegistrationtypeForSample\", {\r\n            nsampletypecode: inputParam.sampleType.nsampletypecode,\r\n            nregtypecode: inputParam.nregtypecode, nreporttypecode: inputParam.selectedRecord.nreporttypecode.value,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                // const reportRegTypeMap  = constructOptionList(response.data.Regtype ||[], \"nregtypecode\",\r\n                //                          \"sregtypename\" , undefined, undefined, true);   \r\n                // const  reportRegTypeList = reportRegTypeMap.get(\"OptionList\");\r\n\r\n                // // const reportRegSubTypeMap  = constructOptionList(response.data.RegSubtype ||[], \"nregsubtypecode\",\r\n                // // \"sregsubtypename\" , undefined, undefined, true);   \r\n                // //   const  reportRegSubTypeList = reportRegSubTypeMap.get(\"OptionList\");\r\n                // const sampleTypeMap = constructOptionList(response.data[\"SampleType\"] || [], \"nsampletypecode\",\r\n                // \"ssampletypename\", undefined, undefined, true);\r\n                // const sampleTypeList = sampleTypeMap.get(\"OptionList\");\r\n                \r\n                const regTypeMap = constructOptionList(response.data[\"RegistrationType\"] || [], \"nregtypecode\",\r\n                    \"sregtypename\", undefined, undefined, true);\r\n                const regTypeList = regTypeMap.get(\"OptionList\");\r\n\r\n                // const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\",\r\n                //     \"sregsubtypename\", undefined, undefined, true);\r\n                // const regSubTypeList = regSubTypeMap.get(\"OptionList\");\r\n\r\n                const coaReportTypeMap = constructOptionList(response.data.COAReportType || [], \"ncoareporttypecode\",\r\n                    \"scoareporttypename\", undefined, undefined, true);\r\n                const reportSubTypeList = coaReportTypeMap.get(\"OptionList\");\r\n\r\n                const certificateType = constructOptionList(response.data.CertificateType || [], \"ncertificatetypecode\",\r\n                    \"scertificatetype\", undefined, undefined, true);\r\n                const certificateTypeList = certificateType.get(\"OptionList\");\r\n\r\n\r\n            //    const nregtypecode = getComboLabelValue(response.data[\"SelectedRegType\"],\r\n              //      response.data[\"RegistrationType\"], \"nregtypecode\", \"sregtypename\")\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                     //   sampleTypeList,\r\n                        regTypeList,\r\n                        regSubTypeList: [],\r\n                        ApproveConfigList:[],                                           \r\n                        reportSubTypeList,\r\n                        loading: false,\r\n                        certificateTypeList,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nregtypecode: undefined, nregsubtypecode: undefined,\r\n                            ncoareporttypecode: undefined,\r\n                            ncertificatetypecode: \"\",\r\n                            napproveconfversioncode: undefined\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportRegSubTypeApproveConfigVersion(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportRegSubTypeApproveConfigVersion\", {\r\n            nregtypecode: inputParam.selectedRecord.nregtypecode.value,\r\n            nregsubtypecode: inputParam.registrationsubType.nregsubtypecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const ApproveConfigVersionMap = constructOptionList(response.data || [], \"napproveconfversioncode\",\r\n                    \"sversionname\", undefined, undefined, false);\r\n                const ApproveConfigList = ApproveConfigVersionMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        ApproveConfigList,//: response.data,                                            \r\n                        loading: false,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            napproveconfversioncode: undefined\r\n\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportTemplate(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportTemplate\", {\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n                const reportTemplateMap = constructOptionList(response.data || [], \"nreporttemplatecode\",\r\n                    \"sreporttemplatename\", undefined, undefined, true);\r\n                const reportTemplateList = reportTemplateMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        reportTemplateList,                                         \r\n                        loading: false,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nreporttemplatecode:undefined\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}