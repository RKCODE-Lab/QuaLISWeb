{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\contactmaster\\\\Client.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { Row, Col, FormGroup, FormLabel, Nav, Card } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport { process } from '@progress/kendo-data-query';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport Esign from '../audittrail/Esign';\nimport { MediaLabel } from '../../components/add-client.styles';\nimport { callService, crudMaster, updateStore, validateEsignCredential, getClientComboService, getClientDetail, getClientSiteForAddEdit, getClientSiteContactDetails, getClientContactForAddEdit, filterColumnData, changeClientCategoryFilter, addClientFile, viewAttachment } from '../../actions';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { constructOptionList, getControlMap, showEsign, validateEmail, validatePhoneNumber, Lims_JSON_stringify } from '../../components/CommonScript';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPencilAlt, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport AddClient from './AddClient';\nimport { ContentPanel } from '../product/product.styled';\nimport ListMaster from '../../components/list-master/list-master.component'; // import ReactTooltip from 'react-tooltip';\n\nimport { ReadOnlyText } from '../../components/App.styles';\nimport ClientSiteAddressTab from '../../pages/contactmaster/ClientSiteAddressTab';\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport { transactionStatus } from '../../components/Enumeration';\nimport ClientCategoryFilter from './ClientCategoryFilter';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport { Affix } from 'rsuite';\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\nimport ClientFileTab from './ClientFileTabs';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass Client extends React.Component {\n  constructor(_props) {\n    super(_props);\n\n    this.sidebarExpandCollapse = () => {\n      this.setState({\n        sidebarview: true\n      });\n    };\n\n    this.dataStateChange = event => {\n      this.setState({\n        dataResult: process(this.state.data, event.dataState),\n        dataState: event.dataState\n      });\n    };\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onFilterSubmit = () => {\n      if (this.state.nfilterClientCategory.value) {\n        let inputParam = {\n          inputData: {\n            nclientcatcode: this.state.nfilterClientCategory.value,\n            userinfo: this.props.Login.userInfo // nfilterClientCategory: this.state.nfilterClientCategory\n\n          },\n          classUrl: \"client\",\n          methodUrl: \"ClientByCategory\"\n        };\n        this.props.changeClientCategoryFilter(inputParam, this.props.Login.masterData.filterClientCategory, this.state.nfilterClientCategory);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_CLIENTCATEGORYNOTAVAILABLE\"\n        }));\n      }\n    };\n\n    this.closeModal = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let selectedRecord = this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\") {\n          loadEsign = false;\n          openModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsign = false;\n          selectedRecord[\"agree\"] = 4;\n          selectedRecord['esignpassword'] = \"\";\n          selectedRecord['esigncomments'] = \"\";\n          selectedRecord['esignreason'] = \"\";\n        }\n      } else {\n        openModal = false;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          loadEsign,\n          selectedRecord,\n          selectedId: null\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onComboChangeFilter = (comboData, fieldName) => {\n      let nfilterClientCategory = this.state.nfilterClientCategory || {};\n      nfilterClientCategory = comboData;\n      this.searchRef.current.value = \"\";\n      this.setState({\n        nfilterClientCategory\n      });\n    };\n\n    this.getNestedFieldData = (nestedColumnArray, data) => nestedColumnArray.reduce((xs, x) => xs && xs[x] ? xs[x] : null, data);\n\n    this.expandChange = event => {\n      const isExpanded = event.dataItem.expanded === undefined ? event.dataItem.aggregates : event.dataItem.expanded;\n      event.dataItem.expanded = !isExpanded;\n      this.setState({ ...this.props\n      });\n    };\n\n    this.detailBand = props => {\n      const Dataitem = props.dataItem;\n      const OptionalFieldList = [{\n        datafield: \"saddress1\",\n        Column: \"Address1\"\n      }, {\n        datafield: \"saddress2\",\n        Column: \"Address2\"\n      }, {\n        datafield: \"saddress3\",\n        Column: \"Address3\"\n      }, {\n        datafield: \"sphoneno\",\n        Column: \"Phone No\"\n      }, {\n        datafield: \"smobileno\",\n        Column: \"Mobile No\"\n      }, {\n        datafield: \"sfaxno\",\n        Column: \"Fax No\"\n      }, {\n        datafield: \"stransdisplaystatus\",\n        Column: \"DisplayStatus\"\n      }];\n      return /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 17\n        }\n      }, OptionalFieldList.map(fields => {\n        return /*#__PURE__*/React.createElement(Col, {\n          md: \"6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(FormGroup, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(FormLabel, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(FormattedMessage, {\n          id: fields.Column,\n          message: fields.Column,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 40\n          }\n        })), /*#__PURE__*/React.createElement(MediaLabel, {\n          className: \"readonly-text font-weight-normal\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 29\n          }\n        }, Dataitem[fields.datafield])));\n      }));\n    };\n\n    this.detailedFieldList = [{\n      dataField: \"saddress1\",\n      idsName: \"IDS_ADDRESS1\",\n      columnSize: \"4\"\n    }, {\n      dataField: \"saddress2\",\n      idsName: \"IDS_ADDRESS2\",\n      columnSize: \"4\"\n    }, {\n      dataField: \"saddress3\",\n      idsName: \"IDS_ADDRESS3\",\n      columnSize: \"4\"\n    }, {\n      dataField: \"sphoneno\",\n      idsName: \"IDS_PHONENO\",\n      columnSize: \"4\"\n    }, {\n      dataField: \"smobileno\",\n      idsName: \"IDS_MOBILENO\",\n      columnSize: \"4\"\n    }, {\n      dataField: \"sfaxno\",\n      idsName: \"IDS_FAXNO\",\n      columnSize: \"4\"\n    }];\n\n    this.onComboChange = (comboData, fieldName) => {\n      if (comboData != null) {\n        const selectedRecord = this.state.selectedRecord || {};\n        selectedRecord[fieldName] = comboData;\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        if (event.target.name === \"agree\") {\n          selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\n        } else {\n          selectedRecord[event.target.name] = event.target.checked === true ? 1 : 2;\n        }\n      } else if (event.target.type === 'select-one') {\n        selectedRecord[event.target.name] = event.target.value;\n      } else {\n        if (event.target.name === \"sphoneno\" || event.target.name === \"smobileno\" || event.target.name === \"sfaxno\") {\n          if (event.target.value !== \"\") {\n            event.target.value = validatePhoneNumber(event.target.value);\n            selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\n          } else {\n            selectedRecord[event.target.name] = event.target.value;\n          }\n        } else {\n          selectedRecord[event.target.name] = event.target.value;\n        }\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.deleteRecord = clientDeleteParam => {\n      // const inputParam = {\n      //     classUrl: this.props.Login.inputParam.classUrl,\n      //     methodUrl: clientDeleteParam.methodUrl,\n      //     displayName: this.props.Login.inputParam.displayName,\n      //     inputData: {\n      //         [\"client\"]: clientDeleteParam.selectedRecord,\n      //         \"userinfo\": this.props.Login.userInfo\n      //     },\n      //     operation: clientDeleteParam.operation,\n      // }\n      let inputParam = {};\n\n      if (this.props.Login.screenName === 'IDS_CLIENTFILE') {\n        inputParam = {\n          classUrl: \"client\",\n          methodUrl: clientDeleteParam.methodUrl,\n          inputData: {\n            [clientDeleteParam.methodUrl.toLowerCase()]: clientDeleteParam.selectedRecord,\n            \"userinfo\": { ...this.props.Login.userInfo,\n              //ALPD-1619(while saving the file and link,audit trail is not captured the respective language)\n              slanguagename: Lims_JSON_stringify(this.props.Login.userInfo.slanguagename)\n            }\n          },\n          operation: clientDeleteParam.operation,\n          //dataState: this.state.dataState,\n          //dataStateMaterial: this.state.dataStateMaterial\n          dataState: this.state.dataState,\n          postParam: {\n            inputListName: \"Client\",\n            selectedObject: \"selectedClient\",\n            primaryKeyField: \"nclientcode\",\n            fetchUrl: \"client/getActiveClientById\",\n            fecthInputObject: {\n              userinfo: this.props.Login.userInfo\n            }\n          }\n        };\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, clientDeleteParam.ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData: this.props.Login.masterData\n              },\n              openModal: true,\n              screenName: clientDeleteParam.screenName,\n              operation: clientDeleteParam.operation\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n        }\n      }\n    };\n\n    this.DeleteClient = (operation, ncontrolCode) => {\n      let inputData = [];\n      inputData[\"client\"] = this.props.Login.masterData.selectedClient;\n      inputData[\"clientsite\"] = this.props.Login.masterData.selectedClientSite;\n      inputData[\"clientcontact\"] = this.props.Login.masterData.selectedClientContact;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      inputData[\"clientfile\"] = this.props.Login.masterData.clientFile[0];\n      const postParam = {\n        inputListName: \"Client\",\n        selectedObject: \"selectedClient\",\n        primaryKeyField: \"nclientcode\",\n        primaryKeyValue: this.props.Login.masterData.selectedClient.nclientcode,\n        fetchUrl: \"client/getActiveClientById\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      const inputParam = {\n        methodUrl: \"Client\",\n        //postParam,\n        classUrl: this.props.Login.inputParam.classUrl,\n        inputData: inputData,\n        operation: \"delete\",\n        postParam\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            screenName: \"IDS_CLIENT\",\n            operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      }\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n\n      if (this.props.Login.masterData && this.props.Login.masterData.SelectedClientCat) {\n        const inputParam = {\n          inputData: {\n            \"userinfo\": this.props.Login.userInfo,\n            \"nclientcatcode\": this.props.Login.masterData.SelectedClientCat.nclientcatcode\n          },\n          classUrl: this.props.Login.inputParam.classUrl,\n          methodUrl: \"ClientByCategory\",\n          displayName: this.props.intl.formatMessage({\n            id: \"IDS_CLIENT\"\n          })\n        };\n        this.props.changeClientCategoryFilter(inputParam, this.props.Login.masterData.filterClientCategory, this.state.nfilterClientCategory);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_CLIENTCATEGORYNOTAVAILABLE\"\n        }));\n      }\n    };\n\n    this.ConfirmDelete = deleteId => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.DeleteClient(\"delete\", deleteId));\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      // const isValidateEmail = this.state.selectedRecord[\"semail\"]? validateEmail(this.state.selectedRecord[\"semail\"]): true;\n      let postParam = undefined; // if (isValidateEmail) {\n\n      let inputData = [];\n      inputData[\"clientsiteaddress\"] = {};\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      let dataState = undefined;\n\n      if (this.props.Login.operation === \"update\") {\n        const selectedRecord = this.state.selectedRecord; // edit\n\n        postParam = {\n          inputListName: \"Client\",\n          selectedObject: \"selectedClient\",\n          primaryKeyField: \"nclientcode\"\n        };\n        inputData[\"client\"] = {};\n        this.fieldList.map(item => {\n          return inputData[\"client\"][item] = selectedRecord[item] !== null ? selectedRecord[item] : \"\";\n        });\n        inputData[\"client\"][\"nclientcode\"] = selectedRecord[\"nclientcode\"] ? selectedRecord[\"nclientcode\"] : -1;\n        inputData[\"client\"][\"ncountrycode\"] = selectedRecord[\"ncountrycode\"] ? selectedRecord[\"ncountrycode\"].value : -1;\n        inputData[\"client\"][\"nclientcatcode\"] = selectedRecord[\"nclientcatcode\"] ? selectedRecord[\"nclientcatcode\"].value : -1;\n        dataState = this.state.dataState;\n      } else {\n        //add               \n        inputData[\"client\"] = {\n          \"nsitecode\": this.props.Login.userInfo.nmastersitecode\n        };\n        this.fieldList.map(item => {\n          return inputData[\"client\"][item] = this.state.selectedRecord[item];\n        });\n        inputData[\"client\"][\"ncountrycode\"] = this.state.selectedRecord[\"ncountrycode\"] ? this.state.selectedRecord[\"ncountrycode\"].value : -1;\n        inputData[\"client\"][\"nclientcatcode\"] = this.state.selectedRecord[\"nclientcatcode\"] ? this.state.selectedRecord[\"nclientcatcode\"].value : -1;\n        inputData[\"clientsiteaddress\"][\"sclientsitename\"] = this.state.selectedRecord[\"sclientsitename\"] ? this.state.selectedRecord[\"sclientsitename\"] : \"\";\n        inputData[\"clientsiteaddress\"][\"saddress1\"] = this.state.selectedRecord[\"saddress1\"] ? this.state.selectedRecord[\"saddress1\"] : \"\";\n        inputData[\"clientsiteaddress\"][\"saddress2\"] = this.state.selectedRecord[\"saddress2\"] ? this.state.selectedRecord[\"saddress2\"] : \"\";\n        inputData[\"clientsiteaddress\"][\"saddress3\"] = this.state.selectedRecord[\"saddress3\"] ? this.state.selectedRecord[\"saddress3\"] : \"\";\n        inputData[\"clientsiteaddress\"][\"ncountrycode\"] = this.state.selectedRecord[\"ncountrycode\"] ? this.state.selectedRecord[\"ncountrycode\"].value : -1; // inputData[\"clientsiteaddress\"][\"ntransactionstatus\"] = transactionStatus.ACTIVE;\n\n        inputData[\"clientsiteaddress\"][\"ndefaultstatus\"] = transactionStatus.YES;\n        inputData[\"clientsiteaddress\"][\"scontactname\"] = this.state.selectedRecord[\"scontactname\"] ? this.state.selectedRecord[\"scontactname\"] : \"\";\n      }\n\n      const inputParam = {\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: \"Client\",\n        displayName: this.props.Login.inputParam.displayName,\n        inputData: inputData,\n        selectedId: this.state.selectedRecord[\"nclientcode\"],\n        operation: this.props.Login.operation,\n        saveType,\n        formRef,\n        dataState,\n        searchRef: this.searchRef,\n        postParam: postParam,\n        filtercombochange: this.props.Login.masterData.searchedData !== undefined ? this.state.selectedRecord.nclientcatcode.value === this.props.Login.masterData.SelectedClientCat.nclientcatcode ? false : true : false,\n        selectedRecord: { ...this.state.selectedRecord\n        }\n      };\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData: this.props.Login.masterData\n            },\n            openModal: true,\n            screenName: this.props.intl.formatMessage({\n              id: \"IDS_CLIENT\"\n            }),\n            //this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }),\n            operation: this.props.Login.operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      } // } else {\n      //     toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERVALIDEMAIL\" }))\n      // }\n\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.onTabChange = tabProps => {\n      const screenName = tabProps.screenName;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          screenName\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.tabDetail = () => {\n      const tabMap = new Map();\n      tabMap.set(\"IDS_CLIENTSITE&CONTACT\", /*#__PURE__*/React.createElement(ClientSiteAddressTab, {\n        operation: this.props.Login.operation,\n        inputParam: this.props.Login.inputParam,\n        screenName: this.props.Login.screenName,\n        userInfo: this.props.Login.userInfo,\n        masterData: this.props.Login.masterData,\n        crudMaster: this.props.crudMaster,\n        errorCode: this.props.Login.errorCode,\n        masterStatus: this.props.Login.masterStatus,\n        openChildModal: this.props.Login.openChildModal,\n        updateStore: this.props.updateStore,\n        selectedRecord: this.props.Login.selectedRecord,\n        getClientSiteContactDetails: this.props.getClientSiteContactDetails,\n        getClientSiteForAddEdit: this.props.getClientSiteForAddEdit,\n        getClientContactForAddEdit: this.props.getClientContactForAddEdit,\n        ncontrolCode: this.props.Login.ncontrolCode,\n        userRoleControlRights: this.state.userRoleControlRights,\n        esignRights: this.props.Login.userRoleControlRights,\n        screenData: this.props.Login.screenData,\n        validateEsignCredential: this.props.validateEsignCredential,\n        loadEsign: this.props.Login.loadEsign,\n        controlMap: this.state.controlMap,\n        Country: this.props.Login.Country,\n        countryCode: this.props.Login.countryCode,\n        SiteCode: this.props.Login.SiteCode,\n        selectedId: this.props.Login.selectedId,\n        dataState: this.props.Login.dataState,\n        settings: this.props.Login.settings,\n        addClientFile: this.props.addClientFile,\n        viewAttachment: this.props.viewAttachment,\n        linkMaster: this.props.Login.linkMaster,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 9\n        }\n      }));\n      tabMap.set(\"IDS_FILE\", /*#__PURE__*/React.createElement(ClientFileTab, {\n        controlMap: this.state.controlMap,\n        userRoleControlRights: this.state.userRoleControlRights,\n        userInfo: this.props.Login.userInfo,\n        inputParam: this.props.Login.inputParam // deleteRecord={this.DeleteContact}\n        ,\n        clientFile: this.props.Login.masterData.clientFile || [],\n        getAvailableData: this.props.getAvailableData,\n        addClientFile: this.props.addClientFile,\n        viewClientFile: this.viewClientFile,\n        defaultRecord: this.defaultRecord,\n        screenName: \"IDS_CLIENTFILE\",\n        settings: this.props.Login.settings,\n        ncontrolCode: this.props.Login.ncontrolCode,\n        masterData: this.props.Login.masterData,\n        crudMaster: this.props.crudMaster,\n        deleteRecord: this.deleteRecord,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 13\n        }\n      }));\n      return tabMap;\n    };\n\n    this.viewClientFile = filedata => {\n      const inputParam = {\n        inputData: {\n          clientfile: filedata,\n          userinfo: this.props.Login.userInfo\n        },\n        classUrl: \"client\",\n        operation: \"view\",\n        methodUrl: \"AttachedClientFile\",\n        screenName: \"Client File\"\n      };\n      this.props.viewAttachment(inputParam);\n    };\n\n    this.formRef = React.createRef();\n    this.extractedColumnList = [];\n    this.fieldList = [];\n    const _dataState = {\n      skip: 0,\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n    };\n    this.state = {\n      addScreen: false,\n      data: [],\n      masterStatus: \"\",\n      error: \"\",\n      operation: \"create\",\n      dataResult: [],\n      dataState: _dataState,\n      clientData: [],\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      selectedRecord: {},\n      countryList: [],\n      sidebarview: false\n    };\n    this.searchRef = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n    this.mandatoryFields = [{\n      \"idsName\": \"IDS_CLIENTNAME\",\n      \"dataField\": \"sclientname\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_CLIENTID\",\n      \"dataField\": \"sclientid\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_CLIENTSITENAME\",\n      \"mandatory\": true,\n      \"dataField\": \"sclientsitename\",\n      \"width\": \"150px\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_CLIENTCONTACTNAME\",\n      \"mandatory\": true,\n      \"dataField\": \"scontactname\",\n      \"width\": \"150px\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_ADDRESS1\",\n      \"dataField\": \"saddress1\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_COUNTRY\",\n      \"dataField\": \"ncountrycode\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n    this.mandatoryUpdateFields = [{\n      \"idsName\": \"IDS_CLIENTNAME\",\n      \"dataField\": \"sclientname\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_CLIENTID\",\n      \"dataField\": \"sclientid\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }];\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    if (props.Login.selectedRecord === undefined) {\n      return {\n        selectedRecord: {}\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    let userStatusCSS = \"\";\n    let activeIconCSS = \"fa fa-check\";\n\n    if (this.props.Login.masterData.selectedClient && this.props.Login.masterData.selectedClient.ntransactionstatus === transactionStatus.DEACTIVE) {\n      userStatusCSS = \"outline-secondary\";\n      activeIconCSS = \"\";\n    } else if (this.props.Login.masterData.selectedClient && this.props.Login.masterData.selectedClient.ntransactionstatus === transactionStatus.ACTIVE) {\n      userStatusCSS = \"outline-success\";\n    } else {\n      userStatusCSS = \"outline-Final\";\n    }\n\n    this.extractedColumnList = [{\n      \"idsName\": \"IDS_CLIENTNAME\",\n      \"dataField\": \"sclientname\",\n      \"width\": \"200px\"\n    }, {\n      \"idsName\": \"IDS_CLIENTID\",\n      \"dataField\": \"sclientid\",\n      \"width\": \"200px\"\n    }, {\n      \"idsName\": \"IDS_COUNTRYNAME\",\n      \"dataField\": \"scountryname\",\n      \"width\": \"200px\"\n    }, // { \"idsName\": \"IDS_EMAIL\", \"dataField\": \"semail\", \"width\": \"200px\" },\n    {\n      \"idsName\": \"IDS_STATUS\",\n      \"dataField\": \"stransdisplaystatus\",\n      \"width\": \"100px\"\n    }];\n    this.fieldList = [\"sclientname\", \"sclientid\", \"saddress1\", // \"saddress2\", \"saddress3\",  \"sphoneno\", \"smobileno\", \"sfaxno\", \"semail\", \n    \"sclientsitename\", \"scontactname\", \"ntransactionstatus\", \"ncountrycode\"];\n    const addId = this.state.controlMap.has(\"AddClient\") && this.state.controlMap.get(\"AddClient\").ncontrolcode;\n    const editId = this.state.controlMap.has(\"EditClient\") && this.state.controlMap.get(\"EditClient\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"DeleteClient\") && this.state.controlMap.get(\"DeleteClient\").ncontrolcode;\n    const clientAddParam = {\n      screenName: \"IDS_CLIENT\",\n      operation: \"create\",\n      primaryKeyField: \"nclientcode\",\n      userInfo: this.props.Login.userInfo,\n      ncontrolCode: addId,\n      nfilterClientCategory: this.state.nfilterClientCategory\n    };\n    const clientEditParam = {\n      screenName: \"IDS_CLIENT\",\n      operation: \"update\",\n      primaryKeyField: \"nclientcode\",\n      userInfo: this.props.Login.userInfo,\n      ncontrolCode: editId,\n      masterData: this.props.Login.masterData,\n      nfilterClientCategory: this.state.nfilterClientCategory\n    };\n    const clientDeleteParam = {\n      screenName: \"IDS_CLIENT\",\n      methodUrl: \"Client\",\n      operation: \"delete\",\n      ncontrolCode: deleteId\n    };\n    const filterParam = {\n      inputListName: \"Client\",\n      selectedObject: \"selectedClient\",\n      primaryKeyField: \"nclientcode\",\n      fetchUrl: \"client/getSelectedClientDetail\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: [\"sclientname\", \"sclientid\", \"address1\", \"saddress2\", \"saddress3\", \"sphoneno\", \"smobileno\", \"sfaxno\", \"semail\", \"stransdisplaystatus\"]\n    };\n    const breadCrumbData = this.state.filterData || [];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, breadCrumbData.length > 0 ? /*#__PURE__*/React.createElement(Affix, {\n      top: 53,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 29\n      }\n    })) : \"\", /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.state.sidebarview ? '4' : \"2\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      onClick: () => this.setState({\n        sidebarview: !this.state.sidebarview\n      }),\n      className: \"sidebar-view-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 25\n      }\n    }, !this.state.sidebarview ? /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-less-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 33\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-greater-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(ListMaster, {\n      formatMessage: this.props.intl.formatMessage,\n      screenName: \"IDS_CLIENT\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.Client,\n      getMasterDetail: Client => this.props.getClientDetail(Client, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.selectedClient,\n      primaryKeyField: \"nclientcode\",\n      mainField: \"sclientname\",\n      firstField: \"sclientid\",\n      secondField: \"stransdisplaystatus\",\n      isIDSField: \"Yes\",\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addId,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      hidePaging: false,\n      openModal: () => this.props.getClientComboService(clientAddParam),\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      onFilterSubmit: this.onFilterSubmit,\n      showFilterIcon: true,\n      showFilter: this.props.Login.showFilter,\n      filterComponent: [{\n        \"IDS_CLIENTCATEGORYFILTER\": /*#__PURE__*/React.createElement(ClientCategoryFilter, {\n          filterClientCategory: this.state.filterClientCategory || [],\n          nfilterClientCategory: this.state.nfilterClientCategory || {},\n          onComboChange: this.onComboChangeFilter,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 41\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.state.sidebarview ? '8' : \"10\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 30\n      }\n    }, /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 29\n      }\n    }, this.props.Login.masterData.selectedClient && this.props.Login.masterData.Client.length > 0 && this.props.Login.masterData.selectedClient ? /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 45\n      }\n    }, this.props.Login.masterData.selectedClient.sclientname), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined ${userStatusCSS} btn-sm ml-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: activeIconCSS,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 61\n      }\n    }), this.props.Login.masterData.selectedClient.stransdisplaystatus)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }) // data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: e => this.props.getClientComboService(clientEditParam),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      title: this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"\",\n      hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }) //  data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: () => this.ConfirmDelete(deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 61\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"at-tabs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CustomTabs, {\n      tabDetail: this.tabDetail(),\n      onTabChange: this.onTabChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 29\n      }\n    })))))) : \"\")))))), this.props.Login.openModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal,\n      closeModal: this.closeModal,\n      operation: this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.Login.screenName,\n      onSaveClick: this.onSaveClick,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: this.props.Login.operation == \"create\" ? this.mandatoryFields || [] : this.mandatoryUpdateFields || [],\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        formatMessage: this.props.intl.formatMessage,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 22\n        }\n      }) : /*#__PURE__*/React.createElement(AddClient, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onComboChange: this.onComboChange,\n        formatMessage: this.props.intl.formatMessage,\n        countryList: this.state.countryList || [],\n        clientCategoryList: this.props.Login.clientCategoryList || [],\n        operation: this.props.Login.operation,\n        inputParam: this.props.Login.inputParam,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 24\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 18\n      }\n    }));\n  }\n\n  generateBreadCrumData() {\n    const breadCrumbData = [];\n\n    if (this.props.Login.masterData && this.props.Login.masterData.filterClientCategory) {\n      breadCrumbData.push({\n        \"label\": \"IDS_CLIENTCATEGORY\",\n        \"value\": this.props.Login.masterData.SelectedClientCat ? this.props.Login.masterData.SelectedClientCat.sclientcatname : \"NA\"\n      });\n    }\n\n    return breadCrumbData;\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n        const userRoleControlRights = [];\n\n        if (this.props.Login.userRoleControlRights) {\n          this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n        }\n\n        const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n        this.setState({\n          userRoleControlRights,\n          controlMap,\n          data: this.props.Login.masterData\n        });\n      } else {\n        let {\n          dataState\n        } = this.state;\n\n        if (this.props.Login.dataState === undefined) {\n          dataState = {\n            skip: 0,\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n          };\n        }\n\n        this.setState({\n          data: this.props.Login.masterData,\n          dataState\n        });\n      }\n\n      let filterClientCategory = this.state.filterClientCategory || {};\n      let nfilterClientCategory = this.state.nfilterClientCategory || {};\n\n      if (this.props.Login.masterData.SelectedClientCat && this.props.Login.masterData.SelectedClientCat !== previousProps.Login.masterData.SelectedClientCat) {\n        nfilterClientCategory = {\n          label: this.props.Login.masterData.SelectedClientCat.sclientcatname,\n          value: this.props.Login.masterData.SelectedClientCat.nclientcatcode,\n          item: this.props.Login.masterData.SelectedClientCat\n        };\n      }\n\n      if (this.props.Login.masterData.filterClientCategory !== previousProps.Login.masterData.filterClientCategory) {\n        const clientCategoryMap = constructOptionList(this.props.Login.masterData.filterClientCategory || [], \"nclientcatcode\", \"sclientcatname\", 'nclientcatcode', 'ascending', false);\n        filterClientCategory = clientCategoryMap.get(\"OptionList\");\n\n        if (clientCategoryMap.get(\"DefaultValue\")) {\n          nfilterClientCategory = clientCategoryMap.get(\"DefaultValue\");\n        } else if (filterClientCategory && filterClientCategory.length > 0) {\n          nfilterClientCategory = filterClientCategory[0];\n        }\n      } else if (this.props.Login.masterData.nfilterClientCategory !== previousProps.Login.masterData.nfilterClientCategory) {\n        nfilterClientCategory = this.props.Login.masterData.nfilterClientCategory;\n      }\n\n      this.setState({\n        nfilterClientCategory,\n        filterClientCategory\n      });\n    }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.Login.selectedRecord\n      });\n    }\n\n    if (this.props.Login.countryList !== previousProps.Login.countryList) {\n      const countryList = constructOptionList(this.props.Login.countryList || [], \"ncountrycode\", \"scountryname\", undefined, undefined, undefined);\n      const countryListClient = countryList.get(\"OptionList\");\n      this.setState({\n        countryList: countryListClient\n      });\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      const filterData = this.generateBreadCrumData();\n      this.setState({\n        filterData\n      });\n    }\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  updateStore,\n  validateEsignCredential,\n  getClientComboService,\n  getClientDetail,\n  getClientSiteForAddEdit,\n  getClientSiteContactDetails,\n  getClientContactForAddEdit,\n  filterColumnData,\n  changeClientCategoryFilter,\n  addClientFile,\n  viewAttachment\n})(injectIntl(Client));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/contactmaster/Client.jsx"],"names":["React","connect","FormattedMessage","injectIntl","Row","Col","FormGroup","FormLabel","Nav","Card","toast","process","SlideOutModal","Esign","MediaLabel","callService","crudMaster","updateStore","validateEsignCredential","getClientComboService","getClientDetail","getClientSiteForAddEdit","getClientSiteContactDetails","getClientContactForAddEdit","filterColumnData","changeClientCategoryFilter","addClientFile","viewAttachment","DEFAULT_RETURN","constructOptionList","getControlMap","showEsign","validateEmail","validatePhoneNumber","Lims_JSON_stringify","FontAwesomeIcon","faPencilAlt","faTrashAlt","AddClient","ContentPanel","ListMaster","ReadOnlyText","ClientSiteAddressTab","ConfirmMessage","transactionStatus","ClientCategoryFilter","BreadcrumbComponent","Affix","CustomTabs","ClientFileTab","mapStateToProps","state","Login","Client","Component","constructor","props","sidebarExpandCollapse","setState","sidebarview","dataStateChange","event","dataResult","data","dataState","openFilter","showFilter","updateInfo","typeName","closeFilter","onFilterSubmit","nfilterClientCategory","value","inputParam","inputData","nclientcatcode","userinfo","userInfo","classUrl","methodUrl","masterData","filterClientCategory","warn","intl","formatMessage","id","closeModal","loadEsign","openModal","selectedRecord","operation","selectedId","onComboChangeFilter","comboData","fieldName","searchRef","current","getNestedFieldData","nestedColumnArray","reduce","xs","x","expandChange","isExpanded","dataItem","expanded","undefined","aggregates","detailBand","Dataitem","OptionalFieldList","datafield","Column","map","fields","detailedFieldList","dataField","idsName","columnSize","onComboChange","onInputOnChange","target","type","name","checked","deleteRecord","clientDeleteParam","screenName","toLowerCase","slanguagename","postParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","userRoleControlRights","nformcode","ncontrolCode","screenData","DeleteClient","selectedClient","selectedClientSite","selectedClientContact","clientFile","primaryKeyValue","nclientcode","reloadData","SelectedClientCat","displayName","ConfirmDelete","deleteId","confirmMessage","confirm","onSaveClick","saveType","formRef","fieldList","item","nmastersitecode","YES","filtercombochange","searchedData","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","onTabChange","tabProps","tabDetail","tabMap","Map","set","errorCode","masterStatus","openChildModal","controlMap","Country","countryCode","SiteCode","settings","linkMaster","getAvailableData","viewClientFile","defaultRecord","filedata","clientfile","createRef","extractedColumnList","skip","take","parseInt","addScreen","error","clientData","countryList","mandatoryFields","mandatoryUpdateFields","getDerivedStateFromProps","render","userStatusCSS","activeIconCSS","ntransactionstatus","DEACTIVE","ACTIVE","addId","has","get","ncontrolcode","editId","clientAddParam","clientEditParam","filterParam","searchFieldList","breadCrumbData","filterData","length","sclientname","stransdisplaystatus","indexOf","e","clientCategoryList","generateBreadCrumData","push","sclientcatname","componentDidUpdate","previousProps","Object","values","clientCategoryMap","countryListClient"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,gBAAT,EAA2BC,UAA3B,QAA6C,YAA7C;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,SAAnB,EAA8BC,SAA9B,EAAyCC,GAAzC,EAA8CC,IAA9C,QAA0D,iBAA1D;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,OAAT,QAAwB,4BAAxB;AACA,OAAOC,aAAP,MAA0B,gDAA1B;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,UAAT,QAA2B,oCAA3B;AACA,SAASC,WAAT,EAAsBC,UAAtB,EAAkCC,WAAlC,EAA+CC,uBAA/C,EACIC,qBADJ,EAC2BC,eAD3B,EAC2CC,uBAD3C,EAEIC,2BAFJ,EAEgCC,0BAFhC,EAGIC,gBAHJ,EAGqBC,0BAHrB,EAGgDC,aAHhD,EAG8DC,cAH9D,QAGoF,eAHpF;AAIA,SAASC,cAAT,QAA+B,0BAA/B;AACA,SAASC,mBAAT,EAA8BC,aAA9B,EAA6CC,SAA7C,EAAwDC,aAAxD,EAAuEC,mBAAvE,EAA4FC,mBAA5F,QAAsH,+BAAtH;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,mCAAxC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,YAAT,QAA6B,2BAA7B;AACA,OAAOC,UAAP,MAAuB,oDAAvB,C,CACA;;AACA,SAASC,YAAT,QAA6B,6BAA7B;AACA,OAAOC,oBAAP,MAAiC,gDAAjC;AACA,OAAOC,cAAP,MAA2B,0DAA3B;AACA,SAASC,iBAAT,QAAkC,8BAAlC;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,OAAOC,mBAAP,MAAgC,uCAAhC;AACA,SAASC,KAAT,QAAsB,QAAtB;AACA,OAAOC,UAAP,MAAuB,oDAAvB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;;AAEA,MAAMC,eAAe,GAAGC,KAAK,IAAI;AAC7B,SAAQ;AAAEC,IAAAA,KAAK,EAAED,KAAK,CAACC;AAAf,GAAR;AACH,CAFD;;AAIA,MAAMC,MAAN,SAAqBrD,KAAK,CAACsD,SAA3B,CAAqC;AACjCC,EAAAA,WAAW,CAACC,MAAD,EAAQ;AACf,UAAMA,MAAN;;AADe,SAsCnBC,qBAtCmB,GAsCK,MAAM;AAC1B,WAAKC,QAAL,CAAc;AACVC,QAAAA,WAAW,EAAE;AADH,OAAd;AAGH,KA1CkB;;AAAA,SA4CnBC,eA5CmB,GA4CAC,KAAD,IAAW;AACzB,WAAKH,QAAL,CAAc;AACVI,QAAAA,UAAU,EAAEnD,OAAO,CAAC,KAAKwC,KAAL,CAAWY,IAAZ,EAAkBF,KAAK,CAACG,SAAxB,CADT;AAEVA,QAAAA,SAAS,EAAEH,KAAK,CAACG;AAFP,OAAd;AAIH,KAjDkB;;AAAA,SAmDnBC,UAnDmB,GAmDN,MAAM;AACf,UAAIC,UAAU,GAAG,CAAC,KAAKV,KAAL,CAAWJ,KAAX,CAAiBc,UAAnC;AACA,YAAMC,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAExC,cADK;AAEfmC,QAAAA,IAAI,EAAE;AAAEG,UAAAA;AAAF;AAFS,OAAnB;AAIA,WAAKV,KAAL,CAAWvC,WAAX,CAAuBkD,UAAvB;AACH,KA1DkB;;AAAA,SA4DnBE,WA5DmB,GA4DL,MAAM;AAEhB,YAAMF,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAExC,cADK;AAEfmC,QAAAA,IAAI,EAAE;AAAEG,UAAAA,UAAU,EAAE;AAAd;AAFS,OAAnB;AAIA,WAAKV,KAAL,CAAWvC,WAAX,CAAuBkD,UAAvB;AACH,KAnEkB;;AAAA,SAqEnBG,cArEmB,GAqEF,MAAM;AACnB,UAAI,KAAKnB,KAAL,CAAWoB,qBAAX,CAAiCC,KAArC,EAA4C;AACxC,YAAIC,UAAU,GAAG;AACbC,UAAAA,SAAS,EAAE;AACPC,YAAAA,cAAc,EAAE,KAAKxB,KAAL,CAAWoB,qBAAX,CAAiCC,KAD1C;AAEPI,YAAAA,QAAQ,EAAE,KAAKpB,KAAL,CAAWJ,KAAX,CAAiByB,QAFpB,CAGP;;AAHO,WADE;AAMbC,UAAAA,QAAQ,EAAE,QANG;AAObC,UAAAA,SAAS,EAAE;AAPE,SAAjB;AASA,aAAKvB,KAAL,CAAW/B,0BAAX,CAAsCgD,UAAtC,EAAkD,KAAKjB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BC,oBAA9E,EAAoG,KAAK9B,KAAL,CAAWoB,qBAA/G;AACH,OAXD,MAWO;AACH7D,QAAAA,KAAK,CAACwE,IAAN,CAAW,KAAK1B,KAAL,CAAW2B,IAAX,CAAgBC,aAAhB,CAA8B;AAAEC,UAAAA,EAAE,EAAE;AAAN,SAA9B,CAAX;AACH;AACJ,KApFkB;;AAAA,SAqFnBC,UArFmB,GAqFN,MAAM;AACf,UAAIC,SAAS,GAAG,KAAK/B,KAAL,CAAWJ,KAAX,CAAiBmC,SAAjC;AACA,UAAIC,SAAS,GAAG,KAAKhC,KAAL,CAAWJ,KAAX,CAAiBoC,SAAjC;AACA,UAAIC,cAAc,GAAG,KAAKjC,KAAL,CAAWJ,KAAX,CAAiBqC,cAAtC;;AACA,UAAI,KAAKjC,KAAL,CAAWJ,KAAX,CAAiBmC,SAArB,EAAgC;AAC5B,YAAI,KAAK/B,KAAL,CAAWJ,KAAX,CAAiBsC,SAAjB,KAA+B,QAAnC,EAA6C;AACzCH,UAAAA,SAAS,GAAG,KAAZ;AACAC,UAAAA,SAAS,GAAG,KAAZ;AACAC,UAAAA,cAAc,GAAG,EAAjB;AACH,SAJD,MAKK;AACDF,UAAAA,SAAS,GAAG,KAAZ;AACDE,UAAAA,cAAc,CAAC,OAAD,CAAd,GAA0B,CAA1B;AACCA,UAAAA,cAAc,CAAC,eAAD,CAAd,GAAkC,EAAlC;AACAA,UAAAA,cAAc,CAAC,eAAD,CAAd,GAAkC,EAAlC;AACAA,UAAAA,cAAc,CAAC,aAAD,CAAd,GAA8B,EAA9B;AACH;AACJ,OAbD,MAcK;AACDD,QAAAA,SAAS,GAAG,KAAZ;AACAC,QAAAA,cAAc,GAAG,EAAjB;AACH;;AAED,YAAMtB,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAExC,cADK;AAEfmC,QAAAA,IAAI,EAAE;AAAEyB,UAAAA,SAAF;AAAaD,UAAAA,SAAb;AAAwBE,UAAAA,cAAxB;AAAwCE,UAAAA,UAAU,EAAE;AAApD;AAFS,OAAnB;AAIA,WAAKnC,KAAL,CAAWvC,WAAX,CAAuBkD,UAAvB;AAEH,KAlHkB;;AAAA,SAoInByB,mBApImB,GAoIG,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACpC,UAAIvB,qBAAqB,GAAG,KAAKpB,KAAL,CAAWoB,qBAAX,IAAoC,EAAhE;AACAA,MAAAA,qBAAqB,GAAGsB,SAAxB;AACA,WAAKE,SAAL,CAAeC,OAAf,CAAuBxB,KAAvB,GAA+B,EAA/B;AACA,WAAKd,QAAL,CAAc;AAAEa,QAAAA;AAAF,OAAd;AACX,KAzIkB;;AAAA,SA2InB0B,kBA3ImB,GA2IE,CAACC,iBAAD,EAAoBnC,IAApB,KACjBmC,iBAAiB,CAACC,MAAlB,CAAyB,CAACC,EAAD,EAAKC,CAAL,KAAYD,EAAE,IAAIA,EAAE,CAACC,CAAD,CAAT,GAAgBD,EAAE,CAACC,CAAD,CAAlB,GAAwB,IAA5D,EAAkEtC,IAAlE,CA5Ie;;AAAA,SAubnBuC,YAvbmB,GAubHzC,KAAD,IAAW;AACtB,YAAM0C,UAAU,GACZ1C,KAAK,CAAC2C,QAAN,CAAeC,QAAf,KAA4BC,SAA5B,GACI7C,KAAK,CAAC2C,QAAN,CAAeG,UADnB,GACgC9C,KAAK,CAAC2C,QAAN,CAAeC,QAFnD;AAGA5C,MAAAA,KAAK,CAAC2C,QAAN,CAAeC,QAAf,GAA0B,CAACF,UAA3B;AACA,WAAK7C,QAAL,CAAc,EAAE,GAAG,KAAKF;AAAV,OAAd;AACH,KA7bkB;;AAAA,SA8bnBoD,UA9bmB,GA8bLpD,KAAD,IAAW;AAEpB,YAAMqD,QAAQ,GAAGrD,KAAK,CAACgD,QAAvB;AACA,YAAMM,iBAAiB,GAAG,CACtB;AAAEC,QAAAA,SAAS,EAAE,WAAb;AAA0BC,QAAAA,MAAM,EAAE;AAAlC,OADsB,EAEtB;AAAED,QAAAA,SAAS,EAAE,WAAb;AAA0BC,QAAAA,MAAM,EAAE;AAAlC,OAFsB,EAGtB;AAAED,QAAAA,SAAS,EAAE,WAAb;AAA0BC,QAAAA,MAAM,EAAE;AAAlC,OAHsB,EAItB;AAAED,QAAAA,SAAS,EAAE,UAAb;AAAyBC,QAAAA,MAAM,EAAE;AAAjC,OAJsB,EAKtB;AAAED,QAAAA,SAAS,EAAE,WAAb;AAA0BC,QAAAA,MAAM,EAAE;AAAlC,OALsB,EAMtB;AAAED,QAAAA,SAAS,EAAE,QAAb;AAAuBC,QAAAA,MAAM,EAAE;AAA/B,OANsB,EAOtB;AAAED,QAAAA,SAAS,EAAE,qBAAb;AAAoCC,QAAAA,MAAM,EAAE;AAA5C,OAPsB,CAA1B;AAUA,0BAAQ,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACHF,iBAAiB,CAACG,GAAlB,CAAuBC,MAAD,IAAY;AAC/B,4BACI,oBAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAW,oBAAC,gBAAD;AAAkB,UAAA,EAAE,EAAEA,MAAM,CAACF,MAA7B;AAAqC,UAAA,OAAO,EAAEE,MAAM,CAACF,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAX,CADJ,eAEI,oBAAC,UAAD;AAAY,UAAA,SAAS,EAAC,kCAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA0DH,QAAQ,CAACK,MAAM,CAACH,SAAR,CAAlE,CAFJ,CADJ,CADJ;AAQH,OATA,CADG,CAAR;AAaH,KAxdkB;;AAAA,SAydnBI,iBAzdmB,GAydC,CAChB;AAAEC,MAAAA,SAAS,EAAE,WAAb;AAA0BC,MAAAA,OAAO,EAAE,cAAnC;AAAoDC,MAAAA,UAAU,EAAC;AAA/D,KADgB,EAEhB;AAAEF,MAAAA,SAAS,EAAE,WAAb;AAA0BC,MAAAA,OAAO,EAAE,cAAnC;AAAoDC,MAAAA,UAAU,EAAC;AAA/D,KAFgB,EAGhB;AAAEF,MAAAA,SAAS,EAAE,WAAb;AAA0BC,MAAAA,OAAO,EAAE,cAAnC;AAAmDC,MAAAA,UAAU,EAAC;AAA9D,KAHgB,EAIhB;AAAEF,MAAAA,SAAS,EAAE,UAAb;AAAyBC,MAAAA,OAAO,EAAE,aAAlC;AAAkDC,MAAAA,UAAU,EAAC;AAA7D,KAJgB,EAKhB;AAAEF,MAAAA,SAAS,EAAE,WAAb;AAA0BC,MAAAA,OAAO,EAAE,cAAnC;AAAoDC,MAAAA,UAAU,EAAC;AAA/D,KALgB,EAMhB;AAAEF,MAAAA,SAAS,EAAE,QAAb;AAAuBC,MAAAA,OAAO,EAAE,WAAhC;AAA8CC,MAAAA,UAAU,EAAC;AAAzD,KANgB,CAzdD;;AAAA,SAkenBC,aAlemB,GAkeH,CAAC1B,SAAD,EAAYC,SAAZ,KAA0B;AACtC,UAAID,SAAS,IAAI,IAAjB,EAAuB;AACnB,cAAMJ,cAAc,GAAG,KAAKtC,KAAL,CAAWsC,cAAX,IAA6B,EAApD;AACAA,QAAAA,cAAc,CAACK,SAAD,CAAd,GAA4BD,SAA5B;AAGA,aAAKnC,QAAL,CAAc;AAAE+B,UAAAA;AAAF,SAAd;AACH;AACJ,KA1ekB;;AAAA,SAkkBnB+B,eAlkBmB,GAkkBA3D,KAAD,IAAW;AACzB,YAAM4B,cAAc,GAAG,KAAKtC,KAAL,CAAWsC,cAAX,IAA6B,EAApD;;AACA,UAAI5B,KAAK,CAAC4D,MAAN,CAAaC,IAAb,KAAsB,UAA1B,EAAsC;AAClC,YAAI7D,KAAK,CAAC4D,MAAN,CAAaE,IAAb,KAAsB,OAA1B,EAAmC;AAC/BlC,UAAAA,cAAc,CAAC5B,KAAK,CAAC4D,MAAN,CAAaE,IAAd,CAAd,GAAoC9D,KAAK,CAAC4D,MAAN,CAAaG,OAAb,KAAyB,IAAzB,GAAgC,CAAhC,GAAoC,CAAxE;AACH,SAFD,MAEO;AACHnC,UAAAA,cAAc,CAAC5B,KAAK,CAAC4D,MAAN,CAAaE,IAAd,CAAd,GAAoC9D,KAAK,CAAC4D,MAAN,CAAaG,OAAb,KAAyB,IAAzB,GAAgC,CAAhC,GAAoC,CAAxE;AACH;AACJ,OAND,MAMO,IAAI/D,KAAK,CAAC4D,MAAN,CAAaC,IAAb,KAAsB,YAA1B,EAAwC;AAC3CjC,QAAAA,cAAc,CAAC5B,KAAK,CAAC4D,MAAN,CAAaE,IAAd,CAAd,GAAoC9D,KAAK,CAAC4D,MAAN,CAAajD,KAAjD;AACH,OAFM,MAEA;AACH,YAAIX,KAAK,CAAC4D,MAAN,CAAaE,IAAb,KAAsB,UAAtB,IAAoC9D,KAAK,CAAC4D,MAAN,CAAaE,IAAb,KAAsB,WAA1D,IAAyE9D,KAAK,CAAC4D,MAAN,CAAaE,IAAb,KAAsB,QAAnG,EAA6G;AACzG,cAAI9D,KAAK,CAAC4D,MAAN,CAAajD,KAAb,KAAuB,EAA3B,EAA+B;AAC3BX,YAAAA,KAAK,CAAC4D,MAAN,CAAajD,KAAb,GAAqBvC,mBAAmB,CAAC4B,KAAK,CAAC4D,MAAN,CAAajD,KAAd,CAAxC;AACAiB,YAAAA,cAAc,CAAC5B,KAAK,CAAC4D,MAAN,CAAaE,IAAd,CAAd,GAAoC9D,KAAK,CAAC4D,MAAN,CAAajD,KAAb,KAAuB,EAAvB,GAA4BX,KAAK,CAAC4D,MAAN,CAAajD,KAAzC,GAAiDiB,cAAc,CAAC5B,KAAK,CAAC4D,MAAN,CAAaE,IAAd,CAAnG;AACH,WAHD,MAGO;AACHlC,YAAAA,cAAc,CAAC5B,KAAK,CAAC4D,MAAN,CAAaE,IAAd,CAAd,GAAoC9D,KAAK,CAAC4D,MAAN,CAAajD,KAAjD;AACH;AACJ,SAPD,MAOO;AACHiB,UAAAA,cAAc,CAAC5B,KAAK,CAAC4D,MAAN,CAAaE,IAAd,CAAd,GAAoC9D,KAAK,CAAC4D,MAAN,CAAajD,KAAjD;AACH;AACJ;;AACD,WAAKd,QAAL,CAAc;AAAE+B,QAAAA;AAAF,OAAd;AACH,KAzlBkB;;AAAA,SA2lBnBoC,YA3lBmB,GA2lBHC,iBAAD,IAAuB;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAIrD,UAAU,GAAG,EAAjB;;AACI,UAAI,KAAKjB,KAAL,CAAWJ,KAAX,CAAiB2E,UAAjB,KAAgC,gBAApC,EAAsD;AAClDtD,QAAAA,UAAU,GAAG;AACTK,UAAAA,QAAQ,EAAE,QADD;AAETC,UAAAA,SAAS,EAAE+C,iBAAiB,CAAC/C,SAFpB;AAGTL,UAAAA,SAAS,EAAE;AACP,aAACoD,iBAAiB,CAAC/C,SAAlB,CAA4BiD,WAA5B,EAAD,GAA6CF,iBAAiB,CAACrC,cADxD;AAEP,wBAAY,EAAC,GAAG,KAAKjC,KAAL,CAAWJ,KAAX,CAAiByB,QAArB;AACR;AACAoD,cAAAA,aAAa,EAAE/F,mBAAmB,CAAC,KAAKsB,KAAL,CAAWJ,KAAX,CAAiByB,QAAjB,CAA0BoD,aAA3B;AAF1B;AAFL,WAHF;AAUTvC,UAAAA,SAAS,EAAEoC,iBAAiB,CAACpC,SAVpB;AAWT;AACA;AACA1B,UAAAA,SAAS,EAAE,KAAKb,KAAL,CAAWa,SAbb;AAcTkE,UAAAA,SAAS,EAAE;AACPC,YAAAA,aAAa,EAAE,QADR;AACkBC,YAAAA,cAAc,EAAE,gBADlC;AACoDC,YAAAA,eAAe,EAAE,aADrE;AAEPC,YAAAA,QAAQ,EAAE,4BAFH;AAEiCC,YAAAA,gBAAgB,EAAE;AAAE3D,cAAAA,QAAQ,EAAE,KAAKpB,KAAL,CAAWJ,KAAX,CAAiByB;AAA7B;AAFnD;AAdF,SAAb;;AAqBR,YAAI9C,SAAS,CAAC,KAAKyB,KAAL,CAAWJ,KAAX,CAAiBoF,qBAAlB,EAAyC,KAAKhF,KAAL,CAAWJ,KAAX,CAAiByB,QAAjB,CAA0B4D,SAAnE,EAA8EX,iBAAiB,CAACY,YAAhG,CAAb,EAA4H;AACxH,gBAAMvE,UAAU,GAAG;AACfC,YAAAA,QAAQ,EAAExC,cADK;AAEfmC,YAAAA,IAAI,EAAE;AACFwB,cAAAA,SAAS,EAAE,IADT;AACeoD,cAAAA,UAAU,EAAE;AAAElE,gBAAAA,UAAF;AAAcO,gBAAAA,UAAU,EAAE,KAAKxB,KAAL,CAAWJ,KAAX,CAAiB4B;AAA3C,eAD3B;AAEFQ,cAAAA,SAAS,EAAE,IAFT;AAGFuC,cAAAA,UAAU,EAAED,iBAAiB,CAACC,UAH5B;AAGwCrC,cAAAA,SAAS,EAAEoC,iBAAiB,CAACpC;AAHrE;AAFS,WAAnB;AAQA,eAAKlC,KAAL,CAAWvC,WAAX,CAAuBkD,UAAvB;AACH,SAVD,MAWK;AACD,eAAKX,KAAL,CAAWxC,UAAX,CAAsByD,UAAtB,EAAkC,KAAKjB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAnD,EAA+D,WAA/D;AACH;AACJ;AACA,KA7oBkB;;AAAA,SA8oBnB4D,YA9oBmB,GA8oBL,CAAClD,SAAD,EAAYgD,YAAZ,KAA6B;AACvC,UAAIhE,SAAS,GAAG,EAAhB;AAEAA,MAAAA,SAAS,CAAC,QAAD,CAAT,GAAsB,KAAKlB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B6D,cAAlD;AACAnE,MAAAA,SAAS,CAAC,YAAD,CAAT,GAA0B,KAAKlB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B8D,kBAAtD;AACApE,MAAAA,SAAS,CAAC,eAAD,CAAT,GAA6B,KAAKlB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B+D,qBAAzD;AACArE,MAAAA,SAAS,CAAC,UAAD,CAAT,GAAwB,KAAKlB,KAAL,CAAWJ,KAAX,CAAiByB,QAAzC;AACAH,MAAAA,SAAS,CAAC,YAAD,CAAT,GAA0B,KAAKlB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BgE,UAA5B,CAAuC,CAAvC,CAA1B;AACA,YAAMd,SAAS,GAAG;AACdC,QAAAA,aAAa,EAAE,QADD;AACWC,QAAAA,cAAc,EAAE,gBAD3B;AAEdC,QAAAA,eAAe,EAAE,aAFH;AAGdY,QAAAA,eAAe,EAAE,KAAKzF,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B6D,cAA5B,CAA2CK,WAH9C;AAIdZ,QAAAA,QAAQ,EAAE,4BAJI;AAKdC,QAAAA,gBAAgB,EAAE;AAAE3D,UAAAA,QAAQ,EAAE,KAAKpB,KAAL,CAAWJ,KAAX,CAAiByB;AAA7B;AALJ,OAAlB;AAOA,YAAMJ,UAAU,GAAG;AACfM,QAAAA,SAAS,EAAE,QADI;AAEf;AACAD,QAAAA,QAAQ,EAAE,KAAKtB,KAAL,CAAWJ,KAAX,CAAiBqB,UAAjB,CAA4BK,QAHvB;AAIfJ,QAAAA,SAAS,EAAEA,SAJI;AAKfgB,QAAAA,SAAS,EAAE,QALI;AAMfwC,QAAAA;AANe,OAAnB;AAQA,YAAMlD,UAAU,GAAG,KAAKxB,KAAL,CAAWJ,KAAX,CAAiB4B,UAApC;;AACA,UAAIjD,SAAS,CAAC,KAAKyB,KAAL,CAAWJ,KAAX,CAAiBoF,qBAAlB,EAAyC,KAAKhF,KAAL,CAAWJ,KAAX,CAAiByB,QAAjB,CAA0B4D,SAAnE,EAA8EC,YAA9E,CAAb,EAA0G;AACtG,cAAMvE,UAAU,GAAG;AACfC,UAAAA,QAAQ,EAAExC,cADK;AAEfmC,UAAAA,IAAI,EAAE;AACFwB,YAAAA,SAAS,EAAE,IADT;AACeoD,YAAAA,UAAU,EAAE;AAAElE,cAAAA,UAAF;AAAcO,cAAAA;AAAd,aAD3B;AAEFQ,YAAAA,SAAS,EAAE,IAFT;AAEeuC,YAAAA,UAAU,EAAE,YAF3B;AAEyCrC,YAAAA;AAFzC;AAFS,SAAnB;AAOA,aAAKlC,KAAL,CAAWvC,WAAX,CAAuBkD,UAAvB;AACH,OATD,MAUK;AACD,aAAKX,KAAL,CAAWxC,UAAX,CAAsByD,UAAtB,EAAkCO,UAAlC,EAA8C,WAA9C;AACH;AACJ,KAnrBkB;;AAAA,SAqrBnBmE,UArrBmB,GAqrBN,MAAM;AACf,WAAKpD,SAAL,CAAeC,OAAf,CAAuBxB,KAAvB,GAA+B,EAA/B;;AACA,UAAG,KAAKhB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,IAA+B,KAAKxB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BoE,iBAA9D,EAAgF;AAEhF,cAAM3E,UAAU,GAAG;AACfC,UAAAA,SAAS,EAAE;AAAE,wBAAY,KAAKlB,KAAL,CAAWJ,KAAX,CAAiByB,QAA/B;AAAyC,8BAAkB,KAAKrB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BoE,iBAA5B,CAA8CzE;AAAzG,WADI;AAEfG,UAAAA,QAAQ,EAAE,KAAKtB,KAAL,CAAWJ,KAAX,CAAiBqB,UAAjB,CAA4BK,QAFvB;AAGfC,UAAAA,SAAS,EAAC,kBAHK;AAIfsE,UAAAA,WAAW,EAAC,KAAK7F,KAAL,CAAW2B,IAAX,CAAgBC,aAAhB,CAA8B;AAAEC,YAAAA,EAAE,EAAE;AAAN,WAA9B;AAJG,SAAnB;AAOA,aAAK7B,KAAL,CAAW/B,0BAAX,CAAsCgD,UAAtC,EAAiD,KAAKjB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BC,oBAA7E,EAAkG,KAAK9B,KAAL,CAAWoB,qBAA7G;AACH,OAVG,MAUG;AACH7D,QAAAA,KAAK,CAACwE,IAAN,CACI,KAAK1B,KAAL,CAAW2B,IAAX,CAAgBC,aAAhB,CAA8B;AAC5BC,UAAAA,EAAE,EAAE;AADwB,SAA9B,CADJ;AAKH;AACA,KAxsBkB;;AAAA,SAysBnBiE,aAzsBmB,GAysBFC,QAAD,IAAc;AAC1B,WAAKC,cAAL,CAAoBC,OAApB,CAA4B,eAA5B,EAA6C,KAAKjG,KAAL,CAAW2B,IAAX,CAAgBC,aAAhB,CAA8B;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAA7C,EAAkG,KAAK7B,KAAL,CAAW2B,IAAX,CAAgBC,aAAhB,CAA8B;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAAlG,EACI,KAAK7B,KAAL,CAAW2B,IAAX,CAAgBC,aAAhB,CAA8B;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAA9B,CADJ,EACqD,KAAK7B,KAAL,CAAW2B,IAAX,CAAgBC,aAAhB,CAA8B;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAA9B,CADrD,EAEI,MAAM,KAAKuD,YAAL,CAAkB,QAAlB,EAA2BW,QAA3B,CAFV;AAGH,KA7sBkB;;AAAA,SA+sBnBG,WA/sBmB,GA+sBL,CAACC,QAAD,EAAWC,OAAX,KAAuB;AACjC;AACA,UAAI1B,SAAS,GAAGxB,SAAhB,CAFiC,CAIjC;;AACI,UAAIhC,SAAS,GAAG,EAAhB;AACAA,MAAAA,SAAS,CAAC,mBAAD,CAAT,GAAiC,EAAjC;AACAA,MAAAA,SAAS,CAAC,UAAD,CAAT,GAAwB,KAAKlB,KAAL,CAAWJ,KAAX,CAAiByB,QAAzC;AACA,UAAIb,SAAS,GAAG0C,SAAhB;;AACA,UAAI,KAAKlD,KAAL,CAAWJ,KAAX,CAAiBsC,SAAjB,KAA+B,QAAnC,EAA6C;AACzC,cAAMD,cAAc,GAAC,KAAKtC,KAAL,CAAWsC,cAAhC,CADyC,CAEzC;;AACAyC,QAAAA,SAAS,GAAG;AACRC,UAAAA,aAAa,EAAE,QADP;AAERC,UAAAA,cAAc,EAAE,gBAFR;AAGRC,UAAAA,eAAe,EAAE;AAHT,SAAZ;AAKA3D,QAAAA,SAAS,CAAC,QAAD,CAAT,GAAsB,EAAtB;AAEA,aAAKmF,SAAL,CAAe5C,GAAf,CAAmB6C,IAAI,IAAI;AACvB,iBAAOpF,SAAS,CAAC,QAAD,CAAT,CAAoBoF,IAApB,IAA4BrE,cAAc,CAACqE,IAAD,CAAd,KAAyB,IAAzB,GAAgCrE,cAAc,CAACqE,IAAD,CAA9C,GAAuD,EAA1F;AACJ,SAFA;AAGDpF,QAAAA,SAAS,CAAC,QAAD,CAAT,CAAoB,aAApB,IAAoCe,cAAc,CAAC,aAAD,CAAd,GAAgCA,cAAc,CAAC,aAAD,CAA9C,GAAgE,CAAC,CAArG;AACAf,QAAAA,SAAS,CAAC,QAAD,CAAT,CAAoB,cAApB,IAAsCe,cAAc,CAAC,cAAD,CAAd,GAAiCA,cAAc,CAAC,cAAD,CAAd,CAA+BjB,KAAhE,GAAwE,CAAC,CAA/G;AACAE,QAAAA,SAAS,CAAC,QAAD,CAAT,CAAoB,gBAApB,IAAwCe,cAAc,CAAC,gBAAD,CAAd,GAAmCA,cAAc,CAAC,gBAAD,CAAd,CAAiCjB,KAApE,GAA4E,CAAC,CAArH;AACCR,QAAAA,SAAS,GAAG,KAAKb,KAAL,CAAWa,SAAvB;AACH,OAjBD,MAkBK;AACD;AACAU,QAAAA,SAAS,CAAC,QAAD,CAAT,GAAsB;AAAE,uBAAa,KAAKlB,KAAL,CAAWJ,KAAX,CAAiByB,QAAjB,CAA0BkF;AAAzC,SAAtB;AAGA,aAAKF,SAAL,CAAe5C,GAAf,CAAmB6C,IAAI,IAAI;AACvB,iBAAOpF,SAAS,CAAC,QAAD,CAAT,CAAoBoF,IAApB,IAA4B,KAAK3G,KAAL,CAAWsC,cAAX,CAA0BqE,IAA1B,CAAnC;AACH,SAFD;AAGApF,QAAAA,SAAS,CAAC,QAAD,CAAT,CAAoB,cAApB,IAAsC,KAAKvB,KAAL,CAAWsC,cAAX,CAA0B,cAA1B,IAA4C,KAAKtC,KAAL,CAAWsC,cAAX,CAA0B,cAA1B,EAA0CjB,KAAtF,GAA8F,CAAC,CAArI;AACAE,QAAAA,SAAS,CAAC,QAAD,CAAT,CAAoB,gBAApB,IAAwC,KAAKvB,KAAL,CAAWsC,cAAX,CAA0B,gBAA1B,IAA8C,KAAKtC,KAAL,CAAWsC,cAAX,CAA0B,gBAA1B,EAA4CjB,KAA1F,GAAkG,CAAC,CAA3I;AACAE,QAAAA,SAAS,CAAC,mBAAD,CAAT,CAA+B,iBAA/B,IAAoD,KAAKvB,KAAL,CAAWsC,cAAX,CAA0B,iBAA1B,IAA+C,KAAKtC,KAAL,CAAWsC,cAAX,CAA0B,iBAA1B,CAA/C,GAA8F,EAAlJ;AACAf,QAAAA,SAAS,CAAC,mBAAD,CAAT,CAA+B,WAA/B,IAA8C,KAAKvB,KAAL,CAAWsC,cAAX,CAA0B,WAA1B,IAAyC,KAAKtC,KAAL,CAAWsC,cAAX,CAA0B,WAA1B,CAAzC,GAAkF,EAAhI;AACAf,QAAAA,SAAS,CAAC,mBAAD,CAAT,CAA+B,WAA/B,IAA8C,KAAKvB,KAAL,CAAWsC,cAAX,CAA0B,WAA1B,IAAyC,KAAKtC,KAAL,CAAWsC,cAAX,CAA0B,WAA1B,CAAzC,GAAkF,EAAhI;AACAf,QAAAA,SAAS,CAAC,mBAAD,CAAT,CAA+B,WAA/B,IAA8C,KAAKvB,KAAL,CAAWsC,cAAX,CAA0B,WAA1B,IAAyC,KAAKtC,KAAL,CAAWsC,cAAX,CAA0B,WAA1B,CAAzC,GAAkF,EAAhI;AACAf,QAAAA,SAAS,CAAC,mBAAD,CAAT,CAA+B,cAA/B,IAAiD,KAAKvB,KAAL,CAAWsC,cAAX,CAA0B,cAA1B,IAA4C,KAAKtC,KAAL,CAAWsC,cAAX,CAA0B,cAA1B,EAA0CjB,KAAtF,GAA8F,CAAC,CAAhJ,CAdC,CAeD;;AACAE,QAAAA,SAAS,CAAC,mBAAD,CAAT,CAA+B,gBAA/B,IAAmD9B,iBAAiB,CAACoH,GAArE;AACAtF,QAAAA,SAAS,CAAC,mBAAD,CAAT,CAA+B,cAA/B,IAAiD,KAAKvB,KAAL,CAAWsC,cAAX,CAA0B,cAA1B,IAA4C,KAAKtC,KAAL,CAAWsC,cAAX,CAA0B,cAA1B,CAA5C,GAAwF,EAAzI;AAEH;;AAED,YAAMhB,UAAU,GAAG;AACfK,QAAAA,QAAQ,EAAE,KAAKtB,KAAL,CAAWJ,KAAX,CAAiBqB,UAAjB,CAA4BK,QADvB;AAEfC,QAAAA,SAAS,EAAE,QAFI;AAGfsE,QAAAA,WAAW,EAAE,KAAK7F,KAAL,CAAWJ,KAAX,CAAiBqB,UAAjB,CAA4B4E,WAH1B;AAIf3E,QAAAA,SAAS,EAAEA,SAJI;AAKfiB,QAAAA,UAAU,EAAE,KAAKxC,KAAL,CAAWsC,cAAX,CAA0B,aAA1B,CALG;AAMfC,QAAAA,SAAS,EAAE,KAAKlC,KAAL,CAAWJ,KAAX,CAAiBsC,SANb;AAMwBiE,QAAAA,QANxB;AAMkCC,QAAAA,OANlC;AAM2C5F,QAAAA,SAN3C;AAOf+B,QAAAA,SAAS,EAAE,KAAKA,SAPD;AAQfmC,QAAAA,SAAS,EAACA,SARK;AASf+B,QAAAA,iBAAiB,EAAC,KAAKzG,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BkF,YAA5B,KAA2CxD,SAA3C,GACd,KAAKvD,KAAL,CAAWsC,cAAX,CAA0Bd,cAA1B,CAAyCH,KAAzC,KAAmD,KAAKhB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BoE,iBAA5B,CAA8CzE,cAAjG,GAAgH,KAAhH,GAAsH,IADxG,GAC6G,KAVhH;AAWXc,QAAAA,cAAc,EAAC,EAAC,GAAG,KAAKtC,KAAL,CAAWsC;AAAf;AAXJ,OAAnB;;AAaA,UAAI1D,SAAS,CAAC,KAAKyB,KAAL,CAAWJ,KAAX,CAAiBoF,qBAAlB,EAAyC,KAAKhF,KAAL,CAAWJ,KAAX,CAAiByB,QAAjB,CAA0B4D,SAAnE,EAA8E,KAAKjF,KAAL,CAAWJ,KAAX,CAAiBsF,YAA/F,CAAb,EAA2H;AACvH,cAAMvE,UAAU,GAAG;AACfC,UAAAA,QAAQ,EAAExC,cADK;AAEfmC,UAAAA,IAAI,EAAE;AACFwB,YAAAA,SAAS,EAAE,IADT;AACeoD,YAAAA,UAAU,EAAE;AAAElE,cAAAA,UAAF;AAAcO,cAAAA,UAAU,EAAE,KAAKxB,KAAL,CAAWJ,KAAX,CAAiB4B;AAA3C,aAD3B;AAEFQ,YAAAA,SAAS,EAAE,IAFT;AAEeuC,YAAAA,UAAU,EAAE,KAAKvE,KAAL,CAAW2B,IAAX,CAAgBC,aAAhB,CAA8B;AAAEC,cAAAA,EAAE,EAAE;AAAN,aAA9B,CAF3B;AAGF;AACAK,YAAAA,SAAS,EAAE,KAAKlC,KAAL,CAAWJ,KAAX,CAAiBsC;AAJ1B;AAFS,SAAnB;AASA,aAAKlC,KAAL,CAAWvC,WAAX,CAAuBkD,UAAvB;AACH,OAXD,MAYK;AACD,aAAKX,KAAL,CAAWxC,UAAX,CAAsByD,UAAtB,EAAkC,KAAKjB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAnD,EAA+D,WAA/D;AACH,OA3E4B,CA4EjC;AACA;AACA;;AACH,KA9xBkB;;AAAA,SA+xBnBmF,aA/xBmB,GA+xBH,MAAM;AAClB,YAAM1F,UAAU,GAAG;AACfC,QAAAA,SAAS,EAAE;AACP,sBAAY,EACR,GAAG,KAAKlB,KAAL,CAAWJ,KAAX,CAAiByB,QADZ;AAERuF,YAAAA,OAAO,EAAE,KAAKjH,KAAL,CAAWsC,cAAX,CAA0B,eAA1B,CAFD;AAGR4E,YAAAA,WAAW,EAAC,KAAKlH,KAAL,CAAWsC,cAAX,CAA0B,aAA1B,KAA4C,KAAKtC,KAAL,CAAWsC,cAAX,CAA0B,aAA1B,EAAyCjB,KAHzF;AAIR8F,YAAAA,iBAAiB,EAAC,KAAKnH,KAAL,CAAWsC,cAAX,CAA0B,aAA1B,KAA4C,KAAKtC,KAAL,CAAWsC,cAAX,CAA0B,aAA1B,EAAyC8E;AAJ/F,WADL;AAQPC,UAAAA,QAAQ,EAAE,KAAKrH,KAAL,CAAWsC,cAAX,CAA0B,eAA1B;AARH,SADI;AAWfkD,QAAAA,UAAU,EAAE,KAAKnF,KAAL,CAAWJ,KAAX,CAAiBuF;AAXd,OAAnB;AAaA,WAAKnF,KAAL,CAAWtC,uBAAX,CAAmCuD,UAAnC,EAA+C,WAA/C;AACH,KA9yBkB;;AAAA,SA+yBnBgG,WA/yBmB,GA+yBJC,QAAD,IAAc;AACxB,YAAM3C,UAAU,GAAG2C,QAAQ,CAAC3C,UAA5B;AACA,YAAM5D,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAExC,cADK;AAEfmC,QAAAA,IAAI,EAAE;AAAEgE,UAAAA;AAAF;AAFS,OAAnB;AAIA,WAAKvE,KAAL,CAAWvC,WAAX,CAAuBkD,UAAvB;AACH,KAtzBkB;;AAAA,SAuzBnBwG,SAvzBmB,GAuzBH,MAAM;AAClB,YAAMC,MAAM,GAAG,IAAIC,GAAJ,EAAf;AAEAD,MAAAA,MAAM,CAACE,GAAP,CAAW,wBAAX,eAEA,oBAAC,oBAAD;AACI,QAAA,SAAS,EAAE,KAAKtH,KAAL,CAAWJ,KAAX,CAAiBsC,SADhC;AAEI,QAAA,UAAU,EAAE,KAAKlC,KAAL,CAAWJ,KAAX,CAAiBqB,UAFjC;AAGI,QAAA,UAAU,EAAE,KAAKjB,KAAL,CAAWJ,KAAX,CAAiB2E,UAHjC;AAII,QAAA,QAAQ,EAAE,KAAKvE,KAAL,CAAWJ,KAAX,CAAiByB,QAJ/B;AAKI,QAAA,UAAU,EAAE,KAAKrB,KAAL,CAAWJ,KAAX,CAAiB4B,UALjC;AAMI,QAAA,UAAU,EAAE,KAAKxB,KAAL,CAAWxC,UAN3B;AAOI,QAAA,SAAS,EAAE,KAAKwC,KAAL,CAAWJ,KAAX,CAAiB2H,SAPhC;AAQI,QAAA,YAAY,EAAE,KAAKvH,KAAL,CAAWJ,KAAX,CAAiB4H,YARnC;AASI,QAAA,cAAc,EAAE,KAAKxH,KAAL,CAAWJ,KAAX,CAAiB6H,cATrC;AAUI,QAAA,WAAW,EAAE,KAAKzH,KAAL,CAAWvC,WAV5B;AAWI,QAAA,cAAc,EAAE,KAAKuC,KAAL,CAAWJ,KAAX,CAAiBqC,cAXrC;AAYI,QAAA,2BAA2B,EAAE,KAAKjC,KAAL,CAAWlC,2BAZ5C;AAaI,QAAA,uBAAuB,EAAE,KAAKkC,KAAL,CAAWnC,uBAbxC;AAcI,QAAA,0BAA0B,EAAE,KAAKmC,KAAL,CAAWjC,0BAd3C;AAeI,QAAA,YAAY,EAAE,KAAKiC,KAAL,CAAWJ,KAAX,CAAiBsF,YAfnC;AAgBI,QAAA,qBAAqB,EAAE,KAAKvF,KAAL,CAAWqF,qBAhBtC;AAiBI,QAAA,WAAW,EAAE,KAAKhF,KAAL,CAAWJ,KAAX,CAAiBoF,qBAjBlC;AAkBI,QAAA,UAAU,EAAE,KAAKhF,KAAL,CAAWJ,KAAX,CAAiBuF,UAlBjC;AAmBI,QAAA,uBAAuB,EAAE,KAAKnF,KAAL,CAAWtC,uBAnBxC;AAoBI,QAAA,SAAS,EAAE,KAAKsC,KAAL,CAAWJ,KAAX,CAAiBmC,SApBhC;AAqBI,QAAA,UAAU,EAAE,KAAKpC,KAAL,CAAW+H,UArB3B;AAsBI,QAAA,OAAO,EAAE,KAAK1H,KAAL,CAAWJ,KAAX,CAAiB+H,OAtB9B;AAuBI,QAAA,WAAW,EAAE,KAAK3H,KAAL,CAAWJ,KAAX,CAAiBgI,WAvBlC;AAwBI,QAAA,QAAQ,EAAE,KAAK5H,KAAL,CAAWJ,KAAX,CAAiBiI,QAxB/B;AAyBI,QAAA,UAAU,EAAE,KAAK7H,KAAL,CAAWJ,KAAX,CAAiBuC,UAzBjC;AA0BI,QAAA,SAAS,EAAE,KAAKnC,KAAL,CAAWJ,KAAX,CAAiBY,SA1BhC;AA2BI,QAAA,QAAQ,EAAI,KAAKR,KAAL,CAAWJ,KAAX,CAAiBkI,QA3BjC;AA4BI,QAAA,aAAa,EAAE,KAAK9H,KAAL,CAAW9B,aA5B9B;AA6BI,QAAA,cAAc,EAAE,KAAK8B,KAAL,CAAW7B,cA7B/B;AA8BI,QAAA,UAAU,EAAI,KAAK6B,KAAL,CAAWJ,KAAX,CAAiBmI,UA9BnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA;AAqCAX,MAAAA,MAAM,CAACE,GAAP,CAAW,UAAX,eACI,oBAAC,aAAD;AACI,QAAA,UAAU,EAAE,KAAK3H,KAAL,CAAW+H,UAD3B;AAEI,QAAA,qBAAqB,EAAE,KAAK/H,KAAL,CAAWqF,qBAFtC;AAGI,QAAA,QAAQ,EAAE,KAAKhF,KAAL,CAAWJ,KAAX,CAAiByB,QAH/B;AAII,QAAA,UAAU,EAAE,KAAKrB,KAAL,CAAWJ,KAAX,CAAiBqB,UAJjC,CAKE;AALF;AAMI,QAAA,UAAU,EAAE,KAAKjB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BgE,UAA5B,IAA0C,EAN1D;AAOI,QAAA,gBAAgB,EAAE,KAAKxF,KAAL,CAAWgI,gBAPjC;AAQI,QAAA,aAAa,EAAE,KAAKhI,KAAL,CAAW9B,aAR9B;AASI,QAAA,cAAc,EAAE,KAAK+J,cATzB;AAUI,QAAA,aAAa,EAAE,KAAKC,aAVxB;AAWI,QAAA,UAAU,EAAC,gBAXf;AAYI,QAAA,QAAQ,EAAE,KAAKlI,KAAL,CAAWJ,KAAX,CAAiBkI,QAZ/B;AAaI,QAAA,YAAY,EAAE,KAAK9H,KAAL,CAAWJ,KAAX,CAAiBsF,YAbnC;AAcI,QAAA,UAAU,EAAE,KAAKlF,KAAL,CAAWJ,KAAX,CAAiB4B,UAdjC;AAeI,QAAA,UAAU,EAAE,KAAKxB,KAAL,CAAWxC,UAf3B;AAgBI,QAAA,YAAY,EAAE,KAAK6G,YAhBvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAqBA,aAAO+C,MAAP;AACH,KAr3BkB;;AAAA,SAu3BnBa,cAv3BmB,GAu3BDE,QAAD,IAAc;AAC3B,YAAMlH,UAAU,GAAG;AACfC,QAAAA,SAAS,EAAE;AACPkH,UAAAA,UAAU,EAAED,QADL;AAEP/G,UAAAA,QAAQ,EAAE,KAAKpB,KAAL,CAAWJ,KAAX,CAAiByB;AAFpB,SADI;AAKfC,QAAAA,QAAQ,EAAE,QALK;AAMfY,QAAAA,SAAS,EAAE,MANI;AAOfX,QAAAA,SAAS,EAAE,oBAPI;AAQfgD,QAAAA,UAAU,EAAE;AARG,OAAnB;AAUA,WAAKvE,KAAL,CAAW7B,cAAX,CAA0B8C,UAA1B;AACH,KAn4BkB;;AAEf,SAAKmF,OAAL,GAAe5J,KAAK,CAAC6L,SAAN,EAAf;AACA,SAAKC,mBAAL,GAA2B,EAA3B;AACA,SAAKjC,SAAL,GAAiB,EAAjB;AACA,UAAM7F,UAAS,GAAG;AACd+H,MAAAA,IAAI,EAAE,CADQ;AAEdC,MAAAA,IAAI,EAAE,KAAKxI,KAAL,CAAWJ,KAAX,CAAiBkI,QAAjB,GAA4BW,QAAQ,CAAC,KAAKzI,KAAL,CAAWJ,KAAX,CAAiBkI,QAAjB,CAA0B,EAA1B,CAAD,CAApC,GAAsE;AAF9D,KAAlB;AAIA,SAAKnI,KAAL,GAAa;AACT+I,MAAAA,SAAS,EAAE,KADF;AACSnI,MAAAA,IAAI,EAAE,EADf;AACmBiH,MAAAA,YAAY,EAAE,EADjC;AACqCmB,MAAAA,KAAK,EAAE,EAD5C;AACgDzG,MAAAA,SAAS,EAAE,QAD3D;AAET5B,MAAAA,UAAU,EAAE,EAFH;AAGTE,MAAAA,SAAS,EAAEA,UAHF;AAIToI,MAAAA,UAAU,EAAE,EAJH;AAKT5D,MAAAA,qBAAqB,EAAE,EALd;AAMT0C,MAAAA,UAAU,EAAE,IAAIL,GAAJ,EANH;AAOTpF,MAAAA,cAAc,EAAE,EAPP;AAQT4G,MAAAA,WAAW,EAAE,EARJ;AAST1I,MAAAA,WAAW,EAAE;AATJ,KAAb;AAWA,SAAKoC,SAAL,GAAiB/F,KAAK,CAAC6L,SAAN,EAAjB;AAEA,SAAKrC,cAAL,GAAsB,IAAI7G,cAAJ,EAAtB;AAEA,SAAK2J,eAAL,GAAuB,CACnB;AAAE,iBAAW,gBAAb;AAA+B,mBAAa,aAA5C;AAA2D,mBAAa,IAAxE;AAA+E,wBAAiB,WAAhG;AAA6G,qBAAe;AAA5H,KADmB,EAEnB;AAAE,iBAAW,cAAb;AAA6B,mBAAa,WAA1C;AAAuD,mBAAa,IAApE;AAA2E,wBAAiB,WAA5F;AAAyG,qBAAe;AAAxH,KAFmB,EAGnB;AAAE,iBAAW,oBAAb;AAAmC,mBAAa,IAAhD;AAAsD,mBAAa,iBAAnE;AAAsF,eAAS,OAA/F;AAAyG,wBAAiB,WAA1H;AAAuI,qBAAe;AAAtJ,KAHmB,EAInB;AAAE,iBAAW,uBAAb;AAAsC,mBAAa,IAAnD;AAAyD,mBAAa,cAAtE;AAAsF,eAAS,OAA/F;AAAyG,wBAAiB,WAA1H;AAAuI,qBAAe;AAAtJ,KAJmB,EAKnB;AAAE,iBAAW,cAAb;AAA6B,mBAAa,WAA1C;AAAuD,mBAAa,IAApE;AAA0E,wBAAiB,WAA3F;AAAwG,qBAAe;AAAvH,KALmB,EAMnB;AAAE,iBAAW,aAAb;AAA4B,mBAAa,cAAzC;AAAyD,mBAAa,IAAtE;AAA4E,wBAAiB,YAA7F;AAA2G,qBAAe;AAA1H,KANmB,CAAvB;AASA,SAAKC,qBAAL,GAA6B,CACzB;AAAE,iBAAW,gBAAb;AAA+B,mBAAa,aAA5C;AAA2D,mBAAa,IAAxE;AAA+E,wBAAiB,WAAhG;AAA6G,qBAAe;AAA5H,KADyB,EAEzB;AAAE,iBAAW,cAAb;AAA6B,mBAAa,WAA1C;AAAuD,mBAAa,IAApE;AAA2E,wBAAiB,WAA5F;AAAyG,qBAAe;AAAxH,KAFyB,CAA7B;AAIH;;AA+E8B,SAAxBC,wBAAwB,CAAChJ,KAAD,EAAQL,KAAR,EAAe;AAE1C,QAAIK,KAAK,CAACJ,KAAN,CAAY4H,YAAZ,KAA6B,EAA7B,IAAmCxH,KAAK,CAACJ,KAAN,CAAY4H,YAAZ,KAA6B7H,KAAK,CAAC6H,YAA1E,EAAwF;AACpFtK,MAAAA,KAAK,CAACwE,IAAN,CAAW1B,KAAK,CAACJ,KAAN,CAAY4H,YAAvB;AACAxH,MAAAA,KAAK,CAACJ,KAAN,CAAY4H,YAAZ,GAA2B,EAA3B;AACH;;AAED,QAAIxH,KAAK,CAACJ,KAAN,CAAY+I,KAAZ,KAAsBhJ,KAAK,CAACgJ,KAAhC,EAAuC;AACnCzL,MAAAA,KAAK,CAACyL,KAAN,CAAY3I,KAAK,CAACJ,KAAN,CAAY+I,KAAxB;AACA3I,MAAAA,KAAK,CAACJ,KAAN,CAAY+I,KAAZ,GAAoB,EAApB;AACH;;AACD,QAAI3I,KAAK,CAACJ,KAAN,CAAYqC,cAAZ,KAA+BiB,SAAnC,EAA8C;AAC1C,aAAO;AAAEjB,QAAAA,cAAc,EAAE;AAAlB,OAAP;AACH;;AACD,WAAO,IAAP;AACH;;AAWDgH,EAAAA,MAAM,GAAG;AACL,QAAIC,aAAa,GAAG,EAApB;AACA,QAAIC,aAAa,GAAG,aAApB;;AACA,QAAI,KAAKnJ,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B6D,cAA5B,IAA8C,KAAKrF,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B6D,cAA5B,CAA2C+D,kBAA3C,KAAkEhK,iBAAiB,CAACiK,QAAtI,EAAgJ;AAC5IH,MAAAA,aAAa,GAAG,mBAAhB;AACAC,MAAAA,aAAa,GAAG,EAAhB;AACH,KAHD,MAIK,IAAI,KAAKnJ,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B6D,cAA5B,IAA8C,KAAKrF,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B6D,cAA5B,CAA2C+D,kBAA3C,KAAkEhK,iBAAiB,CAACkK,MAAtI,EAA8I;AAC/IJ,MAAAA,aAAa,GAAG,iBAAhB;AACH,KAFI,MAGA;AACDA,MAAAA,aAAa,GAAG,eAAhB;AACH;;AACD,SAAKZ,mBAAL,GAA2B,CACvB;AAAE,iBAAW,gBAAb;AAA+B,mBAAa,aAA5C;AAA2D,eAAS;AAApE,KADuB,EAEvB;AAAE,iBAAW,cAAb;AAA6B,mBAAa,WAA1C;AAAuD,eAAS;AAAhE,KAFuB,EAGvB;AAAE,iBAAW,iBAAb;AAAgC,mBAAa,cAA7C;AAA6D,eAAS;AAAtE,KAHuB,EAIvB;AACA;AAAE,iBAAW,YAAb;AAA2B,mBAAa,qBAAxC;AAA+D,eAAS;AAAxE,KALuB,CAA3B;AAQA,SAAKjC,SAAL,GAAiB,CAAC,aAAD,EAAgB,WAAhB,EAA6B,WAA7B,EACjB;AACA,qBAFiB,EAEE,cAFF,EAEkB,oBAFlB,EAEwC,cAFxC,CAAjB;AAIA,UAAMkD,KAAK,GAAG,KAAK5J,KAAL,CAAW+H,UAAX,CAAsB8B,GAAtB,CAA0B,WAA1B,KAA0C,KAAK7J,KAAL,CAAW+H,UAAX,CAAsB+B,GAAtB,CAA0B,WAA1B,EAAuCC,YAA/F;AACA,UAAMC,MAAM,GAAG,KAAKhK,KAAL,CAAW+H,UAAX,CAAsB8B,GAAtB,CAA0B,YAA1B,KAA2C,KAAK7J,KAAL,CAAW+H,UAAX,CAAsB+B,GAAtB,CAA0B,YAA1B,EAAwCC,YAAlG;AACA,UAAM3D,QAAQ,GAAG,KAAKpG,KAAL,CAAW+H,UAAX,CAAsB8B,GAAtB,CAA0B,cAA1B,KAA6C,KAAK7J,KAAL,CAAW+H,UAAX,CAAsB+B,GAAtB,CAA0B,cAA1B,EAA0CC,YAAxG;AAEA,UAAME,cAAc,GAAG;AACnBrF,MAAAA,UAAU,EAAE,YADO;AACOrC,MAAAA,SAAS,EAAE,QADlB;AAC4B2C,MAAAA,eAAe,EAAE,aAD7C;AAEnBxD,MAAAA,QAAQ,EAAE,KAAKrB,KAAL,CAAWJ,KAAX,CAAiByB,QAFR;AAEkB6D,MAAAA,YAAY,EAAEqE,KAFhC;AAEsCxI,MAAAA,qBAAqB,EAAC,KAAKpB,KAAL,CAAWoB;AAFvE,KAAvB;AAKA,UAAM8I,eAAe,GAAG;AACpBtF,MAAAA,UAAU,EAAE,YADQ;AACMrC,MAAAA,SAAS,EAAE,QADjB;AAC2B2C,MAAAA,eAAe,EAAE,aAD5C;AAEpBxD,MAAAA,QAAQ,EAAE,KAAKrB,KAAL,CAAWJ,KAAX,CAAiByB,QAFP;AAEiB6D,MAAAA,YAAY,EAAEyE,MAF/B;AAEsCnI,MAAAA,UAAU,EAAC,KAAKxB,KAAL,CAAWJ,KAAX,CAAiB4B,UAFlE;AAE6ET,MAAAA,qBAAqB,EAAC,KAAKpB,KAAL,CAAWoB;AAF9G,KAAxB;AAKA,UAAMuD,iBAAiB,GAAG;AAAEC,MAAAA,UAAU,EAAE,YAAd;AAA4BhD,MAAAA,SAAS,EAAE,QAAvC;AAAiDW,MAAAA,SAAS,EAAE,QAA5D;AAAsEgD,MAAAA,YAAY,EAAEa;AAApF,KAA1B;AAEA,UAAM+D,WAAW,GAAG;AAChBnF,MAAAA,aAAa,EAAE,QADC;AACSC,MAAAA,cAAc,EAAE,gBADzB;AAC2CC,MAAAA,eAAe,EAAE,aAD5D;AAEhBC,MAAAA,QAAQ,EAAE,gCAFM;AAE4BC,MAAAA,gBAAgB,EAAE;AAAE3D,QAAAA,QAAQ,EAAE,KAAKpB,KAAL,CAAWJ,KAAX,CAAiByB;AAA7B,OAF9C;AAGhBG,MAAAA,UAAU,EAAE,KAAKxB,KAAL,CAAWJ,KAAX,CAAiB4B,UAHb;AAIhBuI,MAAAA,eAAe,EAAE,CAAC,aAAD,EAAgB,WAAhB,EAA6B,UAA7B,EAAwC,WAAxC,EAAoD,WAApD,EAAgE,UAAhE,EAA2E,WAA3E,EAAuF,QAAvF,EAAgG,QAAhG,EAA0G,qBAA1G;AAJD,KAApB;AAOA,UAAMC,cAAc,GAAG,KAAKrK,KAAL,CAAWsK,UAAX,IAAyB,EAAhD;AACA,wBACI,uDACA;AAAK,MAAA,SAAS,EAAC,4DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCD,cAAc,CAACE,MAAf,GAAwB,CAAxB,gBACW,oBAAC,KAAD;AAAO,MAAA,GAAG,EAAE,EAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,mBAAD;AAAqB,MAAA,cAAc,EAAEF,cAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADX,GAGsB,EAJvB,eAMI,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAE,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAG,GAAE,CAAC,KAAKrK,KAAL,CAAWQ,WAAZ,GAA0B,GAA1B,GAAgC,GAAI,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,OAAO,EAAG,MAAI,KAAKD,QAAL,CAAc;AAACC,QAAAA,WAAW,EAAC,CAAC,KAAKR,KAAL,CAAWQ;AAAzB,OAAd,CAApB;AAA0E,MAAA,SAAS,EAAC,kBAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,CAAC,KAAKR,KAAL,CAAWQ,WAAZ,gBACG;AAAG,MAAA,KAAK,EAAC,iBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,gBAEG;AAAG,MAAA,KAAK,EAAC,oBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHR,CADJ,eAOI,oBAAC,UAAD;AACI,MAAA,aAAa,EAAE,KAAKH,KAAL,CAAW2B,IAAX,CAAgBC,aADnC;AAEI,MAAA,UAAU,EAAE,YAFhB;AAGI,MAAA,UAAU,EAAE,KAAK5B,KAAL,CAAWJ,KAAX,CAAiB4B,UAHjC;AAII,MAAA,QAAQ,EAAE,KAAKxB,KAAL,CAAWJ,KAAX,CAAiByB,QAJ/B;AAKI,MAAA,UAAU,EAAE,KAAKrB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BkF,YAA5B,IAA4C,KAAK1G,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B3B,MALxF;AAMI,MAAA,eAAe,EAAGA,MAAD,IAAY,KAAKG,KAAL,CAAWpC,eAAX,CAA2BiC,MAA3B,EAAmC,KAAKG,KAAL,CAAWJ,KAAX,CAAiByB,QAApD,EAA8D,KAAKrB,KAAL,CAAWJ,KAAX,CAAiB4B,UAA/E,CANjC;AAOI,MAAA,cAAc,EAAE,KAAKxB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B6D,cAPhD;AAQI,MAAA,eAAe,EAAC,aARpB;AASI,MAAA,SAAS,EAAC,aATd;AAUI,MAAA,UAAU,EAAC,WAVf;AAWI,MAAA,WAAW,EAAC,qBAXhB;AAYI,MAAA,UAAU,EAAC,KAZf;AAaI,MAAA,gBAAgB,EAAE,KAAKrF,KAAL,CAAWhC,gBAbjC;AAcI,MAAA,WAAW,EAAE8L,WAdjB;AAeI,MAAA,qBAAqB,EAAE,KAAKnK,KAAL,CAAWqF,qBAftC;AAgBI,MAAA,KAAK,EAAEuE,KAhBX;AAiBI,MAAA,SAAS,EAAE,KAAKhH,SAjBpB;AAkBI,MAAA,UAAU,EAAE,KAAKoD,UAlBrB;AAmBI,MAAA,UAAU,EAAE,KAnBhB;AAoBI,MAAA,SAAS,EAAE,MAAM,KAAK3F,KAAL,CAAWrC,qBAAX,CAAiCiM,cAAjC,CApBrB;AAqBI,MAAA,UAAU,EAAE,KAAKnJ,UArBrB;AAsBI,MAAA,WAAW,EAAE,KAAKI,WAtBtB;AAuBI,MAAA,cAAc,EAAE,KAAKC,cAvBzB;AAwBI,MAAA,cAAc,EAAE,IAxBpB;AAyBI,MAAA,UAAU,EAAE,KAAKd,KAAL,CAAWJ,KAAX,CAAiBc,UAzBjC;AA0BI,MAAA,eAAe,EAAE,CACb;AACI,iDACI,oBAAC,oBAAD;AACI,UAAA,oBAAoB,EAAE,KAAKf,KAAL,CAAW8B,oBAAX,IAAmC,EAD7D;AAEI,UAAA,qBAAqB,EAAE,KAAK9B,KAAL,CAAWoB,qBAAX,IAAoC,EAF/D;AAGI,UAAA,aAAa,EAAE,KAAKqB,mBAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFR,OADa,CA1BrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,CADJ,eA8CI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAG,GAAE,CAAC,KAAKzC,KAAL,CAAWQ,WAAZ,GAA0B,GAA1B,GAAgC,IAAK,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAK,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACD,oBAAC,YAAD;AAAc,MAAA,SAAS,EAAC,oBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKH,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B6D,cAA5B,IAA8C,KAAKrF,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B3B,MAA5B,CAAmCqK,MAAnC,GAA4C,CAA1F,IAA+F,KAAKlK,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B6D,cAA3H,gBACG,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,oBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4C,KAAKrF,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B6D,cAA5B,CAA2C8E,WAAvF,CADJ,eAEI,oBAAC,IAAD,CAAM,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,+BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAG,oBAAmBjB,aAAc,cAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,SAAS,EAAEC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEK,KAAKnJ,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4B6D,cAA5B,CAA2C+E,mBAFhD,CADJ,CADJ,eAOI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAII,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,SAAS,EAAC,kCAApB;AAAuD,MAAA,IAAI,EAAC,GAA5D;AACI,MAAA,MAAM,EAAE,KAAKzK,KAAL,CAAWqF,qBAAX,CAAiCqF,OAAjC,CAAyCV,MAAzC,MAAqD,CAAC,CADlE;AAEI,kBAAU,KAAK3J,KAAL,CAAW2B,IAAX,CAAgBC,aAAhB,CAA8B;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAFd,CAGG;AAHH;AAII,MAAA,OAAO,EAAGyI,CAAD,IAAO,KAAKtK,KAAL,CAAWrC,qBAAX,CAAiCkM,eAAjC,CAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEjL,WAAvB;AACI,MAAA,KAAK,EAAE,KAAKoB,KAAL,CAAW2B,IAAX,CAAgBC,aAAhB,CAA8B;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAA9B,CADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CAJJ,eAYI,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,SAAS,EAAC,oDAApB;AAAyE,MAAA,IAAI,EAAC,EAA9E;AACI,MAAA,MAAM,EAAE,KAAKlC,KAAL,CAAWqF,qBAAX,CAAiCqF,OAAjC,CAAyCtE,QAAzC,MAAuD,CAAC,CADpE;AAEI,kBAAU,KAAK/F,KAAL,CAAW2B,IAAX,CAAgBC,aAAhB,CAA8B;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAFd,CAGE;AAHF;AAII,MAAA,OAAO,EAAE,MAAM,KAAKiE,aAAL,CAAmBC,QAAnB,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAElH,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CAZJ,CAPJ,CADJ,CAFJ,CADJ,eAmCI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAmEnC,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACe,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAE,KAAKsI,SAAL,EAAvB;AAAyC,MAAA,WAAW,EAAE,KAAKF,WAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADf,CAnEmC,CAnCJ,CADH,GAmJa,EApJlB,CADC,CAAL,CADJ,CA9CJ,CANJ,CADA,EAiNC,KAAKjH,KAAL,CAAWJ,KAAX,CAAiBoC,SAAjB,iBACI,oBAAC,aAAD;AAAe,MAAA,IAAI,EAAE,KAAKhC,KAAL,CAAWJ,KAAX,CAAiBoC,SAAtC;AACA,MAAA,UAAU,EAAE,KAAKF,UADjB;AAEA,MAAA,SAAS,EAAE,KAAK9B,KAAL,CAAWJ,KAAX,CAAiBsC,SAF5B;AAGA,MAAA,UAAU,EAAE,KAAKlC,KAAL,CAAWJ,KAAX,CAAiBqB,UAH7B;AAIA,MAAA,UAAU,EAAE,KAAKjB,KAAL,CAAWJ,KAAX,CAAiB2E,UAJ7B;AAKA,MAAA,WAAW,EAAE,KAAK2B,WALlB;AAMA,MAAA,KAAK,EAAE,KAAKlG,KAAL,CAAWJ,KAAX,CAAiBmC,SANxB;AAOA,MAAA,aAAa,EAAE,KAAK4E,aAPpB;AAQA,MAAA,YAAY,EAAE,KAAK3G,KAAL,CAAWJ,KAAX,CAAiB4H,YAR/B;AASA,MAAA,WAAW,EAAE,KAAKxH,KAAL,CAAWvC,WATxB;AAUA,MAAA,cAAc,EAAE,KAAKkC,KAAL,CAAWsC,cAAX,IAA6B,EAV7C;AAWA,MAAA,eAAe,EAAE,KAAKjC,KAAL,CAAWJ,KAAX,CAAiBsC,SAAjB,IAA8B,QAA9B,GAAyC,KAAK4G,eAAL,IAAwB,EAAjE,GAAsE,KAAKC,qBAAL,IAA8B,EAXrH;AAYA,MAAA,YAAY,EAAE,KAAK/I,KAAL,CAAWJ,KAAX,CAAiBmC,SAAjB,gBACV,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAE,KAAK/B,KAAL,CAAWJ,KAAX,CAAiBsC,SAAnC;AACI,QAAA,aAAa,EAAE,KAAKlC,KAAL,CAAW2B,IAAX,CAAgBC,aADnC;AAEI,QAAA,eAAe,EAAE,KAAKoC,eAF1B;AAGI,QAAA,UAAU,EAAE,KAAKhE,KAAL,CAAWJ,KAAX,CAAiBqB,UAHjC;AAII,QAAA,cAAc,EAAE,KAAKtB,KAAL,CAAWsC,cAAX,IAA6B,EAJjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADU,gBAOR,oBAAC,SAAD;AACE,QAAA,cAAc,EAAE,KAAKtC,KAAL,CAAWsC,cAAX,IAA6B,EAD/C;AAEE,QAAA,eAAe,EAAE,KAAK+B,eAFxB;AAGE,QAAA,aAAa,EAAE,KAAKD,aAHtB;AAIE,QAAA,aAAa,EAAE,KAAK/D,KAAL,CAAW2B,IAAX,CAAgBC,aAJjC;AAKE,QAAA,WAAW,EAAE,KAAKjC,KAAL,CAAWkJ,WAAX,IAA0B,EALzC;AAME,QAAA,kBAAkB,EAAE,KAAK7I,KAAL,CAAWJ,KAAX,CAAiB2K,kBAAjB,IAAuC,EAN7D;AAOE,QAAA,SAAS,EAAE,KAAKvK,KAAL,CAAWJ,KAAX,CAAiBsC,SAP9B;AAQE,QAAA,UAAU,EAAE,KAAKlC,KAAL,CAAWJ,KAAX,CAAiBqB,UAR/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnBN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlNL,CADJ;AAsPH;;AAsDDuJ,EAAAA,qBAAqB,GAAG;AACpB,UAAMR,cAAc,GAAG,EAAvB;;AACA,QAAI,KAAKhK,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,IAA+B,KAAKxB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BC,oBAA/D,EAAqF;AAEjFuI,MAAAA,cAAc,CAACS,IAAf,CACI;AACI,iBAAS,oBADb;AAEI,iBAAS,KAAKzK,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BoE,iBAA5B,GAAgD,KAAK5F,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BoE,iBAA5B,CAA8C8E,cAA9F,GAA+G;AAF5H,OADJ;AAMH;;AACD,WAAOV,cAAP;AACH;;AAIDW,EAAAA,kBAAkB,CAACC,aAAD,EAAgB;AAC9B,QAAI,KAAK5K,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,KAAgCoJ,aAAa,CAAChL,KAAd,CAAoB4B,UAAxD,EAAoE;AAChE,UAAI,KAAKxB,KAAL,CAAWJ,KAAX,CAAiByB,QAAjB,CAA0B4D,SAA1B,KAAwC2F,aAAa,CAAChL,KAAd,CAAoByB,QAApB,CAA6B4D,SAAzE,EAAoF;AAChF,cAAMD,qBAAqB,GAAG,EAA9B;;AACA,YAAI,KAAKhF,KAAL,CAAWJ,KAAX,CAAiBoF,qBAArB,EAA4C;AACxC,eAAKhF,KAAL,CAAWJ,KAAX,CAAiBoF,qBAAjB,CAAuC,KAAKhF,KAAL,CAAWJ,KAAX,CAAiByB,QAAjB,CAA0B4D,SAAjE,KAA+E4F,MAAM,CAACC,MAAP,CAAc,KAAK9K,KAAL,CAAWJ,KAAX,CAAiBoF,qBAAjB,CAAuC,KAAKhF,KAAL,CAAWJ,KAAX,CAAiByB,QAAjB,CAA0B4D,SAAjE,CAAd,EAA2FxB,GAA3F,CAA+F6C,IAAI,IAC9KtB,qBAAqB,CAACyF,IAAtB,CAA2BnE,IAAI,CAACoD,YAAhC,CAD2E,CAA/E;AAEH;;AACD,cAAMhC,UAAU,GAAGpJ,aAAa,CAAC,KAAK0B,KAAL,CAAWJ,KAAX,CAAiBoF,qBAAlB,EAAyC,KAAKhF,KAAL,CAAWJ,KAAX,CAAiByB,QAAjB,CAA0B4D,SAAnE,CAAhC;AACA,aAAK/E,QAAL,CAAc;AACV8E,UAAAA,qBADU;AACa0C,UAAAA,UADb;AACyBnH,UAAAA,IAAI,EAAE,KAAKP,KAAL,CAAWJ,KAAX,CAAiB4B;AADhD,SAAd;AAGH,OAVD,MAWK;AAED,YAAI;AAAEhB,UAAAA;AAAF,YAAgB,KAAKb,KAAzB;;AACA,YAAI,KAAKK,KAAL,CAAWJ,KAAX,CAAiBY,SAAjB,KAA+B0C,SAAnC,EAA8C;AAC1C1C,UAAAA,SAAS,GAAG;AAAE+H,YAAAA,IAAI,EAAE,CAAR;AAAWC,YAAAA,IAAI,EAAE,KAAKxI,KAAL,CAAWJ,KAAX,CAAiBkI,QAAjB,GAA4BW,QAAQ,CAAC,KAAKzI,KAAL,CAAWJ,KAAX,CAAiBkI,QAAjB,CAA0B,EAA1B,CAAD,CAApC,GAAsE;AAAvF,WAAZ;AACH;;AAED,aAAK5H,QAAL,CAAc;AACVK,UAAAA,IAAI,EAAE,KAAKP,KAAL,CAAWJ,KAAX,CAAiB4B,UADb;AAEVhB,UAAAA;AAFU,SAAd;AAIH;;AAED,UAAIiB,oBAAoB,GAAG,KAAK9B,KAAL,CAAW8B,oBAAX,IAAmC,EAA9D;AACA,UAAIV,qBAAqB,GAAG,KAAKpB,KAAL,CAAWoB,qBAAX,IAAoC,EAAhE;;AACA,UACE,KAAKf,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BoE,iBAA5B,IACA,KAAK5F,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BoE,iBAA5B,KACAgF,aAAa,CAAChL,KAAd,CAAoB4B,UAApB,CAA+BoE,iBAHjC,EAIE;AACE7E,QAAAA,qBAAqB,GAAG;AACxBgG,UAAAA,KAAK,EAAE,KAAK/G,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BoE,iBAA5B,CAA8C8E,cAD7B;AAExB1J,UAAAA,KAAK,EAAE,KAAKhB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BoE,iBAA5B,CAA8CzE,cAF7B;AAGxBmF,UAAAA,IAAI,EAAE,KAAKtG,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BoE;AAHV,SAAxB;AAKH;;AACD,UAAI,KAAK5F,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BC,oBAA5B,KAAqDmJ,aAAa,CAAChL,KAAd,CAAoB4B,UAApB,CAA+BC,oBAAxF,EAA8G;AAC1G,cAAMsJ,iBAAiB,GAAG1M,mBAAmB,CAAC,KAAK2B,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BC,oBAA5B,IAAoD,EAArD,EAAyD,gBAAzD,EACzC,gBADyC,EACvB,gBADuB,EACL,WADK,EACQ,KADR,CAA7C;AAEIA,QAAAA,oBAAoB,GAAGsJ,iBAAiB,CAACtB,GAAlB,CAAsB,YAAtB,CAAvB;;AACJ,YAAIsB,iBAAiB,CAACtB,GAAlB,CAAsB,cAAtB,CAAJ,EAA2C;AACvC1I,UAAAA,qBAAqB,GAAGgK,iBAAiB,CAACtB,GAAlB,CAAsB,cAAtB,CAAxB;AACH,SAFD,MAEO,IAAIhI,oBAAoB,IAAIA,oBAAoB,CAACyI,MAArB,GAA8B,CAA1D,EAA6D;AAChEnJ,UAAAA,qBAAqB,GAAGU,oBAAoB,CAAC,CAAD,CAA5C;AACH;AACJ,OATD,MASO,IAAI,KAAKzB,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BT,qBAA5B,KAAsD6J,aAAa,CAAChL,KAAd,CAAoB4B,UAApB,CAA+BT,qBAAzF,EAAgH;AACnHA,QAAAA,qBAAqB,GAAG,KAAKf,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,CAA4BT,qBAApD;AACH;;AACG,WAAKb,QAAL,CAAc;AAAEa,QAAAA,qBAAF;AAAyBU,QAAAA;AAAzB,OAAd;AAEP;;AACD,QAAI,KAAKzB,KAAL,CAAWJ,KAAX,CAAiBqC,cAAjB,KAAoC2I,aAAa,CAAChL,KAAd,CAAoBqC,cAA5D,EAA4E;AACxE,WAAK/B,QAAL,CAAc;AAAE+B,QAAAA,cAAc,EAAE,KAAKjC,KAAL,CAAWJ,KAAX,CAAiBqC;AAAnC,OAAd;AACH;;AACD,QAAI,KAAKjC,KAAL,CAAWJ,KAAX,CAAiBiJ,WAAjB,KAAiC+B,aAAa,CAAChL,KAAd,CAAoBiJ,WAAzD,EAAsE;AAElE,YAAMA,WAAW,GAAGxK,mBAAmB,CAAC,KAAK2B,KAAL,CAAWJ,KAAX,CAAiBiJ,WAAjB,IAAgC,EAAjC,EAAqC,cAArC,EACnC,cADmC,EACnB3F,SADmB,EACRA,SADQ,EACGA,SADH,CAAvC;AAEA,YAAM8H,iBAAiB,GAAGnC,WAAW,CAACY,GAAZ,CAAgB,YAAhB,CAA1B;AAEA,WAAKvJ,QAAL,CAAc;AAAE2I,QAAAA,WAAW,EAAEmC;AAAf,OAAd;AACH;;AACD,QAAI,KAAKhL,KAAL,CAAWJ,KAAX,CAAiB4B,UAAjB,KAAgCoJ,aAAa,CAAChL,KAAd,CAAoB4B,UAAxD,EAAoE;AAChE,YAAMyI,UAAU,GAAG,KAAKO,qBAAL,EAAnB;AACA,WAAKtK,QAAL,CAAc;AAAE+J,QAAAA;AAAF,OAAd;AACH;AACJ;;AAjkBgC;;AAy4BrC,eAAexN,OAAO,CAACiD,eAAD,EAAkB;AACpCnC,EAAAA,WADoC;AACvBC,EAAAA,UADuB;AACXC,EAAAA,WADW;AACEC,EAAAA,uBADF;AAEpCC,EAAAA,qBAFoC;AAEdC,EAAAA,eAFc;AAEEC,EAAAA,uBAFF;AAGpCC,EAAAA,2BAHoC;AAGRC,EAAAA,0BAHQ;AAIpCC,EAAAA,gBAJoC;AAInBC,EAAAA,0BAJmB;AAIQC,EAAAA,aAJR;AAIwBC,EAAAA;AAJxB,CAAlB,CAAP,CAKZxB,UAAU,CAACkD,MAAD,CALE,CAAf","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { Row, Col, FormGroup, FormLabel, Nav, Card } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../audittrail/Esign';\r\nimport { MediaLabel } from '../../components/add-client.styles';\r\nimport { callService, crudMaster, updateStore, validateEsignCredential, \r\n    getClientComboService ,getClientDetail,getClientSiteForAddEdit,\r\n    getClientSiteContactDetails,getClientContactForAddEdit,\r\n    filterColumnData,changeClientCategoryFilter,addClientFile,viewAttachment } from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { constructOptionList, getControlMap, showEsign, validateEmail, validatePhoneNumber ,Lims_JSON_stringify} from '../../components/CommonScript';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport AddClient from './AddClient';\r\nimport { ContentPanel } from '../product/product.styled';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { ReadOnlyText } from '../../components/App.styles';\r\nimport ClientSiteAddressTab from '../../pages/contactmaster/ClientSiteAddressTab';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport ClientCategoryFilter from './ClientCategoryFilter';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { Affix } from 'rsuite';\r\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\r\nimport ClientFileTab from './ClientFileTabs';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass Client extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef = React.createRef();\r\n        this.extractedColumnList = [];\r\n        this.fieldList = [];\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n        };\r\n        this.state = {\r\n            addScreen: false, data: [], masterStatus: \"\", error: \"\", operation: \"create\",\r\n            dataResult: [],\r\n            dataState: dataState,\r\n            clientData: [],\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            selectedRecord: {}, \r\n            countryList: [],\r\n            sidebarview: false\r\n        };\r\n        this.searchRef = React.createRef();\r\n\r\n        this.confirmMessage = new ConfirmMessage();\r\n\r\n        this.mandatoryFields = [\r\n            { \"idsName\": \"IDS_CLIENTNAME\", \"dataField\": \"sclientname\", \"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            { \"idsName\": \"IDS_CLIENTID\", \"dataField\": \"sclientid\", \"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            { \"idsName\": \"IDS_CLIENTSITENAME\", \"mandatory\": true, \"dataField\": \"sclientsitename\", \"width\": \"150px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            { \"idsName\": \"IDS_CLIENTCONTACTNAME\", \"mandatory\": true, \"dataField\": \"scontactname\", \"width\": \"150px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            { \"idsName\": \"IDS_ADDRESS1\", \"dataField\": \"saddress1\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_COUNTRY\", \"dataField\": \"ncountrycode\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n            \r\n        ]\r\n        this.mandatoryUpdateFields = [\r\n            { \"idsName\": \"IDS_CLIENTNAME\", \"dataField\": \"sclientname\", \"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            { \"idsName\": \"IDS_CLIENTID\", \"dataField\": \"sclientid\", \"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"}\r\n        ]\r\n    }\r\n    sidebarExpandCollapse = () => {\r\n        this.setState({\r\n            sidebarview: true\r\n        })          \r\n    }\r\n\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.state.data, event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        if (this.state.nfilterClientCategory.value) {\r\n            let inputParam = {\r\n                inputData: {\r\n                    nclientcatcode: this.state.nfilterClientCategory.value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    // nfilterClientCategory: this.state.nfilterClientCategory\r\n                },\r\n                classUrl: \"client\",\r\n                methodUrl: \"ClientByCategory\"\r\n            }\r\n            this.props.changeClientCategoryFilter(inputParam, this.props.Login.masterData.filterClientCategory, this.state.nfilterClientCategory);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_CLIENTCATEGORYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n               selectedRecord[\"agree\"] = 4;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason']=\"\"\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n    onComboChangeFilter = (comboData, fieldName) => {\r\n                let nfilterClientCategory = this.state.nfilterClientCategory || {}\r\n                nfilterClientCategory = comboData;\r\n                this.searchRef.current.value = \"\";\r\n                this.setState({ nfilterClientCategory })\r\n    }\r\n\r\n    getNestedFieldData = (nestedColumnArray, data) =>\r\n        nestedColumnArray.reduce((xs, x) => (xs && xs[x]) ? xs[x] : null, data);\r\n\r\n    render() {\r\n        let userStatusCSS = \"\";\r\n        let activeIconCSS = \"fa fa-check\";\r\n        if (this.props.Login.masterData.selectedClient && this.props.Login.masterData.selectedClient.ntransactionstatus === transactionStatus.DEACTIVE) {\r\n            userStatusCSS = \"outline-secondary\";\r\n            activeIconCSS = \"\";\r\n        }\r\n        else if (this.props.Login.masterData.selectedClient && this.props.Login.masterData.selectedClient.ntransactionstatus === transactionStatus.ACTIVE) {\r\n            userStatusCSS = \"outline-success\";\r\n        }\r\n        else {\r\n            userStatusCSS = \"outline-Final\";\r\n        }\r\n        this.extractedColumnList = [\r\n            { \"idsName\": \"IDS_CLIENTNAME\", \"dataField\": \"sclientname\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_CLIENTID\", \"dataField\": \"sclientid\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_COUNTRYNAME\", \"dataField\": \"scountryname\", \"width\": \"200px\" },\r\n            // { \"idsName\": \"IDS_EMAIL\", \"dataField\": \"semail\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"100px\"},\r\n        ]\r\n\r\n        this.fieldList = [\"sclientname\", \"sclientid\", \"saddress1\", \r\n        // \"saddress2\", \"saddress3\",  \"sphoneno\", \"smobileno\", \"sfaxno\", \"semail\", \r\n        \"sclientsitename\", \"scontactname\", \"ntransactionstatus\", \"ncountrycode\"];\r\n\r\n        const addId = this.state.controlMap.has(\"AddClient\") && this.state.controlMap.get(\"AddClient\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"EditClient\") && this.state.controlMap.get(\"EditClient\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteClient\") && this.state.controlMap.get(\"DeleteClient\").ncontrolcode;\r\n\r\n        const clientAddParam = {\r\n            screenName: \"IDS_CLIENT\", operation: \"create\", primaryKeyField: \"nclientcode\",\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: addId,nfilterClientCategory:this.state.nfilterClientCategory\r\n        };\r\n\r\n        const clientEditParam = {\r\n            screenName: \"IDS_CLIENT\", operation: \"update\", primaryKeyField: \"nclientcode\",\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: editId,masterData:this.props.Login.masterData,nfilterClientCategory:this.state.nfilterClientCategory\r\n        };\r\n\r\n        const clientDeleteParam = { screenName: \"IDS_CLIENT\", methodUrl: \"Client\", operation: \"delete\", ncontrolCode: deleteId };\r\n\r\n        const filterParam = {\r\n            inputListName: \"Client\", selectedObject: \"selectedClient\", primaryKeyField: \"nclientcode\",\r\n            fetchUrl: \"client/getSelectedClientDetail\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"sclientname\", \"sclientid\", \"address1\",\"saddress2\",\"saddress3\",\"sphoneno\",\"smobileno\",\"sfaxno\",\"semail\" ,\"stransdisplaystatus\"]\r\n        };\r\n\r\n        const breadCrumbData = this.state.filterData || [];\r\n        return (\r\n            <>\r\n            <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n            {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                <Row noGutters={true}>\r\n                    <Col md={`${!this.state.sidebarview ? '4' : \"2\"}`}>\r\n                        <span onClick= {()=>this.setState({sidebarview:!this.state.sidebarview})} className='sidebar-view-btn'>\r\n                            {!this.state.sidebarview ?\r\n                                <i class=\"fa fa-less-than\"></i> :\r\n                                <i class=\"fa fa-greater-than\"></i> \r\n                            }\r\n                        </span>\r\n                        <ListMaster\r\n                            formatMessage={this.props.intl.formatMessage}\r\n                            screenName={\"IDS_CLIENT\"}\r\n                            masterData={this.props.Login.masterData}\r\n                            userInfo={this.props.Login.userInfo}\r\n                            masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.Client}\r\n                            getMasterDetail={(Client) => this.props.getClientDetail(Client, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                            selectedMaster={this.props.Login.masterData.selectedClient}\r\n                            primaryKeyField=\"nclientcode\"\r\n                            mainField=\"sclientname\"\r\n                            firstField=\"sclientid\"\r\n                            secondField=\"stransdisplaystatus\"\r\n                            isIDSField=\"Yes\"\r\n                            filterColumnData={this.props.filterColumnData}\r\n                            filterParam={filterParam}\r\n                            userRoleControlRights={this.state.userRoleControlRights}\r\n                            addId={addId}\r\n                            searchRef={this.searchRef}\r\n                            reloadData={this.reloadData}\r\n                            hidePaging={false}\r\n                            openModal={() => this.props.getClientComboService(clientAddParam)}\r\n                            openFilter={this.openFilter}\r\n                            closeFilter={this.closeFilter}\r\n                            onFilterSubmit={this.onFilterSubmit}\r\n                            showFilterIcon={true}\r\n                            showFilter={this.props.Login.showFilter}\r\n                            filterComponent={[\r\n                                {\r\n                                    \"IDS_CLIENTCATEGORYFILTER\":\r\n                                        <ClientCategoryFilter\r\n                                            filterClientCategory={this.state.filterClientCategory || []}\r\n                                            nfilterClientCategory={this.state.nfilterClientCategory || {}}\r\n                                            onComboChange={this.onComboChangeFilter}\r\n                                        />\r\n                                }\r\n                            ]}\r\n                        />\r\n                    </Col>\r\n                    <Col md={`${!this.state.sidebarview ? '8' : \"10\"}`}>\r\n                        <Row><Col md={12}>\r\n                            <ContentPanel className=\"panel-main-content\">\r\n                                {this.props.Login.masterData.selectedClient && this.props.Login.masterData.Client.length > 0 && this.props.Login.masterData.selectedClient ?\r\n                                    <Card className=\"border-0\">\r\n                                        <Card.Header>\r\n                                            <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedClient.sclientname}</Card.Title>\r\n                                            <Card.Subtitle>\r\n                                                <div className=\"d-flex product-category\">\r\n                                                    <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                        <span className={`btn btn-outlined ${userStatusCSS} btn-sm ml-3`}>\r\n                                                            <i className={activeIconCSS}></i>\r\n                                                            {this.props.Login.masterData.selectedClient.stransdisplaystatus}\r\n                                                        </span>\r\n                                                    </h2>\r\n                                                    <div className=\"d-inline \">\r\n\r\n                                                        {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" />  */}\r\n                                                         {/* <ProductList className=\"d-inline dropdown badget_menu\"> */}\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                           // data-for=\"tooltip_list_wrap\"\r\n                                                            onClick={(e) => this.props.getClientComboService(clientEditParam)} >\r\n                                                            <FontAwesomeIcon icon={faPencilAlt}\r\n                                                                title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                          //  data-for=\"tooltip_list_wrap\"\r\n                                                            onClick={() => this.ConfirmDelete(deleteId)}>\r\n                                                            <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                            \r\n                                                        </Nav.Link>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </Card.Subtitle>\r\n                                        </Card.Header>\r\n                                        <Card.Body>\r\n                                            {/* <Row> */}\r\n                                                \r\n                                                {/* <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id={'IDS_ADDRESS1'} message=\"Address1\" /></FormLabel>\r\n                                                        <ReadOnlyText> {this.props.Login.masterData.selectedClient.saddress1 === null || this.props.Login.masterData.selectedClient.saddress1.length === 0 ? '-' :\r\n                                                           this.props.Login.masterData.selectedClient.saddress1}</ReadOnlyText>\r\n                                                       \r\n                                                    </FormGroup>\r\n                                                </Col> */}\r\n                                                {/* <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id={'IDS_ADDRESS2'} message=\"Address2\" /></FormLabel>\r\n                                                        <ReadOnlyText> {this.props.Login.masterData.selectedClient.saddress2 === null || this.props.Login.masterData.selectedClient.saddress2.length === 0 ? '-' :\r\n                                                           this.props.Login.masterData.selectedClient.saddress2}</ReadOnlyText>\r\n                                                       \r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id={'IDS_ADDRESS3'} message=\"Address3\" /></FormLabel>\r\n                                                        <ReadOnlyText> {this.props.Login.masterData.selectedClient.saddress3 === null || this.props.Login.masterData.selectedClient.saddress3.length === 0 ? '-' :\r\n                                                           this.props.Login.masterData.selectedClient.saddress3}</ReadOnlyText>\r\n                                                       \r\n                                                    </FormGroup>\r\n                                                </Col> */}\r\n                                                {/* <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id={'IDS_PHONENO'} message=\"Phone No\" /></FormLabel>\r\n                                                        <ReadOnlyText> {this.props.Login.masterData.selectedClient.sphoneno === null || this.props.Login.masterData.selectedClient.sphoneno.length === 0 ? '-' :\r\n                                                           this.props.Login.masterData.selectedClient.sphoneno}</ReadOnlyText>\r\n                                                       \r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id={'IDS_MOBILENO'} message=\"Mobile No\" /></FormLabel>\r\n                                                        <ReadOnlyText> {this.props.Login.masterData.selectedClient.smobileno === null || this.props.Login.masterData.selectedClient.smobileno.length === 0 ? '-' :\r\n                                                           this.props.Login.masterData.selectedClient.smobileno}</ReadOnlyText>\r\n                                                       \r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id={'IDS_FAXNO'} message=\"Fax No\" /></FormLabel>\r\n                                                        <ReadOnlyText> {this.props.Login.masterData.selectedClient.sfaxno === null || this.props.Login.masterData.selectedClient.sfaxno.length === 0 ? '-' :\r\n                                                           this.props.Login.masterData.selectedClient.sfaxno}</ReadOnlyText>\r\n                                                       \r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id={'IDS_EMAIL'} message=\"Email\" /></FormLabel>\r\n                                                        <ReadOnlyText> {this.props.Login.masterData.selectedClient.semail === null || this.props.Login.masterData.selectedClient.semail.length === 0 ? '-' :\r\n                                                           this.props.Login.masterData.selectedClient.semail}</ReadOnlyText>\r\n                                                       \r\n                                                    </FormGroup>\r\n                                                </Col> */}\r\n                                                {/* <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id={'IDS_COUNTRY'} message=\"Country\" /></FormLabel>\r\n                                                        <ReadOnlyText> {this.props.Login.masterData.selectedClient.scountryname === null || this.props.Login.masterData.selectedClient.scountryname.length === 0 ? '-' :\r\n                                                           this.props.Login.masterData.selectedClient.scountryname}</ReadOnlyText>\r\n                                                       \r\n                                                    </FormGroup>\r\n                                                </Col> */}\r\n     <Row className=\"no-gutters\">\r\n                    <Col md={12}>\r\n                        <Card className=\"at-tabs\">\r\n                            <CustomTabs tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n\r\n                                            {/* </Row> */}\r\n                                            {/* <ClientSiteAddressTab\r\n                                                    operation={this.props.Login.operation}\r\n                                                    inputParam={this.props.Login.inputParam}\r\n                                                    screenName={this.props.Login.screenName}\r\n                                                    userInfo={this.props.Login.userInfo}\r\n                                                    masterData={this.props.Login.masterData}\r\n                                                    crudMaster={this.props.crudMaster}\r\n                                                    errorCode={this.props.Login.errorCode}\r\n                                                    masterStatus={this.props.Login.masterStatus}\r\n                                                    openChildModal={this.props.Login.openChildModal}\r\n                                                    updateStore={this.props.updateStore}\r\n                                                    selectedRecord={this.props.Login.selectedRecord}\r\n                                                    getClientSiteContactDetails={this.props.getClientSiteContactDetails}\r\n                                                    getClientSiteForAddEdit={this.props.getClientSiteForAddEdit}\r\n                                                    getClientContactForAddEdit={this.props.getClientContactForAddEdit}\r\n                                                    ncontrolCode={this.props.Login.ncontrolCode}\r\n                                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                                    esignRights={this.props.Login.userRoleControlRights}\r\n                                                    screenData={this.props.Login.screenData}\r\n                                                    validateEsignCredential={this.props.validateEsignCredential}\r\n                                                    loadEsign={this.props.Login.loadEsign}\r\n                                                    controlMap={this.state.controlMap}\r\n                                                    Country={this.props.Login.Country}\r\n                                                    countryCode={this.props.Login.countryCode}\r\n                                                    SiteCode={this.props.Login.SiteCode}\r\n                                                    selectedId={this.props.Login.selectedId}\r\n                                                    dataState={this.props.Login.dataState}\r\n                                                    settings = {this.props.Login.settings}\r\n                                                    addClientFile={this.props.addClientFile}\r\n                                                    viewAttachment={this.props.viewAttachment}\r\n                                        \r\n\r\n                                                />\r\n                                        */}\r\n                                        </Card.Body>\r\n                                    </Card> : \"\"}\r\n                            </ContentPanel>\r\n                        </Col></Row>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n            {this.props.Login.openModal &&\r\n                 <SlideOutModal show={this.props.Login.openModal}\r\n                 closeModal={this.closeModal}\r\n                 operation={this.props.Login.operation}\r\n                 inputParam={this.props.Login.inputParam}\r\n                 screenName={this.props.Login.screenName}\r\n                 onSaveClick={this.onSaveClick}\r\n                 esign={this.props.Login.loadEsign}\r\n                 validateEsign={this.validateEsign}\r\n                 masterStatus={this.props.Login.masterStatus}\r\n                 updateStore={this.props.updateStore}\r\n                 selectedRecord={this.state.selectedRecord || {}}\r\n                 mandatoryFields={this.props.Login.operation == \"create\" ? this.mandatoryFields || [] : this.mandatoryUpdateFields || []}\r\n                 addComponent={this.props.Login.loadEsign ?\r\n                     <Esign operation={this.props.Login.operation}\r\n                         formatMessage={this.props.intl.formatMessage}\r\n                         onInputOnChange={this.onInputOnChange}\r\n                         inputParam={this.props.Login.inputParam}\r\n                         selectedRecord={this.state.selectedRecord || {}}\r\n                     />\r\n                     : <AddClient\r\n                         selectedRecord={this.state.selectedRecord || {}}\r\n                         onInputOnChange={this.onInputOnChange}\r\n                         onComboChange={this.onComboChange}\r\n                         formatMessage={this.props.intl.formatMessage}\r\n                         countryList={this.state.countryList || []}\r\n                         clientCategoryList={this.props.Login.clientCategoryList || []}\r\n                         operation={this.props.Login.operation}\r\n                         inputParam={this.props.Login.inputParam}\r\n\r\n                     />}\r\n             />\r\n            }\r\n        </>\r\n    );\r\n        \r\n    }\r\n\r\n    expandChange = (event) => {\r\n        const isExpanded =\r\n            event.dataItem.expanded === undefined ?\r\n                event.dataItem.aggregates : event.dataItem.expanded;\r\n        event.dataItem.expanded = !isExpanded;\r\n        this.setState({ ...this.props });\r\n    }\r\n    detailBand = (props) => {\r\n\r\n        const Dataitem = props.dataItem\r\n        const OptionalFieldList = [\r\n            { datafield: \"saddress1\", Column: \"Address1\" },\r\n            { datafield: \"saddress2\", Column: \"Address2\" },\r\n            { datafield: \"saddress3\", Column: \"Address3\" },\r\n            { datafield: \"sphoneno\", Column: \"Phone No\" },\r\n            { datafield: \"smobileno\", Column: \"Mobile No\" },\r\n            { datafield: \"sfaxno\", Column: \"Fax No\" },\r\n            { datafield: \"stransdisplaystatus\", Column: \"DisplayStatus\" },\r\n\r\n        ];\r\n        return (<Row>\r\n            {OptionalFieldList.map((fields) => {\r\n                return (\r\n                    <Col md='6'>\r\n                        <FormGroup>\r\n                            <FormLabel><FormattedMessage id={fields.Column} message={fields.Column} /></FormLabel>\r\n                            <MediaLabel className=\"readonly-text font-weight-normal\">{Dataitem[fields.datafield]}</MediaLabel>\r\n                        </FormGroup>\r\n                    </Col>\r\n                )\r\n            })\r\n            }\r\n        </Row>)\r\n    }\r\n    detailedFieldList = [\r\n        { dataField: \"saddress1\", idsName: \"IDS_ADDRESS1\" , columnSize:\"4\"},\r\n        { dataField: \"saddress2\", idsName: \"IDS_ADDRESS2\" , columnSize:\"4\"},\r\n        { dataField: \"saddress3\", idsName: \"IDS_ADDRESS3\", columnSize:\"4\" },\r\n        { dataField: \"sphoneno\", idsName: \"IDS_PHONENO\" , columnSize:\"4\"},\r\n        { dataField: \"smobileno\", idsName: \"IDS_MOBILENO\" , columnSize:\"4\"},\r\n        { dataField: \"sfaxno\", idsName: \"IDS_FAXNO\" , columnSize:\"4\"},\r\n    ];\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        if (comboData != null) {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            selectedRecord[fieldName] = comboData;\r\n\r\n\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.filterClientCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_CLIENTCATEGORY\",\r\n                    \"value\": this.props.Login.masterData.SelectedClientCat ? this.props.Login.masterData.SelectedClientCat.sclientcatname : \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({\r\n                    userRoleControlRights, controlMap, data: this.props.Login.masterData,\r\n                });\r\n            }\r\n            else {\r\n\r\n                let { dataState } = this.state;\r\n                if (this.props.Login.dataState === undefined) {\r\n                    dataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 }\r\n                }\r\n\r\n                this.setState({\r\n                    data: this.props.Login.masterData,\r\n                    dataState\r\n                });\r\n            }\r\n\r\n            let filterClientCategory = this.state.filterClientCategory || {};\r\n            let nfilterClientCategory = this.state.nfilterClientCategory || {};\r\n            if (\r\n              this.props.Login.masterData.SelectedClientCat &&\r\n              this.props.Login.masterData.SelectedClientCat !==\r\n              previousProps.Login.masterData.SelectedClientCat\r\n            ) {\r\n                nfilterClientCategory = {\r\n                label: this.props.Login.masterData.SelectedClientCat.sclientcatname,\r\n                value: this.props.Login.masterData.SelectedClientCat.nclientcatcode,\r\n                item: this.props.Login.masterData.SelectedClientCat,\r\n              };\r\n            }\r\n            if (this.props.Login.masterData.filterClientCategory !== previousProps.Login.masterData.filterClientCategory) {\r\n                const clientCategoryMap = constructOptionList(this.props.Login.masterData.filterClientCategory || [], \"nclientcatcode\",\r\n                    \"sclientcatname\", 'nclientcatcode', 'ascending', false);\r\n                    filterClientCategory = clientCategoryMap.get(\"OptionList\");\r\n                if (clientCategoryMap.get(\"DefaultValue\")) {\r\n                    nfilterClientCategory = clientCategoryMap.get(\"DefaultValue\");\r\n                } else if (filterClientCategory && filterClientCategory.length > 0) {\r\n                    nfilterClientCategory = filterClientCategory[0];\r\n                }\r\n            } else if (this.props.Login.masterData.nfilterClientCategory !== previousProps.Login.masterData.nfilterClientCategory) {\r\n                nfilterClientCategory = this.props.Login.masterData.nfilterClientCategory;\r\n            }\r\n                this.setState({ nfilterClientCategory, filterClientCategory });\r\n            \r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.countryList !== previousProps.Login.countryList) {\r\n\r\n            const countryList = constructOptionList(this.props.Login.countryList || [], \"ncountrycode\",\r\n                \"scountryname\", undefined, undefined, undefined);\r\n            const countryListClient = countryList.get(\"OptionList\");\r\n\r\n            this.setState({ countryList: countryListClient });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            } else {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 1 : 2;\r\n            }\r\n        } else if (event.target.type === 'select-one') {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        } else {\r\n            if (event.target.name === \"sphoneno\" || event.target.name === \"smobileno\" || event.target.name === \"sfaxno\") {\r\n                if (event.target.value !== \"\") {\r\n                    event.target.value = validatePhoneNumber(event.target.value);\r\n                    selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n            } else {\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            }\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    deleteRecord = (clientDeleteParam) => {\r\n       \r\n        // const inputParam = {\r\n        //     classUrl: this.props.Login.inputParam.classUrl,\r\n        //     methodUrl: clientDeleteParam.methodUrl,\r\n        //     displayName: this.props.Login.inputParam.displayName,\r\n        //     inputData: {\r\n        //         [\"client\"]: clientDeleteParam.selectedRecord,\r\n        //         \"userinfo\": this.props.Login.userInfo\r\n        //     },\r\n        //     operation: clientDeleteParam.operation,\r\n        // }\r\n        let inputParam = {};\r\n            if (this.props.Login.screenName === 'IDS_CLIENTFILE') {\r\n                inputParam = {\r\n                    classUrl: \"client\",\r\n                    methodUrl: clientDeleteParam.methodUrl,\r\n                    inputData: {\r\n                        [clientDeleteParam.methodUrl.toLowerCase()]: clientDeleteParam.selectedRecord,\r\n                        \"userinfo\": {...this.props.Login.userInfo,\r\n                            //ALPD-1619(while saving the file and link,audit trail is not captured the respective language)\r\n                            slanguagename: Lims_JSON_stringify(this.props.Login.userInfo.slanguagename)}\r\n\r\n                    },\r\n                    operation: clientDeleteParam.operation,\r\n                    //dataState: this.state.dataState,\r\n                    //dataStateMaterial: this.state.dataStateMaterial\r\n                    dataState: this.state.dataState,\r\n                    postParam: {\r\n                        inputListName: \"Client\", selectedObject: \"selectedClient\", primaryKeyField: \"nclientcode\",\r\n                        fetchUrl: \"client/getActiveClientById\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n                    }\r\n                }\r\n\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, clientDeleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true,\r\n                    screenName: clientDeleteParam.screenName, operation: clientDeleteParam.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n    }\r\n    DeleteClient= (operation, ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"client\"] = this.props.Login.masterData.selectedClient;\r\n        inputData[\"clientsite\"] = this.props.Login.masterData.selectedClientSite;\r\n        inputData[\"clientcontact\"] = this.props.Login.masterData.selectedClientContact ;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"clientfile\"] = this.props.Login.masterData.clientFile[0];\r\n        const postParam = {\r\n            inputListName: \"Client\", selectedObject: \"selectedClient\",\r\n            primaryKeyField: \"nclientcode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedClient.nclientcode,\r\n            fetchUrl: \"client/getActiveClientById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"Client\", \r\n            //postParam,\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"delete\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_CLIENT\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n  \r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        if(this.props.Login.masterData && this.props.Login.masterData.SelectedClientCat){\r\n\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo, \"nclientcatcode\": this.props.Login.masterData.SelectedClientCat.nclientcatcode },\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl:\"ClientByCategory\",\r\n            displayName:this.props.intl.formatMessage({ id: \"IDS_CLIENT\" })      \r\n        };\r\n\r\n        this.props.changeClientCategoryFilter(inputParam,this.props.Login.masterData.filterClientCategory,this.state.nfilterClientCategory);\r\n    } else {\r\n        toast.warn(\r\n            this.props.intl.formatMessage({\r\n              id: \"IDS_CLIENTCATEGORYNOTAVAILABLE\",\r\n            })\r\n          );\r\n    }\r\n    }\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.DeleteClient(\"delete\",deleteId));\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        // const isValidateEmail = this.state.selectedRecord[\"semail\"]? validateEmail(this.state.selectedRecord[\"semail\"]): true;\r\n        let postParam = undefined;\r\n\r\n        // if (isValidateEmail) {\r\n            let inputData = [];\r\n            inputData[\"clientsiteaddress\"] = {};\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            let dataState = undefined;\r\n            if (this.props.Login.operation === \"update\") {\r\n                const selectedRecord=this.state.selectedRecord;\r\n                // edit\r\n                postParam = {\r\n                    inputListName: \"Client\",\r\n                    selectedObject: \"selectedClient\",\r\n                    primaryKeyField: \"nclientcode\",\r\n                  };\r\n                inputData[\"client\"] = {};\r\n\r\n                this.fieldList.map(item => {\r\n                    return inputData[\"client\"][item] = selectedRecord[item] !== null ? selectedRecord[item] : \"\";\r\n               })\r\n               inputData[\"client\"][\"nclientcode\"] =selectedRecord[\"nclientcode\"] ? selectedRecord[\"nclientcode\"] : -1;\r\n               inputData[\"client\"][\"ncountrycode\"] = selectedRecord[\"ncountrycode\"] ? selectedRecord[\"ncountrycode\"].value : -1;\r\n               inputData[\"client\"][\"nclientcatcode\"] = selectedRecord[\"nclientcatcode\"] ? selectedRecord[\"nclientcatcode\"].value : -1;\r\n                dataState = this.state.dataState;\r\n            }\r\n            else {\r\n                //add               \r\n                inputData[\"client\"] = { \"nsitecode\": this.props.Login.userInfo.nmastersitecode };\r\n\r\n\r\n                this.fieldList.map(item => {\r\n                    return inputData[\"client\"][item] = this.state.selectedRecord[item]\r\n                })\r\n                inputData[\"client\"][\"ncountrycode\"] = this.state.selectedRecord[\"ncountrycode\"] ? this.state.selectedRecord[\"ncountrycode\"].value : -1;\r\n                inputData[\"client\"][\"nclientcatcode\"] = this.state.selectedRecord[\"nclientcatcode\"] ? this.state.selectedRecord[\"nclientcatcode\"].value : -1;\r\n                inputData[\"clientsiteaddress\"][\"sclientsitename\"] = this.state.selectedRecord[\"sclientsitename\"] ? this.state.selectedRecord[\"sclientsitename\"] : \"\";\r\n                inputData[\"clientsiteaddress\"][\"saddress1\"] = this.state.selectedRecord[\"saddress1\"] ? this.state.selectedRecord[\"saddress1\"] : \"\";\r\n                inputData[\"clientsiteaddress\"][\"saddress2\"] = this.state.selectedRecord[\"saddress2\"] ? this.state.selectedRecord[\"saddress2\"] : \"\";\r\n                inputData[\"clientsiteaddress\"][\"saddress3\"] = this.state.selectedRecord[\"saddress3\"] ? this.state.selectedRecord[\"saddress3\"] : \"\";\r\n                inputData[\"clientsiteaddress\"][\"ncountrycode\"] = this.state.selectedRecord[\"ncountrycode\"] ? this.state.selectedRecord[\"ncountrycode\"].value : -1;\r\n                // inputData[\"clientsiteaddress\"][\"ntransactionstatus\"] = transactionStatus.ACTIVE;\r\n                inputData[\"clientsiteaddress\"][\"ndefaultstatus\"] = transactionStatus.YES;\r\n                inputData[\"clientsiteaddress\"][\"scontactname\"] = this.state.selectedRecord[\"scontactname\"] ? this.state.selectedRecord[\"scontactname\"] : \"\";\r\n\r\n            }\r\n     \r\n            const inputParam = {\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                methodUrl: \"Client\",\r\n                displayName: this.props.Login.inputParam.displayName,\r\n                inputData: inputData,\r\n                selectedId: this.state.selectedRecord[\"nclientcode\"],\r\n                operation: this.props.Login.operation, saveType, formRef, dataState,\r\n                searchRef: this.searchRef,\r\n                postParam:postParam,\r\n                filtercombochange:this.props.Login.masterData.searchedData!==undefined?\r\n                    this.state.selectedRecord.nclientcatcode.value === this.props.Login.masterData.SelectedClientCat.nclientcatcode?false:true:false,\r\n                    selectedRecord:{...this.state.selectedRecord}\r\n            }\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_CLIENT\"}),\r\n                        //this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }),\r\n                        operation: this.props.Login.operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            }\r\n        // } else {\r\n        //     toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERVALIDEMAIL\" }))\r\n        // }\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    tabDetail =     () => {\r\n        const tabMap = new Map();\r\n\r\n        tabMap.set(\"IDS_CLIENTSITE&CONTACT\",\r\n\r\n        <ClientSiteAddressTab\r\n            operation={this.props.Login.operation}\r\n            inputParam={this.props.Login.inputParam}\r\n            screenName={this.props.Login.screenName}\r\n            userInfo={this.props.Login.userInfo}\r\n            masterData={this.props.Login.masterData}\r\n            crudMaster={this.props.crudMaster}\r\n            errorCode={this.props.Login.errorCode}\r\n            masterStatus={this.props.Login.masterStatus}\r\n            openChildModal={this.props.Login.openChildModal}\r\n            updateStore={this.props.updateStore}\r\n            selectedRecord={this.props.Login.selectedRecord}\r\n            getClientSiteContactDetails={this.props.getClientSiteContactDetails}\r\n            getClientSiteForAddEdit={this.props.getClientSiteForAddEdit}\r\n            getClientContactForAddEdit={this.props.getClientContactForAddEdit}\r\n            ncontrolCode={this.props.Login.ncontrolCode}\r\n            userRoleControlRights={this.state.userRoleControlRights}\r\n            esignRights={this.props.Login.userRoleControlRights}\r\n            screenData={this.props.Login.screenData}\r\n            validateEsignCredential={this.props.validateEsignCredential}\r\n            loadEsign={this.props.Login.loadEsign}\r\n            controlMap={this.state.controlMap}\r\n            Country={this.props.Login.Country}\r\n            countryCode={this.props.Login.countryCode}\r\n            SiteCode={this.props.Login.SiteCode}\r\n            selectedId={this.props.Login.selectedId}\r\n            dataState={this.props.Login.dataState}\r\n            settings = {this.props.Login.settings}\r\n            addClientFile={this.props.addClientFile}\r\n            viewAttachment={this.props.viewAttachment}\r\n            linkMaster = {this.props.Login.linkMaster}\r\n            \r\n        \r\n    />)\r\n\r\n        tabMap.set(\"IDS_FILE\",\r\n            <ClientFileTab\r\n                controlMap={this.state.controlMap}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                userInfo={this.props.Login.userInfo}\r\n                inputParam={this.props.Login.inputParam}\r\n              // deleteRecord={this.DeleteContact}\r\n                clientFile={this.props.Login.masterData.clientFile || []}\r\n                getAvailableData={this.props.getAvailableData}\r\n                addClientFile={this.props.addClientFile}\r\n                viewClientFile={this.viewClientFile}\r\n                defaultRecord={this.defaultRecord}\r\n                screenName=\"IDS_CLIENTFILE\"\r\n                settings={this.props.Login.settings}\r\n                ncontrolCode={this.props.Login.ncontrolCode}\r\n                masterData={this.props.Login.masterData}\r\n                crudMaster={this.props.crudMaster}\r\n                deleteRecord={this.deleteRecord}\r\n\r\n            />\r\n             );\r\n        return tabMap;\r\n    }\r\n\r\n    viewClientFile = (filedata) => {\r\n        const inputParam = {\r\n            inputData: {\r\n                clientfile: filedata,\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            classUrl: \"client\",\r\n            operation: \"view\",\r\n            methodUrl: \"AttachedClientFile\",\r\n            screenName: \"Client File\"\r\n        }\r\n        this.props.viewAttachment(inputParam);\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential,\r\n    getClientComboService,getClientDetail,getClientSiteForAddEdit,\r\n    getClientSiteContactDetails,getClientContactForAddEdit,\r\n    filterColumnData,changeClientCategoryFilter,addClientFile,  viewAttachment\r\n})(injectIntl(Client));"]},"metadata":{},"sourceType":"module"}