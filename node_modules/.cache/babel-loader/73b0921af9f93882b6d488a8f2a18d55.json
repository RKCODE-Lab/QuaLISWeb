{"ast":null,"code":"import _defineProperty from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{FormattedMessage,injectIntl}from'react-intl';import{connect}from'react-redux';import{designProperties}from'../../../components/Enumeration';import ListAttachment from'../../../components/ListAttachment';import{Component}from'react';import{Nav}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlus}from'@fortawesome/free-solid-svg-icons';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var TrainingDocTab=/*#__PURE__*/function(_Component){_inherits(TrainingDocTab,_Component);var _super=_createSuper(TrainingDocTab);function TrainingDocTab(){var _this;_classCallCheck(this,TrainingDocTab);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.addtrainingdocfile=function(ncontrolcode){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true,operation:\"create\",selectedRecord:{},ncontrolcode:ncontrolcode,screenName:\"IDS_TRAININGDOCUMENTS\"}};_this.props.updateStore(updateInfo);};return _this;}_createClass(TrainingDocTab,[{key:\"render\",value:function render(){var _ref,_this2=this;// const addId = this.props.Login.inputParam && this.state.controlMap.has(\"Add\".concat(this.props.Login.inputParam.methodUrl))\n// && this.state.controlMap.get(\"Add\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\nvar addFileId=this.props.controlMap.has(\"AddTrainingDocFile\")&&this.props.controlMap.get(\"AddTrainingDocFile\").ncontrolcode;//const viewFileId = this.props.controlMap.has(\"ViewTrainingDocFile\") && this.props.controlMap.get(\"ViewTrainingDocFile\").ncontrolcode;\nvar deleteFileId=this.props.controlMap.has(\"DeleteTrainingDocFile\")&&this.props.controlMap.get(\"DeleteTrainingDocFile\").ncontrolcode;// if (this.props.Login.openModal) {\n//     this.mandatoryFields = this.findMandatoryFields(this.props.Login.screenName, this.state.selectedRecord, this.props.Login.operation)\n// }\n// if (this.props.openChildModal || this.state.openValidate) {\n//     this.mandatoryFields = this.findMandatoryFields(this.state.formulaScreenName === \"IDS_VALIDATEFORMULA\" ? this.state.formulaScreenName :\n//         this.props.screenName, this.state.selectedRecord, this.state.formulaScreenName)\n// }\nvar subFields=[(_ref={},_defineProperty(_ref,designProperties.LABEL,\"IDS_DESCRIPTION\"),_defineProperty(_ref,designProperties.VALUE,\"sfiledesc\"),_ref)];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe border-bottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"addtrainingdocfile\",className:\"add-txt-btn\",hidden:this.props.userRoleControlRights.indexOf(addFileId)===-1,onClick:function onClick(){return _this2.addtrainingdocfile({ncontrolCode:addFileId});}// addRecord={() => this.openModal(addId)}\n},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_ADDTRAININGFILE\",defaultMessage:\"File\"})))),/*#__PURE__*/React.createElement(ListAttachment,{attachmentList:this.props.TrainingDocument,fileName:\"sfilename\",deleteRecord:this.props.deleteRecord,deleteParam:{operation:\"delete\",methodUrl:\"TrainingDoc\",screenName:\"TrainieeDocuments\"},fetchRecord:this.props.addTrainingDoc,deleteId:deleteFileId//viewId={viewFileId}\n,controlMap:this.props.controlMap||[],userRoleControlRights:this.props.userRoleControlRights||[]//TrainingDoc={this.props.viewTrainingDoc}\n,subFields:subFields||[]//moreField={moreField || []}\n,settings:this.props.settings}));}}]);return TrainingDocTab;}(Component);export default connect(mapStateToProps,{})(injectIntl(TrainingDocTab));","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/pages/competencemanagement/trainingupdate/TrainingDocTab.jsx"],"names":["React","FormattedMessage","injectIntl","connect","designProperties","ListAttachment","Component","Nav","FontAwesomeIcon","faPlus","DEFAULT_RETURN","mapStateToProps","state","Login","TrainingDocTab","addtrainingdocfile","ncontrolcode","updateInfo","typeName","data","openModal","operation","selectedRecord","screenName","props","updateStore","addFileId","controlMap","has","get","deleteFileId","subFields","LABEL","VALUE","userRoleControlRights","indexOf","ncontrolCode","TrainingDocument","deleteRecord","methodUrl","addTrainingDoc","settings"],"mappings":"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","sourcesContent":["import React  from 'react'\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { designProperties } from '../../../components/Enumeration';\r\nimport ListAttachment from '../../../components/ListAttachment';\r\nimport { Component } from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\nclass TrainingDocTab  extends Component {\r\n    render() {\r\n        // const addId = this.props.Login.inputParam && this.state.controlMap.has(\"Add\".concat(this.props.Login.inputParam.methodUrl))\r\n        // && this.state.controlMap.get(\"Add\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\r\n        const addFileId = this.props.controlMap.has(\"AddTrainingDocFile\") && this.props.controlMap.get(\"AddTrainingDocFile\").ncontrolcode;\r\n        //const viewFileId = this.props.controlMap.has(\"ViewTrainingDocFile\") && this.props.controlMap.get(\"ViewTrainingDocFile\").ncontrolcode;\r\n        const deleteFileId = this.props.controlMap.has(\"DeleteTrainingDocFile\") && this.props.controlMap.get(\"DeleteTrainingDocFile\").ncontrolcode;\r\n        // if (this.props.Login.openModal) {\r\n        //     this.mandatoryFields = this.findMandatoryFields(this.props.Login.screenName, this.state.selectedRecord, this.props.Login.operation)\r\n        // }\r\n        // if (this.props.openChildModal || this.state.openValidate) {\r\n        //     this.mandatoryFields = this.findMandatoryFields(this.state.formulaScreenName === \"IDS_VALIDATEFORMULA\" ? this.state.formulaScreenName :\r\n        //         this.props.screenName, this.state.selectedRecord, this.state.formulaScreenName)\r\n        // }\r\n         const subFields=[\r\n                        {[designProperties.LABEL]: \"IDS_DESCRIPTION\",[designProperties.VALUE]:\"sfiledesc\"},\r\n                     ];\r\n        return (\r\n            <>\r\n                <div className=\"actions-stripe border-bottom\">\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <Nav.Link \r\n                        name=\"addtrainingdocfile\" className=\"add-txt-btn\" hidden={this.props.userRoleControlRights.indexOf(addFileId) === -1}\r\n                        onClick={()=>this.addtrainingdocfile({ncontrolCode: addFileId})}\r\n                       // addRecord={() => this.openModal(addId)}\r\n                        >\r\n                            <FontAwesomeIcon icon={faPlus} /> {\" \"}\r\n                            <FormattedMessage id=\"IDS_ADDTRAININGFILE\" defaultMessage=\"File\" />\r\n                        </Nav.Link>\r\n                    </div>\r\n                </div>\r\n                <ListAttachment\r\n                    attachmentList={this.props.TrainingDocument}\r\n                    fileName=\"sfilename\"\r\n                    deleteRecord={this.props.deleteRecord}\r\n                    deleteParam ={{operation:\"delete\", methodUrl: \"TrainingDoc\",screenName: \"TrainieeDocuments\"}}\r\n                    fetchRecord={this.props.addTrainingDoc}\r\n                    deleteId={deleteFileId}\r\n                    //viewId={viewFileId}\r\n                    controlMap={this.props.controlMap || []}\r\n                    userRoleControlRights={this.props.userRoleControlRights || []}\r\n                    //TrainingDoc={this.props.viewTrainingDoc}\r\n                    subFields={subFields || []}\r\n                    //moreField={moreField || []}\r\n                    settings = {this.props.settings}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n\r\n    addtrainingdocfile = (ncontrolcode) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true,\r\n                operation: \"create\",\r\n                selectedRecord: {},\r\n                ncontrolcode: ncontrolcode,\r\n                screenName:\"IDS_TRAININGDOCUMENTS\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n \r\n}\r\n\r\nexport default connect(mapStateToProps, {})(injectIntl(TrainingDocTab));"]},"metadata":{},"sourceType":"module"}