{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { getModelFields, getField, findMaster, setField, toSchedulerGroups, getToday } from './utils';\nimport { classNames, useRtl as useDir, clone } from '@progress/kendo-react-common';\nimport { SchedulerContext } from './context/SchedulerContext';\nimport { useControlledState } from './hooks/useControlledState';\nimport { useInternationalization, useLocalization } from '@progress/kendo-react-intl';\nimport { SchedulerHeader } from './components/header/SchedulerHeader';\nimport { SchedulerNavigation } from './components/header/navigation/SchedulerNavigation';\nimport { SchedulerViewSelector } from './components/header/view-selector/SchedulerViewSelector';\nimport { addDays, addMonths } from '@progress/kendo-date-math';\nimport { SchedulerFooter } from './components/footer/SchedulerFooter';\nimport { Button, ToolbarSpacer, ButtonGroup } from '@progress/kendo-react-buttons';\nimport { showFullDay, showWorkDay, messages, today, previousTitle, nextTitle } from './messages';\nimport { NavigationDatePicker } from './components/header/navigation/NavigationDatePicker';\nimport { ViewSelectorList } from './components/header/view-selector/ViewSelectorList';\nimport { BusinessHours } from './components/footer/bussiness-hours/BussinessHours';\nimport { DayView } from './main';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nvar DEFAULT_DATE_FORMAT = '{0:D}';\nvar DEFAULT_SHORT_DATE_FORMAT = '{0:d}';\n/**\n * Specifies the available [DataAction]({% slug api_scheduler_data_action %}) types.\n */\n\nexport var DATA_ACTION;\n\n(function (DATA_ACTION) {\n  DATA_ACTION[DATA_ACTION[\"create\"] = 0] = \"create\";\n  DATA_ACTION[DATA_ACTION[\"update\"] = 1] = \"update\";\n  DATA_ACTION[DATA_ACTION[\"remove\"] = 2] = \"remove\";\n})(DATA_ACTION || (DATA_ACTION = {})); // tslint:enable:max-line-length\n\n/**\n * Represents the [KendoReact Scheduler component]({% slug overview_scheduler %})\n */\n\n\nexport var Scheduler = React.forwardRef(function (props, ref) {\n  validatePackage(packageMetadata);\n  var timezone = props.timezone,\n      onDataChange = props.onDataChange;\n  var element = React.useRef(null);\n  var scheduler = React.useRef(null);\n  React.useImperativeHandle(scheduler, function () {\n    return {\n      props: props,\n      element: element.current\n    };\n  });\n  React.useImperativeHandle(ref, function () {\n    return scheduler.current;\n  });\n  var dir = useDir(element);\n  var intl = useInternationalization();\n  var localization = useLocalization();\n  var fields = React.useMemo(function () {\n    return getModelFields(props.modelFields);\n  }, [props.modelFields]).fields;\n\n  var _a = useControlledState(props.defaultDate || defaultProps.defaultDate, props.date, props.onDateChange),\n      date = _a[0],\n      setDate = _a[1];\n\n  var views = React.Children.toArray(props.children || []);\n\n  var _b = useControlledState(props.defaultView || views[0] && views[0].props.name || 'day', props.view, props.onViewChange),\n      activeViewName = _b[0],\n      setActiveViewName = _b[1];\n\n  var _c = useControlledState(true),\n      showWorkHours = _c[0],\n      setShowWorkHours = _c[1];\n\n  var view = views.find(function (currentView) {\n    return currentView.props.name === activeViewName;\n  }) || views[0] || React.createElement(DayView, null);\n  var data = props.data || defaultProps.data;\n  var groups = toSchedulerGroups(props.group, props.resources);\n  var orientation = props.group && props.group.orientation ? props.group.orientation : 'horizontal';\n  var dateFormat = view.props.selectedDateFormat || DEFAULT_DATE_FORMAT;\n  var shortDateFormat = view.props.selectedShortDateFormat || DEFAULT_SHORT_DATE_FORMAT;\n  var slotDuration = view.props.slotDuration;\n  var dateRange = view.props.dateRange !== undefined ? typeof view.props.dateRange === 'function' ? view.props.dateRange.call(undefined, {\n    intl: intl,\n    date: date,\n    timezone: timezone,\n    numberOfDays: view.props.numberOfDays,\n    workWeekStart: view.props.workWeekStart || intl.firstDay(),\n    workWeekEnd: view.props.workWeekEnd || (intl.firstDay() + view.props.numberOfDays) % 6\n  }) : view.props.dateRange : {\n    start: defaultProps.defaultDate,\n    end: defaultProps.defaultDate\n  };\n  var handleDataChange = React.useCallback(function (_a) {\n    var _b = _a.created,\n        created = _b === void 0 ? [] : _b,\n        _c = _a.updated,\n        updated = _c === void 0 ? [] : _c,\n        _d = _a.deleted,\n        deleted = _d === void 0 ? [] : _d;\n\n    if (onDataChange) {\n      var args = {\n        created: created,\n        updated: updated,\n        deleted: deleted\n      };\n      onDataChange.call(undefined, args);\n    }\n  }, [onDataChange]);\n  var handleCreate = React.useCallback(function (action) {\n    var created = [action.dataItem];\n    handleDataChange({\n      created: created\n    });\n  }, [handleDataChange]);\n  var handleUpdate = React.useCallback(function (action) {\n    var created = [];\n    var updated = [];\n\n    if (action.series) {\n      if (Array.isArray(action.dataItem)) {\n        action.dataItem.map(function (dataItem) {\n          var masterClone = clone(findMaster(action.dataItem, fields, data));\n          var newDataItem = clone(dataItem);\n          setField(newDataItem, fields.originalStart, getField(masterClone, fields.originalStart));\n          setField(newDataItem, fields.recurrenceId, getField(masterClone, fields.recurrenceId));\n          setField(newDataItem, fields.recurrenceExceptions, getField(masterClone, fields.recurrenceExceptions));\n          updated.push(newDataItem);\n        });\n      } else {\n        var masterClone = clone(findMaster(action.dataItem, fields, data));\n        var newDataItem = clone(action.dataItem);\n        setField(newDataItem, fields.originalStart, getField(masterClone, fields.originalStart));\n        setField(newDataItem, fields.recurrenceId, getField(masterClone, fields.recurrenceId));\n        setField(newDataItem, fields.recurrenceExceptions, getField(masterClone, fields.recurrenceExceptions));\n        updated.push(newDataItem);\n      }\n    } else {\n      if (Array.isArray(action.dataItem)) {\n        action.dataItem.map(function (dataItem) {\n          var isException = getField(dataItem, fields.recurrenceRule) !== null && getField(dataItem, fields.recurrenceRule) !== undefined;\n          var isRecurring = getField(dataItem, fields.recurrenceId) !== null && getField(dataItem, fields.recurrenceId) !== undefined;\n\n          if (isRecurring && isException) {\n            var masterClone = clone(findMaster(dataItem, fields, data));\n            var exceptionDate = getField(dataItem, fields.originalStart);\n            var currentExceptions = getField(masterClone, fields.recurrenceExceptions) || [];\n            setField(masterClone, fields.recurrenceExceptions, __spreadArray(__spreadArray([], currentExceptions, true), [exceptionDate], false));\n            setField(dataItem, fields.recurrenceRule, null);\n            updated.push(masterClone);\n            created.push(dataItem);\n          } else {\n            updated.push(dataItem);\n          }\n        });\n      } else {\n        var isException = getField(action.dataItem, fields.recurrenceRule) !== null && getField(action.dataItem, fields.recurrenceRule) !== undefined;\n        var isRecurring = getField(action.dataItem, fields.recurrenceId) !== null && getField(action.dataItem, fields.recurrenceId) !== undefined;\n\n        if (isRecurring && isException) {\n          var masterClone = clone(findMaster(action.dataItem, fields, data));\n          var exceptionDate = getField(action.dataItem, fields.originalStart);\n          var currentExceptions = getField(masterClone, fields.recurrenceExceptions) || [];\n          setField(masterClone, fields.recurrenceExceptions, __spreadArray(__spreadArray([], currentExceptions, true), [exceptionDate], false));\n          setField(action.dataItem, fields.recurrenceRule, null);\n          updated.push(masterClone);\n          created.push(action.dataItem);\n        } else {\n          updated.push(action.dataItem);\n        }\n      }\n    }\n\n    handleDataChange({\n      updated: updated,\n      created: created\n    });\n  }, [handleDataChange, fields, data]);\n  var handleRemove = React.useCallback(function (action) {\n    var updated = [];\n    var deleted = [];\n\n    if (action.series) {\n      var masterClone = clone(findMaster(action.dataItem, fields, data));\n      var dataItem = clone(action.dataItem);\n      setField(dataItem, fields.originalStart, getField(masterClone, fields.originalStart));\n      setField(dataItem, fields.recurrenceId, getField(masterClone, fields.recurrenceId));\n      setField(dataItem, fields.recurrenceRule, getField(masterClone, fields.recurrenceRule));\n      setField(dataItem, fields.recurrenceExceptions, getField(masterClone, fields.recurrenceExceptions));\n      deleted.push(dataItem);\n    } else {\n      var isException = getField(action.dataItem, fields.recurrenceRule) !== null && getField(action.dataItem, fields.recurrenceRule) !== undefined;\n\n      if (!isException) {\n        deleted.push(action.dataItem);\n      } else {\n        var masterClone = clone(findMaster(action.dataItem, fields, data));\n        var exceptionDate = getField(action.dataItem, fields.originalStart);\n        var currentExceptions = getField(masterClone, fields.recurrenceExceptions) || [];\n        setField(masterClone, fields.recurrenceExceptions, __spreadArray(__spreadArray([], currentExceptions, true), [exceptionDate], false));\n        setField(action.dataItem, fields.recurrenceRule, null);\n        updated.push(masterClone);\n      }\n    }\n\n    handleDataChange({\n      updated: updated,\n      deleted: deleted\n    });\n  }, [handleDataChange, fields, data]);\n  var handleDataAction = React.useCallback(function (action) {\n    switch (action.type) {\n      case DATA_ACTION.create:\n        handleCreate(action);\n        break;\n\n      case DATA_ACTION.update:\n        handleUpdate(action);\n        break;\n\n      case DATA_ACTION.remove:\n        handleRemove(action);\n        break;\n\n      default:\n        break;\n    }\n  }, [handleCreate, handleRemove, handleUpdate]);\n  var handleActiveViewNameChange = React.useCallback(function (newView, event) {\n    setActiveViewName(newView, __assign(__assign({}, event), {\n      target: scheduler.current\n    }));\n  }, [setActiveViewName, scheduler]);\n  var handleDateChange = React.useCallback(function (newDate, event) {\n    setDate(newDate, __assign(__assign({}, event), {\n      target: scheduler.current\n    }));\n  }, [setDate, scheduler]);\n  var handleDatePickerChange = React.useCallback(function (event) {\n    if (!event.value) {\n      return;\n    }\n\n    setDate(event.value, __assign(__assign({}, event), {\n      target: scheduler.current,\n      nativeEvent: event.nativeEvent\n    }));\n  }, [setDate, scheduler]);\n  var handleNextClick = React.useCallback(function (syntheticEvent) {\n    syntheticEvent.preventDefault();\n    var offset = view.props.numberOfDays || 1;\n    var isMonthView = offset > 27;\n    var newDate = isMonthView ? addMonths(date, Math.round(offset / 27)) : addDays(date, offset);\n    setDate(newDate, event);\n  }, [date, setDate, view.props.numberOfDays]);\n  var handlePrevClick = React.useCallback(function (syntheticEvent) {\n    syntheticEvent.preventDefault();\n    var offset = view.props.numberOfDays || 1;\n    var isMonthView = offset > 27;\n    var newDate = isMonthView ? addMonths(date, -Math.round(offset / 27)) : addDays(date, -offset);\n    setDate(newDate, event);\n  }, [date, setDate, view.props.numberOfDays]);\n  var handleTodayClick = React.useCallback(function (syntheticEvent) {\n    syntheticEvent.preventDefault();\n    var newDate = getToday();\n    setDate(newDate, event);\n  }, [setDate]);\n  var handleShowWorkHoursClick = React.useCallback(function () {\n    setShowWorkHours(!showWorkHours);\n  }, [setShowWorkHours, showWorkHours]);\n  var handleFocus = React.useCallback(function () {\n    if (element.current) {\n      element.current.style.boxShadow = '0 0.5px 0.5px 0.5px rgba(0, 0, 0, .12)';\n    }\n  }, [element]);\n  var handleBlur = React.useCallback(function () {\n    if (element.current) {\n      element.current.style.boxShadow = '';\n    }\n  }, [element]);\n  var style = React.useMemo(function () {\n    return __assign(__assign({}, props.style), {\n      height: props.height\n    });\n  }, [props.height, props.style]);\n  var className = React.useMemo(function () {\n    return classNames({\n      'k-rtl': props.rtl !== undefined ? props.rtl : dir === 'rtl'\n    }, 'k-widget k-scheduler k-floatwrap', props.className);\n  }, [props.className, props.rtl, dir]);\n  var todayText = localization.toLanguageString(today, messages[today]);\n  var previousText = localization.toLanguageString(previousTitle, messages[previousTitle]);\n  var nextText = localization.toLanguageString(nextTitle, messages[nextTitle]);\n  var Header = view.props.header || props.header || defaultProps.header;\n  var Footer = view.props.footer || props.footer || defaultProps.footer;\n  var Navigation = SchedulerNavigation;\n  var ViewSelector = SchedulerViewSelector;\n\n  var _d = React.useState(null),\n      eventSelection = _d[0],\n      setEventSelection = _d[1];\n\n  return React.createElement(SchedulerContext // Static\n  , {\n    // Static\n    element: element,\n    props: props,\n    views: views,\n    fields: fields,\n    groups: groups,\n    dateRange: dateRange,\n    orientation: orientation,\n    dateFormat: {\n      dateFormat: dateFormat,\n      shortDateFormat: shortDateFormat\n    },\n    // State\n    date: [date, handleDateChange],\n    activeView: [activeViewName, handleActiveViewNameChange],\n    selection: [eventSelection, setEventSelection],\n    // Reducers\n    data: [data, handleDataAction]\n  }, React.createElement(\"div\", {\n    ref: element,\n    id: props.id,\n    style: style,\n    className: className,\n    tabIndex: props.tabIndex,\n    // Aria\n    dir: dir,\n    role: props.role,\n    \"aria-label\": props.ariaLabel,\n    \"aria-labelledby\": props.ariaLabelledby,\n    \"aria-activedescendant\": eventSelection && eventSelection.props.id || undefined,\n    // Handlers\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  }, React.createElement(Header, null, React.createElement(Navigation, null, React.createElement(ButtonGroup, {\n    className: \"k-scheduler-navigation\"\n  }, React.createElement(Button, {\n    role: \"button\",\n    tabIndex: -1,\n    title: todayText,\n    \"aria-label\": todayText,\n    onClick: handleTodayClick\n  }, todayText), React.createElement(Button, {\n    role: \"button\",\n    tabIndex: -1,\n    icon: 'caret-alt-left',\n    title: previousText,\n    \"aria-label\": previousText,\n    onClick: handlePrevClick\n  }), React.createElement(Button, {\n    role: \"button\",\n    tabIndex: -1,\n    icon: 'caret-alt-right',\n    title: nextText,\n    \"aria-label\": nextText,\n    onClick: handleNextClick\n  }))), React.createElement(NavigationDatePicker, {\n    value: date,\n    onChange: handleDatePickerChange\n  }), React.createElement(ToolbarSpacer, null), React.createElement(ViewSelector, null, React.createElement(ViewSelectorList, null))), view && React.createElement(view.type, __assign({\n    editable: props.editable,\n    key: view.props.name,\n    item: props.item,\n    viewItem: props.viewItem,\n    editItem: props.editItem,\n    task: props.task,\n    viewTask: props.viewTask,\n    editTask: props.viewTask,\n    slot: props.slot,\n    viewSlot: props.viewSlot,\n    editSlot: props.editSlot,\n    form: props.form,\n    onDataAction: handleDataAction,\n    showWorkHours: showWorkHours\n  }, view.props)), React.createElement(Footer, null, slotDuration && slotDuration < 24 * 60 && React.createElement(BusinessHours, null, React.createElement(Button, {\n    tabIndex: -1,\n    onClick: handleShowWorkHoursClick,\n    icon: \"clock\"\n  }, localization.toLanguageString(showWorkHours ? showFullDay : showWorkDay, messages[showWorkHours ? showFullDay : showWorkDay]))))));\n});\nvar defaultProps = {\n  data: [],\n  height: 600,\n  tabIndex: -1,\n  editable: false,\n  defaultDate: new Date(),\n  header: SchedulerHeader,\n  footer: SchedulerFooter,\n  navigation: SchedulerNavigation,\n  viewSelector: SchedulerViewSelector\n};\nScheduler.propTypes = {\n  data: PropTypes.array,\n  editable: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n    add: PropTypes.bool,\n    drag: PropTypes.bool,\n    edit: PropTypes.bool,\n    remove: PropTypes.bool,\n    resize: PropTypes.bool\n  })]),\n  view: PropTypes.string,\n  defaultView: PropTypes.string,\n  date: PropTypes.any,\n  defaultDate: PropTypes.any,\n  rtl: PropTypes.bool,\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  children: PropTypes.any,\n  timezone: PropTypes.string,\n  group: PropTypes.any,\n  resources: PropTypes.any,\n  modelFields: PropTypes.shape({\n    id: PropTypes.string,\n    start: PropTypes.string,\n    startTimezone: PropTypes.string,\n    end: PropTypes.string,\n    endTimezone: PropTypes.string,\n    isAllDay: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    recurrenceRule: PropTypes.string,\n    recurrenceId: PropTypes.string,\n    recurrenceException: PropTypes.string\n  })\n};\nScheduler.defaultProps = defaultProps;\nScheduler.displayName = 'KendoReactScheduler';","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/SOURCE-512/QuaLISWeb/node_modules/@progress/kendo-react-scheduler/dist/es/Scheduler.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArray","to","from","pack","l","ar","Array","slice","concat","React","PropTypes","getModelFields","getField","findMaster","setField","toSchedulerGroups","getToday","classNames","useRtl","useDir","clone","SchedulerContext","useControlledState","useInternationalization","useLocalization","SchedulerHeader","SchedulerNavigation","SchedulerViewSelector","addDays","addMonths","SchedulerFooter","Button","ToolbarSpacer","ButtonGroup","showFullDay","showWorkDay","messages","today","previousTitle","nextTitle","NavigationDatePicker","ViewSelectorList","BusinessHours","DayView","validatePackage","packageMetadata","DEFAULT_DATE_FORMAT","DEFAULT_SHORT_DATE_FORMAT","DATA_ACTION","Scheduler","forwardRef","props","ref","timezone","onDataChange","element","useRef","scheduler","useImperativeHandle","current","dir","intl","localization","fields","useMemo","modelFields","_a","defaultDate","defaultProps","date","onDateChange","setDate","views","Children","toArray","children","_b","defaultView","name","view","onViewChange","activeViewName","setActiveViewName","_c","showWorkHours","setShowWorkHours","find","currentView","createElement","data","groups","group","resources","orientation","dateFormat","selectedDateFormat","shortDateFormat","selectedShortDateFormat","slotDuration","dateRange","undefined","numberOfDays","workWeekStart","firstDay","workWeekEnd","start","end","handleDataChange","useCallback","created","updated","_d","deleted","args","handleCreate","action","dataItem","handleUpdate","series","isArray","map","masterClone","newDataItem","originalStart","recurrenceId","recurrenceExceptions","push","isException","recurrenceRule","isRecurring","exceptionDate","currentExceptions","handleRemove","handleDataAction","type","create","update","remove","handleActiveViewNameChange","newView","event","target","handleDateChange","newDate","handleDatePickerChange","value","nativeEvent","handleNextClick","syntheticEvent","preventDefault","offset","isMonthView","Math","round","handlePrevClick","handleTodayClick","handleShowWorkHoursClick","handleFocus","style","boxShadow","handleBlur","height","className","rtl","todayText","toLanguageString","previousText","nextText","Header","header","Footer","footer","Navigation","ViewSelector","useState","eventSelection","setEventSelection","activeView","selection","id","tabIndex","role","ariaLabel","ariaLabelledby","onFocus","onBlur","title","onClick","icon","onChange","editable","key","item","viewItem","editItem","task","viewTask","editTask","slot","viewSlot","editSlot","form","onDataAction","Date","navigation","viewSelector","propTypes","array","oneOfType","bool","shape","add","drag","edit","resize","string","any","number","startTimezone","endTimezone","isAllDay","description","recurrenceException","displayName"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { getModelFields, getField, findMaster, setField, toSchedulerGroups, getToday } from './utils';\nimport { classNames, useRtl as useDir, clone } from '@progress/kendo-react-common';\nimport { SchedulerContext } from './context/SchedulerContext';\nimport { useControlledState } from './hooks/useControlledState';\nimport { useInternationalization, useLocalization } from '@progress/kendo-react-intl';\nimport { SchedulerHeader } from './components/header/SchedulerHeader';\nimport { SchedulerNavigation } from './components/header/navigation/SchedulerNavigation';\nimport { SchedulerViewSelector } from './components/header/view-selector/SchedulerViewSelector';\nimport { addDays, addMonths } from '@progress/kendo-date-math';\nimport { SchedulerFooter } from './components/footer/SchedulerFooter';\nimport { Button, ToolbarSpacer, ButtonGroup } from '@progress/kendo-react-buttons';\nimport { showFullDay, showWorkDay, messages, today, previousTitle, nextTitle } from './messages';\nimport { NavigationDatePicker } from './components/header/navigation/NavigationDatePicker';\nimport { ViewSelectorList } from './components/header/view-selector/ViewSelectorList';\nimport { BusinessHours } from './components/footer/bussiness-hours/BussinessHours';\nimport { DayView } from './main';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nvar DEFAULT_DATE_FORMAT = '{0:D}';\nvar DEFAULT_SHORT_DATE_FORMAT = '{0:d}';\n/**\n * Specifies the available [DataAction]({% slug api_scheduler_data_action %}) types.\n */\nexport var DATA_ACTION;\n(function (DATA_ACTION) {\n    DATA_ACTION[DATA_ACTION[\"create\"] = 0] = \"create\";\n    DATA_ACTION[DATA_ACTION[\"update\"] = 1] = \"update\";\n    DATA_ACTION[DATA_ACTION[\"remove\"] = 2] = \"remove\";\n})(DATA_ACTION || (DATA_ACTION = {}));\n// tslint:enable:max-line-length\n/**\n * Represents the [KendoReact Scheduler component]({% slug overview_scheduler %})\n */\nexport var Scheduler = React.forwardRef(function (props, ref) {\n    validatePackage(packageMetadata);\n    var timezone = props.timezone, onDataChange = props.onDataChange;\n    var element = React.useRef(null);\n    var scheduler = React.useRef(null);\n    React.useImperativeHandle(scheduler, function () { return ({ props: props, element: element.current }); });\n    React.useImperativeHandle(ref, function () { return scheduler.current; });\n    var dir = useDir(element);\n    var intl = useInternationalization();\n    var localization = useLocalization();\n    var fields = React.useMemo(function () { return getModelFields(props.modelFields); }, [props.modelFields]).fields;\n    var _a = useControlledState(props.defaultDate || defaultProps.defaultDate, props.date, props.onDateChange), date = _a[0], setDate = _a[1];\n    var views = React.Children.toArray(props.children || []);\n    var _b = useControlledState(props.defaultView || (views[0] && views[0].props.name) || 'day', props.view, props.onViewChange), activeViewName = _b[0], setActiveViewName = _b[1];\n    var _c = useControlledState(true), showWorkHours = _c[0], setShowWorkHours = _c[1];\n    var view = views.find(function (currentView) { return currentView.props.name === activeViewName; })\n        || views[0]\n        || React.createElement(DayView, null);\n    var data = props.data || defaultProps.data;\n    var groups = toSchedulerGroups(props.group, props.resources);\n    var orientation = props.group && props.group.orientation ? props.group.orientation : 'horizontal';\n    var dateFormat = view.props.selectedDateFormat || DEFAULT_DATE_FORMAT;\n    var shortDateFormat = view.props.selectedShortDateFormat || DEFAULT_SHORT_DATE_FORMAT;\n    var slotDuration = view.props.slotDuration;\n    var dateRange = (view.props.dateRange !== undefined\n        ? typeof view.props.dateRange === 'function'\n            ? view.props.dateRange.call(undefined, {\n                intl: intl,\n                date: date,\n                timezone: timezone,\n                numberOfDays: view.props.numberOfDays,\n                workWeekStart: view.props.workWeekStart || intl.firstDay(),\n                workWeekEnd: view.props.workWeekEnd || (intl.firstDay() + view.props.numberOfDays) % 6\n            })\n            : view.props.dateRange\n        : { start: defaultProps.defaultDate, end: defaultProps.defaultDate });\n    var handleDataChange = React.useCallback(function (_a) {\n        var _b = _a.created, created = _b === void 0 ? [] : _b, _c = _a.updated, updated = _c === void 0 ? [] : _c, _d = _a.deleted, deleted = _d === void 0 ? [] : _d;\n        if (onDataChange) {\n            var args = {\n                created: created,\n                updated: updated,\n                deleted: deleted\n            };\n            onDataChange.call(undefined, args);\n        }\n    }, [onDataChange]);\n    var handleCreate = React.useCallback(function (action) {\n        var created = [action.dataItem];\n        handleDataChange({ created: created });\n    }, [handleDataChange]);\n    var handleUpdate = React.useCallback(function (action) {\n        var created = [];\n        var updated = [];\n        if (action.series) {\n            if (Array.isArray(action.dataItem)) {\n                action.dataItem.map(function (dataItem) {\n                    var masterClone = clone(findMaster(action.dataItem, fields, data));\n                    var newDataItem = clone(dataItem);\n                    setField(newDataItem, fields.originalStart, getField(masterClone, fields.originalStart));\n                    setField(newDataItem, fields.recurrenceId, getField(masterClone, fields.recurrenceId));\n                    setField(newDataItem, fields.recurrenceExceptions, getField(masterClone, fields.recurrenceExceptions));\n                    updated.push(newDataItem);\n                });\n            }\n            else {\n                var masterClone = clone(findMaster(action.dataItem, fields, data));\n                var newDataItem = clone(action.dataItem);\n                setField(newDataItem, fields.originalStart, getField(masterClone, fields.originalStart));\n                setField(newDataItem, fields.recurrenceId, getField(masterClone, fields.recurrenceId));\n                setField(newDataItem, fields.recurrenceExceptions, getField(masterClone, fields.recurrenceExceptions));\n                updated.push(newDataItem);\n            }\n        }\n        else {\n            if (Array.isArray(action.dataItem)) {\n                action.dataItem.map(function (dataItem) {\n                    var isException = getField(dataItem, fields.recurrenceRule) !== null\n                        && getField(dataItem, fields.recurrenceRule) !== undefined;\n                    var isRecurring = getField(dataItem, fields.recurrenceId) !== null\n                        && getField(dataItem, fields.recurrenceId) !== undefined;\n                    if (isRecurring && isException) {\n                        var masterClone = clone(findMaster(dataItem, fields, data));\n                        var exceptionDate = getField(dataItem, fields.originalStart);\n                        var currentExceptions = getField(masterClone, fields.recurrenceExceptions) || [];\n                        setField(masterClone, fields.recurrenceExceptions, __spreadArray(__spreadArray([], currentExceptions, true), [exceptionDate], false));\n                        setField(dataItem, fields.recurrenceRule, null);\n                        updated.push(masterClone);\n                        created.push(dataItem);\n                    }\n                    else {\n                        updated.push(dataItem);\n                    }\n                });\n            }\n            else {\n                var isException = getField(action.dataItem, fields.recurrenceRule) !== null\n                    && getField(action.dataItem, fields.recurrenceRule) !== undefined;\n                var isRecurring = getField(action.dataItem, fields.recurrenceId) !== null\n                    && getField(action.dataItem, fields.recurrenceId) !== undefined;\n                if (isRecurring && isException) {\n                    var masterClone = clone(findMaster(action.dataItem, fields, data));\n                    var exceptionDate = getField(action.dataItem, fields.originalStart);\n                    var currentExceptions = getField(masterClone, fields.recurrenceExceptions) || [];\n                    setField(masterClone, fields.recurrenceExceptions, __spreadArray(__spreadArray([], currentExceptions, true), [exceptionDate], false));\n                    setField(action.dataItem, fields.recurrenceRule, null);\n                    updated.push(masterClone);\n                    created.push(action.dataItem);\n                }\n                else {\n                    updated.push(action.dataItem);\n                }\n            }\n        }\n        handleDataChange({ updated: updated, created: created });\n    }, [handleDataChange, fields, data]);\n    var handleRemove = React.useCallback(function (action) {\n        var updated = [];\n        var deleted = [];\n        if (action.series) {\n            var masterClone = clone(findMaster(action.dataItem, fields, data));\n            var dataItem = clone(action.dataItem);\n            setField(dataItem, fields.originalStart, getField(masterClone, fields.originalStart));\n            setField(dataItem, fields.recurrenceId, getField(masterClone, fields.recurrenceId));\n            setField(dataItem, fields.recurrenceRule, getField(masterClone, fields.recurrenceRule));\n            setField(dataItem, fields.recurrenceExceptions, getField(masterClone, fields.recurrenceExceptions));\n            deleted.push(dataItem);\n        }\n        else {\n            var isException = getField(action.dataItem, fields.recurrenceRule) !== null\n                && getField(action.dataItem, fields.recurrenceRule) !== undefined;\n            if (!isException) {\n                deleted.push(action.dataItem);\n            }\n            else {\n                var masterClone = clone(findMaster(action.dataItem, fields, data));\n                var exceptionDate = getField(action.dataItem, fields.originalStart);\n                var currentExceptions = getField(masterClone, fields.recurrenceExceptions) || [];\n                setField(masterClone, fields.recurrenceExceptions, __spreadArray(__spreadArray([], currentExceptions, true), [exceptionDate], false));\n                setField(action.dataItem, fields.recurrenceRule, null);\n                updated.push(masterClone);\n            }\n        }\n        handleDataChange({ updated: updated, deleted: deleted });\n    }, [handleDataChange, fields, data]);\n    var handleDataAction = React.useCallback(function (action) {\n        switch (action.type) {\n            case DATA_ACTION.create:\n                handleCreate(action);\n                break;\n            case DATA_ACTION.update:\n                handleUpdate(action);\n                break;\n            case DATA_ACTION.remove:\n                handleRemove(action);\n                break;\n            default:\n                break;\n        }\n    }, [handleCreate, handleRemove, handleUpdate]);\n    var handleActiveViewNameChange = React.useCallback(function (newView, event) {\n        setActiveViewName(newView, __assign(__assign({}, event), { target: scheduler.current }));\n    }, [\n        setActiveViewName,\n        scheduler\n    ]);\n    var handleDateChange = React.useCallback(function (newDate, event) {\n        setDate(newDate, __assign(__assign({}, event), { target: scheduler.current }));\n    }, [\n        setDate,\n        scheduler\n    ]);\n    var handleDatePickerChange = React.useCallback(function (event) {\n        if (!event.value) {\n            return;\n        }\n        setDate(event.value, __assign(__assign({}, event), { target: scheduler.current, nativeEvent: event.nativeEvent }));\n    }, [\n        setDate,\n        scheduler\n    ]);\n    var handleNextClick = React.useCallback(function (syntheticEvent) {\n        syntheticEvent.preventDefault();\n        var offset = view.props.numberOfDays || 1;\n        var isMonthView = offset > 27;\n        var newDate = isMonthView\n            ? addMonths(date, Math.round(offset / 27))\n            : addDays(date, offset);\n        setDate(newDate, event);\n    }, [date, setDate, view.props.numberOfDays]);\n    var handlePrevClick = React.useCallback(function (syntheticEvent) {\n        syntheticEvent.preventDefault();\n        var offset = view.props.numberOfDays || 1;\n        var isMonthView = offset > 27;\n        var newDate = isMonthView\n            ? addMonths(date, -(Math.round(offset / 27)))\n            : addDays(date, -(offset));\n        setDate(newDate, event);\n    }, [date, setDate, view.props.numberOfDays]);\n    var handleTodayClick = React.useCallback(function (syntheticEvent) {\n        syntheticEvent.preventDefault();\n        var newDate = getToday();\n        setDate(newDate, event);\n    }, [setDate]);\n    var handleShowWorkHoursClick = React.useCallback(function () { setShowWorkHours(!showWorkHours); }, [setShowWorkHours, showWorkHours]);\n    var handleFocus = React.useCallback(function () {\n        if (element.current) {\n            element.current.style.boxShadow = '0 0.5px 0.5px 0.5px rgba(0, 0, 0, .12)';\n        }\n    }, [element]);\n    var handleBlur = React.useCallback(function () {\n        if (element.current) {\n            element.current.style.boxShadow = '';\n        }\n    }, [element]);\n    var style = React.useMemo(function () { return (__assign(__assign({}, props.style), { height: props.height })); }, [props.height, props.style]);\n    var className = React.useMemo(function () { return classNames({ 'k-rtl': props.rtl !== undefined ? props.rtl : dir === 'rtl' }, 'k-widget k-scheduler k-floatwrap', props.className); }, [props.className, props.rtl, dir]);\n    var todayText = localization.toLanguageString(today, messages[today]);\n    var previousText = localization.toLanguageString(previousTitle, messages[previousTitle]);\n    var nextText = localization.toLanguageString(nextTitle, messages[nextTitle]);\n    var Header = view.props.header || props.header || defaultProps.header;\n    var Footer = view.props.footer || props.footer || defaultProps.footer;\n    var Navigation = SchedulerNavigation;\n    var ViewSelector = SchedulerViewSelector;\n    var _d = React.useState(null), eventSelection = _d[0], setEventSelection = _d[1];\n    return (React.createElement(SchedulerContext\n    // Static\n    , { \n        // Static\n        element: element, props: props, views: views, fields: fields, groups: groups, dateRange: dateRange, orientation: orientation, dateFormat: { dateFormat: dateFormat, shortDateFormat: shortDateFormat }, \n        // State\n        date: [date, handleDateChange], activeView: [activeViewName, handleActiveViewNameChange], selection: [eventSelection, setEventSelection], \n        // Reducers\n        data: [data, handleDataAction] },\n        React.createElement(\"div\", { ref: element, id: props.id, style: style, className: className, tabIndex: props.tabIndex, \n            // Aria\n            dir: dir, role: props.role, \"aria-label\": props.ariaLabel, \"aria-labelledby\": props.ariaLabelledby, \"aria-activedescendant\": (eventSelection && eventSelection.props.id) || undefined, \n            // Handlers\n            onFocus: handleFocus, onBlur: handleBlur },\n            React.createElement(Header, null,\n                React.createElement(Navigation, null,\n                    React.createElement(ButtonGroup, { className: \"k-scheduler-navigation\" },\n                        React.createElement(Button, { role: \"button\", tabIndex: -1, title: todayText, \"aria-label\": todayText, onClick: handleTodayClick }, todayText),\n                        React.createElement(Button, { role: \"button\", tabIndex: -1, icon: 'caret-alt-left', title: previousText, \"aria-label\": previousText, onClick: handlePrevClick }),\n                        React.createElement(Button, { role: \"button\", tabIndex: -1, icon: 'caret-alt-right', title: nextText, \"aria-label\": nextText, onClick: handleNextClick }))),\n                React.createElement(NavigationDatePicker, { value: date, onChange: handleDatePickerChange }),\n                React.createElement(ToolbarSpacer, null),\n                React.createElement(ViewSelector, null,\n                    React.createElement(ViewSelectorList, null))),\n            view && (React.createElement(view.type, __assign({ editable: props.editable, key: view.props.name, item: props.item, viewItem: props.viewItem, editItem: props.editItem, task: props.task, viewTask: props.viewTask, editTask: props.viewTask, slot: props.slot, viewSlot: props.viewSlot, editSlot: props.editSlot, form: props.form, onDataAction: handleDataAction, showWorkHours: showWorkHours }, view.props))),\n            React.createElement(Footer, null, (slotDuration && slotDuration < (24 * 60)) && (React.createElement(BusinessHours, null,\n                React.createElement(Button, { tabIndex: -1, onClick: handleShowWorkHoursClick, icon: \"clock\" }, localization.toLanguageString(showWorkHours\n                    ? showFullDay\n                    : showWorkDay, messages[showWorkHours\n                    ? showFullDay\n                    : showWorkDay]))))))));\n});\nvar defaultProps = {\n    data: [],\n    height: 600,\n    tabIndex: -1,\n    editable: false,\n    defaultDate: new Date(),\n    header: SchedulerHeader,\n    footer: SchedulerFooter,\n    navigation: SchedulerNavigation,\n    viewSelector: SchedulerViewSelector\n};\nScheduler.propTypes = {\n    data: PropTypes.array,\n    editable: PropTypes.oneOfType([\n        PropTypes.bool,\n        PropTypes.shape({\n            add: PropTypes.bool,\n            drag: PropTypes.bool,\n            edit: PropTypes.bool,\n            remove: PropTypes.bool,\n            resize: PropTypes.bool\n        })\n    ]),\n    view: PropTypes.string,\n    defaultView: PropTypes.string,\n    date: PropTypes.any,\n    defaultDate: PropTypes.any,\n    rtl: PropTypes.bool,\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    children: PropTypes.any,\n    timezone: PropTypes.string,\n    group: PropTypes.any,\n    resources: PropTypes.any,\n    modelFields: PropTypes.shape({\n        id: PropTypes.string,\n        start: PropTypes.string,\n        startTimezone: PropTypes.string,\n        end: PropTypes.string,\n        endTimezone: PropTypes.string,\n        isAllDay: PropTypes.string,\n        title: PropTypes.string,\n        description: PropTypes.string,\n        recurrenceRule: PropTypes.string,\n        recurrenceId: PropTypes.string,\n        recurrenceException: PropTypes.string\n    })\n};\nScheduler.defaultProps = defaultProps;\nScheduler.displayName = 'KendoReactScheduler';\n"]},"metadata":{},"sourceType":"module"}