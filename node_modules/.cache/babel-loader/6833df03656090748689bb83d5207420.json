{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\contactmaster\\\\SupplierMaterialCategoryTab.jsx\";\nimport React from 'react';\nimport { Row, Col, Card } from 'react-bootstrap'; //, Nav, Tab\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n//import { faPlus } from '@fortawesome/free-solid-svg-icons';//,faPencilAlt, faTrash\n\nimport { injectIntl } from 'react-intl'; //FormattedMessage,\n//import { Grid, GridColumn } from '@progress/kendo-react-grid';\n\nimport { process } from '@progress/kendo-data-query';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal'; //import Axios from 'axios';\n//import rsapi from '../../rsapi';\n\nimport { toast } from 'react-toastify';\nimport AddSupplierCategory from './AddSupplierCategory';\nimport AddMaterialCategory from './AddMaterialCategory';\nimport Esign from '../audittrail/Esign';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { constructOptionList, showEsign } from '../../components/CommonScript'; //import DataGrid from '../../components/DataGrid';\n\nimport SupplierTabs from './SupplierTabs';\nimport { transactionStatus } from '../../components/Enumeration';\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\n\nclass SupplierMaterialCategoryTab extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.supplierDataStateChange = event => {\n      this.setState({\n        dataState: event.dataState\n      });\n    };\n\n    this.materialDataStateChange = event => {\n      this.setState({\n        dataStateMaterial: event.dataState\n      });\n    };\n\n    this.onTabChange = tabProps => {\n      const screenName = tabProps.screenName;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          screenName\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.tabDetail = () => {\n      const addSupCatId = this.props.controlMap.has(\"AddSupplierCategory\") && this.props.controlMap.get(\"AddSupplierCategory\").ncontrolcode;\n      const deleteSupCatId = this.props.controlMap.has(\"DeleteSupplierCategory\") && this.props.controlMap.get(\"DeleteSupplierCategory\").ncontrolcode;\n      const addMatCatId = this.props.controlMap.has(\"AddMaterialCategory\") && this.props.controlMap.get(\"AddMaterialCategory\").ncontrolcode;\n      const deleteMatCatId = this.props.controlMap.has(\"DeleteMaterialCategory\") && this.props.controlMap.get(\"DeleteMaterialCategory\").ncontrolcode;\n      const supcatAddParam = {\n        screenName: \"Supplier Category\",\n        operation: \"create\",\n        primaryKeyField: \"nsuppliercatcode\",\n        masterData: this.props.masterData,\n        userInfo: this.props.userInfo,\n        ncontrolCode: addSupCatId\n      };\n      const supcatDeleteParam = {\n        screenName: \"SupplierCategory\",\n        methodUrl: \"SupplierMatrix\",\n        operation: \"delete\",\n        ncontrolCode: deleteSupCatId\n      };\n      const matericatAddParam = {\n        screenName: \"Material Category\",\n        operation: \"create\",\n        primaryKeyField: \"nmaterialcatcode\",\n        masterData: this.props.masterData,\n        userInfo: this.props.userInfo,\n        ncontrolCode: addMatCatId\n      };\n      const materialcatDeleteParam = {\n        screenName: \"MaterialCategory\",\n        methodUrl: \"SupplierMatrix\",\n        operation: \"delete\",\n        ncontrolCode: deleteMatCatId\n      };\n      const tabMap = new Map();\n      tabMap.set(\"IDS_SUPPLIERCATEGORY\", /*#__PURE__*/React.createElement(SupplierTabs, {\n        userRoleControlRights: this.props.userRoleControlRights,\n        controlMap: this.props.controlMap,\n        inputParam: this.props.inputParam,\n        userInfo: this.props.userInfo,\n        addId: addSupCatId,\n        addParam: supcatAddParam,\n        comboDataService: this.props.getSupplierCategoryComboDataService,\n        addTitleIDS: \"IDS_SUPPLIERCATEGORY\",\n        addTitleDefaultMsg: 'SupplierCategory',\n        primaryKeyField: \"nsuppliermatrixcode\",\n        masterData: this.props.masterData,\n        primaryList: \"SupplierCategory\",\n        dataResult: process(this.props.masterData[\"SupplierCategory\"], this.state.dataState) // dataState={this.state.dataState}\n        // dataStateChange={this.supplierDataStateChange}\n        ,\n        dataState: this.props.screenName === undefined || this.props.screenName === '' || this.props.screenName === \"SupplierCategory\" ? this.state.dataState : {\n          skip: 0\n        },\n        dataStateChange: event => this.setState({\n          dataState: event.dataState\n        }),\n        columnList: this.suppliercatColumnList,\n        methodUrl: \"SupplierMatrix\",\n        deleteRecord: this.deleteRecord,\n        deleteParam: supcatDeleteParam //selectedId={this.props.selectedId}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 44\n        }\n      }));\n      tabMap.set(\"IDS_MATERIALCATEGORY\", /*#__PURE__*/React.createElement(SupplierTabs, {\n        userRoleControlRights: this.props.userRoleControlRights,\n        controlMap: this.props.controlMap,\n        inputParam: this.props.inputParam,\n        userInfo: this.props.userInfo,\n        addId: addMatCatId,\n        addParam: matericatAddParam,\n        comboDataService: this.props.getMaterialCategoryComboDataService,\n        addTitleIDS: \"IDS_MATERIALCATEGORY\",\n        addTitleDefaultMsg: 'MaterialCategory',\n        primaryKeyField: \"nsuppliermatrixcode\",\n        masterData: this.props.masterData,\n        primaryList: \"MaterialCategory\",\n        dataResult: process(this.props.masterData[\"MaterialCategory\"], this.state.dataStateMaterial) // dataState={this.state.dataStateMaterial}\n        // dataStateChange={this.materialDataStateChange}\n        ,\n        dataState: this.props.screenName === undefined || this.props.screenName === \"MaterialCategory\" ? this.state.dataStateMaterial : {\n          skip: 0\n        },\n        dataStateChange: event => this.setState({\n          dataStateMaterial: event.dataState\n        }),\n        columnList: this.materialcatColumnList,\n        methodUrl: \"SupplierMatrix\",\n        deleteRecord: this.deleteRecord,\n        deleteParam: materialcatDeleteParam //selectedId={this.props.selectedId}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 44\n        }\n      }));\n      return tabMap;\n    };\n\n    this.closeModal = () => {\n      let loadEsign = this.props.loadEsign;\n      let openChildModal = this.props.openChildModal;\n      let selectedRecord = this.props.selectedRecord;\n\n      if (this.props.loadEsign) {\n        if (this.props.operation === \"delete\") {\n          loadEsign = false;\n          openChildModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsign = false;\n          selectedRecord['esignpassword'] = '';\n          selectedRecord['esigncomments'] = '';\n        }\n      } else {\n        openChildModal = false;\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openChildModal,\n          loadEsign,\n          selectedRecord\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = comboData;\n      ;\n\n      if (fieldName === \"nsuppliercatcode\") {\n        let selectedSupplierCategory = comboData;\n        this.setState({\n          selectedRecord,\n          selectedSupplierCategory\n        });\n      }\n\n      if (fieldName === \"nmaterialcatcode\") {\n        let selectedMaterialCategory = comboData;\n        this.setState({\n          selectedRecord,\n          selectedMaterialCategory\n        });\n      }\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        if (event.target.name === \"ntransactionstatus\") selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE; // else if (event.target.name === \"nlockmode\")\n        //     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\n        else selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      //add / edit  \n      let inputParam = {};\n\n      if (this.props.screenName === \"Supplier Category\") {\n        inputParam = this.saveSupplierCategory(saveType, formRef);\n      } else if (this.props.screenName === \"Material Category\") {\n        inputParam = this.saveMaterial(saveType, formRef);\n      }\n\n      if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData: this.props.masterData\n            },\n            saveType\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\n      }\n    };\n\n    this.deleteRecord = supplierparam => {\n      if (this.props.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: this.props.masterData.SelectedSupplier.stranstatus\n        }));\n      } else {\n        const inputParam = {\n          classUrl: \"suppliermatrix\",\n          methodUrl: supplierparam.methodUrl,\n          inputData: {\n            [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\n            \"userinfo\": this.props.userInfo\n          },\n          operation: supplierparam.operation,\n          //dataState: this.state.dataState,\n          //dataStateMaterial: this.state.dataStateMaterial\n          dataState: this.state.dataState\n        };\n\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, supplierparam.ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData: this.props.masterData\n              },\n              openChildModal: true,\n              screenName: supplierparam.screenName,\n              operation: supplierparam.operation\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\n        }\n      }\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"]\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openChildModal\");\n    };\n\n    const dataState = {\n      skip: 0,\n      take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n    };\n    const dataStateMaterial = {\n      skip: 0,\n      take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n    };\n    this.state = {\n      isOpen: false,\n      selectedRecord: {},\n      dataResult: [],\n      activeTab: 'SupplierCategory-tab',\n      dataState: dataState,\n      dataStateMaterial: dataStateMaterial,\n      supplierCategory: [],\n      materialCategory: []\n    };\n    this.supplerCategoryFieldList = ['nsuppliercode', 'ncategorycode', 'ntypecode', 'ssuppliercatname', 'smaterialcatname', 'sremarks', 'ntransactionstatus'];\n    this.suppliercatColumnList = [{\n      \"idsName\": \"IDS_SUPPLIERCATNAME\",\n      \"dataField\": \"ssuppliercatname\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }];\n    this.materialcatColumnList = [{\n      \"idsName\": \"IDS_MATERIALCATNAME\",\n      \"dataField\": \"smaterialcatname\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }];\n    this.validationSuppliercatColumnList = [{\n      \"idsName\": \"IDS_SUPPLIERCATNAME\",\n      \"dataField\": \"nsuppliercatcode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n    this.validationMaterialcatColumnList = [{\n      \"idsName\": \"IDS_MATERIALCATNAME\",\n      \"dataField\": \"nmaterialcatcode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n  }\n\n  render() {\n    const mandatoryFields = [];\n    const matmandatoryFields = [];\n    this.validationSuppliercatColumnList.forEach(item => item.mandatory === true ? mandatoryFields.push(item) : \"\");\n    this.validationMaterialcatColumnList.forEach(item => item.mandatory === true ? matmandatoryFields.push(item) : \"\");\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n      className: \"no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"at-tabs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CustomTabs, {\n      tabDetail: this.tabDetail(),\n      onTabChange: this.onTabChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    })))), this.props.openChildModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.openChildModal,\n      closeModal: this.closeModal,\n      operation: this.props.operation,\n      inputParam: this.props.inputParam,\n      screenName: this.props.screenName,\n      onSaveClick: this.onSaveClick,\n      updateStore: this.props.updateStore,\n      esign: this.props.loadEsign,\n      validateEsign: this.validateEsign,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: this.props.screenName === \"Supplier Category\" ? mandatoryFields : matmandatoryFields || [],\n      addComponent: this.props.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.operation,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 29\n        }\n      }) : this.props.screenName === \"Supplier Category\" ? /*#__PURE__*/React.createElement(AddSupplierCategory, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onComboChange: this.onComboChange,\n        selectedSupplierCategory: this.props.masterData.selectedSupplierCategory,\n        supplierCategory: this.state.supplierCategory || [] //{this.props.supplierCategory || []}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 33\n        }\n      }) : /*#__PURE__*/React.createElement(AddMaterialCategory, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onComboChange: this.onComboChange,\n        operation: this.props.operation,\n        selectedMaterialCategory: this.props.masterData.selectedMaterialCategory,\n        materialCategory: this.state.materialCategory //{this.props.materialCategory}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 35\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.masterData !== previousProps.masterData) {\n      let isOpen = false;\n\n      if (this.props.errorCode !== undefined && (this.state.operation === \"create\" || this.state.operation === \"update\")) {\n        isOpen = true;\n      }\n\n      let {\n        dataState,\n        dataStateMaterial\n      } = this.state;\n\n      if (this.props.dataState === undefined) {\n        dataState = {\n          skip: 0,\n          take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\n          filter: undefined,\n          sort: undefined\n        };\n        dataStateMaterial = {\n          skip: 0,\n          take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\n          filter: undefined,\n          sort: undefined\n        };\n      }\n\n      this.setState({\n        isOpen,\n        activeTab: 'SupplierCategory-tab',\n        dataState,\n        dataStateMaterial\n      });\n    }\n\n    if (this.props.selectedRecord !== previousProps.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.selectedRecord\n      });\n    }\n\n    let {\n      dataState,\n      dataStateMaterial\n    } = this.state;\n\n    if (this.props.dataState !== previousProps.dataState && this.props.dataState !== dataState) {\n      dataState = {\n        skip: 0,\n        take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n      };\n      dataStateMaterial = {\n        skip: 0,\n        take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n      };\n      this.setState({\n        dataState,\n        dataStateMaterial\n      });\n    } // {\n    //     dataState={...dataState,filter:undefined,sort:undefined}\n    //     dataStateMaterial={...dataStateMaterial,filter:undefined,sort:undefined}\n    //     this.setState({ dataState, dataStateMaterial });\n    // }\n\n\n    if (this.props.supplierCategory !== previousProps.supplierCategory || this.props.materialCategory !== previousProps.materialCategory) {\n      const supplierCategory = constructOptionList(this.props.supplierCategory || [], \"nsuppliercatcode\", \"ssuppliercatname\", undefined, undefined, undefined);\n      const supplierCategoryList = supplierCategory.get(\"OptionList\");\n      const materialCategory = constructOptionList(this.props.materialCategory || [], \"nmaterialcatcode\", \"smaterialcatname\", undefined, undefined, undefined);\n      const materialCategoryList = materialCategory.get(\"OptionList\");\n      this.setState({\n        supplierCategory: supplierCategoryList,\n        materialCategory: materialCategoryList\n      });\n    }\n  }\n\n  saveSupplierCategory(saveType, formRef) {\n    let inputData = [];\n    inputData[\"userinfo\"] = this.props.userInfo;\n    inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\n    inputData[\"suppliermatrix\"] = {};\n    let dataState = {\n      skip: 0,\n      take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n    };\n    let suppliermatrixArray = [];\n    suppliermatrixArray = this.state.selectedRecord.nsuppliercatcode.map(item => {\n      let suppliermat = {};\n      suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\n\n      suppliermat[\"ntypecode\"] = 1;\n      suppliermat[\"sremarks\"] = \"\";\n      suppliermat[\"ntransactionstatus\"] = transactionStatus.ACTIVE;\n      suppliermat[\"ncategorycode\"] = item.value; //suppliermatrixArray.push(suppliermat);\n\n      return suppliermat;\n    });\n    inputData['suppliermatrix'] = suppliermatrixArray;\n    const inputParam = {\n      classUrl: \"suppliermatrix\",\n      methodUrl: \"SupplierMatrix\",\n      inputData: inputData,\n      operation: this.props.operation,\n      saveType,\n      formRef,\n      dataState\n    };\n    return inputParam;\n  }\n\n  saveMaterial(saveType, formRef) {\n    let inputData = [];\n    inputData[\"userinfo\"] = this.props.userInfo;\n    inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\n    inputData[\"suppliermatrix\"] = {};\n    let dataStateMaterial = undefined;\n    let suppliermatrixArray = [];\n    suppliermatrixArray = this.state.selectedRecord.nmaterialcatcode.map(item => {\n      let suppliermat = {};\n      suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\n\n      suppliermat[\"ntypecode\"] = 2;\n      suppliermat[\"sremarks\"] = \"\";\n      suppliermat[\"ntransactionstatus\"] = transactionStatus.ACTIVE;\n      suppliermat[\"ncategorycode\"] = item.value; //suppliermatrixArray.push(suppliermat);\n\n      return suppliermat;\n    });\n    inputData['suppliermatrix'] = suppliermatrixArray;\n    const inputParam = {\n      classUrl: \"suppliermatrix\",\n      methodUrl: \"SupplierMatrix\",\n      inputData: inputData,\n      operation: this.props.operation,\n      saveType,\n      formRef,\n      dataStateMaterial\n    };\n    return inputParam;\n  }\n\n}\n\nexport default injectIntl(SupplierMaterialCategoryTab);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/contactmaster/SupplierMaterialCategoryTab.jsx"],"names":["React","Row","Col","Card","injectIntl","process","SlideOutModal","toast","AddSupplierCategory","AddMaterialCategory","Esign","DEFAULT_RETURN","constructOptionList","showEsign","SupplierTabs","transactionStatus","CustomTabs","SupplierMaterialCategoryTab","Component","constructor","props","supplierDataStateChange","event","setState","dataState","materialDataStateChange","dataStateMaterial","onTabChange","tabProps","screenName","updateInfo","typeName","data","updateStore","tabDetail","addSupCatId","controlMap","has","get","ncontrolcode","deleteSupCatId","addMatCatId","deleteMatCatId","supcatAddParam","operation","primaryKeyField","masterData","userInfo","ncontrolCode","supcatDeleteParam","methodUrl","matericatAddParam","materialcatDeleteParam","tabMap","Map","set","userRoleControlRights","inputParam","getSupplierCategoryComboDataService","state","undefined","skip","suppliercatColumnList","deleteRecord","getMaterialCategoryComboDataService","materialcatColumnList","closeModal","loadEsign","openChildModal","selectedRecord","onComboChange","comboData","fieldName","selectedSupplierCategory","selectedMaterialCategory","onInputOnChange","target","type","name","checked","ACTIVE","DEACTIVE","YES","NO","value","onSaveClick","saveType","formRef","saveSupplierCategory","saveMaterial","esignRights","nformcode","screenData","crudMaster","supplierparam","SelectedSupplier","ntransactionstatus","RETIRED","warn","intl","formatMessage","id","stranstatus","classUrl","inputData","toLowerCase","validateEsign","sreason","password","validateEsignCredential","take","settings","parseInt","isOpen","dataResult","activeTab","supplierCategory","materialCategory","supplerCategoryFieldList","validationSuppliercatColumnList","validationMaterialcatColumnList","render","mandatoryFields","matmandatoryFields","forEach","item","mandatory","push","componentDidUpdate","previousProps","errorCode","filter","sort","supplierCategoryList","materialCategoryList","suppliermatrixArray","nsuppliercatcode","map","suppliermat","nsuppliercode","nmaterialcatcode"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Row, Col, Card } from 'react-bootstrap';//, Nav, Tab\r\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n//import { faPlus } from '@fortawesome/free-solid-svg-icons';//,faPencilAlt, faTrash\r\nimport { injectIntl } from 'react-intl';//FormattedMessage,\r\n//import { Grid, GridColumn } from '@progress/kendo-react-grid';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\n//import Axios from 'axios';\r\n//import rsapi from '../../rsapi';\r\nimport { toast } from 'react-toastify';\r\nimport AddSupplierCategory from './AddSupplierCategory';\r\nimport AddMaterialCategory from './AddMaterialCategory';\r\nimport Esign from '../audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { constructOptionList, showEsign } from '../../components/CommonScript';\r\n//import DataGrid from '../../components/DataGrid';\r\nimport SupplierTabs from './SupplierTabs';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\r\n\r\nclass SupplierMaterialCategoryTab extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.settings? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        const dataStateMaterial = {\r\n            skip: 0,\r\n            take:this.props.settings? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        this.state = {\r\n            isOpen: false, selectedRecord: {}, dataResult: [],\r\n            activeTab: 'SupplierCategory-tab',\r\n            dataState: dataState,\r\n            dataStateMaterial: dataStateMaterial, supplierCategory: [], materialCategory: []\r\n        };\r\n        this.supplerCategoryFieldList = ['nsuppliercode', 'ncategorycode', 'ntypecode', 'ssuppliercatname', 'smaterialcatname',\r\n            'sremarks', 'ntransactionstatus'];\r\n        this.suppliercatColumnList = [{ \"idsName\": \"IDS_SUPPLIERCATNAME\", \"dataField\": \"ssuppliercatname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" }];\r\n        this.materialcatColumnList = [{ \"idsName\": \"IDS_MATERIALCATNAME\", \"dataField\": \"smaterialcatname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" }];\r\n        this.validationSuppliercatColumnList = [{ \"idsName\": \"IDS_SUPPLIERCATNAME\", \"dataField\": \"nsuppliercatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" }];\r\n        this.validationMaterialcatColumnList = [{ \"idsName\": \"IDS_MATERIALCATNAME\", \"dataField\": \"nmaterialcatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" }];\r\n    }\r\n    supplierDataStateChange = (event) => {\r\n        this.setState({\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n    materialDataStateChange = (event) => {\r\n        this.setState({\r\n            dataStateMaterial: event.dataState\r\n        });\r\n    }\r\n    render() {\r\n        const mandatoryFields = [];\r\n        const matmandatoryFields = [];\r\n        this.validationSuppliercatColumnList.forEach(item => item.mandatory === true ?\r\n            mandatoryFields.push(item) : \"\"\r\n        );\r\n        this.validationMaterialcatColumnList.forEach(item => item.mandatory === true ?\r\n            matmandatoryFields.push(item) : \"\"\r\n        );\r\n        return (\r\n            <>\r\n                <Row className=\"no-gutters\">\r\n                    <Col md={12}>\r\n                        <Card className=\"at-tabs\">\r\n                            <CustomTabs tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n                {this.props.openChildModal &&\r\n                    <SlideOutModal show={this.props.openChildModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.operation}\r\n                        inputParam={this.props.inputParam}\r\n                        screenName={this.props.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        updateStore={this.props.updateStore}\r\n                        esign={this.props.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.screenName === \"Supplier Category\" ? mandatoryFields : matmandatoryFields || []}\r\n                        addComponent={this.props.loadEsign ?\r\n                            <Esign operation={this.props.operation}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            /> :\r\n                            this.props.screenName === \"Supplier Category\" ?\r\n                                <AddSupplierCategory selectedRecord={this.state.selectedRecord || {}}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    selectedSupplierCategory={this.props.masterData.selectedSupplierCategory}\r\n                                    supplierCategory={this.state.supplierCategory || []} //{this.props.supplierCategory || []}\r\n                                />\r\n                                : <AddMaterialCategory selectedRecord={this.state.selectedRecord || {}}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    operation={this.props.operation}\r\n                                    selectedMaterialCategory={this.props.masterData.selectedMaterialCategory}\r\n                                    materialCategory={this.state.materialCategory}//{this.props.materialCategory}\r\n                                />\r\n\r\n                        }\r\n\r\n                    />\r\n                }\r\n            </>\r\n\r\n        )\r\n\r\n    }\r\n\r\n    onTabChange = (tabProps) =>{\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {screenName}\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n    tabDetail = () => {\r\n        const addSupCatId = this.props.controlMap.has(\"AddSupplierCategory\") && this.props.controlMap.get(\"AddSupplierCategory\").ncontrolcode\r\n\r\n        const deleteSupCatId = this.props.controlMap.has(\"DeleteSupplierCategory\") && this.props.controlMap.get(\"DeleteSupplierCategory\").ncontrolcode\r\n\r\n        const addMatCatId = this.props.controlMap.has(\"AddMaterialCategory\") && this.props.controlMap.get(\"AddMaterialCategory\").ncontrolcode\r\n\r\n        const deleteMatCatId = this.props.controlMap.has(\"DeleteMaterialCategory\") && this.props.controlMap.get(\"DeleteMaterialCategory\").ncontrolcode\r\n\r\n        const supcatAddParam = {\r\n            screenName: \"Supplier Category\", operation: \"create\", primaryKeyField: \"nsuppliercatcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: addSupCatId\r\n        };\r\n\r\n        const supcatDeleteParam = { screenName: \"SupplierCategory\", methodUrl: \"SupplierMatrix\", operation: \"delete\", ncontrolCode: deleteSupCatId };\r\n\r\n        const matericatAddParam = {\r\n            screenName: \"Material Category\", operation: \"create\", primaryKeyField: \"nmaterialcatcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: addMatCatId\r\n        };\r\n\r\n        const materialcatDeleteParam = { screenName: \"MaterialCategory\", methodUrl: \"SupplierMatrix\", operation: \"delete\", ncontrolCode: deleteMatCatId };\r\n\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_SUPPLIERCATEGORY\", <SupplierTabs userRoleControlRights={this.props.userRoleControlRights}\r\n            controlMap={this.props.controlMap}\r\n            inputParam={this.props.inputParam}\r\n            userInfo={this.props.userInfo}\r\n            addId={addSupCatId}\r\n            addParam={supcatAddParam}\r\n            comboDataService={this.props.getSupplierCategoryComboDataService}\r\n            addTitleIDS={\"IDS_SUPPLIERCATEGORY\"}\r\n            addTitleDefaultMsg={'SupplierCategory'}\r\n            primaryKeyField={\"nsuppliermatrixcode\"}\r\n            masterData={this.props.masterData}\r\n            primaryList={\"SupplierCategory\"}\r\n            dataResult={process(this.props.masterData[\"SupplierCategory\"], this.state.dataState)}\r\n            // dataState={this.state.dataState}\r\n            // dataStateChange={this.supplierDataStateChange}\r\n            dataState={(this.props.screenName === undefined || this.props.screenName === '' || this.props.screenName === \"SupplierCategory\") ? this.state.dataState : { skip: 0 }}\r\n            dataStateChange={(event) => this.setState({ dataState: event.dataState })}\r\n            columnList={this.suppliercatColumnList}\r\n            methodUrl={\"SupplierMatrix\"}\r\n            deleteRecord={this.deleteRecord}\r\n            deleteParam={supcatDeleteParam}\r\n        //selectedId={this.props.selectedId}\r\n        />)\r\n        tabMap.set(\"IDS_MATERIALCATEGORY\", <SupplierTabs userRoleControlRights={this.props.userRoleControlRights}\r\n            controlMap={this.props.controlMap}\r\n            inputParam={this.props.inputParam}\r\n            userInfo={this.props.userInfo}\r\n            addId={addMatCatId}\r\n            addParam={matericatAddParam}\r\n            comboDataService={this.props.getMaterialCategoryComboDataService}\r\n            addTitleIDS={\"IDS_MATERIALCATEGORY\"}\r\n            addTitleDefaultMsg={'MaterialCategory'}\r\n            primaryKeyField={\"nsuppliermatrixcode\"}\r\n            masterData={this.props.masterData}\r\n            primaryList={\"MaterialCategory\"}\r\n            dataResult={process(this.props.masterData[\"MaterialCategory\"], this.state.dataStateMaterial)}\r\n            // dataState={this.state.dataStateMaterial}\r\n            // dataStateChange={this.materialDataStateChange}\r\n            dataState={(this.props.screenName === undefined || this.props.screenName === \"MaterialCategory\") ? this.state.dataStateMaterial : { skip: 0 }}\r\n            dataStateChange={(event) => this.setState({ dataStateMaterial: event.dataState })}\r\n            columnList={this.materialcatColumnList}\r\n            methodUrl={\"SupplierMatrix\"}\r\n            deleteRecord={this.deleteRecord}\r\n            deleteParam={materialcatDeleteParam}\r\n        //selectedId={this.props.selectedId}\r\n        />)\r\n        return tabMap;\r\n    }\r\n\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.loadEsign;\r\n        let openChildModal = this.props.openChildModal;\r\n        let selectedRecord = this.props.selectedRecord;\r\n        if (this.props.loadEsign) {\r\n            if (this.props.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openChildModal = false;\r\n                selectedRecord={};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = '';\r\n                selectedRecord['esigncomments'] = '';\r\n            }\r\n        }\r\n        else {\r\n            openChildModal = false;\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openChildModal, loadEsign, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;;\r\n\r\n\r\n        if (fieldName === \"nsuppliercatcode\") {\r\n            let selectedSupplierCategory = comboData;\r\n            this.setState({ selectedRecord, selectedSupplierCategory });\r\n        }\r\n        if (fieldName === \"nmaterialcatcode\") {\r\n            let selectedMaterialCategory = comboData;\r\n            this.setState({ selectedRecord, selectedMaterialCategory });\r\n        }\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"ntransactionstatus\")\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n            // else if (event.target.name === \"nlockmode\")\r\n            //     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\r\n            else\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.masterData !== previousProps.masterData) {\r\n\r\n            let isOpen = false;\r\n            if (this.props.errorCode !== undefined && (this.state.operation === \"create\" || this.state.operation === \"update\")) {\r\n                isOpen = true;\r\n            }\r\n            let { dataState, dataStateMaterial } = this.state;\r\n            if(this.props.dataState === undefined)\r\n            {\r\n                dataState={skip: 0,take:this.props.settings? parseInt(this.props.settings[14]) : 5,filter:undefined,sort:undefined}\r\n                dataStateMaterial = { skip: 0, take :this.props.settings? parseInt(this.props.settings[14]) : 5,filter:undefined,sort:undefined }\r\n            } \r\n            this.setState({ isOpen, activeTab: 'SupplierCategory-tab',dataState, dataStateMaterial });\r\n        }\r\n\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.selectedRecord });\r\n        }\r\n        let { dataState, dataStateMaterial } = this.state;\r\n        if (this.props.dataState !== previousProps.dataState && this.props.dataState !== dataState) {\r\n            dataState = { skip: 0,take : this.props.settings? parseInt(this.props.settings[14]) : 5 }\r\n            dataStateMaterial = { skip: 0 , take:this.props.settings? parseInt(this.props.settings[14]) : 5}\r\n            this.setState({ dataState, dataStateMaterial });\r\n        }\r\n     \r\n        // {\r\n        //     dataState={...dataState,filter:undefined,sort:undefined}\r\n        //     dataStateMaterial={...dataStateMaterial,filter:undefined,sort:undefined}\r\n        //     this.setState({ dataState, dataStateMaterial });\r\n        // }\r\n        if (this.props.supplierCategory !== previousProps.supplierCategory || this.props.materialCategory !== previousProps.materialCategory) {\r\n\r\n            const supplierCategory = constructOptionList(this.props.supplierCategory || [], \"nsuppliercatcode\",\r\n                \"ssuppliercatname\", undefined, undefined, undefined);\r\n            const supplierCategoryList = supplierCategory.get(\"OptionList\");\r\n\r\n            const materialCategory = constructOptionList(this.props.materialCategory || [], \"nmaterialcatcode\",\r\n                \"smaterialcatname\", undefined, undefined, undefined);\r\n            const materialCategoryList = materialCategory.get(\"OptionList\");\r\n\r\n            this.setState({ supplierCategory: supplierCategoryList, materialCategory: materialCategoryList });\r\n        }\r\n    }\r\n\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        //add / edit  \r\n        let inputParam = {};\r\n\r\n        if (this.props.screenName === \"Supplier Category\") {\r\n            inputParam = this.saveSupplierCategory(saveType, formRef);\r\n        }\r\n        else if (this.props.screenName === \"Material Category\") {\r\n            inputParam = this.saveMaterial(saveType, formRef);\r\n        }\r\n\r\n\r\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n        }\r\n\r\n    }\r\n\r\n    saveSupplierCategory(saveType, formRef) {\r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\r\n        inputData[\"suppliermatrix\"] = {};\r\n        let dataState = { skip: 0 , take :this.props.settings? parseInt(this.props.settings[14]) : 5 };\r\n\r\n        let suppliermatrixArray = []\r\n        suppliermatrixArray = this.state.selectedRecord.nsuppliercatcode.map(item => {\r\n            let suppliermat = {}\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"ntypecode\"] = 1;\r\n            suppliermat[\"sremarks\"] = \"\";\r\n            suppliermat[\"ntransactionstatus\"] = transactionStatus.ACTIVE;\r\n            suppliermat[\"ncategorycode\"] = item.value\r\n            //suppliermatrixArray.push(suppliermat);\r\n            return suppliermat;\r\n        });\r\n        inputData['suppliermatrix'] = suppliermatrixArray;\r\n\r\n        const inputParam = {\r\n            classUrl: \"suppliermatrix\",\r\n            methodUrl: \"SupplierMatrix\",\r\n            inputData: inputData,\r\n            operation: this.props.operation, saveType, formRef, dataState\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    saveMaterial(saveType, formRef) {\r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\r\n        inputData[\"suppliermatrix\"] = {};\r\n        let dataStateMaterial = undefined;\r\n\r\n        let suppliermatrixArray = []\r\n        suppliermatrixArray = this.state.selectedRecord.nmaterialcatcode.map(item => {\r\n            let suppliermat = {}\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"ntypecode\"] = 2;\r\n            suppliermat[\"sremarks\"] = \"\";\r\n            suppliermat[\"ntransactionstatus\"] = transactionStatus.ACTIVE;\r\n            suppliermat[\"ncategorycode\"] = item.value\r\n            //suppliermatrixArray.push(suppliermat);\r\n            return suppliermat;\r\n        });\r\n        inputData['suppliermatrix'] = suppliermatrixArray;\r\n\r\n        const inputParam = {\r\n            classUrl: \"suppliermatrix\",\r\n            methodUrl: \"SupplierMatrix\",\r\n            inputData: inputData,\r\n            operation: this.props.operation, saveType, formRef, dataStateMaterial\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n\r\n    deleteRecord = (supplierparam) => {\r\n        if (this.props.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: this.props.masterData.SelectedSupplier.stranstatus }));\r\n        }\r\n        else {\r\n            const inputParam = {\r\n                classUrl: \"suppliermatrix\",\r\n                methodUrl: supplierparam.methodUrl,\r\n                inputData: {\r\n                    [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\r\n                    \"userinfo\": this.props.userInfo,\r\n\r\n                },\r\n                operation: supplierparam.operation,\r\n                //dataState: this.state.dataState,\r\n                //dataStateMaterial: this.state.dataStateMaterial\r\n                dataState: this.state.dataState\r\n            }\r\n\r\n            if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, supplierparam.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.masterData },\r\n                        openChildModal: true, screenName: supplierparam.screenName, operation: supplierparam.operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n            }\r\n        }\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openChildModal\");\r\n    }\r\n}\r\n\r\nexport default injectIntl(SupplierMaterialCategoryTab);\r\n\r\n"]},"metadata":{},"sourceType":"module"}