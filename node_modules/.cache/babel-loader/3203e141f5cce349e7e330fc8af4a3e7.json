{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\product\\\\ProductHistory\\\\ProductHistory.jsx\";\nimport React, { Component } from 'react';\nimport ListMaster from '../../../components/list-master/list-master.component';\nimport { connect } from 'react-redux';\nimport { callService, crudMaster, selectProductHistoryDetail, filterColumnData, getProductMaHolderHistory } from '../../../actions';\nimport { Col, Row, Card, FormGroup, FormLabel } from 'react-bootstrap';\nimport { ProductList, ContentPanel, MediaLabel } from '../product.styled';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { getControlMap } from '../../../components/CommonScript';\nimport ProductHistoryTabs from './ProductHistoryTabs';\nimport { transactionStatus } from '../../../components/Enumeration'; // import ReactTooltip from 'react-tooltip';\n\nclass ProductHistory extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      const inputParam = {\n        inputData: {\n          \"userinfo\": this.props.Login.userInfo\n        },\n        classUrl: \"producthistory\",\n        methodUrl: \"ProductHistory\",\n        displayName: \"IDS_PRODUCTHISTORY\",\n        userInfo: this.props.Login.userInfo\n      };\n      this.props.callService(inputParam);\n    };\n\n    this.state = {\n      error: \"\",\n      ProductHistory: [],\n      operation: \"\",\n      selectedProductHistory: undefined,\n      ProductManufacturerHistory: [],\n      ProductMAholderHistory: [],\n      userRoleControlRights: [],\n      controlMap: new Map()\n    };\n    this.searchRef = React.createRef();\n  }\n\n  render() {\n    let userStatusCSS = \"\";\n\n    if (this.props.Login.masterData.selectedProductHistory && this.props.Login.masterData.selectedProductHistory.ntransactionstatus === transactionStatus.DRAFT) {\n      userStatusCSS = \"outline-secondary\";\n    } else if (this.props.Login.masterData.selectedProductHistory && this.props.Login.masterData.selectedProductHistory.ntransactionstatus === transactionStatus.COMPLETED) {\n      userStatusCSS = \"outline-success\";\n    } else if (this.props.Login.masterData.selectedProductHistory && this.props.Login.masterData.selectedProductHistory.ntransactionstatus === transactionStatus.CORRECTION) {\n      userStatusCSS = \"outline-correction\";\n    } else {\n      userStatusCSS = \"outline-Final\";\n    }\n\n    const filterParam = {\n      inputListName: \"ProductHistory\",\n      selectedObject: \"selectedProductHistory\",\n      primaryKeyField: \"nproducthistorycode\",\n      fetchUrl: \"producthistory/getProductManufByProductID\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: [\"sproductname\", \"sproductcatname\", \"stransdisplaystatus\", \"sofficialproductname\", \"sbillto\", \"suserrolename\", \"sfirstname\", \"scontactusername\", \"schargebandname\"]\n    };\n    const addProductHistory = \"\";\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-4 mtop-fixed-breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      filterColumnData: this.props.filterColumnData,\n      formatMessage: this.props.intl.formatMessage,\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_PRODUCTHISTORY\"\n      }),\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.ProductHistory,\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      getMasterDetail: ProductHistory => this.props.selectProductHistoryDetail(ProductHistory, this.props.Login.masterData, this.props.Login.userInfo),\n      selectedMaster: this.props.Login.masterData.selectedProductHistory,\n      primaryKeyField: \"nproducthistorycode\",\n      mainField: \"sproductname\",\n      firstField: \"sproductcatname\",\n      secondField: \"stransdisplaystatus\",\n      isIDSField: \"Yes\",\n      isVisible: \"yes\",\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addProductHistory,\n      filterParam: filterParam,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      handlePageChange: this.handlePageChange //  openModal = {()=>this.setState({screenName:\"Add Product\", operation:\"create\", isOpen:true})}\n      ,\n      openModal: \"\",\n      hidePaging: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ProductList, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }, this.props.Login.masterData.ProductHistory && this.props.Login.masterData.ProductHistory.length > 0 && this.props.Login.masterData.selectedProductHistory ? /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      \"data-tip\": this.props.Login.masterData.selectedProductHistory.sproductname //  data-for=\"tooltip_list_wrap\"\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 45\n      }\n    }, this.props.Login.masterData.selectedProductHistory.sproductname), /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      \"data-tip\": this.props.Login.masterData.selectedProductHistory.sproductcatname // data-for=\"tooltip_list_wrap\"\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 49\n      }\n    }, this.props.Login.masterData.selectedProductHistory.sproductcatname, /*#__PURE__*/React.createElement(MediaLabel, {\n      className: `btn btn-outlined  ${userStatusCSS} btn-sm ml-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: this.props.Login.masterData.selectedProductHistory.stransdisplaystatus,\n      message: this.props.Login.masterData.selectedProductHistory.stransdisplaystatus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 57\n      }\n    }))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_USERROLE\",\n      message: \"Userrole\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 68\n      }\n    })), /*#__PURE__*/React.createElement(MediaLabel, {\n      className: \"readonly-text font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData.selectedProductHistory.suserrolename))), /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_USERNAME\",\n      message: \"User Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 68\n      }\n    })), /*#__PURE__*/React.createElement(MediaLabel, {\n      className: \"readonly-text font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData.selectedProductHistory.sfirstname))), /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_CONTACTUSER\",\n      message: \"Contact User\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 68\n      }\n    })), /*#__PURE__*/React.createElement(MediaLabel, {\n      className: \"readonly-text font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData.selectedProductHistory.scontactusername))), /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_CHARGEBAND\",\n      message: \"Charge Band\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 68\n      }\n    })), /*#__PURE__*/React.createElement(MediaLabel, {\n      className: \"readonly-text font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData.selectedProductHistory.schargebandname))), /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_BILLTO\",\n      message: \"Bill To\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 68\n      }\n    })), /*#__PURE__*/React.createElement(MediaLabel, {\n      className: \"readonly-text font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData.selectedProductHistory.sbillto))), /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_EDQMPRODUCTOFFICIALNAME\",\n      message: \"Edqm Product Official Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 68\n      }\n    })), /*#__PURE__*/React.createElement(MediaLabel, {\n      className: \"readonly-text font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData.selectedProductHistory.sofficialproductname))), /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_PRODUCTVERSION\",\n      message: \"Product Version\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 68\n      }\n    })), /*#__PURE__*/React.createElement(MediaLabel, {\n      className: \"readonly-text font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData.selectedProductHistory.nproductversioncode === 0 ? \"-\" : this.props.Login.masterData.selectedProductHistory.nproductversioncode)))), /*#__PURE__*/React.createElement(ProductHistoryTabs, {\n      userInfo: this.props.Login.userInfo,\n      inputParam: this.props.Login.inputParam,\n      controlMap: this.state.controlMap,\n      getProductMaHolderHistory: this.props.getProductMaHolderHistory,\n      masterData: this.props.Login.masterData,\n      settings: this.props.Login.settings // masterData={{\n      //     \"ProductManufacturerHistory\": this.props.Login.masterData.ProductManufacturerHistory || [],\n      //     \"ProductMAholderHistory\": this.props.Login.masterData.ProductMAholderHistory || [],\n      //     \"SelectedProductManufHistory\":this.props.Login.masterData.SelectedProductManufHistory\n      // }}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 45\n      }\n    }))) : \"\")))));\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      const userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n      this.setState({\n        userRoleControlRights,\n        controlMap\n      });\n    }\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  selectProductHistoryDetail,\n  filterColumnData,\n  getProductMaHolderHistory\n})(injectIntl(ProductHistory));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/product/ProductHistory/ProductHistory.jsx"],"names":["React","Component","ListMaster","connect","callService","crudMaster","selectProductHistoryDetail","filterColumnData","getProductMaHolderHistory","Col","Row","Card","FormGroup","FormLabel","ProductList","ContentPanel","MediaLabel","FormattedMessage","injectIntl","getControlMap","ProductHistoryTabs","transactionStatus","ProductHistory","constructor","props","handlePageChange","e","setState","skip","take","reloadData","searchRef","current","value","inputParam","inputData","Login","userInfo","classUrl","methodUrl","displayName","state","error","operation","selectedProductHistory","undefined","ProductManufacturerHistory","ProductMAholderHistory","userRoleControlRights","controlMap","Map","createRef","render","userStatusCSS","masterData","ntransactionstatus","DRAFT","COMPLETED","CORRECTION","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","userinfo","searchFieldList","addProductHistory","intl","formatMessage","id","searchedData","length","sproductname","sproductcatname","stransdisplaystatus","suserrolename","sfirstname","scontactusername","schargebandname","sbillto","sofficialproductname","nproductversioncode","settings","componentDidUpdate","previousProps","nformcode","Object","values","map","item","push","ncontrolcode","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\nimport { connect } from 'react-redux';\r\nimport { callService, crudMaster, selectProductHistoryDetail, filterColumnData, getProductMaHolderHistory } from '../../../actions'\r\nimport { Col, Row, Card, FormGroup, FormLabel } from 'react-bootstrap';\r\n\r\nimport { ProductList, ContentPanel, MediaLabel } from '../product.styled';\r\n\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\n\r\nimport { getControlMap } from '../../../components/CommonScript';\r\nimport ProductHistoryTabs from './ProductHistoryTabs';\r\nimport { transactionStatus } from '../../../components/Enumeration';\r\n// import ReactTooltip from 'react-tooltip';\r\n\r\n\r\n\r\n\r\nclass ProductHistory extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            error: \"\",\r\n            ProductHistory: [],\r\n            operation: \"\",\r\n            selectedProductHistory: undefined,\r\n            ProductManufacturerHistory: [],\r\n            ProductMAholderHistory: [],\r\n            userRoleControlRights: [],\r\n            controlMap: new Map()\r\n\r\n        };\r\n        this.searchRef = React.createRef();\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n\r\n\r\n    render() {\r\n        let userStatusCSS = \"\";\r\n        if (this.props.Login.masterData.selectedProductHistory && this.props.Login.masterData.selectedProductHistory.ntransactionstatus === transactionStatus.DRAFT) {\r\n            userStatusCSS = \"outline-secondary\";\r\n        }\r\n        else if (this.props.Login.masterData.selectedProductHistory && this.props.Login.masterData.selectedProductHistory.ntransactionstatus === transactionStatus.COMPLETED) {\r\n            userStatusCSS = \"outline-success\";\r\n        }\r\n        else if (this.props.Login.masterData.selectedProductHistory && this.props.Login.masterData.selectedProductHistory.ntransactionstatus === transactionStatus.CORRECTION) {\r\n            userStatusCSS = \"outline-correction\";\r\n        } else {\r\n            userStatusCSS = \"outline-Final\";\r\n        }\r\n        const filterParam = {\r\n            inputListName: \"ProductHistory\", selectedObject: \"selectedProductHistory\", primaryKeyField: \"nproducthistorycode\",\r\n            fetchUrl: \"producthistory/getProductManufByProductID\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"sproductname\", \"sproductcatname\", \"stransdisplaystatus\",\r\n                \"sofficialproductname\", \"sbillto\", \"suserrolename\", \"sfirstname\",\r\n                \"scontactusername\", \"schargebandname\"]\r\n        };\r\n        const addProductHistory = \"\"\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-4 mtop-fixed-breadcrumb\">\r\n                    <Row noGutters={true}>\r\n                        <Col md={4}>\r\n                            <ListMaster filterColumnData={this.props.filterColumnData}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_PRODUCTHISTORY\" })}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.ProductHistory}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                getMasterDetail={(ProductHistory) => this.props.selectProductHistoryDetail(ProductHistory, this.props.Login.masterData, this.props.Login.userInfo)}\r\n                                selectedMaster={this.props.Login.masterData.selectedProductHistory}\r\n                                primaryKeyField=\"nproducthistorycode\"\r\n                                mainField=\"sproductname\"\r\n                                firstField=\"sproductcatname\"\r\n                                secondField=\"stransdisplaystatus\"\r\n                                isIDSField=\"Yes\"\r\n                                isVisible=\"yes\"\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addProductHistory}\r\n                                filterParam={filterParam}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                handlePageChange={this.handlePageChange}\r\n                                //  openModal = {()=>this.setState({screenName:\"Add Product\", operation:\"create\", isOpen:true})}\r\n                                openModal={\"\"}\r\n                                hidePaging={false}\r\n                            />\r\n                        </Col>\r\n                        <Col md='8'>\r\n                            {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                            <ProductList className=\"panel-main-content\">\r\n                                {this.props.Login.masterData.ProductHistory && this.props.Login.masterData.ProductHistory.length > 0 && this.props.Login.masterData.selectedProductHistory ?\r\n                                    <Card className=\"border-0\">\r\n                                        <Card.Header>\r\n                                            <Card.Title className=\"product-title-main\" data-tip={this.props.Login.masterData.selectedProductHistory.sproductname}\r\n                                              //  data-for=\"tooltip_list_wrap\"\r\n                                                >{this.props.Login.masterData.selectedProductHistory.sproductname}</Card.Title>\r\n                                            <ContentPanel className=\"d-flex product-category\">\r\n                                                <h2 className=\"product-title-sub flex-grow-1\" data-tip={this.props.Login.masterData.selectedProductHistory.sproductcatname}\r\n                                                   // data-for=\"tooltip_list_wrap\"\r\n                                                    >{this.props.Login.masterData.selectedProductHistory.sproductcatname}\r\n                                                    <MediaLabel className={`btn btn-outlined  ${userStatusCSS} btn-sm ml-3`}>\r\n                                                        <FormattedMessage id={this.props.Login.masterData.selectedProductHistory.stransdisplaystatus} message={this.props.Login.masterData.selectedProductHistory.stransdisplaystatus} />\r\n                                                    </MediaLabel>\r\n                                                </h2>\r\n                                            </ContentPanel>\r\n                                        </Card.Header>\r\n                                        <Card.Body>\r\n                                            <Row>\r\n                                                <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id=\"IDS_USERROLE\" message=\"Userrole\" /></FormLabel>\r\n                                                        <MediaLabel className=\"readonly-text font-weight-normal\">{this.props.Login.masterData.selectedProductHistory.suserrolename}</MediaLabel>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id=\"IDS_USERNAME\" message=\"User Name\" /></FormLabel>\r\n                                                        <MediaLabel className=\"readonly-text font-weight-normal\">{this.props.Login.masterData.selectedProductHistory.sfirstname}</MediaLabel>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id=\"IDS_CONTACTUSER\" message=\"Contact User\" /></FormLabel>\r\n                                                        <MediaLabel className=\"readonly-text font-weight-normal\">{this.props.Login.masterData.selectedProductHistory.scontactusername}</MediaLabel>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id=\"IDS_CHARGEBAND\" message=\"Charge Band\" /></FormLabel>\r\n                                                        <MediaLabel className=\"readonly-text font-weight-normal\">{this.props.Login.masterData.selectedProductHistory.schargebandname}</MediaLabel>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id=\"IDS_BILLTO\" message=\"Bill To\" /></FormLabel>\r\n                                                        <MediaLabel className=\"readonly-text font-weight-normal\">{this.props.Login.masterData.selectedProductHistory.sbillto}</MediaLabel>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id=\"IDS_EDQMPRODUCTOFFICIALNAME\" message=\"Edqm Product Official Name\" /></FormLabel>\r\n                                                        <MediaLabel className=\"readonly-text font-weight-normal\">{this.props.Login.masterData.selectedProductHistory.sofficialproductname}</MediaLabel>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md='4'>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id=\"IDS_PRODUCTVERSION\" message=\"Product Version\" /></FormLabel>\r\n                                                        <MediaLabel className=\"readonly-text font-weight-normal\">\r\n                                                            {this.props.Login.masterData.selectedProductHistory.nproductversioncode === 0 ? \"-\" :\r\n                                                                this.props.Login.masterData.selectedProductHistory.nproductversioncode}</MediaLabel>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                            </Row>\r\n                                            <ProductHistoryTabs\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                inputParam={this.props.Login.inputParam}\r\n                                                controlMap={this.state.controlMap}\r\n                                                getProductMaHolderHistory={this.props.getProductMaHolderHistory}\r\n                                                masterData={this.props.Login.masterData}\r\n                                                settings = {this.props.Login.settings}\r\n                                            // masterData={{\r\n                                            //     \"ProductManufacturerHistory\": this.props.Login.masterData.ProductManufacturerHistory || [],\r\n                                            //     \"ProductMAholderHistory\": this.props.Login.masterData.ProductMAholderHistory || [],\r\n                                            //     \"SelectedProductManufHistory\":this.props.Login.masterData.SelectedProductManufHistory\r\n                                            // }}\r\n                                            />\r\n                                        </Card.Body>\r\n                                    </Card> : \"\"}\r\n                            </ProductList>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n            classUrl: \"producthistory\",\r\n            methodUrl: \"ProductHistory\",\r\n            displayName: \"IDS_PRODUCTHISTORY\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ userRoleControlRights, controlMap });\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { callService, crudMaster, selectProductHistoryDetail, filterColumnData, getProductMaHolderHistory })(injectIntl(ProductHistory));"]},"metadata":{},"sourceType":"module"}