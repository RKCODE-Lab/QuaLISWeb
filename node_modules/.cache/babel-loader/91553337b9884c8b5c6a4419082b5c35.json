{"ast":null,"code":"import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from\"../rsapi\";import{toast}from\"react-toastify\";import{constructOptionList,sortData}from\"../components/CommonScript\";import{DEFAULT_RETURN}from\"./LoginTypes\";import{initRequest}from\"./LoginAction\";import Axios from'axios';import{transactionStatus,attachmentType}from\"../components/Enumeration\";export var getTrainingUpdate=function getTrainingUpdate(trainingupdate,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"trainingupdate/getTrainingUpdateById\",{ntrainingcode:trainingupdate.ntrainingcode,userinfo:userInfo}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,dataState:undefined}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.error(error.message);});};};export var changeTechniqueFilter=function changeTechniqueFilter(inputParam,filterTechnique,selectedTechinque){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/trainingupdate/get\"+inputParam.methodUrl,inputParam.inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);var masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);if(inputParam.searchRef!==undefined&&inputParam.searchRef.current!==null){inputParam.searchRef.current.value=\"\";masterData['searchedData']=undefined;}dispatch({type:DEFAULT_RETURN,payload:{loading:false,masterData:_objectSpread(_objectSpread({},masterData),{},{filterTechnique:filterTechnique,nfilterTechnique:inputParam.inputData.nfilterTechnique,selectedTechinque:selectedTechinque.item})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};};export function getParticipantsAccordion(versionObject){var version=versionObject.version,masterData=versionObject.masterData,userInfo=versionObject.userInfo;return function(dispatch){if(!(masterData.selectedParticipants.nparticipantcode===version.nparticipantcode)){var inputData={nparticipantcode:version.nparticipantcode,userinfo:userInfo};rsapi.post('trainingupdate/getParticipantsAccordion',inputData).then(function(response){sortData(masterData);masterData=_objectSpread(_objectSpread({},masterData),{},{selectedParticipants:response.data.selectedParticipants,TraineeDocuments:response.data.TraineeDocuments});sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}};}export function getTrainingParticipantsAttended(trainingUpdate,selectedRecord,userInfo,operation,attendanceId){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"trainingupdate/getInvitedParticipants\",{\"userinfo\":userInfo,\"ntrainingcode\":parseInt(trainingUpdate.ntrainingcode)}).then(function(response){var nusercode=[];// const attendUsersMap = constructOptionList(response.data.InvitedParticipant || [], \"nusercode\",\n//     \"sfullname\", undefined, undefined, true);\nvar attendUsersList=response.data.InvitedParticipant;dispatch({type:DEFAULT_RETURN,payload:{ncontrolCode:attendanceId,usersStatus:attendUsersList,nusercode:nusercode,loading:false,openChildModal:true,screenName:\"IDS_ATTENDPARTICIPANTSDETAILS\",nFlag:2,selectedRecord:selectedRecord,operation:operation}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getTrainingParticipantsCertified(trainingUpdate,selectedRecord,userInfo,operation,certifiedId){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"trainingupdate/getAttendedParticipants\",{\"userinfo\":userInfo,\"ntrainingcode\":parseInt(trainingUpdate.ntrainingcode)}).then(function(response){var nusercode=[];var certifyUsersMap=constructOptionList(response.data.AttendedParticipant||[],\"nusercode\",\"sfullname\",undefined,undefined,true);var certifyUsersList=response.data.AttendedParticipant;dispatch({type:DEFAULT_RETURN,payload:{ncontrolCode:certifiedId,usersStatus:certifyUsersList,nusercode:nusercode,loading:false,openChildModal:true,screenName:\"IDS_CERTIFYPARTICIPANTSDETAILS\",nFlag:3,selectedRecord:selectedRecord,operation:operation}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getTrainingParticipantsCompetent(trainingUpdate,selectedRecord,userInfo,operation,competentId){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"trainingupdate/getCertifiedParticipants\",{\"userinfo\":userInfo,\"ntrainingcode\":parseInt(trainingUpdate.ntrainingcode)}).then(function(response){var nusercode=[];// const competentUsersMap = constructOptionList(response.data.CompetentParticipant || [], \"nusercode\",\n//     \"sfullname\", undefined, undefined, true);\nvar competentUsersList=response.data.CompetentParticipant;dispatch({type:DEFAULT_RETURN,payload:{ncontrolCode:competentId,usersStatus:competentUsersList,nusercode:nusercode,loading:false,openChildModal:true,screenName:\"IDS_COMPETENTPARTICIPANTSDETAILS\",nFlag:4,selectedRecord:selectedRecord,operation:operation}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export var addtrainingdocfile=function addtrainingdocfile(inputParam){return function(dispatch){dispatch(initRequest(true));var urlArray=[rsapi.post(\"/linkmaster/getLinkMaster\",{userinfo:inputParam.userInfo})];if(inputParam.operation===\"update\"){urlArray.push(rsapi.post(\"/trainingupdate/editTrainingFile\",{userinfo:inputParam.userInfo,trainingfile:inputParam.selectedRecord}));}Axios.all(urlArray).then(function(response){var linkMap=constructOptionList(response[0].data.LinkMaster,\"nlinkcode\",\"slinkname\",false,false,true);var linkmaster=linkMap.get(\"OptionList\");var selectedRecord={};var defaultLink=linkmaster.filter(function(items){return items.item.ndefaultlink===transactionStatus.YES;});var disabled=false;var editObject={};if(inputParam.operation===\"update\"){editObject=response[1].data;var nlinkcode={};var link={};if(editObject.nattachmenttypecode===attachmentType.LINK){nlinkcode={\"label\":editObject.slinkname,\"value\":editObject.nlinkcode};link={slinkfilename:editObject.sfilename,slinkdescription:editObject.sfiledesc,nlinkdefaultstatus:editObject.ndefaultstatus,sfilesize:'',nfilesize:0,ndefaultstatus:4,sfilename:'',sfiledesc:''};}else{nlinkcode=defaultLink.length>0?defaultLink[0]:\"\";//{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\"\nlink=_objectSpread({slinkfilename:'',slinkdescription:'',nlinkdefaultstatus:4,sfilesize:editObject.sfilesize,nfilesize:editObject.nfilesize,ndefaultstatus:editObject.ndefaultstatus,sfilename:editObject.sfilename},editObject);}selectedRecord=_objectSpread(_objectSpread({// ...editObject,\nntrainingdoccode:editObject.ntrainingdoccode,nattachmenttypecode:editObject.nattachmenttypecode},link),{},{nlinkcode:nlinkcode// disabled: true\n});}else{selectedRecord={nattachmenttypecode:response[0].data.AttachmentType.length>0?response[0].data.AttachmentType[0].nattachmenttypecode:attachmentType.FTP,nlinkcode:defaultLink.length>0?defaultLink[0]:\"\",//{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\ndisabled:disabled};}// let selectedRecord = {\n//         nattachmenttypecode:response[0].data.AttachmentType.length>0?\n//         response[0].data.AttachmentType[0].nattachmenttypecode:attachmentType.FTP,\n//         nlinkcode: defaultLink.length > 0 ? defaultLink[0] : \"\", //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\n//         disabled\n//     };\ndispatch({type:DEFAULT_RETURN,payload:{openChildModal:true,operation:inputParam.operation,screenName:inputParam.screenName,ncontrolCode:inputParam.ncontrolCode,selectedRecord:selectedRecord,loading:false,linkMaster:linkmaster,showSaveContinue:false,editFiles:editObject.nattachmenttypecode===\"1\"?editObject:{}}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};};export var addtraineedocfile=function addtraineedocfile(inputParam){return function(dispatch){dispatch(initRequest(true));var urlArray=[rsapi.post(\"/linkmaster/getLinkMaster\",{userinfo:inputParam.userInfo})];if(inputParam.operation===\"update\"){urlArray.push(rsapi.post(\"/trainingupdate/editTraineeFile\",{userinfo:inputParam.userInfo,traineefile:inputParam.selectedRecord}));}Axios.all(urlArray).then(function(response){var linkMap=constructOptionList(response[0].data.LinkMaster,\"nlinkcode\",\"slinkname\",false,false,true);var linkmaster=linkMap.get(\"OptionList\");var selectedRecord={};var defaultLink=linkmaster.filter(function(items){return items.item.ndefaultlink===transactionStatus.YES;});var disabled=false;var editObject={};if(inputParam.operation===\"update\"){editObject=response[1].data;var nlinkcode={};var link={};if(editObject.nattachmenttypecode===attachmentType.LINK){nlinkcode={\"label\":editObject.slinkname,\"value\":editObject.nlinkcode};link={slinkfilename:editObject.sfilename,slinkdescription:editObject.sfiledesc,nlinkdefaultstatus:editObject.ndefaultstatus,sfilesize:'',nfilesize:0,ndefaultstatus:4,sfilename:'',sfiledesc:''};}else{nlinkcode=defaultLink.length>0?defaultLink[0]:\"\";//{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\"\nlink=_objectSpread({slinkfilename:'',slinkdescription:'',nlinkdefaultstatus:4,sfilesize:editObject.sfilesize,nfilesize:editObject.nfilesize,ndefaultstatus:editObject.ndefaultstatus,sfilename:editObject.sfilename},editObject);}selectedRecord=_objectSpread(_objectSpread({// ...editObject,\nntraineedoccode:editObject.ntraineedoccode,nattachmenttypecode:editObject.nattachmenttypecode},link),{},{nlinkcode:nlinkcode// disabled: true\n});}else{selectedRecord={nattachmenttypecode:response[0].data.AttachmentType.length>0?response[0].data.AttachmentType[0].nattachmenttypecode:attachmentType.FTP,nlinkcode:defaultLink.length>0?defaultLink[0]:\"\",//{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\ndisabled:disabled};}// let selectedRecord = {\n//         nattachmenttypecode:response[0].data.AttachmentType.length>0?\n//         response[0].data.AttachmentType[0].nattachmenttypecode:attachmentType.FTP,\n//         nlinkcode: defaultLink.length > 0 ? defaultLink[0] : \"\", //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\n//         disabled\n//     };\ndispatch({type:DEFAULT_RETURN,payload:{openChildModal:true,operation:inputParam.operation,screenName:inputParam.screenName,ncontrolCode:inputParam.ncontrolCode,selectedRecord:selectedRecord,loading:false,linkMaster:linkmaster,showSaveContinue:false,editFiles:editObject.nattachmenttypecode===\"1\"?editObject:{}}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};};","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-512/QuaLISWeb/src/actions/TrainingUpdateAction.js"],"names":["rsapi","toast","constructOptionList","sortData","DEFAULT_RETURN","initRequest","Axios","transactionStatus","attachmentType","getTrainingUpdate","trainingupdate","userInfo","masterData","dispatch","post","ntrainingcode","userinfo","then","response","data","type","payload","loading","dataState","undefined","catch","error","message","changeTechniqueFilter","inputParam","filterTechnique","selectedTechinque","methodUrl","inputData","responseData","searchRef","current","value","nfilterTechnique","item","status","warn","getParticipantsAccordion","versionObject","version","selectedParticipants","nparticipantcode","TraineeDocuments","getTrainingParticipantsAttended","trainingUpdate","selectedRecord","operation","attendanceId","parseInt","nusercode","attendUsersList","InvitedParticipant","ncontrolCode","usersStatus","openChildModal","screenName","nFlag","getTrainingParticipantsCertified","certifiedId","certifyUsersMap","AttendedParticipant","certifyUsersList","getTrainingParticipantsCompetent","competentId","competentUsersList","CompetentParticipant","addtrainingdocfile","urlArray","push","trainingfile","all","linkMap","LinkMaster","linkmaster","get","defaultLink","filter","items","ndefaultlink","YES","disabled","editObject","nlinkcode","link","nattachmenttypecode","LINK","slinkname","slinkfilename","sfilename","slinkdescription","sfiledesc","nlinkdefaultstatus","ndefaultstatus","sfilesize","nfilesize","length","ntrainingdoccode","AttachmentType","FTP","linkMaster","showSaveContinue","editFiles","addtraineedocfile","traineefile","ntraineedoccode"],"mappings":"yLAAA,MAAOA,CAAAA,KAAP,KAAkB,UAAlB,CACA,OACIC,KADJ,KAEO,gBAFP,CAGA,OACIC,mBADJ,CAEIC,QAFJ,KAGO,4BAHP,CAIA,OACIC,cADJ,KAEO,cAFP,CAGA,OACIC,WADJ,KAEO,eAFP,CAGA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACIC,iBADJ,CAEIC,cAFJ,KAGO,2BAHP,CAOA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,cAAD,CAAiBC,QAAjB,CAA2BC,UAA3B,CAA0C,CACvE,MAAO,UAAUC,QAAV,CAAoB,CACvBA,QAAQ,CAACR,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAL,KAAK,CAACc,IAAN,CAAW,sCAAX,CAAmD,CAC/CC,aAAa,CAAEL,cAAc,CAACK,aADiB,CAE3CC,QAAQ,CAAEL,QAFiC,CAAnD,EAIKM,IAJL,CAIU,SAAAC,QAAQ,CAAI,CACdN,UAAU,gCACHA,UADG,EAEHM,QAAQ,CAACC,IAFN,CAAV,CAIAhB,QAAQ,CAACS,UAAD,CAAR,CACAC,QAAQ,CAAC,CACLO,IAAI,CAAEhB,cADD,CAELiB,OAAO,CAAE,CACLT,UAAU,CAAVA,UADK,CAELU,OAAO,CAAE,KAFJ,CAGLC,SAAS,CAAEC,SAHN,CAFJ,CAAD,CAAR,CAQH,CAlBL,EAmBKC,KAnBL,CAmBW,SAAAC,KAAK,CAAI,CACZb,QAAQ,CAAC,CACLO,IAAI,CAAEhB,cADD,CAELiB,OAAO,CAAE,CACLC,OAAO,CAAE,KADJ,CAFJ,CAAD,CAAR,CAMArB,KAAK,CAACyB,KAAN,CAAYA,KAAK,CAACC,OAAlB,EACH,CA3BL,EA4BH,CA9BD,CA+BH,CAhCM,CAmCP,MAAO,IAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,UAAD,CAAaC,eAAb,CAA6BC,iBAA7B,CAAmD,CACpF,MAAO,UAAClB,QAAD,CAAc,CACjBA,QAAQ,CAACR,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAL,KAAK,CAACc,IAAN,CAAW,sBAAwBe,UAAU,CAACG,SAA9C,CAAyDH,UAAU,CAACI,SAApE,EACKhB,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAIgB,CAAAA,YAAY,kBAAQhB,QAAQ,CAACC,IAAjB,CAAhB,CACAe,YAAY,CAAG/B,QAAQ,CAAC+B,YAAD,CAAvB,CACA,GAAItB,CAAAA,UAAU,gCACPiB,UAAU,CAACjB,UADJ,EAEPsB,YAFO,CAAd,CAIA,GAAIL,UAAU,CAACM,SAAX,GAAyBX,SAAzB,EAAsCK,UAAU,CAACM,SAAX,CAAqBC,OAArB,GAAiC,IAA3E,CAAiF,CAC7EP,UAAU,CAACM,SAAX,CAAqBC,OAArB,CAA6BC,KAA7B,CAAqC,EAArC,CACAzB,UAAU,CAAC,cAAD,CAAV,CAA6BY,SAA7B,CACH,CACDX,QAAQ,CAAC,CACLO,IAAI,CAAEhB,cADD,CAELiB,OAAO,CAAE,CACLC,OAAO,CAAE,KADJ,CAELV,UAAU,gCACHA,UADG,MAENkB,eAAe,CAAfA,eAFM,CAGNQ,gBAAgB,CAAET,UAAU,CAACI,SAAX,CAAqBK,gBAHjC,CAINP,iBAAiB,CAACA,iBAAiB,CAACQ,IAJ9B,EAFL,CAFJ,CAAD,CAAR,CAaH,CAzBL,EA0BKd,KA1BL,CA0BW,SAAAC,KAAK,CAAI,CACZb,QAAQ,CAAC,CAAEO,IAAI,CAAEhB,cAAR,CAAwBiB,OAAO,CAAE,CAAEC,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACR,QAAN,CAAesB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACyB,KAAN,CAAYA,KAAK,CAACC,OAAlB,EACH,CAFD,IAGK,CACD1B,KAAK,CAACwC,IAAN,CAAWf,KAAK,CAACR,QAAN,CAAeC,IAA1B,EACH,CACJ,CAlCL,EAmCH,CArCD,CAsCH,CAvCM,CAyCP,MAAO,SAASuB,CAAAA,wBAAT,CAAkCC,aAAlC,CAAiD,CACpD,GAAMC,CAAAA,OAAN,CAAwCD,aAAxC,CAAMC,OAAN,CAAehC,UAAf,CAAwC+B,aAAxC,CAAe/B,UAAf,CAA2BD,QAA3B,CAAwCgC,aAAxC,CAA2BhC,QAA3B,CACA,MAAO,UAAUE,QAAV,CAAoB,CACvB,GAAI,EAAED,UAAU,CAACiC,oBAAX,CAAgCC,gBAAhC,GAAqDF,OAAO,CAACE,gBAA/D,CAAJ,CAAsF,CAClF,GAAMb,CAAAA,SAAS,CAAG,CAAEa,gBAAgB,CAAEF,OAAO,CAACE,gBAA5B,CAA8C9B,QAAQ,CAAEL,QAAxD,CAAlB,CACAX,KAAK,CAACc,IAAN,CAAW,yCAAX,CAAsDmB,SAAtD,EAEKhB,IAFL,CAEU,SAAAC,QAAQ,CAAI,CACdf,QAAQ,CAACS,UAAD,CAAR,CACAA,UAAU,gCACHA,UADG,MAENiC,oBAAoB,CAAE3B,QAAQ,CAACC,IAAT,CAAc0B,oBAF9B,CAGNE,gBAAgB,CAAE7B,QAAQ,CAACC,IAAT,CAAc4B,gBAH1B,EAAV,CAKA5C,QAAQ,CAACS,UAAD,CAAR,CACAC,QAAQ,CAAC,CACLO,IAAI,CAAEhB,cADD,CACiBiB,OAAO,CAAE,CAC3BT,UAAU,CAAVA,UAD2B,CAE3BU,OAAO,CAAE,KAFkB,CAD1B,CAAD,CAAR,CAMH,CAhBL,EAiBKG,KAjBL,CAiBW,SAAAC,KAAK,CAAI,CACZb,QAAQ,CAAC,CAAEO,IAAI,CAAEhB,cAAR,CAAwBiB,OAAO,CAAE,CAAEC,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACR,QAAN,CAAesB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACyB,KAAN,CAAYA,KAAK,CAACC,OAAlB,EACH,CAFD,IAGK,CACD1B,KAAK,CAACwC,IAAN,CAAWf,KAAK,CAACR,QAAN,CAAeC,IAA1B,EACH,CACJ,CAzBL,EA0BH,CA5BD,IA4BO,CACHN,QAAQ,CAAC,CACLO,IAAI,CAAEhB,cADD,CACiBiB,OAAO,CAAE,CAAET,UAAU,CAAVA,UAAF,CAAcU,OAAO,CAAE,KAAvB,CAD1B,CAAD,CAAR,CAGH,CACJ,CAlCD,CAmCH,CAED,MAAO,SAAS0B,CAAAA,+BAAT,CAAyCC,cAAzC,CAAwDC,cAAxD,CAAuEvC,QAAvE,CAAgFwC,SAAhF,CAA0FC,YAA1F,CAAwG,CAC3G,MAAO,UAAUvC,QAAV,CAAoB,CACvBA,QAAQ,CAACR,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAL,KAAK,CAACc,IAAN,CAAW,uCAAX,CAAoD,CAAE,WAAYH,QAAd,CAAyB,gBAAiB0C,QAAQ,CAACJ,cAAc,CAAClC,aAAhB,CAAlD,CAApD,EACKE,IADL,CACU,SAAAC,QAAQ,CAAI,CAEd,GAAIoC,CAAAA,SAAS,CAAG,EAAhB,CAEA;AACA;AAEA,GAAMC,CAAAA,eAAe,CAAErC,QAAQ,CAACC,IAAT,CAAcqC,kBAArC,CAEA3C,QAAQ,CAAC,CACLO,IAAI,CAAEhB,cADD,CAELiB,OAAO,CAAE,CACLoC,YAAY,CAACL,YADR,CAELM,WAAW,CAAEH,eAFR,CAEyBD,SAAS,CAAEA,SAFpC,CAE+ChC,OAAO,CAAE,KAFxD,CAE8DqC,cAAc,CAAE,IAF9E,CAGLC,UAAU,CAAC,+BAHN,CAGsCC,KAAK,CAAC,CAH5C,CAG8CX,cAAc,CAACA,cAH7D,CAG4EC,SAAS,CAACA,SAHtF,CAFJ,CAAD,CAAR,CASH,CAnBL,EAmBO1B,KAnBP,CAmBa,SAAAC,KAAK,CAAI,CACdb,QAAQ,CAAC,CAAEO,IAAI,CAAEhB,cAAR,CAAwBiB,OAAO,CAAE,CAAEC,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACR,QAAN,CAAesB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACyB,KAAN,CAAYA,KAAK,CAACC,OAAlB,EACH,CAFD,IAEO,CACH1B,KAAK,CAACwC,IAAN,CAAWf,KAAK,CAACR,QAAN,CAAeC,IAA1B,EACH,CACJ,CA1BL,EA2BH,CA7BD,CA8BH,CACD,MAAO,SAAS2C,CAAAA,gCAAT,CAA0Cb,cAA1C,CAAyDC,cAAzD,CAAwEvC,QAAxE,CAAiFwC,SAAjF,CAA2FY,WAA3F,CAAwG,CAC3G,MAAO,UAAUlD,QAAV,CAAoB,CACvBA,QAAQ,CAACR,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAL,KAAK,CAACc,IAAN,CAAW,wCAAX,CAAqD,CAAE,WAAYH,QAAd,CAAyB,gBAAiB0C,QAAQ,CAACJ,cAAc,CAAClC,aAAhB,CAAlD,CAArD,EACKE,IADL,CACU,SAAAC,QAAQ,CAAI,CAEd,GAAIoC,CAAAA,SAAS,CAAG,EAAhB,CAEA,GAAMU,CAAAA,eAAe,CAAG9D,mBAAmB,CAACgB,QAAQ,CAACC,IAAT,CAAc8C,mBAAd,EAAqC,EAAtC,CAA0C,WAA1C,CACvC,WADuC,CAC1BzC,SAD0B,CACfA,SADe,CACJ,IADI,CAA3C,CAGA,GAAM0C,CAAAA,gBAAgB,CAAGhD,QAAQ,CAACC,IAAT,CAAc8C,mBAAvC,CAEApD,QAAQ,CAAC,CACLO,IAAI,CAAEhB,cADD,CAELiB,OAAO,CAAE,CACLoC,YAAY,CAACM,WADR,CAELL,WAAW,CAAEQ,gBAFR,CAE0BZ,SAAS,CAAEA,SAFrC,CAEgDhC,OAAO,CAAE,KAFzD,CAE+DqC,cAAc,CAAE,IAF/E,CAGLC,UAAU,CAAC,gCAHN,CAGuCC,KAAK,CAAC,CAH7C,CAG+CX,cAAc,CAACA,cAH9D,CAG6EC,SAAS,CAACA,SAHvF,CAFJ,CAAD,CAAR,CASH,CAnBL,EAmBO1B,KAnBP,CAmBa,SAAAC,KAAK,CAAI,CACdb,QAAQ,CAAC,CAAEO,IAAI,CAAEhB,cAAR,CAAwBiB,OAAO,CAAE,CAAEC,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACR,QAAN,CAAesB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACyB,KAAN,CAAYA,KAAK,CAACC,OAAlB,EACH,CAFD,IAEO,CACH1B,KAAK,CAACwC,IAAN,CAAWf,KAAK,CAACR,QAAN,CAAeC,IAA1B,EACH,CACJ,CA1BL,EA2BH,CA7BD,CA8BH,CACD,MAAO,SAASgD,CAAAA,gCAAT,CAA0ClB,cAA1C,CAAyDC,cAAzD,CAAwEvC,QAAxE,CAAiFwC,SAAjF,CAA2FiB,WAA3F,CAAwG,CAC3G,MAAO,UAAUvD,QAAV,CAAoB,CACvBA,QAAQ,CAACR,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAL,KAAK,CAACc,IAAN,CAAW,yCAAX,CAAsD,CAAE,WAAYH,QAAd,CAAyB,gBAAiB0C,QAAQ,CAACJ,cAAc,CAAClC,aAAhB,CAAlD,CAAtD,EACKE,IADL,CACU,SAAAC,QAAQ,CAAI,CAEd,GAAIoC,CAAAA,SAAS,CAAG,EAAhB,CAEA;AACA;AAEA,GAAMe,CAAAA,kBAAkB,CAAGnD,QAAQ,CAACC,IAAT,CAAcmD,oBAAzC,CAEAzD,QAAQ,CAAC,CACLO,IAAI,CAAEhB,cADD,CAELiB,OAAO,CAAE,CACLoC,YAAY,CAACW,WADR,CAELV,WAAW,CAAEW,kBAFR,CAE4Bf,SAAS,CAAEA,SAFvC,CAEkDhC,OAAO,CAAE,KAF3D,CAEiEqC,cAAc,CAAE,IAFjF,CAGLC,UAAU,CAAC,kCAHN,CAGyCC,KAAK,CAAC,CAH/C,CAGiDX,cAAc,CAACA,cAHhE,CAG+EC,SAAS,CAACA,SAHzF,CAFJ,CAAD,CAAR,CASH,CAnBL,EAmBO1B,KAnBP,CAmBa,SAAAC,KAAK,CAAI,CACdb,QAAQ,CAAC,CAAEO,IAAI,CAAEhB,cAAR,CAAwBiB,OAAO,CAAE,CAAEC,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACR,QAAN,CAAesB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACyB,KAAN,CAAYA,KAAK,CAACC,OAAlB,EACH,CAFD,IAEO,CACH1B,KAAK,CAACwC,IAAN,CAAWf,KAAK,CAACR,QAAN,CAAeC,IAA1B,EACH,CACJ,CA1BL,EA2BH,CA7BD,CA8BH,CAED,MAAO,IAAMoD,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAC1C,UAAD,CAAgB,CAC9C,MAAO,UAAChB,QAAD,CAAc,CACjBA,QAAQ,CAACR,WAAW,CAAC,IAAD,CAAZ,CAAR,CACA,GAAImE,CAAAA,QAAQ,CAAG,CAACxE,KAAK,CAACc,IAAN,CAAW,2BAAX,CAAwC,CACpDE,QAAQ,CAAEa,UAAU,CAAClB,QAD+B,CAAxC,CAAD,CAAf,CAIA,GAAIkB,UAAU,CAACsB,SAAX,GAAyB,QAA7B,CAAuC,CACnCqB,QAAQ,CAACC,IAAT,CAAczE,KAAK,CAACc,IAAN,CAAW,kCAAX,CAA+C,CACzDE,QAAQ,CAAEa,UAAU,CAAClB,QADoC,CAEzD+D,YAAY,CAAE7C,UAAU,CAACqB,cAFgC,CAA/C,CAAd,EAIH,CACD5C,KAAK,CAACqE,GAAN,CAAUH,QAAV,EACKvD,IADL,CACU,SAAAC,QAAQ,CAAI,CAEd,GAAM0D,CAAAA,OAAO,CAAG1E,mBAAmB,CAACgB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB0D,UAAlB,CAA8B,WAA9B,CAA2C,WAA3C,CAAwD,KAAxD,CAA+D,KAA/D,CAAsE,IAAtE,CAAnC,CACA,GAAMC,CAAAA,UAAU,CAAGF,OAAO,CAACG,GAAR,CAAY,YAAZ,CAAnB,CACA,GAAI7B,CAAAA,cAAc,CAAG,EAArB,CACA,GAAM8B,CAAAA,WAAW,CAAGF,UAAU,CAACG,MAAX,CAAkB,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAAC3C,IAAN,CAAW4C,YAAX,GAA4B5E,iBAAiB,CAAC6E,GAAlD,EAAvB,CAApB,CACA,GAAIC,CAAAA,QAAQ,CAAG,KAAf,CACA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIzD,UAAU,CAACsB,SAAX,GAAyB,QAA7B,CAAuC,CACnCmC,UAAU,CAAGpE,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAzB,CACA,GAAIoE,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACA,GAAIF,UAAU,CAACG,mBAAX,GAAmCjF,cAAc,CAACkF,IAAtD,CAA4D,CACxDH,SAAS,CAAG,CACR,QAASD,UAAU,CAACK,SADZ,CAER,QAASL,UAAU,CAACC,SAFZ,CAAZ,CAKAC,IAAI,CAAG,CACHI,aAAa,CAAEN,UAAU,CAACO,SADvB,CAEHC,gBAAgB,CAAER,UAAU,CAACS,SAF1B,CAGHC,kBAAkB,CAAEV,UAAU,CAACW,cAH5B,CAIHC,SAAS,CAAE,EAJR,CAKHC,SAAS,CAAE,CALR,CAMHF,cAAc,CAAE,CANb,CAOHJ,SAAS,CAAE,EAPR,CAQHE,SAAS,CAAC,EARP,CAAP,CAWH,CAjBD,IAiBO,CACHR,SAAS,CAAGP,WAAW,CAACoB,MAAZ,CAAqB,CAArB,CAAyBpB,WAAW,CAAC,CAAD,CAApC,CAA0C,EAAtD,CAAyD;AACzDQ,IAAI,gBACAI,aAAa,CAAE,EADf,CAEAE,gBAAgB,CAAE,EAFlB,CAGAE,kBAAkB,CAAE,CAHpB,CAIAE,SAAS,CAAEZ,UAAU,CAACY,SAJtB,CAKAC,SAAS,CAAEb,UAAU,CAACa,SALtB,CAMAF,cAAc,CAAEX,UAAU,CAACW,cAN3B,CAOAJ,SAAS,CAAEP,UAAU,CAACO,SAPtB,EAQGP,UARH,CAAJ,CAUH,CAIDpC,cAAc,8BACX;AACCmD,gBAAgB,CAAEf,UAAU,CAACe,gBAFnB,CAGVZ,mBAAmB,CAAEH,UAAU,CAACG,mBAHtB,EAIPD,IAJO,MAKVD,SAAS,CAATA,SAEA;AAPU,EAAd,CASH,CA9CD,IA8CO,CACHrC,cAAc,CAAG,CACbuC,mBAAmB,CAAEvE,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiBmF,cAAjB,CAAgCF,MAAhC,CAAyC,CAAzC,CACjBlF,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiBmF,cAAjB,CAAgC,CAAhC,EAAmCb,mBADlB,CACwCjF,cAAc,CAAC+F,GAF/D,CAGbhB,SAAS,CAAEP,WAAW,CAACoB,MAAZ,CAAqB,CAArB,CAAyBpB,WAAW,CAAC,CAAD,CAApC,CAA0C,EAHxC,CAG4C;AACzDK,QAAQ,CAARA,QAJa,CAAjB,CAMH,CAED;AACA;AACA;AACA;AACA;AACA;AAEAxE,QAAQ,CAAC,CACLO,IAAI,CAAEhB,cADD,CAELiB,OAAO,CAAE,CACLsC,cAAc,CAAE,IADX,CAELR,SAAS,CAAEtB,UAAU,CAACsB,SAFjB,CAGLS,UAAU,CAAE/B,UAAU,CAAC+B,UAHlB,CAILH,YAAY,CAAE5B,UAAU,CAAC4B,YAJpB,CAKLP,cAAc,CAAdA,cALK,CAML5B,OAAO,CAAE,KANJ,CAOLkF,UAAU,CAAE1B,UAPP,CAQL2B,gBAAgB,CAAE,KARb,CASLC,SAAS,CAAEpB,UAAU,CAACG,mBAAX,GAAmC,GAAnC,CAAyCH,UAAzC,CAAsD,EAT5D,CAFJ,CAAD,CAAR,CAeH,CAtFL,EAuFK7D,KAvFL,CAuFW,SAAAC,KAAK,CAAI,CACZb,QAAQ,CAAC,CACLO,IAAI,CAAEhB,cADD,CAELiB,OAAO,CAAE,CACLC,OAAO,CAAE,KADJ,CAFJ,CAAD,CAAR,CAMA,GAAII,KAAK,CAACR,QAAN,CAAesB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACyB,KAAN,CAAYA,KAAK,CAACC,OAAlB,EACH,CAFD,IAEO,CACH1B,KAAK,CAACwC,IAAN,CAAWf,KAAK,CAACR,QAAN,CAAeC,IAA1B,EACH,CACJ,CAnGL,EAoGH,CAhHD,CAiHH,CAlHM,CAoHP,MAAO,IAAMwF,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAC9E,UAAD,CAAgB,CAC7C,MAAO,UAAChB,QAAD,CAAc,CACjBA,QAAQ,CAACR,WAAW,CAAC,IAAD,CAAZ,CAAR,CACA,GAAImE,CAAAA,QAAQ,CAAG,CAACxE,KAAK,CAACc,IAAN,CAAW,2BAAX,CAAwC,CACpDE,QAAQ,CAAEa,UAAU,CAAClB,QAD+B,CAAxC,CAAD,CAAf,CAIA,GAAIkB,UAAU,CAACsB,SAAX,GAAyB,QAA7B,CAAuC,CACnCqB,QAAQ,CAACC,IAAT,CAAczE,KAAK,CAACc,IAAN,CAAW,iCAAX,CAA8C,CACxDE,QAAQ,CAAEa,UAAU,CAAClB,QADmC,CAExDiG,WAAW,CAAE/E,UAAU,CAACqB,cAFgC,CAA9C,CAAd,EAIH,CAED5C,KAAK,CAACqE,GAAN,CAAUH,QAAV,EACKvD,IADL,CACU,SAAAC,QAAQ,CAAI,CAEd,GAAM0D,CAAAA,OAAO,CAAG1E,mBAAmB,CAACgB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB0D,UAAlB,CAA8B,WAA9B,CAA2C,WAA3C,CAAwD,KAAxD,CAA+D,KAA/D,CAAsE,IAAtE,CAAnC,CACA,GAAMC,CAAAA,UAAU,CAAGF,OAAO,CAACG,GAAR,CAAY,YAAZ,CAAnB,CACC,GAAI7B,CAAAA,cAAc,CAAG,EAArB,CACD,GAAM8B,CAAAA,WAAW,CAAGF,UAAU,CAACG,MAAX,CAAkB,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAAC3C,IAAN,CAAW4C,YAAX,GAA4B5E,iBAAiB,CAAC6E,GAAlD,EAAvB,CAApB,CACA,GAAIC,CAAAA,QAAQ,CAAG,KAAf,CACA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIzD,UAAU,CAACsB,SAAX,GAAyB,QAA7B,CAAuC,CACnCmC,UAAU,CAAGpE,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAzB,CACA,GAAIoE,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACA,GAAIF,UAAU,CAACG,mBAAX,GAAmCjF,cAAc,CAACkF,IAAtD,CAA4D,CACxDH,SAAS,CAAG,CACR,QAASD,UAAU,CAACK,SADZ,CAER,QAASL,UAAU,CAACC,SAFZ,CAAZ,CAKAC,IAAI,CAAG,CACHI,aAAa,CAAEN,UAAU,CAACO,SADvB,CAEHC,gBAAgB,CAAER,UAAU,CAACS,SAF1B,CAGHC,kBAAkB,CAAEV,UAAU,CAACW,cAH5B,CAIHC,SAAS,CAAE,EAJR,CAKHC,SAAS,CAAE,CALR,CAMHF,cAAc,CAAE,CANb,CAOHJ,SAAS,CAAE,EAPR,CAQHE,SAAS,CAAC,EARP,CAAP,CAWH,CAjBD,IAiBO,CACHR,SAAS,CAAGP,WAAW,CAACoB,MAAZ,CAAqB,CAArB,CAAyBpB,WAAW,CAAC,CAAD,CAApC,CAA0C,EAAtD,CAAyD;AACzDQ,IAAI,gBACAI,aAAa,CAAE,EADf,CAEAE,gBAAgB,CAAE,EAFlB,CAGAE,kBAAkB,CAAE,CAHpB,CAIAE,SAAS,CAAEZ,UAAU,CAACY,SAJtB,CAKAC,SAAS,CAAEb,UAAU,CAACa,SALtB,CAMAF,cAAc,CAAEX,UAAU,CAACW,cAN3B,CAOAJ,SAAS,CAAEP,UAAU,CAACO,SAPtB,EAQGP,UARH,CAAJ,CAUH,CAIDpC,cAAc,8BACX;AACA2D,eAAe,CAAEvB,UAAU,CAACuB,eAFjB,CAGVpB,mBAAmB,CAAEH,UAAU,CAACG,mBAHtB,EAIPD,IAJO,MAKVD,SAAS,CAATA,SAEA;AAPU,EAAd,CASH,CA9CD,IA8CO,CACHrC,cAAc,CAAG,CACbuC,mBAAmB,CAAEvE,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiBmF,cAAjB,CAAgCF,MAAhC,CAAyC,CAAzC,CACjBlF,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiBmF,cAAjB,CAAgC,CAAhC,EAAmCb,mBADlB,CACwCjF,cAAc,CAAC+F,GAF/D,CAGbhB,SAAS,CAAEP,WAAW,CAACoB,MAAZ,CAAqB,CAArB,CAAyBpB,WAAW,CAAC,CAAD,CAApC,CAA0C,EAHxC,CAG4C;AACzDK,QAAQ,CAARA,QAJa,CAAjB,CAMH,CACD;AACA;AACA;AACA;AACA;AACA;AAEAxE,QAAQ,CAAC,CACLO,IAAI,CAAEhB,cADD,CAELiB,OAAO,CAAE,CACLsC,cAAc,CAAE,IADX,CAELR,SAAS,CAAEtB,UAAU,CAACsB,SAFjB,CAGLS,UAAU,CAAE/B,UAAU,CAAC+B,UAHlB,CAILH,YAAY,CAAE5B,UAAU,CAAC4B,YAJpB,CAKLP,cAAc,CAAdA,cALK,CAML5B,OAAO,CAAE,KANJ,CAOLkF,UAAU,CAAE1B,UAPP,CAQL2B,gBAAgB,CAAE,KARb,CASLC,SAAS,CAAEpB,UAAU,CAACG,mBAAX,GAAmC,GAAnC,CAAyCH,UAAzC,CAAsD,EAT5D,CAFJ,CAAD,CAAR,CAeH,CArFL,EAsFK7D,KAtFL,CAsFW,SAAAC,KAAK,CAAI,CACZb,QAAQ,CAAC,CACLO,IAAI,CAAEhB,cADD,CAELiB,OAAO,CAAE,CACLC,OAAO,CAAE,KADJ,CAFJ,CAAD,CAAR,CAMA,GAAII,KAAK,CAACR,QAAN,CAAesB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACyB,KAAN,CAAYA,KAAK,CAACC,OAAlB,EACH,CAFD,IAEO,CACH1B,KAAK,CAACwC,IAAN,CAAWf,KAAK,CAACR,QAAN,CAAeC,IAA1B,EACH,CACJ,CAlGL,EAmGH,CAhHD,CAiHH,CAlHM","sourcesContent":["import rsapi from \"../rsapi\";\r\nimport {\r\n    toast\r\n} from \"react-toastify\";\r\nimport {\r\n    constructOptionList,\r\n    sortData\r\n} from \"../components/CommonScript\";\r\nimport {\r\n    DEFAULT_RETURN\r\n} from \"./LoginTypes\";\r\nimport {\r\n    initRequest\r\n} from \"./LoginAction\";\r\nimport Axios from 'axios';\r\nimport {\r\n    transactionStatus,\r\n    attachmentType\r\n} from \"../components/Enumeration\";\r\n\r\n\r\n\r\nexport const getTrainingUpdate = (trainingupdate, userInfo, masterData) => {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"trainingupdate/getTrainingUpdateById\", {\r\n            ntrainingcode: trainingupdate.ntrainingcode,\r\n                userinfo: userInfo\r\n            })\r\n            .then(response => {\r\n                masterData = {\r\n                    ...masterData,\r\n                    ...response.data\r\n                }\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        dataState: undefined\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\n\r\nexport const changeTechniqueFilter = (inputParam, filterTechnique,selectedTechinque) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/trainingupdate/get\" + inputParam.methodUrl, inputParam.inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                let masterData = {\r\n                    ...inputParam.masterData,\r\n                    ...responseData,\r\n                }\r\n                if (inputParam.searchRef !== undefined && inputParam.searchRef.current !== null) {\r\n                    inputParam.searchRef.current.value = \"\";\r\n                    masterData['searchedData'] = undefined\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        masterData: {\r\n                            ...masterData,\r\n                            filterTechnique,\r\n                            nfilterTechnique: inputParam.inputData.nfilterTechnique,\r\n                            selectedTechinque:selectedTechinque.item\r\n\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function getParticipantsAccordion(versionObject) {\r\n    let { version, masterData, userInfo } = versionObject\r\n    return function (dispatch) {\r\n        if (!(masterData.selectedParticipants.nparticipantcode === version.nparticipantcode)) {\r\n            const inputData = { nparticipantcode: version.nparticipantcode, userinfo: userInfo }\r\n            rsapi.post('trainingupdate/getParticipantsAccordion', inputData)\r\n            \r\n                .then(response => {\r\n                    sortData(masterData)\r\n                    masterData = {\r\n                        ...masterData,\r\n                        selectedParticipants: response.data.selectedParticipants,\r\n                        TraineeDocuments: response.data.TraineeDocuments\r\n                    }\r\n                    sortData(masterData)\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            masterData,\r\n                            loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        } else {\r\n            dispatch({\r\n                type: DEFAULT_RETURN, payload: { masterData, loading: false }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport function getTrainingParticipantsAttended(trainingUpdate,selectedRecord,userInfo,operation,attendanceId) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"trainingupdate/getInvitedParticipants\", { \"userinfo\": userInfo,  \"ntrainingcode\": parseInt(trainingUpdate.ntrainingcode) })\r\n            .then(response => {\r\n\r\n                let nusercode = [];\r\n\r\n                // const attendUsersMap = constructOptionList(response.data.InvitedParticipant || [], \"nusercode\",\r\n                //     \"sfullname\", undefined, undefined, true);\r\n\r\n                const attendUsersList =response.data.InvitedParticipant;\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        ncontrolCode:attendanceId,\r\n                        usersStatus: attendUsersList, nusercode: nusercode, loading: false,openChildModal: true,\r\n                        screenName:\"IDS_ATTENDPARTICIPANTSDETAILS\",nFlag:2,selectedRecord:selectedRecord,operation:operation\r\n                    }\r\n                });\r\n\r\n            }).catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getTrainingParticipantsCertified(trainingUpdate,selectedRecord,userInfo,operation,certifiedId) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"trainingupdate/getAttendedParticipants\", { \"userinfo\": userInfo,  \"ntrainingcode\": parseInt(trainingUpdate.ntrainingcode) })\r\n            .then(response => {\r\n\r\n                let nusercode = [];\r\n\r\n                const certifyUsersMap = constructOptionList(response.data.AttendedParticipant || [], \"nusercode\",\r\n                    \"sfullname\", undefined, undefined, true);\r\n\r\n                const certifyUsersList = response.data.AttendedParticipant;\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        ncontrolCode:certifiedId,\r\n                        usersStatus: certifyUsersList, nusercode: nusercode, loading: false,openChildModal: true,\r\n                        screenName:\"IDS_CERTIFYPARTICIPANTSDETAILS\",nFlag:3,selectedRecord:selectedRecord,operation:operation\r\n                    }\r\n                });\r\n\r\n            }).catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getTrainingParticipantsCompetent(trainingUpdate,selectedRecord,userInfo,operation,competentId) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"trainingupdate/getCertifiedParticipants\", { \"userinfo\": userInfo,  \"ntrainingcode\": parseInt(trainingUpdate.ntrainingcode) })\r\n            .then(response => {\r\n\r\n                let nusercode = [];\r\n\r\n                // const competentUsersMap = constructOptionList(response.data.CompetentParticipant || [], \"nusercode\",\r\n                //     \"sfullname\", undefined, undefined, true);\r\n\r\n                const competentUsersList = response.data.CompetentParticipant;\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        ncontrolCode:competentId,\r\n                        usersStatus: competentUsersList, nusercode: nusercode, loading: false,openChildModal: true,\r\n                        screenName:\"IDS_COMPETENTPARTICIPANTSDETAILS\",nFlag:4,selectedRecord:selectedRecord,operation:operation\r\n                    }\r\n                });\r\n\r\n            }).catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const addtrainingdocfile = (inputParam) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        let urlArray = [rsapi.post(\"/linkmaster/getLinkMaster\", {\r\n            userinfo: inputParam.userInfo\r\n        })];\r\n\r\n        if (inputParam.operation === \"update\") {\r\n            urlArray.push(rsapi.post(\"/trainingupdate/editTrainingFile\", {\r\n                userinfo: inputParam.userInfo,\r\n                trainingfile: inputParam.selectedRecord\r\n            }))\r\n        }\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n            \r\n                const linkMap = constructOptionList(response[0].data.LinkMaster, \"nlinkcode\", \"slinkname\", false, false, true);\r\n                const linkmaster = linkMap.get(\"OptionList\");\r\n                let selectedRecord = {};\r\n                const defaultLink = linkmaster.filter(items => items.item.ndefaultlink === transactionStatus.YES);\r\n                let disabled = false;\r\n                let editObject = {};\r\n                if (inputParam.operation === \"update\") {\r\n                    editObject = response[1].data;\r\n                    let nlinkcode = {};\r\n                    let link = {};\r\n                    if (editObject.nattachmenttypecode === attachmentType.LINK) {\r\n                        nlinkcode = {\r\n                            \"label\": editObject.slinkname,\r\n                            \"value\": editObject.nlinkcode\r\n                        }\r\n\r\n                        link = {\r\n                            slinkfilename: editObject.sfilename,\r\n                            slinkdescription: editObject.sfiledesc,\r\n                            nlinkdefaultstatus: editObject.ndefaultstatus,\r\n                            sfilesize: '',\r\n                            nfilesize: 0,\r\n                            ndefaultstatus: 4,\r\n                            sfilename: '',\r\n                            sfiledesc:''\r\n                        }\r\n\r\n                    } else {\r\n                        nlinkcode = defaultLink.length > 0 ? defaultLink[0] : \"\" //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\"\r\n                        link = {\r\n                            slinkfilename: '',\r\n                            slinkdescription: '',\r\n                            nlinkdefaultstatus: 4,\r\n                            sfilesize: editObject.sfilesize,\r\n                            nfilesize: editObject.nfilesize,\r\n                            ndefaultstatus: editObject.ndefaultstatus,\r\n                            sfilename: editObject.sfilename,\r\n                            ...editObject\r\n                        }\r\n                    }\r\n\r\n\r\n\r\n                    selectedRecord = {\r\n                       // ...editObject,\r\n                        ntrainingdoccode: editObject.ntrainingdoccode,\r\n                        nattachmenttypecode: editObject.nattachmenttypecode,\r\n                        ...link,\r\n                        nlinkcode,\r\n\r\n                        // disabled: true\r\n                    };\r\n                } else {\r\n                    selectedRecord = {\r\n                        nattachmenttypecode: response[0].data.AttachmentType.length > 0 ?\r\n                            response[0].data.AttachmentType[0].nattachmenttypecode : attachmentType.FTP,\r\n                        nlinkcode: defaultLink.length > 0 ? defaultLink[0] : \"\", //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\r\n                        disabled\r\n                    };\r\n                }\r\n                \r\n                // let selectedRecord = {\r\n                //         nattachmenttypecode:response[0].data.AttachmentType.length>0?\r\n                //         response[0].data.AttachmentType[0].nattachmenttypecode:attachmentType.FTP,\r\n                //         nlinkcode: defaultLink.length > 0 ? defaultLink[0] : \"\", //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\r\n                //         disabled\r\n                //     };\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        openChildModal: true,\r\n                        operation: inputParam.operation,\r\n                        screenName: inputParam.screenName,\r\n                        ncontrolCode: inputParam.ncontrolCode,\r\n                        selectedRecord,\r\n                        loading: false,\r\n                        linkMaster: linkmaster,\r\n                        showSaveContinue: false,\r\n                        editFiles: editObject.nattachmenttypecode === \"1\" ? editObject : {}\r\n\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const addtraineedocfile = (inputParam) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        let urlArray = [rsapi.post(\"/linkmaster/getLinkMaster\", {\r\n            userinfo: inputParam.userInfo\r\n        })];\r\n\r\n        if (inputParam.operation === \"update\") {\r\n            urlArray.push(rsapi.post(\"/trainingupdate/editTraineeFile\", {\r\n                userinfo: inputParam.userInfo,\r\n                traineefile: inputParam.selectedRecord\r\n            }))\r\n        }\r\n\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n\r\n                const linkMap = constructOptionList(response[0].data.LinkMaster, \"nlinkcode\", \"slinkname\", false, false, true);\r\n                const linkmaster = linkMap.get(\"OptionList\");\r\n                 let selectedRecord = {};\r\n                const defaultLink = linkmaster.filter(items => items.item.ndefaultlink === transactionStatus.YES);\r\n                let disabled = false;\r\n                let editObject = {};\r\n                if (inputParam.operation === \"update\") {\r\n                    editObject = response[1].data;\r\n                    let nlinkcode = {};\r\n                    let link = {};\r\n                    if (editObject.nattachmenttypecode === attachmentType.LINK) {\r\n                        nlinkcode = {\r\n                            \"label\": editObject.slinkname,\r\n                            \"value\": editObject.nlinkcode\r\n                        }\r\n\r\n                        link = {\r\n                            slinkfilename: editObject.sfilename,\r\n                            slinkdescription: editObject.sfiledesc,\r\n                            nlinkdefaultstatus: editObject.ndefaultstatus,\r\n                            sfilesize: '',\r\n                            nfilesize: 0,\r\n                            ndefaultstatus: 4,\r\n                            sfilename: '',\r\n                            sfiledesc:''\r\n                        }\r\n\r\n                    } else {\r\n                        nlinkcode = defaultLink.length > 0 ? defaultLink[0] : \"\" //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\"\r\n                        link = {\r\n                            slinkfilename: '',\r\n                            slinkdescription: '',\r\n                            nlinkdefaultstatus: 4,\r\n                            sfilesize: editObject.sfilesize,\r\n                            nfilesize: editObject.nfilesize,\r\n                            ndefaultstatus: editObject.ndefaultstatus,\r\n                            sfilename: editObject.sfilename,\r\n                            ...editObject\r\n                        }\r\n                    }\r\n\r\n\r\n\r\n                    selectedRecord = {\r\n                       // ...editObject,\r\n                       ntraineedoccode: editObject.ntraineedoccode,\r\n                        nattachmenttypecode: editObject.nattachmenttypecode,\r\n                        ...link,\r\n                        nlinkcode,\r\n\r\n                        // disabled: true\r\n                    };\r\n                } else {\r\n                    selectedRecord = {\r\n                        nattachmenttypecode: response[0].data.AttachmentType.length > 0 ?\r\n                            response[0].data.AttachmentType[0].nattachmenttypecode : attachmentType.FTP,\r\n                        nlinkcode: defaultLink.length > 0 ? defaultLink[0] : \"\", //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\r\n                        disabled\r\n                    };\r\n                }\r\n                // let selectedRecord = {\r\n                //         nattachmenttypecode:response[0].data.AttachmentType.length>0?\r\n                //         response[0].data.AttachmentType[0].nattachmenttypecode:attachmentType.FTP,\r\n                //         nlinkcode: defaultLink.length > 0 ? defaultLink[0] : \"\", //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\r\n                //         disabled\r\n                //     };\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        openChildModal: true,\r\n                        operation: inputParam.operation,\r\n                        screenName: inputParam.screenName,\r\n                        ncontrolCode: inputParam.ncontrolCode,\r\n                        selectedRecord,\r\n                        loading: false,\r\n                        linkMaster: linkmaster,\r\n                        showSaveContinue: false,\r\n                        editFiles: editObject.nattachmenttypecode === \"1\" ? editObject : {}\r\n\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\n\r\n                             \r\n       \r\n"]},"metadata":{},"sourceType":"module"}