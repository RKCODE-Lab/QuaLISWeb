{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Button,Col,Modal,Row}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSave}from'@fortawesome/free-solid-svg-icons';import{FormattedMessage,injectIntl}from'react-intl';import{TouchBackend}from'react-dnd-touch-backend';import{HTML5Backend}from'react-dnd-html5-backend';import{DndProvider}from'react-dnd';import device from'current-device';// import MoreOptions from '../../components/configureui/MoreOptions';\nimport Dynamicinput from'../../components/droparea/Dynamicinputs';import{connect}from'react-redux';import{updateStore,crudMaster,getTableColumns,getForeignTableData,getDynamicFilter,getDynamicFilterExecuteData}from'../../actions/index';import{condition,SampleType,transactionStatus}from'../../components/Enumeration';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{showEsign,validateCreateView}from'../../components/CommonScript';import AlertModal from'./AlertModal';import FormInput from'../../components/form-input/form-input.component';import{getChildComponentForeignKey,getcomponentdata,getValidComponent,replaceChildFromChildren}from'../../components/droparea/helpers';import{InstrumentDefaultTemplate,productDefaultTemplate,MaterialDefaultTemplate,clinicalTypeDefaultTemplateWithoutProduct,clinicalTypeDefaultTemplateWithProduct,projectDefaultTemplate,clinicalTemplateWithExternalOrder}from'./DefaultTemplates';import{ReactComponents}from'../../components/Enumeration';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import{toast}from'react-toastify';import{Utils as QbUtils}from\"@react-awesome-query-builder/ui\";var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var PreRegDesignPopUp=/*#__PURE__*/function(_React$Component){_inherits(PreRegDesignPopUp,_React$Component);var _super=_createSuper(PreRegDesignPopUp);function PreRegDesignPopUp(props){var _this;_classCallCheck(this,PreRegDesignPopUp);_this=_super.call(this,props);_this.validateDynamicDesign=function(){var valid=_this.validateTemplate(_this.state.design);if(!valid){return null;}else{_this.setState({openAlertModal:true,templatename:\"\"});}};_this.showPropFilter=function(){var selectedFieldRecord=_this.state.selectedFieldRecord;if(selectedFieldRecord.inputtype==='backendsearchfilter'){if(selectedFieldRecord.label!==''&&selectedFieldRecord.table&&selectedFieldRecord.filterfields){var inputparam={component:selectedFieldRecord,userinfo:_this.props.Login.userInfo,type:'design',selectedComponentpath:_this.state.selectedComponentpath};_this.props.getDynamicFilter(inputparam);}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTMANDATORYFIELDS\"}));}}else if(selectedFieldRecord.inputtype==='frontendsearchfilter'){if(selectedFieldRecord.label!==''&&selectedFieldRecord.table&&selectedFieldRecord.filterfields){var _inputparam={component:selectedFieldRecord,userinfo:_this.props.Login.userInfo,type:'design',selectedComponentpath:_this.state.selectedComponentpath};_this.props.getDynamicFilter(_inputparam);}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTMANDATORYFIELDS\"}));}}else{var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:!_this.state.showFilter}};_this.props.updateStore(updateInfo);//  this.setState({ showFilter: !this.state.showFilter })\n}};_this.hidePropFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);//  this.setState({ showFilter: !this.state.showFilter })\n};_this.setLayout=function(design,splitDropZonePath,remove,removeChild){var selectedFieldRecord={};if(remove===undefined){selectedFieldRecord=getcomponentdata(design,splitDropZonePath.split(\"-\"));}else if(removeChild){var childRecord={};_this.state.toBeDeleted.deleteComponent.child.map(function(myChild){childRecord=getcomponentdata(design,myChild.childPath.split(\"-\"));childRecord['childValue']=undefined;childRecord['parentPath']=undefined;childRecord['valuecolumn']=undefined;design=replaceChildFromChildren(design,myChild.childPath.split(\"-\"),childRecord);return null;});}design=_this.updatePath(design);// if (selectedFieldRecord.child) {\n//     let childRecord = {}\n//     selectedFieldRecord.child.map(myChild => {\n//         childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\n//         childRecord['parentPath'] = splitDropZonePath.split(\"-\").length === 4 ? splitDropZonePath : splitDropZonePath + '-0';\n//         design = replaceChildFromChildren(design, splitDropZonePath.split(\"-\"), childRecord)\n//         return null;\n//     })\n// }\n// if (selectedFieldRecord.childValue) {\n//     let parentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\n//     let newChildData = []\n//     parentData.child.map(child => child.label === selectedFieldRecord.label ?\n//         newChildData.push({ ...child, childPath: splitDropZonePath.split(\"-\").length === 4 ? splitDropZonePath : splitDropZonePath + '-0' }) :\n//         newChildData.push(child))\n//     parentData = { ...parentData, child: newChildData };\n//     design = replaceChildFromChildren(design, selectedFieldRecord.parentPath.split(\"-\"), parentData)\n// }\nvar components=_this.getComponents(design).components;var validComponents=getValidComponent(selectedFieldRecord,components,_this.props.Login.columnInfo);_this.setState({showConfirmAlert:false,toBeDeleted:{},design:design,selectedFieldRecord:selectedFieldRecord,components:components,validComponents:validComponents,selectedComponentpath:splitDropZonePath.split(\"-\").length>1?splitDropZonePath:'0-0-'+splitDropZonePath});};_this.updatePath=function(design){design.map(function(row,rowIndex){return row.children.map(function(column,columnIndex){return column.children.map(function(componnetrow,compRowIndex){if(componnetrow.hasOwnProperty('children')){componnetrow.children.map(function(component,compIndex){if(component.inputtype!=='radio'){if(component.child){var newChild=[];component.child.map(function(childComp){var obj=_this.getIndexByLabel(design,childComp.label);newChild.push(_objectSpread(_objectSpread({},childComp),{},{childPath:obj.path}));var newObj=_objectSpread(_objectSpread({},obj.object),{},{parentPath:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-\").concat(compIndex)});design=replaceChildFromChildren(design,obj.path.split(\"-\"),newObj);});component=_objectSpread(_objectSpread({},component),{},{child:newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,compIndex],component);}}else{if(component.child){var _newChild=[];component.child.map(function(childComp){var obj=_this.getIndexByLabel(design,childComp.label);_newChild.push(_objectSpread(_objectSpread({},childComp),{},{childPath:obj.path}));var newObj=_objectSpread(_objectSpread({},obj.object),{},{radioparentPath:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-\").concat(compIndex)});design=replaceChildFromChildren(design,obj.path.split(\"-\"),newObj);});component=_objectSpread(_objectSpread({},component),{},{child:_newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,compIndex],component);}}});}else{if(componnetrow.inputtype!=='radio'){if(componnetrow.child){var newChild=[];componnetrow.child.map(function(childComp){var obj=_this.getIndexByLabel(design,childComp.label);newChild.push(_objectSpread(_objectSpread({},childComp),{},{childPath:obj.path}));var newObj=_objectSpread(_objectSpread({},obj.object),{},{parentPath:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-0\")});design=replaceChildFromChildren(design,obj.path.split(\"-\"),newObj);});componnetrow=_objectSpread(_objectSpread({},componnetrow),{},{child:newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,0],componnetrow);}}else{if(componnetrow.child){var _newChild2=[];componnetrow.child.map(function(childComp){var obj=_this.getIndexByLabel(design,childComp.label);_newChild2.push(_objectSpread(_objectSpread({},childComp),{},{childPath:obj.path}));var newObj=_objectSpread(_objectSpread({},obj.object),{},{radioparentPath:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-0\")});design=replaceChildFromChildren(design,obj.path.split(\"-\"),newObj);});componnetrow=_objectSpread(_objectSpread({},componnetrow),{},{child:_newChild2});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,0],componnetrow);}}}});});});return design;};_this.validateDelete=function(design,splitDropZonePath){var path=splitDropZonePath.split(\"-\");var showAlert=false;var toBeDeleted={};// let component = {}\n// let row = this.state.design[path[0]]\n// let column = row.children[path[1]]\n// let compRow = column.children[path[2]]\n// if (compRow.type === 'componentrow')\n//     component = compRow.children[path[3]]\n// else\n//     component = compRow\nvar component=getcomponentdata(_this.state.design,path);if(component.child&&component.child.length>0){var childRecord={};if(component.inputtype==='radio'){component.child.map(function(myChild){childRecord=getcomponentdata(design,myChild.childPath.split(\"-\"));delete childRecord[\"radioparentLabel\"];delete childRecord[\"selectedrecordbasedhide\"];delete childRecord[\"recordbasedhide\"];delete childRecord[\"radioparent\"];delete childRecord[\"radioparentPath\"];delete childRecord[\"recordbasedshowhide\"];delete childRecord[\"recordbasedreadonly\"];design=replaceChildFromChildren(design,myChild.childPath.split(\"-\"),childRecord);return null;});}else{component.child.map(function(myChild){childRecord=getcomponentdata(design,myChild.childPath.split(\"-\"));childRecord['childValue']=undefined;childRecord['parentPath']=undefined;childRecord['valuecolumn']=undefined;if(myChild.componentcode!==ReactComponents.COMBO){childRecord['column']=undefined;}design=replaceChildFromChildren(design,myChild.childPath.split(\"-\"),childRecord);return null;});}showAlert=true;toBeDeleted={design:design,splitDropZonePath:splitDropZonePath,deleteComponent:component};// this.showAlert(true, toBeDeleted);\n}if(component.childValue){var parentData=getcomponentdata(_this.state.design,component.parentPath.split(\"-\"));var newChildData=parentData.child.filter(function(child){return child.label!==component.label;});parentData=_objectSpread(_objectSpread({},parentData),{},{child:newChildData});design=replaceChildFromChildren(design,component.parentPath.split(\"-\"),parentData);toBeDeleted={design:design,splitDropZonePath:splitDropZonePath,deleteComponent:component};}if(component.radioparent){var _parentData=getcomponentdata(_this.state.design,component.radioparentPath.split(\"-\"));var _newChildData=_parentData.child.filter(function(child){return child.label!==component.label;});_parentData=_objectSpread(_objectSpread({},_parentData),{},{child:_newChildData});design=replaceChildFromChildren(design,component.radioparentPath.split(\"-\"),_parentData);toBeDeleted={design:design,splitDropZonePath:splitDropZonePath,deleteComponent:component};}if(showAlert){_this.showAlert(true,toBeDeleted);}else{_this.setLayout(design,splitDropZonePath,true);}};_this.confirmAlert=function(){_this.confirmMessage.confirm(_this.props.intl.formatMessage({id:\"IDS_WARNING\"}),_this.props.intl.formatMessage({id:\"IDS_WARNING\"}),_this.props.intl.formatMessage({id:\"IDS_PARENTCOMPONENTCANNOTBEDELETED\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.setLayout(_this.state.toBeDeleted.design,_this.state.toBeDeleted.splitDropZonePath,true,true);},undefined,function(){return _this.showAlert(false);});};_this.showAlert=function(bool,toBeDeleted){// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: { showConfirmAlert: bool, toBeDeleted }\n// }\n// this.props.updateStore(updateInfo);\n_this.setState({showConfirmAlert:bool,toBeDeleted:toBeDeleted});};_this.onclickcomponent=function(event,data,path){var selectedFieldRecord=_objectSpread({},data);var obj=_this.getComponents(_this.state.design);//console.log(\"obj:\", obj);\nvar components=obj.components;var dateComponents=obj.dateComponents;if(data.inputtype===\"date\"){var filterDataComponents=dateComponents.filter(function(item){return item.label!==data.label;});dateComponents=filterDataComponents;}var componentData={components:components,selectedComponentpath:path};var parentRadioValue=[];if((selectedFieldRecord.componentcode===ReactComponents.COMBO||selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER)&&selectedFieldRecord.source!==undefined&&(_this.props.Login.columnInfo===undefined||_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode]===undefined)){_this.props.getTableColumns(_this.state.design,selectedFieldRecord,selectedFieldRecord.nquerybuildertablecode,_this.props.Login.userInfo,\"\",_this.props.Login.columnInfo,componentData,undefined,false);}else{var validComponents=getValidComponent(selectedFieldRecord,components,_this.props.Login.columnInfo);var tableColumn=selectedFieldRecord.nquerybuildertablecode?_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].tableColumn:[];var filterColumns=selectedFieldRecord.nquerybuildertablecode?_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].filterColumns:[];if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){if(selectedFieldRecord.radioparentPath){var oldParentData=getcomponentdata(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"));if(oldParentData.hasOwnProperty('child')){oldParentData.child.map(function(item){if(item.label===selectedFieldRecord.label){parentRadioValue=oldParentData.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});}});}}}else{if(selectedFieldRecord.radioparentPath){if(selectedFieldRecord.radioparentPath){var _oldParentData=getcomponentdata(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"));if(_oldParentData.hasOwnProperty('child')){_oldParentData.child.map(function(item){if(item.label===selectedFieldRecord.label){parentRadioValue=_oldParentData.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});}});}}}}if(selectedFieldRecord.componentcode!==ReactComponents.COMBO&&selectedFieldRecord.componentcode!==ReactComponents.FRONTENDSEARCHFILTER&&selectedFieldRecord.componentcode!==ReactComponents.BACKENDSEARCHFILTER){if(_this.props.Login.columnInfo&&selectedFieldRecord.childValue&&_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode]){tableColumn=_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].tableColumn;filterColumns=_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].filterColumns;_this.setState({selectedComponentpath:path,selectedFieldRecord:selectedFieldRecord,components:components,tableColumn:tableColumn,filterColumns:filterColumns,validComponents:validComponents,parentRadioValue:parentRadioValue,showFilter:false});}else{if(selectedFieldRecord.childValue){_this.props.getTableColumns(_this.state.design,selectedFieldRecord,selectedFieldRecord.childValue.nquerybuildertablecode,_this.props.Login.userInfo,\"\",_this.props.Login.columnInfo,componentData,undefined,false);}else{_this.setState({selectedComponentpath:path,selectedFieldRecord:selectedFieldRecord,components:components,tableColumn:tableColumn,filterColumns:filterColumns,dateComponents:dateComponents,validComponents:validComponents,parentRadioValue:parentRadioValue,showFilter:false});}}}else{_this.setState({selectedComponentpath:path,selectedFieldRecord:selectedFieldRecord,components:components,tableColumn:tableColumn,filterColumns:filterColumns,dateComponents:dateComponents,validComponents:validComponents,parentRadioValue:parentRadioValue,showFilter:false});}}};_this.getComponents=function(design){var components=[];var dateComponents=[{label:\"Current Date\",value:\"utccurrentdate\"}];design.map(function(row,rowIndex){row.children.map(function(column,columnIndex){column.children.map(function(componnet,compindex){if(componnet.hasOwnProperty(\"children\")){componnet.children.map(function(componnetrow,compRowIndex){componnetrow.inputtype==='date'&&componnetrow.label&&dateComponents.push({label:componnetrow.label,value:componnetrow.label});componnetrow.label&&components.push({label:componnetrow.label,value:componnetrow.label,// item: componnetrow,\ninputtype:componnetrow.inputtype,source:componnetrow.source,nquerybuildertablecode:componnetrow.nquerybuildertablecode,child:componnetrow.child,valuemember:componnetrow.valuemember,path:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compindex,\"-\").concat(compRowIndex)});});}else{componnet.inputtype==='date'&&componnet.label&&dateComponents.push({label:componnet.label,value:componnet.label});componnet.label&&components.push({label:componnet.label,value:componnet.label,// item: componnet,\ninputtype:componnet.inputtype,source:componnet.source,nquerybuildertablecode:componnet.nquerybuildertablecode,child:componnet.child,valuemember:componnet.valuemember,path:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compindex,\"-0\")});}});return null;});return null;});return{components:components,dateComponents:dateComponents};};_this.getValueMembers=function(selectedFieldRecord){if(selectedFieldRecord.childValue){var valueColumn=[];_this.props.Login.columnInfo&&_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode]&&_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].numericColumns.map(function(x){if(x.foriegntablename===selectedFieldRecord.childValue.source)valueColumn.push({label:x.displayname[_this.props.Login.userInfo.slanguagetypecode],value:x.tablecolumnname,item:{foriegntablePK:x.foriegntablePK}});return null;});if(valueColumn.length){return valueColumn;}else{_this.props.Login.columnInfo&&_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode]&&_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].numericColumns.map(function(x){if(x.foriegntablename===selectedFieldRecord.source)valueColumn.push({label:x.displayname[_this.props.Login.userInfo.slanguagetypecode],value:x.tablecolumnname,item:{foriegntablePK:x.foriegntablePK}});return null;});return valueColumn;}}else{return null;}};_this.onInputOnChange=function(event,name){var selectedFieldRecord=_this.state.selectedFieldRecord||{};var selectedRecord=_this.state.selectedRecord||{};var chillabelUpdate=false;var newLabel=\"\";var oldLabel=\"\";if(event.target.type==='checkbox'){if(name===\"recordbasedreadonly\"||name===\"recordbasedshowhide\"){var design=_this.state.design;var splititemarray=_this.state.selectedComponentpath.split(\"-\");if(selectedFieldRecord[\"recordbasedshowhide\"]||selectedFieldRecord[\"recordbasedreadonly\"]){// let design = this.state.design\nif(selectedFieldRecord.radioparentPath){var oldParentData=getcomponentdata(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"));if(oldParentData.child){var newChildData1=oldParentData.child.filter(function(child){return child.label!==selectedFieldRecord.label;});oldParentData=_objectSpread(_objectSpread({},oldParentData),{},{child:newChildData1});design=replaceChildFromChildren(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"),oldParentData);}delete selectedFieldRecord[\"radioparentLabel\"];delete selectedFieldRecord[\"selectedrecordbasedhide\"];delete selectedFieldRecord[\"recordbasedhide\"];delete selectedFieldRecord[\"radioparent\"];}selectedFieldRecord[name===\"recordbasedreadonly\"?\"recordbasedshowhide\":\"recordbasedreadonly\"]=false;}selectedFieldRecord[event.target.name]=event.target.checked;var newdata=_objectSpread({},selectedFieldRecord);design=replaceChildFromChildren(design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});}else if(event.target.name===\"loadselecteddate\"||event.target.name===\"loadcurrentdate\"){if(event.target.name===\"loadselecteddate\"&&selectedFieldRecord['loadcurrentdate']){selectedFieldRecord['loadcurrentdate']=false;}else if(event.target.name===\"loadcurrentdate\"&&selectedFieldRecord['loadselecteddate']){selectedFieldRecord['loadselecteddate']=false;}selectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name===\"unique\"){//     const design = this.state.design\n//  let listUnique=[]\n//  if(event.target.checked){\n//     design && design.map(row => {\n//         return  row.children.map(column => {\n//              return column.children.map(component => {\n//                   if (component.hasOwnProperty(\"children\")) {\n//                      return component.children.map(componentrow => {\n//                        if(componentrow.unique){\n//                         listUnique.push(componentrow.unique)\n//                        }\n//                       }) \n//                   }\n//                   else {\n//                     if(component.unique){\n//                         listUnique.push(component.unique)\n//                     }\n//                   }\n//               }\n//               )\n//           })\n//       })   \n//     }\n//       if(listUnique.length===0){\n//         selectedFieldRecord[event.target.name] = event.target.checked;\n//         this.saveComponentProperties(selectedFieldRecord)\n//       }else{\n//           toast.info(\"Unique Must Be One Field\")\n//           selectedFieldRecord[event.target.name] = false;\n//         this.saveComponentProperties(selectedFieldRecord)\n//         //  this.setState({design})\n//       }\nselectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='isAddMaster'||event.target.name==='isView'||event.target.name==='isEditMaster'){// if (event.target.name === 'isAddMaster') {\n//     if (event.target.checked) {\n//         selectedFieldRecord['isView'] = false\n//     }\n// } else {\n//     if (event.target.checked) {\n//         selectedFieldRecord['isAddMaster'] = false\n//     }\n// }\nselectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='autoFocus'){if(event.target.checked===true){var val=_this.checkAutoFocus();if(val===''){selectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYFOCUSAPPLIEDON\"})+' '+val);}}else{selectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}}else{if(event.target.name==='timeonly'){selectedFieldRecord['dateonly']=false;}if(event.target.name==='dateonly'){selectedFieldRecord['timeonly']=false;}if(event.target.name==='mandatory'){if(event.target.checked===false){if(selectedFieldRecord['unique']){selectedFieldRecord['unique']=false;}}}selectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}}else if(event.target.name==='templatename'){if(event.target.value!==\"\"){event.target.value=validateCreateView(event.target.value);selectedRecord[event.target.name]=event.target.value!==\"\"?event.target.value:selectedRecord[event.target.name];}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});}else{if(name==='synonym'){selectedFieldRecord['displayname']=_objectSpread(_objectSpread({},selectedFieldRecord['displayname']),{},_defineProperty({},event.target.name,event.target.value));}if(event.target.name==='label'){var langArray=_this.props.Login.languageList;var langDataObject={};langArray.map(function(item){return langDataObject[item.value]=event.target.value;});selectedFieldRecord['displayname']=_objectSpread(_objectSpread({},selectedFieldRecord['displayname']),langDataObject);chillabelUpdate=true;newLabel=event.target.value;oldLabel=selectedFieldRecord[event.target.name];selectedFieldRecord[event.target.name]=event.target.value;}else{selectedFieldRecord[event.target.name]=event.target.value;}_this.saveComponentProperties(selectedFieldRecord,chillabelUpdate,oldLabel,newLabel);}};_this.checkAutoFocus=function(){var val='';_this.state.design.map(function(item){return item.children.map(function(column){return column.children.map(function(componnet){if(componnet.hasOwnProperty('children')){componnet.children.map(function(componnetrow){if(componnetrow.inputtype==='combo'){if(componnetrow.autoFocus){val=componnetrow.label;}}});}else{if(componnet.inputtype==='combo'){if(componnet.autoFocus){val=componnet.label;}}}});});});return val;};_this.onNumericInputChange=function(event,columnname){var selectedFieldRecord=_this.state.selectedFieldRecord||{};var value=event.target.value;if(!isNaN(value)){// if (parseInt(value) < 10) {\nselectedFieldRecord[event.target.name]=value;_this.saveComponentProperties(selectedFieldRecord);// }\n}};_this.handleDateChange=function(dateValue,dateName){var selectedFieldRecord=_this.state.selectedFieldRecord||{};selectedFieldRecord[dateName]=dateValue;_this.saveComponentProperties(selectedFieldRecord);};_this.onComboChange=function(comboData,comboName){var selectedFieldRecord=_this.state.selectedFieldRecord;if(selectedFieldRecord.label){if(comboName==='table'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['source']=comboData.item.stablename;if(comboData.item.stablename==='dynamicmaster'){selectedFieldRecord['conditionstring']=' and nformcode = '+comboData.item.nformcode;}selectedFieldRecord['nquerybuildertablecode']=comboData.value;selectedFieldRecord['isAddMaster']=false;var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);//if(comboData.item.stablename==='unit'){\n// newdata['isAddNewRecord']=true;\n//}\nvar design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);if(selectedFieldRecord.inputtype==='frontendsearchfilter'||selectedFieldRecord.inputtype==='backendsearchfilter'){_this.props.getTableColumns(design,selectedFieldRecord,comboData.value,_this.props.Login.userInfo,splititemarray,_this.props.Login.columnInfo,{validComponents:_this.state.validComponents});}else{_this.props.getTableColumns(design,selectedFieldRecord,comboData.value,_this.props.Login.userInfo,splititemarray,_this.props.Login.columnInfo);}}else if(comboName==='column'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['displaymember']=comboData.value;if(comboData.item.ismultilingual){selectedFieldRecord['isMultiLingual']=true;}if(comboData.item.stablename==='dynamicmaster'){selectedFieldRecord['name']=comboData.value;}var _splititemarray=_this.state.selectedComponentpath.split(\"-\");var _newdata=_objectSpread({},selectedFieldRecord);var _design=replaceChildFromChildren(_this.state.design,_splititemarray,_newdata);_this.setState({design:_design,selectedFieldRecord:selectedFieldRecord});}else if(comboName==='childValue'){if(comboData){var _splititemarray2=_this.state.selectedComponentpath.split(\"-\");var _design2=_this.state.design;if(selectedFieldRecord.parentPath){var oldParentData=getcomponentdata(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"));if(oldParentData.child){var newChildData1=oldParentData.child.filter(function(child){return child.label!==selectedFieldRecord.label;});oldParentData=_objectSpread(_objectSpread({},oldParentData),{},{child:newChildData1});_design2=replaceChildFromChildren(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"),oldParentData);}}var parentData=getcomponentdata(_design2,comboData.path.split(\"-\"));selectedFieldRecord['childValue']=comboData;selectedFieldRecord['parentPath']=comboData.path;if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){selectedFieldRecord['parentLabel']=comboData.label;}var _newdata2=_objectSpread({},selectedFieldRecord);_design2=replaceChildFromChildren(_design2,_splititemarray2,_newdata2);var newChildData=parentData.child||[];var validateChild=newChildData.filter(function(x){return x.label===selectedFieldRecord.label;});if(validateChild.length===0){var valueMemberOptions=_this.getValueMembers(selectedFieldRecord);if(valueMemberOptions.length===1){var foriegntablePK=getChildComponentForeignKey(selectedFieldRecord,comboData,_this.props.Login.columnInfo);newChildData.push({label:selectedFieldRecord.label,foriegntablePK:foriegntablePK,tablecolumnname:valueMemberOptions[0].value,childPath:_this.state.selectedComponentpath});}else{newChildData.push({label:selectedFieldRecord.label,childPath:_this.state.selectedComponentpath});}}parentData=_objectSpread(_objectSpread({},parentData),{},{child:newChildData});_design2=replaceChildFromChildren(_design2,comboData.path.split(\"-\"),parentData);if(selectedFieldRecord.componentcode===ReactComponents.COMBO){_this.setState({design:_design2,selectedFieldRecord:selectedFieldRecord});}else if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){var parentRadioValue=_this.state.parentRadioValue||[];parentRadioValue=parentData.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});_this.setState({design:_design2,selectedFieldRecord:selectedFieldRecord,parentRadioValue:parentRadioValue});}else{_this.props.getTableColumns(_design2,selectedFieldRecord,selectedFieldRecord.childValue.nquerybuildertablecode,_this.props.Login.userInfo,_splititemarray2,_this.props.Login.columnInfo,{components:_this.state.components,selectedComponentpath:_this.state.selectedComponentpath},true);}}else{var _splititemarray3=_this.state.selectedComponentpath.split(\"-\");var _parentData2=getcomponentdata(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"));var _newChildData2=_parentData2.child.filter(function(child){return child.label!==selectedFieldRecord.label;});_parentData2=_objectSpread(_objectSpread({},_parentData2),{},{child:_newChildData2});var _design3=replaceChildFromChildren(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"),_parentData2);selectedFieldRecord['childValue']=comboData;if(selectedFieldRecord.componentcode!==ReactComponents.COMBO)selectedFieldRecord['column']=comboData;var _newdata3=_objectSpread({},selectedFieldRecord);_design3=replaceChildFromChildren(_design3,_splititemarray3,_newdata3);if(selectedFieldRecord.componentcode===ReactComponents.COMBO){_this.setState({design:_design3,selectedFieldRecord:selectedFieldRecord});}else{_this.setState({design:_design3,selectedFieldRecord:selectedFieldRecord,tableColumn:[]});}}}else if(comboName==='valuecolumn'){selectedFieldRecord['valuecolumn']=comboData;var _parentData3=getcomponentdata(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"));var _newChildData3=[];_parentData3.child.map(function(child){if(child.label===selectedFieldRecord.label){_newChildData3.push(_objectSpread(_objectSpread({},child),{},{tablecolumnname:comboData.value,foriegntablePK:comboData.item.foriegntablePK}));}else{_newChildData3.push(child);}return null;});_parentData3=_objectSpread(_objectSpread({},_parentData3),{},{child:_newChildData3});var _design4=replaceChildFromChildren(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"),_parentData3);var _newdata4=_objectSpread({},selectedFieldRecord);_design4=replaceChildFromChildren(_design4,_this.state.selectedComponentpath.split(\"-\"),_newdata4);_this.setState({design:_design4,selectedFieldRecord:selectedFieldRecord});}else if(comboName==='filtercolumn'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord.filtervalue=\"\";selectedFieldRecord.staticfiltervalue=\"\";var _splititemarray4=_this.state.selectedComponentpath.split(\"-\");var _newdata5=_objectSpread({},selectedFieldRecord);var _design5=replaceChildFromChildren(_this.state.design,_splititemarray4,_newdata5);if(comboData.type!=='numeric'){_this.setState({design:_design5,selectedFieldRecord:selectedFieldRecord});}else{_this.props.getForeignTableData(_design5,selectedFieldRecord,'',_this.props.Login.userInfo,_splititemarray4,_this.props.Login.columnInfo,{components:_this.state.components,selectedComponentpath:_this.state.selectedComponentpath},true);}}else if(comboName==='customsearchfilter'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['filterfields']=[];_this.state.selectedFieldRecord[comboName].map(function(data){return selectedFieldRecord['filterfields'].push(data.item['item']?_objectSpread({type:data.type},data.item['item']):data.item);});var _splititemarray5=_this.state.selectedComponentpath.split(\"-\");var _newdata6=_objectSpread({},selectedFieldRecord);var _design6=replaceChildFromChildren(_this.state.design,_splititemarray5,_newdata6);_this.setState({design:_design6,selectedFieldRecord:selectedFieldRecord});}else if(comboName==='selectedrecordbasedhide'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['recordbasedhide']=comboData.value;if(comboData.item.ismultilingual){selectedFieldRecord['isMultiLingual']=true;}if(comboData.item.stablename==='dynamicmaster'){selectedFieldRecord['name']=comboData.value;}var _splititemarray6=_this.state.selectedComponentpath.split(\"-\");var _newdata7=_objectSpread({},selectedFieldRecord);var _design7=replaceChildFromChildren(_this.state.design,_splititemarray6,_newdata7);_this.setState({design:_design7,selectedFieldRecord:selectedFieldRecord});}else if(comboName==='radioparent'){if(comboData){var _splititemarray7=_this.state.selectedComponentpath.split(\"-\");var _design8=_this.state.design;var _parentData4=getcomponentdata(_design8,comboData.path.split(\"-\"));selectedFieldRecord['radioparent']=comboData;selectedFieldRecord['radioparentPath']=comboData.path;selectedFieldRecord['radioparentLabel']=comboData.label;delete selectedFieldRecord['recordbasedhide'];delete selectedFieldRecord[\"selectedrecordbasedhide\"];var _newdata8=_objectSpread({},selectedFieldRecord);_design8=replaceChildFromChildren(_design8,_splititemarray7,_newdata8);var _newChildData4=_parentData4.child||[];var _validateChild=_newChildData4.filter(function(x){return x.label===selectedFieldRecord.label;});if(_validateChild.length===0){var _valueMemberOptions=_this.getValueMembers(selectedFieldRecord);if(_valueMemberOptions!==null&&_valueMemberOptions.length===1){_newChildData4.push({label:selectedFieldRecord.label,tablecolumnname:_valueMemberOptions[0].value,childPath:_this.state.selectedComponentpath});}else{_newChildData4.push({label:selectedFieldRecord.label,childPath:_this.state.selectedComponentpath});}}_parentData4=_objectSpread(_objectSpread({},_parentData4),{},{child:_newChildData4});_design8=replaceChildFromChildren(_design8,comboData.path.split(\"-\"),_parentData4);var _parentRadioValue=_this.state.parentRadioValue||[];_parentRadioValue=_parentData4.radioOptions&&_parentData4.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});_this.setState({design:_design8,selectedFieldRecord:selectedFieldRecord,parentRadioValue:_parentRadioValue});}else{var _splititemarray8=_this.state.selectedComponentpath.split(\"-\");var _parentData5=getcomponentdata(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"));var _newChildData5=_parentData5.child.filter(function(child){return child.label!==selectedFieldRecord.label;});_parentData5=_objectSpread(_objectSpread({},_parentData5),{},{child:_newChildData5});var _design9=replaceChildFromChildren(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"),_parentData5);selectedFieldRecord['radioparent']=comboData;selectedFieldRecord['selectedrecordbasedhide']=comboData;delete selectedFieldRecord['recordbasedhide'];var _newdata9=_objectSpread({},selectedFieldRecord);_design9=replaceChildFromChildren(_design9,_splititemarray8,_newdata9);if(selectedFieldRecord.componentcode===ReactComponents.COMBO){_this.setState({design:_design9,selectedFieldRecord:selectedFieldRecord});}else{_this.setState({design:_design9,selectedFieldRecord:selectedFieldRecord,tableColumn:[]});}}}else if(comboName===\"period\"){if(comboData){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['nperiodcode']=comboData.value;selectedFieldRecord['nperioddata']=comboData.item.ndata;var _splititemarray9=_this.state.selectedComponentpath.split(\"-\");var _newdata10=_objectSpread({},selectedFieldRecord);var _design10=replaceChildFromChildren(_this.state.design,_splititemarray9,_newdata10);_this.setState({design:_design10,selectedFieldRecord:selectedFieldRecord});}else{selectedFieldRecord[comboName]=comboData;delete selectedFieldRecord['nperiodcode'];delete selectedFieldRecord['nperioddata'];delete selectedFieldRecord['windowperiod'];var _splititemarray10=_this.state.selectedComponentpath.split(\"-\");var _newdata11=_objectSpread({},selectedFieldRecord);var _design11=replaceChildFromChildren(_this.state.design,_splititemarray10,_newdata11);_this.setState({design:_design11,selectedFieldRecord:selectedFieldRecord});}}else if(comboName===\"staticfiltertable\"){if(comboData){selectedFieldRecord[comboName]=comboData;var _splititemarray11=_this.state.selectedComponentpath.split(\"-\");var _newdata12=_objectSpread({},selectedFieldRecord);var _design12=replaceChildFromChildren(_this.state.design,_splititemarray11,_newdata12);var list=JSON.parse(comboData.item.jsondata.value).jcolumnname;var staticfiltercolumn=list.map(function(x){// x['displayname']= x['displayname'][this.props.Login.userInfo.slanguagetypecode]\nreturn{label:x['displayname'][_this.props.Login.userInfo.slanguagetypecode],value:x['displayname'][_this.props.Login.userInfo.slanguagetypecode],item:x};});_this.setState({design:_design12,selectedFieldRecord:selectedFieldRecord,staticfiltercolumn:staticfiltercolumn});}else{selectedFieldRecord[comboName]=comboData;delete selectedFieldRecord['staticfiltercolumn'];var _splititemarray12=_this.state.selectedComponentpath.split(\"-\");var _newdata13=_objectSpread({},selectedFieldRecord);var _design13=replaceChildFromChildren(_this.state.design,_splititemarray12,_newdata13);_this.setState({design:_design13,selectedFieldRecord:selectedFieldRecord,staticfiltercolumn:[]});}}else if(comboName===\"radiodefaultvalue\"){selectedFieldRecord[comboName]=comboData;var _newdata14=_objectSpread({},selectedFieldRecord);var _splititemarray13=_this.state.selectedComponentpath.split(\"-\");var _design14=replaceChildFromChildren(_this.state.design,_splititemarray13,_newdata14);_this.setState({design:_design14,selectedFieldRecord:selectedFieldRecord});}else if(comboName===\"radiodefaultvaluemulti\"){//     selectedFieldRecord[comboName] = comboData;\nselectedFieldRecord['radiodefaultvalue']=[];comboData.map(function(data){return selectedFieldRecord['radiodefaultvalue'].push(_objectSpread({},data));});var _splititemarray14=_this.state.selectedComponentpath.split(\"-\");var _newdata15=_objectSpread({},selectedFieldRecord);var _design15=replaceChildFromChildren(_this.state.design,_splititemarray14,_newdata15);_this.setState({design:_design15,selectedFieldRecord:selectedFieldRecord});}else{selectedFieldRecord[comboName]=comboData;var _splititemarray15=_this.state.selectedComponentpath.split(\"-\");var _newdata16=_objectSpread({},selectedFieldRecord);var _design16=replaceChildFromChildren(_this.state.design,_splititemarray15,_newdata16);_this.setState({design:_design16,selectedFieldRecord:selectedFieldRecord});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERLABEL\"}));}};_this.addTag=function(tags){var selectedFieldRecord=_this.state.selectedFieldRecord||{};selectedFieldRecord['radioOptions']=tags;if(selectedFieldRecord['radiodefaultvalue']){if(Array.isArray(selectedFieldRecord['radiodefaultvalue'])){var list=[];tags.tags.map(function(x){selectedFieldRecord['radiodefaultvalue'].map(function(y){if(x.text===y.label){list.push(_objectSpread({},y));}});});selectedFieldRecord['radiodefaultvalue']=list.length>0?list:undefined;}else{var _list=tags.tags.filter(function(x){return x.text===selectedFieldRecord['radiodefaultvalue'].label;});if(_list.length===0)selectedFieldRecord['radiodefaultvalue']=undefined;}}_this.saveComponentProperties(selectedFieldRecord);};_this.addCondition=function(){var selectedFieldRecord=_this.state.selectedFieldRecord;var filterColumnName;var filterValue;var conditionString;var conditionArrayString;var selectedStaticfiltertable={};if(selectedFieldRecord[\"filtercolumn\"]&&selectedFieldRecord['condition']&&(selectedFieldRecord['staticfiltercolumn']||selectedFieldRecord['staticfiltercolumn'])){selectedStaticfiltertable=JSON.parse(selectedFieldRecord[\"staticfiltertable\"].item.jsondata.value);switch(selectedFieldRecord[\"filtercolumn\"].type){case'static':{filterColumnName=\" and \"+selectedFieldRecord.filtercolumn.item.columnname;filterValue={label:selectedFieldRecord.staticfiltercolumn.label,value:selectedFieldRecord.staticfiltercolumn.item.columnname};break;}case'dynamic':{filterColumnName=\" and jsondata->>'\"+selectedFieldRecord.filtercolumn.item.columnname+\"'\";filterValue={label:selectedFieldRecord.staticfiltercolumn.label,value:selectedFieldRecord.selectedFieldRecord.staticfiltercolumn.item.columnname};break;}case'numeric':{filterColumnName=\" and \"+selectedFieldRecord.filtercolumn.item.tablecolumnname;filterValue={label:selectedFieldRecord.staticfiltercolumn.label,value:selectedFieldRecord.staticfiltercolumn.item.columnname};break;}default:break;}switch(selectedFieldRecord[\"condition\"].value){case condition.EQUALS:conditionString=filterColumnName+\" = P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" = \"+filterValue.label;break;case condition.NOTEQUALS:conditionString=filterColumnName+\" P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" = \"+filterValue.label;break;case condition.STARTSWITH:conditionString=filterColumnName+\" like 'P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P\"+\"%'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" Starts With \"+filterValue.label;break;case condition.ENDSWITH:conditionString=filterColumnName+\" like '%P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\"Ends With \"+filterValue.label;break;case condition.INCLUDES:conditionString=filterColumnName+\" like '%P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P%'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" Contains \"+filterValue.label;break;// case condition.CONTAINS:\n//     conditionString = filterColumnName + \" in (\" + filterValue.map(x => x.value).join(',') + \" )\"\n//     conditionArrayString = selectedFieldRecord.filtercolumn.label + \" in (\" + filterValue.map(x => x.label).join(',') + \" )\"\n//     break;\n// case condition.NOTCONTAINS:\n//     conditionString = filterColumnName + \" not in (\" + filterValue.map(x => x.value).join(',') + \" )\"\n//     conditionArrayString = selectedFieldRecord.filtercolumn.label + \" not in (\" + filterValue.map(x => x.label).join(',') + \" )\"\n//     break;\ndefault:break;}var conditionArrayUI=selectedFieldRecord.conditionArrayUI||[];var conditionArraySQL=selectedFieldRecord.conditionArraySQL||[];conditionArrayUI.push(conditionArrayString);conditionArraySQL.push(conditionString);selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{filtercolumn:\"\",condition:\"\",staticfiltervalue:undefined,filtervalue:\"\",staticfiltertable:\"\",nsystemconfiguration:false,conditionArrayUI:conditionArrayUI,conditionArraySQL:conditionArraySQL,staticfiltercolumn:\"\"});selectedFieldRecord['conditionstring']=conditionArraySQL.join(\" \");}else if(selectedFieldRecord[\"filtercolumn\"]&&selectedFieldRecord['condition']&&(selectedFieldRecord['staticfiltervalue']||selectedFieldRecord['filtervalue'])){switch(selectedFieldRecord[\"filtercolumn\"].type){case'static':{filterColumnName=\" and \"+selectedFieldRecord.filtercolumn.item.columnname;filterValue={label:selectedFieldRecord.staticfiltervalue,value:selectedFieldRecord.staticfiltervalue};break;}case'dynamic':{filterColumnName=\" and jsondata->>'\"+selectedFieldRecord.filtercolumn.item.columnname+\"'\";filterValue={label:selectedFieldRecord.staticfiltervalue,value:selectedFieldRecord.staticfiltervalue};break;}case'numeric':{filterColumnName=\" and \"+selectedFieldRecord.filtercolumn.item.tablecolumnname;filterValue=selectedFieldRecord.filtervalue;break;}default:break;}switch(selectedFieldRecord[\"condition\"].value){case condition.EQUALS:conditionString=filterColumnName+\" = '\"+filterValue.value+\"'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" = \"+filterValue.label;break;case condition.NOTEQUALS:conditionString=filterColumnName+\" != '\"+filterValue.value+\"'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" = \"+filterValue.label;break;case condition.STARTSWITH:conditionString=filterColumnName+\" like '\"+filterValue.value+\"%'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" Starts With \"+filterValue.label;break;case condition.ENDSWITH:conditionString=filterColumnName+\" like '%\"+filterValue.value+\"'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\"Ends With \"+filterValue.label;break;case condition.INCLUDES:conditionString=filterColumnName+\" like '%\"+filterValue.value+\"%'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" Contains \"+filterValue.label;break;case condition.CONTAINS:conditionString=filterColumnName+\" in (\"+filterValue.map(function(x){return x.value;}).join(',')+\" )\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" in (\"+filterValue.map(function(x){return x.label;}).join(',')+\" )\";break;case condition.NOTCONTAINS:conditionString=filterColumnName+\" not in (\"+filterValue.map(function(x){return x.value;}).join(',')+\" )\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" not in (\"+filterValue.map(function(x){return x.label;}).join(',')+\" )\";break;default:break;}var _conditionArrayUI=selectedFieldRecord.conditionArrayUI||[];var _conditionArraySQL=selectedFieldRecord.conditionArraySQL||[];_conditionArrayUI.push(conditionArrayString);_conditionArraySQL.push(conditionString);selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{filtercolumn:\"\",condition:\"\",staticfiltervalue:undefined,filtervalue:\"\",conditionArrayUI:_conditionArrayUI,conditionArraySQL:_conditionArraySQL,nsystemconfiguration:false,staticfiltercolumn:\"\"});selectedFieldRecord['conditionstring']=_conditionArraySQL.join(\" \");}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERVALUES\"}));}var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord,staticfiltercolumn:\"\"});};_this.deleteCondition=function(index){var selectedFieldRecord=_this.state.selectedFieldRecord;var conditionArrayUI=selectedFieldRecord.conditionArrayUI;var conditionArraySQL=selectedFieldRecord.conditionArraySQL;conditionArrayUI.splice(index,1);conditionArraySQL.splice(index,1);selectedFieldRecord['conditionArrayUI']=conditionArrayUI;selectedFieldRecord['conditionArraySQL']=conditionArraySQL;selectedFieldRecord['conditionstring']=conditionArraySQL.join(\" \");var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});};_this.addDateConstraints=function(){var selectedFieldRecord=_this.state.selectedFieldRecord;var filterColumnName;if(selectedFieldRecord['condition']&&selectedFieldRecord['filtervalue']){filterColumnName=selectedFieldRecord.filtervalue.value;var dateConstraintArrayUI=selectedFieldRecord.dateConstraintArrayUI||[];var dateConstraintArraySQL=selectedFieldRecord.cdateConstraintArraySQL||[];dateConstraintArrayUI.push(selectedFieldRecord.label+' '+selectedFieldRecord['condition'].label+' '+selectedFieldRecord['filtervalue'].label);dateConstraintArraySQL.push({parentdate:selectedFieldRecord.label,constraint:selectedFieldRecord['condition'].value,childdate:filterColumnName});selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{condition:\"\",filtervalue:\"\",dateConstraintArrayUI:dateConstraintArrayUI,dateConstraintArraySQL:dateConstraintArraySQL});var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERVALUES\"}));}};_this.deleteDateCondition=function(index){var selectedFieldRecord=_this.state.selectedFieldRecord;var dateConstraintArrayUI=selectedFieldRecord.dateConstraintArrayUI;var dateConstraintArraySQL=selectedFieldRecord.dateConstraintArraySQL;dateConstraintArrayUI.splice(index,1);dateConstraintArraySQL.splice(index,1);selectedFieldRecord['dateConstraintArrayUI']=dateConstraintArrayUI;selectedFieldRecord['dateConstraintArraySQL']=dateConstraintArraySQL;var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});};_this.saveComponentProperties=function(selectedFieldRecord,childLabelUpdate,oldLabelName,newLabelName){var splititemarray=_this.state.selectedComponentpath.split(\"-\");// const selectedFieldRecord = this.state.selectedFieldRecord;\nvar newdata=_objectSpread({},selectedFieldRecord);var design1=_this.state.design;if(childLabelUpdate){design1=_this.updateLabelName(_this.state.design,oldLabelName,newLabelName);}var design=replaceChildFromChildren(design1,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});};_this.updateLabelName=function(design,oldLabelName,newLabelName){design.map(function(row,rowIndex){return row.children.map(function(column,columnIndex){return column.children.map(function(componnetrow,compRowIndex){if(componnetrow.hasOwnProperty('children')){componnetrow.children.map(function(component,compIndex){if(component.child){var newChild=[];component.child.map(function(childComp){if(childComp.label===oldLabelName){newChild.push(_objectSpread(_objectSpread({},childComp),{},{label:newLabelName}));}else{newChild.push(_objectSpread({},childComp));}});component=_objectSpread(_objectSpread({},component),{},{child:newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,compIndex],component);}});}else{if(componnetrow.child){var newChild=[];componnetrow.child.map(function(childComp){if(childComp.label===oldLabelName){newChild.push(_objectSpread(_objectSpread({},childComp),{},{label:newLabelName}));}else{newChild.push(_objectSpread({},childComp));}});componnetrow=_objectSpread(_objectSpread({},componnetrow),{},{child:newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,0],componnetrow);}}});});});return design;};_this.handleSaveClick=function(saveType){if(_this.state.selectedRecord.templatename&&_this.state.selectedRecord.templatename!==\"\"){var inputData=[];var selectedId=null;inputData[\"userinfo\"]=_this.props.Login.userInfo;var dataState=undefined;// let valid = this.validateTemplate(this.state.design);\n// if (!valid) {\n//     return null;\n// }\nif(_this.props.Login.operation===\"update\"){// edit\nselectedId=_this.state.selectedRecord.nchecklistqbcode;dataState=_this.state.dataState;inputData[\"registrationtemplate\"]={nreactregtemplatecode:_this.props.Login.masterData.selectedTemplate.nreactregtemplatecode,nsampletypecode:_this.props.nsampletypecode,sregtemplatename:_this.state.selectedRecord.templatename,jsonString:JSON.stringify(_this.state.design),jsondata:_this.state.design,ntransactionstatus:transactionStatus.DRAFT,ndefaulttemplatecode:_this.props.defaultTemplate.value};}else{//add               \ninputData[\"registrationtemplate\"]={nsampletypecode:_this.props.nsampletypecode,sregtemplatename:_this.state.selectedRecord.templatename,ndefaulttemplatecode:_this.props.defaultTemplate.value,//ndefaulttemplatecode: this.props.Login.masterData.selectedDefaultTemplate.ndefaulttemplatecode,\njsonString:JSON.stringify(_this.state.design),ntransactionstatus:transactionStatus.DRAFT,nsubsampletypecode:_this.props.defaultTemplate&&_this.props.defaultTemplate.item.nsubsampletypecode};}var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{selectedDefaultTemplate:_this.props.defaultTemplate});var postParam={inputListName:\"RegistrationTemplate\",selectedObject:\"selectedTemplate\",primaryKeyField:\"nreactregtemplatecode\",fetchUrl:\"dynamicpreregdesign/getRegistrationTemplateById\",fecthInputObject:{userinfo:_this.props.Login.userInfo,nsampletypecode:_this.props.nsampletypecode},masterData:masterData};var inputParam={methodUrl:'RegistrationTemplate',classUrl:'dynamicpreregdesign',displayName:_this.props.Login.inputParam.displayName?_this.props.Login.inputParam.displayName:'',inputData:inputData,postParam:postParam,searchRef:_this.props.searchRef,operation:_this.props.Login.operation,saveType:saveType,dataState:dataState,selectedId:selectedId,openPortal:true};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,// openPortal:false,\nopenModal:true}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openPortal\");}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_ENTERTEMPLATENAME\"}));}};_this.validateTemplate=function(template){var invalidComponent=[];var duplicateComponents=[];var insufficientMultilingualData=[];//let invalidComboComponent = [];\n// let invalidRadioComponent = [];\n// let invalidCheckboxComponent = [];\n//let invalidReadOnlyComponent = [];\nvar incompletePropertiesComponent=[];var labels=[];var uniqueComponent=[];template.map(function(row,rowIndex){row.children.map(function(column,columnIndex){column.children.map(function(componnet,compindex){if(componnet.hasOwnProperty(\"children\")){componnet.children.map(function(componnetrow,compRowIndex){if(componnetrow.unique){uniqueComponent.push(componnetrow.label);}if(!componnetrow.hasOwnProperty('label')||componnetrow.label.trim()===''){invalidComponent.push(componnetrow);}if(labels.includes(componnetrow.label)){duplicateComponents.push(componnetrow);}else{if(componnetrow.label!==undefined)labels.push(componnetrow.label);}if(componnetrow.componentcode===ReactComponents.COMBO){if(!componnetrow.hasOwnProperty('source')&&!componnetrow.hasOwnProperty('displaymember')){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.CHECKBOX){if(!componnetrow.hasOwnProperty('radioOptions')||componnetrow.radioOptions&&componnetrow.radioOptions.tags.length===0){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.RADIO){if(!componnetrow.hasOwnProperty('radioOptions')||componnetrow.radioOptions&&componnetrow.radioOptions.tags.length<2){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.TEXTINPUT||componnetrow.componentcode===ReactComponents.TEXTAREA){if(componnetrow.hasOwnProperty('readonly')){if(componnet.name&&componnet.name==='Age'){if(!componnetrow.hasOwnProperty('displaymember')){incompletePropertiesComponent.push(componnetrow);}else{if(componnetrow.displaymember.trim===''){incompletePropertiesComponent.push(componnetrow);}}}}else{if(!componnetrow.hasOwnProperty('sfieldlength')||componnetrow.sfieldlength.trim()===''){incompletePropertiesComponent.push(componnetrow);}}}if(!componnetrow.hasOwnProperty('displayname')||Object.keys(componnetrow.displayname).length<_this.props.Login.languageList.length){insufficientMultilingualData.push(componnetrow);}if(componnetrow.recordbasedshowhide||componnetrow.recordbasedreadonly){if(!(componnetrow.radioparent&&componnetrow.selectedrecordbasedhide)){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.DATE){if(componnetrow.period){if(!componnetrow.windowperiod){incompletePropertiesComponent.push(componnetrow);}}}});}else{if(componnet.unique){uniqueComponent.push(componnet.label);}if(!componnet.hasOwnProperty('label')||componnet.label.trim()===''){invalidComponent.push(componnet);}if(labels.includes(componnet.label)){duplicateComponents.push(componnet);}else{if(componnet.label!==undefined)labels.push(componnet.label);}if(componnet.componentcode===ReactComponents.COMBO){if(!componnet.hasOwnProperty('source')&&!componnet.hasOwnProperty('displaymember')){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.CHECKBOX){if(!componnet.hasOwnProperty('radioOptions')||componnet.radioOptions&&componnet.radioOptions.tags.length===0){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.RADIO){if(!componnet.hasOwnProperty('radioOptions')||componnet.radioOptions&&componnet.radioOptions.tags.length<2){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.TEXTINPUT||componnet.componentcode===ReactComponents.TEXTAREA){if(componnet.hasOwnProperty('readonly')){if(componnet.name&&componnet.name==='Age'){if(!componnet.hasOwnProperty('displaymember')){incompletePropertiesComponent.push(componnet);}else{if(componnet.displaymember.trim===''){incompletePropertiesComponent.push(componnet);}}}}else{if(!componnet.hasOwnProperty('sfieldlength')||componnet.sfieldlength.trim()===''){incompletePropertiesComponent.push(componnet);}}}if(!componnet.hasOwnProperty('displayname')||Object.keys(componnet.displayname).length<_this.props.Login.languageList.length){insufficientMultilingualData.push(componnet);}if(componnet.recordbasedshowhide||componnet.recordbasedreadonly){if(!(componnet.radioparent&&componnet.selectedrecordbasedhide)){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.DATE){if(componnet.period){if(!componnet.windowperiod){incompletePropertiesComponent.push(componnet);}}}}});return null;});return null;});if(duplicateComponents.length>0){var dataArray=[];duplicateComponents.map(function(item){return dataArray.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_DUPLICATECOMPONENTSFOUND'})+dataArray.join(\",\"));return false;}if(invalidComponent.length>0){var _dataArray=[];invalidComponent.map(function(item){return _dataArray.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_MISSINGCOMPONENTLABEL'}));return false;}if(insufficientMultilingualData.length>0){var _dataArray2=[];insufficientMultilingualData.map(function(item){return _dataArray2.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_INSUFFICIENTMULTILINGUALDATA'})+_dataArray2.join(\",\"));return false;}if(incompletePropertiesComponent.length>0){var _dataArray3=[];incompletePropertiesComponent.map(function(item){return _dataArray3.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_INVALIDCOMPONENT'})+_dataArray3.join(\",\"));return false;}if(_this.props.nsampletypecode===SampleType.Masters){if(uniqueComponent.length===0){var _dataArray4=[];incompletePropertiesComponent.map(function(item){return _dataArray4.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_ATLEASTONEFILEDMUSTBEUNIQUE'})+_dataArray4.join(\",\"));return false;}}// if (invalidRadioComponent.length > 0) {\n//     //console.log(\"invalidComponent:\", invalidComponent);\n//     const dataArray = [];\n//     invalidRadioComponent.map(item => dataArray.push(item.label));\n//     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDRADIOCOMPONENT' })  + dataArray.join(\",\") );\n//     return false;\n// }\n// if (invalidCheckboxComponent.length > 0) {\n//     //console.log(\"invalidComponent:\", invalidComponent);\n//     const dataArray = [];\n//     invalidCheckboxComponent.map(item => dataArray.push(item.label));\n//     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDCHECKBOXCOMPONENT' })  + dataArray.join(\",\") );\n//     return false;\n// }\n// if (invalidReadOnlyComponent.length > 0) {\n//     //console.log(\"invalidComponent:\", invalidComponent);\n//     const dataArray = [];\n//     invalidReadOnlyComponent.map(item => dataArray.push(item.label));\n//     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDREADONLYCOMPONENT' })  + dataArray.join(\",\") );\n//     return false;\n// }\nreturn true;};_this.onChangeAwesomeQueryBuilder=function(immutableTree,config){var splititemarray=_this.state.selectedComponentpath.split(\"-\");var selectedFieldRecord=_this.state.selectedFieldRecord||{};var query=QbUtils.sqlFormat(immutableTree,config);selectedFieldRecord['filterquery']=query;selectedFieldRecord['awesomeTree']=immutableTree;selectedFieldRecord['awesomeConfig']=config;var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);var updateInfo={typeName:DEFAULT_RETURN,data:{// awesomeTree: immutableTree,\n// awesomeConfig: config,\nselectedFieldRecord:selectedFieldRecord,design:design}};_this.props.updateStore(updateInfo);};_this.handlePageChange=function(event){var updateInfo={typeName:DEFAULT_RETURN,data:{kendoSkip:event.skip,kendoTake:event.take}};_this.props.updateStore(updateInfo);};_this.handleFilterChange=function(event){var splititemarray=_this.state.selectedComponentpath.split(\"-\");var selectedFieldRecord=_this.state.selectedFieldRecord||{};selectedFieldRecord['kendoFilter']=event.filter;var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);var updateInfo={typeName:DEFAULT_RETURN,data:{// kendoFilter: event.filter\nselectedFieldRecord:selectedFieldRecord,design:design}};_this.props.updateStore(updateInfo);};_this.handleExecuteClick=function(event){var selectedFieldRecord=_this.state.selectedFieldRecord;if(selectedFieldRecord['filterquery']!==\"\"&&selectedFieldRecord['filterquery']!==undefined){var inputparam={component:_this.state.selectedFieldRecord,userinfo:_this.props.Login.userInfo,filterquery:selectedFieldRecord['filterquery'].replace('Invalid date','')};_this.props.getDynamicFilterExecuteData(inputparam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTFILTER\"}));}};_this.confirmMessage=new ConfirmMessage();// console.log(\"PD:\", this.props.Login.design);\n_this.state={nflag:1,design:_this.props.Login.design,// design: this.props.Login.operation === 'update' || this.props.Login.operation === \"viewdesign\" ? this.props.Login.design :\n//     this.props.nsampletypecode === SampleType.PRODUCT ? productDefaultTemplate :\n//         this.props.nsampletypecode === SampleType.INSTRUMENT ? InstrumentDefaultTemplate :\n//             this.props.nsampletypecode === SampleType.MATERIAL ? MaterialDefaultTemplate :\n//                 this.props.nsampletypecode === SampleType.PROJECTSAMPLETYPE ? projectDefaultTemplate :\n//                     this.props.nsampletypecode === SampleType.CLINICALTYPE ?\n//                         // this.props.Login.settings && parseInt(this.props.Login.settings[20]) === transactionStatus.YES \n//                         this.props.sampleType ?\n//                         this.props.sampleType.item.ncategorybasedflowrequired === transactionStatus.YES\n//                         && this.props.sampleType.item.nportalrequired === transactionStatus.YES\n//                         ? clinicalTemplateWithExternalOrder \n//                         :  this.props.sampleType.item.ncategorybasedflowrequired === transactionStatus.YES\n//                             ? clinicalTypeDefaultTemplateWithoutProduct :\n//                             clinicalTypeDefaultTemplateWithProduct : [{\n//                                 \"id\": \"pv1OWbsMYq\",\n//                                 \"type\": \"row\",\n//                                 \"children\": [\n//                                     { type: 'column', id: '2zMtRhjb2t', children: [] }\n//                                 ]\n//                             }]\n//                             :[{\n//                                 \"id\": \"pv1OWbsMYq\",\n//                                 \"type\": \"row\",\n//                                 \"children\": [\n//                                     { type: 'column', id: '2zMtRhjb2t', children: [] }\n//                                 ] }],\nselectedRecord:_this.props.Login.selectedRecord||{},selectedFieldRecord:{},selectedComponentpath:\"\",components:[],filterColumns:[],validComponents:[],showConfirmAlert:false,showsynonym:false,toBeDeleted:{},numericConditions:[{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"equal to(=)\"}),value:condition.EQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_NOTEQUALS\",defaultMessage:\"not equal to(!=)\"}),value:condition.NOTEQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_IN\",defaultMessage:\"In\"}),value:condition.CONTAINS},{label:_this.props.intl.formatMessage({id:\"IDS_NOTIN\",defaultMessage:\"Not In\"}),value:condition.NOTCONTAINS}],stringConditions:[{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"equal to(=)\"}),value:condition.EQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_NOTEQUALS\",defaultMessage:\"not equal to(!=)\"}),value:condition.NOTEQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_STARTSWITH\",defaultMessage:\"Starts With\"}),value:condition.STARTSWITH},{label:_this.props.intl.formatMessage({id:\"IDS_ENDSWITH\",defaultMessage:\"Ends With\"}),value:condition.ENDSWITH},{label:_this.props.intl.formatMessage({id:\"IDS_CONTAINS\",defaultMessage:\"Contains\"}),value:condition.INCLUDES}],dateConditions:[{label:_this.props.intl.formatMessage({id:\"IDS_LESSTHAN\",defaultMessage:\"Less Than (<)\"}),value:condition.LESSTHAN},{label:_this.props.intl.formatMessage({id:\"IDS_LESSTHANOREQUALS\",defaultMessage:\"Less Than Or Equals(<=)\"}),value:condition.LESSTHANOREQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_GREATERTHAN\",defaultMessage:\"Greater Than(>)\"}),value:condition.GREATERTHAN},{label:_this.props.intl.formatMessage({id:\"IDS_GREATERTHANOREQUALS\",defaultMessage:\"Greater Than Or Equals(>=)\"}),value:condition.GREATERTHANEQUALS}]};return _this;}_createClass(PreRegDesignPopUp,[{key:\"render\",value:function render(){var _this2=this;// const selectedFieldRecord = JSON.parse(JSON.stringify(this.state.selectedFieldRecord))\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{centered:true,scrollable:true,bsPrefix:\"model model_zindex\",show:this.props.Login.openPortal,onHide:this.props.closeModal,dialogClassName:\"\".concat(this.state.nflag&&this.state.nflag===2?'alert-popup':'',\" modal-fullscreen\"),backdrop:\"static\",keyboard:false,enforceFocus:false,\"aria-labelledby\":\"example-custom-modal-styling-title\"},/*#__PURE__*/React.createElement(Modal.Header,{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(Modal.Title,{id:\"add\",className:\"header-primary flex-grow-1\"},\"\".concat(this.props.Login.operation===\"update\"?this.props.intl.formatMessage({id:\"IDS_EDIT\"}):this.props.Login.operation===\"viewdesign\"?this.props.intl.formatMessage({id:\"IDS_VIEW\"}):this.props.intl.formatMessage({id:\"IDS_ADD\"}),\" \").concat(this.props.intl.formatMessage({id:\"IDS_DESIGNTEMPLATE\"}))),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn-user btn-cancel\",variant:\"\",onClick:this.props.closeModal},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_CANCEL\",defaultMessage:\"Cancel\"})),this.props.Login.operation!==\"viewdesign\"?/*#__PURE__*/React.createElement(Button,{className:\" btn-user btn-primary-blue\"//onClick={() => this.setState({ openAlertModal: true, templateName: \"\" })}\n,onClick:this.validateDynamicDesign},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSave}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_SAVE\",defaultMessage:\"Save\"})):\"\")),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"modal-inner-content\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12,className:\"p-0\"},/*#__PURE__*/React.createElement(DndProvider,{backend:device.os!=='android'?HTML5Backend:TouchBackend,options:{enableMouseEvents:true}},/*#__PURE__*/React.createElement(Dynamicinput,{layout:this.state.design,reactInputFields:this.props.Login.ReactInputFields||{},setLayout:this.setLayout,reactComponents:this.props.Login.ReactComponents||{},onInputOnChange:this.onInputOnChange,onNumericInputChange:this.onNumericInputChange,onComboChange:this.onComboChange,selectedFieldRecord:this.state.selectedFieldRecord,onclickcomponent:function onclickcomponent(event,data,path){return _this2.onclickcomponent(event,data,path);},ReactTables:this.props.Login.ReactTables,tableColumn:this.state.tableColumn,filterColumns:this.state.filterColumns,numericConditions:this.state.numericConditions,stringConditions:this.state.stringConditions,filterData:this.props.Login.filterData,inputFields:this.state.validComponents||[],addChildMapping:this.addChildMapping,valueMembers:this.getValueMembers(this.state.selectedFieldRecord),validateDelete:this.validateDelete,addTag:this.addTag,showFilter:this.state.showFilter,showPropFilter:this.showPropFilter,hidePropFilter:this.hidePropFilter,addCondition:this.addCondition,deleteCondition:this.deleteCondition,dateConditions:this.state.dateConditions,dateComponents:this.state.dateComponents,addDateConstraints:this.addDateConstraints,deleteDateCondition:this.deleteDateCondition,showsynonym:this.state.showsynonym,languages:this.props.Login.languageList||[],addSynonym:function addSynonym(){return _this2.setState({showsynonym:!_this2.state.showsynonym});},parentRadioValue:this.state.parentRadioValue||[],userinfo:this.props.Login.userInfo,handleDateChange:this.handleDateChange,period:this.props.Login.Period||[],staticfiltertables:this.props.Login.staticfiltertables,staticfiltercolumn:this.state.staticfiltercolumn||[],fields:this.props.Login.fields||{},onChangeAwesomeQueryBuilder:this.onChangeAwesomeQueryBuilder,awesomeTree:this.state.selectedFieldRecord['awesomeTree']// awesomeConfig={this.state.selectedFieldRecord['awesomeConfig']}\n,kendoSkip:this.props.Login.kendoSkip,kendoTake:this.props.Login.kendoTake,handlePageChange:this.handlePageChange,gridColumns:this.props.Login.gridColumns||[],filterDataRecord:this.props.Login.lstPatient//  handleKendoRowClick={this.handleKendoRowClick}\n,handleExecuteClick:this.handleExecuteClick,userInfo:this.props.Login.userInfo,kendoFilter:this.state.selectedFieldRecord['kendoFilter']||{logic:\"and\",filters:[]},handleFilterChange:this.handleFilterChange//    onRowClick={this.handleKendoRowClick}\n//  userInfo={this.props.Login.userInfo}\n}))))))),/*#__PURE__*/React.createElement(AlertModal,{openAlertModal:this.state.openAlertModal,modalTitle:\"IDS_TEMPLATE\",closeModal:function closeModal(){return _this2.setState({openAlertModal:false,templateName:\"\"});},onSaveClick:this.handleSaveClick,modalBody:/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormInput,{label:this.props.intl.formatMessage({id:\"IDS_TEMPLATENAME\"}),name:\"templatename\",type:\"text\"//onChange={(event) => this.setState({ selectedRecord: { ...this.state.selectedRecord, templateName:event.target.value} })}\n,onChange:function onChange(event){return _this2.onInputOnChange(event);},placeholder:this.props.intl.formatMessage({id:\"IDS_TEMPLATENAME\"}),value:this.state.selectedRecord.templatename?this.state.selectedRecord.templatename:\"\",isMandatory:true,required:true,maxLength:\"30\"})))}),this.state.showConfirmAlert?this.confirmAlert():\"\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,openAlertModal=_this$state.openAlertModal,design=_this$state.design,selectedRecord=_this$state.selectedRecord,selectedFieldRecord=_this$state.selectedFieldRecord,selectedComponentpath=_this$state.selectedComponentpath,components=_this$state.components,validComponents=_this$state.validComponents,tableColumn=_this$state.tableColumn,filterColumns=_this$state.filterColumns,showConfirmAlert=_this$state.showConfirmAlert,parentRadioValue=_this$state.parentRadioValue,showFilter=_this$state.showFilter;if(this.props.Login.openPortal===false&&previousProps.Login.openPortal){updateState=true;openAlertModal=false;}if(this.props.Login.design!==previousProps.Login.design){updateState=true;design=this.props.Login.design;}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;}if(this.props.Login.selectedFieldRecord!==previousProps.Login.selectedFieldRecord){selectedFieldRecord=this.props.Login.selectedFieldRecord;updateState=true;}if(this.props.Login.showFilter!==previousProps.Login.showFilter){showFilter=this.props.Login.showFilter;updateState=true;}if(this.props.Login.selectedFieldRecord!==previousProps.Login.selectedFieldRecord){if(this.props.Login.selectedComponentpath&&this.props.Login.selectedComponentpath!==previousProps.Login.selectedFieldRecord){selectedComponentpath=this.props.Login.selectedComponentpath;}selectedFieldRecord=this.props.Login.selectedFieldRecord;components=this.props.Login.components;validComponents=this.props.Login.validComponents;tableColumn=this.props.Login.tableColumn;filterColumns=this.props.Login.filterColumns;updateState=true;}if(this.props.Login.parentRadioValue!==previousProps.Login.parentRadioValue){parentRadioValue=this.props.Login.parentRadioValue;updateState=true;}if(updateState){this.setState({openAlertModal:openAlertModal,design:design,selectedRecord:selectedRecord,selectedFieldRecord:selectedFieldRecord,tableColumn:tableColumn,selectedComponentpath:selectedComponentpath,components:components,validComponents:validComponents,showConfirmAlert:showConfirmAlert,filterColumns:filterColumns,parentRadioValue:parentRadioValue,showFilter:showFilter});}}},{key:\"getIndexByLabel\",value:function getIndexByLabel(design,label){var obj={};design.map(function(row,rowIndex){return row.children.map(function(column,columnIndex){return column.children.map(function(componnetrow,compRowIndex){if(componnetrow.hasOwnProperty('children')){componnetrow.children.map(function(component,compIndex){if(component.label===label){obj={object:component,path:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-\").concat(compIndex)};// break;\n}return null;});}else{if(componnetrow.label===label){obj={object:componnetrow,path:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-0\")};// return obj;\n// break;\n}}return null;});});});return obj;}}]);return PreRegDesignPopUp;}(React.Component);export default connect(mapStateToProps,{updateStore:updateStore,crudMaster:crudMaster,getTableColumns:getTableColumns,getForeignTableData:getForeignTableData,getDynamicFilter:getDynamicFilter,getDynamicFilterExecuteData:getDynamicFilterExecuteData})(injectIntl(PreRegDesignPopUp));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/dynamicpreregdesign/PreRegDesignPopUp.jsx"],"names":["React","Button","Col","Modal","Row","FontAwesomeIcon","faSave","FormattedMessage","injectIntl","TouchBackend","HTML5Backend","DndProvider","device","Dynamicinput","connect","updateStore","crudMaster","getTableColumns","getForeignTableData","getDynamicFilter","getDynamicFilterExecuteData","condition","SampleType","transactionStatus","DEFAULT_RETURN","showEsign","validateCreateView","AlertModal","FormInput","getChildComponentForeignKey","getcomponentdata","getValidComponent","replaceChildFromChildren","InstrumentDefaultTemplate","productDefaultTemplate","MaterialDefaultTemplate","clinicalTypeDefaultTemplateWithoutProduct","clinicalTypeDefaultTemplateWithProduct","projectDefaultTemplate","clinicalTemplateWithExternalOrder","ReactComponents","ConfirmMessage","toast","Utils","QbUtils","mapStateToProps","state","Login","PreRegDesignPopUp","props","validateDynamicDesign","valid","validateTemplate","design","setState","openAlertModal","templatename","showPropFilter","selectedFieldRecord","inputtype","label","table","filterfields","inputparam","component","userinfo","userInfo","type","selectedComponentpath","info","intl","formatMessage","id","updateInfo","typeName","data","showFilter","hidePropFilter","setLayout","splitDropZonePath","remove","removeChild","undefined","split","childRecord","toBeDeleted","deleteComponent","child","map","myChild","childPath","updatePath","components","getComponents","validComponents","columnInfo","showConfirmAlert","length","row","rowIndex","children","column","columnIndex","componnetrow","compRowIndex","hasOwnProperty","compIndex","newChild","childComp","obj","getIndexByLabel","push","path","newObj","object","parentPath","radioparentPath","validateDelete","showAlert","componentcode","COMBO","childValue","parentData","newChildData","filter","radioparent","confirmAlert","confirmMessage","confirm","bool","onclickcomponent","event","dateComponents","filterDataComponents","item","componentData","parentRadioValue","FRONTENDSEARCHFILTER","BACKENDSEARCHFILTER","source","nquerybuildertablecode","tableColumn","filterColumns","oldParentData","radioOptions","tags","value","text","componnet","compindex","valuemember","getValueMembers","valueColumn","numericColumns","x","foriegntablename","displayname","slanguagetypecode","tablecolumnname","foriegntablePK","onInputOnChange","name","selectedRecord","chillabelUpdate","newLabel","oldLabel","target","splititemarray","newChildData1","checked","newdata","saveComponentProperties","val","checkAutoFocus","warn","langArray","languageList","langDataObject","autoFocus","onNumericInputChange","columnname","isNaN","handleDateChange","dateValue","dateName","onComboChange","comboData","comboName","stablename","nformcode","ismultilingual","validateChild","valueMemberOptions","filtervalue","staticfiltervalue","ndata","list","JSON","parse","jsondata","jcolumnname","staticfiltercolumn","addTag","Array","isArray","y","addCondition","filterColumnName","filterValue","conditionString","conditionArrayString","selectedStaticfiltertable","filtercolumn","EQUALS","jtablename","tablename","NOTEQUALS","STARTSWITH","ENDSWITH","INCLUDES","conditionArrayUI","conditionArraySQL","staticfiltertable","nsystemconfiguration","join","CONTAINS","NOTCONTAINS","deleteCondition","index","splice","addDateConstraints","dateConstraintArrayUI","dateConstraintArraySQL","cdateConstraintArraySQL","parentdate","constraint","childdate","deleteDateCondition","childLabelUpdate","oldLabelName","newLabelName","design1","updateLabelName","handleSaveClick","saveType","inputData","selectedId","dataState","operation","nchecklistqbcode","nreactregtemplatecode","masterData","selectedTemplate","nsampletypecode","sregtemplatename","jsonString","stringify","ntransactionstatus","DRAFT","ndefaulttemplatecode","defaultTemplate","nsubsampletypecode","selectedDefaultTemplate","postParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","inputParam","methodUrl","classUrl","displayName","searchRef","openPortal","userRoleControlRights","ncontrolcode","loadEsign","screenData","openModal","template","invalidComponent","duplicateComponents","insufficientMultilingualData","incompletePropertiesComponent","labels","uniqueComponent","unique","trim","includes","CHECKBOX","RADIO","TEXTINPUT","TEXTAREA","displaymember","sfieldlength","Object","keys","recordbasedshowhide","recordbasedreadonly","selectedrecordbasedhide","DATE","period","windowperiod","dataArray","Masters","onChangeAwesomeQueryBuilder","immutableTree","config","query","sqlFormat","handlePageChange","kendoSkip","skip","kendoTake","take","handleFilterChange","handleExecuteClick","filterquery","replace","nflag","showsynonym","numericConditions","defaultMessage","stringConditions","dateConditions","LESSTHAN","LESSTHANOREQUALS","GREATERTHAN","GREATERTHANEQUALS","closeModal","os","enableMouseEvents","ReactInputFields","ReactTables","filterData","addChildMapping","Period","staticfiltertables","fields","gridColumns","lstPatient","logic","filters","templateName","previousProps","updateState","Component"],"mappings":"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","sourcesContent":["\r\nimport React from 'react';\r\nimport { Button, Col, Modal, Row } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSave } from '@fortawesome/free-solid-svg-icons';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { TouchBackend } from 'react-dnd-touch-backend'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\nimport { DndProvider } from 'react-dnd'\r\nimport device from 'current-device';\r\n// import MoreOptions from '../../components/configureui/MoreOptions';\r\nimport Dynamicinput from '../../components/droparea/Dynamicinputs';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    updateStore, crudMaster, getTableColumns,\r\n    getForeignTableData, getDynamicFilter, getDynamicFilterExecuteData,\r\n} from '../../actions/index'\r\nimport { condition, SampleType, transactionStatus } from '../../components/Enumeration';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { showEsign ,validateCreateView} from '../../components/CommonScript';\r\nimport AlertModal from './AlertModal'\r\nimport FormInput from '../../components/form-input/form-input.component';\r\nimport { getChildComponentForeignKey, getcomponentdata, getValidComponent, replaceChildFromChildren } from '../../components/droparea/helpers';\r\nimport {\r\n    InstrumentDefaultTemplate, productDefaultTemplate, MaterialDefaultTemplate,\r\n    clinicalTypeDefaultTemplateWithoutProduct, clinicalTypeDefaultTemplateWithProduct,\r\n    projectDefaultTemplate, clinicalTemplateWithExternalOrder\r\n} from './DefaultTemplates';\r\nimport { ReactComponents } from '../../components/Enumeration';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n    Utils as QbUtils,\r\n} from \"@react-awesome-query-builder/ui\";\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\nclass PreRegDesignPopUp extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.confirmMessage = new ConfirmMessage();\r\n        // console.log(\"PD:\", this.props.Login.design);\r\n\r\n        this.state = {\r\n            nflag: 1,\r\n            design: this.props.Login.design,\r\n            // design: this.props.Login.operation === 'update' || this.props.Login.operation === \"viewdesign\" ? this.props.Login.design :\r\n            //     this.props.nsampletypecode === SampleType.PRODUCT ? productDefaultTemplate :\r\n            //         this.props.nsampletypecode === SampleType.INSTRUMENT ? InstrumentDefaultTemplate :\r\n            //             this.props.nsampletypecode === SampleType.MATERIAL ? MaterialDefaultTemplate :\r\n            //                 this.props.nsampletypecode === SampleType.PROJECTSAMPLETYPE ? projectDefaultTemplate :\r\n            //                     this.props.nsampletypecode === SampleType.CLINICALTYPE ?\r\n            //                         // this.props.Login.settings && parseInt(this.props.Login.settings[20]) === transactionStatus.YES \r\n            //                         this.props.sampleType ?\r\n            //                         this.props.sampleType.item.ncategorybasedflowrequired === transactionStatus.YES\r\n            //                         && this.props.sampleType.item.nportalrequired === transactionStatus.YES\r\n            //                         ? clinicalTemplateWithExternalOrder \r\n            //                         :  this.props.sampleType.item.ncategorybasedflowrequired === transactionStatus.YES\r\n            //                             ? clinicalTypeDefaultTemplateWithoutProduct :\r\n            //                             clinicalTypeDefaultTemplateWithProduct : [{\r\n            //                                 \"id\": \"pv1OWbsMYq\",\r\n            //                                 \"type\": \"row\",\r\n            //                                 \"children\": [\r\n            //                                     { type: 'column', id: '2zMtRhjb2t', children: [] }\r\n            //                                 ]\r\n            //                             }]\r\n            //                             :[{\r\n            //                                 \"id\": \"pv1OWbsMYq\",\r\n            //                                 \"type\": \"row\",\r\n            //                                 \"children\": [\r\n            //                                     { type: 'column', id: '2zMtRhjb2t', children: [] }\r\n            //                                 ] }],\r\n            selectedRecord: this.props.Login.selectedRecord || {},\r\n            selectedFieldRecord: {},\r\n            selectedComponentpath: \"\",\r\n            components: [],\r\n            filterColumns: [],\r\n            validComponents: [],\r\n            showConfirmAlert: false,\r\n            showsynonym: false,\r\n            toBeDeleted: {},\r\n            numericConditions: [\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"equal to(=)\" }), value: condition.EQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_NOTEQUALS\", defaultMessage: \"not equal to(!=)\" }), value: condition.NOTEQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_IN\", defaultMessage: \"In\" }), value: condition.CONTAINS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_NOTIN\", defaultMessage: \"Not In\" }), value: condition.NOTCONTAINS }\r\n            ],\r\n            stringConditions: [\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"equal to(=)\" }), value: condition.EQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_NOTEQUALS\", defaultMessage: \"not equal to(!=)\" }), value: condition.NOTEQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_STARTSWITH\", defaultMessage: \"Starts With\" }), value: condition.STARTSWITH },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_ENDSWITH\", defaultMessage: \"Ends With\" }), value: condition.ENDSWITH },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_CONTAINS\", defaultMessage: \"Contains\" }), value: condition.INCLUDES }\r\n            ],\r\n            dateConditions: [\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_LESSTHAN\", defaultMessage: \"Less Than (<)\" }), value: condition.LESSTHAN },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_LESSTHANOREQUALS\", defaultMessage: \"Less Than Or Equals(<=)\" }), value: condition.LESSTHANOREQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_GREATERTHAN\", defaultMessage: \"Greater Than(>)\" }), value: condition.GREATERTHAN },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_GREATERTHANOREQUALS\", defaultMessage: \"Greater Than Or Equals(>=)\" }), value: condition.GREATERTHANEQUALS }\r\n            ]\r\n\r\n\r\n        }\r\n    }\r\n    validateDynamicDesign = () => {\r\n        let valid = this.validateTemplate(this.state.design);\r\n        if (!valid) {\r\n            return null;\r\n        }\r\n        else {\r\n            this.setState({ openAlertModal: true, templatename: \"\" });\r\n        }\r\n    }\r\n    render() {\r\n        // const selectedFieldRecord = JSON.parse(JSON.stringify(this.state.selectedFieldRecord))\r\n        return (\r\n            <>\r\n                <Modal\r\n                    centered\r\n                    scrollable\r\n                    bsPrefix=\"model model_zindex\"\r\n                    show={this.props.Login.openPortal}\r\n                    onHide={this.props.closeModal}\r\n                    dialogClassName={`${this.state.nflag && this.state.nflag === 2 ? 'alert-popup' : ''} modal-fullscreen`}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    enforceFocus={false}\r\n                    aria-labelledby=\"example-custom-modal-styling-title\"\r\n                >\r\n                    <Modal.Header className=\"d-flex align-items-center\">\r\n                        <Modal.Title id=\"add\" className=\"header-primary flex-grow-1\">\r\n                            {`${this.props.Login.operation === \"update\"\r\n                                ? this.props.intl.formatMessage({ id: \"IDS_EDIT\" })\r\n                                : this.props.Login.operation === \"viewdesign\"\r\n                                    ? this.props.intl.formatMessage({ id: \"IDS_VIEW\" })\r\n                                    : this.props.intl.formatMessage({ id: \"IDS_ADD\" })} ${this.props.intl.formatMessage({ id: \"IDS_DESIGNTEMPLATE\" })}`\r\n                            }\r\n                        </Modal.Title>\r\n                        <>\r\n                            <Button className=\"btn-user btn-cancel\" variant=\"\" onClick={this.props.closeModal}>\r\n                                <FormattedMessage id='IDS_CANCEL' defaultMessage='Cancel' />\r\n                            </Button>\r\n                            {this.props.Login.operation !== \"viewdesign\" ?\r\n                                <Button className=\" btn-user btn-primary-blue\"\r\n                                    //onClick={() => this.setState({ openAlertModal: true, templateName: \"\" })}\r\n                                    onClick={this.validateDynamicDesign}\r\n                                >\r\n                                    <FontAwesomeIcon icon={faSave} /> { }\r\n                                    <FormattedMessage id={\"IDS_SAVE\"} defaultMessage={\"Save\"} />\r\n                                </Button> : \"\"}\r\n                        </>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"modal-inner-content\">\r\n                            <Row>\r\n                                <Col md={12} className='p-0'>\r\n                                    <DndProvider backend={device.os !== 'android' ? HTML5Backend : TouchBackend} options={{ enableMouseEvents: true }} >\r\n                                        <Dynamicinput\r\n                                            layout={this.state.design}\r\n                                            reactInputFields={this.props.Login.ReactInputFields || {}}\r\n                                            setLayout={this.setLayout}\r\n                                            reactComponents={this.props.Login.ReactComponents || {}}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            onNumericInputChange={this.onNumericInputChange}\r\n                                            onComboChange={this.onComboChange}\r\n                                            selectedFieldRecord={this.state.selectedFieldRecord}\r\n                                            onclickcomponent={(event, data, path) => this.onclickcomponent(event, data, path)}\r\n                                            ReactTables={this.props.Login.ReactTables}\r\n                                            tableColumn={this.state.tableColumn}\r\n                                            filterColumns={this.state.filterColumns}\r\n                                            numericConditions={this.state.numericConditions}\r\n                                            stringConditions={this.state.stringConditions}\r\n                                            filterData={this.props.Login.filterData}\r\n                                            inputFields={this.state.validComponents || []}\r\n                                            addChildMapping={this.addChildMapping}\r\n                                            valueMembers={this.getValueMembers(this.state.selectedFieldRecord)}\r\n                                            validateDelete={this.validateDelete}\r\n                                            addTag={this.addTag}\r\n                                            showFilter={this.state.showFilter}\r\n                                            showPropFilter={this.showPropFilter}\r\n                                            hidePropFilter={this.hidePropFilter}\r\n                                            addCondition={this.addCondition}\r\n                                            deleteCondition={this.deleteCondition}\r\n                                            dateConditions={this.state.dateConditions}\r\n                                            dateComponents={this.state.dateComponents}\r\n                                            addDateConstraints={this.addDateConstraints}\r\n                                            deleteDateCondition={this.deleteDateCondition}\r\n                                            showsynonym={this.state.showsynonym}\r\n                                            languages={this.props.Login.languageList || []}\r\n                                            addSynonym={() => this.setState({ showsynonym: !(this.state.showsynonym) })}\r\n                                            parentRadioValue={this.state.parentRadioValue || []}\r\n                                            userinfo={this.props.Login.userInfo}\r\n                                            handleDateChange={this.handleDateChange}\r\n                                            period={this.props.Login.Period || []}\r\n                                            staticfiltertables={this.props.Login.staticfiltertables}\r\n                                            staticfiltercolumn={this.state.staticfiltercolumn || []}\r\n\r\n                                            fields={this.props.Login.fields || {}}\r\n                                            onChangeAwesomeQueryBuilder={this.onChangeAwesomeQueryBuilder}\r\n                                            awesomeTree={this.state.selectedFieldRecord['awesomeTree']}\r\n                                            // awesomeConfig={this.state.selectedFieldRecord['awesomeConfig']}\r\n                                            kendoSkip={this.props.Login.kendoSkip}\r\n                                            kendoTake={this.props.Login.kendoTake}\r\n                                            handlePageChange={this.handlePageChange}\r\n                                            gridColumns={this.props.Login.gridColumns || []}\r\n                                            filterDataRecord={this.props.Login.lstPatient}\r\n                                            //  handleKendoRowClick={this.handleKendoRowClick}\r\n                                            handleExecuteClick={this.handleExecuteClick}\r\n                                            userInfo={this.props.Login.userInfo}\r\n\r\n                                            kendoFilter={this.state.selectedFieldRecord['kendoFilter'] || {\r\n                                                logic: \"and\",\r\n                                                filters: []\r\n                                            }}\r\n                                            handleFilterChange={this.handleFilterChange}\r\n                                        //    onRowClick={this.handleKendoRowClick}\r\n                                        //  userInfo={this.props.Login.userInfo}\r\n\r\n                                        />\r\n                                    </DndProvider>\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n                <AlertModal\r\n                    openAlertModal={this.state.openAlertModal}\r\n                    modalTitle={\"IDS_TEMPLATE\"}\r\n                    closeModal={() => this.setState({ openAlertModal: false, templateName: \"\" })}\r\n                    onSaveClick={this.handleSaveClick}\r\n                    modalBody={\r\n                        <Row>\r\n                            <Col>\r\n                                <FormInput\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_TEMPLATENAME\" })}\r\n                                    name={\"templatename\"}\r\n                                    type=\"text\"\r\n                                    //onChange={(event) => this.setState({ selectedRecord: { ...this.state.selectedRecord, templateName:event.target.value} })}\r\n                                    onChange={(event)  => this.onInputOnChange(event)}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_TEMPLATENAME\" })}\r\n                                    value={this.state.selectedRecord.templatename ? this.state.selectedRecord.templatename : \"\"}\r\n                                    isMandatory={true}\r\n                                    required={true}\r\n                                    maxLength={\"30\"}\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                    }\r\n                />\r\n                {this.state.showConfirmAlert ? this.confirmAlert() : \"\"}\r\n            </>\r\n        );\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n        let updateState = false;\r\n        let { openAlertModal, design, selectedRecord, selectedFieldRecord,\r\n            selectedComponentpath, components, validComponents, tableColumn, filterColumns,\r\n            showConfirmAlert, parentRadioValue, showFilter } = this.state\r\n        if (this.props.Login.openPortal === false && previousProps.Login.openPortal) {\r\n            updateState = true;\r\n            openAlertModal = false;\r\n        }\r\n        if (this.props.Login.design !== previousProps.Login.design) {\r\n            updateState = true;\r\n            design = this.props.Login.design;\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.selectedFieldRecord !== previousProps.Login.selectedFieldRecord) {\r\n            selectedFieldRecord = this.props.Login.selectedFieldRecord;\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.showFilter !== previousProps.Login.showFilter) {\r\n            showFilter = this.props.Login.showFilter\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.selectedFieldRecord !== previousProps.Login.selectedFieldRecord) {\r\n            if (this.props.Login.selectedComponentpath && this.props.Login.selectedComponentpath !== previousProps.Login.selectedFieldRecord) {\r\n                selectedComponentpath = this.props.Login.selectedComponentpath\r\n            }\r\n\r\n            selectedFieldRecord = this.props.Login.selectedFieldRecord\r\n            components = this.props.Login.components\r\n            validComponents = this.props.Login.validComponents\r\n            tableColumn = this.props.Login.tableColumn\r\n            filterColumns = this.props.Login.filterColumns\r\n            updateState = true;\r\n\r\n        }\r\n        if (this.props.Login.parentRadioValue !== previousProps.Login.parentRadioValue) {\r\n            parentRadioValue = this.props.Login.parentRadioValue\r\n            updateState = true;\r\n        }\r\n        if (updateState) {\r\n            this.setState({\r\n                openAlertModal, design, selectedRecord, selectedFieldRecord,\r\n                tableColumn, selectedComponentpath, components, validComponents,\r\n                showConfirmAlert, filterColumns, parentRadioValue, showFilter\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    showPropFilter = () => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord\r\n        if (selectedFieldRecord.inputtype === 'backendsearchfilter') {\r\n            if (selectedFieldRecord.label !== ''\r\n                && selectedFieldRecord.table && selectedFieldRecord.filterfields) {\r\n                const inputparam = {\r\n                    component: selectedFieldRecord\r\n                    , userinfo: this.props.Login.userInfo,\r\n                    type: 'design',\r\n                    selectedComponentpath: this.state.selectedComponentpath\r\n                }\r\n                this.props.getDynamicFilter(inputparam)\r\n            } else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTMANDATORYFIELDS\" }))\r\n            }\r\n\r\n        } else if (selectedFieldRecord.inputtype === 'frontendsearchfilter') {\r\n            if (selectedFieldRecord.label !== ''\r\n                && selectedFieldRecord.table && selectedFieldRecord.filterfields) {\r\n                const inputparam = {\r\n                    component: selectedFieldRecord\r\n                    , userinfo: this.props.Login.userInfo,\r\n                    type: 'design',\r\n                    selectedComponentpath: this.state.selectedComponentpath\r\n                }\r\n                this.props.getDynamicFilter(inputparam)\r\n            } else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTMANDATORYFIELDS\" }))\r\n            }\r\n        } else {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    showFilter: !this.state.showFilter\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n            //  this.setState({ showFilter: !this.state.showFilter })\r\n        }\r\n\r\n    }\r\n    hidePropFilter = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                showFilter: false\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        //  this.setState({ showFilter: !this.state.showFilter })\r\n    }\r\n    setLayout = (design, splitDropZonePath, remove, removeChild) => {\r\n        let selectedFieldRecord = {}\r\n        if (remove === undefined) {\r\n            selectedFieldRecord = getcomponentdata(design, splitDropZonePath.split(\"-\"))\r\n        }\r\n        else if (removeChild) {\r\n            let childRecord = {}\r\n            this.state.toBeDeleted.deleteComponent.child.map(myChild => {\r\n                childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\r\n                childRecord['childValue'] = undefined;\r\n                childRecord['parentPath'] = undefined;\r\n                childRecord['valuecolumn'] = undefined;\r\n\r\n                design = replaceChildFromChildren(design, myChild.childPath.split(\"-\"), childRecord)\r\n                return null;\r\n            })\r\n        }\r\n        design = this.updatePath(design)\r\n        // if (selectedFieldRecord.child) {\r\n        //     let childRecord = {}\r\n        //     selectedFieldRecord.child.map(myChild => {\r\n        //         childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\r\n        //         childRecord['parentPath'] = splitDropZonePath.split(\"-\").length === 4 ? splitDropZonePath : splitDropZonePath + '-0';\r\n        //         design = replaceChildFromChildren(design, splitDropZonePath.split(\"-\"), childRecord)\r\n        //         return null;\r\n        //     })\r\n        // }\r\n        // if (selectedFieldRecord.childValue) {\r\n        //     let parentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\r\n        //     let newChildData = []\r\n        //     parentData.child.map(child => child.label === selectedFieldRecord.label ?\r\n        //         newChildData.push({ ...child, childPath: splitDropZonePath.split(\"-\").length === 4 ? splitDropZonePath : splitDropZonePath + '-0' }) :\r\n        //         newChildData.push(child))\r\n        //     parentData = { ...parentData, child: newChildData };\r\n        //     design = replaceChildFromChildren(design, selectedFieldRecord.parentPath.split(\"-\"), parentData)\r\n\r\n        // }\r\n        const components = this.getComponents(design).components;\r\n        let validComponents = getValidComponent(selectedFieldRecord, components, this.props.Login.columnInfo)\r\n        this.setState({ showConfirmAlert: false, toBeDeleted: {}, design, selectedFieldRecord: selectedFieldRecord, components, validComponents, selectedComponentpath: splitDropZonePath.split(\"-\").length > 1 ? splitDropZonePath : '0-0-' + splitDropZonePath })\r\n    }\r\n    updatePath = (design) => {\r\n        design.map((row, rowIndex) =>\r\n            row.children.map((column, columnIndex) =>\r\n                column.children.map((componnetrow, compRowIndex) => {\r\n                    if (componnetrow.hasOwnProperty('children')) {\r\n                        componnetrow.children.map((component, compIndex) => {\r\n                            if (component.inputtype !== 'radio') {\r\n                                if (component.child) {\r\n                                    let newChild = [];\r\n                                    component.child.map(childComp => {\r\n                                        const obj = this.getIndexByLabel(design, childComp.label);\r\n                                        newChild.push({ ...childComp, childPath: obj.path });\r\n                                        const newObj = { ...obj.object, parentPath: `${rowIndex}-${columnIndex}-${compRowIndex}-${compIndex}` };\r\n                                        design = replaceChildFromChildren(design, obj.path.split(\"-\"), newObj);\r\n                                    })\r\n                                    component = { ...component, child: newChild }\r\n                                    design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, compIndex], component);\r\n                                }\r\n                            } else {\r\n                                if (component.child) {\r\n                                    let newChild = [];\r\n                                    component.child.map(childComp => {\r\n                                        const obj = this.getIndexByLabel(design, childComp.label);\r\n                                        newChild.push({ ...childComp, childPath: obj.path });\r\n                                        const newObj = { ...obj.object, radioparentPath: `${rowIndex}-${columnIndex}-${compRowIndex}-${compIndex}` };\r\n                                        design = replaceChildFromChildren(design, obj.path.split(\"-\"), newObj);\r\n                                    })\r\n                                    component = { ...component, child: newChild }\r\n                                    design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, compIndex], component);\r\n                                }\r\n                            }\r\n\r\n                        })\r\n                    } else {\r\n                        if (componnetrow.inputtype !== 'radio') {\r\n                            if (componnetrow.child) {\r\n                                let newChild = [];\r\n                                componnetrow.child.map(childComp => {\r\n                                    const obj = this.getIndexByLabel(design, childComp.label);\r\n                                    newChild.push({ ...childComp, childPath: obj.path });\r\n                                    const newObj = { ...obj.object, parentPath: `${rowIndex}-${columnIndex}-${compRowIndex}-0` };\r\n                                    design = replaceChildFromChildren(design, obj.path.split(\"-\"), newObj);\r\n                                })\r\n                                componnetrow = { ...componnetrow, child: newChild }\r\n                                design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, 0], componnetrow);\r\n                            }\r\n                        } else {\r\n                            if (componnetrow.child) {\r\n                                let newChild = [];\r\n                                componnetrow.child.map(childComp => {\r\n                                    const obj = this.getIndexByLabel(design, childComp.label);\r\n                                    newChild.push({ ...childComp, childPath: obj.path });\r\n                                    const newObj = { ...obj.object, radioparentPath: `${rowIndex}-${columnIndex}-${compRowIndex}-0` };\r\n                                    design = replaceChildFromChildren(design, obj.path.split(\"-\"), newObj);\r\n                                })\r\n                                componnetrow = { ...componnetrow, child: newChild }\r\n                                design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, 0], componnetrow);\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            )\r\n        )\r\n        return design;\r\n    }\r\n    getIndexByLabel(design, label) {\r\n        let obj = {};\r\n        design.map((row, rowIndex) =>\r\n            row.children.map((column, columnIndex) =>\r\n                column.children.map((componnetrow, compRowIndex) => {\r\n                    if (componnetrow.hasOwnProperty('children')) {\r\n                        componnetrow.children.map((component, compIndex) => {\r\n                            if (component.label === label) {\r\n                                obj = {\r\n                                    object: component,\r\n                                    path: `${rowIndex}-${columnIndex}-${compRowIndex}-${compIndex}`\r\n                                }\r\n                                // break;\r\n                            }\r\n\r\n                            return null;\r\n                        })\r\n                    } else {\r\n                        if (componnetrow.label === label) {\r\n                            obj = {\r\n                                object: componnetrow,\r\n                                path: `${rowIndex}-${columnIndex}-${compRowIndex}-0`\r\n                            }\r\n                            // return obj;\r\n                            // break;\r\n                        }\r\n                    }\r\n                    return null;\r\n                })\r\n            )\r\n        )\r\n        return obj;\r\n    }\r\n    validateDelete = (design, splitDropZonePath) => {\r\n        const path = splitDropZonePath.split(\"-\")\r\n        let showAlert = false;\r\n        let toBeDeleted = {};\r\n        // let component = {}\r\n        // let row = this.state.design[path[0]]\r\n        // let column = row.children[path[1]]\r\n        // let compRow = column.children[path[2]]\r\n        // if (compRow.type === 'componentrow')\r\n        //     component = compRow.children[path[3]]\r\n        // else\r\n        //     component = compRow\r\n        let component = getcomponentdata(this.state.design, path)\r\n        if (component.child && component.child.length > 0) {\r\n\r\n            let childRecord = {}\r\n            if (component.inputtype === 'radio') {\r\n                component.child.map(myChild => {\r\n                    childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\r\n                    delete childRecord[\"radioparentLabel\"]\r\n                    delete childRecord[\"selectedrecordbasedhide\"]\r\n                    delete childRecord[\"recordbasedhide\"]\r\n                    delete childRecord[\"radioparent\"]\r\n                    delete childRecord[\"radioparentPath\"]\r\n                    delete childRecord[\"recordbasedshowhide\"]\r\n                    delete childRecord[\"recordbasedreadonly\"]\r\n\r\n\r\n                    design = replaceChildFromChildren(design, myChild.childPath.split(\"-\"), childRecord)\r\n                    return null;\r\n                })\r\n            } else {\r\n                component.child.map(myChild => {\r\n                    childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\r\n                    childRecord['childValue'] = undefined;\r\n                    childRecord['parentPath'] = undefined;\r\n                    childRecord['valuecolumn'] = undefined;\r\n                    if (myChild.componentcode !== ReactComponents.COMBO) {\r\n                        childRecord['column'] = undefined;\r\n                    }\r\n                    design = replaceChildFromChildren(design, myChild.childPath.split(\"-\"), childRecord)\r\n                    return null;\r\n                })\r\n            }\r\n\r\n            showAlert = true;\r\n            toBeDeleted = { design, splitDropZonePath, deleteComponent: component }\r\n            // this.showAlert(true, toBeDeleted);\r\n        }\r\n        if (component.childValue) {\r\n            let parentData = getcomponentdata(this.state.design, component.parentPath.split(\"-\"));\r\n            let newChildData = parentData.child.filter(child => child.label !== component.label)\r\n            parentData = { ...parentData, child: newChildData };\r\n            design = replaceChildFromChildren(design, component.parentPath.split(\"-\"), parentData)\r\n            toBeDeleted = { design, splitDropZonePath, deleteComponent: component }\r\n\r\n        }\r\n\r\n        if (component.radioparent) {\r\n            let parentData = getcomponentdata(this.state.design, component.radioparentPath.split(\"-\"));\r\n            let newChildData = parentData.child.filter(child => child.label !== component.label)\r\n            parentData = { ...parentData, child: newChildData };\r\n            design = replaceChildFromChildren(design, component.radioparentPath.split(\"-\"), parentData)\r\n            toBeDeleted = { design, splitDropZonePath, deleteComponent: component }\r\n\r\n        }\r\n        if (showAlert) {\r\n            this.showAlert(true, toBeDeleted);\r\n        }\r\n        else {\r\n            this.setLayout(design, splitDropZonePath, true)\r\n        }\r\n    }\r\n    confirmAlert = () => {\r\n        this.confirmMessage.confirm( this.props.intl.formatMessage({ id: \"IDS_WARNING\" }),\r\n        this.props.intl.formatMessage({ id: \"IDS_WARNING\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_PARENTCOMPONENTCANNOTBEDELETED\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.setLayout(this.state.toBeDeleted.design, this.state.toBeDeleted.splitDropZonePath, true, true),\r\n            undefined,\r\n            () => this.showAlert(false));\r\n    }\r\n    showAlert = (bool, toBeDeleted) => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { showConfirmAlert: bool, toBeDeleted }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        this.setState({ showConfirmAlert: bool, toBeDeleted })\r\n    }\r\n    onclickcomponent = (event, data, path) => {\r\n        const selectedFieldRecord = { ...data }\r\n        const obj = this.getComponents(this.state.design);\r\n        //console.log(\"obj:\", obj);\r\n        const components = obj.components;\r\n\r\n        let dateComponents = obj.dateComponents;\r\n        if (data.inputtype === \"date\") {\r\n            const filterDataComponents = dateComponents.filter(item => item.label !== data.label);\r\n            dateComponents = filterDataComponents;\r\n        }\r\n\r\n        let componentData = { components, selectedComponentpath: path }\r\n        let parentRadioValue = []\r\n\r\n        if ((selectedFieldRecord.componentcode === ReactComponents.COMBO ||\r\n            selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER ||\r\n            selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) &&\r\n            selectedFieldRecord.source !== undefined &&\r\n            (this.props.Login.columnInfo === undefined ||\r\n                this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode] === undefined)) {\r\n            this.props.getTableColumns(this.state.design, selectedFieldRecord,\r\n                selectedFieldRecord.nquerybuildertablecode, this.props.Login.userInfo,\r\n                \"\", this.props.Login.columnInfo, componentData, undefined, false)\r\n        } else {\r\n            const validComponents = getValidComponent(selectedFieldRecord, components, this.props.Login.columnInfo)\r\n            let tableColumn = selectedFieldRecord.nquerybuildertablecode ? this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].tableColumn : [];\r\n            let filterColumns = selectedFieldRecord.nquerybuildertablecode ? this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].filterColumns : [];\r\n            if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER ||\r\n                selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                if (selectedFieldRecord.radioparentPath) {\r\n                    let oldParentData = getcomponentdata(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"))\r\n                    if (oldParentData.hasOwnProperty('child')) {\r\n                        oldParentData.child.map(item => {\r\n                            if (item.label === selectedFieldRecord.label) {\r\n                                parentRadioValue = oldParentData.radioOptions.tags.map(item => {\r\n                                    return { value: item.id, label: item.text, item }\r\n                                })\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            } else {\r\n                if (selectedFieldRecord.radioparentPath) {\r\n                    if (selectedFieldRecord.radioparentPath) {\r\n                        let oldParentData = getcomponentdata(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"))\r\n                        if (oldParentData.hasOwnProperty('child')) {\r\n                            oldParentData.child.map(item => {\r\n                                if (item.label === selectedFieldRecord.label) {\r\n                                    parentRadioValue = oldParentData.radioOptions.tags.map(item => {\r\n                                        return { value: item.id, label: item.text, item }\r\n                                    })\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (selectedFieldRecord.componentcode !== ReactComponents.COMBO &&\r\n                selectedFieldRecord.componentcode !== ReactComponents.FRONTENDSEARCHFILTER &&\r\n                selectedFieldRecord.componentcode !== ReactComponents.BACKENDSEARCHFILTER) {\r\n                if (this.props.Login.columnInfo && selectedFieldRecord.childValue\r\n                    && this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode]) {\r\n                    tableColumn = this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].tableColumn;\r\n                    filterColumns = this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].filterColumns;\r\n                    this.setState({\r\n                        selectedComponentpath: path,\r\n                        selectedFieldRecord: selectedFieldRecord,\r\n                        components,\r\n                        tableColumn,\r\n                        filterColumns,\r\n                        validComponents,\r\n                        parentRadioValue,\r\n                        showFilter: false\r\n\r\n\r\n                    })\r\n                } else {\r\n                    if (selectedFieldRecord.childValue) {\r\n                        this.props.getTableColumns(this.state.design, selectedFieldRecord,\r\n                            selectedFieldRecord.childValue.nquerybuildertablecode, this.props.Login.userInfo,\r\n                            \"\", this.props.Login.columnInfo, componentData, undefined, false);\r\n                    } else {\r\n                        this.setState({\r\n                            selectedComponentpath: path,\r\n                            selectedFieldRecord: selectedFieldRecord,\r\n                            components,\r\n                            tableColumn,\r\n                            filterColumns,\r\n                            dateComponents,\r\n                            validComponents,\r\n                            parentRadioValue,\r\n                            showFilter: false\r\n                        })\r\n                    }\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    selectedComponentpath: path,\r\n                    selectedFieldRecord: selectedFieldRecord,\r\n                    components,\r\n                    tableColumn,\r\n                    filterColumns,\r\n                    dateComponents,\r\n                    validComponents,\r\n                    parentRadioValue,\r\n                    showFilter: false\r\n                })\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    getComponents = (design) => {\r\n        let components = [];\r\n        let dateComponents = [{ label: \"Current Date\", value: \"utccurrentdate\" }];\r\n        design.map((row, rowIndex) => {\r\n            row.children.map((column, columnIndex) => {\r\n                column.children.map((componnet, compindex) => {\r\n                    if (componnet.hasOwnProperty(\"children\")) {\r\n                        componnet.children.map((componnetrow, compRowIndex) => {\r\n                            componnetrow.inputtype === 'date' && componnetrow.label && dateComponents.push({ label: componnetrow.label, value: componnetrow.label })\r\n                            componnetrow.label && components.push({\r\n                                label: componnetrow.label,\r\n                                value: componnetrow.label,\r\n                                // item: componnetrow,\r\n                                inputtype: componnetrow.inputtype,\r\n                                source: componnetrow.source,\r\n                                nquerybuildertablecode: componnetrow.nquerybuildertablecode,\r\n                                child: componnetrow.child,\r\n                                valuemember: componnetrow.valuemember,\r\n                                path: `${rowIndex}-${columnIndex}-${compindex}-${compRowIndex}`\r\n                            })\r\n                        })\r\n                    } else {\r\n                        componnet.inputtype === 'date' && componnet.label && dateComponents.push({ label: componnet.label, value: componnet.label })\r\n                        componnet.label && components.push({\r\n                            label: componnet.label,\r\n                            value: componnet.label,\r\n                            // item: componnet,\r\n                            inputtype: componnet.inputtype,\r\n                            source: componnet.source,\r\n                            nquerybuildertablecode: componnet.nquerybuildertablecode,\r\n                            child: componnet.child,\r\n                            valuemember: componnet.valuemember,\r\n                            path: `${rowIndex}-${columnIndex}-${compindex}-0`\r\n                        })\r\n                    }\r\n                })\r\n                return null;\r\n            })\r\n            return null;\r\n        })\r\n        return { components, dateComponents };\r\n    }\r\n    getValueMembers = (selectedFieldRecord) => {\r\n        if (selectedFieldRecord.childValue) {\r\n            let valueColumn = [];\r\n            this.props.Login.columnInfo &&\r\n                this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode] &&\r\n                this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].numericColumns.map(x => {\r\n                    if (x.foriegntablename === selectedFieldRecord.childValue.source)\r\n                        valueColumn.push(\r\n                            {\r\n                                label: x.displayname[this.props.Login.userInfo.slanguagetypecode],\r\n                                value: x.tablecolumnname,\r\n                                item: { foriegntablePK: x.foriegntablePK }\r\n                            }\r\n                        )\r\n                    return null;\r\n                })\r\n            if (valueColumn.length) {\r\n\r\n                return valueColumn;\r\n\r\n            } else {\r\n                this.props.Login.columnInfo &&\r\n                    this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode] &&\r\n                    this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].numericColumns.map(x => {\r\n                        if (x.foriegntablename === selectedFieldRecord.source)\r\n                            valueColumn.push(\r\n                                {\r\n                                    label: x.displayname[this.props.Login.userInfo.slanguagetypecode],\r\n                                    value: x.tablecolumnname,\r\n                                    item: { foriegntablePK: x.foriegntablePK }\r\n                                }\r\n                            )\r\n                        return null;\r\n                    })\r\n                return valueColumn;\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    onInputOnChange = (event, name) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let chillabelUpdate = false;\r\n        let newLabel = \"\"\r\n        let oldLabel = \"\"\r\n        if (event.target.type === 'checkbox') {\r\n            if (name === \"recordbasedreadonly\" || name === \"recordbasedshowhide\") {\r\n                let design = this.state.design\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                if (selectedFieldRecord[\"recordbasedshowhide\"] || selectedFieldRecord[\"recordbasedreadonly\"]) {\r\n                    // let design = this.state.design\r\n                    if (selectedFieldRecord.radioparentPath) {\r\n                        let oldParentData = getcomponentdata(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"));\r\n                        if (oldParentData.child) {\r\n                            let newChildData1 = oldParentData.child.filter(child => child.label !== selectedFieldRecord.label);\r\n                            oldParentData = { ...oldParentData, child: newChildData1 };\r\n                            design = replaceChildFromChildren(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"), oldParentData)\r\n                        }\r\n                        delete selectedFieldRecord[\"radioparentLabel\"]\r\n                        delete selectedFieldRecord[\"selectedrecordbasedhide\"]\r\n                        delete selectedFieldRecord[\"recordbasedhide\"]\r\n                        delete selectedFieldRecord[\"radioparent\"]\r\n                    }\r\n                    selectedFieldRecord[name === \"recordbasedreadonly\" ? \"recordbasedshowhide\" : \"recordbasedreadonly\"] = false;\r\n                }\r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                const newdata = { ...selectedFieldRecord }\r\n                design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord })\r\n            } else if (event.target.name === \"loadselecteddate\" || event.target.name === \"loadcurrentdate\") {\r\n\r\n                if (event.target.name === \"loadselecteddate\" && selectedFieldRecord['loadcurrentdate']) {\r\n                    selectedFieldRecord['loadcurrentdate'] = false\r\n                } else if (event.target.name === \"loadcurrentdate\" && selectedFieldRecord['loadselecteddate']) {\r\n                    selectedFieldRecord['loadselecteddate'] = false\r\n                }\r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            } else if (event.target.name === \"unique\") {\r\n                //     const design = this.state.design\r\n                //  let listUnique=[]\r\n                //  if(event.target.checked){\r\n                //     design && design.map(row => {\r\n                //         return  row.children.map(column => {\r\n                //              return column.children.map(component => {\r\n                //                   if (component.hasOwnProperty(\"children\")) {\r\n                //                      return component.children.map(componentrow => {\r\n                //                        if(componentrow.unique){\r\n                //                         listUnique.push(componentrow.unique)\r\n                //                        }\r\n                //                       }) \r\n                //                   }\r\n                //                   else {\r\n                //                     if(component.unique){\r\n                //                         listUnique.push(component.unique)\r\n                //                     }\r\n                //                   }\r\n                //               }\r\n                //               )\r\n                //           })\r\n                //       })   \r\n                //     }\r\n                //       if(listUnique.length===0){\r\n                //         selectedFieldRecord[event.target.name] = event.target.checked;\r\n                //         this.saveComponentProperties(selectedFieldRecord)\r\n\r\n                //       }else{\r\n                //           toast.info(\"Unique Must Be One Field\")\r\n                //           selectedFieldRecord[event.target.name] = false;\r\n                //         this.saveComponentProperties(selectedFieldRecord)\r\n                //         //  this.setState({design})\r\n                //       }\r\n\r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n            else if (event.target.name === 'isAddMaster' || event.target.name === 'isView'||event.target.name === 'isEditMaster' ) {\r\n                // if (event.target.name === 'isAddMaster') {\r\n                //     if (event.target.checked) {\r\n                //         selectedFieldRecord['isView'] = false\r\n                //     }\r\n                // } else {\r\n                //     if (event.target.checked) {\r\n                //         selectedFieldRecord['isAddMaster'] = false\r\n                //     }\r\n                // }\r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n            else if (event.target.name === 'autoFocus') {\r\n\r\n                if (event.target.checked === true) {\r\n                    const val = this.checkAutoFocus();\r\n                    if (val === '') {\r\n                        selectedFieldRecord[event.target.name] = event.target.checked;\r\n                        this.saveComponentProperties(selectedFieldRecord)\r\n                    } else {\r\n                        toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYFOCUSAPPLIEDON\" }) + ' ' + val)\r\n                    }\r\n                } else {\r\n                    selectedFieldRecord[event.target.name] = event.target.checked;\r\n                    this.saveComponentProperties(selectedFieldRecord)\r\n                }\r\n            }\r\n            else {\r\n                if (event.target.name === 'timeonly') {\r\n                    selectedFieldRecord['dateonly'] = false;\r\n                }\r\n                if (event.target.name === 'dateonly') {\r\n                    selectedFieldRecord['timeonly'] = false;\r\n                }\r\n                if (event.target.name === 'mandatory') {\r\n                    if (event.target.checked === false) {\r\n                        if (selectedFieldRecord['unique']) {\r\n                            selectedFieldRecord['unique'] = false;\r\n                        }\r\n                    }\r\n                }\r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n        } \r\n         else if (event.target.name === 'templatename') {\r\n            if(event.target.value !== \"\"){\r\n            event.target.value =  validateCreateView(event.target.value);\r\n            selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\r\n            } else{\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            }\r\n            this.setState({ selectedRecord });  \r\n        }  \r\n        else {\r\n            if (name === 'synonym') {\r\n\r\n                selectedFieldRecord['displayname'] = {\r\n                    ...selectedFieldRecord['displayname'],\r\n                    [event.target.name]: event.target.value\r\n\r\n                }\r\n            }\r\n            if (event.target.name === 'label') {\r\n                const langArray = this.props.Login.languageList;\r\n                const langDataObject = {};\r\n                langArray.map(item =>\r\n                    langDataObject[item.value] = event.target.value);\r\n\r\n                selectedFieldRecord['displayname'] = {\r\n                    ...selectedFieldRecord['displayname'],\r\n                    ...langDataObject\r\n\r\n                }\r\n                chillabelUpdate = true;\r\n                newLabel = event.target.value\r\n                oldLabel = selectedFieldRecord[event.target.name]\r\n                selectedFieldRecord[event.target.name] = event.target.value;\r\n            } \r\n             else {\r\n                selectedFieldRecord[event.target.name] = event.target.value;\r\n            }\r\n            this.saveComponentProperties(selectedFieldRecord, chillabelUpdate, oldLabel, newLabel)\r\n        }\r\n      }\r\n\r\n    checkAutoFocus = () => {\r\n        let val = ''\r\n        this.state.design.map((item) =>\r\n            item.children.map((column) =>\r\n                column.children.map((componnet) => {\r\n                    if (componnet.hasOwnProperty('children')) {\r\n                        componnet.children.map((componnetrow) => {\r\n                            if (componnetrow.inputtype === 'combo') {\r\n                                if (componnetrow.autoFocus) {\r\n                                    val = componnetrow.label;\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                        )\r\n                    } else {\r\n                        if (componnet.inputtype === 'combo') {\r\n                            if (componnet.autoFocus) {\r\n                                val = componnet.label;\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                }\r\n                )\r\n            ))\r\n\r\n        return val;\r\n    }\r\n\r\n    onNumericInputChange = (event, columnname) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        let value = event.target.value;\r\n        if (!isNaN(value)) {\r\n            // if (parseInt(value) < 10) {\r\n            selectedFieldRecord[event.target.name] = value;\r\n            this.saveComponentProperties(selectedFieldRecord);\r\n            // }\r\n        }\r\n    }\r\n    handleDateChange = (dateValue, dateName) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        selectedFieldRecord[dateName] = dateValue\r\n        this.saveComponentProperties(selectedFieldRecord);\r\n    }\r\n\r\n    onComboChange = (comboData, comboName) => {\r\n        let { selectedFieldRecord } = this.state;\r\n        if (selectedFieldRecord.label) {\r\n            if (comboName === 'table') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord['source'] = comboData.item.stablename;\r\n\r\n                if (comboData.item.stablename === 'dynamicmaster') {\r\n                    selectedFieldRecord['conditionstring'] = ' and nformcode = ' + comboData.item.nformcode\r\n                }\r\n                selectedFieldRecord['nquerybuildertablecode'] = comboData.value;\r\n                selectedFieldRecord['isAddMaster'] = false;\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                //if(comboData.item.stablename==='unit'){\r\n                // newdata['isAddNewRecord']=true;\r\n                //}\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                if (selectedFieldRecord.inputtype === 'frontendsearchfilter' || selectedFieldRecord.inputtype === 'backendsearchfilter') {\r\n                    this.props.getTableColumns(design, selectedFieldRecord, comboData.value,\r\n                        this.props.Login.userInfo, splititemarray, this.props.Login.columnInfo, { validComponents: this.state.validComponents })\r\n                } else {\r\n                    this.props.getTableColumns(design, selectedFieldRecord, comboData.value,\r\n                        this.props.Login.userInfo, splititemarray, this.props.Login.columnInfo)\r\n                }\r\n\r\n            } else if (comboName === 'column') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord['displaymember'] = comboData.value;\r\n                if (comboData.item.ismultilingual) {\r\n                    selectedFieldRecord['isMultiLingual'] = true;\r\n                }\r\n                if (comboData.item.stablename === 'dynamicmaster') {\r\n                    selectedFieldRecord['name'] = comboData.value\r\n                }\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord })\r\n            } else if (comboName === 'childValue') {\r\n                if (comboData) {\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    let design = this.state.design\r\n                    if (selectedFieldRecord.parentPath) {\r\n                        let oldParentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\r\n                        if (oldParentData.child) {\r\n                            let newChildData1 = oldParentData.child.filter(child => child.label !== selectedFieldRecord.label);\r\n                            oldParentData = { ...oldParentData, child: newChildData1 };\r\n                            design = replaceChildFromChildren(this.state.design, selectedFieldRecord.parentPath.split(\"-\"), oldParentData)\r\n                        }\r\n\r\n                    }\r\n                    let parentData = getcomponentdata(design, comboData.path.split(\"-\"));\r\n                    selectedFieldRecord['childValue'] = comboData\r\n                    selectedFieldRecord['parentPath'] = comboData.path\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER || selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                        selectedFieldRecord['parentLabel'] = comboData.label\r\n                    }\r\n\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                    let newChildData = parentData.child || [];\r\n                    let validateChild = newChildData.filter(x => x.label === selectedFieldRecord.label)\r\n                    if (validateChild.length === 0) {\r\n                        let valueMemberOptions = this.getValueMembers(selectedFieldRecord);\r\n                        if (valueMemberOptions.length === 1) {\r\n\r\n                            const foriegntablePK = getChildComponentForeignKey(selectedFieldRecord, comboData, this.props.Login.columnInfo);\r\n                            newChildData.push({ label: selectedFieldRecord.label, foriegntablePK: foriegntablePK, tablecolumnname: valueMemberOptions[0].value, childPath: this.state.selectedComponentpath })\r\n                        } else {\r\n                            newChildData.push({ label: selectedFieldRecord.label, childPath: this.state.selectedComponentpath })\r\n                        }\r\n\r\n                    }\r\n                    parentData = { ...parentData, child: newChildData };\r\n                    design = replaceChildFromChildren(design, comboData.path.split(\"-\"), parentData)\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.COMBO) {\r\n                        this.setState({ design, selectedFieldRecord });\r\n                    } else if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER || selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                        let parentRadioValue = this.state.parentRadioValue || []\r\n                        parentRadioValue = parentData.radioOptions.tags.map(item => {\r\n                            return { value: item.id, label: item.text, item }\r\n                        })\r\n                        this.setState({ design, selectedFieldRecord, parentRadioValue });\r\n                    }\r\n                    else {\r\n                        this.props.getTableColumns(design, selectedFieldRecord,\r\n                            selectedFieldRecord.childValue.nquerybuildertablecode, this.props.Login.userInfo,\r\n                            splititemarray, this.props.Login.columnInfo,\r\n                            { components: this.state.components, selectedComponentpath: this.state.selectedComponentpath },\r\n                            true)\r\n                    }\r\n\r\n                } else {\r\n\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n\r\n                    let parentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\r\n                    let newChildData = parentData.child.filter(child => child.label !== selectedFieldRecord.label)\r\n                    parentData = { ...parentData, child: newChildData };\r\n                    let design = replaceChildFromChildren(this.state.design, selectedFieldRecord.parentPath.split(\"-\"), parentData)\r\n                    selectedFieldRecord['childValue'] = comboData\r\n                    if (selectedFieldRecord.componentcode !== ReactComponents.COMBO)\r\n                        selectedFieldRecord['column'] = comboData\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.COMBO) {\r\n                        this.setState({ design, selectedFieldRecord });\r\n                    } else {\r\n                        this.setState({ design, selectedFieldRecord, tableColumn: [] })\r\n                    }\r\n                }\r\n\r\n            } else if (comboName === 'valuecolumn') {\r\n                selectedFieldRecord['valuecolumn'] = comboData;\r\n                let parentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\r\n                let newChildData = []\r\n                parentData.child.map(child => {\r\n                    if (child.label === selectedFieldRecord.label) {\r\n                        newChildData.push({\r\n                            ...child, tablecolumnname: comboData.value, foriegntablePK: comboData.item.foriegntablePK\r\n                        })\r\n                    } else {\r\n                        newChildData.push(child)\r\n                    }\r\n                    return null;\r\n                })\r\n                parentData = { ...parentData, child: newChildData };\r\n                let design = replaceChildFromChildren(this.state.design, selectedFieldRecord.parentPath.split(\"-\"), parentData)\r\n                const newdata = { ...selectedFieldRecord }\r\n                design = replaceChildFromChildren(design, this.state.selectedComponentpath.split(\"-\"), newdata)\r\n                this.setState({ design, selectedFieldRecord });\r\n            } else if (comboName === 'filtercolumn') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord.filtervalue = \"\";\r\n                selectedFieldRecord.staticfiltervalue = \"\";\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                if (comboData.type !== 'numeric') {\r\n                    this.setState({ design, selectedFieldRecord });\r\n                } else {\r\n                    this.props.getForeignTableData(design, selectedFieldRecord, '', this.props.Login.userInfo,\r\n                        splititemarray, this.props.Login.columnInfo,\r\n                        { components: this.state.components, selectedComponentpath: this.state.selectedComponentpath },\r\n                        true)\r\n                }\r\n\r\n            } else if (comboName === 'customsearchfilter') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord['filterfields'] = [];\r\n                this.state.selectedFieldRecord[comboName].map(data => {\r\n                    return selectedFieldRecord['filterfields'].push(data.item['item'] ? { type: data.type, ...data.item['item'] } : data.item);\r\n                });\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord })\r\n            }\r\n            else if (comboName === 'selectedrecordbasedhide') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord['recordbasedhide'] = comboData.value;\r\n                if (comboData.item.ismultilingual) {\r\n                    selectedFieldRecord['isMultiLingual'] = true;\r\n                }\r\n                if (comboData.item.stablename === 'dynamicmaster') {\r\n                    selectedFieldRecord['name'] = comboData.value\r\n                }\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord })\r\n            }\r\n            else if (comboName === 'radioparent') {\r\n                if (comboData) {\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    let design = this.state.design\r\n                    let parentData = getcomponentdata(design, comboData.path.split(\"-\"));\r\n                    selectedFieldRecord['radioparent'] = comboData\r\n                    selectedFieldRecord['radioparentPath'] = comboData.path\r\n                    selectedFieldRecord['radioparentLabel'] = comboData.label\r\n                    delete selectedFieldRecord['recordbasedhide']\r\n                    delete selectedFieldRecord[\"selectedrecordbasedhide\"]\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                    let newChildData = parentData.child || [];\r\n                    let validateChild = newChildData.filter(x => x.label === selectedFieldRecord.label)\r\n                    if (validateChild.length === 0) {\r\n                        let valueMemberOptions = this.getValueMembers(selectedFieldRecord);\r\n                        if (valueMemberOptions !== null && valueMemberOptions.length === 1) {\r\n                            newChildData.push({ label: selectedFieldRecord.label, tablecolumnname: valueMemberOptions[0].value, childPath: this.state.selectedComponentpath })\r\n                        } else {\r\n                            newChildData.push({ label: selectedFieldRecord.label, childPath: this.state.selectedComponentpath })\r\n                        }\r\n\r\n                    }\r\n                    parentData = { ...parentData, child: newChildData };\r\n                    design = replaceChildFromChildren(design, comboData.path.split(\"-\"), parentData)\r\n                    let parentRadioValue = this.state.parentRadioValue || []\r\n                    parentRadioValue = parentData.radioOptions &&\r\n                        parentData.radioOptions.tags.map(item => {\r\n                            return { value: item.id, label: item.text, item }\r\n                        })\r\n                    this.setState({ design, selectedFieldRecord, parentRadioValue });\r\n\r\n                } else {\r\n\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n\r\n                    let parentData = getcomponentdata(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"));\r\n                    let newChildData = parentData.child.filter(child => child.label !== selectedFieldRecord.label)\r\n                    parentData = { ...parentData, child: newChildData };\r\n                    let design = replaceChildFromChildren(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"), parentData)\r\n                    selectedFieldRecord['radioparent'] = comboData\r\n                    selectedFieldRecord['selectedrecordbasedhide'] = comboData\r\n                    delete selectedFieldRecord['recordbasedhide']\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.COMBO) {\r\n                        this.setState({ design, selectedFieldRecord });\r\n                    } else {\r\n                        this.setState({ design, selectedFieldRecord, tableColumn: [] })\r\n                    }\r\n                }\r\n\r\n            } else if (comboName === \"period\") {\r\n                if (comboData) {\r\n                    selectedFieldRecord[comboName] = comboData;\r\n                    selectedFieldRecord['nperiodcode'] = comboData.value\r\n                    selectedFieldRecord['nperioddata'] = comboData.item.ndata\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                    this.setState({ design, selectedFieldRecord });\r\n                } else {\r\n                    selectedFieldRecord[comboName] = comboData;\r\n                    delete selectedFieldRecord['nperiodcode']\r\n                    delete selectedFieldRecord['nperioddata']\r\n                    delete selectedFieldRecord['windowperiod']\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                    this.setState({ design, selectedFieldRecord });\r\n                }\r\n\r\n            }\r\n            else if (comboName === \"staticfiltertable\") {\r\n                if (comboData) {\r\n                    selectedFieldRecord[comboName] = comboData;\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                    const list = JSON.parse(comboData.item.jsondata.value).jcolumnname\r\n                    const staticfiltercolumn = list.map(x => {\r\n\r\n                        // x['displayname']= x['displayname'][this.props.Login.userInfo.slanguagetypecode]\r\n                        return { label: x['displayname'][this.props.Login.userInfo.slanguagetypecode], value: x['displayname'][this.props.Login.userInfo.slanguagetypecode], item: x };\r\n                    })\r\n\r\n                    this.setState({ design, selectedFieldRecord, staticfiltercolumn });\r\n                } else {\r\n                    selectedFieldRecord[comboName] = comboData;\r\n                    delete selectedFieldRecord['staticfiltercolumn']\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                    this.setState({ design, selectedFieldRecord, staticfiltercolumn: [] });\r\n                }\r\n            } else if (comboName === \"radiodefaultvalue\") {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                const newdata = { ...selectedFieldRecord }\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord });\r\n            }\r\n            else if (comboName === \"radiodefaultvaluemulti\") {\r\n                //     selectedFieldRecord[comboName] = comboData;\r\n\r\n                selectedFieldRecord['radiodefaultvalue'] = [];\r\n                comboData.map(data => {\r\n                    return selectedFieldRecord['radiodefaultvalue'].push({ ...data });\r\n                });\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord });\r\n            }\r\n            else {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord });\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERLABEL\" }))\r\n        }\r\n\r\n    }\r\n    addTag = (tags) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n\r\n        selectedFieldRecord['radioOptions'] = tags;\r\n\r\n        if (selectedFieldRecord['radiodefaultvalue']) {\r\n            if (Array.isArray(selectedFieldRecord['radiodefaultvalue'])) {\r\n                let list = []\r\n                tags.tags.map(x => {\r\n                    selectedFieldRecord['radiodefaultvalue'].map(y => {\r\n                        if (x.text === y.label) {\r\n                            list.push({ ...y })\r\n                        }\r\n                    })\r\n\r\n                })\r\n                selectedFieldRecord['radiodefaultvalue'] = list.length > 0 ? list : undefined\r\n\r\n\r\n            } else {\r\n\r\n                const list = tags.tags.filter(x => x.text === selectedFieldRecord['radiodefaultvalue'].label)\r\n                if (list.length === 0)\r\n                    selectedFieldRecord['radiodefaultvalue'] = undefined\r\n            }\r\n\r\n        }\r\n\r\n\r\n        this.saveComponentProperties(selectedFieldRecord);\r\n\r\n    }\r\n    addCondition = () => {\r\n        let { selectedFieldRecord } = this.state;\r\n        let filterColumnName;\r\n        let filterValue;\r\n        let conditionString;\r\n        let conditionArrayString;\r\n        let selectedStaticfiltertable = {}\r\n        if (selectedFieldRecord[\"filtercolumn\"] && selectedFieldRecord['condition']\r\n            && (selectedFieldRecord['staticfiltercolumn'] || selectedFieldRecord['staticfiltercolumn'])) {\r\n            selectedStaticfiltertable = JSON.parse(selectedFieldRecord[\"staticfiltertable\"].item.jsondata.value)\r\n            switch (selectedFieldRecord[\"filtercolumn\"].type) {\r\n                case 'static': {\r\n                    filterColumnName = \" and \" + selectedFieldRecord.filtercolumn.item.columnname;\r\n                    filterValue = { label: selectedFieldRecord.staticfiltercolumn.label, value: selectedFieldRecord.staticfiltercolumn.item.columnname }\r\n\r\n                    break;\r\n                }\r\n                case 'dynamic': {\r\n                    filterColumnName = \" and jsondata->>'\" + selectedFieldRecord.filtercolumn.item.columnname + \"'\";\r\n                    filterValue = { label: selectedFieldRecord.staticfiltercolumn.label, value: selectedFieldRecord.selectedFieldRecord.staticfiltercolumn.item.columnname }\r\n                    break;\r\n                }\r\n                case 'numeric': {\r\n                    filterColumnName = \" and \" + selectedFieldRecord.filtercolumn.item.tablecolumnname;\r\n                    filterValue = { label: selectedFieldRecord.staticfiltercolumn.label, value: selectedFieldRecord.staticfiltercolumn.item.columnname }\r\n\r\n                    break;\r\n                }\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            switch (selectedFieldRecord[\"condition\"].value) {\r\n                case condition.EQUALS:\r\n                    conditionString = filterColumnName + \" = P$\" + selectedStaticfiltertable.jtablename.tablename + \".\" + filterValue.value + \"$P\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" = \" + filterValue.label\r\n                    break;\r\n                case condition.NOTEQUALS:\r\n                    conditionString = filterColumnName + \" P$\" + selectedStaticfiltertable.jtablename.tablename + \".\" + filterValue.value + \"$P\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" = \" + filterValue.label\r\n                    break;\r\n                case condition.STARTSWITH:\r\n                    conditionString = filterColumnName + \" like 'P$\" + selectedStaticfiltertable.jtablename.tablename + \".\" + filterValue.value + \"$P\" + \"%'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" Starts With \" + filterValue.label\r\n                    break;\r\n                case condition.ENDSWITH:\r\n                    conditionString = filterColumnName + \" like '%P$\" + selectedStaticfiltertable.jtablename.tablename + \".\" + filterValue.value + \"$P'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \"Ends With \" + filterValue.label\r\n                    break;\r\n                case condition.INCLUDES:\r\n                    conditionString = filterColumnName + \" like '%P$\" + selectedStaticfiltertable.jtablename.tablename + \".\" + filterValue.value + \"$P%'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" Contains \" + filterValue.label\r\n                    break;\r\n                // case condition.CONTAINS:\r\n                //     conditionString = filterColumnName + \" in (\" + filterValue.map(x => x.value).join(',') + \" )\"\r\n                //     conditionArrayString = selectedFieldRecord.filtercolumn.label + \" in (\" + filterValue.map(x => x.label).join(',') + \" )\"\r\n                //     break;\r\n                // case condition.NOTCONTAINS:\r\n                //     conditionString = filterColumnName + \" not in (\" + filterValue.map(x => x.value).join(',') + \" )\"\r\n                //     conditionArrayString = selectedFieldRecord.filtercolumn.label + \" not in (\" + filterValue.map(x => x.label).join(',') + \" )\"\r\n                //     break;\r\n                default:\r\n                    break;\r\n            }\r\n            let conditionArrayUI = selectedFieldRecord.conditionArrayUI || [];\r\n            let conditionArraySQL = selectedFieldRecord.conditionArraySQL || [];\r\n            conditionArrayUI.push(conditionArrayString);\r\n            conditionArraySQL.push(conditionString);\r\n            selectedFieldRecord = {\r\n                ...selectedFieldRecord,\r\n                filtercolumn: \"\",\r\n                condition: \"\",\r\n                staticfiltervalue: undefined,\r\n                filtervalue: \"\",\r\n                staticfiltertable: \"\",\r\n                nsystemconfiguration: false,\r\n                conditionArrayUI,\r\n                conditionArraySQL,\r\n                staticfiltercolumn: \"\"\r\n            }\r\n\r\n            selectedFieldRecord['conditionstring'] = conditionArraySQL.join(\" \");\r\n\r\n        }\r\n        else if (selectedFieldRecord[\"filtercolumn\"] && selectedFieldRecord['condition']\r\n            && (selectedFieldRecord['staticfiltervalue'] || selectedFieldRecord['filtervalue'])) {\r\n\r\n            switch (selectedFieldRecord[\"filtercolumn\"].type) {\r\n                case 'static': {\r\n                    filterColumnName = \" and \" + selectedFieldRecord.filtercolumn.item.columnname;\r\n                    filterValue = { label: selectedFieldRecord.staticfiltervalue, value: selectedFieldRecord.staticfiltervalue }\r\n                    break;\r\n                }\r\n                case 'dynamic': {\r\n                    filterColumnName = \" and jsondata->>'\" + selectedFieldRecord.filtercolumn.item.columnname + \"'\";\r\n                    filterValue = { label: selectedFieldRecord.staticfiltervalue, value: selectedFieldRecord.staticfiltervalue }\r\n                    break;\r\n                }\r\n                case 'numeric': {\r\n                    filterColumnName = \" and \" + selectedFieldRecord.filtercolumn.item.tablecolumnname;\r\n                    filterValue = selectedFieldRecord.filtervalue\r\n                    break;\r\n                }\r\n                default:\r\n                    break;\r\n            }\r\n            switch (selectedFieldRecord[\"condition\"].value) {\r\n                case condition.EQUALS:\r\n                    conditionString = filterColumnName + \" = '\" + filterValue.value + \"'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" = \" + filterValue.label\r\n                    break;\r\n                case condition.NOTEQUALS:\r\n                    conditionString = filterColumnName + \" != '\" + filterValue.value + \"'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" = \" + filterValue.label\r\n                    break;\r\n                case condition.STARTSWITH:\r\n                    conditionString = filterColumnName + \" like '\" + filterValue.value + \"%'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" Starts With \" + filterValue.label\r\n                    break;\r\n                case condition.ENDSWITH:\r\n                    conditionString = filterColumnName + \" like '%\" + filterValue.value + \"'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \"Ends With \" + filterValue.label\r\n                    break;\r\n                case condition.INCLUDES:\r\n                    conditionString = filterColumnName + \" like '%\" + filterValue.value + \"%'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" Contains \" + filterValue.label\r\n                    break;\r\n                case condition.CONTAINS:\r\n                    conditionString = filterColumnName + \" in (\" + filterValue.map(x => x.value).join(',') + \" )\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" in (\" + filterValue.map(x => x.label).join(',') + \" )\"\r\n                    break;\r\n                case condition.NOTCONTAINS:\r\n                    conditionString = filterColumnName + \" not in (\" + filterValue.map(x => x.value).join(',') + \" )\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" not in (\" + filterValue.map(x => x.label).join(',') + \" )\"\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            let conditionArrayUI = selectedFieldRecord.conditionArrayUI || [];\r\n            let conditionArraySQL = selectedFieldRecord.conditionArraySQL || [];\r\n            conditionArrayUI.push(conditionArrayString);\r\n            conditionArraySQL.push(conditionString);\r\n            selectedFieldRecord = {\r\n                ...selectedFieldRecord,\r\n                filtercolumn: \"\",\r\n                condition: \"\",\r\n                staticfiltervalue: undefined,\r\n                filtervalue: \"\",\r\n                conditionArrayUI,\r\n                conditionArraySQL,\r\n                nsystemconfiguration: false,\r\n                staticfiltercolumn: \"\"\r\n            }\r\n\r\n            selectedFieldRecord['conditionstring'] = conditionArraySQL.join(\" \");\r\n        } else {\r\n            return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERVALUES\" }))\r\n        }\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n        this.setState({ design, selectedFieldRecord, staticfiltercolumn: \"\" });\r\n    }\r\n    deleteCondition = (index) => {\r\n        let { selectedFieldRecord } = this.state;\r\n        let conditionArrayUI = selectedFieldRecord.conditionArrayUI;\r\n        let conditionArraySQL = selectedFieldRecord.conditionArraySQL;\r\n        conditionArrayUI.splice(index, 1);\r\n        conditionArraySQL.splice(index, 1);\r\n        selectedFieldRecord['conditionArrayUI'] = conditionArrayUI;\r\n        selectedFieldRecord['conditionArraySQL'] = conditionArraySQL;\r\n        selectedFieldRecord['conditionstring'] = conditionArraySQL.join(\" \");\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n        this.setState({ design, selectedFieldRecord });\r\n    }\r\n    addDateConstraints = () => {\r\n        let { selectedFieldRecord } = this.state;\r\n        let filterColumnName;\r\n        if (selectedFieldRecord['condition'] && selectedFieldRecord['filtervalue']) {\r\n            filterColumnName = selectedFieldRecord.filtervalue.value;\r\n            let dateConstraintArrayUI = selectedFieldRecord.dateConstraintArrayUI || [];\r\n            let dateConstraintArraySQL = selectedFieldRecord.cdateConstraintArraySQL || [];\r\n            dateConstraintArrayUI.push(selectedFieldRecord.label + ' ' + selectedFieldRecord['condition'].label + ' ' + selectedFieldRecord['filtervalue'].label);\r\n            dateConstraintArraySQL.push({ parentdate: selectedFieldRecord.label, constraint: selectedFieldRecord['condition'].value, childdate: filterColumnName });\r\n            selectedFieldRecord = {\r\n                ...selectedFieldRecord,\r\n                condition: \"\",\r\n                filtervalue: \"\",\r\n                dateConstraintArrayUI,\r\n                dateConstraintArraySQL\r\n            }\r\n            const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n            const newdata = { ...selectedFieldRecord }\r\n            const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n            this.setState({ design, selectedFieldRecord });\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERVALUES\" }))\r\n        }\r\n    }\r\n    deleteDateCondition = (index) => {\r\n        let { selectedFieldRecord } = this.state;\r\n        let dateConstraintArrayUI = selectedFieldRecord.dateConstraintArrayUI;\r\n        let dateConstraintArraySQL = selectedFieldRecord.dateConstraintArraySQL;\r\n        dateConstraintArrayUI.splice(index, 1);\r\n        dateConstraintArraySQL.splice(index, 1);\r\n        selectedFieldRecord['dateConstraintArrayUI'] = dateConstraintArrayUI;\r\n        selectedFieldRecord['dateConstraintArraySQL'] = dateConstraintArraySQL;\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n        this.setState({ design, selectedFieldRecord });\r\n    }\r\n    saveComponentProperties = (selectedFieldRecord, childLabelUpdate, oldLabelName, newLabelName) => {\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n        // const selectedFieldRecord = this.state.selectedFieldRecord;\r\n        const newdata = { ...selectedFieldRecord }\r\n        let design1 = this.state.design\r\n        if (childLabelUpdate) {\r\n            design1 = this.updateLabelName(this.state.design, oldLabelName, newLabelName)\r\n        }\r\n        const design = replaceChildFromChildren(design1, splititemarray, newdata)\r\n        this.setState({ design, selectedFieldRecord })\r\n    }\r\n\r\n    updateLabelName = (design, oldLabelName, newLabelName) => {\r\n        design.map((row, rowIndex) =>\r\n            row.children.map((column, columnIndex) =>\r\n                column.children.map((componnetrow, compRowIndex) => {\r\n                    if (componnetrow.hasOwnProperty('children')) {\r\n                        componnetrow.children.map((component, compIndex) => {\r\n                            if (component.child) {\r\n                                let newChild = [];\r\n                                component.child.map(childComp => {\r\n                                    if (childComp.label === oldLabelName) {\r\n                                        newChild.push({ ...childComp, label: newLabelName });\r\n                                    } else {\r\n                                        newChild.push({ ...childComp });\r\n                                    }\r\n\r\n                                })\r\n                                component = { ...component, child: newChild }\r\n                                design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, compIndex], component);\r\n                            }\r\n\r\n\r\n                        })\r\n                    } else {\r\n                        if (componnetrow.child) {\r\n                            let newChild = [];\r\n                            componnetrow.child.map(childComp => {\r\n                                if (childComp.label === oldLabelName) {\r\n                                    newChild.push({ ...childComp, label: newLabelName });\r\n                                } else {\r\n                                    newChild.push({ ...childComp });\r\n                                }\r\n                            })\r\n                            componnetrow = { ...componnetrow, child: newChild }\r\n                            design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, 0], componnetrow);\r\n                        }\r\n\r\n                    }\r\n                })\r\n            )\r\n        )\r\n        return design;\r\n\r\n    }\r\n    handleSaveClick = (saveType) => {\r\n        if (this.state.selectedRecord.templatename && this.state.selectedRecord.templatename !== \"\") {\r\n            let inputData = [];\r\n            let selectedId = null;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            let dataState = undefined;\r\n            // let valid = this.validateTemplate(this.state.design);\r\n            // if (!valid) {\r\n            //     return null;\r\n            // }\r\n            if (this.props.Login.operation === \"update\") {\r\n                // edit\r\n                selectedId = this.state.selectedRecord.nchecklistqbcode\r\n                dataState = this.state.dataState\r\n                inputData[\"registrationtemplate\"] = {\r\n                    nreactregtemplatecode: this.props.Login.masterData.selectedTemplate.nreactregtemplatecode,\r\n                    nsampletypecode: this.props.nsampletypecode,\r\n                    sregtemplatename: this.state.selectedRecord.templatename,\r\n                    jsonString: JSON.stringify(this.state.design),\r\n                    jsondata: this.state.design,\r\n                    ntransactionstatus: transactionStatus.DRAFT,\r\n                    ndefaulttemplatecode:this.props.defaultTemplate.value,\r\n                  \r\n                }\r\n            }\r\n            else {\r\n                //add               \r\n                inputData[\"registrationtemplate\"] =\r\n                {\r\n                    nsampletypecode: this.props.nsampletypecode,\r\n                    sregtemplatename: this.state.selectedRecord.templatename,\r\n                    ndefaulttemplatecode:this.props.defaultTemplate.value,\r\n                    //ndefaulttemplatecode: this.props.Login.masterData.selectedDefaultTemplate.ndefaulttemplatecode,\r\n                    jsonString: JSON.stringify(this.state.design),\r\n                    ntransactionstatus: transactionStatus.DRAFT,\r\n                    nsubsampletypecode:this.props.defaultTemplate && this.props.defaultTemplate.item.nsubsampletypecode\r\n                };\r\n            }\r\n            const masterData = {...this.props.Login.masterData, selectedDefaultTemplate: this.props.defaultTemplate};\r\n\r\n            const postParam = {\r\n                                inputListName: \"RegistrationTemplate\",\r\n                                selectedObject: \"selectedTemplate\",\r\n                                primaryKeyField: \"nreactregtemplatecode\",\r\n                                fetchUrl: \"dynamicpreregdesign/getRegistrationTemplateById\",\r\n                                fecthInputObject: {\r\n                                    userinfo: this.props.Login.userInfo, nsampletypecode: this.props.nsampletypecode\r\n                                },\r\n                                masterData\r\n                            };\r\n            const inputParam = {\r\n                                methodUrl: 'RegistrationTemplate',\r\n                                classUrl: 'dynamicpreregdesign',\r\n                                displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\r\n                                inputData: inputData, postParam,\r\n                                searchRef: this.props.searchRef,\r\n                                operation: this.props.Login.operation,\r\n                                saveType, dataState, selectedId, openPortal: true\r\n                            }    ;      \r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true,\r\n                        screenData: { inputParam, masterData }, saveType,\r\n                        // openPortal:false,\r\n                        openModal: true\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openPortal\");\r\n            }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERTEMPLATENAME\" }))\r\n        }\r\n    }\r\n    validateTemplate = (template) => {\r\n\r\n        let invalidComponent = [];\r\n        let duplicateComponents = [];\r\n        let insufficientMultilingualData = [];\r\n        //let invalidComboComponent = [];\r\n        // let invalidRadioComponent = [];\r\n        // let invalidCheckboxComponent = [];\r\n        //let invalidReadOnlyComponent = [];\r\n        let incompletePropertiesComponent = [];\r\n        let labels = [];\r\n        let uniqueComponent = []\r\n        template.map((row, rowIndex) => {\r\n            row.children.map((column, columnIndex) => {\r\n                column.children.map((componnet, compindex) => {\r\n                    if (componnet.hasOwnProperty(\"children\")) {\r\n                        componnet.children.map((componnetrow, compRowIndex) => {\r\n                            if (componnetrow.unique) {\r\n                                uniqueComponent.push(componnetrow.label);\r\n                            }\r\n                            if (!componnetrow.hasOwnProperty('label') || componnetrow.label.trim() === '') {\r\n                                invalidComponent.push(componnetrow)\r\n                            }\r\n                            if (labels.includes(componnetrow.label)) {\r\n                                duplicateComponents.push(componnetrow)\r\n                            } else {\r\n                                if (componnetrow.label !== undefined)\r\n                                    labels.push(componnetrow.label);\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.COMBO) {\r\n                                if ((!componnetrow.hasOwnProperty('source')) &&\r\n                                    (!componnetrow.hasOwnProperty('displaymember'))) {\r\n                                    incompletePropertiesComponent.push(componnetrow)\r\n                                }\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.CHECKBOX) {\r\n                                if ((!componnetrow.hasOwnProperty('radioOptions') || (componnetrow.radioOptions && componnetrow.radioOptions.tags.length === 0))) {\r\n                                    incompletePropertiesComponent.push(componnetrow);\r\n                                }\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.RADIO) {\r\n                                if ((!componnetrow.hasOwnProperty('radioOptions') || (componnetrow.radioOptions && componnetrow.radioOptions.tags.length < 2))) {\r\n                                    incompletePropertiesComponent.push(componnetrow);\r\n                                }\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.TEXTINPUT\r\n                                || componnetrow.componentcode === ReactComponents.TEXTAREA) {\r\n                                if (componnetrow.hasOwnProperty('readonly')) {\r\n                                    if (componnet.name && componnet.name === 'Age') {\r\n                                        if (!componnetrow.hasOwnProperty('displaymember')) {\r\n                                            incompletePropertiesComponent.push(componnetrow);\r\n                                        } else {\r\n                                            if (componnetrow.displaymember.trim === '') {\r\n                                                incompletePropertiesComponent.push(componnetrow);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (!componnetrow.hasOwnProperty('sfieldlength') || componnetrow.sfieldlength.trim() === '') {\r\n                                        incompletePropertiesComponent.push(componnetrow);\r\n                                    }\r\n\r\n                                }\r\n\r\n                            }\r\n                            if (!componnetrow.hasOwnProperty('displayname') || Object.keys(componnetrow.displayname).length < this.props.Login.languageList.length) {\r\n                                insufficientMultilingualData.push(componnetrow);\r\n                            }\r\n                            if (componnetrow.recordbasedshowhide || componnetrow.recordbasedreadonly) {\r\n                                if (!(componnetrow.radioparent && componnetrow.selectedrecordbasedhide)) {\r\n                                    incompletePropertiesComponent.push(componnetrow);\r\n                                }\r\n\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.DATE) {\r\n                                if (componnetrow.period) {\r\n                                    if (!componnetrow.windowperiod) {\r\n                                        incompletePropertiesComponent.push(componnetrow)\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                        })\r\n                    } else {\r\n                        if (componnet.unique) {\r\n                            uniqueComponent.push(componnet.label);\r\n                        }\r\n                        if (!componnet.hasOwnProperty('label') || componnet.label.trim() === '') {\r\n                            invalidComponent.push(componnet)\r\n                        }\r\n                        if (labels.includes(componnet.label)) {\r\n                            duplicateComponents.push(componnet)\r\n                        } else {\r\n                            if (componnet.label !== undefined)\r\n                                labels.push(componnet.label);\r\n                        }\r\n                        if (componnet.componentcode === ReactComponents.COMBO) {\r\n                            if ((!componnet.hasOwnProperty('source')) &&\r\n                                (!componnet.hasOwnProperty('displaymember'))) {\r\n                                incompletePropertiesComponent.push(componnet)\r\n                            }\r\n                        }\r\n                        if (componnet.componentcode === ReactComponents.CHECKBOX) {\r\n                            if ((!componnet.hasOwnProperty('radioOptions') || (componnet.radioOptions && componnet.radioOptions.tags.length === 0))) {\r\n                                incompletePropertiesComponent.push(componnet);\r\n                            }\r\n                        }\r\n                        if (componnet.componentcode === ReactComponents.RADIO) {\r\n                            if ((!componnet.hasOwnProperty('radioOptions') || (componnet.radioOptions && componnet.radioOptions.tags.length < 2))) {\r\n                                incompletePropertiesComponent.push(componnet);\r\n                            }\r\n                        }\r\n                        if (componnet.componentcode === ReactComponents.TEXTINPUT || componnet.componentcode === ReactComponents.TEXTAREA) {\r\n                            if (componnet.hasOwnProperty('readonly')) {\r\n                                if (componnet.name && componnet.name === 'Age') {\r\n                                    if (!componnet.hasOwnProperty('displaymember')) {\r\n                                        incompletePropertiesComponent.push(componnet);\r\n                                    } else {\r\n                                        if (componnet.displaymember.trim === '') {\r\n                                            incompletePropertiesComponent.push(componnet);\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n                            else {\r\n                                if (!componnet.hasOwnProperty('sfieldlength') || componnet.sfieldlength.trim() === '') {\r\n                                    incompletePropertiesComponent.push(componnet);\r\n                                }\r\n                            }\r\n\r\n\r\n                        }\r\n                        if (!componnet.hasOwnProperty('displayname') || Object.keys(componnet.displayname).length < this.props.Login.languageList.length) {\r\n                            insufficientMultilingualData.push(componnet);\r\n                        }\r\n                        if (componnet.recordbasedshowhide || componnet.recordbasedreadonly) {\r\n                            if (!(componnet.radioparent && componnet.selectedrecordbasedhide)) {\r\n                                incompletePropertiesComponent.push(componnet);\r\n                            }\r\n\r\n                        }\r\n\r\n                        if (componnet.componentcode === ReactComponents.DATE) {\r\n                            if (componnet.period) {\r\n                                if (!componnet.windowperiod) {\r\n                                    incompletePropertiesComponent.push(componnet)\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                return null;\r\n            })\r\n            return null;\r\n        })\r\n        if (duplicateComponents.length > 0) {\r\n            const dataArray = [];\r\n            duplicateComponents.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_DUPLICATECOMPONENTSFOUND' }) + dataArray.join(\",\"));\r\n            return false;\r\n        }\r\n        if (invalidComponent.length > 0) {\r\n            const dataArray = [];\r\n            invalidComponent.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_MISSINGCOMPONENTLABEL' }));\r\n            return false;\r\n        }\r\n        if (insufficientMultilingualData.length > 0) {\r\n            const dataArray = [];\r\n            insufficientMultilingualData.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_INSUFFICIENTMULTILINGUALDATA' }) + dataArray.join(\",\"));\r\n            return false;\r\n        }\r\n        if (incompletePropertiesComponent.length > 0) {\r\n            const dataArray = [];\r\n            incompletePropertiesComponent.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDCOMPONENT' }) + dataArray.join(\",\"));\r\n            return false;\r\n        }\r\n        if (this.props.nsampletypecode === SampleType.Masters) {\r\n            if (uniqueComponent.length === 0) {\r\n                const dataArray = [];\r\n                incompletePropertiesComponent.map(item => dataArray.push(item.label));\r\n                toast.warn(this.props.intl.formatMessage({ id: 'IDS_ATLEASTONEFILEDMUSTBEUNIQUE' }) + dataArray.join(\",\"));\r\n                return false;\r\n            }\r\n        }\r\n        // if (invalidRadioComponent.length > 0) {\r\n        //     //console.log(\"invalidComponent:\", invalidComponent);\r\n        //     const dataArray = [];\r\n        //     invalidRadioComponent.map(item => dataArray.push(item.label));\r\n        //     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDRADIOCOMPONENT' })  + dataArray.join(\",\") );\r\n        //     return false;\r\n        // }\r\n        // if (invalidCheckboxComponent.length > 0) {\r\n        //     //console.log(\"invalidComponent:\", invalidComponent);\r\n        //     const dataArray = [];\r\n        //     invalidCheckboxComponent.map(item => dataArray.push(item.label));\r\n        //     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDCHECKBOXCOMPONENT' })  + dataArray.join(\",\") );\r\n        //     return false;\r\n        // }\r\n        // if (invalidReadOnlyComponent.length > 0) {\r\n        //     //console.log(\"invalidComponent:\", invalidComponent);\r\n        //     const dataArray = [];\r\n        //     invalidReadOnlyComponent.map(item => dataArray.push(item.label));\r\n        //     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDREADONLYCOMPONENT' })  + dataArray.join(\",\") );\r\n        //     return false;\r\n        // }\r\n        return true;\r\n    }\r\n\r\n    onChangeAwesomeQueryBuilder = (immutableTree, config) => {\r\n\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n\r\n        let selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        const query = QbUtils.sqlFormat(immutableTree, config);\r\n        selectedFieldRecord['filterquery'] = query;\r\n        selectedFieldRecord['awesomeTree'] = immutableTree\r\n        selectedFieldRecord['awesomeConfig'] = config\r\n\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                // awesomeTree: immutableTree,\r\n                // awesomeConfig: config,\r\n                selectedFieldRecord,\r\n                design\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo)\r\n\r\n    };\r\n\r\n    handlePageChange = (event) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                kendoSkip: event.skip, kendoTake: event.take\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo)\r\n    };\r\n    handleFilterChange = (event) => {\r\n\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n\r\n        let selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        selectedFieldRecord['kendoFilter'] = event.filter\r\n\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                // kendoFilter: event.filter\r\n                selectedFieldRecord,\r\n                design\r\n\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo)\r\n    };\r\n\r\n    handleExecuteClick = (event) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord\r\n        if (selectedFieldRecord['filterquery'] !== \"\" && selectedFieldRecord['filterquery'] !== undefined) {\r\n            const inputparam = {\r\n                component: this.state.selectedFieldRecord,\r\n                userinfo: this.props.Login.userInfo,\r\n                filterquery: selectedFieldRecord['filterquery'].replace('Invalid date', '')\r\n\r\n            }\r\n            this.props.getDynamicFilterExecuteData(inputparam)\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTFILTER\" }));\r\n        }\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps, {\r\n    updateStore, crudMaster,\r\n    getTableColumns, getForeignTableData, getDynamicFilter, getDynamicFilterExecuteData\r\n})(injectIntl(PreRegDesignPopUp))"]},"metadata":{},"sourceType":"module"}