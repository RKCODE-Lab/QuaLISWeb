{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\storagemanagement\\\\RetrieveOrDiposeSample.jsx\";\nimport React from 'react';\nimport { Row, Col, Card, FormGroup, FormLabel } from 'react-bootstrap';\nimport { injectIntl } from 'react-intl';\nimport CustomSwitch from '../../components/custom-switch/custom-switch.component';\nimport FormMultiSelect from '../../components/form-multi-select/form-multi-select.component';\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\nimport FormNumericInput from '../../components/form-numeric-input/form-numeric-input.component';\nimport { toast } from 'react-toastify';\nimport Axios from 'axios';\nimport { constructOptionList, onDropAttachFileList, deleteAttachmentDropZone } from '../../components/CommonScript';\nimport rsapi from '../../rsapi';\nimport Preloader from '../../components/preloader/preloader.component';\nimport FormInput from '../../components/form-input/form-input.component';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight, faSearch, faTimes, faArrowDown, faHandPointLeft, faArrowUp, faClone, faPuzzlePiece, faCalculator, faEye, faTrashRestore } from '@fortawesome/free-solid-svg-icons';\nimport { ReadOnlyText } from '../../components/App.styles';\nimport TestPopOver from '../ResultEntryBySample/TestPopOver';\nimport DropZone from '../../components/dropzone/dropzone.component';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { connect } from 'react-redux';\nimport { updateStore } from '../../actions';\n\nclass RetrieveOrDiposeSample extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        if (!event.target.checked) {\n          selectedRecord['nunitcode'] && delete selectedRecord['nunitcode'];\n          selectedRecord['nquantity'] && delete selectedRecord['nquantity'];\n          selectedRecord['saliquotsampleid'] && delete selectedRecord['saliquotsampleid'];\n        }\n\n        selectedRecord[event.target.name] = event.target.checked;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.props.childDataChange(selectedRecord);\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onDropFile = (attachedFiles, fieldName, maxSize) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize);\n      this.setState({\n        selectedRecord,\n        actionType: \"new\"\n      });\n    };\n\n    this.deleteAttachment = (event, file, fieldName) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file);\n      this.setState({\n        selectedRecord,\n        actionType: \"delete\" //fileToDelete:file.name \n\n      });\n    };\n\n    this.onNumericInputChange = (value, field) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      let constantvalue = value.target.value;\n\n      if (!isNaN(constantvalue)) {\n        selectedRecord[field] = constantvalue;\n        this.props.childDataChange(selectedRecord);\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = comboData;\n      this.props.childDataChange(selectedRecord);\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.state = {\n      selectedRecord: this.props.selectedRecord,\n      dynamicfields: this.props.dynamicfields\n    };\n  }\n\n  getSelectedBarcodeData(e, inputParam) {\n    if (e.keyCode === 13) {\n      this.setState({\n        loading: true\n      });\n      let selectedRecord = this.state.selectedRecord || {};\n      let urlArray = [];\n      const url1 = rsapi.post(\"/samplestorageretrieval/getSelectedBarcodeData\", {\n        // nprojecttypecode: this.state.selectedBarcodeValue.nprojecttypecode,\n        spositionvalue: inputParam.spositionvalue,\n        userinfo: this.props.userInfo\n      });\n      urlArray = [url1];\n      Axios.all(urlArray).then(response => {\n        let dynamicfields = [];\n        dynamicfields = [{\n          \"idsName\": \"IDS_SAMPLEID\",\n          \"dataField\": \"spositionvalue\",\n          \"width\": \"200px\",\n          \"staticField\": true\n        }, {\n          \"idsName\": \"IDS_POSITION\",\n          \"dataField\": \"sposition\",\n          \"width\": \"200px\",\n          \"staticField\": true\n        }, {\n          \"idsName\": \"IDS_QUANTITY\",\n          \"dataField\": \"nquantity\",\n          \"width\": \"200px\",\n          \"staticField\": true\n        }, {\n          \"idsName\": \"IDS_UNIT\",\n          \"dataField\": \"sunitname\",\n          \"width\": \"200px\",\n          \"staticField\": true\n        }];\n        const temparray2 = response[0].data['selectedProjectTypeList'] && response[0].data['selectedProjectTypeList'].map(option => {\n          return {\n            \"idsName\": option.sfieldname,\n            \"dataField\": option.sfieldname,\n            \"width\": \"200px\"\n          };\n        });\n        dynamicfields = [...dynamicfields, ...temparray2];\n        this.setState({\n          dynamicfields,\n          selectedBarcodeValue: { ...response[0].data['selectedBarcodeValue']\n          },\n          loading: false\n        });\n      }).catch(error => {\n        this.setState({\n          loading: false\n        });\n\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          this.setState({\n            dynamicfields: [],\n            selectedBarcodeValue: {}\n          });\n          toast.info(error.response.data);\n        }\n      });\n    }\n  }\n\n  componentDidUpdate(previousProps) {\n    let {\n      selectedRecord,\n      dynamicfields\n    } = this.state;\n    let bool = false;\n\n    if (this.props.dynamicfields !== previousProps.dynamicfields) {\n      bool = true;\n      dynamicfields = this.props.dynamicfields || {};\n    }\n\n    if (this.props.selectedRecord !== previousProps.selectedRecord) {\n      bool = true;\n      selectedRecord = this.props.selectedRecord || {};\n    }\n\n    if (bool) {\n      this.setState({\n        selectedRecord,\n        dynamicfields\n      });\n    }\n  }\n\n  render() {\n    const retrieve = this.props.controlMap.has(\"Retrieve\") && this.props.controlMap.get(\"Retrieve\").ncontrolcode;\n    const dispose = this.props.controlMap.has(\"Dispose\") && this.props.controlMap.get(\"Dispose\").ncontrolcode;\n    return /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, this.props.importRetrieveOrDispose ? \"\" : /*#__PURE__*/React.createElement(FormInput, {\n      name: 'spositionvalue',\n      label: this.props.intl.formatMessage({\n        id: \"IDS_SAMPLEID\"\n      }),\n      placeholder: this.props.intl.formatMessage({\n        id: \"IDS_SAMPLEID\"\n      }),\n      value: this.state.selectedRecord['spositionvalue'] ? this.state.selectedRecord['spositionvalue'] : \"\",\n      maxLength: 20,\n      isMandatory: true,\n      onKeyDown: event => this.getSelectedBarcodeData(event, this.state.selectedRecord),\n      onChange: event => this.onInputOnChange(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      style: {\n        float: \"right\",\n        marginRight: \"1rem\"\n      },\n      onClick: () => this.props.CRUDSampleStorageTransaction({\n        sunitname: this.state.selectedRecord.nunitcode ? this.state.selectedRecord.nunitcode.label : \"NA\",\n        saliquotsampleid: this.state.selectedRecord.saliquotsampleid && this.state.selectedRecord.saliquotsampleid !== \"\" ? this.state.selectedRecord.saliquotsampleid : \"\",\n        nquantity: this.state.selectedRecord.nquantity && this.state.selectedRecord.nquantity !== \"\" ? this.state.selectedRecord.nquantity : 0,\n        ncontrolcode: retrieve,\n        'nsamplestoragetransactioncode': this.state.selectedBarcodeValue && this.state.selectedBarcodeValue.nsamplestoragetransactioncode,\n        userinfo: this.props.userInfo,\n        scomments: this.state.selectedRecord.scomments && this.state.selectedRecord.scomments !== \"\" ? this.state.selectedRecord.scomments : \"-\",\n        isRetrieve: true,\n        spositionvalue: this.state.selectedRecord.spositionvalue,\n        nneedaliquot: this.state.selectedRecord.nneedaliquot && this.state.selectedRecord.nneedaliquot ? true : false,\n        nunitcode: this.state.selectedRecord.nunitcode && this.state.selectedRecord.nunitcode !== \"\" ? this.state.selectedRecord.nunitcode : 0,\n        importRetrieveOrDispose: this.props.importRetrieveOrDispose ? true : false\n      }, 'create'),\n      hidden: this.props.userRoleControlRights.indexOf(retrieve) === -1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashRestore,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 29\n      }\n    }), \"  \", this.props.intl.formatMessage({\n      id: \"IDS_RETRIEVE\"\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      style: {\n        float: \"right\",\n        marginRight: \"1rem\"\n      },\n      onClick: () => this.props.CRUDSampleStorageTransaction({\n        sunitname: this.state.selectedRecord.nunitcode ? this.state.selectedRecord.nunitcode.label : \"NA\",\n        saliquotsampleid: this.state.selectedRecord.saliquotsampleid && this.state.selectedRecord.saliquotsampleid !== \"\" ? this.state.selectedRecord.saliquotsampleid : \"\",\n        nquantity: this.state.selectedRecord.nquantity && this.state.selectedRecord.nquantity !== \"\" ? this.state.selectedRecord.nquantity : 0,\n        ncontrolcode: dispose,\n        'nsamplestoragetransactioncode': this.state.selectedBarcodeValue && this.state.selectedBarcodeValue.nsamplestoragetransactioncode,\n        userinfo: this.props.userInfo,\n        scomments: this.state.selectedRecord.scomments && this.state.selectedRecord.scomments !== \"\" ? this.state.selectedRecord.scomments : \"-\",\n        isRetrieve: false,\n        spositionvalue: this.state.selectedRecord.spositionvalue,\n        nneedaliquot: this.state.selectedRecord.nneedaliquot && this.state.selectedRecord.nneedaliquot ? true : false,\n        importRetrieveOrDispose: this.props.importRetrieveOrDispose ? true : false\n      }, 'create'),\n      hidden: this.props.userRoleControlRights.indexOf(dispose) === -1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 29\n      }\n    }), \"  \", this.props.intl.formatMessage({\n      id: \"IDS_DISPOSE\"\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }\n    }, this.props.importRetrieveOrDispose ? /*#__PURE__*/React.createElement(DropZone, {\n      name: \"sfilename\",\n      label: this.props.intl.formatMessage({\n        id: \"IDS_FILENAME\"\n      }),\n      isMandatory: true,\n      maxFiles: \"1\",\n      minSize: 0,\n      maxSize: this.props.maxSize,\n      accept: \".xlsx, .xls\",\n      onDrop: event => this.onDropFile(event, \"sfilename\", \"1\"),\n      actionType: this.props.actionType,\n      deleteAttachment: this.deleteAttachment,\n      multiple: this.props.multiple,\n      editFiles: this.props.selectedRecord ? this.props.selectedRecord : {},\n      attachmentTypeCode: this.props.editFiles && this.props.editFiles.nattachmenttypecode,\n      fileSizeName: \"nfilesize\",\n      fileName: \"sfilename\" // disabled={disabled}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 21\n      }\n    }) : \"\")), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 21\n      }\n    }, this.props.importRetrieveOrDispose ? \"\" : /*#__PURE__*/React.createElement(FormInput, {\n      name: 'scomments',\n      label: this.props.intl.formatMessage({\n        id: \"IDS_COMMENTS\"\n      }),\n      placeholder: this.props.intl.formatMessage({\n        id: \"IDS_COMMENTS\"\n      }),\n      value: this.state.selectedRecord['scomments'] ? this.state.selectedRecord['scomments'] : \"\",\n      maxLength: 255,\n      onChange: event => this.onInputOnChange(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 21\n      }\n    }, this.props.importRetrieveOrDispose ? \"\" : /*#__PURE__*/React.createElement(CustomSwitch, {\n      id: \"nneedaliquot\",\n      name: \"nneedaliquot\",\n      type: \"switch\",\n      label: this.props.intl.formatMessage({\n        id: \"IDS_INPUTFORALIQUOTSAMPLE\"\n      }),\n      className: \"custom-switch-md\",\n      checked: this.state.selectedRecord && this.state.selectedRecord[\"nneedaliquot\"] ? true : false,\n      onChange: this.onInputOnChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 25\n      }\n    }))), this.state.selectedRecord[\"nneedaliquot\"] && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormInput, {\n      name: 'saliquotsampleid',\n      label: this.props.intl.formatMessage({\n        id: \"IDS_NEWSAMPLEID\"\n      }),\n      placeholder: this.props.intl.formatMessage({\n        id: \"IDS_NEWSAMPLEID\"\n      }),\n      value: this.state.selectedRecord['saliquotsampleid'] ? this.state.selectedRecord['saliquotsampleid'] : \"\",\n      maxLength: 20,\n      isMandatory: true,\n      onChange: event => this.onInputOnChange(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 29\n      }\n    }, \" \", /*#__PURE__*/React.createElement(TestPopOver, {\n      intl: this.props.intl,\n      needIcon: true,\n      needPopoverTitleContent: true,\n      placement: \"right\",\n      stringList: ['The Sample will be Restored to the Same Position'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 42\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormInput, {\n      label: this.props.intl.formatMessage({\n        id: \"IDS_QUANTITY\"\n      }),\n      name: \"nquantity\",\n      type: \"numeric\",\n      onChange: event => this.onNumericInputChange(event, 'nquantity'),\n      placeholder: this.props.intl.formatMessage({\n        id: \"IDS_QUANTITY\"\n      }),\n      value: this.state.selectedRecord[\"nquantity\"] ? this.state.selectedRecord[\"nquantity\"] || [] : [],\n      isMandatory: true,\n      required: true,\n      maxLength: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormSelectSearch, {\n      name: \"nunitcode\",\n      as: \"select\",\n      onChange: event => this.onComboChange(event, 'nunitcode'),\n      formLabel: this.props.intl.formatMessage({\n        id: \"IDS_UNITNAME\"\n      }),\n      isMandatory: true,\n      value: this.state.selectedRecord[\"nunitcode\"] ? this.state.selectedRecord[\"nunitcode\"] || [] : [],\n      options: this.props.unitMapList ? this.props.unitMapList : [],\n      optionId: \"value\",\n      optionValue: \"label\",\n      isMulti: false,\n      isDisabled: false,\n      isSearchable: false,\n      isClearable: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 33\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 17\n      }\n    }, this.state.dynamicfields && this.state.dynamicfields.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      className: \" mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        display: \"inline-block\",\n        marginTop: \"1%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 41\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_SAMPLEINFO\"\n    })))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 37\n      }\n    }, this.state.dynamicfields && this.state.dynamicfields.map((item, index) => {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n        md: 6,\n        key: `specInfo_${index}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(FormLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 65\n        }\n      }, item.hasOwnProperty('staticField') ? this.props.intl.formatMessage({\n        id: item.idsName\n      }) : item.idsName, \"  \"), /*#__PURE__*/React.createElement(ReadOnlyText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 65\n        }\n      }, this.state.selectedBarcodeValue[item.dataField] === \"\" || this.state.selectedBarcodeValue[item.dataField] === undefined || this.state.selectedBarcodeValue[item.dataField] === null ? \"-\" : this.state.selectedBarcodeValue[item.dataField]))));\n    })))))));\n  } //     componentWillUnmount() {\n  //         if(this.props.importRetrieveOrDispose && !this.props.loadEsign){\n  // //         let inputParam={};\n  // // if(this.props.importRetrieveOrDispose && this.props.loadEsign && this.props.isRetrieveOrDispose ){\n  // //     inputParam={openModal:true};\n  // // }else if (this.props.isRetrieveOrDispose ){\n  // //     inputParam={importRetrieveOrDispose:false,openModal:false};\n  // // }\n  // const updateInfo = {\n  //     typeName: DEFAULT_RETURN,\n  //     data: {\n  //         importRetrieveOrDispose:false,\n  //         isRetrieveOrDispose:false\n  // }\n  // }\n  // this.props.updateStore(updateInfo);\n  // }\n  //     }\n\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  updateStore\n})(injectIntl(RetrieveOrDiposeSample));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/storagemanagement/RetrieveOrDiposeSample.jsx"],"names":["React","Row","Col","Card","FormGroup","FormLabel","injectIntl","CustomSwitch","FormMultiSelect","FormSelectSearch","FormNumericInput","toast","Axios","constructOptionList","onDropAttachFileList","deleteAttachmentDropZone","rsapi","Preloader","FormInput","FontAwesomeIcon","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faBoxOpen","faBox","faLocationArrow","faFolderMinus","faFolder","faFolderOpen","faArrowRight","faSearch","faTimes","faArrowDown","faHandPointLeft","faArrowUp","faClone","faPuzzlePiece","faCalculator","faEye","faTrashRestore","ReadOnlyText","TestPopOver","DropZone","DEFAULT_RETURN","connect","updateStore","RetrieveOrDiposeSample","Component","constructor","props","onInputOnChange","event","selectedRecord","state","target","type","checked","name","value","childDataChange","setState","onDropFile","attachedFiles","fieldName","maxSize","actionType","deleteAttachment","file","onNumericInputChange","field","constantvalue","isNaN","onComboChange","comboData","dynamicfields","getSelectedBarcodeData","e","inputParam","keyCode","loading","urlArray","url1","post","spositionvalue","userinfo","userInfo","all","then","response","temparray2","data","map","option","sfieldname","selectedBarcodeValue","catch","error","status","message","info","componentDidUpdate","previousProps","bool","render","retrieve","controlMap","has","get","ncontrolcode","dispose","importRetrieveOrDispose","intl","formatMessage","id","float","marginRight","CRUDSampleStorageTransaction","sunitname","nunitcode","label","saliquotsampleid","nquantity","nsamplestoragetransactioncode","scomments","isRetrieve","nneedaliquot","userRoleControlRights","indexOf","multiple","editFiles","nattachmenttypecode","unitMapList","length","display","marginTop","item","index","hasOwnProperty","idsName","dataField","undefined","mapStateToProps","Login"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Row, Col, Card, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { injectIntl } from 'react-intl';\r\nimport CustomSwitch from '../../components/custom-switch/custom-switch.component';\r\nimport FormMultiSelect from '../../components/form-multi-select/form-multi-select.component';\r\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\r\nimport FormNumericInput from '../../components/form-numeric-input/form-numeric-input.component';\r\nimport { toast } from 'react-toastify';\r\nimport Axios from 'axios';\r\nimport { constructOptionList,onDropAttachFileList,deleteAttachmentDropZone } from '../../components/CommonScript';\r\nimport rsapi from '../../rsapi';\r\nimport Preloader from '../../components/preloader/preloader.component';\r\nimport FormInput from '../../components/form-input/form-input.component';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight, faSearch, faTimes, faArrowDown, faHandPointLeft, faArrowUp, faClone, faPuzzlePiece, faCalculator, faEye, faTrashRestore } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { ReadOnlyText } from '../../components/App.styles';\r\nimport TestPopOver from '../ResultEntryBySample/TestPopOver';\r\nimport DropZone from '../../components/dropzone/dropzone.component';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { connect } from 'react-redux';\r\nimport { updateStore} from '../../actions';\r\n\r\n\r\nclass RetrieveOrDiposeSample extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            selectedRecord: this.props.selectedRecord,\r\n            dynamicfields: this.props.dynamicfields\r\n        }\r\n    }\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (!event.target.checked) {\r\n                selectedRecord['nunitcode'] && delete selectedRecord['nunitcode']\r\n                selectedRecord['nquantity'] && delete selectedRecord['nquantity']\r\n                selectedRecord['saliquotsampleid'] && delete selectedRecord['saliquotsampleid']\r\n            }\r\n            selectedRecord[event.target.name] = event.target.checked\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.props.childDataChange(selectedRecord);\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onDropFile = (attachedFiles, fieldName, maxSize) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\" //fileToDelete:file.name \r\n        });\r\n    }\r\n    onNumericInputChange = (value, field) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let constantvalue = value.target.value;\r\n        if (!isNaN(constantvalue)) {\r\n            selectedRecord[field] = constantvalue;\r\n            this.props.childDataChange(selectedRecord);\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n        this.props.childDataChange(selectedRecord);\r\n        this.setState({ selectedRecord });\r\n    }\r\n    getSelectedBarcodeData(e, inputParam) {\r\n        if (e.keyCode === 13) {\r\n            this.setState({ loading: true })\r\n            let selectedRecord = this.state.selectedRecord || {};\r\n            let urlArray = [];\r\n            const url1 = rsapi.post(\"/samplestorageretrieval/getSelectedBarcodeData\", {\r\n                // nprojecttypecode: this.state.selectedBarcodeValue.nprojecttypecode,\r\n                spositionvalue: inputParam.spositionvalue,\r\n                userinfo: this.props.userInfo\r\n            });\r\n            urlArray = [url1];\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let dynamicfields = [];\r\n                    dynamicfields = [{ \"idsName\": \"IDS_SAMPLEID\", \"dataField\": \"spositionvalue\", \"width\": \"200px\", \"staticField\": true },\r\n                    { \"idsName\": \"IDS_POSITION\", \"dataField\": \"sposition\", \"width\": \"200px\", \"staticField\": true },\r\n                    { \"idsName\": \"IDS_QUANTITY\", \"dataField\": \"nquantity\", \"width\": \"200px\", \"staticField\": true },\r\n                    { \"idsName\": \"IDS_UNIT\", \"dataField\": \"sunitname\", \"width\": \"200px\", \"staticField\": true }];\r\n                    const temparray2 = response[0].data['selectedProjectTypeList'] && response[0].data['selectedProjectTypeList'].map((option) => {\r\n                        return { \"idsName\": option.sfieldname, \"dataField\": option.sfieldname, \"width\": \"200px\" };\r\n                    });\r\n                    dynamicfields = [...dynamicfields, ...temparray2]\r\n                    this.setState({\r\n                        dynamicfields,\r\n                        selectedBarcodeValue: { ...response[0].data['selectedBarcodeValue'] },\r\n                        loading: false\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        this.setState({\r\n                            dynamicfields: [],\r\n                            selectedBarcodeValue: {}\r\n                        })\r\n                        toast.info(error.response.data);\r\n                    }\r\n\r\n                })\r\n        }\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n        let { selectedRecord , dynamicfields\r\n        } = this.state\r\n        let bool = false;\r\n\r\n        if (this.props.dynamicfields !== previousProps.dynamicfields) {\r\n            bool = true;\r\n            dynamicfields = this.props.dynamicfields || {};\r\n        }\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n            bool = true;\r\n            selectedRecord = this.props.selectedRecord || {};\r\n        }\r\n        if (bool) {\r\n            this.setState({\r\n                selectedRecord , dynamicfields\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const retrieve = this.props.controlMap.has(\"Retrieve\") && this.props.controlMap.get(\"Retrieve\").ncontrolcode;\r\n        const dispose = this.props.controlMap.has(\"Dispose\") && this.props.controlMap.get(\"Dispose\").ncontrolcode;\r\n\r\n        return (\r\n            <Col md={12}>\r\n                <Row>\r\n                    <Col md={6}>\r\n                        {this.props.importRetrieveOrDispose?\"\":\r\n                        <FormInput\r\n                            name={'spositionvalue'}\r\n                            label={this.props.intl.formatMessage({ id: \"IDS_SAMPLEID\" })}\r\n                            placeholder={this.props.intl.formatMessage({ id: \"IDS_SAMPLEID\" })}\r\n                            value={this.state.selectedRecord['spositionvalue']\r\n                                ? this.state.selectedRecord['spositionvalue'] : \"\"}\r\n                            maxLength={20}\r\n                            isMandatory={true}\r\n                            onKeyDown={(event) => this.getSelectedBarcodeData(event, this.state.selectedRecord)}\r\n                            onChange={(event) => this.onInputOnChange(event)}\r\n                        />}\r\n                    </Col>\r\n                    <Col md={3}>\r\n                        <button className=\"btn btn-primary\" style={{ float: \"right\", marginRight: \"1rem\" }}\r\n                            onClick={() => this.props.CRUDSampleStorageTransaction({\r\n                                sunitname: this.state.selectedRecord.nunitcode ? this.state.selectedRecord.nunitcode.label : \"NA\",\r\n                                saliquotsampleid: this.state.selectedRecord.saliquotsampleid\r\n                                    && this.state.selectedRecord.saliquotsampleid !== \"\"\r\n                                    ? this.state.selectedRecord.saliquotsampleid : \"\",\r\n                                nquantity: this.state.selectedRecord.nquantity\r\n                                    && this.state.selectedRecord.nquantity !== \"\"\r\n                                    ? this.state.selectedRecord.nquantity : 0,\r\n                                ncontrolcode: retrieve,\r\n                                'nsamplestoragetransactioncode': this.state.selectedBarcodeValue && this.state.selectedBarcodeValue.nsamplestoragetransactioncode,\r\n                                userinfo: this.props.userInfo,\r\n                                scomments: this.state.selectedRecord.scomments && this.state.selectedRecord.scomments !== \"\"\r\n                                    ? this.state.selectedRecord.scomments : \"-\",\r\n                                isRetrieve: true,\r\n                                spositionvalue: this.state.selectedRecord.spositionvalue,\r\n                                nneedaliquot: this.state.selectedRecord.nneedaliquot &&\r\n                                    this.state.selectedRecord.nneedaliquot ? true : false,\r\n                                nunitcode: this.state.selectedRecord.nunitcode && this.state.selectedRecord.nunitcode !== \"\"\r\n                                    ? this.state.selectedRecord.nunitcode : 0,\r\n                                importRetrieveOrDispose  : this.props.importRetrieveOrDispose?true:false\r\n                            }, 'create')}\r\n                            hidden={this.props.userRoleControlRights.indexOf(retrieve) === -1}\r\n                        >\r\n                            <FontAwesomeIcon icon={faTrashRestore}></FontAwesomeIcon>{\"  \"}\r\n                            {this.props.intl.formatMessage({ id: \"IDS_RETRIEVE\" })}\r\n\r\n\r\n                        </button>\r\n                    </Col>\r\n                    <Col md={3}>\r\n                        <button className=\"btn btn-primary\" style={{ float: \"right\", marginRight: \"1rem\" }}\r\n                            onClick={() => this.props.CRUDSampleStorageTransaction({\r\n                                sunitname: this.state.selectedRecord.nunitcode ? this.state.selectedRecord.nunitcode.label : \"NA\",\r\n                                saliquotsampleid: this.state.selectedRecord.saliquotsampleid\r\n                                    && this.state.selectedRecord.saliquotsampleid !== \"\"\r\n                                    ? this.state.selectedRecord.saliquotsampleid : \"\",\r\n                                nquantity: this.state.selectedRecord.nquantity\r\n                                    && this.state.selectedRecord.nquantity !== \"\"\r\n                                    ? this.state.selectedRecord.nquantity : 0,\r\n                                ncontrolcode: dispose,\r\n                                'nsamplestoragetransactioncode': this.state.selectedBarcodeValue && this.state.selectedBarcodeValue.nsamplestoragetransactioncode,\r\n                                userinfo: this.props.userInfo,\r\n                                scomments: this.state.selectedRecord.scomments && this.state.selectedRecord.scomments !== \"\"\r\n                                    ? this.state.selectedRecord.scomments : \"-\",\r\n                                isRetrieve: false,\r\n                                spositionvalue: this.state.selectedRecord.spositionvalue,\r\n                                nneedaliquot: this.state.selectedRecord.nneedaliquot &&\r\n                                    this.state.selectedRecord.nneedaliquot ? true : false,\r\n                                importRetrieveOrDispose  : this.props.importRetrieveOrDispose?true:false\r\n                            }, 'create')}\r\n                            hidden={this.props.userRoleControlRights.indexOf(dispose) === -1}\r\n                        >\r\n                            <FontAwesomeIcon icon={faTrashAlt}></FontAwesomeIcon>{\"  \"}\r\n                            {this.props.intl.formatMessage({ id: \"IDS_DISPOSE\" })}\r\n\r\n                        </button>\r\n                    </Col>\r\n                </Row>\r\n               \r\n                <Row>\r\n            <Col md=\"12\">\r\n            {this.props.importRetrieveOrDispose?\r\n                    <DropZone\r\n                        name={\"sfilename\"}\r\n                        label={this.props.intl.formatMessage({ id: \"IDS_FILENAME\" })}\r\n                        isMandatory={true}\r\n                        maxFiles={\"1\"}\r\n                        minSize={0}\r\n                        maxSize={this.props.maxSize}\r\n                        accept={\".xlsx, .xls\"}\r\n                        onDrop={(event) => this.onDropFile(event, \"sfilename\", \"1\")}\r\n                        actionType={this.props.actionType}\r\n                        deleteAttachment={this.deleteAttachment}\r\n                        multiple={this.props.multiple}\r\n                        editFiles={this.props.selectedRecord ? this.props.selectedRecord : {}}\r\n                        attachmentTypeCode={this.props.editFiles && this.props.editFiles.nattachmenttypecode}\r\n                        fileSizeName=\"nfilesize\"\r\n                        fileName=\"sfilename\"\r\n                       // disabled={disabled}\r\n                    />\r\n                    :\"\"}\r\n            </Col>\r\n        </Row>\r\n                <Row>\r\n                    <Col md={6}>\r\n                    {this.props.importRetrieveOrDispose?\"\":\r\n                        <FormInput\r\n                            name={'scomments'}\r\n                            label={this.props.intl.formatMessage({ id: \"IDS_COMMENTS\" })}\r\n                            placeholder={this.props.intl.formatMessage({ id: \"IDS_COMMENTS\" })}\r\n                            value={this.state.selectedRecord['scomments']\r\n                                ? this.state.selectedRecord['scomments'] : \"\"}\r\n                            maxLength={255}\r\n                            onChange={(event) => this.onInputOnChange(event)}\r\n                        />}\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={12}>\r\n                    {this.props.importRetrieveOrDispose?\"\":\r\n                        <CustomSwitch\r\n                            id={\"nneedaliquot\"}\r\n                            name={\"nneedaliquot\"}\r\n                            type={\"switch\"}\r\n                            label={this.props.intl.formatMessage({ id: \"IDS_INPUTFORALIQUOTSAMPLE\" })}\r\n                            className={\"custom-switch-md\"}\r\n                            checked={this.state.selectedRecord && this.state.selectedRecord[\"nneedaliquot\"] ? true : false}\r\n                            onChange={this.onInputOnChange}\r\n                        />\r\n    }\r\n                    </Col>\r\n                </Row>\r\n                {this.state.selectedRecord[\"nneedaliquot\"] &&\r\n                    <>\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <FormInput\r\n                                    name={'saliquotsampleid'}\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_NEWSAMPLEID\" })}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_NEWSAMPLEID\" })}\r\n                                    value={this.state.selectedRecord['saliquotsampleid']\r\n                                        ? this.state.selectedRecord['saliquotsampleid'] : \"\"}\r\n                                    maxLength={20}\r\n                                    isMandatory={true}\r\n                                    onChange={(event) => this.onInputOnChange(event)}\r\n                                />\r\n                            </Col>\r\n                            <Col md={6}> <TestPopOver intl={this.props.intl} needIcon={true} needPopoverTitleContent={true}\r\n                                placement=\"right\" stringList={['The Sample will be Restored to the Same Position']}\r\n                            ></TestPopOver></Col>\r\n\r\n                        </Row>\r\n\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <FormInput\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_QUANTITY\" })}\r\n                                    name={\"nquantity\"}\r\n                                    type=\"numeric\"\r\n                                    onChange={(event) => this.onNumericInputChange(event, 'nquantity')}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_QUANTITY\" })}\r\n                                    value={this.state.selectedRecord[\"nquantity\"] ? this.state.selectedRecord[\"nquantity\"] || [] : []}\r\n                                    isMandatory={true}\r\n                                    required={true}\r\n                                    maxLength={\"5\"} \r\n                                />\r\n                            </Col >\r\n                            <Col md={6}>\r\n                                <FormSelectSearch\r\n                                    name={\"nunitcode\"}\r\n                                    as={\"select\"}\r\n                                    onChange={(event) => this.onComboChange(event, 'nunitcode')}\r\n                                    formLabel={this.props.intl.formatMessage({ id: \"IDS_UNITNAME\" })}\r\n                                    isMandatory={true}\r\n                                    value={this.state.selectedRecord[\"nunitcode\"] ? this.state.selectedRecord[\"nunitcode\"] || [] : []}\r\n                                    options={this.props.unitMapList ? this.props.unitMapList : []}\r\n                                    optionId={\"value\"}\r\n                                    optionValue={\"label\"}\r\n                                    isMulti={false}\r\n                                    isDisabled={false}\r\n                                    isSearchable={false}\r\n                                    isClearable={true} />\r\n                            </Col>\r\n                        </Row>\r\n\r\n                    </>\r\n                }\r\n                <Row>\r\n                    {this.state.dynamicfields && this.state.dynamicfields.length > 0 && \r\n                        <div className=' mb-2'>\r\n                            <Card>\r\n                                <Card.Header>\r\n                                    <span style={{ display: \"inline-block\", marginTop: \"1%\" }} >\r\n                                        <h4>{this.props.intl.formatMessage({ id: \"IDS_SAMPLEINFO\" })}</h4>\r\n                                    </span>\r\n                                </Card.Header>\r\n                                <Card.Body>\r\n                                    <Row>\r\n                                        {\r\n                                            this.state.dynamicfields && this.state.dynamicfields.map((item, index) => {\r\n                                                return (\r\n                                                    <>\r\n                                                        <Col md={6} key={`specInfo_${index}`}>\r\n                                                            <FormGroup>\r\n                                                                <FormLabel>{\r\n                                                                    item.hasOwnProperty('staticField') ?\r\n                                                                        this.props.intl.formatMessage({ id: item.idsName }) : item.idsName}  </FormLabel>\r\n                                                                <ReadOnlyText>{this.state.selectedBarcodeValue[item.dataField] === \"\" ||\r\n                                                                    this.state.selectedBarcodeValue[item.dataField] === undefined ||\r\n                                                                    this.state.selectedBarcodeValue[item.dataField] === null ?\r\n                                                                    \"-\" : this.state.selectedBarcodeValue[item.dataField]}</ReadOnlyText>\r\n                                                            </FormGroup>\r\n                                                        </Col>\r\n                                                    </>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </Row>\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </div>}\r\n                </Row>\r\n            </Col>\r\n\r\n        )\r\n    }\r\n//     componentWillUnmount() {\r\n//         if(this.props.importRetrieveOrDispose && !this.props.loadEsign){\r\n// //         let inputParam={};\r\n// // if(this.props.importRetrieveOrDispose && this.props.loadEsign && this.props.isRetrieveOrDispose ){\r\n// //     inputParam={openModal:true};\r\n\r\n// // }else if (this.props.isRetrieveOrDispose ){\r\n// //     inputParam={importRetrieveOrDispose:false,openModal:false};\r\n// // }\r\n// const updateInfo = {\r\n//     typeName: DEFAULT_RETURN,\r\n//     data: {\r\n//         importRetrieveOrDispose:false,\r\n//         isRetrieveOrDispose:false\r\n// }\r\n// }\r\n// this.props.updateStore(updateInfo);\r\n// }\r\n//     }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\nexport default connect(mapStateToProps,{updateStore}) (injectIntl(RetrieveOrDiposeSample));"]},"metadata":{},"sourceType":"module"}