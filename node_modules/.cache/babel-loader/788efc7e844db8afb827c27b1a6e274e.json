{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\testgroup\\\\TestGroupTestTab.jsx\";\nimport React, { Component } from 'react';\nimport { injectIntl } from 'react-intl';\nimport { Row, Col } from 'react-bootstrap';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport TestGroupParameterTab from './TestGroupParameterTab';\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component';\nimport { showEsign, sortData } from '../../components/CommonScript';\nimport Esign from '../audittrail/Esign';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { parameterType, SampleType, transactionStatus } from '../../components/Enumeration';\nimport EditTestGroupParameter from './EditTestGroupParameter';\nimport AddCodedResult from '../testmanagement/AddCodedResult';\nimport FormTextarea from '../../components/form-textarea/form-textarea.component';\nimport AddSpecification from '../testmanagement/AddSpecification';\nimport TemplateForm from '../checklist/checklist/TemplateForm';\nimport { toast } from 'react-toastify';\nimport TestGroupMaterialTab from './TestGroupMaterialTab';\nimport AddTestGroupTestMaterial from './AddTestGroupTestMaterial';\nimport AddTestGroupNumericSpecification from './AddTestGroupNumericSpecification';\nimport ConfirmMessage from \"../../components/confirm-alert/confirm-message.component\";\nimport TestGroupRulesEngineTab from './TestGroupRulesEngineTab';\nimport AddSubCodedResult from '../testmanagement/AddSubCodedResult';\n\nclass TestGroupTestTab extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onTemplateInputChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onTemplateComboChange = (comboData, fieldName) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = comboData;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onTemplateDateChange = (dateName, dateValue) => {\n      const {\n        selectedRecord\n      } = this.state.selectedRecord || {};\n\n      if (dateValue === null) {\n        dateValue = new Date();\n      }\n\n      selectedRecord[dateName] = dateValue;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.handleClose = () => {\n      let updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          selectedRecord: {},\n          testGroupCheckList: {},\n          openTemplateModal: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeModal = () => {\n      if (this.props.screenName === \"IDS_SUBCODEDRESULT\") {\n        //screenName = \"IDS_CODEDRESULT\";\n        //operation = \"update\";\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            operation: \"create\",\n            selectedId: null,\n            openChildModal: true,\n            screenName: \"IDS_CODEDRESULT\"\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        let loadEsign = this.props.loadEsign;\n        let openChildModal = this.props.openChildModal;\n        let selectedRecord = this.props.selectedRecord;\n        let selectedsubcodedresult = this.state.selectedsubcodedresult;\n\n        if (this.props.loadEsign) {\n          if (this.props.operation === \"delete\" || this.props.operation === \"Default\") {\n            loadEsign = false;\n            openChildModal = false;\n            selectedRecord = {};\n          } else {\n            loadEsign = false;\n            selectedRecord[\"agree\"] = 4;\n            selectedRecord['esignpassword'] = \"\";\n            selectedRecord['esigncomments'] = \"\";\n            selectedRecord['esignreason'] = \"\";\n          }\n        } else {\n          openChildModal = false;\n          selectedRecord = {};\n        }\n\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            openChildModal,\n            loadEsign,\n            selectedRecord,\n            selectedsubcodedresult\n          }\n        };\n        this.props.updateStore(updateInfo); //this.setState({selectedsubcodedresult: []}); \n      }\n    };\n\n    this.onTabChange = tabProps => {\n      const screenName = tabProps.screenName;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          screenName\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.EditSpecDetails = (viewdetails, ncontrolCode) => {\n      this.props.addTestGroupNumericTab(\"update\", viewdetails, this.props.userInfo, {\n        testgroupspecification: this.props.masterData.SelectedSpecification\n      }, this.props.masterData, ncontrolCode);\n    };\n\n    this.DeleteSpecDetails = (viewdetails, ncontrolCode) => {\n      this.SpecConfirmDelete(\"delete\", 1, viewdetails, ncontrolCode);\n    };\n\n    this.tabDetail = () => {\n      const tabMap = new Map();\n      tabMap.set(\"IDS_PARAMETER\", /*#__PURE__*/React.createElement(TestGroupParameterTab, {\n        controlMap: this.props.controlMap,\n        userRoleControlRights: this.props.userRoleControlRights,\n        userInfo: this.props.userInfo,\n        inputParam: this.props.inputParam,\n        masterData: this.props.masterData,\n        deleteAction: this.deleteAction,\n        onSwitchChange: this.onSwitchChange,\n        addTestFile: this.props.addTestFile,\n        viewTestFile: this.viewTestFile,\n        defaultRecord: this.defaultRecord,\n        filterData: this.props.filterData,\n        getTestGroupParameter: this.props.getTestGroupParameter,\n        editTestGroupParameter: this.props.editTestGroupParameter,\n        addTestGroupCodedResult: this.props.addTestGroupCodedResult,\n        addTestGroupNumericTab: this.props.addTestGroupNumericTab,\n        viewTestGroupCheckList: this.props.viewTestGroupCheckList,\n        EditSpecDetails: this.EditSpecDetails,\n        DeleteSpecDetails: this.DeleteSpecDetails,\n        dataState: this.props.dataState,\n        dataStateChange: this.props.dataStateChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }\n      }));\n      return tabMap;\n    };\n\n    this.testTabDetail = () => {\n      const tabMap = new Map();\n      tabMap.set(\"IDS_PARAMETER\", /*#__PURE__*/React.createElement(TestGroupParameterTab, {\n        paneHeight: this.props.paneHeight,\n        controlMap: this.props.controlMap,\n        userRoleControlRights: this.props.userRoleControlRights,\n        userInfo: this.props.userInfo,\n        inputParam: this.props.inputParam,\n        masterData: this.props.masterData,\n        deleteAction: this.deleteAction,\n        onSwitchChange: this.onSwitchChange,\n        addTestFile: this.props.addTestFile,\n        viewTestFile: this.viewTestFile,\n        defaultRecord: this.defaultRecord,\n        filterData: this.props.filterData,\n        getTestGroupParameter: this.props.getTestGroupParameter,\n        editTestGroupParameter: this.props.editTestGroupParameter,\n        addTestGroupCodedResult: this.props.addTestGroupCodedResult,\n        subCodedResultView: this.props.subCodedResultView,\n        addTestGroupNumericTab: this.props.addTestGroupNumericTab,\n        viewTestGroupCheckList: this.props.viewTestGroupCheckList,\n        EditSpecDetails: this.EditSpecDetails,\n        DeleteSpecDetails: this.DeleteSpecDetails,\n        hasDynamicColSize: true,\n        dataState: this.props.dataState,\n        dataStateChange: this.props.dataStateChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }\n      }));\n      tabMap.set(\"IDS_MATERIAL\", /*#__PURE__*/React.createElement(TestGroupMaterialTab, {\n        paneHeight: this.props.paneHeight,\n        controlMap: this.props.controlMap,\n        userRoleControlRights: this.props.userRoleControlRights,\n        userInfo: this.props.userInfo,\n        inputParam: this.props.inputParam,\n        masterData: this.props.masterData,\n        ConfirmDelete: this.ConfirmDelete,\n        getDataForTestMaterial: this.props.getDataForTestMaterial,\n        getTestGroupMaterial: this.props.getTestGroupMaterial,\n        getDataForEditTestMaterial: this.props.getDataForEditTestMaterial,\n        selectedRecord: this.state.selectedRecord,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }\n      }));\n      {\n        this.props.isrulesenginerequired && tabMap.set(\"IDS_RULESENGINE\", /*#__PURE__*/React.createElement(TestGroupRulesEngineTab, {\n          paneHeight: this.props.paneHeight,\n          getTestGroupRulesEngineAdd: this.props.getTestGroupRulesEngineAdd,\n          controlMap: this.props.controlMap,\n          userRoleControlRights: this.props.userRoleControlRights,\n          userInfo: this.props.userInfo,\n          selectedRecord: this.state.selectedRecord,\n          masterData: this.props.masterData,\n          settings: this.props.settings,\n          skipRulesEngine: this.props.skipRulesEngine,\n          takeRulesEngine: this.props.takeRulesEngine,\n          getEditTestGroupRulesEngine: this.props.getEditTestGroupRulesEngine,\n          getSelectedTestGroupRulesEngine: this.props.getSelectedTestGroupRulesEngine,\n          ConfirmDeleteRule: this.props.ConfirmDeleteRule,\n          approveVersion: this.props.approveVersion,\n          openflowview: this.props.openflowview,\n          handlePageChangeRuleEngine: this.props.handlePageChangeRuleEngine,\n          viewOutcome: this.props.viewOutcome,\n          filterParamRulesEngine: this.props.filterParamRulesEngine,\n          filterTransactionList: this.props.filterTransactionList,\n          saveExecutionOrder: this.props.saveExecutionOrder,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 17\n          }\n        }));\n      }\n      return tabMap;\n    };\n\n    this.ConfirmDelete = (operation, deleteId, selectedRecord) => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.DeleteTestMaterial(operation, deleteId, selectedRecord));\n    };\n\n    this.SpecConfirmDelete = (operation, deleteId, selectedRecord, ncontrolCode) => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.deleteAction(selectedRecord, \"delete\", ncontrolCode, \"TestGroupAddSpecification\", \"openChildModal\"));\n    };\n\n    this.DeleteTestMaterial = (operation, ncontrolCode) => {\n      let selectedSpecification = this.props.masterData.SelectedSpecification;\n\n      if (selectedSpecification.napprovalstatus === transactionStatus.DRAFT || selectedSpecification.napprovalstatus === transactionStatus.CORRECTION) {\n        let selectedRecord = this.state.selectedRecord;\n        let inputData = [];\n        inputData = {\n          ntreeversiontempcode: this.props.masterData.selectedNode.ntreeversiontempcode\n        };\n        inputData[\"testgrouptestmaterial\"] = {\n          ntestgrouptestmaterialcode: this.props.masterData.selectedMaterial.ntestgrouptestmaterialcode,\n          ntestgrouptestcode: this.props.masterData.selectedMaterial.ntestgrouptestcode\n        };\n        inputData[\"userinfo\"] = this.props.userInfo;\n        const inputParam = {\n          methodUrl: \"TestGroupTestMaterial\",\n          classUrl: this.props.inputParam.classUrl,\n          inputData: inputData,\n          operation: \"delete\"\n        };\n        const masterData = this.props.masterData;\n\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              openModal: true,\n              screenName: \"IDS_TESTGROUPMATERIAL\",\n              operation: operation.operation\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\n        }\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"\n        }));\n      }\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      let inputParam = {}; // if(this.props.screenName === \"IDS_TEST\" \n      //     || this.props.screenName === \"IDS_EDITTESTGROUPTEST\") {\n      //     inputParam = this.onSaveTest(saveType, formRef);\n      // } else \n\n      if (this.props.screenName === \"IDS_FORMULA\") {\n        inputParam = this.onSaveFormula(saveType, formRef);\n      } else if (this.props.screenName === \"IDS_PARAMETER\") {\n        inputParam = this.onSaveParameter(saveType, formRef);\n      } else if (this.props.screenName === \"IDS_CODEDRESULT\") {\n        if (this.state.selectedRecord[\"nneedsubcodedresult\"] === 3 && this.state.selectedsubcodedresult.length > 0 || this.state.selectedRecord[\"nneedsubcodedresult\"] === 4) {\n          inputParam = this.onSaveCodedResult(saveType, formRef);\n        } else {\n          return toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_ADDSUBCODEDRESULT\"\n          }));\n        }\n      } else if (this.props.screenName === \"IDS_SUBCODEDRESULT\") {\n        return this.onSaveSubCodedResult(saveType, formRef);\n      } else if (this.props.screenName === \"IDS_CLINICALSPEC\") {\n        inputParam = this.onSaveSpecification(saveType, formRef);\n      } else if (this.props.screenName === \"IDS_TESTGROUPMATERIAL\") {\n        inputParam = this.onSaveMaterial(saveType, formRef);\n      }\n\n      if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData: this.props.masterData\n            },\n            saveType\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        //(this.props.screenName !== \"IDS_CODEDRESULT\")\n        // if(this.props.submit!==\"SUBCODERESULT\")\n        this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\", {});\n      }\n    };\n\n    this.onSaveParameter = (saveType, formRef) => {\n      const selectedRecord = this.state.selectedRecord;\n      const parameterList = [\"ntestgrouptestparametercode\", \"ntestgrouptestcode\", \"ntestparametercode\", \"sparametersynonym\", \"nroundingdigits\", \"nresultmandatory\", \"nreportmandatory\", \"sspecdesc\", \"nsorter\", \"nisadhocparameter\"];\n      let testGroupTestParameter = {\n        nparametertypecode: selectedRecord.nparametertypecode.value,\n        nunitcode: selectedRecord.nunitcode ? selectedRecord.nunitcode.value : -1,\n        nchecklistversioncode: selectedRecord.nchecklistversioncode ? selectedRecord.nchecklistversioncode.value : -1\n      };\n      parameterList.map(item => {\n        return testGroupTestParameter[item] = selectedRecord[item] ? selectedRecord[item] : \"\";\n      });\n      let inputData = {\n        testgrouptestparameter: testGroupTestParameter,\n        userinfo: this.props.userInfo\n      };\n\n      if (selectedRecord.nparametertypecode.value === parameterType.NUMERIC) {\n        let testGroupTestNumericParameter = {};\n        const numericList = [\"sminlod\", \"smaxlod\", \"sminb\", \"smina\", \"smaxa\", \"smaxb\", \"sminloq\", \"smaxloq\", \"sdisregard\", \"sresultvalue\"];\n        testGroupTestNumericParameter[\"ntestgrouptestparametercode\"] = selectedRecord.ntestgrouptestparametercode;\n        numericList.map(item => {\n          return testGroupTestNumericParameter[item] = selectedRecord[item] ? selectedRecord[item] === \"0\" ? selectedRecord[item] : selectedRecord[item].replace(/^0+/, '') : null;\n        });\n        inputData[\"testgrouptestnumericparameter\"] = testGroupTestNumericParameter;\n\n        if (selectedRecord.ntestformulacode) {\n          const testFormula = selectedRecord.ntestformulacode.item;\n          const testgrouptestformula = {\n            ntestgrouptestparametercode: selectedRecord.ntestgrouptestparametercode,\n            ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\n            ntestformulacode: testFormula.ntestformulacode,\n            sformulacalculationcode: testFormula.sformulacalculationcode,\n            sformulacalculationdetail: testFormula.sformulacalculationdetail,\n            ntransactionstatus: transactionStatus.YES\n          };\n          inputData[\"testgrouptestformula\"] = testgrouptestformula;\n        } else {\n          inputData[\"testgrouptestformula\"] = null;\n        }\n      } else if (selectedRecord.nparametertypecode.value === parameterType.CHARACTER) {\n        const characterList = [\"ntestgrouptestparametercode\", \"scharname\"];\n        let testGroupTestCharParameter = {};\n        characterList.map(item => {\n          return testGroupTestCharParameter[item] = selectedRecord[item] ? selectedRecord[item] : \"\";\n        });\n        inputData[\"testgrouptestcharparameter\"] = testGroupTestCharParameter;\n      } //  else if (selectedRecord.nparametertypecode.value === parameterType.PREDEFINED) {\n      //     const testGroupTestPredefParameter = {\n      //         ntestgrouptestparametercode: selectedRecord.ntestgrouptestparametercode,\n      //         ngradecode: selectedRecord.ngradecode.value,\n      //         spredefinedname: selectedRecord.spredefinedname,\n      //         ntestgrouptestpredefcode: selectedRecord.ntestgrouptestpredefcode,\n      //         ndefaultstatus: selectedRecord.ndefaultstatus\n      //     }\n      //     inputData[\"testgrouptestpredefparameter\"] = testGroupTestPredefParameter;\n      // }\n\n\n      console.log(\"input data:\", inputData);\n      const inputParam = {\n        inputData,\n        classUrl: \"testgroup\",\n        operation: \"update\",\n        methodUrl: \"TestGroupParameter\",\n        saveType,\n        formRef,\n        searchRef: this.searchRef,\n        postParam: {\n          inputListName: \"TestGroupTest\",\n          selectedObject: \"SelectedTest\",\n          primaryKeyField: \"ntestgrouptestcode\",\n          primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          fetchUrl: \"testgroup/getTestGroupTest\",\n          fecthInputObject: {\n            userinfo: this.props.userInfo\n          },\n          masterData: this.props.masterData,\n          searchFieldList: this.searchFieldList\n        }\n      };\n      return inputParam;\n    };\n\n    this.onSaveFormula = (saveType, formRef) => {\n      const masterData = this.props.masterData;\n      const selectedRecord = this.state.selectedRecord;\n      const selectedParameter = masterData.selectedParameter;\n      const testFormulaArray = selectedRecord.ntestformulacode.map(test => {\n        return {\n          ntestgrouptestcode: selectedParameter.ntestgrouptestcode,\n          ntestgrouptestparametercode: selectedParameter.ntestgrouptestparametercode,\n          ntestformulacode: test.item.ntestformulacode,\n          sformulacalculationcode: test.item.sformulacalculationcode,\n          sformulacalculationdetail: test.item.sformulacalculationdetail,\n          ntransactionstatus: transactionStatus.NO\n        };\n      });\n      const inputData = {\n        testgroupspecification: masterData.SelectedSpecification,\n        testgrouptestformula: testFormulaArray,\n        userinfo: this.props.userInfo\n      };\n      const inputParam = {\n        inputData,\n        classUrl: \"testgroup\",\n        operation: this.props.operation,\n        methodUrl: \"TestGroupTestFormula\",\n        saveType,\n        formRef,\n        searchRef: this.searchRef,\n        postParam: {\n          inputListName: \"TestGroupTest\",\n          selectedObject: \"SelectedTest\",\n          primaryKeyField: \"ntestgrouptestcode\",\n          primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          fetchUrl: \"testgroup/getTestGroupTest\",\n          fecthInputObject: {\n            userinfo: this.props.userInfo\n          },\n          masterData: this.props.masterData,\n          searchFieldList: this.searchFieldList\n        }\n      };\n      return inputParam;\n    };\n\n    this.onSaveCodedResult = (saveType, formRef) => {\n      const selectedRecord = this.state.selectedRecord;\n      const selectedsubcodedresult = this.state.selectedsubcodedresult; //const selectedsubcodedresult = this.state.selectedsubcodedresult;\n\n      const testgroupsubcoded = [];\n      const testGroupPredefParameter = {\n        ndefaultstatus: transactionStatus.NO,\n        nstatus: transactionStatus.ACTIVE,\n        ntestgrouptestpredefcode: selectedRecord[\"ntestgrouptestpredefcode\"],\n        ntestgrouptestparametercode: this.props.masterData.selectedParameter[\"ntestgrouptestparametercode\"],\n        ngradecode: selectedRecord[\"ngradecode\"].value,\n        spredefinedname: selectedRecord[\"spredefinedname\"],\n        //sresultparacomment: selectedRecord[\"sresultparacomment\"],\n        spredefinedsynonym: selectedRecord[\"spredefinedsynonym\"],\n        spredefinedcomments: selectedRecord[\"spredefinedcomments\"],\n        salertmessage: selectedRecord[\"salertmessage\"],\n        nneedresultentryalert: selectedRecord[\"nneedresultentryalert\"],\n        nneedsubcodedresult: selectedRecord[\"nneedsubcodedresult\"],\n        ntestpredefinedcode: this.props.masterData.selectedParameter[\"ntestpredefinedcode\"]\n      };\n      const inputParam = {\n        inputData: {\n          testgrouptestpredefinedparameter: testGroupPredefParameter,\n          userinfo: this.props.userInfo,\n          testgroupspecification: this.props.masterData.SelectedSpecification,\n          testgroupsubcoded: this.state.selectedsubcodedresult,\n          deletetestgroupsubcoded: this.state.selectsubcodedelete,\n          addsubcodedresult: this.state.selectedsubcodedresult.filter(x => !x.hasOwnProperty('ntestgrouptestpredefsubcode')) || []\n        },\n        classUrl: \"testgroup\",\n        operation: this.props.operation,\n        methodUrl: \"TestGroupPredefParameter\",\n        saveType,\n        formRef,\n        searchRef: this.searchRef,\n        postParam: {\n          inputListName: \"TestGroupTest\",\n          selectedObject: \"SelectedTest\",\n          primaryKeyField: \"ntestgrouptestcode\",\n          primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          fetchUrl: \"testgroup/getTestGroupTest\",\n          fecthInputObject: {\n            userinfo: this.props.userInfo\n          },\n          masterData: this.props.masterData,\n          searchFieldList: this.searchFieldList\n        }\n      }; //this.setState({selectedsubcodedresult: []}); \n\n      return inputParam;\n    };\n\n    this.onSaveSubCodedResult = (saveType, formRef) => {\n      // const ssubcodedresult = this.state.selectedRecord[\"ssubcodedresult\"];\n      let selectedsubcodedresult = []; //let addsubcodedresult = [];\n\n      selectedsubcodedresult[\"ssubcodedresult\"] = [];\n      selectedsubcodedresult = this.state.selectedsubcodedresult || []; //addsubcodedresult = this.state.selectedsubcodedresult.filter(x =>!x.hasOwnProperty('ntestgrouptestpredefsubcode') )|| [];\n\n      let ssubcodedresult = this.state.selectedRecord[\"ssubcodedresult\"];\n      selectedsubcodedresult.push({\n        \"ssubcodedresult\": this.state.selectedRecord[\"ssubcodedresult\"]\n      });\n      const selectedRecord = this.state.selectedRecord;\n      delete selectedRecord[\"ssubcodedresult\"];\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          //operation: \"create\", \n          selectedId: null,\n          selectedsubcodedresult,\n          selectedRecord,\n          screenName: \"IDS_CODEDRESULT\",\n          loading: false //,openChildModal: false,,\n          ,\n          submit: \"SUBCODERESULT\"\n        }\n      };\n      this.props.updateStore(updateInfo); //this.setState({ selectedsubcodedresult });\n    };\n\n    this.onSaveSpecification = (saveType, formRef) => {\n      const selectedRecord = this.state.selectedRecord; // if(selectedRecord[\"nfromage\"]<selectedRecord[\"ntoage\"]){\n\n      const TestGroupAddSpecification = {\n        nstatus: transactionStatus.ACTIVE,\n        ntestgrouptestparametercode: this.props.masterData.selectedParameter[\"ntestgrouptestparametercode\"],\n        ngendercode: selectedRecord[\"ngendercode\"].value,\n        nfromage: selectedRecord[\"nfromage\"],\n        ntoage: selectedRecord[\"ntoage\"],\n        shigha: selectedRecord[\"nhigha\"],\n        shighb: selectedRecord[\"nhighb\"],\n        slowa: selectedRecord[\"nlowa\"],\n        slowb: selectedRecord[\"nlowb\"],\n        sresultvalue: selectedRecord[\"sresultvalue\"],\n        ntestgrouptestclinicspeccode: selectedRecord[\"ntestgrouptestclinicspeccode\"]\n      };\n      const inputParam = {\n        inputData: {\n          testgroupaddspecification: TestGroupAddSpecification,\n          userinfo: this.props.userInfo,\n          testgroupspecification: this.props.masterData.SelectedSpecification\n        },\n        classUrl: \"testgroup\",\n        operation: this.props.operation,\n        methodUrl: \"TestGroupAddSpecification\",\n        saveType,\n        formRef,\n        searchRef: this.searchRef,\n        postParam: {\n          inputListName: \"TestGroupTest\",\n          selectedObject: \"SelectedTest\",\n          primaryKeyField: \"ntestgrouptestcode\",\n          primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          fetchUrl: \"testgroup/getTestGroupTest\",\n          fecthInputObject: {\n            userinfo: this.props.userInfo\n          },\n          masterData: this.props.masterData,\n          searchFieldList: this.searchFieldList\n        }\n      };\n      return inputParam; // }else{\n      //     toast.warn(this.props.intl.formatMessage({id: \"IDS_SELECTEDTEMPLATEISRETIRED\"})); \n      // }\n    };\n\n    this.onSaveMaterial = (saveType, formRef) => {\n      const selectedRecord = this.state.selectedRecord;\n      let testGroupTestMaterial = [];\n\n      if (this.props.operation === \"create\") {\n        testGroupTestMaterial = {\n          ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          ntestgrouptestmaterialcode: this.props.masterData.SelectedTest.ntestgrouptestmaterialcode,\n          nmaterialtypecode: selectedRecord[\"nmaterialtypecode\"].item.jsondata.nmaterialtypecode,\n          nmaterialcatcode: selectedRecord[\"nmaterialcatcode\"].value,\n          nmaterialcode: selectedRecord[\"nmaterialcode\"].value,\n          smaterialname: selectedRecord[\"nmaterialcode\"].label,\n          sremarks: selectedRecord[\"sremarks\"],\n          nstatus: transactionStatus.ACTIVE\n        };\n      } else {\n        testGroupTestMaterial = {\n          ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          ntestgrouptestmaterialcode: this.props.masterData.selectedMaterial.ntestgrouptestmaterialcode,\n          nmaterialtypecode: selectedRecord[\"nmaterialtypecode\"].value,\n          nmaterialcatcode: selectedRecord[\"nmaterialcatcode\"].value,\n          nmaterialcode: selectedRecord[\"nmaterialcode\"].value,\n          sremarks: selectedRecord[\"sremarks\"],\n          nstatus: transactionStatus.ACTIVE\n        };\n      }\n\n      const inputParam = {\n        inputData: {\n          testgrouptestmaterial: testGroupTestMaterial,\n          ntreeversiontempcode: this.props.masterData.selectedNode.ntreeversiontempcode,\n          userinfo: this.props.userInfo\n        },\n        classUrl: \"testgroup\",\n        operation: this.props.operation,\n        methodUrl: \"TestGroupTestMaterial\",\n        saveType,\n        formRef,\n        searchRef: this.searchRef,\n        postParam: {\n          inputListName: \"TestGroupTest\",\n          selectedObject: \"SelectedTest\",\n          primaryKeyField: \"ntestgrouptestcode\",\n          primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          fetchUrl: \"testgroup/getTestGroupTest\",\n          fecthInputObject: {\n            userinfo: this.props.userInfo\n          },\n          masterData: this.props.masterData,\n          searchFieldList: this.searchFieldList\n        }\n      };\n      return inputParam;\n    };\n\n    this.deleteTest = deleteParam => {\n      const masterData = this.props.masterData;\n      const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\n      const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;\n\n      if (templateVersionStatus === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTEDTEMPLATEISRETIRED\"\n        }));\n      } else {\n        const testgroupspecification = this.props.masterData.SelectedSpecification;\n\n        if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\n          const screenName = deleteParam.screenName;\n          const inputParam = {\n            inputData: {\n              testgrouptest: deleteParam.selectedRecord,\n              userinfo: this.props.userInfo,\n              testgroupspecification,\n              treetemplatemanipulation: this.props.masterData.selectedNode\n            },\n            classUrl: \"testgroup\",\n            operation: \"delete\",\n            methodUrl: \"Test\",\n            screenName: \"IDS_TEST\",\n            postParam: {\n              inputListName: \"TestGroupTest\",\n              selectedObject: \"SelectedTest\",\n              primaryKeyField: \"ntestgrouptestcode\",\n              primaryKeyValue: deleteParam.selectedRecord.ntestgrouptestcode,\n              fetchUrl: \"testgroup/getTestGroupTest\",\n              fecthInputObject: {\n                userinfo: this.props.userInfo\n              },\n              masterData: this.props.masterData,\n              searchFieldList: this.searchFieldList\n            }\n          };\n          const masterData = this.props.masterData;\n\n          if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                openModal: true,\n                screenName: screenName,\n                operation: deleteParam.operation,\n                selectedRecord: {}\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, masterData, \"openModal\", {});\n          }\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"\n          }));\n        }\n      }\n    };\n\n    this.deleteAction = (item, operation, ncontrolCode, methodUrl, modalName) => {\n      const masterData = this.props.masterData;\n      const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\n      const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;\n\n      if (templateVersionStatus === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTEDTEMPLATEISRETIRED\"\n        }));\n      } else {\n        const selected = item;\n        const inputParam = {\n          inputData: {\n            [methodUrl.toLowerCase()]: selected,\n            userinfo: this.props.userInfo,\n            testgroupspecification: this.props.masterData.SelectedSpecification,\n            deletetestgroupsubcoded: this.state.selectedsubcodedresult\n          },\n          classUrl: \"testgroup\",\n          operation: operation,\n          methodUrl: methodUrl,\n          screenName: \"IDS_TEST\",\n          postParam: {\n            inputListName: \"TestGroupTest\",\n            selectedObject: \"SelectedTest\",\n            primaryKeyField: \"ntestgrouptestcode\",\n            primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n            fetchUrl: \"testgroup/getTestGroupTest\",\n            fecthInputObject: {\n              userinfo: this.props.userInfo\n            },\n            masterData: this.props.masterData,\n            searchFieldList: this.searchFieldList\n          }\n        };\n        const masterData = this.props.masterData;\n\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              [modalName]: true,\n              screenName: \"IDS_TEST\",\n              operation: operation,\n              selectedRecord: {}\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\n        }\n      }\n    };\n\n    this.onSwitchChange = (item, key, methodUrl, event) => {\n      const masterData = this.props.masterData;\n      const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\n      const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;\n\n      if (templateVersionStatus === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTEDTEMPLATEISRETIRED\"\n        }));\n      } else {\n        //NIBSCRT-2236\n        const testgroupspecification = this.props.masterData.SelectedSpecification;\n\n        if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\n          let dataItem = item;\n\n          if (methodUrl === \"TestGroupTestFormula\") {\n            dataItem[\"ntransactionstatus\"] = transactionStatus.YES;\n          } else if (methodUrl === 'TestGroupPredefParameter') {\n            // if(this.props.masterData.SelectedSpecification.napprovalstatus === transactionStatus.DRAFT || this.props.masterData.SelectedSpecification.napprovalstatus === transactionStatus.CORRECTION)\n            // {\n            dataItem['ndefaultstatus'] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO; // }\n            // else{\n            //     return toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\n            // }\n          } else {\n            dataItem[\"ndefaultstatus\"] = transactionStatus.YES;\n          }\n\n          const inputParam = {\n            inputData: {\n              [key]: dataItem,\n              userinfo: this.props.userInfo,\n              testgroupspecification: this.props.masterData.SelectedSpecification\n            },\n            classUrl: \"testgroup\",\n            operation: \"default\",\n            methodUrl: methodUrl\n          };\n          this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\", {});\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"\n          }));\n        }\n      }\n    };\n\n    this.onEsignInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onComboChange = (comboData, fieldName, caseNo) => {\n      let inputData = [];\n      let masterData = { ...this.props.masterData\n      };\n      let inputParam = [];\n      let selectedRecord = this.state.selectedRecord || {};\n\n      switch (caseNo) {\n        case 1:\n          selectedRecord[fieldName] = comboData;\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 2:\n          selectedRecord[\"parameterTypeCode\"] = comboData.value;\n          selectedRecord[fieldName] = comboData;\n          const needRoundingDigit = comboData.value === parameterType.NUMERIC ? false : true;\n          const needUnit = comboData.value === parameterType.NUMERIC ? false : true;\n          selectedRecord[\"nroundingdigits\"] = 0;\n          selectedRecord[\"nunitcode\"] = comboData.value === parameterType.NUMERIC ? this.props.parameterData.defaultUnit : undefined;\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              selectedRecord,\n              testGroupInputData: { ...this.props.testGroupInputData,\n                needRoundingDigit,\n                needUnit\n              }\n            }\n          };\n          this.props.updateStore(updateInfo);\n          break;\n\n        case 3:\n          selectedRecord[\"schecklistversionname\"] = comboData.item.schecklistversionname;\n          selectedRecord[fieldName] = comboData;\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 4:\n          let oldnmaterialtypecode = selectedRecord[\"nmaterialtypecode\"].value ? selectedRecord[\"nmaterialtypecode\"].value : selectedRecord[\"nmaterialtypecode\"];\n\n          if (oldnmaterialtypecode !== comboData.value) {\n            delete selectedRecord['nmaterialcatcode'];\n            delete selectedRecord['nmaterialcode'];\n          }\n\n          selectedRecord[\"nmaterialtypecode\"] = comboData.value;\n          selectedRecord[fieldName] = comboData;\n          inputData = {\n            userinfo: this.props.userInfo,\n            nmaterialtypecode: parseInt(comboData.value)\n          };\n          inputParam = {\n            materialType: this.props.materialType,\n            operation: this.props.operation,\n            masterData,\n            inputData,\n            selectedRecord,\n            screenName: \"IDS_TESTGROUPMATERIAL\",\n            ncontrolCode: this.props.ncontrolCode\n          };\n          this.props.getMaterialCategoryBasedMaterialType(inputParam);\n          break;\n\n        case 5:\n          if (selectedRecord[\"nmaterialcatcode\"]) {\n            let oldnmaterialcatcode = selectedRecord[\"nmaterialcatcode\"].value ? selectedRecord[\"nmaterialcatcode\"].value : selectedRecord[\"nmaterialcatcode\"];\n\n            if (oldnmaterialcatcode !== comboData.value) {\n              delete selectedRecord['nmaterialcode'];\n            }\n          }\n\n          selectedRecord[\"nmaterialcatcode\"] = comboData.value;\n          selectedRecord[fieldName] = comboData;\n          inputData = {\n            userinfo: this.props.userInfo,\n            nmaterialcatcode: parseInt(selectedRecord[\"nmaterialcatcode\"].value),\n            nmaterialtypecode: parseInt(selectedRecord[\"nmaterialtypecode\"].value)\n          };\n          inputParam = {\n            masterData,\n            inputData,\n            selectedRecord,\n            operation: this.props.operation,\n            selectedRecord,\n            screenName: \"IDS_TESTGROUPMATERIAL\",\n            ncontrolCode: this.props.ncontrolCode\n          };\n          this.props.getMaterialBasedMaterialCategory(inputParam);\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.addSubCodedResult = () => {\n      // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: {\n      //         loadEsign: true,\n      //         openModal: true,\n      //         screenName: \"IDS_TESTGROUPTESTMATERIAL\"\n      //     },\n      // };\n      // this.props.updateStore(updateInfo);\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          //operation: \"create\", \n          selectedId: null,\n          //selectedsubcodedresult:\"\",\n          openChildModal: true,\n          screenName: \"IDS_SUBCODEDRESULT\"\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.deleteSubCodedResult = (index, subCodedResult, index1) => {\n      const selectedsubcodedresult = this.state.selectedsubcodedresult;\n      selectedsubcodedresult.splice(index1.dataIndex, 1); //const selectsubcodedelete=[];\n\n      const selectsubcodedelete = this.state.selectsubcodedelete || [];\n      if (index[\"ntestgrouptestpredefsubcode\"]) selectsubcodedelete.push({\n        \"ntestgrouptestpredefsubcode\": index[\"ntestgrouptestpredefsubcode\"],\n        \"ssubcodedresult\": index[\"ssubcodedresult\"],\n        \"ntestgrouptestpredefcode\": index[\"ntestgrouptestpredefcode\"]\n      });\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          selectedId: null,\n          selectedsubcodedresult,\n          selectsubcodedelete\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onInputOnChange = (event, caseNo, optional) => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      switch (caseNo) {\n        case 1:\n          if (event.target.type === 'checkbox') {\n            selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\n\n            if (selectedRecord[\"nneedresultentryalert\"] === 4) {\n              selectedRecord[\"nneedsubcodedresult\"] = 4;\n              delete selectedRecord[\"salertmessage\"];\n              this.setState({\n                selectedsubcodedresult: []\n              });\n            }\n\n            if (selectedRecord[\"nneedsubcodedresult\"] === 4) {\n              this.setState({\n                selectedsubcodedresult: []\n              });\n            } else if (selectedRecord[\"nresultmandatory\"] === 3) {\n              selectedRecord[\"nisadhocparameter\"] = 4;\n            }\n          } else if (event.target.type === 'radio') {\n            selectedRecord[event.target.name] = optional;\n          } else {\n            selectedRecord[event.target.name] = event.target.value;\n          }\n\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 2:\n          selectedRecord[event.target.name] = event.target.value;\n          const indexKey = Object.keys(optional)[0];\n          const value = Object.values(optional)[0];\n          const treeData = {\n            ntreeversiontempcode: value.ntreeversiontempcode,\n            npositioncode: value.nlevelno - 1,\n            sleveldescription: event.target.value,\n            ntemptranstestgroupcode: value.ntemptranstestgroupcode,\n            nformcode: 62,\n            schildnode: value.schildnode,\n            nnextchildcode: value.schildnode\n          };\n          let treetemplatemanipulation = selectedRecord.treetemplatemanipulation || [];\n          treetemplatemanipulation[indexKey] = treeData;\n          selectedRecord[\"treetemplatemanipulation\"] = treetemplatemanipulation;\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 4:\n          const inputValue = event.target.value;\n\n          if (/^-?\\d*?\\.?\\d*?$/.test(inputValue) || inputValue === \"\") {\n            selectedRecord[event.target.name] = event.target.value;\n          }\n\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 6:\n          // selectedRecord[event.target.name] = selectedRecord[\"sresultparacomment\"] = { label: event.target.value, value: event.target.value };\n          // this.setState({ selectedRecord });\n          // break;\n          //selectedRecord[event.target.name] = selectedRecord[\"sresultparacomment\"] = event.target.value;\n          selectedRecord[event.target.name] = selectedRecord[\"spredefinedsynonym\"] = event.target.value; //selectedRecord[\"sparametername\"] = { label: event.target.value, value: event.target.value };\n\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 5:\n          if (event.target.type === 'checkbox') {\n            selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\n\n            if (selectedRecord[\"nneedresultentryalert\"] === 4) {\n              selectedRecord[\"nneedsubcodedresult\"] = 4;\n              delete selectedRecord[\"salertmessage\"];\n              this.codedResultMandatory = [{\n                \"idsName\": \"IDS_CODEDRESULT\",\n                \"dataField\": \"spredefinedname\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }, {\n                \"idsName\": \"IDS_CODEDRESULTSYNONYM\",\n                \"dataField\": \"spredefinedsynonym\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }, {\n                \"idsName\": \"IDS_ACTUALRESULT\",\n                \"dataField\": \"ngradecode\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }];\n              const selectsubcodedelete = this.state.selectedsubcodedresult || [];\n              this.setState({\n                selectedsubcodedresult: [],\n                selectsubcodedelete,\n                codedResultMandatory: this.codedResultMandatory\n              });\n            }\n\n            if (selectedRecord[\"nneedresultentryalert\"] === 3) {\n              this.codedResultMandatory = [{\n                \"idsName\": \"IDS_CODEDRESULT\",\n                \"dataField\": \"spredefinedname\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }, {\n                \"idsName\": \"IDS_CODEDRESULTSYNONYM\",\n                \"dataField\": \"spredefinedsynonym\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }, {\n                \"idsName\": \"IDS_ALERTMESSAGE\",\n                \"dataField\": \"salertmessage\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }, {\n                \"idsName\": \"IDS_ACTUALRESULT\",\n                \"dataField\": \"ngradecode\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }];\n              this.setState({\n                codedResultMandatory: []\n              });\n            } // if (selectedRecord[\"nneedsubcodedresult\"] === 3) {\n            //     this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\n            //     { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"sresultparacomment\", \"width\": \"200px\", \"mandatory\": true },\n            //     { \"idsName\": \"IDS_ALERTMESSAGE\", \"dataField\": \"salertmessage\", \"width\": \"200px\", \"mandatory\": true },\n            //     { \"idsName\": \"IDS_SUBCODEDRESULT\", \"dataField\": \"ssubcodedresult\", \"width\": \"200px\", \"mandatory\": true },\n            //     { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\n            //     this.setState({ codedResultMandatory: [] });\n            // }\n\n\n            if (selectedRecord[\"nneedsubcodedresult\"] === 4) {\n              const selectsubcodedelete = this.state.selectedsubcodedresult || [];\n              this.setState({\n                selectedsubcodedresult: [],\n                selectsubcodedelete\n              });\n            }\n          }\n\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.onNumericInputChange = (value, name) => {\n      console.log(\"value:\", value, name);\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (name === \"nroundingdigits\") {\n        // if (/^-?\\d*?$/.test(value.target.value) || value.target.value === \"\") {\n        //     console.log(\"val:\", value.target.value);\n        //     selectedRecord[name] = value.target.value;\n        // }\n        // if (/^-?\\d*?$/.test(value) || value === \"\") {\n        //    // console.log(\"val:\", value);\n        //     selectedRecord[name] = value;\n        // }\n        //const values = value.target.value.replace(/[^-^0-9]/g, '');\n        if (/^[0-9]+$/.test(value.target.value) || value.target.value === \"\") {\n          selectedRecord[name] = value.target.value;\n        } else {\n          selectedRecord[name] = \"\";\n        }\n      } else {\n        selectedRecord[name] = value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openChildModal\");\n    };\n\n    this.state = {\n      selectedRecord: {}\n    };\n    this.confirmMessage = new ConfirmMessage();\n    this.codedResultMandatory = [{\n      \"idsName\": \"IDS_CODEDRESULT\",\n      \"dataField\": \"spredefinedname\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }, {\n      \"idsName\": \"IDS_CODEDRESULTSYNONYM\",\n      \"dataField\": \"spredefinedsynonym\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }, {\n      \"idsName\": \"IDS_ACTUALRESULT\",\n      \"dataField\": \"ngradecode\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }];\n    this.clinicalSpecMandatory = [{\n      \"idsName\": \"IDS_GENDER\",\n      \"dataField\": \"ngendercode\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }, {\n      \"idsName\": \"IDS_FROMAGE\",\n      \"dataField\": \"nfromage\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }, {\n      \"idsName\": \"IDS_TOAGE\",\n      \"dataField\": \"ntoage\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }];\n  }\n\n  render() {\n    if (this.props.masterData.TestGroupTestClinicalSpec) {\n      sortData(this.props.masterData.TestGroupTestClinicalSpec, \"ascending\", \"nfromage\");\n    }\n\n    this.paramColumnList = [{\n      \"idsName\": \"IDS_PARAMETERSYNONYM\",\n      \"dataField\": \"sparametersynonym\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_PARAMETERTYPE\",\n      \"dataField\": \"nparametertypecode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n\n    if (this.state.selectedRecord[\"parameterTypeCode\"] && this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC) {\n      this.paramColumnList = [{\n        \"idsName\": \"IDS_PARAMETERSYNONYM\",\n        \"dataField\": \"sparametersynonym\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_PARAMETERTYPE\",\n        \"dataField\": \"nparametertypecode\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_ROUNDINGDIGITS\",\n        \"dataField\": \"nroundingdigits\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_UNIT\",\n        \"dataField\": \"nunitcode\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }];\n    }\n\n    if (this.state.selectedRecord[\"parameterTypeCode\"] && this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED) {\n      this.paramColumnList = [{\n        \"idsName\": \"IDS_PARAMETERSYNONYM\",\n        \"dataField\": \"sparametersynonym\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_PARAMETERTYPE\",\n        \"dataField\": \"nparametertypecode\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      } // { \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\n      //  { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\n      ];\n    }\n\n    const paramMandatoryFields = [];\n    this.paramColumnList.forEach(item => item.mandatory === true ? paramMandatoryFields.push(item) : \"\");\n    this.materialColumnList = [{\n      \"idsName\": \"IDS_MATERIALTYPE\",\n      \"dataField\": \"nmaterialtypecode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_MATERIALCATEGORY\",\n      \"dataField\": \"nmaterialcatcode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_MATERIALNAME\",\n      \"dataField\": \"nmaterialcode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grouped-param-inner grouped-tab-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, !this.props.testView ? /*#__PURE__*/React.createElement(CustomTab, {\n      paneHeight: this.props.paneHeight,\n      tabDetail: this.tabDetail(),\n      onTabChange: this.onTabChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 29\n      }\n    }) : /*#__PURE__*/React.createElement(CustomTab, {\n      paneHeight: this.props.paneHeight,\n      tabDetail: this.testTabDetail(),\n      onTabChange: this.onTabChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    })), this.props.openChildModal && this.props.screenName && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.openChildModal,\n      closeModal: this.closeModal,\n      operation: this.props.operation,\n      inputParam: this.props.inputParam,\n      screenName: this.props.screenName,\n      esign: this.props.loadEsign,\n      validateEsign: this.validateEsign,\n      onSaveClick: this.onSaveClick //showSaveContinue={this.props.screenName === \"IDS_SUBCODEDRESULT\"?true:false}\n      ,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: this.props.screenName === \"IDS_PARAMETER\" ? paramMandatoryFields : this.props.screenName === \"IDS_CODEDRESULT\" ? this.codedResultMandatory : this.props.screenName === \"IDS_CLINICALSPEC\" ? this.clinicalSpecMandatory : this.props.screenName === \"IDS_TESTGROUPMATERIAL\" ? this.materialColumnList : [],\n      addComponent: this.props.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.operation,\n        onInputOnChange: this.onEsignInputOnChange,\n        inputParam: this.props.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 29\n        }\n      }) : this.props.screenName === \"IDS_PARAMETER\" ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EditTestGroupParameter, {\n        selectedRecord: this.state.selectedRecord || {},\n        testGroupInputData: this.props.testGroupInputData,\n        onComboChange: this.onComboChange,\n        onInputOnChange: this.onInputOnChange,\n        onNumericInputChange: this.onNumericInputChange,\n        onFocus: this.handleFocus //TestGroupTestClinicalSpec={this.props.masterData.TestGroupTestClinicalSpec}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 37\n        }\n      }), this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED || this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.CHARACTER || this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC ? /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"horizontal-line\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 49\n        }\n      }))) : \"\", this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.CHARACTER && /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(FormTextarea, {\n        name: \"scharname\",\n        label: this.props.intl.formatMessage({\n          id: \"IDS_TESTCHARACTER\"\n        }),\n        onChange: event => this.onInputOnChange(event, 1),\n        placeholder: this.props.intl.formatMessage({\n          id: \"IDS_TESTCHARACTER\"\n        }),\n        value: this.state.selectedRecord[\"scharname\"],\n        rows: \"2\",\n        required: false,\n        maxLength: 255,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 49\n        }\n      }))), this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC && this.props.masterData.selectedNode.nsampletypecode !== SampleType.CLINICALTYPE && /*#__PURE__*/React.createElement(AddSpecification, {\n        selectedRecord: this.state.selectedRecord,\n        onInputOnChange: this.onInputOnChange,\n        onFocus: this.handleFocus,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 41\n        }\n      })) : this.props.screenName === \"IDS_CODEDRESULT\" ? /*#__PURE__*/React.createElement(AddCodedResult, {\n        onInputOnChange: this.onInputOnChange,\n        parameterData: this.props.parameterData,\n        selectedRecord: this.state.selectedRecord,\n        onComboChange: this.onComboChange,\n        addSubCodedResult: this.addSubCodedResult,\n        deleteSubCodedResult: this.deleteSubCodedResult,\n        selectedsubcodedresult: this.state.selectedsubcodedresult || [],\n        controlMap: this.props.controlMap,\n        userRoleControlRights: this.props.userRoleControlRights,\n        userInfo: this.props.userInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 37\n        }\n      }) : this.props.screenName === \"IDS_SUBCODEDRESULT\" ? /*#__PURE__*/React.createElement(AddSubCodedResult, {\n        onInputOnChange: this.onInputOnChange,\n        parameterData: this.props.parameterData,\n        selectedRecord: this.state.selectedRecord,\n        onComboChange: this.onComboChange,\n        addSubCodedResult: this.addSubCodedResult,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 41\n        }\n      }) : this.props.screenName === \"IDS_CLINICALSPEC\" ? /*#__PURE__*/React.createElement(AddTestGroupNumericSpecification, {\n        onInputOnChange: this.onInputOnChange,\n        parameterData: this.props.parameterData,\n        selectedRecord: this.state.selectedRecord,\n        onComboChange: this.onComboChange,\n        onNumericInputChange: this.onNumericInputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 45\n        }\n      }) : /*#__PURE__*/React.createElement(AddTestGroupTestMaterial, {\n        materialType: this.props.materialType,\n        selectedRecord: this.state.selectedRecord,\n        materialCategoryList: this.props.materialCategoryList,\n        materialList: this.props.materialList,\n        onComboChange: this.onComboChange,\n        onInputOnChange: this.onInputOnChange,\n        onNumericInputChange: this.onNumericInputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 47\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }), this.props.testGroupCheckList && this.props.testGroupCheckList.templateData && this.props.testGroupCheckList.templateData.length > 0 && /*#__PURE__*/React.createElement(TemplateForm, {\n      templateData: this.props.testGroupCheckList.templateData,\n      handleClose: this.handleClose,\n      screenName: \"IDS_VIEWCHECKLIST\",\n      needSaveButton: false,\n      viewScreen: this.props.openTemplateModal,\n      onTemplateInputChange: this.onTemplateInputChange,\n      onTemplateComboChange: this.onTemplateComboChange,\n      onTemplateDateChange: this.onTemplateDateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  handleFocus(e) {\n    e.target.select();\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.selectedRecord !== previousProps.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.selectedRecord\n      });\n    }\n\n    if (this.props.selectedsubcodedresult !== previousProps.selectedsubcodedresult) {\n      this.setState({\n        selectedsubcodedresult: this.props.selectedsubcodedresult\n      });\n    }\n\n    if (this.props.selectsubcodedelete !== previousProps.selectsubcodedelete) {\n      this.setState({\n        selectsubcodedelete: this.props.selectsubcodedelete\n      });\n    }\n  }\n\n}\n\nexport default injectIntl(TestGroupTestTab);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/testgroup/TestGroupTestTab.jsx"],"names":["React","Component","injectIntl","Row","Col","PerfectScrollbar","DEFAULT_RETURN","TestGroupParameterTab","CustomTab","showEsign","sortData","Esign","SlideOutModal","parameterType","SampleType","transactionStatus","EditTestGroupParameter","AddCodedResult","FormTextarea","AddSpecification","TemplateForm","toast","TestGroupMaterialTab","AddTestGroupTestMaterial","AddTestGroupNumericSpecification","ConfirmMessage","TestGroupRulesEngineTab","AddSubCodedResult","TestGroupTestTab","constructor","props","onTemplateInputChange","event","selectedRecord","state","target","type","name","checked","YES","NO","value","setState","onTemplateComboChange","comboData","fieldName","onTemplateDateChange","dateName","dateValue","Date","handleClose","updateInfo","typeName","data","testGroupCheckList","openTemplateModal","updateStore","closeModal","screenName","operation","selectedId","openChildModal","loadEsign","selectedsubcodedresult","onTabChange","tabProps","EditSpecDetails","viewdetails","ncontrolCode","addTestGroupNumericTab","userInfo","testgroupspecification","masterData","SelectedSpecification","DeleteSpecDetails","SpecConfirmDelete","tabDetail","tabMap","Map","set","controlMap","userRoleControlRights","inputParam","deleteAction","onSwitchChange","addTestFile","viewTestFile","defaultRecord","filterData","getTestGroupParameter","editTestGroupParameter","addTestGroupCodedResult","viewTestGroupCheckList","dataState","dataStateChange","testTabDetail","paneHeight","subCodedResultView","ConfirmDelete","getDataForTestMaterial","getTestGroupMaterial","getDataForEditTestMaterial","isrulesenginerequired","getTestGroupRulesEngineAdd","settings","skipRulesEngine","takeRulesEngine","getEditTestGroupRulesEngine","getSelectedTestGroupRulesEngine","ConfirmDeleteRule","approveVersion","openflowview","handlePageChangeRuleEngine","viewOutcome","filterParamRulesEngine","filterTransactionList","saveExecutionOrder","deleteId","confirmMessage","confirm","intl","formatMessage","id","DeleteTestMaterial","selectedSpecification","napprovalstatus","DRAFT","CORRECTION","inputData","ntreeversiontempcode","selectedNode","ntestgrouptestmaterialcode","selectedMaterial","ntestgrouptestcode","methodUrl","classUrl","esignRights","nformcode","screenData","openModal","crudMaster","warn","onSaveClick","saveType","formRef","onSaveFormula","onSaveParameter","length","onSaveCodedResult","onSaveSubCodedResult","onSaveSpecification","onSaveMaterial","parameterList","testGroupTestParameter","nparametertypecode","nunitcode","nchecklistversioncode","map","item","testgrouptestparameter","userinfo","NUMERIC","testGroupTestNumericParameter","numericList","ntestgrouptestparametercode","replace","ntestformulacode","testFormula","testgrouptestformula","sformulacalculationcode","sformulacalculationdetail","ntransactionstatus","CHARACTER","characterList","testGroupTestCharParameter","console","log","searchRef","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","SelectedTest","fetchUrl","fecthInputObject","searchFieldList","selectedParameter","testFormulaArray","test","testgroupsubcoded","testGroupPredefParameter","ndefaultstatus","nstatus","ACTIVE","ntestgrouptestpredefcode","ngradecode","spredefinedname","spredefinedsynonym","spredefinedcomments","salertmessage","nneedresultentryalert","nneedsubcodedresult","ntestpredefinedcode","testgrouptestpredefinedparameter","deletetestgroupsubcoded","selectsubcodedelete","addsubcodedresult","filter","x","hasOwnProperty","ssubcodedresult","push","loading","submit","TestGroupAddSpecification","ngendercode","nfromage","ntoage","shigha","shighb","slowa","slowb","sresultvalue","ntestgrouptestclinicspeccode","testgroupaddspecification","testGroupTestMaterial","nmaterialtypecode","jsondata","nmaterialcatcode","nmaterialcode","smaterialname","label","sremarks","testgrouptestmaterial","deleteTest","deleteParam","treeVersionTemplateIndex","findIndex","templateVersionStatus","RETIRED","testgrouptest","treetemplatemanipulation","modalName","selected","toLowerCase","key","dataItem","onEsignInputOnChange","onComboChange","caseNo","needRoundingDigit","needUnit","parameterData","defaultUnit","undefined","testGroupInputData","schecklistversionname","oldnmaterialtypecode","parseInt","materialType","getMaterialCategoryBasedMaterialType","oldnmaterialcatcode","getMaterialBasedMaterialCategory","addSubCodedResult","deleteSubCodedResult","index","subCodedResult","index1","splice","dataIndex","onInputOnChange","optional","indexKey","Object","keys","values","treeData","npositioncode","nlevelno","sleveldescription","ntemptranstestgroupcode","schildnode","nnextchildcode","inputValue","codedResultMandatory","onNumericInputChange","validateEsign","sreason","nreasoncode","spredefinedreason","password","validateEsignCredential","clinicalSpecMandatory","render","TestGroupTestClinicalSpec","paramColumnList","PREDEFINED","paramMandatoryFields","forEach","mandatory","materialColumnList","testView","handleFocus","nsampletypecode","CLINICALTYPE","materialCategoryList","materialList","templateData","e","select","componentDidUpdate","previousProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { injectIntl } from 'react-intl';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport TestGroupParameterTab from './TestGroupParameterTab';\r\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component';\r\nimport { showEsign, sortData } from '../../components/CommonScript';\r\nimport Esign from '../audittrail/Esign';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { parameterType, SampleType, transactionStatus } from '../../components/Enumeration';\r\nimport EditTestGroupParameter from './EditTestGroupParameter';\r\nimport AddCodedResult from '../testmanagement/AddCodedResult';\r\nimport FormTextarea from '../../components/form-textarea/form-textarea.component';\r\nimport AddSpecification from '../testmanagement/AddSpecification';\r\nimport TemplateForm from '../checklist/checklist/TemplateForm';\r\nimport { toast } from 'react-toastify';\r\nimport TestGroupMaterialTab from './TestGroupMaterialTab';\r\nimport AddTestGroupTestMaterial from './AddTestGroupTestMaterial';\r\nimport AddTestGroupNumericSpecification from './AddTestGroupNumericSpecification';\r\nimport ConfirmMessage from \"../../components/confirm-alert/confirm-message.component\";\r\nimport TestGroupRulesEngineTab from './TestGroupRulesEngineTab';\r\nimport AddSubCodedResult from '../testmanagement/AddSubCodedResult';\r\n\r\nclass TestGroupTestTab extends Component  {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedRecord: {}\r\n        }\r\n        this.confirmMessage = new ConfirmMessage();\r\n\r\n        this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n        { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatory\": true },\r\n\r\n        { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n        this.clinicalSpecMandatory = [{ \"idsName\": \"IDS_GENDER\", \"dataField\": \"ngendercode\", \"width\": \"200px\", \"mandatory\": true },\r\n        { \"idsName\": \"IDS_FROMAGE\", \"dataField\": \"nfromage\", \"width\": \"200px\", \"mandatory\": true },\r\n        { \"idsName\": \"IDS_TOAGE\", \"dataField\": \"ntoage\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.props.masterData.TestGroupTestClinicalSpec) {\r\n            sortData(this.props.masterData.TestGroupTestClinicalSpec, \"ascending\", \"nfromage\");\r\n        }\r\n\r\n\r\n        this.paramColumnList = [\r\n            { \"idsName\": \"IDS_PARAMETERSYNONYM\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_PARAMETERTYPE\", \"dataField\": \"nparametertypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n        ]\r\n        if (this.state.selectedRecord[\"parameterTypeCode\"] && this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC) {\r\n            this.paramColumnList = [\r\n                { \"idsName\": \"IDS_PARAMETERSYNONYM\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                { \"idsName\": \"IDS_PARAMETERTYPE\", \"dataField\": \"nparametertypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                { \"idsName\": \"IDS_ROUNDINGDIGITS\", \"dataField\": \"nroundingdigits\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                { \"idsName\": \"IDS_UNIT\", \"dataField\": \"nunitcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n            ]\r\n        }\r\n        if (this.state.selectedRecord[\"parameterTypeCode\"] && this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED) {\r\n            this.paramColumnList = [\r\n                { \"idsName\": \"IDS_PARAMETERSYNONYM\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                { \"idsName\": \"IDS_PARAMETERTYPE\", \"dataField\": \"nparametertypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n               // { \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n              //  { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n            ]\r\n        }\r\n        const paramMandatoryFields = [];\r\n\r\n        this.paramColumnList.forEach(item => item.mandatory === true ?\r\n            paramMandatoryFields.push(item) : \"\"\r\n        );\r\n        this.materialColumnList = [\r\n            { \"idsName\": \"IDS_MATERIALTYPE\", \"dataField\": \"nmaterialtypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_MATERIALCATEGORY\", \"dataField\": \"nmaterialcatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_MATERIALNAME\", \"dataField\": \"nmaterialcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n\r\n        ]\r\n        return (\r\n            <>\r\n                    <div className='grouped-param-inner grouped-tab-inner'>\r\n                        {!this.props.testView ?\r\n                            <CustomTab paneHeight={this.props.paneHeight} tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                            :\r\n                            <CustomTab paneHeight={this.props.paneHeight} tabDetail={this.testTabDetail()} onTabChange={this.onTabChange} />\r\n\r\n                        }\r\n                    </div>\r\n\r\n                {this.props.openChildModal && this.props.screenName &&\r\n                    <SlideOutModal\r\n                        show={this.props.openChildModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.operation}\r\n                        inputParam={this.props.inputParam}\r\n                        screenName={this.props.screenName}\r\n                        esign={this.props.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        onSaveClick={this.onSaveClick}\r\n                        //showSaveContinue={this.props.screenName === \"IDS_SUBCODEDRESULT\"?true:false}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.screenName === \"IDS_PARAMETER\" ? paramMandatoryFields :\r\n                            this.props.screenName === \"IDS_CODEDRESULT\" ? this.codedResultMandatory : this.props.screenName === \"IDS_CLINICALSPEC\" ? this.clinicalSpecMandatory : this.props.screenName === \"IDS_TESTGROUPMATERIAL\"\r\n                                ? this.materialColumnList : []}\r\n                        addComponent={this.props.loadEsign ?\r\n                            <Esign\r\n                                operation={this.props.operation}\r\n                                onInputOnChange={this.onEsignInputOnChange}\r\n                                inputParam={this.props.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            /> :\r\n                            this.props.screenName === \"IDS_PARAMETER\" ?\r\n                                <>\r\n                                    <EditTestGroupParameter\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                        testGroupInputData={this.props.testGroupInputData}\r\n                                        onComboChange={this.onComboChange}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onNumericInputChange={this.onNumericInputChange}\r\n                                        onFocus={this.handleFocus}\r\n                                    //TestGroupTestClinicalSpec={this.props.masterData.TestGroupTestClinicalSpec}\r\n                                    />\r\n                                    {this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED ||\r\n                                        this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.CHARACTER ||\r\n                                        this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC ?\r\n                                        <Row>\r\n                                            <Col>\r\n                                                <div className=\"horizontal-line\"></div>\r\n                                            </Col>\r\n                                        </Row> : \"\"\r\n                                    }\r\n\r\n                                    {/* {this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED &&\r\n                                        <Row>\r\n                                            <AddCodedResult\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                parameterData={this.props.parameterData}\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                                onComboChange={this.onComboChange}\r\n                                                addSubCodedResult={this.addSubCodedResult}\r\n                                                deleteSubCodedResult={this.deleteSubCodedResult}\r\n                                                selectedsubcodedresult={this.state.selectedsubcodedresult || []}\r\n                                                selectsubcodedelete={this.state.selectsubcodedelete || []}\r\n                                                controlMap={this.props.controlMap}\r\n                                                userRoleControlRights={this.props.userRoleControlRights}\r\n\r\n                                            />\r\n                                        </Row>\r\n                                        } */}\r\n                                    {this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.CHARACTER &&\r\n                                        <Row>\r\n                                            <Col md=\"12\">\r\n                                                <FormTextarea\r\n                                                    name={\"scharname\"}\r\n                                                    label={this.props.intl.formatMessage({ id: \"IDS_TESTCHARACTER\" })}\r\n                                                    onChange={(event) => this.onInputOnChange(event, 1)}\r\n                                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_TESTCHARACTER\" })}\r\n                                                    value={this.state.selectedRecord[\"scharname\"]}\r\n                                                    rows=\"2\"\r\n                                                    required={false}\r\n                                                    maxLength={255}\r\n                                                >\r\n                                                </FormTextarea>\r\n                                            </Col>\r\n                                        </Row>}\r\n                                    {this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC && this.props.masterData.selectedNode.nsampletypecode !== SampleType.CLINICALTYPE &&\r\n                                        <AddSpecification\r\n                                            selectedRecord={this.state.selectedRecord}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            onFocus={this.handleFocus}\r\n                                        />}\r\n                                </> :\r\n                                this.props.screenName === \"IDS_CODEDRESULT\" ?\r\n                                    <AddCodedResult\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        parameterData={this.props.parameterData}\r\n                                        selectedRecord={this.state.selectedRecord}\r\n                                        onComboChange={this.onComboChange}\r\n                                        addSubCodedResult={this.addSubCodedResult}\r\n                                        deleteSubCodedResult={this.deleteSubCodedResult}\r\n                                        selectedsubcodedresult={this.state.selectedsubcodedresult || []}\r\n                                        controlMap={this.props.controlMap}\r\n                                        userRoleControlRights={this.props.userRoleControlRights}\r\n                                        userInfo={this.props.userInfo}\r\n                                    />\r\n                                    :\r\n                                    this.props.screenName === \"IDS_SUBCODEDRESULT\" ?\r\n                                        <AddSubCodedResult\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            parameterData={this.props.parameterData}\r\n                                            selectedRecord={this.state.selectedRecord}\r\n                                            onComboChange={this.onComboChange}\r\n                                            addSubCodedResult={this.addSubCodedResult}\r\n\r\n                                        />\r\n                                        :\r\n                                        this.props.screenName === \"IDS_CLINICALSPEC\" ?\r\n                                            <AddTestGroupNumericSpecification\r\n\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                parameterData={this.props.parameterData}\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                                onComboChange={this.onComboChange}\r\n                                                onNumericInputChange={this.onNumericInputChange}\r\n                                            />\r\n                                            : <AddTestGroupTestMaterial\r\n                                                materialType={this.props.materialType}\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                                materialCategoryList={this.props.materialCategoryList}\r\n                                                materialList={this.props.materialList}\r\n                                                onComboChange={this.onComboChange}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                onNumericInputChange={this.onNumericInputChange}\r\n\r\n                                            />\r\n\r\n                        }\r\n                    />\r\n                }\r\n                {this.props.testGroupCheckList && this.props.testGroupCheckList.templateData &&\r\n                    this.props.testGroupCheckList.templateData.length > 0 &&\r\n                    <TemplateForm\r\n                        templateData={this.props.testGroupCheckList.templateData}\r\n                        handleClose={this.handleClose}\r\n                        screenName=\"IDS_VIEWCHECKLIST\"\r\n                        needSaveButton={false}\r\n                        viewScreen={this.props.openTemplateModal}\r\n                        onTemplateInputChange={this.onTemplateInputChange}\r\n                        onTemplateComboChange={this.onTemplateComboChange}\r\n                        onTemplateDateChange={this.onTemplateDateChange}\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n\r\n    handleFocus(e){\r\n        e.target.select();\r\n    }\r\n\r\n    onTemplateInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onTemplateComboChange = (comboData, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onTemplateDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state.selectedRecord || {};\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    handleClose = () => {\r\n        let updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedRecord: {},\r\n                testGroupCheckList: {},\r\n                openTemplateModal: false\r\n            }\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeModal = () => {\r\n        if (this.props.screenName === \"IDS_SUBCODEDRESULT\") {\r\n            //screenName = \"IDS_CODEDRESULT\";\r\n            //operation = \"update\";\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    operation: \"create\", selectedId: null,\r\n                    openChildModal: true, screenName: \"IDS_CODEDRESULT\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            let loadEsign = this.props.loadEsign;\r\n            let openChildModal = this.props.openChildModal;\r\n            let selectedRecord = this.props.selectedRecord;\r\n            let selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n            if (this.props.loadEsign) {\r\n                if (this.props.operation === \"delete\" || this.props.operation === \"Default\") {\r\n                    loadEsign = false;\r\n                    openChildModal = false;\r\n                    selectedRecord = {};\r\n                } else {\r\n                    loadEsign = false;\r\n                    selectedRecord[\"agree\"] = 4;\r\n                    selectedRecord['esignpassword'] = \"\"\r\n                    selectedRecord['esigncomments'] = \"\"\r\n                    selectedRecord['esignreason'] = \"\"\r\n                }\r\n            } else {\r\n                openChildModal = false;\r\n                selectedRecord = {};\r\n\r\n            }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { openChildModal, loadEsign, selectedRecord, selectedsubcodedresult }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n            //this.setState({selectedsubcodedresult: []}); \r\n        }\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    EditSpecDetails = (viewdetails, ncontrolCode) => {\r\n\r\n        this.props.addTestGroupNumericTab(\"update\", viewdetails, this.props.userInfo, { testgroupspecification: this.props.masterData.SelectedSpecification }, this.props.masterData, ncontrolCode)\r\n    };\r\n\r\n    DeleteSpecDetails = (viewdetails, ncontrolCode) => {\r\n        this.SpecConfirmDelete(\"delete\", 1, viewdetails, ncontrolCode)\r\n    };\r\n\r\n\r\n    tabDetail = () => {\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_PARAMETER\",\r\n            <TestGroupParameterTab\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                inputParam={this.props.inputParam}\r\n                masterData={this.props.masterData}\r\n                deleteAction={this.deleteAction}\r\n                onSwitchChange={this.onSwitchChange}\r\n                addTestFile={this.props.addTestFile}\r\n                viewTestFile={this.viewTestFile}\r\n                defaultRecord={this.defaultRecord}\r\n                filterData={this.props.filterData}\r\n                getTestGroupParameter={this.props.getTestGroupParameter}\r\n                editTestGroupParameter={this.props.editTestGroupParameter}\r\n                addTestGroupCodedResult={this.props.addTestGroupCodedResult}\r\n                addTestGroupNumericTab={this.props.addTestGroupNumericTab}\r\n                viewTestGroupCheckList={this.props.viewTestGroupCheckList}\r\n                EditSpecDetails={this.EditSpecDetails}\r\n                DeleteSpecDetails={this.DeleteSpecDetails}\r\n                dataState={this.props.dataState}\r\n                dataStateChange={this.props.dataStateChange}\r\n\r\n            />);\r\n        return tabMap;\r\n    }\r\n    testTabDetail = () => {\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_PARAMETER\",\r\n            <TestGroupParameterTab\r\n                paneHeight={this.props.paneHeight}\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                inputParam={this.props.inputParam}\r\n                masterData={this.props.masterData}\r\n                deleteAction={this.deleteAction}\r\n                onSwitchChange={this.onSwitchChange}\r\n                addTestFile={this.props.addTestFile}\r\n                viewTestFile={this.viewTestFile}\r\n                defaultRecord={this.defaultRecord}\r\n                filterData={this.props.filterData}\r\n                getTestGroupParameter={this.props.getTestGroupParameter}\r\n                editTestGroupParameter={this.props.editTestGroupParameter}\r\n                addTestGroupCodedResult={this.props.addTestGroupCodedResult}\r\n                subCodedResultView={this.props.subCodedResultView}\r\n                addTestGroupNumericTab={this.props.addTestGroupNumericTab}\r\n                viewTestGroupCheckList={this.props.viewTestGroupCheckList}\r\n                EditSpecDetails={this.EditSpecDetails}\r\n                DeleteSpecDetails={this.DeleteSpecDetails}\r\n                hasDynamicColSize={true}\r\n                dataState={this.props.dataState}\r\n                dataStateChange={this.props.dataStateChange}\r\n            />);\r\n        tabMap.set(\"IDS_MATERIAL\",\r\n            <TestGroupMaterialTab\r\n                paneHeight={this.props.paneHeight}\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                inputParam={this.props.inputParam}\r\n                masterData={this.props.masterData}\r\n                ConfirmDelete={this.ConfirmDelete}\r\n                getDataForTestMaterial={this.props.getDataForTestMaterial}\r\n                getTestGroupMaterial={this.props.getTestGroupMaterial}\r\n                getDataForEditTestMaterial={this.props.getDataForEditTestMaterial}\r\n                selectedRecord={this.state.selectedRecord}\r\n\r\n            />);\r\n            {this.props.isrulesenginerequired&&\r\n                tabMap.set(\"IDS_RULESENGINE\",\r\n                <TestGroupRulesEngineTab\r\n                    paneHeight={this.props.paneHeight}\r\n                    getTestGroupRulesEngineAdd={this.props.getTestGroupRulesEngineAdd}\r\n                    controlMap={this.props.controlMap}\r\n                    userRoleControlRights={this.props.userRoleControlRights}\r\n                    userInfo={this.props.userInfo}\r\n                    selectedRecord={this.state.selectedRecord}\r\n                    masterData={this.props.masterData}\r\n                    settings={this.props.settings}\r\n                    skipRulesEngine={this.props.skipRulesEngine}\r\n                    takeRulesEngine={this.props.takeRulesEngine}\r\n                    getEditTestGroupRulesEngine={this.props.getEditTestGroupRulesEngine}\r\n                    getSelectedTestGroupRulesEngine={this.props.getSelectedTestGroupRulesEngine}\r\n                    ConfirmDeleteRule={this.props.ConfirmDeleteRule}\r\n                    approveVersion={this.props.approveVersion}\r\n                    openflowview={this.props.openflowview}\r\n                    handlePageChangeRuleEngine={this.props.handlePageChangeRuleEngine}\r\n                    viewOutcome={this.props.viewOutcome}\r\n                    filterParamRulesEngine={this.props.filterParamRulesEngine}\r\n                    filterTransactionList={this.props.filterTransactionList}\r\n                    saveExecutionOrder={this.props.saveExecutionOrder}\r\n    \r\n                />);\r\n\r\n            }\r\n      \r\n        return tabMap;\r\n    }\r\n    ConfirmDelete = (operation, deleteId, selectedRecord) => {\r\n        this.confirmMessage.confirm(\r\n            \"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () =>\r\n                this.DeleteTestMaterial(\r\n                    operation,\r\n                    deleteId, selectedRecord\r\n                )\r\n        );\r\n    };\r\n\r\n    SpecConfirmDelete = (operation, deleteId, selectedRecord, ncontrolCode) => {\r\n        this.confirmMessage.confirm(\r\n            \"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () =>\r\n                this.deleteAction(selectedRecord, \"delete\", ncontrolCode, \"TestGroupAddSpecification\", \"openChildModal\")\r\n        );\r\n    };\r\n    DeleteTestMaterial = (operation, ncontrolCode) => {\r\n        let selectedSpecification = this.props.masterData.SelectedSpecification;\r\n        if (selectedSpecification.napprovalstatus === transactionStatus.DRAFT\r\n            || selectedSpecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n            let selectedRecord = this.state.selectedRecord\r\n            let inputData = [];\r\n            inputData = { ntreeversiontempcode: this.props.masterData.selectedNode.ntreeversiontempcode }\r\n\r\n            inputData[\"testgrouptestmaterial\"] = {\r\n                ntestgrouptestmaterialcode: this.props.masterData.selectedMaterial.ntestgrouptestmaterialcode,\r\n                ntestgrouptestcode: this.props.masterData.selectedMaterial.ntestgrouptestcode,\r\n\r\n            };\r\n\r\n            inputData[\"userinfo\"] = this.props.userInfo;\r\n            const inputParam = {\r\n                methodUrl: \"TestGroupTestMaterial\",\r\n                classUrl: this.props.inputParam.classUrl,\r\n                inputData: inputData,\r\n                operation: \"delete\",\r\n            };\r\n            const masterData = this.props.masterData;\r\n            if (\r\n                showEsign(\r\n                    this.props.esignRights,\r\n                    this.props.userInfo.nformcode,\r\n                    ncontrolCode\r\n                )\r\n            ) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true,\r\n                        screenData: { inputParam, masterData },\r\n                        openModal: true,\r\n                        screenName: \"IDS_TESTGROUPMATERIAL\",\r\n                        operation: operation.operation,\r\n                    },\r\n                };\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n        }\r\n    }\r\n    onSaveClick = (saveType, formRef) => {\r\n        let inputParam = {};\r\n        // if(this.props.screenName === \"IDS_TEST\" \r\n        //     || this.props.screenName === \"IDS_EDITTESTGROUPTEST\") {\r\n        //     inputParam = this.onSaveTest(saveType, formRef);\r\n        // } else \r\n        if (this.props.screenName === \"IDS_FORMULA\") {\r\n            inputParam = this.onSaveFormula(saveType, formRef);\r\n        } else if (this.props.screenName === \"IDS_PARAMETER\") {\r\n            inputParam = this.onSaveParameter(saveType, formRef);\r\n        } else if (this.props.screenName === \"IDS_CODEDRESULT\") {\r\n            if ((this.state.selectedRecord[\"nneedsubcodedresult\"] === 3 && this.state.selectedsubcodedresult.length>0) ||(this.state.selectedRecord[\"nneedsubcodedresult\"] === 4) ) {\r\n            inputParam = this.onSaveCodedResult(saveType, formRef);\r\n            }else\r\n            {\r\n                return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ADDSUBCODEDRESULT\" }));\r\n            }\r\n\r\n        } else if (this.props.screenName === \"IDS_SUBCODEDRESULT\") {\r\n            return this.onSaveSubCodedResult(saveType, formRef);\r\n\r\n        } else if (this.props.screenName === \"IDS_CLINICALSPEC\") {\r\n            inputParam = this.onSaveSpecification(saveType, formRef);\r\n        }\r\n        else if (this.props.screenName === \"IDS_TESTGROUPMATERIAL\") {\r\n            inputParam = this.onSaveMaterial(saveType, formRef);\r\n        }\r\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            //(this.props.screenName !== \"IDS_CODEDRESULT\")\r\n            // if(this.props.submit!==\"SUBCODERESULT\")\r\n            this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\", {});\r\n        }\r\n    }\r\n\r\n    onSaveParameter = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const parameterList = [\"ntestgrouptestparametercode\", \"ntestgrouptestcode\", \"ntestparametercode\", \"sparametersynonym\", \"nroundingdigits\",\r\n            \"nresultmandatory\", \"nreportmandatory\", \"sspecdesc\", \"nsorter\",\"nisadhocparameter\"];\r\n        let testGroupTestParameter = {\r\n            nparametertypecode: selectedRecord.nparametertypecode.value,\r\n            nunitcode: selectedRecord.nunitcode ? selectedRecord.nunitcode.value : -1,\r\n            nchecklistversioncode: selectedRecord.nchecklistversioncode ? selectedRecord.nchecklistversioncode.value : -1\r\n        }\r\n        parameterList.map(item => {\r\n            return testGroupTestParameter[item] = selectedRecord[item] ? selectedRecord[item] : \"\";\r\n        });\r\n        let inputData = {\r\n            testgrouptestparameter: testGroupTestParameter,\r\n            userinfo: this.props.userInfo\r\n        };\r\n        if (selectedRecord.nparametertypecode.value === parameterType.NUMERIC) {\r\n            let testGroupTestNumericParameter = {};\r\n            const numericList = [\"sminlod\", \"smaxlod\", \"sminb\", \"smina\", \"smaxa\", \"smaxb\", \"sminloq\", \"smaxloq\", \"sdisregard\", \"sresultvalue\"];\r\n            testGroupTestNumericParameter[\"ntestgrouptestparametercode\"] = selectedRecord.ntestgrouptestparametercode;\r\n            numericList.map(item => {\r\n                return testGroupTestNumericParameter[item] = selectedRecord[item] ? selectedRecord[item] === \"0\" ? selectedRecord[item] : selectedRecord[item].replace(/^0+/, '') : null;\r\n            });\r\n            inputData[\"testgrouptestnumericparameter\"] = testGroupTestNumericParameter;\r\n            if (selectedRecord.ntestformulacode) {\r\n                const testFormula = selectedRecord.ntestformulacode.item;\r\n                const testgrouptestformula = {\r\n                    ntestgrouptestparametercode: selectedRecord.ntestgrouptestparametercode,\r\n                    ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\r\n                    ntestformulacode: testFormula.ntestformulacode,\r\n                    sformulacalculationcode: testFormula.sformulacalculationcode,\r\n                    sformulacalculationdetail: testFormula.sformulacalculationdetail,\r\n                    ntransactionstatus: transactionStatus.YES\r\n                };\r\n                inputData[\"testgrouptestformula\"] = testgrouptestformula;\r\n            } else {\r\n                inputData[\"testgrouptestformula\"] = null;\r\n            }\r\n        } else if (selectedRecord.nparametertypecode.value === parameterType.CHARACTER) {\r\n            const characterList = [\"ntestgrouptestparametercode\", \"scharname\"];\r\n            let testGroupTestCharParameter = {};\r\n            characterList.map(item => {\r\n                return testGroupTestCharParameter[item] = selectedRecord[item] ? selectedRecord[item] : \"\";\r\n            });\r\n            inputData[\"testgrouptestcharparameter\"] = testGroupTestCharParameter;\r\n        }\r\n        //  else if (selectedRecord.nparametertypecode.value === parameterType.PREDEFINED) {\r\n        //     const testGroupTestPredefParameter = {\r\n        //         ntestgrouptestparametercode: selectedRecord.ntestgrouptestparametercode,\r\n        //         ngradecode: selectedRecord.ngradecode.value,\r\n        //         spredefinedname: selectedRecord.spredefinedname,\r\n        //         ntestgrouptestpredefcode: selectedRecord.ntestgrouptestpredefcode,\r\n        //         ndefaultstatus: selectedRecord.ndefaultstatus\r\n        //     }\r\n        //     inputData[\"testgrouptestpredefparameter\"] = testGroupTestPredefParameter;\r\n        // }\r\n        console.log(\"input data:\", inputData);\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: \"update\",\r\n            methodUrl: \"TestGroupParameter\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam: {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n            }\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveFormula = (saveType, formRef) => {\r\n        const masterData = this.props.masterData;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const selectedParameter = masterData.selectedParameter;\r\n        const testFormulaArray = selectedRecord.ntestformulacode.map(test => {\r\n            return {\r\n                ntestgrouptestcode: selectedParameter.ntestgrouptestcode,\r\n                ntestgrouptestparametercode: selectedParameter.ntestgrouptestparametercode,\r\n                ntestformulacode: test.item.ntestformulacode,\r\n                sformulacalculationcode: test.item.sformulacalculationcode,\r\n                sformulacalculationdetail: test.item.sformulacalculationdetail,\r\n                ntransactionstatus: transactionStatus.NO\r\n            }\r\n        });\r\n        const inputData = {\r\n            testgroupspecification: masterData.SelectedSpecification,\r\n            testgrouptestformula: testFormulaArray,\r\n            userinfo: this.props.userInfo\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.operation,\r\n            methodUrl: \"TestGroupTestFormula\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam: {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n            }\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveCodedResult = (saveType, formRef) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n            //const selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n            const testgroupsubcoded = [];\r\n            const testGroupPredefParameter = {\r\n                ndefaultstatus: transactionStatus.NO,\r\n                nstatus: transactionStatus.ACTIVE,\r\n                ntestgrouptestpredefcode: selectedRecord[\"ntestgrouptestpredefcode\"],\r\n                ntestgrouptestparametercode: this.props.masterData.selectedParameter[\"ntestgrouptestparametercode\"],\r\n                ngradecode: selectedRecord[\"ngradecode\"].value,\r\n                spredefinedname: selectedRecord[\"spredefinedname\"],\r\n                //sresultparacomment: selectedRecord[\"sresultparacomment\"],\r\n                spredefinedsynonym: selectedRecord[\"spredefinedsynonym\"],\r\n                spredefinedcomments: selectedRecord[\"spredefinedcomments\"],\r\n                salertmessage: selectedRecord[\"salertmessage\"],\r\n                nneedresultentryalert: selectedRecord[\"nneedresultentryalert\"],\r\n                nneedsubcodedresult: selectedRecord[\"nneedsubcodedresult\"],\r\n                ntestpredefinedcode: this.props.masterData.selectedParameter[\"ntestpredefinedcode\"],\r\n\r\n            };\r\n            const inputParam = {\r\n                inputData: {\r\n                    testgrouptestpredefinedparameter: testGroupPredefParameter,\r\n                    userinfo: this.props.userInfo,\r\n                    testgroupspecification: this.props.masterData.SelectedSpecification,\r\n                    testgroupsubcoded: this.state.selectedsubcodedresult,\r\n                    deletetestgroupsubcoded: this.state.selectsubcodedelete,\r\n                    addsubcodedresult : this.state.selectedsubcodedresult.filter(x =>!x.hasOwnProperty('ntestgrouptestpredefsubcode') )|| []\r\n\r\n                },\r\n\r\n                classUrl: \"testgroup\",\r\n                operation: this.props.operation,\r\n                methodUrl: \"TestGroupPredefParameter\",\r\n                saveType, formRef, searchRef: this.searchRef,\r\n                postParam: {\r\n                    inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                    primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                    fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                    masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n                }\r\n            }\r\n            //this.setState({selectedsubcodedresult: []}); \r\n            return inputParam;\r\n\r\n        \r\n    }\r\n\r\n\r\n\r\n    onSaveSubCodedResult = (saveType, formRef) => {\r\n        // const ssubcodedresult = this.state.selectedRecord[\"ssubcodedresult\"];\r\n        let selectedsubcodedresult = [];\r\n        //let addsubcodedresult = [];\r\n        selectedsubcodedresult[\"ssubcodedresult\"] = [];\r\n        selectedsubcodedresult = this.state.selectedsubcodedresult || [];\r\n        //addsubcodedresult = this.state.selectedsubcodedresult.filter(x =>!x.hasOwnProperty('ntestgrouptestpredefsubcode') )|| [];\r\n        let ssubcodedresult = this.state.selectedRecord[\"ssubcodedresult\"];\r\n        selectedsubcodedresult.push({ \"ssubcodedresult\": this.state.selectedRecord[\"ssubcodedresult\"] });\r\n        const selectedRecord = this.state.selectedRecord\r\n        delete selectedRecord[\"ssubcodedresult\"]\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                //operation: \"create\", \r\n                selectedId: null, selectedsubcodedresult, selectedRecord,\r\n                screenName: \"IDS_CODEDRESULT\", loading: false//,openChildModal: false,,\r\n                , submit: \"SUBCODERESULT\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        //this.setState({ selectedsubcodedresult });\r\n    }\r\n\r\n\r\n    onSaveSpecification = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        // if(selectedRecord[\"nfromage\"]<selectedRecord[\"ntoage\"]){\r\n\r\n        const TestGroupAddSpecification = {\r\n            nstatus: transactionStatus.ACTIVE,\r\n            ntestgrouptestparametercode: this.props.masterData.selectedParameter[\"ntestgrouptestparametercode\"],\r\n            ngendercode: selectedRecord[\"ngendercode\"].value,\r\n            nfromage: selectedRecord[\"nfromage\"],\r\n            ntoage: selectedRecord[\"ntoage\"],\r\n            shigha: selectedRecord[\"nhigha\"],\r\n            shighb: selectedRecord[\"nhighb\"],\r\n            slowa: selectedRecord[\"nlowa\"],\r\n            slowb: selectedRecord[\"nlowb\"],\r\n            sresultvalue: selectedRecord[\"sresultvalue\"],\r\n\r\n            ntestgrouptestclinicspeccode: selectedRecord[\"ntestgrouptestclinicspeccode\"],\r\n\r\n        };\r\n\r\n\r\n        const inputParam = {\r\n            inputData: {\r\n                testgroupaddspecification: TestGroupAddSpecification,\r\n                userinfo: this.props.userInfo,\r\n                testgroupspecification: this.props.masterData.SelectedSpecification\r\n            },\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.operation,\r\n            methodUrl: \"TestGroupAddSpecification\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam: {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n            }\r\n        }\r\n        return inputParam;\r\n        // }else{\r\n        //     toast.warn(this.props.intl.formatMessage({id: \"IDS_SELECTEDTEMPLATEISRETIRED\"})); \r\n        // }\r\n    }\r\n    onSaveMaterial = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        let testGroupTestMaterial = []\r\n        if (this.props.operation === \"create\") {\r\n            testGroupTestMaterial = {\r\n                ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                ntestgrouptestmaterialcode: this.props.masterData.SelectedTest.ntestgrouptestmaterialcode,\r\n                nmaterialtypecode: selectedRecord[\"nmaterialtypecode\"].item.jsondata.nmaterialtypecode,\r\n                nmaterialcatcode: selectedRecord[\"nmaterialcatcode\"].value,\r\n                nmaterialcode: selectedRecord[\"nmaterialcode\"].value,\r\n                smaterialname: selectedRecord[\"nmaterialcode\"].label,\r\n                sremarks: selectedRecord[\"sremarks\"],\r\n                nstatus: transactionStatus.ACTIVE,\r\n\r\n            };\r\n        }\r\n        else {\r\n            testGroupTestMaterial = {\r\n                ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                ntestgrouptestmaterialcode: this.props.masterData.selectedMaterial.ntestgrouptestmaterialcode,\r\n                nmaterialtypecode: selectedRecord[\"nmaterialtypecode\"].value,\r\n                nmaterialcatcode: selectedRecord[\"nmaterialcatcode\"].value,\r\n                nmaterialcode: selectedRecord[\"nmaterialcode\"].value,\r\n                sremarks: selectedRecord[\"sremarks\"],\r\n                nstatus: transactionStatus.ACTIVE,\r\n\r\n            };\r\n        }\r\n\r\n        const inputParam = {\r\n            inputData: {\r\n                testgrouptestmaterial: testGroupTestMaterial,\r\n                ntreeversiontempcode: this.props.masterData.selectedNode.ntreeversiontempcode,\r\n                userinfo: this.props.userInfo,\r\n            },\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.operation,\r\n            methodUrl: \"TestGroupTestMaterial\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam: {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n            }\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    deleteTest = (deleteParam) => {\r\n\r\n        const masterData = this.props.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            const testgroupspecification = this.props.masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                const screenName = deleteParam.screenName;\r\n                const inputParam = {\r\n                    inputData: {\r\n                        testgrouptest: deleteParam.selectedRecord,\r\n                        userinfo: this.props.userInfo,\r\n                        testgroupspecification,\r\n                        treetemplatemanipulation: this.props.masterData.selectedNode\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: \"delete\",\r\n                    methodUrl: \"Test\",\r\n                    screenName: \"IDS_TEST\",\r\n                    postParam: {\r\n                        inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                        primaryKeyValue: deleteParam.selectedRecord.ntestgrouptestcode,\r\n                        fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                        masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n                    }\r\n                }\r\n                const masterData = this.props.masterData;\r\n                if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData },\r\n                            openModal: true, screenName: screenName, operation: deleteParam.operation, selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteAction = (item, operation, ncontrolCode, methodUrl, modalName) => {\r\n\r\n        const masterData = this.props.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            const selected = item;\r\n            const inputParam = {\r\n                inputData: {\r\n                    [methodUrl.toLowerCase()]: selected,\r\n                    userinfo: this.props.userInfo,\r\n                    testgroupspecification: this.props.masterData.SelectedSpecification,\r\n                    deletetestgroupsubcoded:this.state.selectedsubcodedresult\r\n                },\r\n                classUrl: \"testgroup\",\r\n                operation: operation,\r\n                methodUrl: methodUrl,\r\n                screenName: \"IDS_TEST\",\r\n                postParam: {\r\n                    inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                    primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                    fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                    masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n                }\r\n            }\r\n            const masterData = this.props.masterData;\r\n            if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        [modalName]: true, screenName: \"IDS_TEST\", operation: operation, selectedRecord: {}\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    onSwitchChange = (item, key, methodUrl, event) => {\r\n        const masterData = this.props.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            //NIBSCRT-2236\r\n            const testgroupspecification = this.props.masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                let dataItem = item;\r\n                if (methodUrl === \"TestGroupTestFormula\") {\r\n                    dataItem[\"ntransactionstatus\"] = transactionStatus.YES;\r\n                } else if (methodUrl === 'TestGroupPredefParameter') {\r\n                    // if(this.props.masterData.SelectedSpecification.napprovalstatus === transactionStatus.DRAFT || this.props.masterData.SelectedSpecification.napprovalstatus === transactionStatus.CORRECTION)\r\n                    // {\r\n                    dataItem['ndefaultstatus'] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n                    // }\r\n                    // else{\r\n                    //     return toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n                    // }\r\n\r\n                }\r\n                else {\r\n                    dataItem[\"ndefaultstatus\"] = transactionStatus.YES;\r\n                }\r\n                const inputParam = {\r\n                    inputData: {\r\n                        [key]: dataItem,\r\n                        userinfo: this.props.userInfo,\r\n                        testgroupspecification: this.props.masterData.SelectedSpecification\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: \"default\",\r\n                    methodUrl: methodUrl\r\n                }\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\", {});\r\n            }\r\n            else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    onEsignInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        let inputData = [];\r\n        let masterData = { ...this.props.masterData }\r\n        let inputParam = []\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[\"parameterTypeCode\"] = comboData.value;\r\n                selectedRecord[fieldName] = comboData;\r\n                const needRoundingDigit = comboData.value === parameterType.NUMERIC ? false : true;\r\n                const needUnit = comboData.value === parameterType.NUMERIC ? false : true;\r\n                selectedRecord[\"nroundingdigits\"] = 0;\r\n                selectedRecord[\"nunitcode\"] = comboData.value === parameterType.NUMERIC ? this.props.parameterData.defaultUnit : undefined;\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        selectedRecord,\r\n                        testGroupInputData: {\r\n                            ...this.props.testGroupInputData,\r\n                            needRoundingDigit, needUnit\r\n                        }\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n                break;\r\n\r\n            case 3:\r\n                selectedRecord[\"schecklistversionname\"] = comboData.item.schecklistversionname;\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n            case 4:\r\n                let oldnmaterialtypecode = selectedRecord[\"nmaterialtypecode\"].value ? selectedRecord[\"nmaterialtypecode\"].value : selectedRecord[\"nmaterialtypecode\"];\r\n\r\n                if (oldnmaterialtypecode !== comboData.value) {\r\n                    delete selectedRecord['nmaterialcatcode']\r\n                    delete selectedRecord['nmaterialcode']\r\n                }\r\n                selectedRecord[\"nmaterialtypecode\"] = comboData.value;\r\n\r\n                selectedRecord[fieldName] = comboData;\r\n                inputData = {\r\n                    userinfo: this.props.userInfo,\r\n                    nmaterialtypecode: parseInt(comboData.value),\r\n                }\r\n                inputParam = {\r\n                    materialType: this.props.materialType,\r\n                    operation: this.props.operation, masterData,\r\n                    inputData, selectedRecord,\r\n                    screenName: \"IDS_TESTGROUPMATERIAL\", ncontrolCode: this.props.ncontrolCode\r\n                }\r\n                this.props.getMaterialCategoryBasedMaterialType(inputParam)\r\n                break;\r\n            case 5:\r\n                if (selectedRecord[\"nmaterialcatcode\"]) {\r\n                    let oldnmaterialcatcode = selectedRecord[\"nmaterialcatcode\"].value ? selectedRecord[\"nmaterialcatcode\"].value : selectedRecord[\"nmaterialcatcode\"];\r\n                    if (oldnmaterialcatcode !== comboData.value) {\r\n\r\n                        delete selectedRecord['nmaterialcode']\r\n                    }\r\n                }\r\n                selectedRecord[\"nmaterialcatcode\"] = comboData.value;\r\n\r\n                selectedRecord[fieldName] = comboData;\r\n                inputData = {\r\n                    userinfo: this.props.userInfo,\r\n                    nmaterialcatcode: parseInt(selectedRecord[\"nmaterialcatcode\"].value),\r\n                    nmaterialtypecode: parseInt(selectedRecord[\"nmaterialtypecode\"].value),\r\n\r\n                }\r\n                inputParam = {\r\n                    masterData, inputData,\r\n                    selectedRecord, operation: this.props.operation,\r\n                    selectedRecord, screenName: \"IDS_TESTGROUPMATERIAL\", ncontrolCode: this.props.ncontrolCode\r\n                }\r\n                this.props.getMaterialBasedMaterialCategory(inputParam)\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    addSubCodedResult = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         loadEsign: true,\r\n        //         openModal: true,\r\n        //         screenName: \"IDS_TESTGROUPTESTMATERIAL\"\r\n        //     },\r\n        // };\r\n        // this.props.updateStore(updateInfo);\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                //operation: \"create\", \r\n                selectedId: null,//selectedsubcodedresult:\"\",\r\n                openChildModal: true, screenName: \"IDS_SUBCODEDRESULT\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    deleteSubCodedResult = (index, subCodedResult, index1) => {\r\n        const selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n        selectedsubcodedresult.splice(index1.dataIndex, 1);\r\n        //const selectsubcodedelete=[];\r\n        const selectsubcodedelete= this.state.selectsubcodedelete || [];\r\n        if(index[\"ntestgrouptestpredefsubcode\"])\r\n        selectsubcodedelete.push({ \"ntestgrouptestpredefsubcode\":index[\"ntestgrouptestpredefsubcode\"], \"ssubcodedresult\":index[\"ssubcodedresult\"],\"ntestgrouptestpredefcode\":index[\"ntestgrouptestpredefcode\"] });\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedId: null, selectedsubcodedresult,selectsubcodedelete\r\n\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n    onInputOnChange = (event, caseNo, optional) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                if (event.target.type === 'checkbox') {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\r\n                    if (selectedRecord[\"nneedresultentryalert\"] === 4) {\r\n                        selectedRecord[\"nneedsubcodedresult\"] = 4\r\n                        delete selectedRecord[\"salertmessage\"]\r\n                        this.setState({ selectedsubcodedresult: [] });\r\n                    }\r\n                    if (selectedRecord[\"nneedsubcodedresult\"] === 4) {\r\n                        this.setState({ selectedsubcodedresult: [] });\r\n                    }\r\n                    else if(selectedRecord[\"nresultmandatory\"]===3)\r\n                    {\r\n                        selectedRecord[\"nisadhocparameter\"] = 4\r\n                    }\r\n                } else if (event.target.type === 'radio') {\r\n                    selectedRecord[event.target.name] = optional;\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[event.target.name] = event.target.value;\r\n                const indexKey = Object.keys(optional)[0];\r\n                const value = Object.values(optional)[0];\r\n                const treeData = {\r\n                    ntreeversiontempcode: value.ntreeversiontempcode,\r\n                    npositioncode: value.nlevelno - 1,\r\n                    sleveldescription: event.target.value,\r\n                    ntemptranstestgroupcode: value.ntemptranstestgroupcode,\r\n                    nformcode: 62,\r\n                    schildnode: value.schildnode,\r\n                    nnextchildcode: value.schildnode\r\n                }\r\n                let treetemplatemanipulation = selectedRecord.treetemplatemanipulation || [];\r\n                treetemplatemanipulation[indexKey] = treeData;\r\n                selectedRecord[\"treetemplatemanipulation\"] = treetemplatemanipulation;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 4:\r\n                const inputValue = event.target.value;\r\n                if (/^-?\\d*?\\.?\\d*?$/.test(inputValue) || inputValue === \"\") {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n\r\n            case 6:\r\n                // selectedRecord[event.target.name] = selectedRecord[\"sresultparacomment\"] = { label: event.target.value, value: event.target.value };\r\n                // this.setState({ selectedRecord });\r\n                // break;\r\n                //selectedRecord[event.target.name] = selectedRecord[\"sresultparacomment\"] = event.target.value;\r\n                selectedRecord[event.target.name] = selectedRecord[\"spredefinedsynonym\"] = event.target.value;\r\n                //selectedRecord[\"sparametername\"] = { label: event.target.value, value: event.target.value };\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 5:\r\n                if (event.target.type === 'checkbox') {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\r\n                    if (selectedRecord[\"nneedresultentryalert\"] === 4) {\r\n                        selectedRecord[\"nneedsubcodedresult\"] = 4\r\n                        delete selectedRecord[\"salertmessage\"]\r\n                        this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n                        const selectsubcodedelete=this.state.selectedsubcodedresult || []\r\n                        this.setState({ selectedsubcodedresult: [],selectsubcodedelete,codedResultMandatory:this.codedResultMandatory });\r\n                    }\r\n                    if (selectedRecord[\"nneedresultentryalert\"] === 3) {\r\n                        this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_ALERTMESSAGE\", \"dataField\": \"salertmessage\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n\r\n                        this.setState({ codedResultMandatory: [] });\r\n                    }\r\n\r\n\r\n\r\n                    // if (selectedRecord[\"nneedsubcodedresult\"] === 3) {\r\n                    //     this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n                    //     { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"sresultparacomment\", \"width\": \"200px\", \"mandatory\": true },\r\n                    //     { \"idsName\": \"IDS_ALERTMESSAGE\", \"dataField\": \"salertmessage\", \"width\": \"200px\", \"mandatory\": true },\r\n                    //     { \"idsName\": \"IDS_SUBCODEDRESULT\", \"dataField\": \"ssubcodedresult\", \"width\": \"200px\", \"mandatory\": true },\r\n                    //     { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n\r\n                    //     this.setState({ codedResultMandatory: [] });\r\n                    // }\r\n\r\n                    if (selectedRecord[\"nneedsubcodedresult\"] === 4) {\r\n                        const selectsubcodedelete=this.state.selectedsubcodedresult || []\r\n                        this.setState({ selectedsubcodedresult: [],selectsubcodedelete });\r\n                    }\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    onNumericInputChange = (value, name) => {\r\n        console.log(\"value:\", value, name);\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (name === \"nroundingdigits\") {\r\n\r\n            // if (/^-?\\d*?$/.test(value.target.value) || value.target.value === \"\") {\r\n            //     console.log(\"val:\", value.target.value);\r\n            //     selectedRecord[name] = value.target.value;\r\n            // }\r\n            // if (/^-?\\d*?$/.test(value) || value === \"\") {\r\n            //    // console.log(\"val:\", value);\r\n            //     selectedRecord[name] = value;\r\n            // }\r\n            //const values = value.target.value.replace(/[^-^0-9]/g, '');\r\n            if (/^[0-9]+$/.test(value.target.value) || value.target.value === \"\") {\r\n                selectedRecord[name] = value.target.value;\r\n\r\n            } else {\r\n                selectedRecord[name] = \"\";\r\n            }\r\n        }\r\n        else {\r\n            selectedRecord[name] = value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openChildModal\");\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.selectedRecord });\r\n        }\r\n        if (this.props.selectedsubcodedresult !== previousProps.selectedsubcodedresult) {\r\n            this.setState({ selectedsubcodedresult: this.props.selectedsubcodedresult });\r\n        }\r\n\r\n        if (this.props.selectsubcodedelete !== previousProps.selectsubcodedelete) {\r\n            this.setState({ selectsubcodedelete: this.props.selectsubcodedelete });\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default injectIntl(TestGroupTestTab);"]},"metadata":{},"sourceType":"module"}