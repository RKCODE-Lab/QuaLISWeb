{"ast":null,"code":"import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from\"../rsapi\";import{toast}from\"react-toastify\";import{constructOptionList,sortData}from\"../components/CommonScript\";import{DEFAULT_RETURN}from\"./LoginTypes\";import{initRequest}from\"./LoginAction\";export var getTrainingUpdate=function getTrainingUpdate(trainingupdate,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"trainingupdate/getTrainingUpdateById\",{ntrainingcode:trainingupdate.ntrainingcode,userinfo:userInfo}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,dataState:undefined}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.error(error.message);});};};export var changeTechniqueFilter=function changeTechniqueFilter(inputParam,filterTechnique,selectedTechinque){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/trainingupdate/get\"+inputParam.methodUrl,inputParam.inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);var masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);if(inputParam.searchRef!==undefined&&inputParam.searchRef.current!==null){inputParam.searchRef.current.value=\"\";masterData['searchedData']=undefined;}dispatch({type:DEFAULT_RETURN,payload:{loading:false,masterData:_objectSpread(_objectSpread({},masterData),{},{filterTechnique:filterTechnique,nfilterTechnique:inputParam.inputData.nfilterTechnique,selectedTechinque:selectedTechinque.item})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};};export function getParticipantsAccordion(versionObject){var version=versionObject.version,masterData=versionObject.masterData,userInfo=versionObject.userInfo;return function(dispatch){if(!(masterData.selectedParticipants.nparticipantcode===version.nparticipantcode)){var inputData={nparticipantcode:version.nparticipantcode,userinfo:userInfo};rsapi.post('trainingupdate/getParticipantsAccordion',inputData).then(function(response){sortData(masterData);masterData=_objectSpread(_objectSpread({},masterData),{},{selectedParticipants:response.data.selectedParticipants,TraineeDocuments:response.data.TraineeDocuments});sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}};}","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/actions/TrainingUpdateAction.js"],"names":["rsapi","toast","constructOptionList","sortData","DEFAULT_RETURN","initRequest","getTrainingUpdate","trainingupdate","userInfo","masterData","dispatch","post","ntrainingcode","userinfo","then","response","data","type","payload","loading","dataState","undefined","catch","error","message","changeTechniqueFilter","inputParam","filterTechnique","selectedTechinque","methodUrl","inputData","responseData","searchRef","current","value","nfilterTechnique","item","status","warn","getParticipantsAccordion","versionObject","version","selectedParticipants","nparticipantcode","TraineeDocuments"],"mappings":"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","sourcesContent":["import rsapi from \"../rsapi\";\r\nimport {\r\n    toast\r\n} from \"react-toastify\";\r\nimport {\r\n    constructOptionList,\r\n    sortData\r\n} from \"../components/CommonScript\";\r\nimport {\r\n    DEFAULT_RETURN\r\n} from \"./LoginTypes\";\r\nimport {\r\n    initRequest\r\n} from \"./LoginAction\";\r\n\r\n\r\nexport const getTrainingUpdate = (trainingupdate, userInfo, masterData) => {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"trainingupdate/getTrainingUpdateById\", {\r\n            ntrainingcode: trainingupdate.ntrainingcode,\r\n                userinfo: userInfo\r\n            })\r\n            .then(response => {\r\n                masterData = {\r\n                    ...masterData,\r\n                    ...response.data\r\n                }\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        dataState: undefined\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\n\r\nexport const changeTechniqueFilter = (inputParam, filterTechnique,selectedTechinque) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/trainingupdate/get\" + inputParam.methodUrl, inputParam.inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                let masterData = {\r\n                    ...inputParam.masterData,\r\n                    ...responseData,\r\n                }\r\n                if (inputParam.searchRef !== undefined && inputParam.searchRef.current !== null) {\r\n                    inputParam.searchRef.current.value = \"\";\r\n                    masterData['searchedData'] = undefined\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        masterData: {\r\n                            ...masterData,\r\n                            filterTechnique,\r\n                            nfilterTechnique: inputParam.inputData.nfilterTechnique,\r\n                            selectedTechinque:selectedTechinque.item\r\n\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport function getParticipantsAccordion(versionObject) {\r\n    let { version, masterData, userInfo } = versionObject\r\n    return function (dispatch) {\r\n        if (!(masterData.selectedParticipants.nparticipantcode === version.nparticipantcode)) {\r\n            const inputData = { nparticipantcode: version.nparticipantcode, userinfo: userInfo }\r\n            rsapi.post('trainingupdate/getParticipantsAccordion', inputData)\r\n            \r\n                .then(response => {\r\n                    sortData(masterData)\r\n                    masterData = {\r\n                        ...masterData,\r\n                        selectedParticipants: response.data.selectedParticipants,\r\n                        TraineeDocuments: response.data.TraineeDocuments\r\n                    }\r\n                    sortData(masterData)\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            masterData,\r\n                            loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        } else {\r\n            dispatch({\r\n                type: DEFAULT_RETURN, payload: { masterData, loading: false }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n                             \r\n       \r\n"]},"metadata":{},"sourceType":"module"}