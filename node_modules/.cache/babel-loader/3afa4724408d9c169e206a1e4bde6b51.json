{"ast":null,"code":"import _createForOfIteratorHelper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Row,Col,Nav,Button,Modal,Card}from'react-bootstrap';import{FormattedMessage,injectIntl}from'react-intl';import{ListWrapper}from'../../components/client-group.styles';import FormSelectSearch from'../../components/form-select-search/form-select-search.component';import FormTextarea from'../../components/form-textarea/form-textarea.component';import DropZone from'../../components/dropzone/dropzone.component';import'../../components/list-master/list-master.styles';import{attachmentType,parameterType,transactionStatus,formCode}from'../../components/Enumeration';import'./result.css';import'../../assets/styles/tree.css';import{MediaHeader,MediaLabel,MediaSubHeader}from'../../components/App.styles';import FormInput from'../../components/form-input/form-input.component';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCalculator,faEye,faInfo,faInfoCircle,faSave}from'@fortawesome/free-solid-svg-icons';import TestPopOver from'./TestPopOver';import{numberConversion,numericGrade}from'./ResultEntryValidation';import{Lims_JSON_stringify,constructOptionList,deleteAttachmentDropZone,rearrangeDateFormat,replaceBackSlash}from'../../components/CommonScript';import{connect}from'react-redux';import ResultEntryPredefinedComments from'./ResultEntryPredefinedComments';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import ModalShow from'../../components/ModalShow';import{// getPredefinedData,\nupdateStore}from'../../actions';import rsapi from'../../rsapi';import Preloader from'../../components/preloader/preloader.component';import{withRouter}from'react-router-dom';import{initRequest}from'../../actions/LoginAction';import{toast}from'react-toastify';import Axios from'axios';import{intl}from'../../components/App';// const mapStatetoProps = (state) => {\n//     return {\n//         Login: state.Login\n//     }\n// }\n// const mapDispatchToProps = dispatch => ({ \n//     dispatch                // ‚Üê Add this\n//  })\nvar ResultEntryForm=/*#__PURE__*/function(_React$Component){_inherits(ResultEntryForm,_React$Component);var _super=_createSuper(ResultEntryForm);function ResultEntryForm(props){var _this;_classCallCheck(this,ResultEntryForm);_this=_super.call(this,props);_this.onComboChange=function(comboData,comboName){var selectedRecord=_this.state.selectedRecord||[];var currentAlertResultCode=_this.state.currentAlertResultCode||0;if(comboData){selectedRecord[comboName]=comboData;}else{selectedRecord[comboName]=[];}_this.setState({selectedRecord:selectedRecord});};_this.onInputChange=function(Data,name){var selectedRecord=_this.state.selectedRecord||[];var currentAlertResultCode=_this.state.currentAlertResultCode||0;if(Data){selectedRecord[name]=Data.target.value;}else{selectedRecord[name]=[];}_this.setState({selectedRecord:selectedRecord});};_this.onKeyPress=function(event,index,paremterResultcode){if(event.keyCode===13){//for (let i = 0; i < event.target.form.elements.length; i++) {\n// if (parseInt(event.target.form.elements[i].id) === paremterResultcode[index + 1]) {\n//     event.target.form.elements[i].focus();\n//     //break;\n// }\n//}\nif(paremterResultcode[index+1]!==undefined&&paremterResultcode[index+1]!==null){document.getElementById(index+1).focus();}event.preventDefault();}};_this.closeModalShow=function(){var showAlertGrid=_this.props.Login.showAlertGrid;var selectedRecord=_this.props.Login.selectedRecord;selectedRecord['ntestgrouptestpredefsubcode']&&delete selectedRecord['ntestgrouptestpredefsubcode'];showAlertGrid=false;var updateInfo={typeName:DEFAULT_RETURN,data:{showAlertGrid:showAlertGrid,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.onModalSave=function(){var selectedRecord=_this.state.selectedRecord||[];var currentAlertResultCode=_this.state.currentAlertResultCode||0;var parameterResults=_this.state.parameterResults;var currentntestgrouptestpredefcode=_this.state.currentntestgrouptestpredefcode||0;var bool=parameterResults.some(function(x){return x['ntransactionresultcode']===currentAlertResultCode;});if(bool){parameterResults.map(function(Parameter){if(Parameter['ntransactionresultcode']===currentAlertResultCode){Parameter['additionalInfoUidata']={ntestgrouptestpredefsubcode:selectedRecord['ntestgrouptestpredefsubcode']};if(selectedRecord['ntestgrouptestpredefsubcode']){if(typeof selectedRecord['ntestgrouptestpredefsubcode']==='string'){Parameter['additionalInfo']=selectedRecord['ntestgrouptestpredefsubcode'];}else{Parameter['additionalInfo']=\"\";Parameter['additionalInfo']=selectedRecord['ntestgrouptestpredefsubcode'].map(function(x){return x.label+\",\";}).join('\\n');Parameter['additionalInfo']=replaceBackSlash(Parameter['additionalInfo'].substring(0,Parameter['additionalInfo'].length-1));}}else{Parameter['additionalInfo']=\"\";Parameter['additionalInfoUidata']&&delete Parameter['additionalInfoUidata'];}Parameter['ntestgrouptestpredefcode']=currentntestgrouptestpredefcode;}});}// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: { parameterResults:parameterResults,selectedRecord: selectedRecord, showAlert: false }\n// }\n// this.props.updateStore(updateInfo);\n//Sync With Parent Component\n_this.props.onResultInputChange(parameterResults);_this.setState({parameterResults:parameterResults,selectedRecord:selectedRecord,showAlert:false});};_this.onGradeEvent=function(ResultParameter,index,parameter){if(ResultParameter.length>0&&ResultParameter[index]!==undefined&&ResultParameter[index].sresult!==null){var selectedRecord=_this.state.selectedRecord||[];var selectedResultGrade=_this.state.selectedResultGrade||[];if(parameter.nparametertypecode===parameterType.NUMERIC){selectedResultGrade[index]={ngradecode:ResultParameter[index].sresult!==\"\"?numericGrade(parameter,parameter.nroundingdigits!=0?numberConversion(parseFloat(ResultParameter[index].sresult),parseInt(parameter.nroundingdigits)):parseFloat(ResultParameter[index].sresult)):-1};}if(parameter.nparametertypecode===parameterType.PREDEFINED){if(ResultParameter[index].sresult!==null){selectedResultGrade[index]={ngradecode:ResultParameter[index].ngradecode};}else{selectedResultGrade[index]={ngradecode:0};}}if(parameter.nparametertypecode===parameterType.CHARACTER){if(ResultParameter[index].sresult!==null&&ResultParameter[index].sresult.trim()!==\"\"){//selectedResultGrade[index] = { ngradecode: ResultParameter[index].ngradecode };\nselectedResultGrade[index]={ngradecode:4};}else{selectedResultGrade[index]={ngradecode:-1};}}selectedRecord.selectedResultGrade=selectedResultGrade;//    if (ResultParameter.length > 0 && ResultParameter[index] !== undefined && ResultParameter[index].ngradecode !== selectedResultGrade[index].ngradecode) {\n_this.setState({selectedRecord:selectedRecord});// }\n}};_this.deleteAttachmentParameterFile=function(event,file,fieldName,index){var ResultParameter=_this.state.parameterResults[index];var parameterResults=_this.state.parameterResults;ResultParameter[fieldName]=deleteAttachmentDropZone(ResultParameter[fieldName],file);parameterResults[index]['editable']=true;_this.setState({parameterResults:parameterResults});};_this.onResultInputChange=function(event,index,parameter,comboName){var selectedRecord=_this.state.selectedRecord||[];var ResultParameter=_this.state.parameterResults?_toConsumableArray(_this.state.parameterResults):[];var sresult=\"\";var sfinal=\"\";var sresultpredefinedname=\"\";var salertmessage=\"\";var sresultcomment=\"\";var value=-1;var acceptedFile=[];var ncalculatedresult;var currentAlertResultCode=0;var currentntestgrouptestpredefcode=0;var inputData={};//  if ((event[0] && event[0].name!==ResultParameter[index]['sresult']) || (event.target && event.target.value !== ResultParameter[index]['sresult']) ||\n//     (event.item && event.item.ntransactionresultcode ===\n//        ResultParameter[index].ntransactionresultcode && ResultParameter[index]['sresult'] !== event.item && event.item.spredefinedname)) {\nif(parameter.nparametertypecode===parameterType.NUMERIC){// if(event !== null){\nif(/^-?\\d*?\\.?\\d*?$/.test(event.target&&event.target.value)||event.target&&event.target.value===\"\"){sresult=event.target.value;ncalculatedresult=4;}else{if(event&&event.item!=null){if(comboName===\"unitcode\"){ResultParameter[index]['unitcode']=event;sresult=ResultParameter[index]['sresult'];ncalculatedresult=4;}else if(comboName===\"resultaccuracycode\"){ResultParameter[index]['resultaccuracycode']=event;sresult=ResultParameter[index]['sresult'];ncalculatedresult=4;}}else{sresult=ResultParameter[index]['sresult']===null?\"\":ResultParameter[index]['sresult'];ncalculatedresult=ResultParameter[index]['ncalculatedresult'];}}// }else{\n//     if(comboName === \"nresultaccuracycode\"){    \n//         delete ResultParameter[index]['nresultaccuracycode'] ;                \n//         sresult = ResultParameter[index]['sresult'];\n//         ncalculatedresult = 4;\n//    }\n// }         \n}if(parameter.nparametertypecode===parameterType.PREDEFINED){currentAlertResultCode=event.item.ntransactionresultcode;currentntestgrouptestpredefcode=event.item.ntestgrouptestpredefcode;if(event!=null){sresult=event.item.spredefinedname;sresultpredefinedname=event.item.sresultpredefinedname;sfinal=event.item.spredefinedsynonym;value=event.item.ngradecode;// salertmessage = event.item.salertmessage ? Lims_JSON_stringify(event.item.salertmessage,false) : \"\";\nsalertmessage=event.item.salertmessage?event.item.salertmessage:\"\";sresultcomment=event.item.spredefinedcomments&&event.item.spredefinedcomments!==\"null\"?event.item.spredefinedcomments:\"\";ncalculatedresult=4;}else{sresult=\"\";sfinal=\"\";sresultpredefinedname=\"\";value=-1;ncalculatedresult=4;}inputData={'ntestgrouptestpredefcode':event.item.ntestgrouptestpredefcode,'salertmessage':salertmessage,'nneedresultentryalert':event.item.nneedresultentryalert,'nneedsubcodedresult':event.item.nneedsubcodedresult};if(event.item.nneedresultentryalert===transactionStatus.NO&&event.item.nneedsubcodedresult===transactionStatus.NO){if(ResultParameter[index]['additionalInfo']){ResultParameter[index]['additionalInfo']=\"\";}if(ResultParameter[index]['additionalInfoUidata']){ResultParameter[index]['additionalInfoUidata']=\"\";}}}if(parameter.nparametertypecode===parameterType.CHARACTER){sresult=event.target.value;if(event.target.value.trim()===\"\")ncalculatedresult=-1;else ncalculatedresult=4;}if(parameter.nparametertypecode===parameterType.ATTACHMENT){sresult=event[0]&&event[0].name;sfinal=event;ncalculatedresult=4;}if(sresult!==null&&sresult!=\"\"){ResultParameter[index]['editable']=true;}ResultParameter[index]['sresult']=sresult;ResultParameter[index]['sfinal']=sfinal;ResultParameter[index]['sresultpredefinedname']=sresultpredefinedname;ResultParameter[index]['sresultcomment']=sresultcomment;ResultParameter[index]['salertmessage']=salertmessage;ResultParameter[index]['acceptedFile']=acceptedFile;ResultParameter[index]['ngradecode']=value;ResultParameter[index]['ncalculatedresult']=ncalculatedresult;ResultParameter[index]['dummty']='dummty';selectedRecord.ResultParameter=ResultParameter;var parameterResults=ResultParameter;if(parameter.nparametertypecode===parameterType.PREDEFINED&&(event.item.nneedresultentryalert===transactionStatus.YES||event.item.nneedsubcodedresult===transactionStatus.YES)){// this.props.\n_this.getPredefinedData(inputData,selectedRecord,currentAlertResultCode,_this.props.Login.masterData,currentntestgrouptestpredefcode);}else{if(selectedRecord[\"ntestgrouptestpredefsubcode\"]){delete selectedRecord[\"ntestgrouptestpredefsubcode\"];}}//Sync child Data With Parent Component\n_this.props.onResultInputChange(parameterResults);_this.setState({parameterResults:parameterResults,currentAlertResultCode:currentAlertResultCode,currentntestgrouptestpredefcode:currentntestgrouptestpredefcode,selectedRecord:selectedRecord});//}\n};_this.renderSwitch=function(parameter,index,result,screenName){var selectedResultGrade=_this.state.selectedResultGrade;//this.props.selectedResultGrade;\nvar gradeValues=_this.props.gradeValues;var gradeCode=selectedResultGrade?selectedResultGrade.length>0?selectedResultGrade[index]?selectedResultGrade[index]['ngradecode']:undefined:\"\":\"\";var isAdditionalInfoRequired=_this.state.parameterResults[index].hasOwnProperty('additionalInfo')&&_this.state.parameterResults[index]['additionalInfo']!==\"\"&&_this.state.parameterResults[index]['additionalInfo']!==null?true:false;//  parameter.jsondata['value'] ? JSON.parse(parameter.jsondata['value']).hasOwnProperty('additionalInfo') &&\n//     JSON.parse(parameter.jsondata['value'])['additionalInfo'] !== \"\" ? true : false :\n//     parameter.jsondata.hasOwnProperty('additionalInfo') &&\n//         parameter.jsondata['additionalInfo'] !== \"\" ? true : false\nvar addtionalInfoTestPopOver=_this.state.parameterResults[index].hasOwnProperty('additionalInfo')&&_this.state.parameterResults[index]['additionalInfo']!==\"\"&&_this.state.parameterResults[index]['additionalInfo'];switch(parameter.nparametertypecode){case 1:{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row w-100\"},/*#__PURE__*/React.createElement(Col,{md:_this.props.Login.userInfo.nformcode===formCode.RESULTENTRY?2:6},/*#__PURE__*/React.createElement(FormInput//name={this.state.parameterResults[index].ntransactionresultcode}\n,{name:index//id={index}\n,type:\"text\",required:false,isMandatory:false// value={this.props.parameterResults.length > 0 ?\n//     this.props.parameterResults[index] ? (this.props.parameterResults[index]['sresult'] !== null ? this.props.parameterResults[index]['sresult'] : \"\") : \"\" : \"\"}\n,value:_this.state.parameterResults.length>0?_this.state.parameterResults[index]?_this.state.parameterResults[index]['sresult']!==null?_this.state.parameterResults[index]['sresult']:\"\":\"\":\"\"// placeholder={parameter.sparametersynonym}\n//label={parameter.sparametersynonym}\n// onChange={(event) => this.props.onResultInputChange(event, index, parameter)}\n,onChange:function onChange(event){return _this.onResultInputChange(event,index,parameter);},onBlur:function onBlur(){return _this.onGradeEvent(_this.state.parameterResults,index,parameter);}// onBlur={() => this.props.onGradeEvent(this.props.parameterResults, index, parameter)}\n,maxLength:9//onKeyUp={(event) => this.props.onKeyPress(event, index, this.props.paremterResultcode)}\n,onKeyUp:function onKeyUp(event){return _this.onKeyPress(event,index,_this.props.paremterResultcode);}})),/*#__PURE__*/React.createElement(Col,{md:_this.props.Login.userInfo.nformcode===formCode.RESULTENTRY?2:4,className:\"d-flex\"},/*#__PURE__*/React.createElement(ListWrapper,null,/*#__PURE__*/React.createElement(MediaLabel,{className:\"labelfont\",style:{color:gradeValues[gradeCode][0]['scolorhexcode']}},gradeCode===undefined?\"\":gradeValues[gradeCode][0]['sgradename'])),parameter.ntestgrouptestformulacode>0&&parameter.nispredefinedformula===transactionStatus.NO?/*#__PURE__*/React.createElement(Col,{className:\"d-flex product-category justify-content-end icon-group-wrap\"},/*#__PURE__*/React.createElement(Nav.Link,{title:\"Calculate Formula\",className:\"btn btn-circle outline-grey ml-2 p-2\",role:\"button\",id:screenName+-+index,onClick:function onClick(event){return _this.props.getFormula(parameter,_this.props.Login.userInfo,_this.props.Login.masterData,index,event);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{title:\"Calculate Formula\",icon:faCalculator}))):\"\"),/*#__PURE__*/React.createElement(Col,{md:_this.props.Login.userInfo.nformcode===formCode.RESULTENTRY?3:6},/*#__PURE__*/React.createElement(FormSelectSearch,{name:\"nresultaccuracycode\",formLabel:_this.props.intl.formatMessage({id:\"IDS_RESULTACCURACY\"}),placeholder:_this.props.intl.formatMessage({id:\"IDS_SELECTRECORD\"}),options:_this.props.ResultAccuracy,value:_this.state.parameterResults[index]['resultaccuracycode']||\"\"//value = { this.props.selectedRecord && this.props.selectedRecord[\"nresultaccuracycode\"] || \"\"}\n,isMandatory:false//isClearable={true}\n,isMulti:false,isSearchable:true,isDisabled:false,closeMenuOnSelect:true,defaultValue:_this.state.parameterResults[index]['resultaccuracycode']//defaultValue={this.props.selectedRecord && this.props.selectedRecord[\"nresultaccuracycode\"]}\n,onChange:function onChange(event){return _this.onResultInputChange(event,index,parameter,'resultaccuracycode');}})),/*#__PURE__*/React.createElement(Col,{md:_this.props.Login.userInfo.nformcode===formCode.RESULTENTRY?3:6},/*#__PURE__*/React.createElement(FormSelectSearch,{name:\"nunitcode\",formLabel:_this.props.intl.formatMessage({id:\"IDS_UNIT\"}),placeholder:_this.props.intl.formatMessage({id:\"IDS_SELECTRECORD\"}),options:_this.props.Unit,value:_this.state.parameterResults[index]['unitcode']||\"\",isMandatory:false,isMulti:false,isSearchable:true,isDisabled:false,closeMenuOnSelect:true,defaultValue:_this.state.parameterResults[index]['unitcode'],onChange:function onChange(event){return _this.onResultInputChange(event,index,parameter,'unitcode');}}))));}case 2:{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{md:isAdditionalInfoRequired?8:10,className:\"pl-0\"},/*#__PURE__*/React.createElement(FormSelectSearch// name={this.state.parameterResults[index] && this.state.parameterResults[index].ntransactionresultcode}\n,{name:index,as:\"select\",id:index//formLabel={parameter.sparametersynonym}\n,defaultValue:{\"value\":_this.state.parameterResults[index]&&_this.state.parameterResults[index].sresultpredefinedname,\"label\":_this.state.parameterResults[index]&&_this.state.parameterResults[index].sresultpredefinedname}//  defaultValue={{ \"value\": parameter.sresultpredefinedname, \"label\": parameter.sresultpredefinedname }}\n//  defaultValue={parameter.sresult && (parameter.sresult!=null || parameter.sresult !== \"\") ?  { \"value\": parameter.ngradecode, \"label\": parameter.sresult } :\n//  this.props.predefinedValues ? constructOptionList(this.props.predefinedValues[parameter.ntransactionresultcode]||[],'ngradecode',\n// 'spredefinedname' , undefined, undefined, undefined).get(\"DefaultValue\"):\"\"}\n,options:_this.props.predefinedValues?_this.props.predefinedValues[parameter.ntransactionresultcode]:\"\",optionId:\"ntestgrouptestpredefcode\",optionValue:\"spredefinedname\",isMulti:false,isDisabled:false,matchFrom:'start',isSearchable:true,isClearable:parameter.nresultmandatory===transactionStatus.YES?false:true,isMandatory:false//onKeyUp={(event) => this.props.onKeyPress(event, index, this.props.paremterResultcode)}\n,onKeyUp:function onKeyUp(event){return _this.onKeyPress(event,index,_this.props.paremterResultcode);}// onChange={(event) => this.props.onResultInputChange(event, index, parameter)}\n// onBlur={() => this.props.onGradeEvent(this.props.parameterResults, index, parameter)}\n,onChange:function onChange(event){_this.onResultInputChange(event,index,parameter);_this.onGradeEvent(_this.state.parameterResults,index,parameter);}//onChange={(event) => this.onResultInputChange(event, index, parameter)}\n//onBlur={() => this.onGradeEvent(this.state.parameterResults, index, parameter)}\n})),/*#__PURE__*/React.createElement(Col,{md:2,className:\"pt-2\"},/*#__PURE__*/React.createElement(ListWrapper,null,/*#__PURE__*/React.createElement(MediaLabel,{className:\"labelfont\",style:{color:gradeValues[gradeCode][0]['scolorhexcode']}},gradeCode===undefined?\"\":gradeValues[gradeCode][0]['sgradename']))),isAdditionalInfoRequired&&/*#__PURE__*/React.createElement(Col,{md:2,className:\"pt-2\"},/*#__PURE__*/React.createElement(TestPopOver,{intl:_this.props.intl,needIcon:true,needPopoverTitleContent:true,placement:\"left\",stringList:// parameter.jsondata['value'] ?\n//      [JSON.parse(parameter.jsondata['value'])['additionalInfo']] :\n//              [parameter.jsondata['additionalInfo']] \n// this.state.parameterResults[index].hasOwnProperty('additionalInfo') &&\n// this.state.parameterResults[index]['additionalInfo']!==\"\"&&\n// [this.state.parameterResults[index]['additionalInfo']]}\naddtionalInfoTestPopOver&&[addtionalInfoTestPopOver.replaceAll(/\\\\+n/g,'\\n')]})));}case 3:{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{md:10,className:\"pl-0\"},/*#__PURE__*/React.createElement(FormTextarea,{name:index// name={parameter.ntransactionresultcode}\n//label={parameter.sparametersynonym}\n//placeholder={parameter.sparametersynonym}\n,type:\"text\"//     defaultValue={parameter.sresult}\n,defaultValue:_this.state.parameterResults[index]&&_this.state.parameterResults[index]['sresult'],onKeyUp:function onKeyUp(event){return _this.onKeyPress(event,index,_this.props.paremterResultcode);},isMandatory:false,required:false,maxLength:255,onChange:function onChange(event){return _this.onResultInputChange(event,index,parameter);},onBlur:function onBlur(){return _this.onGradeEvent(_this.state.parameterResults,index,parameter);}})),/*#__PURE__*/React.createElement(Col,{md:2},/*#__PURE__*/React.createElement(ListWrapper,null,/*#__PURE__*/React.createElement(MediaLabel,{className:\"labelfont\",style:{color:gradeValues[gradeCode][0]['scolorhexcode']}},gradeCode===undefined?\"\":gradeValues[gradeCode][0]['sgradename']))));}case 4:{return/*#__PURE__*/React.createElement(Col,{md:12,className:\"pl-0\"},/*#__PURE__*/React.createElement(DropZone,{maxFiles:1,isMandatory:false//label={parameter.sparametersynonym}\n,accept:\".pdf\",minSize:0,maxSize:20,multiple:false// editFiles={parameter.sfinal != null ? parameter : \"\"}\n,editFiles:_this.state.parameterResults[index].sfinal!=null?_this.state.parameterResults[index]:\"\",needdelete:_this.props.needdelete?true:false,attachmentTypeCode:attachmentType.FTP,fileSizeName:\"nfilesize\",fileName:\"sfinal\",index:index// deleteAttachment={this.props.deleteAttachmentParamFile}\n// onDrop={(event) => this.props.onResultInputChange(event, index, parameter)}\n,deleteAttachment:_this.deleteAttachmentParameterFile,onDrop:function onDrop(event){return _this.onResultInputChange(event,index,parameter);}//disabled={disabled}\n}));}default:return\"\";}};_this.state={parameterResults:_toConsumableArray(_this.props.ResultParameter),selectedResultGrade:_this.props.selectedResultGrade//,\n//loading:false\n};return _this;}// componentDidUpdate(previousProps) {\n//     let bool = false;\n//     let { currentAlertResultCode, currentntestgrouptestpredefcode,selectedRecord,showAlert } = this.state\n//     if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n//         bool = true;\n//         selectedRecord = this.props.Login.selectedRecord;\n//     }\n//     if (this.props.Login.showAlert !== previousProps.Login.showAlert) {\n//         bool = true;\n//         showAlert = this.props.Login.showAlert;\n//     }\n//     if (this.props.Login.currentAlertResultCode !== previousProps.Login.currentAlertResultCode) {\n//         bool = true;\n//         currentAlertResultCode = this.props.Login.currentAlertResultCode;\n//     }\n//     if (this.props.Login.currentntestgrouptestpredefcode !== previousProps.Login.currentntestgrouptestpredefcode) {\n//         bool = true;\n//         currentntestgrouptestpredefcode = this.props.Login.currentntestgrouptestpredefcode;\n//     }\n//     if (bool) {\n//         this.setState({ currentntestgrouptestpredefcode, currentAlertResultCode,selectedRecord,showAlert })\n//     }\n// }\n//For Subcode Result Start\n_createClass(ResultEntryForm,[{key:\"getPredefinedData\",value:function getPredefinedData(inputData,selectedRecord,currentAlertResultCode,masterData,currentntestgrouptestpredefcode){var _this2=this;//  return function (dispatch) {\n//   this.setState({loading:true})\nvar inputParamData={ntestgrouptestpredefcode:inputData.ntestgrouptestpredefcode};//dispatch(initRequest(true));\nrsapi.post(\"resultentrybysample/getPredefinedData\",inputParamData).then(function(response){var showMultiSelectCombo=false;var ResultParameter=selectedRecord['ResultParameter'];var onlyAlertMsgAvailable=false;var testgrouptestpredefsubresult=response.data['testgrouptestpredefsubresult'];if(inputData['nneedsubcodedresult']===transactionStatus.YES){showMultiSelectCombo=true;masterData['testgrouptestpredefsubresultOptions']=testgrouptestpredefsubresult;}else{onlyAlertMsgAvailable=true;}var _iterator=_createForOfIteratorHelper(ResultParameter),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var Parameter=_step.value;if(Parameter.additionalInfoUidata||Parameter.additionalInfoUidata===\"\"){var additionalInfoUidata=typeof Parameter.additionalInfoUidata==='string'?Parameter.additionalInfoUidata===\"\"?\"\":JSON.parse(Parameter.additionalInfoUidata):Parameter.additionalInfoUidata;if(Parameter['ntransactionresultcode']===currentAlertResultCode&&Parameter['ntestgrouptestpredefcode']===inputData['ntestgrouptestpredefcode']){if(Parameter.additionalInfoUidata){selectedRecord[\"ntestgrouptestpredefsubcode\"]=additionalInfoUidata['ntestgrouptestpredefsubcode'];break;}}else{if(selectedRecord[\"ntestgrouptestpredefsubcode\"]){delete selectedRecord[\"ntestgrouptestpredefsubcode\"];}}}}}catch(err){_iterator.e(err);}finally{_iterator.f();};masterData['salertmessage']=inputData.salertmessage;_this2.setState({masterData:masterData,showAlert:inputData.nneedresultentryalert===transactionStatus.NO?false:true,showAlertForPredefined:true,showMultiSelectCombo:showMultiSelectCombo,onlyAlertMsgAvailable:onlyAlertMsgAvailable,additionalInfoView:false,selectedRecord:selectedRecord,currentAlertResultCode:currentAlertResultCode,currentntestgrouptestpredefcode:currentntestgrouptestpredefcode//,\n//  loading:false\n});// dispatch({\n//     type: DEFAULT_RETURN,\n//     payload: { \n//         loading: false,\n//        masterData, \n//         showAlert: inputData.nneedresultentryalert===transactionStatus.NO?false:true,\n//          showAlertForPredefined: true,\n//          showMultiSelectCombo,\n//          onlyAlertMsgAvailable,\n//          additionalInfoView:false,\n//          selectedRecord,\n//          currentAlertResultCode,\n//          currentntestgrouptestpredefcode\n//     }\n// })\n});// .catch(error => {\n//     dispatch({\n//         type: DEFAULT_RETURN,\n//         payload: {\n//             loading: false\n//         }\n//     })\n//     if (error.response.status === 500) {\n//         toast.error(error.message);\n//     } else {\n//         toast.warn(error.response.data);\n//     }\n// })\n//    }\n}// componentDidUpdate(previousProps, prevState, snapshot) {\n//     let parameterResults=[];\n//     if(this.state.parameterResults!==prevState.parameterResults){\n//        // parameterResults=this.props.parameterResults;\n//         //this.setState({parameterResults})\n//         this.props.dispatch({ type: DEFAULT_RETURN });\n//     } \n// }\n},{key:\"componentWillUnmount\",value:// static getDerivedStateFromProps(props, state) {\n//     if( props.Login.showAlert !==  state.showAlert){\n//         //Change in props\n//         return{\n//             showAlert: props.Login.showAlert\n//         };\n//     } \n//     return null; // No change to state\n// }\nfunction componentWillUnmount(){//  let parameterResults = this.state.parameterResults\nvar updateInfo={typeName:DEFAULT_RETURN,//  data: { parameterResults: undefined  }\ndata:{isParameterInitialRender:false//,parameterResults:[] ,selectedRecord :{}\n}};this.props.updateStore(updateInfo);}// shouldComponentUpdate (nextProps,nextState) {\n//     // Rendering the component only if\n//     // passed props value is changed\n//     console.log('nextProps',nextProps);\n//     if ((nextProps.Login.parameterResults !==this.props.Login.parameterResults)) {\n//       return false;\n//     }else if(nextState.parameterResults!==this.state.parameterResults){\n//         return true;\n//     } else {\n//       return false;\n//     }\n//   }\n// shouldComponentUpdate (nextProps) { \n//     if ((nextProps.Login.parameterResults !==this.props.Login.parameterResults)&&\n//     nextProps.Login.isParameterInitialRender===false) {\n//       return false;\n//     } else {\n//       return true;\n//     }\n//   }\n// componentDidUpdate (prevProps, prevState) {\n//   //  console.log('Deleted User successfully'); \n//     let parameterResults = this.state.parameterResults\n//     if(this.state.parameterResults!==prevState.parameterResults){\n//         const updateInfo = {\n//             typeName: DEFAULT_RETURN,\n//             data: { parameterResults: parameterResults,isParameterInitialRender:false }\n//         }\n//         this.props.updateStore(updateInfo);\n//     }\n//   }\n// this.props.onSaveClick = (childData) =>{\n//     this.setState({name: childData})\n// }\n// updateStoreResultEntryForm = (updateInfo)  => { \n//     return function (dispatch) {\n//         console.log('updateInfoXXXXX')\n//         dispatch({\n//             type: updateInfo.typeName,\n//             payload: {\n//                 ...updateInfo.data,\n//                 masterStatus: \"\",\n//                 errorCode: undefined\n//             }\n//         }); \n//     } \n// }\n},{key:\"render\",value:function render(){var _this3=this;//  console.log(\"Grand Child Result Entry Form\");\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,//this.props.index===0&&\nthis.state.showAlert&&/*#__PURE__*/React.createElement(ModalShow,{modalShow:this.state.showAlert,modalTitle:this.props.intl.formatMessage({id:\"IDS_ADDITIONALINFOREQURIED\"}),closeModal:this.closeModalShow,onSaveClick:this.onModalSave,removeCancel:this.state.showAlertForPredefined||this.state.additionalInfoView?true:false,needSubmit:this.state.showAlertForPredefined||this.state.additionalInfoView?true:false,needSave:this.state.showAlertForPredefined||this.state.additionalInfoView?\"\":true,selectedRecord:this.state.selectedRecord||{},size:this.state.showAlertForPredefined||this.state.additionalInfoView?\"\":'lg',showAlertMsg:this.state.showAlertForPredefined?true:false,modalBody:/*#__PURE__*/React.createElement(ResultEntryPredefinedComments,{onlyAlertMsgAvailable:this.state.onlyAlertMsgAvailable,salertmessage:this.state.masterData['salertmessage'],showMultiSelectCombo:this.state.showMultiSelectCombo,testgrouptestpredefsubresultOptions:this.state.masterData.testgrouptestpredefsubresultOptions||[],selectedRecord:this.state.selectedRecord||{},onInputChange:this.onInputChange,onComboChange:this.onComboChange})}),/*#__PURE__*/React.createElement(Row,{className:\"result-entry-form-slide\"},/*#__PURE__*/React.createElement(React.Fragment,null,this.props.needSubSample&&this.props.parameterResults.ssamplearno?/*#__PURE__*/React.createElement(MediaHeader,{className:\"labelfont\",style:{color:\"#007bff\"}},this.props.parameterResults.ssamplearno,this.props.parameterResults.stestsynonym?/*#__PURE__*/React.createElement(\"span\",{className:\"labelfont\"//style={{ color: \"#505f79\" }}\n,style:{color:\"#97a0af\",paddingLeft:'0.2rem'}},\" \",this.props.parameterResults.stestsynonym):\"\"):this.props.parameterResults.sarno?/*#__PURE__*/React.createElement(MediaHeader,{className:\"labelfont\",style:{color:\"#007bff\"}},this.props.parameterResults.sarno,this.props.parameterResults.stestsynonym?/*#__PURE__*/React.createElement(\"span\",{className:\"labelfont\"//style={{ color: \"#505f79\" }}\n,style:{color:\"#97a0af\",paddingLeft:'0.2rem'}},\" \",this.props.parameterResults.stestsynonym):\"\"):\"\",this.props.formFields&&this.props.formFields.length>0?this.props.formFields.map(function(item,index){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MediaHeader,{className:\"labelfont\",style:{color:\"#007bff\",paddingLeft:'0.3rem'}},item+\" : \"),/*#__PURE__*/React.createElement(MediaHeader,{className:\"labelfont\",style:{color:\"##97a0af\",paddingLeft:'0.3rem'}},_this3.props.parameterResults.hasOwnProperty(item)?_this3.props.parameterResults[item]||'-':'-',index===_this3.props.formFields.length-1?\"\":\" | \"));}):\"\",/*#__PURE__*/React.createElement(Col,{md:12,className:\"pl-0 mt-2\"},/*#__PURE__*/React.createElement(MediaHeader,{className:\"labelfont\",style:{color:\"#505f79\"}},\" \",this.props.parameterResults.sparametersynonym,this.props.parameterResults.nresultmandatory===transactionStatus.NO?\"(optional)\":\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row w-100\",style:{color:\"#505f79\",fontSize:\"0.8rem\"}},/*#__PURE__*/React.createElement(Col,{md:this.props.parameterResults&&(this.props.parameterResults.nparametertypecode===parameterType.CHARACTER||this.props.parameterResults.nparametertypecode===parameterType.PREDEFINED)?12:this.props.Login.userInfo&&this.props.Login.userInfo.nformcode===formCode.RESULTENTRY?6:4,style:{wordWrap:'break-word'}},this.props.parameterResults&&this.props.parameterResults.nparametertypecode!==parameterType.ATTACHMENT&&this.props.intl.formatMessage({id:\"IDS_DEFAULTRESULT\"})+\" : \"+(this.props.parameterResults.sresultvalue!=null?this.props.parameterResults.sresultvalue:\"-\")),this.props.parameterResults&&this.props.parameterResults.nparametertypecode===parameterType.NUMERIC&&/*#__PURE__*/React.createElement(Col,{md:this.props.Login.userInfo&&this.props.Login.userInfo.nformcode===formCode.RESULTENTRY?6:10},/*#__PURE__*/React.createElement(\"span\",{className:\"pr-4\"},this.props.intl.formatMessage({id:\"IDS_MINB\"})+\" : \"+(this.props.parameterResults.sminb!=null?this.props.parameterResults.sminb:\"-\")),/*#__PURE__*/React.createElement(\"span\",{className:\"pr-4\"},this.props.intl.formatMessage({id:\"IDS_MINA\"})+\" : \"+(this.props.parameterResults.smina!=null?this.props.parameterResults.smina:\"-\")),/*#__PURE__*/React.createElement(\"span\",{className:\"pr-4\"},this.props.intl.formatMessage({id:\"IDS_MAXA\"})+\" : \"+(this.props.parameterResults.smaxa!=null?this.props.parameterResults.smaxa:\"-\")),/*#__PURE__*/React.createElement(\"span\",{className:\"pr-4\"},this.props.intl.formatMessage({id:\"IDS_MAXB\"})+\" : \"+(this.props.parameterResults.smaxb!=null?this.props.parameterResults.smaxb:\"-\")))),this.props.parameterResults&&this.props.parameterResults.nparametertypecode!==parameterType.ATTACHMENT&&/*#__PURE__*/React.createElement(\"hr\",{style:{border:'none',height:'0.5px',backgroundColor:'#EEEAEA',width:'100%'}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),this.renderSwitch(this.props.parameterResults,this.props.index,this.props.parameterResults.ntransactionresultcode,this.props.Login.screenName))));}}]);return ResultEntryForm;}(React.Component);// export default  \n// connect(mapStatetoProps, mapDispatchToProps, {\n//    updateStore//,getPredefinedData\n// } )\n// //connect()\n//     (injectIntl(ResultEntryForm)) ;\nexport default connect(null,{updateStore:updateStore})(injectIntl(ResultEntryForm));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/ResultEntryBySample/ResultEntryForm.jsx"],"names":["React","Row","Col","Nav","Button","Modal","Card","FormattedMessage","injectIntl","ListWrapper","FormSelectSearch","FormTextarea","DropZone","attachmentType","parameterType","transactionStatus","formCode","MediaHeader","MediaLabel","MediaSubHeader","FormInput","FontAwesomeIcon","faCalculator","faEye","faInfo","faInfoCircle","faSave","TestPopOver","numberConversion","numericGrade","Lims_JSON_stringify","constructOptionList","deleteAttachmentDropZone","rearrangeDateFormat","replaceBackSlash","connect","ResultEntryPredefinedComments","DEFAULT_RETURN","ModalShow","updateStore","rsapi","Preloader","withRouter","initRequest","toast","Axios","intl","ResultEntryForm","props","onComboChange","comboData","comboName","selectedRecord","state","currentAlertResultCode","setState","onInputChange","Data","name","target","value","onKeyPress","event","index","paremterResultcode","keyCode","undefined","document","getElementById","focus","preventDefault","closeModalShow","showAlertGrid","Login","updateInfo","typeName","data","onModalSave","parameterResults","currentntestgrouptestpredefcode","bool","some","x","map","Parameter","ntestgrouptestpredefsubcode","label","join","substring","length","onResultInputChange","showAlert","onGradeEvent","ResultParameter","parameter","sresult","selectedResultGrade","nparametertypecode","NUMERIC","ngradecode","nroundingdigits","parseFloat","parseInt","PREDEFINED","CHARACTER","trim","deleteAttachmentParameterFile","file","fieldName","sfinal","sresultpredefinedname","salertmessage","sresultcomment","acceptedFile","ncalculatedresult","inputData","test","item","ntransactionresultcode","ntestgrouptestpredefcode","spredefinedname","spredefinedsynonym","spredefinedcomments","nneedresultentryalert","nneedsubcodedresult","NO","ATTACHMENT","YES","getPredefinedData","masterData","renderSwitch","result","screenName","gradeValues","gradeCode","isAdditionalInfoRequired","hasOwnProperty","addtionalInfoTestPopOver","userInfo","nformcode","RESULTENTRY","color","ntestgrouptestformulacode","nispredefinedformula","getFormula","formatMessage","id","ResultAccuracy","Unit","predefinedValues","nresultmandatory","replaceAll","needdelete","FTP","inputParamData","post","then","response","showMultiSelectCombo","onlyAlertMsgAvailable","testgrouptestpredefsubresult","additionalInfoUidata","JSON","parse","showAlertForPredefined","additionalInfoView","isParameterInitialRender","testgrouptestpredefsubresultOptions","needSubSample","ssamplearno","stestsynonym","paddingLeft","sarno","formFields","sparametersynonym","fontSize","wordWrap","sresultvalue","sminb","smina","smaxa","smaxb","border","height","backgroundColor","width","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Row, Col, Nav, Button, Modal, Card } from 'react-bootstrap';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\r\nimport FormTextarea from '../../components/form-textarea/form-textarea.component';\r\nimport DropZone from '../../components/dropzone/dropzone.component';\r\nimport '../../components/list-master/list-master.styles';\r\nimport { attachmentType, parameterType, transactionStatus, formCode } from '../../components/Enumeration';\r\nimport './result.css';\r\nimport '../../assets/styles/tree.css';\r\nimport { MediaHeader, MediaLabel, MediaSubHeader } from '../../components/App.styles';\r\nimport FormInput from '../../components/form-input/form-input.component';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCalculator, faEye, faInfo, faInfoCircle, faSave } from '@fortawesome/free-solid-svg-icons';\r\nimport TestPopOver from './TestPopOver';\r\nimport { numberConversion, numericGrade } from './ResultEntryValidation';\r\nimport { Lims_JSON_stringify, constructOptionList, deleteAttachmentDropZone, rearrangeDateFormat, replaceBackSlash } from '../../components/CommonScript';\r\nimport { connect } from 'react-redux';\r\nimport ResultEntryPredefinedComments from './ResultEntryPredefinedComments';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport ModalShow from '../../components/ModalShow';\r\nimport {\r\n    // getPredefinedData,\r\n    updateStore\r\n} from '../../actions';\r\nimport rsapi from '../../rsapi';\r\nimport Preloader from '../../components/preloader/preloader.component';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\nimport { initRequest } from '../../actions/LoginAction';\r\nimport { toast } from 'react-toastify';\r\nimport Axios from 'axios';\r\nimport { intl } from '../../components/App';\r\n// const mapStatetoProps = (state) => {\r\n//     return {\r\n//         Login: state.Login\r\n//     }\r\n// }\r\n// const mapDispatchToProps = dispatch => ({ \r\n//     dispatch                // ‚Üê Add this\r\n//  })\r\nclass ResultEntryForm extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            parameterResults: [...this.props.ResultParameter],\r\n            selectedResultGrade: this.props.selectedResultGrade//,\r\n            //loading:false\r\n        }\r\n\r\n    } \r\n\r\n\r\n    // componentDidUpdate(previousProps) {\r\n    //     let bool = false;\r\n    //     let { currentAlertResultCode, currentntestgrouptestpredefcode,selectedRecord,showAlert } = this.state\r\n    //     if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n    //         bool = true;\r\n    //         selectedRecord = this.props.Login.selectedRecord;\r\n    //     }\r\n    //     if (this.props.Login.showAlert !== previousProps.Login.showAlert) {\r\n    //         bool = true;\r\n    //         showAlert = this.props.Login.showAlert;\r\n    //     }\r\n\r\n    //     if (this.props.Login.currentAlertResultCode !== previousProps.Login.currentAlertResultCode) {\r\n    //         bool = true;\r\n    //         currentAlertResultCode = this.props.Login.currentAlertResultCode;\r\n    //     }\r\n    //     if (this.props.Login.currentntestgrouptestpredefcode !== previousProps.Login.currentntestgrouptestpredefcode) {\r\n    //         bool = true;\r\n    //         currentntestgrouptestpredefcode = this.props.Login.currentntestgrouptestpredefcode;\r\n    //     }\r\n    //     if (bool) {\r\n    //         this.setState({ currentntestgrouptestpredefcode, currentAlertResultCode,selectedRecord,showAlert })\r\n    //     }\r\n    // }\r\n    //For Subcode Result Start\r\n    onComboChange = (comboData, comboName) => {\r\n        const selectedRecord = this.state.selectedRecord || [];\r\n        let currentAlertResultCode = this.state.currentAlertResultCode || 0;\r\n        if (comboData) {\r\n            selectedRecord[comboName] = comboData;\r\n        } else {\r\n            selectedRecord[comboName] = []\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onInputChange = (Data, name) => {\r\n        const selectedRecord = this.state.selectedRecord || [];\r\n        let currentAlertResultCode = this.state.currentAlertResultCode || 0;\r\n        if (Data) {\r\n            selectedRecord[name] = Data.target.value;\r\n        }\r\n        else {\r\n            selectedRecord[name] = [];\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    //ALPD-4320 Aravindh For EnterKeypress\r\n    onKeyPress = (event, index, paremterResultcode) => {\r\n        if (event.keyCode === 13) {\r\n            //for (let i = 0; i < event.target.form.elements.length; i++) {\r\n                // if (parseInt(event.target.form.elements[i].id) === paremterResultcode[index + 1]) {\r\n                //     event.target.form.elements[i].focus();\r\n                //     //break;\r\n                // }\r\n            //}\r\n            if(paremterResultcode[index+1]!==undefined && paremterResultcode[index+1]!==null){\r\n            document.getElementById(index+1).focus();}\r\n            event.preventDefault();\r\n        }\r\n    }\r\n    closeModalShow = () => {\r\n        let showAlertGrid = this.props.Login.showAlertGrid;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        selectedRecord['ntestgrouptestpredefsubcode'] && delete selectedRecord['ntestgrouptestpredefsubcode']\r\n        showAlertGrid = false;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showAlertGrid, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onModalSave = () => {\r\n        const selectedRecord = this.state.selectedRecord || [];\r\n        let currentAlertResultCode = this.state.currentAlertResultCode || 0;\r\n        let parameterResults = this.state.parameterResults\r\n        let currentntestgrouptestpredefcode = this.state.currentntestgrouptestpredefcode || 0;\r\n        let bool = parameterResults.some(x => x['ntransactionresultcode'] === currentAlertResultCode)\r\n        if (bool) {\r\n            parameterResults.map(Parameter => {\r\n                if (Parameter['ntransactionresultcode'] === currentAlertResultCode) {\r\n                    Parameter['additionalInfoUidata'] = { ntestgrouptestpredefsubcode: selectedRecord['ntestgrouptestpredefsubcode'] }\r\n                    if (selectedRecord['ntestgrouptestpredefsubcode']) {\r\n                        if (typeof selectedRecord['ntestgrouptestpredefsubcode'] === 'string') {\r\n                            Parameter['additionalInfo'] = selectedRecord['ntestgrouptestpredefsubcode']\r\n                        } else {\r\n                            Parameter['additionalInfo'] = \"\"\r\n                            Parameter['additionalInfo'] = selectedRecord['ntestgrouptestpredefsubcode'].map(x => x.label + \",\").join('\\n')\r\n                            Parameter['additionalInfo'] = replaceBackSlash(Parameter['additionalInfo'].substring(0,\r\n                                Parameter['additionalInfo'].length - 1))\r\n                        }\r\n                    } else {\r\n                        Parameter['additionalInfo'] = \"\"\r\n                        Parameter['additionalInfoUidata'] && delete Parameter['additionalInfoUidata']\r\n                    }\r\n                    Parameter['ntestgrouptestpredefcode'] = currentntestgrouptestpredefcode\r\n                }\r\n            }\r\n            );\r\n        }\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { parameterResults:parameterResults,selectedRecord: selectedRecord, showAlert: false }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n\r\n          //Sync With Parent Component\r\n          this.props.onResultInputChange(parameterResults);\r\n        this.setState({ parameterResults: parameterResults, selectedRecord: selectedRecord, showAlert: false })\r\n    }\r\n\r\n    //For Subcode Result End\r\n\r\n\r\n    onGradeEvent = (ResultParameter, index, parameter) => {\r\n        if (ResultParameter.length > 0 && ResultParameter[index] !== undefined && ResultParameter[index].sresult !== null) {\r\n            let selectedRecord = this.state.selectedRecord || [];\r\n            let selectedResultGrade = this.state.selectedResultGrade || [];\r\n            if (parameter.nparametertypecode === parameterType.NUMERIC) {\r\n                selectedResultGrade[index] = {\r\n                    ngradecode: ResultParameter[index].sresult !== \"\" ?\r\n                        numericGrade(parameter, parameter.nroundingdigits != 0 ? numberConversion(parseFloat(ResultParameter[index].sresult), parseInt(parameter.nroundingdigits)) : parseFloat(ResultParameter[index].sresult) ) : -1\r\n                };\r\n            }\r\n            if (parameter.nparametertypecode === parameterType.PREDEFINED) {\r\n                if (ResultParameter[index].sresult !== null) {\r\n                    selectedResultGrade[index] = { ngradecode: ResultParameter[index].ngradecode };\r\n                }\r\n                else {\r\n                    selectedResultGrade[index] = { ngradecode: 0 };\r\n                }\r\n            }\r\n            if (parameter.nparametertypecode === parameterType.CHARACTER) {\r\n                if (ResultParameter[index].sresult !== null && ResultParameter[index].sresult.trim() !== \"\") {\r\n                    //selectedResultGrade[index] = { ngradecode: ResultParameter[index].ngradecode };\r\n                    selectedResultGrade[index] = { ngradecode: 4 };\r\n                }\r\n                else {\r\n                    selectedResultGrade[index] = { ngradecode: -1 };\r\n                }\r\n            }\r\n            selectedRecord.selectedResultGrade = selectedResultGrade;\r\n        //    if (ResultParameter.length > 0 && ResultParameter[index] !== undefined && ResultParameter[index].ngradecode !== selectedResultGrade[index].ngradecode) {\r\n\r\n                this.setState({\r\n                    selectedRecord\r\n                });\r\n           // }\r\n        }\r\n    }\r\n    deleteAttachmentParameterFile = (event, file, fieldName, index) => {\r\n        let ResultParameter = this.state.parameterResults[index];\r\n        let parameterResults = this.state.parameterResults;\r\n        ResultParameter[fieldName] = deleteAttachmentDropZone(ResultParameter[fieldName],\r\n            file)\r\n        parameterResults[index]['editable'] = true;\r\n        this.setState({\r\n            parameterResults: parameterResults\r\n        });\r\n\r\n    }\r\n    onResultInputChange = (event, index, parameter,comboName) => {\r\n        let selectedRecord = this.state.selectedRecord || [];\r\n        let ResultParameter = this.state.parameterResults ? [...this.state.parameterResults] : [];\r\n        let sresult = \"\";\r\n        let sfinal = \"\";\r\n        let sresultpredefinedname = \"\";\r\n        let salertmessage = \"\";\r\n        let sresultcomment = \"\";\r\n        let value = -1;\r\n        let acceptedFile = [];\r\n        let ncalculatedresult;\r\n        let currentAlertResultCode = 0;\r\n        let currentntestgrouptestpredefcode = 0;\r\n        let inputData = {}\r\n      //  if ((event[0] && event[0].name!==ResultParameter[index]['sresult']) || (event.target && event.target.value !== ResultParameter[index]['sresult']) ||\r\n       //     (event.item && event.item.ntransactionresultcode ===\r\n        //        ResultParameter[index].ntransactionresultcode && ResultParameter[index]['sresult'] !== event.item && event.item.spredefinedname)) {\r\n        if (parameter.nparametertypecode === parameterType.NUMERIC) {\r\n\r\n               // if(event !== null){\r\n                    if (/^-?\\d*?\\.?\\d*?$/.test(event.target && event.target.value) || event.target && event.target.value === \"\") {\r\n                        sresult = event.target.value;\r\n                        ncalculatedresult = 4\r\n                    }else{\r\n                        if(event && event.item !=null){\r\n                            if(comboName === \"unitcode\"){\r\n                                ResultParameter[index]['unitcode'] = event;\r\n                                sresult = ResultParameter[index]['sresult'];\r\n                                ncalculatedresult = 4;\r\n                            }else if(comboName === \"resultaccuracycode\"){\r\n                                ResultParameter[index]['resultaccuracycode'] = event;\r\n                                sresult = ResultParameter[index]['sresult'];\r\n                                ncalculatedresult = 4;\r\n                            }              \r\n                       }else{\r\n                        sresult = ResultParameter[index]['sresult'] === null ? \"\" : ResultParameter[index]['sresult'];\r\n                        ncalculatedresult = ResultParameter[index]['ncalculatedresult'];\r\n                       }\r\n                    }\r\n                // }else{\r\n                //     if(comboName === \"nresultaccuracycode\"){    \r\n                //         delete ResultParameter[index]['nresultaccuracycode'] ;                \r\n                //         sresult = ResultParameter[index]['sresult'];\r\n                //         ncalculatedresult = 4;\r\n                //    }\r\n                // }         \r\n            \r\n        }\r\n        if (parameter.nparametertypecode === parameterType.PREDEFINED) {\r\n            currentAlertResultCode = event.item.ntransactionresultcode;\r\n            currentntestgrouptestpredefcode = event.item.ntestgrouptestpredefcode;\r\n            if (event != null) {\r\n                sresult = event.item.spredefinedname;\r\n                sresultpredefinedname = event.item.sresultpredefinedname;\r\n                sfinal = event.item.spredefinedsynonym;\r\n                value = event.item.ngradecode;\r\n                // salertmessage = event.item.salertmessage ? Lims_JSON_stringify(event.item.salertmessage,false) : \"\";\r\n                salertmessage = event.item.salertmessage ? event.item.salertmessage: \"\";\r\n                sresultcomment = event.item.spredefinedcomments && event.item.spredefinedcomments !== \"null\" ?  event.item.spredefinedcomments : \"\";\r\n                ncalculatedresult = 4;\r\n            }\r\n            else {\r\n                sresult = \"\";\r\n                sfinal = \"\";\r\n                sresultpredefinedname = \"\";\r\n                value = -1;\r\n                ncalculatedresult = 4\r\n            }\r\n            inputData = {\r\n                'ntestgrouptestpredefcode': event.item.ntestgrouptestpredefcode,\r\n                'salertmessage': salertmessage,\r\n                'nneedresultentryalert': event.item.nneedresultentryalert,\r\n                'nneedsubcodedresult': event.item.nneedsubcodedresult\r\n            }\r\n            if (event.item.nneedresultentryalert === transactionStatus.NO &&\r\n                event.item.nneedsubcodedresult === transactionStatus.NO) {\r\n                if (ResultParameter[index]['additionalInfo']) {\r\n                    ResultParameter[index]['additionalInfo'] = \"\"\r\n                }\r\n                if (ResultParameter[index]['additionalInfoUidata']) {\r\n                    ResultParameter[index]['additionalInfoUidata'] = \"\"\r\n                }\r\n            }\r\n\r\n        }\r\n        if (parameter.nparametertypecode === parameterType.CHARACTER) {\r\n            sresult = event.target.value;\r\n            if (event.target.value.trim() === \"\")\r\n                ncalculatedresult = -1;\r\n            else\r\n                ncalculatedresult = 4;\r\n        }\r\n        if (parameter.nparametertypecode === parameterType.ATTACHMENT) {\r\n            sresult = event[0] && event[0].name;\r\n            sfinal = event;\r\n            ncalculatedresult = 4\r\n        }\r\n\r\n        if(sresult !==null && sresult !=\"\"){\r\n            ResultParameter[index]['editable'] = true;\r\n        }\r\n\r\n        ResultParameter[index]['sresult'] = sresult;\r\n        ResultParameter[index]['sfinal'] = sfinal;\r\n        ResultParameter[index]['sresultpredefinedname'] = sresultpredefinedname;\r\n        ResultParameter[index]['sresultcomment'] = sresultcomment;\r\n        ResultParameter[index]['salertmessage'] = salertmessage;\r\n        ResultParameter[index]['acceptedFile'] = acceptedFile;        \r\n        ResultParameter[index]['ngradecode'] = value;\r\n        ResultParameter[index]['ncalculatedresult'] = ncalculatedresult;\r\n        ResultParameter[index]['dummty'] = 'dummty';\r\n        selectedRecord.ResultParameter = ResultParameter;\r\n        let parameterResults = ResultParameter;\r\n\r\n        \r\n\r\n        if (parameter.nparametertypecode === parameterType.PREDEFINED && (event.item.nneedresultentryalert === transactionStatus.YES ||\r\n            event.item.nneedsubcodedresult === transactionStatus.YES)\r\n        ) {\r\n            // this.props.\r\n            this.getPredefinedData(inputData, selectedRecord, currentAlertResultCode, this.props.Login.masterData, currentntestgrouptestpredefcode)\r\n        } else {\r\n            if (selectedRecord[\"ntestgrouptestpredefsubcode\"]) {\r\n                delete selectedRecord[\"ntestgrouptestpredefsubcode\"]\r\n            }\r\n        }\r\n        //Sync child Data With Parent Component\r\n        this.props.onResultInputChange(parameterResults);\r\n        this.setState({\r\n            parameterResults: parameterResults,\r\n            currentAlertResultCode,\r\n            currentntestgrouptestpredefcode,\r\n            selectedRecord\r\n        });\r\n    //}\r\n    }\r\n\r\n    getPredefinedData(inputData, selectedRecord, currentAlertResultCode, masterData, currentntestgrouptestpredefcode) {\r\n        //  return function (dispatch) {\r\n         //   this.setState({loading:true})\r\n        let inputParamData = {\r\n            ntestgrouptestpredefcode: inputData.ntestgrouptestpredefcode,\r\n        }\r\n        //dispatch(initRequest(true));\r\n        rsapi.post(\"resultentrybysample/getPredefinedData\", inputParamData)\r\n            .then(response => {\r\n                let showMultiSelectCombo = false;\r\n                let ResultParameter = selectedRecord['ResultParameter']\r\n                let onlyAlertMsgAvailable = false;\r\n                let testgrouptestpredefsubresult = response.data['testgrouptestpredefsubresult']\r\n                if (inputData['nneedsubcodedresult'] === transactionStatus.YES) {\r\n                    showMultiSelectCombo = true\r\n                    masterData['testgrouptestpredefsubresultOptions'] = testgrouptestpredefsubresult\r\n                }\r\n                else {\r\n                    onlyAlertMsgAvailable = true;\r\n                }\r\n                for (const Parameter of ResultParameter) {\r\n                    if (Parameter.additionalInfoUidata || Parameter.additionalInfoUidata === \"\") {\r\n                        let additionalInfoUidata = typeof Parameter.additionalInfoUidata === 'string' ? Parameter.additionalInfoUidata === \"\" ? \"\" : JSON.parse(Parameter.additionalInfoUidata) :\r\n                            Parameter.additionalInfoUidata\r\n                        if (Parameter['ntransactionresultcode'] === currentAlertResultCode &&\r\n                            Parameter['ntestgrouptestpredefcode'] === inputData['ntestgrouptestpredefcode']) {\r\n                            if (Parameter.additionalInfoUidata) {\r\n                                selectedRecord[\"ntestgrouptestpredefsubcode\"] = additionalInfoUidata['ntestgrouptestpredefsubcode']\r\n                                break;\r\n                            }\r\n                        } else {\r\n                            if (selectedRecord[\"ntestgrouptestpredefsubcode\"]) {\r\n                                delete selectedRecord[\"ntestgrouptestpredefsubcode\"]\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                };\r\n                masterData['salertmessage'] = inputData.salertmessage\r\n\r\n                this.setState({\r\n                    masterData,\r\n                    showAlert: inputData.nneedresultentryalert === transactionStatus.NO ? false : true,\r\n                    showAlertForPredefined: true,\r\n                    showMultiSelectCombo,\r\n                    onlyAlertMsgAvailable,\r\n                    additionalInfoView: false,\r\n                    selectedRecord,\r\n                    currentAlertResultCode,\r\n                    currentntestgrouptestpredefcode//,\r\n                  //  loading:false\r\n                });\r\n\r\n                // dispatch({\r\n                //     type: DEFAULT_RETURN,\r\n                //     payload: { \r\n                //         loading: false,\r\n                //        masterData, \r\n                //         showAlert: inputData.nneedresultentryalert===transactionStatus.NO?false:true,\r\n                //          showAlertForPredefined: true,\r\n                //          showMultiSelectCombo,\r\n                //          onlyAlertMsgAvailable,\r\n                //          additionalInfoView:false,\r\n                //          selectedRecord,\r\n                //          currentAlertResultCode,\r\n                //          currentntestgrouptestpredefcode\r\n                //     }\r\n                // })\r\n            })\r\n        // .catch(error => {\r\n        //     dispatch({\r\n        //         type: DEFAULT_RETURN,\r\n        //         payload: {\r\n        //             loading: false\r\n        //         }\r\n        //     })\r\n        //     if (error.response.status === 500) {\r\n        //         toast.error(error.message);\r\n        //     } else {\r\n        //         toast.warn(error.response.data);\r\n        //     }\r\n        // })\r\n        //    }\r\n\r\n    }\r\n\r\n    // componentDidUpdate(previousProps, prevState, snapshot) {\r\n    //     let parameterResults=[];\r\n    //     if(this.state.parameterResults!==prevState.parameterResults){\r\n    //        // parameterResults=this.props.parameterResults;\r\n    //         //this.setState({parameterResults})\r\n    //         this.props.dispatch({ type: DEFAULT_RETURN });\r\n    //     } \r\n    // }\r\n\r\n    renderSwitch = (parameter, index, result, screenName) => {\r\n        const selectedResultGrade = this.state.selectedResultGrade;//this.props.selectedResultGrade;\r\n        const gradeValues = this.props.gradeValues;\r\n        const gradeCode = selectedResultGrade ? selectedResultGrade.length > 0 ?\r\n            selectedResultGrade[index] ? selectedResultGrade[index]['ngradecode'] : undefined : \"\" : \"\";\r\n        let isAdditionalInfoRequired = this.state.parameterResults[index].hasOwnProperty('additionalInfo') &&\r\n        this.state.parameterResults[index]['additionalInfo'] !== \"\" && this.state.parameterResults[index]['additionalInfo'] !== null ? true : false\r\n        //  parameter.jsondata['value'] ? JSON.parse(parameter.jsondata['value']).hasOwnProperty('additionalInfo') &&\r\n        //     JSON.parse(parameter.jsondata['value'])['additionalInfo'] !== \"\" ? true : false :\r\n        //     parameter.jsondata.hasOwnProperty('additionalInfo') &&\r\n        //         parameter.jsondata['additionalInfo'] !== \"\" ? true : false\r\n        let addtionalInfoTestPopOver = this.state.parameterResults[index].hasOwnProperty('additionalInfo') &&\r\n            this.state.parameterResults[index]['additionalInfo']!==\"\" && this.state.parameterResults[index]['additionalInfo'];\r\n        switch (parameter.nparametertypecode) {\r\n            case 1: {\r\n                return (\r\n                    <>\r\n                        <div className='row w-100'>\r\n                            <Col md={this.props.Login.userInfo.nformcode === formCode.RESULTENTRY ?2:6}>\r\n                                <FormInput\r\n                                    //name={this.state.parameterResults[index].ntransactionresultcode}\r\n                                    name={index}\r\n                                    //id={index}\r\n                                    type=\"text\"\r\n                                    required={false}\r\n                                    isMandatory={false}\r\n                                    // value={this.props.parameterResults.length > 0 ?\r\n                                    //     this.props.parameterResults[index] ? (this.props.parameterResults[index]['sresult'] !== null ? this.props.parameterResults[index]['sresult'] : \"\") : \"\" : \"\"}\r\n                                    value={this.state.parameterResults.length > 0 ?\r\n                                        this.state.parameterResults[index] ? (this.state.parameterResults[index]['sresult'] !== null ? this.state.parameterResults[index]['sresult'] : \"\") : \"\" : \"\"}\r\n                                    // placeholder={parameter.sparametersynonym}\r\n                                    //label={parameter.sparametersynonym}\r\n                                    // onChange={(event) => this.props.onResultInputChange(event, index, parameter)}\r\n                                    onChange={(event) => this.onResultInputChange(event, index, parameter)}\r\n                                    onBlur={() => this.onGradeEvent(this.state.parameterResults, index, parameter)}\r\n                                    // onBlur={() => this.props.onGradeEvent(this.props.parameterResults, index, parameter)}\r\n                                    maxLength={9}\r\n                                    //onKeyUp={(event) => this.props.onKeyPress(event, index, this.props.paremterResultcode)}\r\n                                    onKeyUp={(event) => this.onKeyPress(event, index, this.props.paremterResultcode)}\r\n                                />\r\n                            \r\n                            </Col>\r\n                            <Col md={this.props.Login.userInfo.nformcode === formCode.RESULTENTRY ?2:4} className='d-flex'>\r\n                                {/* {this.props.selectedResultGrade.length > 0 ? */}\r\n                                <ListWrapper><MediaLabel className=\"labelfont\" style={{ color: gradeValues[gradeCode][0]['scolorhexcode'] }}>\r\n                                    {gradeCode === undefined ? \"\" : gradeValues[gradeCode][0]['sgradename']}</MediaLabel></ListWrapper>\r\n                                {/* : \"\"} */}\r\n                                {parameter.ntestgrouptestformulacode > 0 && parameter.nispredefinedformula ===transactionStatus.NO ? \r\n                                   <Col className=\"d-flex product-category justify-content-end icon-group-wrap\">\r\n                                       <Nav.Link title=\"Calculate Formula\" className=\"btn btn-circle outline-grey ml-2 p-2\" role=\"button\" id={screenName + -+index}\r\n                                           onClick={(event) => this.props.getFormula(parameter, this.props.Login.userInfo, this.props.Login.masterData, index, event)}>\r\n                                           <FontAwesomeIcon title=\"Calculate Formula\" icon={faCalculator} />\r\n                                       </Nav.Link>\r\n                                   </Col>\r\n                                    : \"\"} \r\n                            </Col>\r\n\r\n                            <Col md={this.props.Login.userInfo.nformcode === formCode.RESULTENTRY ?3:6}>\r\n                                <FormSelectSearch\r\n                                   name={\"nresultaccuracycode\"}\r\n                                   formLabel={ this.props.intl.formatMessage({ id:\"IDS_RESULTACCURACY\"})}                                \r\n                                   placeholder={ this.props.intl.formatMessage({ id:\"IDS_SELECTRECORD\"})}                              \r\n                                   options={ this.props.ResultAccuracy}\r\n                                   value={ this.state.parameterResults[index]['resultaccuracycode'] || \"\"}\r\n\r\n                                   //value = { this.props.selectedRecord && this.props.selectedRecord[\"nresultaccuracycode\"] || \"\"}\r\n                                   isMandatory={false}\r\n                                   //isClearable={true}\r\n                                   isMulti={false}\r\n                                   isSearchable={true}                               \r\n                                   isDisabled={false}\r\n                                   closeMenuOnSelect={true}\r\n                                   defaultValue={ this.state.parameterResults[index]['resultaccuracycode']}\r\n\r\n                                   //defaultValue={this.props.selectedRecord && this.props.selectedRecord[\"nresultaccuracycode\"]}\r\n                                   onChange={(event) => this.onResultInputChange(event, index, parameter,'resultaccuracycode')}\r\n                                   />\r\n                            </Col>\r\n\r\n                             <Col md={this.props.Login.userInfo.nformcode === formCode.RESULTENTRY ?3:6}>\r\n                                <FormSelectSearch\r\n                                   name={\"nunitcode\"}\r\n                                   formLabel={ this.props.intl.formatMessage({ id:\"IDS_UNIT\"})}                                \r\n                                   placeholder={ this.props.intl.formatMessage({ id:\"IDS_SELECTRECORD\"})}                              \r\n                                   options={ this.props.Unit}\r\n                                   value = { this.state.parameterResults[index]['unitcode'] || \"\"}\r\n                                   isMandatory={false}\r\n                                   isMulti={false}\r\n                                   isSearchable={true}                               \r\n                                   isDisabled={false}\r\n                                   closeMenuOnSelect={true}\r\n                                   defaultValue={ this.state.parameterResults[index]['unitcode']}\r\n                                   onChange={(event) => this.onResultInputChange(event, index, parameter,'unitcode')} \r\n                                />\r\n                            </Col>           \r\n\r\n                        </div>\r\n                    </>\r\n                );\r\n            }\r\n            case 2: {\r\n                return (\r\n                    <>\r\n                        <Col md={isAdditionalInfoRequired ? 8 : 10} className=\"pl-0\" >\r\n                            <FormSelectSearch \r\n                               // name={this.state.parameterResults[index] && this.state.parameterResults[index].ntransactionresultcode}\r\n                               name={index}\r\n                               as={\"select\"}\r\n                                id={index}\r\n                                //formLabel={parameter.sparametersynonym}\r\n\r\n                                defaultValue={{\r\n                                    \"value\": this.state.parameterResults[index] &&\r\n                                        this.state.parameterResults[index].sresultpredefinedname, \"label\":\r\n                                        this.state.parameterResults[index] && this.state.parameterResults[index]\r\n                                            .sresultpredefinedname\r\n                                }}\r\n\r\n                                //  defaultValue={{ \"value\": parameter.sresultpredefinedname, \"label\": parameter.sresultpredefinedname }}\r\n\r\n\r\n                                //  defaultValue={parameter.sresult && (parameter.sresult!=null || parameter.sresult !== \"\") ?  { \"value\": parameter.ngradecode, \"label\": parameter.sresult } :\r\n                                //  this.props.predefinedValues ? constructOptionList(this.props.predefinedValues[parameter.ntransactionresultcode]||[],'ngradecode',\r\n                                // 'spredefinedname' , undefined, undefined, undefined).get(\"DefaultValue\"):\"\"}\r\n\r\n                                options={this.props.predefinedValues ? this.props.predefinedValues[parameter.ntransactionresultcode] : \"\"}\r\n                                optionId={\"ntestgrouptestpredefcode\"}\r\n                                optionValue={\"spredefinedname\"}\r\n                                isMulti={false}\r\n                                isDisabled={false}\r\n                                matchFrom={'start'}\r\n                                isSearchable={true}\r\n                                isClearable={parameter.nresultmandatory === transactionStatus.YES ? false : true}\r\n                                isMandatory={false}\r\n                                //onKeyUp={(event) => this.props.onKeyPress(event, index, this.props.paremterResultcode)}\r\n                                onKeyUp={(event) => this.onKeyPress(event, index, this.props.paremterResultcode)}\r\n                                // onChange={(event) => this.props.onResultInputChange(event, index, parameter)}\r\n                                // onBlur={() => this.props.onGradeEvent(this.props.parameterResults, index, parameter)}\r\n                                onChange={(event) => { this.onResultInputChange(event, index, parameter); this.onGradeEvent(this.state.parameterResults, index, parameter) }}\r\n                                //onChange={(event) => this.onResultInputChange(event, index, parameter)}\r\n                                //onBlur={() => this.onGradeEvent(this.state.parameterResults, index, parameter)}\r\n \r\n                            />\r\n                        </Col>\r\n                        <Col md={2} className=\"pt-2\">\r\n                            {/* {this.props.selectedResultGrade.length > 0 ? */}\r\n                            <ListWrapper><MediaLabel className=\"labelfont\" style={{ color: gradeValues[gradeCode][0]['scolorhexcode'] }}>\r\n                                {gradeCode === undefined ? \"\" : gradeValues[gradeCode][0]['sgradename']}</MediaLabel></ListWrapper>\r\n                            {/* : \"\"} */}\r\n                        </Col>\r\n                        {isAdditionalInfoRequired &&\r\n\r\n                            <Col md={2} className=\"pt-2\">\r\n                                {/* <Button className=\"btn btn-circle outline-grey ml-2\" variant=\"link\"\r\n                                     //   hidden={this.props.userRoleControlRights.indexOf(this.props.viewId) === -1}\r\n                                        title={this.props.intl.formatMessage({ id: \"IDS_VIEW\" })}\r\n                                        data-tip={  parameter.jsondata['value'] ?\r\n                                        JSON.parse(parameter.jsondata['value'])['additionalInfo'] :\r\n                                        parameter.jsondata['additionalInfo']}\r\n                                        data-for=\"tooltip_list_wrap\"\r\n                                         onClick={() => this.props.viewAdditionalInfo(parameter.ntransactionresultcode)}\r\n                                        >\r\n                                        <FontAwesomeIcon icon={faEye}/>\r\n                                     </Button>     */}\r\n                                {/* <Modal.Title id=\"password\" className=\"header-primary flex-grow-1\">\r\n                                      <FormattedMessage id='IDS_ADDITIONALINFOREQURIED' defaultMessage='Cancel' />\r\n                                      </Modal.Title> */}\r\n\r\n                                <TestPopOver intl={this.props.intl} needIcon={true} needPopoverTitleContent={true} placement=\"left\" stringList={\r\n                                    // parameter.jsondata['value'] ?\r\n                                    //      [JSON.parse(parameter.jsondata['value'])['additionalInfo']] :\r\n                                    //              [parameter.jsondata['additionalInfo']] \r\n                                    // this.state.parameterResults[index].hasOwnProperty('additionalInfo') &&\r\n                                    // this.state.parameterResults[index]['additionalInfo']!==\"\"&&\r\n                                    // [this.state.parameterResults[index]['additionalInfo']]}\r\n                                    addtionalInfoTestPopOver && [addtionalInfoTestPopOver.replaceAll(/\\\\+n/g, '\\n')]} \r\n                                    ></TestPopOver>\r\n                                {/* <Nav.Link\r\n                                        className=\"btn btn-circle outline-grey ml-2\"\r\n                                        // data-for=\"tooltip-common-wrap\"\r\n                                        //  data-place={action.dataplace && action.dataplace ? action.dataplace : \"\"}\r\n                                         data-tip={ parameter.jsondata['value'] ?\r\n                                         JSON.parse(parameter.jsondata['value'])['additionalInfo'] :\r\n                                                 parameter.jsondata['additionalInfo'] }\r\n                                        data-html={true}\r\n                                        //   hidden={this.props.userRoleControlRights.indexOf(this.props.viewId) === -1}\r\n                                        onClick={() => this.props.viewAdditionalInfo(parameter.ntransactionresultcode)}>\r\n                                        <FontAwesomeIcon icon={faInfoCircle} />\r\n                                    </Nav.Link>  */}\r\n\r\n                            </Col>\r\n                        }\r\n\r\n                    </>\r\n                );\r\n            }\r\n            case 3: {\r\n                return (\r\n                    <>\r\n                        <Col md={10} className=\"pl-0\">\r\n                            <FormTextarea\r\n                            name={index}\r\n                               // name={parameter.ntransactionresultcode}\r\n                                //label={parameter.sparametersynonym}\r\n                                //placeholder={parameter.sparametersynonym}\r\n                                type=\"text\"\r\n                                //     defaultValue={parameter.sresult}\r\n                                defaultValue={this.state.parameterResults[index] && this.state.parameterResults[index]['sresult']}\r\n                                onKeyUp={(event) => this.onKeyPress(event, index, this.props.paremterResultcode)}\r\n                                isMandatory={false}\r\n                                required={false}\r\n                                maxLength={255}\r\n                                onChange={(event) => this.onResultInputChange(event, index, parameter)}\r\n                                onBlur={() => this.onGradeEvent(this.state.parameterResults, index, parameter)}\r\n                            />\r\n                        </Col>\r\n                        <Col md={2}>\r\n                            {/* {this.props.selectedResultGrade.length > 0 ? */}\r\n                            <ListWrapper><MediaLabel className=\"labelfont\" style={{ color: gradeValues[gradeCode][0]['scolorhexcode'] }}>\r\n                                {gradeCode === undefined ? \"\" : gradeValues[gradeCode][0]['sgradename']}</MediaLabel></ListWrapper>\r\n                            {/* : \"\"} */}\r\n                        </Col>\r\n                    </>\r\n                );\r\n            }\r\n            case 4: {\r\n                return (\r\n                    <Col md={12} className=\"pl-0\">\r\n                        <DropZone\r\n                            maxFiles={1}\r\n                            isMandatory={false}\r\n                            //label={parameter.sparametersynonym}\r\n                            accept=\".pdf\"\r\n                            minSize={0}\r\n                            maxSize={20}\r\n                            multiple={false}\r\n                            // editFiles={parameter.sfinal != null ? parameter : \"\"}\r\n                            editFiles={this.state.parameterResults[index].sfinal != null ? this.state.parameterResults[index] : \"\"}\r\n                            needdelete={this.props.needdelete?true:false}\r\n                            attachmentTypeCode={attachmentType.FTP}\r\n                            fileSizeName=\"nfilesize\"\r\n                            fileName=\"sfinal\"\r\n                            index={index}\r\n                            // deleteAttachment={this.props.deleteAttachmentParamFile}\r\n                            // onDrop={(event) => this.props.onResultInputChange(event, index, parameter)}\r\n                            deleteAttachment={this.deleteAttachmentParameterFile}\r\n                            onDrop={(event) => this.onResultInputChange(event, index, parameter)}\r\n                        //disabled={disabled}\r\n                        />\r\n                    </Col>\r\n                )\r\n            }\r\n            default:\r\n                return (\"\");\r\n        }\r\n    }\r\n    // static getDerivedStateFromProps(props, state) {\r\n    //     if( props.Login.showAlert !==  state.showAlert){\r\n    //         //Change in props\r\n    //         return{\r\n    //             showAlert: props.Login.showAlert\r\n    //         };\r\n    //     } \r\n    //     return null; // No change to state\r\n    // }\r\n    componentWillUnmount() {\r\n     \r\n      //  let parameterResults = this.state.parameterResults\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n          //  data: { parameterResults: undefined  }\r\n            data: { isParameterInitialRender: false//,parameterResults:[] ,selectedRecord :{}\r\n         }\r\n\r\n            \r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    \r\n    // shouldComponentUpdate (nextProps,nextState) {\r\n    //     // Rendering the component only if\r\n    //     // passed props value is changed\r\n    //     console.log('nextProps',nextProps);\r\n    //     if ((nextProps.Login.parameterResults !==this.props.Login.parameterResults)) {\r\n    //       return false;\r\n    //     }else if(nextState.parameterResults!==this.state.parameterResults){\r\n    //         return true;\r\n    //     } else {\r\n    //       return false;\r\n    //     }\r\n    //   }\r\n    // shouldComponentUpdate (nextProps) { \r\n    //     if ((nextProps.Login.parameterResults !==this.props.Login.parameterResults)&&\r\n    //     nextProps.Login.isParameterInitialRender===false) {\r\n    //       return false;\r\n    //     } else {\r\n    //       return true;\r\n    //     }\r\n    //   }\r\n\r\n    // componentDidUpdate (prevProps, prevState) {\r\n    //   //  console.log('Deleted User successfully'); \r\n    //     let parameterResults = this.state.parameterResults\r\n    //     if(this.state.parameterResults!==prevState.parameterResults){\r\n    //         const updateInfo = {\r\n    //             typeName: DEFAULT_RETURN,\r\n    //             data: { parameterResults: parameterResults,isParameterInitialRender:false }\r\n    //         }\r\n    //         this.props.updateStore(updateInfo);\r\n    //     }\r\n  \r\n    //   }\r\n\r\n    // this.props.onSaveClick = (childData) =>{\r\n    //     this.setState({name: childData})\r\n    // }\r\n\r\n    // updateStoreResultEntryForm = (updateInfo)  => { \r\n    //     return function (dispatch) {\r\n    //         console.log('updateInfoXXXXX')\r\n    //         dispatch({\r\n    //             type: updateInfo.typeName,\r\n    //             payload: {\r\n    //                 ...updateInfo.data,\r\n    //                 masterStatus: \"\",\r\n    //                 errorCode: undefined\r\n    //             }\r\n    //         }); \r\n    //     } \r\n    // }\r\n    render() {\r\n      //  console.log(\"Grand Child Result Entry Form\");\r\n        return (\r\n            <>\r\n                        {/* <Preloader loading={this.state.loading} /> */}\r\n\r\n            {/* { this.props.index===0&&\r\n                <Button  className=\"btn-user btn-primary-blue\" onClick={() => this.props.onSaveClick(this.state)}>\r\n\r\n                    <FontAwesomeIcon icon={faSave} /> { }\r\n                    <FormattedMessage id='IDS_SAVEFILTER' defaultMessage='Save Filter' />\r\n                </Button> \r\n                \r\n                }     */}\r\n                {//this.props.index===0&&\r\n                    this.state.showAlert &&\r\n                    <ModalShow\r\n                        modalShow={this.state.showAlert}\r\n                        modalTitle={this.props.intl.formatMessage({ id: \"IDS_ADDITIONALINFOREQURIED\" })}\r\n                        closeModal={this.closeModalShow}\r\n                        onSaveClick={this.onModalSave}\r\n                        removeCancel={this.state.showAlertForPredefined || this.state.additionalInfoView ? true : false}\r\n                        needSubmit={this.state.showAlertForPredefined || this.state.additionalInfoView ? true : false}\r\n                        needSave={this.state.showAlertForPredefined || this.state.additionalInfoView ? \"\" : true}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        size={this.state.showAlertForPredefined || this.state.additionalInfoView ? \"\" : 'lg'}\r\n                        showAlertMsg={this.state.showAlertForPredefined ? true : false}\r\n                        modalBody={\r\n                            <ResultEntryPredefinedComments\r\n                                onlyAlertMsgAvailable={this.state.onlyAlertMsgAvailable}\r\n                                salertmessage={this.state.masterData['salertmessage']}\r\n                                showMultiSelectCombo={this.state.showMultiSelectCombo}\r\n                                testgrouptestpredefsubresultOptions={this.state.masterData.testgrouptestpredefsubresultOptions || []}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                onInputChange={this.onInputChange}\r\n                                onComboChange={this.onComboChange}\r\n                            />\r\n                        }\r\n                    />}\r\n\r\n                <Row  className='result-entry-form-slide' >\r\n                    {/* {this.props.parameterResults.map((parameterResult, index) => {\r\n                    return (   */}\r\n                    <>\r\n\r\n                        {this.props.needSubSample && this.props.parameterResults.ssamplearno ?\r\n                            <MediaHeader className={`labelfont`} style={{ color: \"#007bff\" }}>\r\n                                {this.props.parameterResults.ssamplearno}\r\n                                {this.props.parameterResults.stestsynonym ?\r\n                                    <span className={`labelfont`} //style={{ color: \"#505f79\" }}\r\n                                        style={{ color: \"#97a0af\", paddingLeft: '0.2rem' }}>\r\n                                        {/* <FontAwesomeIcon icon={faAngleRight} className=\"DeleteIconColor\" /> */}\r\n                                        {/* <FontAwesomeIcon icon={faAngleRight} className=\"DeleteIconColor\" /> */}\r\n                                        { }{ } {this.props.parameterResults.stestsynonym}\r\n                                        {/* {this.props.parameterResults.sretestrepeatcount} */}\r\n                                    </span>\r\n                                    : \"\"}\r\n                            </MediaHeader>\r\n                            : this.props.parameterResults.sarno ?\r\n                                <MediaHeader className={`labelfont`} style={{ color: \"#007bff\" }}>\r\n                                    {this.props.parameterResults.sarno}\r\n                                    {this.props.parameterResults.stestsynonym ?\r\n                                        <span className={`labelfont`} //style={{ color: \"#505f79\" }}\r\n                                            style={{ color: \"#97a0af\", paddingLeft: '0.2rem' }}>\r\n                                            {/* <FontAwesomeIcon icon={faAngleRight} className=\"DeleteIconColor\" /> */}\r\n                                            {/* <FontAwesomeIcon icon={faAngleRight} className=\"DeleteIconColor\" /> */}\r\n                                            { }{ } {this.props.parameterResults.stestsynonym}\r\n                                            {/* {this.props.parameterResults.sretestrepeatcount} */}\r\n                                        </span>\r\n                                        : \"\"}\r\n                                </MediaHeader>\r\n                                : \"\"\r\n                        }\r\n                        {\r\n                           (this.props.formFields &&  this.props.formFields.length>0) ?\r\n                            this.props.formFields.map((item,index)=>\r\n                             <>\r\n                             <MediaHeader className={`labelfont`} style={{ color: \"#007bff\" ,paddingLeft: '0.3rem'}}>\r\n                             {item + \" : \"}\r\n                             </MediaHeader>\r\n                             <MediaHeader className={`labelfont`} style={{ color: \"##97a0af\" ,paddingLeft: '0.3rem'}}>\r\n                             { this.props.parameterResults.hasOwnProperty(item)? this.props.parameterResults[item]||'-':'-' } \r\n                             {index===(this.props.formFields.length-1)?\"\":\" | \"}\r\n                             </MediaHeader>\r\n                             </>\r\n                             )\r\n                             :\"\"\r\n                        }\r\n\r\n                        <Col md={12} className=\"pl-0 mt-2\">\r\n                            <MediaHeader className={`labelfont`} style={{ color: \"#505f79\" }}\r\n                            >\r\n                                {/* <FontAwesomeIcon icon={faAngleRight} className=\"DeleteIconColor\" /> */}\r\n                                { }{ } {this.props.parameterResults.sparametersynonym}{ }{ }{this.props.parameterResults.nresultmandatory === transactionStatus.NO ? \"(optional)\" : \"\"}\r\n                            </MediaHeader>\r\n                        </Col>\r\n                        <div className='row w-100' style={{ color: \"#505f79\", fontSize: \"0.8rem\" }}>\r\n                        <Col md={this.props.parameterResults && (this.props.parameterResults.nparametertypecode === parameterType.CHARACTER || this.props.parameterResults.nparametertypecode === parameterType.PREDEFINED) ? 12 : this.props.Login.userInfo && this.props.Login.userInfo.nformcode === formCode.RESULTENTRY ? 6 : 4} style={{wordWrap: 'break-word'}}>\r\n                            {this.props.parameterResults && this.props.parameterResults.nparametertypecode !== parameterType.ATTACHMENT && this.props.intl.formatMessage({ id:\"IDS_DEFAULTRESULT\"})+ \" : \"+ (this.props.parameterResults.sresultvalue != null ? this.props.parameterResults.sresultvalue : \"-\")}\r\n                        </Col>\r\n                        {this.props.parameterResults && this.props.parameterResults.nparametertypecode === parameterType.NUMERIC && \r\n                        <Col md={this.props.Login.userInfo && this.props.Login.userInfo.nformcode === formCode.RESULTENTRY ? 6 : 10}>\r\n                            <span className=\"pr-4\">{this.props.intl.formatMessage({ id:\"IDS_MINB\"})+ \" : \"+ (this.props.parameterResults.sminb != null ? this.props.parameterResults.sminb : \"-\")}</span>\r\n                            <span className=\"pr-4\">{this.props.intl.formatMessage({ id:\"IDS_MINA\"})+ \" : \"+ (this.props.parameterResults.smina != null ? this.props.parameterResults.smina : \"-\")}</span>\r\n                            <span className=\"pr-4\">{this.props.intl.formatMessage({ id:\"IDS_MAXA\"})+ \" : \"+ (this.props.parameterResults.smaxa != null ? this.props.parameterResults.smaxa : \"-\")}</span>\r\n                            <span className=\"pr-4\">{this.props.intl.formatMessage({ id:\"IDS_MAXB\"})+ \" : \"+ (this.props.parameterResults.smaxb != null ? this.props.parameterResults.smaxb : \"-\")}</span>\r\n                        </Col>}\r\n                        </div>\r\n                        {this.props.parameterResults && this.props.parameterResults.nparametertypecode !== parameterType.ATTACHMENT && <hr style={{  border: 'none', height: '0.5px', backgroundColor: '#EEEAEA', width: '100%' }} />}\r\n                        <br/><br/>\r\n                        {this.renderSwitch(this.props.parameterResults, this.props.index, this.props.parameterResults.ntransactionresultcode, this.props.Login.screenName)}\r\n                    </>\r\n                    {/* )\r\n            })\r\n            } */}\r\n                </Row ></>\r\n\r\n        )\r\n    }\r\n}\r\n \r\n// export default  \r\n// connect(mapStatetoProps, mapDispatchToProps, {\r\n//    updateStore//,getPredefinedData\r\n// } )\r\n// //connect()\r\n//     (injectIntl(ResultEntryForm)) ;\r\n\r\n    export default connect(null, {\r\n        updateStore \r\n    \r\n    })(injectIntl(ResultEntryForm));"]},"metadata":{},"sourceType":"module"}