{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\branches\\\\SOURCE-513-PROD\\\\QuaLISWeb\\\\src\\\\pages\\\\testgroup\\\\TestGroupTestTab.jsx\";\nimport React, { Component } from 'react';\nimport { injectIntl } from 'react-intl';\nimport { Row, Col } from 'react-bootstrap';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport TestGroupParameterTab from './TestGroupParameterTab';\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component';\nimport { showEsign, sortData } from '../../components/CommonScript';\nimport Esign from '../audittrail/Esign';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { parameterType, transactionStatus } from '../../components/Enumeration';\nimport EditTestGroupParameter from './EditTestGroupParameter';\nimport AddCodedResult from '../testmanagement/AddCodedResult';\nimport FormTextarea from '../../components/form-textarea/form-textarea.component';\nimport AddSpecification from '../testmanagement/AddSpecification';\nimport TemplateForm from '../checklist/checklist/TemplateForm';\nimport { toast } from 'react-toastify';\nimport TestGroupMaterialTab from './TestGroupMaterialTab';\nimport AddTestGroupTestMaterial from './AddTestGroupTestMaterial';\nimport AddTestGroupNumericSpecification from './AddTestGroupNumericSpecification';\nimport ConfirmMessage from \"../../components/confirm-alert/confirm-message.component\";\nimport TestGroupRulesEngineTab from './TestGroupRulesEngineTab';\nimport AddSubCodedResult from '../testmanagement/AddSubCodedResult';\nimport AddRulesCopy from '../testmanagement/AddRulesCopy';\n\nclass TestGroupTestTab extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onTemplateInputChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onTemplateComboChange = (comboData, fieldName) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = comboData;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onTemplateDateChange = (dateName, dateValue) => {\n      const {\n        selectedRecord\n      } = this.state.selectedRecord || {};\n\n      if (dateValue === null) {\n        dateValue = new Date();\n      }\n\n      selectedRecord[dateName] = dateValue;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.handleClose = () => {\n      let updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          selectedRecord: {},\n          testGroupCheckList: {},\n          openTemplateModal: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeModal = () => {\n      if (this.props.screenName === \"IDS_SUBCODEDRESULT\") {\n        //screenName = \"IDS_CODEDRESULT\";\n        //operation = \"update\";\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            operation: \"create\",\n            selectedId: null,\n            openChildModal: true,\n            screenName: \"IDS_CODEDRESULT\"\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        let loadEsign = this.props.loadEsign;\n        let openChildModal = this.props.openChildModal;\n        let selectedRecord = this.props.selectedRecord;\n        let selectedsubcodedresult = this.state.selectedsubcodedresult;\n\n        if (this.props.loadEsign) {\n          if (this.props.operation === \"delete\" || this.props.operation === \"Default\") {\n            loadEsign = false;\n            openChildModal = false;\n            selectedRecord = {};\n          } else {\n            loadEsign = false; // selectedRecord[\"agree\"] = 4;\n\n            selectedRecord['esignpassword'] = \"\";\n            selectedRecord['esigncomments'] = \"\";\n            selectedRecord['esignreason'] = \"\";\n          }\n        } else {\n          openChildModal = false;\n          selectedRecord = {};\n        }\n\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            openChildModal,\n            loadEsign,\n            selectedRecord,\n            selectedsubcodedresult\n          }\n        };\n        this.props.updateStore(updateInfo); //this.setState({selectedsubcodedresult: []}); \n      }\n    };\n\n    this.onTabChange = tabProps => {\n      const screenName = tabProps.screenName;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          screenName\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.EditSpecDetails = (viewdetails, ncontrolCode) => {\n      this.props.addTestGroupNumericTab(\"update\", viewdetails, this.props.userInfo, {\n        testgroupspecification: this.props.masterData.SelectedSpecification\n      }, this.props.masterData, ncontrolCode);\n    };\n\n    this.DeleteSpecDetails = (viewdetails, ncontrolCode) => {\n      this.SpecConfirmDelete(\"delete\", 1, viewdetails, ncontrolCode);\n    };\n\n    this.tabDetail = () => {\n      const tabMap = new Map();\n      tabMap.set(\"IDS_PARAMETER\", /*#__PURE__*/React.createElement(TestGroupParameterTab, {\n        controlMap: this.props.controlMap,\n        userRoleControlRights: this.props.userRoleControlRights,\n        userInfo: this.props.userInfo,\n        inputParam: this.props.inputParam,\n        masterData: this.props.masterData,\n        deleteAction: this.deleteAction,\n        onSwitchChange: this.onSwitchChange,\n        addTestFile: this.props.addTestFile,\n        viewTestFile: this.viewTestFile,\n        defaultRecord: this.defaultRecord,\n        filterData: this.props.filterData,\n        getTestGroupParameter: this.props.getTestGroupParameter,\n        editTestGroupParameter: this.props.editTestGroupParameter,\n        addTestGroupCodedResult: this.props.addTestGroupCodedResult,\n        addTestGroupNumericTab: this.props.addTestGroupNumericTab,\n        viewTestGroupCheckList: this.props.viewTestGroupCheckList,\n        EditSpecDetails: this.EditSpecDetails,\n        DeleteSpecDetails: this.DeleteSpecDetails,\n        dataState: this.props.dataState,\n        dataStateChange: this.props.dataStateChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }\n      }));\n      return tabMap;\n    };\n\n    this.testTabDetail = () => {\n      const tabMap = new Map();\n      tabMap.set(\"IDS_PARAMETER\", /*#__PURE__*/React.createElement(TestGroupParameterTab, {\n        paneHeight: this.props.paneHeight,\n        controlMap: this.props.controlMap,\n        userRoleControlRights: this.props.userRoleControlRights,\n        userInfo: this.props.userInfo,\n        inputParam: this.props.inputParam,\n        masterData: this.props.masterData,\n        deleteAction: this.deleteAction,\n        onSwitchChange: this.onSwitchChange,\n        addTestFile: this.props.addTestFile,\n        viewTestFile: this.viewTestFile,\n        defaultRecord: this.defaultRecord,\n        filterData: this.props.filterData,\n        getTestGroupParameter: this.props.getTestGroupParameter,\n        editTestGroupParameter: this.props.editTestGroupParameter,\n        addTestGroupCodedResult: this.props.addTestGroupCodedResult,\n        subCodedResultView: this.props.subCodedResultView,\n        addTestGroupNumericTab: this.props.addTestGroupNumericTab,\n        viewTestGroupCheckList: this.props.viewTestGroupCheckList,\n        EditSpecDetails: this.EditSpecDetails,\n        DeleteSpecDetails: this.DeleteSpecDetails,\n        hasDynamicColSize: true,\n        dataState: this.props.dataState,\n        dataStateChange: this.props.dataStateChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }\n      }));\n      tabMap.set(\"IDS_MATERIAL\", /*#__PURE__*/React.createElement(TestGroupMaterialTab, {\n        paneHeight: this.props.paneHeight,\n        controlMap: this.props.controlMap,\n        userRoleControlRights: this.props.userRoleControlRights,\n        userInfo: this.props.userInfo,\n        inputParam: this.props.inputParam,\n        masterData: this.props.masterData,\n        ConfirmDelete: this.ConfirmDelete,\n        getDataForTestMaterial: this.props.getDataForTestMaterial,\n        getTestGroupMaterial: this.props.getTestGroupMaterial,\n        getDataForEditTestMaterial: this.props.getDataForEditTestMaterial,\n        selectedRecord: this.state.selectedRecord,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }\n      }));\n      this.props.isrulesenginerequired && tabMap.set(\"IDS_RULESENGINE\", /*#__PURE__*/React.createElement(TestGroupRulesEngineTab, {\n        paneHeight: this.props.paneHeight,\n        getTestGroupRulesEngineAdd: this.props.getTestGroupRulesEngineAdd,\n        controlMap: this.props.controlMap,\n        userRoleControlRights: this.props.userRoleControlRights,\n        userInfo: this.props.userInfo,\n        selectedRecord: this.state.selectedRecord,\n        masterData: this.props.masterData,\n        settings: this.props.settings,\n        skipRulesEngine: this.props.skipRulesEngine,\n        takeRulesEngine: this.props.takeRulesEngine,\n        getEditTestGroupRulesEngine: this.props.getEditTestGroupRulesEngine,\n        getSelectedTestGroupRulesEngine: this.props.getSelectedTestGroupRulesEngine,\n        ConfirmDeleteRule: this.props.ConfirmDeleteRule,\n        approveVersion: this.props.approveVersion,\n        openflowview: this.props.openflowview,\n        handlePageChangeRuleEngine: this.props.handlePageChangeRuleEngine,\n        viewOutcome: this.props.viewOutcome,\n        filterParamRulesEngine: this.props.filterParamRulesEngine,\n        filterTransactionList: this.props.filterTransactionList,\n        saveExecutionOrder: this.props.saveExecutionOrder,\n        copyVersion: this.props.copyVersion,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 17\n        }\n      }));\n      return tabMap;\n    };\n\n    this.ConfirmDelete = (operation, deleteId, selectedRecord) => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.DeleteTestMaterial(operation, deleteId, selectedRecord));\n    };\n\n    this.SpecConfirmDelete = (operation, deleteId, selectedRecord, ncontrolCode) => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.deleteAction(selectedRecord, \"delete\", ncontrolCode, \"TestGroupAddSpecification\", \"openChildModal\"));\n    };\n\n    this.DeleteTestMaterial = (operation, ncontrolCode) => {\n      let selectedSpecification = this.props.masterData.SelectedSpecification;\n\n      if (selectedSpecification.napprovalstatus === transactionStatus.DRAFT || selectedSpecification.napprovalstatus === transactionStatus.CORRECTION) {\n        let selectedRecord = this.state.selectedRecord;\n        let inputData = [];\n        inputData = {\n          ntreeversiontempcode: this.props.masterData.selectedNode.ntreeversiontempcode\n        };\n        inputData[\"testgrouptestmaterial\"] = {\n          ntestgrouptestmaterialcode: this.props.masterData.selectedMaterial.ntestgrouptestmaterialcode,\n          ntestgrouptestcode: this.props.masterData.selectedMaterial.ntestgrouptestcode\n        };\n        inputData[\"userinfo\"] = this.props.userInfo;\n        const inputParam = {\n          methodUrl: \"TestGroupTestMaterial\",\n          classUrl: this.props.inputParam.classUrl,\n          inputData: inputData,\n          operation: \"delete\",\n          selectedRecord: { ...this.state.selectedRecord\n          }\n        };\n        const masterData = this.props.masterData;\n\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              openModal: true,\n              screenName: \"IDS_TESTGROUPMATERIAL\",\n              operation: operation.operation\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\n        }\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"\n        }));\n      }\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      let inputParam = {}; // if(this.props.screenName === \"IDS_TEST\" \n      //     || this.props.screenName === \"IDS_EDITTESTGROUPTEST\") {\n      //     inputParam = this.onSaveTest(saveType, formRef);\n      // } else \n\n      let clearSelectedRecordField = [];\n\n      if (this.props.screenName === \"IDS_FORMULA\") {\n        inputParam = this.onSaveFormula(saveType, formRef);\n      } else if (this.props.screenName === \"IDS_PARAMETER\") {\n        inputParam = this.onSaveParameter(saveType, formRef);\n      } else if (this.props.screenName === \"IDS_CODEDRESULT\") {\n        if (this.state.selectedRecord[\"nneedsubcodedresult\"] === 3 && this.state.selectedsubcodedresult.length > 0 || this.state.selectedRecord[\"nneedsubcodedresult\"] === 4) {\n          inputParam = this.onSaveCodedResult(saveType, formRef);\n        } else {\n          return toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_ADDSUBCODEDRESULT\"\n          }));\n        }\n\n        clearSelectedRecordField = [{\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_CODEDRESULT\",\n          \"dataField\": \"spredefinedname\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_CODEDRESULTSYNONYM\",\n          \"dataField\": \"spredefinedsynonym\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_RESULTPARAMETERCOMMENTS\",\n          \"dataField\": \"spredefinedcomments\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"checkbox\",\n          \"idsName\": \"IDS_AlERTFORRESULTENTRY\",\n          \"dataField\": \"nneedresultentryalert\",\n          \"width\": \"150px\",\n          \"controlName\": \"ndefaultstatus\",\n          \"mandatoryLabel\": \"IDS_SELECT\",\n          \"isClearField\": true,\n          \"preSetValue\": 4\n        }, {\n          \"controlType\": \"checkbox\",\n          \"idsName\": \"IDS_SUBCODERESULTNEED\",\n          \"dataField\": \"nneedsubcodedresult\",\n          \"width\": \"150px\",\n          \"controlName\": \"ndefaultstatus\",\n          \"mandatoryLabel\": \"IDS_SELECT\",\n          \"isClearField\": true,\n          \"preSetValue\": 4\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_ALERTMESSAGE\",\n          \"dataField\": \"salertmessage\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }];\n      } else if (this.props.screenName === \"IDS_SUBCODEDRESULT\") {\n        return this.onSaveSubCodedResult(saveType, formRef);\n      } else if (this.props.screenName === \"IDS_CLINICALSPEC\") {\n        inputParam = this.onSaveSpecification(saveType, formRef);\n        clearSelectedRecordField = [{\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_FROMAGE\",\n          \"dataField\": \"nfromage\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_TOAGE\",\n          \"dataField\": \"ntoage\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_LOWA\",\n          \"dataField\": \"nlowa\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_HIGHA\",\n          \"dataField\": \"nhigha\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_MINVALUES\",\n          \"dataField\": \"sminloq\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_MAXVALUES\",\n          \"dataField\": \"smaxloq\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_DISREGARDED\",\n          \"dataField\": \"sdisregard\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_LOWB\",\n          \"dataField\": \"nlowb\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_HIGHB\",\n          \"dataField\": \"nhighb\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_MINVALUES\",\n          \"dataField\": \"sminlod\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_MAXVALUES\",\n          \"dataField\": \"smaxlod\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }, {\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_DEFAULTRESULT\",\n          \"dataField\": \"sresultvalue\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        } //{ \"controlType\": \"checkbox\", \"idsName\": \"IDS_DEFAULTSTATUS\", \"dataField\": \"ndefaultstatus\", \"width\": \"150px\",\"controlName\": \"ndefaultstatus\", \"mandatoryLabel\": \"IDS_SELECT\",\"isClearField\":true,\"preSetValue\":4 },\n        //{ \"controlType\": \"checkbox\", \"idsName\": \"IDS_DEFAULTSTATUS\", \"dataField\": \"nlinkdefaultstatus\", \"width\": \"150px\",\"controlName\": \"ndefaultstatus\", \"mandatoryLabel\": \"IDS_SELECT\",\"isClearField\":true,\"preSetValue\":4 },\n        ];\n      } else if (this.props.screenName === \"IDS_TESTGROUPMATERIAL\") {\n        inputParam = this.onSaveMaterial(saveType, formRef);\n        clearSelectedRecordField = [{\n          \"controlType\": \"textarea\",\n          \"idsName\": \"IDS_REMARKS\",\n          \"dataField\": \"sremarks\",\n          \"width\": \"200px\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"isClearField\": true\n        }];\n      } else if (this.props.screenName === \"IDS_RULESFROM\") {\n        inputParam = this.onSaveCopyRules(saveType, formRef);\n      }\n\n      if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData: this.props.masterData\n            },\n            saveType\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        //(this.props.screenName !== \"IDS_CODEDRESULT\")\n        // if(this.props.submit!==\"SUBCODERESULT\")\n        if (this.props.screenName === \"IDS_TESTGROUPMATERIAL\" || this.props.screenName === \"IDS_CODEDRESULT\" || this.props.screenName === \"IDS_CLINICALSPEC\") {\n          this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\", {}, \"\", clearSelectedRecordField);\n        } else {\n          this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\", {});\n        }\n      }\n    };\n\n    this.onSaveCopyRules = (saveType, formRef) => {\n      let ntestgrouprulesenginecode = [];\n      this.state.selectedRecord.ntestgrouprulesenginecode.length > 0 && this.state.selectedRecord.ntestgrouprulesenginecode.map(item => {\n        ntestgrouprulesenginecode.push(item.item.item);\n      });\n      let inputData = {\n        userinfo: this.props.userInfo,\n        ncomponentcode: this.state.selectedRecord.ncomponentcode && this.state.selectedRecord.ncomponentcode.value || -1,\n        nallottedspeccode: this.state.selectedRecord.nallottedspeccode && this.state.selectedRecord.nallottedspeccode.value,\n        ntestcode: this.props.masterData.SelectedTest.ntestcode,\n        ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\n        selectedSpecCode: this.props.masterData.SelectedSpecification.nallottedspeccode,\n        selectedComponentCode: this.props.masterData.SelectedComponent && this.props.masterData.SelectedComponent.ncomponentcode || -1,\n        selectedRules: ntestgrouprulesenginecode,\n        selectedValueForAudit: {\n          sproductcatname: this.state.selectedRecord.nproductcatcode && this.state.selectedRecord.nproductcatcode.label || 'NA',\n          sproductname: this.state.selectedRecord.nproductcode && this.state.selectedRecord.nproductcode.label || 'NA',\n          sspecname: this.state.selectedRecord.nallottedspeccode && this.state.selectedRecord.nallottedspeccode.label || 'NA',\n          scomponentname: this.state.selectedRecord.ncomponentcode && this.state.selectedRecord.ncomponentcode.label || 'NA',\n          stestsynonym: this.props.masterData.SelectedTest.stestsynonym || 'NA',\n          sleveldescription: this.state.selectedRecord.ntemplatemanipulationcode && this.state.selectedRecord.ntemplatemanipulationcode.label || 'NA'\n        }\n      };\n      const inputParam = {\n        inputData,\n        classUrl: \"testgrouprulesengine\",\n        operation: \"copy\",\n        methodUrl: \"TestGroupRulesEngine\",\n        saveType,\n        formRef,\n        searchRef: this.searchRef // postParam: {\n        //     inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\n        //     primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n        //     fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\n        //     masterData: this.props.masterData, searchFieldList: this.searchFieldList\n        // }\n\n      };\n      return inputParam;\n    };\n\n    this.onSaveParameter = (saveType, formRef) => {\n      const selectedRecord = this.state.selectedRecord;\n      const parameterList = [\"ntestgrouptestparametercode\", \"ntestgrouptestcode\", \"ntestparametercode\", \"sparametersynonym\", \"nroundingdigits\", \"nresultmandatory\", \"nreportmandatory\", \"sspecdesc\", \"nsorter\", \"nisadhocparameter\"];\n      let testGroupTestParameter = {\n        nparametertypecode: selectedRecord.nparametertypecode.value,\n        sdisplaystatus: selectedRecord.nparametertypecode.label,\n        //ALPD-4363\n        nunitcode: selectedRecord.nunitcode ? selectedRecord.nunitcode.value : -1,\n        nresultaccuracycode: selectedRecord.nresultaccuracycode ? selectedRecord.nresultaccuracycode.value : -1,\n        nchecklistversioncode: selectedRecord.nchecklistversioncode ? selectedRecord.nchecklistversioncode.value : -1\n      };\n      parameterList.map(item => {\n        return testGroupTestParameter[item] = selectedRecord[item] ? selectedRecord[item] : \"\";\n      });\n      let inputData = {\n        testgrouptestparameter: testGroupTestParameter,\n        userinfo: this.props.userInfo\n      };\n\n      if (selectedRecord.nparametertypecode.value === parameterType.NUMERIC) {\n        let testGroupTestNumericParameter = {};\n        const numericList = [\"sminlod\", \"smaxlod\", \"sminb\", \"smina\", \"smaxa\", \"smaxb\", \"sminloq\", \"smaxloq\", \"sdisregard\", \"sresultvalue\"];\n        testGroupTestNumericParameter[\"ntestgrouptestparametercode\"] = selectedRecord.ntestgrouptestparametercode;\n        testGroupTestNumericParameter[\"ngradecode\"] = selectedRecord.ngradecode ? selectedRecord.ngradecode.value || -1 : -1;\n        numericList.map(item => {\n          return testGroupTestNumericParameter[item] = selectedRecord[item] ? selectedRecord[item] === \"0\" ? selectedRecord[item] : selectedRecord[item].replace(/^0+/, '') : null;\n        });\n        inputData[\"testgrouptestnumericparameter\"] = testGroupTestNumericParameter;\n\n        if (selectedRecord.ntestformulacode) {\n          const testFormula = selectedRecord.ntestformulacode.item;\n          const testgrouptestformula = {\n            ntestgrouptestparametercode: selectedRecord.ntestgrouptestparametercode,\n            ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\n            ntestformulacode: testFormula.ntestformulacode,\n            sformulacalculationcode: testFormula.sformulacalculationcode,\n            sformulacalculationdetail: testFormula.sformulacalculationdetail,\n            ntransactionstatus: transactionStatus.YES\n          };\n          inputData[\"testgrouptestformula\"] = testgrouptestformula;\n        } else {\n          inputData[\"testgrouptestformula\"] = null;\n        }\n      } else if (selectedRecord.nparametertypecode.value === parameterType.CHARACTER) {\n        const characterList = [\"ntestgrouptestparametercode\", \"scharname\"];\n        let testGroupTestCharParameter = {};\n        characterList.map(item => {\n          return testGroupTestCharParameter[item] = selectedRecord[item] ? selectedRecord[item] : \"\";\n        });\n        inputData[\"testgrouptestcharparameter\"] = testGroupTestCharParameter;\n      } //  else if (selectedRecord.nparametertypecode.value === parameterType.PREDEFINED) {\n      //     const testGroupTestPredefParameter = {\n      //         ntestgrouptestparametercode: selectedRecord.ntestgrouptestparametercode,\n      //         ngradecode: selectedRecord.ngradecode.value,\n      //         spredefinedname: selectedRecord.spredefinedname,\n      //         ntestgrouptestpredefcode: selectedRecord.ntestgrouptestpredefcode,\n      //         ndefaultstatus: selectedRecord.ndefaultstatus\n      //     }\n      //     inputData[\"testgrouptestpredefparameter\"] = testGroupTestPredefParameter;\n      // }\n      //console.log(\"input data:\", inputData);\n\n\n      const inputParam = {\n        inputData,\n        classUrl: \"testgroup\",\n        operation: \"update\",\n        methodUrl: \"TestGroupParameter\",\n        saveType,\n        formRef,\n        searchRef: this.searchRef,\n        postParam: {\n          inputListName: \"TestGroupTest\",\n          selectedObject: \"SelectedTest\",\n          primaryKeyField: \"ntestgrouptestcode\",\n          primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          fetchUrl: \"testgroup/getTestGroupTest\",\n          fecthInputObject: {\n            userinfo: this.props.userInfo\n          },\n          masterData: this.props.masterData,\n          searchFieldList: this.searchFieldList\n        }\n      };\n      return inputParam;\n    };\n\n    this.onSaveFormula = (saveType, formRef) => {\n      const masterData = this.props.masterData;\n      const selectedRecord = this.state.selectedRecord;\n      const selectedParameter = masterData.selectedParameter;\n      const testFormulaArray = selectedRecord.ntestformulacode.map(test => {\n        return {\n          ntestgrouptestcode: selectedParameter.ntestgrouptestcode,\n          ntestgrouptestparametercode: selectedParameter.ntestgrouptestparametercode,\n          ntestformulacode: test.item.ntestformulacode,\n          sformulacalculationcode: test.item.sformulacalculationcode,\n          sformulacalculationdetail: test.item.sformulacalculationdetail,\n          ntransactionstatus: transactionStatus.NO\n        };\n      });\n      const inputData = {\n        testgroupspecification: masterData.SelectedSpecification,\n        testgrouptestformula: testFormulaArray,\n        userinfo: this.props.userInfo\n      };\n      const inputParam = {\n        inputData,\n        classUrl: \"testgroup\",\n        operation: this.props.operation,\n        methodUrl: \"TestGroupTestFormula\",\n        saveType,\n        formRef,\n        searchRef: this.searchRef,\n        postParam: {\n          inputListName: \"TestGroupTest\",\n          selectedObject: \"SelectedTest\",\n          primaryKeyField: \"ntestgrouptestcode\",\n          primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          fetchUrl: \"testgroup/getTestGroupTest\",\n          fecthInputObject: {\n            userinfo: this.props.userInfo\n          },\n          masterData: this.props.masterData,\n          searchFieldList: this.searchFieldList\n        }\n      };\n      return inputParam;\n    };\n\n    this.onSaveCodedResult = (saveType, formRef) => {\n      const selectedRecord = this.state.selectedRecord;\n      const selectedsubcodedresult = this.state.selectedsubcodedresult; //const selectedsubcodedresult = this.state.selectedsubcodedresult;\n\n      const testgroupsubcoded = [];\n      const testGroupPredefParameter = {\n        ndefaultstatus: transactionStatus.NO,\n        nstatus: transactionStatus.ACTIVE,\n        ntestgrouptestpredefcode: selectedRecord[\"ntestgrouptestpredefcode\"],\n        ntestgrouptestparametercode: this.props.masterData.selectedParameter[\"ntestgrouptestparametercode\"],\n        ngradecode: selectedRecord[\"ngradecode\"].value,\n        spredefinedname: selectedRecord[\"spredefinedname\"],\n        //sresultparacomment: selectedRecord[\"sresultparacomment\"],\n        spredefinedsynonym: selectedRecord[\"spredefinedsynonym\"],\n        spredefinedcomments: selectedRecord[\"spredefinedcomments\"],\n        salertmessage: selectedRecord[\"salertmessage\"],\n        nneedresultentryalert: selectedRecord[\"nneedresultentryalert\"],\n        nneedsubcodedresult: selectedRecord[\"nneedsubcodedresult\"],\n        ntestpredefinedcode: this.props.masterData.selectedParameter[\"ntestpredefinedcode\"]\n      };\n      const inputParam = {\n        inputData: {\n          testgrouptestpredefinedparameter: testGroupPredefParameter,\n          userinfo: this.props.userInfo,\n          testgroupspecification: this.props.masterData.SelectedSpecification,\n          testgroupsubcoded: this.state.selectedsubcodedresult,\n          deletetestgroupsubcoded: this.state.selectsubcodedelete,\n          addsubcodedresult: this.state.selectedsubcodedresult.filter(x => !x.hasOwnProperty('ntestgrouptestpredefsubcode')) || []\n        },\n        classUrl: \"testgroup\",\n        operation: this.props.operation,\n        methodUrl: \"TestGroupPredefParameter\",\n        saveType,\n        formRef,\n        searchRef: this.searchRef,\n        selectedRecord: { ...this.state.selectedRecord\n        },\n        postParam: {\n          inputListName: \"TestGroupTest\",\n          selectedObject: \"SelectedTest\",\n          primaryKeyField: \"ntestgrouptestcode\",\n          primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          fetchUrl: \"testgroup/getTestGroupTest\",\n          fecthInputObject: {\n            userinfo: this.props.userInfo\n          },\n          masterData: this.props.masterData,\n          searchFieldList: this.searchFieldList\n        }\n      }; //this.setState({selectedsubcodedresult: []}); \n\n      return inputParam;\n    };\n\n    this.onSaveSubCodedResult = (saveType, formRef) => {\n      // const ssubcodedresult = this.state.selectedRecord[\"ssubcodedresult\"];\n      let selectedsubcodedresult = []; //let addsubcodedresult = [];\n\n      selectedsubcodedresult[\"ssubcodedresult\"] = [];\n      selectedsubcodedresult = this.state.selectedsubcodedresult || []; //addsubcodedresult = this.state.selectedsubcodedresult.filter(x =>!x.hasOwnProperty('ntestgrouptestpredefsubcode') )|| [];\n\n      let ssubcodedresult = this.state.selectedRecord[\"ssubcodedresult\"];\n      selectedsubcodedresult.push({\n        \"ssubcodedresult\": this.state.selectedRecord[\"ssubcodedresult\"]\n      });\n      const selectedRecord = this.state.selectedRecord;\n      delete selectedRecord[\"ssubcodedresult\"];\n      let openChildModal = false;\n      let screenName = \"IDS_CODEDRESULT\";\n\n      if (saveType === 2) {\n        openChildModal = true;\n        screenName = \"IDS_SUBCODEDRESULT\";\n      } else {\n        screenName = \"IDS_CODEDRESULT\";\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          //operation: \"create\", \n          selectedId: null,\n          selectedsubcodedresult,\n          selectedRecord,\n          screenName,\n          loading: false,\n          openChildModal,\n          submit: \"SUBCODERESULT\"\n        }\n      };\n      this.props.updateStore(updateInfo); //this.setState({ selectedsubcodedresult });\n    };\n\n    this.onSaveSpecification = (saveType, formRef) => {\n      const selectedRecord = this.state.selectedRecord; // if(selectedRecord[\"nfromage\"]<selectedRecord[\"ntoage\"]){\n\n      const TestGroupAddSpecification = {\n        nstatus: transactionStatus.ACTIVE,\n        ntestgrouptestparametercode: this.props.masterData.selectedParameter[\"ntestgrouptestparametercode\"],\n        ngendercode: selectedRecord[\"ngendercode\"].value,\n        nfromage: selectedRecord[\"nfromage\"],\n        ntoage: selectedRecord[\"ntoage\"],\n        shigha: selectedRecord[\"nhigha\"],\n        shighb: selectedRecord[\"nhighb\"],\n        slowa: selectedRecord[\"nlowa\"],\n        slowb: selectedRecord[\"nlowb\"],\n        sminlod: selectedRecord[\"sminlod\"],\n        smaxlod: selectedRecord[\"smaxlod\"],\n        sminloq: selectedRecord[\"sminloq\"],\n        smaxloq: selectedRecord[\"smaxloq\"],\n        sdisregard: selectedRecord[\"sdisregard\"],\n        sresultvalue: selectedRecord[\"sresultvalue\"],\n        ngradecode: selectedRecord[\"ngradecode\"] && selectedRecord[\"ngradecode\"].value || -1,\n        nfromageperiod: selectedRecord[\"nfromageperiod\"] && selectedRecord[\"nfromageperiod\"].value || -1,\n        ntoageperiod: selectedRecord[\"ntoageperiod\"] && selectedRecord[\"ntoageperiod\"].value || -1,\n        ntestgrouptestclinicspeccode: selectedRecord[\"ntestgrouptestclinicspeccode\"]\n      };\n      const inputParam = {\n        inputData: {\n          testgroupaddspecification: TestGroupAddSpecification,\n          userinfo: this.props.userInfo,\n          testgroupspecification: this.props.masterData.SelectedSpecification\n        },\n        classUrl: \"testgroup\",\n        operation: this.props.operation,\n        methodUrl: \"TestGroupAddSpecification\",\n        saveType,\n        formRef,\n        searchRef: this.searchRef,\n        selectedRecord: { ...this.state.selectedRecord\n        },\n        postParam: {\n          inputListName: \"TestGroupTest\",\n          selectedObject: \"SelectedTest\",\n          primaryKeyField: \"ntestgrouptestcode\",\n          primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          fetchUrl: \"testgroup/getTestGroupTest\",\n          fecthInputObject: {\n            userinfo: this.props.userInfo\n          },\n          masterData: this.props.masterData,\n          searchFieldList: this.searchFieldList\n        }\n      };\n      return inputParam; // }else{\n      //     toast.warn(this.props.intl.formatMessage({id: \"IDS_SELECTEDTEMPLATEISRETIRED\"})); \n      // }\n    };\n\n    this.onSaveMaterial = (saveType, formRef) => {\n      const selectedRecord = this.state.selectedRecord;\n      let testGroupTestMaterial = [];\n\n      if (this.props.operation === \"create\") {\n        testGroupTestMaterial = {\n          ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          ntestgrouptestmaterialcode: this.props.masterData.SelectedTest.ntestgrouptestmaterialcode,\n          nmaterialtypecode: selectedRecord[\"nmaterialtypecode\"].item.jsondata.nmaterialtypecode,\n          nmaterialcatcode: selectedRecord[\"nmaterialcatcode\"].value,\n          nmaterialcode: selectedRecord[\"nmaterialcode\"].value,\n          smaterialname: selectedRecord[\"nmaterialcode\"].label,\n          sremarks: selectedRecord[\"sremarks\"],\n          nstatus: transactionStatus.ACTIVE\n        };\n      } else {\n        testGroupTestMaterial = {\n          ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          ntestgrouptestmaterialcode: this.props.masterData.selectedMaterial.ntestgrouptestmaterialcode,\n          nmaterialtypecode: selectedRecord[\"nmaterialtypecode\"].value,\n          nmaterialcatcode: selectedRecord[\"nmaterialcatcode\"].value,\n          nmaterialcode: selectedRecord[\"nmaterialcode\"].value,\n          sremarks: selectedRecord[\"sremarks\"],\n          nstatus: transactionStatus.ACTIVE\n        };\n      }\n\n      const inputParam = {\n        inputData: {\n          testgrouptestmaterial: testGroupTestMaterial,\n          ntreeversiontempcode: this.props.masterData.selectedNode.ntreeversiontempcode,\n          userinfo: this.props.userInfo\n        },\n        classUrl: \"testgroup\",\n        operation: this.props.operation,\n        methodUrl: \"TestGroupTestMaterial\",\n        saveType,\n        formRef,\n        searchRef: this.searchRef,\n        selectedRecord: { ...this.state.selectedRecord\n        },\n        postParam: {\n          inputListName: \"TestGroupTest\",\n          selectedObject: \"SelectedTest\",\n          primaryKeyField: \"ntestgrouptestcode\",\n          primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n          fetchUrl: \"testgroup/getTestGroupTest\",\n          fecthInputObject: {\n            userinfo: this.props.userInfo\n          },\n          masterData: this.props.masterData,\n          searchFieldList: this.searchFieldList\n        }\n      };\n      return inputParam;\n    };\n\n    this.deleteTest = deleteParam => {\n      const masterData = this.props.masterData;\n      const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\n      const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;\n\n      if (templateVersionStatus === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTEDTEMPLATEISRETIRED\"\n        }));\n      } else {\n        const testgroupspecification = this.props.masterData.SelectedSpecification;\n\n        if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\n          const screenName = deleteParam.screenName;\n          const inputParam = {\n            inputData: {\n              testgrouptest: deleteParam.selectedRecord,\n              userinfo: this.props.userInfo,\n              testgroupspecification,\n              treetemplatemanipulation: this.props.masterData.selectedNode\n            },\n            classUrl: \"testgroup\",\n            operation: \"delete\",\n            methodUrl: \"Test\",\n            screenName: \"IDS_TEST\",\n            postParam: {\n              inputListName: \"TestGroupTest\",\n              selectedObject: \"SelectedTest\",\n              primaryKeyField: \"ntestgrouptestcode\",\n              primaryKeyValue: deleteParam.selectedRecord.ntestgrouptestcode,\n              fetchUrl: \"testgroup/getTestGroupTest\",\n              fecthInputObject: {\n                userinfo: this.props.userInfo\n              },\n              masterData: this.props.masterData,\n              searchFieldList: this.searchFieldList\n            }\n          };\n          const masterData = this.props.masterData;\n\n          if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                openModal: true,\n                screenName: screenName,\n                operation: deleteParam.operation,\n                selectedRecord: {}\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, masterData, \"openModal\", {});\n          }\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"\n          }));\n        }\n      }\n    };\n\n    this.deleteAction = (item, operation, ncontrolCode, methodUrl, modalName) => {\n      const masterData = this.props.masterData;\n      const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\n      const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;\n\n      if (templateVersionStatus === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTEDTEMPLATEISRETIRED\"\n        }));\n      } else {\n        const selected = item;\n        const inputParam = {\n          inputData: {\n            [methodUrl.toLowerCase()]: selected,\n            userinfo: this.props.userInfo,\n            testgroupspecification: this.props.masterData.SelectedSpecification,\n            deletetestgroupsubcoded: this.state.selectedsubcodedresult || []\n          },\n          classUrl: \"testgroup\",\n          operation: operation,\n          methodUrl: methodUrl,\n          screenName: \"IDS_TEST\",\n          postParam: {\n            inputListName: \"TestGroupTest\",\n            selectedObject: \"SelectedTest\",\n            primaryKeyField: \"ntestgrouptestcode\",\n            primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\n            fetchUrl: \"testgroup/getTestGroupTest\",\n            fecthInputObject: {\n              userinfo: this.props.userInfo\n            },\n            masterData: this.props.masterData,\n            searchFieldList: this.searchFieldList\n          }\n        };\n        const masterData = this.props.masterData;\n\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              [modalName]: true,\n              screenName: \"IDS_TEST\",\n              operation: operation,\n              selectedRecord: {}\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\n        }\n      }\n    };\n\n    this.onSwitchChange = (item, key, methodUrl, event) => {\n      const masterData = this.props.masterData;\n      const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\n      const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;\n\n      if (templateVersionStatus === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTEDTEMPLATEISRETIRED\"\n        }));\n      } else {\n        //NIBSCRT-2236\n        const testgroupspecification = this.props.masterData.SelectedSpecification;\n\n        if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\n          let dataItem = item;\n\n          if (methodUrl === \"TestGroupTestFormula\") {\n            dataItem[\"ntransactionstatus\"] = transactionStatus.YES;\n          } else if (methodUrl === 'TestGroupPredefParameter') {\n            // if(this.props.masterData.SelectedSpecification.napprovalstatus === transactionStatus.DRAFT || this.props.masterData.SelectedSpecification.napprovalstatus === transactionStatus.CORRECTION)\n            // {\n            dataItem['ndefaultstatus'] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO; // }\n            // else{\n            //     return toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\n            // }\n          } else {\n            dataItem[\"ndefaultstatus\"] = transactionStatus.YES;\n          }\n\n          const inputParam = {\n            inputData: {\n              [key]: dataItem,\n              userinfo: this.props.userInfo,\n              testgroupspecification: this.props.masterData.SelectedSpecification\n            },\n            classUrl: \"testgroup\",\n            operation: \"default\",\n            methodUrl: methodUrl\n          };\n          this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\", {});\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"\n          }));\n        }\n      }\n    };\n\n    this.onEsignInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onRulesComboChange = (comboData, fieldName) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = comboData;\n\n      if (fieldName === \"nproductcatcode\") {\n        if (comboData.item.ncategorybasedflow === transactionStatus.NO) {\n          this.props.getProductComboServices({\n            inputData: {\n              userinfo: this.props.userInfo,\n              nproductcatcode: comboData.value,\n              ntestcode: this.props.masterData.SelectedTest.ntestcode\n            }\n          });\n        } else {\n          this.props.getProfileRootComboServices({\n            inputData: {\n              userinfo: this.props.userInfo,\n              nproductcatcode: comboData.value,\n              nproductcode: -1,\n              ntestcode: this.props.masterData.SelectedTest.ntestcode\n            }\n          });\n        }\n\n        delete selectedRecord.nallottedspeccode;\n        delete selectedRecord.ncomponentcode;\n        delete selectedRecord.nproductcode;\n        delete selectedRecord.ntemplatemanipulationcode;\n        delete selectedRecord.ntestgrouprulesenginecode;\n      } else if (fieldName === \"nproductcode\") {\n        this.props.getProfileRootComboServices({\n          inputData: {\n            userinfo: this.props.userInfo,\n            nproductcatcode: selectedRecord.nproductcatcode && selectedRecord.nproductcatcode.value,\n            nproductcode: comboData.value,\n            ntestcode: this.props.masterData.SelectedTest.ntestcode\n          }\n        });\n        delete selectedRecord.nallottedspeccode;\n        delete selectedRecord.ncomponentcode;\n        delete selectedRecord.ntemplatemanipulationcode;\n        delete selectedRecord.ntestgrouprulesenginecode;\n      } else if (fieldName === \"ntemplatemanipulationcode\") {\n        this.props.getSpecificationComboServices({\n          inputData: {\n            userinfo: this.props.userInfo,\n            ntemplatemanipulationcode: comboData.value,\n            ntestcode: this.props.masterData.SelectedTest.ntestcode\n          }\n        });\n        delete selectedRecord.nallottedspeccode;\n        delete selectedRecord.ncomponentcode;\n        delete selectedRecord.ntestgrouprulesenginecode;\n      } else if (fieldName === \"nallottedspeccode\") {\n        if (comboData.item.ncomponentrequired === transactionStatus.YES) {\n          this.props.getComponentComboServices({\n            inputData: {\n              userinfo: this.props.userInfo,\n              nallottedspeccode: comboData.value,\n              ncomponentcode: this.props.masterData.SelectedSpecification.nallottedspeccode === comboData.value ? this.props.masterData.SelectedComponent.ncomponentcode : -1,\n              ntestcode: this.props.masterData.SelectedTest.ntestcode\n            }\n          });\n        } else {\n          this.props.getRulesTestComboServices({\n            inputData: {\n              userinfo: this.props.userInfo,\n              ncomponentcode: selectedRecord.ncomponentcode && selectedRecord.ncomponentcode.value || -1,\n              nallottedspeccode: selectedRecord.nallottedspeccode.value,\n              ntestcode: this.props.masterData.SelectedTest.ntestcode,\n              ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\n              selectedSpecCode: this.props.masterData.SelectedSpecification.nallottedspeccode,\n              selectedComponentCode: this.props.masterData.SelectedComponent && this.props.masterData.SelectedComponent.ncomponentcode || -1\n            }\n          });\n        }\n\n        delete selectedRecord.ncomponentcode;\n        delete selectedRecord.ntestgrouprulesenginecode;\n      } else if (fieldName === \"ncomponentcode\") {\n        this.props.getRulesTestComboServices({\n          inputData: {\n            userinfo: this.props.userInfo,\n            ncomponentcode: comboData.value,\n            nallottedspeccode: selectedRecord.nallottedspeccode.value,\n            ntestcode: this.props.masterData.SelectedTest.ntestcode,\n            ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\n            selectedSpecCode: this.props.masterData.SelectedSpecification.nallottedspeccode,\n            selectedComponentCode: this.props.masterData.SelectedComponent.ncomponentcode\n          }\n        });\n        delete selectedRecord.ntestgrouprulesenginecode;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onComboChange = (comboData, fieldName, caseNo) => {\n      let inputData = [];\n      let masterData = { ...this.props.masterData\n      };\n      let inputParam = [];\n      let selectedRecord = this.state.selectedRecord || {};\n\n      switch (caseNo) {\n        case 1:\n          selectedRecord[fieldName] = comboData;\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 2:\n          selectedRecord[\"parameterTypeCode\"] = comboData.value;\n          selectedRecord[fieldName] = comboData;\n          const needRoundingDigit = comboData.value === parameterType.NUMERIC ? false : true;\n          const needUnit = comboData.value === parameterType.NUMERIC ? false : true;\n          selectedRecord[\"nroundingdigits\"] = 0;\n          selectedRecord[\"nunitcode\"] = comboData.value === parameterType.NUMERIC ? this.props.parameterData.defaultUnit : undefined;\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              selectedRecord,\n              testGroupInputData: { ...this.props.testGroupInputData,\n                needRoundingDigit,\n                needUnit\n              }\n            }\n          };\n          this.props.updateStore(updateInfo);\n          break;\n\n        case 3:\n          selectedRecord[\"schecklistversionname\"] = comboData.item.schecklistversionname;\n          selectedRecord[fieldName] = comboData;\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 4:\n          let oldnmaterialtypecode = selectedRecord[\"nmaterialtypecode\"].value ? selectedRecord[\"nmaterialtypecode\"].value : selectedRecord[\"nmaterialtypecode\"];\n\n          if (oldnmaterialtypecode !== comboData.value) {\n            delete selectedRecord['nmaterialcatcode'];\n            delete selectedRecord['nmaterialcode'];\n          }\n\n          selectedRecord[\"nmaterialtypecode\"] = comboData.value;\n          selectedRecord[fieldName] = comboData;\n          inputData = {\n            userinfo: this.props.userInfo,\n            nmaterialtypecode: parseInt(comboData.value)\n          };\n          inputParam = {\n            materialType: this.props.materialType,\n            operation: this.props.operation,\n            masterData,\n            inputData,\n            selectedRecord,\n            screenName: \"IDS_TESTGROUPMATERIAL\",\n            ncontrolCode: this.props.ncontrolCode\n          };\n          this.props.getMaterialCategoryBasedMaterialType(inputParam);\n          break;\n\n        case 5:\n          if (selectedRecord[\"nmaterialcatcode\"]) {\n            let oldnmaterialcatcode = selectedRecord[\"nmaterialcatcode\"].value ? selectedRecord[\"nmaterialcatcode\"].value : selectedRecord[\"nmaterialcatcode\"];\n\n            if (oldnmaterialcatcode !== comboData.value) {\n              delete selectedRecord['nmaterialcode'];\n            }\n          }\n\n          selectedRecord[\"nmaterialcatcode\"] = comboData.value;\n          selectedRecord[fieldName] = comboData;\n          inputData = {\n            userinfo: this.props.userInfo,\n            nmaterialcatcode: parseInt(selectedRecord[\"nmaterialcatcode\"].value),\n            nmaterialtypecode: parseInt(selectedRecord[\"nmaterialtypecode\"].value)\n          };\n          inputParam = {\n            masterData,\n            inputData,\n            selectedRecord,\n            operation: this.props.operation,\n            selectedRecord,\n            screenName: \"IDS_TESTGROUPMATERIAL\",\n            ncontrolCode: this.props.ncontrolCode\n          };\n          this.props.getMaterialBasedMaterialCategory(inputParam);\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.addSubCodedResult = () => {\n      // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: {\n      //         loadEsign: true,\n      //         openModal: true,\n      //         screenName: \"IDS_TESTGROUPTESTMATERIAL\"\n      //     },\n      // };\n      // this.props.updateStore(updateInfo);\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          //operation: \"create\", \n          selectedId: null,\n          //selectedsubcodedresult:\"\",\n          openChildModal: true,\n          screenName: \"IDS_SUBCODEDRESULT\"\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.deleteSubCodedResult = (index, subCodedResult, index1) => {\n      const selectedsubcodedresult = this.state.selectedsubcodedresult;\n      selectedsubcodedresult.splice(index1.dataIndex, 1); //const selectsubcodedelete=[];\n\n      const selectsubcodedelete = this.state.selectsubcodedelete || [];\n      if (index[\"ntestgrouptestpredefsubcode\"]) selectsubcodedelete.push({\n        \"ntestgrouptestpredefsubcode\": index[\"ntestgrouptestpredefsubcode\"],\n        \"ssubcodedresult\": index[\"ssubcodedresult\"],\n        \"ntestgrouptestpredefcode\": index[\"ntestgrouptestpredefcode\"]\n      });\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          selectedId: null,\n          selectedsubcodedresult,\n          selectsubcodedelete\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onInputOnChange = (event, caseNo, optional) => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      switch (caseNo) {\n        case 1:\n          if (event.target.type === 'checkbox') {\n            selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\n\n            if (selectedRecord[\"nneedresultentryalert\"] === 4) {\n              selectedRecord[\"nneedsubcodedresult\"] = 4;\n              delete selectedRecord[\"salertmessage\"];\n              this.setState({\n                selectedsubcodedresult: []\n              });\n            }\n\n            if (selectedRecord[\"nneedsubcodedresult\"] === 4) {\n              this.setState({\n                selectedsubcodedresult: []\n              });\n            } else if (selectedRecord[\"nresultmandatory\"] === 3) {\n              selectedRecord[\"nisadhocparameter\"] = 4;\n            }\n          } else if (event.target.type === 'radio') {\n            selectedRecord[event.target.name] = optional;\n          } else {\n            selectedRecord[event.target.name] = event.target.value;\n          }\n\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 2:\n          selectedRecord[event.target.name] = event.target.value;\n          const indexKey = Object.keys(optional)[0];\n          const value = Object.values(optional)[0];\n          const treeData = {\n            ntreeversiontempcode: value.ntreeversiontempcode,\n            npositioncode: value.nlevelno - 1,\n            sleveldescription: event.target.value,\n            ntemptranstestgroupcode: value.ntemptranstestgroupcode,\n            nformcode: 62,\n            schildnode: value.schildnode,\n            nnextchildcode: value.schildnode\n          };\n          let treetemplatemanipulation = selectedRecord.treetemplatemanipulation || [];\n          treetemplatemanipulation[indexKey] = treeData;\n          selectedRecord[\"treetemplatemanipulation\"] = treetemplatemanipulation;\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 4:\n          const inputValue = event.target.value;\n\n          if (/^-?\\d*?\\.?\\d*?$/.test(inputValue) || inputValue === \"\") {\n            selectedRecord[event.target.name] = event.target.value;\n          }\n\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 6:\n          // selectedRecord[event.target.name] = selectedRecord[\"sresultparacomment\"] = { label: event.target.value, value: event.target.value };\n          // this.setState({ selectedRecord });\n          // break;\n          //selectedRecord[event.target.name] = selectedRecord[\"sresultparacomment\"] = event.target.value;\n          selectedRecord[event.target.name] = selectedRecord[\"spredefinedsynonym\"] = event.target.value; //selectedRecord[\"sparametername\"] = { label: event.target.value, value: event.target.value };\n\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 5:\n          if (event.target.type === 'checkbox') {\n            selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\n\n            if (selectedRecord[\"nneedresultentryalert\"] === 4) {\n              selectedRecord[\"nneedsubcodedresult\"] = 4;\n              delete selectedRecord[\"salertmessage\"];\n              this.codedResultMandatory = [{\n                \"idsName\": \"IDS_CODEDRESULT\",\n                \"dataField\": \"spredefinedname\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }, {\n                \"idsName\": \"IDS_CODEDRESULTSYNONYM\",\n                \"dataField\": \"spredefinedsynonym\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }, {\n                \"idsName\": \"IDS_ACTUALRESULT\",\n                \"dataField\": \"ngradecode\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }];\n              const selectsubcodedelete = this.state.selectedsubcodedresult || [];\n              this.setState({\n                selectedsubcodedresult: [],\n                selectsubcodedelete,\n                codedResultMandatory: this.codedResultMandatory\n              });\n            }\n\n            if (selectedRecord[\"nneedresultentryalert\"] === 3) {\n              this.codedResultMandatory = [{\n                \"idsName\": \"IDS_CODEDRESULT\",\n                \"dataField\": \"spredefinedname\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }, {\n                \"idsName\": \"IDS_CODEDRESULTSYNONYM\",\n                \"dataField\": \"spredefinedsynonym\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }, {\n                \"idsName\": \"IDS_ALERTMESSAGE\",\n                \"dataField\": \"salertmessage\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }, {\n                \"idsName\": \"IDS_ACTUALRESULT\",\n                \"dataField\": \"ngradecode\",\n                \"width\": \"200px\",\n                \"mandatory\": true\n              }];\n              this.setState({\n                codedResultMandatory: []\n              });\n            } // if (selectedRecord[\"nneedsubcodedresult\"] === 3) {\n            //     this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\n            //     { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"sresultparacomment\", \"width\": \"200px\", \"mandatory\": true },\n            //     { \"idsName\": \"IDS_ALERTMESSAGE\", \"dataField\": \"salertmessage\", \"width\": \"200px\", \"mandatory\": true },\n            //     { \"idsName\": \"IDS_SUBCODEDRESULT\", \"dataField\": \"ssubcodedresult\", \"width\": \"200px\", \"mandatory\": true },\n            //     { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\n            //     this.setState({ codedResultMandatory: [] });\n            // }\n\n\n            if (selectedRecord[\"nneedsubcodedresult\"] === 4) {\n              const selectsubcodedelete = this.state.selectedsubcodedresult || [];\n              this.setState({\n                selectedsubcodedresult: [],\n                selectsubcodedelete\n              });\n            }\n          }\n\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 7:\n          const inputValues = event.target.value;\n\n          if (/^-?\\d*?\\.?\\d*?$/.test(inputValues) || inputValues === \"\") {\n            selectedRecord[event.target.name] = event.target.value;\n          }\n\n          if (selectedRecord[\"sresultvalue\"] !== \"\" && selectedRecord[\"sresultvalue\"].value !== -1) {\n            selectedRecord[\"ngradecode\"] = this.props.parameterData.grade[3];\n          } else if (selectedRecord[\"sresultvalue\"] === \"\") {\n            delete selectedRecord[\"ngradecode\"];\n          }\n\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        case 8:\n          const inputvalues = event.target.value;\n\n          if (/^-?\\d*?\\.?\\d*?$/.test(inputvalues) || inputvalues === \"\") {\n            selectedRecord[event.target.name] = event.target.value;\n          }\n\n          if (selectedRecord[\"sresultvalue\"] !== \"\" && (selectedRecord[\"ngradecode\"] === undefined || selectedRecord[\"ngradecode\"].value === -1)) {\n            selectedRecord[\"ngradecode\"] = this.props.parameterData.gradenew[3];\n          } else if (selectedRecord[\"sresultvalue\"] === \"\") {\n            delete selectedRecord[\"ngradecode\"];\n          }\n\n          this.setState({\n            selectedRecord\n          });\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.onNumericInputChange = (value, name) => {\n      // console.log(\"value:\", value, name);\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (name === \"nroundingdigits\") {\n        // if (/^-?\\d*?$/.test(value.target.value) || value.target.value === \"\") {\n        //     console.log(\"val:\", value.target.value);\n        //     selectedRecord[name] = value.target.value;\n        // }\n        // if (/^-?\\d*?$/.test(value) || value === \"\") {\n        //    // console.log(\"val:\", value);\n        //     selectedRecord[name] = value;\n        // }\n        //const values = value.target.value.replace(/[^-^0-9]/g, '');\n        if (/^[0-9]+$/.test(value.target.value) || value.target.value === \"\") {\n          selectedRecord[name] = value.target.value;\n        } else {\n          selectedRecord[name] = \"\";\n        }\n      } else {\n        selectedRecord[name] = value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openChildModal\");\n    };\n\n    this.state = {\n      selectedRecord: {}\n    };\n    this.confirmMessage = new ConfirmMessage(); // this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\n    // { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatory\": true },\n    // { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\n    // this.clinicalSpecMandatory = [{ \"idsName\": \"IDS_GENDER\", \"dataField\": \"ngendercode\", \"width\": \"200px\", \"mandatory\": true },\n    // { \"idsName\": \"IDS_FROMAGE\", \"dataField\": \"nfromage\", \"width\": \"200px\", \"mandatory\": true },\n    // { \"idsName\": \"IDS_TOAGE\", \"dataField\": \"ntoage\", \"width\": \"200px\", \"mandatory\": true }];\n  }\n\n  render() {\n    this.clinicalSpecMandatory = [{\n      \"idsName\": \"IDS_GENDER\",\n      \"dataField\": \"ngendercode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_FROMAGE\",\n      \"dataField\": \"nfromage\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }, {\n      \"idsName\": \"IDS_TOAGE\",\n      \"dataField\": \"ntoage\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }];\n    let nneedresultentryalert = this.state.selectedRecord[\"nneedresultentryalert\"];\n    nneedresultentryalert === 3 ? this.codedResultMandatory = [{\n      \"idsName\": \"IDS_CODEDRESULT\",\n      \"dataField\": \"spredefinedname\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }, {\n      \"idsName\": \"IDS_CODEDRESULTSYNONYM\",\n      \"dataField\": \"spredefinedsynonym\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }, {\n      \"idsName\": \"IDS_ACTUALRESULT\",\n      \"dataField\": \"ngradecode\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }, {\n      \"idsName\": \"IDS_ALERTMESSAGE\",\n      \"dataField\": \"salertmessage\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }] : this.codedResultMandatory = [{\n      \"idsName\": \"IDS_CODEDRESULT\",\n      \"dataField\": \"spredefinedname\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }, {\n      \"idsName\": \"IDS_CODEDRESULTSYNONYM\",\n      \"dataField\": \"spredefinedsynonym\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }, {\n      \"idsName\": \"IDS_ACTUALRESULT\",\n      \"dataField\": \"ngradecode\",\n      \"width\": \"200px\",\n      \"mandatory\": true\n    }]; //ALPD-4984\n    //Added by Neeraj \n\n    this.copyRulesMandatory = [{\n      \"idsName\": \"IDS_PRODUCTCATEGORY\",\n      \"dataField\": \"nproductcatcode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_ROOT\",\n      \"dataField\": \"ntemplatemanipulationcode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_SPECIFICATION\",\n      \"dataField\": \"nallottedspeccode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_RULESENGINENAME\",\n      \"dataField\": \"ntestgrouprulesenginecode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n\n    if (this.state.selectedRecord && this.state.selectedRecord[\"nproductcatcode\"] && this.state.selectedRecord[\"nproductcatcode\"].item && this.state.selectedRecord[\"nproductcatcode\"].item.ncategorybasedflow === transactionStatus.NO) {\n      this.copyRulesMandatory.push({\n        \"idsName\": \"IDS_PRODUCT\",\n        \"dataField\": \"nproductcode\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      });\n    }\n\n    if (this.state.selectedRecord && this.state.selectedRecord[\"nallottedspeccode\"] && this.state.selectedRecord[\"nallottedspeccode\"].item && this.state.selectedRecord[\"nallottedspeccode\"].item.ncomponentrequired === transactionStatus.YES) {\n      this.copyRulesMandatory.push({\n        \"idsName\": \"IDS_COMPONENT\",\n        \"dataField\": \"ncomponentcode\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      });\n    }\n\n    if (this.props.masterData.TestGroupTestClinicalSpec) {\n      sortData(this.props.masterData.TestGroupTestClinicalSpec, \"ascending\", \"nfromage\");\n    }\n\n    this.paramColumnList = [{\n      \"idsName\": \"IDS_PARAMETERSYNONYM\",\n      \"dataField\": \"sparametersynonym\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_PARAMETERTYPE\",\n      \"dataField\": \"nparametertypecode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n\n    if (this.state.selectedRecord[\"parameterTypeCode\"] && this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC) {\n      this.paramColumnList = [{\n        \"idsName\": \"IDS_PARAMETERSYNONYM\",\n        \"dataField\": \"sparametersynonym\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_PARAMETERTYPE\",\n        \"dataField\": \"nparametertypecode\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_ROUNDINGDIGITS\",\n        \"dataField\": \"nroundingdigits\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_UNIT\",\n        \"dataField\": \"nunitcode\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }];\n    }\n\n    if (this.state.selectedRecord[\"parameterTypeCode\"] && this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED) {\n      this.paramColumnList = [{\n        \"idsName\": \"IDS_PARAMETERSYNONYM\",\n        \"dataField\": \"sparametersynonym\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_PARAMETERTYPE\",\n        \"dataField\": \"nparametertypecode\",\n        \"width\": \"200px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      } // { \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\n      //  { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\n      ];\n    }\n\n    const paramMandatoryFields = [];\n    this.paramColumnList.forEach(item => item.mandatory === true ? paramMandatoryFields.push(item) : \"\");\n    this.materialColumnList = [{\n      \"idsName\": \"IDS_MATERIALTYPE\",\n      \"dataField\": \"nmaterialtypecode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_MATERIALCATEGORY\",\n      \"dataField\": \"nmaterialcatcode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_MATERIALNAME\",\n      \"dataField\": \"nmaterialcode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grouped-param-inner grouped-tab-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, !this.props.testView ? /*#__PURE__*/React.createElement(CustomTab, {\n      paneHeight: this.props.paneHeight,\n      tabDetail: this.tabDetail(),\n      onTabChange: this.onTabChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 29\n      }\n    }) : /*#__PURE__*/React.createElement(CustomTab, {\n      paneHeight: this.props.paneHeight,\n      tabDetail: this.testTabDetail(),\n      onTabChange: this.onTabChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    })), this.props.openChildModal && this.props.screenName && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.openChildModal,\n      closeModal: this.closeModal,\n      operation: this.props.operation,\n      inputParam: this.props.inputParam,\n      screenName: this.props.screenName,\n      showSaveContinue: this.props.screenName === \"IDS_TESTGROUPMATERIAL\" || this.props.screenName === \"IDS_CODEDRESULT\" || this.props.screenName === \"IDS_SUBCODEDRESULT\" || this.props.screenName === \"IDS_CLINICALSPEC\" ? true : false,\n      esign: this.props.loadEsign,\n      validateEsign: this.validateEsign,\n      onSaveClick: this.onSaveClick //showSaveContinue={this.props.screenName === \"IDS_SUBCODEDRESULT\"?true:false}\n      ,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: this.props.screenName === \"IDS_PARAMETER\" ? paramMandatoryFields : this.props.screenName === \"IDS_CODEDRESULT\" ? this.codedResultMandatory : this.props.screenName === \"IDS_CLINICALSPEC\" ? this.clinicalSpecMandatory : this.props.screenName === \"IDS_TESTGROUPMATERIAL\" ? this.materialColumnList : this.props.screenName === \"IDS_RULESFROM\" ? this.copyRulesMandatory : [],\n      addComponent: this.props.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.operation,\n        onInputOnChange: this.onEsignInputOnChange,\n        inputParam: this.props.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 29\n        }\n      }) : this.props.screenName === \"IDS_PARAMETER\" ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EditTestGroupParameter, {\n        selectedRecord: this.state.selectedRecord || {},\n        testGroupInputData: this.props.testGroupInputData,\n        onComboChange: this.onComboChange,\n        onInputOnChange: this.onInputOnChange,\n        onNumericInputChange: this.onNumericInputChange,\n        onFocus: this.handleFocus //TestGroupTestClinicalSpec={this.props.masterData.TestGroupTestClinicalSpec}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 37\n        }\n      }), this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED || this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.CHARACTER || this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC ? /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"horizontal-line\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 49\n        }\n      }))) : \"\", this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.CHARACTER && /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(FormTextarea, {\n        name: \"scharname\",\n        label: this.props.intl.formatMessage({\n          id: \"IDS_TESTCHARACTER\"\n        }),\n        onChange: event => this.onInputOnChange(event, 1),\n        placeholder: this.props.intl.formatMessage({\n          id: \"IDS_TESTCHARACTER\"\n        }),\n        value: this.state.selectedRecord[\"scharname\"],\n        rows: \"2\",\n        required: false,\n        maxLength: 255,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 49\n        }\n      }))), this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC && this.props.filterData && this.props.filterData.nsampletypecode && this.props.filterData.nsampletypecode.item && this.props.filterData.nsampletypecode.item.nclinicaltyperequired === transactionStatus.NO &&\n      /*#__PURE__*/\n      //&& this.props.masterData.selectedNode.nsampletypecode !== SampleType.CLINICALTYPE &&\n      React.createElement(AddSpecification, {\n        grade: this.props.testGroupInputData.grade,\n        selectedRecord: this.state.selectedRecord,\n        onInputOnChange: this.onInputOnChange,\n        onComboChange: this.onComboChange,\n        onFocus: this.handleFocus,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 41\n        }\n      })) : this.props.screenName === \"IDS_CODEDRESULT\" ? /*#__PURE__*/React.createElement(AddCodedResult, {\n        onInputOnChange: this.onInputOnChange,\n        parameterData: this.props.parameterData,\n        selectedRecord: this.state.selectedRecord,\n        onComboChange: this.onComboChange,\n        addSubCodedResult: this.addSubCodedResult,\n        deleteSubCodedResult: this.deleteSubCodedResult,\n        selectedsubcodedresult: this.state.selectedsubcodedresult || [],\n        controlMap: this.props.controlMap,\n        userRoleControlRights: this.props.userRoleControlRights,\n        userInfo: this.props.userInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 37\n        }\n      }) : this.props.screenName === \"IDS_SUBCODEDRESULT\" ? /*#__PURE__*/React.createElement(AddSubCodedResult, {\n        onInputOnChange: this.onInputOnChange,\n        parameterData: this.props.parameterData,\n        selectedRecord: this.state.selectedRecord,\n        onComboChange: this.onComboChange,\n        addSubCodedResult: this.addSubCodedResult,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 41\n        }\n      }) : this.props.screenName === \"IDS_CLINICALSPEC\" ? /*#__PURE__*/React.createElement(AddTestGroupNumericSpecification //gradenew={this.props.testGroupInputData.grade||[]}\n      , {\n        onInputOnChange: this.onInputOnChange,\n        parameterData: this.props.parameterData,\n        selectedRecord: this.state.selectedRecord,\n        onComboChange: this.onComboChange,\n        onNumericInputChange: this.onNumericInputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 45\n        }\n      }) : this.props.screenName === \"IDS_RULESFROM\" ? /*#__PURE__*/React.createElement(AddRulesCopy, {\n        getProductCategory: this.props.getProductCategory,\n        selectedRecord: this.state.selectedRecord,\n        onComboChange: this.onRulesComboChange,\n        getSpecificationList: this.props.getSpecificationList,\n        getComponentList: this.props.getComponentList,\n        getProductList: this.props.getProductList,\n        getProfileRoot: this.props.getProfileRoot,\n        getRulesList: this.props.getRulesList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 45\n        }\n      }) : /*#__PURE__*/React.createElement(AddTestGroupTestMaterial, {\n        materialType: this.props.materialType,\n        selectedRecord: this.state.selectedRecord,\n        materialCategoryList: this.props.materialCategoryList,\n        materialList: this.props.materialList,\n        onComboChange: this.onComboChange,\n        onInputOnChange: this.onInputOnChange,\n        onNumericInputChange: this.onNumericInputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 47\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }), this.props.testGroupCheckList && this.props.testGroupCheckList.templateData && this.props.testGroupCheckList.templateData.length > 0 && /*#__PURE__*/React.createElement(TemplateForm, {\n      templateData: this.props.testGroupCheckList.templateData,\n      handleClose: this.handleClose,\n      screenName: \"IDS_VIEWCHECKLIST\",\n      needSaveButton: false,\n      viewScreen: this.props.openTemplateModal,\n      onTemplateInputChange: this.onTemplateInputChange,\n      onTemplateComboChange: this.onTemplateComboChange,\n      onTemplateDateChange: this.onTemplateDateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  handleFocus(e) {\n    e.target.select();\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.selectedRecord !== previousProps.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.selectedRecord\n      });\n    }\n\n    if (this.props.selectedsubcodedresult !== previousProps.selectedsubcodedresult) {\n      this.setState({\n        selectedsubcodedresult: this.props.selectedsubcodedresult\n      });\n    }\n\n    if (this.props.selectsubcodedelete !== previousProps.selectsubcodedelete) {\n      this.setState({\n        selectsubcodedelete: this.props.selectsubcodedelete\n      });\n    }\n  }\n\n}\n\nexport default injectIntl(TestGroupTestTab);","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/QuaLISWeb/src/pages/testgroup/TestGroupTestTab.jsx"],"names":["React","Component","injectIntl","Row","Col","DEFAULT_RETURN","TestGroupParameterTab","CustomTab","showEsign","sortData","Esign","SlideOutModal","parameterType","transactionStatus","EditTestGroupParameter","AddCodedResult","FormTextarea","AddSpecification","TemplateForm","toast","TestGroupMaterialTab","AddTestGroupTestMaterial","AddTestGroupNumericSpecification","ConfirmMessage","TestGroupRulesEngineTab","AddSubCodedResult","AddRulesCopy","TestGroupTestTab","constructor","props","onTemplateInputChange","event","selectedRecord","state","target","type","name","checked","YES","NO","value","setState","onTemplateComboChange","comboData","fieldName","onTemplateDateChange","dateName","dateValue","Date","handleClose","updateInfo","typeName","data","testGroupCheckList","openTemplateModal","updateStore","closeModal","screenName","operation","selectedId","openChildModal","loadEsign","selectedsubcodedresult","onTabChange","tabProps","EditSpecDetails","viewdetails","ncontrolCode","addTestGroupNumericTab","userInfo","testgroupspecification","masterData","SelectedSpecification","DeleteSpecDetails","SpecConfirmDelete","tabDetail","tabMap","Map","set","controlMap","userRoleControlRights","inputParam","deleteAction","onSwitchChange","addTestFile","viewTestFile","defaultRecord","filterData","getTestGroupParameter","editTestGroupParameter","addTestGroupCodedResult","viewTestGroupCheckList","dataState","dataStateChange","testTabDetail","paneHeight","subCodedResultView","ConfirmDelete","getDataForTestMaterial","getTestGroupMaterial","getDataForEditTestMaterial","isrulesenginerequired","getTestGroupRulesEngineAdd","settings","skipRulesEngine","takeRulesEngine","getEditTestGroupRulesEngine","getSelectedTestGroupRulesEngine","ConfirmDeleteRule","approveVersion","openflowview","handlePageChangeRuleEngine","viewOutcome","filterParamRulesEngine","filterTransactionList","saveExecutionOrder","copyVersion","deleteId","confirmMessage","confirm","intl","formatMessage","id","DeleteTestMaterial","selectedSpecification","napprovalstatus","DRAFT","CORRECTION","inputData","ntreeversiontempcode","selectedNode","ntestgrouptestmaterialcode","selectedMaterial","ntestgrouptestcode","methodUrl","classUrl","esignRights","nformcode","screenData","openModal","crudMaster","warn","onSaveClick","saveType","formRef","clearSelectedRecordField","onSaveFormula","onSaveParameter","length","onSaveCodedResult","onSaveSubCodedResult","onSaveSpecification","onSaveMaterial","onSaveCopyRules","ntestgrouprulesenginecode","map","item","push","userinfo","ncomponentcode","nallottedspeccode","ntestcode","SelectedTest","selectedSpecCode","selectedComponentCode","SelectedComponent","selectedRules","selectedValueForAudit","sproductcatname","nproductcatcode","label","sproductname","nproductcode","sspecname","scomponentname","stestsynonym","sleveldescription","ntemplatemanipulationcode","searchRef","parameterList","testGroupTestParameter","nparametertypecode","sdisplaystatus","nunitcode","nresultaccuracycode","nchecklistversioncode","testgrouptestparameter","NUMERIC","testGroupTestNumericParameter","numericList","ntestgrouptestparametercode","ngradecode","replace","ntestformulacode","testFormula","testgrouptestformula","sformulacalculationcode","sformulacalculationdetail","ntransactionstatus","CHARACTER","characterList","testGroupTestCharParameter","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","fetchUrl","fecthInputObject","searchFieldList","selectedParameter","testFormulaArray","test","testgroupsubcoded","testGroupPredefParameter","ndefaultstatus","nstatus","ACTIVE","ntestgrouptestpredefcode","spredefinedname","spredefinedsynonym","spredefinedcomments","salertmessage","nneedresultentryalert","nneedsubcodedresult","ntestpredefinedcode","testgrouptestpredefinedparameter","deletetestgroupsubcoded","selectsubcodedelete","addsubcodedresult","filter","x","hasOwnProperty","ssubcodedresult","loading","submit","TestGroupAddSpecification","ngendercode","nfromage","ntoage","shigha","shighb","slowa","slowb","sminlod","smaxlod","sminloq","smaxloq","sdisregard","sresultvalue","nfromageperiod","ntoageperiod","ntestgrouptestclinicspeccode","testgroupaddspecification","testGroupTestMaterial","nmaterialtypecode","jsondata","nmaterialcatcode","nmaterialcode","smaterialname","sremarks","testgrouptestmaterial","deleteTest","deleteParam","treeVersionTemplateIndex","findIndex","templateVersionStatus","RETIRED","testgrouptest","treetemplatemanipulation","modalName","selected","toLowerCase","key","dataItem","onEsignInputOnChange","onRulesComboChange","ncategorybasedflow","getProductComboServices","getProfileRootComboServices","getSpecificationComboServices","ncomponentrequired","getComponentComboServices","getRulesTestComboServices","onComboChange","caseNo","needRoundingDigit","needUnit","parameterData","defaultUnit","undefined","testGroupInputData","schecklistversionname","oldnmaterialtypecode","parseInt","materialType","getMaterialCategoryBasedMaterialType","oldnmaterialcatcode","getMaterialBasedMaterialCategory","addSubCodedResult","deleteSubCodedResult","index","subCodedResult","index1","splice","dataIndex","onInputOnChange","optional","indexKey","Object","keys","values","treeData","npositioncode","nlevelno","ntemptranstestgroupcode","schildnode","nnextchildcode","inputValue","codedResultMandatory","inputValues","grade","inputvalues","gradenew","onNumericInputChange","validateEsign","sreason","nreasoncode","spredefinedreason","password","validateEsignCredential","render","clinicalSpecMandatory","copyRulesMandatory","TestGroupTestClinicalSpec","paramColumnList","PREDEFINED","paramMandatoryFields","forEach","mandatory","materialColumnList","testView","handleFocus","nsampletypecode","nclinicaltyperequired","getProductCategory","getSpecificationList","getComponentList","getProductList","getProfileRoot","getRulesList","materialCategoryList","materialList","templateData","e","select","componentDidUpdate","previousProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { injectIntl } from 'react-intl';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport TestGroupParameterTab from './TestGroupParameterTab';\r\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component';\r\nimport { showEsign, sortData } from '../../components/CommonScript';\r\nimport Esign from '../audittrail/Esign';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { parameterType, transactionStatus } from '../../components/Enumeration';\r\nimport EditTestGroupParameter from './EditTestGroupParameter';\r\nimport AddCodedResult from '../testmanagement/AddCodedResult';\r\nimport FormTextarea from '../../components/form-textarea/form-textarea.component';\r\nimport AddSpecification from '../testmanagement/AddSpecification';\r\nimport TemplateForm from '../checklist/checklist/TemplateForm';\r\nimport { toast } from 'react-toastify';\r\nimport TestGroupMaterialTab from './TestGroupMaterialTab';\r\nimport AddTestGroupTestMaterial from './AddTestGroupTestMaterial';\r\nimport AddTestGroupNumericSpecification from './AddTestGroupNumericSpecification';\r\nimport ConfirmMessage from \"../../components/confirm-alert/confirm-message.component\";\r\nimport TestGroupRulesEngineTab from './TestGroupRulesEngineTab';\r\nimport AddSubCodedResult from '../testmanagement/AddSubCodedResult';\r\nimport AddRulesCopy from '../testmanagement/AddRulesCopy';\r\n\r\nclass TestGroupTestTab extends Component  {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedRecord: {}\r\n        }\r\n        this.confirmMessage = new ConfirmMessage();\r\n\r\n        // this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n        // { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatory\": true },\r\n        // { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n        // this.clinicalSpecMandatory = [{ \"idsName\": \"IDS_GENDER\", \"dataField\": \"ngendercode\", \"width\": \"200px\", \"mandatory\": true },\r\n        // { \"idsName\": \"IDS_FROMAGE\", \"dataField\": \"nfromage\", \"width\": \"200px\", \"mandatory\": true },\r\n        // { \"idsName\": \"IDS_TOAGE\", \"dataField\": \"ntoage\", \"width\": \"200px\", \"mandatory\": true }];\r\n    }\r\n\r\n    render() {\r\n\r\n        \r\n        this.clinicalSpecMandatory = [{ \"idsName\": \"IDS_GENDER\", \"dataField\": \"ngendercode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n        { \"idsName\": \"IDS_FROMAGE\", \"dataField\": \"nfromage\", \"width\": \"200px\", \"mandatory\": true },\r\n        { \"idsName\": \"IDS_TOAGE\", \"dataField\": \"ntoage\", \"width\": \"200px\", \"mandatory\": true }]\r\n           \r\n\r\n        let nneedresultentryalert = this.state.selectedRecord[\"nneedresultentryalert\"] ;\r\n        nneedresultentryalert === 3 ? \r\n        this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n        { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatory\": true },\r\n        { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true },\r\n        { \"idsName\": \"IDS_ALERTMESSAGE\", \"dataField\": \"salertmessage\", \"width\": \"200px\", \"mandatory\": true }] \r\n        : \r\n        this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n        { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatory\": true },\r\n        { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n    //ALPD-4984\r\n\t//Added by Neeraj \r\n        this.copyRulesMandatory=[\r\n            { \"idsName\": \"IDS_PRODUCTCATEGORY\", \"dataField\": \"nproductcatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n            { \"idsName\": \"IDS_ROOT\", \"dataField\": \"ntemplatemanipulationcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n            { \"idsName\": \"IDS_SPECIFICATION\", \"dataField\": \"nallottedspeccode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n            { \"idsName\": \"IDS_RULESENGINENAME\", \"dataField\": \"ntestgrouprulesenginecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n        ]\r\n        if(this.state.selectedRecord && this.state.selectedRecord[\"nproductcatcode\"] && this.state.selectedRecord[\"nproductcatcode\"].item &&\r\n            this.state.selectedRecord[\"nproductcatcode\"].item.ncategorybasedflow===transactionStatus.NO){\r\n                this.copyRulesMandatory.push( {\"idsName\": \"IDS_PRODUCT\", \"dataField\": \"nproductcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"},) \r\n            }\r\n\r\n        if(this.state.selectedRecord && this.state.selectedRecord[\"nallottedspeccode\"] && this.state.selectedRecord[\"nallottedspeccode\"].item &&\r\n            this.state.selectedRecord[\"nallottedspeccode\"].item.ncomponentrequired===transactionStatus.YES){\r\n                this.copyRulesMandatory.push({\"idsName\": \"IDS_COMPONENT\", \"dataField\": \"ncomponentcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"}) \r\n            }\r\n\r\n        if (this.props.masterData.TestGroupTestClinicalSpec) {\r\n            sortData(this.props.masterData.TestGroupTestClinicalSpec, \"ascending\", \"nfromage\");\r\n        }\r\n\r\n\r\n        this.paramColumnList = [\r\n            { \"idsName\": \"IDS_PARAMETERSYNONYM\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_PARAMETERTYPE\", \"dataField\": \"nparametertypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n        ]\r\n        if (this.state.selectedRecord[\"parameterTypeCode\"] && this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC) {\r\n            this.paramColumnList = [\r\n                { \"idsName\": \"IDS_PARAMETERSYNONYM\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                { \"idsName\": \"IDS_PARAMETERTYPE\", \"dataField\": \"nparametertypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                { \"idsName\": \"IDS_ROUNDINGDIGITS\", \"dataField\": \"nroundingdigits\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                { \"idsName\": \"IDS_UNIT\", \"dataField\": \"nunitcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n                \r\n            ]\r\n        }\r\n        if (this.state.selectedRecord[\"parameterTypeCode\"] && this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED) {\r\n            this.paramColumnList = [\r\n                { \"idsName\": \"IDS_PARAMETERSYNONYM\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                { \"idsName\": \"IDS_PARAMETERTYPE\", \"dataField\": \"nparametertypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n               // { \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n              //  { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n            ]\r\n        }\r\n        const paramMandatoryFields = [];\r\n\r\n        this.paramColumnList.forEach(item => item.mandatory === true ?\r\n            paramMandatoryFields.push(item) : \"\"\r\n        );\r\n        this.materialColumnList = [\r\n            { \"idsName\": \"IDS_MATERIALTYPE\", \"dataField\": \"nmaterialtypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_MATERIALCATEGORY\", \"dataField\": \"nmaterialcatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_MATERIALNAME\", \"dataField\": \"nmaterialcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n\r\n        ]\r\n        return (\r\n            <>\r\n                    <div className='grouped-param-inner grouped-tab-inner'>\r\n                        {!this.props.testView ?\r\n                            <CustomTab paneHeight={this.props.paneHeight} tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                            :\r\n                            <CustomTab paneHeight={this.props.paneHeight} tabDetail={this.testTabDetail()} onTabChange={this.onTabChange} />\r\n\r\n                        }\r\n                    </div>\r\n\r\n                {this.props.openChildModal && this.props.screenName &&\r\n                    <SlideOutModal\r\n                        show={this.props.openChildModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.operation}\r\n                        inputParam={this.props.inputParam}\r\n                        screenName={this.props.screenName}\r\n                        showSaveContinue={this.props.screenName === \"IDS_TESTGROUPMATERIAL\" || this.props.screenName === \"IDS_CODEDRESULT\" || \r\n                                          this.props.screenName === \"IDS_SUBCODEDRESULT\" || this.props.screenName === \"IDS_CLINICALSPEC\"?true:false}\r\n                        esign={this.props.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        onSaveClick={this.onSaveClick}\r\n                        //showSaveContinue={this.props.screenName === \"IDS_SUBCODEDRESULT\"?true:false}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.screenName === \"IDS_PARAMETER\" ? paramMandatoryFields :\r\n                            this.props.screenName === \"IDS_CODEDRESULT\" ? this.codedResultMandatory :\r\n                             this.props.screenName === \"IDS_CLINICALSPEC\" ? this.clinicalSpecMandatory : \r\n                             this.props.screenName === \"IDS_TESTGROUPMATERIAL\" ? this.materialColumnList : \r\n                             this.props.screenName === \"IDS_RULESFROM\" ? this.copyRulesMandatory:[]}\r\n                        addComponent={this.props.loadEsign ?\r\n                            <Esign\r\n                                operation={this.props.operation}\r\n                                onInputOnChange={this.onEsignInputOnChange}\r\n                                inputParam={this.props.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            /> :\r\n                            this.props.screenName === \"IDS_PARAMETER\" ?\r\n                                <>\r\n                                    <EditTestGroupParameter\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                        testGroupInputData={this.props.testGroupInputData}\r\n                                        onComboChange={this.onComboChange}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onNumericInputChange={this.onNumericInputChange}\r\n                                        onFocus={this.handleFocus}\r\n                                    //TestGroupTestClinicalSpec={this.props.masterData.TestGroupTestClinicalSpec}\r\n                                    />\r\n                                    {this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED ||\r\n                                        this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.CHARACTER ||\r\n                                        this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC ?\r\n                                        <Row>\r\n                                            <Col>\r\n                                                <div className=\"horizontal-line\"></div>\r\n                                            </Col>\r\n                                        </Row> : \"\"\r\n                                    }\r\n\r\n                                    {/* {this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED &&\r\n                                        <Row>\r\n                                            <AddCodedResult\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                parameterData={this.props.parameterData}\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                                onComboChange={this.onComboChange}\r\n                                                addSubCodedResult={this.addSubCodedResult}\r\n                                                deleteSubCodedResult={this.deleteSubCodedResult}\r\n                                                selectedsubcodedresult={this.state.selectedsubcodedresult || []}\r\n                                                selectsubcodedelete={this.state.selectsubcodedelete || []}\r\n                                                controlMap={this.props.controlMap}\r\n                                                userRoleControlRights={this.props.userRoleControlRights}\r\n\r\n                                            />\r\n                                        </Row>\r\n                                        } */}\r\n                                    {this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.CHARACTER &&\r\n                                        <Row>\r\n                                            <Col md=\"12\">\r\n                                                <FormTextarea\r\n                                                    name={\"scharname\"}\r\n                                                    label={this.props.intl.formatMessage({ id: \"IDS_TESTCHARACTER\" })}\r\n                                                    onChange={(event) => this.onInputOnChange(event, 1)}\r\n                                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_TESTCHARACTER\" })}\r\n                                                    value={this.state.selectedRecord[\"scharname\"]}\r\n                                                    rows=\"2\"\r\n                                                    required={false}\r\n                                                    maxLength={255}\r\n                                                >\r\n                                                </FormTextarea>\r\n                                            </Col>\r\n                                        </Row>}\r\n                                    {this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC   && this.props.filterData  && this.props.filterData.nsampletypecode && this.props.filterData.nsampletypecode.item && this.props.filterData.nsampletypecode.item.nclinicaltyperequired ===transactionStatus.NO && //&& this.props.masterData.selectedNode.nsampletypecode !== SampleType.CLINICALTYPE &&\r\n                                        <AddSpecification\r\n                                               grade={this.props.testGroupInputData.grade}\r\n                                            selectedRecord={this.state.selectedRecord}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            onComboChange={this.onComboChange}\r\n                                            onFocus={this.handleFocus}\r\n                                        />}\r\n                                </> :\r\n                                this.props.screenName === \"IDS_CODEDRESULT\" ?\r\n                                    <AddCodedResult\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        parameterData={this.props.parameterData}\r\n                                        selectedRecord={this.state.selectedRecord}\r\n                                        onComboChange={this.onComboChange}\r\n                                        addSubCodedResult={this.addSubCodedResult}\r\n                                        deleteSubCodedResult={this.deleteSubCodedResult}\r\n                                        selectedsubcodedresult={this.state.selectedsubcodedresult || []}\r\n                                        controlMap={this.props.controlMap}\r\n                                        userRoleControlRights={this.props.userRoleControlRights}\r\n                                        userInfo={this.props.userInfo}\r\n                                    />\r\n                                    :\r\n                                    this.props.screenName === \"IDS_SUBCODEDRESULT\" ?\r\n                                        <AddSubCodedResult\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            parameterData={this.props.parameterData}\r\n                                            selectedRecord={this.state.selectedRecord}\r\n                                            onComboChange={this.onComboChange}\r\n                                            addSubCodedResult={this.addSubCodedResult}\r\n\r\n                                        />\r\n                                        :\r\n                                        this.props.screenName === \"IDS_CLINICALSPEC\" ?\r\n                                            <AddTestGroupNumericSpecification\r\n                                                //gradenew={this.props.testGroupInputData.grade||[]}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                parameterData={this.props.parameterData}\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                                onComboChange={this.onComboChange}\r\n                                                onNumericInputChange={this.onNumericInputChange}\r\n                                            />\r\n                                           : this.props.screenName === \"IDS_RULESFROM\" ?\r\n                                            <AddRulesCopy\r\n                                                getProductCategory={this.props.getProductCategory}\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                                onComboChange={this.onRulesComboChange}\r\n                                                getSpecificationList={this.props.getSpecificationList}\r\n                                                getComponentList={this.props.getComponentList}\r\n                                                getProductList={this.props.getProductList}\r\n                                                getProfileRoot={this.props.getProfileRoot}\r\n                                                getRulesList={this.props.getRulesList}\r\n                                            />\r\n                                            : <AddTestGroupTestMaterial\r\n                                                materialType={this.props.materialType}\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                                materialCategoryList={this.props.materialCategoryList}\r\n                                                materialList={this.props.materialList}\r\n                                                onComboChange={this.onComboChange}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                onNumericInputChange={this.onNumericInputChange}\r\n\r\n                                            />\r\n\r\n                        }\r\n                    />\r\n                }\r\n                {this.props.testGroupCheckList && this.props.testGroupCheckList.templateData &&\r\n                    this.props.testGroupCheckList.templateData.length > 0 &&\r\n                    <TemplateForm\r\n                        templateData={this.props.testGroupCheckList.templateData}\r\n                        handleClose={this.handleClose}\r\n                        screenName=\"IDS_VIEWCHECKLIST\"\r\n                        needSaveButton={false}\r\n                        viewScreen={this.props.openTemplateModal}\r\n                        onTemplateInputChange={this.onTemplateInputChange}\r\n                        onTemplateComboChange={this.onTemplateComboChange}\r\n                        onTemplateDateChange={this.onTemplateDateChange}\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n\r\n    handleFocus(e){\r\n        e.target.select();\r\n    }\r\n\r\n    onTemplateInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onTemplateComboChange = (comboData, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onTemplateDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state.selectedRecord || {};\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    handleClose = () => {\r\n        let updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedRecord: {},\r\n                testGroupCheckList: {},\r\n                openTemplateModal: false\r\n            }\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeModal = () => {\r\n        if (this.props.screenName === \"IDS_SUBCODEDRESULT\") {\r\n            //screenName = \"IDS_CODEDRESULT\";\r\n            //operation = \"update\";\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    operation: \"create\", selectedId: null,\r\n                    openChildModal: true, screenName: \"IDS_CODEDRESULT\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            let loadEsign = this.props.loadEsign;\r\n            let openChildModal = this.props.openChildModal;\r\n            let selectedRecord = this.props.selectedRecord;\r\n            let selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n            if (this.props.loadEsign) {\r\n                if (this.props.operation === \"delete\" || this.props.operation === \"Default\") {\r\n                    loadEsign = false;\r\n                    openChildModal = false;\r\n                    selectedRecord = {};\r\n                } else {\r\n                    loadEsign = false;\r\n                    // selectedRecord[\"agree\"] = 4;\r\n                    selectedRecord['esignpassword'] = \"\"\r\n                    selectedRecord['esigncomments'] = \"\"\r\n                    selectedRecord['esignreason'] = \"\"\r\n                }\r\n            } else {\r\n                openChildModal = false;\r\n                selectedRecord = {};\r\n\r\n            }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { openChildModal, loadEsign, selectedRecord, selectedsubcodedresult }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n            //this.setState({selectedsubcodedresult: []}); \r\n        }\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    EditSpecDetails = (viewdetails, ncontrolCode) => {\r\n\r\n        this.props.addTestGroupNumericTab(\"update\", viewdetails, this.props.userInfo, { testgroupspecification: this.props.masterData.SelectedSpecification }, this.props.masterData, ncontrolCode)\r\n    };\r\n\r\n    DeleteSpecDetails = (viewdetails, ncontrolCode) => {\r\n        this.SpecConfirmDelete(\"delete\", 1, viewdetails, ncontrolCode)\r\n    };\r\n\r\n\r\n    tabDetail = () => {\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_PARAMETER\",\r\n            <TestGroupParameterTab\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                inputParam={this.props.inputParam}\r\n                masterData={this.props.masterData}\r\n                deleteAction={this.deleteAction}\r\n                onSwitchChange={this.onSwitchChange}\r\n                addTestFile={this.props.addTestFile}\r\n                viewTestFile={this.viewTestFile}\r\n                defaultRecord={this.defaultRecord}\r\n                filterData={this.props.filterData}\r\n                getTestGroupParameter={this.props.getTestGroupParameter}\r\n                editTestGroupParameter={this.props.editTestGroupParameter}\r\n                addTestGroupCodedResult={this.props.addTestGroupCodedResult}\r\n                addTestGroupNumericTab={this.props.addTestGroupNumericTab}\r\n                viewTestGroupCheckList={this.props.viewTestGroupCheckList}\r\n                EditSpecDetails={this.EditSpecDetails}\r\n                DeleteSpecDetails={this.DeleteSpecDetails}\r\n                dataState={this.props.dataState}\r\n                dataStateChange={this.props.dataStateChange}\r\n\r\n            />);\r\n        return tabMap;\r\n    }\r\n    testTabDetail = () => {\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_PARAMETER\",\r\n            <TestGroupParameterTab\r\n                paneHeight={this.props.paneHeight}\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                inputParam={this.props.inputParam}\r\n                masterData={this.props.masterData}\r\n                deleteAction={this.deleteAction}\r\n                onSwitchChange={this.onSwitchChange}\r\n                addTestFile={this.props.addTestFile}\r\n                viewTestFile={this.viewTestFile}\r\n                defaultRecord={this.defaultRecord}\r\n                filterData={this.props.filterData}\r\n                getTestGroupParameter={this.props.getTestGroupParameter}\r\n                editTestGroupParameter={this.props.editTestGroupParameter}\r\n                addTestGroupCodedResult={this.props.addTestGroupCodedResult}\r\n                subCodedResultView={this.props.subCodedResultView}\r\n                addTestGroupNumericTab={this.props.addTestGroupNumericTab}\r\n                viewTestGroupCheckList={this.props.viewTestGroupCheckList}\r\n                EditSpecDetails={this.EditSpecDetails}\r\n                DeleteSpecDetails={this.DeleteSpecDetails}\r\n                hasDynamicColSize={true}\r\n                dataState={this.props.dataState}\r\n                dataStateChange={this.props.dataStateChange}\r\n            />);\r\n        tabMap.set(\"IDS_MATERIAL\",\r\n            <TestGroupMaterialTab\r\n                paneHeight={this.props.paneHeight}\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                inputParam={this.props.inputParam}\r\n                masterData={this.props.masterData}\r\n                ConfirmDelete={this.ConfirmDelete}\r\n                getDataForTestMaterial={this.props.getDataForTestMaterial}\r\n                getTestGroupMaterial={this.props.getTestGroupMaterial}\r\n                getDataForEditTestMaterial={this.props.getDataForEditTestMaterial}\r\n                selectedRecord={this.state.selectedRecord}\r\n\r\n            />);\r\n            this.props.isrulesenginerequired &&\r\n                tabMap.set(\"IDS_RULESENGINE\",\r\n                <TestGroupRulesEngineTab\r\n                    paneHeight={this.props.paneHeight}\r\n                    getTestGroupRulesEngineAdd={this.props.getTestGroupRulesEngineAdd}\r\n                    controlMap={this.props.controlMap}\r\n                    userRoleControlRights={this.props.userRoleControlRights}\r\n                    userInfo={this.props.userInfo}\r\n                    selectedRecord={this.state.selectedRecord}\r\n                    masterData={this.props.masterData}\r\n                    settings={this.props.settings}\r\n                    skipRulesEngine={this.props.skipRulesEngine}\r\n                    takeRulesEngine={this.props.takeRulesEngine}\r\n                    getEditTestGroupRulesEngine={this.props.getEditTestGroupRulesEngine}\r\n                    getSelectedTestGroupRulesEngine={this.props.getSelectedTestGroupRulesEngine}\r\n                    ConfirmDeleteRule={this.props.ConfirmDeleteRule}\r\n                    approveVersion={this.props.approveVersion}\r\n                    openflowview={this.props.openflowview}\r\n                    handlePageChangeRuleEngine={this.props.handlePageChangeRuleEngine}\r\n                    viewOutcome={this.props.viewOutcome}\r\n                    filterParamRulesEngine={this.props.filterParamRulesEngine}\r\n                    filterTransactionList={this.props.filterTransactionList}\r\n                    saveExecutionOrder={this.props.saveExecutionOrder}\r\n                    copyVersion={this.props.copyVersion}\r\n    \r\n                />);           \r\n      \r\n        return tabMap;\r\n    }\r\n    ConfirmDelete = (operation, deleteId, selectedRecord) => {\r\n        this.confirmMessage.confirm(\r\n            \"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () =>\r\n                this.DeleteTestMaterial(\r\n                    operation,\r\n                    deleteId, selectedRecord\r\n                )\r\n        );\r\n    };\r\n\r\n    SpecConfirmDelete = (operation, deleteId, selectedRecord, ncontrolCode) => {\r\n        this.confirmMessage.confirm(\r\n            \"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () =>\r\n                this.deleteAction(selectedRecord, \"delete\", ncontrolCode, \"TestGroupAddSpecification\", \"openChildModal\")\r\n        );\r\n    };\r\n    DeleteTestMaterial = (operation, ncontrolCode) => {\r\n        let selectedSpecification = this.props.masterData.SelectedSpecification;\r\n        if (selectedSpecification.napprovalstatus === transactionStatus.DRAFT\r\n            || selectedSpecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n            let selectedRecord = this.state.selectedRecord\r\n            let inputData = [];\r\n            inputData = { ntreeversiontempcode: this.props.masterData.selectedNode.ntreeversiontempcode }\r\n\r\n            inputData[\"testgrouptestmaterial\"] = {\r\n                ntestgrouptestmaterialcode: this.props.masterData.selectedMaterial.ntestgrouptestmaterialcode,\r\n                ntestgrouptestcode: this.props.masterData.selectedMaterial.ntestgrouptestcode,\r\n\r\n            };\r\n\r\n            inputData[\"userinfo\"] = this.props.userInfo;\r\n            const inputParam = {\r\n                methodUrl: \"TestGroupTestMaterial\",\r\n                classUrl: this.props.inputParam.classUrl,\r\n                inputData: inputData,\r\n                operation: \"delete\",\r\n                selectedRecord:{...this.state.selectedRecord}\r\n\r\n            };\r\n            const masterData = this.props.masterData;\r\n            if (\r\n                showEsign(\r\n                    this.props.esignRights,\r\n                    this.props.userInfo.nformcode,\r\n                    ncontrolCode\r\n                )\r\n            ) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true,\r\n                        screenData: { inputParam, masterData },\r\n                        openModal: true,\r\n                        screenName: \"IDS_TESTGROUPMATERIAL\",\r\n                        operation: operation.operation,\r\n                    },\r\n                };\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n        }\r\n    }\r\n    onSaveClick = (saveType, formRef) => {\r\n        let inputParam = {};\r\n        // if(this.props.screenName === \"IDS_TEST\" \r\n        //     || this.props.screenName === \"IDS_EDITTESTGROUPTEST\") {\r\n        //     inputParam = this.onSaveTest(saveType, formRef);\r\n        // } else \r\n        let clearSelectedRecordField =[];\r\n        if (this.props.screenName === \"IDS_FORMULA\") {\r\n            inputParam = this.onSaveFormula(saveType, formRef);\r\n        } else if (this.props.screenName === \"IDS_PARAMETER\") {\r\n            inputParam = this.onSaveParameter(saveType, formRef);\r\n        } else if (this.props.screenName === \"IDS_CODEDRESULT\") {\r\n            if ((this.state.selectedRecord[\"nneedsubcodedresult\"] === 3 && this.state.selectedsubcodedresult.length>0) ||(this.state.selectedRecord[\"nneedsubcodedresult\"] === 4) ) {\r\n            inputParam = this.onSaveCodedResult(saveType, formRef);\r\n            }else\r\n            {\r\n                return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ADDSUBCODEDRESULT\" }));\r\n            }\r\n            clearSelectedRecordField = [\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_RESULTPARAMETERCOMMENTS\", \"dataField\": \"spredefinedcomments\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"checkbox\", \"idsName\": \"IDS_AlERTFORRESULTENTRY\", \"dataField\": \"nneedresultentryalert\", \"width\": \"150px\",\"controlName\": \"ndefaultstatus\", \"mandatoryLabel\": \"IDS_SELECT\",\"isClearField\":true,\"preSetValue\":4 },\r\n                { \"controlType\": \"checkbox\", \"idsName\": \"IDS_SUBCODERESULTNEED\", \"dataField\": \"nneedsubcodedresult\", \"width\": \"150px\",\"controlName\": \"ndefaultstatus\", \"mandatoryLabel\": \"IDS_SELECT\",\"isClearField\":true,\"preSetValue\":4 },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_ALERTMESSAGE\", \"dataField\": \"salertmessage\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n            ]\r\n\r\n        } else if (this.props.screenName === \"IDS_SUBCODEDRESULT\") {\r\n            return this.onSaveSubCodedResult(saveType, formRef);\r\n\r\n        } else if (this.props.screenName === \"IDS_CLINICALSPEC\") {\r\n            inputParam = this.onSaveSpecification(saveType, formRef);\r\n            clearSelectedRecordField = [\r\n                \r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_FROMAGE\", \"dataField\": \"nfromage\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_TOAGE\", \"dataField\": \"ntoage\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_LOWA\", \"dataField\": \"nlowa\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_HIGHA\", \"dataField\": \"nhigha\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_MINVALUES\", \"dataField\": \"sminloq\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_MAXVALUES\", \"dataField\": \"smaxloq\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_DISREGARDED\", \"dataField\": \"sdisregard\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_LOWB\", \"dataField\": \"nlowb\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_HIGHB\", \"dataField\": \"nhighb\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_MINVALUES\", \"dataField\": \"sminlod\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_MAXVALUES\", \"dataField\": \"smaxlod\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_DEFAULTRESULT\", \"dataField\": \"sresultvalue\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                \r\n                //{ \"controlType\": \"checkbox\", \"idsName\": \"IDS_DEFAULTSTATUS\", \"dataField\": \"ndefaultstatus\", \"width\": \"150px\",\"controlName\": \"ndefaultstatus\", \"mandatoryLabel\": \"IDS_SELECT\",\"isClearField\":true,\"preSetValue\":4 },\r\n                //{ \"controlType\": \"checkbox\", \"idsName\": \"IDS_DEFAULTSTATUS\", \"dataField\": \"nlinkdefaultstatus\", \"width\": \"150px\",\"controlName\": \"ndefaultstatus\", \"mandatoryLabel\": \"IDS_SELECT\",\"isClearField\":true,\"preSetValue\":4 },\r\n            ]\r\n        }\r\n        else if (this.props.screenName === \"IDS_TESTGROUPMATERIAL\") {\r\n            inputParam = this.onSaveMaterial(saveType, formRef);\r\n            clearSelectedRecordField = [\r\n                \r\n                { \"controlType\": \"textarea\", \"idsName\": \"IDS_REMARKS\", \"dataField\": \"sremarks\", \"width\": \"200px\", \"mandatoryLabel\": \"IDS_ENTER\",\"isClearField\":true },\r\n                \r\n            ]\r\n        } else if (this.props.screenName === \"IDS_RULESFROM\") {\r\n            inputParam = this.onSaveCopyRules(saveType, formRef);\r\n        }\r\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {    \r\n            //(this.props.screenName !== \"IDS_CODEDRESULT\")\r\n            // if(this.props.submit!==\"SUBCODERESULT\")\r\n            if (this.props.screenName === \"IDS_TESTGROUPMATERIAL\" || this.props.screenName === \"IDS_CODEDRESULT\" || \r\n                this.props.screenName === \"IDS_CLINICALSPEC\"\r\n            )\r\n            {\r\n               this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\", {},\"\",clearSelectedRecordField);\r\n            }\r\n            else\r\n            {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\", {});\r\n            }\r\n        }\r\n    }\r\n    //ALPD-4984\r\n\t//Added by Neeraj \r\n    onSaveCopyRules=(saveType, formRef)=>{\r\n        let ntestgrouprulesenginecode=[];\r\n        this.state.selectedRecord.ntestgrouprulesenginecode.length>0 && this.state.selectedRecord.ntestgrouprulesenginecode.map(item=>{\r\n            ntestgrouprulesenginecode.push(item.item.item);\r\n        })\r\n        let inputData={\r\n            userinfo: this.props.userInfo,\r\n            ncomponentcode:this.state.selectedRecord.ncomponentcode && this.state.selectedRecord.ncomponentcode.value||-1,\r\n            nallottedspeccode:this.state.selectedRecord.nallottedspeccode && this.state.selectedRecord.nallottedspeccode.value,\r\n            ntestcode:this.props.masterData.SelectedTest.ntestcode,\r\n            ntestgrouptestcode:this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n            selectedSpecCode:this.props.masterData.SelectedSpecification.nallottedspeccode,\r\n            selectedComponentCode:this.props.masterData.SelectedComponent && \r\n            this.props.masterData.SelectedComponent.ncomponentcode||-1,\r\n            selectedRules:ntestgrouprulesenginecode,\r\n            selectedValueForAudit:{\r\n            sproductcatname:this.state.selectedRecord.nproductcatcode && this.state.selectedRecord.nproductcatcode.label||'NA',\r\n            sproductname:this.state.selectedRecord.nproductcode && this.state.selectedRecord.nproductcode.label||'NA',\r\n            sspecname:this.state.selectedRecord.nallottedspeccode && this.state.selectedRecord.nallottedspeccode.label||'NA',\r\n            scomponentname:this.state.selectedRecord.ncomponentcode && this.state.selectedRecord.ncomponentcode.label||'NA',\r\n            stestsynonym:this.props.masterData.SelectedTest.stestsynonym||'NA',\r\n            sleveldescription:this.state.selectedRecord.ntemplatemanipulationcode && this.state.selectedRecord.ntemplatemanipulationcode.label||'NA',\r\n            }\r\n        }\r\n        const inputParam = {\r\n        inputData,\r\n        classUrl: \"testgrouprulesengine\",\r\n        operation: \"copy\",\r\n        methodUrl: \"TestGroupRulesEngine\",\r\n        saveType, formRef, searchRef: this.searchRef,\r\n        // postParam: {\r\n        //     inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n        //     primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n        //     fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n        //     masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n        // }\r\n    }\r\n    return inputParam;\r\n    }\r\n\r\n    onSaveParameter = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const parameterList = [\"ntestgrouptestparametercode\", \"ntestgrouptestcode\", \"ntestparametercode\", \"sparametersynonym\", \"nroundingdigits\",\r\n            \"nresultmandatory\", \"nreportmandatory\", \"sspecdesc\", \"nsorter\",\"nisadhocparameter\"];\r\n        let testGroupTestParameter = {\r\n            nparametertypecode: selectedRecord.nparametertypecode.value,\r\n            sdisplaystatus: selectedRecord.nparametertypecode.label,\r\n            //ALPD-4363\r\n            nunitcode: selectedRecord.nunitcode ? selectedRecord.nunitcode.value : -1,\r\n            nresultaccuracycode: selectedRecord.nresultaccuracycode ? selectedRecord.nresultaccuracycode.value : -1,\r\n            nchecklistversioncode: selectedRecord.nchecklistversioncode ? selectedRecord.nchecklistversioncode.value : -1\r\n        }\r\n        parameterList.map(item => {\r\n            return testGroupTestParameter[item] = selectedRecord[item] ? selectedRecord[item] : \"\";\r\n        });\r\n        let inputData = {\r\n            testgrouptestparameter: testGroupTestParameter,\r\n            userinfo: this.props.userInfo\r\n        };\r\n        if (selectedRecord.nparametertypecode.value === parameterType.NUMERIC) {\r\n            let testGroupTestNumericParameter = {};\r\n            const numericList = [\"sminlod\", \"smaxlod\", \"sminb\", \"smina\", \"smaxa\", \"smaxb\", \"sminloq\", \"smaxloq\", \"sdisregard\", \"sresultvalue\"];\r\n            testGroupTestNumericParameter[\"ntestgrouptestparametercode\"] = selectedRecord.ntestgrouptestparametercode;\r\n            testGroupTestNumericParameter[\"ngradecode\"] =selectedRecord.ngradecode? selectedRecord.ngradecode.value ||-1:-1;\r\n            numericList.map(item => {\r\n                return testGroupTestNumericParameter[item] = selectedRecord[item] ? selectedRecord[item] === \"0\" ? selectedRecord[item] : selectedRecord[item].replace(/^0+/, '') : null;\r\n            });\r\n            inputData[\"testgrouptestnumericparameter\"] = testGroupTestNumericParameter;\r\n            if (selectedRecord.ntestformulacode) {\r\n                const testFormula = selectedRecord.ntestformulacode.item;\r\n                const testgrouptestformula = {\r\n                    ntestgrouptestparametercode: selectedRecord.ntestgrouptestparametercode,\r\n                    ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\r\n                    ntestformulacode: testFormula.ntestformulacode,\r\n                    sformulacalculationcode: testFormula.sformulacalculationcode,\r\n                    sformulacalculationdetail: testFormula.sformulacalculationdetail,\r\n                    ntransactionstatus: transactionStatus.YES\r\n                };\r\n                inputData[\"testgrouptestformula\"] = testgrouptestformula;\r\n            } else {\r\n                inputData[\"testgrouptestformula\"] = null;\r\n            }\r\n        } else if (selectedRecord.nparametertypecode.value === parameterType.CHARACTER) {\r\n            const characterList = [\"ntestgrouptestparametercode\", \"scharname\"];\r\n            let testGroupTestCharParameter = {};\r\n            characterList.map(item => {\r\n                return testGroupTestCharParameter[item] = selectedRecord[item] ? selectedRecord[item] : \"\";\r\n            });\r\n            inputData[\"testgrouptestcharparameter\"] = testGroupTestCharParameter;\r\n        }\r\n        //  else if (selectedRecord.nparametertypecode.value === parameterType.PREDEFINED) {\r\n        //     const testGroupTestPredefParameter = {\r\n        //         ntestgrouptestparametercode: selectedRecord.ntestgrouptestparametercode,\r\n        //         ngradecode: selectedRecord.ngradecode.value,\r\n        //         spredefinedname: selectedRecord.spredefinedname,\r\n        //         ntestgrouptestpredefcode: selectedRecord.ntestgrouptestpredefcode,\r\n        //         ndefaultstatus: selectedRecord.ndefaultstatus\r\n        //     }\r\n        //     inputData[\"testgrouptestpredefparameter\"] = testGroupTestPredefParameter;\r\n        // }\r\n        //console.log(\"input data:\", inputData);\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: \"update\",\r\n            methodUrl: \"TestGroupParameter\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam: {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n            }\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveFormula = (saveType, formRef) => {\r\n        const masterData = this.props.masterData;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const selectedParameter = masterData.selectedParameter;\r\n        const testFormulaArray = selectedRecord.ntestformulacode.map(test => {\r\n            return {\r\n                ntestgrouptestcode: selectedParameter.ntestgrouptestcode,\r\n                ntestgrouptestparametercode: selectedParameter.ntestgrouptestparametercode,\r\n                ntestformulacode: test.item.ntestformulacode,\r\n                sformulacalculationcode: test.item.sformulacalculationcode,\r\n                sformulacalculationdetail: test.item.sformulacalculationdetail,\r\n                ntransactionstatus: transactionStatus.NO\r\n            }\r\n        });\r\n        const inputData = {\r\n            testgroupspecification: masterData.SelectedSpecification,\r\n            testgrouptestformula: testFormulaArray,\r\n            userinfo: this.props.userInfo\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.operation,\r\n            methodUrl: \"TestGroupTestFormula\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam: {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n            }\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveCodedResult = (saveType, formRef) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n            //const selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n            const testgroupsubcoded = [];\r\n            const testGroupPredefParameter = {\r\n                ndefaultstatus: transactionStatus.NO,\r\n                nstatus: transactionStatus.ACTIVE,\r\n                ntestgrouptestpredefcode: selectedRecord[\"ntestgrouptestpredefcode\"],\r\n                ntestgrouptestparametercode: this.props.masterData.selectedParameter[\"ntestgrouptestparametercode\"],\r\n                ngradecode: selectedRecord[\"ngradecode\"].value,\r\n                spredefinedname: selectedRecord[\"spredefinedname\"],\r\n                //sresultparacomment: selectedRecord[\"sresultparacomment\"],\r\n                spredefinedsynonym: selectedRecord[\"spredefinedsynonym\"],\r\n                spredefinedcomments: selectedRecord[\"spredefinedcomments\"],\r\n                salertmessage: selectedRecord[\"salertmessage\"],\r\n                nneedresultentryalert: selectedRecord[\"nneedresultentryalert\"],\r\n                nneedsubcodedresult: selectedRecord[\"nneedsubcodedresult\"],\r\n                ntestpredefinedcode: this.props.masterData.selectedParameter[\"ntestpredefinedcode\"],\r\n\r\n            };\r\n            const inputParam = {\r\n                inputData: {\r\n                    testgrouptestpredefinedparameter: testGroupPredefParameter,\r\n                    userinfo: this.props.userInfo,\r\n                    testgroupspecification: this.props.masterData.SelectedSpecification,\r\n                    testgroupsubcoded: this.state.selectedsubcodedresult,\r\n                    deletetestgroupsubcoded: this.state.selectsubcodedelete,\r\n                    addsubcodedresult : this.state.selectedsubcodedresult.filter(x =>!x.hasOwnProperty('ntestgrouptestpredefsubcode') )|| []\r\n\r\n                },\r\n\r\n                classUrl: \"testgroup\",\r\n                operation: this.props.operation,\r\n                methodUrl: \"TestGroupPredefParameter\",\r\n                saveType, formRef, searchRef: this.searchRef,\r\n                selectedRecord: {...this.state.selectedRecord},\r\n                postParam: {\r\n                    inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                    primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                    fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                    masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n                }\r\n            }\r\n            //this.setState({selectedsubcodedresult: []}); \r\n            return inputParam;\r\n\r\n        \r\n    }\r\n\r\n\r\n\r\n    onSaveSubCodedResult = (saveType, formRef) => {\r\n        // const ssubcodedresult = this.state.selectedRecord[\"ssubcodedresult\"];\r\n        let selectedsubcodedresult = [];\r\n        //let addsubcodedresult = [];\r\n        selectedsubcodedresult[\"ssubcodedresult\"] = [];\r\n        selectedsubcodedresult = this.state.selectedsubcodedresult || [];\r\n        //addsubcodedresult = this.state.selectedsubcodedresult.filter(x =>!x.hasOwnProperty('ntestgrouptestpredefsubcode') )|| [];\r\n        let ssubcodedresult = this.state.selectedRecord[\"ssubcodedresult\"];\r\n        selectedsubcodedresult.push({ \"ssubcodedresult\": this.state.selectedRecord[\"ssubcodedresult\"] });\r\n        const selectedRecord = this.state.selectedRecord\r\n        delete selectedRecord[\"ssubcodedresult\"]\r\n        let openChildModal=false;\r\n        let screenName= \"IDS_CODEDRESULT\";\r\n        if(saveType===2)\r\n        {\r\n            openChildModal=true;\r\n            screenName= \"IDS_SUBCODEDRESULT\";\r\n        }\r\n        else\r\n        {\r\n            screenName= \"IDS_CODEDRESULT\";\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                //operation: \"create\", \r\n                selectedId: null, selectedsubcodedresult, selectedRecord,\r\n                screenName,loading: false,openChildModal\r\n                , submit: \"SUBCODERESULT\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        //this.setState({ selectedsubcodedresult });\r\n    }\r\n\r\n\r\n    onSaveSpecification = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        // if(selectedRecord[\"nfromage\"]<selectedRecord[\"ntoage\"]){\r\n\r\n        const TestGroupAddSpecification = {\r\n            nstatus: transactionStatus.ACTIVE,\r\n            ntestgrouptestparametercode: this.props.masterData.selectedParameter[\"ntestgrouptestparametercode\"],\r\n            ngendercode: selectedRecord[\"ngendercode\"].value,\r\n            nfromage: selectedRecord[\"nfromage\"],\r\n            ntoage: selectedRecord[\"ntoage\"],\r\n            shigha: selectedRecord[\"nhigha\"],\r\n            shighb: selectedRecord[\"nhighb\"],\r\n            slowa: selectedRecord[\"nlowa\"],\r\n            slowb: selectedRecord[\"nlowb\"],\r\n            sminlod: selectedRecord[\"sminlod\"],\r\n            smaxlod: selectedRecord[\"smaxlod\"],\r\n            sminloq: selectedRecord[\"sminloq\"],\r\n            smaxloq: selectedRecord[\"smaxloq\"],\r\n            sdisregard: selectedRecord[\"sdisregard\"],\r\n            sresultvalue: selectedRecord[\"sresultvalue\"],\r\n            ngradecode: selectedRecord[\"ngradecode\"] && selectedRecord[\"ngradecode\"].value || -1,\r\n            nfromageperiod: selectedRecord[\"nfromageperiod\"] && selectedRecord[\"nfromageperiod\"].value || -1,\r\n            ntoageperiod: selectedRecord[\"ntoageperiod\"] && selectedRecord[\"ntoageperiod\"].value || -1,\r\n\r\n            ntestgrouptestclinicspeccode: selectedRecord[\"ntestgrouptestclinicspeccode\"],\r\n\r\n        };\r\n\r\n\r\n        const inputParam = {\r\n            inputData: {\r\n                testgroupaddspecification: TestGroupAddSpecification,\r\n                userinfo: this.props.userInfo,\r\n                testgroupspecification: this.props.masterData.SelectedSpecification\r\n            },\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.operation,\r\n            methodUrl: \"TestGroupAddSpecification\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            selectedRecord: {...this.state.selectedRecord},\r\n            postParam: {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n            }\r\n        }\r\n        return inputParam;\r\n        // }else{\r\n        //     toast.warn(this.props.intl.formatMessage({id: \"IDS_SELECTEDTEMPLATEISRETIRED\"})); \r\n        // }\r\n    }\r\n    onSaveMaterial = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        let testGroupTestMaterial = []\r\n        if (this.props.operation === \"create\") {\r\n            testGroupTestMaterial = {\r\n                ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                ntestgrouptestmaterialcode: this.props.masterData.SelectedTest.ntestgrouptestmaterialcode,\r\n                nmaterialtypecode: selectedRecord[\"nmaterialtypecode\"].item.jsondata.nmaterialtypecode,\r\n                nmaterialcatcode: selectedRecord[\"nmaterialcatcode\"].value,\r\n                nmaterialcode: selectedRecord[\"nmaterialcode\"].value,\r\n                smaterialname: selectedRecord[\"nmaterialcode\"].label,\r\n                sremarks: selectedRecord[\"sremarks\"],\r\n                nstatus: transactionStatus.ACTIVE,\r\n\r\n            };\r\n        }\r\n        else {\r\n            testGroupTestMaterial = {\r\n                ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                ntestgrouptestmaterialcode: this.props.masterData.selectedMaterial.ntestgrouptestmaterialcode,\r\n                nmaterialtypecode: selectedRecord[\"nmaterialtypecode\"].value,\r\n                nmaterialcatcode: selectedRecord[\"nmaterialcatcode\"].value,\r\n                nmaterialcode: selectedRecord[\"nmaterialcode\"].value,\r\n                sremarks: selectedRecord[\"sremarks\"],\r\n                nstatus: transactionStatus.ACTIVE,\r\n\r\n            };\r\n        }\r\n\r\n        const inputParam = {\r\n            inputData: {\r\n                testgrouptestmaterial: testGroupTestMaterial,\r\n                ntreeversiontempcode: this.props.masterData.selectedNode.ntreeversiontempcode,\r\n                userinfo: this.props.userInfo,\r\n            },\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.operation,\r\n            methodUrl: \"TestGroupTestMaterial\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            selectedRecord: {...this.state.selectedRecord},\r\n            postParam: {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                masterData: this.props.masterData, searchFieldList: this.searchFieldList,\r\n                \r\n            }\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    deleteTest = (deleteParam) => {\r\n\r\n        const masterData = this.props.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            const testgroupspecification = this.props.masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                const screenName = deleteParam.screenName;\r\n                const inputParam = {\r\n                    inputData: {\r\n                        testgrouptest: deleteParam.selectedRecord,\r\n                        userinfo: this.props.userInfo,\r\n                        testgroupspecification,\r\n                        treetemplatemanipulation: this.props.masterData.selectedNode\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: \"delete\",\r\n                    methodUrl: \"Test\",\r\n                    screenName: \"IDS_TEST\",\r\n                    postParam: {\r\n                        inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                        primaryKeyValue: deleteParam.selectedRecord.ntestgrouptestcode,\r\n                        fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                        masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n                    }\r\n                }\r\n                const masterData = this.props.masterData;\r\n                if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData },\r\n                            openModal: true, screenName: screenName, operation: deleteParam.operation, selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteAction = (item, operation, ncontrolCode, methodUrl, modalName) => {\r\n\r\n        const masterData = this.props.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            const selected = item;\r\n            const inputParam = {\r\n                inputData: {\r\n                    [methodUrl.toLowerCase()]: selected,\r\n                    userinfo: this.props.userInfo,\r\n                    testgroupspecification: this.props.masterData.SelectedSpecification,\r\n                    deletetestgroupsubcoded:this.state.selectedsubcodedresult||[]\r\n                },\r\n                classUrl: \"testgroup\",\r\n                operation: operation,\r\n                methodUrl: methodUrl,\r\n                screenName: \"IDS_TEST\",\r\n                postParam: {\r\n                    inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                    primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                    fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                    masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n                }\r\n            }\r\n            const masterData = this.props.masterData;\r\n            if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        [modalName]: true, screenName: \"IDS_TEST\", operation: operation, selectedRecord: {}\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    onSwitchChange = (item, key, methodUrl, event) => {\r\n        const masterData = this.props.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            //NIBSCRT-2236\r\n            const testgroupspecification = this.props.masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                let dataItem = item;\r\n                if (methodUrl === \"TestGroupTestFormula\") {\r\n                    dataItem[\"ntransactionstatus\"] = transactionStatus.YES;\r\n                } else if (methodUrl === 'TestGroupPredefParameter') {\r\n                    // if(this.props.masterData.SelectedSpecification.napprovalstatus === transactionStatus.DRAFT || this.props.masterData.SelectedSpecification.napprovalstatus === transactionStatus.CORRECTION)\r\n                    // {\r\n                    dataItem['ndefaultstatus'] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n                    // }\r\n                    // else{\r\n                    //     return toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n                    // }\r\n\r\n                }\r\n                else {\r\n                    dataItem[\"ndefaultstatus\"] = transactionStatus.YES;\r\n                }\r\n                const inputParam = {\r\n                    inputData: {\r\n                        [key]: dataItem,\r\n                        userinfo: this.props.userInfo,\r\n                        testgroupspecification: this.props.masterData.SelectedSpecification\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: \"default\",\r\n                    methodUrl: methodUrl\r\n                }\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\", {});\r\n            }\r\n            else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    onEsignInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    //ALPD-4984\r\n\t//Added by Neeraj \r\n    onRulesComboChange=(comboData, fieldName)=>{\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n        if(fieldName===\"nproductcatcode\"){\r\n            if(comboData.item.ncategorybasedflow===transactionStatus.NO){\r\n                this.props.getProductComboServices({\r\n                    inputData: {\r\n                      userinfo: this.props.userInfo,\r\n                      nproductcatcode:comboData.value,\r\n                      ntestcode:this.props.masterData.SelectedTest.ntestcode\r\n                        }\r\n                  });\r\n            }else{\r\n                this.props.getProfileRootComboServices({\r\n                    inputData: {\r\n                      userinfo: this.props.userInfo,\r\n                      nproductcatcode:comboData.value,\r\n                      nproductcode:-1,\r\n                      ntestcode:this.props.masterData.SelectedTest.ntestcode\r\n                    }\r\n                  });\r\n            }\r\n            delete(selectedRecord.nallottedspeccode);\r\n            delete(selectedRecord.ncomponentcode);\r\n            delete(selectedRecord.nproductcode);\r\n            delete(selectedRecord.ntemplatemanipulationcode);\r\n            delete(selectedRecord.ntestgrouprulesenginecode);\r\n        }else if(fieldName===\"nproductcode\"){\r\n            this.props.getProfileRootComboServices({\r\n                inputData: {\r\n                  userinfo: this.props.userInfo,\r\n                  nproductcatcode:selectedRecord.nproductcatcode && selectedRecord.nproductcatcode.value,\r\n                  nproductcode:comboData.value,\r\n                  ntestcode:this.props.masterData.SelectedTest.ntestcode\r\n                }\r\n              });\r\n              delete(selectedRecord.nallottedspeccode);\r\n              delete(selectedRecord.ncomponentcode);\r\n              delete(selectedRecord.ntemplatemanipulationcode);\r\n              delete(selectedRecord.ntestgrouprulesenginecode);\r\n        }else if(fieldName===\"ntemplatemanipulationcode\"){\r\n            this.props.getSpecificationComboServices({\r\n                inputData: {\r\n                  userinfo: this.props.userInfo,\r\n                  ntemplatemanipulationcode:comboData.value,\r\n                  ntestcode:this.props.masterData.SelectedTest.ntestcode\r\n                }\r\n              });\r\n              delete(selectedRecord.nallottedspeccode);\r\n              delete(selectedRecord.ncomponentcode);\r\n              delete(selectedRecord.ntestgrouprulesenginecode);\r\n        } else if(fieldName===\"nallottedspeccode\"){\r\n            if(comboData.item.ncomponentrequired===transactionStatus.YES){\r\n                this.props.getComponentComboServices({\r\n                    inputData: {\r\n                      userinfo: this.props.userInfo,\r\n                      nallottedspeccode:comboData.value,\r\n                      ncomponentcode: this.props.masterData.SelectedSpecification.nallottedspeccode===comboData.value ?\r\n                      this.props.masterData.SelectedComponent.ncomponentcode:-1,\r\n                      ntestcode:this.props.masterData.SelectedTest.ntestcode\r\n                    }\r\n                  });\r\n            }else{\r\n                this.props.getRulesTestComboServices({\r\n                    inputData: {\r\n                      userinfo: this.props.userInfo,\r\n                      ncomponentcode:selectedRecord.ncomponentcode && selectedRecord.ncomponentcode.value||-1,\r\n                      nallottedspeccode:selectedRecord.nallottedspeccode.value,\r\n                      ntestcode:this.props.masterData.SelectedTest.ntestcode,\r\n                      ntestgrouptestcode:this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                      selectedSpecCode:this.props.masterData.SelectedSpecification.nallottedspeccode,\r\n                      selectedComponentCode:this.props.masterData.SelectedComponent && this.props.masterData.SelectedComponent.ncomponentcode||-1\r\n                         }\r\n                  });\r\n            }\r\n            delete(selectedRecord.ncomponentcode);\r\n            delete(selectedRecord.ntestgrouprulesenginecode);\r\n        }\r\n        else if(fieldName===\"ncomponentcode\"){\r\n            this.props.getRulesTestComboServices({\r\n                inputData: {\r\n                  userinfo: this.props.userInfo,\r\n                  ncomponentcode:comboData.value,\r\n                  nallottedspeccode:selectedRecord.nallottedspeccode.value,\r\n                  ntestcode:this.props.masterData.SelectedTest.ntestcode,\r\n                  ntestgrouptestcode:this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                  selectedSpecCode:this.props.masterData.SelectedSpecification.nallottedspeccode,\r\n                  selectedComponentCode:this.props.masterData.SelectedComponent.ncomponentcode\r\n                     }\r\n              });\r\n              delete(selectedRecord.ntestgrouprulesenginecode);\r\n        }\r\n    this.setState({ selectedRecord });\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        let inputData = [];\r\n        let masterData = { ...this.props.masterData }\r\n        let inputParam = []\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[\"parameterTypeCode\"] = comboData.value;\r\n                selectedRecord[fieldName] = comboData;\r\n                const needRoundingDigit = comboData.value === parameterType.NUMERIC ? false : true;\r\n                const needUnit = comboData.value === parameterType.NUMERIC ? false : true;\r\n                selectedRecord[\"nroundingdigits\"] = 0;\r\n                selectedRecord[\"nunitcode\"] = comboData.value === parameterType.NUMERIC ? this.props.parameterData.defaultUnit : undefined;\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        selectedRecord,\r\n                        testGroupInputData: {\r\n                            ...this.props.testGroupInputData,\r\n                            needRoundingDigit, needUnit\r\n                        }\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n                break;\r\n\r\n            case 3:\r\n                selectedRecord[\"schecklistversionname\"] = comboData.item.schecklistversionname;\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n            case 4:\r\n                let oldnmaterialtypecode = selectedRecord[\"nmaterialtypecode\"].value ? selectedRecord[\"nmaterialtypecode\"].value : selectedRecord[\"nmaterialtypecode\"];\r\n\r\n                if (oldnmaterialtypecode !== comboData.value) {\r\n                    delete selectedRecord['nmaterialcatcode']\r\n                    delete selectedRecord['nmaterialcode']\r\n                }\r\n                selectedRecord[\"nmaterialtypecode\"] = comboData.value;\r\n\r\n                selectedRecord[fieldName] = comboData;\r\n                inputData = {\r\n                    userinfo: this.props.userInfo,\r\n                    nmaterialtypecode: parseInt(comboData.value),\r\n                }\r\n                inputParam = {\r\n                    materialType: this.props.materialType,\r\n                    operation: this.props.operation, masterData,\r\n                    inputData, selectedRecord,\r\n                    screenName: \"IDS_TESTGROUPMATERIAL\", ncontrolCode: this.props.ncontrolCode\r\n                }\r\n                this.props.getMaterialCategoryBasedMaterialType(inputParam)\r\n                break;\r\n            case 5:\r\n                if (selectedRecord[\"nmaterialcatcode\"]) {\r\n                    let oldnmaterialcatcode = selectedRecord[\"nmaterialcatcode\"].value ? selectedRecord[\"nmaterialcatcode\"].value : selectedRecord[\"nmaterialcatcode\"];\r\n                    if (oldnmaterialcatcode !== comboData.value) {\r\n\r\n                        delete selectedRecord['nmaterialcode']\r\n                    }\r\n                }\r\n                selectedRecord[\"nmaterialcatcode\"] = comboData.value;\r\n\r\n                selectedRecord[fieldName] = comboData;\r\n                inputData = {\r\n                    userinfo: this.props.userInfo,\r\n                    nmaterialcatcode: parseInt(selectedRecord[\"nmaterialcatcode\"].value),\r\n                    nmaterialtypecode: parseInt(selectedRecord[\"nmaterialtypecode\"].value),\r\n\r\n                }\r\n                inputParam = {\r\n                    masterData, inputData,\r\n                    selectedRecord, operation: this.props.operation,\r\n                    selectedRecord, screenName: \"IDS_TESTGROUPMATERIAL\", ncontrolCode: this.props.ncontrolCode\r\n                }\r\n                this.props.getMaterialBasedMaterialCategory(inputParam)\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    addSubCodedResult = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         loadEsign: true,\r\n        //         openModal: true,\r\n        //         screenName: \"IDS_TESTGROUPTESTMATERIAL\"\r\n        //     },\r\n        // };\r\n        // this.props.updateStore(updateInfo);\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                //operation: \"create\", \r\n                selectedId: null,//selectedsubcodedresult:\"\",\r\n                openChildModal: true, screenName: \"IDS_SUBCODEDRESULT\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    deleteSubCodedResult = (index, subCodedResult, index1) => {\r\n        const selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n        selectedsubcodedresult.splice(index1.dataIndex, 1);\r\n        //const selectsubcodedelete=[];\r\n        const selectsubcodedelete= this.state.selectsubcodedelete || [];\r\n        if(index[\"ntestgrouptestpredefsubcode\"])\r\n        selectsubcodedelete.push({ \"ntestgrouptestpredefsubcode\":index[\"ntestgrouptestpredefsubcode\"], \"ssubcodedresult\":index[\"ssubcodedresult\"],\"ntestgrouptestpredefcode\":index[\"ntestgrouptestpredefcode\"] });\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedId: null, selectedsubcodedresult,selectsubcodedelete\r\n\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n    onInputOnChange = (event, caseNo, optional) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                if (event.target.type === 'checkbox') {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\r\n                    if (selectedRecord[\"nneedresultentryalert\"] === 4) {\r\n                        selectedRecord[\"nneedsubcodedresult\"] = 4\r\n                        delete selectedRecord[\"salertmessage\"]\r\n                        this.setState({ selectedsubcodedresult: [] });\r\n                    }\r\n                    if (selectedRecord[\"nneedsubcodedresult\"] === 4) {\r\n                        this.setState({ selectedsubcodedresult: [] });\r\n                    }\r\n                    else if(selectedRecord[\"nresultmandatory\"]===3)\r\n                    {\r\n                        selectedRecord[\"nisadhocparameter\"] = 4\r\n                    }\r\n                } else if (event.target.type === 'radio') {\r\n                    selectedRecord[event.target.name] = optional;\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[event.target.name] = event.target.value;\r\n                const indexKey = Object.keys(optional)[0];\r\n                const value = Object.values(optional)[0];\r\n                const treeData = {\r\n                    ntreeversiontempcode: value.ntreeversiontempcode,\r\n                    npositioncode: value.nlevelno - 1,\r\n                    sleveldescription: event.target.value,\r\n                    ntemptranstestgroupcode: value.ntemptranstestgroupcode,\r\n                    nformcode: 62,\r\n                    schildnode: value.schildnode,\r\n                    nnextchildcode: value.schildnode\r\n                }\r\n                let treetemplatemanipulation = selectedRecord.treetemplatemanipulation || [];\r\n                treetemplatemanipulation[indexKey] = treeData;\r\n                selectedRecord[\"treetemplatemanipulation\"] = treetemplatemanipulation;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 4:\r\n                const inputValue = event.target.value;\r\n                if (/^-?\\d*?\\.?\\d*?$/.test(inputValue) || inputValue === \"\") {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n\r\n            case 6:\r\n                // selectedRecord[event.target.name] = selectedRecord[\"sresultparacomment\"] = { label: event.target.value, value: event.target.value };\r\n                // this.setState({ selectedRecord });\r\n                // break;\r\n                //selectedRecord[event.target.name] = selectedRecord[\"sresultparacomment\"] = event.target.value;\r\n                selectedRecord[event.target.name] = selectedRecord[\"spredefinedsynonym\"] = event.target.value;\r\n                //selectedRecord[\"sparametername\"] = { label: event.target.value, value: event.target.value };\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 5:\r\n                if (event.target.type === 'checkbox') {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\r\n                    if (selectedRecord[\"nneedresultentryalert\"] === 4) {\r\n                        selectedRecord[\"nneedsubcodedresult\"] = 4\r\n                        delete selectedRecord[\"salertmessage\"]\r\n                        this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n                        const selectsubcodedelete=this.state.selectedsubcodedresult || []\r\n                        this.setState({ selectedsubcodedresult: [],selectsubcodedelete,codedResultMandatory:this.codedResultMandatory });\r\n                    }\r\n                    if (selectedRecord[\"nneedresultentryalert\"] === 3) {\r\n                        this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_ALERTMESSAGE\", \"dataField\": \"salertmessage\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n\r\n                        this.setState({ codedResultMandatory: [] });\r\n                    }\r\n\r\n\r\n\r\n                    // if (selectedRecord[\"nneedsubcodedresult\"] === 3) {\r\n                    //     this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n                    //     { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"sresultparacomment\", \"width\": \"200px\", \"mandatory\": true },\r\n                    //     { \"idsName\": \"IDS_ALERTMESSAGE\", \"dataField\": \"salertmessage\", \"width\": \"200px\", \"mandatory\": true },\r\n                    //     { \"idsName\": \"IDS_SUBCODEDRESULT\", \"dataField\": \"ssubcodedresult\", \"width\": \"200px\", \"mandatory\": true },\r\n                    //     { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n\r\n                    //     this.setState({ codedResultMandatory: [] });\r\n                    // }\r\n\r\n                    if (selectedRecord[\"nneedsubcodedresult\"] === 4) {\r\n                        const selectsubcodedelete=this.state.selectedsubcodedresult || []\r\n                        this.setState({ selectedsubcodedresult: [],selectsubcodedelete });\r\n                    }\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n\r\n                case 7:\r\n                    const inputValues = event.target.value;\r\n                   if (/^-?\\d*?\\.?\\d*?$/.test(inputValues) || inputValues === \"\") {\r\n                       selectedRecord[event.target.name] = event.target.value;\r\n                   }\r\n                   \r\n                   if(selectedRecord[\"sresultvalue\"]!==\"\" && selectedRecord[\"sresultvalue\"].value !== -1)\r\n                    {\r\n                        selectedRecord[\"ngradecode\"]=this.props.parameterData.grade[3];\r\n                        \r\n                    }\r\n                   else if(selectedRecord[\"sresultvalue\"]===\"\")\r\n                    {\r\n                        delete selectedRecord[\"ngradecode\"];\r\n                    }\r\n                   this.setState({ selectedRecord });\r\n                   break;\r\n\r\n\r\n                   case 8:\r\n                    const inputvalues = event.target.value;\r\n                   if (/^-?\\d*?\\.?\\d*?$/.test(inputvalues) || inputvalues === \"\") {\r\n                       selectedRecord[event.target.name] = event.target.value;\r\n                   }\r\n                   \r\n                   if(selectedRecord[\"sresultvalue\"]!==\"\" && (selectedRecord[\"ngradecode\"]===undefined|| selectedRecord[\"ngradecode\"].value===-1))\r\n                    {\r\n                        selectedRecord[\"ngradecode\"]=this.props.parameterData.gradenew[3];\r\n                        \r\n                    }\r\n                   else if(selectedRecord[\"sresultvalue\"]===\"\")\r\n                    {\r\n                        delete selectedRecord[\"ngradecode\"];\r\n                    }\r\n                   this.setState({ selectedRecord });\r\n                   break;\r\n                \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    onNumericInputChange = (value, name) => {\r\n       // console.log(\"value:\", value, name);\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (name === \"nroundingdigits\") {\r\n\r\n            // if (/^-?\\d*?$/.test(value.target.value) || value.target.value === \"\") {\r\n            //     console.log(\"val:\", value.target.value);\r\n            //     selectedRecord[name] = value.target.value;\r\n            // }\r\n            // if (/^-?\\d*?$/.test(value) || value === \"\") {\r\n            //    // console.log(\"val:\", value);\r\n            //     selectedRecord[name] = value;\r\n            // }\r\n            //const values = value.target.value.replace(/[^-^0-9]/g, '');\r\n            if (/^[0-9]+$/.test(value.target.value) || value.target.value === \"\") {\r\n                selectedRecord[name] = value.target.value;\r\n\r\n            } else {\r\n                selectedRecord[name] = \"\";\r\n            }\r\n        }\r\n        else {\r\n            selectedRecord[name] = value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openChildModal\");\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.selectedRecord });\r\n        }\r\n        if (this.props.selectedsubcodedresult !== previousProps.selectedsubcodedresult) {\r\n            this.setState({ selectedsubcodedresult: this.props.selectedsubcodedresult });\r\n        }\r\n\r\n        if (this.props.selectsubcodedelete !== previousProps.selectsubcodedelete) {\r\n            this.setState({ selectsubcodedelete: this.props.selectsubcodedelete });\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default injectIntl(TestGroupTestTab);"]},"metadata":{},"sourceType":"module"}