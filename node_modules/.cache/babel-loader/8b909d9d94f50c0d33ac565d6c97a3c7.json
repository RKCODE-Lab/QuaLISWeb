{"ast":null,"code":"import _defineProperty from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import Axios from'axios';import{toast}from'react-toastify';import{filterRecordBasedOnTwoArrays,sortData,rearrangeDateFormat,convertDateTimetoString}from'../components/CommonScript';import{DEFAULT_RETURN}from'./LoginTypes';import{intl}from'../components/App';import{initRequest}from'./LoginAction';import{RegistrationSubType,RegistrationType,transactionStatus}from'../components/Enumeration';import{crudMaster,postCRUDOrganiseTransSearch}from'./ServiceAction';import{getTestChildTabDetail}from'./index.js';import{constructOptionList}from'../components/CommonScript';export function getSampleTypeChange(Map,masterData,event,labelname){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/registration/getRegTypeBySampleType\",Map).then(function(response){masterData=_objectSpread(_objectSpread(_objectSpread({},masterData),response.data),{},_defineProperty({},labelname,_objectSpread({},event.item)));dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){toast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export function getRegTypeChange(Map,masterData,event,labelname){return function(dispatch){rsapi.post(\"/registration/getRegSubTypeByRegType\",Map).then(function(response){// const RegistrationSubType = response.data[\"RegistrationSubType\"];\n//  console.log(response.data);\n// RegistrationSubType.length > 0 ?\n//     selectedRecord[\"nregsubtypecode\"] = {\n//         \"value\": RegistrationSubType[0].nregsubtypecode,\n//         \"label\": RegistrationSubType[0].sregsubtypename\n//     } : selectedRecord[\"nregsubtypecode\"] = \"\";\n// const [labelname] = event.item;\nmasterData=_objectSpread(_objectSpread(_objectSpread({},masterData),response.data),{},_defineProperty({},labelname,_objectSpread({},event.item)));dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){toast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export function getRegSubTypeChange(Map,masterData,event,labelname){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/registration/getRegSubTypeByRegType\",Map).then(function(response){masterData=_objectSpread(_objectSpread(_objectSpread({},masterData),response.data),{},_defineProperty({},labelname,_objectSpread({},event.item)));dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){toast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export function getComponentTestBySpec(Map,selectedRecord,masterData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/registration/getComponentTestBySpec\",Map).then(function(response){var _response$data=response.data,Component=_response$data.Component,Test=_response$data.Test;var slno=Component.length>0?Component[0].slno:-1;var selectedComponent=Component.length>0?Component[0]:undefined;var SelectedTest=[];var SelectedSource=[];if(Object.keys(Test).length>0){SelectedTest=Test[slno];}dispatch({type:DEFAULT_RETURN,payload:{Component:Component,Test:Test,SelectedTest:SelectedTest,selectedComponent:selectedComponent,loading:false,SelectedSource:SelectedSource,selectedRecord:selectedRecord,popUptestDataState:{skip:0,take:10},Source:[]}});}).catch(function(error){// console.log(error);\ntoast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export function getTestfromDB(objComponent,LoginProps,nflag){return function(dispatch){dispatch(initRequest(true));var component=_objectSpread({},objComponent);component[\"ncomponentcode\"]=objComponent[\"ncomponentcode\"]?objComponent[\"ncomponentcode\"].value:-1;component[\"nstoragelocationcode\"]=objComponent[\"nstoragelocationcode\"]?objComponent[\"nstoragelocationcode\"].value:-1;component[\"nstorageconditioncode\"]=objComponent[\"nstorageconditioncode\"]?objComponent[\"nstorageconditioncode\"].value:-1;component[\"slno\"]=LoginProps.Component?Object.keys(LoginProps.Component).length+1:0;component[\"scomponentname\"]=objComponent[\"ncomponentcode\"].label;component[\"sstoragelocationname\"]=objComponent[\"nstoragelocationcode\"]&&objComponent[\"nstoragelocationcode\"].label?objComponent[\"nstoragelocationcode\"].label:\"\";component[\"sstorageconditionname\"]=objComponent[\"nstorageconditioncode\"]&&objComponent[\"nstorageconditioncode\"].label?objComponent[\"nstorageconditioncode\"].label:\"\";component[\"ntzdmanufdate\"]=objComponent[\"ntzdmanufdate\"]?objComponent[\"ntzdmanufdate\"].value:-1;component[\"ntzdreceivedate\"]=objComponent[\"ntzdreceivedate\"]?objComponent[\"ntzdreceivedate\"].value:-1;component[\"stzdreceivedate\"]=objComponent[\"ntzdreceivedate\"]?objComponent[\"ntzdreceivedate\"].label:\"\";component[\"nplasmafilecode\"]=objComponent[\"nplasmafilecode\"]?objComponent[\"nplasmafilecode\"].value:-1;component[\"splasmafilenumber\"]=objComponent[\"nplasmafilecode\"]?objComponent[\"nplasmafilecode\"].label:\"\";var dreceiveddate=objComponent[\"dreceiveddate\"];component[\"dreceiveddate\"]=dreceiveddate;//formatInputDate(objComponent[\"dreceiveddate\"], false);\ncomponent[\"sreceiveddate\"]=convertDateTimetoString(dreceiveddate,LoginProps.userInfo);//formatInputDateWithoutT(objComponent[\"dreceiveddate\"], false);//formatDate(objComponent[\"sreceiveddate\"]);\n// rsapi.post(\"/registration/getTestfromDB\", { \"Component\": component })\nrsapi.post(\"/registration/getTestfromDB\",{nspecsampletypecode:component.nspecsampletypecode,slno:component.slno}).then(function(response){var TestData=response.data;var slno=component.slno;var SelectedTest=[];var loadComponent=true;var selectComponent={};var showSaveContinue=true;var SelectedSource=[];// let openChildModal = true;\nvar selectedComponent=undefined;var parentPopUpSize=\"lg\";// selectComponent = objComponent\nif(nflag===1){loadComponent=true;objComponent[\"smanuflotno\"]=\"\";objComponent[\"dreceiveddate\"]=rearrangeDateFormat(LoginProps.userInfo,LoginProps.CurrentTime);//new Date(LoginProps.CurrentTime);\nobjComponent[\"sreceiveddate\"]=rearrangeDateFormat(LoginProps.userInfo,LoginProps.CurrentTime);//new Date(LoginProps.CurrentTime);\nselectComponent=objComponent;}else{loadComponent=false;parentPopUpSize=\"xl\";// openChildModal = false;\nshowSaveContinue=false;selectComponent=undefined;}var Test=LoginProps.Test||[];var Component=LoginProps.Component||[];Component.unshift(component);selectedComponent=component;Test[slno]=response.data;SelectedTest=TestData;dispatch({type:DEFAULT_RETURN,payload:{Component:Component,Test:Test,SelectedTest:SelectedTest,selectComponent:selectComponent,selectedComponent:selectedComponent,loadComponent:loadComponent,showSaveContinue:showSaveContinue,parentPopUpSize:parentPopUpSize,loading:false,SelectedSource:SelectedSource}});// console.log(response.data);\n}).catch(function(error){//   console.log(error);\ntoast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export function EditComponent(Map,component,userInfo){return function(dispatch){dispatch(initRequest(true));var urlArray=[];var ComponentTestBySpec=rsapi.post(\"/registration/getComponentBySpec\",Map);var timezone=rsapi.post(\"timezone/getTimeZone\");urlArray=[ComponentTestBySpec,timezone];Axios.all(urlArray).then(function(response){var lstComponentMap=constructOptionList(response[0].data.lstComponent||[],\"ncomponentcode\",\"scomponentname\",undefined,undefined,true);var timeZoneListMap=constructOptionList(response[1].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var TimeZoneField=response[1].data;var lstComponent=lstComponentMap.get(\"OptionList\");var timeZoneList=timeZoneListMap.get(\"OptionList\");component[\"ncomponentcode\"]={label:component.scomponentname,value:component.ncomponentcode};component[\"dreceiveddate\"]=rearrangeDateFormat(userInfo,component[\"sreceiveddate\"]);component[\"scomments\"]=component[\"scomments\"];var ntzdreceivedate=component.ntzdreceivedate;if(component.ntzdreceivedate!==null&&typeof component.ntzdreceivedate===\"object\"){ntzdreceivedate=component.ntzdreceivedate.value;}component[\"ntzdreceivedate\"]=component.ntzdreceivedate?{\"label\":TimeZoneField[TimeZoneField.findIndex(function(x){return x.ntimezonecode===ntzdreceivedate;})].stimezoneid,\"value\":TimeZoneField[TimeZoneField.findIndex(function(x){return x.ntimezonecode===ntzdreceivedate;})].ntimezonecode}:\"\";dispatch({type:DEFAULT_RETURN,payload:{loadComponent:true,childoperation:\"update\",lstComponent:lstComponent,ChildscreenName:\"Component\",openChildModal:false,selectComponent:component,parentPopUpSize:\"lg\",timeZoneList:timeZoneList,loading:false}});}).catch(function(error){toast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export function ReloadData(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"registration/getRegistrationByFilterSubmit\",_objectSpread({},inputData.inputData)).then(function(response){var masterData=_objectSpread(_objectSpread({},inputData.masterData),response.data);if(inputData.searchSampleRef!==undefined&&inputData.searchSampleRef.current!==null){inputData.searchSampleRef.current.value=\"\";masterData['searchedSample']=undefined;}if(inputData.searchSubSampleRef!==undefined&&inputData.searchSubSampleRef.current!==null){inputData.searchSubSampleRef.current.value=\"\";masterData['searchedSubSample']=undefined;}if(inputData.searchTestRef!==undefined&&inputData.searchTestRef.current!==null){inputData.searchTestRef.current.value=\"\";//masterData['searchedTests'] = undefined\nmasterData['searchedTest']=undefined;}// let selectedFilter = inputData.selectedFilter;\n// selectedFilter[\"fromdate\"] = \"\";\n// selectedFilter[\"todate\"] = \"\";\nsortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,showFilter:false,skip:0,testskip:0,take:undefined,testtake:undefined,showSample:undefined//selectedFilter\n}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}// export function validateEsignforRegistration(inputParam) {\n//     return (dispatch) => {\n//         dispatch(initRequest(true));\n//         return rsapi.post(\"login/validateEsignCredential\", inputParam.inputData)\n//             .then(response => {\n//                 if (response.data === \"Success\") {\n//                     const methodUrl = \"registration\";\n//                     inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"] = inputParam.inputData.userinfo;\n//                     if (inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()] &&\n//                         inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]) {\n//                         delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]\n//                         delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"]\n//                         delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"]\n//                     }\n//                     //dispatch(inputParam[\"screenData\"][\"inputParam\"].performAction(inputParam[\"screenData\"][\"inputParam\"], inputParam[\"screenData\"][\"masterData\"]))\n//                     dispatch(dispatchMethods(inputParam[\"screenData\"]))\n//                 }\n//             })\n//             .catch(error => {\n//                 dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\n//                 if (error.response.status === 500) {\n//                     toast.error(error.message);\n//                 }\n//                 else {\n//                     toast.warn(error.response.data);\n//                 }\n//             })\n//     };\n// }\n// function dispatchMethods(screenData) {\n//     return (dispatch) => {\n//         let action = screenData.inputParam.action\n//         switch (action) {\n//             case \"preregister\":\n//                 dispatch(insertRegistration(screenData.inputParam, screenData.masterData));\n//                 break;\n//             case \"editSample\":\n//                 dispatch(updateRegistration(screenData.inputParam, screenData.masterData, 'openModal'));\n//                 break;\n//             case \"accept\":\n//                 dispatch(acceptRegistration(screenData.inputParam, screenData.masterData));\n//                 break;\n//             case \"quarantine\":\n//                 dispatch(preregRecordToQuarantine(screenData.inputParam, screenData.masterData));\n//                 break;\n//             case \"cancelTest\":\n//                 dispatch(cancelTestAction(screenData.inputParam, screenData.masterData));\n//                 break;\n//             case \"cancelSample\":\n//                 dispatch(cancelSampleAction(screenData.inputParam, screenData.masterData));\n//                 break;\n//             case \"addregsourcecountry\":\n//                 dispatch(crudMaster(screenData.inputParam, screenData.masterData, \"openModal\"))\n//                 break;\n//             case \"deleteregsourcecountry\":\n//                 dispatch(crudMaster(screenData.inputParam, screenData.masterData, \"openModal\"))\n//                 break;\n//             case \"printer\":\n//                 dispatch(crudMaster(screenData.inputParam, screenData.masterData, \"openModal\"))\n//                 break;\n//             default:\n//                 break;\n//         }\n//     }\n// }\nexport function getTreeByProduct(Map,selectedRecord,comboData,inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/registration/getTreeByProduct\",Map).then(function(response){var _ref=[],Specification=_ref.Specification,AgaramTree=_ref.AgaramTree,ActiveKey=_ref.ActiveKey,FocusKey=_ref.FocusKey,OpenNodes=_ref.OpenNodes,Manufacturer=_ref.Manufacturer;var selectedSpec={};if(response.data[\"rtn\"]===true){Specification=constructOptionList(response.data[\"Specification\"]||[],\"nallottedspeccode\",\"sspecname\",undefined,undefined,true).get(\"OptionList\");AgaramTree=response.data[\"AgaramTree\"];ActiveKey=response.data[\"ActiveKey\"];FocusKey=response.data[\"FocusKey\"];OpenNodes=response.data[\"OpenNodes\"];//Manufacturer = response.data[\"Manufacturer\"];\nselectedSpec[\"nallottedspeccode\"]=Specification.length>0?{\"value\":Specification[0].value,\"label\":Specification[0].label}:\"\";selectedSpec[\"sversion\"]=Specification.length>0?Specification[0].item.sversion:\"\";selectedSpec[\"ntemplatemanipulationcode\"]=Specification.length>0?Specification[0].item.ntemplatemanipulationcode:-1;}selectedRecord=_objectSpread(_objectSpread({},selectedRecord),selectedSpec);dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({Specification:Specification,selectedRecord:selectedRecord,AgaramTree:AgaramTree,ActiveKey:ActiveKey,FocusKey:FocusKey,OpenNodes:OpenNodes,Test:[],SelectedTest:[],loading:false,comboData:comboData},inputParam),{},{selectedSpec:selectedSpec,Component:[],selectComponent:{},selectedComponent:{}})});}).catch(function(error){toast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export var getNewRegSpecification=function getNewRegSpecification(inputParam,masterData){return function(dispatch){if(inputParam.selectedNode!==null){dispatch(initRequest(true));rsapi.post(\"/registration/\"+inputParam.operation+inputParam.methodUrl,_objectSpread(_objectSpread({},inputParam),{},{ntreetemplatemanipulationcode:inputParam.selectedNode.ntemplatemanipulationcode})).then(function(response){sortData(response.data);var Specification=constructOptionList(response.data||[],\"nallottedspeccode\",\"sspecname\",false,false,true).get(\"OptionList\");var selectedComponent=undefined;inputParam.selectedRecord[\"nallottedspeccode\"]=Specification.length>0?{value:Specification[0].value,label:Specification[0].label,item:Specification[0].item}:\"\";inputParam.selectedRecord[\"sversion\"]=Specification.length>0?Specification[0].item.sversion:\"\";inputParam.selectedRecord[\"ntemplatemanipulationcode\"]=Specification.length>0?Specification[0].item.ntemplatemanipulationcode:-1;dispatch({type:DEFAULT_RETURN,payload:{ActiveKey:inputParam.activeKey,FocusKey:inputParam.focusKey,primaryKey:inputParam.primaryKey,Specification:Specification,selectedNode:inputParam.selectedNode,selectedRecord:inputParam.selectedRecord,Test:[],selectedComponent:selectedComponent,SelectedTest:[],loading:false,showSample:undefined}});}).catch(function(error){if(error.response.status===409||error.response.status===417){toast.warn(error.response.data);}else{toast.error(error.message);}});}};};export function AddComponents(Map){return function(dispatch){dispatch(initRequest(true));var urlArray=[];var ComponentTestBySpec=rsapi.post(\"/registration/getComponentBySpec\",Map);var timezone=rsapi.post(\"timezone/getTimeZone\");urlArray=[ComponentTestBySpec,timezone];Axios.all(urlArray).then(function(response){var lstComponentMap=constructOptionList(response[0].data.lstComponent||[],\"ncomponentcode\",\"scomponentname\",undefined,undefined,true);var timeZoneListMap=constructOptionList(response[1].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var lstComponent=lstComponentMap.get(\"OptionList\");var timeZoneList=timeZoneListMap.get(\"OptionList\");var dreceiveddate=null;if(lstComponent[0].item.sreceiveddate)dreceiveddate=rearrangeDateFormat(Map[\"userinfo\"],lstComponent[0].item.sreceiveddate);//new Date(lstComponent[0].item.sreceiveddate);//|| [];\nvar selectComponent={sreceiveddate:dreceiveddate,dreceiveddate:dreceiveddate,ntzdreceivedate:{\"label\":Map[\"userinfo\"].stimezoneid,\"value\":Map[\"userinfo\"].ntimezonecode},stzdreceivedate:Map[\"userinfo\"].stimezoneid,scomments:\"\",nallottedspeccode:lstComponent[0].item.nallottedspeccode};var CurrentTime=dreceiveddate;dispatch({type:DEFAULT_RETURN,payload:{loadComponent:true,lstComponent:lstComponent,dreceiveddate:dreceiveddate,ChildscreenName:\"Component\",showSaveContinue:true,openChildModal:false,childoperation:\"create\",selectComponent:selectComponent,parentPopUpSize:\"lg\",CurrentTime:CurrentTime,timeZoneList:timeZoneList,loading:false,openPortal:true,openModal:false}});}).catch(function(error){toast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export function getTest(objComponent,LoginProps,subSample,specBasedComponent){return function(dispatch){if(Object.keys(objComponent).length>0){dispatch(initRequest(true));rsapi.post(\"/registration/getTestfromDB\",{nspecsampletypecode:objComponent.nspecsampletypecode,slno:objComponent.slno,subSample:subSample,nallottedspeccode:objComponent.nallottedspeccode,specBasedComponent:specBasedComponent}).then(function(response){var TestData=response.data;var Test=LoginProps.Test||[];var componentTest=Test[objComponent.slno]?Test[objComponent.slno]:[];var TestCombined=filterRecordBasedOnTwoArrays(TestData,componentTest,\"ntestgrouptestcode\");// const lstComponentMap = constructOptionList(TestCombined|| [], \"ntestgrouptestcode\",\n//\"stestsynonym\", undefined, undefined, true);\ndispatch({type:DEFAULT_RETURN,payload:{TestCombined:TestCombined,loadTest:true,openChildModal:false,ChildscreenName:\"Test\",childoperation:\"create\",parentPopUpSize:\"lg\",loading:false}});}).catch(function(error){toast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});}else{toast.warn(intl.formatMessage({id:\"IDS_SELECTCOMPONENTTOADDTEST\"}));}};}export function addsubSample(userinfo,specBasedComponent,Map){return function(dispatch){dispatch(initRequest(true));var urlArray=[];var Unit=rsapi.post(\"/unit/getUnit\",{userinfo:userinfo});var Componnet={};if(specBasedComponent===4){Componnet=rsapi.post(\"/component/getComponent\",{userinfo:userinfo});}else{Componnet=rsapi.post(\"/registration/getComponentBySpec\",Map);}urlArray=[Unit,Componnet];Axios.all(urlArray).then(function(response){var lstUnitMap=constructOptionList(response[0].data||[],\"nunitcode\",\"sunitname\",undefined,undefined,true);var comp=[];if(specBasedComponent===4){comp=response[1].data;}else{comp=response[1].data.lstComponent;}var lstComponentMap=constructOptionList(comp||[],\"ncomponentcode\",\"scomponentname\",undefined,undefined,true);var lstUnit=lstUnitMap.get(\"OptionList\");var lstComponent=lstComponentMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{ChildscreenName:\"SubSample\",showSaveContinue:true,openChildModal:false,childoperation:\"create\",parentPopUpSize:\"lg\",loading:false,lstComponent:lstComponent,openPortal:true,openModal:false,Unit:lstUnit,operation:\"create\",loadSubSample:true}});}).catch(function(error){toast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export function editSubSample(Map,component,userInfo,specBasedComponent){return function(dispatch){dispatch(initRequest(true));var urlArray=[];var Unit=rsapi.post(\"/unit/getUnit\",{userinfo:userInfo});var Componnet={};if(specBasedComponent===4){Componnet=rsapi.post(\"/component/getComponent\",{userinfo:userInfo});}else{Componnet=rsapi.post(\"/registration/getComponentBySpec\",Map);}urlArray=[Unit,Componnet];Axios.all(urlArray).then(function(response){var lstUnitMap=constructOptionList(response[0].data||[],\"nunitcode\",\"sunitname\",undefined,undefined,true);var comp=[];if(specBasedComponent===4){comp=response[1].data;}else{comp=response[1].data.lstComponent;}var lstComponentMap=constructOptionList(comp||[],\"ncomponentcode\",\"scomponentname\",undefined,undefined,true);var lstUnit=lstUnitMap.get(\"OptionList\");var lstComponent=lstComponentMap.get(\"OptionList\");component[\"nunitcode\"]={label:component.sunitname,value:component.nunitcode};component[\"ssubsamplename\"]=component[\"ssubsamplename\"];component[\"ssampleqty\"]=component[\"ssampleqty\"];component[\"scomments\"]=component[\"scomments\"];component[\"ncomponentcode\"]={label:component.scomponentname,value:component.ncomponentcode};dispatch({type:DEFAULT_RETURN,payload:{loadSubSample:true,childoperation:\"update\",ChildscreenName:\"SubSample\",Unit:lstUnit,openChildModal:false,selectComponent:component,parentPopUpSize:\"lg\",loading:false,lstComponent:lstComponent}});}).catch(function(error){toast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});});};}export function insertRegistration(inputParam,masterData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/registration/createRegistration\",inputParam.inputData).then(function(response){var _objectSpread5;// let RegistrationGetSample = updatedObjectWithNewElement(response.data[\"selectedSample\"], masterData.RegistrationGetSample);\n// let selectedSample = response.data[\"selectedSample\"];\n// let RegistrationGetSubSample = response.data[\"selectedSubSample\"];\n// let RegistrationGetTest = response.data[\"selectedTest\"];\n// let selectedSubSample = RegistrationGetSubSample;\n// RegistrationGetTest = sortData(RegistrationGetTest, \"npreregno\", \"desc\");\n// let selectedTest = RegistrationGetTest.length > 0 ? [RegistrationGetTest[0]] : [];\n// if (inputParam.multipleselectionFlag) {\n//     selectedSample = updatedObjectWithNewElement(response.data[\"selectedSample\"], masterData.selectedSample);\n//     updatedObjectWithNewElement(response.data[\"selectedSubSample\"], masterData.RegistrationGetSubSample);\n//     updatedObjectWithNewElement(response.data[\"selectedTest\"], masterData.RegistrationGetTest);\n//     RegistrationGetSubSample = masterData.RegistrationGetSubSample;\n//     RegistrationGetTest = masterData.RegistrationGetTest;\n// }\n// masterData = {\n//     ...masterData, ...response.data,\n//     selectedSample, selectedSubSample, selectedTest,\n//     RegistrationGetSubSample, RegistrationGetTest, RegistrationGetSample\n// }\nvar respObject=_objectSpread(_objectSpread({masterData:masterData},inputParam.inputData),{},(_objectSpread5={openModal:false,loadEsign:false,showConfirmAlert:false,selectedRecord:undefined,loading:false,loadPreregister:false,showSample:undefined,openPortal:false,selectedSpec:{},selectComponent:{},SelectedTest:{},selectedComponent:{},Component:[]},_defineProperty(_objectSpread5,\"selectedRecord\",{}),_defineProperty(_objectSpread5,\"SelectedTest\",[]),_defineProperty(_objectSpread5,\"Test\",[]),_defineProperty(_objectSpread5,\"selectedComponent\",{}),_objectSpread5));inputParam.postParamList[0]['clearFilter']='yes';dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList,respObject));}).catch(function(error){// console.log(error);\ntoast.error(error.message);dispatch({type:DEFAULT_RETURN,payload:{loading:false,showConfirmAlert:false}});});};}","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/actions/RegistrationAction.js"],"names":["rsapi","Axios","toast","filterRecordBasedOnTwoArrays","sortData","rearrangeDateFormat","convertDateTimetoString","DEFAULT_RETURN","intl","initRequest","RegistrationSubType","RegistrationType","transactionStatus","crudMaster","postCRUDOrganiseTransSearch","getTestChildTabDetail","constructOptionList","getSampleTypeChange","Map","masterData","event","labelname","dispatch","post","then","response","data","item","type","payload","loading","catch","error","message","getRegTypeChange","getRegSubTypeChange","getComponentTestBySpec","selectedRecord","Component","Test","slno","length","selectedComponent","undefined","SelectedTest","SelectedSource","Object","keys","popUptestDataState","skip","take","Source","getTestfromDB","objComponent","LoginProps","nflag","component","value","label","dreceiveddate","userInfo","nspecsampletypecode","TestData","loadComponent","selectComponent","showSaveContinue","parentPopUpSize","CurrentTime","unshift","EditComponent","urlArray","ComponentTestBySpec","timezone","all","lstComponentMap","lstComponent","timeZoneListMap","TimeZoneField","get","timeZoneList","scomponentname","ncomponentcode","ntzdreceivedate","findIndex","x","ntimezonecode","stimezoneid","childoperation","ChildscreenName","openChildModal","ReloadData","inputData","searchSampleRef","current","searchSubSampleRef","searchTestRef","showFilter","testskip","testtake","showSample","status","warn","getTreeByProduct","comboData","inputParam","Specification","AgaramTree","ActiveKey","FocusKey","OpenNodes","Manufacturer","selectedSpec","sversion","ntemplatemanipulationcode","getNewRegSpecification","selectedNode","operation","methodUrl","ntreetemplatemanipulationcode","activeKey","focusKey","primaryKey","AddComponents","sreceiveddate","stzdreceivedate","scomments","nallottedspeccode","openPortal","openModal","getTest","subSample","specBasedComponent","componentTest","TestCombined","loadTest","formatMessage","id","addsubSample","userinfo","Unit","Componnet","lstUnitMap","comp","lstUnit","loadSubSample","editSubSample","sunitname","nunitcode","insertRegistration","respObject","loadEsign","showConfirmAlert","loadPreregister","postParamList"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport Axios from 'axios';\r\nimport {\r\n    toast\r\n} from 'react-toastify';\r\nimport {\r\n    filterRecordBasedOnTwoArrays,  sortData,\r\n       rearrangeDateFormat, convertDateTimetoString\r\n} from '../components/CommonScript'\r\nimport {\r\n    DEFAULT_RETURN\r\n} from './LoginTypes';\r\nimport { intl } from '../components/App';\r\nimport { initRequest } from './LoginAction';\r\nimport { RegistrationSubType, RegistrationType, transactionStatus } from '../components/Enumeration';\r\nimport { crudMaster, postCRUDOrganiseTransSearch } from './ServiceAction'\r\nimport { getTestChildTabDetail } from './index.js'\r\nimport { constructOptionList } from '../components/CommonScript';\r\n\r\nexport function getSampleTypeChange(Map, masterData, event, labelname) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/registration/getRegTypeBySampleType\", Map)\r\n            .then(response => {\r\n                masterData = {\r\n                    ...masterData,\r\n                    ...response.data,\r\n                    [labelname]: { ...event.item }\r\n                };\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData, loading: false\r\n                    }\r\n                });\r\n\r\n            })\r\n            .catch(error => {\r\n                toast.error(error.message);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\nexport function getRegTypeChange(Map, masterData, event, labelname) {\r\n    return function (dispatch) {\r\n        rsapi.post(\"/registration/getRegSubTypeByRegType\", Map)\r\n            .then(response => {\r\n                // const RegistrationSubType = response.data[\"RegistrationSubType\"];\r\n\r\n                //  console.log(response.data);\r\n                // RegistrationSubType.length > 0 ?\r\n                //     selectedRecord[\"nregsubtypecode\"] = {\r\n                //         \"value\": RegistrationSubType[0].nregsubtypecode,\r\n                //         \"label\": RegistrationSubType[0].sregsubtypename\r\n                //     } : selectedRecord[\"nregsubtypecode\"] = \"\";\r\n                // const [labelname] = event.item;\r\n                masterData = {\r\n                    ...masterData,\r\n                    ...response.data,\r\n                    [labelname]: { ...event.item }\r\n                };\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData, loading: false\r\n                    }\r\n                });\r\n\r\n            })\r\n            .catch(error => {\r\n                toast.error(error.message);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\nexport function getRegSubTypeChange(Map, masterData, event, labelname) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/registration/getRegSubTypeByRegType\", Map)\r\n\r\n            .then(response => {\r\n                masterData = {\r\n                    ...masterData,\r\n                    ...response.data,\r\n                    [labelname]: { ...event.item }\r\n                };\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData, loading: false\r\n                    }\r\n                });\r\n\r\n            })\r\n            .catch(error => {\r\n                toast.error(error.message);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function getComponentTestBySpec(Map, selectedRecord, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/registration/getComponentTestBySpec\", Map)\r\n            .then(response => {\r\n                const { Component, Test } = response.data;\r\n                let slno = Component.length > 0 ? Component[0].slno : -1;\r\n                let selectedComponent = Component.length > 0 ? Component[0] : undefined\r\n                let SelectedTest = [];\r\n                let SelectedSource = [];\r\n\r\n                if (Object.keys(Test).length > 0) {\r\n                    SelectedTest = Test[slno];\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        Component, Test, SelectedTest, selectedComponent, loading: false,\r\n                        SelectedSource, selectedRecord, popUptestDataState: { skip: 0, take: 10 }, Source: []\r\n                    }\r\n                });\r\n\r\n            })\r\n            .catch(error => {\r\n                // console.log(error);\r\n                toast.error(error.message);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getTestfromDB(objComponent, LoginProps, nflag) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let component = { ...objComponent };\r\n        component[\"ncomponentcode\"] = objComponent[\"ncomponentcode\"] ? objComponent[\"ncomponentcode\"].value : -1;\r\n        component[\"nstoragelocationcode\"] = objComponent[\"nstoragelocationcode\"] ? objComponent[\"nstoragelocationcode\"].value : -1;\r\n        component[\"nstorageconditioncode\"] = objComponent[\"nstorageconditioncode\"] ? objComponent[\"nstorageconditioncode\"].value : -1;\r\n        component[\"slno\"] = LoginProps.Component ? Object.keys(LoginProps.Component).length + 1 : 0;\r\n        component[\"scomponentname\"] = objComponent[\"ncomponentcode\"].label;\r\n        component[\"sstoragelocationname\"] = objComponent[\"nstoragelocationcode\"] && objComponent[\"nstoragelocationcode\"].label ? objComponent[\"nstoragelocationcode\"].label : \"\";\r\n        component[\"sstorageconditionname\"] = objComponent[\"nstorageconditioncode\"] && objComponent[\"nstorageconditioncode\"].label ? objComponent[\"nstorageconditioncode\"].label : \"\";\r\n        component[\"ntzdmanufdate\"] = objComponent[\"ntzdmanufdate\"] ? objComponent[\"ntzdmanufdate\"].value : -1;\r\n        component[\"ntzdreceivedate\"] = objComponent[\"ntzdreceivedate\"] ? objComponent[\"ntzdreceivedate\"].value : -1;\r\n        component[\"stzdreceivedate\"] = objComponent[\"ntzdreceivedate\"] ? objComponent[\"ntzdreceivedate\"].label : \"\";\r\n        component[\"nplasmafilecode\"] = objComponent[\"nplasmafilecode\"] ? objComponent[\"nplasmafilecode\"].value : -1;\r\n        component[\"splasmafilenumber\"] = objComponent[\"nplasmafilecode\"] ? objComponent[\"nplasmafilecode\"].label : \"\";\r\n        const dreceiveddate = objComponent[\"dreceiveddate\"];\r\n        component[\"dreceiveddate\"] = dreceiveddate;//formatInputDate(objComponent[\"dreceiveddate\"], false);\r\n        component[\"sreceiveddate\"] = convertDateTimetoString(dreceiveddate, LoginProps.userInfo);//formatInputDateWithoutT(objComponent[\"dreceiveddate\"], false);//formatDate(objComponent[\"sreceiveddate\"]);\r\n        // rsapi.post(\"/registration/getTestfromDB\", { \"Component\": component })\r\n        rsapi.post(\"/registration/getTestfromDB\", {\r\n            nspecsampletypecode: component.nspecsampletypecode,\r\n            slno: component.slno\r\n        })\r\n            .then(response => {\r\n                let TestData = response.data;\r\n                let slno = component.slno;\r\n                let SelectedTest = [];\r\n                let loadComponent = true;\r\n                let selectComponent = {};\r\n                let showSaveContinue = true;\r\n                let SelectedSource = [];\r\n                // let openChildModal = true;\r\n                let selectedComponent = undefined;\r\n                let parentPopUpSize = \"lg\"\r\n                // selectComponent = objComponent\r\n                if (nflag === 1) {\r\n                    loadComponent = true;\r\n                    objComponent[\"smanuflotno\"] = \"\";\r\n                    objComponent[\"dreceiveddate\"] = rearrangeDateFormat(LoginProps.userInfo, LoginProps.CurrentTime)//new Date(LoginProps.CurrentTime);\r\n                    objComponent[\"sreceiveddate\"] = rearrangeDateFormat(LoginProps.userInfo, LoginProps.CurrentTime)//new Date(LoginProps.CurrentTime);\r\n                    selectComponent = objComponent;\r\n                } else {\r\n                    loadComponent = false;\r\n                    parentPopUpSize = \"xl\"\r\n                    // openChildModal = false;\r\n                    showSaveContinue = false;\r\n                    selectComponent = undefined\r\n                }\r\n                let Test = LoginProps.Test || [];\r\n                let Component = LoginProps.Component || [];\r\n                Component.unshift(component);\r\n                selectedComponent = component;\r\n                Test[slno] = response.data;\r\n                SelectedTest = TestData;\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        Component, Test, SelectedTest, selectComponent, selectedComponent,\r\n                        loadComponent, showSaveContinue, parentPopUpSize, loading: false, SelectedSource\r\n                    }\r\n                });\r\n                // console.log(response.data);\r\n            })\r\n            .catch(error => {\r\n                //   console.log(error);\r\n                toast.error(error.message);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\nexport function EditComponent(Map, component, userInfo) {\r\n\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let urlArray = [];\r\n        const ComponentTestBySpec = rsapi.post(\"/registration/getComponentBySpec\",\r\n            Map);\r\n\r\n        const timezone = rsapi.post(\"timezone/getTimeZone\");\r\n\r\n        urlArray = [ComponentTestBySpec, timezone]\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const lstComponentMap = constructOptionList(response[0].data.lstComponent || [], \"ncomponentcode\",\r\n                    \"scomponentname\", undefined, undefined, true);\r\n                const timeZoneListMap = constructOptionList(response[1].data || [], \"ntimezonecode\",\r\n                    \"stimezoneid\", undefined, undefined, true);\r\n                const TimeZoneField = response[1].data;\r\n                const lstComponent = lstComponentMap.get(\"OptionList\");\r\n                const timeZoneList = timeZoneListMap.get(\"OptionList\");\r\n\r\n                component[\"ncomponentcode\"] = { label: component.scomponentname, value: component.ncomponentcode }\r\n                component[\"dreceiveddate\"] = rearrangeDateFormat(userInfo, component[\"sreceiveddate\"]);\r\n                component[\"scomments\"] = component[\"scomments\"]\r\n\r\n                let ntzdreceivedate = component.ntzdreceivedate;\r\n                if (component.ntzdreceivedate !== null && typeof component.ntzdreceivedate === \"object\") {\r\n                    ntzdreceivedate = component.ntzdreceivedate.value;\r\n                }\r\n                component[\"ntzdreceivedate\"] = component.ntzdreceivedate ?\r\n                    {\r\n                        \"label\": TimeZoneField[TimeZoneField.findIndex(x => x.ntimezonecode === ntzdreceivedate)].stimezoneid, \"value\":\r\n                            TimeZoneField[TimeZoneField.findIndex(x => x.ntimezonecode === ntzdreceivedate)].ntimezonecode\r\n                    } : \"\"\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loadComponent: true, childoperation: \"update\",\r\n                        lstComponent, ChildscreenName: \"Component\",\r\n                        openChildModal: false, selectComponent: component, parentPopUpSize: \"lg\",\r\n                        timeZoneList, loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                toast.error(error.message);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function ReloadData(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"registration/getRegistrationByFilterSubmit\", { ...inputData.inputData })\r\n            .then(response => {\r\n                let masterData = {\r\n                    ...inputData.masterData,\r\n                    ...response.data\r\n                }\r\n                if (inputData.searchSampleRef !== undefined && inputData.searchSampleRef.current !== null) {\r\n                    inputData.searchSampleRef.current.value = \"\";\r\n                    masterData['searchedSample'] = undefined\r\n                }\r\n                if (inputData.searchSubSampleRef !== undefined && inputData.searchSubSampleRef.current !== null) {\r\n                    inputData.searchSubSampleRef.current.value = \"\";\r\n                    masterData['searchedSubSample'] = undefined\r\n                }\r\n                if (inputData.searchTestRef !== undefined && inputData.searchTestRef.current !== null) {\r\n                    inputData.searchTestRef.current.value = \"\"\r\n                    //masterData['searchedTests'] = undefined\r\n                    masterData['searchedTest'] = undefined\r\n                }\r\n                // let selectedFilter = inputData.selectedFilter;\r\n                // selectedFilter[\"fromdate\"] = \"\";\r\n                // selectedFilter[\"todate\"] = \"\";\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        showFilter: false,\r\n                        skip: 0,\r\n                        testskip: 0,\r\n                        take: undefined,\r\n                        testtake: undefined,\r\n                        showSample: undefined,\r\n                        //selectedFilter\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export function validateEsignforRegistration(inputParam) {\r\n//     return (dispatch) => {\r\n//         dispatch(initRequest(true));\r\n//         return rsapi.post(\"login/validateEsignCredential\", inputParam.inputData)\r\n//             .then(response => {\r\n//                 if (response.data === \"Success\") {\r\n\r\n//                     const methodUrl = \"registration\";\r\n//                     inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"] = inputParam.inputData.userinfo;\r\n\r\n//                     if (inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()] &&\r\n//                         inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]) {\r\n//                         delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]\r\n//                         delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"]\r\n//                         delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"]\r\n//                     }\r\n//                     //dispatch(inputParam[\"screenData\"][\"inputParam\"].performAction(inputParam[\"screenData\"][\"inputParam\"], inputParam[\"screenData\"][\"masterData\"]))\r\n//                     dispatch(dispatchMethods(inputParam[\"screenData\"]))\r\n//                 }\r\n//             })\r\n//             .catch(error => {\r\n//                 dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n//                 if (error.response.status === 500) {\r\n//                     toast.error(error.message);\r\n//                 }\r\n//                 else {\r\n//                     toast.warn(error.response.data);\r\n//                 }\r\n//             })\r\n//     };\r\n// }\r\n\r\n// function dispatchMethods(screenData) {\r\n//     return (dispatch) => {\r\n//         let action = screenData.inputParam.action\r\n//         switch (action) {\r\n//             case \"preregister\":\r\n//                 dispatch(insertRegistration(screenData.inputParam, screenData.masterData));\r\n//                 break;\r\n//             case \"editSample\":\r\n//                 dispatch(updateRegistration(screenData.inputParam, screenData.masterData, 'openModal'));\r\n//                 break;\r\n//             case \"accept\":\r\n//                 dispatch(acceptRegistration(screenData.inputParam, screenData.masterData));\r\n//                 break;\r\n//             case \"quarantine\":\r\n//                 dispatch(preregRecordToQuarantine(screenData.inputParam, screenData.masterData));\r\n//                 break;\r\n//             case \"cancelTest\":\r\n//                 dispatch(cancelTestAction(screenData.inputParam, screenData.masterData));\r\n//                 break;\r\n//             case \"cancelSample\":\r\n//                 dispatch(cancelSampleAction(screenData.inputParam, screenData.masterData));\r\n//                 break;\r\n//             case \"addregsourcecountry\":\r\n//                 dispatch(crudMaster(screenData.inputParam, screenData.masterData, \"openModal\"))\r\n//                 break;\r\n//             case \"deleteregsourcecountry\":\r\n//                 dispatch(crudMaster(screenData.inputParam, screenData.masterData, \"openModal\"))\r\n//                 break;\r\n//             case \"printer\":\r\n//                 dispatch(crudMaster(screenData.inputParam, screenData.masterData, \"openModal\"))\r\n//                 break;\r\n//             default:\r\n//                 break;\r\n//         }\r\n//     }\r\n// }\r\n\r\n\r\nexport function getTreeByProduct(Map, selectedRecord, comboData, inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/registration/getTreeByProduct\", Map)\r\n            .then(response => {\r\n                let { Specification, AgaramTree, ActiveKey, FocusKey, OpenNodes, Manufacturer } = [];\r\n                const selectedSpec = {}\r\n                if (response.data[\"rtn\"] === true) {\r\n                    Specification = constructOptionList(response.data[\"Specification\"] || [], \"nallottedspeccode\",\r\n                        \"sspecname\", undefined, undefined, true).get(\"OptionList\");\r\n                    AgaramTree = response.data[\"AgaramTree\"];\r\n                    ActiveKey = response.data[\"ActiveKey\"];\r\n                    FocusKey = response.data[\"FocusKey\"];\r\n                    OpenNodes = response.data[\"OpenNodes\"];\r\n                    //Manufacturer = response.data[\"Manufacturer\"];\r\n                    selectedSpec[\"nallottedspeccode\"] = Specification.length > 0 ? {\r\n                        \"value\": Specification[0].value,\r\n                        \"label\": Specification[0].label\r\n                    } : \"\";\r\n\r\n                    selectedSpec[\"sversion\"] = Specification.length > 0 ? Specification[0].item.sversion : \"\"\r\n                    selectedSpec[\"ntemplatemanipulationcode\"] = Specification.length > 0 ? Specification[0].item.ntemplatemanipulationcode : -1\r\n                }\r\n                selectedRecord = { ...selectedRecord, ...selectedSpec }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        Specification,\r\n                        selectedRecord,\r\n                        AgaramTree, ActiveKey, FocusKey, OpenNodes,\r\n                        Test: [],\r\n                        SelectedTest: [],\r\n                        loading: false,\r\n                        comboData,\r\n                        ...inputParam,\r\n                        selectedSpec,\r\n                        Component:[],\r\n                        selectComponent:{},\r\n                        selectedComponent:{}\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                toast.error(error.message);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\nexport const getNewRegSpecification = (inputParam, masterData) => {\r\n    return (dispatch) => {\r\n        if (inputParam.selectedNode !== null) {\r\n            dispatch(initRequest(true));\r\n            rsapi.post(\"/registration/\" + inputParam.operation + inputParam.methodUrl, { ...inputParam, ntreetemplatemanipulationcode: inputParam.selectedNode.ntemplatemanipulationcode })\r\n                .then(response => {\r\n                    sortData(response.data);\r\n                    let Specification = constructOptionList(response.data || [], \"nallottedspeccode\", \"sspecname\", false, false, true).get(\"OptionList\");\r\n                    let selectedComponent = undefined;\r\n                    inputParam.selectedRecord[\"nallottedspeccode\"] = Specification.length > 0 ? { value: Specification[0].value, label: Specification[0].label, item: Specification[0].item } : \"\";\r\n                    inputParam.selectedRecord[\"sversion\"] = Specification.length > 0 ? Specification[0].item.sversion : \"\";\r\n                    inputParam.selectedRecord[\"ntemplatemanipulationcode\"] = Specification.length > 0 ? Specification[0].item.ntemplatemanipulationcode : -1;\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            ActiveKey: inputParam.activeKey,\r\n                            FocusKey: inputParam.focusKey,\r\n                            primaryKey: inputParam.primaryKey,\r\n                            Specification: Specification,\r\n                            selectedNode: inputParam.selectedNode,\r\n                            selectedRecord: inputParam.selectedRecord,\r\n                            Test: [],\r\n                            selectedComponent,\r\n                            SelectedTest: [],\r\n                            loading: false,\r\n                            showSample: undefined\r\n                        }\r\n                    }\r\n                    );\r\n                })\r\n                .catch(error => {\r\n                    if (error.response.status === 409 || error.response.status === 417) {\r\n                        toast.warn(error.response.data);\r\n                    } else {\r\n                        toast.error(error.message)\r\n                    }\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function AddComponents(Map) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let urlArray = []\r\n        const ComponentTestBySpec = rsapi.post(\"/registration/getComponentBySpec\",\r\n            Map);\r\n        const timezone = rsapi.post(\"timezone/getTimeZone\");\r\n\r\n        urlArray = [ComponentTestBySpec, timezone\r\n        ]\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const lstComponentMap = constructOptionList(response[0].data.lstComponent || [], \"ncomponentcode\",\r\n                    \"scomponentname\", undefined, undefined, true);\r\n                const timeZoneListMap = constructOptionList(response[1].data || [], \"ntimezonecode\",\r\n                    \"stimezoneid\", undefined, undefined, true);\r\n                const lstComponent = lstComponentMap.get(\"OptionList\");\r\n                const timeZoneList = timeZoneListMap.get(\"OptionList\");\r\n                let dreceiveddate = null;\r\n                if (lstComponent[0].item.sreceiveddate)\r\n                    dreceiveddate = rearrangeDateFormat(Map[\"userinfo\"], lstComponent[0].item.sreceiveddate);//new Date(lstComponent[0].item.sreceiveddate);//|| [];\r\n\r\n                let selectComponent = {\r\n                    sreceiveddate: dreceiveddate,\r\n                    dreceiveddate,\r\n                    ntzdreceivedate: { \"label\": Map[\"userinfo\"].stimezoneid, \"value\": Map[\"userinfo\"].ntimezonecode },\r\n                    stzdreceivedate: Map[\"userinfo\"].stimezoneid,\r\n                    scomments: \"\",\r\n                    nallottedspeccode: lstComponent[0].item.nallottedspeccode\r\n                };\r\n                let CurrentTime = dreceiveddate;\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loadComponent: true,\r\n                        lstComponent, dreceiveddate, ChildscreenName: \"Component\",\r\n                        showSaveContinue: true, openChildModal: false, childoperation: \"create\", selectComponent\r\n                        , parentPopUpSize: \"lg\", CurrentTime, timeZoneList, loading: false,\r\n                        openPortal: true, openModal: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                toast.error(error.message);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\nexport function getTest(objComponent, LoginProps, subSample, specBasedComponent) {\r\n    return function (dispatch) {\r\n        if (Object.keys(objComponent).length > 0) {\r\n            dispatch(initRequest(true));\r\n            rsapi.post(\"/registration/getTestfromDB\", {\r\n                nspecsampletypecode: objComponent.nspecsampletypecode,\r\n                slno: objComponent.slno,\r\n                subSample: subSample,\r\n                nallottedspeccode: objComponent.nallottedspeccode,\r\n                specBasedComponent: specBasedComponent\r\n\r\n            })\r\n                .then(response => {\r\n                    let TestData = response.data;\r\n                    let Test = LoginProps.Test || [];\r\n                    let componentTest = Test[objComponent.slno] ? Test[objComponent.slno] : [];\r\n                    const TestCombined = filterRecordBasedOnTwoArrays(TestData, componentTest, \"ntestgrouptestcode\");\r\n                    // const lstComponentMap = constructOptionList(TestCombined|| [], \"ntestgrouptestcode\",\r\n                    //\"stestsynonym\", undefined, undefined, true);\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            TestCombined, loadTest: true, openChildModal: false, ChildscreenName: \"Test\",\r\n                            childoperation: \"create\", parentPopUpSize: \"lg\", loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    toast.error(error.message);\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                })\r\n        } else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_SELECTCOMPONENTTOADDTEST\" }));\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function addsubSample(userinfo, specBasedComponent,Map) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let urlArray = []\r\n        const Unit = rsapi.post(\"/unit/getUnit\",\r\n            { userinfo })\r\n        let Componnet = {}\r\n        if (specBasedComponent === 4) {\r\n            Componnet = rsapi.post(\"/component/getComponent\",\r\n                { userinfo })\r\n        } else {\r\n            Componnet = rsapi.post(\"/registration/getComponentBySpec\",\r\n                Map);\r\n        }\r\n        urlArray = [Unit, Componnet\r\n        ]\r\n        Axios.all(urlArray)\r\n\r\n            .then(response => {\r\n                const lstUnitMap = constructOptionList(response[0].data || [], \"nunitcode\",\r\n                    \"sunitname\", undefined, undefined, true);\r\n                   let comp=[]\r\n                    if (specBasedComponent === 4) {\r\n                        comp=response[1].data\r\n                    }else{\r\n                        comp=response[1].data.lstComponent\r\n                    }\r\n                const lstComponentMap = constructOptionList(comp || [], \"ncomponentcode\",\r\n                    \"scomponentname\", undefined, undefined, true);\r\n                const lstUnit = lstUnitMap.get(\"OptionList\");\r\n                const lstComponent = lstComponentMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        ChildscreenName: \"SubSample\",\r\n                        showSaveContinue: true, openChildModal: false, childoperation: \"create\"\r\n                        , parentPopUpSize: \"lg\", loading: false, lstComponent,\r\n                        openPortal: true, openModal: false, Unit: lstUnit,\r\n                        operation: \"create\", loadSubSample: true\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                toast.error(error.message);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function editSubSample(Map, component, userInfo,specBasedComponent) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let urlArray = []\r\n        const Unit = rsapi.post(\"/unit/getUnit\",\r\n            { userinfo: userInfo })\r\n            let Componnet={}\r\n            if (specBasedComponent === 4) {\r\n                Componnet = rsapi.post(\"/component/getComponent\",\r\n                    { userinfo:userInfo })\r\n            } else {\r\n                Componnet = rsapi.post(\"/registration/getComponentBySpec\",\r\n                    Map);\r\n            }\r\n\r\n        urlArray = [Unit, Componnet\r\n        ]\r\n        Axios.all(urlArray)\r\n\r\n            .then(response => {\r\n                const lstUnitMap = constructOptionList(response[0].data || [], \"nunitcode\",\r\n                    \"sunitname\", undefined, undefined, true);\r\n                    let comp=[]\r\n                    if (specBasedComponent === 4) {\r\n                        comp=response[1].data\r\n                    }else{\r\n                        comp=response[1].data.lstComponent\r\n                    }\r\n                const lstComponentMap = constructOptionList(comp|| [], \"ncomponentcode\",\r\n                    \"scomponentname\", undefined, undefined, true);\r\n                const lstUnit = lstUnitMap.get(\"OptionList\");\r\n                const lstComponent = lstComponentMap.get(\"OptionList\");\r\n\r\n                component[\"nunitcode\"] = { label: component.sunitname, value: component.nunitcode }\r\n                component[\"ssubsamplename\"] = component[\"ssubsamplename\"];\r\n                component[\"ssampleqty\"] = component[\"ssampleqty\"];\r\n                component[\"scomments\"] = component[\"scomments\"]\r\n                component[\"ncomponentcode\"] = { label: component.scomponentname, value: component.ncomponentcode }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loadSubSample: true, childoperation: \"update\",\r\n                        ChildscreenName: \"SubSample\", Unit: lstUnit,\r\n                        openChildModal: false, selectComponent: component,\r\n                        parentPopUpSize: \"lg\", loading: false, lstComponent\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                toast.error(error.message);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n            })\r\n    }\r\n}\r\n\r\nexport function insertRegistration(inputParam, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/registration/createRegistration\", inputParam.inputData)\r\n            .then(response => {\r\n                    // let RegistrationGetSample = updatedObjectWithNewElement(response.data[\"selectedSample\"], masterData.RegistrationGetSample);\r\n                    // let selectedSample = response.data[\"selectedSample\"];\r\n                    // let RegistrationGetSubSample = response.data[\"selectedSubSample\"];\r\n                    // let RegistrationGetTest = response.data[\"selectedTest\"];\r\n                    // let selectedSubSample = RegistrationGetSubSample;\r\n                    // RegistrationGetTest = sortData(RegistrationGetTest, \"npreregno\", \"desc\");\r\n                    // let selectedTest = RegistrationGetTest.length > 0 ? [RegistrationGetTest[0]] : [];\r\n                    // if (inputParam.multipleselectionFlag) {\r\n                    //     selectedSample = updatedObjectWithNewElement(response.data[\"selectedSample\"], masterData.selectedSample);\r\n                    //     updatedObjectWithNewElement(response.data[\"selectedSubSample\"], masterData.RegistrationGetSubSample);\r\n                    //     updatedObjectWithNewElement(response.data[\"selectedTest\"], masterData.RegistrationGetTest);\r\n                    //     RegistrationGetSubSample = masterData.RegistrationGetSubSample;\r\n                    //     RegistrationGetTest = masterData.RegistrationGetTest;\r\n                    // }\r\n\r\n                    // masterData = {\r\n                    //     ...masterData, ...response.data,\r\n                    //     selectedSample, selectedSubSample, selectedTest,\r\n                    //     RegistrationGetSubSample, RegistrationGetTest, RegistrationGetSample\r\n                    // }\r\n                    let respObject = {\r\n                        masterData,\r\n                        ...inputParam.inputData,\r\n                        openModal: false,\r\n                        loadEsign: false,\r\n                        showConfirmAlert: false,\r\n                        selectedRecord: undefined,\r\n                        loading: false,\r\n                        loadPreregister: false,\r\n                        showSample: undefined,\r\n                        openPortal:false,\r\n                        selectedSpec:{},\r\n                        selectComponent:{},\r\n                        SelectedTest:{},\r\n                        selectedComponent:{},\r\n                        Component:[],\r\n                        selectedRecord:{},\r\n                        SelectedTest:[],\r\n                        Test:[],\r\n                        selectedComponent:{}\r\n                    }\r\n                    inputParam.postParamList[0]['clearFilter'] = 'yes'\r\n                    dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList, respObject))\r\n            })\r\n            .catch(error => {\r\n                // console.log(error);\r\n                toast.error(error.message);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false, showConfirmAlert: false } })\r\n            })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}