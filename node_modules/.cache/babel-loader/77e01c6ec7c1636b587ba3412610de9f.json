{"ast":null,"code":"/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"spel2js\"] = factory();else root[\"spel2js\"] = factory();\n})(this, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            /******/\n            configurable: false,\n\n            /******/\n            enumerable: true,\n\n            /******/\n            get: getter\n            /******/\n\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 3);\n      /******/\n    }([\n      /* 0 */\n\n      /***/\n\n      /* 1 */\n\n      /***/\n\n      /* 2 */\n\n      /***/\n\n      /* 3 */\n\n      /***/\n\n      /* 4 */\n\n      /***/\n\n      /* 5 */\n\n      /***/\n\n      /* 6 */\n\n      /***/\n\n      /* 7 */\n\n      /***/\n\n      /* 8 */\n\n      /***/\n\n      /* 9 */\n\n      /***/\n\n      /* 10 */\n\n      /***/\n\n      /* 11 */\n\n      /***/\n\n      /* 12 */\n\n      /***/\n\n      /* 13 */\n\n      /***/\n\n      /* 14 */\n\n      /***/\n\n      /* 15 */\n\n      /***/\n\n      /* 16 */\n\n      /***/\n\n      /* 17 */\n\n      /***/\n\n      /* 18 */\n\n      /***/\n\n      /* 19 */\n\n      /***/\n\n      /* 20 */\n\n      /***/\n\n      /* 21 */\n\n      /***/\n\n      /* 22 */\n\n      /***/\n\n      /* 23 */\n\n      /***/\n\n      /* 24 */\n\n      /***/\n\n      /* 25 */\n\n      /***/\n\n      /* 26 */\n\n      /***/\n\n      /* 27 */\n\n      /***/\n\n      /* 28 */\n\n      /***/\n\n      /* 29 */\n\n      /***/\n\n      /* 30 */\n\n      /***/\n\n      /* 31 */\n\n      /***/\n\n      /* 32 */\n\n      /***/\n\n      /* 33 */\n\n      /***/\n\n      /* 34 */\n\n      /***/\n\n      /* 35 */\n\n      /***/\n\n      /* 36 */\n\n      /***/\n\n      /* 37 */\n\n      /***/\n\n      /* 38 */\n\n      /***/\n\n      /* 39 */\n\n      /***/\n\n      /* 40 */\n\n      /***/\n\n      /* 41 */\n\n      /***/\n\n      /* 42 */\n\n      /***/\n\n      /* 43 */\n\n      /***/\n\n      /* 44 */\n\n      /***/\n\n      /* 45 */\n\n      /***/\n\n      /* 46 */\n\n      /***/\n\n      /* 47 */\n\n      /***/\n\n      /* 48 */\n\n      /***/\n\n      /* 49 */\n\n      /***/\n\n      /* 50 */\n\n      /***/\n\n      /******/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * The common supertype of all AST nodes in a parsed Spring Expression Language\n       * format expression.\n       *\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n      function createSpelNode(nodeType, position) {\n        var node = {},\n            type = nodeType || 'Abstract',\n            children = [],\n            parent = null,\n            activeContext;\n        node._type = type;\n\n        node.getType = function () {\n          return type;\n        };\n\n        node.setType = function (nodeType) {\n          type = nodeType;\n        };\n\n        node.getChildren = function () {\n          return children;\n        };\n\n        node.addChild = function (childNode) {\n          if (!childNode) {\n            // See OpMinus and OpPlus: right node can be null for unary mode\n            return;\n          }\n\n          if (!childNode.setParent) {\n            throw {\n              name: 'Error',\n              message: 'Trying to add a child which is not a node: ' + JSON.stringify(childNode)\n            };\n          }\n\n          childNode.setParent(node);\n          children.push(childNode);\n        };\n\n        node.getParent = function () {\n          return parent;\n        };\n\n        node.setParent = function (parentNode) {\n          parent = parentNode;\n        };\n\n        node.getContext = function (state) {\n          return activeContext || state.activeContext.peek();\n        };\n\n        node.setContext = function (nodeContext) {\n          activeContext = nodeContext;\n        };\n\n        node.getStartPosition = function () {\n          return position >> 16;\n        };\n\n        node.getEndPosition = function () {\n          return position & 0xffff;\n        }; //must override\n\n\n        node.getValue = function () {\n          throw {\n            name: 'MethodNotImplementedException',\n            message: 'SpelNode#getValue() must be overridden.'\n          };\n        };\n\n        node.toString = function () {\n          var s = 'Kind: ' + node.getType(); //s += ', Value: ' + node.getValue();\n\n          s += ', Children: [';\n\n          for (var i = 0, l = node.getChildren().length; i < l; i += 1) {\n            s += '{' + node.getChildren()[i] + '}, ';\n          }\n\n          s += ']';\n          return s;\n        }; //constructor\n\n\n        if (position === 0) {\n          throw {\n            name: 'Error',\n            message: 'Position cannot be 0'\n          };\n        }\n\n        for (var _len = arguments.length, operands = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n          operands[_key - 2] = arguments[_key];\n        }\n\n        if (operands) {\n          operands.forEach(function (operand) {\n            node.addChild(operand);\n          });\n        }\n\n        return node;\n      }\n\n      var SpelNode = exports.SpelNode = {\n        create: createSpelNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Stack = Stack;\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n      function Stack(startingElements) {\n        this.elements = startingElements || [];\n      }\n\n      Stack.prototype.push = function (el) {\n        this.elements.push(el);\n        return el;\n      };\n\n      Stack.prototype.pop = function () {\n        return this.elements.pop();\n      };\n\n      Stack.prototype.peek = function () {\n        return this.elements[this.elements.length - 1];\n      };\n\n      Stack.prototype.empty = function () {\n        return this.elements.length > 0;\n      };\n\n      Stack.prototype.search = function (el) {\n        return this.elements.length - this.elements.indexOf(el);\n      };\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n      var types = {\n        LITERAL_INT: 1,\n        //tested\n        LITERAL_LONG: 2,\n        //tested\n        LITERAL_HEXINT: 3,\n        //tested\n        LITERAL_HEXLONG: 4,\n        //tested\n        LITERAL_STRING: 5,\n        //tested\n        LITERAL_REAL: 6,\n        //tested\n        LITERAL_REAL_FLOAT: 7,\n        //tested\n        LPAREN: '(',\n        //tested\n        RPAREN: ')',\n        //tested\n        COMMA: ',',\n        //tested\n        IDENTIFIER: 0,\n        //tested\n        COLON: ':',\n        //tested\n        HASH: '#',\n        //tested\n        RSQUARE: ']',\n        //tested\n        LSQUARE: '[',\n        //tested\n        LCURLY: '{',\n        //tested\n        RCURLY: '}',\n        //tested\n        DOT: '.',\n        //tested\n        PLUS: '+',\n        //tested\n        STAR: '*',\n        //tested\n        MINUS: '-',\n        //tested\n        SELECT_FIRST: '^[',\n        //tested\n        SELECT_LAST: '$[',\n        //tested\n        QMARK: '?',\n        //tested\n        PROJECT: '![',\n        //tested\n        DIV: '/',\n        //tested\n        GE: '>=',\n        //tested\n        GT: '>',\n        //tested\n        LE: '<=',\n        //tested\n        LT: '<',\n        //tested\n        EQ: '==',\n        //tested\n        NE: '!=',\n        //tested\n        MOD: '%',\n        //tested\n        NOT: '!',\n        //tested\n        ASSIGN: '=',\n        //tested\n        INSTANCEOF: 'instanceof',\n        //test fails\n        MATCHES: 'matches',\n        //test fails\n        BETWEEN: 'between',\n        //test fails\n        SELECT: '?[',\n        //tested\n        POWER: '^',\n        //tested\n        ELVIS: '?:',\n        //tested\n        SAFE_NAVI: '?.',\n        //tested\n        BEAN_REF: '@',\n        //tested\n        SYMBOLIC_OR: '||',\n        //tested\n        SYMBOLIC_AND: '&&',\n        //tested\n        INC: '++',\n        //tested\n        DEC: '--' //tested\n\n      };\n\n      function TokenKind(type) {\n        this.type = type;\n        this.tokenChars = types[type];\n        this._hasPayload = typeof types[type] !== 'string';\n\n        if (typeof types[type] === 'number') {\n          this._ordinal = types[type];\n        }\n      } //create enum\n\n\n      for (var t in types) {\n        if (types.hasOwnProperty(t)) {\n          TokenKind[t] = new TokenKind(t);\n        }\n      }\n\n      TokenKind.prototype.toString = function () {\n        return this.type + (this.tokenChars.length !== 0 ? '(' + this.tokenChars + ')' : '');\n      };\n\n      TokenKind.prototype.getLength = function () {\n        return this.tokenChars.length;\n      };\n\n      TokenKind.prototype.hasPayload = function () {\n        return this._hasPayload;\n      };\n\n      TokenKind.prototype.valueOf = function (id) {\n        for (var t in types) {\n          if (types.hasOwnProperty(t) && types[t] === id) {\n            return TokenKind[t];\n          }\n        }\n      };\n\n      TokenKind.prototype.ordinal = function () {\n        return this._ordinal;\n      };\n\n      exports.TokenKind = TokenKind;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.StandardContext = exports.SpelExpressionEvaluator = undefined;\n\n      var _SpelExpressionEvaluator = __webpack_require__(4);\n\n      var _StandardContext = __webpack_require__(50);\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      exports.SpelExpressionEvaluator = _SpelExpressionEvaluator.SpelExpressionEvaluator;\n      exports.StandardContext = _StandardContext.StandardContext;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SpelExpressionEvaluator = undefined;\n\n      var _SpelExpressionParser = __webpack_require__(5);\n\n      var _Stack = __webpack_require__(1);\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      var spelExpressionEvaluator = {};\n\n      function evalCompiled(compiledExpression, context, locals) {\n        var activeContext = new _Stack.Stack(),\n            state;\n\n        if (!context) {\n          context = {};\n        }\n\n        activeContext.push(context);\n        state = {\n          rootContext: context,\n          activeContext: activeContext,\n          locals: locals\n        };\n        return compiledExpression.getValue(state);\n      }\n\n      spelExpressionEvaluator.compile = function (expression) {\n        var compiledExpression = (0, _SpelExpressionParser.SpelExpressionParser)().parse(expression);\n        return {\n          eval: function _eval(context, locals) {\n            return evalCompiled(compiledExpression, context, locals);\n          },\n          _compiledExpression: compiledExpression\n        };\n      };\n\n      spelExpressionEvaluator.eval = function (expression, context, locals) {\n        return spelExpressionEvaluator.compile(expression).eval(context, locals);\n      };\n\n      exports.SpelExpressionEvaluator = spelExpressionEvaluator;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SpelExpressionParser = undefined;\n\n      var _TokenKind = __webpack_require__(2);\n\n      var _Tokenizer = __webpack_require__(6);\n\n      var _BooleanLiteral = __webpack_require__(8);\n\n      var _NumberLiteral = __webpack_require__(9);\n\n      var _StringLiteral = __webpack_require__(10);\n\n      var _NullLiteral = __webpack_require__(11);\n\n      var _FunctionReference = __webpack_require__(12);\n\n      var _MethodReference = __webpack_require__(13);\n\n      var _PropertyReference = __webpack_require__(14);\n\n      var _VariableReference = __webpack_require__(15);\n\n      var _CompoundExpression = __webpack_require__(16);\n\n      var _Indexer = __webpack_require__(17);\n\n      var _Assign = __webpack_require__(18);\n\n      var _OpEQ = __webpack_require__(19);\n\n      var _OpNE = __webpack_require__(20);\n\n      var _OpGE = __webpack_require__(21);\n\n      var _OpGT = __webpack_require__(22);\n\n      var _OpLE = __webpack_require__(23);\n\n      var _OpLT = __webpack_require__(24);\n\n      var _OpPlus = __webpack_require__(25);\n\n      var _OpMinus = __webpack_require__(26);\n\n      var _OpMultiply = __webpack_require__(27);\n\n      var _OpDivide = __webpack_require__(28);\n\n      var _OpModulus = __webpack_require__(29);\n\n      var _OpPower = __webpack_require__(30);\n\n      var _OpInc = __webpack_require__(31);\n\n      var _OpDec = __webpack_require__(32);\n\n      var _OpNot = __webpack_require__(33);\n\n      var _OpAnd = __webpack_require__(34);\n\n      var _OpOr = __webpack_require__(35);\n\n      var _OpMatches = __webpack_require__(36);\n\n      var _Ternary = __webpack_require__(37);\n\n      var _Elvis = __webpack_require__(38);\n\n      var _InlineList = __webpack_require__(39);\n\n      var _InlineMap = __webpack_require__(40);\n\n      var _Selection = __webpack_require__(41);\n\n      var _Projection = __webpack_require__(42);\n\n      var _OpInstanceof = __webpack_require__(43);\n\n      var _OpBetween = __webpack_require__(44);\n\n      var _TypeReference = __webpack_require__(45);\n\n      var _BeanReference = __webpack_require__(46);\n\n      var _Identifier = __webpack_require__(47);\n\n      var _QualifiedIdentifier = __webpack_require__(48);\n\n      var _ConstructorReference = __webpack_require__(49);\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Ben March\n       * @since 0.2.0\n       *\n       */\n\n\n      var SpelExpressionParser = exports.SpelExpressionParser = function SpelExpressionParser() {\n        var VALID_QUALIFIED_ID_PATTERN = new RegExp('[\\\\p{L}\\\\p{N}_$]+');\n        var configuration; // For rules that build nodes, they are stacked here for return\n\n        var constructedNodes = []; // The expression being parsed\n\n        var expressionString; // The token stream constructed from that expression string\n\n        var tokenStream; // length of a populated token stream\n\n        var tokenStreamLength; // Current location in the token stream when processing tokens\n\n        var tokenStreamPointer;\n        /**\n         * Create a parser with some configured behavior.\n         * @param config custom configuration options\n         */\n\n        function setConfiguration(config) {\n          configuration = config;\n        }\n\n        function parse(expression, context) {\n          try {\n            expressionString = expression;\n            tokenStream = _Tokenizer.Tokenizer.tokenize(expression);\n            tokenStreamLength = tokenStream.length;\n            tokenStreamPointer = 0;\n            constructedNodes = [];\n            var ast = eatExpression();\n\n            if (moreTokens()) {\n              raiseInternalException(peekToken().startPos, 'MORE_INPUT', nextToken().toString());\n            } //Assert.isTrue(this.constructedNodes.isEmpty());\n\n\n            return ast;\n          } catch (e) {\n            throw e.message;\n          }\n        } //\texpression\n        //    : logicalOrExpression\n        //      ( (ASSIGN^ logicalOrExpression)\n        //\t    | (DEFAULT^ logicalOrExpression)\n        //\t    | (QMARK^ expression COLON! expression)\n        //      | (ELVIS^ expression))?;\n\n\n        function eatExpression() {\n          var expr = eatLogicalOrExpression();\n\n          if (moreTokens()) {\n            var token = peekToken();\n\n            if (token.getKind() === _TokenKind.TokenKind.ASSIGN) {\n              // a=b\n              if (expr === null) {\n                expr = _NullLiteral.NullLiteral.create(toPosBounds(token.startPos - 1, token.endPos - 1));\n              }\n\n              nextToken();\n              var assignedValue = eatLogicalOrExpression();\n              return _Assign.Assign.create(toPosToken(token), expr, assignedValue);\n            }\n\n            if (token.getKind() === _TokenKind.TokenKind.ELVIS) {\n              // a?:b (a if it isn't null, otherwise b)\n              if (expr === null) {\n                expr = _NullLiteral.NullLiteral.create(toPosBounds(token.startPos - 1, token.endPos - 2));\n              }\n\n              nextToken(); // elvis has left the building\n\n              var valueIfNull = eatExpression();\n\n              if (valueIfNull === null) {\n                valueIfNull = _NullLiteral.NullLiteral.create(toPosBounds(token.startPos + 1, token.endPos + 1));\n              }\n\n              return _Elvis.Elvis.create(toPosToken(token), expr, valueIfNull);\n            }\n\n            if (token.getKind() === _TokenKind.TokenKind.QMARK) {\n              // a?b:c\n              if (expr === null) {\n                expr = _NullLiteral.NullLiteral.create(toPosBounds(token.startPos - 1, token.endPos - 1));\n              }\n\n              nextToken();\n              var ifTrueExprValue = eatExpression();\n              eatToken(_TokenKind.TokenKind.COLON);\n              var ifFalseExprValue = eatExpression();\n              return _Ternary.Ternary.create(toPosToken(token), expr, ifTrueExprValue, ifFalseExprValue);\n            }\n          }\n\n          return expr;\n        } //logicalOrExpression : logicalAndExpression (OR^ logicalAndExpression)*;\n\n\n        function eatLogicalOrExpression() {\n          var expr = eatLogicalAndExpression();\n\n          while (peekIdentifierToken('or') || peekTokenOne(_TokenKind.TokenKind.SYMBOLIC_OR)) {\n            var token = nextToken(); //consume OR\n\n            var rhExpr = eatLogicalAndExpression();\n            checkOperands(token, expr, rhExpr);\n            expr = _OpOr.OpOr.create(toPosToken(token), expr, rhExpr);\n          }\n\n          return expr;\n        } // logicalAndExpression : relationalExpression (AND^ relationalExpression)*;\n\n\n        function eatLogicalAndExpression() {\n          var expr = eatRelationalExpression();\n\n          while (peekIdentifierToken('and') || peekTokenOne(_TokenKind.TokenKind.SYMBOLIC_AND)) {\n            var token = nextToken(); // consume 'AND'\n\n            var rhExpr = eatRelationalExpression();\n            checkOperands(token, expr, rhExpr);\n            expr = _OpAnd.OpAnd.create(toPosToken(token), expr, rhExpr);\n          }\n\n          return expr;\n        } // relationalExpression : sumExpression (relationalOperator^ sumExpression)?;\n\n\n        function eatRelationalExpression() {\n          var expr = eatSumExpression();\n          var relationalOperatorToken = maybeEatRelationalOperator();\n\n          if (relationalOperatorToken !== null) {\n            var token = nextToken(); // consume relational operator token\n\n            var rhExpr = eatSumExpression();\n            checkOperands(token, expr, rhExpr);\n            var tk = relationalOperatorToken.kind;\n\n            if (relationalOperatorToken.isNumericRelationalOperator()) {\n              var pos = toPosToken(token);\n\n              if (tk === _TokenKind.TokenKind.GT) {\n                return _OpGT.OpGT.create(pos, expr, rhExpr);\n              }\n\n              if (tk === _TokenKind.TokenKind.LT) {\n                return _OpLT.OpLT.create(pos, expr, rhExpr);\n              }\n\n              if (tk === _TokenKind.TokenKind.LE) {\n                return _OpLE.OpLE.create(pos, expr, rhExpr);\n              }\n\n              if (tk === _TokenKind.TokenKind.GE) {\n                return _OpGE.OpGE.create(pos, expr, rhExpr);\n              }\n\n              if (tk === _TokenKind.TokenKind.EQ) {\n                return _OpEQ.OpEQ.create(pos, expr, rhExpr);\n              } //Assert.isTrue(tk === TokenKind.NE);\n\n\n              return _OpNE.OpNE.create(pos, expr, rhExpr);\n            }\n\n            if (tk === _TokenKind.TokenKind.INSTANCEOF) {\n              return _OpInstanceof.OpInstanceof.create(toPosToken(token), expr, rhExpr);\n            }\n\n            if (tk === _TokenKind.TokenKind.MATCHES) {\n              return _OpMatches.OpMatches.create(toPosToken(token), expr, rhExpr);\n            } //Assert.isTrue(tk === TokenKind.BETWEEN);\n\n\n            return _OpBetween.OpBetween.create(toPosToken(token), expr, rhExpr);\n          }\n\n          return expr;\n        } //sumExpression: productExpression ( (PLUS^ | MINUS^) productExpression)*;\n\n\n        function eatSumExpression() {\n          var expr = eatProductExpression();\n\n          while (peekTokenAny(_TokenKind.TokenKind.PLUS, _TokenKind.TokenKind.MINUS, _TokenKind.TokenKind.INC)) {\n            var token = nextToken(); //consume PLUS or MINUS or INC\n\n            var rhExpr = eatProductExpression();\n            checkRightOperand(token, rhExpr);\n\n            if (token.getKind() === _TokenKind.TokenKind.PLUS) {\n              expr = _OpPlus.OpPlus.create(toPosToken(token), expr, rhExpr);\n            } else if (token.getKind() === _TokenKind.TokenKind.MINUS) {\n              expr = _OpMinus.OpMinus.create(toPosToken(token), expr, rhExpr);\n            }\n          }\n\n          return expr;\n        } // productExpression: powerExpr ((STAR^ | DIV^| MOD^) powerExpr)* ;\n\n\n        function eatProductExpression() {\n          var expr = eatPowerIncDecExpression();\n\n          while (peekTokenAny(_TokenKind.TokenKind.STAR, _TokenKind.TokenKind.DIV, _TokenKind.TokenKind.MOD)) {\n            var token = nextToken(); // consume STAR/DIV/MOD\n\n            var rhExpr = eatPowerIncDecExpression();\n            checkOperands(token, expr, rhExpr);\n\n            if (token.getKind() === _TokenKind.TokenKind.STAR) {\n              expr = _OpMultiply.OpMultiply.create(toPosToken(token), expr, rhExpr);\n            } else if (token.getKind() === _TokenKind.TokenKind.DIV) {\n              expr = _OpDivide.OpDivide.create(toPosToken(token), expr, rhExpr);\n            } else {\n              //Assert.isTrue(token.getKind() === TokenKind.MOD);\n              expr = _OpModulus.OpModulus.create(toPosToken(token), expr, rhExpr);\n            }\n          }\n\n          return expr;\n        } // powerExpr  : unaryExpression (POWER^ unaryExpression)? (INC || DEC) ;\n\n\n        function eatPowerIncDecExpression() {\n          var expr = eatUnaryExpression(),\n              token;\n\n          if (peekTokenOne(_TokenKind.TokenKind.POWER)) {\n            token = nextToken(); //consume POWER\n\n            var rhExpr = eatUnaryExpression();\n            checkRightOperand(token, rhExpr);\n            return _OpPower.OpPower.create(toPosToken(token), expr, rhExpr);\n          }\n\n          if (expr !== null && peekTokenAny(_TokenKind.TokenKind.INC, _TokenKind.TokenKind.DEC)) {\n            token = nextToken(); //consume INC/DEC\n\n            if (token.getKind() === _TokenKind.TokenKind.INC) {\n              return _OpInc.OpInc.create(toPosToken(token), true, expr);\n            }\n\n            return _OpDec.OpDec.create(toPosToken(token), true, expr);\n          }\n\n          return expr;\n        } // unaryExpression: (PLUS^ | MINUS^ | BANG^ | INC^ | DEC^) unaryExpression | primaryExpression ;\n\n\n        function eatUnaryExpression() {\n          var token, expr;\n\n          if (peekTokenAny(_TokenKind.TokenKind.PLUS, _TokenKind.TokenKind.MINUS, _TokenKind.TokenKind.NOT)) {\n            token = nextToken();\n            expr = eatUnaryExpression();\n\n            if (token.getKind() === _TokenKind.TokenKind.NOT) {\n              return _OpNot.OpNot.create(toPosToken(token), expr);\n            }\n\n            if (token.getKind() === _TokenKind.TokenKind.PLUS) {\n              return _OpPlus.OpPlus.create(toPosToken(token), expr);\n            } //Assert.isTrue(token.getKind() === TokenKind.MINUS);\n\n\n            return _OpMinus.OpMinus.create(toPosToken(token), expr);\n          }\n\n          if (peekTokenAny(_TokenKind.TokenKind.INC, _TokenKind.TokenKind.DEC)) {\n            token = nextToken();\n            expr = eatUnaryExpression();\n\n            if (token.getKind() === _TokenKind.TokenKind.INC) {\n              return _OpInc.OpInc.create(toPosToken(token), false, expr);\n            }\n\n            return _OpDec.OpDec.create(toPosToken(token), false, expr);\n          }\n\n          return eatPrimaryExpression();\n        } // primaryExpression : startNode (node)? -> ^(EXPRESSION startNode (node)?);\n\n\n        function eatPrimaryExpression() {\n          var nodes = [];\n          var start = eatStartNode(); // always a start node\n\n          nodes.push(start);\n\n          while (maybeEatNode()) {\n            nodes.push(pop());\n          }\n\n          if (nodes.length === 1) {\n            return nodes[0];\n          }\n\n          return _CompoundExpression.CompoundExpression.create(toPosBounds(start.getStartPosition(), nodes[nodes.length - 1].getEndPosition()), nodes);\n        } // node : ((DOT dottedNode) | (SAFE_NAVI dottedNode) | nonDottedNode)+;\n\n\n        function maybeEatNode() {\n          var expr = null;\n\n          if (peekTokenAny(_TokenKind.TokenKind.DOT, _TokenKind.TokenKind.SAFE_NAVI)) {\n            expr = eatDottedNode();\n          } else {\n            expr = maybeEatNonDottedNode();\n          }\n\n          if (expr === null) {\n            return false;\n          } else {\n            push(expr);\n            return true;\n          }\n        } // nonDottedNode: indexer;\n\n\n        function maybeEatNonDottedNode() {\n          if (peekTokenOne(_TokenKind.TokenKind.LSQUARE)) {\n            if (maybeEatIndexer()) {\n              return pop();\n            }\n          }\n\n          return null;\n        } //dottedNode\n        // : ((methodOrProperty\n        //\t  | functionOrVar\n        //    | projection\n        //    | selection\n        //    | firstSelection\n        //    | lastSelection\n        //    ))\n        //\t;\n\n\n        function eatDottedNode() {\n          var token = nextToken(); // it was a '.' or a '?.'\n\n          var nullSafeNavigation = token.getKind() === _TokenKind.TokenKind.SAFE_NAVI;\n\n          if (maybeEatMethodOrProperty(nullSafeNavigation) || maybeEatFunctionOrVar() || maybeEatProjection(nullSafeNavigation) || maybeEatSelection(nullSafeNavigation)) {\n            return pop();\n          }\n\n          if (peekToken() === null) {\n            // unexpectedly ran out of data\n            raiseInternalException(token.startPos, 'OOD');\n          } else {\n            raiseInternalException(token.startPos, 'UNEXPECTED_DATA_AFTER_DOT', toString(peekToken()));\n          }\n\n          return null;\n        } // functionOrVar\n        // : (POUND ID LPAREN) => function\n        // | var\n        //\n        // function : POUND id=ID methodArgs -> ^(FUNCTIONREF[$id] methodArgs);\n        // var : POUND id=ID -> ^(VARIABLEREF[$id]);\n\n\n        function maybeEatFunctionOrVar() {\n          if (!peekTokenOne(_TokenKind.TokenKind.HASH)) {\n            return false;\n          }\n\n          var token = nextToken();\n          var functionOrVariableName = eatToken(_TokenKind.TokenKind.IDENTIFIER);\n          var args = maybeEatMethodArgs();\n\n          if (args === null) {\n            push(_VariableReference.VariableReference.create(functionOrVariableName.data, toPosBounds(token.startPos, functionOrVariableName.endPos)));\n            return true;\n          }\n\n          push(_FunctionReference.FunctionReference.create(functionOrVariableName.data, toPosBounds(token.startPos, functionOrVariableName.endPos), args));\n          return true;\n        } // methodArgs : LPAREN! (argument (COMMA! argument)* (COMMA!)?)? RPAREN!;\n\n\n        function maybeEatMethodArgs() {\n          if (!peekTokenOne(_TokenKind.TokenKind.LPAREN)) {\n            return null;\n          }\n\n          var args = [];\n          consumeArguments(args);\n          eatToken(_TokenKind.TokenKind.RPAREN);\n          return args;\n        }\n\n        function eatConstructorArgs(accumulatedArguments) {\n          if (!peekTokenOne(_TokenKind.TokenKind.LPAREN)) {\n            raiseInternalException(toPosToken(peekToken()), 'MISSING_CONSTRUCTOR_ARGS');\n          }\n\n          consumeArguments(accumulatedArguments);\n          eatToken(_TokenKind.TokenKind.RPAREN);\n        }\n        /**\n         * Used for consuming arguments for either a method or a constructor call\n         */\n\n\n        function consumeArguments(accumulatedArguments) {\n          var pos = peekToken().startPos;\n          var next;\n\n          do {\n            nextToken(); // consume ( (first time through) or comma (subsequent times)\n\n            var token = peekToken();\n\n            if (token === null) {\n              raiseInternalException(pos, 'RUN_OUT_OF_ARGUMENTS');\n            }\n\n            if (token.getKind() !== _TokenKind.TokenKind.RPAREN) {\n              accumulatedArguments.push(eatExpression());\n            }\n\n            next = peekToken();\n          } while (next !== null && next.kind === _TokenKind.TokenKind.COMMA);\n\n          if (next === null) {\n            raiseInternalException(pos, 'RUN_OUT_OF_ARGUMENTS');\n          }\n        }\n\n        function positionOf(token) {\n          if (token === null) {\n            // if null assume the problem is because the right token was\n            // not found at the end of the expression\n            return expressionString.length;\n          }\n\n          return token.startPos;\n        } //startNode\n        // : parenExpr | literal\n        //\t    | type\n        //\t    | methodOrProperty\n        //\t    | functionOrVar\n        //\t    | projection\n        //\t    | selection\n        //\t    | firstSelection\n        //\t    | lastSelection\n        //\t    | indexer\n        //\t    | constructor\n\n\n        function eatStartNode() {\n          if (maybeEatLiteral()) {\n            return pop();\n          } else if (maybeEatParenExpression()) {\n            return pop();\n          } else if (maybeEatTypeReference() || maybeEatNullReference() || maybeEatConstructorReference() || maybeEatMethodOrProperty(false) || maybeEatFunctionOrVar()) {\n            return pop();\n          } else if (maybeEatBeanReference()) {\n            return pop();\n          } else if (maybeEatProjection(false) || maybeEatSelection(false) || maybeEatIndexer()) {\n            return pop();\n          } else if (maybeEatInlineListOrMap()) {\n            return pop();\n          } else {\n            return null;\n          }\n        } // parse: @beanname @'bean.name'\n        // quoted if dotted\n\n\n        function maybeEatBeanReference() {\n          if (peekTokenOne(_TokenKind.TokenKind.BEAN_REF)) {\n            var beanRefToken = nextToken();\n            var beanNameToken = null;\n            var beanName = null;\n\n            if (peekTokenOne(_TokenKind.TokenKind.IDENTIFIER)) {\n              beanNameToken = eatToken(_TokenKind.TokenKind.IDENTIFIER);\n              beanName = beanNameToken.data;\n            } else if (peekTokenOne(_TokenKind.TokenKind.LITERAL_STRING)) {\n              beanNameToken = eatToken(_TokenKind.TokenKind.LITERAL_STRING);\n              beanName = beanNameToken.stringValue();\n              beanName = beanName.substring(1, beanName.length() - 1);\n            } else {\n              raiseInternalException(beanRefToken.startPos, 'INVALID_BEAN_REFERENCE');\n            }\n\n            var beanReference = _BeanReference.BeanReference.create(toPosToken(beanNameToken), beanName);\n\n            push(beanReference);\n            return true;\n          }\n\n          return false;\n        }\n\n        function maybeEatTypeReference() {\n          if (peekTokenOne(_TokenKind.TokenKind.IDENTIFIER)) {\n            var typeName = peekToken();\n\n            if (typeName.stringValue() !== 'T') {\n              return false;\n            } // It looks like a type reference but is T being used as a map key?\n\n\n            var token = nextToken();\n\n            if (peekTokenOne(_TokenKind.TokenKind.RSQUARE)) {\n              // looks like 'T]' (T is map key)\n              push(_PropertyReference.PropertyReference.create(token.stringValue(), toPosToken(token)));\n              return true;\n            }\n\n            eatToken(_TokenKind.TokenKind.LPAREN);\n            var node = eatPossiblyQualifiedId(); // dotted qualified id\n            // Are there array dimensions?\n\n            var dims = 0;\n\n            while (peekTokenConsumeIfMatched(_TokenKind.TokenKind.LSQUARE, true)) {\n              eatToken(_TokenKind.TokenKind.RSQUARE);\n              dims++;\n            }\n\n            eatToken(_TokenKind.TokenKind.RPAREN);\n            push(_TypeReference.TypeReference.create(toPosToken(typeName), node, dims));\n            return true;\n          }\n\n          return false;\n        }\n\n        function maybeEatNullReference() {\n          if (peekTokenOne(_TokenKind.TokenKind.IDENTIFIER)) {\n            var nullToken = peekToken();\n\n            if (nullToken.stringValue().toLowerCase() !== 'null') {\n              return false;\n            }\n\n            nextToken();\n            push(_NullLiteral.NullLiteral.create(toPosToken(nullToken)));\n            return true;\n          }\n\n          return false;\n        } //projection: PROJECT^ expression RCURLY!;\n\n\n        function maybeEatProjection(nullSafeNavigation) {\n          var token = peekToken();\n\n          if (!peekTokenConsumeIfMatched(_TokenKind.TokenKind.PROJECT, true)) {\n            return false;\n          }\n\n          var expr = eatExpression();\n          eatToken(_TokenKind.TokenKind.RSQUARE);\n          push(_Projection.Projection.create(nullSafeNavigation, toPosToken(token), expr));\n          return true;\n        } // list = LCURLY (element (COMMA element)*) RCURLY\n        // map  = LCURLY (key ':' value (COMMA key ':' value)*) RCURLY\n\n\n        function maybeEatInlineListOrMap() {\n          var token = peekToken(),\n              listElements = [];\n\n          if (!peekTokenConsumeIfMatched(_TokenKind.TokenKind.LCURLY, true)) {\n            return false;\n          }\n\n          var expr = null;\n          var closingCurly = peekToken();\n\n          if (peekTokenConsumeIfMatched(_TokenKind.TokenKind.RCURLY, true)) {\n            // empty list '{}'\n            expr = _InlineList.InlineList.create(toPosBounds(token.startPos, closingCurly.endPos));\n          } else if (peekTokenConsumeIfMatched(_TokenKind.TokenKind.COLON, true)) {\n            closingCurly = eatToken(_TokenKind.TokenKind.RCURLY); // empty map '{:}'\n\n            expr = _InlineMap.InlineMap.create(toPosBounds(token.startPos, closingCurly.endPos));\n          } else {\n            var firstExpression = eatExpression(); // Next is either:\n            // '}' - end of list\n            // ',' - more expressions in this list\n            // ':' - this is a map!\n\n            if (peekTokenOne(_TokenKind.TokenKind.RCURLY)) {\n              // list with one item in it\n              listElements.push(firstExpression);\n              closingCurly = eatToken(_TokenKind.TokenKind.RCURLY);\n              expr = _InlineList.InlineList.create(toPosBounds(token.startPos, closingCurly.endPos), listElements);\n            } else if (peekTokenConsumeIfMatched(_TokenKind.TokenKind.COMMA, true)) {\n              // multi item list\n              listElements.push(firstExpression);\n\n              do {\n                listElements.push(eatExpression());\n              } while (peekTokenConsumeIfMatched(_TokenKind.TokenKind.COMMA, true));\n\n              closingCurly = eatToken(_TokenKind.TokenKind.RCURLY);\n              expr = _InlineList.InlineList.create(toPosToken(token.startPos, closingCurly.endPos), listElements);\n            } else if (peekTokenConsumeIfMatched(_TokenKind.TokenKind.COLON, true)) {\n              // map!\n              var mapElements = [];\n              mapElements.push(firstExpression);\n              mapElements.push(eatExpression());\n\n              while (peekTokenConsumeIfMatched(_TokenKind.TokenKind.COMMA, true)) {\n                mapElements.push(eatExpression());\n                eatToken(_TokenKind.TokenKind.COLON);\n                mapElements.push(eatExpression());\n              }\n\n              closingCurly = eatToken(_TokenKind.TokenKind.RCURLY);\n              expr = _InlineMap.InlineMap.create(toPosBounds(token.startPos, closingCurly.endPos), mapElements);\n            } else {\n              raiseInternalException(token.startPos, 'OOD');\n            }\n          }\n\n          push(expr);\n          return true;\n        }\n\n        function maybeEatIndexer() {\n          var token = peekToken();\n\n          if (!peekTokenConsumeIfMatched(_TokenKind.TokenKind.LSQUARE, true)) {\n            return false;\n          }\n\n          var expr = eatExpression();\n          eatToken(_TokenKind.TokenKind.RSQUARE);\n          push(_Indexer.Indexer.create(toPosToken(token), expr));\n          return true;\n        }\n\n        function maybeEatSelection(nullSafeNavigation) {\n          var token = peekToken();\n\n          if (!peekSelectToken()) {\n            return false;\n          }\n\n          nextToken();\n          var expr = eatExpression();\n\n          if (expr === null) {\n            raiseInternalException(toPosToken(token), 'MISSING_SELECTION_EXPRESSION');\n          }\n\n          eatToken(_TokenKind.TokenKind.RSQUARE);\n\n          if (token.getKind() === _TokenKind.TokenKind.SELECT_FIRST) {\n            push(_Selection.Selection.create(nullSafeNavigation, _Selection.Selection.FIRST, toPosToken(token), expr));\n          } else if (token.getKind() === _TokenKind.TokenKind.SELECT_LAST) {\n            push(_Selection.Selection.create(nullSafeNavigation, _Selection.Selection.LAST, toPosToken(token), expr));\n          } else {\n            push(_Selection.Selection.create(nullSafeNavigation, _Selection.Selection.ALL, toPosToken(token), expr));\n          }\n\n          return true;\n        }\n        /**\n         * Eat an identifier, possibly qualified (meaning that it is dotted).\n         * TODO AndyC Could create complete identifiers (a.b.c) here rather than a sequence of them? (a, b, c)\n         */\n\n\n        function eatPossiblyQualifiedId() {\n          var qualifiedIdPieces = [];\n          var node = peekToken();\n\n          while (isValidQualifiedId(node)) {\n            nextToken();\n\n            if (node.kind !== _TokenKind.TokenKind.DOT) {\n              qualifiedIdPieces.push(_Identifier.Identifier.create(node.stringValue(), toPosToken(node)));\n            }\n\n            node = peekToken();\n          }\n\n          if (!qualifiedIdPieces.length) {\n            if (node === null) {\n              raiseInternalException(expressionString.length(), 'OOD');\n            }\n\n            raiseInternalException(node.startPos, 'NOT_EXPECTED_TOKEN', 'qualified ID', node.getKind().toString().toLowerCase());\n          }\n\n          var pos = toPosBounds(qualifiedIdPieces[0].getStartPosition(), qualifiedIdPieces[qualifiedIdPieces.length - 1].getEndPosition());\n          return _QualifiedIdentifier.QualifiedIdentifier.create(pos, qualifiedIdPieces);\n        }\n\n        function isValidQualifiedId(node) {\n          if (node === null || node.kind === _TokenKind.TokenKind.LITERAL_STRING) {\n            return false;\n          }\n\n          if (node.kind === _TokenKind.TokenKind.DOT || node.kind === _TokenKind.TokenKind.IDENTIFIER) {\n            return true;\n          }\n\n          var value = node.stringValue();\n          return value && value.length && VALID_QUALIFIED_ID_PATTERN.test(value);\n        } // This is complicated due to the support for dollars in identifiers.  Dollars are normally separate tokens but\n        // there we want to combine a series of identifiers and dollars into a single identifier\n\n\n        function maybeEatMethodOrProperty(nullSafeNavigation) {\n          if (peekTokenOne(_TokenKind.TokenKind.IDENTIFIER)) {\n            var methodOrPropertyName = nextToken();\n            var args = maybeEatMethodArgs();\n\n            if (args === null) {\n              // property\n              push(_PropertyReference.PropertyReference.create(nullSafeNavigation, methodOrPropertyName.stringValue(), toPosToken(methodOrPropertyName)));\n              return true;\n            } // methodreference\n\n\n            push(_MethodReference.MethodReference.create(nullSafeNavigation, methodOrPropertyName.stringValue(), toPosToken(methodOrPropertyName), args)); // TODO what is the end position for a method reference? the name or the last arg?\n\n            return true;\n          }\n\n          return false;\n        } //constructor\n        //:\t('new' qualifiedId LPAREN) => 'new' qualifiedId ctorArgs -> ^(CONSTRUCTOR qualifiedId ctorArgs)\n\n\n        function maybeEatConstructorReference() {\n          if (peekIdentifierToken('new')) {\n            var newToken = nextToken(); // It looks like a constructor reference but is NEW being used as a map key?\n\n            if (peekTokenOne(_TokenKind.TokenKind.RSQUARE)) {\n              // looks like 'NEW]' (so NEW used as map key)\n              push(_PropertyReference.PropertyReference.create(newToken.stringValue(), toPosToken(newToken)));\n              return true;\n            }\n\n            var possiblyQualifiedConstructorName = eatPossiblyQualifiedId();\n            var nodes = [];\n            nodes.push(possiblyQualifiedConstructorName);\n\n            if (peekTokenOne(_TokenKind.TokenKind.LSQUARE)) {\n              // array initializer\n              var dimensions = [];\n\n              while (peekTokenConsumeIfMatched(_TokenKind.TokenKind.LSQUARE, true)) {\n                if (!peekTokenOne(_TokenKind.TokenKind.RSQUARE)) {\n                  dimensions.push(eatExpression());\n                } else {\n                  dimensions.push(null);\n                }\n\n                eatToken(_TokenKind.TokenKind.RSQUARE);\n              }\n\n              if (maybeEatInlineListOrMap()) {\n                nodes.push(pop());\n              }\n\n              push(_ConstructorReference.ConstructorReference.create(toPosToken(newToken), dimensions, nodes));\n            } else {\n              // regular constructor invocation\n              eatConstructorArgs(nodes); // TODO correct end position?\n\n              push(_ConstructorReference.ConstructorReference.create(toPosToken(newToken), nodes));\n            }\n\n            return true;\n          }\n\n          return false;\n        }\n\n        function push(newNode) {\n          constructedNodes.push(newNode);\n        }\n\n        function pop() {\n          return constructedNodes.pop();\n        } //\tliteral\n        //  : INTEGER_LITERAL\n        //\t| boolLiteral\n        //\t| STRING_LITERAL\n        //  | HEXADECIMAL_INTEGER_LITERAL\n        //  | REAL_LITERAL\n        //\t| DQ_STRING_LITERAL\n        //\t| NULL_LITERAL\n\n\n        function maybeEatLiteral() {\n          var token = peekToken();\n\n          if (token === null) {\n            return false;\n          }\n\n          if (token.getKind() === _TokenKind.TokenKind.LITERAL_INT || token.getKind() === _TokenKind.TokenKind.LITERAL_LONG) {\n            push(_NumberLiteral.NumberLiteral.create(parseInt(token.stringValue(), 10), toPosToken(token)));\n          } else if (token.getKind() === _TokenKind.TokenKind.LITERAL_REAL || token.getKind() === _TokenKind.TokenKind.LITERAL_REAL_FLOAT) {\n            push(_NumberLiteral.NumberLiteral.create(parseFloat(token.stringValue()), toPosToken(token)));\n          } else if (token.getKind() === _TokenKind.TokenKind.LITERAL_HEXINT || token.getKind() === _TokenKind.TokenKind.LITERAL_HEXLONG) {\n            push(_NumberLiteral.NumberLiteral.create(parseInt(token.stringValue(), 16), toPosToken(token)));\n          } else if (peekIdentifierToken('true')) {\n            push(_BooleanLiteral.BooleanLiteral.create(true, toPosToken(token)));\n          } else if (peekIdentifierToken('false')) {\n            push(_BooleanLiteral.BooleanLiteral.create(false, toPosToken(token)));\n          } else if (token.getKind() === _TokenKind.TokenKind.LITERAL_STRING) {\n            push(_StringLiteral.StringLiteral.create(token.stringValue(), toPosToken(token)));\n          } else {\n            return false;\n          }\n\n          nextToken();\n          return true;\n        } //parenExpr : LPAREN! expression RPAREN!;\n\n\n        function maybeEatParenExpression() {\n          if (peekTokenOne(_TokenKind.TokenKind.LPAREN)) {\n            nextToken();\n            var expr = eatExpression();\n            eatToken(_TokenKind.TokenKind.RPAREN);\n            push(expr);\n            return true;\n          } else {\n            return false;\n          }\n        } // relationalOperator\n        // : EQUAL | NOT_EQUAL | LESS_THAN | LESS_THAN_OR_EQUAL | GREATER_THAN\n        // | GREATER_THAN_OR_EQUAL | INSTANCEOF | BETWEEN | MATCHES\n\n\n        function maybeEatRelationalOperator() {\n          var token = peekToken();\n\n          if (token === null) {\n            return null;\n          }\n\n          if (token.isNumericRelationalOperator()) {\n            return token;\n          }\n\n          if (token.isIdentifier()) {\n            var idString = token.stringValue();\n\n            if (idString.toLowerCase() === 'instanceof') {\n              return token.asInstanceOfToken();\n            }\n\n            if (idString.toLowerCase() === 'matches') {\n              return token.asMatchesToken();\n            }\n\n            if (idString.toLowerCase() === 'between') {\n              return token.asBetweenToken();\n            }\n          }\n\n          return null;\n        }\n\n        function eatToken(expectedKind) {\n          var token = nextToken();\n\n          if (token === null) {\n            raiseInternalException(expressionString.length, 'OOD');\n          }\n\n          if (token.getKind() !== expectedKind) {\n            raiseInternalException(token.startPos, 'NOT_EXPECTED_TOKEN', expectedKind.toString().toLowerCase(), token.getKind().toString().toLowerCase());\n          }\n\n          return token;\n        }\n\n        function peekTokenOne(desiredTokenKind) {\n          return peekTokenConsumeIfMatched(desiredTokenKind, false);\n        }\n\n        function peekTokenConsumeIfMatched(desiredTokenKind, consumeIfMatched) {\n          if (!moreTokens()) {\n            return false;\n          }\n\n          var token = peekToken();\n\n          if (token.getKind() === desiredTokenKind) {\n            if (consumeIfMatched) {\n              tokenStreamPointer++;\n            }\n\n            return true;\n          }\n\n          if (desiredTokenKind === _TokenKind.TokenKind.IDENTIFIER) {\n            // might be one of the textual forms of the operators (e.g. NE for !== ) - in which case we can treat it as an identifier\n            // The list is represented here: Tokenizer.alternativeOperatorNames and those ones are in order in the TokenKind enum\n            if (token.getKind().ordinal() >= _TokenKind.TokenKind.DIV.ordinal() && token.getKind().ordinal() <= _TokenKind.TokenKind.NOT.ordinal() && token.data !== null) {\n              // if token.data were null, we'd know it wasn'token the textual form, it was the symbol form\n              return true;\n            }\n          }\n\n          return false;\n        }\n\n        function peekTokenAny() {\n          if (!moreTokens()) {\n            return false;\n          }\n\n          var token = peekToken();\n          var args = Array.prototype.slice.call(arguments);\n\n          for (var i = 0, l = args.length; i < l; i += 1) {\n            if (token.getKind() === args[i]) {\n              return true;\n            }\n          }\n\n          return false;\n        }\n\n        function peekIdentifierToken(identifierString) {\n          if (!moreTokens()) {\n            return false;\n          }\n\n          var token = peekToken();\n          return token.getKind() === _TokenKind.TokenKind.IDENTIFIER && token.stringValue().toLowerCase() === identifierString.toLowerCase();\n        }\n\n        function peekSelectToken() {\n          if (!moreTokens()) {\n            return false;\n          }\n\n          var token = peekToken();\n          return token.getKind() === _TokenKind.TokenKind.SELECT || token.getKind() === _TokenKind.TokenKind.SELECT_FIRST || token.getKind() === _TokenKind.TokenKind.SELECT_LAST;\n        }\n\n        function moreTokens() {\n          return tokenStreamPointer < tokenStream.length;\n        }\n\n        function nextToken() {\n          if (tokenStreamPointer >= tokenStreamLength) {\n            return null;\n          }\n\n          return tokenStream[tokenStreamPointer++];\n        }\n\n        function peekToken() {\n          if (tokenStreamPointer >= tokenStreamLength) {\n            return null;\n          }\n\n          return tokenStream[tokenStreamPointer];\n        }\n\n        function raiseInternalException(pos, message, expected, actual) {\n          if (expected) {\n            message += '\\nExpected: ' + expected;\n          }\n\n          if (actual) {\n            message += '\\nActual: ' + actual;\n          }\n\n          throw {\n            name: 'InternalParseException',\n            message: 'Error occurred while attempting to parse expression \\'' + expressionString + '\\' at position ' + pos + '. Message: ' + message\n          };\n        }\n\n        function toString(token) {\n          if (token.getKind().hasPayload()) {\n            return token.stringValue();\n          }\n\n          return token.getKind().toString().toLowerCase();\n        }\n\n        function checkOperands(token, left, right) {\n          checkLeftOperand(token, left);\n          checkRightOperand(token, right);\n        }\n\n        function checkLeftOperand(token, operandExpression) {\n          if (operandExpression === null) {\n            raiseInternalException(token.startPos, 'LEFT_OPERAND_PROBLEM');\n          }\n        }\n\n        function checkRightOperand(token, operandExpression) {\n          if (operandExpression === null) {\n            raiseInternalException(token.startPos, 'RIGHT_OPERAND_PROBLEM');\n          }\n        }\n        /**\n         * Compress the start and end of a token into a single int.\n         */\n\n\n        function toPosToken(token) {\n          return (token.startPos << 16) + token.endPos;\n        }\n\n        function toPosBounds(start, end) {\n          return (start << 16) + end;\n        }\n\n        return {\n          setConfiguration: setConfiguration,\n          parse: parse\n        };\n      }; //not yet implemented\n\n      /***/\n\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Tokenizer = undefined;\n\n      var _Token = __webpack_require__(7);\n\n      var _TokenKind = __webpack_require__(2);\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * @author Andy Clement\n       * @author Phillip Webb\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      var ALTERNATIVE_OPERATOR_NAMES = ['DIV', 'EQ', 'GE', 'GT', 'LE', 'LT', 'MOD', 'NE', 'NOT'],\n          FLAGS = [],\n          IS_DIGIT = 1,\n          IS_HEXDIGIT = 2,\n          IS_ALPHA = 4;\n\n      function init() {\n        var ch;\n\n        for (ch = '0'.charCodeAt(0); ch <= '9'.charCodeAt(0); ch += 1) {\n          FLAGS[ch] |= IS_DIGIT | IS_HEXDIGIT;\n        }\n\n        for (ch = 'A'.charCodeAt(0); ch <= 'F'.charCodeAt(0); ch += 1) {\n          FLAGS[ch] |= IS_HEXDIGIT;\n        }\n\n        for (ch = 'a'.charCodeAt(0); ch <= 'f'.charCodeAt(0); ch += 1) {\n          FLAGS[ch] |= IS_HEXDIGIT;\n        }\n\n        for (ch = 'A'.charCodeAt(0); ch <= 'Z'.charCodeAt(0); ch += 1) {\n          FLAGS[ch] |= IS_ALPHA;\n        }\n\n        for (ch = 'a'.charCodeAt(0); ch <= 'z'.charCodeAt(0); ch += 1) {\n          FLAGS[ch] |= IS_ALPHA;\n        }\n      }\n\n      init();\n\n      function tokenize(inputData) {\n        var expressionString = inputData,\n            toProcess = inputData + '\\0',\n            max = toProcess.length,\n            pos = 0,\n            tokens = [];\n\n        function process() {\n          var ch;\n\n          while (pos < max) {\n            ch = toProcess[pos];\n\n            if (isAlphabetic(ch)) {\n              lexIdentifier();\n            } else {\n              switch (ch) {\n                case '+':\n                  if (isTwoCharToken(_TokenKind.TokenKind.INC)) {\n                    pushPairToken(_TokenKind.TokenKind.INC);\n                  } else {\n                    pushCharToken(_TokenKind.TokenKind.PLUS);\n                  }\n\n                  break;\n\n                case '_':\n                  // the other way to start an identifier\n                  lexIdentifier();\n                  break;\n\n                case '-':\n                  if (isTwoCharToken(_TokenKind.TokenKind.DEC)) {\n                    pushPairToken(_TokenKind.TokenKind.DEC);\n                  } else {\n                    pushCharToken(_TokenKind.TokenKind.MINUS);\n                  }\n\n                  break;\n\n                case ':':\n                  pushCharToken(_TokenKind.TokenKind.COLON);\n                  break;\n\n                case '.':\n                  pushCharToken(_TokenKind.TokenKind.DOT);\n                  break;\n\n                case ',':\n                  pushCharToken(_TokenKind.TokenKind.COMMA);\n                  break;\n\n                case '*':\n                  pushCharToken(_TokenKind.TokenKind.STAR);\n                  break;\n\n                case '/':\n                  pushCharToken(_TokenKind.TokenKind.DIV);\n                  break;\n\n                case '%':\n                  pushCharToken(_TokenKind.TokenKind.MOD);\n                  break;\n\n                case '(':\n                  pushCharToken(_TokenKind.TokenKind.LPAREN);\n                  break;\n\n                case ')':\n                  pushCharToken(_TokenKind.TokenKind.RPAREN);\n                  break;\n\n                case '[':\n                  pushCharToken(_TokenKind.TokenKind.LSQUARE);\n                  break;\n\n                case '#':\n                  pushCharToken(_TokenKind.TokenKind.HASH);\n                  break;\n\n                case ']':\n                  pushCharToken(_TokenKind.TokenKind.RSQUARE);\n                  break;\n\n                case '{':\n                  pushCharToken(_TokenKind.TokenKind.LCURLY);\n                  break;\n\n                case '}':\n                  pushCharToken(_TokenKind.TokenKind.RCURLY);\n                  break;\n\n                case '@':\n                  pushCharToken(_TokenKind.TokenKind.BEAN_REF);\n                  break;\n\n                case '^':\n                  if (isTwoCharToken(_TokenKind.TokenKind.SELECT_FIRST)) {\n                    pushPairToken(_TokenKind.TokenKind.SELECT_FIRST);\n                  } else {\n                    pushCharToken(_TokenKind.TokenKind.POWER);\n                  }\n\n                  break;\n\n                case '!':\n                  if (isTwoCharToken(_TokenKind.TokenKind.NE)) {\n                    pushPairToken(_TokenKind.TokenKind.NE);\n                  } else if (isTwoCharToken(_TokenKind.TokenKind.PROJECT)) {\n                    pushPairToken(_TokenKind.TokenKind.PROJECT);\n                  } else {\n                    pushCharToken(_TokenKind.TokenKind.NOT);\n                  }\n\n                  break;\n\n                case '=':\n                  if (isTwoCharToken(_TokenKind.TokenKind.EQ)) {\n                    pushPairToken(_TokenKind.TokenKind.EQ);\n                  } else {\n                    pushCharToken(_TokenKind.TokenKind.ASSIGN);\n                  }\n\n                  break;\n\n                case '&':\n                  if (!isTwoCharToken(_TokenKind.TokenKind.SYMBOLIC_AND)) {\n                    throw {\n                      name: 'SpelParseException',\n                      message: 'Missing character \\'&\\' in expression (' + expressionString + ') at position ' + pos\n                    };\n                  }\n\n                  pushPairToken(_TokenKind.TokenKind.SYMBOLIC_AND);\n                  break;\n\n                case '|':\n                  if (!isTwoCharToken(_TokenKind.TokenKind.SYMBOLIC_OR)) {\n                    throw {\n                      name: 'SpelParseException',\n                      message: 'Missing character \\'|\\' in expression (' + expressionString + ') at position ' + pos\n                    };\n                  }\n\n                  pushPairToken(_TokenKind.TokenKind.SYMBOLIC_OR);\n                  break;\n\n                case '?':\n                  if (isTwoCharToken(_TokenKind.TokenKind.SELECT)) {\n                    pushPairToken(_TokenKind.TokenKind.SELECT);\n                  } else if (isTwoCharToken(_TokenKind.TokenKind.ELVIS)) {\n                    pushPairToken(_TokenKind.TokenKind.ELVIS);\n                  } else if (isTwoCharToken(_TokenKind.TokenKind.SAFE_NAVI)) {\n                    pushPairToken(_TokenKind.TokenKind.SAFE_NAVI);\n                  } else {\n                    pushCharToken(_TokenKind.TokenKind.QMARK);\n                  }\n\n                  break;\n\n                case '$':\n                  if (isTwoCharToken(_TokenKind.TokenKind.SELECT_LAST)) {\n                    pushPairToken(_TokenKind.TokenKind.SELECT_LAST);\n                  } else {\n                    lexIdentifier();\n                  }\n\n                  break;\n\n                case '>':\n                  if (isTwoCharToken(_TokenKind.TokenKind.GE)) {\n                    pushPairToken(_TokenKind.TokenKind.GE);\n                  } else {\n                    pushCharToken(_TokenKind.TokenKind.GT);\n                  }\n\n                  break;\n\n                case '<':\n                  if (isTwoCharToken(_TokenKind.TokenKind.LE)) {\n                    pushPairToken(_TokenKind.TokenKind.LE);\n                  } else {\n                    pushCharToken(_TokenKind.TokenKind.LT);\n                  }\n\n                  break;\n\n                case '0':\n                case '1':\n                case '2':\n                case '3':\n                case '4':\n                case '5':\n                case '6':\n                case '7':\n                case '8':\n                case '9':\n                  lexNumericLiteral(ch === '0');\n                  break;\n\n                case ' ':\n                case '\\t':\n                case '\\r':\n                case '\\n':\n                  // drift over white space\n                  pos += 1;\n                  break;\n\n                case '\\'':\n                  lexQuotedStringLiteral();\n                  break;\n\n                case '\"':\n                  lexDoubleQuotedStringLiteral();\n                  break;\n\n                case '\\0':\n                  // hit sentinel at end of value\n                  pos += 1; // will take us to the end\n\n                  break;\n\n                case '\\\\':\n                  throw {\n                    name: 'SpelParseException',\n                    message: 'Unexpected escape character in expression (' + expressionString + ') at position ' + pos\n                  };\n\n                default:\n                  throw {\n                    name: 'SpelParseException',\n                    message: 'Cannot handle character \\'' + ch + '\\' in expression (' + expressionString + ') at position ' + pos\n                  };\n              }\n            }\n          }\n        }\n\n        function lexQuotedStringLiteral() {\n          var start = pos,\n              terminated = false,\n              ch;\n\n          while (!terminated) {\n            pos += 1;\n            ch = toProcess[pos];\n\n            if (ch === '\\'') {\n              // may not be the end if the char after is also a '\n              if (toProcess[pos + 1] === '\\'') {\n                pos += 1; // skip over that too, and continue\n              } else {\n                terminated = true;\n              }\n            }\n\n            if (ch.charCodeAt(0) === 0) {\n              throw {\n                name: 'SpelParseException',\n                message: 'Non-terminating quoted string in expression (' + expressionString + ') at position ' + pos\n              };\n            }\n          }\n\n          pos += 1;\n          tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_STRING, subarray(start, pos), start, pos));\n        }\n\n        function lexDoubleQuotedStringLiteral() {\n          var start = pos,\n              terminated = false,\n              ch;\n\n          while (!terminated) {\n            pos += 1;\n            ch = toProcess[pos];\n\n            if (ch === '\"') {\n              // may not be the end if the char after is also a '\n              if (toProcess[pos + 1] === '\"') {\n                pos += 1; // skip over that too, and continue\n              } else {\n                terminated = true;\n              }\n            }\n\n            if (ch.charCodeAt(0) === 0) {\n              throw {\n                name: 'SpelParseException',\n                message: 'Non-terminating double-quoted string in expression (' + expressionString + ') at position ' + pos\n              };\n            }\n          }\n\n          pos += 1;\n          tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_STRING, subarray(start, pos), start, pos));\n        } // REAL_LITERAL :\n        // ('.' (DECIMAL_DIGIT)+ (EXPONENT_PART)? (REAL_TYPE_SUFFIX)?) |\n        // ((DECIMAL_DIGIT)+ '.' (DECIMAL_DIGIT)+ (EXPONENT_PART)? (REAL_TYPE_SUFFIX)?) |\n        // ((DECIMAL_DIGIT)+ (EXPONENT_PART) (REAL_TYPE_SUFFIX)?) |\n        // ((DECIMAL_DIGIT)+ (REAL_TYPE_SUFFIX));\n        // fragment INTEGER_TYPE_SUFFIX : ( 'L' | 'l' );\n        // fragment HEX_DIGIT :\n        // '0'|'1'|'2'|'3'|'4'|'5'|'6'|'7'|'8'|'9'|'A'|'B'|'C'|'D'|'E'|'F'|'a'|'b'|'c'|'d'|'e'|'f';\n        //\n        // fragment EXPONENT_PART : 'e' (SIGN)* (DECIMAL_DIGIT)+ | 'E' (SIGN)*\n        // (DECIMAL_DIGIT)+ ;\n        // fragment SIGN : '+' | '-' ;\n        // fragment REAL_TYPE_SUFFIX : 'F' | 'f' | 'D' | 'd';\n        // INTEGER_LITERAL\n        // : (DECIMAL_DIGIT)+ (INTEGER_TYPE_SUFFIX)?;\n\n\n        function lexNumericLiteral(firstCharIsZero) {\n          var isReal = false,\n              start = pos,\n              ch = toProcess[pos + 1],\n              isHex = ch === 'x' || ch === 'X',\n              dotpos,\n              endOfNumber,\n              possibleSign,\n              isFloat; // deal with hexadecimal\n\n          if (firstCharIsZero && isHex) {\n            pos = pos + 1;\n\n            do {\n              pos += 1;\n            } while (isHexadecimalDigit(toProcess[pos]));\n\n            if (isChar('L', 'l')) {\n              pushHexIntToken(subarray(start + 2, pos), true, start, pos);\n              pos += 1;\n            } else {\n              pushHexIntToken(subarray(start + 2, pos), false, start, pos);\n            }\n\n            return;\n          } // real numbers must have leading digits\n          // Consume first part of number\n\n\n          do {\n            pos += 1;\n          } while (isDigit(toProcess[pos])); // a '.' indicates this number is a real\n\n\n          ch = toProcess[pos];\n\n          if (ch === '.') {\n            isReal = true;\n            dotpos = pos; // carry on consuming digits\n\n            do {\n              pos += 1;\n            } while (isDigit(toProcess[pos]));\n\n            if (pos === dotpos + 1) {\n              // the number is something like '3.'. It is really an int but may be\n              // part of something like '3.toString()'. In this case process it as\n              // an int and leave the dot as a separate token.\n              pos = dotpos;\n              pushIntToken(subarray(start, pos), false, start, pos);\n              return;\n            }\n          }\n\n          endOfNumber = pos; // Now there may or may not be an exponent\n          // is it a long ?\n\n          if (isChar('L', 'l')) {\n            if (isReal) {\n              // 3.4L - not allowed\n              throw {\n                name: 'SpelParseException',\n                message: 'Real cannot be long in expression (' + expressionString + ') at position ' + pos\n              };\n            }\n\n            pushIntToken(subarray(start, endOfNumber), true, start, endOfNumber);\n            pos += 1;\n          } else if (isExponentChar(toProcess[pos])) {\n            isReal = true; // if it wasn't before, it is now\n\n            pos += 1;\n            possibleSign = toProcess[pos];\n\n            if (isSign(possibleSign)) {\n              pos += 1;\n            } // exponent digits\n\n\n            do {\n              pos += 1;\n            } while (isDigit(toProcess[pos]));\n\n            isFloat = false;\n\n            if (isFloatSuffix(toProcess[pos])) {\n              isFloat = true;\n              pos += 1;\n              endOfNumber = pos;\n            } else if (isDoubleSuffix(toProcess[pos])) {\n              pos += 1;\n              endOfNumber = pos;\n            }\n\n            pushRealToken(subarray(start, pos), isFloat, start, pos);\n          } else {\n            ch = toProcess[pos];\n            isFloat = false;\n\n            if (isFloatSuffix(ch)) {\n              isReal = true;\n              isFloat = true;\n              pos += 1;\n              endOfNumber = pos;\n            } else if (isDoubleSuffix(ch)) {\n              isReal = true;\n              pos += 1;\n              endOfNumber = pos;\n            }\n\n            if (isReal) {\n              pushRealToken(subarray(start, endOfNumber), isFloat, start, endOfNumber);\n            } else {\n              pushIntToken(subarray(start, endOfNumber), false, start, endOfNumber);\n            }\n          }\n        }\n\n        function lexIdentifier() {\n          var start = pos,\n              substring,\n              asString,\n              idx;\n\n          do {\n            pos += 1;\n          } while (isIdentifier(toProcess[pos]));\n\n          substring = subarray(start, pos); // Check if this is the alternative (textual) representation of an operator (see\n          // alternativeOperatorNames)\n\n          if (pos - start === 2 || pos - start === 3) {\n            asString = substring.toUpperCase();\n            idx = ALTERNATIVE_OPERATOR_NAMES.indexOf(asString);\n\n            if (idx >= 0) {\n              pushOneCharOrTwoCharToken(_TokenKind.TokenKind.valueOf(asString), start, substring);\n              return;\n            }\n          }\n\n          tokens.push(new _Token.Token(_TokenKind.TokenKind.IDENTIFIER, substring.replace('\\0', ''), start, pos));\n        }\n\n        function pushIntToken(data, isLong, start, end) {\n          if (isLong) {\n            tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_LONG, data, start, end));\n          } else {\n            tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_INT, data, start, end));\n          }\n        }\n\n        function pushHexIntToken(data, isLong, start, end) {\n          if (data.length === 0) {\n            if (isLong) {\n              throw {\n                name: 'SpelParseException',\n                message: 'Not a long in expression (' + expressionString + ') at position ' + pos\n              };\n            } else {\n              throw {\n                name: 'SpelParseException',\n                message: 'Not an int in expression (' + expressionString + ') at position ' + pos\n              };\n            }\n          }\n\n          if (isLong) {\n            tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_HEXLONG, data, start, end));\n          } else {\n            tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_HEXINT, data, start, end));\n          }\n        }\n\n        function pushRealToken(data, isFloat, start, end) {\n          if (isFloat) {\n            tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_REAL_FLOAT, data, start, end));\n          } else {\n            tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_REAL, data, start, end));\n          }\n        }\n\n        function subarray(start, end) {\n          return toProcess.substring(start, end);\n        }\n        /**\n         * Check if this might be a two character token.\n         */\n\n\n        function isTwoCharToken(kind) {\n          if (kind.tokenChars.length === 2 && toProcess[pos] === kind.tokenChars[0]) {\n            return toProcess[pos + 1] === kind.tokenChars[1];\n          }\n\n          return false;\n        }\n        /**\n         * Push a token of just one character in length.\n         */\n\n\n        function pushCharToken(kind) {\n          tokens.push(new _Token.Token(kind, null, pos, pos + 1));\n          pos += 1;\n        }\n        /**\n         * Push a token of two characters in length.\n         */\n\n\n        function pushPairToken(kind) {\n          tokens.push(new _Token.Token(kind, null, pos, pos + 2));\n          pos += 2;\n        }\n\n        function pushOneCharOrTwoCharToken(kind, pos, data) {\n          tokens.push(new _Token.Token(kind, data, pos, pos + kind.getLength()));\n        } // ID: ('a'..'z'|'A'..'Z'|'_'|'$') ('a'..'z'|'A'..'Z'|'_'|'$'|'0'..'9'|DOT_ESCAPED)*;\n\n\n        function isIdentifier(ch) {\n          return isAlphabetic(ch) || isDigit(ch) || ch === '_' || ch === '$';\n        }\n\n        function isChar(a, b) {\n          var ch = toProcess[pos];\n          return ch === a || ch === b;\n        }\n\n        function isExponentChar(ch) {\n          return ch === 'e' || ch === 'E';\n        }\n\n        function isFloatSuffix(ch) {\n          return ch === 'f' || ch === 'F';\n        }\n\n        function isDoubleSuffix(ch) {\n          return ch === 'd' || ch === 'D';\n        }\n\n        function isSign(ch) {\n          return ch === '+' || ch === '-';\n        }\n\n        function isDigit(ch) {\n          if (ch.charCodeAt(0) > 255) {\n            return false;\n          }\n\n          return (FLAGS[ch.charCodeAt(0)] & IS_DIGIT) !== 0;\n        }\n\n        function isAlphabetic(ch) {\n          if (ch.charCodeAt(0) > 255) {\n            return false;\n          }\n\n          return (FLAGS[ch.charCodeAt(0)] & IS_ALPHA) !== 0;\n        }\n\n        function isHexadecimalDigit(ch) {\n          if (ch.charCodeAt(0) > 255) {\n            return false;\n          }\n\n          return (FLAGS[ch.charCodeAt(0)] & IS_HEXDIGIT) !== 0;\n        }\n\n        process();\n        return tokens;\n      }\n\n      var Tokenizer = exports.Tokenizer = {\n        tokenize: tokenize\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Token = undefined;\n\n      var _TokenKind = __webpack_require__(2);\n\n      function Token(tokenKind, tokenData, startPos, endPos) {\n        this.kind = tokenKind;\n        this.startPos = startPos;\n        this.endPos = endPos;\n\n        if (tokenData) {\n          this.data = tokenData;\n        }\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      Token.prototype.getKind = function () {\n        return this.kind;\n      };\n\n      Token.prototype.toString = function () {\n        var s = '[';\n        s += this.kind.toString();\n\n        if (this.kind.hasPayload()) {\n          s += ':' + this.data;\n        }\n\n        s += ']';\n        s += '(' + this.startPos + ',' + this.endPos + ')';\n        return s;\n      };\n\n      Token.prototype.isIdentifier = function () {\n        return this.kind === _TokenKind.TokenKind.IDENTIFIER;\n      };\n\n      Token.prototype.isNumericRelationalOperator = function () {\n        return this.kind === _TokenKind.TokenKind.GT || this.kind === _TokenKind.TokenKind.GE || this.kind === _TokenKind.TokenKind.LT || this.kind === _TokenKind.TokenKind.LE || this.kind === _TokenKind.TokenKind.EQ || this.kind === _TokenKind.TokenKind.NE;\n      };\n\n      Token.prototype.stringValue = function () {\n        return this.data;\n      };\n\n      Token.prototype.asInstanceOfToken = function () {\n        return new Token(_TokenKind.TokenKind.INSTANCEOF, this.startPos, this.endPos);\n      };\n\n      Token.prototype.asMatchesToken = function () {\n        return new Token(_TokenKind.TokenKind.MATCHES, this.startPos, this.endPos);\n      };\n\n      Token.prototype.asBetweenToken = function () {\n        return new Token(_TokenKind.TokenKind.BETWEEN, this.startPos, this.endPos);\n      };\n\n      Token.prototype.getStartPosition = function () {\n        return this.startPos;\n      };\n\n      Token.prototype.getEndPosition = function () {\n        return this.endPos;\n      };\n\n      exports.Token = Token;\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.BooleanLiteral = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents the literal values TRUE and FALSE.\n       *\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(value, position) {\n        var node = _SpelNode.SpelNode.create('boolean', position);\n\n        node.getValue = function () {\n          return value;\n        };\n\n        node.setValue = function (newValue) {\n          /*jshint -W093 */\n          return value = newValue;\n          /*jshint +W093 */\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var BooleanLiteral = exports.BooleanLiteral = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.NumberLiteral = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Expression language AST node that represents a literal number of any kind (since JavaScript only supports doubles anyway)\n       *\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(value, position) {\n        var node = _SpelNode.SpelNode.create('number', position);\n\n        node.getValue = function () {\n          return value;\n        };\n\n        node.setValue = function (newValue) {\n          /*jshint -W093 */\n          return value = newValue;\n          /*jshint +W093 */\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var NumberLiteral = exports.NumberLiteral = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.StringLiteral = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Expression language AST node that represents a string literal.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(value, position) {\n        var node = _SpelNode.SpelNode.create('string', position);\n\n        function stripQuotes(value) {\n          if (value[0] === '\\'' && value[value.length - 1] === '\\'' || value[0] === '\"' && value[value.length - 1] === '\"') {\n            value = value.substring(1, value.length - 1);\n          }\n\n          return value.replace(/''/g, '\\'').replace(/\"\"/g, '\"');\n        } //value cannot be null so no check\n\n\n        value = stripQuotes(value);\n\n        node.getValue = function () {\n          return value;\n        };\n\n        node.setValue = function (newValue) {\n          /*jshint -W093 */\n          return value = newValue;\n          /*jshint +W093 */\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var StringLiteral = exports.StringLiteral = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.NullLiteral = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Expression language AST node that represents null.\n       *\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(value, position) {\n        var node = _SpelNode.SpelNode.create('null', position);\n\n        node.getValue = function () {\n          return null;\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var NullLiteral = exports.NullLiteral = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.FunctionReference = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n\n      var _Stack = __webpack_require__(1);\n      /**\n       * A function reference is of the form \"#someFunction(a,b,c)\". Functions may be defined in\n       * the context prior to the expression being evaluated or within the expression itself\n       * using a lambda function definition. For example: Lambda function definition in an\n       * expression: \"(#max = {|x,y|$x>$y?$x:$y};max(2,3))\" Calling context defined function:\n       * \"#isEven(37)\". Functions may also be static java methods, registered in the context\n       * prior to invocation of the expression.\n       *\n       * <p>Functions are very simplistic, the arguments are not part of the definition (right\n       * now), so the names must be unique.\n       *\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      function createNode(functionName, position, args) {\n        var node = _SpelNode.SpelNode.create('function', position);\n\n        node.getRaw = function () {\n          return {\n            functionName: functionName,\n            args: args\n          };\n        };\n\n        node.getValue = function (state) {\n          var locals = state.locals || {},\n              context = state.rootContext,\n              compiledArgs = []; //populate arguments\n\n          args.forEach(function (arg) {\n            // reset the active context to root context for evaluating argument\n            var currentActiveContext = state.activeContext;\n            state.activeContext = new _Stack.Stack();\n            state.activeContext.push(state.rootContext); // evaluate argument\n\n            compiledArgs.push(arg.getValue(state)); // reset the active context\n\n            state.activeContext = currentActiveContext;\n          });\n\n          if (locals[functionName]) {\n            return locals[functionName].apply(context, compiledArgs);\n          }\n\n          throw {\n            name: 'FunctionDoesNotExistException',\n            message: 'Function \\'' + functionName + '\\' does not exist.'\n          };\n        };\n\n        return node;\n      }\n\n      var FunctionReference = exports.FunctionReference = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.MethodReference = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n\n      var _Stack = __webpack_require__(1);\n      /**\n       * Expression language AST node that represents a method reference.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      function createNode(nullSafeNavigation, methodName, position, args) {\n        var node = _SpelNode.SpelNode.create('method', position);\n\n        node.getRaw = function () {\n          return {\n            methodName: methodName,\n            args: args\n          };\n        };\n\n        node.getValue = function (state) {\n          var context = state.activeContext.peek(),\n              compiledArgs = [],\n              method;\n\n          if (!context) {\n            throw {\n              name: 'ContextDoesNotExistException',\n              message: 'Attempting to look up property \\'' + methodName + '\\' for an undefined context.'\n            };\n          } //handle safe navigation\n\n\n          function maybeHandleNullSafeNavigation(member) {\n            if (member === undefined || member === null) {\n              if (nullSafeNavigation) {\n                return null;\n              }\n\n              throw {\n                name: 'NullPointerException',\n                message: 'Method ' + methodName + ' does not exist.'\n              };\n            }\n\n            return member;\n          } //populate arguments\n\n\n          args.forEach(function (arg) {\n            // reset the active context to root context for evaluating argument\n            var currentActiveContext = state.activeContext;\n            state.activeContext = new _Stack.Stack();\n            state.activeContext.push(state.rootContext); // evaluate argument\n\n            compiledArgs.push(arg.getValue(state)); // reset the active context\n\n            state.activeContext = currentActiveContext;\n          }); //accessors might not be available\n\n          if (methodName.substr(0, 3) === 'get' && !context[methodName]) {\n            return maybeHandleNullSafeNavigation(context[methodName.charAt(3).toLowerCase() + methodName.substring(4)]);\n          }\n\n          if (methodName.substr(0, 3) === 'set' && !context[methodName]) {\n            /*jshint -W093 */\n            return context[methodName.charAt(3).toLowerCase() + methodName.substring(4)] = compiledArgs[0];\n            /*jshint +W093 */\n          } //array methods\n\n\n          if (Array.isArray(context)) {\n            //size() -> length\n            if (methodName === 'size') {\n              return context.length;\n            }\n\n            if (methodName === 'contains') {\n              return context.includes(compiledArgs[0]);\n            }\n          }\n\n          method = maybeHandleNullSafeNavigation(context[methodName]);\n\n          if (method) {\n            return method.apply(context, compiledArgs);\n          }\n\n          return null;\n        };\n\n        return node;\n      }\n\n      var MethodReference = exports.MethodReference = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.PropertyReference = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents a simple property or field reference.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Clark Duplichien\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(nullSafeNavigation, propertyName, position) {\n        var node = _SpelNode.SpelNode.create('property', position);\n\n        node.getRaw = function () {\n          return propertyName;\n        };\n\n        node.getValue = function (state) {\n          var context = state.activeContext.peek();\n\n          if (!context) {\n            if (nullSafeNavigation) {\n              return null;\n            }\n\n            throw {\n              name: 'ContextDoesNotExistException',\n              message: 'Attempting to look up property \\'' + propertyName + '\\' for an undefined context.'\n            };\n          }\n\n          if (context[propertyName] === undefined || context[propertyName] === null) {\n            //handle safe navigation\n            if (nullSafeNavigation) {\n              return null;\n            } //handle conversion of Java properties to JavaScript properties\n\n\n            if (propertyName === 'size' && Array.isArray(context)) {\n              return context.length;\n            }\n\n            throw {\n              name: 'NullPointerException',\n              message: 'Property \\'' + propertyName + '\\' does not exist.'\n            };\n          }\n\n          return context[propertyName];\n        };\n\n        node.setValue = function (value, state) {\n          var context = state.activeContext.peek();\n\n          if (!context) {\n            throw {\n              name: 'ContextDoesNotExistException',\n              message: 'Attempting to assign property \\'' + propertyName + '\\' for an undefined context.'\n            };\n          }\n          /*jshint -W093 */\n\n\n          return context[propertyName] = value;\n          /*jshint +W093 */\n        };\n\n        node.getName = function () {\n          return propertyName;\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var PropertyReference = exports.PropertyReference = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.VariableReference = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents a variable reference, eg. #someVar. Note this is different to a *local*\n       * variable like $someVar\n       *\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(variableName, position) {\n        var node = _SpelNode.SpelNode.create('variable', position);\n\n        node.getRaw = function () {\n          return variableName;\n        };\n\n        node.getValue = function (state) {\n          var context = state.activeContext.peek(),\n              locals = state.locals;\n\n          if (!context) {\n            throw {\n              name: 'ContextDoesNotExistException',\n              message: 'Attempting to look up variable \\'' + variableName + '\\' for an undefined context.'\n            };\n          } //there are 2 keywords (root, this) that need to be dealt with\n\n\n          if (variableName === 'this') {\n            return context;\n          }\n\n          if (variableName === 'root') {\n            return state.rootContext;\n          }\n\n          return locals[variableName];\n        };\n\n        node.setValue = function (value, state) {\n          var locals = state.locals;\n          /*jshint -W093 */\n\n          return locals[variableName] = value;\n          /*jshint +W093 */\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var VariableReference = exports.VariableReference = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.CompoundExpression = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents a DOT separated expression sequence, such as 'property1.property2.methodOne()'\n       *\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, expressionComponents) {\n        var node = _SpelNode.SpelNode.create.apply(null, ['compound', position].concat(expressionComponents));\n\n        function buildContextStack(state) {\n          var childrenCount = node.getChildren().length,\n              i;\n\n          for (i = 0; i < childrenCount; i += 1) {\n            if (node.getChildren()[i].getType() === 'indexer') {\n              state.activeContext.push(state.activeContext.peek()[node.getChildren()[i].getValue(state)]);\n            } else {\n              state.activeContext.push(node.getChildren()[i].getValue(state));\n            }\n          }\n\n          return function unbuildContextStack() {\n            for (i = 0; i < childrenCount; i += 1) {\n              state.activeContext.pop();\n            }\n          };\n        }\n\n        node.getValue = function (state) {\n          var context = state.activeContext.peek(),\n              value;\n\n          if (!context) {\n            throw {\n              name: 'ContextDoesNotExistException',\n              message: 'Attempting to evaluate compound expression with an undefined context.'\n            };\n          }\n\n          var unbuildContextStack = buildContextStack(state);\n          value = state.activeContext.peek();\n          unbuildContextStack();\n          return value;\n        };\n\n        node.setValue = function (value, state) {\n          var unbuildContextStack = buildContextStack(state),\n              childCount = node.getChildren().length;\n          state.activeContext.pop();\n          value = node.getChildren()[childCount - 1].setValue(value, state);\n          state.activeContext.push(null);\n          unbuildContextStack();\n          return value;\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var CompoundExpression = exports.CompoundExpression = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Indexer = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n\n      var _Stack = __webpack_require__(1);\n      /**\n       * An Indexer can index into some proceeding structure to access a particular piece of it.\n       * Supported structures are: strings / collections (lists/sets) / arrays.\n       *\n       * @author Andy Clement\n       * @author Phillip Webb\n       * @author Stephane Nicoll\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      function createNode(position, expressionComponents) {\n        var node = _SpelNode.SpelNode.create.apply(null, ['indexer', position].concat(expressionComponents));\n\n        node.getValue = function (state) {\n          var activeContext = state.activeContext,\n              context,\n              childrenCount = node.getChildren().length,\n              i,\n              value;\n          state.activeContext = new _Stack.Stack();\n          state.activeContext.push(state.rootContext);\n          context = state.activeContext.peek();\n\n          if (!context) {\n            throw {\n              name: 'ContextDoesNotExistException',\n              message: 'Attempting to evaluate compound expression with an undefined context.'\n            };\n          }\n\n          for (i = 0; i < childrenCount; i += 1) {\n            state.activeContext.push(node.getChildren()[i].getValue(state));\n          }\n\n          value = state.activeContext.peek();\n\n          for (i = 0; i < childrenCount; i += 1) {\n            state.activeContext.pop();\n          }\n\n          state.activeContext = activeContext;\n          return value;\n        }; //node.setContext(node.getValue());\n\n\n        return node;\n      }\n\n      var Indexer = exports.Indexer = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Assign = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents assignment. An alternative to calling setValue() for an expression is to use\n       * an assign.\n       *\n       * <p>Example: 'someNumberProperty=42'\n       *\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, property, assignedValue) {\n        var node = _SpelNode.SpelNode.create('assign', position, property, assignedValue);\n\n        node.getValue = function (state) {\n          var context = state.activeContext.peek();\n\n          if (!context) {\n            throw {\n              name: 'ContextDoesNotExistException',\n              message: 'Attempting to assign property \\'' + property.getValue(state) + '\\' for an undefined context.'\n            };\n          }\n\n          return property.setValue(assignedValue.getValue(state), state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var Assign = exports.Assign = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpEQ = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Implements the equality operator.\n       *\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-eq', position, left, right);\n\n        node.getValue = function (state) {\n          return left.getValue(state) === right.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpEQ = exports.OpEQ = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpNE = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Implements the not-equal operator.\n       *\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-ne', position, left, right);\n\n        node.getValue = function (state) {\n          return left.getValue(state) !== right.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpNE = exports.OpNE = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpGE = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Implements greater-than-or-equal operator.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Giovanni Dall'Oglio Risso\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-ge', position, left, right);\n\n        node.getValue = function (state) {\n          return left.getValue(state) >= right.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpGE = exports.OpGE = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpGT = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Implements the greater-than operator.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Giovanni Dall'Oglio Risso\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-gt', position, left, right);\n\n        node.getValue = function (state) {\n          return left.getValue(state) > right.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpGT = exports.OpGT = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpLE = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Implements the less-than-or-equal operator.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Giovanni Dall'Oglio Risso\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-le', position, left, right);\n\n        node.getValue = function (state) {\n          return left.getValue(state) <= right.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpLE = exports.OpLE = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpLT = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Implements the less-than operator.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Giovanni Dall'Oglio Risso\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-lt', position, left, right);\n\n        node.getValue = function (state) {\n          return left.getValue(state) < right.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpLT = exports.OpLT = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpPlus = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * The plus operator will:\n       * <ul>\n       * <li>add numbers\n       * <li>concatenate strings\n       * </ul>\n       *\n       * <p>It can be used as a unary operator for numbers.\n       * The standard promotions are performed when the operand types vary (double+int=double).\n       * For other options it defers to the registered overloader.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Ivo Smid\n       * @author Giovanni Dall'Oglio Risso\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-plus', position, left, right);\n\n        node.getValue = function (state) {\n          if (!right) {\n            return +left.getValue(state);\n          } //javascript will handle string concatenation or addition depending on types\n\n\n          return left.getValue(state) + right.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpPlus = exports.OpPlus = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpMinus = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * The minus operator supports:\n       * <ul>\n       * <li>subtraction of numbers\n       * <li>subtraction of an int from a string of one character\n       * (effectively decreasing that character), so 'd'-3='a'\n       * </ul>\n       *\n       * <p>It can be used as a unary operator for numbers.\n       * The standard promotions are performed when the operand types vary (double-int=double).\n       * For other options it defers to the registered overloader.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Giovanni Dall'Oglio Risso\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-minus', position, left, right);\n\n        node.getValue = function (state) {\n          if (!right) {\n            return -left.getValue(state);\n          }\n\n          return left.getValue(state) - right.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpMinus = exports.OpMinus = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpMultiply = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Implements the {@code multiply} operator.\n       *\n       * <p>Conversions and promotions are handled as defined in\n       * <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/conversions.html\">Section 5.6.2 of the\n       * Java Language Specification</a>, with the addiction of {@code BigDecimal}/{@code BigInteger} management:\n       *\n       * <p>If any of the operands is of a reference type, unboxing conversion (Section 5.1.8)\n       * is performed. Then:<br>\n       * If either operand is of type {@code BigDecimal}, the other is converted to {@code BigDecimal}.<br>\n       * If either operand is of type double, the other is converted to double.<br>\n       * Otherwise, if either operand is of type float, the other is converted to float.<br>\n       * If either operand is of type {@code BigInteger}, the other is converted to {@code BigInteger}.<br>\n       * Otherwise, if either operand is of type long, the other is converted to long.<br>\n       * Otherwise, both operands are converted to type int.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Sam Brannen\n       * @author Giovanni Dall'Oglio Risso\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-multiply', position, left, right);\n\n        node.getValue = function (state) {\n          var leftValue = left.getValue(state),\n              rightValue = right.getValue(state);\n\n          if (typeof leftValue === 'number' && typeof rightValue === 'number') {\n            return leftValue * rightValue;\n          } //repeats (ex. 'abc' * 2 = 'abcabc')\n\n\n          if (typeof leftValue === 'string' && typeof rightValue === 'number') {\n            var s = '',\n                i = 0;\n\n            for (; i < rightValue; i += 1) {\n              s += leftValue;\n            }\n\n            return s;\n          }\n\n          return null;\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpMultiply = exports.OpMultiply = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpDivide = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Implements division operator.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Giovanni Dall'Oglio Risso\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-divide', position, left, right);\n\n        node.getValue = function (state) {\n          return left.getValue(state) / right.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpDivide = exports.OpDivide = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpModulus = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Implements the modulus operator.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Giovanni Dall'Oglio Risso\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-modulus', position, left, right);\n\n        node.getValue = function (state) {\n          return left.getValue(state) % right.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpModulus = exports.OpModulus = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpPower = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * The power operator.\n       *\n       * @author Andy Clement\n       * @author Giovanni Dall'Oglio Risso\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, base, exp) {\n        var node = _SpelNode.SpelNode.create('op-power', position, base, exp);\n\n        node.getValue = function (state) {\n          return Math.pow(base.getValue(state), exp.getValue(state));\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpPower = exports.OpPower = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpInc = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Increment operator. Can be used in a prefix or postfix form. This will throw\n       * appropriate exceptions if the operand in question does not support increment.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Giovanni Dall'Oglio Risso\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, postfix, int) {\n        var node = _SpelNode.SpelNode.create('op-inc', position, int);\n\n        node.getValue = function (state) {\n          var cur = int.getValue(state);\n          int.setValue(cur + 1, state);\n\n          if (postfix) {\n            return cur;\n          }\n\n          return cur + 1;\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpInc = exports.OpInc = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpDec = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Decrement operator.  Can be used in a prefix or postfix form. This will throw\n       * appropriate exceptions if the operand in question does not support decrement.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Giovanni Dall'Oglio Risso\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, postfix, int) {\n        var node = _SpelNode.SpelNode.create('op-dec', position, int);\n\n        node.getValue = function (state) {\n          var cur = int.getValue(state);\n          int.setValue(cur - 1, state);\n\n          if (postfix) {\n            return cur;\n          }\n\n          return cur - 1;\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpDec = exports.OpDec = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpNot = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents a NOT operation.\n       *\n       * @author Andy Clement\n       * @author Mark Fisher\n       * @author Oliver Becker\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, expr) {\n        var node = _SpelNode.SpelNode.create('op-not', position, expr);\n\n        node.getValue = function (state) {\n          return !expr.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpNot = exports.OpNot = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpAnd = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents the boolean AND operation.\n       *\n       * @author Andy Clement\n       * @author Mark Fisher\n       * @author Oliver Becker\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-and', position, left, right);\n\n        node.getValue = function (state) {\n          //double bang for javascript\n          return !!left.getValue(state) && !!right.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpAnd = exports.OpAnd = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpOr = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents the boolean OR operation.\n       *\n       * @author Andy Clement\n       * @author Mark Fisher\n       * @author Oliver Becker\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('op-or', position, left, right);\n\n        node.getValue = function (state) {\n          //double bang for javascript\n          return !!left.getValue(state) || !!right.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpOr = exports.OpOr = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpMatches = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Implements the matches operator. Matches takes two operands:\n       * The first is a String and the second is a Java regex.\n       * It will return {@code true} when {@link #getValue} is called\n       * if the first operand matches the regex.\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Chris Thielen\n       * @since 3.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('matches', position, left, right);\n        /**\n         * Check the first operand matches the regex specified as the second operand.\n         * @param state the expression state\n         * @return {@code true} if the first operand matches the regex specified as the\n         * second operand, otherwise {@code false}\n         * @throws EvaluationException if there is a problem evaluating the expression\n         * (e.g. the regex is invalid)\n         */\n\n\n        node.getValue = function (state) {\n          var data = left.getValue(state);\n          var regexpString = right.getValue(state);\n\n          try {\n            var regexp = new RegExp(regexpString);\n            return !!regexp.exec(data);\n          } catch (error) {\n            throw {\n              name: 'EvaluationException',\n              message: error.toString()\n            };\n          }\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2019 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      https://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpMatches = exports.OpMatches = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Ternary = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents a ternary expression, for example: \"someCheck()?true:false\".\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, expression, ifTrue, ifFalse) {\n        var node = _SpelNode.SpelNode.create('ternary', position, expression, ifTrue, ifFalse);\n\n        node.getValue = function (state) {\n          return expression.getValue(state) ? ifTrue.getValue(state) : ifFalse.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var Ternary = exports.Ternary = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Elvis = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents the elvis operator ?:. For an expression \"a?:b\" if a is not null, the value\n       * of the expression is \"a\", if a is null then the value of the expression is \"b\".\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, expression, ifFalse) {\n        var node = _SpelNode.SpelNode.create('elvis', position, expression, ifFalse);\n\n        node.getValue = function (state) {\n          return expression.getValue(state) !== null ? expression.getValue(state) : ifFalse.getValue(state);\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var Elvis = exports.Elvis = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.InlineList = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represent a list in an expression, e.g. '{1,2,3}'\n       *\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, elements) {\n        var node = _SpelNode.SpelNode.create('list', position),\n            list = [].concat(elements || []);\n\n        node.getRaw = function () {\n          return list;\n        };\n\n        node.getValue = function (state) {\n          return list.map(function (element) {\n            return element.getValue(state);\n          });\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var InlineList = exports.InlineList = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.InlineMap = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represent a map in an expression, e.g. '{name:'foo',age:12}'\n       *\n       * @author Andy Clement\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function createNode(position, elements) {\n        var node = _SpelNode.SpelNode.create('map', position),\n            mapPieces = [].concat(elements || []);\n\n        node.getValue = function (state) {\n          var key = true,\n              keyValue = null,\n              map = {};\n          mapPieces.forEach(function (piece) {\n            if (key) {\n              //unquoted property names come as type \"property\" but should be treated as strings\n              if (piece.getType() === 'property') {\n                keyValue = piece.getName();\n              } else {\n                keyValue = piece.getValue(state);\n              }\n            } else {\n              map[keyValue] = piece.getValue(state);\n            }\n\n            key = !key;\n          });\n          return map;\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var InlineMap = exports.InlineMap = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Selection = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents selection over a map or collection.\n       * For example: {1,2,3,4,5,6,7,8,9,10}.?{#isEven(#this) == 'y'} returns [2, 4, 6, 8, 10]\n       *\n       * <p>Basically a subset of the input data is returned based on the\n       * evaluation of the expression supplied as selection criteria.\n       *\n       * @author Andy Clement\n       * @author Mark Fisher\n       * @author Sam Brannen\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function matches(element, expr, state) {\n        var doesMatch = false;\n        state.activeContext.push(element);\n        doesMatch = expr.getValue(state);\n        state.activeContext.pop();\n        return doesMatch;\n      }\n\n      function selectFromArray(collection, whichElement, expr, state) {\n        var newCollection = collection.filter(function (element) {\n          return matches(element, expr, state);\n        });\n\n        switch (whichElement) {\n          case 'ALL':\n            return newCollection;\n\n          case 'FIRST':\n            return newCollection[0] || null;\n\n          case 'LAST':\n            if (newCollection.length) {\n              return newCollection[newCollection.length - 1];\n            }\n\n            return null;\n        }\n      }\n\n      function selectFromMap(collection, whichElement, expr, state) {\n        var newCollection = {},\n            entry,\n            key,\n            entries = [],\n            returnValue = {};\n\n        for (key in collection) {\n          if (collection.hasOwnProperty(key)) {\n            entry = {\n              key: key,\n              value: collection[key]\n            };\n\n            if (matches(entry, expr, state)) {\n              entries.push(entry);\n            }\n          }\n        }\n\n        switch (whichElement) {\n          case 'ALL':\n            entries.forEach(function (entry) {\n              newCollection[entry.key] = entry.value;\n            });\n            return newCollection;\n\n          case 'FIRST':\n            if (entries.length) {\n              returnValue[entries[0].key] = entries[0].value;\n              return returnValue;\n            }\n\n            return null;\n\n          case 'LAST':\n            if (entries.length) {\n              returnValue[entries[entries.length - 1].key] = entries[entries.length - 1].value;\n              return returnValue;\n            }\n\n            return null;\n        }\n\n        entries.forEach(function (entry) {\n          newCollection[entry.key] = entry.value;\n        });\n      }\n\n      function createNode(nullSafeNavigation, whichElement, position, expr) {\n        var node = _SpelNode.SpelNode.create('selection', position, expr);\n\n        node.getValue = function (state) {\n          var collection = state.activeContext.peek();\n\n          if (collection) {\n            if (Array.isArray(collection)) {\n              return selectFromArray(collection, whichElement, expr, state);\n            } else if ((typeof collection === 'undefined' ? 'undefined' : _typeof(collection)) === 'object') {\n              return selectFromMap(collection, whichElement, expr, state);\n            }\n          }\n\n          return null;\n        };\n\n        return node;\n      }\n\n      var Selection = exports.Selection = {\n        create: createNode,\n        FIRST: 'FIRST',\n        LAST: 'LAST',\n        ALL: 'ALL'\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Projection = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents projection, where a given operation is performed on all elements in some\n       * input sequence, returning a new sequence of the same size. For example:\n       * \"{1,2,3,4,5,6,7,8,9,10}.!{#isEven(#this)}\" returns \"[n, y, n, y, n, y, n, y, n, y]\"\n       *\n       * @author Andy Clement\n       * @author Mark Fisher\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n\n      function projectCollection(collection, expr, state) {\n        return collection.map(function (element) {\n          var matches;\n          state.activeContext.push(element);\n          matches = expr.getValue(state);\n          state.activeContext.pop();\n          return matches;\n        });\n      }\n\n      function createNode(nullSafeNavigation, position, expr) {\n        var node = _SpelNode.SpelNode.create('projection', position, expr);\n\n        node.getValue = function (state) {\n          var collection = state.activeContext.peek(),\n              entries = [],\n              key;\n\n          if (Array.isArray(collection)) {\n            return projectCollection(collection, expr, state);\n          } else if ((typeof collection === 'undefined' ? 'undefined' : _typeof(collection)) === 'object') {\n            for (key in collection) {\n              if (collection.hasOwnProperty(key)) {\n                entries.push(collection[key]);\n              }\n            }\n\n            return projectCollection(entries, expr, state);\n          }\n\n          return null;\n        };\n\n        return node;\n      }\n\n      var Projection = exports.Projection = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpInstanceof = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * The operator 'instanceof' checks if an object is of the class specified in the right\n       * hand operand, in the same way that {@code instanceof} does in Java.\n       *\n       * THIS OPERATOR IS NOT IMPLEMENTED AND WILL THROW AN EXCEPTION\n       *\n       * @author Andy Clement\n       * @since 3.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('instanceof', position, left, right);\n        /**\n         * Compare the left operand to see it is an instance of the type specified as the\n         * right operand. The right operand must be a class.\n         * @param state the expression state\n         * @return {@code true} if the left operand is an instanceof of the right operand,\n         * otherwise {@code false}\n         * @throws EvaluationException if there is a problem evaluating the expression\n         */\n\n\n        node.getValue = function (state) {\n          throw {\n            name: 'MethodNotImplementedException',\n            message: 'OpInstanceOf: Not implemented'\n          };\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2019 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      https://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpInstanceof = exports.OpInstanceof = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.OpBetween = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents the between operator. The left operand to between must be a single value and\n       * the right operand must be a list - this operator returns true if the left operand is\n       * between (using the registered comparator) the two elements in the list. The definition\n       * of between being inclusive follows the SQL BETWEEN definition.\n       *\n       * @author Andy Clement\n       * @since 3.0\n       */\n\n\n      function createNode(position, left, right) {\n        var node = _SpelNode.SpelNode.create('between', position, left, right);\n        /**\n         * Returns a boolean based on whether a value is in the range expressed. The first\n         * operand is any value whilst the second is a list of two values - those two values\n         * being the bounds allowed for the first operand (inclusive).\n         * @param state the expression state\n         * @return true if the left operand is in the range specified, false otherwise\n         * @throws EvaluationException if there is a problem evaluating the expression\n         */\n\n\n        node.getValue = function (state) {\n          throw {\n            name: 'MethodNotImplementedException',\n            message: 'OpBetween: Not implemented'\n          };\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2019 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      https://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var OpBetween = exports.OpBetween = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.TypeReference = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents a reference to a type, for example\n       * {@code \"T(String)\" or \"T(com.somewhere.Foo)\"}.\n       *\n       * @author Andy Clement\n       */\n\n\n      function createNode(position, node, _dims) {\n        var node = _SpelNode.SpelNode.create('typeref', position, node);\n\n        node.getValue = function (state) {\n          throw {\n            name: 'MethodNotImplementedException',\n            message: 'TypeReference: Not implemented'\n          };\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2019 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      https://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var TypeReference = exports.TypeReference = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.BeanReference = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * Represents a bean reference to a type, for example <tt>@foo</tt> or <tt>@'foo.bar'</tt>.\n       * For a FactoryBean the syntax <tt>&foo</tt> can be used to access the factory itself.\n       *\n       * @author Andy Clement\n       */\n\n\n      function createNode(position, beanName) {\n        var node = _SpelNode.SpelNode.create('beanref', position);\n\n        node.getValue = function (state) {\n          throw {\n            name: 'MethodNotImplementedException',\n            message: 'BeanReference: Not implemented'\n          };\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2019 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      https://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var BeanReference = exports.BeanReference = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Identifier = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n      /**\n       * An 'identifier' {@link SpelNode}.\n       *\n       * @author Andy Clement\n       * @since 3.0\n       */\n\n\n      function createNode(identifierName, position) {\n        var node = _SpelNode.SpelNode.create('identifier', position);\n\n        node.getRaw = function () {\n          return identifierName;\n        };\n\n        node.getValue = function (state) {\n          throw {\n            name: 'MethodNotImplementedException',\n            message: 'Identifier: Not implemented'\n          };\n        };\n\n        return node;\n      }\n      /*\n       * Copyright 2002-2019 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      https://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n\n      var Identifier = exports.Identifier = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.QualifiedIdentifier = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }\n\n          return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n      /*\n       * Copyright 2002-2019 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      https://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * Represents a dot separated sequence of strings that indicate a package qualified type\n       * reference.\n       *\n       * <p>Example: \"java.lang.String\" as in the expression \"new java.lang.String('hello')\"\n       *\n       * @author Andy Clement\n       * @since 3.0\n       */\n\n\n      function createNode(position, pieces) {\n        var node = _SpelNode.SpelNode.create.apply(_SpelNode.SpelNode, ['qualifiedidentifier', position].concat(_toConsumableArray(pieces)));\n\n        node.getRaw = function () {\n          return pieces.map(function (p) {\n            return p.getRaw();\n          });\n        };\n\n        node.getValue = function (state) {\n          throw {\n            name: 'MethodNotImplementedException',\n            message: 'QualifiedIdentifier: Not implemented'\n          };\n        };\n\n        return node;\n      }\n\n      var QualifiedIdentifier = exports.QualifiedIdentifier = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ConstructorReference = undefined;\n\n      var _SpelNode = __webpack_require__(0);\n\n      var _Stack = __webpack_require__(1);\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }\n\n          return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      function _toArray(arr) {\n        return Array.isArray(arr) ? arr : Array.from(arr);\n      }\n      /*\n       * Copyright 2002-2019 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      https://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * Represents the invocation of a constructor. Either a constructor on a regular type or\n       * construction of an array. When an array is constructed, an initializer can be specified.\n       *\n       * <p>Examples:<br>\n       * new String('hello world')<br>\n       * new int[]{1,2,3,4}<br>\n       * new int[3] new int[3]{1,2,3}\n       *\n       * @author Andy Clement\n       * @author Juergen Hoeller\n       * @since 3.0\n       */\n\n\n      function createNode(position, dimensions, nodes) {\n        var isArray = nodes !== undefined;\n        var dimension;\n\n        if (isArray) {\n          dimension = dimensions.length && dimensions[0] && dimensions[0].getType() === 'number' ? dimensions[0].getValue() : null;\n        } else {\n          nodes = dimensions;\n          dimensions = undefined;\n        }\n\n        var _nodes = nodes,\n            _nodes2 = _toArray(_nodes),\n            _qualifiedIdentifier = _nodes2[0],\n            args = _nodes2.slice(1);\n\n        var node = _SpelNode.SpelNode.create.apply(_SpelNode.SpelNode, ['constructorref', position].concat(_toConsumableArray(nodes)));\n\n        node.getRaw = function () {\n          return dimension;\n        };\n\n        node.getValue = function (state) {\n          if (isArray && args.length <= 1) {\n            var compiledArgs = []; //populate arguments\n\n            args.forEach(function (arg) {\n              // reset the active context to root context for evaluating argument\n              var currentActiveContext = state.activeContext;\n              state.activeContext = new _Stack.Stack();\n              state.activeContext.push(state.rootContext); // evaluate argument\n\n              compiledArgs.push(arg.getValue(state)); // reset the active context\n\n              state.activeContext = currentActiveContext;\n            });\n\n            if (args.length === 1) {\n              return compiledArgs[0];\n            } else {\n              return dimension ? new Array(dimension) : [];\n            }\n          }\n\n          throw {\n            name: 'MethodNotImplementedException',\n            message: 'ConstructorReference: Not implemented'\n          };\n        };\n\n        return node;\n      }\n\n      var ConstructorReference = exports.ConstructorReference = {\n        create: createNode\n      };\n      /***/\n    }, function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      /*\n       * Copyright 2002-2015 the original author or authors.\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *      http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * @author Ben March\n       * @since 0.2.0\n       */\n\n      function create(authentication, principal) {\n        var context = {};\n        context.authentication = authentication || {};\n        context.principal = principal || {};\n\n        context.hasRole = function (role) {\n          var hasRole = false;\n\n          if (!role) {\n            return false;\n          }\n\n          if (!context.authentication && !Array.isArray(context.authentication.authorities)) {\n            return false;\n          }\n\n          context.authentication.authorities.forEach(function (grantedAuthority) {\n            if (grantedAuthority.authority.toLowerCase() === role.toLowerCase()) {\n              hasRole = true;\n            }\n          });\n          return hasRole;\n        };\n\n        context.hasPermission = function ()\n        /*variable arguments*/\n        {\n          var args = Array.prototype.slice.call(arguments);\n\n          if (args.length === 1) {\n            return context.hasRole(args[0]);\n          }\n        };\n\n        return context;\n      }\n\n      var StandardContext = exports.StandardContext = {\n        create: create\n      };\n      /***/\n    }])\n  );\n});","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/SOURCE-512/QuaLISWeb/node_modules/spel2js/dist/spel2js.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","value","createSpelNode","nodeType","position","node","type","children","parent","activeContext","_type","getType","setType","getChildren","addChild","childNode","setParent","message","JSON","stringify","push","getParent","parentNode","getContext","state","peek","setContext","nodeContext","getStartPosition","getEndPosition","getValue","toString","length","_len","arguments","operands","Array","_key","forEach","operand","SpelNode","create","Stack","startingElements","elements","el","pop","empty","search","indexOf","types","LITERAL_INT","LITERAL_LONG","LITERAL_HEXINT","LITERAL_HEXLONG","LITERAL_STRING","LITERAL_REAL","LITERAL_REAL_FLOAT","LPAREN","RPAREN","COMMA","IDENTIFIER","COLON","HASH","RSQUARE","LSQUARE","LCURLY","RCURLY","DOT","PLUS","STAR","MINUS","SELECT_FIRST","SELECT_LAST","QMARK","PROJECT","DIV","GE","GT","LE","LT","EQ","NE","MOD","NOT","ASSIGN","INSTANCEOF","MATCHES","BETWEEN","SELECT","POWER","ELVIS","SAFE_NAVI","BEAN_REF","SYMBOLIC_OR","SYMBOLIC_AND","INC","DEC","TokenKind","tokenChars","_hasPayload","_ordinal","t","getLength","hasPayload","valueOf","id","ordinal","StandardContext","SpelExpressionEvaluator","undefined","_SpelExpressionEvaluator","_StandardContext","_SpelExpressionParser","_Stack","spelExpressionEvaluator","evalCompiled","compiledExpression","context","locals","rootContext","compile","expression","SpelExpressionParser","parse","eval","_eval","_compiledExpression","_TokenKind","_Tokenizer","_BooleanLiteral","_NumberLiteral","_StringLiteral","_NullLiteral","_FunctionReference","_MethodReference","_PropertyReference","_VariableReference","_CompoundExpression","_Indexer","_Assign","_OpEQ","_OpNE","_OpGE","_OpGT","_OpLE","_OpLT","_OpPlus","_OpMinus","_OpMultiply","_OpDivide","_OpModulus","_OpPower","_OpInc","_OpDec","_OpNot","_OpAnd","_OpOr","_OpMatches","_Ternary","_Elvis","_InlineList","_InlineMap","_Selection","_Projection","_OpInstanceof","_OpBetween","_TypeReference","_BeanReference","_Identifier","_QualifiedIdentifier","_ConstructorReference","VALID_QUALIFIED_ID_PATTERN","RegExp","configuration","constructedNodes","expressionString","tokenStream","tokenStreamLength","tokenStreamPointer","setConfiguration","config","Tokenizer","tokenize","ast","eatExpression","moreTokens","raiseInternalException","peekToken","startPos","nextToken","e","expr","eatLogicalOrExpression","token","getKind","NullLiteral","toPosBounds","endPos","assignedValue","Assign","toPosToken","valueIfNull","Elvis","ifTrueExprValue","eatToken","ifFalseExprValue","Ternary","eatLogicalAndExpression","peekIdentifierToken","peekTokenOne","rhExpr","checkOperands","OpOr","eatRelationalExpression","OpAnd","eatSumExpression","relationalOperatorToken","maybeEatRelationalOperator","tk","kind","isNumericRelationalOperator","pos","OpGT","OpLT","OpLE","OpGE","OpEQ","OpNE","OpInstanceof","OpMatches","OpBetween","eatProductExpression","peekTokenAny","checkRightOperand","OpPlus","OpMinus","eatPowerIncDecExpression","OpMultiply","OpDivide","OpModulus","eatUnaryExpression","OpPower","OpInc","OpDec","OpNot","eatPrimaryExpression","nodes","start","eatStartNode","maybeEatNode","CompoundExpression","eatDottedNode","maybeEatNonDottedNode","maybeEatIndexer","nullSafeNavigation","maybeEatMethodOrProperty","maybeEatFunctionOrVar","maybeEatProjection","maybeEatSelection","functionOrVariableName","args","maybeEatMethodArgs","VariableReference","data","FunctionReference","consumeArguments","eatConstructorArgs","accumulatedArguments","next","positionOf","maybeEatLiteral","maybeEatParenExpression","maybeEatTypeReference","maybeEatNullReference","maybeEatConstructorReference","maybeEatBeanReference","maybeEatInlineListOrMap","beanRefToken","beanNameToken","beanName","stringValue","substring","beanReference","BeanReference","typeName","PropertyReference","eatPossiblyQualifiedId","dims","peekTokenConsumeIfMatched","TypeReference","nullToken","toLowerCase","Projection","listElements","closingCurly","InlineList","InlineMap","firstExpression","mapElements","Indexer","peekSelectToken","Selection","FIRST","LAST","ALL","qualifiedIdPieces","isValidQualifiedId","Identifier","QualifiedIdentifier","test","methodOrPropertyName","MethodReference","newToken","possiblyQualifiedConstructorName","dimensions","ConstructorReference","newNode","NumberLiteral","parseInt","parseFloat","BooleanLiteral","StringLiteral","isIdentifier","idString","asInstanceOfToken","asMatchesToken","asBetweenToken","expectedKind","desiredTokenKind","consumeIfMatched","slice","identifierString","expected","actual","left","right","checkLeftOperand","operandExpression","end","_Token","ALTERNATIVE_OPERATOR_NAMES","FLAGS","IS_DIGIT","IS_HEXDIGIT","IS_ALPHA","init","ch","charCodeAt","inputData","toProcess","max","tokens","process","isAlphabetic","lexIdentifier","isTwoCharToken","pushPairToken","pushCharToken","lexNumericLiteral","lexQuotedStringLiteral","lexDoubleQuotedStringLiteral","terminated","Token","subarray","firstCharIsZero","isReal","isHex","dotpos","endOfNumber","possibleSign","isFloat","isHexadecimalDigit","isChar","pushHexIntToken","isDigit","pushIntToken","isExponentChar","isSign","isFloatSuffix","isDoubleSuffix","pushRealToken","asString","idx","toUpperCase","pushOneCharOrTwoCharToken","replace","isLong","a","b","tokenKind","tokenData","_SpelNode","createNode","setValue","newValue","stripQuotes","functionName","getRaw","compiledArgs","arg","currentActiveContext","apply","methodName","method","maybeHandleNullSafeNavigation","member","substr","charAt","isArray","includes","propertyName","getName","variableName","expressionComponents","concat","buildContextStack","childrenCount","unbuildContextStack","childCount","leftValue","rightValue","base","exp","Math","pow","postfix","int","cur","regexpString","regexp","exec","error","ifTrue","ifFalse","list","map","element","mapPieces","key","keyValue","piece","_typeof","Symbol","iterator","obj","constructor","matches","doesMatch","selectFromArray","collection","whichElement","newCollection","filter","selectFromMap","entry","entries","returnValue","projectCollection","_dims","identifierName","_toConsumableArray","arr","arr2","from","pieces","_toArray","dimension","_nodes","_nodes2","_qualifiedIdentifier","authentication","principal","hasRole","role","authorities","grantedAuthority","authority","hasPermission"],"mappings":"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","sourcesContent":["/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"spel2js\"] = factory();\n\telse\n\t\troot[\"spel2js\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * The common supertype of all AST nodes in a parsed Spring Expression Language\n * format expression.\n *\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createSpelNode(nodeType, position) {\n    var node = {},\n        type = nodeType || 'Abstract',\n        children = [],\n        parent = null,\n        activeContext;\n\n    node._type = type;\n\n    node.getType = function () {\n        return type;\n    };\n    node.setType = function (nodeType) {\n        type = nodeType;\n    };\n\n    node.getChildren = function () {\n        return children;\n    };\n    node.addChild = function (childNode) {\n        if (!childNode) {\n            // See OpMinus and OpPlus: right node can be null for unary mode\n            return;\n        }\n        if (!childNode.setParent) {\n            throw {\n                name: 'Error',\n                message: 'Trying to add a child which is not a node: ' + JSON.stringify(childNode)\n            };\n        }\n        childNode.setParent(node);\n        children.push(childNode);\n    };\n\n    node.getParent = function () {\n        return parent;\n    };\n    node.setParent = function (parentNode) {\n        parent = parentNode;\n    };\n\n    node.getContext = function (state) {\n        return activeContext || state.activeContext.peek();\n    };\n    node.setContext = function (nodeContext) {\n        activeContext = nodeContext;\n    };\n\n    node.getStartPosition = function () {\n        return position >> 16;\n    };\n\n    node.getEndPosition = function () {\n        return position & 0xffff;\n    };\n\n    //must override\n    node.getValue = function () {\n        throw {\n            name: 'MethodNotImplementedException',\n            message: 'SpelNode#getValue() must be overridden.'\n        };\n    };\n\n    node.toString = function () {\n        var s = 'Kind: ' + node.getType();\n        //s += ', Value: ' + node.getValue();\n        s += ', Children: [';\n        for (var i = 0, l = node.getChildren().length; i < l; i += 1) {\n            s += '{' + node.getChildren()[i] + '}, ';\n        }\n        s += ']';\n        return s;\n    };\n\n    //constructor\n    if (position === 0) {\n        throw {\n            name: 'Error',\n            message: 'Position cannot be 0'\n        };\n    }\n\n    for (var _len = arguments.length, operands = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        operands[_key - 2] = arguments[_key];\n    }\n\n    if (operands) {\n        operands.forEach(function (operand) {\n            node.addChild(operand);\n        });\n    }\n\n    return node;\n}\n\nvar SpelNode = exports.SpelNode = {\n    create: createSpelNode\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Stack = Stack;\n/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction Stack(startingElements) {\n    this.elements = startingElements || [];\n}\n\nStack.prototype.push = function (el) {\n    this.elements.push(el);\n    return el;\n};\n\nStack.prototype.pop = function () {\n    return this.elements.pop();\n};\n\nStack.prototype.peek = function () {\n    return this.elements[this.elements.length - 1];\n};\n\nStack.prototype.empty = function () {\n    return this.elements.length > 0;\n};\n\nStack.prototype.search = function (el) {\n    return this.elements.length - this.elements.indexOf(el);\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nvar types = {\n\n    LITERAL_INT: 1, //tested\n\n    LITERAL_LONG: 2, //tested\n\n    LITERAL_HEXINT: 3, //tested\n\n    LITERAL_HEXLONG: 4, //tested\n\n    LITERAL_STRING: 5, //tested\n\n    LITERAL_REAL: 6, //tested\n\n    LITERAL_REAL_FLOAT: 7, //tested\n\n    LPAREN: '(', //tested\n\n    RPAREN: ')', //tested\n\n    COMMA: ',', //tested\n\n    IDENTIFIER: 0, //tested\n\n    COLON: ':', //tested\n\n    HASH: '#', //tested\n\n    RSQUARE: ']', //tested\n\n    LSQUARE: '[', //tested\n\n    LCURLY: '{', //tested\n\n    RCURLY: '}', //tested\n\n    DOT: '.', //tested\n\n    PLUS: '+', //tested\n\n    STAR: '*', //tested\n\n    MINUS: '-', //tested\n\n    SELECT_FIRST: '^[', //tested\n\n    SELECT_LAST: '$[', //tested\n\n    QMARK: '?', //tested\n\n    PROJECT: '![', //tested\n\n    DIV: '/', //tested\n\n    GE: '>=', //tested\n\n    GT: '>', //tested\n\n    LE: '<=', //tested\n\n    LT: '<', //tested\n\n    EQ: '==', //tested\n\n    NE: '!=', //tested\n\n    MOD: '%', //tested\n\n    NOT: '!', //tested\n\n    ASSIGN: '=', //tested\n\n    INSTANCEOF: 'instanceof', //test fails\n\n    MATCHES: 'matches', //test fails\n\n    BETWEEN: 'between', //test fails\n\n    SELECT: '?[', //tested\n\n    POWER: '^', //tested\n\n    ELVIS: '?:', //tested\n\n    SAFE_NAVI: '?.', //tested\n\n    BEAN_REF: '@', //tested\n\n    SYMBOLIC_OR: '||', //tested\n\n    SYMBOLIC_AND: '&&', //tested\n\n    INC: '++', //tested\n\n    DEC: '--' //tested\n};\n\nfunction TokenKind(type) {\n    this.type = type;\n    this.tokenChars = types[type];\n    this._hasPayload = typeof types[type] !== 'string';\n    if (typeof types[type] === 'number') {\n        this._ordinal = types[type];\n    }\n}\n\n//create enum\nfor (var t in types) {\n    if (types.hasOwnProperty(t)) {\n        TokenKind[t] = new TokenKind(t);\n    }\n}\n\nTokenKind.prototype.toString = function () {\n    return this.type + (this.tokenChars.length !== 0 ? '(' + this.tokenChars + ')' : '');\n};\n\nTokenKind.prototype.getLength = function () {\n    return this.tokenChars.length;\n};\n\nTokenKind.prototype.hasPayload = function () {\n    return this._hasPayload;\n};\n\nTokenKind.prototype.valueOf = function (id) {\n    for (var t in types) {\n        if (types.hasOwnProperty(t) && types[t] === id) {\n            return TokenKind[t];\n        }\n    }\n};\n\nTokenKind.prototype.ordinal = function () {\n    return this._ordinal;\n};\n\nexports.TokenKind = TokenKind;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StandardContext = exports.SpelExpressionEvaluator = undefined;\n\nvar _SpelExpressionEvaluator = __webpack_require__(4);\n\nvar _StandardContext = __webpack_require__(50);\n\n/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @author Ben March\n * @since 0.2.0\n */\n\nexports.SpelExpressionEvaluator = _SpelExpressionEvaluator.SpelExpressionEvaluator;\nexports.StandardContext = _StandardContext.StandardContext;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.SpelExpressionEvaluator = undefined;\n\nvar _SpelExpressionParser = __webpack_require__(5);\n\nvar _Stack = __webpack_require__(1);\n\n/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @author Ben March\n * @since 0.2.0\n */\n\nvar spelExpressionEvaluator = {};\n\nfunction evalCompiled(compiledExpression, context, locals) {\n    var activeContext = new _Stack.Stack(),\n        state;\n\n    if (!context) {\n        context = {};\n    }\n\n    activeContext.push(context);\n\n    state = {\n        rootContext: context,\n        activeContext: activeContext,\n        locals: locals\n    };\n    return compiledExpression.getValue(state);\n}\n\nspelExpressionEvaluator.compile = function (expression) {\n    var compiledExpression = (0, _SpelExpressionParser.SpelExpressionParser)().parse(expression);\n    return {\n        eval: function _eval(context, locals) {\n            return evalCompiled(compiledExpression, context, locals);\n        },\n        _compiledExpression: compiledExpression\n    };\n};\n\nspelExpressionEvaluator.eval = function (expression, context, locals) {\n    return spelExpressionEvaluator.compile(expression).eval(context, locals);\n};\n\nexports.SpelExpressionEvaluator = spelExpressionEvaluator;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.SpelExpressionParser = undefined;\n\nvar _TokenKind = __webpack_require__(2);\n\nvar _Tokenizer = __webpack_require__(6);\n\nvar _BooleanLiteral = __webpack_require__(8);\n\nvar _NumberLiteral = __webpack_require__(9);\n\nvar _StringLiteral = __webpack_require__(10);\n\nvar _NullLiteral = __webpack_require__(11);\n\nvar _FunctionReference = __webpack_require__(12);\n\nvar _MethodReference = __webpack_require__(13);\n\nvar _PropertyReference = __webpack_require__(14);\n\nvar _VariableReference = __webpack_require__(15);\n\nvar _CompoundExpression = __webpack_require__(16);\n\nvar _Indexer = __webpack_require__(17);\n\nvar _Assign = __webpack_require__(18);\n\nvar _OpEQ = __webpack_require__(19);\n\nvar _OpNE = __webpack_require__(20);\n\nvar _OpGE = __webpack_require__(21);\n\nvar _OpGT = __webpack_require__(22);\n\nvar _OpLE = __webpack_require__(23);\n\nvar _OpLT = __webpack_require__(24);\n\nvar _OpPlus = __webpack_require__(25);\n\nvar _OpMinus = __webpack_require__(26);\n\nvar _OpMultiply = __webpack_require__(27);\n\nvar _OpDivide = __webpack_require__(28);\n\nvar _OpModulus = __webpack_require__(29);\n\nvar _OpPower = __webpack_require__(30);\n\nvar _OpInc = __webpack_require__(31);\n\nvar _OpDec = __webpack_require__(32);\n\nvar _OpNot = __webpack_require__(33);\n\nvar _OpAnd = __webpack_require__(34);\n\nvar _OpOr = __webpack_require__(35);\n\nvar _OpMatches = __webpack_require__(36);\n\nvar _Ternary = __webpack_require__(37);\n\nvar _Elvis = __webpack_require__(38);\n\nvar _InlineList = __webpack_require__(39);\n\nvar _InlineMap = __webpack_require__(40);\n\nvar _Selection = __webpack_require__(41);\n\nvar _Projection = __webpack_require__(42);\n\nvar _OpInstanceof = __webpack_require__(43);\n\nvar _OpBetween = __webpack_require__(44);\n\nvar _TypeReference = __webpack_require__(45);\n\nvar _BeanReference = __webpack_require__(46);\n\nvar _Identifier = __webpack_require__(47);\n\nvar _QualifiedIdentifier = __webpack_require__(48);\n\nvar _ConstructorReference = __webpack_require__(49);\n\n/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Ben March\n * @since 0.2.0\n *\n */\n\nvar SpelExpressionParser = exports.SpelExpressionParser = function SpelExpressionParser() {\n\n    var VALID_QUALIFIED_ID_PATTERN = new RegExp('[\\\\p{L}\\\\p{N}_$]+');\n\n    var configuration;\n\n    // For rules that build nodes, they are stacked here for return\n    var constructedNodes = [];\n\n    // The expression being parsed\n    var expressionString;\n\n    // The token stream constructed from that expression string\n    var tokenStream;\n\n    // length of a populated token stream\n    var tokenStreamLength;\n\n    // Current location in the token stream when processing tokens\n    var tokenStreamPointer;\n\n    /**\n     * Create a parser with some configured behavior.\n     * @param config custom configuration options\n     */\n    function setConfiguration(config) {\n        configuration = config;\n    }\n\n    function parse(expression, context) {\n        try {\n            expressionString = expression;\n            tokenStream = _Tokenizer.Tokenizer.tokenize(expression);\n            tokenStreamLength = tokenStream.length;\n            tokenStreamPointer = 0;\n            constructedNodes = [];\n            var ast = eatExpression();\n            if (moreTokens()) {\n                raiseInternalException(peekToken().startPos, 'MORE_INPUT', nextToken().toString());\n            }\n            //Assert.isTrue(this.constructedNodes.isEmpty());\n            return ast;\n        } catch (e) {\n            throw e.message;\n        }\n    }\n\n    //\texpression\n    //    : logicalOrExpression\n    //      ( (ASSIGN^ logicalOrExpression)\n    //\t    | (DEFAULT^ logicalOrExpression)\n    //\t    | (QMARK^ expression COLON! expression)\n    //      | (ELVIS^ expression))?;\n    function eatExpression() {\n        var expr = eatLogicalOrExpression();\n        if (moreTokens()) {\n            var token = peekToken();\n            if (token.getKind() === _TokenKind.TokenKind.ASSIGN) {\n                // a=b\n                if (expr === null) {\n                    expr = _NullLiteral.NullLiteral.create(toPosBounds(token.startPos - 1, token.endPos - 1));\n                }\n                nextToken();\n                var assignedValue = eatLogicalOrExpression();\n                return _Assign.Assign.create(toPosToken(token), expr, assignedValue);\n            }\n\n            if (token.getKind() === _TokenKind.TokenKind.ELVIS) {\n                // a?:b (a if it isn't null, otherwise b)\n                if (expr === null) {\n                    expr = _NullLiteral.NullLiteral.create(toPosBounds(token.startPos - 1, token.endPos - 2));\n                }\n                nextToken(); // elvis has left the building\n                var valueIfNull = eatExpression();\n                if (valueIfNull === null) {\n                    valueIfNull = _NullLiteral.NullLiteral.create(toPosBounds(token.startPos + 1, token.endPos + 1));\n                }\n                return _Elvis.Elvis.create(toPosToken(token), expr, valueIfNull);\n            }\n\n            if (token.getKind() === _TokenKind.TokenKind.QMARK) {\n                // a?b:c\n                if (expr === null) {\n                    expr = _NullLiteral.NullLiteral.create(toPosBounds(token.startPos - 1, token.endPos - 1));\n                }\n                nextToken();\n                var ifTrueExprValue = eatExpression();\n                eatToken(_TokenKind.TokenKind.COLON);\n                var ifFalseExprValue = eatExpression();\n                return _Ternary.Ternary.create(toPosToken(token), expr, ifTrueExprValue, ifFalseExprValue);\n            }\n        }\n        return expr;\n    }\n\n    //logicalOrExpression : logicalAndExpression (OR^ logicalAndExpression)*;\n    function eatLogicalOrExpression() {\n        var expr = eatLogicalAndExpression();\n        while (peekIdentifierToken('or') || peekTokenOne(_TokenKind.TokenKind.SYMBOLIC_OR)) {\n            var token = nextToken(); //consume OR\n            var rhExpr = eatLogicalAndExpression();\n            checkOperands(token, expr, rhExpr);\n            expr = _OpOr.OpOr.create(toPosToken(token), expr, rhExpr);\n        }\n        return expr;\n    }\n\n    // logicalAndExpression : relationalExpression (AND^ relationalExpression)*;\n    function eatLogicalAndExpression() {\n        var expr = eatRelationalExpression();\n        while (peekIdentifierToken('and') || peekTokenOne(_TokenKind.TokenKind.SYMBOLIC_AND)) {\n            var token = nextToken(); // consume 'AND'\n            var rhExpr = eatRelationalExpression();\n            checkOperands(token, expr, rhExpr);\n            expr = _OpAnd.OpAnd.create(toPosToken(token), expr, rhExpr);\n        }\n        return expr;\n    }\n\n    // relationalExpression : sumExpression (relationalOperator^ sumExpression)?;\n    function eatRelationalExpression() {\n        var expr = eatSumExpression();\n        var relationalOperatorToken = maybeEatRelationalOperator();\n        if (relationalOperatorToken !== null) {\n            var token = nextToken(); // consume relational operator token\n            var rhExpr = eatSumExpression();\n            checkOperands(token, expr, rhExpr);\n            var tk = relationalOperatorToken.kind;\n\n            if (relationalOperatorToken.isNumericRelationalOperator()) {\n                var pos = toPosToken(token);\n                if (tk === _TokenKind.TokenKind.GT) {\n                    return _OpGT.OpGT.create(pos, expr, rhExpr);\n                }\n                if (tk === _TokenKind.TokenKind.LT) {\n                    return _OpLT.OpLT.create(pos, expr, rhExpr);\n                }\n                if (tk === _TokenKind.TokenKind.LE) {\n                    return _OpLE.OpLE.create(pos, expr, rhExpr);\n                }\n                if (tk === _TokenKind.TokenKind.GE) {\n                    return _OpGE.OpGE.create(pos, expr, rhExpr);\n                }\n                if (tk === _TokenKind.TokenKind.EQ) {\n                    return _OpEQ.OpEQ.create(pos, expr, rhExpr);\n                }\n                //Assert.isTrue(tk === TokenKind.NE);\n                return _OpNE.OpNE.create(pos, expr, rhExpr);\n            }\n\n            if (tk === _TokenKind.TokenKind.INSTANCEOF) {\n                return _OpInstanceof.OpInstanceof.create(toPosToken(token), expr, rhExpr);\n            }\n\n            if (tk === _TokenKind.TokenKind.MATCHES) {\n                return _OpMatches.OpMatches.create(toPosToken(token), expr, rhExpr);\n            }\n\n            //Assert.isTrue(tk === TokenKind.BETWEEN);\n            return _OpBetween.OpBetween.create(toPosToken(token), expr, rhExpr);\n        }\n        return expr;\n    }\n\n    //sumExpression: productExpression ( (PLUS^ | MINUS^) productExpression)*;\n    function eatSumExpression() {\n        var expr = eatProductExpression();\n        while (peekTokenAny(_TokenKind.TokenKind.PLUS, _TokenKind.TokenKind.MINUS, _TokenKind.TokenKind.INC)) {\n            var token = nextToken(); //consume PLUS or MINUS or INC\n            var rhExpr = eatProductExpression();\n            checkRightOperand(token, rhExpr);\n            if (token.getKind() === _TokenKind.TokenKind.PLUS) {\n                expr = _OpPlus.OpPlus.create(toPosToken(token), expr, rhExpr);\n            } else if (token.getKind() === _TokenKind.TokenKind.MINUS) {\n                expr = _OpMinus.OpMinus.create(toPosToken(token), expr, rhExpr);\n            }\n        }\n        return expr;\n    }\n\n    // productExpression: powerExpr ((STAR^ | DIV^| MOD^) powerExpr)* ;\n    function eatProductExpression() {\n        var expr = eatPowerIncDecExpression();\n        while (peekTokenAny(_TokenKind.TokenKind.STAR, _TokenKind.TokenKind.DIV, _TokenKind.TokenKind.MOD)) {\n            var token = nextToken(); // consume STAR/DIV/MOD\n            var rhExpr = eatPowerIncDecExpression();\n            checkOperands(token, expr, rhExpr);\n            if (token.getKind() === _TokenKind.TokenKind.STAR) {\n                expr = _OpMultiply.OpMultiply.create(toPosToken(token), expr, rhExpr);\n            } else if (token.getKind() === _TokenKind.TokenKind.DIV) {\n                expr = _OpDivide.OpDivide.create(toPosToken(token), expr, rhExpr);\n            } else {\n                //Assert.isTrue(token.getKind() === TokenKind.MOD);\n                expr = _OpModulus.OpModulus.create(toPosToken(token), expr, rhExpr);\n            }\n        }\n        return expr;\n    }\n\n    // powerExpr  : unaryExpression (POWER^ unaryExpression)? (INC || DEC) ;\n    function eatPowerIncDecExpression() {\n        var expr = eatUnaryExpression(),\n            token;\n\n        if (peekTokenOne(_TokenKind.TokenKind.POWER)) {\n            token = nextToken(); //consume POWER\n            var rhExpr = eatUnaryExpression();\n            checkRightOperand(token, rhExpr);\n            return _OpPower.OpPower.create(toPosToken(token), expr, rhExpr);\n        }\n\n        if (expr !== null && peekTokenAny(_TokenKind.TokenKind.INC, _TokenKind.TokenKind.DEC)) {\n            token = nextToken(); //consume INC/DEC\n            if (token.getKind() === _TokenKind.TokenKind.INC) {\n                return _OpInc.OpInc.create(toPosToken(token), true, expr);\n            }\n            return _OpDec.OpDec.create(toPosToken(token), true, expr);\n        }\n\n        return expr;\n    }\n\n    // unaryExpression: (PLUS^ | MINUS^ | BANG^ | INC^ | DEC^) unaryExpression | primaryExpression ;\n    function eatUnaryExpression() {\n        var token, expr;\n\n        if (peekTokenAny(_TokenKind.TokenKind.PLUS, _TokenKind.TokenKind.MINUS, _TokenKind.TokenKind.NOT)) {\n            token = nextToken();\n            expr = eatUnaryExpression();\n            if (token.getKind() === _TokenKind.TokenKind.NOT) {\n                return _OpNot.OpNot.create(toPosToken(token), expr);\n            }\n\n            if (token.getKind() === _TokenKind.TokenKind.PLUS) {\n                return _OpPlus.OpPlus.create(toPosToken(token), expr);\n            }\n            //Assert.isTrue(token.getKind() === TokenKind.MINUS);\n            return _OpMinus.OpMinus.create(toPosToken(token), expr);\n        }\n        if (peekTokenAny(_TokenKind.TokenKind.INC, _TokenKind.TokenKind.DEC)) {\n            token = nextToken();\n            expr = eatUnaryExpression();\n            if (token.getKind() === _TokenKind.TokenKind.INC) {\n                return _OpInc.OpInc.create(toPosToken(token), false, expr);\n            }\n            return _OpDec.OpDec.create(toPosToken(token), false, expr);\n        }\n\n        return eatPrimaryExpression();\n    }\n\n    // primaryExpression : startNode (node)? -> ^(EXPRESSION startNode (node)?);\n    function eatPrimaryExpression() {\n        var nodes = [];\n        var start = eatStartNode(); // always a start node\n        nodes.push(start);\n        while (maybeEatNode()) {\n            nodes.push(pop());\n        }\n        if (nodes.length === 1) {\n            return nodes[0];\n        }\n        return _CompoundExpression.CompoundExpression.create(toPosBounds(start.getStartPosition(), nodes[nodes.length - 1].getEndPosition()), nodes);\n    }\n\n    // node : ((DOT dottedNode) | (SAFE_NAVI dottedNode) | nonDottedNode)+;\n    function maybeEatNode() {\n        var expr = null;\n        if (peekTokenAny(_TokenKind.TokenKind.DOT, _TokenKind.TokenKind.SAFE_NAVI)) {\n            expr = eatDottedNode();\n        } else {\n            expr = maybeEatNonDottedNode();\n        }\n\n        if (expr === null) {\n            return false;\n        } else {\n            push(expr);\n            return true;\n        }\n    }\n\n    // nonDottedNode: indexer;\n    function maybeEatNonDottedNode() {\n        if (peekTokenOne(_TokenKind.TokenKind.LSQUARE)) {\n            if (maybeEatIndexer()) {\n                return pop();\n            }\n        }\n        return null;\n    }\n\n    //dottedNode\n    // : ((methodOrProperty\n    //\t  | functionOrVar\n    //    | projection\n    //    | selection\n    //    | firstSelection\n    //    | lastSelection\n    //    ))\n    //\t;\n    function eatDottedNode() {\n        var token = nextToken(); // it was a '.' or a '?.'\n        var nullSafeNavigation = token.getKind() === _TokenKind.TokenKind.SAFE_NAVI;\n        if (maybeEatMethodOrProperty(nullSafeNavigation) || maybeEatFunctionOrVar() || maybeEatProjection(nullSafeNavigation) || maybeEatSelection(nullSafeNavigation)) {\n            return pop();\n        }\n        if (peekToken() === null) {\n            // unexpectedly ran out of data\n            raiseInternalException(token.startPos, 'OOD');\n        } else {\n            raiseInternalException(token.startPos, 'UNEXPECTED_DATA_AFTER_DOT', toString(peekToken()));\n        }\n        return null;\n    }\n\n    // functionOrVar\n    // : (POUND ID LPAREN) => function\n    // | var\n    //\n    // function : POUND id=ID methodArgs -> ^(FUNCTIONREF[$id] methodArgs);\n    // var : POUND id=ID -> ^(VARIABLEREF[$id]);\n    function maybeEatFunctionOrVar() {\n        if (!peekTokenOne(_TokenKind.TokenKind.HASH)) {\n            return false;\n        }\n        var token = nextToken();\n        var functionOrVariableName = eatToken(_TokenKind.TokenKind.IDENTIFIER);\n        var args = maybeEatMethodArgs();\n        if (args === null) {\n            push(_VariableReference.VariableReference.create(functionOrVariableName.data, toPosBounds(token.startPos, functionOrVariableName.endPos)));\n            return true;\n        }\n\n        push(_FunctionReference.FunctionReference.create(functionOrVariableName.data, toPosBounds(token.startPos, functionOrVariableName.endPos), args));\n        return true;\n    }\n\n    // methodArgs : LPAREN! (argument (COMMA! argument)* (COMMA!)?)? RPAREN!;\n    function maybeEatMethodArgs() {\n        if (!peekTokenOne(_TokenKind.TokenKind.LPAREN)) {\n            return null;\n        }\n        var args = [];\n        consumeArguments(args);\n        eatToken(_TokenKind.TokenKind.RPAREN);\n        return args;\n    }\n\n    function eatConstructorArgs(accumulatedArguments) {\n        if (!peekTokenOne(_TokenKind.TokenKind.LPAREN)) {\n            raiseInternalException(toPosToken(peekToken()), 'MISSING_CONSTRUCTOR_ARGS');\n        }\n        consumeArguments(accumulatedArguments);\n        eatToken(_TokenKind.TokenKind.RPAREN);\n    }\n\n    /**\n     * Used for consuming arguments for either a method or a constructor call\n     */\n    function consumeArguments(accumulatedArguments) {\n        var pos = peekToken().startPos;\n        var next;\n        do {\n            nextToken(); // consume ( (first time through) or comma (subsequent times)\n            var token = peekToken();\n            if (token === null) {\n                raiseInternalException(pos, 'RUN_OUT_OF_ARGUMENTS');\n            }\n            if (token.getKind() !== _TokenKind.TokenKind.RPAREN) {\n                accumulatedArguments.push(eatExpression());\n            }\n            next = peekToken();\n        } while (next !== null && next.kind === _TokenKind.TokenKind.COMMA);\n\n        if (next === null) {\n            raiseInternalException(pos, 'RUN_OUT_OF_ARGUMENTS');\n        }\n    }\n\n    function positionOf(token) {\n        if (token === null) {\n            // if null assume the problem is because the right token was\n            // not found at the end of the expression\n            return expressionString.length;\n        }\n        return token.startPos;\n    }\n\n    //startNode\n    // : parenExpr | literal\n    //\t    | type\n    //\t    | methodOrProperty\n    //\t    | functionOrVar\n    //\t    | projection\n    //\t    | selection\n    //\t    | firstSelection\n    //\t    | lastSelection\n    //\t    | indexer\n    //\t    | constructor\n    function eatStartNode() {\n        if (maybeEatLiteral()) {\n            return pop();\n        } else if (maybeEatParenExpression()) {\n            return pop();\n        } else if (maybeEatTypeReference() || maybeEatNullReference() || maybeEatConstructorReference() || maybeEatMethodOrProperty(false) || maybeEatFunctionOrVar()) {\n            return pop();\n        } else if (maybeEatBeanReference()) {\n            return pop();\n        } else if (maybeEatProjection(false) || maybeEatSelection(false) || maybeEatIndexer()) {\n            return pop();\n        } else if (maybeEatInlineListOrMap()) {\n            return pop();\n        } else {\n            return null;\n        }\n    }\n\n    // parse: @beanname @'bean.name'\n    // quoted if dotted\n    function maybeEatBeanReference() {\n        if (peekTokenOne(_TokenKind.TokenKind.BEAN_REF)) {\n            var beanRefToken = nextToken();\n            var beanNameToken = null;\n            var beanName = null;\n            if (peekTokenOne(_TokenKind.TokenKind.IDENTIFIER)) {\n                beanNameToken = eatToken(_TokenKind.TokenKind.IDENTIFIER);\n                beanName = beanNameToken.data;\n            } else if (peekTokenOne(_TokenKind.TokenKind.LITERAL_STRING)) {\n                beanNameToken = eatToken(_TokenKind.TokenKind.LITERAL_STRING);\n                beanName = beanNameToken.stringValue();\n                beanName = beanName.substring(1, beanName.length() - 1);\n            } else {\n                raiseInternalException(beanRefToken.startPos, 'INVALID_BEAN_REFERENCE');\n            }\n\n            var beanReference = _BeanReference.BeanReference.create(toPosToken(beanNameToken), beanName);\n            push(beanReference);\n            return true;\n        }\n        return false;\n    }\n\n    function maybeEatTypeReference() {\n        if (peekTokenOne(_TokenKind.TokenKind.IDENTIFIER)) {\n            var typeName = peekToken();\n            if (typeName.stringValue() !== 'T') {\n                return false;\n            }\n            // It looks like a type reference but is T being used as a map key?\n            var token = nextToken();\n            if (peekTokenOne(_TokenKind.TokenKind.RSQUARE)) {\n                // looks like 'T]' (T is map key)\n                push(_PropertyReference.PropertyReference.create(token.stringValue(), toPosToken(token)));\n                return true;\n            }\n            eatToken(_TokenKind.TokenKind.LPAREN);\n            var node = eatPossiblyQualifiedId();\n            // dotted qualified id\n            // Are there array dimensions?\n            var dims = 0;\n            while (peekTokenConsumeIfMatched(_TokenKind.TokenKind.LSQUARE, true)) {\n                eatToken(_TokenKind.TokenKind.RSQUARE);\n                dims++;\n            }\n            eatToken(_TokenKind.TokenKind.RPAREN);\n            push(_TypeReference.TypeReference.create(toPosToken(typeName), node, dims));\n            return true;\n        }\n        return false;\n    }\n\n    function maybeEatNullReference() {\n        if (peekTokenOne(_TokenKind.TokenKind.IDENTIFIER)) {\n            var nullToken = peekToken();\n            if (nullToken.stringValue().toLowerCase() !== 'null') {\n                return false;\n            }\n            nextToken();\n            push(_NullLiteral.NullLiteral.create(toPosToken(nullToken)));\n            return true;\n        }\n        return false;\n    }\n\n    //projection: PROJECT^ expression RCURLY!;\n    function maybeEatProjection(nullSafeNavigation) {\n        var token = peekToken();\n        if (!peekTokenConsumeIfMatched(_TokenKind.TokenKind.PROJECT, true)) {\n            return false;\n        }\n        var expr = eatExpression();\n        eatToken(_TokenKind.TokenKind.RSQUARE);\n        push(_Projection.Projection.create(nullSafeNavigation, toPosToken(token), expr));\n        return true;\n    }\n\n    // list = LCURLY (element (COMMA element)*) RCURLY\n    // map  = LCURLY (key ':' value (COMMA key ':' value)*) RCURLY\n    function maybeEatInlineListOrMap() {\n        var token = peekToken(),\n            listElements = [];\n\n        if (!peekTokenConsumeIfMatched(_TokenKind.TokenKind.LCURLY, true)) {\n            return false;\n        }\n        var expr = null;\n        var closingCurly = peekToken();\n        if (peekTokenConsumeIfMatched(_TokenKind.TokenKind.RCURLY, true)) {\n            // empty list '{}'\n            expr = _InlineList.InlineList.create(toPosBounds(token.startPos, closingCurly.endPos));\n        } else if (peekTokenConsumeIfMatched(_TokenKind.TokenKind.COLON, true)) {\n            closingCurly = eatToken(_TokenKind.TokenKind.RCURLY);\n            // empty map '{:}'\n            expr = _InlineMap.InlineMap.create(toPosBounds(token.startPos, closingCurly.endPos));\n        } else {\n            var firstExpression = eatExpression();\n            // Next is either:\n            // '}' - end of list\n            // ',' - more expressions in this list\n            // ':' - this is a map!\n\n            if (peekTokenOne(_TokenKind.TokenKind.RCURLY)) {\n                // list with one item in it\n                listElements.push(firstExpression);\n                closingCurly = eatToken(_TokenKind.TokenKind.RCURLY);\n                expr = _InlineList.InlineList.create(toPosBounds(token.startPos, closingCurly.endPos), listElements);\n            } else if (peekTokenConsumeIfMatched(_TokenKind.TokenKind.COMMA, true)) {\n                // multi item list\n                listElements.push(firstExpression);\n                do {\n                    listElements.push(eatExpression());\n                } while (peekTokenConsumeIfMatched(_TokenKind.TokenKind.COMMA, true));\n                closingCurly = eatToken(_TokenKind.TokenKind.RCURLY);\n                expr = _InlineList.InlineList.create(toPosToken(token.startPos, closingCurly.endPos), listElements);\n            } else if (peekTokenConsumeIfMatched(_TokenKind.TokenKind.COLON, true)) {\n                // map!\n                var mapElements = [];\n                mapElements.push(firstExpression);\n                mapElements.push(eatExpression());\n                while (peekTokenConsumeIfMatched(_TokenKind.TokenKind.COMMA, true)) {\n                    mapElements.push(eatExpression());\n                    eatToken(_TokenKind.TokenKind.COLON);\n                    mapElements.push(eatExpression());\n                }\n                closingCurly = eatToken(_TokenKind.TokenKind.RCURLY);\n                expr = _InlineMap.InlineMap.create(toPosBounds(token.startPos, closingCurly.endPos), mapElements);\n            } else {\n                raiseInternalException(token.startPos, 'OOD');\n            }\n        }\n        push(expr);\n        return true;\n    }\n\n    function maybeEatIndexer() {\n        var token = peekToken();\n        if (!peekTokenConsumeIfMatched(_TokenKind.TokenKind.LSQUARE, true)) {\n            return false;\n        }\n        var expr = eatExpression();\n        eatToken(_TokenKind.TokenKind.RSQUARE);\n        push(_Indexer.Indexer.create(toPosToken(token), expr));\n        return true;\n    }\n\n    function maybeEatSelection(nullSafeNavigation) {\n        var token = peekToken();\n        if (!peekSelectToken()) {\n            return false;\n        }\n        nextToken();\n        var expr = eatExpression();\n        if (expr === null) {\n            raiseInternalException(toPosToken(token), 'MISSING_SELECTION_EXPRESSION');\n        }\n        eatToken(_TokenKind.TokenKind.RSQUARE);\n        if (token.getKind() === _TokenKind.TokenKind.SELECT_FIRST) {\n            push(_Selection.Selection.create(nullSafeNavigation, _Selection.Selection.FIRST, toPosToken(token), expr));\n        } else if (token.getKind() === _TokenKind.TokenKind.SELECT_LAST) {\n            push(_Selection.Selection.create(nullSafeNavigation, _Selection.Selection.LAST, toPosToken(token), expr));\n        } else {\n            push(_Selection.Selection.create(nullSafeNavigation, _Selection.Selection.ALL, toPosToken(token), expr));\n        }\n        return true;\n    }\n\n    /**\n     * Eat an identifier, possibly qualified (meaning that it is dotted).\n     * TODO AndyC Could create complete identifiers (a.b.c) here rather than a sequence of them? (a, b, c)\n     */\n    function eatPossiblyQualifiedId() {\n        var qualifiedIdPieces = [];\n        var node = peekToken();\n        while (isValidQualifiedId(node)) {\n            nextToken();\n            if (node.kind !== _TokenKind.TokenKind.DOT) {\n                qualifiedIdPieces.push(_Identifier.Identifier.create(node.stringValue(), toPosToken(node)));\n            }\n            node = peekToken();\n        }\n        if (!qualifiedIdPieces.length) {\n            if (node === null) {\n                raiseInternalException(expressionString.length(), 'OOD');\n            }\n            raiseInternalException(node.startPos, 'NOT_EXPECTED_TOKEN', 'qualified ID', node.getKind().toString().toLowerCase());\n        }\n        var pos = toPosBounds(qualifiedIdPieces[0].getStartPosition(), qualifiedIdPieces[qualifiedIdPieces.length - 1].getEndPosition());\n        return _QualifiedIdentifier.QualifiedIdentifier.create(pos, qualifiedIdPieces);\n    }\n\n    function isValidQualifiedId(node) {\n        if (node === null || node.kind === _TokenKind.TokenKind.LITERAL_STRING) {\n            return false;\n        }\n        if (node.kind === _TokenKind.TokenKind.DOT || node.kind === _TokenKind.TokenKind.IDENTIFIER) {\n            return true;\n        }\n        var value = node.stringValue();\n        return value && value.length && VALID_QUALIFIED_ID_PATTERN.test(value);\n    }\n\n    // This is complicated due to the support for dollars in identifiers.  Dollars are normally separate tokens but\n    // there we want to combine a series of identifiers and dollars into a single identifier\n    function maybeEatMethodOrProperty(nullSafeNavigation) {\n        if (peekTokenOne(_TokenKind.TokenKind.IDENTIFIER)) {\n            var methodOrPropertyName = nextToken();\n            var args = maybeEatMethodArgs();\n            if (args === null) {\n                // property\n                push(_PropertyReference.PropertyReference.create(nullSafeNavigation, methodOrPropertyName.stringValue(), toPosToken(methodOrPropertyName)));\n                return true;\n            }\n            // methodreference\n            push(_MethodReference.MethodReference.create(nullSafeNavigation, methodOrPropertyName.stringValue(), toPosToken(methodOrPropertyName), args));\n            // TODO what is the end position for a method reference? the name or the last arg?\n            return true;\n        }\n        return false;\n    }\n\n    //constructor\n    //:\t('new' qualifiedId LPAREN) => 'new' qualifiedId ctorArgs -> ^(CONSTRUCTOR qualifiedId ctorArgs)\n    function maybeEatConstructorReference() {\n        if (peekIdentifierToken('new')) {\n            var newToken = nextToken();\n            // It looks like a constructor reference but is NEW being used as a map key?\n            if (peekTokenOne(_TokenKind.TokenKind.RSQUARE)) {\n                // looks like 'NEW]' (so NEW used as map key)\n                push(_PropertyReference.PropertyReference.create(newToken.stringValue(), toPosToken(newToken)));\n                return true;\n            }\n            var possiblyQualifiedConstructorName = eatPossiblyQualifiedId();\n            var nodes = [];\n            nodes.push(possiblyQualifiedConstructorName);\n            if (peekTokenOne(_TokenKind.TokenKind.LSQUARE)) {\n                // array initializer\n                var dimensions = [];\n                while (peekTokenConsumeIfMatched(_TokenKind.TokenKind.LSQUARE, true)) {\n                    if (!peekTokenOne(_TokenKind.TokenKind.RSQUARE)) {\n                        dimensions.push(eatExpression());\n                    } else {\n                        dimensions.push(null);\n                    }\n                    eatToken(_TokenKind.TokenKind.RSQUARE);\n                }\n                if (maybeEatInlineListOrMap()) {\n                    nodes.push(pop());\n                }\n                push(_ConstructorReference.ConstructorReference.create(toPosToken(newToken), dimensions, nodes));\n            } else {\n                // regular constructor invocation\n                eatConstructorArgs(nodes);\n                // TODO correct end position?\n                push(_ConstructorReference.ConstructorReference.create(toPosToken(newToken), nodes));\n            }\n            return true;\n        }\n        return false;\n    }\n\n    function push(newNode) {\n        constructedNodes.push(newNode);\n    }\n\n    function pop() {\n        return constructedNodes.pop();\n    }\n\n    //\tliteral\n    //  : INTEGER_LITERAL\n    //\t| boolLiteral\n    //\t| STRING_LITERAL\n    //  | HEXADECIMAL_INTEGER_LITERAL\n    //  | REAL_LITERAL\n    //\t| DQ_STRING_LITERAL\n    //\t| NULL_LITERAL\n    function maybeEatLiteral() {\n        var token = peekToken();\n        if (token === null) {\n            return false;\n        }\n        if (token.getKind() === _TokenKind.TokenKind.LITERAL_INT || token.getKind() === _TokenKind.TokenKind.LITERAL_LONG) {\n            push(_NumberLiteral.NumberLiteral.create(parseInt(token.stringValue(), 10), toPosToken(token)));\n        } else if (token.getKind() === _TokenKind.TokenKind.LITERAL_REAL || token.getKind() === _TokenKind.TokenKind.LITERAL_REAL_FLOAT) {\n            push(_NumberLiteral.NumberLiteral.create(parseFloat(token.stringValue()), toPosToken(token)));\n        } else if (token.getKind() === _TokenKind.TokenKind.LITERAL_HEXINT || token.getKind() === _TokenKind.TokenKind.LITERAL_HEXLONG) {\n            push(_NumberLiteral.NumberLiteral.create(parseInt(token.stringValue(), 16), toPosToken(token)));\n        } else if (peekIdentifierToken('true')) {\n            push(_BooleanLiteral.BooleanLiteral.create(true, toPosToken(token)));\n        } else if (peekIdentifierToken('false')) {\n            push(_BooleanLiteral.BooleanLiteral.create(false, toPosToken(token)));\n        } else if (token.getKind() === _TokenKind.TokenKind.LITERAL_STRING) {\n            push(_StringLiteral.StringLiteral.create(token.stringValue(), toPosToken(token)));\n        } else {\n            return false;\n        }\n        nextToken();\n        return true;\n    }\n\n    //parenExpr : LPAREN! expression RPAREN!;\n    function maybeEatParenExpression() {\n        if (peekTokenOne(_TokenKind.TokenKind.LPAREN)) {\n            nextToken();\n            var expr = eatExpression();\n            eatToken(_TokenKind.TokenKind.RPAREN);\n            push(expr);\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    // relationalOperator\n    // : EQUAL | NOT_EQUAL | LESS_THAN | LESS_THAN_OR_EQUAL | GREATER_THAN\n    // | GREATER_THAN_OR_EQUAL | INSTANCEOF | BETWEEN | MATCHES\n    function maybeEatRelationalOperator() {\n        var token = peekToken();\n        if (token === null) {\n            return null;\n        }\n        if (token.isNumericRelationalOperator()) {\n            return token;\n        }\n        if (token.isIdentifier()) {\n            var idString = token.stringValue();\n            if (idString.toLowerCase() === 'instanceof') {\n                return token.asInstanceOfToken();\n            }\n            if (idString.toLowerCase() === 'matches') {\n                return token.asMatchesToken();\n            }\n            if (idString.toLowerCase() === 'between') {\n                return token.asBetweenToken();\n            }\n        }\n        return null;\n    }\n\n    function eatToken(expectedKind) {\n        var token = nextToken();\n        if (token === null) {\n            raiseInternalException(expressionString.length, 'OOD');\n        }\n        if (token.getKind() !== expectedKind) {\n            raiseInternalException(token.startPos, 'NOT_EXPECTED_TOKEN', expectedKind.toString().toLowerCase(), token.getKind().toString().toLowerCase());\n        }\n        return token;\n    }\n\n    function peekTokenOne(desiredTokenKind) {\n        return peekTokenConsumeIfMatched(desiredTokenKind, false);\n    }\n\n    function peekTokenConsumeIfMatched(desiredTokenKind, consumeIfMatched) {\n        if (!moreTokens()) {\n            return false;\n        }\n        var token = peekToken();\n        if (token.getKind() === desiredTokenKind) {\n            if (consumeIfMatched) {\n                tokenStreamPointer++;\n            }\n            return true;\n        }\n\n        if (desiredTokenKind === _TokenKind.TokenKind.IDENTIFIER) {\n            // might be one of the textual forms of the operators (e.g. NE for !== ) - in which case we can treat it as an identifier\n            // The list is represented here: Tokenizer.alternativeOperatorNames and those ones are in order in the TokenKind enum\n            if (token.getKind().ordinal() >= _TokenKind.TokenKind.DIV.ordinal() && token.getKind().ordinal() <= _TokenKind.TokenKind.NOT.ordinal() && token.data !== null) {\n                // if token.data were null, we'd know it wasn'token the textual form, it was the symbol form\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function peekTokenAny() {\n        if (!moreTokens()) {\n            return false;\n        }\n        var token = peekToken();\n        var args = Array.prototype.slice.call(arguments);\n        for (var i = 0, l = args.length; i < l; i += 1) {\n            if (token.getKind() === args[i]) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function peekIdentifierToken(identifierString) {\n        if (!moreTokens()) {\n            return false;\n        }\n        var token = peekToken();\n        return token.getKind() === _TokenKind.TokenKind.IDENTIFIER && token.stringValue().toLowerCase() === identifierString.toLowerCase();\n    }\n\n    function peekSelectToken() {\n        if (!moreTokens()) {\n            return false;\n        }\n        var token = peekToken();\n        return token.getKind() === _TokenKind.TokenKind.SELECT || token.getKind() === _TokenKind.TokenKind.SELECT_FIRST || token.getKind() === _TokenKind.TokenKind.SELECT_LAST;\n    }\n\n    function moreTokens() {\n        return tokenStreamPointer < tokenStream.length;\n    }\n\n    function nextToken() {\n        if (tokenStreamPointer >= tokenStreamLength) {\n            return null;\n        }\n        return tokenStream[tokenStreamPointer++];\n    }\n\n    function peekToken() {\n        if (tokenStreamPointer >= tokenStreamLength) {\n            return null;\n        }\n        return tokenStream[tokenStreamPointer];\n    }\n\n    function raiseInternalException(pos, message, expected, actual) {\n        if (expected) {\n            message += '\\nExpected: ' + expected;\n        }\n        if (actual) {\n            message += '\\nActual: ' + actual;\n        }\n        throw {\n            name: 'InternalParseException',\n            message: 'Error occurred while attempting to parse expression \\'' + expressionString + '\\' at position ' + pos + '. Message: ' + message\n        };\n    }\n\n    function toString(token) {\n        if (token.getKind().hasPayload()) {\n            return token.stringValue();\n        }\n        return token.getKind().toString().toLowerCase();\n    }\n\n    function checkOperands(token, left, right) {\n        checkLeftOperand(token, left);\n        checkRightOperand(token, right);\n    }\n\n    function checkLeftOperand(token, operandExpression) {\n        if (operandExpression === null) {\n            raiseInternalException(token.startPos, 'LEFT_OPERAND_PROBLEM');\n        }\n    }\n\n    function checkRightOperand(token, operandExpression) {\n        if (operandExpression === null) {\n            raiseInternalException(token.startPos, 'RIGHT_OPERAND_PROBLEM');\n        }\n    }\n\n    /**\n     * Compress the start and end of a token into a single int.\n     */\n    function toPosToken(token) {\n        return (token.startPos << 16) + token.endPos;\n    }\n\n    function toPosBounds(start, end) {\n        return (start << 16) + end;\n    }\n\n    return {\n        setConfiguration: setConfiguration,\n        parse: parse\n    };\n};\n\n//not yet implemented\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Tokenizer = undefined;\n\nvar _Token = __webpack_require__(7);\n\nvar _TokenKind = __webpack_require__(2);\n\n/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @author Andy Clement\n * @author Phillip Webb\n * @author Ben March\n * @since 0.2.0\n */\n\nvar ALTERNATIVE_OPERATOR_NAMES = ['DIV', 'EQ', 'GE', 'GT', 'LE', 'LT', 'MOD', 'NE', 'NOT'],\n    FLAGS = [],\n    IS_DIGIT = 1,\n    IS_HEXDIGIT = 2,\n    IS_ALPHA = 4;\n\nfunction init() {\n    var ch;\n\n    for (ch = '0'.charCodeAt(0); ch <= '9'.charCodeAt(0); ch += 1) {\n        FLAGS[ch] |= IS_DIGIT | IS_HEXDIGIT;\n    }\n    for (ch = 'A'.charCodeAt(0); ch <= 'F'.charCodeAt(0); ch += 1) {\n        FLAGS[ch] |= IS_HEXDIGIT;\n    }\n    for (ch = 'a'.charCodeAt(0); ch <= 'f'.charCodeAt(0); ch += 1) {\n        FLAGS[ch] |= IS_HEXDIGIT;\n    }\n    for (ch = 'A'.charCodeAt(0); ch <= 'Z'.charCodeAt(0); ch += 1) {\n        FLAGS[ch] |= IS_ALPHA;\n    }\n    for (ch = 'a'.charCodeAt(0); ch <= 'z'.charCodeAt(0); ch += 1) {\n        FLAGS[ch] |= IS_ALPHA;\n    }\n}\n\ninit();\n\nfunction tokenize(inputData) {\n    var expressionString = inputData,\n        toProcess = inputData + '\\0',\n        max = toProcess.length,\n        pos = 0,\n        tokens = [];\n\n    function process() {\n        var ch;\n\n        while (pos < max) {\n            ch = toProcess[pos];\n            if (isAlphabetic(ch)) {\n                lexIdentifier();\n            } else {\n                switch (ch) {\n                    case '+':\n                        if (isTwoCharToken(_TokenKind.TokenKind.INC)) {\n                            pushPairToken(_TokenKind.TokenKind.INC);\n                        } else {\n                            pushCharToken(_TokenKind.TokenKind.PLUS);\n                        }\n                        break;\n                    case '_':\n                        // the other way to start an identifier\n                        lexIdentifier();\n                        break;\n                    case '-':\n                        if (isTwoCharToken(_TokenKind.TokenKind.DEC)) {\n                            pushPairToken(_TokenKind.TokenKind.DEC);\n                        } else {\n                            pushCharToken(_TokenKind.TokenKind.MINUS);\n                        }\n                        break;\n                    case ':':\n                        pushCharToken(_TokenKind.TokenKind.COLON);\n                        break;\n                    case '.':\n                        pushCharToken(_TokenKind.TokenKind.DOT);\n                        break;\n                    case ',':\n                        pushCharToken(_TokenKind.TokenKind.COMMA);\n                        break;\n                    case '*':\n                        pushCharToken(_TokenKind.TokenKind.STAR);\n                        break;\n                    case '/':\n                        pushCharToken(_TokenKind.TokenKind.DIV);\n                        break;\n                    case '%':\n                        pushCharToken(_TokenKind.TokenKind.MOD);\n                        break;\n                    case '(':\n                        pushCharToken(_TokenKind.TokenKind.LPAREN);\n                        break;\n                    case ')':\n                        pushCharToken(_TokenKind.TokenKind.RPAREN);\n                        break;\n                    case '[':\n                        pushCharToken(_TokenKind.TokenKind.LSQUARE);\n                        break;\n                    case '#':\n                        pushCharToken(_TokenKind.TokenKind.HASH);\n                        break;\n                    case ']':\n                        pushCharToken(_TokenKind.TokenKind.RSQUARE);\n                        break;\n                    case '{':\n                        pushCharToken(_TokenKind.TokenKind.LCURLY);\n                        break;\n                    case '}':\n                        pushCharToken(_TokenKind.TokenKind.RCURLY);\n                        break;\n                    case '@':\n                        pushCharToken(_TokenKind.TokenKind.BEAN_REF);\n                        break;\n                    case '^':\n                        if (isTwoCharToken(_TokenKind.TokenKind.SELECT_FIRST)) {\n                            pushPairToken(_TokenKind.TokenKind.SELECT_FIRST);\n                        } else {\n                            pushCharToken(_TokenKind.TokenKind.POWER);\n                        }\n                        break;\n                    case '!':\n                        if (isTwoCharToken(_TokenKind.TokenKind.NE)) {\n                            pushPairToken(_TokenKind.TokenKind.NE);\n                        } else if (isTwoCharToken(_TokenKind.TokenKind.PROJECT)) {\n                            pushPairToken(_TokenKind.TokenKind.PROJECT);\n                        } else {\n                            pushCharToken(_TokenKind.TokenKind.NOT);\n                        }\n                        break;\n                    case '=':\n                        if (isTwoCharToken(_TokenKind.TokenKind.EQ)) {\n                            pushPairToken(_TokenKind.TokenKind.EQ);\n                        } else {\n                            pushCharToken(_TokenKind.TokenKind.ASSIGN);\n                        }\n                        break;\n                    case '&':\n                        if (!isTwoCharToken(_TokenKind.TokenKind.SYMBOLIC_AND)) {\n                            throw {\n                                name: 'SpelParseException',\n                                message: 'Missing character \\'&\\' in expression (' + expressionString + ') at position ' + pos\n                            };\n                        }\n                        pushPairToken(_TokenKind.TokenKind.SYMBOLIC_AND);\n                        break;\n                    case '|':\n                        if (!isTwoCharToken(_TokenKind.TokenKind.SYMBOLIC_OR)) {\n                            throw {\n                                name: 'SpelParseException',\n                                message: 'Missing character \\'|\\' in expression (' + expressionString + ') at position ' + pos\n                            };\n                        }\n                        pushPairToken(_TokenKind.TokenKind.SYMBOLIC_OR);\n                        break;\n                    case '?':\n                        if (isTwoCharToken(_TokenKind.TokenKind.SELECT)) {\n                            pushPairToken(_TokenKind.TokenKind.SELECT);\n                        } else if (isTwoCharToken(_TokenKind.TokenKind.ELVIS)) {\n                            pushPairToken(_TokenKind.TokenKind.ELVIS);\n                        } else if (isTwoCharToken(_TokenKind.TokenKind.SAFE_NAVI)) {\n                            pushPairToken(_TokenKind.TokenKind.SAFE_NAVI);\n                        } else {\n                            pushCharToken(_TokenKind.TokenKind.QMARK);\n                        }\n                        break;\n                    case '$':\n                        if (isTwoCharToken(_TokenKind.TokenKind.SELECT_LAST)) {\n                            pushPairToken(_TokenKind.TokenKind.SELECT_LAST);\n                        } else {\n                            lexIdentifier();\n                        }\n                        break;\n                    case '>':\n                        if (isTwoCharToken(_TokenKind.TokenKind.GE)) {\n                            pushPairToken(_TokenKind.TokenKind.GE);\n                        } else {\n                            pushCharToken(_TokenKind.TokenKind.GT);\n                        }\n                        break;\n                    case '<':\n                        if (isTwoCharToken(_TokenKind.TokenKind.LE)) {\n                            pushPairToken(_TokenKind.TokenKind.LE);\n                        } else {\n                            pushCharToken(_TokenKind.TokenKind.LT);\n                        }\n                        break;\n                    case '0':\n                    case '1':\n                    case '2':\n                    case '3':\n                    case '4':\n                    case '5':\n                    case '6':\n                    case '7':\n                    case '8':\n                    case '9':\n                        lexNumericLiteral(ch === '0');\n                        break;\n                    case ' ':\n                    case '\\t':\n                    case '\\r':\n                    case '\\n':\n                        // drift over white space\n                        pos += 1;\n                        break;\n                    case '\\'':\n                        lexQuotedStringLiteral();\n                        break;\n                    case '\"':\n                        lexDoubleQuotedStringLiteral();\n                        break;\n                    case '\\0':\n                        // hit sentinel at end of value\n                        pos += 1; // will take us to the end\n                        break;\n                    case '\\\\':\n                        throw {\n                            name: 'SpelParseException',\n                            message: 'Unexpected escape character in expression (' + expressionString + ') at position ' + pos\n                        };\n                    default:\n                        throw {\n                            name: 'SpelParseException',\n                            message: 'Cannot handle character \\'' + ch + '\\' in expression (' + expressionString + ') at position ' + pos\n                        };\n                }\n            }\n        }\n    }\n\n    function lexQuotedStringLiteral() {\n        var start = pos,\n            terminated = false,\n            ch;\n\n        while (!terminated) {\n            pos += 1;\n            ch = toProcess[pos];\n            if (ch === '\\'') {\n                // may not be the end if the char after is also a '\n                if (toProcess[pos + 1] === '\\'') {\n                    pos += 1; // skip over that too, and continue\n                } else {\n                    terminated = true;\n                }\n            }\n            if (ch.charCodeAt(0) === 0) {\n                throw {\n                    name: 'SpelParseException',\n                    message: 'Non-terminating quoted string in expression (' + expressionString + ') at position ' + pos\n                };\n            }\n        }\n        pos += 1;\n        tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_STRING, subarray(start, pos), start, pos));\n    }\n    function lexDoubleQuotedStringLiteral() {\n        var start = pos,\n            terminated = false,\n            ch;\n\n        while (!terminated) {\n            pos += 1;\n            ch = toProcess[pos];\n            if (ch === '\"') {\n                // may not be the end if the char after is also a '\n                if (toProcess[pos + 1] === '\"') {\n                    pos += 1; // skip over that too, and continue\n                } else {\n                    terminated = true;\n                }\n            }\n            if (ch.charCodeAt(0) === 0) {\n                throw {\n                    name: 'SpelParseException',\n                    message: 'Non-terminating double-quoted string in expression (' + expressionString + ') at position ' + pos\n                };\n            }\n        }\n        pos += 1;\n        tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_STRING, subarray(start, pos), start, pos));\n    }\n\n    // REAL_LITERAL :\n    // ('.' (DECIMAL_DIGIT)+ (EXPONENT_PART)? (REAL_TYPE_SUFFIX)?) |\n    // ((DECIMAL_DIGIT)+ '.' (DECIMAL_DIGIT)+ (EXPONENT_PART)? (REAL_TYPE_SUFFIX)?) |\n    // ((DECIMAL_DIGIT)+ (EXPONENT_PART) (REAL_TYPE_SUFFIX)?) |\n    // ((DECIMAL_DIGIT)+ (REAL_TYPE_SUFFIX));\n    // fragment INTEGER_TYPE_SUFFIX : ( 'L' | 'l' );\n    // fragment HEX_DIGIT :\n    // '0'|'1'|'2'|'3'|'4'|'5'|'6'|'7'|'8'|'9'|'A'|'B'|'C'|'D'|'E'|'F'|'a'|'b'|'c'|'d'|'e'|'f';\n    //\n    // fragment EXPONENT_PART : 'e' (SIGN)* (DECIMAL_DIGIT)+ | 'E' (SIGN)*\n    // (DECIMAL_DIGIT)+ ;\n    // fragment SIGN : '+' | '-' ;\n    // fragment REAL_TYPE_SUFFIX : 'F' | 'f' | 'D' | 'd';\n    // INTEGER_LITERAL\n    // : (DECIMAL_DIGIT)+ (INTEGER_TYPE_SUFFIX)?;\n\n    function lexNumericLiteral(firstCharIsZero) {\n        var isReal = false,\n            start = pos,\n            ch = toProcess[pos + 1],\n            isHex = ch === 'x' || ch === 'X',\n            dotpos,\n            endOfNumber,\n            possibleSign,\n            isFloat;\n\n        // deal with hexadecimal\n        if (firstCharIsZero && isHex) {\n            pos = pos + 1;\n            do {\n                pos += 1;\n            } while (isHexadecimalDigit(toProcess[pos]));\n            if (isChar('L', 'l')) {\n                pushHexIntToken(subarray(start + 2, pos), true, start, pos);\n                pos += 1;\n            } else {\n                pushHexIntToken(subarray(start + 2, pos), false, start, pos);\n            }\n            return;\n        }\n\n        // real numbers must have leading digits\n\n        // Consume first part of number\n        do {\n            pos += 1;\n        } while (isDigit(toProcess[pos]));\n\n        // a '.' indicates this number is a real\n        ch = toProcess[pos];\n        if (ch === '.') {\n            isReal = true;\n            dotpos = pos;\n            // carry on consuming digits\n            do {\n                pos += 1;\n            } while (isDigit(toProcess[pos]));\n            if (pos === dotpos + 1) {\n                // the number is something like '3.'. It is really an int but may be\n                // part of something like '3.toString()'. In this case process it as\n                // an int and leave the dot as a separate token.\n                pos = dotpos;\n                pushIntToken(subarray(start, pos), false, start, pos);\n                return;\n            }\n        }\n\n        endOfNumber = pos;\n\n        // Now there may or may not be an exponent\n\n        // is it a long ?\n        if (isChar('L', 'l')) {\n            if (isReal) {\n                // 3.4L - not allowed\n                throw {\n                    name: 'SpelParseException',\n                    message: 'Real cannot be long in expression (' + expressionString + ') at position ' + pos\n                };\n            }\n            pushIntToken(subarray(start, endOfNumber), true, start, endOfNumber);\n            pos += 1;\n        } else if (isExponentChar(toProcess[pos])) {\n            isReal = true; // if it wasn't before, it is now\n            pos += 1;\n            possibleSign = toProcess[pos];\n            if (isSign(possibleSign)) {\n                pos += 1;\n            }\n\n            // exponent digits\n            do {\n                pos += 1;\n            } while (isDigit(toProcess[pos]));\n            isFloat = false;\n            if (isFloatSuffix(toProcess[pos])) {\n                isFloat = true;\n                pos += 1;\n                endOfNumber = pos;\n            } else if (isDoubleSuffix(toProcess[pos])) {\n                pos += 1;\n                endOfNumber = pos;\n            }\n            pushRealToken(subarray(start, pos), isFloat, start, pos);\n        } else {\n            ch = toProcess[pos];\n            isFloat = false;\n            if (isFloatSuffix(ch)) {\n                isReal = true;\n                isFloat = true;\n                pos += 1;\n                endOfNumber = pos;\n            } else if (isDoubleSuffix(ch)) {\n                isReal = true;\n                pos += 1;\n                endOfNumber = pos;\n            }\n            if (isReal) {\n                pushRealToken(subarray(start, endOfNumber), isFloat, start, endOfNumber);\n            } else {\n                pushIntToken(subarray(start, endOfNumber), false, start, endOfNumber);\n            }\n        }\n    }\n\n    function lexIdentifier() {\n        var start = pos,\n            substring,\n            asString,\n            idx;\n        do {\n            pos += 1;\n        } while (isIdentifier(toProcess[pos]));\n        substring = subarray(start, pos);\n\n        // Check if this is the alternative (textual) representation of an operator (see\n        // alternativeOperatorNames)\n        if (pos - start === 2 || pos - start === 3) {\n            asString = substring.toUpperCase();\n            idx = ALTERNATIVE_OPERATOR_NAMES.indexOf(asString);\n            if (idx >= 0) {\n                pushOneCharOrTwoCharToken(_TokenKind.TokenKind.valueOf(asString), start, substring);\n                return;\n            }\n        }\n        tokens.push(new _Token.Token(_TokenKind.TokenKind.IDENTIFIER, substring.replace('\\0', ''), start, pos));\n    }\n\n    function pushIntToken(data, isLong, start, end) {\n        if (isLong) {\n            tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_LONG, data, start, end));\n        } else {\n            tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_INT, data, start, end));\n        }\n    }\n\n    function pushHexIntToken(data, isLong, start, end) {\n        if (data.length === 0) {\n            if (isLong) {\n                throw {\n                    name: 'SpelParseException',\n                    message: 'Not a long in expression (' + expressionString + ') at position ' + pos\n                };\n            } else {\n                throw {\n                    name: 'SpelParseException',\n                    message: 'Not an int in expression (' + expressionString + ') at position ' + pos\n                };\n            }\n        }\n        if (isLong) {\n            tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_HEXLONG, data, start, end));\n        } else {\n            tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_HEXINT, data, start, end));\n        }\n    }\n\n    function pushRealToken(data, isFloat, start, end) {\n        if (isFloat) {\n            tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_REAL_FLOAT, data, start, end));\n        } else {\n            tokens.push(new _Token.Token(_TokenKind.TokenKind.LITERAL_REAL, data, start, end));\n        }\n    }\n\n    function subarray(start, end) {\n        return toProcess.substring(start, end);\n    }\n\n    /**\n     * Check if this might be a two character token.\n     */\n    function isTwoCharToken(kind) {\n        if (kind.tokenChars.length === 2 && toProcess[pos] === kind.tokenChars[0]) {\n            return toProcess[pos + 1] === kind.tokenChars[1];\n        }\n        return false;\n    }\n\n    /**\n     * Push a token of just one character in length.\n     */\n    function pushCharToken(kind) {\n        tokens.push(new _Token.Token(kind, null, pos, pos + 1));\n        pos += 1;\n    }\n\n    /**\n     * Push a token of two characters in length.\n     */\n    function pushPairToken(kind) {\n        tokens.push(new _Token.Token(kind, null, pos, pos + 2));\n        pos += 2;\n    }\n\n    function pushOneCharOrTwoCharToken(kind, pos, data) {\n        tokens.push(new _Token.Token(kind, data, pos, pos + kind.getLength()));\n    }\n\n    // ID: ('a'..'z'|'A'..'Z'|'_'|'$') ('a'..'z'|'A'..'Z'|'_'|'$'|'0'..'9'|DOT_ESCAPED)*;\n    function isIdentifier(ch) {\n        return isAlphabetic(ch) || isDigit(ch) || ch === '_' || ch === '$';\n    }\n\n    function isChar(a, b) {\n        var ch = toProcess[pos];\n        return ch === a || ch === b;\n    }\n\n    function isExponentChar(ch) {\n        return ch === 'e' || ch === 'E';\n    }\n\n    function isFloatSuffix(ch) {\n        return ch === 'f' || ch === 'F';\n    }\n\n    function isDoubleSuffix(ch) {\n        return ch === 'd' || ch === 'D';\n    }\n\n    function isSign(ch) {\n        return ch === '+' || ch === '-';\n    }\n\n    function isDigit(ch) {\n        if (ch.charCodeAt(0) > 255) {\n            return false;\n        }\n        return (FLAGS[ch.charCodeAt(0)] & IS_DIGIT) !== 0;\n    }\n\n    function isAlphabetic(ch) {\n        if (ch.charCodeAt(0) > 255) {\n            return false;\n        }\n        return (FLAGS[ch.charCodeAt(0)] & IS_ALPHA) !== 0;\n    }\n\n    function isHexadecimalDigit(ch) {\n        if (ch.charCodeAt(0) > 255) {\n            return false;\n        }\n        return (FLAGS[ch.charCodeAt(0)] & IS_HEXDIGIT) !== 0;\n    }\n\n    process();\n\n    return tokens;\n}\n\nvar Tokenizer = exports.Tokenizer = {\n    tokenize: tokenize\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Token = undefined;\n\nvar _TokenKind = __webpack_require__(2);\n\nfunction Token(tokenKind, tokenData, startPos, endPos) {\n    this.kind = tokenKind;\n    this.startPos = startPos;\n    this.endPos = endPos;\n    if (tokenData) {\n        this.data = tokenData;\n    }\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n/**\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nToken.prototype.getKind = function () {\n    return this.kind;\n};\n\nToken.prototype.toString = function () {\n    var s = '[';\n    s += this.kind.toString();\n    if (this.kind.hasPayload()) {\n        s += ':' + this.data;\n    }\n    s += ']';\n    s += '(' + this.startPos + ',' + this.endPos + ')';\n    return s;\n};\n\nToken.prototype.isIdentifier = function () {\n    return this.kind === _TokenKind.TokenKind.IDENTIFIER;\n};\n\nToken.prototype.isNumericRelationalOperator = function () {\n    return this.kind === _TokenKind.TokenKind.GT || this.kind === _TokenKind.TokenKind.GE || this.kind === _TokenKind.TokenKind.LT || this.kind === _TokenKind.TokenKind.LE || this.kind === _TokenKind.TokenKind.EQ || this.kind === _TokenKind.TokenKind.NE;\n};\n\nToken.prototype.stringValue = function () {\n    return this.data;\n};\n\nToken.prototype.asInstanceOfToken = function () {\n    return new Token(_TokenKind.TokenKind.INSTANCEOF, this.startPos, this.endPos);\n};\n\nToken.prototype.asMatchesToken = function () {\n    return new Token(_TokenKind.TokenKind.MATCHES, this.startPos, this.endPos);\n};\n\nToken.prototype.asBetweenToken = function () {\n    return new Token(_TokenKind.TokenKind.BETWEEN, this.startPos, this.endPos);\n};\n\nToken.prototype.getStartPosition = function () {\n    return this.startPos;\n};\n\nToken.prototype.getEndPosition = function () {\n    return this.endPos;\n};\n\nexports.Token = Token;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.BooleanLiteral = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents the literal values TRUE and FALSE.\n *\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(value, position) {\n    var node = _SpelNode.SpelNode.create('boolean', position);\n\n    node.getValue = function () {\n        return value;\n    };\n\n    node.setValue = function (newValue) {\n        /*jshint -W093 */\n        return value = newValue;\n        /*jshint +W093 */\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar BooleanLiteral = exports.BooleanLiteral = {\n    create: createNode\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.NumberLiteral = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Expression language AST node that represents a literal number of any kind (since JavaScript only supports doubles anyway)\n *\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(value, position) {\n    var node = _SpelNode.SpelNode.create('number', position);\n\n    node.getValue = function () {\n        return value;\n    };\n\n    node.setValue = function (newValue) {\n        /*jshint -W093 */\n        return value = newValue;\n        /*jshint +W093 */\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar NumberLiteral = exports.NumberLiteral = {\n    create: createNode\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.StringLiteral = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Expression language AST node that represents a string literal.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(value, position) {\n    var node = _SpelNode.SpelNode.create('string', position);\n\n    function stripQuotes(value) {\n        if (value[0] === '\\'' && value[value.length - 1] === '\\'' || value[0] === '\"' && value[value.length - 1] === '\"') {\n            value = value.substring(1, value.length - 1);\n        }\n\n        return value.replace(/''/g, '\\'').replace(/\"\"/g, '\"');\n    }\n\n    //value cannot be null so no check\n    value = stripQuotes(value);\n\n    node.getValue = function () {\n        return value;\n    };\n\n    node.setValue = function (newValue) {\n        /*jshint -W093 */\n        return value = newValue;\n        /*jshint +W093 */\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar StringLiteral = exports.StringLiteral = {\n    create: createNode\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.NullLiteral = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Expression language AST node that represents null.\n *\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(value, position) {\n    var node = _SpelNode.SpelNode.create('null', position);\n\n    node.getValue = function () {\n        return null;\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar NullLiteral = exports.NullLiteral = {\n    create: createNode\n};\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.FunctionReference = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\nvar _Stack = __webpack_require__(1);\n\n/**\n * A function reference is of the form \"#someFunction(a,b,c)\". Functions may be defined in\n * the context prior to the expression being evaluated or within the expression itself\n * using a lambda function definition. For example: Lambda function definition in an\n * expression: \"(#max = {|x,y|$x>$y?$x:$y};max(2,3))\" Calling context defined function:\n * \"#isEven(37)\". Functions may also be static java methods, registered in the context\n * prior to invocation of the expression.\n *\n * <p>Functions are very simplistic, the arguments are not part of the definition (right\n * now), so the names must be unique.\n *\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\n/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nfunction createNode(functionName, position, args) {\n    var node = _SpelNode.SpelNode.create('function', position);\n\n    node.getRaw = function () {\n        return {\n            functionName: functionName,\n            args: args\n        };\n    };\n\n    node.getValue = function (state) {\n        var locals = state.locals || {},\n            context = state.rootContext,\n            compiledArgs = [];\n\n        //populate arguments\n        args.forEach(function (arg) {\n            // reset the active context to root context for evaluating argument\n            var currentActiveContext = state.activeContext;\n            state.activeContext = new _Stack.Stack();\n            state.activeContext.push(state.rootContext);\n\n            // evaluate argument\n            compiledArgs.push(arg.getValue(state));\n\n            // reset the active context\n            state.activeContext = currentActiveContext;\n        });\n\n        if (locals[functionName]) {\n            return locals[functionName].apply(context, compiledArgs);\n        }\n\n        throw {\n            name: 'FunctionDoesNotExistException',\n            message: 'Function \\'' + functionName + '\\' does not exist.'\n        };\n    };\n\n    return node;\n}\n\nvar FunctionReference = exports.FunctionReference = {\n    create: createNode\n};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.MethodReference = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\nvar _Stack = __webpack_require__(1);\n\n/**\n * Expression language AST node that represents a method reference.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Ben March\n * @since 0.2.0\n */\n\n/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nfunction createNode(nullSafeNavigation, methodName, position, args) {\n    var node = _SpelNode.SpelNode.create('method', position);\n\n    node.getRaw = function () {\n        return {\n            methodName: methodName,\n            args: args\n        };\n    };\n\n    node.getValue = function (state) {\n        var context = state.activeContext.peek(),\n            compiledArgs = [],\n            method;\n\n        if (!context) {\n            throw {\n                name: 'ContextDoesNotExistException',\n                message: 'Attempting to look up property \\'' + methodName + '\\' for an undefined context.'\n            };\n        }\n\n        //handle safe navigation\n        function maybeHandleNullSafeNavigation(member) {\n            if (member === undefined || member === null) {\n                if (nullSafeNavigation) {\n                    return null;\n                }\n\n                throw {\n                    name: 'NullPointerException',\n                    message: 'Method ' + methodName + ' does not exist.'\n                };\n            }\n\n            return member;\n        }\n\n        //populate arguments\n        args.forEach(function (arg) {\n            // reset the active context to root context for evaluating argument\n            var currentActiveContext = state.activeContext;\n            state.activeContext = new _Stack.Stack();\n            state.activeContext.push(state.rootContext);\n\n            // evaluate argument\n            compiledArgs.push(arg.getValue(state));\n\n            // reset the active context\n            state.activeContext = currentActiveContext;\n        });\n\n        //accessors might not be available\n        if (methodName.substr(0, 3) === 'get' && !context[methodName]) {\n            return maybeHandleNullSafeNavigation(context[methodName.charAt(3).toLowerCase() + methodName.substring(4)]);\n        }\n        if (methodName.substr(0, 3) === 'set' && !context[methodName]) {\n            /*jshint -W093 */\n            return context[methodName.charAt(3).toLowerCase() + methodName.substring(4)] = compiledArgs[0];\n            /*jshint +W093 */\n        }\n\n        //array methods\n        if (Array.isArray(context)) {\n            //size() -> length\n            if (methodName === 'size') {\n                return context.length;\n            }\n\n            if (methodName === 'contains') {\n                return context.includes(compiledArgs[0]);\n            }\n        }\n\n        method = maybeHandleNullSafeNavigation(context[methodName]);\n        if (method) {\n            return method.apply(context, compiledArgs);\n        }\n        return null;\n    };\n\n    return node;\n}\n\nvar MethodReference = exports.MethodReference = {\n    create: createNode\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PropertyReference = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents a simple property or field reference.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Clark Duplichien\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(nullSafeNavigation, propertyName, position) {\n    var node = _SpelNode.SpelNode.create('property', position);\n\n    node.getRaw = function () {\n        return propertyName;\n    };\n\n    node.getValue = function (state) {\n        var context = state.activeContext.peek();\n\n        if (!context) {\n            if (nullSafeNavigation) {\n                return null;\n            }\n\n            throw {\n                name: 'ContextDoesNotExistException',\n                message: 'Attempting to look up property \\'' + propertyName + '\\' for an undefined context.'\n            };\n        }\n\n        if (context[propertyName] === undefined || context[propertyName] === null) {\n            //handle safe navigation\n            if (nullSafeNavigation) {\n                return null;\n            }\n\n            //handle conversion of Java properties to JavaScript properties\n            if (propertyName === 'size' && Array.isArray(context)) {\n                return context.length;\n            }\n\n            throw {\n                name: 'NullPointerException',\n                message: 'Property \\'' + propertyName + '\\' does not exist.'\n            };\n        }\n\n        return context[propertyName];\n    };\n\n    node.setValue = function (value, state) {\n        var context = state.activeContext.peek();\n\n        if (!context) {\n            throw {\n                name: 'ContextDoesNotExistException',\n                message: 'Attempting to assign property \\'' + propertyName + '\\' for an undefined context.'\n            };\n        }\n\n        /*jshint -W093 */\n        return context[propertyName] = value;\n        /*jshint +W093 */\n    };\n\n    node.getName = function () {\n        return propertyName;\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar PropertyReference = exports.PropertyReference = {\n    create: createNode\n};\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.VariableReference = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents a variable reference, eg. #someVar. Note this is different to a *local*\n * variable like $someVar\n *\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(variableName, position) {\n    var node = _SpelNode.SpelNode.create('variable', position);\n\n    node.getRaw = function () {\n        return variableName;\n    };\n\n    node.getValue = function (state) {\n        var context = state.activeContext.peek(),\n            locals = state.locals;\n\n        if (!context) {\n            throw {\n                name: 'ContextDoesNotExistException',\n                message: 'Attempting to look up variable \\'' + variableName + '\\' for an undefined context.'\n            };\n        }\n\n        //there are 2 keywords (root, this) that need to be dealt with\n        if (variableName === 'this') {\n            return context;\n        }\n        if (variableName === 'root') {\n            return state.rootContext;\n        }\n\n        return locals[variableName];\n    };\n\n    node.setValue = function (value, state) {\n        var locals = state.locals;\n\n        /*jshint -W093 */\n        return locals[variableName] = value;\n        /*jshint +W093 */\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar VariableReference = exports.VariableReference = {\n    create: createNode\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.CompoundExpression = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents a DOT separated expression sequence, such as 'property1.property2.methodOne()'\n *\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, expressionComponents) {\n    var node = _SpelNode.SpelNode.create.apply(null, ['compound', position].concat(expressionComponents));\n\n    function buildContextStack(state) {\n        var childrenCount = node.getChildren().length,\n            i;\n\n        for (i = 0; i < childrenCount; i += 1) {\n            if (node.getChildren()[i].getType() === 'indexer') {\n                state.activeContext.push(state.activeContext.peek()[node.getChildren()[i].getValue(state)]);\n            } else {\n                state.activeContext.push(node.getChildren()[i].getValue(state));\n            }\n        }\n\n        return function unbuildContextStack() {\n            for (i = 0; i < childrenCount; i += 1) {\n                state.activeContext.pop();\n            }\n        };\n    }\n\n    node.getValue = function (state) {\n        var context = state.activeContext.peek(),\n            value;\n\n        if (!context) {\n            throw {\n                name: 'ContextDoesNotExistException',\n                message: 'Attempting to evaluate compound expression with an undefined context.'\n            };\n        }\n\n        var unbuildContextStack = buildContextStack(state);\n\n        value = state.activeContext.peek();\n\n        unbuildContextStack();\n\n        return value;\n    };\n\n    node.setValue = function (value, state) {\n        var unbuildContextStack = buildContextStack(state),\n            childCount = node.getChildren().length;\n\n        state.activeContext.pop();\n\n        value = node.getChildren()[childCount - 1].setValue(value, state);\n\n        state.activeContext.push(null);\n\n        unbuildContextStack();\n\n        return value;\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar CompoundExpression = exports.CompoundExpression = {\n    create: createNode\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Indexer = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\nvar _Stack = __webpack_require__(1);\n\n/**\n * An Indexer can index into some proceeding structure to access a particular piece of it.\n * Supported structures are: strings / collections (lists/sets) / arrays.\n *\n * @author Andy Clement\n * @author Phillip Webb\n * @author Stephane Nicoll\n * @author Ben March\n * @since 0.2.0\n */\n\n/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nfunction createNode(position, expressionComponents) {\n    var node = _SpelNode.SpelNode.create.apply(null, ['indexer', position].concat(expressionComponents));\n\n    node.getValue = function (state) {\n        var activeContext = state.activeContext,\n            context,\n            childrenCount = node.getChildren().length,\n            i,\n            value;\n\n        state.activeContext = new _Stack.Stack();\n        state.activeContext.push(state.rootContext);\n\n        context = state.activeContext.peek();\n\n        if (!context) {\n            throw {\n                name: 'ContextDoesNotExistException',\n                message: 'Attempting to evaluate compound expression with an undefined context.'\n            };\n        }\n\n        for (i = 0; i < childrenCount; i += 1) {\n            state.activeContext.push(node.getChildren()[i].getValue(state));\n        }\n\n        value = state.activeContext.peek();\n\n        for (i = 0; i < childrenCount; i += 1) {\n            state.activeContext.pop();\n        }\n\n        state.activeContext = activeContext;\n\n        return value;\n    };\n\n    //node.setContext(node.getValue());\n\n    return node;\n}\n\nvar Indexer = exports.Indexer = {\n    create: createNode\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Assign = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents assignment. An alternative to calling setValue() for an expression is to use\n * an assign.\n *\n * <p>Example: 'someNumberProperty=42'\n *\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, property, assignedValue) {\n    var node = _SpelNode.SpelNode.create('assign', position, property, assignedValue);\n\n    node.getValue = function (state) {\n        var context = state.activeContext.peek();\n\n        if (!context) {\n            throw {\n                name: 'ContextDoesNotExistException',\n                message: 'Attempting to assign property \\'' + property.getValue(state) + '\\' for an undefined context.'\n            };\n        }\n\n        return property.setValue(assignedValue.getValue(state), state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar Assign = exports.Assign = {\n    create: createNode\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpEQ = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Implements the equality operator.\n *\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-eq', position, left, right);\n\n    node.getValue = function (state) {\n        return left.getValue(state) === right.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpEQ = exports.OpEQ = {\n    create: createNode\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpNE = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Implements the not-equal operator.\n *\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-ne', position, left, right);\n\n    node.getValue = function (state) {\n        return left.getValue(state) !== right.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpNE = exports.OpNE = {\n    create: createNode\n};\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpGE = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Implements greater-than-or-equal operator.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Giovanni Dall'Oglio Risso\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-ge', position, left, right);\n\n    node.getValue = function (state) {\n        return left.getValue(state) >= right.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpGE = exports.OpGE = {\n    create: createNode\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpGT = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Implements the greater-than operator.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Giovanni Dall'Oglio Risso\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-gt', position, left, right);\n\n    node.getValue = function (state) {\n        return left.getValue(state) > right.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpGT = exports.OpGT = {\n    create: createNode\n};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpLE = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Implements the less-than-or-equal operator.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Giovanni Dall'Oglio Risso\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-le', position, left, right);\n\n    node.getValue = function (state) {\n        return left.getValue(state) <= right.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpLE = exports.OpLE = {\n    create: createNode\n};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpLT = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Implements the less-than operator.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Giovanni Dall'Oglio Risso\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-lt', position, left, right);\n\n    node.getValue = function (state) {\n        return left.getValue(state) < right.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpLT = exports.OpLT = {\n    create: createNode\n};\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpPlus = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * The plus operator will:\n * <ul>\n * <li>add numbers\n * <li>concatenate strings\n * </ul>\n *\n * <p>It can be used as a unary operator for numbers.\n * The standard promotions are performed when the operand types vary (double+int=double).\n * For other options it defers to the registered overloader.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Ivo Smid\n * @author Giovanni Dall'Oglio Risso\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-plus', position, left, right);\n\n    node.getValue = function (state) {\n        if (!right) {\n            return +left.getValue(state);\n        }\n        //javascript will handle string concatenation or addition depending on types\n        return left.getValue(state) + right.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpPlus = exports.OpPlus = {\n    create: createNode\n};\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpMinus = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * The minus operator supports:\n * <ul>\n * <li>subtraction of numbers\n * <li>subtraction of an int from a string of one character\n * (effectively decreasing that character), so 'd'-3='a'\n * </ul>\n *\n * <p>It can be used as a unary operator for numbers.\n * The standard promotions are performed when the operand types vary (double-int=double).\n * For other options it defers to the registered overloader.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Giovanni Dall'Oglio Risso\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-minus', position, left, right);\n\n    node.getValue = function (state) {\n        if (!right) {\n            return -left.getValue(state);\n        }\n        return left.getValue(state) - right.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpMinus = exports.OpMinus = {\n    create: createNode\n};\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpMultiply = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Implements the {@code multiply} operator.\n *\n * <p>Conversions and promotions are handled as defined in\n * <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/conversions.html\">Section 5.6.2 of the\n * Java Language Specification</a>, with the addiction of {@code BigDecimal}/{@code BigInteger} management:\n *\n * <p>If any of the operands is of a reference type, unboxing conversion (Section 5.1.8)\n * is performed. Then:<br>\n * If either operand is of type {@code BigDecimal}, the other is converted to {@code BigDecimal}.<br>\n * If either operand is of type double, the other is converted to double.<br>\n * Otherwise, if either operand is of type float, the other is converted to float.<br>\n * If either operand is of type {@code BigInteger}, the other is converted to {@code BigInteger}.<br>\n * Otherwise, if either operand is of type long, the other is converted to long.<br>\n * Otherwise, both operands are converted to type int.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Sam Brannen\n * @author Giovanni Dall'Oglio Risso\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-multiply', position, left, right);\n\n    node.getValue = function (state) {\n        var leftValue = left.getValue(state),\n            rightValue = right.getValue(state);\n\n        if (typeof leftValue === 'number' && typeof rightValue === 'number') {\n            return leftValue * rightValue;\n        }\n\n        //repeats (ex. 'abc' * 2 = 'abcabc')\n        if (typeof leftValue === 'string' && typeof rightValue === 'number') {\n            var s = '',\n                i = 0;\n            for (; i < rightValue; i += 1) {\n                s += leftValue;\n            }\n            return s;\n        }\n\n        return null;\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpMultiply = exports.OpMultiply = {\n    create: createNode\n};\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpDivide = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Implements division operator.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Giovanni Dall'Oglio Risso\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-divide', position, left, right);\n\n    node.getValue = function (state) {\n        return left.getValue(state) / right.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpDivide = exports.OpDivide = {\n    create: createNode\n};\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpModulus = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Implements the modulus operator.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Giovanni Dall'Oglio Risso\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-modulus', position, left, right);\n\n    node.getValue = function (state) {\n        return left.getValue(state) % right.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpModulus = exports.OpModulus = {\n    create: createNode\n};\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpPower = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * The power operator.\n *\n * @author Andy Clement\n * @author Giovanni Dall'Oglio Risso\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, base, exp) {\n    var node = _SpelNode.SpelNode.create('op-power', position, base, exp);\n\n    node.getValue = function (state) {\n        return Math.pow(base.getValue(state), exp.getValue(state));\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpPower = exports.OpPower = {\n    create: createNode\n};\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpInc = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Increment operator. Can be used in a prefix or postfix form. This will throw\n * appropriate exceptions if the operand in question does not support increment.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Giovanni Dall'Oglio Risso\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, postfix, int) {\n    var node = _SpelNode.SpelNode.create('op-inc', position, int);\n\n    node.getValue = function (state) {\n        var cur = int.getValue(state);\n        int.setValue(cur + 1, state);\n        if (postfix) {\n            return cur;\n        }\n        return cur + 1;\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpInc = exports.OpInc = {\n    create: createNode\n};\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpDec = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Decrement operator.  Can be used in a prefix or postfix form. This will throw\n * appropriate exceptions if the operand in question does not support decrement.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Giovanni Dall'Oglio Risso\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, postfix, int) {\n    var node = _SpelNode.SpelNode.create('op-dec', position, int);\n\n    node.getValue = function (state) {\n        var cur = int.getValue(state);\n        int.setValue(cur - 1, state);\n        if (postfix) {\n            return cur;\n        }\n        return cur - 1;\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpDec = exports.OpDec = {\n    create: createNode\n};\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpNot = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents a NOT operation.\n *\n * @author Andy Clement\n * @author Mark Fisher\n * @author Oliver Becker\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, expr) {\n    var node = _SpelNode.SpelNode.create('op-not', position, expr);\n\n    node.getValue = function (state) {\n        return !expr.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpNot = exports.OpNot = {\n    create: createNode\n};\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpAnd = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents the boolean AND operation.\n *\n * @author Andy Clement\n * @author Mark Fisher\n * @author Oliver Becker\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-and', position, left, right);\n\n    node.getValue = function (state) {\n        //double bang for javascript\n        return !!left.getValue(state) && !!right.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpAnd = exports.OpAnd = {\n    create: createNode\n};\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpOr = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents the boolean OR operation.\n *\n * @author Andy Clement\n * @author Mark Fisher\n * @author Oliver Becker\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('op-or', position, left, right);\n\n    node.getValue = function (state) {\n        //double bang for javascript\n        return !!left.getValue(state) || !!right.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpOr = exports.OpOr = {\n    create: createNode\n};\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpMatches = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Implements the matches operator. Matches takes two operands:\n * The first is a String and the second is a Java regex.\n * It will return {@code true} when {@link #getValue} is called\n * if the first operand matches the regex.\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Chris Thielen\n * @since 3.0\n */\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('matches', position, left, right);\n\n    /**\n     * Check the first operand matches the regex specified as the second operand.\n     * @param state the expression state\n     * @return {@code true} if the first operand matches the regex specified as the\n     * second operand, otherwise {@code false}\n     * @throws EvaluationException if there is a problem evaluating the expression\n     * (e.g. the regex is invalid)\n     */\n    node.getValue = function (state) {\n        var data = left.getValue(state);\n        var regexpString = right.getValue(state);\n\n        try {\n            var regexp = new RegExp(regexpString);\n            return !!regexp.exec(data);\n        } catch (error) {\n            throw {\n                name: 'EvaluationException',\n                message: error.toString()\n            };\n        }\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2019 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpMatches = exports.OpMatches = {\n    create: createNode\n};\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Ternary = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents a ternary expression, for example: \"someCheck()?true:false\".\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, expression, ifTrue, ifFalse) {\n    var node = _SpelNode.SpelNode.create('ternary', position, expression, ifTrue, ifFalse);\n\n    node.getValue = function (state) {\n        return expression.getValue(state) ? ifTrue.getValue(state) : ifFalse.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar Ternary = exports.Ternary = {\n    create: createNode\n};\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Elvis = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents the elvis operator ?:. For an expression \"a?:b\" if a is not null, the value\n * of the expression is \"a\", if a is null then the value of the expression is \"b\".\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, expression, ifFalse) {\n    var node = _SpelNode.SpelNode.create('elvis', position, expression, ifFalse);\n\n    node.getValue = function (state) {\n        return expression.getValue(state) !== null ? expression.getValue(state) : ifFalse.getValue(state);\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar Elvis = exports.Elvis = {\n    create: createNode\n};\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.InlineList = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represent a list in an expression, e.g. '{1,2,3}'\n *\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, elements) {\n    var node = _SpelNode.SpelNode.create('list', position),\n        list = [].concat(elements || []);\n\n    node.getRaw = function () {\n        return list;\n    };\n\n    node.getValue = function (state) {\n        return list.map(function (element) {\n            return element.getValue(state);\n        });\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar InlineList = exports.InlineList = {\n    create: createNode\n};\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.InlineMap = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represent a map in an expression, e.g. '{name:'foo',age:12}'\n *\n * @author Andy Clement\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction createNode(position, elements) {\n    var node = _SpelNode.SpelNode.create('map', position),\n        mapPieces = [].concat(elements || []);\n\n    node.getValue = function (state) {\n        var key = true,\n            keyValue = null,\n            map = {};\n\n        mapPieces.forEach(function (piece) {\n            if (key) {\n                //unquoted property names come as type \"property\" but should be treated as strings\n                if (piece.getType() === 'property') {\n                    keyValue = piece.getName();\n                } else {\n                    keyValue = piece.getValue(state);\n                }\n            } else {\n                map[keyValue] = piece.getValue(state);\n            }\n            key = !key;\n        });\n\n        return map;\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2015 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar InlineMap = exports.InlineMap = {\n    create: createNode\n};\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Selection = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /*\n                                                                                                                                                                                                                                                                               * Copyright 2002-2015 the original author or authors.\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                                                                                                                                                                                                                                                               * you may not use this file except in compliance with the License.\n                                                                                                                                                                                                                                                                               * You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               *      http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Unless required by applicable law or agreed to in writing, software\n                                                                                                                                                                                                                                                                               * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                                                                                                                                                                                                                                                               * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                                                                                                                                                                                                                                                               * See the License for the specific language governing permissions and\n                                                                                                                                                                                                                                                                               * limitations under the License.\n                                                                                                                                                                                                                                                                               */\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents selection over a map or collection.\n * For example: {1,2,3,4,5,6,7,8,9,10}.?{#isEven(#this) == 'y'} returns [2, 4, 6, 8, 10]\n *\n * <p>Basically a subset of the input data is returned based on the\n * evaluation of the expression supplied as selection criteria.\n *\n * @author Andy Clement\n * @author Mark Fisher\n * @author Sam Brannen\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction matches(element, expr, state) {\n    var doesMatch = false;\n    state.activeContext.push(element);\n    doesMatch = expr.getValue(state);\n    state.activeContext.pop();\n    return doesMatch;\n}\n\nfunction selectFromArray(collection, whichElement, expr, state) {\n    var newCollection = collection.filter(function (element) {\n        return matches(element, expr, state);\n    });\n\n    switch (whichElement) {\n        case 'ALL':\n            return newCollection;\n        case 'FIRST':\n            return newCollection[0] || null;\n        case 'LAST':\n            if (newCollection.length) {\n                return newCollection[newCollection.length - 1];\n            }\n            return null;\n    }\n}\n\nfunction selectFromMap(collection, whichElement, expr, state) {\n    var newCollection = {},\n        entry,\n        key,\n        entries = [],\n        returnValue = {};\n\n    for (key in collection) {\n        if (collection.hasOwnProperty(key)) {\n            entry = {\n                key: key,\n                value: collection[key]\n            };\n            if (matches(entry, expr, state)) {\n                entries.push(entry);\n            }\n        }\n    }\n\n    switch (whichElement) {\n        case 'ALL':\n            entries.forEach(function (entry) {\n                newCollection[entry.key] = entry.value;\n            });\n            return newCollection;\n        case 'FIRST':\n            if (entries.length) {\n                returnValue[entries[0].key] = entries[0].value;\n                return returnValue;\n            }\n            return null;\n        case 'LAST':\n            if (entries.length) {\n                returnValue[entries[entries.length - 1].key] = entries[entries.length - 1].value;\n                return returnValue;\n            }\n            return null;\n    }\n\n    entries.forEach(function (entry) {\n        newCollection[entry.key] = entry.value;\n    });\n}\n\nfunction createNode(nullSafeNavigation, whichElement, position, expr) {\n    var node = _SpelNode.SpelNode.create('selection', position, expr);\n\n    node.getValue = function (state) {\n        var collection = state.activeContext.peek();\n\n        if (collection) {\n            if (Array.isArray(collection)) {\n                return selectFromArray(collection, whichElement, expr, state);\n            } else if ((typeof collection === 'undefined' ? 'undefined' : _typeof(collection)) === 'object') {\n                return selectFromMap(collection, whichElement, expr, state);\n            }\n        }\n\n        return null;\n    };\n\n    return node;\n}\n\nvar Selection = exports.Selection = {\n    create: createNode,\n    FIRST: 'FIRST',\n    LAST: 'LAST',\n    ALL: 'ALL'\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Projection = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /*\n                                                                                                                                                                                                                                                                               * Copyright 2002-2015 the original author or authors.\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                                                                                                                                                                                                                                                               * you may not use this file except in compliance with the License.\n                                                                                                                                                                                                                                                                               * You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               *      http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Unless required by applicable law or agreed to in writing, software\n                                                                                                                                                                                                                                                                               * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                                                                                                                                                                                                                                                               * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                                                                                                                                                                                                                                                               * See the License for the specific language governing permissions and\n                                                                                                                                                                                                                                                                               * limitations under the License.\n                                                                                                                                                                                                                                                                               */\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents projection, where a given operation is performed on all elements in some\n * input sequence, returning a new sequence of the same size. For example:\n * \"{1,2,3,4,5,6,7,8,9,10}.!{#isEven(#this)}\" returns \"[n, y, n, y, n, y, n, y, n, y]\"\n *\n * @author Andy Clement\n * @author Mark Fisher\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction projectCollection(collection, expr, state) {\n    return collection.map(function (element) {\n        var matches;\n        state.activeContext.push(element);\n        matches = expr.getValue(state);\n        state.activeContext.pop();\n        return matches;\n    });\n}\n\nfunction createNode(nullSafeNavigation, position, expr) {\n    var node = _SpelNode.SpelNode.create('projection', position, expr);\n\n    node.getValue = function (state) {\n        var collection = state.activeContext.peek(),\n            entries = [],\n            key;\n\n        if (Array.isArray(collection)) {\n            return projectCollection(collection, expr, state);\n        } else if ((typeof collection === 'undefined' ? 'undefined' : _typeof(collection)) === 'object') {\n            for (key in collection) {\n                if (collection.hasOwnProperty(key)) {\n                    entries.push(collection[key]);\n                }\n            }\n            return projectCollection(entries, expr, state);\n        }\n\n        return null;\n    };\n\n    return node;\n}\n\nvar Projection = exports.Projection = {\n    create: createNode\n};\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpInstanceof = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * The operator 'instanceof' checks if an object is of the class specified in the right\n * hand operand, in the same way that {@code instanceof} does in Java.\n *\n * THIS OPERATOR IS NOT IMPLEMENTED AND WILL THROW AN EXCEPTION\n *\n * @author Andy Clement\n * @since 3.0\n */\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('instanceof', position, left, right);\n\n    /**\n     * Compare the left operand to see it is an instance of the type specified as the\n     * right operand. The right operand must be a class.\n     * @param state the expression state\n     * @return {@code true} if the left operand is an instanceof of the right operand,\n     * otherwise {@code false}\n     * @throws EvaluationException if there is a problem evaluating the expression\n     */\n    node.getValue = function (state) {\n        throw {\n            name: 'MethodNotImplementedException',\n            message: 'OpInstanceOf: Not implemented'\n        };\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2019 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpInstanceof = exports.OpInstanceof = {\n    create: createNode\n};\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.OpBetween = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents the between operator. The left operand to between must be a single value and\n * the right operand must be a list - this operator returns true if the left operand is\n * between (using the registered comparator) the two elements in the list. The definition\n * of between being inclusive follows the SQL BETWEEN definition.\n *\n * @author Andy Clement\n * @since 3.0\n */\nfunction createNode(position, left, right) {\n    var node = _SpelNode.SpelNode.create('between', position, left, right);\n\n    /**\n     * Returns a boolean based on whether a value is in the range expressed. The first\n     * operand is any value whilst the second is a list of two values - those two values\n     * being the bounds allowed for the first operand (inclusive).\n     * @param state the expression state\n     * @return true if the left operand is in the range specified, false otherwise\n     * @throws EvaluationException if there is a problem evaluating the expression\n     */\n    node.getValue = function (state) {\n        throw {\n            name: 'MethodNotImplementedException',\n            message: 'OpBetween: Not implemented'\n        };\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2019 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar OpBetween = exports.OpBetween = {\n    create: createNode\n};\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TypeReference = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents a reference to a type, for example\n * {@code \"T(String)\" or \"T(com.somewhere.Foo)\"}.\n *\n * @author Andy Clement\n */\nfunction createNode(position, node, _dims) {\n    var node = _SpelNode.SpelNode.create('typeref', position, node);\n\n    node.getValue = function (state) {\n        throw {\n            name: 'MethodNotImplementedException',\n            message: 'TypeReference: Not implemented'\n        };\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2019 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar TypeReference = exports.TypeReference = {\n    create: createNode\n};\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.BeanReference = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * Represents a bean reference to a type, for example <tt>@foo</tt> or <tt>@'foo.bar'</tt>.\n * For a FactoryBean the syntax <tt>&foo</tt> can be used to access the factory itself.\n *\n * @author Andy Clement\n */\nfunction createNode(position, beanName) {\n    var node = _SpelNode.SpelNode.create('beanref', position);\n\n    node.getValue = function (state) {\n        throw {\n            name: 'MethodNotImplementedException',\n            message: 'BeanReference: Not implemented'\n        };\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2019 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar BeanReference = exports.BeanReference = {\n    create: createNode\n};\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Identifier = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\n/**\n * An 'identifier' {@link SpelNode}.\n *\n * @author Andy Clement\n * @since 3.0\n */\nfunction createNode(identifierName, position) {\n    var node = _SpelNode.SpelNode.create('identifier', position);\n\n    node.getRaw = function () {\n        return identifierName;\n    };\n\n    node.getValue = function (state) {\n        throw {\n            name: 'MethodNotImplementedException',\n            message: 'Identifier: Not implemented'\n        };\n    };\n\n    return node;\n} /*\n   * Copyright 2002-2019 the original author or authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\nvar Identifier = exports.Identifier = {\n    create: createNode\n};\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.QualifiedIdentifier = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /*\n                                                                                                                                                                                                     * Copyright 2002-2019 the original author or authors.\n                                                                                                                                                                                                     *\n                                                                                                                                                                                                     * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                                                                                                                                                                                     * you may not use this file except in compliance with the License.\n                                                                                                                                                                                                     * You may obtain a copy of the License at\n                                                                                                                                                                                                     *\n                                                                                                                                                                                                     *      https://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                     *\n                                                                                                                                                                                                     * Unless required by applicable law or agreed to in writing, software\n                                                                                                                                                                                                     * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                                                                                                                                                                                     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                                                                                                                                                                                     * See the License for the specific language governing permissions and\n                                                                                                                                                                                                     * limitations under the License.\n                                                                                                                                                                                                     */\n\n/**\n * Represents a dot separated sequence of strings that indicate a package qualified type\n * reference.\n *\n * <p>Example: \"java.lang.String\" as in the expression \"new java.lang.String('hello')\"\n *\n * @author Andy Clement\n * @since 3.0\n */\nfunction createNode(position, pieces) {\n    var node = _SpelNode.SpelNode.create.apply(_SpelNode.SpelNode, ['qualifiedidentifier', position].concat(_toConsumableArray(pieces)));\n\n    node.getRaw = function () {\n        return pieces.map(function (p) {\n            return p.getRaw();\n        });\n    };\n\n    node.getValue = function (state) {\n        throw {\n            name: 'MethodNotImplementedException',\n            message: 'QualifiedIdentifier: Not implemented'\n        };\n    };\n\n    return node;\n}\n\nvar QualifiedIdentifier = exports.QualifiedIdentifier = {\n    create: createNode\n};\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ConstructorReference = undefined;\n\nvar _SpelNode = __webpack_require__(0);\n\nvar _Stack = __webpack_require__(1);\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); } /*\n                                                                               * Copyright 2002-2019 the original author or authors.\n                                                                               *\n                                                                               * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                                                               * you may not use this file except in compliance with the License.\n                                                                               * You may obtain a copy of the License at\n                                                                               *\n                                                                               *      https://www.apache.org/licenses/LICENSE-2.0\n                                                                               *\n                                                                               * Unless required by applicable law or agreed to in writing, software\n                                                                               * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                                                               * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                                                               * See the License for the specific language governing permissions and\n                                                                               * limitations under the License.\n                                                                               */\n\n/**\n * Represents the invocation of a constructor. Either a constructor on a regular type or\n * construction of an array. When an array is constructed, an initializer can be specified.\n *\n * <p>Examples:<br>\n * new String('hello world')<br>\n * new int[]{1,2,3,4}<br>\n * new int[3] new int[3]{1,2,3}\n *\n * @author Andy Clement\n * @author Juergen Hoeller\n * @since 3.0\n */\nfunction createNode(position, dimensions, nodes) {\n    var isArray = nodes !== undefined;\n    var dimension;\n    if (isArray) {\n        dimension = dimensions.length && dimensions[0] && dimensions[0].getType() === 'number' ? dimensions[0].getValue() : null;\n    } else {\n        nodes = dimensions;\n        dimensions = undefined;\n    }\n\n    var _nodes = nodes,\n        _nodes2 = _toArray(_nodes),\n        _qualifiedIdentifier = _nodes2[0],\n        args = _nodes2.slice(1);\n\n    var node = _SpelNode.SpelNode.create.apply(_SpelNode.SpelNode, ['constructorref', position].concat(_toConsumableArray(nodes)));\n\n    node.getRaw = function () {\n        return dimension;\n    };\n\n    node.getValue = function (state) {\n        if (isArray && args.length <= 1) {\n            var compiledArgs = [];\n\n            //populate arguments\n            args.forEach(function (arg) {\n                // reset the active context to root context for evaluating argument\n                var currentActiveContext = state.activeContext;\n                state.activeContext = new _Stack.Stack();\n                state.activeContext.push(state.rootContext);\n\n                // evaluate argument\n                compiledArgs.push(arg.getValue(state));\n\n                // reset the active context\n                state.activeContext = currentActiveContext;\n            });\n\n            if (args.length === 1) {\n                return compiledArgs[0];\n            } else {\n                return dimension ? new Array(dimension) : [];\n            }\n        }\n\n        throw {\n            name: 'MethodNotImplementedException',\n            message: 'ConstructorReference: Not implemented'\n        };\n    };\n\n    return node;\n}\n\nvar ConstructorReference = exports.ConstructorReference = {\n    create: createNode\n};\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/*\n * Copyright 2002-2015 the original author or authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @author Ben March\n * @since 0.2.0\n */\n\nfunction create(authentication, principal) {\n    var context = {};\n\n    context.authentication = authentication || {};\n    context.principal = principal || {};\n\n    context.hasRole = function (role) {\n        var hasRole = false;\n\n        if (!role) {\n            return false;\n        }\n        if (!context.authentication && !Array.isArray(context.authentication.authorities)) {\n            return false;\n        }\n\n        context.authentication.authorities.forEach(function (grantedAuthority) {\n            if (grantedAuthority.authority.toLowerCase() === role.toLowerCase()) {\n                hasRole = true;\n            }\n        });\n\n        return hasRole;\n    };\n\n    context.hasPermission = function () /*variable arguments*/{\n        var args = Array.prototype.slice.call(arguments);\n\n        if (args.length === 1) {\n            return context.hasRole(args[0]);\n        }\n    };\n\n    return context;\n}\n\nvar StandardContext = exports.StandardContext = {\n    create: create\n};\n\n/***/ })\n/******/ ]);\n});"]},"metadata":{},"sourceType":"script"}