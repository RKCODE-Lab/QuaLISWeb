{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Row,Col,Card,FormGroup,FormLabel}from'react-bootstrap';import{connect}from'react-redux';import{callService,filterColumnData,changeTrainingUserViewDateFilter,getTrainingUserViewDetails,viewAttachment}from'../../../actions';import{FormattedMessage,injectIntl}from'react-intl';import{toast}from'react-toastify';import{getControlMap,convertDateValuetoString}from'../../../components/CommonScript';import ListMaster from'../../../components/list-master/list-master.component';import{ReadOnlyText,ContentPanel}from'../../../components/App.styles';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';import'react-perfect-scrollbar/dist/css/styles.css';// import ReactTooltip from 'react-tooltip';\nimport BreadcrumbComponent from'../../../components/Breadcrumb.Component';import{Affix}from'rsuite';import TrainingUserViewDateFilter from'../../../pages/competencemanagement/traininguserview/TrainingUserViewDateFilter';import UserViewTrainingDocumentTab from'./UserViewTrainingDocumentTab';import CustomTab from\"../../../components/custom-tabs/custom-tabs.component\";import{designProperties}from'../../../components/Enumeration';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var UserView=/*#__PURE__*/function(_React$Component){_inherits(UserView,_React$Component);var _super=_createSuper(UserView);function UserView(props){var _this;_classCallCheck(this,UserView);_this=_super.call(this,props);_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){_this.searchRef.current.value=\"\";var fromDate=_this.state.selectedRecord[\"fromdate\"]?_this.state.selectedRecord[\"fromdate\"]:_this.props.Login.masterData.FromDate;var toDate=_this.state.selectedRecord[\"todate\"]?_this.state.selectedRecord[\"todate\"]:_this.props.Login.masterData.ToDate;var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo);var inputParam={inputData:{fromDate:obj.fromDate,toDate:obj.toDate,usercode:_this.props.Login.userInfo.nusercode,userinfo:_this.props.Login.userInfo},classUrl:\"userview\",methodUrl:\"UserView\",displayName:\"IDS_TRAININGUSERVIEW\",userInfo:_this.props.Login.userInfo};_this.props.changeTrainingUserViewDateFilter(inputParam);};_this.tabDetail=function(){var _ref,_ref2,_ref3,_ref4;var moreField=[(_ref={},_defineProperty(_ref,designProperties.LABEL,\"IDS_LINK\"),_defineProperty(_ref,designProperties.VALUE,\"slinkname\"),_ref),(_ref2={},_defineProperty(_ref2,designProperties.LABEL,\"IDS_CREATEDDATE\"),_defineProperty(_ref2,designProperties.VALUE,\"screateddate\"),_ref2),(_ref3={},_defineProperty(_ref3,designProperties.LABEL,\"IDS_DESCRIPTION\"),_defineProperty(_ref3,designProperties.VALUE,\"sfiledesc\"),_ref3)];var subFields=[(_ref4={},_defineProperty(_ref4,designProperties.LABEL,\"IDS_FILESIZE\"),_defineProperty(_ref4,designProperties.VALUE,\"sfilesize\"),_defineProperty(_ref4,\"fieldType\",\"size\"),_ref4)];var tabMap=new Map();tabMap.set(\"IDS_USERVIEWTRAININGDOCUMENT\",/*#__PURE__*/React.createElement(UserViewTrainingDocumentTab,{controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,masterData:_this.props.Login.masterData,userInfo:_this.props.Login.userInfo,TrainingDocuments:_this.props.Login.masterData.TrainingDocuments,screenName:\"IDS_USERVIEWTRAININGDOCUMENT\",viewTrainingDocumentFile:_this.viewTrainingDocumentFile,moreField:moreField,subFields:subFields}));return tabMap;};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.reloadData=function(selectedRecord,isDateChange){_this.searchRef.current.value=\"\";var fromDate=_this.props.Login.masterData.FromDate;var toDate=_this.props.Login.masterData.ToDate;var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo,true);var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,fromDate:obj.fromDate,toDate:obj.toDate},classUrl:'userview',methodUrl:\"UserView\",displayName:\"IDS_TRAININGUSERVIEW\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.viewTrainingDocumentFile=function(filedata){var inputParam={inputData:{userviewfile:filedata,userinfo:_this.props.Login.userInfo},classUrl:\"userview\",operation:\"view\",methodUrl:\"UserViewFile\",screenName:\"User View File\"};_this.props.viewAttachment(inputParam);};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],controlMap:new Map(),skip:0,take:_this.props.Login.settings?_this.props.Login.settings[3]:25};_this.searchRef=React.createRef();_this.searchFieldList=[\"strainingvenue\",\"strainingtopic\",\"strainername\"];return _this;}_createClass(UserView,[{key:\"render\",value:function render(){var _this2=this;var obj=convertDateValuetoString(this.state.selectedRecord[\"fromdate\"]||this.props.Login.masterData&&this.props.Login.masterData.FromDate,this.state.selectedRecord[\"todate\"]||this.props.Login.masterData&&this.props.Login.masterData.ToDate,this.props.Login.userInfo);var fromDate=obj.fromDate;var toDate=obj.toDate;var SelectedTrainingUserView=this.props.Login.masterData.SelectedTrainingUserView;var filterParam={inputListName:\"TrainingUserView\",selectedObject:\"SelectedTrainingUserView\",primaryKeyField:\"nparticipantcode\",fetchUrl:\"userview/getTrainingUserViewDetails\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var breadCrumbData=this.state.filterData||[];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{searchRef:this.searchRef,screenName:\"UserView\",userRoleControlRights:this.state.userRoleControlRights,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.TrainingUserView,showFilterIcon:true,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,reloadData:this.reloadData,getMasterDetail:function getMasterDetail(master){return _this2.props.getTrainingUserViewDetails(master,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.SelectedTrainingUserView,showFilter:this.props.Login.showFilter,filterColumnData:this.props.filterColumnData,filterParam:filterParam,primaryKeyField:\"nparticipantcode\",mainField:\"strainingtopic\",firstField:\"strainername\",secondField:\"strainingvenue\",filterComponent:[{\"IDS_TRAININGUSERVIEWDATEFILTER\":/*#__PURE__*/React.createElement(TrainingUserViewDateFilter,{selectedRecord:this.state.selectedRecord||{},value:this.state.value||{},handleDateChange:this.handleDateChange,fromDate:fromDate,toDate:toDate,userInfo:this.props.Login.userInfo,onFilterChange:this.onFilterChange})}]})),/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.SelectedTrainingUserView?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.SelectedTrainingUserView.strainingtopic),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"})))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGTOPIC\",message:\"Training Topic\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingtopic))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAINERNAME\",message:\"Trainer Name\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainername))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGVENUE\",message:\"Training Venue\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingvenue))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGDATETIME\",message:\"Training Date\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingdatetime.substring(0,10)))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGSTATUS\",message:\"Training Status\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingstatus))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGCATEGORY\",message:\"Training Category\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingcategoryname)))),SelectedTrainingUserView&&/*#__PURE__*/React.createElement(CustomTab,{tabDetail:this.tabDetail(),onTabChange:this.onTabChange}))):\"\"))))))));}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];var obj=convertDateValuetoString(this.props.Login.masterData.FromDate,this.props.Login.masterData.ToDate,this.props.Login.userInfo);breadCrumbData.push({\"label\":\"IDS_FROM\",\"value\":obj.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":obj.breadCrumbto});return breadCrumbData;}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,data:this.props.Login.masterData.TrainingUserView});}else{if(this.props.Login.masterData.TrainingUserView){this.setState({data:this.props.Login.masterData.TrainingUserView,dataState:{skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5}});}}}if(this.props.Login.masterData!==previousProps.Login.masterData){var filterData=this.generateBreadCrumData();this.setState({filterData:filterData});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return UserView;}(React.Component);export default connect(mapStateToProps,{callService:callService,filterColumnData:filterColumnData,changeTrainingUserViewDateFilter:changeTrainingUserViewDateFilter,getTrainingUserViewDetails:getTrainingUserViewDetails,viewAttachment:viewAttachment})(injectIntl(UserView));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/competencemanagement/traininguserview/UserView.jsx"],"names":["React","Component","Row","Col","Card","FormGroup","FormLabel","connect","callService","filterColumnData","changeTrainingUserViewDateFilter","getTrainingUserViewDetails","viewAttachment","FormattedMessage","injectIntl","toast","getControlMap","convertDateValuetoString","ListMaster","ReadOnlyText","ContentPanel","DEFAULT_RETURN","BreadcrumbComponent","Affix","TrainingUserViewDateFilter","UserViewTrainingDocumentTab","CustomTab","designProperties","mapStateToProps","state","Login","UserView","props","openFilter","showFilter","updateInfo","typeName","data","updateStore","closeFilter","onFilterSubmit","searchRef","current","value","fromDate","selectedRecord","masterData","FromDate","toDate","ToDate","obj","userInfo","inputParam","inputData","usercode","nusercode","userinfo","classUrl","methodUrl","displayName","tabDetail","moreField","LABEL","VALUE","subFields","tabMap","Map","set","controlMap","userRoleControlRights","TrainingDocuments","viewTrainingDocumentFile","handleDateChange","dateName","dateValue","setState","reloadData","isDateChange","filedata","userviewfile","operation","screenName","error","skip","take","settings","createRef","searchFieldList","SelectedTrainingUserView","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","breadCrumbData","filterData","length","searchedData","TrainingUserView","master","onFilterChange","strainingtopic","strainername","strainingvenue","strainingdatetime","substring","strainingstatus","strainingcategoryname","onTabChange","push","breadCrumbFrom","breadCrumbto","previousProps","nformcode","Object","values","map","item","ncontrolcode","dataState","parseInt","generateBreadCrumData","masterStatus","errorCode","warn"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Card, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {\r\n    callService,filterColumnData,changeTrainingUserViewDateFilter,getTrainingUserViewDetails,viewAttachment\r\n} from '../../../actions'\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport { getControlMap ,convertDateValuetoString } from '../../../components/CommonScript';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\nimport { ReadOnlyText, ContentPanel} from '../../../components/App.styles';\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\r\nimport { Affix } from 'rsuite';\r\nimport TrainingUserViewDateFilter from '../../../pages/competencemanagement/traininguserview/TrainingUserViewDateFilter';\r\nimport UserViewTrainingDocumentTab from './UserViewTrainingDocumentTab';\r\nimport CustomTab from \"../../../components/custom-tabs/custom-tabs.component\";\r\nimport { designProperties } from '../../../components/Enumeration';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass UserView extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = ({\r\n            selectedRecord: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            take: this.props.Login.settings ? this.props.Login.settings[3] : 25\r\n        });\r\n        this.searchRef = React.createRef();\r\n        this.searchFieldList = [\"strainingvenue\", \"strainingtopic\", \"strainername\"]\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n\r\n        let obj = convertDateValuetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\r\n            this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate),\r\n            this.props.Login.userInfo)\r\n\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        const { SelectedTrainingUserView } = this.props.Login.masterData;\r\n        const filterParam = {\r\n            inputListName: \"TrainingUserView\", selectedObject: \"SelectedTrainingUserView\", primaryKeyField: \"nparticipantcode\",\r\n            fetchUrl: \"userview/getTrainingUserViewDetails\", fecthInputObject: { userinfo: this.props.Login.userInfo }, masterData: this.props.Login.masterData,\r\n            searchFieldList: this.searchFieldList\r\n        };\r\n              \r\n        let breadCrumbData = this.state.filterData || [];\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                    {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                    <Row noGutters={true}>\r\n                    <Col md={4}>\r\n              <ListMaster\r\n                         searchRef={this.searchRef}\r\n                         screenName={\"UserView\"}\r\n                         userRoleControlRights={this.state.userRoleControlRights}\r\n                         masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.TrainingUserView}\r\n                         showFilterIcon={true}\r\n                         openFilter={this.openFilter}\r\n                         closeFilter={this.closeFilter}\r\n                         onFilterSubmit={this.onFilterSubmit}\r\n                         reloadData={this.reloadData}\r\n                         getMasterDetail={(master) => this.props.getTrainingUserViewDetails(master, this.props.Login.userInfo, this.props.Login.masterData)}       \r\n                         selectedMaster={this.props.Login.masterData.SelectedTrainingUserView}\r\n                         showFilter={this.props.Login.showFilter}\r\n                         filterColumnData={this.props.filterColumnData}\r\n                         filterParam={filterParam}\r\n                         primaryKeyField=\"nparticipantcode\"\r\n                                mainField=\"strainingtopic\"\r\n                                firstField=\"strainername\"\r\n                                secondField=\"strainingvenue\"\r\n                                filterComponent={[\r\n                                {\r\n                                  \"IDS_TRAININGUSERVIEWDATEFILTER\": (\r\n                                    <TrainingUserViewDateFilter\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                value={this.state.value || {}}\r\n                                                handleDateChange={this.handleDateChange}\r\n                                                fromDate={fromDate}\r\n                                                toDate={toDate}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                onFilterChange={this.onFilterChange}\r\n                                               \r\n                                            />\r\n                                  ),\r\n                                },\r\n                              ]}\r\n\r\n              />\r\n              </Col>\r\n               <Col md={8}>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <ContentPanel className=\"panel-main-content\">\r\n                                        <Card className=\"border-0\">\r\n                                            {this.props.Login.masterData.SelectedTrainingUserView ?\r\n                                                <>\r\n                                                    <Card.Header>\r\n                                                       \r\n                                                        <Card.Title className=\"product-title-main\">\r\n                                                            {this.props.Login.masterData.SelectedTrainingUserView.strainingtopic}\r\n                                                        </Card.Title>\r\n                                                        <Card.Subtitle>\r\n                                                            <div className=\"d-flex product-category\">\r\n                                                                <h2 className=\"product-title-sub flex-grow-1\">\r\n\r\n                                                                    \r\n                                                                </h2>\r\n                                                                \r\n                                                            </div>\r\n\r\n                                                        </Card.Subtitle>\r\n                                                    </Card.Header>\r\n                                                    <Card.Body>\r\n                                                        <Row>\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGTOPIC\" message=\"Training Topic\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingtopic}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAINERNAME\" message=\"Trainer Name\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainername}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGVENUE\" message=\"Training Venue\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingvenue }\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGDATETIME\" message=\"Training Date\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingdatetime.substring(0,10)}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            {/* <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGTIME\" message=\"Training Time\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingtime}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col> */}\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGSTATUS\" message=\"Training Status\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.SelectedTrainingUserView.strainingstatus}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGCATEGORY\" message=\"Training Category\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.SelectedTrainingUserView.strainingcategoryname}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            {/* <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_ATTENDANCESTATUS\" message=\"Attendance Status\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.SelectedTrainingUserView.sattendancestatus}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>  */}\r\n                                                                                    \r\n                                                                                                                      \r\n                                                        </Row>\r\n                                                        {SelectedTrainingUserView && <CustomTab tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />}\r\n\r\n                                                    </Card.Body>\r\n\r\n                                                </>\r\n                                                : \"\"\r\n                                            }\r\n                                        </Card>\r\n                                    </ContentPanel>\r\n                                </Col></Row>\r\n                        </Col>\r\n                    </Row>\r\n            </div>\r\n\r\n            </>\r\n        );\r\n    }\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter;\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { showFilter },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      };\r\n    \r\n      closeFilter = () => {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { showFilter: false },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      };\r\n    \r\n      onFilterSubmit = () => {\r\n        this.searchRef.current.value = \"\";\r\n       let fromDate= this.state.selectedRecord[\"fromdate\"] ?this.state.selectedRecord[\"fromdate\"]: this.props.Login.masterData.FromDate;\r\n       let toDate= this.state.selectedRecord[\"todate\"] ? this.state.selectedRecord[\"todate\"]: this.props.Login.masterData.ToDate;\r\n\r\n        let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);  \r\n        let inputParam ={\r\n             inputData : {\r\n            fromDate: obj.fromDate,\r\n            toDate: obj.toDate,\r\n            \r\n            usercode: this.props.Login.userInfo.nusercode,\r\n            userinfo: this.props.Login.userInfo,\r\n        },\r\n        \r\n        classUrl: \"userview\",\r\n        methodUrl: \"UserView\",\r\n        displayName: \"IDS_TRAININGUSERVIEW\",\r\n        userInfo: this.props.Login.userInfo\r\n    };\r\n    this.props.changeTrainingUserViewDateFilter(inputParam);\r\n\r\n    }\r\n    tabDetail = () => {\r\n        const moreField=[\r\n            {[designProperties.LABEL]: \"IDS_LINK\",[designProperties.VALUE]:\"slinkname\"}, \r\n            {[designProperties.LABEL]: \"IDS_CREATEDDATE\",[designProperties.VALUE]:\"screateddate\"}, \r\n            {[designProperties.LABEL]: \"IDS_DESCRIPTION\",[designProperties.VALUE]:\"sfiledesc\"}\r\n        ];\r\n        const subFields=[\r\n            {[designProperties.LABEL]: \"IDS_FILESIZE\",[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\r\n        ];\r\n\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_USERVIEWTRAININGDOCUMENT\",\r\n            <UserViewTrainingDocumentTab\r\n            controlMap={this.state.controlMap}\r\n            userRoleControlRights={this.state.userRoleControlRights}\r\n                masterData={this.props.Login.masterData}\r\n                userInfo={this.props.Login.userInfo}\r\n                TrainingDocuments={this.props.Login.masterData.TrainingDocuments}\r\n                screenName=\"IDS_USERVIEWTRAININGDOCUMENT\"\r\n                viewTrainingDocumentFile={this.viewTrainingDocumentFile}\r\n                moreField={moreField}\r\n                subFields={subFields}\r\n            />\r\n    \r\n            );\r\n            return tabMap;\r\n\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n    \r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n            let obj = convertDateValuetoString(this.props.Login.masterData.FromDate,\r\n                this.props.Login.masterData.ToDate,\r\n                this.props.Login.userInfo);\r\n            breadCrumbData.push(\r\n\r\n                {\r\n                    \"label\": \"IDS_FROM\",\r\n                    \"value\": obj.breadCrumbFrom\r\n                },\r\n                {\r\n                    \"label\": \"IDS_TO\",\r\n                    \"value\": obj.breadCrumbto\r\n                }\r\n            );\r\n        \r\n        return breadCrumbData;\r\n    }\r\n\r\n   \r\n    reloadData = (selectedRecord, isDateChange) => {\r\n        this.searchRef.current.value = \"\";\r\n\r\n        let fromDate = this.props.Login.masterData.FromDate;\r\n        let toDate = this.props.Login.masterData.ToDate;       \r\n        let obj = convertDateValuetoString(fromDate,toDate, this.props.Login.userInfo, true);\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": this.props.Login.userInfo,\r\n                fromDate:obj.fromDate, \r\n                toDate:obj.toDate,\r\n            },\r\n            classUrl: 'userview',\r\n            methodUrl: \"UserView\",\r\n            displayName: \"IDS_TRAININGUSERVIEW\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    viewTrainingDocumentFile = (filedata) => {\r\n        const inputParam = {\r\n            inputData: {\r\n                userviewfile: filedata,\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            classUrl: \"userview\",\r\n            operation: \"view\",\r\n            methodUrl: \"UserViewFile\",\r\n            screenName: \"User View File\"\r\n        }\r\n        this.props.viewAttachment(inputParam);\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({\r\n                    userRoleControlRights, controlMap, data: this.props.Login.masterData.TrainingUserView,\r\n                });\r\n            }\r\n            else {\r\n                if (this.props.Login.masterData.TrainingUserView) {\r\n                    this.setState({\r\n                        data: this.props.Login.masterData.TrainingUserView,\r\n                        dataState : {skip:0,take:this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5},\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService,filterColumnData,changeTrainingUserViewDateFilter,getTrainingUserViewDetails,viewAttachment\r\n})(injectIntl(UserView));\r\n\r\n"]},"metadata":{},"sourceType":"module"}