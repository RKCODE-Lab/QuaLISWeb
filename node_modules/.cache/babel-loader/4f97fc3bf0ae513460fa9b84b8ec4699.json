{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\dynamicpreregdesign\\\\registrationsubtype\\\\AddSeqNoFormatPopup.jsx\";\nimport React from 'react';\nimport { injectIntl } from 'react-intl';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { AtAccordion } from '../../../components/custom-accordion/custom-accordion.styles';\nimport { Accordion, Button, Card, Col, ListGroupItem, Nav, Row, useAccordionToggle } from 'react-bootstrap';\nimport AccordionContext from \"react-bootstrap/AccordionContext\";\nimport { Draggable, Droppable } from 'react-drag-and-drop';\nimport FormTextarea from '../../../components/form-textarea/form-textarea.component';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBackspace, faChevronDown, faChevronUp, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport FormSelectSearch from '../../../components/form-select-search/form-select-search.component';\nimport FormNumericInput from '../../../components/form-numeric-input/form-numeric-input.component';\nimport FormInput from '../../../components/form-input/form-input.component';\nimport CustomSwitch from '../../../components/custom-switch/custom-switch.component';\nimport { transactionStatus } from '../../../components/Enumeration'; //import { transactionStatus } from '../../../components/Enumeration';\n\nclass AddSeqNoFormatPopup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    this.date = new Date();\n    this.year = this.props.intl.formatMessage({\n      id: \"IDS_YEAR\"\n    });\n    this.month = this.props.intl.formatMessage({\n      id: \"IDS_MONTH\"\n    });\n    this.dates = this.props.intl.formatMessage({\n      id: \"IDS_DATE\"\n    });\n    this.character = this.props.intl.formatMessage({\n      id: \"IDS_LIMSCHARACTER\"\n    });\n    this.seqNo = this.props.intl.formatMessage({\n      id: \"IDS_SEQNO\"\n    });\n    this.site = this.props.intl.formatMessage({\n      id: \"IDS_SITE\"\n    });\n  }\n\n  render() {\n    let str = '{9999}';\n    str = str.substring(1, str.length - 4);\n    str = str.padStart(this.props.selectedRecord && this.props.selectedRecord.seqnolength || 4, 9);\n    let sseqno = '{' + str + '}';\n    const formatComponents = [{\n      \"componentname\": `${this.year} (${this.date.getFullYear()})`,\n      \"componentvalue\": \"{yyyy}\"\n    }, {\n      \"componentname\": `${this.year} (${this.date.getFullYear().toString().substring(2, 4)})`,\n      \"componentvalue\": \"{yy}\"\n    }, {\n      \"componentname\": `${this.month} (${(this.date.getMonth() + 1).toString().padStart(2, \"0\")})`,\n      \"componentvalue\": \"{MM}\"\n    }, {\n      \"componentname\": `${this.month} (${this.months[this.date.getMonth()]})`,\n      \"componentvalue\": \"{MMM}\"\n    }, {\n      \"componentname\": `${this.dates} (${this.date.getDate()})`,\n      \"componentvalue\": \"{DD}\"\n    }, {\n      \"componentname\": `${this.character} (${this.props.selectedRecord && this.props.selectedRecord.splaintext || \"\"})`,\n      \"componentvalue\": this.props.selectedRecord && this.props.selectedRecord.splaintext || \"\"\n    }, {\n      \"componentname\": `${this.seqNo} (${sseqno})`,\n      \"componentvalue\": this.props.selectedRecord && this.props.selectedRecord.sseqno || \"{9999}\"\n    }, {\n      \"componentname\": \"/\",\n      \"componentvalue\": \"/\"\n    }, {\n      \"componentname\": \"-\",\n      \"componentvalue\": \"-\"\n    }];\n\n    if (parseInt(this.props.settings[23]) === transactionStatus.YES) {\n      formatComponents.push({\n        \"componentname\": `${this.site} (${this.props.userInfo.ssitecode})`,\n        \"componentvalue\": \"{XXXXX}\"\n      });\n    }\n\n    const configFields = [{\n      \"idsName\": \"IDS_NEEDSUBSAMPLE\",\n      \"dataField\": \"nneedsubsample\"\n    }, // { \"idsName\": \"IDS_NEEDSAMPLEDBY\", \"dataField\": \"nneedsampledby\" },\n    {\n      \"idsName\": \"IDS_NEEDJOBALLOCATION\",\n      \"dataField\": \"nneedjoballocation\"\n    }, {\n      \"idsName\": \"IDS_NEEDMYJOB\",\n      \"dataField\": \"nneedmyjob\"\n    }, {\n      \"idsName\": \"IDS_NEEDWORKLIST\",\n      \"dataField\": \"nneedworklist\"\n    }, {\n      \"idsName\": \"IDS_NEEDBATCH\",\n      \"dataField\": \"nneedbatch\"\n    }, //{ \"idsName\": \"IDS_NEEDTESTINITIATE\", \"dataField\": \"nneedtestinitiate\" },\n    //  { \"idsName\": \"IDS_NEEDSCHEDULER\", \"dataField\": \"nneedscheduler\" },\n    // { \"idsName\": \"IDS_NEEDTEMPLATEBASEDFLOW\", \"dataField\": \"nneedtemplatebasedflow\" },\n    {\n      \"idsName\": \"IDS_USENEWFORMAT\",\n      \"dataField\": \"nisnewformat\"\n    }];\n\n    const CustomToggle = ({\n      children,\n      eventKey\n    }) => {\n      const currentEventKey = React.useContext(AccordionContext);\n      const isCurrentEventKey = currentEventKey === eventKey;\n      const decoratedOnClick = useAccordionToggle(eventKey, \"\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-between\",\n        onClick: decoratedOnClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }, children, isCurrentEventKey ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faChevronUp,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }\n      }) : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faChevronDown //onClick={children.props.onExpandCall}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 27\n        }\n      }));\n    };\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, configFields.map(field => /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CustomSwitch, {\n      label: this.props.intl.formatMessage({\n        id: field.idsName\n      }),\n      type: \"switch\",\n      name: field.dataField,\n      onChange: event => this.props.onInputOnChange(event),\n      isMandatory: false,\n      required: true,\n      disabled: //field.dataField==='nneedjoballocation'||\n      field.dataField === 'nneedmyjob' ? this.props.selectedRecord && this.props.selectedRecord[\"nneedworklist\"] ? this.props.selectedRecord[\"nneedworklist\"] === true ? true : false : false : false,\n      checked: this.props.selectedRecord && this.props.selectedRecord[field.dataField],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    })))), this.props.selectedRecord && this.props.selectedRecord.nisnewformat ? /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FormSelectSearch, {\n      name: \"nperiodcode\",\n      formLabel: this.props.intl.formatMessage({\n        id: \"IDS_RESETSEQEVERY\"\n      }),\n      placeholder: this.props.intl.formatMessage({\n        id: \"IDS_RESETDURATION\"\n      }),\n      options: this.props.periodList || [],\n      value: this.props.selectedRecord && this.props.selectedRecord.nperiodcode || '',\n      isMandatory: true,\n      isSearchable: true,\n      isMulti: false,\n      onChange: event => this.props.onComboChange(event, 'nperiodcode'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FormInput, {\n      name: \"splaintext\",\n      label: this.props.intl.formatMessage({\n        id: \"IDS_TEXTVALUE\"\n      }),\n      type: \"text\",\n      value: this.props.selectedRecord && this.props.selectedRecord.splaintext || \"\",\n      required: true,\n      maxLength: 3,\n      onChange: event => this.props.onInputOnChange(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FormNumericInput, {\n      name: \"seqnolength\",\n      className: \"form-control\",\n      label: this.props.intl.formatMessage({\n        id: \"IDS_SEQUENCENOLENGTH\"\n      }) //value={this.props.selectedRecord && this.props.selectedRecord.seqnolength || 4}\n      ,\n      value: this.props.selectedRecord && this.props.selectedRecord.seqnolength == \"\" ? this.props.selectedRecord.seqnolength : this.props.selectedRecord.seqnolength || 4,\n      isMandatory: true,\n      type: \"number\",\n      noStyle: true,\n      required: true,\n      strict: true,\n      maxLength: 1,\n      onChange: event => this.props.onNumericInputChange(event, 'seqnolength'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 29\n      }\n    }))) : \"\", /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(PerfectScrollbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(AtAccordion, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Accordion, {\n      activeKey: this.props.selectedRecord && this.props.selectedRecord.nisnewformat ? \"InputFields\" : \"ExistingFormats\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 37\n      }\n    }, this.props.selectedRecord && this.props.selectedRecord.nisnewformat ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(CustomToggle, {\n      eventKey: \"InputFields\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 57\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_FORMATFIELDS\"\n    })))), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"InputFields\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, formatComponents.map((sideBarItem, index) => /*#__PURE__*/React.createElement(Draggable, {\n      type: 'formatcomponents',\n      data: sideBarItem.componentvalue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(ListGroupItem, {\n      key: index,\n      className: \"sideBarItem ml-0\",\n      style: {\n        backgroundColor: \"#155592\",\n        justifyContent: \"space-around\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 69\n      }\n    }, sideBarItem.componentname)))))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(CustomToggle, {\n      eventKey: \"ExistingFormats\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 57\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_EXISTINGFORMAT\"\n    })))), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"ExistingFormats\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, this.props.existingFormats && this.props.existingFormats.map((sideBarItem, index) => /*#__PURE__*/React.createElement(Draggable, {\n      type: 'formatcomponents',\n      data: sideBarItem.ssampleformat,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(ListGroupItem, {\n      key: index,\n      className: \"sideBarItem ml-0\",\n      style: {\n        backgroundColor: \"#155592\",\n        justifyContent: \"space-around\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 69\n      }\n    }, sideBarItem.ssampleformat))))))))))), /*#__PURE__*/React.createElement(Col, {\n      md: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 25\n      }\n    }, this.props.selectedRecord && this.props.selectedRecord.nisnewformat ? /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      className: \"d-flex flex-column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn-user btn-cancel btn p-0\",\n      onClick: this.props.onClickBackspace,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faBackspace,\n      className: \"pr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 41\n      }\n    }), this.props.intl.formatMessage({\n      id: \"IDS_BACKSPACE\"\n    }))) : \"\", /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      className: \" d-flex justify-content-start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn-user btn-cancel btn p-0 mb-3\",\n      onClick: this.props.onClickClear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTimes,\n      className: \"pr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 37\n      }\n    }), this.props.intl.formatMessage({\n      id: \"IDS_CLEARALL\"\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Droppable, {\n      types: ['formatcomponents'],\n      onDrop: event => this.props.onDrop(event),\n      className: \"p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FormTextarea, {\n      name: \"ssampleformat\",\n      label: this.props.intl.formatMessage({\n        id: \"IDS_INPUTFORMATWITHINFO\"\n      }),\n      onChange: event => this.props.onInputOnChange(event),\n      placeholder: this.props.intl.formatMessage({\n        id: \"IDS_INPUTFORMAT\"\n      }),\n      value: this.props.selectedRecord && this.props.selectedRecord[\"ssampleformat\"],\n      rows: 2,\n      isMandatory: true,\n      readOnly: true,\n      required: true,\n      showCharCount: true,\n      maxLength: 30,\n      charLength: this.props.selectedRecord && this.props.selectedRecord[\"ssampleformat\"] ? this.props.selectedRecord[\"ssampleformat\"].replaceAll(\"{\", \"\").replaceAll(\"}\", \"\").length : 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormTextarea, {\n      name: \"exampleformat\",\n      label: this.props.intl.formatMessage({\n        id: \"IDS_OUTPUTFORMAT\"\n      }),\n      onChange: event => this.props.onInputOnChange(event),\n      placeholder: this.props.intl.formatMessage({\n        id: \"IDS_OUTPUTFORMAT\"\n      }),\n      value: this.props.selectedRecord && this.props.selectedRecord[\"exampleformat\"],\n      rows: 2,\n      isMandatory: true,\n      readOnly: true,\n      required: true,\n      showCharCount: true,\n      maxLength: 30,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 33\n      }\n    }))))));\n  }\n\n}\n\nexport default injectIntl(AddSeqNoFormatPopup);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/dynamicpreregdesign/registrationsubtype/AddSeqNoFormatPopup.jsx"],"names":["React","injectIntl","PerfectScrollbar","AtAccordion","Accordion","Button","Card","Col","ListGroupItem","Nav","Row","useAccordionToggle","AccordionContext","Draggable","Droppable","FormTextarea","FontAwesomeIcon","faBackspace","faChevronDown","faChevronUp","faTimes","FormSelectSearch","FormNumericInput","FormInput","CustomSwitch","transactionStatus","AddSeqNoFormatPopup","Component","constructor","props","months","date","Date","year","intl","formatMessage","id","month","dates","character","seqNo","site","render","str","substring","length","padStart","selectedRecord","seqnolength","sseqno","formatComponents","getFullYear","toString","getMonth","getDate","splaintext","parseInt","settings","YES","push","userInfo","ssitecode","configFields","CustomToggle","children","eventKey","currentEventKey","useContext","isCurrentEventKey","decoratedOnClick","map","field","idsName","dataField","event","onInputOnChange","nisnewformat","periodList","nperiodcode","onComboChange","onNumericInputChange","sideBarItem","index","componentvalue","backgroundColor","justifyContent","componentname","existingFormats","ssampleformat","onClickBackspace","onClickClear","onDrop","replaceAll"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { injectIntl } from 'react-intl';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { AtAccordion } from '../../../components/custom-accordion/custom-accordion.styles';\r\nimport { Accordion, Button, Card, Col, ListGroupItem, Nav, Row, useAccordionToggle } from 'react-bootstrap';\r\nimport AccordionContext from \"react-bootstrap/AccordionContext\";\r\nimport { Draggable, Droppable } from 'react-drag-and-drop';\r\nimport FormTextarea from '../../../components/form-textarea/form-textarea.component';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBackspace, faChevronDown, faChevronUp, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport FormSelectSearch from '../../../components/form-select-search/form-select-search.component';\r\nimport FormNumericInput from '../../../components/form-numeric-input/form-numeric-input.component';\r\nimport FormInput from '../../../components/form-input/form-input.component';\r\nimport CustomSwitch from '../../../components/custom-switch/custom-switch.component';\r\nimport { transactionStatus } from '../../../components/Enumeration';\r\n//import { transactionStatus } from '../../../components/Enumeration';\r\nclass AddSeqNoFormatPopup extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n        this.date = new Date();\r\n        this.year = this.props.intl.formatMessage({ id: \"IDS_YEAR\" })\r\n        this.month = this.props.intl.formatMessage({ id: \"IDS_MONTH\" })\r\n        this.dates = this.props.intl.formatMessage({ id: \"IDS_DATE\" })\r\n        this.character = this.props.intl.formatMessage({ id: \"IDS_LIMSCHARACTER\" })\r\n        this.seqNo = this.props.intl.formatMessage({ id: \"IDS_SEQNO\" })\r\n        this.site = this.props.intl.formatMessage({ id: \"IDS_SITE\" })\r\n    }\r\n    render() {\r\n        let str = '{9999}'\r\n        str = str.substring(1, str.length - 4)\r\n        str = str.padStart(this.props.selectedRecord && this.props.selectedRecord.seqnolength || 4, 9)\r\n        let sseqno = '{' + str + '}'\r\n        \r\n        const formatComponents = [\r\n            { \"componentname\": `${this.year} (${this.date.getFullYear()})`, \"componentvalue\": \"{yyyy}\" },\r\n            { \"componentname\": `${this.year} (${this.date.getFullYear().toString().substring(2, 4)})`, \"componentvalue\": \"{yy}\" },\r\n            { \"componentname\": `${this.month} (${(this.date.getMonth() + 1).toString().padStart(2,\"0\")})`, \"componentvalue\": \"{MM}\" },\r\n            { \"componentname\": `${this.month} (${this.months[this.date.getMonth()]})`, \"componentvalue\": \"{MMM}\" },\r\n            { \"componentname\": `${this.dates} (${this.date.getDate()})`, \"componentvalue\": \"{DD}\" },\r\n            { \"componentname\": `${this.character} (${this.props.selectedRecord && this.props.selectedRecord.splaintext || \"\"})`, \"componentvalue\": this.props.selectedRecord && this.props.selectedRecord.splaintext || \"\" },\r\n            { \"componentname\": `${this.seqNo} (${sseqno})`, \"componentvalue\": this.props.selectedRecord && this.props.selectedRecord.sseqno || \"{9999}\" },\r\n            { \"componentname\": \"/\", \"componentvalue\": \"/\" },\r\n            { \"componentname\": \"-\", \"componentvalue\": \"-\" }          \r\n        ];\r\n        if(parseInt(this.props.settings[23]) === transactionStatus.YES){\r\n            formatComponents.push({ \"componentname\": `${this.site} (${this.props.userInfo.ssitecode})`, \"componentvalue\": \"{XXXXX}\"});\r\n        }\r\n        const configFields = [\r\n            { \"idsName\": \"IDS_NEEDSUBSAMPLE\", \"dataField\": \"nneedsubsample\" },\r\n           // { \"idsName\": \"IDS_NEEDSAMPLEDBY\", \"dataField\": \"nneedsampledby\" },\r\n            { \"idsName\": \"IDS_NEEDJOBALLOCATION\", \"dataField\": \"nneedjoballocation\" },\r\n            { \"idsName\": \"IDS_NEEDMYJOB\", \"dataField\": \"nneedmyjob\" },          \r\n            { \"idsName\": \"IDS_NEEDWORKLIST\", \"dataField\": \"nneedworklist\" },  \r\n            { \"idsName\": \"IDS_NEEDBATCH\", \"dataField\": \"nneedbatch\" },              \r\n            //{ \"idsName\": \"IDS_NEEDTESTINITIATE\", \"dataField\": \"nneedtestinitiate\" },\r\n          //  { \"idsName\": \"IDS_NEEDSCHEDULER\", \"dataField\": \"nneedscheduler\" },\r\n            // { \"idsName\": \"IDS_NEEDTEMPLATEBASEDFLOW\", \"dataField\": \"nneedtemplatebasedflow\" },\r\n            { \"idsName\": \"IDS_USENEWFORMAT\", \"dataField\": \"nisnewformat\" },\r\n\r\n        ]\r\n        const CustomToggle = ({ children, eventKey }) => {\r\n            const currentEventKey = React.useContext(AccordionContext);\r\n            const isCurrentEventKey = currentEventKey === eventKey;\r\n            const decoratedOnClick = useAccordionToggle(eventKey, \"\");\r\n            return (\r\n                <div\r\n                    className=\"d-flex justify-content-between\"\r\n                    onClick={decoratedOnClick}>\r\n                    {children}\r\n                    {isCurrentEventKey ?\r\n                        <FontAwesomeIcon icon={faChevronUp} />\r\n                        : <FontAwesomeIcon icon={faChevronDown} //onClick={children.props.onExpandCall}\r\n                        />}\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <>\r\n                <Row>\r\n                    {configFields.map(field =>\r\n                        <Col md={3}>\r\n                            <CustomSwitch\r\n                                label={this.props.intl.formatMessage({ id: field.idsName })}\r\n                                type=\"switch\"\r\n                                name={field.dataField}\r\n                                onChange={(event) => this.props.onInputOnChange(event)}\r\n                                isMandatory={false}\r\n                                required={true}\r\n                                disabled={ \r\n                                    //field.dataField==='nneedjoballocation'||\r\n                                    field.dataField ==='nneedmyjob'?\r\n                                    this.props.selectedRecord && this.props.selectedRecord[\"nneedworklist\"] ?\r\n                                    this.props.selectedRecord[\"nneedworklist\"] === true ? true : false:false:false}\r\n                                checked={this.props.selectedRecord && this.props.selectedRecord[field.dataField]}\r\n                            />\r\n                        </Col>\r\n                    )}\r\n                </Row>\r\n                {this.props.selectedRecord && this.props.selectedRecord.nisnewformat ?\r\n                    <Row>\r\n                        {/* <Col md={6}>\r\n                            <FormNumericInput\r\n                                name={\"nresetduration\"}\r\n                                label={this.props.intl.formatMessage({ id: \"IDS_RESETDURATION\" })}\r\n                                placeholder={this.props.intl.formatMessage({ id: \"IDS_RESETDURATION\" })}\r\n                                value={this.props.selectedRecord.nresetduration || \"\"}\r\n                                className=\"form-control\"\r\n                                noStyle={true}\r\n                                isMandatory={true}\r\n                                required={true}\r\n                                maxLength={100}\r\n                                onChange={(event) => this.props.onNumericInputChange(event, 'nresetduration')}\r\n                            />\r\n                        </Col> */}\r\n                        <Col md={4}>\r\n                            <FormSelectSearch\r\n                                name={\"nperiodcode\"}\r\n                                formLabel={this.props.intl.formatMessage({ id: \"IDS_RESETSEQEVERY\" })}\r\n                                placeholder={this.props.intl.formatMessage({ id: \"IDS_RESETDURATION\" })}\r\n                                options={this.props.periodList || []}\r\n                                value={this.props.selectedRecord && this.props.selectedRecord.nperiodcode || ''}\r\n                                isMandatory={true}\r\n                                isSearchable={true}\r\n                                isMulti={false}\r\n                                onChange={(event) => this.props.onComboChange(event, 'nperiodcode')}\r\n                            />\r\n                        </Col>\r\n                        <Col md={4}>\r\n                            <FormInput\r\n                                name={\"splaintext\"}\r\n                                label={this.props.intl.formatMessage({ id: \"IDS_TEXTVALUE\" })}\r\n                                type=\"text\"\r\n                                value={this.props.selectedRecord && this.props.selectedRecord.splaintext || \"\"}\r\n                                required={true}\r\n                                maxLength={3}\r\n                                onChange={(event) => this.props.onInputOnChange(event)}\r\n                            />\r\n                        </Col>\r\n                        <Col md={4}>\r\n                            <FormNumericInput\r\n                                name={\"seqnolength\"}\r\n                                className={\"form-control\"}\r\n                                label={this.props.intl.formatMessage({ id: \"IDS_SEQUENCENOLENGTH\" })}\r\n                                //value={this.props.selectedRecord && this.props.selectedRecord.seqnolength || 4}\r\n                                value={this.props.selectedRecord && this.props.selectedRecord.seqnolength == \"\" ? this.props.selectedRecord.seqnolength : this.props.selectedRecord.seqnolength || 4}\r\n                                isMandatory={true}\r\n                                type=\"number\"\r\n                                noStyle={true}\r\n                                required={true}\r\n                                strict={true}\r\n                                maxLength={1}\r\n                                onChange={(event) => this.props.onNumericInputChange(event, 'seqnolength')}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                    : \"\"}\r\n                <Row>\r\n                    <Col md={4} className='mt-3'>\r\n                        <PerfectScrollbar>\r\n                            <AtAccordion>\r\n                                <Accordion activeKey={this.props.selectedRecord && this.props.selectedRecord.nisnewformat ? \"InputFields\" : \"ExistingFormats\"} >\r\n                                    <Card>\r\n                                        {this.props.selectedRecord && this.props.selectedRecord.nisnewformat ?\r\n                                            <>\r\n                                                <Card.Header>\r\n                                                    <CustomToggle eventKey={\"InputFields\"}>\r\n                                                        <Card.Title>\r\n                                                            {this.props.intl.formatMessage({ id: \"IDS_FORMATFIELDS\" })}\r\n                                                        </Card.Title>\r\n                                                    </CustomToggle>\r\n                                                </Card.Header>\r\n                                                <Accordion.Collapse eventKey={\"InputFields\"}>\r\n                                                    <>\r\n                                                        {\r\n                                                            formatComponents.map((sideBarItem, index) => (\r\n                                                                <Draggable type={'formatcomponents'} data={sideBarItem.componentvalue}>\r\n                                                                    <ListGroupItem key={index} className=\"sideBarItem ml-0\" style={{ backgroundColor: \"#155592\", justifyContent: \"space-around\" }}>\r\n                                                                        {sideBarItem.componentname}\r\n                                                                    </ListGroupItem>\r\n                                                                </Draggable>\r\n                                                            ))\r\n                                                        }\r\n                                                    </>\r\n                                                </Accordion.Collapse>\r\n                                            </>\r\n                                            :\r\n                                            <>\r\n                                                <Card.Header>\r\n                                                    <CustomToggle eventKey={\"ExistingFormats\"}>\r\n                                                        <Card.Title>\r\n                                                            {this.props.intl.formatMessage({ id: \"IDS_EXISTINGFORMAT\" })}\r\n                                                        </Card.Title>\r\n                                                    </CustomToggle>\r\n                                                </Card.Header>\r\n                                                <Accordion.Collapse eventKey={\"ExistingFormats\"}>\r\n                                                    <>\r\n                                                        {\r\n                                                            this.props.existingFormats && this.props.existingFormats.map((sideBarItem, index) => (\r\n                                                                <Draggable type={'formatcomponents'} data={sideBarItem.ssampleformat}>\r\n                                                                    <ListGroupItem key={index} className=\"sideBarItem ml-0\" style={{ backgroundColor: \"#155592\", justifyContent: \"space-around\" }}>\r\n                                                                        {sideBarItem.ssampleformat}\r\n                                                                    </ListGroupItem>\r\n                                                                </Draggable>\r\n                                                            ))\r\n                                                        }\r\n                                                    </>\r\n                                                </Accordion.Collapse>\r\n                                            </>\r\n                                        }\r\n                                    </Card>\r\n                                </Accordion>\r\n                            </AtAccordion>\r\n                        </PerfectScrollbar>\r\n                    </Col>\r\n                    <Col md={8}>\r\n                        <Row>\r\n                            {this.props.selectedRecord && this.props.selectedRecord.nisnewformat ?\r\n                                <Col md={6} className='d-flex flex-column'>\r\n                                    <Nav.Link className=\"btn-user btn-cancel btn p-0\" onClick={this.props.onClickBackspace}>\r\n                                        <FontAwesomeIcon icon={faBackspace} className='pr-1' />\r\n                                        {this.props.intl.formatMessage({ id: \"IDS_BACKSPACE\" })}\r\n                                    </Nav.Link>\r\n                                </Col>\r\n                                : \"\"\r\n                            }\r\n                            <Col md={6} className=' d-flex justify-content-start'>\r\n                                <Nav.Link className=\"btn-user btn-cancel btn p-0 mb-3\" onClick={this.props.onClickClear}>\r\n                                    <FontAwesomeIcon icon={faTimes} className='pr-1' />\r\n                                    {this.props.intl.formatMessage({ id: \"IDS_CLEARALL\" })}\r\n                                </Nav.Link>\r\n                            </Col>\r\n                            <Col md={12}>\r\n                                <Droppable\r\n                                    types={['formatcomponents']}\r\n                                    onDrop={event => this.props.onDrop(event)}\r\n                                    className={\"p-1\"}\r\n                                >\r\n                                    <FormTextarea\r\n                                        name={\"ssampleformat\"}\r\n                                        label={this.props.intl.formatMessage({ id: \"IDS_INPUTFORMATWITHINFO\" })}\r\n                                        onChange={(event) => this.props.onInputOnChange(event)}\r\n                                        placeholder={this.props.intl.formatMessage({ id: \"IDS_INPUTFORMAT\" })}\r\n                                        value={this.props.selectedRecord && this.props.selectedRecord[\"ssampleformat\"]}\r\n                                        rows={2}\r\n                                        isMandatory={true}\r\n                                        readOnly={true}\r\n                                        required={true}\r\n                                        showCharCount={true}\r\n                                        maxLength={30}\r\n                                        charLength ={ this.props.selectedRecord && this.props.selectedRecord[\"ssampleformat\"] ? this.props.selectedRecord[\"ssampleformat\"].replaceAll(\"{\",\"\").replaceAll(\"}\",\"\").length:0}\r\n                                    />\r\n                                </Droppable>\r\n                            </Col>\r\n                            <Col md={12}>\r\n                                <FormTextarea\r\n                                    name={\"exampleformat\"}\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_OUTPUTFORMAT\" })}\r\n                                    onChange={(event) => this.props.onInputOnChange(event)}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_OUTPUTFORMAT\" })}\r\n                                    value={this.props.selectedRecord && this.props.selectedRecord[\"exampleformat\"]}\r\n                                    rows={2}\r\n                                    isMandatory={true}\r\n                                    readOnly={true}\r\n                                    required={true}\r\n                                    showCharCount={true}\r\n                                    maxLength={30}\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </>\r\n        );\r\n    }\r\n}\r\nexport default injectIntl(AddSeqNoFormatPopup)"]},"metadata":{},"sourceType":"module"}