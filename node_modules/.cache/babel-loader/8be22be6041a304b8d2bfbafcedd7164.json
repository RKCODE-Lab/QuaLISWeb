{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{injectIntl}from'react-intl';import{Row,Col}from'react-bootstrap';import{toast}from'react-toastify';import{process}from'@progress/kendo-data-query';import DynamicDataGrid from'../../components/data-grid/data-grid.component';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import Esign from'../../pages/audittrail/Esign';import{callService,crudMaster,updateStore,validateEsignCredential,getEditDynamicMasterCombo,//fetchRecord,\ngetDynamicMasterCombo,getChildValues,addMasterRecord,getAddMasterCombo,getDynamicMasterTempalte,getChildComboMaster,getChildValuesForAddMaster,getEditMaster,viewAttachment}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{showEsign,getControlMap,deleteAttachmentDropZone,getSameRecordFromTwoArrays,onDropAttachFileList,convertDateTimetoString,create_UUID,validateEmail,formatDate,sortData,ageCalculate,formatInputDate,extractFieldHeader,childComboClear,Lims_JSON_stringify,conditionBasedInput}from'../../components/CommonScript';import{ListWrapper}from'../../components/client-group.styles';import DynamicSlideout from'../dynamicpreregdesign/DynamicSlideout.jsx';import{designComponents,transactionStatus}from'../../components/Enumeration';import{getFieldSpecification}from'../../components/type2component/Type2FieldSpecificationList';import AddMasterRecords from'../dynamicpreregdesign/AddMasterRecords';import{getFieldSpecification as getFieldSpecification1}from'../../components/type1component/Type1FieldSpecificationList';import{getFieldSpecification as getFieldSpecification3}from'../../components/type3component/Type3FieldSpecificationList';import ImportTemplate from'./ImportTemplate';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var DynamicMaster=/*#__PURE__*/function(_React$Component){_inherits(DynamicMaster,_React$Component);var _super=_createSuper(DynamicMaster);function DynamicMaster(props){var _this;_classCallCheck(this,DynamicMaster);_this=_super.call(this,props);_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.state.data||[],event.dataState),dataState:event.dataState});};_this.removeIndex=function(data,removeIndex){var data1=[].concat(_toConsumableArray(data.splice(0,removeIndex)),_toConsumableArray(data.splice(removeIndex+1)));return data1;};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;var selectedMaster=_this.props.Login.selectedMaster;var selectedControl=_this.props.Login.selectedControl;var masterextractedColumnList=_this.props.Login.masterextractedColumnList;var masterfieldList=_this.props.Login.masterfieldList;var masterdataList=_this.props.Login.masterfieldList;var mastercomboComponents=_this.props.Login.masterfieldList;var masterwithoutCombocomponent=_this.props.Login.masterfieldList;var masterComboColumnFiled=_this.props.Login.masterComboColumnFiled;var masterOperation=_this.props.Login.masterOperation;var masterEditObject=_this.props.Login.masterEditObject;var masterDesign=_this.props.Login.masterDesign;var addMaster=_this.props.Login.addMaster;var masterIndex=_this.props.Login.masterIndex;var screenName=_this.props.Login.screenName;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";}}else if(_this.props.Login.addMaster){if(masterIndex!==0){screenName=selectedControl[masterIndex-1].displayname[_this.props.Login.userInfo.slanguagetypecode];selectedMaster=_this.removeIndex(selectedMaster,masterIndex);selectedControl=_this.removeIndex(selectedControl,masterIndex);masterextractedColumnList=masterextractedColumnList&&_this.removeIndex(masterextractedColumnList,masterIndex);masterfieldList=masterfieldList&&_this.removeIndex(masterfieldList,masterIndex);masterdataList=masterdataList&&_this.removeIndex(masterdataList,masterIndex);mastercomboComponents=mastercomboComponents&&_this.removeIndex(mastercomboComponents,masterIndex);masterComboColumnFiled=masterComboColumnFiled&&_this.removeIndex(masterComboColumnFiled,masterIndex);masterwithoutCombocomponent=masterwithoutCombocomponent&&_this.removeIndex(masterwithoutCombocomponent,masterIndex);masterDesign=masterDesign&&_this.removeIndex(masterDesign,masterIndex);masterOperation=masterOperation&&_this.removeIndex(masterOperation,masterIndex);masterEditObject=masterEditObject&&_this.removeIndex(masterEditObject,masterIndex);masterIndex=masterIndex-1;//  masterprimaryKeyField = \"\"\n//addMaster = false\n}else{selectedMaster=[];selectedControl=[];masterextractedColumnList=[];masterfieldList=[];addMaster=false;masterdataList=[];mastercomboComponents=[];masterwithoutCombocomponent=[];masterComboColumnFiled=[];masterDesign=[];masterOperation=[];masterEditObject=[];masterIndex=undefined;screenName=_this.props.Login.inputParam.displayName;}}else{openModal=false;selectedRecord={};selectedMaster=[];selectedControl=[];masterextractedColumnList=[];masterfieldList=[];addMaster=false;masterdataList=[];mastercomboComponents=[];masterwithoutCombocomponent=[];masterComboColumnFiled=[];masterDesign=[];masterOperation=[];masterEditObject=[];masterIndex=undefined;}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null,selectedMaster:selectedMaster,selectedControl:selectedControl,masterextractedColumnList:masterextractedColumnList,masterfieldList:masterfieldList,addMaster:addMaster,masterIndex:masterIndex,masterdataList:masterdataList,mastercomboComponents:mastercomboComponents,masterwithoutCombocomponent:masterwithoutCombocomponent,masterComboColumnFiled:masterComboColumnFiled,masterDesign:masterDesign,screenName:screenName,masterOperation:masterOperation,masterEditObject:masterEditObject}};_this.props.updateStore(updateInfo);};_this.onSaveClickImportFile=function(saveType,formRef){//add \nvar inputFileData={nsitecode:_this.props.Login.userInfo.nmastersitecode};var editData={};var formData=new FormData();var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.stemplatefilename;if(acceptedFiles&&acceptedFiles.length===1){inputFileData['userinfo']=_this.props.Login.userInfo;if(acceptedFiles&&acceptedFiles.length===1){acceptedFiles.forEach(function(file,index){formData.append(\"uploadedFile\",file);});}var dateList=[];_this.props.Login.masterData.DynamicMasterDesign.screendesign.masterdatefields.map(function(x){dateList.push(x['2']);});var mandatoryfields={};_this.state.mandatoryFields.map(function(x){mandatoryfields[x.dataField]=x.mandatory;});formData.append('mandatoryFields',Lims_JSON_stringify(JSON.stringify(mandatoryfields),false));formData.append('comboComponents',Lims_JSON_stringify(JSON.stringify(_this.state.comboComponents),false));formData.append('masterdateconstraints',Lims_JSON_stringify(JSON.stringify(_this.props.Login.masterData.DynamicMasterDesign.screendesign.masterdateconstraints),false));formData.append('masterdatelist',Lims_JSON_stringify(JSON.stringify(dateList),false));formData.append('mastercombinationunique',Lims_JSON_stringify(JSON.stringify(_this.props.Login.masterData.DynamicMasterDesign.screendesign.mastercombinationunique),false));formData.append('ndesigntemplatemappingcode',_this.props.Login.masterData.DynamicMasterDesign.ndesigntemplatemappingcode);var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:_this.props.Login.inputParam.methodUrl,inputData:{userinfo:_this.props.Login.userInfo},formData:formData,editData:editData,isFileupload:true,operation:_this.props.Login.operation,displayName:_this.props.Login.inputParam.displayName,saveType:saveType,formRef:formRef};var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:_this.props.Login.inputParam.displayName}),operation:_this.props.Login.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTTHEFILE\"}));}};_this.onComboChangeMasterDyanmic=function(comboData,control,customName){var comboName=customName||control.label;var selectedMaster=_this.state.selectedMaster||[];var masterIndex=_this.props.Login.masterIndex;selectedMaster[masterIndex]=selectedMaster[masterIndex]&&_objectSpread({},selectedMaster[masterIndex])||{};//if (comboData) {\ncomboData[\"item\"]=_objectSpread(_objectSpread({},comboData[\"item\"]),{},{\"pkey\":control.valuemember,\"nquerybuildertablecode\":control.nquerybuildertablecode,\"source\":control.source});selectedMaster[masterIndex][comboName]=comboData;// console.log(\"selected:\", selectedMaster, comboData, control, customName);\nif(control.child&&control.child.length>0){var childComboList=getSameRecordFromTwoArrays(_this.props.Login.mastercomboComponents[masterIndex],control.child,\"label\");var childColumnList={};childComboList.map(function(columnList){var val=_this.comboChild(_this.props.Login.mastercomboComponents[masterIndex],columnList,childColumnList,false);childColumnList=val.childColumnList;});var parentList=getSameRecordFromTwoArrays(_this.props.Login.masterwithoutCombocomponent[masterIndex],control.child,\"label\");if(comboData){var inputParem={child:control.child,source:control.source,primarykeyField:control.valuemember,value:comboData.value,item:comboData.item};_this.props.getChildValuesForAddMaster(inputParem,_this.props.Login.userInfo,selectedMaster,_this.props.Login.masterdataList,childComboList,childColumnList,_this.props.Login.masterwithoutCombocomponent,[].concat(_toConsumableArray(childComboList),_toConsumableArray(parentList)),masterIndex);}else{var _comboData=_this.props.Login.masterdataList;var withoutCombocomponent=_this.props.Login.masterwithoutCombocomponent||[];var inputParam={control:control,comboComponents:_this.props.Login.mastercomboComponents[masterIndex],withoutCombocomponent:withoutCombocomponent[masterIndex],selectedMaster:selectedMaster[masterIndex],comboData:_comboData[masterIndex]};var childParam=childComboClear(inputParam);selectedMaster[masterIndex]=childParam.selectedRecord;_comboData[masterIndex]=childParam.comboData;var updateInfo={typeName:DEFAULT_RETURN,data:{selectedMaster:selectedMaster,mastedataList:_comboData}};_this.props.updateStore(updateInfo);}}else{var _updateInfo={typeName:DEFAULT_RETURN,data:{selectedMaster:selectedMaster}};_this.props.updateStore(_updateInfo);}};_this.onInputOnChangeMasterDynamic=function(event,control,radiotext){var selectedMaster=_this.state.selectedMaster||[];var masterIndex=_this.props.Login.masterIndex;selectedMaster[masterIndex]=selectedMaster[masterIndex]&&_objectSpread({},selectedMaster[masterIndex])||{};if(event.target.type==='toggle'){selectedMaster[masterIndex][event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else if(event.target.type==='numeric'){if(/\\D/.test(event.target.value))selectedMaster[masterIndex][event.target.name]=event.target.value;}else if(event.target.type==='checkbox'){var value=selectedMaster[masterIndex][event.target.name];if(value!==''&&value!==undefined){if(value.includes(radiotext)){var index=value.indexOf(radiotext);if(index!==-1){if(index===0){var indexcomma=value.indexOf(\",\");if(indexcomma!==-1){selectedMaster[masterIndex][event.target.name]=value.slice(indexcomma+1);}else{selectedMaster[masterIndex][event.target.name]=\"\";}}else{if(value.slice(index).indexOf(\",\")!==-1){selectedMaster[masterIndex][event.target.name]=value.slice(0,index)+value.slice(index+value.slice(index).indexOf(\",\")+1);}else{selectedMaster[masterIndex][event.target.name]=value.slice(0,index-1);}}}}else{selectedMaster[masterIndex][event.target.name]=value+','+radiotext;}}else{selectedMaster[masterIndex][event.target.name]=radiotext;}}else if(event.target.type==='radio'){selectedMaster[masterIndex][event.target.name]=radiotext;}else{selectedMaster[masterIndex][event.target.name]=conditionBasedInput(control,event.target.value,radiotext);// selectedMaster[masterIndex][event.target.name] = event.target.value;\n}_this.setState({selectedMaster:selectedMaster});};_this.handleDateChangeMasterDynamic=function(dateValue,dateName){var selectedMaster=_this.state.selectedMaster||[];var masterIndex=_this.props.Login.masterIndex;selectedMaster[masterIndex]=selectedMaster[masterIndex]&&_objectSpread({},selectedMaster[masterIndex])||{};selectedMaster[masterIndex][dateName]=dateValue;_this.setState({selectedMaster:selectedMaster});};_this.onNumericInputChangeMasterDynamic=function(value,name){var selectedMaster=_this.state.selectedMaster||[];var masterIndex=_this.props.Login.masterIndex;selectedMaster[masterIndex]=selectedMaster[masterIndex]&&_objectSpread({},selectedMaster[masterIndex])||{};selectedMaster[masterIndex][name]=value;_this.setState({selectedMaster:selectedMaster});};_this.onNumericBlurMasterDynamic=function(value,control){var selectedMaster=_this.state.selectedMaster||[];var masterIndex=_this.props.Login.masterIndex;selectedMaster[masterIndex]=selectedMaster[masterIndex]&&_objectSpread({},selectedMaster[masterIndex])||{};if(selectedMaster[masterIndex][control.label]){if(control.max){if(!(selectedMaster[masterIndex][control.label]<parseFloat(control.max))){selectedMaster[masterIndex][control.label]=control.precision?parseFloat(control.max):parseInt(control.max);}}if(control.min){if(!(selectedMaster[masterIndex][control.label]>parseFloat(control.min))){selectedMaster[masterIndex][control.label]=control.precision?parseFloat(control.min):parseInt(control.min);}}}_this.setState({selectedMaster:selectedMaster});};_this.onComboChangeMaster=function(comboData,fieldName,item){var selectedMaster=_this.state.selectedMaster||[];var masterIndex=_this.props.Login.masterIndex;selectedMaster[masterIndex]=selectedMaster[masterIndex]&&_objectSpread({},selectedMaster[masterIndex])||{};if(comboData!==null){if(_this.props.Login.selectedControl[masterIndex].table.item.nformcode===137){selectedMaster[masterIndex][item.tableDataField]=comboData.value;}else if(item.foreignDataField){selectedMaster[masterIndex][item.foreignDataField]=comboData.value;}}selectedMaster[masterIndex][fieldName]=comboData;if(item.childIndex!==undefined){_this.props.getChildComboMaster(selectedMaster,fieldName,item,_this.props.Login.selectedControl,_this.props.Login.masterfieldList,_this.props.Login.masterdataList,_this.props.Login.userInfo,masterIndex);}else{_this.setState({selectedMaster:selectedMaster});}};_this.handleDateChangeMaster=function(dateName,dateValue,item){//   const { selectedMaster } = this.state;\nvar selectedMaster=_this.state.selectedMaster||[];var masterIndex=_this.props.Login.masterIndex;selectedMaster[masterIndex]=selectedMaster[masterIndex]&&_objectSpread({},selectedMaster[masterIndex])||{};selectedMaster[masterIndex][dateName]=dateValue;var age=ageCalculate(dateValue);selectedMaster[masterIndex][\"sage\"]=age;_this.setState({selectedMaster:selectedMaster});};_this.onNumericInputOnChangeMaster=function(value,name,item){var selectedMaster=_this.state.selectedMaster||[];var masterIndex=_this.props.Login.masterIndex;selectedMaster[masterIndex]=selectedMaster[masterIndex]&&_objectSpread({},selectedMaster[masterIndex])||{};selectedMaster[masterIndex][name]=value;_this.setState({selectedMaster:selectedMaster});};_this.onInputOnChangeMaster=function(event){var selectedMaster=_this.state.selectedMaster||[];var masterIndex=_this.props.Login.masterIndex;selectedMaster[masterIndex]=selectedMaster[masterIndex]&&_objectSpread({},selectedMaster[masterIndex])||{};if(event.target.type==='checkbox'){selectedMaster[masterIndex][event.target.name]=event.target.checked===true?3:4;if(_this.props.Login.selectedControl[masterIndex].table.item.nformcode===137){if(selectedMaster[masterIndex].nneedcurrentaddress===3){selectedMaster[masterIndex].sflatnotemp=selectedMaster[masterIndex].sflatno;selectedMaster[masterIndex].shousenotemp=selectedMaster[masterIndex].shouseno;selectedMaster[masterIndex].spostalcodetemp=selectedMaster[masterIndex].spostalcode;selectedMaster[masterIndex].sstreettemp=selectedMaster[masterIndex].sstreet;selectedMaster[masterIndex].scitynametemp=selectedMaster[masterIndex].scityname;selectedMaster[masterIndex].sdistrictnametemp=selectedMaster[masterIndex].sdistrictname;selectedMaster[masterIndex].sregionnametemp=selectedMaster[masterIndex].sregionname;}else{selectedMaster[masterIndex].sflatnotemp=\"\";selectedMaster[masterIndex].shousenotemp=\"\";selectedMaster[masterIndex].spostalcodetemp=\"\";selectedMaster[masterIndex].sstreettemp=\"\";selectedMaster[masterIndex].scitynametemp=\"\";selectedMaster[masterIndex].sdistrictnametemp=\"\";selectedMaster[masterIndex].sregionnametemp=\"\";}}}else{selectedMaster[masterIndex][event.target.name]=event.target.value;}_this.setState({selectedMaster:selectedMaster});};_this.onSaveMasterRecord=function(saveType,formRef){//add / edit            \nvar masterIndex=_this.props.Login.masterIndex;var inputData=[];var selectedControl=_this.props.Login.selectedControl;var masterDesign=_this.props.Login.masterDesign;inputData[\"userinfo\"]=_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{nformcode:selectedControl[masterIndex].table.item.nformcode});inputData[selectedControl[masterIndex].table.item.methodUrl.toLowerCase()]={\"nsitecode\":_this.props.Login.userInfo.nmastersitecode};var methodUrl=selectedControl[masterIndex].table.item.methodUrl.toLowerCase();if(_this.props.Login.masterOperation[masterIndex]==='update'){if(selectedControl[masterIndex].table.item.component==='Dynamic'){inputData[methodUrl][\"ndynamicmastercode\"]=_this.props.Login.masterEditObject[masterIndex].item?_this.props.Login.masterEditObject[masterIndex].item.jsondata.ndynamicmastercode:_this.props.Login.masterEditObject[masterIndex].ndynamicmastercode;}else{inputData[methodUrl][selectedControl[masterIndex][\"valuemember\"]]=_this.props.Login.masterEditObject[masterIndex].value;}}if(selectedControl[masterIndex].table.item.component==='Dynamic'){var selectedMaster=_this.state.selectedMaster;inputData[\"userinfo\"]=_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{nformcode:selectedControl[masterIndex].table.item.nformcode});inputData[\"masterdateconstraints\"]=masterDesign[masterIndex].screendesign.masterdateconstraints;inputData[\"masterdatefields\"]=masterDesign[masterIndex].screendesign.masterdatefields;inputData[\"mastercombinationunique\"]=masterDesign[masterIndex].screendesign.mastercombinationunique;//add                          \ninputData[\"dynamicmaster\"]=_objectSpread(_objectSpread({},inputData[methodUrl]),{},{nformcode:selectedControl[masterIndex].table.item.nformcode,ndesigntemplatemappingcode:masterDesign[masterIndex].ndesigntemplatemappingcode,jsondata:{},jsonuidata:{}});var dateList=[];var defaulttimezone=_this.props.Login.defaulttimezone;masterDesign[masterIndex]&&masterDesign[masterIndex].slideoutdesign.map(function(row){row.children.map(function(column){column.children.map(function(component){if(component.hasOwnProperty(\"children\")){component.children.map(function(componentrow){if(componentrow.inputtype===\"combo\"){inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]=selectedMaster[componentrow.label]?_defineProperty({value:selectedMaster[masterIndex][componentrow.label].value,label:selectedMaster[masterIndex][componentrow.label].label,pkey:componentrow.valuemember,nquerybuildertablecode:componentrow.nquerybuildertablecode,source:componentrow.source},componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember,_this.props.Login.masterOperation[masterIndex]==='update'?selectedMaster[masterIndex][componentrow.label].item?selectedMaster[masterIndex][componentrow.label].item.jsondata[componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]:selectedMaster[masterIndex][componentrow.label][componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]:selectedMaster[masterIndex][componentrow.label].item.jsondata[componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]):-1;inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label]=selectedMaster[masterIndex][componentrow.label]?selectedMaster[masterIndex][componentrow.label].label:\"\";}else if(componentrow.inputtype===\"date\"){if(componentrow.mandatory){inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]=formatDate(selectedMaster[masterIndex][componentrow.label],false);inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label]=inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label];//inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label] = convertDateTimetoString(selectedRecord[componentrow.label], userInfo);\n}else{inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]=componentrow.loadcurrentdate?formatDate(selectedMaster[masterIndex][componentrow.label]||new Date(),false):selectedMaster[masterIndex][componentrow.label]?formatDate(selectedMaster[masterIndex][componentrow.label],false):\"\";inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label]=inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label];//convertDateTimetoString(selectedRecord[componentrow.label], userInfo);\n}if(componentrow.timezone){inputData[\"dynamicmaster\"][\"jsondata\"][\"tz\".concat(componentrow.label)]=selectedMaster[masterIndex][\"tz\".concat(componentrow.label)]?{value:selectedMaster[masterIndex][\"tz\".concat(componentrow.label)].value,label:selectedMaster[masterIndex][\"tz\".concat(componentrow.label)].label}:defaulttimezone?defaulttimezone:-1;inputData[\"dynamicmaster\"][\"jsonuidata\"][\"tz\".concat(componentrow.label)]=inputData[\"dynamicmaster\"][\"jsondata\"][\"tz\".concat(componentrow.label)];}dateList.push(componentrow.label);}else{inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]=selectedMaster[masterIndex][componentrow.label]?selectedMaster[masterIndex][componentrow.label]:\"\";inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label]=inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label];// inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]\n}return inputData[\"dynamicmaster\"];});}else{if(component.inputtype===\"combo\"){inputData[\"dynamicmaster\"][\"jsondata\"][component.label]=selectedMaster[masterIndex][component.label]?_defineProperty({value:selectedMaster[masterIndex][component.label].value,label:selectedMaster[masterIndex][component.label].label,pkey:component.valuemember,nquerybuildertablecode:component.nquerybuildertablecode,source:component.source},component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember,_this.props.Login.masterOperation[masterIndex]==='update'?selectedMaster[masterIndex][component.label].item?selectedMaster[masterIndex][component.label].item.jsondata[component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]:selectedMaster[masterIndex][component.label][component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]:selectedMaster[masterIndex][component.label].item.jsondata[component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]):-1;inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label]=inputData[\"dynamicmaster\"][\"jsondata\"][component.label].label;//selectedRecord[component.label] ? selectedRecord[component.label].label : \"\"\n}else if(component.inputtype===\"date\"){if(component.mandatory){inputData[\"dynamicmaster\"][\"jsondata\"][component.label]=formatDate(selectedMaster[masterIndex][component.label],false);// convertDateTimetoString(selectedRecord[component.label] ?\n// selectedRecord[component.label] : new Date(), userInfo);\ninputData[\"dynamicmaster\"][\"jsonuidata\"][component.label]=inputData[\"dynamicmaster\"][\"jsondata\"][component.label];//convertDateTimetoString(selectedRecord[component.label], userInfo);\n}else{inputData[\"dynamicmaster\"][\"jsondata\"][component.label]=component.loadcurrentdate?//convertDateTimetoString(selectedRecord[component.label] ?                                      \n//    selectedRecord[component.label] : new Date(), userInfo) :\nformatDate(selectedMaster[masterIndex][component.label]||new Date(),false):selectedMaster[masterIndex][component.label]?// convertDateTimetoString(selectedRecord[component.label] ?\n//   selectedRecord[component.label] : new Date(), userInfo) : \"\";\nformatDate(selectedMaster[masterIndex][component.label],false):\"\";inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label]=inputData[\"dynamicmaster\"][\"jsondata\"][component.label];//convertDateTimetoString(selectedRecord[component.label], userInfo)\n}if(component.timezone){inputData[\"dynamicmaster\"][\"jsondata\"][\"tz\".concat(component.label)]=selectedMaster[masterIndex][\"tz\".concat(component.label)]?{value:selectedMaster[masterIndex][\"tz\".concat(component.label)].value,label:selectedMaster[masterIndex][\"tz\".concat(component.label)].label}:defaulttimezone?defaulttimezone:-1;inputData[\"dynamicmaster\"][\"jsonuidata\"][\"tz\".concat(component.label)]=inputData[\"dynamicmaster\"][\"jsondata\"][\"tz\".concat(component.label)];}dateList.push(component.label);}else{inputData[\"dynamicmaster\"][\"jsondata\"][component.label]=selectedMaster[masterIndex][component.label]?selectedMaster[masterIndex][component.label]:\"\";inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label]=inputData[\"dynamicmaster\"][\"jsondata\"][component.label];}}return inputData[\"dynamicmaster\"];});return inputData[\"dynamicmaster\"];});return inputData[\"dynamicmaster\"];});inputData[\"dynamicmaster\"][\"jsonstring\"]=JSON.stringify(inputData[\"dynamicmaster\"][\"jsondata\"]);inputData[\"dynamicmaster\"][\"jsonuistring\"]=JSON.stringify(inputData[\"dynamicmaster\"][\"jsonuidata\"]);inputData[\"masterdatelist\"]=dateList;}else if(selectedControl[masterIndex].table.item.component==='Type3Component'&&selectedControl[masterIndex].table.item.nformcode===137){inputData[\"noneedfilter\"]=true;_this.props.Login.masterextractedColumnList[masterIndex].map(function(item){var fieldName=item.dataField;if(item.isJsonField===true){return inputData[methodUrl][item.jsonObjectName]=_objectSpread(_objectSpread({},inputData[methodUrl][item.jsonObjectName]),{},_defineProperty({},fieldName,_this.state.selectedMaster[masterIndex][fieldName]?_this.state.selectedMaster[masterIndex][fieldName]:\"\"));}else{if(item.controlType===\"selectbox\"){// inputData[methodUrl][fieldName] = this.state.selectedMaster[fieldName] ? this.state.selectedMaster[fieldName].label ? this.state.selectedMaster[fieldName].label : \"\" : -1;\ninputData[methodUrl][item.tableDataField]=_this.state.selectedMaster[masterIndex][fieldName]?_this.state.selectedMaster[masterIndex][fieldName].value?_this.state.selectedMaster[masterIndex][fieldName].value:\"\":-1;return inputData;}else if(item.controlType===\"datepicker\"){inputData[methodUrl][item.dateField]=formatInputDate(_this.state.selectedMaster[masterIndex][fieldName]?_this.state.selectedMaster[masterIndex][fieldName]:\"\",false);}else if(item.controlType===\"checkbox\"){inputData[methodUrl][item.controlName]=_this.state.selectedMaster[masterIndex][item.controlName]?_this.state.selectedMaster[masterIndex][item.controlName]:transactionStatus.NO;}else{inputData[methodUrl][fieldName]=_this.state.selectedMaster[masterIndex][fieldName]?_this.state.selectedMaster[masterIndex][fieldName]:\"\";}// inputData[methodUrl][selectedRecordPrimarykey] = this.props.Login.selectedId;\nreturn inputData;}});}else{_this.props.Login.masterextractedColumnList[masterIndex].map(function(item){var fieldName=item.dataField;if(item.isJsonField===true){return inputData[methodUrl][item.jsonObjectName]=_objectSpread(_objectSpread({},inputData[methodUrl][item.jsonObjectName]),{},_defineProperty({},fieldName,_this.state.selectedMaster[masterIndex][fieldName]?_this.state.selectedMaster[masterIndex][fieldName]:\"\"));}else{if(item.controlType===\"selectbox\"){inputData[methodUrl][fieldName]=_this.state.selectedMaster[masterIndex][fieldName]?_this.state.selectedMaster[masterIndex][fieldName].label?_this.state.selectedMaster[masterIndex][fieldName].label:\"\":-1;inputData[methodUrl][item.foreignDataField]=_this.state.selectedMaster[masterIndex][fieldName]?_this.state.selectedMaster[masterIndex][fieldName].value?_this.state.selectedMaster[masterIndex][fieldName].value:\"\":-1;return inputData;}else if(item.controlType===\"datepicker\"){inputData[methodUrl][item.dateField]=formatInputDate(_this.state.selectedMaster[masterIndex][fieldName]?_this.state.selectedMaster[masterIndex][fieldName]:\"\",false);}else if(item.controlType===\"checkbox\"){inputData[methodUrl][item.controlName]=_this.state.selectedMaster[masterIndex][item.controlName]?_this.state.selectedMaster[masterIndex][item.controlName]:transactionStatus.NO;}else{inputData[methodUrl][fieldName]=_this.state.selectedMaster[masterIndex][fieldName]?_this.state.selectedMaster[masterIndex][fieldName]:\"\";}// inputData[methodUrl][selectedRecordPrimarykey] = this.props.Login.selectedId;\nreturn inputData;}});}// }\nvar inputParam={userinfo:_this.props.Login.userInfo,withoutCombocomponent:_this.state.withoutCombocomponent,comboComponents:_this.state.comboComponents,selectedRecord:_this.state.selectedRecord,selectedRecordName:'selectedRecord',loadSubSample:false,selectedControl:_this.props.Login.selectedControl,comboData:_this.props.Login.comboData,comboName:'comboData',classUrl:selectedControl[masterIndex].table.item.classUrl,methodUrl:selectedControl[masterIndex].table.item.methodUrl,displayName:_this.props.Login.inputParam.displayName,// selectedControl[masterIndex].table.item.sdisplayname,\nscreenName:masterIndex!==0?selectedControl[masterIndex-1].displayname[_this.props.Login.userInfo.slanguagetypecode]:_this.props.Login.inputParam.displayName,inputData:inputData,operation:_this.props.Login.masterOperation[masterIndex],masterEditObject:_this.props.Login.masterEditObject,masterOperation:_this.props.Login.masterOperation,saveType:saveType,formRef:formRef,masterIndex:masterIndex,selectedMaster:_this.state.selectedMaster,mastercomboComponents:_this.props.Login.mastercomboComponents,masterwithoutCombocomponent:_this.props.Login.masterwithoutCombocomponent,masterComboColumnFiled:_this.props.Login.masterComboColumnFiled,masterextractedColumnList:_this.props.Login.masterextractedColumnList,masterdataList:_this.props.Login.masterdataList,masterDesign:_this.props.Login.masterDesign,masterfieldList:_this.props.Login.masterfieldList};_this.props.addMasterRecord(inputParam,_this.props.Login.masterData);};_this.addMasterRecord=function(control){var masterIndex=_this.props.Login.masterIndex;if(masterIndex!==undefined){masterIndex=masterIndex+1;}else{masterIndex=0;}var selectedControl=_this.props.Login.selectedControl||[];var selectedMaster=_this.state.selectedMaster||[];selectedMaster[masterIndex]={};selectedControl[masterIndex]=control;var fieldList=_this.props.Login.masterfieldList||[];fieldList[masterIndex]=[];var masterComboColumnFiled=_this.props.Login.masterComboColumnFiled||[];masterComboColumnFiled[masterIndex]=[];var extractedColumnList=_this.props.Login.masterextractedColumnList||[];extractedColumnList[masterIndex]=[];var masterdataList=_this.props.Login.masterdataList||[];var masterDesign=_this.props.Login.masterDesign||[];var masterwithoutCombocomponent=_this.props.Login.masterwithoutCombocomponent||[];var mastercomboComponents=_this.props.Login.mastercomboComponents||[];var masterOperation=_this.props.Login.masterOperation||[];masterdataList[masterIndex]=[];masterDesign[masterIndex]=[];masterwithoutCombocomponent[masterIndex]=[];mastercomboComponents[masterIndex]=[];masterOperation[masterIndex]='create';if(control.table.item.component==='Type2Component'||control.table.item.component==='Type1Component'){if(control.table.item.component==='Type2Component'){fieldList[masterIndex]=getFieldSpecification().get(control.table.item.methodUrl)||[];}else{fieldList[masterIndex]=getFieldSpecification1().get(control.table.item.methodUrl)||[];}extractedColumnList[masterIndex]=extractFieldHeader(Object.values(fieldList[masterIndex]));var primaryKeyField=Object.keys(fieldList[masterIndex]).length>0?fieldList[masterIndex][0].dataField:\"\";var updateInfo={typeName:DEFAULT_RETURN,data:{selectedControl:selectedControl,addMaster:true,masterfieldList:fieldList,masterextractedColumnList:extractedColumnList,masterprimaryKeyField:primaryKeyField,masterComboColumnFiled:masterComboColumnFiled,masterIndex:masterIndex,masterdataList:masterdataList,masterDesign:masterDesign,masterwithoutCombocomponent:masterwithoutCombocomponent,mastercomboComponents:mastercomboComponents,masterOperation:masterOperation,selectedMaster:selectedMaster,screenName:selectedControl[masterIndex].displayname[_this.props.Login.userInfo.slanguagetypecode]}};_this.props.updateStore(updateInfo);}else if(control.table.item.component==='Type3Component'){fieldList[masterIndex]=getFieldSpecification3().get(control.table.item.methodUrl)||[];extractedColumnList[masterIndex]=extractFieldHeader(Object.values(fieldList[masterIndex]));masterComboColumnFiled[masterIndex]=extractedColumnList[masterIndex].filter(function(item){return item.ndesigncomponentcode===designComponents.COMBOBOX;});var _primaryKeyField=Object.keys(fieldList[masterIndex]).length>0?fieldList[masterIndex][0].dataField:\"\";var inputParam={userinfo:_this.props.Login.userInfo,selectedControl:selectedControl,masterfieldList:fieldList,masterextractedColumnList:extractedColumnList,masterprimaryKeyField:_primaryKeyField,masterComboColumnFiled:masterComboColumnFiled,masterIndex:masterIndex,masterdataList:masterdataList,masterDesign:masterDesign,masterwithoutCombocomponent:masterwithoutCombocomponent,mastercomboComponents:mastercomboComponents,selectedMaster:selectedMaster,masterOperation:masterOperation,screenName:selectedControl[masterIndex].displayname[_this.props.Login.userInfo.slanguagetypecode]};_this.props.getAddMasterCombo(inputParam);}else if(control.table.item.component==='Dynamic'){var _inputParam2;var _inputParam=(_inputParam2={userinfo:_this.props.Login.userInfo,selectedControl:selectedControl,masterIndex:masterIndex,masterdataList:masterdataList,masterDesign:masterDesign,masterComboColumnFiled:masterComboColumnFiled,masterwithoutCombocomponent:masterwithoutCombocomponent,mastercomboComponents:mastercomboComponents,masterfieldList:fieldList,masterextractedColumnList:extractedColumnList},_defineProperty(_inputParam2,\"masterComboColumnFiled\",masterComboColumnFiled),_defineProperty(_inputParam2,\"masterOperation\",masterOperation),_defineProperty(_inputParam2,\"selectedMaster\",selectedMaster),_inputParam2);_this.props.getDynamicMasterTempalte(_inputParam);}// this.props.getMasterRecord(control);\n};_this.editMasterRecord=function(control,editObject){if(editObject){var masterIndex=_this.props.Login.masterIndex;if(masterIndex!==undefined){masterIndex=masterIndex+1;}else{masterIndex=0;}var selectedControl=_this.props.Login.selectedControl||[];var selectedMaster=_this.state.selectedMaster||[];selectedMaster[masterIndex]={};selectedControl[masterIndex]=control;var fieldList=_this.props.Login.masterfieldList||[];fieldList[masterIndex]=[];var masterComboColumnFiled=_this.props.Login.masterComboColumnFiled||[];masterComboColumnFiled[masterIndex]=[];var extractedColumnList=_this.props.Login.masterextractedColumnList||[];extractedColumnList[masterIndex]=[];var masterdataList=_this.props.Login.masterdataList||[];var masterDesign=_this.props.Login.masterDesign||[];var masterwithoutCombocomponent=_this.props.Login.masterwithoutCombocomponent||[];var mastercomboComponents=_this.props.Login.mastercomboComponents||[];var masterOperation=_this.props.Login.masterOperation||[];var masterEditObject=_this.props.Login.masterEditObject||[];masterdataList[masterIndex]=[];masterDesign[masterIndex]=[];masterwithoutCombocomponent[masterIndex]=[];mastercomboComponents[masterIndex]=[];masterOperation[masterIndex]='update';masterEditObject[masterIndex]=editObject;if(control.table.item.component==='Type2Component'||control.table.item.component==='Type1Component'){if(control.table.item.component==='Type2Component'){fieldList[masterIndex]=getFieldSpecification().get(control.table.item.methodUrl)||[];}else{fieldList[masterIndex]=getFieldSpecification1().get(control.table.item.methodUrl)||[];}extractedColumnList[masterIndex]=extractFieldHeader(Object.values(fieldList[masterIndex]));var primaryKeyField=Object.keys(fieldList[masterIndex]).length>0?fieldList[masterIndex][0].dataField:\"\";var updateInfo={userinfo:_this.props.Login.userInfo,selectedControl:selectedControl,addMaster:true,masterfieldList:fieldList,masterextractedColumnList:extractedColumnList,masterprimaryKeyField:primaryKeyField,masterComboColumnFiled:masterComboColumnFiled,masterIndex:masterIndex,masterdataList:masterdataList,masterDesign:masterDesign,masterwithoutCombocomponent:masterwithoutCombocomponent,mastercomboComponents:mastercomboComponents,selectedMaster:selectedMaster,masterEditObject:masterEditObject,masterOperation:masterOperation// editObject\n//   screenName:selectedControl[masterIndex].displayname[this.props.Login.userInfo.slanguagetypecode]\n};_this.props.getEditMaster(updateInfo);}else if(control.table.item.component==='Type3Component'){fieldList[masterIndex]=getFieldSpecification3().get(control.table.item.methodUrl)||[];extractedColumnList[masterIndex]=extractFieldHeader(Object.values(fieldList[masterIndex]));masterComboColumnFiled[masterIndex]=extractedColumnList[masterIndex].filter(function(item){return item.ndesigncomponentcode===designComponents.COMBOBOX;});var _primaryKeyField2=Object.keys(fieldList[masterIndex]).length>0?fieldList[masterIndex][0].dataField:\"\";var inputParam={userinfo:_this.props.Login.userInfo,selectedControl:selectedControl,masterfieldList:fieldList,masterextractedColumnList:extractedColumnList,masterprimaryKeyField:_primaryKeyField2,masterComboColumnFiled:masterComboColumnFiled,masterIndex:masterIndex,masterdataList:masterdataList,masterDesign:masterDesign,masterwithoutCombocomponent:masterwithoutCombocomponent,mastercomboComponents:mastercomboComponents,masterEditObject:masterEditObject,masterOperation:masterOperation,selectedMaster:selectedMaster,screenName:selectedControl[masterIndex].displayname[_this.props.Login.userInfo.slanguagetypecode]// editObject\n};_this.props.getEditMaster(inputParam);}else if(control.table.item.component==='Dynamic'){var _inputParam4;var _inputParam3=(_inputParam4={userinfo:_this.props.Login.userInfo,selectedControl:selectedControl,masterIndex:masterIndex,masterdataList:masterdataList,masterDesign:masterDesign,masterComboColumnFiled:masterComboColumnFiled,masterwithoutCombocomponent:masterwithoutCombocomponent,mastercomboComponents:mastercomboComponents,masterfieldList:fieldList,masterextractedColumnList:extractedColumnList},_defineProperty(_inputParam4,\"masterComboColumnFiled\",masterComboColumnFiled),_defineProperty(_inputParam4,\"masterEditObject\",masterEditObject),_defineProperty(_inputParam4,\"masterOperation\",masterOperation),_defineProperty(_inputParam4,\"selectedMaster\",selectedMaster),_inputParam4);_this.props.getEditMaster(_inputParam3);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTTHERECORD\"}));}};_this.openModal=function(){var addId=_this.props.Login.inputParam&&_this.state.controlMap.has(\"Add\")&&_this.state.controlMap.get(\"Add\").ncontrolcode;_this.props.getDynamicMasterCombo(_this.props.Login.masterData,_this.props.Login.userInfo,addId,_this.state.designData,_this.state.selectedRecord,_this.state.childColumnList,_this.state.comboComponents,_this.state.withoutCombocomponent,false,true,new Map(),true,\"create\",_this.props.Login.displayName);};_this.fetchRecord=function(fetchRecordParam){_this.props.getEditDynamicMasterCombo(fetchRecordParam,_this.state.designData,_this.state.selectedRecord,_this.state.childColumnList,_this.state.comboComponents,_this.state.withoutCombocomponent);};_this.onNumericBlur=function(value,control){var selectedRecord=_this.state.selectedRecord;if(selectedRecord[control.label]){if(control.max){if(!(selectedRecord[control.label]<parseFloat(control.max))){selectedRecord[control.label]=control.precision?parseFloat(control.max):parseInt(control.max);}}if(control.min){if(!(selectedRecord[control.label]>parseFloat(control.min))){selectedRecord[control.label]=control.precision?parseFloat(control.min):parseInt(control.min);}}}_this.setState({selectedRecord:selectedRecord});};_this.comboChild=function(data,columnList,childColumnList,slice){var retunObj={};// if (data.findIndex(x => x.label === columnList.label) !== -1) {\nif(!childColumnList.hasOwnProperty(columnList.label)){if(childColumnList[columnList.label]===undefined){if(columnList.hasOwnProperty(\"child\")){var childList=[];columnList.child.map(function(childData){var index=data.findIndex(function(x){return x.label===childData.label;});if(index!==-1){childList.push(data[index]);if(slice){data=[].concat(_toConsumableArray(data.slice(0,index)),_toConsumableArray(data.slice(index+1)));}}});childColumnList[columnList.label]=childList;if(childList.length>0){childList.map(function(y){if(y.hasOwnProperty(\"child\")){var val=_this.comboChild(data,y,childColumnList,slice);retunObj[\"data\"]=val.data;retunObj[\"childColumnList\"]=val.childColumnList;}else{retunObj[\"data\"]=data;retunObj[\"childColumnList\"]=childColumnList;}});}else{retunObj[\"data\"]=data;retunObj[\"childColumnList\"]=childColumnList;}}else{retunObj[\"data\"]=data;retunObj[\"childColumnList\"]=childColumnList;}}else{retunObj[\"data\"]=data;retunObj[\"childColumnList\"]=childColumnList;}}else{retunObj[\"data\"]=data;retunObj[\"childColumnList\"]=childColumnList;}return retunObj;};_this.onComboChange=function(comboData,control,customName){var comboName=customName||control.label;var selectedRecord=_this.state.selectedRecord||{};if(comboData){comboData[\"item\"]=_objectSpread(_objectSpread({},comboData[\"item\"]),{},{\"pkey\":control.valuemember,\"nquerybuildertablecode\":control.nquerybuildertablecode,\"source\":control.source});selectedRecord[comboName]=comboData;}else{selectedRecord[comboName]=[];}if(control.child&&control.child.length>0){var childComboList=getSameRecordFromTwoArrays(_this.state.comboComponents,control.child,\"label\");var childColumnList={};childComboList.map(function(columnList){var val=_this.comboChild(_this.state.comboComponents,columnList,childColumnList,false);childColumnList=val.childColumnList;});var parentList=getSameRecordFromTwoArrays(_this.state.withoutCombocomponent,control.child,\"label\");var inputParem={child:control.child,source:control.source,primarykeyField:control.valuemember,value:comboData.value,item:comboData.item};_this.props.getChildValues(inputParem,_this.props.Login.userInfo,selectedRecord,_this.props.Login.comboData,childComboList,childColumnList,_this.state.withoutCombocomponent,[].concat(_toConsumableArray(childComboList),_toConsumableArray(parentList)));}else{var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);}};_this.onNumericInputChange=function(value,name){var selectedRecord=_this.state.selectedRecord;selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.handleDateChange=function(dateValue,dateName){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.onDrop=function(value,type,oldVlaue){var design=_this.state.design;var columns=design[0].children;var designData=_this.props.Login.ReactInputFields;value=JSON.parse(value.fields);value=_objectSpread(_objectSpread({},value),{},{type:\"component\"});var designDataIndex=designData.findIndex(function(item){return item.label===value.label;});var firstIndex=columns[0]?columns[0].children.findIndex(function(item){return item.label===value.label;}):-1;var secondIndex=columns[1]?columns[1].children.findIndex(function(item){return item.label===value.label;}):-1;if(designDataIndex>=0)designData.splice(designDataIndex,1);if(firstIndex>=0){if(type!==1){columns[0].children.splice(firstIndex,1);// columns[0].splice(to, 0, columns[0].splice(from, 1)[0]);\n}else{if(oldVlaue){oldVlaue=JSON.parse(oldVlaue);var from=columns[0].children.findIndex(function(item){return item.label===value.label;});var to=columns[0].children.findIndex(function(item){return item.label===oldVlaue.label;});columns[0].children.splice(to,0,columns[0].children.splice(from,1)[0]);}}}else if(type===1){if(columns[0]){columns[0].children.push(value);}else{columns[0]={id:\"1\",type:\"column\",children:[]};columns[0].children.push(value);}}if(secondIndex>=0){if(type!==2){columns[1].splice(secondIndex,1);}else{if(oldVlaue){oldVlaue=JSON.parse(oldVlaue);var _from=columns[1].children.findIndex(function(item){return item.label===value.label;});var _to=columns[1].children.findIndex(function(item){return item.label===oldVlaue.label;});columns[1].children.splice(_to,0,columns[1].children.splice(_from,1)[0]);}}}else if(type===2){if(columns[1]){columns[1].children.push(value);}else{columns[1]={id:\"2\",type:\"column\",children:[]};columns[1].children.push(value);}}// design.push(columns)\n_this.setState({designData:designData,design:design});};_this.onDropFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"//fileToDelete:file.name \n});};_this.onInputOnChange=function(event,control,value){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='toggle'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else if(event.target.type==='numeric'){if(/\\D/.test(event.target.value))selectedRecord[event.target.name]=event.target.value;}else if(event.target.type==='checkbox'){var value1=selectedRecord[event.target.name];if(value1!==''&&value1!==undefined){if(value1.toLowerCase().includes(value.toLowerCase())){var index=value1.toLowerCase().indexOf(value.toLowerCase());if(index!==-1){if(index===0){var indexcomma=value1.indexOf(\",\");if(indexcomma!==-1){selectedRecord[event.target.name]=value1.slice(indexcomma+1);}else{selectedRecord[event.target.name]=\"\";}}else{if(value1.slice(index).indexOf(\",\")!==-1){selectedRecord[event.target.name]=value1.slice(0,index)+value1.slice(index+value1.slice(index).indexOf(\",\")+1);}else{selectedRecord[event.target.name]=value1.slice(0,index-1);}}}}else{selectedRecord[event.target.name]=value1+','+value;}}else{selectedRecord[event.target.name]=value;}}else if(event.target.type==='radio'){selectedRecord[event.target.name]=value;}else{selectedRecord[event.target.name]=conditionBasedInput(control,event.target.value,control&&control.label);// if (control.isnumeric === true\n//     && control.label===value) {\n// selectedRecord[event.target.name] = event.target.value.replace(/[^0-9]/g, '');\n//     } else {\n//         selectedRecord[event.target.name] = event.target.value;\n//     }\n// selectedRecord[event.target.name] = event.target.value;\n}_this.setState({selectedRecord:selectedRecord});};_this.import=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true,screenName:_this.props.Login.displayName,operation:\"import\"}};_this.props.updateStore(updateInfo);};_this.deleteRecord=function(deleteParam){var _inputData;var inputParam={classUrl:\"dynamicmaster\",methodUrl:\"DynamicMaster\",displayName:_this.props.Login.displayName,inputData:(_inputData={},_defineProperty(_inputData,\"dynamicmaster\",{\"ndynamicmastercode\":deleteParam.selectedRecord.ndynamicmastercode}),_defineProperty(_inputData,\"userinfo\",_this.props.Login.userInfo),_inputData),operation:\"delete\",dataState:_this.state.dataState};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.Login.displayName,operation:\"delete\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.reloadData=function(){var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:_this.props.Login.inputParam.classUrl,methodUrl:_this.props.Login.inputParam.methodUrl,userInfo:_this.props.Login.userInfo,displayName:_this.props.Login.inputParam.displayName};_this.props.callService(inputParam);};_this.onSaveClick=function(saveType,formRef){//add / edit  \nvar isFileupload=true;var inputData={};var dataState=undefined;var methodUrl=\"DynamicMaster\";inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"masterdateconstraints\"]=_this.props.Login.masterData.DynamicMasterDesign.screendesign.masterdateconstraints;inputData[\"masterdatefields\"]=_this.props.Login.masterData.DynamicMasterDesign.screendesign.masterdatefields;inputData[\"mastercombinationunique\"]=_this.props.Login.masterData.DynamicMasterDesign.screendesign.mastercombinationunique;inputData[\"isFileupload\"]=false;var selectedId=null;var operation=\"\";var selectedRecord=_this.state.selectedRecord;if(_this.props.Login.operation===\"update\"){// edit\ndataState=_this.state.dataState;inputData[\"dynamicmaster\"]={ndynamicmastercode:_this.state.selectedRecord[\"ndynamicmastercode\"]};//this.state.selectedRecord;\ninputData[\"dynamicmaster\"][\"jsondata\"]={};inputData[\"dynamicmaster\"][\"jsonuidata\"]={};selectedId=_this.props.Login.selectedId;operation=\"update\";}else{//add                          \ninputData[\"dynamicmaster\"]={//\"nsitecode\": this.props.Login.userInfo.nmastersitecode, \nnformcode:_this.props.Login.userInfo.nformcode,ndesigntemplatemappingcode:_this.props.Login.masterData.DynamicMasterDesign.ndesigntemplatemappingcode,jsondata:{},jsonuidata:{}};operation=\"create\";}var dateList=[];var defaulttimezone=_this.props.Login.defaulttimezone;var userInfo=_this.props.Login.userInfo;_this.props.Login.masterData.DynamicMasterDesign&&_this.props.Login.masterData.DynamicMasterDesign.slideoutdesign.map(function(row){row.children.map(function(column){column.children.map(function(component){if(component.hasOwnProperty(\"children\")){component.children.map(function(componentrow){if(componentrow.inputtype===\"combo\"){inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]=selectedRecord[componentrow.label]?_defineProperty({value:selectedRecord[componentrow.label].value,label:selectedRecord[componentrow.label].label,pkey:componentrow.valuemember,nquerybuildertablecode:componentrow.nquerybuildertablecode,source:componentrow.source},componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember,operation===\"update\"?selectedRecord[componentrow.label].item?selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]:selectedRecord[componentrow.label][componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]:selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component==='Dynamic'?'ndynamicmastercode':componentrow.valuemember]):-1;inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label]=selectedRecord[componentrow.label]?selectedRecord[componentrow.label].label:\"\";}else if(componentrow.inputtype===\"date\"){if(componentrow.mandatory){inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]=formatDate(selectedRecord[componentrow.label],false);inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label]=inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label];//inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label] = convertDateTimetoString(selectedRecord[componentrow.label], userInfo);\n}else{inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]=componentrow.loadcurrentdate?formatDate(selectedRecord[componentrow.label]||new Date(),false):selectedRecord[componentrow.label]?formatDate(selectedRecord[componentrow.label],false):\"\";inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label]=inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label];//convertDateTimetoString(selectedRecord[componentrow.label], userInfo);\n}if(componentrow.timezone){inputData[\"dynamicmaster\"][\"jsondata\"][\"tz\".concat(componentrow.label)]=selectedRecord[\"tz\".concat(componentrow.label)]?{value:selectedRecord[\"tz\".concat(componentrow.label)].value,label:selectedRecord[\"tz\".concat(componentrow.label)].label}:defaulttimezone?defaulttimezone:-1;inputData[\"dynamicmaster\"][\"jsonuidata\"][\"tz\".concat(componentrow.label)]=inputData[\"dynamicmaster\"][\"jsondata\"][\"tz\".concat(componentrow.label)];}dateList.push(componentrow.label);}else{inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]=selectedRecord[componentrow.label]?selectedRecord[componentrow.label]:\"\";inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label]=inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label];// inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]\n}return inputData[\"dynamicmaster\"];});}else{if(component.inputtype===\"combo\"){if(selectedRecord[component.label].length===0){inputData[\"dynamicmaster\"][\"jsondata\"][component.label]=-1;inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label]=\"\";}else{inputData[\"dynamicmaster\"][\"jsondata\"][component.label]=selectedRecord[component.label]?_defineProperty({value:selectedRecord[component.label].value,label:selectedRecord[component.label].label,pkey:component.valuemember,nquerybuildertablecode:component.nquerybuildertablecode,source:component.source},component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember,operation===\"update\"?selectedRecord[component.label].item?selectedRecord[component.label].item.jsondata&&selectedRecord[component.label].item.jsondata[component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]:selectedRecord[component.label][component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]:selectedRecord[component.label].item.jsondata&&selectedRecord[component.label].item.jsondata[component.table.item.component==='Dynamic'?'ndynamicmastercode':component.valuemember]):-1;inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label]=inputData[\"dynamicmaster\"][\"jsondata\"][component.label].label?inputData[\"dynamicmaster\"][\"jsondata\"][component.label].label:-1;}//selectedRecord[component.label] ? selectedRecord[component.label].label : \"\"\n}else if(component.inputtype===\"date\"){if(component.mandatory){inputData[\"dynamicmaster\"][\"jsondata\"][component.label]=formatDate(selectedRecord[component.label],false);// convertDateTimetoString(selectedRecord[component.label] ?\n// selectedRecord[component.label] : new Date(), userInfo);\ninputData[\"dynamicmaster\"][\"jsonuidata\"][component.label]=inputData[\"dynamicmaster\"][\"jsondata\"][component.label];//convertDateTimetoString(selectedRecord[component.label], userInfo);\n}else{inputData[\"dynamicmaster\"][\"jsondata\"][component.label]=component.loadcurrentdate?//convertDateTimetoString(selectedRecord[component.label] ?                                      \n//    selectedRecord[component.label] : new Date(), userInfo) :\nformatDate(selectedRecord[component.label]||new Date(),false):selectedRecord[component.label]?// convertDateTimetoString(selectedRecord[component.label] ?\n//   selectedRecord[component.label] : new Date(), userInfo) : \"\";\nformatDate(selectedRecord[component.label],false):\"\";inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label]=inputData[\"dynamicmaster\"][\"jsondata\"][component.label];//convertDateTimetoString(selectedRecord[component.label], userInfo)\n}if(component.timezone){inputData[\"dynamicmaster\"][\"jsondata\"][\"tz\".concat(component.label)]=selectedRecord[\"tz\".concat(component.label)]?{value:selectedRecord[\"tz\".concat(component.label)].value,label:selectedRecord[\"tz\".concat(component.label)].label}:defaulttimezone?defaulttimezone:-1;inputData[\"dynamicmaster\"][\"jsonuidata\"][\"tz\".concat(component.label)]=inputData[\"dynamicmaster\"][\"jsondata\"][\"tz\".concat(component.label)];}dateList.push(component.label);}else{inputData[\"dynamicmaster\"][\"jsondata\"][component.label]=selectedRecord[component.label]?selectedRecord[component.label]:\"\";inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label]=inputData[\"dynamicmaster\"][\"jsondata\"][component.label].label?inputData[\"dynamicmaster\"][\"jsondata\"][component.label].label:inputData[\"dynamicmaster\"][\"jsondata\"][component.label];}}return inputData[\"dynamicmaster\"];});return inputData[\"dynamicmaster\"];});return inputData[\"dynamicmaster\"];});var tempData={};var formData=new FormData();_this.props.Login.withoutCombocomponent.map(function(item){if(item.inputtype===\"files\"){if(typeof selectedRecord[item&&item.label]===\"object\"){_this.state.selectedRecord[item&&item.label]&&_this.state.selectedRecord[item&&item.label].forEach(function(item1,index){var fileName=create_UUID();var splittedFileName=item1.name.split('.');var fileExtension=item1.name.split('.')[splittedFileName.length-1];var uniquefilename=fileName+'.'+fileExtension;tempData[item&&item.label+'_susername']=_this.props.Login.userInfo.susername;tempData[item&&item.label+'_suserrolename']=_this.props.Login.userInfo.suserrolename;tempData[item&&item.label+'_nfilesize']=item1.size;tempData[item&&item.label+'_ssystemfilename']=uniquefilename;tempData[item&&item.label]=Lims_JSON_stringify(item1.name.trim(),false);formData.append(\"uploadedFile\"+index,item1);formData.append(\"uniquefilename\"+index,uniquefilename);formData.append(\"filecount\",_this.state.selectedRecord[item&&item.label].length);formData.append(\"isFileEdited\",transactionStatus.YES);formData.append(\"userinfo\",JSON.stringify(_this.props.Login.userInfo));inputData[\"dynamicmaster\"][\"jsondata\"]=_objectSpread(_objectSpread({},inputData[\"dynamicmaster\"][\"jsondata\"]),tempData);inputData[\"dynamicmaster\"][\"jsonuidata\"]=_objectSpread(_objectSpread({},inputData[\"dynamicmaster\"][\"jsonuidata\"]),tempData);formData.append(\"userinfo\",JSON.stringify(_this.props.Login.userInfo));inputData[\"isFileupload\"]=true;isFileupload=true;//methodUrl=\"DynamicMasterWithFile\"\n});}}if(_this.state.selectedRecord[_this.state.selectedRecord[item&&item.label]+'_ssystemfilename']===undefined&&item.inputtype===\"files\"&&tempData[item&&item.label+'_ssystemfilename']==undefined){inputData[\"dynamicmaster\"][\"jsondata\"]=_objectSpread(_objectSpread({},inputData[\"dynamicmaster\"][\"jsonuidata\"]),_this.state.selectedRecord);inputData[\"dynamicmaster\"][\"jsonuidata\"]=_objectSpread({},inputData[\"dynamicmaster\"][\"jsondata\"]);}});inputData[\"dynamicmaster\"][\"jsonstring\"]=JSON.stringify(inputData[\"dynamicmaster\"][\"jsondata\"]);inputData[\"dynamicmaster\"][\"jsonuistring\"]=JSON.stringify(inputData[\"dynamicmaster\"][\"jsonuidata\"]);inputData[\"masterdatelist\"]=dateList;formData.append(\"Map\",Lims_JSON_stringify(JSON.stringify(inputData)));var inputParam={classUrl:\"dynamicmaster\",methodUrl:methodUrl,displayName:_this.props.Login.displayName,inputData:inputData,operation:operation,saveType:saveType,formRef:formRef,selectedId:selectedId,dataState:dataState,formData:formData,isFileupload:isFileupload};var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.Login.displayName,operation:\"create\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.formRef=React.createRef();_this.extractedColumnList=[];_this.detailedColumnList=[];var _dataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};_this.state={data:[],masterStatus:\"\",error:\"\",selectedRecord:{},dataResult:[],dataState:_dataState,userRoleControlRights:[],controlMap:new Map(),comboComponents:[],withoutCombocomponent:[],selectedMaster:[]};return _this;}_createClass(DynamicMaster,[{key:\"render\",value:function render(){var primaryKeyField=\"ndynamicmastercode\";var viewFileURL={\"classUrl\":\"dynamicmaster\",\"methodUrl\":\"DynamicMaster\",\"screenName\":\"DynamicMaster\"};var editId=this.props.Login.inputParam&&this.state.controlMap.has(\"Edit\")&&this.state.controlMap.get(\"Edit\").ncontrolcode;var editParam={screenName:this.props.Login.inputParam&&this.props.Login.inputParam.displayName&&this.props.intl.formatMessage({id:this.props.Login.inputParam.displayName}),operation:\"update\",primaryKeyField:primaryKeyField,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,ncontrolCode:editId};var deleteParam={operation:\"delete\"};// const mandatoryFields=[];\n// this.extractedColumnList.forEach(item=>item.mandatory === true ? \n//     mandatoryFields.push(item) :\"\"\n// );   \nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-list-content\"},this.state.data?/*#__PURE__*/React.createElement(DynamicDataGrid,{primaryKeyField:primaryKeyField,data:this.state.data,dataResult:this.state.dataResult,dataState:this.state.dataState,dataStateChange:this.dataStateChange,extractedColumnList:this.extractedColumnList,detailedFieldList:this.detailedColumnList,expandField:this.detailedColumnList.length>0?\"expanded\":false,methodUrl:\"\",controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,fetchRecord:this.fetchRecord,editParam:editParam,deleteRecord:this.deleteRecord,deleteParam:deleteParam,reloadData:this.reloadData,addRecord:this.openModal,pageable:true,scrollable:'scrollable',gridHeight:'600px',isActionRequired:true,isToolBarRequired:true,selectedId:this.props.Login.selectedId,import:this.import,screenName:this.props.Login.displayName,isImportRequired:false,viewFileURL:viewFileURL}):\"\"))),this.props.Login.openModal?/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.addMaster?this.props.Login.masterOperation[this.props.Login.masterIndex]:this.props.Login.operation?this.props.Login.operation:\"create\",inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.props.Login.addMaster?this.onSaveMasterRecord:this.props.Login.operation==='import'?this.onSaveClickImportFile:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.props.Login.addMaster?this.state.selectedMaster[this.props.Login.masterIndex]:this.state.selectedRecord||{},mandatoryFields:this.props.Login.addMaster?this.props.Login.masterextractedColumnList[this.props.Login.masterIndex].filter(function(x){return x.mandatory===true;}):this.props.Login.operation==='import'?[{\"mandatory\":true,\"idsName\":\"IDS_FILE\",\"dataField\":'stemplatefilename',\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"textbox\"}]:this.state.mandatoryFields||[],addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.addMaster?/*#__PURE__*/React.createElement(AddMasterRecords,{selectedControl:this.props.Login.selectedControl[this.props.Login.masterIndex],fieldList:this.props.Login.masterfieldList&&this.props.Login.masterfieldList[this.props.Login.masterIndex],extractedColumnList:this.props.Login.masterextractedColumnList[this.props.Login.masterIndex]// primaryKeyField={this.props.Login.masterprimaryKeyField}\n,selectedRecord:this.state.selectedMaster[this.props.Login.masterIndex]||{},onInputOnChange:this.onInputOnChangeMaster,onComboChange:this.onComboChangeMaster,handleDateChange:this.handleDateChangeMaster,dataList:this.props.Login.masterdataList&&this.props.Login.masterdataList[this.props.Login.masterIndex],onNumericInputOnChange:this.onNumericInputOnChangeMaster,masterDesign:this.props.Login.masterDesign&&this.props.Login.masterDesign[this.props.Login.masterIndex],mastertimeZoneList:this.props.Login.mastertimeZoneList,masterdefaultTimeZone:this.props.Login.masterdefaultTimeZone,onComboChangeMasterDyanmic:this.onComboChangeMasterDyanmic,handleDateChangeMasterDynamic:this.handleDateChangeMasterDynamic,onInputOnChangeMasterDynamic:this.onInputOnChangeMasterDynamic,onNumericInputChangeMasterDynamic:this.onNumericInputChangeMasterDynamic,onNumericBlurMasterDynamic:this.onNumericBlurMasterDynamic,userInfo:this.props.Login.userInfo,Login:this.props.Login,addMasterRecord:this.addMasterRecord,editMasterRecord:this.editMasterRecord,userRoleControlRights:this.props.Login.userRoleControlRights,masterIndex:this.props.Login.masterIndex}):this.props.Login.operation==='import'?/*#__PURE__*/React.createElement(ImportTemplate,{selectedRecord:this.state.selectedRecord||{}//onInputOnChange={this.onInputOnChange}\n,onDrop:this.onDropFile,deleteAttachment:this.deleteAttachment,actionType:this.state.actionType}):/*#__PURE__*/React.createElement(DynamicSlideout,{selectedRecord:this.props.Login.selectedRecord,templateData:this.props.Login.masterData.DynamicMasterDesign&&this.props.Login.masterData.DynamicMasterDesign.slideoutdesign// handleChange={this.handleChange}\n,handleDateChange:this.handleDateChange,onInputOnChange:this.onInputOnChange,onNumericInputChange:this.onNumericInputChange,comboData:this.props.Login.comboData,onComboChange:this.onComboChange,onDropFile:this.onDropFile,deleteAttachment:this.deleteAttachment,onNumericBlur:this.onNumericBlur,userInfo:this.props.Login.userInfo,timeZoneList:this.props.Login.timeZoneList,defaultTimeZone:this.props.Login.defaultTimeZone,Login:this.props.Login,addMasterRecord:this.addMasterRecord,editMasterRecord:this.editMasterRecord,userRoleControlRights:this.props.Login.userRoleControlRights})}):\"\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this2=this;if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.extractedColumnList=[];this.detailedColumnList=[];var data=[];var withoutCombocomponent=[];var mandatoryFields=[];var Layout=this.props.Login.masterData.DynamicMasterDesign&&this.props.Login.masterData.DynamicMasterDesign.slideoutdesign||[];Layout.map(function(row){row.children.map(function(column){column.children.map(function(component){if(component.hasOwnProperty(\"children\")){component.children.map(function(componentrow){if(componentrow.inputtype===\"combo\"||componentrow.inputtype===\"backendsearchfilter\"||componentrow.inputtype===\"frontendsearchfilter\"){data.push(componentrow);}else{withoutCombocomponent.push(componentrow);}if(componentrow.mandatory===true){if(componentrow.inputtype===\"email\"){mandatoryFields.push({\"mandatory\":true,\"idsName\":componentrow.label,\"dataField\":componentrow.label,\"alertPreFix\":_this2.props.intl.formatMessage({id:\"IDS_VALID\"}),\"validateFunction\":validateEmail,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});}else{mandatoryFields.push({\"mandatory\":true,\"idsName\":componentrow.label,\"dataField\":componentrow.label,\"mandatoryLabel\":componentrow.inputtype===\"combo\"?\"IDS_SELECT\":\"IDS_ENTER\",\"controlType\":componentrow.inputtype===\"combo\"?\"selectbox\":\"textbox\"});}}});}else{component.inputtype===\"combo\"||component.inputtype===\"backendsearchfilter\"||component.inputtype===\"frontendsearchfilter\"?data.push(component):withoutCombocomponent.push(component);if(component.mandatory===true){if(component.inputtype===\"email\"){mandatoryFields.push({\"mandatory\":true,\"idsName\":component.label,\"dataField\":component.label,\"alertPreFix\":_this2.props.intl.formatMessage({id:\"IDS_VALID\"}),\"validateFunction\":validateEmail,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});}else{mandatoryFields.push({\"mandatory\":true,\"idsName\":component.label,\"dataField\":component.label,\"mandatoryLabel\":component.inputtype===\"combo\"?\"IDS_SELECT\":\"IDS_ENTER\",\"controlType\":component.inputtype===\"combo\"?\"selectbox\":\"textbox\"});}}}});});});if(this.props.Login.masterData&&this.props.Login.masterData.DynamicMasterDesign&&this.props.Login.masterData.DynamicMasterDesign.screendesign){this.props.Login.masterData.DynamicMasterDesign.screendesign.griditem.map(function(row){_this2.extractedColumnList.push({\"idsName\":row[\"1\"][_this2.props.Login.userInfo.slanguagetypecode],\"dataField\":row[\"2\"],\"width\":\"150\",\"dateField\":withoutCombocomponent.findIndex(function(x){return x.label===row[\"2\"]&&x.inputtype==='date';})!==-1?true:false,\"dataType\":withoutCombocomponent.filter(function(x){return x.label===row[\"2\"];}).map(function(x){return x.inputtype;})});});this.props.Login.masterData.DynamicMasterDesign.screendesign.gridmoreitem.map(function(row){_this2.detailedColumnList.push({\"idsName\":row[\"1\"][_this2.props.Login.userInfo.slanguagetypecode],\"dataField\":row[\"2\"],\"dateField\":withoutCombocomponent.findIndex(function(x){return x.label===row[\"2\"]&&x.inputtype==='date';})!==-1?true:false,\"dataType\":withoutCombocomponent.filter(function(x){return x.label===row[\"2\"];}).map(function(x){return x.inputtype;})});});}var comboComponents=data;var childColumnList={};data.map(function(columnList){var val=_this2.comboChild(data,columnList,childColumnList,true);data=val.data;childColumnList=val.childColumnList;});var masterData=this.props.Login.masterData.DynamicMasterData?sortData(this.props.Login.masterData.DynamicMasterData,\"descending\",\"ndynamicmastercode\"):[];this.setState({withoutCombocomponent:withoutCombocomponent,comboComponents:comboComponents,childColumnList:childColumnList,designData:data,mandatoryFields:mandatoryFields,userRoleControlRights:userRoleControlRights,controlMap:controlMap,data:this.props.Login.masterData.DynamicMasterData||[],dataResult:process(masterData||[],this.state.dataState)});}else{var dataState=this.state.dataState;if(this.props.Login.dataState===undefined){dataState={skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5};}var _masterData=this.props.Login.masterData.DynamicMasterData?sortData(this.props.Login.masterData.DynamicMasterData,\"descending\",\"ndynamicmastercode\"):[];this.setState({data:this.props.Login.masterData.DynamicMasterData||[],selectedRecord:this.props.Login.selectedRecord,dataResult:process(_masterData||[],dataState),dataState:dataState//, comboComponents, withoutCombocomponent\n});}}if(this.props.Login.selectedMaster!==previousProps.Login.selectedMaster){this.setState({selectedMaster:this.props.Login.selectedMaster});}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return DynamicMaster;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,validateEsignCredential:validateEsignCredential,getChildValues:getChildValues,getEditDynamicMasterCombo:getEditDynamicMasterCombo,//fetchRecord,\ngetDynamicMasterCombo:getDynamicMasterCombo,addMasterRecord:addMasterRecord,getAddMasterCombo:getAddMasterCombo,getDynamicMasterTempalte:getDynamicMasterTempalte,getChildComboMaster:getChildComboMaster,getChildValuesForAddMaster:getChildValuesForAddMaster,getEditMaster:getEditMaster,viewAttachment:viewAttachment})(injectIntl(DynamicMaster));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/dynamicmaster/DynamicMaster.jsx"],"names":["React","connect","injectIntl","Row","Col","toast","process","DynamicDataGrid","SlideOutModal","Esign","callService","crudMaster","updateStore","validateEsignCredential","getEditDynamicMasterCombo","getDynamicMasterCombo","getChildValues","addMasterRecord","getAddMasterCombo","getDynamicMasterTempalte","getChildComboMaster","getChildValuesForAddMaster","getEditMaster","viewAttachment","DEFAULT_RETURN","showEsign","getControlMap","deleteAttachmentDropZone","getSameRecordFromTwoArrays","onDropAttachFileList","convertDateTimetoString","create_UUID","validateEmail","formatDate","sortData","ageCalculate","formatInputDate","extractFieldHeader","childComboClear","Lims_JSON_stringify","conditionBasedInput","ListWrapper","DynamicSlideout","designComponents","transactionStatus","getFieldSpecification","AddMasterRecords","getFieldSpecification1","getFieldSpecification3","ImportTemplate","mapStateToProps","state","Login","DynamicMaster","props","dataStateChange","event","setState","dataResult","data","dataState","removeIndex","data1","splice","closeModal","loadEsign","openModal","selectedRecord","selectedMaster","selectedControl","masterextractedColumnList","masterfieldList","masterdataList","mastercomboComponents","masterwithoutCombocomponent","masterComboColumnFiled","masterOperation","masterEditObject","masterDesign","addMaster","masterIndex","screenName","operation","displayname","userInfo","slanguagetypecode","undefined","inputParam","displayName","updateInfo","typeName","selectedId","onSaveClickImportFile","saveType","formRef","inputFileData","nsitecode","nmastersitecode","editData","formData","FormData","acceptedFiles","stemplatefilename","length","forEach","file","index","append","dateList","masterData","DynamicMasterDesign","screendesign","masterdatefields","map","x","push","mandatoryfields","mandatoryFields","dataField","mandatory","JSON","stringify","comboComponents","masterdateconstraints","mastercombinationunique","ndesigntemplatemappingcode","classUrl","methodUrl","inputData","userinfo","isFileupload","esignNeeded","userRoleControlRights","nformcode","ncontrolCode","screenData","intl","formatMessage","id","warn","onComboChangeMasterDyanmic","comboData","control","customName","comboName","label","valuemember","nquerybuildertablecode","source","child","childComboList","childColumnList","columnList","val","comboChild","parentList","inputParem","primarykeyField","value","item","withoutCombocomponent","childParam","mastedataList","onInputOnChangeMasterDynamic","radiotext","target","type","name","checked","YES","NO","test","includes","indexOf","indexcomma","slice","handleDateChangeMasterDynamic","dateValue","dateName","onNumericInputChangeMasterDynamic","onNumericBlurMasterDynamic","max","parseFloat","precision","parseInt","min","onComboChangeMaster","fieldName","table","tableDataField","foreignDataField","childIndex","handleDateChangeMaster","age","onNumericInputOnChangeMaster","onInputOnChangeMaster","nneedcurrentaddress","sflatnotemp","sflatno","shousenotemp","shouseno","spostalcodetemp","spostalcode","sstreettemp","sstreet","scitynametemp","scityname","sdistrictnametemp","sdistrictname","sregionnametemp","sregionname","onSaveMasterRecord","toLowerCase","component","jsondata","ndynamicmastercode","jsonuidata","defaulttimezone","slideoutdesign","row","children","column","hasOwnProperty","componentrow","inputtype","pkey","loadcurrentdate","Date","timezone","isJsonField","jsonObjectName","controlType","dateField","controlName","selectedRecordName","loadSubSample","fieldList","extractedColumnList","get","Object","values","primaryKeyField","keys","masterprimaryKeyField","filter","ndesigncomponentcode","COMBOBOX","editMasterRecord","editObject","addId","controlMap","has","ncontrolcode","designData","Map","fetchRecord","fetchRecordParam","onNumericBlur","retunObj","childList","childData","findIndex","y","onComboChange","onNumericInputChange","handleDateChange","onDrop","oldVlaue","design","columns","ReactInputFields","parse","fields","designDataIndex","firstIndex","secondIndex","from","to","onDropFile","attachedFiles","maxSize","actionType","deleteAttachment","onInputOnChange","value1","import","deleteRecord","deleteParam","reloadData","onSaveClick","tempData","item1","fileName","splittedFileName","split","fileExtension","uniquefilename","susername","suserrolename","size","trim","validateEsign","sreason","nreasoncode","spredefinedreason","password","createRef","detailedColumnList","skip","take","settings","masterStatus","error","viewFileURL","editId","editParam","mastertimeZoneList","masterdefaultTimeZone","timeZoneList","defaultTimeZone","previousProps","Layout","griditem","gridmoreitem","DynamicMasterData","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport DynamicDataGrid from '../../components/data-grid/data-grid.component';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../../pages/audittrail/Esign';\r\nimport {\r\n    callService, crudMaster, updateStore, validateEsignCredential,\r\n    getEditDynamicMasterCombo,\r\n    //fetchRecord,\r\n    getDynamicMasterCombo, getChildValues,\r\n    addMasterRecord, getAddMasterCombo, getDynamicMasterTempalte,\r\n    getChildComboMaster, getChildValuesForAddMaster, getEditMaster, viewAttachment\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport {\r\n    showEsign, getControlMap, deleteAttachmentDropZone,\r\n    getSameRecordFromTwoArrays, onDropAttachFileList, convertDateTimetoString, create_UUID,\r\n    validateEmail, formatDate, sortData, ageCalculate, formatInputDate, extractFieldHeader, childComboClear, Lims_JSON_stringify, conditionBasedInput\r\n} from '../../components/CommonScript';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport DynamicSlideout from '../dynamicpreregdesign/DynamicSlideout.jsx';\r\nimport { designComponents, transactionStatus } from '../../components/Enumeration';\r\nimport { getFieldSpecification } from '../../components/type2component/Type2FieldSpecificationList';\r\nimport AddMasterRecords from '../dynamicpreregdesign/AddMasterRecords'\r\nimport { getFieldSpecification as getFieldSpecification1 } from '../../components/type1component/Type1FieldSpecificationList';\r\nimport { getFieldSpecification as getFieldSpecification3 } from '../../components/type3component/Type3FieldSpecificationList';\r\nimport ImportTemplate from './ImportTemplate';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass DynamicMaster extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.formRef = React.createRef();\r\n        this.extractedColumnList = [];\r\n        this.detailedColumnList = [];\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n        };\r\n        this.state = {\r\n            data: [], masterStatus: \"\", error: \"\", selectedRecord: {},\r\n            dataResult: [],\r\n            dataState: dataState,\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            comboComponents: [],\r\n            withoutCombocomponent: [],\r\n            selectedMaster: []\r\n        };\r\n    }\r\n\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.state.data || [], event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n\r\n    removeIndex = (data, removeIndex) => {\r\n        const data1 = [...data.splice(0, removeIndex), ...data.splice(removeIndex + 1)]\r\n        return data1\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        let selectedMaster = this.props.Login.selectedMaster;\r\n        let selectedControl = this.props.Login.selectedControl;\r\n        let masterextractedColumnList = this.props.Login.masterextractedColumnList;\r\n        let masterfieldList = this.props.Login.masterfieldList;\r\n        let masterdataList = this.props.Login.masterfieldList;\r\n        let mastercomboComponents = this.props.Login.masterfieldList;\r\n        let masterwithoutCombocomponent = this.props.Login.masterfieldList;\r\n        let masterComboColumnFiled = this.props.Login.masterComboColumnFiled;\r\n        let masterOperation = this.props.Login.masterOperation\r\n        let masterEditObject = this.props.Login.masterEditObject\r\n        let masterDesign = this.props.Login.masterDesign;\r\n        let addMaster = this.props.Login.addMaster\r\n        let masterIndex = this.props.Login.masterIndex\r\n        let screenName = this.props.Login.screenName\r\n\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason'] = \"\"\r\n            }\r\n        } else if (this.props.Login.addMaster) {\r\n            if (masterIndex !== 0) {\r\n                screenName = selectedControl[masterIndex - 1].displayname[this.props.Login.userInfo.slanguagetypecode]\r\n                selectedMaster = this.removeIndex(selectedMaster, masterIndex)\r\n                selectedControl = this.removeIndex(selectedControl, masterIndex)\r\n                masterextractedColumnList = masterextractedColumnList && this.removeIndex(masterextractedColumnList, masterIndex)\r\n                masterfieldList = masterfieldList && this.removeIndex(masterfieldList, masterIndex)\r\n                masterdataList = masterdataList && this.removeIndex(masterdataList, masterIndex)\r\n                mastercomboComponents = mastercomboComponents && this.removeIndex(mastercomboComponents, masterIndex)\r\n                masterComboColumnFiled = masterComboColumnFiled && this.removeIndex(masterComboColumnFiled, masterIndex)\r\n                masterwithoutCombocomponent = masterwithoutCombocomponent && this.removeIndex(masterwithoutCombocomponent, masterIndex)\r\n                masterDesign = masterDesign && this.removeIndex(masterDesign, masterIndex)\r\n                masterOperation = masterOperation && this.removeIndex(masterOperation, masterIndex)\r\n                masterEditObject = masterEditObject && this.removeIndex(masterEditObject, masterIndex)\r\n                masterIndex = masterIndex - 1;\r\n                //  masterprimaryKeyField = \"\"\r\n                //addMaster = false\r\n            } else {\r\n                selectedMaster = []\r\n                selectedControl = []\r\n                masterextractedColumnList = []\r\n                masterfieldList = []\r\n                addMaster = false\r\n                masterdataList = []\r\n                mastercomboComponents = []\r\n                masterwithoutCombocomponent = []\r\n                masterComboColumnFiled = []\r\n                masterDesign = []\r\n                masterOperation = []\r\n                masterEditObject = []\r\n                masterIndex = undefined\r\n                screenName = this.props.Login.inputParam.displayName\r\n            }\r\n\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n            selectedMaster = []\r\n            selectedControl = []\r\n            masterextractedColumnList = []\r\n            masterfieldList = []\r\n            addMaster = false\r\n            masterdataList = []\r\n            mastercomboComponents = []\r\n            masterwithoutCombocomponent = []\r\n            masterComboColumnFiled = []\r\n            masterDesign = []\r\n            masterOperation = []\r\n            masterEditObject = []\r\n            masterIndex = undefined\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal, loadEsign,\r\n                selectedRecord, selectedId: null, selectedMaster, selectedControl,\r\n                masterextractedColumnList, masterfieldList\r\n                , addMaster, masterIndex, masterdataList,\r\n                mastercomboComponents,\r\n                masterwithoutCombocomponent,\r\n                masterComboColumnFiled, masterDesign, screenName, masterOperation,\r\n                masterEditObject,\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n\r\n        let primaryKeyField = \"ndynamicmastercode\";\r\n        let viewFileURL={\"classUrl\":\"dynamicmaster\",\r\n        \"methodUrl\" :\"DynamicMaster\",\"screenName\":\"DynamicMaster\"};\r\n\r\n        const editId = this.props.Login.inputParam && this.state.controlMap.has(\"Edit\")\r\n            && this.state.controlMap.get(\"Edit\").ncontrolcode;\r\n\r\n        const editParam = {\r\n            screenName: this.props.Login.inputParam && this.props.Login.inputParam.displayName\r\n                && this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }), operation: \"update\", primaryKeyField,\r\n            inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: editId\r\n        };\r\n\r\n        const deleteParam = { operation: \"delete\" };\r\n\r\n        // const mandatoryFields=[];\r\n        // this.extractedColumnList.forEach(item=>item.mandatory === true ? \r\n        //     mandatoryFields.push(item) :\"\"\r\n        // );   \r\n\r\n        return (<>\r\n            <Row>\r\n                <Col>\r\n                    <ListWrapper className=\"client-list-content\">\r\n                        {this.state.data ?\r\n                            <DynamicDataGrid\r\n                                primaryKeyField={primaryKeyField}\r\n                                data={this.state.data}\r\n                                dataResult={this.state.dataResult}\r\n                                dataState={this.state.dataState}\r\n                                dataStateChange={this.dataStateChange}\r\n                                extractedColumnList={this.extractedColumnList}\r\n                                detailedFieldList={this.detailedColumnList}\r\n                                expandField={this.detailedColumnList.length > 0 ? \"expanded\" : false}\r\n                                methodUrl={\"\"}\r\n                                controlMap={this.state.controlMap}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                fetchRecord={this.fetchRecord}\r\n                                editParam={editParam}\r\n                                deleteRecord={this.deleteRecord}\r\n                                deleteParam={deleteParam}\r\n                                reloadData={this.reloadData}\r\n                                addRecord={this.openModal}\r\n                                pageable={true}\r\n                                scrollable={'scrollable'}\r\n                                gridHeight={'600px'}\r\n                                isActionRequired={true}\r\n                                isToolBarRequired={true}\r\n                                selectedId={this.props.Login.selectedId}\r\n                                import={this.import}\r\n                                screenName={this.props.Login.displayName}\r\n                                isImportRequired={false}\r\n                                viewFileURL={viewFileURL}\r\n                            />\r\n                            : \"\"}\r\n                    </ListWrapper>\r\n                </Col>\r\n            </Row>\r\n\r\n            {/* Below Condition Added to avoid unwanted rendering of SlideOut */}\r\n            {this.props.Login.openModal ?\r\n                <SlideOutModal show={this.props.Login.openModal}\r\n                    closeModal={this.closeModal}\r\n                    operation={this.props.Login.addMaster ? this.props.Login.masterOperation[this.props.Login.masterIndex] : this.props.Login.operation ? this.props.Login.operation : \"create\"}\r\n                    inputParam={this.props.Login.inputParam}\r\n                    screenName={this.props.Login.screenName}\r\n                    onSaveClick={this.props.Login.addMaster ?\r\n                        this.onSaveMasterRecord : this.props.Login.operation === 'import' ?\r\n                            this.onSaveClickImportFile : this.onSaveClick}\r\n                    esign={this.props.Login.loadEsign}\r\n                    validateEsign={this.validateEsign}\r\n                    masterStatus={this.props.Login.masterStatus}\r\n                    updateStore={this.props.updateStore}\r\n                    selectedRecord={this.props.Login.addMaster ?\r\n                        this.state.selectedMaster[this.props.Login.masterIndex] : this.state.selectedRecord || {}}\r\n                    mandatoryFields={this.props.Login.addMaster ?\r\n                        this.props.Login.masterextractedColumnList[this.props.Login.masterIndex].filter(x => x.mandatory === true)\r\n                        : this.props.Login.operation === 'import' ? [{\r\n                            \"mandatory\": true,\r\n                            \"idsName\": \"IDS_FILE\",\r\n                            \"dataField\": 'stemplatefilename',\r\n                            \"mandatoryLabel\": \"IDS_SELECT\",\r\n                            \"controlType\": \"textbox\"\r\n                        }] : this.state.mandatoryFields || []}\r\n                    addComponent={this.props.Login.loadEsign ?\r\n                        <Esign operation={this.props.Login.operation}\r\n                            onInputOnChange={this.onInputOnChange}\r\n                            inputParam={this.props.Login.inputParam}\r\n                            selectedRecord={this.state.selectedRecord || {}}\r\n                        /> : this.props.Login.addMaster ?\r\n                            <AddMasterRecords\r\n                                selectedControl={this.props.Login.selectedControl[this.props.Login.masterIndex]}\r\n                                fieldList={this.props.Login.masterfieldList && this.props.Login.masterfieldList[this.props.Login.masterIndex]}\r\n                                extractedColumnList={this.props.Login.masterextractedColumnList[this.props.Login.masterIndex]}\r\n                                // primaryKeyField={this.props.Login.masterprimaryKeyField}\r\n                                selectedRecord={this.state.selectedMaster[this.props.Login.masterIndex] || {}}\r\n                                onInputOnChange={this.onInputOnChangeMaster}\r\n                                onComboChange={this.onComboChangeMaster}\r\n                                handleDateChange={this.handleDateChangeMaster}\r\n                                dataList={this.props.Login.masterdataList && this.props.Login.masterdataList[this.props.Login.masterIndex]}\r\n                                onNumericInputOnChange={this.onNumericInputOnChangeMaster}\r\n                                masterDesign={this.props.Login.masterDesign && this.props.Login.masterDesign[this.props.Login.masterIndex]}\r\n                                mastertimeZoneList={this.props.Login.mastertimeZoneList}\r\n                                masterdefaultTimeZone={this.props.Login.masterdefaultTimeZone}\r\n                                onComboChangeMasterDyanmic={this.onComboChangeMasterDyanmic}\r\n                                handleDateChangeMasterDynamic={this.handleDateChangeMasterDynamic}\r\n                                onInputOnChangeMasterDynamic={this.onInputOnChangeMasterDynamic}\r\n                                onNumericInputChangeMasterDynamic={this.onNumericInputChangeMasterDynamic}\r\n                                onNumericBlurMasterDynamic={this.onNumericBlurMasterDynamic}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                Login={this.props.Login}\r\n                                addMasterRecord={this.addMasterRecord}\r\n                                editMasterRecord={this.editMasterRecord}\r\n                                userRoleControlRights={this.props.Login.userRoleControlRights}\r\n                                masterIndex={this.props.Login.masterIndex}\r\n                            /> : this.props.Login.operation === 'import' ?\r\n                                <ImportTemplate\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    //onInputOnChange={this.onInputOnChange}\r\n                                    onDrop={this.onDropFile}\r\n                                    deleteAttachment={this.deleteAttachment}\r\n                                    actionType={this.state.actionType}\r\n                                />\r\n                                :\r\n                                <DynamicSlideout\r\n                                    selectedRecord={this.props.Login.selectedRecord}\r\n                                    templateData={this.props.Login.masterData.DynamicMasterDesign &&\r\n                                        this.props.Login.masterData.DynamicMasterDesign.slideoutdesign}\r\n                                    // handleChange={this.handleChange}\r\n                                    handleDateChange={this.handleDateChange}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    onNumericInputChange={this.onNumericInputChange}\r\n                                    comboData={this.props.Login.comboData}\r\n                                    onComboChange={this.onComboChange}\r\n                                    onDropFile={this.onDropFile}\r\n                                    deleteAttachment={this.deleteAttachment}\r\n                                    onNumericBlur={this.onNumericBlur}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    timeZoneList={this.props.Login.timeZoneList}\r\n                                    defaultTimeZone={this.props.Login.defaultTimeZone}\r\n                                    Login={this.props.Login}\r\n                                    addMasterRecord={this.addMasterRecord}\r\n                                    editMasterRecord={this.editMasterRecord}\r\n                                    userRoleControlRights={this.props.Login.userRoleControlRights}\r\n                                />\r\n                    }\r\n\r\n                /> : \"\"}\r\n        </>\r\n        );\r\n    }\r\n   \r\n\r\n    onSaveClickImportFile = (saveType, formRef) => {\r\n        //add \r\n        let inputFileData = { nsitecode: this.props.Login.userInfo.nmastersitecode };\r\n        let editData = {};\r\n        const formData = new FormData();\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.stemplatefilename;\r\n        if (acceptedFiles && acceptedFiles.length === 1) {\r\n            inputFileData['userinfo'] = this.props.Login.userInfo\r\n            if (acceptedFiles && acceptedFiles.length === 1) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    formData.append(\"uploadedFile\", file);\r\n                });\r\n            }\r\n            const dateList = [];\r\n            this.props.Login.masterData.DynamicMasterDesign.screendesign.masterdatefields.map(x => {\r\n                dateList.push(x['2'])\r\n            })\r\n\r\n            let mandatoryfields ={};\r\n            this.state.mandatoryFields.map(x=>{\r\n              mandatoryfields[x.dataField]=x.mandatory;\r\n\r\n            })\r\n            formData.append('mandatoryFields',Lims_JSON_stringify(JSON.stringify(mandatoryfields),false))\r\n            formData.append('comboComponents', Lims_JSON_stringify(JSON.stringify(this.state.comboComponents), false))\r\n            formData.append('masterdateconstraints', Lims_JSON_stringify(JSON.stringify(this.props.Login.masterData.DynamicMasterDesign.screendesign.masterdateconstraints), false))\r\n            formData.append('masterdatelist', Lims_JSON_stringify(JSON.stringify(dateList), false))\r\n            formData.append('mastercombinationunique', Lims_JSON_stringify(JSON.stringify(this.props.Login.masterData.DynamicMasterDesign.screendesign.mastercombinationunique), false))\r\n            formData.append('ndesigntemplatemappingcode', this.props.Login.masterData.DynamicMasterDesign.ndesigntemplatemappingcode)\r\n            const inputParam = {\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                methodUrl: this.props.Login.inputParam.methodUrl,\r\n                inputData: { userinfo: this.props.Login.userInfo },\r\n                formData: formData,\r\n                editData: editData,\r\n                isFileupload: true,\r\n                operation: this.props.Login.operation,\r\n                displayName: this.props.Login.inputParam.displayName,\r\n                saveType, formRef\r\n\r\n            }\r\n            const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\r\n            if (esignNeeded) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }),\r\n                        operation: this.props.Login.operation,\r\n                    },\r\n\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTTHEFILE\" }))\r\n        }\r\n    }\r\n\r\n    onComboChangeMasterDyanmic = (comboData, control, customName) => {\r\n\r\n        let comboName = customName || control.label;\r\n        let selectedMaster = this.state.selectedMaster || [];\r\n        const masterIndex = this.props.Login.masterIndex\r\n        selectedMaster[masterIndex] = selectedMaster[masterIndex] && { ...selectedMaster[masterIndex] } || {}\r\n        //if (comboData) {\r\n        comboData[\"item\"] = {\r\n            ...comboData[\"item\"], \"pkey\": control.valuemember, \"nquerybuildertablecode\": control.nquerybuildertablecode,\r\n            \"source\": control.source\r\n        };\r\n        selectedMaster[masterIndex][comboName] = comboData;\r\n\r\n        // console.log(\"selected:\", selectedMaster, comboData, control, customName);\r\n        if (control.child && control.child.length > 0) {\r\n            const childComboList = getSameRecordFromTwoArrays(this.props.Login.mastercomboComponents[masterIndex], control.child, \"label\")\r\n            let childColumnList = {};\r\n            childComboList.map(columnList => {\r\n                const val = this.comboChild(this.props.Login.mastercomboComponents[masterIndex], columnList, childColumnList, false);\r\n                childColumnList = val.childColumnList\r\n            })\r\n\r\n            const parentList = getSameRecordFromTwoArrays(this.props.Login.masterwithoutCombocomponent[masterIndex], control.child, \"label\")\r\n\r\n            if (comboData) {\r\n                const inputParem = {\r\n                    child: control.child,\r\n                    source: control.source,\r\n                    primarykeyField: control.valuemember,\r\n                    value: comboData.value,\r\n                    item: comboData.item\r\n                }\r\n                this.props.getChildValuesForAddMaster(inputParem,\r\n                    this.props.Login.userInfo, selectedMaster, this.props.Login.masterdataList,\r\n                    childComboList, childColumnList,\r\n                    this.props.Login.masterwithoutCombocomponent,\r\n                    [...childComboList, ...parentList], masterIndex)\r\n            } else {\r\n                let comboData = this.props.Login.masterdataList\r\n                const withoutCombocomponent = this.props.Login.masterwithoutCombocomponent || []\r\n                const inputParam = { control, comboComponents: this.props.Login.mastercomboComponents[masterIndex], withoutCombocomponent: withoutCombocomponent[masterIndex], selectedMaster: selectedMaster[masterIndex], comboData: comboData[masterIndex] }\r\n                const childParam = childComboClear(inputParam)\r\n                selectedMaster[masterIndex] = childParam.selectedRecord\r\n                comboData[masterIndex] = childParam.comboData\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { selectedMaster, mastedataList: comboData }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n        } else {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { selectedMaster }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n\r\n\r\n    onInputOnChangeMasterDynamic = (event, control, radiotext) => {\r\n        let selectedMaster = this.state.selectedMaster || [];\r\n        const masterIndex = this.props.Login.masterIndex\r\n        selectedMaster[masterIndex] = selectedMaster[masterIndex] && { ...selectedMaster[masterIndex] } || {}\r\n\r\n        if (event.target.type === 'toggle') {\r\n            selectedMaster[masterIndex][event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else if (event.target.type === 'numeric') {\r\n            if (/\\D/.test(event.target.value))\r\n                selectedMaster[masterIndex][event.target.name] = event.target.value;\r\n        } else if (event.target.type === 'checkbox') {\r\n            const value = selectedMaster[masterIndex][event.target.name];\r\n            if (value !== '' && value !== undefined) {\r\n                if (value.includes(radiotext)) {\r\n                    const index = value.indexOf(radiotext);\r\n                    if (index !== -1) {\r\n                        if (index === 0) {\r\n                            const indexcomma = value.indexOf(\",\")\r\n                            if (indexcomma !== -1) {\r\n                                selectedMaster[masterIndex][event.target.name] = value.slice(indexcomma + 1)\r\n                            } else {\r\n                                selectedMaster[masterIndex][event.target.name] = \"\"\r\n                            }\r\n                        } else {\r\n                            if (value.slice(index).indexOf(\",\") !== -1) {\r\n                                selectedMaster[masterIndex][event.target.name] = value.slice(0, index) + value.slice(index + value.slice(index).indexOf(\",\") + 1)\r\n                            } else {\r\n                                selectedMaster[masterIndex][event.target.name] = value.slice(0, index - 1)\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n                    selectedMaster[masterIndex][event.target.name] = value + ',' + radiotext;\r\n                }\r\n\r\n            } else {\r\n                selectedMaster[masterIndex][event.target.name] = radiotext;\r\n            }\r\n        } else if (event.target.type === 'radio') {\r\n            selectedMaster[masterIndex][event.target.name] = radiotext\r\n        } else {\r\n            selectedMaster[masterIndex][event.target.name] = conditionBasedInput(control, event.target.value, radiotext)\r\n            // selectedMaster[masterIndex][event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedMaster });\r\n    }\r\n\r\n\r\n    handleDateChangeMasterDynamic = (dateValue, dateName) => {\r\n        let selectedMaster = this.state.selectedMaster || [];\r\n        const masterIndex = this.props.Login.masterIndex\r\n        selectedMaster[masterIndex] = selectedMaster[masterIndex] && { ...selectedMaster[masterIndex] } || {}\r\n\r\n        selectedMaster[masterIndex][dateName] = dateValue;\r\n\r\n        this.setState({ selectedMaster });\r\n    }\r\n\r\n    onNumericInputChangeMasterDynamic = (value, name) => {\r\n        let selectedMaster = this.state.selectedMaster || [];\r\n        const masterIndex = this.props.Login.masterIndex\r\n        selectedMaster[masterIndex] = selectedMaster[masterIndex] && { ...selectedMaster[masterIndex] } || {}\r\n\r\n        selectedMaster[masterIndex][name] = value;\r\n        this.setState({ selectedMaster });\r\n    }\r\n\r\n    onNumericBlurMasterDynamic = (value, control) => {\r\n        let selectedMaster = this.state.selectedMaster || [];\r\n        const masterIndex = this.props.Login.masterIndex\r\n        selectedMaster[masterIndex] = selectedMaster[masterIndex] && { ...selectedMaster[masterIndex] } || {}\r\n\r\n        if (selectedMaster[masterIndex][control.label]) {\r\n            if (control.max) {\r\n                if (!(selectedMaster[masterIndex][control.label] < parseFloat(control.max))) {\r\n                    selectedMaster[masterIndex][control.label] = control.precision ? parseFloat(control.max) : parseInt(control.max)\r\n                }\r\n            }\r\n            if (control.min) {\r\n                if (!(selectedMaster[masterIndex][control.label] > parseFloat(control.min))) {\r\n                    selectedMaster[masterIndex][control.label] = control.precision ? parseFloat(control.min) : parseInt(control.min)\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n        this.setState({ selectedMaster });\r\n    }\r\n    onComboChangeMaster = (comboData, fieldName, item) => {\r\n        const selectedMaster = this.state.selectedMaster || [];\r\n        const masterIndex = this.props.Login.masterIndex\r\n        selectedMaster[masterIndex] = selectedMaster[masterIndex] && { ...selectedMaster[masterIndex] } || {}\r\n        if (comboData !== null) {\r\n            if (this.props.Login.selectedControl[masterIndex].table.item.nformcode === 137) {\r\n                selectedMaster[masterIndex][item.tableDataField] = comboData.value;\r\n            }\r\n            else if (item.foreignDataField) {\r\n                selectedMaster[masterIndex][item.foreignDataField] = comboData.value;\r\n            }\r\n        }\r\n        selectedMaster[masterIndex][fieldName] = comboData;\r\n        if (item.childIndex !== undefined) {\r\n            this.props.getChildComboMaster(selectedMaster, fieldName, item,\r\n                this.props.Login.selectedControl,\r\n                this.props.Login.masterfieldList,\r\n                this.props.Login.masterdataList, this.props.Login.userInfo, masterIndex)\r\n        } else {\r\n            this.setState({ selectedMaster });\r\n        }\r\n\r\n    }\r\n\r\n    handleDateChangeMaster = (dateName, dateValue, item) => {\r\n        //   const { selectedMaster } = this.state;\r\n        const selectedMaster = this.state.selectedMaster || [];\r\n        const masterIndex = this.props.Login.masterIndex\r\n        selectedMaster[masterIndex] = selectedMaster[masterIndex] && { ...selectedMaster[masterIndex] } || {}\r\n\r\n        selectedMaster[masterIndex][dateName] = dateValue;\r\n        const age = ageCalculate(dateValue);\r\n        selectedMaster[masterIndex][\"sage\"] = age;\r\n        this.setState({ selectedMaster });\r\n\r\n    }\r\n\r\n    onNumericInputOnChangeMaster = (value, name, item) => {\r\n        const selectedMaster = this.state.selectedMaster || [];\r\n        const masterIndex = this.props.Login.masterIndex\r\n        selectedMaster[masterIndex] = selectedMaster[masterIndex] && { ...selectedMaster[masterIndex] } || {}\r\n\r\n        selectedMaster[masterIndex][name] = value;\r\n        this.setState({ selectedMaster });\r\n    }\r\n\r\n\r\n\r\n    onInputOnChangeMaster = (event) => {\r\n        const selectedMaster = this.state.selectedMaster || [];\r\n        const masterIndex = this.props.Login.masterIndex\r\n        selectedMaster[masterIndex] = selectedMaster[masterIndex] && { ...selectedMaster[masterIndex] } || {}\r\n\r\n        if (event.target.type === 'checkbox') {\r\n            selectedMaster[masterIndex][event.target.name] = event.target.checked === true ? 3 : 4;\r\n            if (this.props.Login.selectedControl[masterIndex].table.item.nformcode === 137) {\r\n                if (selectedMaster[masterIndex].nneedcurrentaddress === 3) {\r\n                    selectedMaster[masterIndex].sflatnotemp = selectedMaster[masterIndex].sflatno;\r\n                    selectedMaster[masterIndex].shousenotemp = selectedMaster[masterIndex].shouseno;\r\n                    selectedMaster[masterIndex].spostalcodetemp = selectedMaster[masterIndex].spostalcode;\r\n                    selectedMaster[masterIndex].sstreettemp = selectedMaster[masterIndex].sstreet;\r\n                    selectedMaster[masterIndex].scitynametemp = selectedMaster[masterIndex].scityname;\r\n                    selectedMaster[masterIndex].sdistrictnametemp = selectedMaster[masterIndex].sdistrictname;\r\n                    selectedMaster[masterIndex].sregionnametemp = selectedMaster[masterIndex].sregionname;\r\n                }\r\n                else {\r\n                    selectedMaster[masterIndex].sflatnotemp = \"\";\r\n                    selectedMaster[masterIndex].shousenotemp = \"\";\r\n                    selectedMaster[masterIndex].spostalcodetemp = \"\";\r\n                    selectedMaster[masterIndex].sstreettemp = \"\";\r\n                    selectedMaster[masterIndex].scitynametemp = \"\";\r\n                    selectedMaster[masterIndex].sdistrictnametemp = \"\";\r\n                    selectedMaster[masterIndex].sregionnametemp = \"\";\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            selectedMaster[masterIndex][event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedMaster });\r\n    }\r\n\r\n    onSaveMasterRecord = (saveType, formRef) => {\r\n        //add / edit            \r\n        const masterIndex = this.props.Login.masterIndex;\r\n        let inputData = [];\r\n        const selectedControl = this.props.Login.selectedControl\r\n        const masterDesign = this.props.Login.masterDesign\r\n        inputData[\"userinfo\"] = { ...this.props.Login.userInfo, nformcode: selectedControl[masterIndex].table.item.nformcode };\r\n        inputData[selectedControl[masterIndex].table.item.methodUrl.toLowerCase()] = { \"nsitecode\": this.props.Login.userInfo.nmastersitecode };\r\n\r\n        const methodUrl = selectedControl[masterIndex].table.item.methodUrl.toLowerCase()\r\n        if (this.props.Login.masterOperation[masterIndex] === 'update') {\r\n            if (selectedControl[masterIndex].table.item.component === 'Dynamic') {\r\n                inputData[methodUrl][\"ndynamicmastercode\"] = this.props.Login.masterEditObject[masterIndex].item ?\r\n                    this.props.Login.masterEditObject[masterIndex].item.jsondata.ndynamicmastercode : this.props.Login.masterEditObject[masterIndex].ndynamicmastercode\r\n            }\r\n            else {\r\n                inputData[methodUrl][selectedControl[masterIndex][\"valuemember\"]] = this.props.Login.masterEditObject[masterIndex].value\r\n            }\r\n\r\n        }\r\n\r\n\r\n        if (selectedControl[masterIndex].table.item.component === 'Dynamic') {\r\n            const selectedMaster = this.state.selectedMaster;\r\n            inputData[\"userinfo\"] = { ...this.props.Login.userInfo, nformcode: selectedControl[masterIndex].table.item.nformcode };\r\n            inputData[\"masterdateconstraints\"] = masterDesign[masterIndex].screendesign.masterdateconstraints;\r\n            inputData[\"masterdatefields\"] = masterDesign[masterIndex].screendesign.masterdatefields;\r\n            inputData[\"mastercombinationunique\"] = masterDesign[masterIndex].screendesign.mastercombinationunique;\r\n            //add                          \r\n            inputData[\"dynamicmaster\"] = {\r\n                ...inputData[methodUrl],\r\n                nformcode: selectedControl[masterIndex].table.item.nformcode,\r\n                ndesigntemplatemappingcode: masterDesign[masterIndex].ndesigntemplatemappingcode,\r\n                jsondata: {}, jsonuidata: {}\r\n            };\r\n\r\n            const dateList = [];\r\n            const defaulttimezone = this.props.Login.defaulttimezone;\r\n\r\n            masterDesign[masterIndex] &&\r\n                masterDesign[masterIndex].slideoutdesign.map(row => {\r\n                    row.children.map(column => {\r\n                        column.children.map(component => {\r\n                            if (component.hasOwnProperty(\"children\")) {\r\n\r\n                                component.children.map(componentrow => {\r\n                                    if (componentrow.inputtype === \"combo\") {\r\n                                        inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label] = selectedMaster[componentrow.label] ?\r\n                                            {\r\n                                                value: selectedMaster[masterIndex][componentrow.label].value,\r\n                                                label: selectedMaster[masterIndex][componentrow.label].label,\r\n                                                pkey: componentrow.valuemember,\r\n                                                nquerybuildertablecode: componentrow.nquerybuildertablecode,\r\n                                                source: componentrow.source,\r\n                                                [componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]: this.props.Login.masterOperation[masterIndex] === 'update' ?\r\n                                                    selectedMaster[masterIndex][componentrow.label].item ? selectedMaster[masterIndex][componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] :\r\n                                                        selectedMaster[masterIndex][componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]\r\n                                                    :\r\n                                                    selectedMaster[masterIndex][componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]\r\n                                            } : -1\r\n\r\n                                        inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label] = selectedMaster[masterIndex][componentrow.label] ? selectedMaster[masterIndex][componentrow.label].label : \"\"\r\n\r\n                                    }\r\n                                    else if (componentrow.inputtype === \"date\") {\r\n                                        if (componentrow.mandatory) {\r\n                                            inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label] = formatDate(selectedMaster[masterIndex][componentrow.label], false)\r\n\r\n                                            inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label] = inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]\r\n                                            //inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label] = convertDateTimetoString(selectedRecord[componentrow.label], userInfo);\r\n                                        }\r\n                                        else {\r\n                                            inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ?\r\n                                                formatDate(selectedMaster[masterIndex][componentrow.label] || new Date(), false) :\r\n                                                selectedMaster[masterIndex][componentrow.label] ? formatDate(selectedMaster[masterIndex][componentrow.label], false)\r\n                                                    : \"\";\r\n\r\n                                            inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label] = inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label];\r\n                                            //convertDateTimetoString(selectedRecord[componentrow.label], userInfo);\r\n                                        }\r\n                                        if (componentrow.timezone) {\r\n                                            inputData[\"dynamicmaster\"][\"jsondata\"][`tz${componentrow.label}`] = selectedMaster[masterIndex][`tz${componentrow.label}`] ?\r\n                                                { value: selectedMaster[masterIndex][`tz${componentrow.label}`].value, label: selectedMaster[masterIndex][`tz${componentrow.label}`].label } :\r\n                                                defaulttimezone ? defaulttimezone : -1\r\n\r\n                                            inputData[\"dynamicmaster\"][\"jsonuidata\"][`tz${componentrow.label}`] = inputData[\"dynamicmaster\"][\"jsondata\"][`tz${componentrow.label}`]\r\n                                        }\r\n                                        dateList.push(componentrow.label)\r\n                                    }\r\n\r\n                                    else {\r\n                                        inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label] = selectedMaster[masterIndex][componentrow.label] ?\r\n                                            selectedMaster[masterIndex][componentrow.label] : \"\"\r\n\r\n                                        inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label] = inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]\r\n                                        // inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]\r\n\r\n                                    }\r\n                                    return inputData[\"dynamicmaster\"];\r\n                                })\r\n                            }\r\n                            else {\r\n                                if (component.inputtype === \"combo\") {\r\n                                    inputData[\"dynamicmaster\"][\"jsondata\"][component.label] = selectedMaster[masterIndex][component.label] ?\r\n                                        {\r\n                                            value: selectedMaster[masterIndex][component.label].value,\r\n                                            label: selectedMaster[masterIndex][component.label].label,\r\n                                            pkey: component.valuemember,\r\n                                            nquerybuildertablecode: component.nquerybuildertablecode,\r\n                                            source: component.source,\r\n                                            [component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]: this.props.Login.masterOperation[masterIndex] === 'update' ?\r\n                                                selectedMaster[masterIndex][component.label].item ? selectedMaster[masterIndex][component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] : selectedMaster[masterIndex][component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                                :\r\n                                                selectedMaster[masterIndex][component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                        } : -1\r\n\r\n                                    inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label] = inputData[\"dynamicmaster\"][\"jsondata\"][component.label].label;\r\n                                    //selectedRecord[component.label] ? selectedRecord[component.label].label : \"\"\r\n                                }\r\n                                else if (component.inputtype === \"date\") {\r\n                                    if (component.mandatory) {\r\n                                        inputData[\"dynamicmaster\"][\"jsondata\"][component.label] = formatDate(selectedMaster[masterIndex][component.label], false);\r\n                                        // convertDateTimetoString(selectedRecord[component.label] ?\r\n                                        // selectedRecord[component.label] : new Date(), userInfo);\r\n\r\n                                        inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label] = inputData[\"dynamicmaster\"][\"jsondata\"][component.label]\r\n                                        //convertDateTimetoString(selectedRecord[component.label], userInfo);\r\n\r\n                                    } else {\r\n                                        inputData[\"dynamicmaster\"][\"jsondata\"][component.label] = component.loadcurrentdate ?\r\n                                            //convertDateTimetoString(selectedRecord[component.label] ?                                      \r\n                                            //    selectedRecord[component.label] : new Date(), userInfo) :\r\n                                            formatDate(selectedMaster[masterIndex][component.label] || new Date(), false) :\r\n                                            selectedMaster[masterIndex][component.label] ?\r\n                                                // convertDateTimetoString(selectedRecord[component.label] ?\r\n                                                //   selectedRecord[component.label] : new Date(), userInfo) : \"\";\r\n                                                formatDate(selectedMaster[masterIndex][component.label], false) : \"\";\r\n                                        inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label] = inputData[\"dynamicmaster\"][\"jsondata\"][component.label]\r\n                                        //convertDateTimetoString(selectedRecord[component.label], userInfo)\r\n\r\n                                    }\r\n                                    if (component.timezone) {\r\n                                        inputData[\"dynamicmaster\"][\"jsondata\"][`tz${component.label}`] = selectedMaster[masterIndex][`tz${component.label}`] ?\r\n                                            { value: selectedMaster[masterIndex][`tz${component.label}`].value, label: selectedMaster[masterIndex][`tz${component.label}`].label } :\r\n                                            defaulttimezone ? defaulttimezone : -1\r\n\r\n                                        inputData[\"dynamicmaster\"][\"jsonuidata\"][`tz${component.label}`] = inputData[\"dynamicmaster\"][\"jsondata\"][`tz${component.label}`]\r\n                                    }\r\n                                    dateList.push(component.label)\r\n                                }\r\n                                else {\r\n                                    inputData[\"dynamicmaster\"][\"jsondata\"][component.label] = selectedMaster[masterIndex][component.label] ?\r\n                                        selectedMaster[masterIndex][component.label] : \"\"\r\n\r\n                                    inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label] = inputData[\"dynamicmaster\"][\"jsondata\"][component.label]\r\n                                }\r\n                            }\r\n                            return inputData[\"dynamicmaster\"];\r\n                        }\r\n                        )\r\n                        return inputData[\"dynamicmaster\"];\r\n                    })\r\n                    return inputData[\"dynamicmaster\"];\r\n                })\r\n\r\n\r\n            inputData[\"dynamicmaster\"][\"jsonstring\"] = JSON.stringify(inputData[\"dynamicmaster\"][\"jsondata\"]);\r\n            inputData[\"dynamicmaster\"][\"jsonuistring\"] = JSON.stringify(inputData[\"dynamicmaster\"][\"jsonuidata\"]);\r\n            inputData[\"masterdatelist\"] = dateList;\r\n\r\n\r\n        }\r\n        else if (selectedControl[masterIndex].table.item.component === 'Type3Component'\r\n            && selectedControl[masterIndex].table.item.nformcode === 137) {\r\n            inputData[\"noneedfilter\"] = true\r\n            this.props.Login.masterextractedColumnList[masterIndex].map(item => {\r\n                let fieldName = item.dataField;\r\n                if (item.isJsonField === true) {\r\n                    return inputData[methodUrl][item.jsonObjectName] = { ...inputData[methodUrl][item.jsonObjectName], [fieldName]: this.state.selectedMaster[masterIndex][fieldName] ? this.state.selectedMaster[masterIndex][fieldName] : \"\" }\r\n                }\r\n                else {\r\n                    if (item.controlType === \"selectbox\") {\r\n                        // inputData[methodUrl][fieldName] = this.state.selectedMaster[fieldName] ? this.state.selectedMaster[fieldName].label ? this.state.selectedMaster[fieldName].label : \"\" : -1;\r\n                        inputData[methodUrl][item.tableDataField] = this.state.selectedMaster[masterIndex][fieldName] ? this.state.selectedMaster[masterIndex][fieldName].value ? this.state.selectedMaster[masterIndex][fieldName].value : \"\" : -1;\r\n                        return inputData;\r\n                    }\r\n                    else if (item.controlType === \"datepicker\") {\r\n                        inputData[methodUrl][item.dateField] = formatInputDate(this.state.selectedMaster[masterIndex][fieldName] ? this.state.selectedMaster[masterIndex][fieldName] : \"\", false);\r\n                    }\r\n                    else if (item.controlType === \"checkbox\") {\r\n                        inputData[methodUrl][item.controlName] = this.state.selectedMaster[masterIndex][item.controlName] ? this.state.selectedMaster[masterIndex][item.controlName] : transactionStatus.NO;\r\n                    }\r\n                    else {\r\n                        inputData[methodUrl][fieldName] = this.state.selectedMaster[masterIndex][fieldName] ? this.state.selectedMaster[masterIndex][fieldName] : \"\";\r\n                    }\r\n                    // inputData[methodUrl][selectedRecordPrimarykey] = this.props.Login.selectedId;\r\n                    return inputData;\r\n                }\r\n            })\r\n        }\r\n        else {\r\n\r\n            this.props.Login.masterextractedColumnList[masterIndex].map(item => {\r\n                let fieldName = item.dataField;\r\n                if (item.isJsonField === true) {\r\n                    return inputData[methodUrl][item.jsonObjectName] = { ...inputData[methodUrl][item.jsonObjectName], [fieldName]: this.state.selectedMaster[masterIndex][fieldName] ? this.state.selectedMaster[masterIndex][fieldName] : \"\" }\r\n                }\r\n                else {\r\n                    if (item.controlType === \"selectbox\") {\r\n                        inputData[methodUrl][fieldName] = this.state.selectedMaster[masterIndex][fieldName] ? this.state.selectedMaster[masterIndex][fieldName].label ? this.state.selectedMaster[masterIndex][fieldName].label : \"\" : -1;\r\n                        inputData[methodUrl][item.foreignDataField] = this.state.selectedMaster[masterIndex][fieldName] ? this.state.selectedMaster[masterIndex][fieldName].value ? this.state.selectedMaster[masterIndex][fieldName].value : \"\" : -1;\r\n                        return inputData;\r\n                    }\r\n                    else if (item.controlType === \"datepicker\") {\r\n                        inputData[methodUrl][item.dateField] = formatInputDate(this.state.selectedMaster[masterIndex][fieldName] ? this.state.selectedMaster[masterIndex][fieldName] : \"\", false);\r\n                    }\r\n                    else if (item.controlType === \"checkbox\") {\r\n                        inputData[methodUrl][item.controlName] = this.state.selectedMaster[masterIndex][item.controlName] ? this.state.selectedMaster[masterIndex][item.controlName] : transactionStatus.NO;\r\n                    }\r\n                    else {\r\n                        inputData[methodUrl][fieldName] = this.state.selectedMaster[masterIndex][fieldName] ? this.state.selectedMaster[masterIndex][fieldName] : \"\";\r\n                    }\r\n                    // inputData[methodUrl][selectedRecordPrimarykey] = this.props.Login.selectedId;\r\n                    return inputData;\r\n                }\r\n            })\r\n        }\r\n        // }\r\n\r\n        const inputParam = {\r\n            userinfo: this.props.Login.userInfo,\r\n            withoutCombocomponent: this.state.withoutCombocomponent,\r\n            comboComponents: this.state.comboComponents,\r\n            selectedRecord: this.state.selectedRecord,\r\n            selectedRecordName: 'selectedRecord',\r\n            loadSubSample: false,\r\n            selectedControl: this.props.Login.selectedControl,\r\n            comboData: this.props.Login.comboData,\r\n            comboName: 'comboData',\r\n            classUrl: selectedControl[masterIndex].table.item.classUrl,\r\n            methodUrl: selectedControl[masterIndex].table.item.methodUrl,\r\n            displayName: this.props.Login.inputParam.displayName,// selectedControl[masterIndex].table.item.sdisplayname,\r\n            screenName: masterIndex !== 0 ?\r\n                selectedControl[masterIndex - 1].displayname[this.props.Login.userInfo.slanguagetypecode] : this.props.Login.inputParam.displayName,\r\n            inputData: inputData,\r\n            operation: this.props.Login.masterOperation[masterIndex],\r\n            masterEditObject: this.props.Login.masterEditObject,\r\n            masterOperation: this.props.Login.masterOperation, saveType, formRef,\r\n            masterIndex,\r\n            selectedMaster: this.state.selectedMaster,\r\n            mastercomboComponents: this.props.Login.mastercomboComponents,\r\n            masterwithoutCombocomponent: this.props.Login.masterwithoutCombocomponent,\r\n            masterComboColumnFiled: this.props.Login.masterComboColumnFiled,\r\n            masterextractedColumnList: this.props.Login.masterextractedColumnList,\r\n            masterdataList: this.props.Login.masterdataList,\r\n            masterDesign: this.props.Login.masterDesign,\r\n            masterfieldList: this.props.Login.masterfieldList,\r\n\r\n        }\r\n\r\n        this.props.addMasterRecord(inputParam, this.props.Login.masterData)\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    addMasterRecord = (control) => {\r\n        let masterIndex = this.props.Login.masterIndex\r\n        if (masterIndex !== undefined) {\r\n            masterIndex = masterIndex + 1;\r\n        } else {\r\n            masterIndex = 0\r\n        }\r\n        let selectedControl = this.props.Login.selectedControl || []\r\n        let selectedMaster = this.state.selectedMaster || []\r\n        selectedMaster[masterIndex] = {}\r\n        selectedControl[masterIndex] = control\r\n\r\n        let fieldList = this.props.Login.masterfieldList || []\r\n        fieldList[masterIndex] = []\r\n\r\n        let masterComboColumnFiled = this.props.Login.masterComboColumnFiled || []\r\n        masterComboColumnFiled[masterIndex] = []\r\n\r\n        let extractedColumnList = this.props.Login.masterextractedColumnList || []\r\n        extractedColumnList[masterIndex] = []\r\n\r\n        let masterdataList = this.props.Login.masterdataList || []\r\n        let masterDesign = this.props.Login.masterDesign || []\r\n        let masterwithoutCombocomponent = this.props.Login.masterwithoutCombocomponent || []\r\n        let mastercomboComponents = this.props.Login.mastercomboComponents || []\r\n        let masterOperation = this.props.Login.masterOperation || []\r\n\r\n        masterdataList[masterIndex] = []\r\n        masterDesign[masterIndex] = []\r\n        masterwithoutCombocomponent[masterIndex] = []\r\n        mastercomboComponents[masterIndex] = []\r\n        masterOperation[masterIndex] = 'create'\r\n\r\n        if (control.table.item.component === 'Type2Component' || control.table.item.component === 'Type1Component') {\r\n            if (control.table.item.component === 'Type2Component') {\r\n                fieldList[masterIndex] = getFieldSpecification().get(control.table.item.methodUrl) || [];\r\n            } else {\r\n                fieldList[masterIndex] = getFieldSpecification1().get(control.table.item.methodUrl) || [];\r\n            }\r\n\r\n\r\n            extractedColumnList[masterIndex] = extractFieldHeader(Object.values(fieldList[masterIndex]));\r\n\r\n            const primaryKeyField = Object.keys(fieldList[masterIndex]).length > 0 ? fieldList[masterIndex][0].dataField : \"\";\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    selectedControl,\r\n                    addMaster: true,\r\n                    masterfieldList: fieldList,\r\n                    masterextractedColumnList: extractedColumnList,\r\n                    masterprimaryKeyField: primaryKeyField,\r\n                    masterComboColumnFiled: masterComboColumnFiled,\r\n                    masterIndex,\r\n                    masterdataList,\r\n                    masterDesign,\r\n                    masterwithoutCombocomponent,\r\n                    mastercomboComponents,\r\n                    masterOperation,\r\n                    selectedMaster,\r\n                    screenName: selectedControl[masterIndex].displayname[this.props.Login.userInfo.slanguagetypecode]\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo)\r\n        }\r\n        else if (control.table.item.component === 'Type3Component') {\r\n            fieldList[masterIndex] = getFieldSpecification3().get(control.table.item.methodUrl) || [];\r\n            extractedColumnList[masterIndex] = extractFieldHeader(Object.values(fieldList[masterIndex]));\r\n            masterComboColumnFiled[masterIndex] = extractedColumnList[masterIndex].filter(item =>\r\n                item.ndesigncomponentcode === designComponents.COMBOBOX)\r\n            const primaryKeyField = Object.keys(fieldList[masterIndex]).length > 0 ? fieldList[masterIndex][0].dataField : \"\";\r\n            const inputParam = {\r\n                userinfo: this.props.Login.userInfo,\r\n                selectedControl,\r\n                masterfieldList: fieldList,\r\n                masterextractedColumnList: extractedColumnList,\r\n                masterprimaryKeyField: primaryKeyField,\r\n                masterComboColumnFiled: masterComboColumnFiled,\r\n                masterIndex,\r\n                masterdataList,\r\n                masterDesign,\r\n                masterwithoutCombocomponent,\r\n                mastercomboComponents,\r\n                selectedMaster,\r\n                masterOperation,\r\n                screenName: selectedControl[masterIndex].displayname[this.props.Login.userInfo.slanguagetypecode]\r\n            }\r\n\r\n            this.props.getAddMasterCombo(inputParam);\r\n\r\n        }\r\n        else if (control.table.item.component === 'Dynamic') {\r\n            const inputParam = {\r\n                userinfo: this.props.Login.userInfo,\r\n                selectedControl,\r\n                masterIndex,\r\n                masterdataList,\r\n                masterDesign,\r\n                masterComboColumnFiled,\r\n                masterwithoutCombocomponent,\r\n                mastercomboComponents,\r\n                masterfieldList: fieldList,\r\n                masterextractedColumnList: extractedColumnList,\r\n                masterComboColumnFiled,\r\n                masterOperation,\r\n                selectedMaster\r\n            }\r\n            this.props.getDynamicMasterTempalte(inputParam);\r\n        }\r\n\r\n        // this.props.getMasterRecord(control);\r\n    }\r\n\r\n\r\n    editMasterRecord = (control, editObject) => {\r\n        if (editObject) {\r\n            let masterIndex = this.props.Login.masterIndex\r\n            if (masterIndex !== undefined) {\r\n                masterIndex = masterIndex + 1;\r\n            } else {\r\n                masterIndex = 0\r\n            }\r\n            let selectedControl = this.props.Login.selectedControl || []\r\n            let selectedMaster = this.state.selectedMaster || []\r\n            selectedMaster[masterIndex] = {}\r\n            selectedControl[masterIndex] = control\r\n\r\n            let fieldList = this.props.Login.masterfieldList || []\r\n            fieldList[masterIndex] = []\r\n\r\n            let masterComboColumnFiled = this.props.Login.masterComboColumnFiled || []\r\n            masterComboColumnFiled[masterIndex] = []\r\n\r\n            let extractedColumnList = this.props.Login.masterextractedColumnList || []\r\n            extractedColumnList[masterIndex] = []\r\n\r\n            let masterdataList = this.props.Login.masterdataList || []\r\n            let masterDesign = this.props.Login.masterDesign || []\r\n            let masterwithoutCombocomponent = this.props.Login.masterwithoutCombocomponent || []\r\n            let mastercomboComponents = this.props.Login.mastercomboComponents || []\r\n            let masterOperation = this.props.Login.masterOperation || []\r\n            let masterEditObject = this.props.Login.masterEditObject || []\r\n\r\n            masterdataList[masterIndex] = []\r\n            masterDesign[masterIndex] = []\r\n            masterwithoutCombocomponent[masterIndex] = []\r\n            mastercomboComponents[masterIndex] = []\r\n            masterOperation[masterIndex] = 'update'\r\n            masterEditObject[masterIndex] = editObject\r\n\r\n            if (control.table.item.component === 'Type2Component' || control.table.item.component === 'Type1Component') {\r\n                if (control.table.item.component === 'Type2Component') {\r\n                    fieldList[masterIndex] = getFieldSpecification().get(control.table.item.methodUrl) || [];\r\n                } else {\r\n                    fieldList[masterIndex] = getFieldSpecification1().get(control.table.item.methodUrl) || [];\r\n                }\r\n                extractedColumnList[masterIndex] = extractFieldHeader(Object.values(fieldList[masterIndex]));\r\n\r\n                const primaryKeyField = Object.keys(fieldList[masterIndex]).length > 0 ? fieldList[masterIndex][0].dataField : \"\";\r\n\r\n                const updateInfo = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    selectedControl,\r\n                    addMaster: true,\r\n                    masterfieldList: fieldList,\r\n                    masterextractedColumnList: extractedColumnList,\r\n                    masterprimaryKeyField: primaryKeyField,\r\n                    masterComboColumnFiled: masterComboColumnFiled,\r\n                    masterIndex,\r\n                    masterdataList,\r\n                    masterDesign,\r\n                    masterwithoutCombocomponent,\r\n                    mastercomboComponents,\r\n                    selectedMaster,\r\n                    masterEditObject,\r\n                    masterOperation\r\n                    // editObject\r\n                    //   screenName:selectedControl[masterIndex].displayname[this.props.Login.userInfo.slanguagetypecode]\r\n\r\n                }\r\n                this.props.getEditMaster(updateInfo)\r\n            }\r\n            else if (control.table.item.component === 'Type3Component') {\r\n                fieldList[masterIndex] = getFieldSpecification3().get(control.table.item.methodUrl) || [];\r\n                extractedColumnList[masterIndex] = extractFieldHeader(Object.values(fieldList[masterIndex]));\r\n                masterComboColumnFiled[masterIndex] = extractedColumnList[masterIndex].filter(item =>\r\n                    item.ndesigncomponentcode === designComponents.COMBOBOX)\r\n                const primaryKeyField = Object.keys(fieldList[masterIndex]).length > 0 ? fieldList[masterIndex][0].dataField : \"\";\r\n                const inputParam = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    selectedControl,\r\n                    masterfieldList: fieldList,\r\n                    masterextractedColumnList: extractedColumnList,\r\n                    masterprimaryKeyField: primaryKeyField,\r\n                    masterComboColumnFiled: masterComboColumnFiled,\r\n                    masterIndex,\r\n                    masterdataList,\r\n                    masterDesign,\r\n                    masterwithoutCombocomponent,\r\n                    mastercomboComponents,\r\n                    masterEditObject,\r\n                    masterOperation,\r\n                    selectedMaster,\r\n                    screenName: selectedControl[masterIndex].displayname[this.props.Login.userInfo.slanguagetypecode],\r\n                    // editObject\r\n                }\r\n\r\n                this.props.getEditMaster(inputParam);\r\n\r\n            }\r\n            else if (control.table.item.component === 'Dynamic') {\r\n                const inputParam = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    selectedControl,\r\n                    masterIndex,\r\n                    masterdataList,\r\n                    masterDesign,\r\n                    masterComboColumnFiled,\r\n                    masterwithoutCombocomponent,\r\n                    mastercomboComponents,\r\n                    masterfieldList: fieldList,\r\n                    masterextractedColumnList: extractedColumnList,\r\n                    masterComboColumnFiled,\r\n                    masterEditObject,\r\n                    masterOperation,\r\n                    selectedMaster,\r\n                    //  editObject\r\n                }\r\n                this.props.getEditMaster(inputParam);\r\n            }\r\n\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTTHERECORD\" }))\r\n        }\r\n\r\n    }\r\n\r\n    openModal = () => {\r\n\r\n        const addId = this.props.Login.inputParam && this.state.controlMap.has(\"Add\")\r\n            && this.state.controlMap.get(\"Add\").ncontrolcode;\r\n\r\n        this.props.getDynamicMasterCombo(this.props.Login.masterData, this.props.Login.userInfo, addId,\r\n            this.state.designData, this.state.selectedRecord, this.state.childColumnList,\r\n            this.state.comboComponents, this.state.withoutCombocomponent,\r\n            false, true, new Map(), true, \"create\", this.props.Login.displayName);\r\n    }\r\n\r\n    fetchRecord = (fetchRecordParam) => {\r\n\r\n        this.props.getEditDynamicMasterCombo(fetchRecordParam,\r\n            this.state.designData, this.state.selectedRecord, this.state.childColumnList,\r\n            this.state.comboComponents, this.state.withoutCombocomponent)\r\n\r\n    }\r\n\r\n\r\n    onNumericBlur = (value, control) => {\r\n        let selectedRecord = this.state.selectedRecord\r\n        if (selectedRecord[control.label]) {\r\n            if (control.max) {\r\n                if (!(selectedRecord[control.label] < parseFloat(control.max))) {\r\n                    selectedRecord[control.label] = control.precision ? parseFloat(control.max) : parseInt(control.max)\r\n                }\r\n            }\r\n            if (control.min) {\r\n                if (!(selectedRecord[control.label] > parseFloat(control.min))) {\r\n                    selectedRecord[control.label] = control.precision ? parseFloat(control.min) : parseInt(control.min)\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    comboChild = (data, columnList, childColumnList, slice) => {\r\n        let retunObj = {}\r\n        // if (data.findIndex(x => x.label === columnList.label) !== -1) {\r\n        if (!childColumnList.hasOwnProperty(columnList.label)) {\r\n            if (childColumnList[columnList.label] === undefined) {\r\n                if (columnList.hasOwnProperty(\"child\")) {\r\n                    let childList = []\r\n                    columnList.child.map(childData => {\r\n                        const index = data.findIndex(x => x.label === childData.label)\r\n                        if (index !== -1) {\r\n                            childList.push(data[index])\r\n                            if (slice) {\r\n                                data = [...data.slice(0, index), ...data.slice(index + 1)]\r\n                            }\r\n                        }\r\n                    })\r\n                    childColumnList[columnList.label] = childList;\r\n                    if (childList.length > 0) {\r\n                        childList.map(y => {\r\n                            if (y.hasOwnProperty(\"child\")) {\r\n                                const val = this.comboChild(data, y, childColumnList, slice)\r\n                                retunObj[\"data\"] = val.data;\r\n                                retunObj[\"childColumnList\"] = val.childColumnList;\r\n                            } else {\r\n                                retunObj[\"data\"] = data;\r\n                                retunObj[\"childColumnList\"] = childColumnList;\r\n                            }\r\n                        })\r\n                    } else {\r\n                        retunObj[\"data\"] = data;\r\n                        retunObj[\"childColumnList\"] = childColumnList;\r\n                    }\r\n                } else {\r\n                    retunObj[\"data\"] = data;\r\n                    retunObj[\"childColumnList\"] = childColumnList;\r\n                }\r\n            } else {\r\n                retunObj[\"data\"] = data;\r\n                retunObj[\"childColumnList\"] = childColumnList;\r\n\r\n            }\r\n        } else {\r\n            retunObj[\"data\"] = data;\r\n            retunObj[\"childColumnList\"] = childColumnList;\r\n\r\n        }\r\n        return retunObj;\r\n    }\r\n\r\n    onComboChange = (comboData, control, customName) => {\r\n\r\n        let comboName = customName || control.label;\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (comboData) {\r\n            comboData[\"item\"] = {\r\n                ...comboData[\"item\"], \"pkey\": control.valuemember, \"nquerybuildertablecode\": control.nquerybuildertablecode,\r\n                \"source\": control.source\r\n            };\r\n            selectedRecord[comboName] = comboData;\r\n        } else {\r\n            selectedRecord[comboName] = [];\r\n        }\r\n        if (control.child && control.child.length > 0) {\r\n            const childComboList = getSameRecordFromTwoArrays(this.state.comboComponents, control.child, \"label\")\r\n            let childColumnList = {};\r\n            childComboList.map(columnList => {\r\n                const val = this.comboChild(this.state.comboComponents, columnList, childColumnList, false);\r\n                childColumnList = val.childColumnList\r\n            })\r\n\r\n            const parentList = getSameRecordFromTwoArrays(this.state.withoutCombocomponent, control.child, \"label\")\r\n\r\n            const inputParem = {\r\n                child: control.child,\r\n                source: control.source,\r\n                primarykeyField: control.valuemember,\r\n                value: comboData.value,\r\n                item: comboData.item\r\n            }\r\n            this.props.getChildValues(inputParem,\r\n                this.props.Login.userInfo, selectedRecord, this.props.Login.comboData,\r\n                childComboList, childColumnList, this.state.withoutCombocomponent, [...childComboList, ...parentList])\r\n        } else {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { selectedRecord }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n\r\n    onNumericInputChange = (value, name) => {\r\n        let selectedRecord = this.state.selectedRecord\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    handleDateChange = (dateValue, dateName) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onDrop = (value, type, oldVlaue) => {\r\n        const design = this.state.design;\r\n        let columns = design[0].children;\r\n        let designData = this.props.Login.ReactInputFields;\r\n        value = JSON.parse(value.fields);\r\n        value = { ...value, type: \"component\" }\r\n        let designDataIndex = designData.findIndex(item => item.label === value.label);\r\n        let firstIndex = columns[0] ? columns[0].children.findIndex(item => item.label === value.label) : -1;\r\n        let secondIndex = columns[1] ? columns[1].children.findIndex(item => item.label === value.label) : -1;\r\n\r\n        if (designDataIndex >= 0)\r\n            designData.splice(designDataIndex, 1);\r\n        if (firstIndex >= 0) {\r\n            if (type !== 1) {\r\n                columns[0].children.splice(firstIndex, 1);\r\n                // columns[0].splice(to, 0, columns[0].splice(from, 1)[0]);\r\n            } else {\r\n                if (oldVlaue) {\r\n                    oldVlaue = JSON.parse(oldVlaue);\r\n                    let from = columns[0].children.findIndex(item => item.label === value.label);\r\n                    let to = columns[0].children.findIndex(item => item.label === oldVlaue.label);\r\n                    columns[0].children.splice(to, 0, columns[0].children.splice(from, 1)[0]);\r\n                }\r\n            }\r\n\r\n        } else if (type === 1) {\r\n            if (columns[0]) {\r\n                columns[0].children.push(value);\r\n            } else {\r\n                columns[0] = {\r\n                    id: \"1\",\r\n                    type: \"column\",\r\n                    children: []\r\n                }\r\n\r\n                columns[0].children.push(value);\r\n            }\r\n        }\r\n        if (secondIndex >= 0) {\r\n            if (type !== 2) {\r\n                columns[1].splice(secondIndex, 1);\r\n            } else {\r\n                if (oldVlaue) {\r\n                    oldVlaue = JSON.parse(oldVlaue);\r\n                    let from = columns[1].children.findIndex(item => item.label === value.label);\r\n                    let to = columns[1].children.findIndex(item => item.label === oldVlaue.label);\r\n                    columns[1].children.splice(to, 0, columns[1].children.splice(from, 1)[0]);\r\n                }\r\n            }\r\n        } else if (type === 2) {\r\n            if (columns[1]) {\r\n                columns[1].children.push(value);\r\n            } else {\r\n                columns[1] = {\r\n                    id: \"2\",\r\n                    type: \"column\",\r\n                    children: []\r\n                }\r\n                columns[1].children.push(value);\r\n            }\r\n        }\r\n\r\n        // design.push(columns)\r\n        this.setState({ designData, design })\r\n    }\r\n\r\n    onDropFile = (attachedFiles, fieldName, maxSize) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\" //fileToDelete:file.name \r\n        });\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.extractedColumnList = [];\r\n                this.detailedColumnList = [];\r\n\r\n\r\n\r\n                let data = [];\r\n                const withoutCombocomponent = [];\r\n                const mandatoryFields = [];\r\n                const Layout = (this.props.Login.masterData.DynamicMasterDesign && this.props.Login.masterData.DynamicMasterDesign.slideoutdesign) || [];\r\n                Layout.map(row => {\r\n                    row.children.map(column => {\r\n                        column.children.map(component => {\r\n                            if (component.hasOwnProperty(\"children\")) {\r\n                                component.children.map(componentrow => {\r\n                                    if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"backendsearchfilter\"\r\n                                        || componentrow.inputtype === \"frontendsearchfilter\") {\r\n                                        data.push(componentrow)\r\n                                    } else {\r\n                                        withoutCombocomponent.push(componentrow)\r\n                                    }\r\n                                    if (componentrow.mandatory === true) {\r\n                                        if (componentrow.inputtype === \"email\") {\r\n                                            mandatoryFields.push({\r\n                                                \"mandatory\": true, \"idsName\": componentrow.label,\r\n                                                \"dataField\": componentrow.label,\r\n                                                \"alertPreFix\": this.props.intl.formatMessage({ id: \"IDS_VALID\" }),\r\n                                                \"validateFunction\": validateEmail,\r\n                                                \"mandatoryLabel\": \"IDS_ENTER\",\r\n                                                \"controlType\": \"textbox\"\r\n                                            })\r\n                                        }\r\n                                        else {\r\n                                            mandatoryFields.push({\r\n                                                \"mandatory\": true,\r\n                                                \"idsName\": componentrow.label,\r\n                                                \"dataField\": componentrow.label,\r\n                                                \"mandatoryLabel\": componentrow.inputtype === \"combo\" ?\r\n                                                    \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                                \"controlType\": componentrow.inputtype === \"combo\" ?\r\n                                                    \"selectbox\" : \"textbox\"\r\n                                            })\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n                            else {\r\n                                component.inputtype === \"combo\" || component.inputtype === \"backendsearchfilter\"\r\n                                    || component.inputtype === \"frontendsearchfilter\" ?\r\n                                    data.push(component)\r\n                                    : withoutCombocomponent.push(component)\r\n\r\n                                if (component.mandatory === true) {\r\n                                    if (component.inputtype === \"email\") {\r\n                                        mandatoryFields.push({\r\n                                            \"mandatory\": true, \"idsName\": component.label,\r\n                                            \"dataField\": component.label,\r\n                                            \"alertPreFix\": this.props.intl.formatMessage({ id: \"IDS_VALID\" }),\r\n                                            \"validateFunction\": validateEmail,\r\n                                            \"mandatoryLabel\": \"IDS_ENTER\",\r\n                                            \"controlType\": \"textbox\"\r\n                                        })\r\n                                    }\r\n                                    else {\r\n                                        mandatoryFields.push({\r\n                                            \"mandatory\": true,\r\n                                            \"idsName\": component.label,\r\n                                            \"dataField\": component.label,\r\n                                            \"mandatoryLabel\": component.inputtype === \"combo\" ?\r\n                                                \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                            \"controlType\": component.inputtype === \"combo\" ?\r\n                                                \"selectbox\" : \"textbox\"\r\n                                        })\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n\r\n                if (this.props.Login.masterData && this.props.Login.masterData.DynamicMasterDesign &&\r\n                    this.props.Login.masterData.DynamicMasterDesign.screendesign) {\r\n                    this.props.Login.masterData.DynamicMasterDesign.screendesign.griditem.map(row => {\r\n                        this.extractedColumnList.push({\r\n                            \"idsName\": row[\"1\"][this.props.Login.userInfo.slanguagetypecode],\r\n                            \"dataField\": row[\"2\"],\r\n                            \"width\": \"150\",\r\n                            \"dateField\": withoutCombocomponent.findIndex(x => x.label === row[\"2\"] && x.inputtype === 'date') !== -1 ? true : false,\r\n                            \"dataType\": withoutCombocomponent.filter(x => x.label === row[\"2\"]).map(x => x.inputtype)\r\n                        });\r\n                    })\r\n                    this.props.Login.masterData.DynamicMasterDesign.screendesign.gridmoreitem.map(row => {\r\n                        this.detailedColumnList.push({\r\n                            \"idsName\": row[\"1\"][this.props.Login.userInfo.slanguagetypecode],\r\n                            \"dataField\": row[\"2\"],\r\n                            \"dateField\": withoutCombocomponent.findIndex(x => x.label === row[\"2\"] && x.inputtype === 'date') !== -1 ? true : false,\r\n                            \"dataType\": withoutCombocomponent.filter(x => x.label === row[\"2\"]).map(x => x.inputtype)\r\n                        });\r\n                    })\r\n\r\n                }\r\n                const comboComponents = data;\r\n                let childColumnList = {};\r\n                data.map(columnList => {\r\n                    const val = this.comboChild(data, columnList, childColumnList, true);\r\n                    data = val.data;\r\n                    childColumnList = val.childColumnList\r\n                })\r\n\r\n                const masterData = this.props.Login.masterData.DynamicMasterData ? sortData(this.props.Login.masterData.DynamicMasterData, \"descending\", \"ndynamicmastercode\") : [];\r\n\r\n                this.setState({\r\n                    withoutCombocomponent, comboComponents, childColumnList, designData: data, mandatoryFields,\r\n                    userRoleControlRights, controlMap, data: this.props.Login.masterData.DynamicMasterData || [],\r\n                    dataResult: process(masterData || [], this.state.dataState),\r\n                });\r\n            }\r\n            else {\r\n                let { dataState } = this.state;\r\n                if (this.props.Login.dataState === undefined) {\r\n                    dataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 }\r\n                }\r\n\r\n                const masterData = this.props.Login.masterData.DynamicMasterData ? sortData(this.props.Login.masterData.DynamicMasterData, \"descending\", \"ndynamicmastercode\") : [];\r\n\r\n                this.setState({\r\n                    data: this.props.Login.masterData.DynamicMasterData || [], selectedRecord: this.props.Login.selectedRecord,\r\n                    dataResult: process(masterData || [], dataState),\r\n                    dataState//, comboComponents, withoutCombocomponent\r\n                });\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.selectedMaster !== previousProps.Login.selectedMaster) {\r\n            this.setState({ selectedMaster: this.props.Login.selectedMaster });\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n    }\r\n\r\n    onInputOnChange = (event, control, value) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n\r\n        if (event.target.type === 'toggle') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else if (event.target.type === 'numeric') {\r\n            if (/\\D/.test(event.target.value))\r\n                selectedRecord[event.target.name] = event.target.value;\r\n        } else if (event.target.type === 'checkbox') {\r\n            const value1 = selectedRecord[event.target.name];\r\n            if (value1 !== '' && value1 !== undefined) {\r\n                if (value1.toLowerCase().includes(value.toLowerCase())) {\r\n                    const index = value1.toLowerCase().indexOf(value.toLowerCase());\r\n                    if (index !== -1) {\r\n                        if (index === 0) {\r\n                            const indexcomma = value1.indexOf(\",\")\r\n                            if (indexcomma !== -1) {\r\n                                selectedRecord[event.target.name] = value1.slice(indexcomma + 1)\r\n                            } else {\r\n                                selectedRecord[event.target.name] = \"\"\r\n                            }\r\n                        } else {\r\n                            if (value1.slice(index).indexOf(\",\") !== -1) {\r\n                                selectedRecord[event.target.name] = value1.slice(0, index) + value1.slice(index + value1.slice(index).indexOf(\",\") + 1)\r\n                            } else {\r\n                                selectedRecord[event.target.name] = value1.slice(0, index - 1)\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n                    selectedRecord[event.target.name] = value1 + ',' + value;\r\n                }\r\n\r\n            } else {\r\n                selectedRecord[event.target.name] = value;\r\n            }\r\n        } else if (event.target.type === 'radio') {\r\n            selectedRecord[event.target.name] = value\r\n        } else {\r\n            selectedRecord[event.target.name] = conditionBasedInput(control, event.target.value, control && control.label)\r\n            // if (control.isnumeric === true\r\n            //     && control.label===value) {\r\n            // selectedRecord[event.target.name] = event.target.value.replace(/[^0-9]/g, '');\r\n            //     } else {\r\n            //         selectedRecord[event.target.name] = event.target.value;\r\n            //     }\r\n            // selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    import = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal: true, screenName: this.props.Login.displayName, operation: \"import\" }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    //deleteRecord = (selectedRecord, operation, ncontrolCode) => {\r\n    deleteRecord = (deleteParam) => {\r\n        const inputParam = {\r\n            classUrl: \"dynamicmaster\",\r\n            methodUrl: \"DynamicMaster\",\r\n            displayName: this.props.Login.displayName,\r\n            inputData: {\r\n                [\"dynamicmaster\"]: { \"ndynamicmastercode\": deleteParam.selectedRecord.ndynamicmastercode },//.dataItem,\r\n                \"userinfo\": this.props.Login.userInfo\r\n            },\r\n            operation: \"delete\",\r\n            dataState: this.state.dataState\r\n        }\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: this.props.Login.displayName,\r\n                    operation: \"delete\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    reloadData = () => {\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: this.props.Login.inputParam.methodUrl,\r\n            userInfo: this.props.Login.userInfo,\r\n            displayName: this.props.Login.inputParam.displayName\r\n        };\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        //add / edit  \r\n        let isFileupload = true;\r\n        let inputData = {};\r\n        let dataState = undefined;\r\n        let methodUrl = \"DynamicMaster\";\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"masterdateconstraints\"] = this.props.Login.masterData.DynamicMasterDesign.screendesign.masterdateconstraints;\r\n        inputData[\"masterdatefields\"] = this.props.Login.masterData.DynamicMasterDesign.screendesign.masterdatefields;\r\n        inputData[\"mastercombinationunique\"] = this.props.Login.masterData.DynamicMasterDesign.screendesign.mastercombinationunique;\r\n        inputData[\"isFileupload\"] = false;\r\n        let selectedId = null;\r\n        let operation = \"\";\r\n        let selectedRecord = this.state.selectedRecord;\r\n        if (this.props.Login.operation === \"update\") {    // edit\r\n            dataState = this.state.dataState\r\n            inputData[\"dynamicmaster\"] = { ndynamicmastercode: this.state.selectedRecord[\"ndynamicmastercode\"] };//this.state.selectedRecord;\r\n            inputData[\"dynamicmaster\"][\"jsondata\"] = {};\r\n            inputData[\"dynamicmaster\"][\"jsonuidata\"] = {};\r\n            selectedId = this.props.Login.selectedId;\r\n            operation = \"update\";\r\n        }\r\n        else {\r\n            //add                          \r\n            inputData[\"dynamicmaster\"] = { //\"nsitecode\": this.props.Login.userInfo.nmastersitecode, \r\n                nformcode: this.props.Login.userInfo.nformcode,\r\n                ndesigntemplatemappingcode: this.props.Login.masterData.DynamicMasterDesign.ndesigntemplatemappingcode,\r\n                jsondata: {}, jsonuidata: {}\r\n            };\r\n\r\n            operation = \"create\";\r\n\r\n        }\r\n\r\n        const dateList = [];\r\n        const defaulttimezone = this.props.Login.defaulttimezone;\r\n        const userInfo = this.props.Login.userInfo;\r\n\r\n        this.props.Login.masterData.DynamicMasterDesign &&\r\n            this.props.Login.masterData.DynamicMasterDesign.slideoutdesign.map(row => {\r\n                row.children.map(column => {\r\n                    column.children.map(component => {\r\n                        if (component.hasOwnProperty(\"children\")) {\r\n\r\n                            component.children.map(componentrow => {\r\n                                if (componentrow.inputtype === \"combo\") {\r\n                                    inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                        {\r\n                                            value: selectedRecord[componentrow.label].value,\r\n                                            label: selectedRecord[componentrow.label].label,\r\n                                            pkey: componentrow.valuemember,\r\n                                            nquerybuildertablecode: componentrow.nquerybuildertablecode,\r\n                                            source: componentrow.source,\r\n\r\n                                            [componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]: operation === \"update\" ?\r\n                                                selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] :\r\n                                                    selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]\r\n                                                :\r\n                                                selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]\r\n                                        } : -1\r\n\r\n                                    inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\"\r\n\r\n                                }\r\n                                else if (componentrow.inputtype === \"date\") {\r\n                                    if (componentrow.mandatory) {\r\n                                        inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label] = formatDate(selectedRecord[componentrow.label], false)\r\n\r\n                                        inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label] = inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]\r\n                                        //inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label] = convertDateTimetoString(selectedRecord[componentrow.label], userInfo);\r\n                                    }\r\n                                    else {\r\n                                        inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ?\r\n                                            formatDate(selectedRecord[componentrow.label] || new Date(), false) :\r\n                                            selectedRecord[componentrow.label] ? formatDate(selectedRecord[componentrow.label], false)\r\n                                                : \"\";\r\n\r\n                                        inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label] = inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label];\r\n                                        //convertDateTimetoString(selectedRecord[componentrow.label], userInfo);\r\n                                    }\r\n                                    if (componentrow.timezone) {\r\n                                        inputData[\"dynamicmaster\"][\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\r\n                                            { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\r\n                                            defaulttimezone ? defaulttimezone : -1\r\n\r\n                                        inputData[\"dynamicmaster\"][\"jsonuidata\"][`tz${componentrow.label}`] = inputData[\"dynamicmaster\"][\"jsondata\"][`tz${componentrow.label}`]\r\n                                    }\r\n                                    dateList.push(componentrow.label)\r\n                                }\r\n\r\n                                else {\r\n                                    inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                        selectedRecord[componentrow.label] : \"\"\r\n\r\n                                    inputData[\"dynamicmaster\"][\"jsonuidata\"][componentrow.label] = inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]\r\n                                    // inputData[\"dynamicmaster\"][\"jsondata\"][componentrow.label]\r\n\r\n                                }\r\n                                return inputData[\"dynamicmaster\"];\r\n                            })\r\n                        }\r\n                        else {\r\n                            if (component.inputtype === \"combo\" ) {\r\n                                if(selectedRecord[component.label].length ===0){\r\n                                    inputData[\"dynamicmaster\"][\"jsondata\"][component.label] = -1;\r\n                                    inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label] = \"\";\r\n\r\n                                }else{\r\n                                    inputData[\"dynamicmaster\"][\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                    {\r\n                                        value: selectedRecord[component.label].value,\r\n                                        label: selectedRecord[component.label].label,\r\n                                        pkey: component.valuemember,\r\n                                        nquerybuildertablecode: component.nquerybuildertablecode,\r\n                                        source: component.source,\r\n\r\n                                        [component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                        : operation === \"update\" ?\r\n                                            selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata && selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] :\r\n                                                selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                            :\r\n                                            selectedRecord[component.label].item.jsondata && selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                    } : -1\r\n                                \r\n\r\n                                    inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label] = inputData[\"dynamicmaster\"][\"jsondata\"][component.label].label ? inputData[\"dynamicmaster\"][\"jsondata\"][component.label].label : -1;\r\n                                }    \r\n                                //selectedRecord[component.label] ? selectedRecord[component.label].label : \"\"\r\n                            }\r\n                            else if (component.inputtype === \"date\") {\r\n                                if (component.mandatory) {\r\n                                    inputData[\"dynamicmaster\"][\"jsondata\"][component.label] = formatDate(selectedRecord[component.label], false);\r\n                                    // convertDateTimetoString(selectedRecord[component.label] ?\r\n                                    // selectedRecord[component.label] : new Date(), userInfo);\r\n\r\n                                    inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label] = inputData[\"dynamicmaster\"][\"jsondata\"][component.label]\r\n                                    //convertDateTimetoString(selectedRecord[component.label], userInfo);\r\n\r\n                                } else {\r\n                                    inputData[\"dynamicmaster\"][\"jsondata\"][component.label] = component.loadcurrentdate ?\r\n                                        //convertDateTimetoString(selectedRecord[component.label] ?                                      \r\n                                        //    selectedRecord[component.label] : new Date(), userInfo) :\r\n                                        formatDate(selectedRecord[component.label] || new Date(), false) :\r\n                                        selectedRecord[component.label] ?\r\n                                            // convertDateTimetoString(selectedRecord[component.label] ?\r\n                                            //   selectedRecord[component.label] : new Date(), userInfo) : \"\";\r\n                                            formatDate(selectedRecord[component.label], false) : \"\";\r\n                                    inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label] = inputData[\"dynamicmaster\"][\"jsondata\"][component.label]\r\n                                    //convertDateTimetoString(selectedRecord[component.label], userInfo)\r\n\r\n                                }\r\n                                if (component.timezone) {\r\n                                    inputData[\"dynamicmaster\"][\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ?\r\n                                        { value: selectedRecord[`tz${component.label}`].value, label: selectedRecord[`tz${component.label}`].label } :\r\n                                        defaulttimezone ? defaulttimezone : -1\r\n\r\n                                    inputData[\"dynamicmaster\"][\"jsonuidata\"][`tz${component.label}`] = inputData[\"dynamicmaster\"][\"jsondata\"][`tz${component.label}`]\r\n                                }\r\n                                dateList.push(component.label)\r\n                            }\r\n                            else {\r\n                                inputData[\"dynamicmaster\"][\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                    selectedRecord[component.label] : \"\"\r\n\r\n                                inputData[\"dynamicmaster\"][\"jsonuidata\"][component.label] = inputData[\"dynamicmaster\"][\"jsondata\"][component.label].label ? inputData[\"dynamicmaster\"][\"jsondata\"][component.label].label :\r\n                                    inputData[\"dynamicmaster\"][\"jsondata\"][component.label]\r\n                            }\r\n                        }\r\n                        return inputData[\"dynamicmaster\"];\r\n                    }\r\n                    )\r\n                    return inputData[\"dynamicmaster\"];\r\n                })\r\n                return inputData[\"dynamicmaster\"];\r\n            })\r\n        let tempData = {}\r\n        const formData = new FormData();\r\n        this.props.Login.withoutCombocomponent.map(item => {\r\n            if (item.inputtype === \"files\") {\r\n                if (typeof selectedRecord[item && item.label] === \"object\") {\r\n                    this.state.selectedRecord[item && item.label] && this.state.selectedRecord[item && item.label].forEach((item1, index) => {\r\n                        const fileName = create_UUID();\r\n                        const splittedFileName = item1.name.split('.');\r\n                        const fileExtension = item1.name.split('.')[splittedFileName.length - 1];\r\n                        const uniquefilename = fileName + '.' + fileExtension;\r\n\r\n                        tempData[item && item.label + '_susername'] = this.props.Login.userInfo.susername\r\n                        tempData[item && item.label + '_suserrolename'] = this.props.Login.userInfo.suserrolename\r\n                        tempData[item && item.label + '_nfilesize'] = item1.size\r\n                        tempData[item && item.label + '_ssystemfilename'] = uniquefilename\r\n                        tempData[item && item.label] = Lims_JSON_stringify(item1.name.trim(), false)\r\n                        formData.append(\"uploadedFile\" + index, item1);\r\n                        formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                        formData.append(\"filecount\", this.state.selectedRecord[item && item.label].length);\r\n                        formData.append(\"isFileEdited\", transactionStatus.YES);\r\n                        formData.append(\"userinfo\", JSON.stringify(this.props.Login.userInfo));\r\n                        inputData[\"dynamicmaster\"][\"jsondata\"] = {\r\n                            ...inputData[\"dynamicmaster\"][\"jsondata\"],\r\n                            ...tempData\r\n                        };\r\n                        inputData[\"dynamicmaster\"][\"jsonuidata\"] = {\r\n                            ...inputData[\"dynamicmaster\"][\"jsonuidata\"],\r\n                            ...tempData\r\n                        };\r\n                        formData.append(\"userinfo\", JSON.stringify(this.props.Login.userInfo));\r\n                        inputData[\"isFileupload\"] = true;\r\n                        isFileupload = true;\r\n                        //methodUrl=\"DynamicMasterWithFile\"\r\n                    }\r\n                    )\r\n                }\r\n            }\r\n            if(this.state.selectedRecord[this.state.selectedRecord[item && item.label]+'_ssystemfilename']===undefined && item.inputtype === \"files\" && tempData[item && item.label + '_ssystemfilename']==undefined){\r\n            inputData[\"dynamicmaster\"][\"jsondata\"]={...inputData[\"dynamicmaster\"][\"jsonuidata\"],\r\n            ...this.state.selectedRecord}\r\n            inputData[\"dynamicmaster\"][\"jsonuidata\"]={...inputData[\"dynamicmaster\"][\"jsondata\"]}\r\n            }\r\n        })\r\n        inputData[\"dynamicmaster\"][\"jsonstring\"] = JSON.stringify(inputData[\"dynamicmaster\"][\"jsondata\"]);\r\n        inputData[\"dynamicmaster\"][\"jsonuistring\"] = JSON.stringify(inputData[\"dynamicmaster\"][\"jsonuidata\"]);\r\n        inputData[\"masterdatelist\"] = dateList;\r\n        formData.append(\"Map\", Lims_JSON_stringify(JSON.stringify(inputData)));\r\n        const inputParam = {\r\n            classUrl: \"dynamicmaster\",\r\n            methodUrl: methodUrl,\r\n            displayName: this.props.Login.displayName,\r\n            inputData: inputData, operation: operation,\r\n            saveType, formRef, selectedId, dataState, formData: formData, isFileupload\r\n\r\n        }\r\n        const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\r\n        if (esignNeeded) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: this.props.Login.displayName,\r\n                    operation: \"create\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential,\r\n    getChildValues, getEditDynamicMasterCombo,//fetchRecord,\r\n    getDynamicMasterCombo,\r\n    addMasterRecord, getAddMasterCombo, getDynamicMasterTempalte,\r\n    getChildComboMaster, getChildValuesForAddMaster, getEditMaster, viewAttachment\r\n})(injectIntl(DynamicMaster));\r\n"]},"metadata":{},"sourceType":"module"}