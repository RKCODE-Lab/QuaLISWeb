{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{sortData,getComboLabelValue,constructOptionList}from'../components/CommonScript';import{toast}from'react-toastify';import{initRequest}from'./LoginAction';import{intl}from'../components/App';import{transactionStatus,reportTypeEnum}from'../components/Enumeration';export function getReportMasterComboService(inputParam){return function(dispatch){// if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus !== transactionStatus.APPROVED))\n// {      \ndispatch(initRequest(true));var nreportcode=null;if(inputParam.operation===\"update\"){nreportcode=inputParam.mastertoedit[inputParam.primaryKeyName];}return rsapi.post(\"reportconfig/getReportMasterComboData\",{nreportcode:nreportcode,userinfo:inputParam.userInfo,filterreporttype:inputParam.filterReportType}).then(function(response){var reportTypeMap=constructOptionList(response.data[\"ReportType\"]||[],\"nreporttypecode\",\"sdisplayname\",undefined,undefined,true);var reportModuleMap=constructOptionList(response.data[\"ReportModule\"]||[],\"nreportmodulecode\",\"sdisplayname\",undefined,undefined,true);var reportSubTypeMap=constructOptionList(response.data[\"COAReportType\"]||[],\"ncoareporttypecode\",\"scoareporttypename\",undefined,undefined,true);var sampleTypeMap=constructOptionList(response.data[\"SampleType\"]||[],\"nsampletypecode\",\"ssampletypename\",undefined,undefined,true);var regTypeMap=constructOptionList(response.data[\"RegistrationType\"]||[],\"nregtypecode\",\"sregtypename\",undefined,undefined,true);var regSubTypeMap=constructOptionList(response.data[\"RegistrationSubType\"]||[],\"nregsubtypecode\",\"sregsubtypename\",undefined,undefined,true);var approvaConfigVersionMap=constructOptionList(response.data[\"ApprovalConfigVersion\"]||[],\"napproveconfversioncode\",\"sversionname\",undefined,undefined,false);var sectionMap=constructOptionList(response.data[\"SectionList\"]||[],\"nsectioncode\",\"ssectionname\",undefined,undefined,true);var decisionTypeMap=constructOptionList(response.data[\"ReportDecisionType\"]||[],\"nreportdecisiontypecode\",\"sdecisiontypename\",undefined,undefined,true);var certificateTypeMap=constructOptionList(response.data[\"CertificateType\"]||[],\"ncertificatetypecode\",\"scertificatetype\",undefined,undefined,true);var controlScreenTypeMap=constructOptionList(response.data[\"ControlScreen\"]||[],\"nformcode\",\"sdisplayname\",undefined,undefined,true);var reportTemplateMap=constructOptionList(response.data[\"ReportTemplate\"]||[],\"nreporttemplatecode\",\"sreporttemplatename\",undefined,undefined,true);var reportTypeList=reportTypeMap.get(\"OptionList\");var reportModuleList=reportModuleMap.get(\"OptionList\");var reportSubTypeList=reportSubTypeMap.get(\"OptionList\");var regTypeList=regTypeMap.get(\"OptionList\");var sampleTypeList=sampleTypeMap.get(\"OptionList\");var regSubTypeList=regSubTypeMap.get(\"OptionList\");var sectionList=sectionMap.get(\"OptionList\");var decisionTypeList=decisionTypeMap.get(\"OptionList\");var certificateTypeList=certificateTypeMap.get(\"OptionList\");var controlScreenTypeList=controlScreenTypeMap.get(\"OptionList\");var ApproveConfigList=approvaConfigVersionMap.get(\"OptionList\");var reportTemplateList=reportTemplateMap.get(\"OptionList\");var selectedRecord={ntransactionstatus:transactionStatus.ACTIVE};var respObject={\"reportVersionStatus\":transactionStatus.DRAFT};if(inputParam.operation===\"update\"){if(response.status===202){respObject[\"reportVersionStatus\"]=transactionStatus.APPROVED;respObject[\"ApprovedReportMaster\"]=response.data[\"SelectedReportDesigner\"];}selectedRecord=JSON.parse(JSON.stringify(response.data[\"SelectedReportDesigner\"]));if(selectedRecord.nreporttypecode===reportTypeEnum.SAMPLE||selectedRecord.nreporttypecode===reportTypeEnum.COA){selectedRecord[\"nsampletypecode\"]={value:response.data[\"SelectedReportDesigner\"].nsampletypecode,label:response.data[\"SelectedReportDesigner\"].ssampletypename};// selectedRecord[\"nregtypecode\"] = {\n//     value: response.data[\"SelectedReportDesigner\"].nregtypecode,\n//     label: response.data[\"SelectedReportDesigner\"].sregtypename\n// };\nif(response.data[\"SelectedReportDesigner\"].nregtypecode!==-1){selectedRecord[\"nregtypecode\"]={value:response.data[\"SelectedReportDesigner\"].nregtypecode,label:response.data[\"SelectedReportDesigner\"].sregtypename};}else{selectedRecord[\"nregtypecode\"]=undefined;}if(response.data[\"SelectedReportDesigner\"].nregsubtypecode!==-1){selectedRecord[\"nregsubtypecode\"]={value:response.data[\"SelectedReportDesigner\"].nregsubtypecode,label:response.data[\"SelectedReportDesigner\"].sregsubtypename};}else{selectedRecord[\"nregsubtypecode\"]=undefined;}if(response.data[\"SelectedReportDesigner\"].nregsubtypecode!==-1){selectedRecord[\"napproveconfversioncode\"]={value:response.data[\"SelectedReportDesigner\"].napproveconfversioncode,label:response.data[\"SelectedReportDesigner\"].sapproveversionname};}else{selectedRecord[\"nregsubtypecode\"]=undefined;}if(response.data[\"SelectedReportDesigner\"].nsectioncode!==-1){selectedRecord[\"nsectioncode\"]={value:response.data[\"SelectedReportDesigner\"].nsectioncode,label:response.data[\"SelectedReportDesigner\"].ssectionname};}else{selectedRecord[\"nsectioncode\"]=undefined;}if(response.data[\"SelectedReportDesigner\"].ncoareporttypecode!==-1){selectedRecord[\"ncoareporttypecode\"]={value:response.data[\"SelectedReportDesigner\"].ncoareporttypecode,label:response.data[\"SelectedReportDesigner\"].scoareporttypename};}else{selectedRecord[\"ncoareporttypecode\"]=undefined;}if(response.data[\"SelectedReportDesigner\"].nreporttemplatecode!==-1){selectedRecord[\"nreporttemplatecode\"]={value:response.data[\"SelectedReportDesigner\"].nreporttemplatecode,label:response.data[\"SelectedReportDesigner\"].sreporttemplatename};}if(selectedRecord.nreporttypecode===reportTypeEnum.SAMPLE){selectedRecord[\"nreportdecisiontypecode\"]={value:response.data[\"SelectedReportDesigner\"].nreportdecisiontypecode,label:response.data[\"SelectedReportDesigner\"].sdecisiontypename};}}else if(selectedRecord.nreporttypecode===reportTypeEnum.MIS){selectedRecord[\"nreportmodulecode\"]={value:response.data[\"SelectedReportDesigner\"].nreportmodulecode,label:response.data[\"SelectedReportDesigner\"].smoduledisplayname};selectedRecord[\"nreportmodule\"]={value:response.data[\"SelectedReportDesigner\"].smoduledisplayname,label:response.data[\"SelectedReportDesigner\"].smoduledisplayname};}else if(selectedRecord.nreporttypecode===reportTypeEnum.SCREENWISE){selectedRecord[\"ncontrolcode\"]={value:response.data[\"SelectedReportDesigner\"].ncontrolcode,label:response.data[\"SelectedReportDesigner\"].scontrolids};selectedRecord[\"nformcode\"]={value:response.data[\"SelectedReportDesigner\"].nformcode,label:response.data[\"SelectedReportDesigner\"].sdisplayname};}if(selectedRecord.nreporttypecode===reportTypeEnum.SAMPLE||selectedRecord.nreporttypecode===reportTypeEnum.BATCH){if(response.data[\"SelectedReportDesigner\"].ncoareporttypecode!==-1){selectedRecord[\"ncoareporttypecode\"]={value:response.data[\"SelectedReportDesigner\"].ncoareporttypecode,label:response.data[\"SelectedReportDesigner\"].scoareporttypename};}else{selectedRecord[\"ncoareporttypecode\"]=undefined;}selectedRecord[\"ncertificatetypecode\"]={value:response.data[\"SelectedReportDesigner\"].ncertificatetypecode,label:response.data[\"SelectedReportDesigner\"].scertificatetype};selectedRecord[\"sbatchtypename\"]=response.data[\"SelectedReportDesigner\"].sbatchtypename;}selectedRecord[\"ntransactionstatus\"]=response.data[\"SelectedReportDesigner\"].ntransactionstatus;selectedRecord[\"nreporttypecode\"]={item:response.data[\"SelectedReportDesigner\"],value:response.data[\"SelectedReportDesigner\"].nreporttypecode,label:response.data[\"SelectedReportDesigner\"].sreportdisplayname};}respObject=_objectSpread(_objectSpread({},respObject),{},{reportSubTypeList:reportSubTypeList,//:response.data[\"COAReportType\"]  || [], \nsampleTypeList:sampleTypeList,regTypeList:regTypeList,//:response.data[\"RegistrationType\"]  || [],                                                               \nregSubTypeList:regSubTypeList,//:response.data[\"RegistrationSubType\"]  || [],  \nsectionList:sectionList,ApproveConfigList:ApproveConfigList,//:response.data[\"SectionList\"] || [],   \ncertificateTypeList:certificateTypeList,reportDecisionTypeList:decisionTypeList,controlScreen:controlScreenTypeList,reportTemplateList:reportTemplateList//masterData:{...inputParam.masterData, SelectedFilterReportType:response.data[\"SelectedReportType\"] }                                                             \n});if(inputParam.operation===\"create\"){selectedRecord[\"nreporttypecode\"]={item:response.data[\"SelectedReportType\"],label:response.data[\"SelectedReportType\"].sdisplayname,value:response.data[\"SelectedReportType\"].nreporttypecode};if(selectedRecord[\"nreporttypecode\"].value===reportTypeEnum.SAMPLE&&selectedRecord[\"nreporttypecode\"]['item'].isneedregtype===transactionStatus.YES){// selectedRecord[\"nregtypecode\"] = getComboLabelValue(response.data[\"SelectedRegType\"],\n//     response.data[\"RegistrationType\"], \"nregtypecode\", \"sregtypename\")\nselectedRecord[\"nsampletypecode\"]=getComboLabelValue(response.data[\"SelectedSampleType\"],response.data[\"SampleType\"],\"nsampletypecode\",\"ssampletypename\");if(selectedRecord[\"nreporttypecode\"]['item'].isneedsection===transactionStatus.YES){selectedRecord[\"nsectioncode\"]=sectionMap.get(\"DefaultValue\");}}}dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({reportTypeList:reportTypeList,//:response.data[\"ReportType\"] || [], \nreportModuleList:reportModuleList},respObject),{},{operation:inputParam.operation,screenName:inputParam.screenName,selectedRecord:selectedRecord,openModal:true,ncontrolCode:inputParam.ncontrolcode,loading:false})});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});// }\n// else{       \n//     toast.warn(intl.formatMessage({id: \"IDS_CANNOTUPDATEAPPROVEDREPORT\"}));\n// }\n};}export function getReportDetailComboService(inputParam){return function(dispatch){if(inputParam.operation===\"create\"||inputParam.operation===\"update\"&&inputParam.detailtoedit.ntransactionstatus===transactionStatus.DRAFT){if(inputParam.masterData.SelectedReportMaster!==null){dispatch(initRequest(true));var nreportdetailcode=null;if(inputParam.operation===\"update\"){nreportdetailcode=inputParam.detailtoedit[inputParam.primaryKeyName];}return rsapi.post(\"reportconfig/getReportDetailComboData\",{nreportdetailcode:nreportdetailcode,reportmaster:inputParam.masterData.SelectedReportMaster,userinfo:inputParam.userInfo}).then(function(response){// const reportType = response.data[\"SelectedReportType\"];\n// const reportSubTypeMap  = constructOptionList(response.data[\"COAReportType\"] ||[], \"ncoareporttypecode\",\n//                             \"scoareporttypename\" , undefined, undefined, true);    \n// const sectionMap  = constructOptionList(response.data[\"SectionList\"] ||[], \"nsectioncode\",\n//                             \"ssectionname\", undefined, undefined, true);\n// const decisionTypeMap  = constructOptionList(response.data[\"ReportDecisionType\"] ||[], \"nreportdecisiontypecode\",\n//                             \"sdecisiontypename\" , undefined, undefined, true);   \n// const certificateTypeMap  = constructOptionList(response.data[\"CertificateType\"] ||[], \"ncertificatetypecode\",\n//                             \"scertificatetype\" , undefined, undefined, true);\n// const  reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\n// const  sectionList = sectionMap.get(\"OptionList\"); \n// const  decisionTypeList = decisionTypeMap.get(\"OptionList\");\n// const  certificateTypeList = certificateTypeMap.get(\"OptionList\");  \nvar selectedRecord={};var respObject={};if(inputParam.operation===\"update\"){selectedRecord=response.data[\"SelectedReportDetail\"];}selectedRecord[\"ntransactionstatus\"]=transactionStatus.DRAFT;//    console.log(\"selected in action:\", selectedRecord);\ndispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{operation:inputParam.operation,screenName:inputParam.screenName,selectedRecord:selectedRecord,openModal:true,ncontrolCode:inputParam.ncontrolcode,loading:false})});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_REPORTNOTFOUND\"}));}}else if(inputParam.operation===\"create\"||inputParam.operation===\"update\"&&inputParam.detailtoedit.ntransactionstatus===transactionStatus.APPROVED){toast.warn(intl.formatMessage({id:\"IDS_CANNOTEDITAPPROVEDREPORT\"}));}else if(inputParam.operation===\"create\"||inputParam.operation===\"update\"&&inputParam.detailtoedit.ntransactionstatus===transactionStatus.RETIRED){toast.warn(intl.formatMessage({id:\"IDS_CANNOTEDITRETIREDREPORT\"}));}};}export function getSelectedReportMasterDetail(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportDesigner\",{nreportcode:parseInt(inputParam.nreportcode),nreporttypecode:inputParam.masterData&&inputParam.masterData.SelectedFilterReportType?inputParam.masterData.SelectedFilterReportType.nreporttypecode.toString():null,userinfo:inputParam.userInfo}).then(function(response){var masterData=_objectSpread(_objectSpread({},inputParam.masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getSelectedReportDetail(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportDetail\",{nreportdetailcode:parseInt(inputParam.nreportdetailcode),userinfo:inputParam.userInfo}).then(function(response){var masterData=_objectSpread(_objectSpread({},inputParam.masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getConfigReportComboService(inputParam){return function(dispatch){if(inputParam.reportMaster.nreporttypecode===reportTypeEnum.MIS){if(inputParam.reportDetail.ntransactionstatus===transactionStatus.DRAFT){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportAddDesignComboData\",{nreportdetailcode:parseInt(inputParam.reportDetail.nreportdetailcode),userinfo:inputParam.userInfo}).then(function(response){var parameterMap=constructOptionList(response.data[\"ReportParameter\"]||[],\"nreportparametercode\",\"sreportparametername\",undefined,undefined,true);var reportParameterList=parameterMap.get(\"OptionList\");var designComponentMap=constructOptionList(response.data[\"DesignComponents\"]||[],\"ndesigncomponentcode\",\"sdesigncomponentname\",undefined,undefined,true);var designComponentList=designComponentMap.get(\"OptionList\");var sqlQueryMap=constructOptionList(response.data[\"SQLQuery\"]||[],\"nsqlquerycode\",\"ssqlqueryname\",undefined,undefined,true);var sqlQueryList=sqlQueryMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{reportParameterList:reportParameterList,//:response.data[\"ReportParameter\"] || [], \ndesignComponentList:designComponentList,//:response.data[\"DesignComponents\"] || [],\nsqlQueryList:sqlQueryList,//:response.data[\"SQLQuery\"] || [], \noperation:inputParam.operation,screenName:inputParam.screenName,//selectedRecord:{nmandatory:transactionStatus.YES}, \nselectedRecord:{},openModal:true,ncontrolCode:inputParam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_CANNOTCONFIGUREAPPROVEDREPORT\"}));}}else{toast.warn(intl.formatMessage({id:\"IDS_CANCONFIGUREMISREPORT\"}));}};}export function getParameterMappingComboService(inputParam){return function(dispatch){if(inputParam.reportMaster.nreporttypecode===reportTypeEnum.MIS){if(inputParam.reportDetail.ntransactionstatus===transactionStatus.DRAFT){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportParameterMappingComboData\",{nreportdetailcode:parseInt(inputParam.reportDetail.nreportdetailcode),userinfo:inputParam.userInfo}).then(function(response){if(response.data[\"ChildComponentList\"].length>0){var parentComponentMap=constructOptionList(response.data[\"ParentComponentList\"]||[],\"nreportdesigncode\",\"sdisplayname\",undefined,undefined,true);var parentComponentList=parentComponentMap.get(\"OptionList\");var childComponentMap=constructOptionList(response.data[\"ChildComponentList\"]||[],\"nreportdesigncode\",\"sdisplayname\",undefined,undefined,true);var childComponentList=childComponentMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{parentComponentList:parentComponentList,//:response.data[\"ParentComponenList\"] || [],\nchildComponentList:childComponentList,//:response.data[\"ChildComponentList\"] || [], \noperation:inputParam.operation,screenName:inputParam.screenName,selectedRecord:{},openModal:true,ncontrolCode:inputParam.ncontrolCode,loading:false}});}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.warn(intl.formatMessage({id:\"IDS_NOPARAMETERSTOMAP\"}));}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_CANNOTMAPAPPROVEDREPORT\"}));}}else{toast.warn(intl.formatMessage({id:\"IDS_CANMAPMISREPORT\"}));}};}export function viewReportDetail(reportmaster,userInfo,masterData){return function(dispatch){if(reportmaster!==undefined){dispatch(initRequest(true));return rsapi.post(\"reportview/viewReport\",{reportmaster:reportmaster,userinfo:userInfo}).then(function(response){// console.log(\"report action:\", response);\nmasterData=_objectSpread(_objectSpread({},masterData),response.data);if(response.data[\"ViewReportDesignConfig\"]!==undefined){masterData[\"ReportPDFFile\"]=undefined;}// else{\n//     document.getElementById(\"download_data\").setAttribute(\"href\", masterData[\"ReportPDFFile\"]);\n//     document.getElementById(\"download_data\").click();\n// }\ndispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_REPORTNOTFOUND\"}));}};}// export function getActionMappingComboService(inputParam) {\n//     return function (dispatch) {   \n//     if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT){\n//             dispatch(initRequest(true));\n//             return rsapi.post(\"reportconfig/getActionMappingComboData\", {nreportdetailcode:parseInt(inputParam.reportDetail.nreportdetailcode),\n//                                         userinfo:inputParam.userInfo})\n//         .then(response=>{ \n//             if (response.data[\"ActionMappingChild\"].length > 0)\n//             {     \n//                     dispatch({type: DEFAULT_RETURN, payload:{actionMappingParentList:response.data[\"ActionMappingParent\"] || [],\n//                                                             actionMappingChildList:response.data[\"ActionMappingChild\"] || [], \n//                                                             operation:inputParam.operation, \n//                                                             screenName:inputParam.screenName,   \n//                                                             selectedRecord:{}, \n//                                                             openModal : true,\n//                                                             ncontrolCode:inputParam.ncontrolCode,\n//                                                             loading:false\n//                                                             }}); \n//             }\n//             else{\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\n//                 toast.warn(intl.formatMessage({id:\"IDS_NOACTIONSTOMAP\"}))\n//             }\n//         })\n//         .catch(error=>{\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\n//             if (error.response.status === 500){\n//                 toast.error(error.message);\n//             } \n//             else{               \n//                 toast.warn(error.response.data);\n//             }  \n//         })\n//     }\n//     else{\n//         toast.warn(intl.formatMessage({id:\"IDS_CANNOTACTIONMAPAPPROVEDREPORT\"}))\n//     }\n// }}\nexport function getReportViewChildDataList(inputParam){return function(dispatch){// dispatch(initRequest(true));\nreturn rsapi.post(\"reportview/getChildDataList\",_objectSpread({},inputParam[\"inputData\"])).then(function(response){var controlList=inputParam.viewReportDesignConfigList;var selectedRecord=inputParam.selectedRecord;Object.keys(response.data).map(function(displayName){var index=controlList.findIndex(function(item){return displayName===item.sdisplayname;});var comboMap=constructOptionList(response.data[displayName]||[],controlList[index].svaluemember,controlList[index].sdisplaymember,undefined,undefined,true);var comboList=comboMap.get(\"OptionList\");//selectedRecord[controlList[index].svaluemember] = undefined;\nselectedRecord[controlList[index].sreportparametername]=undefined;return controlList[index][\"dataList\"]=comboList;//response.data[displayName]\n});dispatch({type:DEFAULT_RETURN,payload:{viewReportDesignConfigList:controlList,loading:false,inputFieldData:inputParam.inputData.inputfielddata,selectedRecord:selectedRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function viewReportDetailWithParameters(viewReportParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportview/viewReportWithParameters\",_objectSpread({},viewReportParam)).then(function(response){var masterData=_objectSpread(_objectSpread(_objectSpread({},viewReportParam.masterData),response.data),{},{ReportPDFFile:response.data[\"ReportPDFFile\"],SelectedReportDetails:response.data[\"SelectedReportDetails\"],ReportPDFPath:response.data[\"ReportPDFPath\"],ViewReportDesignConfig:undefined});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false//openModal:false\n}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReportsByModule(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportview/getReportView\",{nreportmodulecode:inputParam.nreportmodulecode,userinfo:inputParam.userInfo}).then(function(response){var masterData=_objectSpread(_objectSpread({},inputParam.masterData),response.data);// const  reportModuleMap  = constructOptionList(masterData.ViewReportModuleList ||[], \"nreportmodulecode\",\n//                          \"smoduledisplayname\" , undefined, undefined, true);\n// const  reportModuleList  = reportModuleMap.get(\"OptionList\");\nsortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,//viewReportModuleList:reportModuleList,\noperation:null,modalName:undefined,loading:false,selectedRecord:inputParam.selectedRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getControlButton(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getControlButton\",{nformcode:inputParam.ControlScreen.nformcode,userinfo:inputParam.userInfo}).then(function(response){var controlButtonMap=constructOptionList(response.data||[],\"ncontrolcode\",\"scontrolids\",undefined,undefined,true);var controlButtonList=controlButtonMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{controlButton:controlButtonList,//: response.data,                                            \nloading:false,selectedRecord:_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{nregsubtypecode:undefined//nregsubtypecode:{label:\"Please Select...\", value:-4}\n})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReportRegSubType(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportRegistrationSubType\",{nregtypecode:inputParam.registrationType.nregtypecode,userinfo:inputParam.userInfo}).then(function(response){var regSubTypeMap=constructOptionList(response.data||[],\"nregsubtypecode\",\"sregsubtypename\",undefined,undefined,true);var regSubTypeList=regSubTypeMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{regSubTypeList:regSubTypeList,//: response.data,                                            \nloading:false,ApproveConfigList:[],selectedRecord:_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{nregsubtypecode:undefined,napproveconfversioncode:undefined//nregsubtypecode:{label:\"Please Select...\", value:-4}\n})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReportSubType(inputParam){return function(dispatch){var _rsapi$post;dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportSubType\",(_rsapi$post={nreporttypecode:inputParam.reportType.nreporttypecode},_defineProperty(_rsapi$post,\"nreporttypecode\",inputParam.reportType.nreporttypecode),_defineProperty(_rsapi$post,\"userinfo\",inputParam.userInfo),_rsapi$post)).then(function(response){// const reportSubTypeMap = constructOptionList(response.data.COAReportType || [], \"ncoareporttypecode\",\n//     \"scoareporttypename\", undefined, undefined, true);\n// const reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\nvar certificateTypeMap=constructOptionList(response.data.CertificateType||[],\"ncertificatetypecode\",\"scertificatetype\",undefined,undefined,true);var certificateTypeList=certificateTypeMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{// reportSubTypeList,\ncertificateTypeList:certificateTypeList,loading:false,selectedRecord:_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{ncoareporttypecode:undefined,ncertificatetypecode:\"\"// ncoareporttypecode:{label:\"Please Select...\", value:-4}\n})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReportSampletype(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportSampleType\",{nsampletypecode:inputParam.nsampletypecode,nreporttypecode:inputParam.reportType.nreporttypecode,userinfo:inputParam.userInfo}).then(function(response){// const reportRegTypeMap  = constructOptionList(response.data.Regtype ||[], \"nregtypecode\",\n//                          \"sregtypename\" , undefined, undefined, true);   \n// const  reportRegTypeList = reportRegTypeMap.get(\"OptionList\");\n// // const reportRegSubTypeMap  = constructOptionList(response.data.RegSubtype ||[], \"nregsubtypecode\",\n// // \"sregsubtypename\" , undefined, undefined, true);   \n// //   const  reportRegSubTypeList = reportRegSubTypeMap.get(\"OptionList\");\nvar sampleTypeMap=constructOptionList(response.data[\"SampleType\"]||[],\"nsampletypecode\",\"ssampletypename\",undefined,undefined,true);var sampleTypeList=sampleTypeMap.get(\"OptionList\");var regTypeMap=constructOptionList(response.data[\"RegistrationType\"]||[],\"nregtypecode\",\"sregtypename\",undefined,undefined,true);var regTypeList=regTypeMap.get(\"OptionList\");// const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\",\n//     \"sregsubtypename\", undefined, undefined, true);\n// const regSubTypeList = regSubTypeMap.get(\"OptionList\");\nvar coaReportTypeMap=constructOptionList(response.data.COAReportType||[],\"ncoareporttypecode\",\"scoareporttypename\",undefined,undefined,true);var reportSubTypeList=coaReportTypeMap.get(\"OptionList\");var certificateType=constructOptionList(response.data.CertificateType||[],\"ncertificatetypecode\",\"scertificatetype\",undefined,undefined,true);var certificateTypeList=certificateType.get(\"OptionList\");var nsampletypecode=getComboLabelValue(response.data[\"SelectedSampleType\"],response.data[\"SampleType\"],\"nsampletypecode\",\"ssampletypename\");dispatch({type:DEFAULT_RETURN,payload:{sampleTypeList:sampleTypeList,regTypeList:regTypeList,//  regSubTypeList,\nreportSubTypeList:reportSubTypeList,loading:false,certificateTypeList:certificateTypeList,selectedRecord:_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{nsampletypecode:nsampletypecode,nregtypecode:undefined,ncoareporttypecode:undefined,ncertificatetypecode:\"\"})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getregtype(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getRegistrationtypeForSample\",{nsampletypecode:inputParam.sampleType.nsampletypecode,nregtypecode:inputParam.nregtypecode,nreporttypecode:inputParam.selectedRecord.nreporttypecode.value,userinfo:inputParam.userInfo}).then(function(response){// const reportRegTypeMap  = constructOptionList(response.data.Regtype ||[], \"nregtypecode\",\n//                          \"sregtypename\" , undefined, undefined, true);   \n// const  reportRegTypeList = reportRegTypeMap.get(\"OptionList\");\n// // const reportRegSubTypeMap  = constructOptionList(response.data.RegSubtype ||[], \"nregsubtypecode\",\n// // \"sregsubtypename\" , undefined, undefined, true);   \n// //   const  reportRegSubTypeList = reportRegSubTypeMap.get(\"OptionList\");\n// const sampleTypeMap = constructOptionList(response.data[\"SampleType\"] || [], \"nsampletypecode\",\n// \"ssampletypename\", undefined, undefined, true);\n// const sampleTypeList = sampleTypeMap.get(\"OptionList\");\nvar regTypeMap=constructOptionList(response.data[\"RegistrationType\"]||[],\"nregtypecode\",\"sregtypename\",undefined,undefined,true);var regTypeList=regTypeMap.get(\"OptionList\");// const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\",\n//     \"sregsubtypename\", undefined, undefined, true);\n// const regSubTypeList = regSubTypeMap.get(\"OptionList\");\nvar coaReportTypeMap=constructOptionList(response.data.COAReportType||[],\"ncoareporttypecode\",\"scoareporttypename\",undefined,undefined,true);var reportSubTypeList=coaReportTypeMap.get(\"OptionList\");var certificateType=constructOptionList(response.data.CertificateType||[],\"ncertificatetypecode\",\"scertificatetype\",undefined,undefined,true);var certificateTypeList=certificateType.get(\"OptionList\");//    const nregtypecode = getComboLabelValue(response.data[\"SelectedRegType\"],\n//      response.data[\"RegistrationType\"], \"nregtypecode\", \"sregtypename\")\ndispatch({type:DEFAULT_RETURN,payload:{//   sampleTypeList,\nregTypeList:regTypeList,regSubTypeList:[],ApproveConfigList:[],reportSubTypeList:reportSubTypeList,loading:false,certificateTypeList:certificateTypeList,selectedRecord:_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{nregtypecode:undefined,nregsubtypecode:undefined,ncoareporttypecode:undefined,ncertificatetypecode:\"\",napproveconfversioncode:undefined})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReportRegSubTypeApproveConfigVersion(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportRegSubTypeApproveConfigVersion\",{nregtypecode:inputParam.selectedRecord.nregtypecode.value,nregsubtypecode:inputParam.registrationsubType.nregsubtypecode,userinfo:inputParam.userInfo}).then(function(response){var ApproveConfigVersionMap=constructOptionList(response.data||[],\"napproveconfversioncode\",\"sversionname\",undefined,undefined,false);var ApproveConfigList=ApproveConfigVersionMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{ApproveConfigList:ApproveConfigList,//: response.data,                                            \nloading:false,selectedRecord:_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{napproveconfversioncode:undefined})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReportTemplate(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportTemplate\",{userinfo:inputParam.userInfo}).then(function(response){var reportTemplateMap=constructOptionList(response.data||[],\"nreporttemplatecode\",\"sreporttemplatename\",undefined,undefined,true);var reportTemplateList=reportTemplateMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{reportTemplateList:reportTemplateList,loading:false,selectedRecord:_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{nreporttemplatecode:undefined})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/ReportDesignerAction.js"],"names":["rsapi","DEFAULT_RETURN","sortData","getComboLabelValue","constructOptionList","toast","initRequest","intl","transactionStatus","reportTypeEnum","getReportMasterComboService","inputParam","dispatch","nreportcode","operation","mastertoedit","primaryKeyName","post","userinfo","userInfo","filterreporttype","filterReportType","then","response","reportTypeMap","data","undefined","reportModuleMap","reportSubTypeMap","sampleTypeMap","regTypeMap","regSubTypeMap","approvaConfigVersionMap","sectionMap","decisionTypeMap","certificateTypeMap","controlScreenTypeMap","reportTemplateMap","reportTypeList","get","reportModuleList","reportSubTypeList","regTypeList","sampleTypeList","regSubTypeList","sectionList","decisionTypeList","certificateTypeList","controlScreenTypeList","ApproveConfigList","reportTemplateList","selectedRecord","ntransactionstatus","ACTIVE","respObject","DRAFT","status","APPROVED","JSON","parse","stringify","nreporttypecode","SAMPLE","COA","value","nsampletypecode","label","ssampletypename","nregtypecode","sregtypename","nregsubtypecode","sregsubtypename","napproveconfversioncode","sapproveversionname","nsectioncode","ssectionname","ncoareporttypecode","scoareporttypename","nreporttemplatecode","sreporttemplatename","nreportdecisiontypecode","sdecisiontypename","MIS","nreportmodulecode","smoduledisplayname","SCREENWISE","ncontrolcode","scontrolids","nformcode","sdisplayname","BATCH","ncertificatetypecode","scertificatetype","sbatchtypename","item","sreportdisplayname","reportDecisionTypeList","controlScreen","isneedregtype","YES","isneedsection","type","payload","screenName","openModal","ncontrolCode","loading","catch","error","message","warn","getReportDetailComboService","detailtoedit","masterData","SelectedReportMaster","nreportdetailcode","reportmaster","formatMessage","id","RETIRED","getSelectedReportMasterDetail","parseInt","SelectedFilterReportType","toString","modalName","getSelectedReportDetail","getConfigReportComboService","reportMaster","reportDetail","parameterMap","reportParameterList","designComponentMap","designComponentList","sqlQueryMap","sqlQueryList","getParameterMappingComboService","length","parentComponentMap","parentComponentList","childComponentMap","childComponentList","viewReportDetail","getReportViewChildDataList","controlList","viewReportDesignConfigList","Object","keys","map","displayName","index","findIndex","comboMap","svaluemember","sdisplaymember","comboList","sreportparametername","inputFieldData","inputData","inputfielddata","viewReportDetailWithParameters","viewReportParam","ReportPDFFile","SelectedReportDetails","ReportPDFPath","ViewReportDesignConfig","getReportsByModule","getControlButton","ControlScreen","controlButtonMap","controlButtonList","controlButton","getReportRegSubType","registrationType","getReportSubType","reportType","CertificateType","getReportSampletype","coaReportTypeMap","COAReportType","certificateType","getregtype","sampleType","getReportRegSubTypeApproveConfigVersion","registrationsubType","ApproveConfigVersionMap","getReportTemplate"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { sortData, getComboLabelValue, constructOptionList } from '../components/CommonScript';\r\nimport { toast } from 'react-toastify';\r\nimport { initRequest } from './LoginAction';\r\nimport { intl } from '../components/App';\r\nimport { transactionStatus, reportTypeEnum } from '../components/Enumeration';\r\n\r\nexport function getReportMasterComboService(inputParam) {\r\n    return function (dispatch) {\r\n        // if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus !== transactionStatus.APPROVED))\r\n        // {      \r\n        dispatch(initRequest(true));\r\n        let nreportcode = null;\r\n        if (inputParam.operation === \"update\") {\r\n            nreportcode = inputParam.mastertoedit[inputParam.primaryKeyName];\r\n        }\r\n        return rsapi.post(\"reportconfig/getReportMasterComboData\", {\r\n            nreportcode,\r\n            userinfo: inputParam.userInfo,\r\n            filterreporttype: inputParam.filterReportType\r\n        })\r\n            .then(response => {\r\n\r\n                const reportTypeMap = constructOptionList(response.data[\"ReportType\"] || [], \"nreporttypecode\",\r\n                    \"sdisplayname\", undefined, undefined, true);\r\n                const reportModuleMap = constructOptionList(response.data[\"ReportModule\"] || [], \"nreportmodulecode\",\r\n                    \"sdisplayname\", undefined, undefined, true);\r\n                const reportSubTypeMap = constructOptionList(response.data[\"COAReportType\"] || [], \"ncoareporttypecode\",\r\n                    \"scoareporttypename\", undefined, undefined, true);\r\n                const sampleTypeMap = constructOptionList(response.data[\"SampleType\"] || [], \"nsampletypecode\",\r\n                    \"ssampletypename\", undefined, undefined, true);\r\n                const regTypeMap = constructOptionList(response.data[\"RegistrationType\"] || [], \"nregtypecode\",\r\n                    \"sregtypename\", undefined, undefined, true);                \r\n                const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\",\r\n                    \"sregsubtypename\", undefined, undefined, true);\r\n                 const approvaConfigVersionMap = constructOptionList(response.data[\"ApprovalConfigVersion\"] || [], \"napproveconfversioncode\",\r\n                    \"sversionname\", undefined, undefined, false);\r\n                const sectionMap = constructOptionList(response.data[\"SectionList\"] || [], \"nsectioncode\",\r\n                    \"ssectionname\", undefined, undefined, true);\r\n                const decisionTypeMap = constructOptionList(response.data[\"ReportDecisionType\"] || [], \"nreportdecisiontypecode\",\r\n                    \"sdecisiontypename\", undefined, undefined, true);\r\n                const certificateTypeMap = constructOptionList(response.data[\"CertificateType\"] || [], \"ncertificatetypecode\",\r\n                    \"scertificatetype\", undefined, undefined, true);\r\n                const controlScreenTypeMap = constructOptionList(response.data[\"ControlScreen\"] || [], \"nformcode\",\r\n                    \"sdisplayname\", undefined, undefined, true);\r\n                const reportTemplateMap = constructOptionList(response.data[\"ReportTemplate\"] || [], \"nreporttemplatecode\",\r\n                    \"sreporttemplatename\", undefined, undefined, true);\r\n\r\n                const reportTypeList = reportTypeMap.get(\"OptionList\");\r\n                const reportModuleList = reportModuleMap.get(\"OptionList\");\r\n                const reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\r\n                const regTypeList = regTypeMap.get(\"OptionList\");\r\n                const sampleTypeList = sampleTypeMap.get(\"OptionList\");\r\n                const regSubTypeList = regSubTypeMap.get(\"OptionList\");\r\n                const sectionList = sectionMap.get(\"OptionList\");\r\n                const decisionTypeList = decisionTypeMap.get(\"OptionList\");\r\n                const certificateTypeList = certificateTypeMap.get(\"OptionList\");\r\n                const controlScreenTypeList = controlScreenTypeMap.get(\"OptionList\");\r\n               const  ApproveConfigList=approvaConfigVersionMap.get(\"OptionList\");\r\n                const reportTemplateList = reportTemplateMap.get(\"OptionList\");\r\n\r\n                let selectedRecord = { ntransactionstatus: transactionStatus.ACTIVE };\r\n                let respObject = { \"reportVersionStatus\": transactionStatus.DRAFT };\r\n\r\n                if (inputParam.operation === \"update\") {\r\n                    if (response.status === 202) {\r\n                        respObject[\"reportVersionStatus\"] = transactionStatus.APPROVED;\r\n                        respObject[\"ApprovedReportMaster\"] = response.data[\"SelectedReportDesigner\"];\r\n                    }\r\n                    selectedRecord = JSON.parse(JSON.stringify(response.data[\"SelectedReportDesigner\"]));\r\n                    if (selectedRecord.nreporttypecode === reportTypeEnum.SAMPLE\r\n                        || selectedRecord.nreporttypecode === reportTypeEnum.COA) {\r\n                            selectedRecord[\"nsampletypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nsampletypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].ssampletypename\r\n                            };\r\n                        // selectedRecord[\"nregtypecode\"] = {\r\n                        //     value: response.data[\"SelectedReportDesigner\"].nregtypecode,\r\n                        //     label: response.data[\"SelectedReportDesigner\"].sregtypename\r\n                        // };\r\n                        if (response.data[\"SelectedReportDesigner\"].nregtypecode !== -1) {\r\n                            selectedRecord[\"nregtypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nregtypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sregtypename\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"nregtypecode\"] = undefined;\r\n                        }\r\n                        if (response.data[\"SelectedReportDesigner\"].nregsubtypecode !== -1) {\r\n                            selectedRecord[\"nregsubtypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nregsubtypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sregsubtypename\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"nregsubtypecode\"] = undefined;\r\n                        }\r\n\r\n\r\n                        if (response.data[\"SelectedReportDesigner\"].nregsubtypecode !== -1) {\r\n                            selectedRecord[\"napproveconfversioncode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].napproveconfversioncode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sapproveversionname\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"nregsubtypecode\"] = undefined;\r\n                        }\r\n\r\n                        if (response.data[\"SelectedReportDesigner\"].nsectioncode !== -1) {\r\n                            selectedRecord[\"nsectioncode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nsectioncode,\r\n                                label: response.data[\"SelectedReportDesigner\"].ssectionname\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"nsectioncode\"] = undefined;\r\n                        }\r\n\r\n                        if (response.data[\"SelectedReportDesigner\"].ncoareporttypecode !== -1) {\r\n                            selectedRecord[\"ncoareporttypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].ncoareporttypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].scoareporttypename\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"ncoareporttypecode\"] = undefined;\r\n                        }\r\n\r\n                        if (response.data[\"SelectedReportDesigner\"].nreporttemplatecode !== -1) {\r\n                            selectedRecord[\"nreporttemplatecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nreporttemplatecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sreporttemplatename\r\n                            };\r\n                        }\r\n\r\n                        if (selectedRecord.nreporttypecode === reportTypeEnum.SAMPLE) {\r\n                            selectedRecord[\"nreportdecisiontypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nreportdecisiontypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sdecisiontypename\r\n                            };\r\n                        }\r\n\r\n                    }\r\n                    else if (selectedRecord.nreporttypecode === reportTypeEnum.MIS) {\r\n                        selectedRecord[\"nreportmodulecode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].nreportmodulecode,\r\n                            label: response.data[\"SelectedReportDesigner\"].smoduledisplayname,\r\n\r\n                        };\r\n\r\n                        selectedRecord[\"nreportmodule\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].smoduledisplayname,\r\n                            label: response.data[\"SelectedReportDesigner\"].smoduledisplayname\r\n                        }\r\n\r\n                    }\r\n\r\n                    else if (selectedRecord.nreporttypecode === reportTypeEnum.SCREENWISE) {\r\n                        selectedRecord[\"ncontrolcode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].ncontrolcode,\r\n                            label: response.data[\"SelectedReportDesigner\"].scontrolids\r\n                        };\r\n\r\n                        selectedRecord[\"nformcode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].nformcode,\r\n                            label: response.data[\"SelectedReportDesigner\"].sdisplayname\r\n                        };\r\n                    }\r\n\r\n                    if (selectedRecord.nreporttypecode === reportTypeEnum.SAMPLE\r\n                        || selectedRecord.nreporttypecode === reportTypeEnum.BATCH) {\r\n                        if (response.data[\"SelectedReportDesigner\"].ncoareporttypecode !== -1) {\r\n                            selectedRecord[\"ncoareporttypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].ncoareporttypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].scoareporttypename\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"ncoareporttypecode\"] = undefined;\r\n                        }\r\n                        selectedRecord[\"ncertificatetypecode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].ncertificatetypecode,\r\n                            label: response.data[\"SelectedReportDesigner\"].scertificatetype\r\n                        };\r\n\r\n                        selectedRecord[\"sbatchtypename\"] = response.data[\"SelectedReportDesigner\"].sbatchtypename\r\n                    }\r\n\r\n                    selectedRecord[\"ntransactionstatus\"] = response.data[\"SelectedReportDesigner\"].ntransactionstatus;\r\n\r\n                    selectedRecord[\"nreporttypecode\"] = {\r\n                        item: response.data[\"SelectedReportDesigner\"],\r\n                        value: response.data[\"SelectedReportDesigner\"].nreporttypecode,\r\n                        label: response.data[\"SelectedReportDesigner\"].sreportdisplayname\r\n                    };\r\n\r\n                }\r\n\r\n                respObject = {\r\n                    ...respObject, reportSubTypeList,//:response.data[\"COAReportType\"]  || [], \r\n                    sampleTypeList,\r\n                    regTypeList,//:response.data[\"RegistrationType\"]  || [],                                                               \r\n                    regSubTypeList,//:response.data[\"RegistrationSubType\"]  || [],  \r\n                    sectionList,\r\n                    ApproveConfigList,//:response.data[\"SectionList\"] || [],   \r\n                    certificateTypeList,\r\n                    reportDecisionTypeList: decisionTypeList,\r\n                    controlScreen: controlScreenTypeList,\r\n                    reportTemplateList\r\n                    //masterData:{...inputParam.masterData, SelectedFilterReportType:response.data[\"SelectedReportType\"] }                                                             \r\n                };\r\n\r\n                if (inputParam.operation === \"create\") {\r\n                    selectedRecord[\"nreporttypecode\"] = {\r\n                        item: response.data[\"SelectedReportType\"], label: response.data[\"SelectedReportType\"].sdisplayname,\r\n                        value: response.data[\"SelectedReportType\"].nreporttypecode\r\n                    }\r\n\r\n                    if (selectedRecord[\"nreporttypecode\"].value === reportTypeEnum.SAMPLE\r\n                        && selectedRecord[\"nreporttypecode\"]['item'].isneedregtype === transactionStatus.YES) {\r\n                        // selectedRecord[\"nregtypecode\"] = getComboLabelValue(response.data[\"SelectedRegType\"],\r\n                        //     response.data[\"RegistrationType\"], \"nregtypecode\", \"sregtypename\")\r\n                        selectedRecord[\"nsampletypecode\"] = getComboLabelValue(response.data[\"SelectedSampleType\"],\r\n                            response.data[\"SampleType\"], \"nsampletypecode\", \"ssampletypename\")\r\n\r\n                        if (selectedRecord[\"nreporttypecode\"]['item'].isneedsection === transactionStatus.YES) {\r\n                            selectedRecord[\"nsectioncode\"] = sectionMap.get(\"DefaultValue\");\r\n                        }\r\n                    }\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        reportTypeList,//:response.data[\"ReportType\"] || [], \r\n                        reportModuleList,//:response.data[\"ReportModule\"] || [] ,\r\n                        ...respObject,\r\n                        operation: inputParam.operation,\r\n                        screenName: inputParam.screenName,\r\n                        selectedRecord,\r\n                        openModal: true,\r\n                        ncontrolCode: inputParam.ncontrolcode,\r\n                        loading: false\r\n                    }\r\n                });\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n        // }\r\n        // else{       \r\n        //     toast.warn(intl.formatMessage({id: \"IDS_CANNOTUPDATEAPPROVEDREPORT\"}));\r\n        // }\r\n\r\n    }\r\n}\r\n\r\nexport function getReportDetailComboService(inputParam) {\r\n    return function (dispatch) {\r\n        if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus === transactionStatus.DRAFT)) {\r\n            if (inputParam.masterData.SelectedReportMaster !== null) {\r\n                dispatch(initRequest(true));\r\n                let nreportdetailcode = null;\r\n                if (inputParam.operation === \"update\") {\r\n                    nreportdetailcode = inputParam.detailtoedit[inputParam.primaryKeyName];\r\n                }\r\n                return rsapi.post(\"reportconfig/getReportDetailComboData\", {\r\n                    nreportdetailcode,\r\n                    reportmaster: inputParam.masterData.SelectedReportMaster,\r\n                    userinfo: inputParam.userInfo\r\n                })\r\n                    .then(response => {\r\n\r\n                        // const reportType = response.data[\"SelectedReportType\"];\r\n                        // const reportSubTypeMap  = constructOptionList(response.data[\"COAReportType\"] ||[], \"ncoareporttypecode\",\r\n                        //                             \"scoareporttypename\" , undefined, undefined, true);    \r\n                        // const sectionMap  = constructOptionList(response.data[\"SectionList\"] ||[], \"nsectioncode\",\r\n                        //                             \"ssectionname\", undefined, undefined, true);\r\n\r\n                        // const decisionTypeMap  = constructOptionList(response.data[\"ReportDecisionType\"] ||[], \"nreportdecisiontypecode\",\r\n                        //                             \"sdecisiontypename\" , undefined, undefined, true);   \r\n\r\n                        // const certificateTypeMap  = constructOptionList(response.data[\"CertificateType\"] ||[], \"ncertificatetypecode\",\r\n                        //                             \"scertificatetype\" , undefined, undefined, true);\r\n\r\n                        // const  reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\r\n                        // const  sectionList = sectionMap.get(\"OptionList\"); \r\n                        // const  decisionTypeList = decisionTypeMap.get(\"OptionList\");\r\n                        // const  certificateTypeList = certificateTypeMap.get(\"OptionList\");  \r\n\r\n                        let selectedRecord = {};\r\n                        let respObject = {};\r\n                        if (inputParam.operation === \"update\") {\r\n                            selectedRecord = response.data[\"SelectedReportDetail\"];\r\n\r\n                        }\r\n                        selectedRecord[\"ntransactionstatus\"] = transactionStatus.DRAFT;\r\n\r\n                        //    console.log(\"selected in action:\", selectedRecord);\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                ...respObject,\r\n                                operation: inputParam.operation,\r\n                                screenName: inputParam.screenName,\r\n                                selectedRecord,\r\n                                openModal: true,\r\n                                ncontrolCode: inputParam.ncontrolcode,\r\n                                loading: false\r\n                            }\r\n                        });\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        }\r\n                        else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n                    })\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: \"IDS_REPORTNOTFOUND\" }));\r\n            }\r\n        }\r\n        else if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus === transactionStatus.APPROVED)) {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CANNOTEDITAPPROVEDREPORT\" }));\r\n        }\r\n        else if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus === transactionStatus.RETIRED)) {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CANNOTEDITRETIREDREPORT\" }));\r\n        }\r\n    }\r\n}\r\n\r\nexport function getSelectedReportMasterDetail(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportDesigner\", {\r\n            nreportcode: parseInt(inputParam.nreportcode),\r\n            nreporttypecode: inputParam.masterData && inputParam.masterData.SelectedFilterReportType ? inputParam.masterData.SelectedFilterReportType.nreporttypecode.toString() : null,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const masterData = { ...inputParam.masterData, ...response.data };\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, operation: null, modalName: undefined,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getSelectedReportDetail(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportDetail\", {\r\n            nreportdetailcode: parseInt(inputParam.nreportdetailcode),\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const masterData = { ...inputParam.masterData, ...response.data };\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, operation: null, modalName: undefined,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getConfigReportComboService(inputParam) {\r\n    return function (dispatch) {\r\n\r\n        if (inputParam.reportMaster.nreporttypecode === reportTypeEnum.MIS) {\r\n            if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT) {\r\n                dispatch(initRequest(true));\r\n                return rsapi.post(\"reportconfig/getReportAddDesignComboData\", {\r\n                    nreportdetailcode: parseInt(inputParam.reportDetail.nreportdetailcode),\r\n                    userinfo: inputParam.userInfo\r\n                })\r\n                    .then(response => {\r\n\r\n                        const parameterMap = constructOptionList(response.data[\"ReportParameter\"] || [], \"nreportparametercode\",\r\n                            \"sreportparametername\", undefined, undefined, true);\r\n\r\n                        const reportParameterList = parameterMap.get(\"OptionList\");\r\n\r\n                        const designComponentMap = constructOptionList(response.data[\"DesignComponents\"] || [], \"ndesigncomponentcode\",\r\n                            \"sdesigncomponentname\", undefined, undefined, true);\r\n\r\n                        const designComponentList = designComponentMap.get(\"OptionList\");\r\n\r\n                        const sqlQueryMap = constructOptionList(response.data[\"SQLQuery\"] || [], \"nsqlquerycode\",\r\n                            \"ssqlqueryname\", undefined, undefined, true);\r\n\r\n                        const sqlQueryList = sqlQueryMap.get(\"OptionList\");\r\n\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                reportParameterList,//:response.data[\"ReportParameter\"] || [], \r\n                                designComponentList,//:response.data[\"DesignComponents\"] || [],\r\n                                sqlQueryList,//:response.data[\"SQLQuery\"] || [], \r\n                                operation: inputParam.operation,\r\n                                screenName: inputParam.screenName,\r\n                                //selectedRecord:{nmandatory:transactionStatus.YES}, \r\n                                selectedRecord: {},\r\n                                openModal: true,\r\n                                ncontrolCode: inputParam.ncontrolCode,\r\n                                loading: false\r\n                            }\r\n                        });\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        }\r\n                        else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n\r\n                    })\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: \"IDS_CANNOTCONFIGUREAPPROVEDREPORT\" }))\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CANCONFIGUREMISREPORT\" }))\r\n        }\r\n    }\r\n}\r\n\r\nexport function getParameterMappingComboService(inputParam) {\r\n    return function (dispatch) {\r\n\r\n        if (inputParam.reportMaster.nreporttypecode === reportTypeEnum.MIS) {\r\n            if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT) {\r\n                dispatch(initRequest(true));\r\n                return rsapi.post(\"reportconfig/getReportParameterMappingComboData\", {\r\n                    nreportdetailcode: parseInt(inputParam.reportDetail.nreportdetailcode),\r\n                    userinfo: inputParam.userInfo\r\n                })\r\n                    .then(response => {\r\n                        if (response.data[\"ChildComponentList\"].length > 0) {\r\n\r\n                            const parentComponentMap = constructOptionList(response.data[\"ParentComponentList\"] || [], \"nreportdesigncode\",\r\n                                \"sdisplayname\", undefined, undefined, true);\r\n                            const parentComponentList = parentComponentMap.get(\"OptionList\");\r\n\r\n                            const childComponentMap = constructOptionList(response.data[\"ChildComponentList\"] || [], \"nreportdesigncode\",\r\n                                \"sdisplayname\", undefined, undefined, true);\r\n                            const childComponentList = childComponentMap.get(\"OptionList\");\r\n\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN, payload: {\r\n                                    parentComponentList,//:response.data[\"ParentComponenList\"] || [],\r\n                                    childComponentList,//:response.data[\"ChildComponentList\"] || [], \r\n                                    operation: inputParam.operation,\r\n                                    screenName: inputParam.screenName,\r\n                                    selectedRecord: {},\r\n                                    openModal: true,\r\n                                    ncontrolCode: inputParam.ncontrolCode,\r\n                                    loading: false\r\n                                }\r\n                            });\r\n                        }\r\n                        else {\r\n                            dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                            toast.warn(intl.formatMessage({ id: \"IDS_NOPARAMETERSTOMAP\" }))\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        }\r\n                        else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n\r\n                    })\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: \"IDS_CANNOTMAPAPPROVEDREPORT\" }))\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CANMAPMISREPORT\" }))\r\n        }\r\n    }\r\n}\r\n\r\nexport function viewReportDetail(reportmaster, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        if (reportmaster !== undefined) {\r\n            dispatch(initRequest(true));\r\n            return rsapi.post(\"reportview/viewReport\", { reportmaster, userinfo: userInfo })\r\n                .then(response => {\r\n                    // console.log(\"report action:\", response);\r\n                    masterData = { ...masterData, ...response.data };\r\n\r\n                    if (response.data[\"ViewReportDesignConfig\"] !== undefined) {\r\n                        masterData[\"ReportPDFFile\"] = undefined;\r\n                    }\r\n                    // else{\r\n                    //     document.getElementById(\"download_data\").setAttribute(\"href\", masterData[\"ReportPDFFile\"]);\r\n                    //     document.getElementById(\"download_data\").click();\r\n                    // }\r\n\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false } });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_REPORTNOTFOUND\" }))\r\n        }\r\n    }\r\n}\r\n\r\n// export function getActionMappingComboService(inputParam) {\r\n//     return function (dispatch) {   \r\n\r\n//     if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT){\r\n//             dispatch(initRequest(true));\r\n//             return rsapi.post(\"reportconfig/getActionMappingComboData\", {nreportdetailcode:parseInt(inputParam.reportDetail.nreportdetailcode),\r\n//                                         userinfo:inputParam.userInfo})\r\n//         .then(response=>{ \r\n//             if (response.data[\"ActionMappingChild\"].length > 0)\r\n//             {     \r\n//                     dispatch({type: DEFAULT_RETURN, payload:{actionMappingParentList:response.data[\"ActionMappingParent\"] || [],\r\n//                                                             actionMappingChildList:response.data[\"ActionMappingChild\"] || [], \r\n//                                                             operation:inputParam.operation, \r\n//                                                             screenName:inputParam.screenName,   \r\n//                                                             selectedRecord:{}, \r\n//                                                             openModal : true,\r\n//                                                             ncontrolCode:inputParam.ncontrolCode,\r\n//                                                             loading:false\r\n//                                                             }}); \r\n//             }\r\n//             else{\r\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n//                 toast.warn(intl.formatMessage({id:\"IDS_NOACTIONSTOMAP\"}))\r\n//             }\r\n//         })\r\n//         .catch(error=>{\r\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n//             if (error.response.status === 500){\r\n//                 toast.error(error.message);\r\n//             } \r\n//             else{               \r\n//                 toast.warn(error.response.data);\r\n//             }  \r\n\r\n//         })\r\n//     }\r\n//     else{\r\n//         toast.warn(intl.formatMessage({id:\"IDS_CANNOTACTIONMAPAPPROVEDREPORT\"}))\r\n//     }\r\n// }}\r\n\r\nexport function getReportViewChildDataList(inputParam) {\r\n    return function (dispatch) {\r\n        // dispatch(initRequest(true));\r\n        return rsapi.post(\"reportview/getChildDataList\", { ...inputParam[\"inputData\"] })\r\n            .then(response => {\r\n                const controlList = inputParam.viewReportDesignConfigList;\r\n\r\n                const selectedRecord = inputParam.selectedRecord;\r\n\r\n                Object.keys(response.data).map(displayName => {\r\n                    const index = controlList.findIndex(item => displayName === item.sdisplayname);\r\n\r\n                    const comboMap = constructOptionList(response.data[displayName] || [], controlList[index].svaluemember,\r\n                        controlList[index].sdisplaymember, undefined, undefined, true);\r\n\r\n                    const comboList = comboMap.get(\"OptionList\");\r\n                    //selectedRecord[controlList[index].svaluemember] = undefined;\r\n                    selectedRecord[controlList[index].sreportparametername] = undefined;\r\n\r\n                    return controlList[index][\"dataList\"] = comboList;//response.data[displayName]\r\n                })\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        viewReportDesignConfigList: controlList,\r\n                        loading: false,\r\n                        inputFieldData: inputParam.inputData.inputfielddata,\r\n                        selectedRecord\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function viewReportDetailWithParameters(viewReportParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportview/viewReportWithParameters\", { ...viewReportParam })\r\n            .then(response => {\r\n                const masterData = {\r\n                    ...viewReportParam.masterData, ...response.data,\r\n                    ReportPDFFile: response.data[\"ReportPDFFile\"],\r\n                    SelectedReportDetails: response.data[\"SelectedReportDetails\"],\r\n                    ReportPDFPath: response.data[\"ReportPDFPath\"],\r\n                    ViewReportDesignConfig: undefined\r\n                };\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, loading: false, //openModal:false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportsByModule(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportview/getReportView\", {\r\n            nreportmodulecode: inputParam.nreportmodulecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const masterData = { ...inputParam.masterData, ...response.data };\r\n\r\n                // const  reportModuleMap  = constructOptionList(masterData.ViewReportModuleList ||[], \"nreportmodulecode\",\r\n                //                          \"smoduledisplayname\" , undefined, undefined, true);\r\n                // const  reportModuleList  = reportModuleMap.get(\"OptionList\");\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, //viewReportModuleList:reportModuleList,\r\n                        operation: null, modalName: undefined,\r\n                        loading: false, selectedRecord: inputParam.selectedRecord\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getControlButton(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getControlButton\", {\r\n            nformcode: inputParam.ControlScreen.nformcode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const controlButtonMap = constructOptionList(response.data || [], \"ncontrolcode\",\r\n                    \"scontrolids\", undefined, undefined, true);\r\n                const controlButtonList = controlButtonMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        controlButton: controlButtonList,//: response.data,                                            \r\n                        loading: false,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nregsubtypecode: undefined\r\n                            //nregsubtypecode:{label:\"Please Select...\", value:-4}\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportRegSubType(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportRegistrationSubType\", {\r\n            nregtypecode: inputParam.registrationType.nregtypecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const regSubTypeMap = constructOptionList(response.data || [], \"nregsubtypecode\",\r\n                    \"sregsubtypename\", undefined, undefined, true);\r\n                const regSubTypeList = regSubTypeMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        regSubTypeList,//: response.data,                                            \r\n                        loading: false,\r\n                        ApproveConfigList:[],                                           \r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nregsubtypecode: undefined,\r\n                            napproveconfversioncode: undefined\r\n\r\n                            //nregsubtypecode:{label:\"Please Select...\", value:-4}\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportSubType(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportSubType\", {\r\n            nreporttypecode: inputParam.reportType.nreporttypecode,\r\n            nreporttypecode: inputParam.reportType.nreporttypecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n               // const reportSubTypeMap = constructOptionList(response.data.COAReportType || [], \"ncoareporttypecode\",\r\n               //     \"scoareporttypename\", undefined, undefined, true);\r\n               // const reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\r\n\r\n                const certificateTypeMap = constructOptionList(response.data.CertificateType || [], \"ncertificatetypecode\",\r\n                    \"scertificatetype\", undefined, undefined, true);\r\n                const certificateTypeList = certificateTypeMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                       // reportSubTypeList,\r\n                        certificateTypeList,\r\n                        loading: false,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            ncoareporttypecode: undefined,\r\n                            ncertificatetypecode: \"\"\r\n                            // ncoareporttypecode:{label:\"Please Select...\", value:-4}\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\nexport function getReportSampletype(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportSampleType\", {\r\n            nsampletypecode: inputParam.nsampletypecode, nreporttypecode: inputParam.reportType.nreporttypecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                // const reportRegTypeMap  = constructOptionList(response.data.Regtype ||[], \"nregtypecode\",\r\n                //                          \"sregtypename\" , undefined, undefined, true);   \r\n                // const  reportRegTypeList = reportRegTypeMap.get(\"OptionList\");\r\n\r\n                // // const reportRegSubTypeMap  = constructOptionList(response.data.RegSubtype ||[], \"nregsubtypecode\",\r\n                // // \"sregsubtypename\" , undefined, undefined, true);   \r\n                // //   const  reportRegSubTypeList = reportRegSubTypeMap.get(\"OptionList\");\r\n                \r\n                const sampleTypeMap = constructOptionList(response.data[\"SampleType\"] || [], \"nsampletypecode\",\r\n                \"ssampletypename\", undefined, undefined, true);\r\n                const sampleTypeList = sampleTypeMap.get(\"OptionList\");\r\n                \r\n                const regTypeMap = constructOptionList(response.data[\"RegistrationType\"] || [], \"nregtypecode\",\r\n                    \"sregtypename\", undefined, undefined, true);\r\n                const regTypeList = regTypeMap.get(\"OptionList\");\r\n\r\n                // const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\",\r\n                //     \"sregsubtypename\", undefined, undefined, true);\r\n                // const regSubTypeList = regSubTypeMap.get(\"OptionList\");\r\n\r\n                const coaReportTypeMap = constructOptionList(response.data.COAReportType || [], \"ncoareporttypecode\",\r\n                    \"scoareporttypename\", undefined, undefined, true);\r\n                const reportSubTypeList = coaReportTypeMap.get(\"OptionList\");\r\n\r\n                const certificateType = constructOptionList(response.data.CertificateType || [], \"ncertificatetypecode\",\r\n                    \"scertificatetype\", undefined, undefined, true);\r\n                const certificateTypeList = certificateType.get(\"OptionList\");\r\n\r\n\r\n                const nsampletypecode = getComboLabelValue(response.data[\"SelectedSampleType\"],\r\n                    response.data[\"SampleType\"], \"nsampletypecode\", \"ssampletypename\")\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        sampleTypeList,\r\n                        regTypeList,\r\n                      //  regSubTypeList,\r\n                        reportSubTypeList,\r\n                        loading: false,\r\n                        certificateTypeList,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nsampletypecode: nsampletypecode, nregtypecode: undefined,\r\n                            ncoareporttypecode: undefined,\r\n                            ncertificatetypecode: \"\"\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getregtype(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getRegistrationtypeForSample\", {\r\n            nsampletypecode: inputParam.sampleType.nsampletypecode,\r\n            nregtypecode: inputParam.nregtypecode, nreporttypecode: inputParam.selectedRecord.nreporttypecode.value,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                // const reportRegTypeMap  = constructOptionList(response.data.Regtype ||[], \"nregtypecode\",\r\n                //                          \"sregtypename\" , undefined, undefined, true);   \r\n                // const  reportRegTypeList = reportRegTypeMap.get(\"OptionList\");\r\n\r\n                // // const reportRegSubTypeMap  = constructOptionList(response.data.RegSubtype ||[], \"nregsubtypecode\",\r\n                // // \"sregsubtypename\" , undefined, undefined, true);   \r\n                // //   const  reportRegSubTypeList = reportRegSubTypeMap.get(\"OptionList\");\r\n                // const sampleTypeMap = constructOptionList(response.data[\"SampleType\"] || [], \"nsampletypecode\",\r\n                // \"ssampletypename\", undefined, undefined, true);\r\n                // const sampleTypeList = sampleTypeMap.get(\"OptionList\");\r\n                \r\n                const regTypeMap = constructOptionList(response.data[\"RegistrationType\"] || [], \"nregtypecode\",\r\n                    \"sregtypename\", undefined, undefined, true);\r\n                const regTypeList = regTypeMap.get(\"OptionList\");\r\n\r\n                // const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\",\r\n                //     \"sregsubtypename\", undefined, undefined, true);\r\n                // const regSubTypeList = regSubTypeMap.get(\"OptionList\");\r\n\r\n                const coaReportTypeMap = constructOptionList(response.data.COAReportType || [], \"ncoareporttypecode\",\r\n                    \"scoareporttypename\", undefined, undefined, true);\r\n                const reportSubTypeList = coaReportTypeMap.get(\"OptionList\");\r\n\r\n                const certificateType = constructOptionList(response.data.CertificateType || [], \"ncertificatetypecode\",\r\n                    \"scertificatetype\", undefined, undefined, true);\r\n                const certificateTypeList = certificateType.get(\"OptionList\");\r\n\r\n\r\n            //    const nregtypecode = getComboLabelValue(response.data[\"SelectedRegType\"],\r\n              //      response.data[\"RegistrationType\"], \"nregtypecode\", \"sregtypename\")\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                     //   sampleTypeList,\r\n                        regTypeList,\r\n                        regSubTypeList: [],\r\n                        ApproveConfigList:[],                                           \r\n                        reportSubTypeList,\r\n                        loading: false,\r\n                        certificateTypeList,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nregtypecode: undefined, nregsubtypecode: undefined,\r\n                            ncoareporttypecode: undefined,\r\n                            ncertificatetypecode: \"\",\r\n                            napproveconfversioncode: undefined\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportRegSubTypeApproveConfigVersion(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportRegSubTypeApproveConfigVersion\", {\r\n            nregtypecode: inputParam.selectedRecord.nregtypecode.value,\r\n            nregsubtypecode: inputParam.registrationsubType.nregsubtypecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const ApproveConfigVersionMap = constructOptionList(response.data || [], \"napproveconfversioncode\",\r\n                    \"sversionname\", undefined, undefined, false);\r\n                const ApproveConfigList = ApproveConfigVersionMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        ApproveConfigList,//: response.data,                                            \r\n                        loading: false,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            napproveconfversioncode: undefined\r\n\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportTemplate(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportTemplate\", {\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n                const reportTemplateMap = constructOptionList(response.data || [], \"nreporttemplatecode\",\r\n                    \"sreporttemplatename\", undefined, undefined, true);\r\n                const reportTemplateList = reportTemplateMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        reportTemplateList,                                         \r\n                        loading: false,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nreporttemplatecode:undefined\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}