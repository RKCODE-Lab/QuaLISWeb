{"ast":null,"code":"import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Row,Col,Card,Nav,FormGroup,FormLabel}from\"react-bootstrap\";import{connect}from\"react-redux\";import{toast}from\"react-toastify\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faCheck,faTrashAlt}from\"@fortawesome/free-solid-svg-icons\";import WorklistPreparationFilter from'./WorklistPreparationFilter';import{rearrangeDateFormat,convertDateValuetoString}from'../../components/CommonScript';import{injectIntl}from\"react-intl\";import Esign from\"../audittrail/Esign\";import AddWorklistSection from'../worklist/AddWorklistSection';import AddWorklistSample from'../worklist/AddWorklistSample';import CustomTab from\"../../components/custom-tabs/custom-tabs.component\";import WorklistHistoryTab from\"./WorklistHistoryTab\";import WorklistSampleTab from\"./WorklistSampleTab\";import{designProperties,transactionStatus,REPORTTYPE}from'../../components/Enumeration';import SpecificationInfo from'../testgroup/SpecificationInfo';import{ReactComponent as Closure}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/prepared-worklist.svg\";import{ReactComponent as ReportIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/report-Icon.svg\";import{callService,crudMaster,validateEsignCredential,updateStore,getSectionAndTest,getWorklistDetail,OpenDate,CloseDate,viewAttachment,getInstrumentCombo,getWorklistSample,getRegTypeTestWise,getRegTypeWorklist,getSectionbaseTest,onWorklistApproveClick,getWorklistDetailFilter,getEditSectionAndTest,createWorklistCreation,filterColumnData,getConfigVersionTestWise,ViewSampleDetails,getWorklisthistoryAction,reportWorklist}from\"../../actions\";import ListMaster from\"../../components/list-master/list-master.component\";import{DEFAULT_RETURN}from\"../../actions/LoginTypes\";import SlideOutModal from\"../../components/slide-out-modal/SlideOutModal\";import{showEsign,getControlMap,constructOptionList}from\"../../components/CommonScript\";import{ContentPanel,MediaLabel}from\"../../components/App.styles\";import{process}from\"@progress/kendo-data-query\";import ConfirmMessage from\"../../components/confirm-alert/confirm-message.component\";import BreadcrumbComponent from\"../../components/Breadcrumb.Component\";import{Affix}from\"rsuite\";import DataGrid from'../../components/data-grid/data-grid.component';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var WorkList=/*#__PURE__*/function(_Component){_inherits(WorkList,_Component);var _super=_createSuper(WorkList);function WorkList(props){var _this;_classCallCheck(this,WorkList);_this=_super.call(this,props);_this.handleDateChange=function(dateName,dateValue){if(dateValue===null){dateValue=new Date();}// let toDate;\n// let fromDate;\nvar fromdate=_this.props.Login.masterData.fromDate?rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate):new Date();var todate=_this.props.Login.masterData.toDate?rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate):new Date();var obj={};if(dateName==='fromDate'){obj=convertDateValuetoString(dateValue,todate,_this.props.Login.userInfo);fromdate=obj.fromDate;todate=obj.toDate;var fromDate=obj.fromDate;var toDate=obj.toDate;}else{obj=convertDateValuetoString(fromdate,dateValue,_this.props.Login.userInfo);fromdate=obj.fromDate;todate=obj.toDate;var _fromDate=obj.fromDate;var _toDate=obj.toDate;}var inputParam={inputData:{nflag:2,nregtypecode:_this.props.Login.masterData.RegTypeValue&&_this.props.Login.masterData.RegTypeValue.nregtypecode,nregsubtypecode:_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,nneedtemplatebasedflow:_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nneedtemplatebasedflow,fromdate:String(fromdate),todate:String(todate),userinfo:_this.props.Login.userInfo},masterData:_this.props.Login.masterData};_this.props.getConfigVersionTestWise(inputParam);};_this.onFilterComboChange=function(comboData,fieldName){if(comboData){var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var inputParamData={};if(fieldName==='nsampletypecode'){if(comboData.value!==_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode){inputParamData={nflag:2,nsampletypecode:comboData.value,userinfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,defaultSampleTypeValue:comboData.item};_this.props.getRegTypeWorklist(inputParamData);}}else if(fieldName==='nregtypecode'){if(comboData.value!==_this.props.Login.masterData.defaultRegTypeValue.nregtypecode){inputParamData={nflag:3,fromdate:obj.fromDate,todate:obj.toDate,nsampletypecode:_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode,nregtypecode:comboData.value,userinfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,defaultRegTypeValue:comboData.item};_this.props.getRegSubTypeTestWise(inputParamData);}}else if(fieldName==='nregsubtypecode'){if(comboData.value!==_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode){var inputData={nflag:4,fromdate:obj.fromDate,todate:obj.toDate,nsampletypecode:_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode,nregtypecode:_this.props.Login.masterData.RegTypeValue.nregtypecode,nneedtemplatebasedflow:comboData.item.nneedtemplatebasedflow,nregsubtypecode:comboData.value,userinfo:_this.props.Login.userInfo};inputParamData={inputData:inputData,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{RegSubTypeValue:comboData.item//RegistrationSubTypeList: inputParam.masterData.RegistrationSubTypeList\n})};_this.props.getConfigVersionTestWise(inputParamData);}}else if(fieldName==='ntransactionstatus'){if(comboData.value!==_this.props.Login.masterData.FilterStatusValue.ntransactionstatus){var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{FilterStatusValue:comboData.item});var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:masterData}};_this.props.updateStore(updateInfo);}}}};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){var inputData=[];var instSection=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);inputData['fromdate']=obj.fromDate;inputData['todate']=obj.toDate;if(_this.props.Login.screenName===\"IDS_WORKLIST\"){var postParam=undefined;inputData[\"worklist\"]={nstatus:_this.props.Login.userInfo.nmastersitecode};inputData[\"worklist\"][\"nsampletypecode\"]=_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode;inputData[\"worklist\"][\"nsectioncode\"]=_this.state.selectedRecord[\"nsectioncode\"].value;inputData[\"worklist\"][\"ntestcode\"]=_this.state.selectedRecord[\"ntestcode\"].value;inputData[\"worklist\"][\"nregtypecode\"]=_this.props.Login.masterData.RegTypeValue.nregtypecode;inputData[\"worklist\"][\"nregsubtypecode\"]=_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode;if(_this.props.Login.operation===\"update\"){inputData[\"worklist\"][\"nworklistcode\"]=_this.props.Login.masterData.selectedWorklist.nworklistcode;}var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"Worklist\",inputData:inputData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,postParam:postParam,searchRef:_this.searchRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}//add / edit  \nvar validList=true;if(_this.props.Login.screenName===\"IDS_WORKLISTSAMPLE\"&&_this.state.addedComponentList.length>1000){validList=false;}if(validList){var saveList=[];if(_this.props.Login.screenName===\"IDS_WORKLISTSAMPLE\"){var compList=_this.state.addedComponentList||[];//compList.map(item=>saveList.push({\"npreregno\": item.npreregno}));\nif(compList.length>0){compList.map(function(item){return saveList.indexOf(item.ntransactionsamplecode)===-1?saveList.push(item):\"\";});var _masterData=_this.props.Login.masterData;var _inputData={worklistcompcreationlist:saveList,userinfo:_this.props.Login.userInfo,worklistcreation:_this.props.Login.masterData.selectedWorklist,ndesigntemplatemappingcode:_this.props.Login.masterData.ndesigntemplatemappingcode};var dataState=undefined;var selectedId=null;var _postParam=undefined;var _inputParam={classUrl:\"worklist\",methodUrl:\"WorklistCreation\",inputData:_inputData,selectedId:selectedId,dataState:dataState,postParam:_postParam,operation:\"create\",saveType:saveType,masterData:_masterData};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var _updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:_inputParam,masterData:_masterData},saveType:saveType}};_this.props.updateStore(_updateInfo);}else{//this.props.crudMaster(inputParam,masterData, \"openChildModal\");\n_this.props.createWorklistCreation(_inputParam);}}else{//this.props.crudMaster(inputParam,masterData, \"openChildModal\");\ntoast.warn(_this.props.intl.formatMessage({id:\"IDS_SELCETONESAMPLE\"}));}}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_EXCEEDSMAXINSERT\"}));}};_this.DeleteWorklistSample=function(operation,ncontrolCode){var inputData=[];if(operation.screenName===\"IDS_WORKLISTSAMPLE\"){var dataState=_this.state.sectionDataState;inputData[\"worklistsample\"]={nsitecode:_this.props.Login.userInfo.ntranssitecode};inputData[\"worklistsample\"][\"nworklistcode\"]=operation.selectedRecord.nworklistcode;inputData[\"worklistsample\"][\"nworklistsamplecode\"]=operation.selectedRecord.nworklistsamplecode;inputData[\"worklistsample\"][\"ntransactiontestcode\"]=operation.selectedRecord.ntransactiontestcode;inputData[\"worklistsample\"][\"ntransactionsamplecode\"]=operation.selectedRecord.ntransactionsamplecode;inputData['ndesigntemplatemappingcode']=_this.props.Login.masterData.ndesigntemplatemappingcode;inputData[\"userinfo\"]=_this.props.Login.userInfo;var inputParam={methodUrl:\"WorklistSample\",classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,operation:\"delete\",dataState:dataState};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,operation.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"worklist\",operation:operation.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}};_this.selectionChange=function(event){var addedComponentList=_this.state.addedComponentList||[];var addComponentDataList=_this.props.Login.addComponentDataList.map(function(item){if(item.ntransactiontestcode===event.dataItem.ntransactiontestcode){item.selected=!event.dataItem.selected;if(item.selected){var newItem=JSON.parse(JSON.stringify(item));newItem[\"jsondata\"]={};newItem[\"jsonuidata\"]={};delete newItem['selected'];//newItem.selected = false;\nnewItem[\"jsondata\"]['worklist']=item;newItem[\"jsonuidata\"]['worklist']=item;addedComponentList.push(newItem);}else{addedComponentList=addedComponentList.filter(function(item1){return item1.ntransactiontestcode!==item.ntransactiontestcode;});}}return item;});_this.setState({addComponentDataList:addComponentDataList,addedComponentList:addedComponentList,addSelectAll:_this.valiateCheckAll(addComponentDataList),deleteSelectAll:_this.valiateCheckAll(addedComponentList)});};_this.specificationReport=function(ncontrolCode){if(_this.props.Login.masterData.selectedWorklist){var inputParam={inputData:{sprimarykeyname:'nworklistcode',userinfo:_this.props.Login.userInfo,ncontrolcode:ncontrolCode,nworklistcode:_this.props.Login.masterData.selectedWorklist.nworklistcode,nreporttypecode:REPORTTYPE.CONTROLBASED}};_this.props.reportWorklist(inputParam['inputData']);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\"}));}};_this.headerSelectionChange=function(event){var checked=event.syntheticEvent.target.checked;var addComponentDataList=event.dataItems;//this.state.addedComponentList || [];\nvar addedComponentList=[];if(checked){var _this$setState;var data=event.dataItems.map(function(item){//const data = this.state.addComponentDataList.map(item => {\nif(addedComponentList.findIndex(function(x){return x.ntransactiontestcode===item.ntransactiontestcode;})===-1){// addedComponentList.push({ ...item, selected: false });\nitem.selected=checked;var newItem=JSON.parse(JSON.stringify(item));newItem[\"jsondata\"]={};newItem[\"jsonuidata\"]={};delete newItem['selected'];//newItem.selected = false;\nnewItem[\"jsondata\"]['worklist']=item;newItem[\"jsonuidata\"]['worklist']=item;addedComponentList.push(newItem);//item.selected = false;\nreturn item;}else{var olditem=JSON.parse(JSON.stringify(addedComponentList[addedComponentList.findIndex(function(x){return x.ntransactiontestcode===item.ntransactiontestcode;})]));olditem.selected=checked;var _newItem=JSON.parse(JSON.stringify(olditem));_newItem.selected=false;_newItem[\"jsondata\"]={};_newItem[\"jsonuidata\"]={};delete _newItem['selected'];_newItem[\"jsondata\"]['worklist']=olditem;_newItem[\"jsonuidata\"]['worklist']=olditem;addedComponentList.push(_newItem);return olditem;}});_this.setState((_this$setState={addComponentDataList:data,addedComponentList:addedComponentList,addSelectAll:_this.valiateCheckAll(addedComponentList),deleteSelectAll:_this.valiateCheckAll(addedComponentList)},_defineProperty(_this$setState,\"addSelectAll\",checked),_defineProperty(_this$setState,\"deleteSelectAll\",false),_this$setState));}//   if (checked) {\n//     const data = event.dataItems.map(item => {\n//         if (addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\n//           addComponentDataList.push({ ...item, selected: false });\n//             item.selected = checked;   \n//             let newItem = JSON.parse(JSON.stringify(item));\n//             newItem.selected = false;\n//             newItem[\"jsondata\"]={};\n//             newItem[\"jsonuidata\"]={};\n//             newItem[\"jsondata\"]['worklist'] = item\n//             newItem[\"jsonuidata\"]['worklist'] = item    \n//             addedComponentList.push(newItem);\n//             return item;\n//         } else {\n//             let olditem = JSON.parse(JSON.stringify(addComponentDataList[addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\n//             olditem.selected = checked;\n//             let newItem = JSON.parse(JSON.stringify(olditem));\n//             newItem.selected = false;\n//             newItem[\"jsondata\"]={};\n//             newItem[\"jsonuidata\"]={};\n//             newItem[\"jsondata\"]['worklist'] = olditem\n//             newItem[\"jsonuidata\"]['worklist'] = olditem\n//             addedComponentList.push(newItem);\n//             return olditem;\n//         }\n//     });\n//     this.setState({\n//       addComponentDataList: data,\n//         addedComponentList:addedComponentList,\n//         addComponentDataList,\n//         addSelectAll: checked, \n//         deleteSelectAll: false\n//     });\n// }\nelse{var _this$setState2;var addedComponentData=_this.state.addedComponentList||[];var deletedListdData=_this.state.deletedList||[];var _data=_this.state.addComponentDataList.map(function(item){addedComponentData=addedComponentData.filter(function(item1){return item1.npreregno!==item.npreregno;});deletedListdData=deletedListdData.filter(function(item1){return item1.npreregno!==item.npreregno;});item.selected=checked;return item;});// console.log(\"data:\",data1, data2);\n_this.setState((_this$setState2={addComponentDataList:_data,addedComponentList:addedComponentData,deletedList:deletedListdData,addSelectAll:_this.valiateCheckAll(addedComponentList),deleteSelectAll:_this.valiateCheckAll(addedComponentList)},_defineProperty(_this$setState2,\"addSelectAll\",checked),_defineProperty(_this$setState2,\"deleteSelectAll\",false),_this$setState2));}};_this.validateEsign=function(){var inputParam={inputData:{userinfo:_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.tabDetail=function(){var tabMap=new Map();var deleteSecId=_this.state.controlMap.has(\"DeleteWorklistSample\")&&_this.state.controlMap.get(\"DeleteWorklistSample\").ncontrolcode;var addSampleId=_this.state.controlMap.has(\"AddSamples\")&&_this.state.controlMap.get(\"AddSamples\").ncontrolcode;var viewSampleId=_this.state.controlMap.has(\"ViewWorklistSample\")&&_this.state.controlMap.get(\"ViewWorklistSample\").ncontrolcode;tabMap.set(\"IDS_WORKLISTSAMPLE\",/*#__PURE__*/React.createElement(WorklistSampleTab,{controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,dataState:_this.props.Login.masterData.WorklistSamples,selectedWorklist:_this.props.Login.masterData.WorklistSamples,extractedColumnList:_this.gridfillingColumn(_this.state.DynamicGridItem)||[],detailedFieldList:_this.gridfillingColumn(_this.state.DynamicGridMoreItem)||[],userInfo:_this.props.Login.userInfo,inputParam:_this.props.Login.inputParam,deleteRecord:_this.DeleteWorklistSample,deleteSecId:deleteSecId,defaultRecord:_this.defaultRecord,WorklistSamples:_this.props.Login.masterData.WorklistSamples||[],viewSample:_this.viewSample,screenName:\"IDS_WORKLISTSAMPLE\",selectedRecord:_this.state.selectedRecord,settings:_this.props.Login.settings,getWorklistSample:_this.props.getWorklistSample,masterData:_this.props.Login.masterData,addSampleId:addSampleId,viewSampleId:viewSampleId}));tabMap.set(\"IDS_WORKLISTHISTORY\",/*#__PURE__*/React.createElement(WorklistHistoryTab,{dataState:_this.props.Login.masterData.WorklistHistory,selectedWorklistHistory:_this.props.Login.masterData.WorklistHistory,InstrumentSection:_this.props.Login.masterData.WorklistHistory||[],userInfo:_this.props.Login.userInfo//inputParam={this.props.Login.inputParam}\n// deleteRecord={this.DeleteWorklistSample}\n// deleteSecId={deleteSecId}\n// defaultSecId={defaultSecId}\n// defaultRecord={this.defaultRecord}\n,screenName:\"IDS_WORKLISTHISTORY\",selectedRecord:_this.state.selectedRecord,settings:_this.props.Login.settings}));return tabMap;};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;if(screenName==\"IDS_WORKLISTHISTORY\"){var inputData={masterData:_this.props.Login.masterData,userInfo:_this.props.Login.userInfo,nworklistcode:_this.props.Login.masterData.selectedWorklist.nworklistcode};_this.props.getWorklisthistoryAction(inputData,true);}else{var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName,activeKey:\"IDS_WORKLISTSAMPLE\"}};_this.props.updateStore(updateInfo);}};_this.reloadData=function(){_this.searchRef.current.value=\"\";var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var realFromDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate);var realToDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate);var defaultSampleTypeValue=_this.props.Login.masterData.defaultSampleTypeValue;var defaultRegTypeValue=_this.props.Login.masterData.defaultRegTypeValue;var defaultRegSubTypeValue=_this.props.Login.masterData.defaultRegSubTypeValue;var defaultFilterStatusValue=_this.props.Login.masterData.defaultFilterStatusValue;var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realFromDate:realFromDate,realToDate:realToDate,defaultSampleTypeValue:defaultSampleTypeValue,defaultRegTypeValue:defaultRegTypeValue,defaultRegSubTypeValue:defaultRegSubTypeValue,defaultFilterStatusValue:defaultFilterStatusValue});var inputData={nsampletypecode:_this.props.Login.masterData.defaultSampleTypeValue&&_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode||-1,nregtypecode:parseInt(_this.props.Login.masterData.defaultRegTypeValue&&_this.props.Login.masterData.defaultRegTypeValue.nregtypecode)||-1,nregsubtypecode:parseInt(_this.props.Login.masterData.defaultRegSubTypeValue&&_this.props.Login.masterData.defaultRegSubTypeValue.nregsubtypecode)||-1,ntransactionstatus:_this.props.Login.masterData.defaultFilterStatusValue&&_this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus||-1,userinfo:_this.props.Login.userInfo};if(inputData.nsampletypecode!==-1&&inputData.nregtypecode!==-1&&inputData.nregsubtypecode!==-1&&inputData.ntransactionstatus!==\"-1\"){inputData['fromdate']=obj.fromDate;inputData['todate']=obj.toDate;inputData['ndesigntemplatemappingcode']=_this.props.Login.masterData.ndesigntemplatemappingcode;var inputParam={masterData:masterData,inputData:inputData,searchTestRef:_this.searchTestRef,skip:_this.state.skip,take:_this.state.take,testskip:_this.state.testskip,testtake:_this.state.testtake};_this.props.getWorklistDetailFilter(inputParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTALLVALUESINFILTER\"}));}};_this.ConfirmDelete=function(operation,deleteId){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.DeleteWorklist(operation,deleteId,operation.screenName?operation.screenName:\"IDS_WORKLIST\");});};_this.DeleteWorklist=function(operation,ncontrolCode){var inputData=[];inputData[\"worklist\"]=_this.props.Login.masterData.selectedWorklist;inputData[\"userinfo\"]=_this.props.Login.userInfo;var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);inputData['fromdate']=obj.fromDate;inputData['todate']=obj.toDate;inputData['ndesigntemplatemappingcode']=_this.props.Login.masterData.ndesigntemplatemappingcode;var postParam={inputListName:\"Worklist\",selectedObject:\"selectedWorklist\",primaryKeyField:\"nworklistcode\",primaryKeyValue:_this.props.Login.masterData.selectedWorklist.nworklistcode//fecthInputObject: { userinfo: this.props.Login.userInfo },\n};var inputParam={methodUrl:\"Worklist\",postParam:postParam,classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,operation:operation.operation};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"Worklist\",operation:operation.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};if(comboData!==null){switch(caseNo){case 1:if(selectedRecord[fieldName]&&selectedRecord[fieldName].value!==comboData.value){delete selectedRecord[\"ntestcode\"];}selectedRecord[fieldName]=comboData;//this.setState({ selectedRecord });\n_this.props.getSectionbaseTest(selectedRecord,_this.props.Login.userInfo,_this.props.Login.masterData,_this.props.Login.ncontrolCode);break;default:break;}}else{if(selectedRecord[\"nsectioncode\"]){delete selectedRecord[\"nsectioncode\"];delete selectedRecord[\"nusercode\"];}var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var modalShow=_this.props.Login.modalShow;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if((_this.props.Login.operation.operation?_this.props.Login.operation.operation:_this.props.Login.operation)===\"delete\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord[\"agree\"]=transactionStatus.NO;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";modalShow=true;//openModal = false;\n}}else{openModal=false;modalShow=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,modalShow:modalShow,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.viewSample=function(viewdetails){//let openModal = this.props.Login.openModal;\n//let openModal = true;\n//let screenName = 'IDS_VIEWDETAILS'\n_this.props.ViewSampleDetails(_this.props.Login.masterData,\"IDS_VIEWDETAILS\",_this.props.Login.userInfo,viewdetails);};_this.closeModalShow=function(){var loadEsign=_this.props.Login.loadEsign;var modalShow=_this.props.Login.modalShow;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){loadEsign=false;}else{modalShow=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{modalShow:modalShow,selectedRecord:selectedRecord,selectedId:null,loadEsign:loadEsign}};_this.props.updateStore(updateInfo);};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var realFromDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate);var realToDate=rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate);var defaultSampleTypeValue=_this.props.Login.masterData.SampleTypeValue;var defaultRegTypeValue=_this.props.Login.masterData.RegTypeValue;var defaultRegSubTypeValue=_this.props.Login.masterData.RegSubTypeValue;var defaultFilterStatusValue=_this.props.Login.masterData.FilterStatusValue;var defaultApprovalVersion=_this.props.Login.masterData.defaultApprovalVersionValue;var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realFromDate:realFromDate,realToDate:realToDate,defaultSampleTypeValue:defaultSampleTypeValue,defaultRegTypeValue:defaultRegTypeValue,defaultRegSubTypeValue:defaultRegSubTypeValue,defaultFilterStatusValue:defaultFilterStatusValue,defaultApprovalVersion:defaultApprovalVersion});var inputData={//npreregno: \"0\",\nnsampletypecode:_this.props.Login.masterData.defaultSampleTypeValue&&_this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode||-1,nregtypecode:parseInt(_this.props.Login.masterData.defaultRegTypeValue&&_this.props.Login.masterData.defaultRegTypeValue.nregtypecode)||-1,nregsubtypecode:parseInt(_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode)||-1,ntransactionstatus:_this.props.Login.masterData.FilterStatusValue&&_this.props.Login.masterData.FilterStatusValue.ntransactionstatus||-1,userinfo:_this.props.Login.userInfo// activeTestTab: this.props.Login.activeTestTab,\n};if(inputData.nsampletypecode!==-1&&inputData.nregtypecode!==-1&&inputData.nregsubtypecode!==-1&&inputData.ntransactionstatus!==\"-1\"){inputData['fromdate']=obj.fromDate;inputData['todate']=obj.toDate;inputData['ndesigntemplatemappingcode']=_this.props.Login.masterData.ndesigntemplatemappingcode;var inputParam={masterData:masterData,inputData:inputData,searchTestRef:_this.searchTestRef,skip:_this.state.skip,take:_this.state.take,testskip:_this.state.testskip,testtake:_this.state.testtake};_this.props.getWorklistDetailFilter(inputParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTALLVALUESINFILTER\"}));}};var sectionDataState={skip:0,take:10};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],selectedWorklist:undefined,controlMap:new Map(),Instrument:[],sectionDataState:sectionDataState,addComponentDataList:[],addedComponentList:[],RegistrationSubTypeList:[],FilterStatusList:[],SampletypeList:[],RegTypeValue:[],ConfigVersionList:[]};_this.searchRef=React.createRef();_this.searchFieldList=[\"sworklistno\",\"stestname\"];_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(WorkList,[{key:\"gridfillingColumn\",value:function gridfillingColumn(data){var _this2=this;var temparray=data&&data.map(function(option){return{\"idsName\":option[designProperties.LABEL][_this2.props.Login.userInfo.slanguagetypecode],\"dataField\":option[designProperties.VALUE],\"width\":\"200px\",\"columnSize\":\"3\"};});return temparray;}// onNumericInputOnChange = (value, name) => {\n//   const selectedRecord = this.state.selectedRecord || {};\n//   selectedRecord[name] = value;\n//   this.setState({ selectedRecord });\n// };\n},{key:\"valiateCheckAll\",value:// onApproveClick = () => {\n//   //if (this.props.Login.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.DRAFT) {\n//   const ncontrolCode = this.state.controlMap.has(\"ApproveSupplier\") && this.state.controlMap.get(\"ApproveSupplier\").ncontrolcode\n//   let inputData = [];\n//   inputData[\"userinfo\"] = this.props.Login.userInfo;\n//   //add               \n//   let postParam = undefined;\n//   inputData[\"supplier\"] = { \"nsuppliercode\": this.props.Login.masterData.SelectedSupplier[\"nsuppliercode\"] ? this.props.Login.masterData.SelectedSupplier[\"nsuppliercode\"].Value : \"\" };\n//   inputData[\"supplier\"] = this.props.Login.masterData.SelectedSupplier;\n//   postParam = { inputListName: \"Supplier\", selectedObject: \"SelectedSupplier\", primaryKeyField: \"nsuppliercode\" };\n//   const inputParam = {\n//     classUrl: 'supplier',\n//     methodUrl: \"Supplier\",\n//     inputData: inputData,\n//     operation: \"approve\", postParam\n//   }\n//   let saveType;\n//   const masterData = this.props.Login.masterData;\n//   const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\n//   if (esignNeeded) {\n//     const updateInfo = {\n//       typeName: DEFAULT_RETURN,\n//       data: {\n//         loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"approve\"\n//       }\n//     }\n//     this.props.updateStore(updateInfo);\n//   }\n//   else {\n//     this.props.crudMaster(inputParam, masterData, \"openModal\");\n//   }\n//   // }\n//   // else {\n//   //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORDTOAPPROVE\" }));\n//   // }\n// }\nfunction valiateCheckAll(data){var selectAll=true;// let checkRepeatComponent;\n//  let addedComponentList = this.state.addedComponentList || [];\nif(data&&data.length>0){data.forEach(function(dataItem){if(dataItem.selected){if(dataItem.selected===false){selectAll=false;}}else{selectAll=false;// checkRepeatComponent=this.state.addComponentDataList.filter(item=>item.npreregno==data.npreregno)\n// if(checkRepeatComponent.length>0){\n//     selectAll = true;\n// }else{\n//     selectAll = false;\n// }\n}});}else{//if (gridType === \"originalgrid\"){\nselectAll=false;// }\n}return selectAll;}},{key:\"render\",value:function render(){var _this3=this;var obj=convertDateValuetoString(this.props.Login.masterData.fromDate,this.props.Login.masterData.toDate,this.props.Login.userInfo);var mandatoryFields=[];this.feildsForGrid=[{\"idsName\":\"IDS_TEST\",\"dataField\":\"stestsynonym\",\"width\":\"200px\"},{\"idsName\":\"IDS_PARAMETER\",\"dataField\":\"sparametersynonym\",\"width\":\"100px\"},{\"idsName\":\"IDS_RESULT\",\"dataField\":\"sfinal\",\"width\":\"100px\"}];this.extractedColumnList=[//  { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\n{\"idsName\":\"IDS_NEWCOMMENTS\",\"dataField\":\"scomments\",\"width\":\"350px\"},{\"idsName\":\"IDS_USERNAME\",\"dataField\":\"susername\",\"width\":\"200px\"},{\"idsName\":\"IDS_USERROLE\",\"dataField\":\"suserrolename\",\"width\":\"200px\"},{\"idsName\":\"IDS_ACTIONTYPE\",\"dataField\":\"sactiontype\",\"width\":\"200px\"},{\"idsName\":\"IDS_MODULENAME\",\"dataField\":\"smodulename\",\"width\":\"200px\"},{\"idsName\":\"IDS_FORMNAME\",\"dataField\":\"sformname\",\"width\":\"200px\"},{\"idsName\":\"IDS_REASON\",\"dataField\":\"spredefinedreason\",\"width\":\"200px\"},{\"idsName\":\"IDS_ESIGNCOMMENTS\",\"dataField\":\"sreason\",\"width\":\"200px\"}];var auditInfoFields=[{\"fieldName\":\"sarno\",\"label\":\"IDS_ARNO\"},{\"fieldName\":\"sfirstname\",\"label\":\"IDS_PATIENTNAME\"},{\"fieldName\":\"sage\",\"label\":\"IDS_AGE\"},{\"fieldName\":\"sgendername\",\"label\":\"IDS_GENDER\"},{\"fieldName\":\"sregdate\",\"label\":\"IDS_REGISTRATIONDATE\"},{\"fieldName\":\"scompletedate\",\"label\":\"IDS_COMPLETEDDATEANDTIME\"}];if(this.props.Login.screenName===\"IDS_WORKLIST\"){mandatoryFields.push({mandatory:true,idsName:\"IDS_ADDSECTION\",dataField:\"nsectioncode\",mandatoryLabel:\"IDS_SELECT\",controlType:\"selectbox\"},{mandatory:true,idsName:\"IDS_TEST\",dataField:\"ntestcode\",mandatoryLabel:\"IDS_SELECT\",controlType:\"selectbox\"});}var addId=this.state.controlMap.has(\"AddWorklist\")&&this.state.controlMap.get(\"AddWorklist\").ncontrolcode;// const editId =\n//   this.state.controlMap.has(\"EditWorklist\") &&\n//   this.state.controlMap.get(\"EditWorklist\").ncontrolcode;\nvar deleteId=this.state.controlMap.has(\"DeleteWorklist\")&&this.state.controlMap.get(\"DeleteWorklist\").ncontrolcode;var approvalId=this.state.controlMap.has(\"GenerateWorklist\")&&this.state.controlMap.get(\"GenerateWorklist\").ncontrolcode;var reportId=this.state.controlMap.has(\"WorklistReport\")&&this.state.controlMap.get(\"WorklistReport\").ncontrolcode;// const addSampleId =\n//   this.state.controlMap.has(\"AddWorklistSample\") &&\n//   this.state.controlMap.get(\"AddWorklistSample\").ncontrolcode;\n// const deleteSampleId =\n// this.state.controlMap.has(\"DeleteWorklistSample\") &&\n// this.state.controlMap.get(\"DeleteWorklistSample\").ncontrolcode;\nvar selectedWorklist=this.props.Login.masterData.selectedWorklist;var filterParam={inputListName:\"Worklist\",selectedObject:\"selectedWorklist\",primaryKeyField:\"nworklistcode\",fetchUrl:\"worklist/getWorklistSample\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var breadCrumbData=this.state.filterData||[];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{formatMessage:this.props.intl.formatMessage,screenName:\"worklist\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.Worklist,getMasterDetail:function getMasterDetail(worklist){return _this3.props.getWorklistDetail(worklist,_this3.props.Login.userInfo,_this3.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedWorklist,primaryKeyField:\"nworklistcode\",mainField:\"sworklistno\",firstField:\"stestname\",secondField:\"ssectionname\",isIDSField:\"Yes\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,searchRef:this.searchRef,addId:addId//hidePaging={true}\n,reloadData:this.reloadData,openModal:function openModal(){return _this3.props.getSectionAndTest(\"IDS_WORKLIST\",\"create\",\"nworklistcode\",_this3.props.Login.masterData,_this3.props.Login.userInfo,addId);},openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,showFilterIcon:true,showFilter:this.props.Login.showFilter,filterComponent:[{IDS_WORKLISTFILTER:/*#__PURE__*/React.createElement(WorklistPreparationFilter,{SampleTypeValue:this.props.Login.masterData.defaultSampleTypeValue||{},RegTypeValue:this.props.Login.masterData.RegTypeValue||{},RegSubTypeValue:this.props.Login.masterData.RegSubTypeValue||{},RegSubType:this.state.RegistrationSubTypeList||[],RegType:this.state.RegistrationTypeList||[],userInfo:this.props.Login.userInfo||{},ApprovalVersion:this.state.ConfigVersionList||[],ApprovalVersionValue:this.props.Login.masterData.defaultApprovalVersionValue||[]//SampleType={this.state.stateSampleType || []}\n,FilterStatusValue:this.props.Login.masterData.FilterStatusValue||{},FilterStatus:this.state.FilterStatusList||[],RegistrationType:this.state.stateRegistrationType||[],RegistrationSubType:this.state.stateRegistrationSubType||[],fromDate:this.props.Login.masterData.fromDate?rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.fromDate):new Date(),toDate:this.props.Login.masterData.toDate?rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.toDate):new Date(),handleDateChange:this.handleDateChange,onFilterComboChange:this.onFilterComboChange,SampleType:this.state.SampletypeList||[]})}]})),/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.selectedWorklist?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.selectedWorklist.sworklistno),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(MediaLabel,{className:\"btn btn-outlined \".concat(this.props.Login.masterData.selectedWorklist.ntransactionstatus===83?\"outline-success\":\"outline-secondary\",\" btn-sm ml-3\")},this.props.Login.masterData.selectedWorklist.ntransactionstatus===83&&/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCheck}),this.props.Login.masterData.selectedWorklist.stransdisplaystatus)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"deleteWorklist\",className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})//   data-for=\"tooltip_list_wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this3.ConfirmDelete({operation:\"delete\",screenName:\"IDS_WORKLIST\"},deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approvalId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_PREPARED\"}),onClick:function onClick(){return _this3.props.onWorklistApproveClick(_this3.props.Login.masterData,_this3.props.Login.userInfo,_this3.confirmMessage,approvalId);}},/*#__PURE__*/React.createElement(Closure,{className:\"custom_icons\",width:\"17\",height:\"20\"})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(reportId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REPORT\"}),onClick:function onClick(){return _this3.specificationReport(reportId);}},/*#__PURE__*/React.createElement(ReportIcon,{className:\"custom_icons\",width:\"17\",height:\"20\"})))))),/*#__PURE__*/React.createElement(Card.Body,null,selectedWorklist&&/*#__PURE__*/React.createElement(CustomTab,{activeKey:this.props.Login.activeKey?this.props.Login.activeKey:\"IDS_WORKLISTSAMPLE\",tabDetail:this.tabDetail(),onTabChange:this.onTabChange}))):\"\"))))))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,mandatoryFields:mandatoryFields,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},hideSave:this.props.Login.screenName===\"IDS_VIEWDETAILS\"?true:false,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_WORKLIST\"?/*#__PURE__*/React.createElement(AddWorklistSection//onNumericInputOnChange={this.onNumericInputOnChange}\n,{selectedRecord:this.props.Login.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,SectionValue:this.props.Login.Section,TestValue:this.props.Login.Test,handleDateChange:this.handleDateChange}):this.props.Login.screenName===\"IDS_WORKLISTSAMPLE\"?/*#__PURE__*/React.createElement(AddWorklistSample,{selectionChange:this.selectionChange,headerSelectionChange:this.headerSelectionChange,addComponentDataList:this.props.Login.addComponentDataList,addSelectAll:this.state.addSelectAll//onNumericInputOnChange={this.onNumericInputOnChange}\n,selectedRecord:this.props.Login.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,TestValue:this.props.Login.Test,handleDateChange:this.handleDateChange}):this.props.Login.screenName===\"IDS_VIEWDETAILS\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card,{className:\"one\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(SpecificationInfo,{controlMap:this.state.controlMap,auditInfoFields:auditInfoFields,userRoleControlRights:this.state.userRoleControlRights,selectedSpecification:this.props.Login.masterData.viewdetails,userInfo:this.props.Login.userInfo,selectedNode:this.props.Login.masterData.selectedNode,selectedRecord:this.state.filterData,approvalRoleActionDetail:this.props.Login.masterData.ApprovalRoleActionDetail,screenName:\"IDS_SPECIFICATIONINFO\"}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"ntransactiontestcode\"//data={this.props.Login.addComponentDataList || []}\n,detailedFieldList:this.feildsForGrid,extractedColumnList:this.feildsForGrid,dataResult:this.props.Login.masterData.AuditModifiedComments&&this.props.Login.masterData.AuditModifiedComments.length>0&&process(this.props.Login.masterData.AuditModifiedComments,{skip:0,take:10}),dataState:{skip:0,take:10},selectionChange:this.selectionChange,headerSelectionChange:this.headerSelectionChange})):\"\"}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,selectedRecord=_this$state.selectedRecord,addedComponentList=_this$state.addedComponentList,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,filterData=_this$state.filterData,nfilterInstrumentCategory=_this$state.nfilterInstrumentCategory,filterInstrumentCategory=_this$state.filterInstrumentCategory,RegistrationSubTypeList=_this$state.RegistrationSubTypeList,FilterStatusList=_this$state.FilterStatusList,SampletypeList=_this$state.SampletypeList,RegistrationTypeList=_this$state.RegistrationTypeList,DynamicGridItem=_this$state.DynamicGridItem,DynamicGridMoreItem=_this$state.DynamicGridMoreItem,ConfigVersionList=_this$state.ConfigVersionList,subsampleGridItem=_this$state.subsampleGridItem,sampleGridItem=_this$state.sampleGridItem,_this$state$testGridI=_this$state.testGridItem,testGridItem=_this$state$testGridI===void 0?[]:_this$state$testGridI,samplegridmoreitem=_this$state.samplegridmoreitem,addSelectAll=_this$state.addSelectAll,deleteSelectAll=_this$state.deleteSelectAll;if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);updateState=true;}if(this.props.Login.masterData!==previousProps.Login.masterData){var RegistrationSubTypeListMap=constructOptionList(this.props.Login.masterData.RegistrationSubType||[],\"nregsubtypecode\",\"sregsubtypename\",\"nsorter\",'ascending','nregsubtypecode',false);RegistrationSubTypeList=RegistrationSubTypeListMap.get(\"OptionList\");var RegistrationTypeListMap=constructOptionList(this.props.Login.masterData.RegistrationType||[],\"nregtypecode\",\"sregtypename\",\"nsorter\",'ascending','nregtypecode',false);RegistrationTypeList=RegistrationTypeListMap.get(\"OptionList\");var FilterStatusListMap=constructOptionList(this.props.Login.masterData.FilterStatus||[],\"ntransactionstatus\",\"stransdisplaystatus\",undefined,undefined,false);FilterStatusList=FilterStatusListMap.get(\"OptionList\");var SampletypeListMap=constructOptionList(this.props.Login.masterData.SampleType||[],\"nsampletypecode\",\"ssampletypename\",'ascending','nsampletypecode',false);SampletypeList=SampletypeListMap.get(\"OptionList\");var ConfigVersionListMap=constructOptionList(this.props.Login.masterData.ApprovalConfigVersion||[],\"napprovalconfigversioncode\",\"sversionname\",'descending','ntransactionstatus',false);ConfigVersionList=ConfigVersionListMap.get(\"OptionList\");nfilterInstrumentCategory=this.state.nfilterInstrumentCategory||{};addSelectAll=false;deleteSelectAll=true;if(this.props.Login.masterData.SelectedInsCat&&this.props.Login.masterData.SelectedInsCat!==previousProps.Login.masterData.SelectedInsCat){nfilterInstrumentCategory={label:this.props.Login.masterData.SelectedInsCat.stestsynonym,value:this.props.Login.masterData.SelectedInsCat.ntestcode,item:this.props.Login.masterData.SelectedInsCat};}filterData=this.generateBreadCrumData();updateState=true;}if(this.props.Login.masterData.DynamicDesign&&this.props.Login.masterData.DynamicDesign!==previousProps.Login.masterData.DynamicDesign){var dynamicColumn=JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata.value);testGridItem[0]=dynamicColumn.testListFields.releasetestfields[0]?dynamicColumn.testListFields.releasetestfields[0]:[];sampleGridItem=dynamicColumn.samplegriditem?dynamicColumn.samplegriditem:[];subsampleGridItem=dynamicColumn.subsamplelistitem?dynamicColumn.subsamplelistitem:[];//testGridItem= dynamicColumn.conditionfields ? dynamicColumn.conditionfields : [];\nDynamicGridItem=[].concat(_toConsumableArray(testGridItem),_toConsumableArray(sampleGridItem),_toConsumableArray(subsampleGridItem));samplegridmoreitem=dynamicColumn.samplegridmoreitem?dynamicColumn.samplegridmoreitem:[];DynamicGridMoreItem=_toConsumableArray(samplegridmoreitem);//DynamicGridItem.push(dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [])\n}if(this.props.Login.masterData.filterInstrumentCategory!==previousProps.Login.masterData.filterInstrumentCategory){var insCategoryMap=constructOptionList(this.props.Login.masterData.filterInstrumentCategory||[],\"ntestcode\",\"stestsynonym\",\"ntestcategorycode\",\"ascending\",false);filterInstrumentCategory=insCategoryMap.get(\"OptionList\");if(insCategoryMap.get(\"DefaultValue\")){nfilterInstrumentCategory=insCategoryMap.get(\"DefaultValue\");}else if(filterInstrumentCategory&&filterInstrumentCategory.length>0){nfilterInstrumentCategory=filterInstrumentCategory[0];}updateState=true;}// let updateState = false;\nvar updateStateObject={};if(this.props.Login.addedComponentList!==previousProps.Login.addedComponentList){addSelectAll=false;deleteSelectAll=true;this.setState({addedComponentList:this.props.Login.addedComponentList,addSelectAll:addSelectAll,deleteSelectAll:deleteSelectAll});}if(this.props.addedComponentList!==previousProps.addedComponentList){// this.setState({ addedComponentList : this.props.addedComponentList});\nupdateState=true;updateStateObject=_objectSpread(_objectSpread({},updateStateObject),{},{addedComponentList:this.props.addedComponentList});}if(updateState){this.setState({selectedRecord:selectedRecord,userRoleControlRights:userRoleControlRights,controlMap:controlMap,filterData:filterData,nfilterInstrumentCategory:nfilterInstrumentCategory,filterInstrumentCategory:filterInstrumentCategory,RegistrationSubTypeList:RegistrationSubTypeList,FilterStatusList:FilterStatusList,SampletypeList:SampletypeList,RegistrationTypeList:RegistrationTypeList,DynamicGridItem:DynamicGridItem,ConfigVersionList:ConfigVersionList,DynamicGridMoreItem:DynamicGridMoreItem,addSelectAll:addSelectAll,deleteSelectAll:deleteSelectAll});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){//obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\nvar breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.Worklist){var obj=convertDateValuetoString(this.props.Login.masterData.fromDate,this.props.Login.masterData.toDate,this.props.Login.userInfo);breadCrumbData.push({\"label\":\"IDS_FROM\",\"value\":obj.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":obj.breadCrumbto},// {\n//   \"label\": \"IDS_SAMPLETYPE\",\n//   \"value\": this.props.Login.masterData.defaultSampleTypeValue ? this.props.Login.masterData.defaultSampleTypeValue.ssampletypename || \"NA\" :\n//     this.props.Login.masterData.defaultSampleTypeValue ? this.props.Login.masterData.defaultSampleTypeValue.ssampletypename || \"NA\" : \"NA\"\n// },\n{\"label\":\"IDS_REGTYPE\",\"value\":this.props.Login.masterData.defaultRegTypeValue?this.props.Login.masterData.defaultRegTypeValue.sregtypename||\"NA\":this.props.Login.masterData.defaultRegTypeValue?this.props.Login.masterData.defaultRegTypeValue.sregtypename||\"NA\":\"NA\"},{\"label\":\"IDS_REGSUBTYPE\",\"value\":this.props.Login.masterData.defaultRegSubTypeValue?this.props.Login.masterData.defaultRegSubTypeValue.sregsubtypename||\"NA\":this.props.Login.masterData.defaultRegSubTypeValue?this.props.Login.masterData.defaultRegSubTypeValue.sregsubtypename:\"NA\"},// {\n//   \"label\": \"IDS_CONFIGVERSION\",\n//   \"value\": this.props.Login.masterData.defaultApprovalVersion ?\n//     this.props.Login.masterData.defaultApprovalVersion.sversionname || \"NA\" :\n//     this.props.Login.masterData.defaultApprovalVersion ? this.props.Login.masterData.defaultApprovalVersion.sversionname || \"NA\" : \"NA\"\n// },\n{\"label\":\"IDS_WORKLISTSTATUS\",\"value\":this.props.Login.masterData.defaultFilterStatusValue?this.props.Login.masterData.defaultFilterStatusValue.stransdisplaystatus||\"NA\":this.props.Login.masterData.defaultFilterStatusValue?this.props.Login.masterData.defaultFilterStatusValue.stransdisplaystatus||\"NA\":\"NA\"}//];\n);}return breadCrumbData;}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return WorkList;}(Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,getWorklistDetail:getWorklistDetail,filterColumnData:filterColumnData,getSectionAndTest:getSectionAndTest,updateStore:updateStore,validateEsignCredential:validateEsignCredential,onWorklistApproveClick:onWorklistApproveClick,OpenDate:OpenDate,CloseDate:CloseDate,viewAttachment:viewAttachment,getInstrumentCombo:getInstrumentCombo,getWorklistSample:getWorklistSample,getRegTypeTestWise:getRegTypeTestWise,getRegTypeWorklist:getRegTypeWorklist,getSectionbaseTest:getSectionbaseTest,getWorklistDetailFilter:getWorklistDetailFilter,getEditSectionAndTest:getEditSectionAndTest,createWorklistCreation:createWorklistCreation,getConfigVersionTestWise:getConfigVersionTestWise,ViewSampleDetails:ViewSampleDetails,getWorklisthistoryAction:getWorklisthistoryAction,reportWorklist:reportWorklist})(injectIntl(WorkList));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/worklist/WorkList.jsx"],"names":["React","Component","Row","Col","Card","Nav","FormGroup","FormLabel","connect","toast","FontAwesomeIcon","faCheck","faTrashAlt","WorklistPreparationFilter","rearrangeDateFormat","convertDateValuetoString","injectIntl","Esign","AddWorklistSection","AddWorklistSample","CustomTab","WorklistHistoryTab","WorklistSampleTab","designProperties","transactionStatus","REPORTTYPE","SpecificationInfo","callService","crudMaster","validateEsignCredential","updateStore","getSectionAndTest","getWorklistDetail","OpenDate","CloseDate","viewAttachment","getInstrumentCombo","getWorklistSample","getRegTypeTestWise","getRegTypeWorklist","getSectionbaseTest","onWorklistApproveClick","getWorklistDetailFilter","getEditSectionAndTest","createWorklistCreation","filterColumnData","getConfigVersionTestWise","ViewSampleDetails","getWorklisthistoryAction","reportWorklist","ListMaster","DEFAULT_RETURN","SlideOutModal","showEsign","getControlMap","constructOptionList","ContentPanel","MediaLabel","process","ConfirmMessage","BreadcrumbComponent","Affix","DataGrid","mapStateToProps","state","Login","WorkList","props","handleDateChange","dateName","dateValue","Date","fromdate","masterData","fromDate","userInfo","todate","toDate","obj","inputParam","inputData","nflag","nregtypecode","RegTypeValue","nregsubtypecode","RegSubTypeValue","nneedtemplatebasedflow","String","userinfo","onFilterComboChange","comboData","fieldName","inputParamData","value","defaultSampleTypeValue","nsampletypecode","item","defaultRegTypeValue","getRegSubTypeTestWise","FilterStatusValue","ntransactionstatus","updateInfo","typeName","data","onInputOnChange","event","optional","selectedRecord","target","type","name","checked","setState","onSaveClick","saveType","formRef","instSection","screenName","postParam","undefined","nstatus","nmastersitecode","operation","selectedWorklist","nworklistcode","classUrl","methodUrl","searchRef","userRoleControlRights","nformcode","ncontrolCode","loadEsign","screenData","validList","addedComponentList","length","saveList","compList","map","indexOf","ntransactionsamplecode","push","worklistcompcreationlist","worklistcreation","ndesigntemplatemappingcode","dataState","selectedId","warn","intl","formatMessage","id","DeleteWorklistSample","sectionDataState","nsitecode","ntranssitecode","nworklistsamplecode","ntransactiontestcode","openModal","selectionChange","addComponentDataList","dataItem","selected","newItem","JSON","parse","stringify","filter","item1","addSelectAll","valiateCheckAll","deleteSelectAll","specificationReport","sprimarykeyname","ncontrolcode","nreporttypecode","CONTROLBASED","headerSelectionChange","syntheticEvent","dataItems","findIndex","x","olditem","addedComponentData","deletedListdData","deletedList","npreregno","validateEsign","sreason","password","tabDetail","tabMap","Map","deleteSecId","controlMap","has","get","addSampleId","viewSampleId","set","WorklistSamples","gridfillingColumn","DynamicGridItem","DynamicGridMoreItem","defaultRecord","viewSample","settings","WorklistHistory","onTabChange","tabProps","activeKey","reloadData","current","realFromDate","realToDate","defaultRegSubTypeValue","defaultFilterStatusValue","parseInt","searchTestRef","skip","take","testskip","testtake","ConfirmDelete","deleteId","confirmMessage","confirm","DeleteWorklist","inputListName","selectedObject","primaryKeyField","primaryKeyValue","onComboChange","caseNo","closeModal","modalShow","NO","viewdetails","closeModalShow","openFilter","showFilter","closeFilter","onFilterSubmit","SampleTypeValue","defaultApprovalVersion","defaultApprovalVersionValue","error","Instrument","RegistrationSubTypeList","FilterStatusList","SampletypeList","ConfigVersionList","createRef","searchFieldList","temparray","option","LABEL","slanguagetypecode","VALUE","selectAll","forEach","mandatoryFields","feildsForGrid","extractedColumnList","auditInfoFields","mandatory","idsName","dataField","mandatoryLabel","controlType","addId","approvalId","reportId","filterParam","fetchUrl","fecthInputObject","breadCrumbData","filterData","searchedData","Worklist","worklist","IDS_WORKLISTFILTER","RegistrationTypeList","stateRegistrationType","stateRegistrationSubType","sworklistno","stransdisplaystatus","masterStatus","Section","Test","selectedNode","ApprovalRoleActionDetail","AuditModifiedComments","previousProps","updateState","nfilterInstrumentCategory","filterInstrumentCategory","subsampleGridItem","sampleGridItem","testGridItem","samplegridmoreitem","Object","values","RegistrationSubTypeListMap","RegistrationSubType","RegistrationTypeListMap","RegistrationType","FilterStatusListMap","FilterStatus","SampletypeListMap","SampleType","ConfigVersionListMap","ApprovalConfigVersion","SelectedInsCat","label","stestsynonym","ntestcode","generateBreadCrumData","DynamicDesign","dynamicColumn","jsondata","testListFields","releasetestfields","samplegriditem","subsamplelistitem","insCategoryMap","updateStateObject","breadCrumbFrom","breadCrumbto","sregtypename","sregsubtypename","errorCode"],"mappings":"umCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,CAAyBC,GAAzB,CAA8BC,SAA9B,CAAyCC,SAAzC,KAA0D,iBAA1D,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,OAAT,CAAkBC,UAAlB,KAAoC,mCAApC,CACA,MAAOC,CAAAA,yBAAP,KAAsC,6BAAtC,CACA,OAASC,mBAAT,CAA8BC,wBAA9B,KAA8D,+BAA9D,CACA,OAASC,UAAT,KAA2B,YAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,gCAA/B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,+BAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,oDAAtB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,OAASC,gBAAT,CAA2BC,iBAA3B,CAA6CC,UAA7C,KAA+D,8BAA/D,CACA,MAAOC,CAAAA,iBAAP,KAA8B,gCAA9B,C,qOAGA,OACEC,WADF,CAEEC,UAFF,CAGEC,uBAHF,CAIEC,WAJF,CAKEC,iBALF,CAMEC,iBANF,CAOEC,QAPF,CAQEC,SARF,CAQaC,cARb,CAQ6BC,kBAR7B,CAQiDC,iBARjD,CAQoEC,kBARpE,CASEC,kBATF,CASsBC,kBATtB,CAS0CC,sBAT1C,CAUIC,uBAVJ,CAU6BC,qBAV7B,CAUoDC,sBAVpD,CAU4EC,gBAV5E,CAU8FC,wBAV9F,CAWEC,iBAXF,CAWqBC,wBAXrB,CAW8CC,cAX9C,KAYO,eAZP,CAcA,MAAOC,CAAAA,UAAP,KAAuB,oDAAvB,CACA,OAASC,cAAT,KAA+B,0BAA/B,CACA,MAAOC,CAAAA,aAAP,KAA0B,gDAA1B,CAEA,OACEC,SADF,CAEEC,aAFF,CAGEC,mBAHF,KAIO,+BAJP,CAKA,OAASC,YAAT,CAAuBC,UAAvB,KAAyC,6BAAzC,CAEA,OAASC,OAAT,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,0DAA3B,CAEA,MAAOC,CAAAA,mBAAP,KAAgC,uCAAhC,CACA,OAASC,KAAT,KAAsB,QAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,gDAArB,CACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CACjC,MAAO,CAAEC,KAAK,CAAED,KAAK,CAACC,KAAf,CAAP,CACD,CAFD,C,GAIMC,CAAAA,Q,oGACJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EADiB,MAoBnBC,gBApBmB,CAoBA,SAACC,QAAD,CAAWC,SAAX,CAAyB,CAG1C,GAAIA,SAAS,GAAK,IAAlB,CAAwB,CACtBA,SAAS,CAAG,GAAIC,CAAAA,IAAJ,EAAZ,CACD,CACD;AACA;AACA,GAAIC,CAAAA,QAAQ,CAAG,MAAKL,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAA5B,CAAuC5D,mBAAmB,CAAC,MAAKqD,KAAL,CAAWF,KAAX,CAAiBU,QAAlB,CAA4B,MAAKR,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAAxD,CAA1D,CAA8H,GAAIH,CAAAA,IAAJ,EAA7I,CACA,GAAIK,CAAAA,MAAM,CAAG,MAAKT,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAA5B,CAAqC/D,mBAAmB,CAAC,MAAKqD,KAAL,CAAWF,KAAX,CAAiBU,QAAlB,CAA4B,MAAKR,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAAxD,CAAxD,CAA0H,GAAIN,CAAAA,IAAJ,EAAvI,CACA,GAAIO,CAAAA,GAAG,CAAG,EAAV,CACA,GAAIT,QAAQ,GAAK,UAAjB,CAA6B,CAC3BS,GAAG,CAAG/D,wBAAwB,CAACuD,SAAD,CAAYM,MAAZ,CAAoB,MAAKT,KAAL,CAAWF,KAAX,CAAiBU,QAArC,CAA9B,CACAH,QAAQ,CAAGM,GAAG,CAACJ,QAAf,CACAE,MAAM,CAAGE,GAAG,CAACD,MAAb,CACA,GAAIH,CAAAA,QAAQ,CAAGI,GAAG,CAACJ,QAAnB,CACA,GAAIG,CAAAA,MAAM,CAAGC,GAAG,CAACD,MAAjB,CACD,CAND,IAMO,CACLC,GAAG,CAAG/D,wBAAwB,CAACyD,QAAD,CAAWF,SAAX,CAAsB,MAAKH,KAAL,CAAWF,KAAX,CAAiBU,QAAvC,CAA9B,CACAH,QAAQ,CAAGM,GAAG,CAACJ,QAAf,CACAE,MAAM,CAAGE,GAAG,CAACD,MAAb,CACA,GAAIH,CAAAA,SAAQ,CAAGI,GAAG,CAACJ,QAAnB,CACA,GAAIG,CAAAA,OAAM,CAAGC,GAAG,CAACD,MAAjB,CAED,CACD,GAAIE,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACTC,KAAK,CAAE,CADE,CAETC,YAAY,CAAE,MAAKf,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BU,YAA5B,EAA4C,MAAKhB,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BU,YAA5B,CAAyCD,YAF1F,CAGTE,eAAe,CAAE,MAAKjB,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BY,eAA5B,EAA+C,MAAKlB,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BY,eAA5B,CAA4CD,eAHnG,CAITE,sBAAsB,CAAE,MAAKnB,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BY,eAA5B,EAA+C,MAAKlB,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BY,eAA5B,CAA4CC,sBAJ1G,CAKTd,QAAQ,CAAEe,MAAM,CAACf,QAAD,CALP,CAMTI,MAAM,CAAEW,MAAM,CAACX,MAAD,CANL,CAOTY,QAAQ,CAAE,MAAKrB,KAAL,CAAWF,KAAX,CAAiBU,QAPlB,CADI,CAUfF,UAAU,CAAE,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAVd,CAAjB,CAaA,MAAKN,KAAL,CAAWrB,wBAAX,CAAoCiC,UAApC,EAED,CA5DkB,OAgEnBU,mBAhEmB,CAgEG,SAACC,SAAD,CAAYC,SAAZ,CAA0B,CAE9C,GAAID,SAAJ,CAAe,CACb,GAAIZ,CAAAA,GAAG,CAAG/D,wBAAwB,CAAC,MAAKoD,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAA7B,CAAuC,MAAKP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAAnE,CAA2E,MAAKV,KAAL,CAAWF,KAAX,CAAiBU,QAA5F,CAAlC,CACA,GAAIiB,CAAAA,cAAc,CAAG,EAArB,CACA,GAAID,SAAS,GAAK,iBAAlB,CAAqC,CACnC,GAAID,SAAS,CAACG,KAAV,GAAoB,MAAK1B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqB,sBAA5B,CAAmDC,eAA3E,CAA4F,CAC1FH,cAAc,CAAG,CACfX,KAAK,CAAE,CADQ,CAEfc,eAAe,CAAEL,SAAS,CAACG,KAFZ,CAGfL,QAAQ,CAAE,MAAKrB,KAAL,CAAWF,KAAX,CAAiBU,QAHZ,CAIfF,UAAU,CAAE,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAJd,CAKfqB,sBAAsB,CAAEJ,SAAS,CAACM,IALnB,CAAjB,CAOA,MAAK7B,KAAL,CAAW5B,kBAAX,CAA8BqD,cAA9B,EACD,CACF,CAXD,IAWO,IAAID,SAAS,GAAK,cAAlB,CAAkC,CACvC,GAAID,SAAS,CAACG,KAAV,GAAoB,MAAK1B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BwB,mBAA5B,CAAgDf,YAAxE,CAAsF,CACpFU,cAAc,CAAG,CACfX,KAAK,CAAE,CADQ,CAEfT,QAAQ,CAAEM,GAAG,CAACJ,QAFC,CAGfE,MAAM,CAAEE,GAAG,CAACD,MAHG,CAIfkB,eAAe,CAAE,MAAK5B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqB,sBAA5B,CAAmDC,eAJrD,CAKfb,YAAY,CAAEQ,SAAS,CAACG,KALT,CAMfL,QAAQ,CAAE,MAAKrB,KAAL,CAAWF,KAAX,CAAiBU,QANZ,CAOfF,UAAU,CAAE,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAPd,CAQfwB,mBAAmB,CAAEP,SAAS,CAACM,IARhB,CAAjB,CAYA,MAAK7B,KAAL,CAAW+B,qBAAX,CAAiCN,cAAjC,EACD,CAIF,CAnBM,IAmBA,IAAID,SAAS,GAAK,iBAAlB,CAAqC,CAE1C,GAAID,SAAS,CAACG,KAAV,GAAoB,MAAK1B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BY,eAA5B,CAA4CD,eAApE,CAAqF,CACnF,GAAIJ,CAAAA,SAAS,CAAG,CACdC,KAAK,CAAE,CADO,CAEdT,QAAQ,CAAEM,GAAG,CAACJ,QAFA,CAGdE,MAAM,CAAEE,GAAG,CAACD,MAHE,CAIdkB,eAAe,CAAE,MAAK5B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqB,sBAA5B,CAAmDC,eAJtD,CAKdb,YAAY,CAAE,MAAKf,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BU,YAA5B,CAAyCD,YALzC,CAMdI,sBAAsB,CAAEI,SAAS,CAACM,IAAV,CAAeV,sBANzB,CAOdF,eAAe,CAAEM,SAAS,CAACG,KAPb,CAQdL,QAAQ,CAAE,MAAKrB,KAAL,CAAWF,KAAX,CAAiBU,QARb,CAAhB,CAUAiB,cAAc,CAAG,CACfZ,SAAS,CAATA,SADe,CAEfP,UAAU,gCACL,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UADZ,MAERY,eAAe,CAAEK,SAAS,CAACM,IAC3B;AAHQ,EAFK,CAAjB,CAQA,MAAK7B,KAAL,CAAWrB,wBAAX,CAAoC8C,cAApC,EACD,CACF,CAvBM,IAyBF,IAAID,SAAS,GAAK,oBAAlB,CAAwC,CAC3C,GAAID,SAAS,CAACG,KAAV,GAAoB,MAAK1B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B0B,iBAA5B,CAA8CC,kBAAtE,CAA0F,CACxF,GAAI3B,CAAAA,UAAU,gCAAQ,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAAzB,MAAqC0B,iBAAiB,CAAET,SAAS,CAACM,IAAlE,EAAd,CACA,GAAMK,CAAAA,UAAU,CAAG,CACjBC,QAAQ,CAAEnD,cADO,CAEjBoD,IAAI,CAAE,CAAE9B,UAAU,CAAVA,UAAF,CAFW,CAAnB,CAIA,MAAKN,KAAL,CAAWrC,WAAX,CAAuBuE,UAAvB,EACD,CACF,CACF,CACF,CAvIkB,OAyInBG,eAzImB,CAyID,SAACC,KAAD,CAAQC,QAAR,CAAqB,CACrC,GAAMC,CAAAA,cAAc,CAAG,MAAK3C,KAAL,CAAW2C,cAAX,EAA6B,EAApD,CACA,GAAIF,KAAK,CAACG,MAAN,CAAaC,IAAb,GAAsB,UAA1B,CAAsC,CACpCF,cAAc,CAACF,KAAK,CAACG,MAAN,CAAaE,IAAd,CAAd,CAAoCL,KAAK,CAACG,MAAN,CAAaG,OAAb,GAAyB,IAAzB,CAAgC,CAAhC,CAAoC,CAAxE,CACD,CAFD,IAEO,IAAIN,KAAK,CAACG,MAAN,CAAaC,IAAb,GAAsB,OAA1B,CAAmC,CACxCF,cAAc,CAACF,KAAK,CAACG,MAAN,CAAaE,IAAd,CAAd,CAAoCJ,QAApC,CACD,CAFM,IAEA,CACLC,cAAc,CAACF,KAAK,CAACG,MAAN,CAAaE,IAAd,CAAd,CAAoCL,KAAK,CAACG,MAAN,CAAaf,KAAjD,CACD,CACD,MAAKmB,QAAL,CAAc,CAAEL,cAAc,CAAdA,cAAF,CAAd,EACD,CAnJkB,OAuJnBM,WAvJmB,CAuJL,SAACC,QAAD,CAAWC,OAAX,CAAuB,CACnC,GAAInC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIoC,CAAAA,WAAW,CAAG,EAAlB,CACApC,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKb,KAAL,CAAWF,KAAX,CAAiBU,QAAzC,CACA,GAAIG,CAAAA,GAAG,CAAG/D,wBAAwB,CAAC,MAAKoD,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAA7B,CAAuC,MAAKP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAAnE,CAA2E,MAAKV,KAAL,CAAWF,KAAX,CAAiBU,QAA5F,CAAlC,CACAK,SAAS,CAAC,UAAD,CAAT,CAAwBF,GAAG,CAACJ,QAA5B,CACAM,SAAS,CAAC,QAAD,CAAT,CAAsBF,GAAG,CAACD,MAA1B,CACA,GAAI,MAAKV,KAAL,CAAWF,KAAX,CAAiBoD,UAAjB,GAAgC,cAApC,CAAoD,CAClD,GAAIC,CAAAA,SAAS,CAAGC,SAAhB,CACAvC,SAAS,CAAC,UAAD,CAAT,CAAwB,CACtBwC,OAAO,CAAE,MAAKrD,KAAL,CAAWF,KAAX,CAAiBU,QAAjB,CAA0B8C,eADb,CAAxB,CAGAzC,SAAS,CAAC,UAAD,CAAT,CAAsB,iBAAtB,EAA2C,MAAKb,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqB,sBAA5B,CAAmDC,eAA9F,CACAf,SAAS,CAAC,UAAD,CAAT,CAAsB,cAAtB,EAAwC,MAAKhB,KAAL,CAAW2C,cAAX,CAA0B,cAA1B,EAA0Cd,KAAlF,CACAb,SAAS,CAAC,UAAD,CAAT,CAAsB,WAAtB,EAAqC,MAAKhB,KAAL,CAAW2C,cAAX,CAA0B,WAA1B,EAAuCd,KAA5E,CACAb,SAAS,CAAC,UAAD,CAAT,CAAsB,cAAtB,EAAwC,MAAKb,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BU,YAA5B,CAAyCD,YAAjF,CACAF,SAAS,CAAC,UAAD,CAAT,CAAsB,iBAAtB,EAA2C,MAAKb,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BY,eAA5B,CAA4CD,eAAvF,CAEA,GAAI,MAAKjB,KAAL,CAAWF,KAAX,CAAiByD,SAAjB,GAA+B,QAAnC,CAA6C,CAAE1C,SAAS,CAAC,UAAD,CAAT,CAAsB,eAAtB,EAAyC,MAAKb,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAA5B,CAA6CC,aAAtF,CAAqG,CAEpJ,GAAM7C,CAAAA,UAAU,CAAG,CACjB8C,QAAQ,CAAE,MAAK1D,KAAL,CAAWF,KAAX,CAAiBc,UAAjB,CAA4B8C,QADrB,CAEjBC,SAAS,CAAE,UAFM,CAGjB9C,SAAS,CAAEA,SAHM,CAIjB0C,SAAS,CAAE,MAAKvD,KAAL,CAAWF,KAAX,CAAiByD,SAJX,CAKjBR,QAAQ,CAARA,QALiB,CAMjBC,OAAO,CAAPA,OANiB,CAOjBG,SAAS,CAATA,SAPiB,CAQjBS,SAAS,CAAE,MAAKA,SARC,CAAnB,CAUA,GAAMtD,CAAAA,UAAU,CAAG,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAApC,CACA,GACEpB,SAAS,CACP,MAAKc,KAAL,CAAWF,KAAX,CAAiB+D,qBADV,CAEP,MAAK7D,KAAL,CAAWF,KAAX,CAAiBU,QAAjB,CAA0BsD,SAFnB,CAGP,MAAK9D,KAAL,CAAWF,KAAX,CAAiBiE,YAHV,CADX,CAME,CACA,GAAM7B,CAAAA,UAAU,CAAG,CACjBC,QAAQ,CAAEnD,cADO,CAEjBoD,IAAI,CAAE,CACJ4B,SAAS,CAAE,IADP,CAEJC,UAAU,CAAE,CAAErD,UAAU,CAAVA,UAAF,CAAcN,UAAU,CAAVA,UAAd,CAFR,CAGJyC,QAAQ,CAARA,QAHI,CAFW,CAAnB,CAQA,MAAK/C,KAAL,CAAWrC,WAAX,CAAuBuE,UAAvB,EACD,CAhBD,IAgBO,CACL,MAAKlC,KAAL,CAAWvC,UAAX,CAAsBmD,UAAtB,CAAkCN,UAAlC,CAA8C,WAA9C,EACD,CACF,CAID;AAEA,GAAI4D,CAAAA,SAAS,CAAG,IAAhB,CACA,GAAI,MAAKlE,KAAL,CAAWF,KAAX,CAAiBoD,UAAjB,GAAgC,oBAAhC,EAAwD,MAAKrD,KAAL,CAAWsE,kBAAX,CAA8BC,MAA9B,CAAuC,IAAnG,CAAyG,CACvGF,SAAS,CAAG,KAAZ,CACD,CAED,GAAIA,SAAJ,CAAe,CACb,GAAIG,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAI,MAAKrE,KAAL,CAAWF,KAAX,CAAiBoD,UAAjB,GAAgC,oBAApC,CAA0D,CACxD,GAAMoB,CAAAA,QAAQ,CAAG,MAAKzE,KAAL,CAAWsE,kBAAX,EAAiC,EAAlD,CACA;AACA,GAAGG,QAAQ,CAACF,MAAT,CAAgB,CAAnB,CACA,CAEAE,QAAQ,CAACC,GAAT,CAAa,SAAA1C,IAAI,QAAIwC,CAAAA,QAAQ,CAACG,OAAT,CAAiB3C,IAAI,CAAC4C,sBAAtB,IAAkD,CAAC,CAAnD,CACnBJ,QAAQ,CAACK,IAAT,CAAc7C,IAAd,CADmB,CACG,EADP,EAAjB,EAEA,GAAMvB,CAAAA,WAAU,CAAG,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAApC,CACA,GAAMO,CAAAA,UAAS,CAAG,CAChB8D,wBAAwB,CAAEN,QADV,CAEhBhD,QAAQ,CAAE,MAAKrB,KAAL,CAAWF,KAAX,CAAiBU,QAFX,CAGhBoE,gBAAgB,CAAE,MAAK5E,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAH9B,CAIhBqB,0BAA0B,CAAE,MAAK7E,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BuE,0BAJxC,CAAlB,CAOA,GAAIC,CAAAA,SAAS,CAAG1B,SAAhB,CACA,GAAI2B,CAAAA,UAAU,CAAG,IAAjB,CACA,GAAI5B,CAAAA,UAAS,CAAGC,SAAhB,CAEA,GAAMxC,CAAAA,WAAU,CAAG,CACjB8C,QAAQ,CAAE,UADO,CAEjBC,SAAS,CAAE,kBAFM,CAGjB9C,SAAS,CAAEA,UAHM,CAGKkE,UAAU,CAAVA,UAHL,CAGiBD,SAAS,CAATA,SAHjB,CAG4B3B,SAAS,CAATA,UAH5B,CAIjBI,SAAS,CAAE,QAJM,CAIIR,QAAQ,CAARA,QAJJ,CAIczC,UAAU,CAAVA,WAJd,CAAnB,CASA,GACEpB,SAAS,CACP,MAAKc,KAAL,CAAWF,KAAX,CAAiB+D,qBADV,CAEP,MAAK7D,KAAL,CAAWF,KAAX,CAAiBU,QAAjB,CAA0BsD,SAFnB,CAGP,MAAK9D,KAAL,CAAWF,KAAX,CAAiBiE,YAHV,CADX,CAME,CACA,GAAM7B,CAAAA,WAAU,CAAG,CACjBC,QAAQ,CAAEnD,cADO,CAEjBoD,IAAI,CAAE,CACJ4B,SAAS,CAAE,IADP,CACaC,UAAU,CAAE,CAAErD,UAAU,CAAVA,WAAF,CAAcN,UAAU,CAAEA,WAA1B,CADzB,CACiEyC,QAAQ,CAARA,QADjE,CAFW,CAAnB,CAMA,MAAK/C,KAAL,CAAWrC,WAAX,CAAuBuE,WAAvB,EACD,CAdD,IAeK,CACH;AACA,MAAKlC,KAAL,CAAWvB,sBAAX,CAAkCmC,WAAlC,EACD,CAGF,CA/CC,IAgDG,CACH;AACAtE,KAAK,CAAC0I,IAAN,CAAW,MAAKhF,KAAL,CAAWiF,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,qBAAN,CAA9B,CAAX,EACD,CAGA,CAKF,CAhED,IAiEK,CACH7I,KAAK,CAAC0I,IAAN,CAAW,MAAKhF,KAAL,CAAWiF,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,sBAAN,CAA9B,CAAX,EACD,CAOF,CA9RkB,OAqSnBC,oBArSmB,CAqSI,SAAC7B,SAAD,CAAYQ,YAAZ,CAA6B,CAClD,GAAIlD,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAI0C,SAAS,CAACL,UAAV,GAAyB,oBAA7B,CAAmD,CACjD,GAAM4B,CAAAA,SAAS,CAAG,MAAKjF,KAAL,CAAWwF,gBAA7B,CACAxE,SAAS,CAAC,gBAAD,CAAT,CAA8B,CAC5ByE,SAAS,CAAE,MAAKtF,KAAL,CAAWF,KAAX,CAAiBU,QAAjB,CAA0B+E,cADT,CAA9B,CAGA1E,SAAS,CAAC,gBAAD,CAAT,CAA4B,eAA5B,EACE0C,SAAS,CAACf,cAAV,CAAyBiB,aAD3B,CAEA5C,SAAS,CAAC,gBAAD,CAAT,CAA4B,qBAA5B,EACE0C,SAAS,CAACf,cAAV,CAAyBgD,mBAD3B,CAEA3E,SAAS,CAAC,gBAAD,CAAT,CAA4B,sBAA5B,EACE0C,SAAS,CAACf,cAAV,CAAyBiD,oBAD3B,CAEA5E,SAAS,CAAC,gBAAD,CAAT,CAA4B,wBAA5B,EACE0C,SAAS,CAACf,cAAV,CAAyBiC,sBAD3B,CAEE5D,SAAS,CAAC,4BAAD,CAAT,CAA0C,MAAKb,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BuE,0BAAtE,CAEFhE,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKb,KAAL,CAAWF,KAAX,CAAiBU,QAAzC,CACA,GAAMI,CAAAA,UAAU,CAAG,CACjB+C,SAAS,CAAE,gBADM,CAEjBD,QAAQ,CAAE,MAAK1D,KAAL,CAAWF,KAAX,CAAiBc,UAAjB,CAA4B8C,QAFrB,CAGjB7C,SAAS,CAAEA,SAHM,CAIjB0C,SAAS,CAAE,QAJM,CAKjBuB,SAAS,CAAEA,SALM,CAAnB,CAOA,GAAMxE,CAAAA,UAAU,CAAG,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAApC,CACA,GACEpB,SAAS,CACP,MAAKc,KAAL,CAAWF,KAAX,CAAiB+D,qBADV,CAEP,MAAK7D,KAAL,CAAWF,KAAX,CAAiBU,QAAjB,CAA0BsD,SAFnB,CAGPP,SAAS,CAACQ,YAHH,CADX,CAME,CACA,GAAM7B,CAAAA,UAAU,CAAG,CACjBC,QAAQ,CAAEnD,cADO,CAEjBoD,IAAI,CAAE,CACJ4B,SAAS,CAAE,IADP,CAEJC,UAAU,CAAE,CAAErD,UAAU,CAAVA,UAAF,CAAcN,UAAU,CAAVA,UAAd,CAFR,CAGJoF,SAAS,CAAE,IAHP,CAIJxC,UAAU,CAAE,UAJR,CAKJK,SAAS,CAAEA,SAAS,CAACA,SALjB,CAFW,CAAnB,CAUA,MAAKvD,KAAL,CAAWrC,WAAX,CAAuBuE,UAAvB,EACD,CAlBD,IAkBO,CACL,MAAKlC,KAAL,CAAWvC,UAAX,CAAsBmD,UAAtB,CAAkCN,UAAlC,CAA8C,WAA9C,EACD,CACF,CACF,CArVkB,OAsWnBqF,eAtWmB,CAsWD,SAACrD,KAAD,CAAW,CAC3B,GAAI6B,CAAAA,kBAAkB,CAAG,MAAKtE,KAAL,CAAWsE,kBAAX,EAAiC,EAA1D,CACA,GAAMyB,CAAAA,oBAAoB,CAAG,MAAK5F,KAAL,CAAWF,KAAX,CAAiB8F,oBAAjB,CAAsCrB,GAAtC,CAA0C,SAAA1C,IAAI,CAAI,CAC7E,GAAIA,IAAI,CAAC4D,oBAAL,GAA8BnD,KAAK,CAACuD,QAAN,CAAeJ,oBAAjD,CAAuE,CACrE5D,IAAI,CAACiE,QAAL,CAAgB,CAACxD,KAAK,CAACuD,QAAN,CAAeC,QAAhC,CACA,GAAIjE,IAAI,CAACiE,QAAT,CAAmB,CACjB,GAAMC,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAerE,IAAf,CAAX,CAAhB,CACAkE,OAAO,CAAC,UAAD,CAAP,CAAsB,EAAtB,CACAA,OAAO,CAAC,YAAD,CAAP,CAAwB,EAAxB,CACA,MAAOA,CAAAA,OAAO,CAAC,UAAD,CAAd,CACA;AACAA,OAAO,CAAC,UAAD,CAAP,CAAoB,UAApB,EAAkClE,IAAlC,CACAkE,OAAO,CAAC,YAAD,CAAP,CAAsB,UAAtB,EAAoClE,IAApC,CACAsC,kBAAkB,CAACO,IAAnB,CAAwBqB,OAAxB,EACD,CATD,IAUK,CACH5B,kBAAkB,CAAGA,kBAAkB,CAACgC,MAAnB,CAA0B,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACX,oBAAN,GAA+B5D,IAAI,CAAC4D,oBAAxC,EAA/B,CAArB,CACD,CACF,CACD,MAAO5D,CAAAA,IAAP,CACD,CAlB4B,CAA7B,CAmBA,MAAKgB,QAAL,CAAc,CACZ+C,oBAAoB,CAApBA,oBADY,CACUzB,kBAAkB,CAAlBA,kBADV,CAEZkC,YAAY,CAAE,MAAKC,eAAL,CAAqBV,oBAArB,CAFF,CAGZW,eAAe,CAAE,MAAKD,eAAL,CAAqBnC,kBAArB,CAHL,CAAd,EAKD,CAhYkB,OAkYnBqC,mBAlYmB,CAkYG,SAAEzC,YAAF,CAAmB,CACvC,GAAI,MAAK/D,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAAhC,CAAkD,CAC9C,GAAM5C,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACP4F,eAAe,CAAE,eADV,CAEPpF,QAAQ,CAAE,MAAKrB,KAAL,CAAWF,KAAX,CAAiBU,QAFpB,CAGPkG,YAAY,CAAE3C,YAHP,CAIPN,aAAa,CAAE,MAAKzD,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAA5B,CAA6CC,aAJrD,CAKPkD,eAAe,CAAErJ,UAAU,CAACsJ,YALrB,CADI,CAAnB,CAUA,MAAK5G,KAAL,CAAWlB,cAAX,CAA0B8B,UAAU,CAAC,WAAD,CAApC,EACH,CAZD,IAYO,CACHtE,KAAK,CAAC0I,IAAN,CAAW,MAAKhF,KAAL,CAAWiF,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,4CAAN,CAA9B,CAAX,EACH,CACJ,CAlZoB,OAoZnB0B,qBApZmB,CAoZK,SAACvE,KAAD,CAAW,CACjC,GAAMM,CAAAA,OAAO,CAAGN,KAAK,CAACwE,cAAN,CAAqBrE,MAArB,CAA4BG,OAA5C,CACA,GAAIgD,CAAAA,oBAAoB,CAAGtD,KAAK,CAACyE,SAAjC,CAA2C;AAC3C,GAAI5C,CAAAA,kBAAkB,CAAC,EAAvB,CAGA,GAAIvB,OAAJ,CAAa,oBACX,GAAMR,CAAAA,IAAI,CAAGE,KAAK,CAACyE,SAAN,CAAgBxC,GAAhB,CAAoB,SAAA1C,IAAI,CAAI,CACvC;AACA,GAAIsC,kBAAkB,CAAC6C,SAAnB,CAA6B,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACxB,oBAAF,GAA2B5D,IAAI,CAAC4D,oBAApC,EAA9B,IAA4F,CAAC,CAAjG,CAAoG,CAGnG;AACC5D,IAAI,CAACiE,QAAL,CAAgBlD,OAAhB,CACA,GAAMmD,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAerE,IAAf,CAAX,CAAhB,CACAkE,OAAO,CAAC,UAAD,CAAP,CAAsB,EAAtB,CACAA,OAAO,CAAC,YAAD,CAAP,CAAwB,EAAxB,CACA,MAAOA,CAAAA,OAAO,CAAC,UAAD,CAAd,CACA;AACAA,OAAO,CAAC,UAAD,CAAP,CAAoB,UAApB,EAAkClE,IAAlC,CACAkE,OAAO,CAAC,YAAD,CAAP,CAAsB,UAAtB,EAAoClE,IAApC,CACAsC,kBAAkB,CAACO,IAAnB,CAAwBqB,OAAxB,EACA;AACA,MAAOlE,CAAAA,IAAP,CACD,CAfD,IAeO,CACL,GAAIqF,CAAAA,OAAO,CAAGlB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe/B,kBAAkB,CAACA,kBAAkB,CAAC6C,SAAnB,CAA6B,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACxB,oBAAF,GAA2B5D,IAAI,CAAC4D,oBAApC,EAA9B,CAAD,CAAjC,CAAX,CAAd,CACAyB,OAAO,CAACpB,QAAR,CAAmBlD,OAAnB,CACA,GAAImD,CAAAA,QAAO,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAegB,OAAf,CAAX,CAAd,CACAnB,QAAO,CAACD,QAAR,CAAmB,KAAnB,CACUC,QAAO,CAAC,UAAD,CAAP,CAAoB,EAApB,CACAA,QAAO,CAAC,YAAD,CAAP,CAAsB,EAAtB,CACA,MAAOA,CAAAA,QAAO,CAAC,UAAD,CAAd,CACAA,QAAO,CAAC,UAAD,CAAP,CAAoB,UAApB,EAAkCmB,OAAlC,CACAnB,QAAO,CAAC,YAAD,CAAP,CAAsB,UAAtB,EAAoCmB,OAApC,CACA/C,kBAAkB,CAACO,IAAnB,CAAwBqB,QAAxB,EACV,MAAOmB,CAAAA,OAAP,CACD,CAEF,CA/BY,CAAb,CAkCA,MAAKrE,QAAL,kBACE+C,oBAAoB,CAAExD,IADxB,CAC8B+B,kBAAkB,CAAlBA,kBAD9B,CAEEkC,YAAY,CAAE,MAAKC,eAAL,CAAqBnC,kBAArB,CAFhB,CAGEoC,eAAe,CAAE,MAAKD,eAAL,CAAqBnC,kBAArB,CAHnB,gDAIgBvB,OAJhB,mDAI0C,KAJ1C,mBAMD,CAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjFE,IAkFK,qBACH,GAAIuE,CAAAA,kBAAkB,CAAG,MAAKtH,KAAL,CAAWsE,kBAAX,EAAiC,EAA1D,CACA,GAAIiD,CAAAA,gBAAgB,CAAG,MAAKvH,KAAL,CAAWwH,WAAX,EAA0B,EAAjD,CAEA,GAAMjF,CAAAA,KAAI,CAAG,MAAKvC,KAAL,CAAW+F,oBAAX,CAAgCrB,GAAhC,CAAoC,SAAA1C,IAAI,CAAI,CACvDsF,kBAAkB,CAAGA,kBAAkB,CAAChB,MAAnB,CAA0B,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACkB,SAAN,GAAoBzF,IAAI,CAACyF,SAA7B,EAA/B,CAArB,CACAF,gBAAgB,CAAGA,gBAAgB,CAACjB,MAAjB,CAAwB,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACkB,SAAN,GAAoBzF,IAAI,CAACyF,SAA7B,EAA7B,CAAnB,CACAzF,IAAI,CAACiE,QAAL,CAAgBlD,OAAhB,CACA,MAAOf,CAAAA,IAAP,CACD,CALY,CAAb,CAOA;AACA,MAAKgB,QAAL,mBACE+C,oBAAoB,CAAExD,KADxB,CAC8B+B,kBAAkB,CAAEgD,kBADlD,CACsEE,WAAW,CAAED,gBADnF,CAEEf,YAAY,CAAE,MAAKC,eAAL,CAAqBnC,kBAArB,CAFhB,CAGEoC,eAAe,CAAE,MAAKD,eAAL,CAAqBnC,kBAArB,CAHnB,iDAIgBvB,OAJhB,oDAI0C,KAJ1C,oBAMD,CAIF,CAlgBkB,OA6nBnB2E,aA7nBmB,CA6nBH,UAAM,CACpB,GAAM3G,CAAAA,UAAU,CAAG,CACjBC,SAAS,CAAE,CACTQ,QAAQ,gCACH,MAAKrB,KAAL,CAAWF,KAAX,CAAiBU,QADd,MAENgH,OAAO,CAAE,MAAK3H,KAAL,CAAW2C,cAAX,CAA0B,eAA1B,CAFH,EADC,CAKTiF,QAAQ,CAAE,MAAK5H,KAAL,CAAW2C,cAAX,CAA0B,eAA1B,CALD,CADM,CAQjByB,UAAU,CAAE,MAAKjE,KAAL,CAAWF,KAAX,CAAiBmE,UARZ,CAAnB,CAWA,MAAKjE,KAAL,CAAWtC,uBAAX,CAAmCkD,UAAnC,CAA+C,WAA/C,EAED,CA3oBkB,OAmqBnB8G,SAnqBmB,CAmqBP,UAAM,CAChB,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,GAAJ,EAAf,CACA,GAAMC,CAAAA,WAAW,CACf,MAAKhI,KAAL,CAAWiI,UAAX,CAAsBC,GAAtB,CAA0B,sBAA1B,GACA,MAAKlI,KAAL,CAAWiI,UAAX,CAAsBE,GAAtB,CAA0B,sBAA1B,EAAkDtB,YAFpD,CAGA,GAAMuB,CAAAA,WAAW,CACf,MAAKpI,KAAL,CAAWiI,UAAX,CAAsBC,GAAtB,CAA0B,YAA1B,GACA,MAAKlI,KAAL,CAAWiI,UAAX,CAAsBE,GAAtB,CAA0B,YAA1B,EAAwCtB,YAF1C,CAIE,GAAMwB,CAAAA,YAAY,CAClB,MAAKrI,KAAL,CAAWiI,UAAX,CAAsBC,GAAtB,CAA0B,oBAA1B,GACA,MAAKlI,KAAL,CAAWiI,UAAX,CAAsBE,GAAtB,CAA0B,oBAA1B,EAAgDtB,YAFhD,CAIFiB,MAAM,CAACQ,GAAP,CAEE,oBAFF,cAGE,oBAAC,iBAAD,EACE,UAAU,CAAE,MAAKtI,KAAL,CAAWiI,UADzB,CAEE,qBAAqB,CAAE,MAAKjI,KAAL,CAAWgE,qBAFpC,CAGE,SAAS,CAAE,MAAK7D,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8H,eAHzC,CAIE,gBAAgB,CAAE,MAAKpI,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8H,eAJhD,CAKE,mBAAmB,CAAE,MAAKC,iBAAL,CAAuB,MAAKxI,KAAL,CAAWyI,eAAlC,GAAsD,EAL7E,CAME,iBAAiB,CAAE,MAAKD,iBAAL,CAAuB,MAAKxI,KAAL,CAAW0I,mBAAlC,GAA0D,EAN/E,CAQE,QAAQ,CAAE,MAAKvI,KAAL,CAAWF,KAAX,CAAiBU,QAR7B,CASE,UAAU,CAAE,MAAKR,KAAL,CAAWF,KAAX,CAAiBc,UAT/B,CAUE,YAAY,CAAE,MAAKwE,oBAVrB,CAWE,WAAW,CAAEyC,WAXf,CAYE,aAAa,CAAE,MAAKW,aAZtB,CAaE,eAAe,CAAE,MAAKxI,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8H,eAA5B,EAA+C,EAblE,CAcE,UAAU,CAAE,MAAKK,UAdnB,CAeE,UAAU,CAAC,oBAfb,CAgBE,cAAc,CAAE,MAAK5I,KAAL,CAAW2C,cAhB7B,CAiBE,QAAQ,CAAE,MAAKxC,KAAL,CAAWF,KAAX,CAAiB4I,QAjB7B,CAkBE,iBAAiB,CAAE,MAAK1I,KAAL,CAAW9B,iBAlBhC,CAmBE,UAAU,CAAE,MAAK8B,KAAL,CAAWF,KAAX,CAAiBQ,UAnB/B,CAoBE,WAAW,CAAE2H,WApBf,CAqBE,YAAY,CAAEC,YArBhB,EAHF,EA4BAP,MAAM,CAACQ,GAAP,CACE,qBADF,cAEE,oBAAC,kBAAD,EACE,SAAS,CAAE,MAAKnI,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqI,eADzC,CAEE,uBAAuB,CAAE,MAAK3I,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqI,eAFvD,CAGE,iBAAiB,CAAE,MAAK3I,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqI,eAA5B,EAA+C,EAHpE,CAIE,QAAQ,CAAE,MAAK3I,KAAL,CAAWF,KAAX,CAAiBU,QAC3B;AACA;AACA;AACA;AACA;AATF,CAUE,UAAU,CAAC,qBAVb,CAWE,cAAc,CAAE,MAAKX,KAAL,CAAW2C,cAX7B,CAYE,QAAQ,CAAE,MAAKxC,KAAL,CAAWF,KAAX,CAAiB4I,QAZ7B,EAFF,EAmBA,MAAOf,CAAAA,MAAP,CACD,CAhuBkB,OAwnCnBiB,WAxnCmB,CAwnCL,SAACC,QAAD,CAAc,CAC1B,GAAM3F,CAAAA,UAAU,CAAG2F,QAAQ,CAAC3F,UAA5B,CACA,GAAIA,UAAU,EAAI,qBAAlB,CAAyC,CACvC,GAAIrC,CAAAA,SAAS,CAAG,CACdP,UAAU,CAAE,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UADf,CAEdE,QAAQ,CAAE,MAAKR,KAAL,CAAWF,KAAX,CAAiBU,QAFb,CAGdiD,aAAa,CAAE,MAAKzD,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAA5B,CAA6CC,aAH9C,CAAhB,CAKA,MAAKzD,KAAL,CAAWnB,wBAAX,CAAoCgC,SAApC,CAA+C,IAA/C,EACD,CAPD,IAOO,CACL,GAAMqB,CAAAA,UAAU,CAAG,CACjBC,QAAQ,CAAEnD,cADO,CAEjBoD,IAAI,CAAE,CAAEc,UAAU,CAAVA,UAAF,CAAc4F,SAAS,CAAE,oBAAzB,CAFW,CAAnB,CAKA,MAAK9I,KAAL,CAAWrC,WAAX,CAAuBuE,UAAvB,EAED,CACF,CA1oCkB,OA6pCnB6G,UA7pCmB,CA6pCN,UAAM,CACjB,MAAKnF,SAAL,CAAeoF,OAAf,CAAuBtH,KAAvB,CAA+B,EAA/B,CACA,GAAIf,CAAAA,GAAG,CAAG/D,wBAAwB,CAAC,MAAKoD,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAA7B,CAAuC,MAAKP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAAnE,CAA2E,MAAKV,KAAL,CAAWF,KAAX,CAAiBU,QAA5F,CAAlC,CACA,GAAIyI,CAAAA,YAAY,CAAGtM,mBAAmB,CAAC,MAAKqD,KAAL,CAAWF,KAAX,CAAiBU,QAAlB,CAA4B,MAAKR,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAAxD,CAAtC,CACA,GAAI2I,CAAAA,UAAU,CAAGvM,mBAAmB,CAAC,MAAKqD,KAAL,CAAWF,KAAX,CAAiBU,QAAlB,CAA4B,MAAKR,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAAxD,CAApC,CAEA,GAAIiB,CAAAA,sBAAsB,CAAG,MAAK3B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqB,sBAAzD,CACA,GAAIG,CAAAA,mBAAmB,CAAG,MAAK9B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BwB,mBAAtD,CACA,GAAIqH,CAAAA,sBAAsB,CAAG,MAAKnJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B6I,sBAAzD,CACA,GAAIC,CAAAA,wBAAwB,CAAG,MAAKpJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8I,wBAA3D,CACA,GAAI9I,CAAAA,UAAU,gCAAQ,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAAzB,MAAqC2I,YAAY,CAAZA,YAArC,CAAmDC,UAAU,CAAVA,UAAnD,CAA+DvH,sBAAsB,CAAtBA,sBAA/D,CAAuFG,mBAAmB,CAAnBA,mBAAvF,CAA4GqH,sBAAsB,CAAtBA,sBAA5G,CAAoIC,wBAAwB,CAAxBA,wBAApI,EAAd,CACA,GAAIvI,CAAAA,SAAS,CAAG,CACde,eAAe,CAAG,MAAK5B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqB,sBAA5B,EAAsD,MAAK3B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqB,sBAA5B,CAAmDC,eAA1G,EAA8H,CAAC,CADlI,CAEdb,YAAY,CAAEsI,QAAQ,CAAC,MAAKrJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BwB,mBAA5B,EAAmD,MAAK9B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BwB,mBAA5B,CAAgDf,YAApG,CAAR,EAA6H,CAAC,CAF9H,CAGdE,eAAe,CAAEoI,QAAQ,CAAC,MAAKrJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B6I,sBAA5B,EAAsD,MAAKnJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B6I,sBAA5B,CAAmDlI,eAA1G,CAAR,EAAsI,CAAC,CAH1I,CAIdgB,kBAAkB,CAAG,MAAKjC,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8I,wBAA5B,EAAwD,MAAKpJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8I,wBAA5B,CAAqDnH,kBAA9G,EAAqI,CAAC,CAJ5I,CAKdZ,QAAQ,CAAE,MAAKrB,KAAL,CAAWF,KAAX,CAAiBU,QALb,CAAhB,CAQA,GAAIK,SAAS,CAACe,eAAV,GAA8B,CAAC,CAA/B,EAAoCf,SAAS,CAACE,YAAV,GAA2B,CAAC,CAAhE,EAAqEF,SAAS,CAACI,eAAV,GAA8B,CAAC,CAApG,EAAyGJ,SAAS,CAACoB,kBAAV,GAAiC,IAA9I,CAAoJ,CAElJpB,SAAS,CAAC,UAAD,CAAT,CAAwBF,GAAG,CAACJ,QAA5B,CACAM,SAAS,CAAC,QAAD,CAAT,CAAsBF,GAAG,CAACD,MAA1B,CACAG,SAAS,CAAC,4BAAD,CAAT,CAA0C,MAAKb,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BuE,0BAAtE,CACA,GAAIjE,CAAAA,UAAU,CAAG,CACfN,UAAU,CAAVA,UADe,CAEfO,SAAS,CAATA,SAFe,CAGfyI,aAAa,CAAE,MAAKA,aAHL,CAIfC,IAAI,CAAE,MAAK1J,KAAL,CAAW0J,IAJF,CAKfC,IAAI,CAAE,MAAK3J,KAAL,CAAW2J,IALF,CAMfC,QAAQ,CAAE,MAAK5J,KAAL,CAAW4J,QANN,CAOfC,QAAQ,CAAE,MAAK7J,KAAL,CAAW6J,QAPN,CAAjB,CAWA,MAAK1J,KAAL,CAAWzB,uBAAX,CAAmCqC,UAAnC,EACD,CAjBD,IAiBO,CACLtE,KAAK,CAAC0I,IAAN,CAAW,MAAKhF,KAAL,CAAWiF,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,6BAAN,CAA9B,CAAX,EACD,CACF,CApsCkB,OAwsCnBwE,aAxsCmB,CAwsCH,SAACpG,SAAD,CAAYqG,QAAZ,CAAyB,CACvC,MAAKC,cAAL,CAAoBC,OAApB,CACE,eADF,CAEE,MAAK9J,KAAL,CAAWiF,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAFF,CAGE,MAAKnF,KAAL,CAAWiF,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAHF,CAIE,MAAKnF,KAAL,CAAWiF,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CAJF,CAKE,MAAKnF,KAAL,CAAWiF,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CALF,CAME,iBACE,OAAK4E,cAAL,CACExG,SADF,CAEEqG,QAFF,CAGErG,SAAS,CAACL,UAAV,CAAuBK,SAAS,CAACL,UAAjC,CAA8C,cAHhD,CADF,EANF,EAaD,CAttCkB,OA0tCnB6G,cA1tCmB,CA0tCF,SAACxG,SAAD,CAAYQ,YAAZ,CAA6B,CAC5C,GAAIlD,CAAAA,SAAS,CAAG,EAAhB,CAEAA,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKb,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAApD,CACA3C,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKb,KAAL,CAAWF,KAAX,CAAiBU,QAAzC,CACA,GAAIG,CAAAA,GAAG,CAAG/D,wBAAwB,CAAC,MAAKoD,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAA7B,CAAuC,MAAKP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAAnE,CAA2E,MAAKV,KAAL,CAAWF,KAAX,CAAiBU,QAA5F,CAAlC,CACAK,SAAS,CAAC,UAAD,CAAT,CAAwBF,GAAG,CAACJ,QAA5B,CACAM,SAAS,CAAC,QAAD,CAAT,CAAsBF,GAAG,CAACD,MAA1B,CACAG,SAAS,CAAC,4BAAD,CAAT,CAA0C,MAAKb,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BuE,0BAAtE,CAGA,GAAM1B,CAAAA,SAAS,CAAG,CAChB6G,aAAa,CAAE,UADC,CAEhBC,cAAc,CAAE,kBAFA,CAGhBC,eAAe,CAAE,eAHD,CAIhBC,eAAe,CACb,MAAKnK,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAA5B,CAA6CC,aAC/C;AANgB,CAAlB,CASA,GAAM7C,CAAAA,UAAU,CAAG,CACjB+C,SAAS,CAAE,UADM,CAEjBR,SAAS,CAATA,SAFiB,CAGjBO,QAAQ,CAAE,MAAK1D,KAAL,CAAWF,KAAX,CAAiBc,UAAjB,CAA4B8C,QAHrB,CAIjB7C,SAAS,CAAEA,SAJM,CAKjB0C,SAAS,CAAEA,SAAS,CAACA,SALJ,CAAnB,CAOA,GAAMjD,CAAAA,UAAU,CAAG,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAApC,CACA,GACEpB,SAAS,CACP,MAAKc,KAAL,CAAWF,KAAX,CAAiB+D,qBADV,CAEP,MAAK7D,KAAL,CAAWF,KAAX,CAAiBU,QAAjB,CAA0BsD,SAFnB,CAGPC,YAHO,CADX,CAME,CACA,GAAM7B,CAAAA,UAAU,CAAG,CACjBC,QAAQ,CAAEnD,cADO,CAEjBoD,IAAI,CAAE,CACJ4B,SAAS,CAAE,IADP,CAEJC,UAAU,CAAE,CAAErD,UAAU,CAAVA,UAAF,CAAcN,UAAU,CAAVA,UAAd,CAFR,CAGJoF,SAAS,CAAE,IAHP,CAIJxC,UAAU,CAAE,UAJR,CAKJK,SAAS,CAAEA,SAAS,CAACA,SALjB,CAFW,CAAnB,CAUA,MAAKvD,KAAL,CAAWrC,WAAX,CAAuBuE,UAAvB,EACD,CAlBD,IAkBO,CACL,MAAKlC,KAAL,CAAWvC,UAAX,CAAsBmD,UAAtB,CAAkCN,UAAlC,CAA8C,WAA9C,EACD,CAEF,CA5wCkB,OA+wCnB8J,aA/wCmB,CA+wCH,SAAC7I,SAAD,CAAYC,SAAZ,CAAuB6I,MAAvB,CAAkC,CAChD,GAAM7H,CAAAA,cAAc,CAAG,MAAK3C,KAAL,CAAW2C,cAAX,EAA6B,EAApD,CAEA,GAAIjB,SAAS,GAAK,IAAlB,CAAwB,CACtB,OAAQ8I,MAAR,EACE,IAAK,EAAL,CACE,GAAI7H,cAAc,CAAChB,SAAD,CAAd,EAA6BgB,cAAc,CAAChB,SAAD,CAAd,CAA0BE,KAA1B,GAAoCH,SAAS,CAACG,KAA/E,CAAsF,CACpF,MAAOc,CAAAA,cAAc,CAAC,WAAD,CAArB,CACD,CACDA,cAAc,CAAChB,SAAD,CAAd,CAA4BD,SAA5B,CACA;AACA,MAAKvB,KAAL,CAAW3B,kBAAX,CAA8BmE,cAA9B,CAA8C,MAAKxC,KAAL,CAAWF,KAAX,CAAiBU,QAA/D,CAAyE,MAAKR,KAAL,CAAWF,KAAX,CAAiBQ,UAA1F,CAAqG,MAAKN,KAAL,CAAWF,KAAX,CAAiBiE,YAAtH,EACA,MACF,QACE,MAVJ,CAYD,CAbD,IAcK,CACH,GAAIvB,cAAc,CAAC,cAAD,CAAlB,CAAoC,CAClC,MAAOA,CAAAA,cAAc,CAAC,cAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,WAAD,CAArB,CAED,CACD,GAAMN,CAAAA,UAAU,CAAG,CACjBC,QAAQ,CAAEnD,cADO,CAEjBoD,IAAI,CAAE,CAAEI,cAAc,CAAdA,cAAF,CAFW,CAAnB,CAIA,MAAKxC,KAAL,CAAWrC,WAAX,CAAuBuE,UAAvB,EACD,CACF,CA5yCkB,OA8yCnBoI,UA9yCmB,CA8yCN,UAAM,CACjB,GAAItG,CAAAA,SAAS,CAAG,MAAKhE,KAAL,CAAWF,KAAX,CAAiBkE,SAAjC,CACA,GAAI0B,CAAAA,SAAS,CAAG,MAAK1F,KAAL,CAAWF,KAAX,CAAiB4F,SAAjC,CACA,GAAI6E,CAAAA,SAAS,CAAG,MAAKvK,KAAL,CAAWF,KAAX,CAAiByK,SAAjC,CACA,GAAI/H,CAAAA,cAAc,CAAG,MAAKxC,KAAL,CAAWF,KAAX,CAAiB0C,cAAtC,CACA,GAAI,MAAKxC,KAAL,CAAWF,KAAX,CAAiBkE,SAArB,CAAgC,CAC9B,GAAI,CAAC,MAAKhE,KAAL,CAAWF,KAAX,CAAiByD,SAAjB,CAA2BA,SAA3B,CAAuC,MAAKvD,KAAL,CAAWF,KAAX,CAAiByD,SAAjB,CAA2BA,SAAlE,CAA8E,MAAKvD,KAAL,CAAWF,KAAX,CAAiByD,SAAhG,IAA+G,QAAnH,CAA6H,CAC3HS,SAAS,CAAG,KAAZ,CACA0B,SAAS,CAAG,KAAZ,CACAlD,cAAc,CAAG,EAAjB,CACD,CAJD,IAIO,CACLwB,SAAS,CAAG,KAAZ,CACAxB,cAAc,CAAC,OAAD,CAAd,CAA0BnF,iBAAiB,CAACmN,EAA5C,CACAhI,cAAc,CAAC,eAAD,CAAd,CAAkC,EAAlC,CACAA,cAAc,CAAC,eAAD,CAAd,CAAkC,EAAlC,CACAA,cAAc,CAAC,aAAD,CAAd,CAAgC,EAAhC,CACA+H,SAAS,CAAG,IAAZ,CACA;AAED,CACF,CAfD,IAeO,CACL7E,SAAS,CAAG,KAAZ,CACA6E,SAAS,CAAG,KAAZ,CACA/H,cAAc,CAAG,EAAjB,CACD,CAED,GAAMN,CAAAA,UAAU,CAAG,CACjBC,QAAQ,CAAEnD,cADO,CAEjBoD,IAAI,CAAE,CAAEsD,SAAS,CAATA,SAAF,CAAa6E,SAAS,CAATA,SAAb,CAAwBvG,SAAS,CAATA,SAAxB,CAAmCxB,cAAc,CAAdA,cAAnC,CAAmDuC,UAAU,CAAE,IAA/D,CAFW,CAAnB,CAIA,MAAK/E,KAAL,CAAWrC,WAAX,CAAuBuE,UAAvB,EACD,CA70CkB,OAi1CnBuG,UAj1CmB,CAi1CN,SAACgC,WAAD,CAAiB,CAC5B;AACA;AACA;AAEA,MAAKzK,KAAL,CAAWpB,iBAAX,CAA6B,MAAKoB,KAAL,CAAWF,KAAX,CAAiBQ,UAA9C,CAA0D,iBAA1D,CAA6E,MAAKN,KAAL,CAAWF,KAAX,CAAiBU,QAA9F,CAAwGiK,WAAxG,EACD,CAv1CkB,OAy1CnBC,cAz1CmB,CAy1CF,UAAM,CACrB,GAAI1G,CAAAA,SAAS,CAAG,MAAKhE,KAAL,CAAWF,KAAX,CAAiBkE,SAAjC,CAEA,GAAIuG,CAAAA,SAAS,CAAG,MAAKvK,KAAL,CAAWF,KAAX,CAAiByK,SAAjC,CACA,GAAI/H,CAAAA,cAAc,CAAG,MAAKxC,KAAL,CAAWF,KAAX,CAAiB0C,cAAtC,CACA,GAAI,MAAKxC,KAAL,CAAWF,KAAX,CAAiBkE,SAArB,CAAgC,CAC9BA,SAAS,CAAG,KAAZ,CACD,CAFD,IAEO,CACLuG,SAAS,CAAG,KAAZ,CACA/H,cAAc,CAAG,EAAjB,CACD,CAED,GAAMN,CAAAA,UAAU,CAAG,CACjBC,QAAQ,CAAEnD,cADO,CAEjBoD,IAAI,CAAE,CAAEmI,SAAS,CAATA,SAAF,CAAa/H,cAAc,CAAdA,cAAb,CAA6BuC,UAAU,CAAE,IAAzC,CAA+Cf,SAAS,CAATA,SAA/C,CAFW,CAAnB,CAIA,MAAKhE,KAAL,CAAWrC,WAAX,CAAuBuE,UAAvB,EACD,CA12CkB,OA+iDnByI,UA/iDmB,CA+iDN,UAAM,CACjB,GAAIC,CAAAA,UAAU,CAAG,CAAC,MAAK5K,KAAL,CAAWF,KAAX,CAAiB8K,UAAnC,CACA,GAAM1I,CAAAA,UAAU,CAAG,CACjBC,QAAQ,CAAEnD,cADO,CAEjBoD,IAAI,CAAE,CAAEwI,UAAU,CAAVA,UAAF,CAFW,CAAnB,CAIA,MAAK5K,KAAL,CAAWrC,WAAX,CAAuBuE,UAAvB,EACD,CAtjDkB,OAwjDnB2I,WAxjDmB,CAwjDL,UAAM,CAClB,GAAM3I,CAAAA,UAAU,CAAG,CACjBC,QAAQ,CAAEnD,cADO,CAEjBoD,IAAI,CAAE,CAAEwI,UAAU,CAAE,KAAd,CAFW,CAAnB,CAIA,MAAK5K,KAAL,CAAWrC,WAAX,CAAuBuE,UAAvB,EACD,CA9jDkB,OAgkDnB4I,cAhkDmB,CAgkDF,UAAM,CACrB,GAAInK,CAAAA,GAAG,CAAG/D,wBAAwB,CAAC,MAAKoD,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAA7B,CAAuC,MAAKP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAAnE,CAA2E,MAAKV,KAAL,CAAWF,KAAX,CAAiBU,QAA5F,CAAlC,CAEA,GAAIyI,CAAAA,YAAY,CAAGtM,mBAAmB,CAAC,MAAKqD,KAAL,CAAWF,KAAX,CAAiBU,QAAlB,CAA4B,MAAKR,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAAxD,CAAtC,CACA,GAAI2I,CAAAA,UAAU,CAAGvM,mBAAmB,CAAC,MAAKqD,KAAL,CAAWF,KAAX,CAAiBU,QAAlB,CAA4B,MAAKR,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAAxD,CAApC,CAEA,GAAIiB,CAAAA,sBAAsB,CAAG,MAAK3B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4ByK,eAAzD,CACA,GAAIjJ,CAAAA,mBAAmB,CAAG,MAAK9B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BU,YAAtD,CACA,GAAImI,CAAAA,sBAAsB,CAAG,MAAKnJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BY,eAAzD,CACA,GAAIkI,CAAAA,wBAAwB,CAAG,MAAKpJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B0B,iBAA3D,CACA,GAAIgJ,CAAAA,sBAAsB,CAAG,MAAKhL,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B2K,2BAAzD,CACA,GAAI3K,CAAAA,UAAU,gCAAQ,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAAzB,MAAqC2I,YAAY,CAAZA,YAArC,CAAmDC,UAAU,CAAVA,UAAnD,CAA+DvH,sBAAsB,CAAtBA,sBAA/D,CAAuFG,mBAAmB,CAAnBA,mBAAvF,CAA4GqH,sBAAsB,CAAtBA,sBAA5G,CAAoIC,wBAAwB,CAAxBA,wBAApI,CAA8J4B,sBAAsB,CAAtBA,sBAA9J,EAAd,CACA,GAAInK,CAAAA,SAAS,CAAG,CACd;AACAe,eAAe,CAAG,MAAK5B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqB,sBAA5B,EAAsD,MAAK3B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqB,sBAA5B,CAAmDC,eAA1G,EAA8H,CAAC,CAFlI,CAGdb,YAAY,CAAEsI,QAAQ,CAAC,MAAKrJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BwB,mBAA5B,EAAmD,MAAK9B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BwB,mBAA5B,CAAgDf,YAApG,CAAR,EAA6H,CAAC,CAH9H,CAIdE,eAAe,CAAEoI,QAAQ,CAAC,MAAKrJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BY,eAA5B,EAA+C,MAAKlB,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BY,eAA5B,CAA4CD,eAA5F,CAAR,EAAwH,CAAC,CAJ5H,CAKdgB,kBAAkB,CAAG,MAAKjC,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B0B,iBAA5B,EAAiD,MAAKhC,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B0B,iBAA5B,CAA8CC,kBAAhG,EAAuH,CAAC,CAL9H,CAMdZ,QAAQ,CAAE,MAAKrB,KAAL,CAAWF,KAAX,CAAiBU,QAC3B;AAPc,CAAhB,CAUA,GAAIK,SAAS,CAACe,eAAV,GAA8B,CAAC,CAA/B,EAAoCf,SAAS,CAACE,YAAV,GAA2B,CAAC,CAAhE,EAAqEF,SAAS,CAACI,eAAV,GAA8B,CAAC,CAApG,EACCJ,SAAS,CAACoB,kBAAV,GAAiC,IADtC,CAC4C,CAE1CpB,SAAS,CAAC,UAAD,CAAT,CAAwBF,GAAG,CAACJ,QAA5B,CACAM,SAAS,CAAC,QAAD,CAAT,CAAsBF,GAAG,CAACD,MAA1B,CACAG,SAAS,CAAC,4BAAD,CAAT,CAA0C,MAAKb,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BuE,0BAAtE,CACA,GAAIjE,CAAAA,UAAU,CAAG,CACfN,UAAU,CAAVA,UADe,CAEfO,SAAS,CAATA,SAFe,CAGfyI,aAAa,CAAE,MAAKA,aAHL,CAIfC,IAAI,CAAE,MAAK1J,KAAL,CAAW0J,IAJF,CAKfC,IAAI,CAAE,MAAK3J,KAAL,CAAW2J,IALF,CAMfC,QAAQ,CAAE,MAAK5J,KAAL,CAAW4J,QANN,CAOfC,QAAQ,CAAE,MAAK7J,KAAL,CAAW6J,QAPN,CAAjB,CAWA,MAAK1J,KAAL,CAAWzB,uBAAX,CAAmCqC,UAAnC,EACD,CAlBD,IAkBO,CACLtE,KAAK,CAAC0I,IAAN,CAAW,MAAKhF,KAAL,CAAWiF,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,6BAAN,CAA9B,CAAX,EACD,CAEF,CA5mDkB,CAEjB,GAAME,CAAAA,gBAAgB,CAAG,CAAEkE,IAAI,CAAE,CAAR,CAAWC,IAAI,CAAE,EAAjB,CAAzB,CACA,MAAK3J,KAAL,CAAa,CACX2C,cAAc,CAAE,EADL,CAEX0I,KAAK,CAAE,EAFI,CAGXrH,qBAAqB,CAAE,EAHZ,CAIXL,gBAAgB,CAAEJ,SAJP,CAKX0E,UAAU,CAAE,GAAIF,CAAAA,GAAJ,EALD,CAMXuD,UAAU,CAAE,EAND,CAOX9F,gBAAgB,CAAhBA,gBAPW,CAQXO,oBAAoB,CAAE,EARX,CASXzB,kBAAkB,CAAE,EATT,CAUXiH,uBAAuB,CAAE,EAVd,CAUkBC,gBAAgB,CAAE,EAVpC,CAUwCC,cAAc,CAAE,EAVxD,CAU4DtK,YAAY,CAAE,EAV1E,CAU8EuK,iBAAiB,CAAE,EAVjG,CAAb,CAYA,MAAK3H,SAAL,CAAiB/H,KAAK,CAAC2P,SAAN,EAAjB,CACA,MAAKC,eAAL,CAAuB,CAAC,aAAD,CAAgB,WAAhB,CAAvB,CACA,MAAK5B,cAAL,CAAsB,GAAIrK,CAAAA,cAAJ,EAAtB,CAjBiB,aAkBlB,C,sDAsUD,2BAAkB4C,IAAlB,CAAwB,iBACtB,GAAMsJ,CAAAA,SAAS,CAAGtJ,IAAI,EAAIA,IAAI,CAACmC,GAAL,CAAS,SAACoH,MAAD,CAAY,CAC7C,MAAO,CAAE,UAAWA,MAAM,CAACvO,gBAAgB,CAACwO,KAAlB,CAAN,CAA+B,MAAI,CAAC5L,KAAL,CAAWF,KAAX,CAAiBU,QAAjB,CAA0BqL,iBAAzD,CAAb,CAA0F,YAAaF,MAAM,CAACvO,gBAAgB,CAAC0O,KAAlB,CAA7G,CAAuI,QAAS,OAAhJ,CAAyJ,aAAc,GAAvK,CAAP,CACD,CAFyB,CAA1B,CAIA,MAAOJ,CAAAA,SAAP,CACD,CACD;AACA;AACA;AACA;AACA;+BAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAOA,yBAAgBtJ,IAAhB,CAAsB,CAEpB,GAAI2J,CAAAA,SAAS,CAAG,IAAhB,CAEA;AAEA;AAEA,GAAI3J,IAAI,EAAIA,IAAI,CAACgC,MAAL,CAAc,CAA1B,CAA6B,CAE3BhC,IAAI,CAAC4J,OAAL,CAAa,SAAAnG,QAAQ,CAAI,CAEvB,GAAIA,QAAQ,CAACC,QAAb,CAAuB,CAErB,GAAID,QAAQ,CAACC,QAAT,GAAsB,KAA1B,CAAiC,CAE/BiG,SAAS,CAAG,KAAZ,CAED,CAEF,CARD,IAUK,CAEHA,SAAS,CAAG,KAAZ,CAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAED,CAEF,CA9BD,EAgCD,CAlCD,IAoCK,CAEH;AAEAA,SAAS,CAAG,KAAZ,CAEA;AAED,CAED,MAAOA,CAAAA,SAAP,CAED,C,sBA2HD,iBAAS,iBACP,GAAIpL,CAAAA,GAAG,CAAG/D,wBAAwB,CAAC,KAAKoD,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAA7B,CAAuC,KAAKP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAAnE,CAA2E,KAAKV,KAAL,CAAWF,KAAX,CAAiBU,QAA5F,CAAlC,CACA,GAAIyL,CAAAA,eAAe,CAAG,EAAtB,CACA,KAAKC,aAAL,CACE,CACE,CAAE,UAAW,UAAb,CAAyB,YAAa,cAAtC,CAAsD,QAAS,OAA/D,CADF,CAEE,CAAE,UAAW,eAAb,CAA8B,YAAa,mBAA3C,CAAgE,QAAS,OAAzE,CAFF,CAGE,CAAE,UAAW,YAAb,CAA2B,YAAa,QAAxC,CAAkD,QAAS,OAA3D,CAHF,CADF,CAMA,KAAKC,mBAAL,CAA2B,CAEzB;AACA,CAAE,UAAW,iBAAb,CAAgC,YAAa,WAA7C,CAA0D,QAAS,OAAnE,CAHyB,CAIzB,CAAE,UAAW,cAAb,CAA6B,YAAa,WAA1C,CAAuD,QAAS,OAAhE,CAJyB,CAKzB,CAAE,UAAW,cAAb,CAA6B,YAAa,eAA1C,CAA2D,QAAS,OAApE,CALyB,CAMzB,CAAE,UAAW,gBAAb,CAA+B,YAAa,aAA5C,CAA2D,QAAS,OAApE,CANyB,CAOzB,CAAE,UAAW,gBAAb,CAA+B,YAAa,aAA5C,CAA2D,QAAS,OAApE,CAPyB,CAQzB,CAAE,UAAW,cAAb,CAA6B,YAAa,WAA1C,CAAuD,QAAS,OAAhE,CARyB,CASzB,CAAE,UAAW,YAAb,CAA2B,YAAa,mBAAxC,CAA6D,QAAS,OAAtE,CATyB,CAUzB,CAAE,UAAW,mBAAb,CAAkC,YAAa,SAA/C,CAA0D,QAAS,OAAnE,CAVyB,CAA3B,CAeA,GAAMC,CAAAA,eAAe,CAAG,CAAC,CAAE,YAAa,OAAf,CAAwB,QAAS,UAAjC,CAAD,CACxB,CAAE,YAAa,YAAf,CAA6B,QAAS,iBAAtC,CADwB,CAExB,CAAE,YAAa,MAAf,CAAuB,QAAS,SAAhC,CAFwB,CAGxB,CAAE,YAAa,aAAf,CAA8B,QAAS,YAAvC,CAHwB,CAIxB,CAAE,YAAa,UAAf,CAA2B,QAAS,sBAApC,CAJwB,CAKxB,CAAE,YAAa,eAAf,CAAgC,QAAS,0BAAzC,CALwB,CAAxB,CASA,GAAI,KAAKpM,KAAL,CAAWF,KAAX,CAAiBoD,UAAjB,GAAgC,cAApC,CAAoD,CAClD+I,eAAe,CAACvH,IAAhB,CACE,CACE2H,SAAS,CAAE,IADb,CAEEC,OAAO,CAAE,gBAFX,CAGEC,SAAS,CAAE,cAHb,CAIEC,cAAc,CAAE,YAJlB,CAKEC,WAAW,CAAE,WALf,CADF,CAOK,CACHJ,SAAS,CAAE,IADR,CAEHC,OAAO,CAAE,UAFN,CAGHC,SAAS,CAAE,WAHR,CAIHC,cAAc,CAAE,YAJb,CAKHC,WAAW,CAAE,WALV,CAPL,EAgBD,CAED,GAAMC,CAAAA,KAAK,CACT,KAAK7M,KAAL,CAAWiI,UAAX,CAAsBC,GAAtB,CAA0B,aAA1B,GACA,KAAKlI,KAAL,CAAWiI,UAAX,CAAsBE,GAAtB,CAA0B,aAA1B,EAAyCtB,YAF3C,CAGA;AACA;AACA;AACA,GAAMkD,CAAAA,QAAQ,CACd,KAAK/J,KAAL,CAAWiI,UAAX,CAAsBC,GAAtB,CAA0B,gBAA1B,GACA,KAAKlI,KAAL,CAAWiI,UAAX,CAAsBE,GAAtB,CAA0B,gBAA1B,EAA4CtB,YAF5C,CAIA,GAAMiG,CAAAA,UAAU,CACd,KAAK9M,KAAL,CAAWiI,UAAX,CAAsBC,GAAtB,CAA0B,kBAA1B,GACA,KAAKlI,KAAL,CAAWiI,UAAX,CAAsBE,GAAtB,CAA0B,kBAA1B,EAA8CtB,YAFhD,CAIE,GAAMkG,CAAAA,QAAQ,CACd,KAAK/M,KAAL,CAAWiI,UAAX,CAAsBC,GAAtB,CAA0B,gBAA1B,GACA,KAAKlI,KAAL,CAAWiI,UAAX,CAAsBE,GAAtB,CAA0B,gBAA1B,EAA4CtB,YAF5C,CAIF;AACA;AACA;AACA;AACA;AACA;AAEA,GAAQlD,CAAAA,gBAAR,CAA6B,KAAKxD,KAAL,CAAWF,KAAX,CAAiBQ,UAA9C,CAAQkD,gBAAR,CACA,GAAMqJ,CAAAA,WAAW,CAAG,CAClB7C,aAAa,CAAE,UADG,CAElBC,cAAc,CAAE,kBAFE,CAGlBC,eAAe,CAAE,eAHC,CAIlB4C,QAAQ,CAAE,4BAJQ,CAKlBC,gBAAgB,CAAE,CAAE1L,QAAQ,CAAE,KAAKrB,KAAL,CAAWF,KAAX,CAAiBU,QAA7B,CALA,CAMlBF,UAAU,CAAE,KAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UANX,CAOlBmL,eAAe,CAAE,KAAKA,eAPJ,CAApB,CASA,GAAMuB,CAAAA,cAAc,CAAG,KAAKnN,KAAL,CAAWoN,UAAX,EAAyB,EAAhD,CACA,mBACE,qDACE,2BAAK,SAAS,CAAC,4DAAf,EACGD,cAAc,CAAC5I,MAAf,CAAwB,CAAxB,cACC,oBAAC,KAAD,EAAO,GAAG,CAAE,EAAZ,eACE,oBAAC,mBAAD,EAAqB,cAAc,CAAE4I,cAArC,EADF,CADD,CAKC,EANJ,cAQE,oBAAC,GAAD,EAAK,SAAS,CAAE,IAAhB,eACE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACE,oBAAC,UAAD,EACE,aAAa,CAAE,KAAKhN,KAAL,CAAWiF,IAAX,CAAgBC,aADjC,CAEE,UAAU,CAAE,UAFd,CAGE,UAAU,CAAE,KAAKlF,KAAL,CAAWF,KAAX,CAAiBQ,UAH/B,CAIE,QAAQ,CAAE,KAAKN,KAAL,CAAWF,KAAX,CAAiBU,QAJ7B,CAKE,UAAU,CACR,KAAKR,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B4M,YAA5B,EACA,KAAKlN,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B6M,QAPhC,CASE,eAAe,CAAE,yBAACC,QAAD,QACf,CAAA,MAAI,CAACpN,KAAL,CAAWnC,iBAAX,CACEuP,QADF,CAEE,MAAI,CAACpN,KAAL,CAAWF,KAAX,CAAiBU,QAFnB,CAGE,MAAI,CAACR,KAAL,CAAWF,KAAX,CAAiBQ,UAHnB,CADe,EATnB,CAgBE,cAAc,CAAE,KAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAhB9C,CAiBE,eAAe,CAAC,eAjBlB,CAkBE,SAAS,CAAC,aAlBZ,CAmBE,UAAU,CAAC,WAnBb,CAoBE,WAAW,CAAC,cApBd,CAqBE,UAAU,CAAC,KArBb,CAsBE,gBAAgB,CAAE,KAAKxD,KAAL,CAAWtB,gBAtB/B,CAuBE,WAAW,CAAEmO,WAvBf,CAwBE,qBAAqB,CAAE,KAAKhN,KAAL,CAAWgE,qBAxBpC,CAyBE,SAAS,CAAE,KAAKD,SAzBlB,CA0BE,KAAK,CAAE8I,KACP;AA3BF,CA4BE,UAAU,CAAE,KAAK3D,UA5BnB,CA6BE,SAAS,CAAE,2BACT,CAAA,MAAI,CAAC/I,KAAL,CAAWpC,iBAAX,CACE,cADF,CAEE,QAFF,CAGE,eAHF,CAIE,MAAI,CAACoC,KAAL,CAAWF,KAAX,CAAiBQ,UAJnB,CAKE,MAAI,CAACN,KAAL,CAAWF,KAAX,CAAiBU,QALnB,CAMEkM,KANF,CADS,EA7Bb,CAuCE,UAAU,CAAE,KAAK/B,UAvCnB,CAwCE,WAAW,CAAE,KAAKE,WAxCpB,CAyCE,cAAc,CAAE,KAAKC,cAzCvB,CA0CE,cAAc,CAAE,IA1ClB,CA2CE,UAAU,CAAE,KAAK9K,KAAL,CAAWF,KAAX,CAAiB8K,UA3C/B,CA4CE,eAAe,CAAE,CACf,CACEyC,kBAAkB,cAChB,oBAAC,yBAAD,EACE,eAAe,CAAE,KAAKrN,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BqB,sBAA5B,EAAsD,EADzE,CAEE,YAAY,CAAE,KAAK3B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BU,YAA5B,EAA4C,EAF5D,CAGE,eAAe,CAAE,KAAKhB,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BY,eAA5B,EAA+C,EAHlE,CAIE,UAAU,CAAE,KAAKrB,KAAL,CAAWuL,uBAAX,EAAsC,EAJpD,CAKE,OAAO,CAAE,KAAKvL,KAAL,CAAWyN,oBAAX,EAAmC,EAL9C,CAME,QAAQ,CAAE,KAAKtN,KAAL,CAAWF,KAAX,CAAiBU,QAAjB,EAA6B,EANzC,CAOE,eAAe,CAAE,KAAKX,KAAL,CAAW0L,iBAAX,EAAgC,EAPnD,CAQE,oBAAoB,CAAE,KAAKvL,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B2K,2BAA5B,EAA2D,EAEjF;AAVF,CAWE,iBAAiB,CAAE,KAAKjL,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B0B,iBAA5B,EAAiD,EAXtE,CAYE,YAAY,CAAE,KAAKnC,KAAL,CAAWwL,gBAAX,EAA+B,EAZ/C,CAaE,gBAAgB,CAAE,KAAKxL,KAAL,CAAW0N,qBAAX,EAAoC,EAbxD,CAcE,mBAAmB,CAAE,KAAK1N,KAAL,CAAW2N,wBAAX,EAAuC,EAd9D,CAeE,QAAQ,CAAE,KAAKxN,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAA5B,CAAuC5D,mBAAmB,CAAC,KAAKqD,KAAL,CAAWF,KAAX,CAAiBU,QAAlB,CAA4B,KAAKR,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAAxD,CAA1D,CAA8H,GAAIH,CAAAA,IAAJ,EAf1I,CAgBE,MAAM,CAAE,KAAKJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAA5B,CAAqC/D,mBAAmB,CAAC,KAAKqD,KAAL,CAAWF,KAAX,CAAiBU,QAAlB,CAA4B,KAAKR,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAAxD,CAAxD,CAA0H,GAAIN,CAAAA,IAAJ,EAhBpI,CAiBE,gBAAgB,CAAE,KAAKH,gBAjBzB,CAkBE,mBAAmB,CAAE,KAAKqB,mBAlB5B,CAmBE,UAAU,CAAE,KAAKzB,KAAL,CAAWyL,cAAX,EAA6B,EAnB3C,EAFJ,CADe,CA5CnB,EADF,CADF,cAgFE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACE,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACE,oBAAC,YAAD,EAAc,SAAS,CAAC,oBAAxB,eACE,oBAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,EACG,KAAKtL,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAA5B,cACC,qDACE,oBAAC,IAAD,CAAM,MAAN,mBACE,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,oBAAtB,EAEI,KAAKxD,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAA5B,CACGiK,WAHP,CADF,cAOE,oBAAC,IAAD,CAAM,QAAN,mBACE,2BAAK,SAAS,CAAC,yBAAf,eACE,0BAAI,SAAS,CAAC,+BAAd,eACE,oBAAC,UAAD,EAAY,SAAS,4BAAsB,KAAKzN,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAA5B,CAA6CvB,kBAA7C,GAAoE,EAApE,CAAyE,iBAAzE,CAA6F,mBAAnH,gBAArB,EACG,KAAKjC,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAA5B,CAA6CvB,kBAA7C,GAAoE,EAApE,eAA0E,oBAAC,eAAD,EAAiB,IAAI,CAAEzF,OAAvB,EAD7E,CAEG,KAAKwD,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BkD,gBAA5B,CAA6CkK,mBAFhD,CADF,CADF,cAOE,2BAAK,SAAS,CAAC,UAAf,eAoBE,oBAAC,GAAD,CAAK,IAAL,EACE,IAAI,CAAC,gBADP,CAEE,SAAS,CAAC,oDAFZ,CAGE,WAAU,KAAK1N,KAAL,CAAWiF,IAAX,CAAgBC,aAAhB,CAA8B,CACtCC,EAAE,CAAE,YADkC,CAA9B,CAGV;AANF,CAOE,MAAM,CACJ,KAAKtF,KAAL,CAAWgE,qBAAX,CAAiCW,OAAjC,CACEoF,QADF,IAEM,CAAC,CAVX,CAYE,OAAO,CAAE,yBACP,CAAA,MAAI,CAACD,aAAL,CACE,CACEpG,SAAS,CAAE,QADb,CAEEL,UAAU,CAAE,cAFd,CADF,CAKE0G,QALF,CADO,EAZX,eAsBE,oBAAC,eAAD,EAAiB,IAAI,CAAEnN,UAAvB,EAtBF,CApBF,cA6CE,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,kCAApB,CACE,MAAM,CAAE,KAAKoD,KAAL,CAAWgE,qBAAX,CAAiCW,OAAjC,CAAyCmI,UAAzC,IAAyD,CAAC,CADpE,CAEE,WAAU,KAAK3M,KAAL,CAAWiF,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,cAAN,CAA9B,CAFZ,CAGE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACnF,KAAL,CAAW1B,sBAAX,CAAkC,MAAI,CAAC0B,KAAL,CAAWF,KAAX,CAAiBQ,UAAnD,CAA+D,MAAI,CAACN,KAAL,CAAWF,KAAX,CAAiBU,QAAhF,CAA0F,MAAI,CAACqJ,cAA/F,CAA+G8C,UAA/G,CAAN,EAHX,eAME,oBAAC,OAAD,EAAS,SAAS,CAAC,cAAnB,CAAkC,KAAK,CAAC,IAAxC,CAA6C,MAAM,CAAC,IAApD,EANF,CA7CF,cAuDE,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,kCAApB,CACE,MAAM,CAAE,KAAK9M,KAAL,CAAWgE,qBAAX,CAAiCW,OAAjC,CAAyCoI,QAAzC,IAAuD,CAAC,CADlE,CAEE,WAAU,KAAK5M,KAAL,CAAWiF,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAFZ,CAGE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACqB,mBAAL,CAAyBoG,QAAzB,CAAN,EAHX,eAME,oBAAC,UAAD,EAAY,SAAS,CAAC,cAAtB,CAAqC,KAAK,CAAC,IAA3C,CAAgD,MAAM,CAAC,IAAvD,EANF,CAvDF,CAPF,CADF,CAPF,CADF,cAsFE,oBAAC,IAAD,CAAM,IAAN,MAEGpJ,gBAAgB,eACf,oBAAC,SAAD,EACE,SAAS,CAAE,KAAKxD,KAAL,CAAWF,KAAX,CAAiBgJ,SAAjB,CAA6B,KAAK9I,KAAL,CAAWF,KAAX,CAAiBgJ,SAA9C,CAA0D,oBADvE,CAEE,SAAS,CAAE,KAAKpB,SAAL,EAFb,CAGE,WAAW,CAAE,KAAKkB,WAHpB,EAHJ,CAtFF,CADD,CAmGC,EApGJ,CADF,CADF,CADF,CADF,CAhFF,CARF,CADF,CA8MG,KAAK5I,KAAL,CAAWF,KAAX,CAAiB4F,SAAjB,eACC,oBAAC,aAAD,EACE,IAAI,CAAE,KAAK1F,KAAL,CAAWF,KAAX,CAAiB4F,SADzB,CAEE,UAAU,CAAE,KAAK4E,UAFnB,CAGE,SAAS,CAAE,KAAKtK,KAAL,CAAWF,KAAX,CAAiByD,SAH9B,CAIE,UAAU,CAAE,KAAKvD,KAAL,CAAWF,KAAX,CAAiBc,UAJ/B,CAKE,UAAU,CAAE,KAAKZ,KAAL,CAAWF,KAAX,CAAiBoD,UAL/B,CAME,WAAW,CAAE,KAAKJ,WANpB,CAOE,KAAK,CAAE,KAAK9C,KAAL,CAAWF,KAAX,CAAiBkE,SAP1B,CAQE,aAAa,CAAE,KAAKuD,aARtB,CASE,YAAY,CAAE,KAAKvH,KAAL,CAAWF,KAAX,CAAiB6N,YATjC,CAUE,eAAe,CAAE1B,eAVnB,CAWE,WAAW,CAAE,KAAKjM,KAAL,CAAWrC,WAX1B,CAYE,cAAc,CAAE,KAAKkC,KAAL,CAAW2C,cAAX,EAA6B,EAZ/C,CAaE,QAAQ,CAAE,KAAKxC,KAAL,CAAWF,KAAX,CAAiBoD,UAAjB,GAAgC,iBAAhC,CAAoD,IAApD,CAA2D,KAbvE,CAgBE,YAAY,CACV,KAAKlD,KAAL,CAAWF,KAAX,CAAiBkE,SAAjB,cACE,oBAAC,KAAD,EACE,SAAS,CAAE,KAAKhE,KAAL,CAAWF,KAAX,CAAiByD,SAD9B,CAEE,eAAe,CAAE,KAAKlB,eAFxB,CAGE,UAAU,CAAE,KAAKrC,KAAL,CAAWF,KAAX,CAAiBc,UAH/B,CAIE,cAAc,CAAE,KAAKf,KAAL,CAAW2C,cAAX,EAA6B,EAJ/C,EADF,CAQI,KAAKxC,KAAL,CAAWF,KAAX,CAAiBoD,UAAjB,GAAgC,cAAhC,cACA,oBAAC,kBACC;AADF,EAEE,cAAc,CAAE,KAAKlD,KAAL,CAAWF,KAAX,CAAiB0C,cAAjB,EAAmC,EAFrD,CAGE,eAAe,CAAE,KAAKH,eAHxB,CAIE,aAAa,CAAE,KAAK+H,aAJtB,CAKE,YAAY,CAAE,KAAKpK,KAAL,CAAWF,KAAX,CAAiB8N,OALjC,CAME,SAAS,CAAE,KAAK5N,KAAL,CAAWF,KAAX,CAAiB+N,IAN9B,CAOE,gBAAgB,CAAE,KAAK5N,gBAPzB,EADA,CAaE,KAAKD,KAAL,CAAWF,KAAX,CAAiBoD,UAAjB,GAAgC,oBAAhC,cACA,oBAAC,iBAAD,EACE,eAAe,CAAE,KAAKyC,eADxB,CAEE,qBAAqB,CAAE,KAAKkB,qBAF9B,CAGE,oBAAoB,CAAE,KAAK7G,KAAL,CAAWF,KAAX,CAAiB8F,oBAHzC,CAIE,YAAY,CAAE,KAAK/F,KAAL,CAAWwG,YACzB;AALF,CAME,cAAc,CAAE,KAAKrG,KAAL,CAAWF,KAAX,CAAiB0C,cAAjB,EAAmC,EANrD,CAOE,eAAe,CAAE,KAAKH,eAPxB,CAQE,aAAa,CAAE,KAAK+H,aARtB,CASE,SAAS,CAAE,KAAKpK,KAAL,CAAWF,KAAX,CAAiB+N,IAT9B,CAUE,gBAAgB,CAAE,KAAK5N,gBAVzB,EADA,CAgBE,KAAKD,KAAL,CAAWF,KAAX,CAAiBoD,UAAjB,GAAgC,iBAAhC,cACA,qDAEE,oBAAC,IAAD,EAAM,SAAS,CAAC,KAAhB,eACE,oBAAC,IAAD,CAAM,IAAN,mBACE,oBAAC,iBAAD,EACE,UAAU,CAAE,KAAKrD,KAAL,CAAWiI,UADzB,CAEE,eAAe,CAAEsE,eAFnB,CAGE,qBAAqB,CAAE,KAAKvM,KAAL,CAAWgE,qBAHpC,CAIE,qBAAqB,CAAE,KAAK7D,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BmK,WAJrD,CAKE,QAAQ,CAAE,KAAKzK,KAAL,CAAWF,KAAX,CAAiBU,QAL7B,CAME,YAAY,CAAE,KAAKR,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BwN,YAN5C,CAOE,cAAc,CAAE,KAAKjO,KAAL,CAAWoN,UAP7B,CAQE,wBAAwB,CAAE,KAAKjN,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4ByN,wBARxD,CASE,UAAU,CAAC,uBATb,EADF,CADF,CAFF,cAkBE,8BAlBF,cAoBE,oBAAC,QAAD,EACE,eAAe,CAAE,sBACjB;AAFF,CAGE,iBAAiB,CAAE,KAAK7B,aAH1B,CAIE,mBAAmB,CAAE,KAAKA,aAJ5B,CAKE,UAAU,CAAE,KAAKlM,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B0N,qBAA5B,EAAqD,KAAKhO,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B0N,qBAA5B,CAAkD5J,MAAlD,CAA2D,CAAhH,EACP7E,OAAO,CAAC,KAAKS,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B0N,qBAA7B,CAAoD,CAAEzE,IAAI,CAAE,CAAR,CAAWC,IAAI,CAAE,EAAjB,CAApD,CANd,CAOE,SAAS,CAAE,CAAED,IAAI,CAAE,CAAR,CAAWC,IAAI,CAAE,EAAjB,CAPb,CAQE,eAAe,CAAE,KAAK7D,eARxB,CASE,qBAAqB,CAAE,KAAKkB,qBAT9B,EApBF,CADA,CAsCE,EA5Fd,EA/MJ,CADF,CAuTD,C,kCAyPD,4BAAmBoH,aAAnB,CAAkC,CAChC,GAAIC,CAAAA,WAAW,CAAG,KAAlB,CACA,gBAQiC,KAAKrO,KARtC,CACE2C,cADF,aACEA,cADF,CACkB2B,kBADlB,aACkBA,kBADlB,CAEEN,qBAFF,aAEEA,qBAFF,CAGEiE,UAHF,aAGEA,UAHF,CAIEmF,UAJF,aAIEA,UAJF,CAKEkB,yBALF,aAKEA,yBALF,CAMEC,wBANF,aAMEA,wBANF,CAM4BhD,uBAN5B,aAM4BA,uBAN5B,CAMqDC,gBANrD,aAMqDA,gBANrD,CAMuEC,cANvE,aAMuEA,cANvE,CAOEgC,oBAPF,aAOEA,oBAPF,CAOwBhF,eAPxB,aAOwBA,eAPxB,CAOyCC,mBAPzC,aAOyCA,mBAPzC,CAO6DgD,iBAP7D,aAO6DA,iBAP7D,CAO+E8C,iBAP/E,aAO+EA,iBAP/E,CAOiGC,cAPjG,aAOiGA,cAPjG,mCAOgHC,YAPhH,CAOgHA,YAPhH,gCAO6H,EAP7H,uBAOgIC,kBAPhI,aAOgIA,kBAPhI,CAQCnI,YARD,aAQCA,YARD,CAQcE,eARd,aAQcA,eARd,CASA,GACE,KAAKvG,KAAL,CAAWF,KAAX,CAAiB0C,cAAjB,GAAoCyL,aAAa,CAACnO,KAAd,CAAoB0C,cAD1D,CAEE,CACAA,cAAc,CAAG,KAAKxC,KAAL,CAAWF,KAAX,CAAiB0C,cAAlC,CACA0L,WAAW,CAAG,IAAd,CACD,CACD,GACE,KAAKlO,KAAL,CAAWF,KAAX,CAAiBU,QAAjB,CAA0BsD,SAA1B,GACAmK,aAAa,CAACnO,KAAd,CAAoBU,QAApB,CAA6BsD,SAF/B,CAGE,CACAD,qBAAqB,CAAG,EAAxB,CACA,GAAI,KAAK7D,KAAL,CAAWF,KAAX,CAAiB+D,qBAArB,CAA4C,CAC1C,KAAK7D,KAAL,CAAWF,KAAX,CAAiB+D,qBAAjB,CACE,KAAK7D,KAAL,CAAWF,KAAX,CAAiBU,QAAjB,CAA0BsD,SAD5B,GAGE2K,MAAM,CAACC,MAAP,CACE,KAAK1O,KAAL,CAAWF,KAAX,CAAiB+D,qBAAjB,CACA,KAAK7D,KAAL,CAAWF,KAAX,CAAiBU,QAAjB,CAA0BsD,SAD1B,CADF,EAIES,GAJF,CAIM,SAAC1C,IAAD,QAAUgC,CAAAA,qBAAqB,CAACa,IAAtB,CAA2B7C,IAAI,CAAC6E,YAAhC,CAAV,EAJN,CAHF,CAQD,CACDoB,UAAU,CAAG3I,aAAa,CACxB,KAAKa,KAAL,CAAWF,KAAX,CAAiB+D,qBADO,CAExB,KAAK7D,KAAL,CAAWF,KAAX,CAAiBU,QAAjB,CAA0BsD,SAFF,CAA1B,CAIAoK,WAAW,CAAG,IAAd,CACD,CACD,GAAI,KAAKlO,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,GAAgC2N,aAAa,CAACnO,KAAd,CAAoBQ,UAAxD,CAAoE,CAClE,GAAMqO,CAAAA,0BAA0B,CAAGvP,mBAAmB,CAAC,KAAKY,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BsO,mBAA5B,EAAmD,EAApD,CAAwD,iBAAxD,CAA2E,iBAA3E,CAA8F,SAA9F,CAAyG,WAAzG,CAAsH,iBAAtH,CAAyI,KAAzI,CAAtD,CACAxD,uBAAuB,CAAGuD,0BAA0B,CAAC3G,GAA3B,CAA+B,YAA/B,CAA1B,CAEA,GAAM6G,CAAAA,uBAAuB,CAAGzP,mBAAmB,CAAC,KAAKY,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BwO,gBAA5B,EAAgD,EAAjD,CAAqD,cAArD,CAAqE,cAArE,CAAqF,SAArF,CAAgG,WAAhG,CAA6G,cAA7G,CAA6H,KAA7H,CAAnD,CACAxB,oBAAoB,CAAGuB,uBAAuB,CAAC7G,GAAxB,CAA4B,YAA5B,CAAvB,CAEA,GAAM+G,CAAAA,mBAAmB,CAAG3P,mBAAmB,CAAC,KAAKY,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B0O,YAA5B,EAA4C,EAA7C,CAAiD,oBAAjD,CAAuE,qBAAvE,CAA8F5L,SAA9F,CAAyGA,SAAzG,CAAoH,KAApH,CAA/C,CACAiI,gBAAgB,CAAG0D,mBAAmB,CAAC/G,GAApB,CAAwB,YAAxB,CAAnB,CAEA,GAAMiH,CAAAA,iBAAiB,CAAG7P,mBAAmB,CAAC,KAAKY,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B4O,UAA5B,EAA0C,EAA3C,CAA+C,iBAA/C,CAAkE,iBAAlE,CAAqF,WAArF,CAAkG,iBAAlG,CAAqH,KAArH,CAA7C,CACA5D,cAAc,CAAG2D,iBAAiB,CAACjH,GAAlB,CAAsB,YAAtB,CAAjB,CACA,GAAMmH,CAAAA,oBAAoB,CAAG/P,mBAAmB,CAAC,KAAKY,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8O,qBAA5B,EAAqD,EAAtD,CAA0D,4BAA1D,CAAwF,cAAxF,CAAwG,YAAxG,CAAsH,oBAAtH,CAA4I,KAA5I,CAAhD,CACA7D,iBAAiB,CAAG4D,oBAAoB,CAACnH,GAArB,CAAyB,YAAzB,CAApB,CACAmG,yBAAyB,CAAG,KAAKtO,KAAL,CAAWsO,yBAAX,EAAwC,EAApE,CACA9H,YAAY,CAAC,KAAb,CACAE,eAAe,CAAC,IAAhB,CACA,GACE,KAAKvG,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B+O,cAA5B,EACA,KAAKrP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B+O,cAA5B,GACApB,aAAa,CAACnO,KAAd,CAAoBQ,UAApB,CAA+B+O,cAHjC,CAIE,CACAlB,yBAAyB,CAAG,CAC1BmB,KAAK,CAAE,KAAKtP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B+O,cAA5B,CAA2CE,YADxB,CAE1B7N,KAAK,CAAE,KAAK1B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B+O,cAA5B,CAA2CG,SAFxB,CAG1B3N,IAAI,CAAE,KAAK7B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B+O,cAHR,CAA5B,CAKD,CACDpC,UAAU,CAAG,KAAKwC,qBAAL,EAAb,CACAvB,WAAW,CAAG,IAAd,CACD,CAED,GAAI,KAAKlO,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BoP,aAA5B,EAA6C,KAAK1P,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BoP,aAA5B,GAA8CzB,aAAa,CAACnO,KAAd,CAAoBQ,UAApB,CAA+BoP,aAA9H,CAA6I,CAC3I,GAAMC,CAAAA,aAAa,CAAG3J,IAAI,CAACC,KAAL,CAAW,KAAKjG,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BoP,aAA5B,CAA0CE,QAA1C,CAAmDlO,KAA9D,CAAtB,CAGA6M,YAAY,CAAC,CAAD,CAAZ,CAAiBoB,aAAa,CAACE,cAAd,CAA6BC,iBAA7B,CAA+C,CAA/C,EAAoDH,aAAa,CAACE,cAAd,CAA6BC,iBAA7B,CAA+C,CAA/C,CAApD,CAAwG,EAAzH,CACDxB,cAAc,CAAGqB,aAAa,CAACI,cAAd,CAA+BJ,aAAa,CAACI,cAA7C,CAA8D,EAA/E,CACC1B,iBAAiB,CAAGsB,aAAa,CAACK,iBAAd,CAAkCL,aAAa,CAACK,iBAAhD,CAAoE,EAAxF,CACA;AACM1H,eAAe,8BAAKiG,YAAL,qBAAqBD,cAArB,qBAAuCD,iBAAvC,EAAf,CACAG,kBAAkB,CAAGmB,aAAa,CAACnB,kBAAd,CAAmCmB,aAAa,CAACnB,kBAAjD,CAAsE,EAA3F,CACAjG,mBAAmB,oBAAKiG,kBAAL,CAAnB,CACN;AACD,CAGD,GACE,KAAKxO,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8N,wBAA5B,GACAH,aAAa,CAACnO,KAAd,CAAoBQ,UAApB,CAA+B8N,wBAFjC,CAGE,CACA,GAAM6B,CAAAA,cAAc,CAAG7Q,mBAAmB,CACxC,KAAKY,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8N,wBAA5B,EAAwD,EADhB,CAExC,WAFwC,CAGxC,cAHwC,CAIxC,mBAJwC,CAKxC,WALwC,CAMxC,KANwC,CAA1C,CAQAA,wBAAwB,CAAG6B,cAAc,CAACjI,GAAf,CAAmB,YAAnB,CAA3B,CACA,GAAIiI,cAAc,CAACjI,GAAf,CAAmB,cAAnB,CAAJ,CAAwC,CACtCmG,yBAAyB,CAAG8B,cAAc,CAACjI,GAAf,CAAmB,cAAnB,CAA5B,CACD,CAFD,IAEO,IACLoG,wBAAwB,EACxBA,wBAAwB,CAAChK,MAAzB,CAAkC,CAF7B,CAGL,CACA+J,yBAAyB,CAAGC,wBAAwB,CAAC,CAAD,CAApD,CACD,CACDF,WAAW,CAAG,IAAd,CACD,CAGD;AACA,GAAIgC,CAAAA,iBAAiB,CAAG,EAAxB,CACA,GAAI,KAAKlQ,KAAL,CAAWF,KAAX,CAAiBqE,kBAAjB,GAAwC8J,aAAa,CAACnO,KAAd,CAAoBqE,kBAAhE,CAAoF,CAElFkC,YAAY,CAAC,KAAb,CACAE,eAAe,CAAC,IAAhB,CAEA,KAAK1D,QAAL,CAAc,CACZsB,kBAAkB,CAAE,KAAKnE,KAAL,CAAWF,KAAX,CAAiBqE,kBADzB,CAEZkC,YAAY,CAAZA,YAFY,CAECE,eAAe,CAAfA,eAFD,CAAd,EAID,CAED,GAAI,KAAKvG,KAAL,CAAWmE,kBAAX,GAAkC8J,aAAa,CAAC9J,kBAApD,CAAwE,CACtE;AACA+J,WAAW,CAAG,IAAd,CACAgC,iBAAiB,gCAAQA,iBAAR,MAA2B/L,kBAAkB,CAAE,KAAKnE,KAAL,CAAWmE,kBAA1D,EAAjB,CACD,CAGD,GAAI+J,WAAJ,CAAiB,CACf,KAAKrL,QAAL,CAAc,CACZL,cAAc,CAAdA,cADY,CAEZqB,qBAAqB,CAArBA,qBAFY,CAGZiE,UAAU,CAAVA,UAHY,CAIZmF,UAAU,CAAVA,UAJY,CAKZkB,yBAAyB,CAAzBA,yBALY,CAMZC,wBAAwB,CAAxBA,wBANY,CAMchD,uBAAuB,CAAvBA,uBANd,CAMuCC,gBAAgB,CAAhBA,gBANvC,CAMyDC,cAAc,CAAdA,cANzD,CAOZgC,oBAAoB,CAApBA,oBAPY,CAOUhF,eAAe,CAAfA,eAPV,CAO2BiD,iBAAiB,CAAjBA,iBAP3B,CAO6ChD,mBAAmB,CAAnBA,mBAP7C,CAOiElC,YAAY,CAAZA,YAPjE,CAO8EE,eAAe,CAAfA,eAP9E,CAAd,EASD,CACF,C,qCAED,gCAAwB,CACtB;AAEA,GAAMyG,CAAAA,cAAc,CAAG,EAAvB,CACA,GAAI,KAAKhN,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,EAA+B,KAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B6M,QAA/D,CAAyE,CACvE,GAAMxM,CAAAA,GAAG,CAAG/D,wBAAwB,CAAC,KAAKoD,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,QAA7B,CAAuC,KAAKP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BI,MAAnE,CAA2E,KAAKV,KAAL,CAAWF,KAAX,CAAiBU,QAA5F,CAApC,CAEAwM,cAAc,CAACtI,IAAf,CAAoB,CAElB,QAAS,UAFS,CAGlB,QAAS/D,GAAG,CAACwP,cAHK,CAApB,CAIG,CACD,QAAS,QADR,CAED,QAASxP,GAAG,CAACyP,YAFZ,CAJH,CAQE;AACA;AACA;AACA;AACA;AACC,CACD,QAAS,aADR,CAED,QAAS,KAAKpQ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BwB,mBAA5B,CAAkD,KAAK9B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BwB,mBAA5B,CAAgDuO,YAAhD,EAAgE,IAAlH,CACP,KAAKrQ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BwB,mBAA5B,CAAkD,KAAK9B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BwB,mBAA5B,CAAgDuO,YAAhD,EAAgE,IAAlH,CAAyH,IAH1H,CAbH,CAiBG,CACD,QAAS,gBADR,CAED,QAAS,KAAKrQ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B6I,sBAA5B,CAAqD,KAAKnJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B6I,sBAA5B,CAAmDmH,eAAnD,EAAsE,IAA3H,CACP,KAAKtQ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B6I,sBAA5B,CACE,KAAKnJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B6I,sBAA5B,CAAmDmH,eADrD,CACuE,IAJxE,CAjBH,CAwBE;AACA;AACA;AACA;AACA;AACA;AAGA,CACE,QAAS,oBADX,CAEE,QAAS,KAAKtQ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8I,wBAA5B,CACP,KAAKpJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8I,wBAA5B,CAAqDsE,mBAArD,EAA4E,IADrE,CAEP,KAAK1N,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8I,wBAA5B,CACE,KAAKpJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4B8I,wBAA5B,CAAqDsE,mBAArD,EAA4E,IAD9E,CACqF,IALzF,CAOA;AAvCF,EAyCD,CACD,MAAOV,CAAAA,cAAP,CACD,C,0CAj8BD,kCAAgChN,KAAhC,CAAuCH,KAAvC,CAA8C,CAC5C,GAAIG,KAAK,CAACF,KAAN,CAAY6N,YAAZ,GAA6B,EAAjC,CAAqC,CACnC,GAAI3N,KAAK,CAACF,KAAN,CAAYyQ,SAAZ,GAA0B,GAA1B,EAAiCvQ,KAAK,CAACF,KAAN,CAAYyQ,SAAZ,GAA0B,GAA/D,CAAoE,CAClEjU,KAAK,CAAC0I,IAAN,CAAWhF,KAAK,CAACF,KAAN,CAAY6N,YAAvB,EACA3N,KAAK,CAACF,KAAN,CAAY6N,YAAZ,CAA2B,EAA3B,CACD,CACF,CACD,GAAI3N,KAAK,CAACF,KAAN,CAAYoL,KAAZ,GAAsBrL,KAAK,CAACqL,KAAhC,CAAuC,CACrC5O,KAAK,CAAC4O,KAAN,CAAYlL,KAAK,CAACF,KAAN,CAAYoL,KAAxB,EACAlL,KAAK,CAACF,KAAN,CAAYoL,KAAZ,CAAoB,EAApB,CACD,CACD,GAAIlL,KAAK,CAACF,KAAN,CAAY0C,cAAZ,GAA+BY,SAAnC,CAA8C,CAC5C,MAAO,CAAEZ,cAAc,CAAE,EAAlB,CAAP,CACD,CACD,MAAO,KAAP,CACD,C,sBA5nBoB1G,S,EAgnDvB,cAAeO,CAAAA,OAAO,CAACuD,eAAD,CAAkB,CACtCpC,WAAW,CAAXA,WADsC,CAEtCC,UAAU,CAAVA,UAFsC,CAGtCI,iBAAiB,CAAjBA,iBAHsC,CAItCa,gBAAgB,CAAhBA,gBAJsC,CAKtCd,iBAAiB,CAAjBA,iBALsC,CAMtCD,WAAW,CAAXA,WANsC,CAOtCD,uBAAuB,CAAvBA,uBAPsC,CAQtCY,sBAAsB,CAAtBA,sBARsC,CAStCR,QAAQ,CAARA,QATsC,CAUtCC,SAAS,CAATA,SAVsC,CAU3BC,cAAc,CAAdA,cAV2B,CAUXC,kBAAkB,CAAlBA,kBAVW,CAUSC,iBAAiB,CAAjBA,iBAVT,CAU4BC,kBAAkB,CAAlBA,kBAV5B,CAUgDC,kBAAkB,CAAlBA,kBAVhD,CAWtCC,kBAAkB,CAAlBA,kBAXsC,CAWlBE,uBAAuB,CAAvBA,uBAXkB,CAWOC,qBAAqB,CAArBA,qBAXP,CAW8BC,sBAAsB,CAAtBA,sBAX9B,CAWsDE,wBAAwB,CAAxBA,wBAXtD,CAYtCC,iBAAiB,CAAjBA,iBAZsC,CAYnBC,wBAAwB,CAAxBA,wBAZmB,CAYMC,cAAc,CAAdA,cAZN,CAAlB,CAAP,CAaZjC,UAAU,CAACkD,QAAD,CAbE,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCheck, faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport WorklistPreparationFilter from './WorklistPreparationFilter'\r\nimport { rearrangeDateFormat, convertDateValuetoString } from '../../components/CommonScript';\r\nimport { injectIntl } from \"react-intl\";\r\nimport Esign from \"../audittrail/Esign\";\r\nimport AddWorklistSection from '../worklist/AddWorklistSection';\r\nimport AddWorklistSample from '../worklist/AddWorklistSample';\r\nimport CustomTab from \"../../components/custom-tabs/custom-tabs.component\";\r\nimport WorklistHistoryTab from \"./WorklistHistoryTab\";\r\nimport WorklistSampleTab from \"./WorklistSampleTab\";\r\nimport { designProperties, transactionStatus,REPORTTYPE } from '../../components/Enumeration';\r\nimport SpecificationInfo from '../testgroup/SpecificationInfo';\r\nimport { ReactComponent as Closure } from '../../assets/image/prepared-worklist.svg';\r\nimport { ReactComponent as ReportIcon } from '../../assets/image/report-Icon.svg';\r\nimport {\r\n  callService,\r\n  crudMaster,\r\n  validateEsignCredential,\r\n  updateStore,\r\n  getSectionAndTest,\r\n  getWorklistDetail,\r\n  OpenDate,\r\n  CloseDate, viewAttachment, getInstrumentCombo, getWorklistSample, getRegTypeTestWise,\r\n  getRegTypeWorklist, getSectionbaseTest, onWorklistApproveClick\r\n  , getWorklistDetailFilter, getEditSectionAndTest, createWorklistCreation, filterColumnData, getConfigVersionTestWise,\r\n  ViewSampleDetails, getWorklisthistoryAction,reportWorklist\r\n} from \"../../actions\";\r\n\r\nimport ListMaster from \"../../components/list-master/list-master.component\";\r\nimport { DEFAULT_RETURN } from \"../../actions/LoginTypes\";\r\nimport SlideOutModal from \"../../components/slide-out-modal/SlideOutModal\";\r\n\r\nimport {\r\n  showEsign,\r\n  getControlMap,\r\n  constructOptionList,\r\n} from \"../../components/CommonScript\";\r\nimport { ContentPanel, MediaLabel } from \"../../components/App.styles\";\r\n\r\nimport { process } from \"@progress/kendo-data-query\";\r\nimport ConfirmMessage from \"../../components/confirm-alert/confirm-message.component\";\r\n\r\nimport BreadcrumbComponent from \"../../components/Breadcrumb.Component\";\r\nimport { Affix } from \"rsuite\";\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nconst mapStateToProps = (state) => {\r\n  return { Login: state.Login };\r\n};\r\n\r\nclass WorkList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const sectionDataState = { skip: 0, take: 10 };\r\n    this.state = {\r\n      selectedRecord: {},\r\n      error: \"\",\r\n      userRoleControlRights: [],\r\n      selectedWorklist: undefined,\r\n      controlMap: new Map(),\r\n      Instrument: [],\r\n      sectionDataState,\r\n      addComponentDataList: [],\r\n      addedComponentList: [],\r\n      RegistrationSubTypeList: [], FilterStatusList: [], SampletypeList: [], RegTypeValue: [], ConfigVersionList: []\r\n    };\r\n    this.searchRef = React.createRef();\r\n    this.searchFieldList = [\"sworklistno\", \"stestname\"];\r\n    this.confirmMessage = new ConfirmMessage();\r\n  }\r\n\r\n  handleDateChange = (dateName, dateValue) => {\r\n\r\n\r\n    if (dateValue === null) {\r\n      dateValue = new Date();\r\n    }\r\n    // let toDate;\r\n    // let fromDate;\r\n    let fromdate = this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()\r\n    let todate = this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()\r\n    let obj = {}\r\n    if (dateName === 'fromDate') {\r\n      obj = convertDateValuetoString(dateValue, todate, this.props.Login.userInfo)\r\n      fromdate = obj.fromDate\r\n      todate = obj.toDate\r\n      let fromDate = obj.fromDate\r\n      let toDate = obj.toDate\r\n    } else {\r\n      obj = convertDateValuetoString(fromdate, dateValue, this.props.Login.userInfo)\r\n      fromdate = obj.fromDate\r\n      todate = obj.toDate\r\n      let fromDate = obj.fromDate\r\n      let toDate = obj.toDate\r\n\r\n    }\r\n    let inputParam = {\r\n      inputData: {\r\n        nflag: 2,\r\n        nregtypecode: this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n        nregsubtypecode: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n        nneedtemplatebasedflow: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedtemplatebasedflow,\r\n        fromdate: String(fromdate),\r\n        todate: String(todate),\r\n        userinfo: this.props.Login.userInfo\r\n      },\r\n      masterData: this.props.Login.masterData\r\n\r\n    }\r\n    this.props.getConfigVersionTestWise(inputParam)\r\n\r\n  };\r\n\r\n\r\n\r\n  onFilterComboChange = (comboData, fieldName) => {\r\n\r\n    if (comboData) {\r\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n      let inputParamData = {};\r\n      if (fieldName === 'nsampletypecode') {\r\n        if (comboData.value !== this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode) {\r\n          inputParamData = {\r\n            nflag: 2,\r\n            nsampletypecode: comboData.value,\r\n            userinfo: this.props.Login.userInfo,\r\n            masterData: this.props.Login.masterData,\r\n            defaultSampleTypeValue: comboData.item\r\n          };\r\n          this.props.getRegTypeWorklist(inputParamData)\r\n        }\r\n      } else if (fieldName === 'nregtypecode') {\r\n        if (comboData.value !== this.props.Login.masterData.defaultRegTypeValue.nregtypecode) {\r\n          inputParamData = {\r\n            nflag: 3,\r\n            fromdate: obj.fromDate,\r\n            todate: obj.toDate,\r\n            nsampletypecode: this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode,\r\n            nregtypecode: comboData.value,\r\n            userinfo: this.props.Login.userInfo,\r\n            masterData: this.props.Login.masterData,\r\n            defaultRegTypeValue: comboData.item\r\n\r\n\r\n          }\r\n          this.props.getRegSubTypeTestWise(inputParamData)\r\n        }\r\n\r\n\r\n\r\n      } else if (fieldName === 'nregsubtypecode') {\r\n       \r\n        if (comboData.value !== this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) {\r\n          let inputData = {\r\n            nflag: 4,\r\n            fromdate: obj.fromDate,\r\n            todate: obj.toDate,\r\n            nsampletypecode: this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode,\r\n            nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n            nneedtemplatebasedflow: comboData.item.nneedtemplatebasedflow,\r\n            nregsubtypecode: comboData.value,\r\n            userinfo: this.props.Login.userInfo\r\n          }\r\n          inputParamData = {\r\n            inputData,\r\n            masterData: {\r\n              ...this.props.Login.masterData,\r\n              RegSubTypeValue: comboData.item,\r\n              //RegistrationSubTypeList: inputParam.masterData.RegistrationSubTypeList\r\n            }\r\n          }\r\n          this.props.getConfigVersionTestWise(inputParamData)\r\n        }\r\n      }\r\n\r\n      else if (fieldName === 'ntransactionstatus') {\r\n        if (comboData.value !== this.props.Login.masterData.FilterStatusValue.ntransactionstatus) {\r\n          let masterData = { ...this.props.Login.masterData, FilterStatusValue: comboData.item }\r\n          const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { masterData }\r\n          }\r\n          this.props.updateStore(updateInfo);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onInputOnChange = (event, optional) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (event.target.type === \"checkbox\") {\r\n      selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n    } else if (event.target.type === 'radio') {\r\n      selectedRecord[event.target.name] = optional;\r\n    } else {\r\n      selectedRecord[event.target.name] = event.target.value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n\r\n\r\n  onSaveClick = (saveType, formRef) => {\r\n    let inputData = [];\r\n    let instSection = [];\r\n    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n    inputData['fromdate'] = obj.fromDate;\r\n    inputData['todate'] = obj.toDate;\r\n    if (this.props.Login.screenName === \"IDS_WORKLIST\") {\r\n      let postParam = undefined;\r\n      inputData[\"worklist\"] = {\r\n        nstatus: this.props.Login.userInfo.nmastersitecode,\r\n      };\r\n      inputData[\"worklist\"][\"nsampletypecode\"] = this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode\r\n      inputData[\"worklist\"][\"nsectioncode\"] = this.state.selectedRecord[\"nsectioncode\"].value\r\n      inputData[\"worklist\"][\"ntestcode\"] = this.state.selectedRecord[\"ntestcode\"].value\r\n      inputData[\"worklist\"][\"nregtypecode\"] = this.props.Login.masterData.RegTypeValue.nregtypecode\r\n      inputData[\"worklist\"][\"nregsubtypecode\"] = this.props.Login.masterData.RegSubTypeValue.nregsubtypecode\r\n\r\n      if (this.props.Login.operation === \"update\") { inputData[\"worklist\"][\"nworklistcode\"] = this.props.Login.masterData.selectedWorklist.nworklistcode }\r\n\r\n      const inputParam = {\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        methodUrl: \"Worklist\",\r\n        inputData: inputData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n      };\r\n      const masterData = this.props.Login.masterData;\r\n      if (\r\n        showEsign(\r\n          this.props.Login.userRoleControlRights,\r\n          this.props.Login.userInfo.nformcode,\r\n          this.props.Login.ncontrolCode\r\n        )\r\n      ) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true,\r\n            screenData: { inputParam, masterData },\r\n            saveType,\r\n          },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      } else {\r\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n      }\r\n    }\r\n\r\n\r\n\r\n    //add / edit  \r\n\r\n    let validList = true;\r\n    if (this.props.Login.screenName === \"IDS_WORKLISTSAMPLE\" && this.state.addedComponentList.length > 1000) {\r\n      validList = false;\r\n    }\r\n\r\n    if (validList) {\r\n      let saveList = [];\r\n      if (this.props.Login.screenName === \"IDS_WORKLISTSAMPLE\") {\r\n        const compList = this.state.addedComponentList || [];\r\n        //compList.map(item=>saveList.push({\"npreregno\": item.npreregno}));\r\n        if(compList.length>0)\r\n        {\r\n\r\n        compList.map(item => saveList.indexOf(item.ntransactionsamplecode) === -1 ?\r\n          saveList.push(item) : \"\");\r\n        const masterData = this.props.Login.masterData;\r\n        const inputData = {\r\n          worklistcompcreationlist: saveList,\r\n          userinfo: this.props.Login.userInfo,\r\n          worklistcreation: this.props.Login.masterData.selectedWorklist,\r\n          ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode\r\n        };\r\n\r\n        let dataState = undefined;\r\n        let selectedId = null;\r\n        let postParam = undefined;\r\n\r\n        const inputParam = {\r\n          classUrl: \"worklist\",\r\n          methodUrl: \"WorklistCreation\",\r\n          inputData: inputData, selectedId, dataState, postParam,\r\n          operation: \"create\", saveType, masterData\r\n        };\r\n\r\n\r\n\r\n        if (\r\n          showEsign(\r\n            this.props.Login.userRoleControlRights,\r\n            this.props.Login.userInfo.nformcode,\r\n            this.props.Login.ncontrolCode\r\n          )\r\n        ) {\r\n          const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n              loadEsign: true, screenData: { inputParam, masterData: masterData }, saveType\r\n            }\r\n          }\r\n          this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n          //this.props.crudMaster(inputParam,masterData, \"openChildModal\");\r\n          this.props.createWorklistCreation(inputParam);\r\n        }\r\n\r\n\r\n      }\r\n      else {\r\n        //this.props.crudMaster(inputParam,masterData, \"openChildModal\");\r\n        toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELCETONESAMPLE\" }));\r\n      }\r\n\r\n\r\n      }\r\n\r\n\r\n\r\n      \r\n    }\r\n    else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_EXCEEDSMAXINSERT\" }));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  DeleteWorklistSample = (operation, ncontrolCode) => {\r\n    let inputData = [];\r\n    if (operation.screenName === \"IDS_WORKLISTSAMPLE\") {\r\n      const dataState = this.state.sectionDataState;\r\n      inputData[\"worklistsample\"] = {\r\n        nsitecode: this.props.Login.userInfo.ntranssitecode,\r\n      };\r\n      inputData[\"worklistsample\"][\"nworklistcode\"] =\r\n        operation.selectedRecord.nworklistcode;\r\n      inputData[\"worklistsample\"][\"nworklistsamplecode\"] =\r\n        operation.selectedRecord.nworklistsamplecode;\r\n      inputData[\"worklistsample\"][\"ntransactiontestcode\"] =\r\n        operation.selectedRecord.ntransactiontestcode;\r\n      inputData[\"worklistsample\"][\"ntransactionsamplecode\"] =\r\n        operation.selectedRecord.ntransactionsamplecode;\r\n        inputData['ndesigntemplatemappingcode'] = this.props.Login.masterData.ndesigntemplatemappingcode;\r\n\r\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n      const inputParam = {\r\n        methodUrl: \"WorklistSample\",\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        inputData: inputData,\r\n        operation: \"delete\",\r\n        dataState: dataState,\r\n      };\r\n      const masterData = this.props.Login.masterData;\r\n      if (\r\n        showEsign(\r\n          this.props.Login.userRoleControlRights,\r\n          this.props.Login.userInfo.nformcode,\r\n          operation.ncontrolCode\r\n        )\r\n      ) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true,\r\n            screenData: { inputParam, masterData },\r\n            openModal: true,\r\n            screenName: \"worklist\",\r\n            operation: operation.operation,\r\n          },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      } else {\r\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  gridfillingColumn(data) {\r\n    const temparray = data && data.map((option) => {\r\n      return { \"idsName\": option[designProperties.LABEL][this.props.Login.userInfo.slanguagetypecode], \"dataField\": option[designProperties.VALUE], \"width\": \"200px\", \"columnSize\": \"3\" };\r\n    });\r\n\r\n    return temparray;\r\n  }\r\n  // onNumericInputOnChange = (value, name) => {\r\n  //   const selectedRecord = this.state.selectedRecord || {};\r\n  //   selectedRecord[name] = value;\r\n  //   this.setState({ selectedRecord });\r\n  // };\r\n\r\n\r\n  selectionChange = (event) => {\r\n    let addedComponentList = this.state.addedComponentList || [];\r\n    const addComponentDataList = this.props.Login.addComponentDataList.map(item => {\r\n      if (item.ntransactiontestcode === event.dataItem.ntransactiontestcode) {\r\n        item.selected = !event.dataItem.selected;\r\n        if (item.selected) {\r\n          const newItem = JSON.parse(JSON.stringify(item));\r\n          newItem[\"jsondata\"] = {}\r\n          newItem[\"jsonuidata\"] = {}\r\n          delete newItem['selected']\r\n          //newItem.selected = false;\r\n          newItem[\"jsondata\"]['worklist'] = item\r\n          newItem[\"jsonuidata\"]['worklist'] = item\r\n          addedComponentList.push(newItem);\r\n        }\r\n        else {\r\n          addedComponentList = addedComponentList.filter(item1 => item1.ntransactiontestcode !== item.ntransactiontestcode)\r\n        }\r\n      }\r\n      return item;\r\n    });\r\n    this.setState({\r\n      addComponentDataList, addedComponentList,\r\n      addSelectAll: this.valiateCheckAll(addComponentDataList),\r\n      deleteSelectAll: this.valiateCheckAll(addedComponentList)\r\n    });\r\n  }\r\n\r\n  specificationReport = ( ncontrolCode) => {\r\n    if (this.props.Login.masterData.selectedWorklist) {\r\n        const inputParam = {\r\n            inputData: {\r\n                sprimarykeyname: 'nworklistcode',\r\n                userinfo: this.props.Login.userInfo,\r\n                ncontrolcode: ncontrolCode,\r\n                nworklistcode: this.props.Login.masterData.selectedWorklist.nworklistcode,\r\n                nreporttypecode: REPORTTYPE.CONTROLBASED,\r\n\r\n            },\r\n        }\r\n        this.props.reportWorklist(inputParam['inputData']);\r\n    } else {\r\n        toast.warn(this.props.intl.formatMessage({ id: \"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\" }));\r\n    }\r\n}\r\n\r\n  headerSelectionChange = (event) => {\r\n    const checked = event.syntheticEvent.target.checked;\r\n    let addComponentDataList = event.dataItems //this.state.addedComponentList || [];\r\n    let addedComponentList=[];\r\n   \r\n\r\n    if (checked) {\r\n      const data = event.dataItems.map(item => {\r\n        //const data = this.state.addComponentDataList.map(item => {\r\n        if (addedComponentList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\r\n         \r\n         \r\n         // addedComponentList.push({ ...item, selected: false });\r\n          item.selected = checked;\r\n          const newItem = JSON.parse(JSON.stringify(item));\r\n          newItem[\"jsondata\"] = {}\r\n          newItem[\"jsonuidata\"] = {}\r\n          delete newItem['selected']\r\n          //newItem.selected = false;\r\n          newItem[\"jsondata\"]['worklist'] = item\r\n          newItem[\"jsonuidata\"]['worklist'] = item\r\n          addedComponentList.push(newItem);\r\n          //item.selected = false;\r\n          return item;\r\n        } else {\r\n          let olditem = JSON.parse(JSON.stringify(addedComponentList[addedComponentList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\r\n          olditem.selected = checked;\r\n          let newItem = JSON.parse(JSON.stringify(olditem));\r\n          newItem.selected = false;\r\n                    newItem[\"jsondata\"]={};\r\n                    newItem[\"jsonuidata\"]={};\r\n                    delete newItem['selected']\r\n                    newItem[\"jsondata\"]['worklist'] = olditem\r\n                    newItem[\"jsonuidata\"]['worklist'] = olditem\r\n                    addedComponentList.push(newItem);\r\n          return olditem;\r\n        }\r\n\r\n      });\r\n\r\n\r\n      this.setState({\r\n        addComponentDataList: data, addedComponentList,\r\n        addSelectAll: this.valiateCheckAll(addedComponentList),\r\n        deleteSelectAll: this.valiateCheckAll(addedComponentList),\r\n        addSelectAll: checked, deleteSelectAll: false\r\n      });\r\n    }\r\n\r\n\r\n  //   if (checked) {\r\n  //     const data = event.dataItems.map(item => {\r\n  //         if (addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode) === -1) {\r\n  //           addComponentDataList.push({ ...item, selected: false });\r\n  //             item.selected = checked;   \r\n  //             let newItem = JSON.parse(JSON.stringify(item));\r\n  //             newItem.selected = false;\r\n  //             newItem[\"jsondata\"]={};\r\n  //             newItem[\"jsonuidata\"]={};\r\n  //             newItem[\"jsondata\"]['worklist'] = item\r\n  //             newItem[\"jsonuidata\"]['worklist'] = item    \r\n  //             addedComponentList.push(newItem);\r\n  //             return item;\r\n  //         } else {\r\n  //             let olditem = JSON.parse(JSON.stringify(addComponentDataList[addComponentDataList.findIndex(x => x.ntransactiontestcode === item.ntransactiontestcode)]))\r\n  //             olditem.selected = checked;\r\n  //             let newItem = JSON.parse(JSON.stringify(olditem));\r\n  //             newItem.selected = false;\r\n  //             newItem[\"jsondata\"]={};\r\n  //             newItem[\"jsonuidata\"]={};\r\n  //             newItem[\"jsondata\"]['worklist'] = olditem\r\n  //             newItem[\"jsonuidata\"]['worklist'] = olditem\r\n  //             addedComponentList.push(newItem);\r\n  //             return olditem;\r\n              \r\n  //         }\r\n\r\n  //     });\r\n\r\n\r\n  //     this.setState({\r\n  //       addComponentDataList: data,\r\n  //         addedComponentList:addedComponentList,\r\n  //         addComponentDataList,\r\n  //         addSelectAll: checked, \r\n  //         deleteSelectAll: false\r\n  //     });\r\n  // }\r\n    else {\r\n      let addedComponentData = this.state.addedComponentList || [];\r\n      let deletedListdData = this.state.deletedList || [];\r\n\r\n      const data = this.state.addComponentDataList.map(item => {\r\n        addedComponentData = addedComponentData.filter(item1 => item1.npreregno !== item.npreregno);\r\n        deletedListdData = deletedListdData.filter(item1 => item1.npreregno !== item.npreregno);\r\n        item.selected = checked;\r\n        return item;\r\n      });\r\n\r\n      // console.log(\"data:\",data1, data2);\r\n      this.setState({\r\n        addComponentDataList: data, addedComponentList: addedComponentData, deletedList: deletedListdData,\r\n        addSelectAll: this.valiateCheckAll(addedComponentList),\r\n        deleteSelectAll: this.valiateCheckAll(addedComponentList),\r\n        addSelectAll: checked, deleteSelectAll: false\r\n      });\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  // onApproveClick = () => {\r\n  //   //if (this.props.Login.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.DRAFT) {\r\n  //   const ncontrolCode = this.state.controlMap.has(\"ApproveSupplier\") && this.state.controlMap.get(\"ApproveSupplier\").ncontrolcode\r\n  //   let inputData = [];\r\n  //   inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n  //   //add               \r\n  //   let postParam = undefined;\r\n  //   inputData[\"supplier\"] = { \"nsuppliercode\": this.props.Login.masterData.SelectedSupplier[\"nsuppliercode\"] ? this.props.Login.masterData.SelectedSupplier[\"nsuppliercode\"].Value : \"\" };\r\n  //   inputData[\"supplier\"] = this.props.Login.masterData.SelectedSupplier;\r\n  //   postParam = { inputListName: \"Supplier\", selectedObject: \"SelectedSupplier\", primaryKeyField: \"nsuppliercode\" };\r\n  //   const inputParam = {\r\n  //     classUrl: 'supplier',\r\n  //     methodUrl: \"Supplier\",\r\n  //     inputData: inputData,\r\n  //     operation: \"approve\", postParam\r\n  //   }\r\n  //   let saveType;\r\n\r\n  //   const masterData = this.props.Login.masterData;\r\n\r\n  //   const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\r\n  //   if (esignNeeded) {\r\n  //     const updateInfo = {\r\n  //       typeName: DEFAULT_RETURN,\r\n  //       data: {\r\n  //         loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"approve\"\r\n  //       }\r\n  //     }\r\n  //     this.props.updateStore(updateInfo);\r\n  //   }\r\n  //   else {\r\n  //     this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n  //   }\r\n\r\n  //   // }\r\n  //   // else {\r\n  //   //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORDTOAPPROVE\" }));\r\n  //   // }\r\n  // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  valiateCheckAll(data) {\r\n\r\n    let selectAll = true;\r\n\r\n    // let checkRepeatComponent;\r\n\r\n    //  let addedComponentList = this.state.addedComponentList || [];\r\n\r\n    if (data && data.length > 0) {\r\n\r\n      data.forEach(dataItem => {\r\n\r\n        if (dataItem.selected) {\r\n\r\n          if (dataItem.selected === false) {\r\n\r\n            selectAll = false;\r\n\r\n          }\r\n\r\n        }\r\n\r\n        else {\r\n\r\n          selectAll = false;\r\n\r\n          // checkRepeatComponent=this.state.addComponentDataList.filter(item=>item.npreregno==data.npreregno)\r\n\r\n          // if(checkRepeatComponent.length>0){\r\n\r\n          //     selectAll = true;\r\n\r\n          // }else{\r\n\r\n          //     selectAll = false;\r\n\r\n          // }\r\n\r\n        }\r\n\r\n      })\r\n\r\n    }\r\n\r\n    else {\r\n\r\n      //if (gridType === \"originalgrid\"){\r\n\r\n      selectAll = false;\r\n\r\n      // }\r\n\r\n    }\r\n\r\n    return selectAll;\r\n\r\n  }\r\n\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (props.Login.masterStatus !== \"\") {\r\n      if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n        toast.warn(props.Login.masterStatus);\r\n        props.Login.masterStatus = \"\";\r\n      }\r\n    }\r\n    if (props.Login.error !== state.error) {\r\n      toast.error(props.Login.error);\r\n      props.Login.error = \"\";\r\n    }\r\n    if (props.Login.selectedRecord === undefined) {\r\n      return { selectedRecord: {} };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  validateEsign = () => {\r\n    const inputParam = {\r\n      inputData: {\r\n        userinfo: {\r\n          ...this.props.Login.userInfo,\r\n          sreason: this.state.selectedRecord[\"esigncomments\"],\r\n        },\r\n        password: this.state.selectedRecord[\"esignpassword\"],\r\n      },\r\n      screenData: this.props.Login.screenData,\r\n    };\r\n\r\n    this.props.validateEsignCredential(inputParam, \"openModal\");\r\n\r\n  };\r\n\r\n\r\n\r\n  // onSwitchChange = (item, key, methodUrl) => {\r\n  //   let dataItem = item;\r\n  //   dataItem[\"ndefaultstatus\"] = 3;\r\n  //   const inputParam = {\r\n  //     inputData: {\r\n  //       [key]: dataItem,\r\n  //       userinfo: this.props.userInfo,\r\n  //     },\r\n  //     classUrl: \"testmaster\",\r\n  //     operation: \"setDefault\",\r\n  //     methodUrl: methodUrl,\r\n  //   };\r\n  //   this.props.crudMaster(\r\n  //     inputParam,\r\n  //     this.props.masterData,\r\n  //     \"openChildModal\",\r\n  //     {}\r\n  //   );\r\n  // };\r\n\r\n  tabDetail = () => {\r\n    const tabMap = new Map();\r\n    const deleteSecId =\r\n      this.state.controlMap.has(\"DeleteWorklistSample\") &&\r\n      this.state.controlMap.get(\"DeleteWorklistSample\").ncontrolcode;\r\n    const addSampleId =\r\n      this.state.controlMap.has(\"AddSamples\") &&\r\n      this.state.controlMap.get(\"AddSamples\").ncontrolcode;\r\n\r\n      const viewSampleId =\r\n      this.state.controlMap.has(\"ViewWorklistSample\") &&\r\n      this.state.controlMap.get(\"ViewWorklistSample\").ncontrolcode;\r\n\r\n    tabMap.set(\r\n\r\n      \"IDS_WORKLISTSAMPLE\",\r\n      <WorklistSampleTab\r\n        controlMap={this.state.controlMap}\r\n        userRoleControlRights={this.state.userRoleControlRights}\r\n        dataState={this.props.Login.masterData.WorklistSamples}\r\n        selectedWorklist={this.props.Login.masterData.WorklistSamples}\r\n        extractedColumnList={this.gridfillingColumn(this.state.DynamicGridItem) || []}\r\n        detailedFieldList={this.gridfillingColumn(this.state.DynamicGridMoreItem) || []}\r\n        \r\n        userInfo={this.props.Login.userInfo}\r\n        inputParam={this.props.Login.inputParam}\r\n        deleteRecord={this.DeleteWorklistSample}\r\n        deleteSecId={deleteSecId}\r\n        defaultRecord={this.defaultRecord}\r\n        WorklistSamples={this.props.Login.masterData.WorklistSamples || []}\r\n        viewSample={this.viewSample}\r\n        screenName=\"IDS_WORKLISTSAMPLE\"\r\n        selectedRecord={this.state.selectedRecord}\r\n        settings={this.props.Login.settings}\r\n        getWorklistSample={this.props.getWorklistSample}\r\n        masterData={this.props.Login.masterData}\r\n        addSampleId={addSampleId}\r\n        viewSampleId={viewSampleId}\r\n      />\r\n\r\n    );\r\n    tabMap.set(\r\n      \"IDS_WORKLISTHISTORY\",\r\n      <WorklistHistoryTab\r\n        dataState={this.props.Login.masterData.WorklistHistory}\r\n        selectedWorklistHistory={this.props.Login.masterData.WorklistHistory}\r\n        InstrumentSection={this.props.Login.masterData.WorklistHistory || []}\r\n        userInfo={this.props.Login.userInfo}\r\n        //inputParam={this.props.Login.inputParam}\r\n        // deleteRecord={this.DeleteWorklistSample}\r\n        // deleteSecId={deleteSecId}\r\n        // defaultSecId={defaultSecId}\r\n        // defaultRecord={this.defaultRecord}\r\n        screenName=\"IDS_WORKLISTHISTORY\"\r\n        selectedRecord={this.state.selectedRecord}\r\n        settings={this.props.Login.settings}\r\n      />\r\n    );\r\n\r\n\r\n    return tabMap;\r\n  };\r\n\r\n\r\n\r\n  render() {\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n    let mandatoryFields = [];\r\n    this.feildsForGrid =\r\n      [\r\n        { \"idsName\": \"IDS_TEST\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" },\r\n        { \"idsName\": \"IDS_PARAMETER\", \"dataField\": \"sparametersynonym\", \"width\": \"100px\" },\r\n        { \"idsName\": \"IDS_RESULT\", \"dataField\": \"sfinal\", \"width\": \"100px\" },\r\n      ];\r\n    this.extractedColumnList = [\r\n\r\n      //  { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\r\n      { \"idsName\": \"IDS_NEWCOMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\r\n      { \"idsName\": \"IDS_USERNAME\", \"dataField\": \"susername\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"suserrolename\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_ACTIONTYPE\", \"dataField\": \"sactiontype\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_MODULENAME\", \"dataField\": \"smodulename\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_FORMNAME\", \"dataField\": \"sformname\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_REASON\", \"dataField\": \"spredefinedreason\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_ESIGNCOMMENTS\", \"dataField\": \"sreason\", \"width\": \"200px\" },\r\n\r\n\r\n    ]\r\n\r\n    const auditInfoFields = [{ \"fieldName\": \"sarno\", \"label\": \"IDS_ARNO\" },    \r\n    { \"fieldName\": \"sfirstname\", \"label\": \"IDS_PATIENTNAME\" },\r\n    { \"fieldName\": \"sage\", \"label\": \"IDS_AGE\" },\r\n    { \"fieldName\": \"sgendername\", \"label\": \"IDS_GENDER\" },\r\n    { \"fieldName\": \"sregdate\", \"label\": \"IDS_REGISTRATIONDATE\" },\r\n    { \"fieldName\": \"scompletedate\", \"label\": \"IDS_COMPLETEDDATEANDTIME\" }\r\n    \r\n    ];\r\n\r\n    if (this.props.Login.screenName === \"IDS_WORKLIST\") {\r\n      mandatoryFields.push(\r\n        {\r\n          mandatory: true,\r\n          idsName: \"IDS_ADDSECTION\",\r\n          dataField: \"nsectioncode\",\r\n          mandatoryLabel: \"IDS_SELECT\",\r\n          controlType: \"selectbox\",\r\n        }, {\r\n        mandatory: true,\r\n        idsName: \"IDS_TEST\",\r\n        dataField: \"ntestcode\",\r\n        mandatoryLabel: \"IDS_SELECT\",\r\n        controlType: \"selectbox\",\r\n      }\r\n      );\r\n\r\n    }\r\n\r\n    const addId =\r\n      this.state.controlMap.has(\"AddWorklist\") &&\r\n      this.state.controlMap.get(\"AddWorklist\").ncontrolcode;\r\n    // const editId =\r\n    //   this.state.controlMap.has(\"EditWorklist\") &&\r\n    //   this.state.controlMap.get(\"EditWorklist\").ncontrolcode;\r\n    const deleteId =\r\n    this.state.controlMap.has(\"DeleteWorklist\") &&\r\n    this.state.controlMap.get(\"DeleteWorklist\").ncontrolcode;\r\n\r\n    const approvalId =\r\n      this.state.controlMap.has(\"GenerateWorklist\") &&\r\n      this.state.controlMap.get(\"GenerateWorklist\").ncontrolcode;\r\n\r\n      const reportId =\r\n      this.state.controlMap.has(\"WorklistReport\") &&\r\n      this.state.controlMap.get(\"WorklistReport\").ncontrolcode;\r\n\r\n    // const addSampleId =\r\n    //   this.state.controlMap.has(\"AddWorklistSample\") &&\r\n    //   this.state.controlMap.get(\"AddWorklistSample\").ncontrolcode;\r\n    // const deleteSampleId =\r\n    // this.state.controlMap.has(\"DeleteWorklistSample\") &&\r\n    // this.state.controlMap.get(\"DeleteWorklistSample\").ncontrolcode;\r\n\r\n    const { selectedWorklist } = this.props.Login.masterData;\r\n    const filterParam = {\r\n      inputListName: \"Worklist\",\r\n      selectedObject: \"selectedWorklist\",\r\n      primaryKeyField: \"nworklistcode\",\r\n      fetchUrl: \"worklist/getWorklistSample\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      masterData: this.props.Login.masterData,\r\n      searchFieldList: this.searchFieldList,\r\n    };\r\n    const breadCrumbData = this.state.filterData || [];\r\n    return (\r\n      <>\r\n        <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n          {breadCrumbData.length > 0 ? (\r\n            <Affix top={53}>\r\n              <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n            </Affix>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Row noGutters={true}>\r\n            <Col md={4}>\r\n              <ListMaster\r\n                formatMessage={this.props.intl.formatMessage}\r\n                screenName={\"worklist\"}\r\n                masterData={this.props.Login.masterData}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterList={\r\n                  this.props.Login.masterData.searchedData ||\r\n                  this.props.Login.masterData.Worklist\r\n                }\r\n                getMasterDetail={(worklist) =>\r\n                  this.props.getWorklistDetail(\r\n                    worklist,\r\n                    this.props.Login.userInfo,\r\n                    this.props.Login.masterData\r\n                  )\r\n                }\r\n                selectedMaster={this.props.Login.masterData.selectedWorklist}\r\n                primaryKeyField=\"nworklistcode\"\r\n                mainField=\"sworklistno\"\r\n                firstField=\"stestname\"\r\n                secondField=\"ssectionname\"\r\n                isIDSField=\"Yes\"\r\n                filterColumnData={this.props.filterColumnData}\r\n                filterParam={filterParam}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                searchRef={this.searchRef}\r\n                addId={addId}\r\n                //hidePaging={true}\r\n                reloadData={this.reloadData}\r\n                openModal={() =>\r\n                  this.props.getSectionAndTest(\r\n                    \"IDS_WORKLIST\",\r\n                    \"create\",\r\n                    \"nworklistcode\",\r\n                    this.props.Login.masterData,\r\n                    this.props.Login.userInfo,\r\n                    addId\r\n                  )\r\n                }\r\n                openFilter={this.openFilter}\r\n                closeFilter={this.closeFilter}\r\n                onFilterSubmit={this.onFilterSubmit}\r\n                showFilterIcon={true}\r\n                showFilter={this.props.Login.showFilter}\r\n                filterComponent={[\r\n                  {\r\n                    IDS_WORKLISTFILTER: (\r\n                      <WorklistPreparationFilter\r\n                        SampleTypeValue={this.props.Login.masterData.defaultSampleTypeValue || {}}\r\n                        RegTypeValue={this.props.Login.masterData.RegTypeValue || {}}\r\n                        RegSubTypeValue={this.props.Login.masterData.RegSubTypeValue || {}}\r\n                        RegSubType={this.state.RegistrationSubTypeList || []}\r\n                        RegType={this.state.RegistrationTypeList || []}\r\n                        userInfo={this.props.Login.userInfo || {}}\r\n                        ApprovalVersion={this.state.ConfigVersionList || []}\r\n                        ApprovalVersionValue={this.props.Login.masterData.defaultApprovalVersionValue || []}\r\n\r\n                        //SampleType={this.state.stateSampleType || []}\r\n                        FilterStatusValue={this.props.Login.masterData.FilterStatusValue || {}}\r\n                        FilterStatus={this.state.FilterStatusList || []}\r\n                        RegistrationType={this.state.stateRegistrationType || []}\r\n                        RegistrationSubType={this.state.stateRegistrationSubType || []}\r\n                        fromDate={this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()}\r\n                        toDate={this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()}\r\n                        handleDateChange={this.handleDateChange}\r\n                        onFilterComboChange={this.onFilterComboChange}\r\n                        SampleType={this.state.SampletypeList || []}\r\n\r\n                      />\r\n                    ),\r\n                  },\r\n                ]}\r\n              />\r\n            </Col>\r\n\r\n\r\n\r\n\r\n            <Col md={8}>\r\n              <Row>\r\n                <Col md={12}>\r\n                  <ContentPanel className=\"panel-main-content\">\r\n                    <Card className=\"border-0\">\r\n                      {this.props.Login.masterData.selectedWorklist ? (\r\n                        <>\r\n                          <Card.Header>\r\n                            <Card.Title className=\"product-title-main\">\r\n                              {\r\n                                this.props.Login.masterData.selectedWorklist\r\n                                  .sworklistno\r\n                              }\r\n                            </Card.Title>\r\n                            <Card.Subtitle>\r\n                              <div className=\"d-flex product-category\">\r\n                                <h2 className=\"product-title-sub flex-grow-1\">\r\n                                  <MediaLabel className={`btn btn-outlined ${this.props.Login.masterData.selectedWorklist.ntransactionstatus === 83 ? \"outline-success\" : \"outline-secondary\"} btn-sm ml-3`}>\r\n                                    {this.props.Login.masterData.selectedWorklist.ntransactionstatus === 83 && <FontAwesomeIcon icon={faCheck}></FontAwesomeIcon>}\r\n                                    {this.props.Login.masterData.selectedWorklist.stransdisplaystatus}\r\n                                  </MediaLabel>\r\n                                </h2>\r\n                                <div className=\"d-inline\">\r\n                                   {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                    //    data-for=\"tooltip_list_wrap\"\r\n                                    hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                    onClick={() => this.props.getEditSectionAndTest(\r\n                                      \"IDS_WORKLIST\",\r\n                                      \"update\",\r\n                                      \"nworklistcode\",\r\n                                      this.props.Login.masterData,\r\n                                      this.props.Login.userInfo,\r\n                                      editId\r\n                                    )\r\n\r\n                                      //\"Checklist\",\"nchecklistcode\",this.props.Login.masterData.selectedchecklist.nchecklistcode)\r\n                                    }>\r\n                                    <FontAwesomeIcon icon={faPencilAlt} title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                  </Nav.Link> */}\r\n\r\n\r\n                                  <Nav.Link\r\n                                    name=\"deleteWorklist\"\r\n                                    className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\"\r\n                                    data-tip={this.props.intl.formatMessage({\r\n                                      id: \"IDS_DELETE\",\r\n                                    })}\r\n                                    //   data-for=\"tooltip_list_wrap\"\r\n                                    hidden={\r\n                                      this.state.userRoleControlRights.indexOf(\r\n                                        deleteId\r\n                                      ) === -1\r\n                                    }\r\n                                    onClick={() =>\r\n                                      this.ConfirmDelete(\r\n                                        {\r\n                                          operation: \"delete\",\r\n                                          screenName: \"IDS_WORKLIST\",\r\n                                        },\r\n                                        deleteId\r\n                                      )\r\n                                    }\r\n                                  >\r\n                                    <FontAwesomeIcon icon={faTrashAlt} />\r\n                                  </Nav.Link>\r\n\r\n                                  <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                    hidden={this.state.userRoleControlRights.indexOf(approvalId) === -1}\r\n                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_PREPARED\" })}\r\n                                    onClick={() => this.props.onWorklistApproveClick(this.props.Login.masterData, this.props.Login.userInfo, this.confirmMessage, approvalId)}\r\n                                  >\r\n                                    {/* <FontAwesomeIcon icon={faThumbsUp} title={this.props.intl.formatMessage({ id: \"IDS_PREPARED\" })} /> */}\r\n                                    <Closure className=\"custom_icons\" width=\"17\" height=\"20\" />\r\n                                  </Nav.Link>      \r\n\r\n\r\n                                  <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                    hidden={this.state.userRoleControlRights.indexOf(reportId) === -1}\r\n                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_REPORT\" })}\r\n                                    onClick={() => this.specificationReport(reportId)}\r\n                                  >\r\n                                    {/* <FontAwesomeIcon icon={faThumbsUp} title={this.props.intl.formatMessage({ id: \"IDS_PREPARED\" })} /> */}\r\n                                    <ReportIcon className=\"custom_icons\" width=\"17\" height=\"20\" />\r\n                                  </Nav.Link>                            \r\n\r\n                                </div>\r\n                              </div>\r\n                            </Card.Subtitle>\r\n                          </Card.Header>\r\n\r\n\r\n                          <Card.Body>\r\n\r\n                            {selectedWorklist && (\r\n                              <CustomTab\r\n                                activeKey={this.props.Login.activeKey ? this.props.Login.activeKey : \"IDS_WORKLISTSAMPLE\"}\r\n                                tabDetail={this.tabDetail()}\r\n                                onTabChange={this.onTabChange}\r\n                              />\r\n                            )}\r\n                          </Card.Body>\r\n                        </>\r\n                      ) : (\r\n                        \"\"\r\n                      )\r\n                      }\r\n                    </Card>\r\n                  </ContentPanel>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n\r\n\r\n\r\n          </Row>\r\n        </div>\r\n        {this.props.Login.openModal && (\r\n          <SlideOutModal\r\n            show={this.props.Login.openModal}\r\n            closeModal={this.closeModal}\r\n            operation={this.props.Login.operation}\r\n            inputParam={this.props.Login.inputParam}\r\n            screenName={this.props.Login.screenName}\r\n            onSaveClick={this.onSaveClick}\r\n            esign={this.props.Login.loadEsign}\r\n            validateEsign={this.validateEsign}\r\n            masterStatus={this.props.Login.masterStatus}\r\n            mandatoryFields={mandatoryFields}\r\n            updateStore={this.props.updateStore}\r\n            selectedRecord={this.state.selectedRecord || {}}\r\n            hideSave={this.props.Login.screenName === \"IDS_VIEWDETAILS\" ? true : false}\r\n\r\n\r\n            addComponent={\r\n              this.props.Login.loadEsign ? (\r\n                <Esign\r\n                  operation={this.props.Login.operation}\r\n                  onInputOnChange={this.onInputOnChange}\r\n                  inputParam={this.props.Login.inputParam}\r\n                  selectedRecord={this.state.selectedRecord || {}}\r\n                />\r\n              )\r\n                : this.props.Login.screenName === \"IDS_WORKLIST\" ? (\r\n                  <AddWorklistSection\r\n                    //onNumericInputOnChange={this.onNumericInputOnChange}\r\n                    selectedRecord={this.props.Login.selectedRecord || {}}\r\n                    onInputOnChange={this.onInputOnChange}\r\n                    onComboChange={this.onComboChange}\r\n                    SectionValue={this.props.Login.Section}\r\n                    TestValue={this.props.Login.Test}\r\n                    handleDateChange={this.handleDateChange}\r\n                  />\r\n                )\r\n\r\n\r\n                  : this.props.Login.screenName === \"IDS_WORKLISTSAMPLE\" ? (\r\n                    <AddWorklistSample\r\n                      selectionChange={this.selectionChange}\r\n                      headerSelectionChange={this.headerSelectionChange}\r\n                      addComponentDataList={this.props.Login.addComponentDataList}\r\n                      addSelectAll={this.state.addSelectAll}\r\n                      //onNumericInputOnChange={this.onNumericInputOnChange}\r\n                      selectedRecord={this.props.Login.selectedRecord || {}}\r\n                      onInputOnChange={this.onInputOnChange}\r\n                      onComboChange={this.onComboChange}\r\n                      TestValue={this.props.Login.Test}\r\n                      handleDateChange={this.handleDateChange}\r\n                    />\r\n                  )\r\n\r\n\r\n                    : this.props.Login.screenName === \"IDS_VIEWDETAILS\" ? (\r\n                      <>\r\n\r\n                        <Card className='one' >\r\n                          <Card.Body>\r\n                            <SpecificationInfo\r\n                              controlMap={this.state.controlMap}\r\n                              auditInfoFields={auditInfoFields}\r\n                              userRoleControlRights={this.state.userRoleControlRights}\r\n                              selectedSpecification={this.props.Login.masterData.viewdetails}\r\n                              userInfo={this.props.Login.userInfo}\r\n                              selectedNode={this.props.Login.masterData.selectedNode}\r\n                              selectedRecord={this.state.filterData}\r\n                              approvalRoleActionDetail={this.props.Login.masterData.ApprovalRoleActionDetail}\r\n                              screenName=\"IDS_SPECIFICATIONINFO\"\r\n\r\n                            />\r\n                          </Card.Body>\r\n                        </Card>\r\n                        <br></br>\r\n\r\n                        <DataGrid\r\n                          primaryKeyField={\"ntransactiontestcode\"}\r\n                          //data={this.props.Login.addComponentDataList || []}\r\n                          detailedFieldList={this.feildsForGrid}\r\n                          extractedColumnList={this.feildsForGrid}\r\n                          dataResult={this.props.Login.masterData.AuditModifiedComments && this.props.Login.masterData.AuditModifiedComments.length > 0\r\n                            && process(this.props.Login.masterData.AuditModifiedComments, { skip: 0, take: 10 })}\r\n                          dataState={{ skip: 0, take: 10 }}\r\n                          selectionChange={this.selectionChange}\r\n                          headerSelectionChange={this.headerSelectionChange}\r\n\r\n\r\n                        />\r\n                      </>\r\n                    )\r\n\r\n                      : (\r\n                        \"\"\r\n                      )\r\n            }\r\n\r\n\r\n          />\r\n        )}\r\n\r\n\r\n      </>\r\n    );\r\n  }\r\n\r\n\r\n\r\n\r\n  onTabChange = (tabProps) => {\r\n    const screenName = tabProps.screenName;\r\n    if (screenName == \"IDS_WORKLISTHISTORY\") {\r\n      let inputData = {\r\n        masterData: this.props.Login.masterData,\r\n        userInfo: this.props.Login.userInfo,\r\n        nworklistcode: this.props.Login.masterData.selectedWorklist.nworklistcode\r\n      }\r\n      this.props.getWorklisthistoryAction(inputData, true);\r\n    } else {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: { screenName, activeKey: \"IDS_WORKLISTSAMPLE\" }\r\n      }\r\n\r\n      this.props.updateStore(updateInfo);\r\n\r\n    }\r\n  };\r\n\r\n \r\n  // dataStateChange = (event) => {\r\n  //   this.setState({\r\n  //     dataResult: process(\r\n  //       this.props.Login.masterData[\"selectedSection\"],\r\n  //       event.dataState\r\n  //     ),\r\n  //     sectionDataState: event.dataState,\r\n  //   });\r\n  // };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  reloadData = () => {\r\n    this.searchRef.current.value = \"\";\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n    let realFromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\r\n    let realToDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\r\n\r\n    let defaultSampleTypeValue = this.props.Login.masterData.defaultSampleTypeValue\r\n    let defaultRegTypeValue = this.props.Login.masterData.defaultRegTypeValue\r\n    let defaultRegSubTypeValue = this.props.Login.masterData.defaultRegSubTypeValue\r\n    let defaultFilterStatusValue = this.props.Login.masterData.defaultFilterStatusValue\r\n    let masterData = { ...this.props.Login.masterData, realFromDate, realToDate, defaultSampleTypeValue, defaultRegTypeValue, defaultRegSubTypeValue, defaultFilterStatusValue }\r\n    let inputData = {\r\n      nsampletypecode: (this.props.Login.masterData.defaultSampleTypeValue && this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode) || -1,\r\n      nregtypecode: parseInt(this.props.Login.masterData.defaultRegTypeValue && this.props.Login.masterData.defaultRegTypeValue.nregtypecode) || -1,\r\n      nregsubtypecode: parseInt(this.props.Login.masterData.defaultRegSubTypeValue && this.props.Login.masterData.defaultRegSubTypeValue.nregsubtypecode) || -1,\r\n      ntransactionstatus: (this.props.Login.masterData.defaultFilterStatusValue && this.props.Login.masterData.defaultFilterStatusValue.ntransactionstatus) || -1,\r\n      userinfo: this.props.Login.userInfo,\r\n\r\n    }\r\n    if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1 && inputData.ntransactionstatus !== \"-1\") {\r\n\r\n      inputData['fromdate'] = obj.fromDate;\r\n      inputData['todate'] = obj.toDate;\r\n      inputData['ndesigntemplatemappingcode'] = this.props.Login.masterData.ndesigntemplatemappingcode;\r\n      let inputParam = {\r\n        masterData,\r\n        inputData,\r\n        searchTestRef: this.searchTestRef,\r\n        skip: this.state.skip,\r\n        take: this.state.take,\r\n        testskip: this.state.testskip,\r\n        testtake: this.state.testtake,\r\n\r\n\r\n      }\r\n      this.props.getWorklistDetailFilter(inputParam)\r\n    } else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }))\r\n    }\r\n  };\r\n\r\n\r\n\r\n  ConfirmDelete = (operation, deleteId) => {\r\n    this.confirmMessage.confirm(\r\n      \"deleteMessage\",\r\n      this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n      () =>\r\n        this.DeleteWorklist(\r\n          operation,\r\n          deleteId,\r\n          operation.screenName ? operation.screenName : \"IDS_WORKLIST\"\r\n        )\r\n    );\r\n  };\r\n\r\n\r\n\r\n  DeleteWorklist = (operation, ncontrolCode) => {\r\n    let inputData = [];\r\n\r\n    inputData[\"worklist\"] = this.props.Login.masterData.selectedWorklist;\r\n    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n    inputData['fromdate'] = obj.fromDate;\r\n    inputData['todate'] = obj.toDate;\r\n    inputData['ndesigntemplatemappingcode'] = this.props.Login.masterData.ndesigntemplatemappingcode;\r\n\r\n\r\n    const postParam = {\r\n      inputListName: \"Worklist\",\r\n      selectedObject: \"selectedWorklist\",\r\n      primaryKeyField: \"nworklistcode\",\r\n      primaryKeyValue:\r\n        this.props.Login.masterData.selectedWorklist.nworklistcode,\r\n      //fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n    };\r\n\r\n    const inputParam = {\r\n      methodUrl: \"Worklist\",\r\n      postParam,\r\n      classUrl: this.props.Login.inputParam.classUrl,\r\n      inputData: inputData,\r\n      operation: operation.operation,\r\n    };\r\n    const masterData = this.props.Login.masterData;\r\n    if (\r\n      showEsign(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode,\r\n        ncontrolCode\r\n      )\r\n    ) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true,\r\n          screenData: { inputParam, masterData },\r\n          openModal: true,\r\n          screenName: \"Worklist\",\r\n          operation: operation.operation,\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n      this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n    }\r\n\r\n  };\r\n\r\n\r\n  onComboChange = (comboData, fieldName, caseNo) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n\r\n    if (comboData !== null) {\r\n      switch (caseNo) {\r\n        case 1:\r\n          if (selectedRecord[fieldName] && selectedRecord[fieldName].value !== comboData.value) {\r\n            delete selectedRecord[\"ntestcode\"]\r\n          }\r\n          selectedRecord[fieldName] = comboData;\r\n          //this.setState({ selectedRecord });\r\n          this.props.getSectionbaseTest(selectedRecord, this.props.Login.userInfo, this.props.Login.masterData,this.props.Login.ncontrolCode)\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    else {\r\n      if (selectedRecord[\"nsectioncode\"]) {\r\n        delete selectedRecord[\"nsectioncode\"];\r\n        delete selectedRecord[\"nusercode\"];\r\n\r\n      }\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: { selectedRecord }\r\n      }\r\n      this.props.updateStore(updateInfo);\r\n    }\r\n  };\r\n\r\n  closeModal = () => {\r\n    let loadEsign = this.props.Login.loadEsign;\r\n    let openModal = this.props.Login.openModal;\r\n    let modalShow = this.props.Login.modalShow;\r\n    let selectedRecord = this.props.Login.selectedRecord;\r\n    if (this.props.Login.loadEsign) {\r\n      if ((this.props.Login.operation.operation ? this.props.Login.operation.operation : this.props.Login.operation) === \"delete\") {\r\n        loadEsign = false;\r\n        openModal = false;\r\n        selectedRecord = {};\r\n      } else {\r\n        loadEsign = false;\r\n        selectedRecord[\"agree\"] = transactionStatus.NO;\r\n        selectedRecord['esignpassword'] = \"\"\r\n        selectedRecord['esigncomments'] = \"\"\r\n        selectedRecord['esignreason'] = \"\"\r\n        modalShow = true;\r\n        //openModal = false;\r\n\r\n      }\r\n    } else {\r\n      openModal = false;\r\n      modalShow = false;\r\n      selectedRecord = {};\r\n    }\r\n\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { openModal, modalShow, loadEsign, selectedRecord, selectedId: null },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n\r\n\r\n  viewSample = (viewdetails) => {\r\n    //let openModal = this.props.Login.openModal;\r\n    //let openModal = true;\r\n    //let screenName = 'IDS_VIEWDETAILS'\r\n\r\n    this.props.ViewSampleDetails(this.props.Login.masterData, \"IDS_VIEWDETAILS\", this.props.Login.userInfo, viewdetails);\r\n  };\r\n\r\n  closeModalShow = () => {\r\n    let loadEsign = this.props.Login.loadEsign;\r\n\r\n    let modalShow = this.props.Login.modalShow;\r\n    let selectedRecord = this.props.Login.selectedRecord;\r\n    if (this.props.Login.loadEsign) {\r\n      loadEsign = false;\r\n    } else {\r\n      modalShow = false;\r\n      selectedRecord = {};\r\n    }\r\n\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { modalShow, selectedRecord, selectedId: null, loadEsign },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  componentDidUpdate(previousProps) {\r\n    let updateState = false;\r\n    let {\r\n      selectedRecord, addedComponentList,\r\n      userRoleControlRights,\r\n      controlMap,\r\n      filterData,\r\n      nfilterInstrumentCategory,\r\n      filterInstrumentCategory, RegistrationSubTypeList, FilterStatusList, SampletypeList,\r\n      RegistrationTypeList, DynamicGridItem, DynamicGridMoreItem,ConfigVersionList,subsampleGridItem,sampleGridItem,testGridItem=[],samplegridmoreitem\r\n    ,addSelectAll,deleteSelectAll} = this.state;\r\n    if (\r\n      this.props.Login.selectedRecord !== previousProps.Login.selectedRecord\r\n    ) {\r\n      selectedRecord = this.props.Login.selectedRecord;\r\n      updateState = true;\r\n    }\r\n    if (\r\n      this.props.Login.userInfo.nformcode !==\r\n      previousProps.Login.userInfo.nformcode\r\n    ) {\r\n      userRoleControlRights = [];\r\n      if (this.props.Login.userRoleControlRights) {\r\n        this.props.Login.userRoleControlRights[\r\n          this.props.Login.userInfo.nformcode\r\n        ] &&\r\n          Object.values(\r\n            this.props.Login.userRoleControlRights[\r\n            this.props.Login.userInfo.nformcode\r\n            ]\r\n          ).map((item) => userRoleControlRights.push(item.ncontrolcode));\r\n      }\r\n      controlMap = getControlMap(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode\r\n      );\r\n      updateState = true;\r\n    }\r\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n      const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", \"nsorter\", 'ascending', 'nregsubtypecode', false);\r\n      RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n\r\n      const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationType || [], \"nregtypecode\", \"sregtypename\", \"nsorter\", 'ascending', 'nregtypecode', false);\r\n      RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n\r\n      const FilterStatusListMap = constructOptionList(this.props.Login.masterData.FilterStatus || [], \"ntransactionstatus\", \"stransdisplaystatus\", undefined, undefined, false);\r\n      FilterStatusList = FilterStatusListMap.get(\"OptionList\");\r\n\r\n      const SampletypeListMap = constructOptionList(this.props.Login.masterData.SampleType || [], \"nsampletypecode\", \"ssampletypename\", 'ascending', 'nsampletypecode', false);\r\n      SampletypeList = SampletypeListMap.get(\"OptionList\");\r\n      const ConfigVersionListMap = constructOptionList(this.props.Login.masterData.ApprovalConfigVersion || [], \"napprovalconfigversioncode\", \"sversionname\", 'descending', 'ntransactionstatus', false);\r\n      ConfigVersionList = ConfigVersionListMap.get(\"OptionList\");\r\n      nfilterInstrumentCategory = this.state.nfilterInstrumentCategory || {};\r\n      addSelectAll=false;\r\n      deleteSelectAll=true;\r\n      if (\r\n        this.props.Login.masterData.SelectedInsCat &&\r\n        this.props.Login.masterData.SelectedInsCat !==\r\n        previousProps.Login.masterData.SelectedInsCat\r\n      ) {\r\n        nfilterInstrumentCategory = {\r\n          label: this.props.Login.masterData.SelectedInsCat.stestsynonym,\r\n          value: this.props.Login.masterData.SelectedInsCat.ntestcode,\r\n          item: this.props.Login.masterData.SelectedInsCat,\r\n        };\r\n      }\r\n      filterData = this.generateBreadCrumData();\r\n      updateState = true;\r\n    }\r\n\r\n    if (this.props.Login.masterData.DynamicDesign && this.props.Login.masterData.DynamicDesign !== previousProps.Login.masterData.DynamicDesign) {\r\n      const dynamicColumn = JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata.value)\r\n\r\n\r\n      testGridItem[0]= dynamicColumn.testListFields.releasetestfields[0] ? dynamicColumn.testListFields.releasetestfields[0] : [];\r\n     sampleGridItem = dynamicColumn.samplegriditem ? dynamicColumn.samplegriditem : [];\r\n      subsampleGridItem = dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [];\r\n      //testGridItem= dynamicColumn.conditionfields ? dynamicColumn.conditionfields : [];\r\n            DynamicGridItem=[...testGridItem,...sampleGridItem,...subsampleGridItem]\r\n            samplegridmoreitem = dynamicColumn.samplegridmoreitem ? dynamicColumn.samplegridmoreitem : [];\r\n            DynamicGridMoreItem=[...samplegridmoreitem]\r\n      //DynamicGridItem.push(dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [])\r\n    }\r\n\r\n\r\n    if (\r\n      this.props.Login.masterData.filterInstrumentCategory !==\r\n      previousProps.Login.masterData.filterInstrumentCategory\r\n    ) {\r\n      const insCategoryMap = constructOptionList(\r\n        this.props.Login.masterData.filterInstrumentCategory || [],\r\n        \"ntestcode\",\r\n        \"stestsynonym\",\r\n        \"ntestcategorycode\",\r\n        \"ascending\",\r\n        false\r\n      );\r\n      filterInstrumentCategory = insCategoryMap.get(\"OptionList\");\r\n      if (insCategoryMap.get(\"DefaultValue\")) {\r\n        nfilterInstrumentCategory = insCategoryMap.get(\"DefaultValue\");\r\n      } else if (\r\n        filterInstrumentCategory &&\r\n        filterInstrumentCategory.length > 0\r\n      ) {\r\n        nfilterInstrumentCategory = filterInstrumentCategory[0];\r\n      }\r\n      updateState = true;\r\n    }\r\n\r\n\r\n    // let updateState = false;\r\n    let updateStateObject = {};\r\n    if (this.props.Login.addedComponentList !== previousProps.Login.addedComponentList) {\r\n\r\n      addSelectAll=false;\r\n      deleteSelectAll=true;\r\n\r\n      this.setState({\r\n        addedComponentList: this.props.Login.addedComponentList,\r\n        addSelectAll,deleteSelectAll\r\n      });\r\n    }\r\n\r\n    if (this.props.addedComponentList !== previousProps.addedComponentList) {\r\n      // this.setState({ addedComponentList : this.props.addedComponentList});\r\n      updateState = true;\r\n      updateStateObject = { ...updateStateObject, addedComponentList: this.props.addedComponentList };\r\n    }\r\n\r\n\r\n    if (updateState) {\r\n      this.setState({\r\n        selectedRecord,\r\n        userRoleControlRights,\r\n        controlMap,\r\n        filterData,\r\n        nfilterInstrumentCategory,\r\n        filterInstrumentCategory, RegistrationSubTypeList, FilterStatusList, SampletypeList,\r\n        RegistrationTypeList, DynamicGridItem, ConfigVersionList,DynamicGridMoreItem,addSelectAll,deleteSelectAll\r\n      });\r\n    }\r\n  }\r\n\r\n  generateBreadCrumData() {\r\n    //obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n\r\n    const breadCrumbData = [];\r\n    if (this.props.Login.masterData && this.props.Login.masterData.Worklist) {\r\n      const obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n\r\n      breadCrumbData.push({\r\n\r\n        \"label\": \"IDS_FROM\",\r\n        \"value\": obj.breadCrumbFrom\r\n      }, {\r\n        \"label\": \"IDS_TO\",\r\n        \"value\": obj.breadCrumbto\r\n      },\r\n        // {\r\n        //   \"label\": \"IDS_SAMPLETYPE\",\r\n        //   \"value\": this.props.Login.masterData.defaultSampleTypeValue ? this.props.Login.masterData.defaultSampleTypeValue.ssampletypename || \"NA\" :\r\n        //     this.props.Login.masterData.defaultSampleTypeValue ? this.props.Login.masterData.defaultSampleTypeValue.ssampletypename || \"NA\" : \"NA\"\r\n        // },\r\n         {\r\n        \"label\": \"IDS_REGTYPE\",\r\n        \"value\": this.props.Login.masterData.defaultRegTypeValue ? this.props.Login.masterData.defaultRegTypeValue.sregtypename || \"NA\" :\r\n          this.props.Login.masterData.defaultRegTypeValue ? this.props.Login.masterData.defaultRegTypeValue.sregtypename || \"NA\" : \"NA\"\r\n      }, {\r\n        \"label\": \"IDS_REGSUBTYPE\",\r\n        \"value\": this.props.Login.masterData.defaultRegSubTypeValue ? this.props.Login.masterData.defaultRegSubTypeValue.sregsubtypename || \"NA\" :\r\n          this.props.Login.masterData.defaultRegSubTypeValue ?\r\n            this.props.Login.masterData.defaultRegSubTypeValue.sregsubtypename : \"NA\"\r\n      },\r\n\r\n        // {\r\n        //   \"label\": \"IDS_CONFIGVERSION\",\r\n        //   \"value\": this.props.Login.masterData.defaultApprovalVersion ?\r\n        //     this.props.Login.masterData.defaultApprovalVersion.sversionname || \"NA\" :\r\n        //     this.props.Login.masterData.defaultApprovalVersion ? this.props.Login.masterData.defaultApprovalVersion.sversionname || \"NA\" : \"NA\"\r\n        // },\r\n\r\n\r\n        {\r\n          \"label\": \"IDS_WORKLISTSTATUS\",\r\n          \"value\": this.props.Login.masterData.defaultFilterStatusValue ?\r\n            this.props.Login.masterData.defaultFilterStatusValue.stransdisplaystatus || \"NA\" :\r\n            this.props.Login.masterData.defaultFilterStatusValue ?\r\n              this.props.Login.masterData.defaultFilterStatusValue.stransdisplaystatus || \"NA\" : \"NA\"\r\n        }\r\n        //];\r\n      );\r\n    }\r\n    return breadCrumbData;\r\n  }\r\n\r\n  openFilter = () => {\r\n    let showFilter = !this.props.Login.showFilter;\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  closeFilter = () => {\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter: false },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  onFilterSubmit = () => {\r\n    let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n\r\n    let realFromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\r\n    let realToDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\r\n\r\n    let defaultSampleTypeValue = this.props.Login.masterData.SampleTypeValue\r\n    let defaultRegTypeValue = this.props.Login.masterData.RegTypeValue\r\n    let defaultRegSubTypeValue = this.props.Login.masterData.RegSubTypeValue\r\n    let defaultFilterStatusValue = this.props.Login.masterData.FilterStatusValue\r\n    let defaultApprovalVersion = this.props.Login.masterData.defaultApprovalVersionValue\r\n    let masterData = { ...this.props.Login.masterData, realFromDate, realToDate, defaultSampleTypeValue, defaultRegTypeValue, defaultRegSubTypeValue, defaultFilterStatusValue, defaultApprovalVersion }\r\n    let inputData = {\r\n      //npreregno: \"0\",\r\n      nsampletypecode: (this.props.Login.masterData.defaultSampleTypeValue && this.props.Login.masterData.defaultSampleTypeValue.nsampletypecode) || -1,\r\n      nregtypecode: parseInt(this.props.Login.masterData.defaultRegTypeValue && this.props.Login.masterData.defaultRegTypeValue.nregtypecode) || -1,\r\n      nregsubtypecode: parseInt(this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) || -1,\r\n      ntransactionstatus: (this.props.Login.masterData.FilterStatusValue && this.props.Login.masterData.FilterStatusValue.ntransactionstatus) || -1,\r\n      userinfo: this.props.Login.userInfo,\r\n      // activeTestTab: this.props.Login.activeTestTab,\r\n\r\n    }\r\n    if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1\r\n      && inputData.ntransactionstatus !== \"-1\") {\r\n\r\n      inputData['fromdate'] = obj.fromDate;\r\n      inputData['todate'] = obj.toDate;\r\n      inputData['ndesigntemplatemappingcode'] = this.props.Login.masterData.ndesigntemplatemappingcode;\r\n      let inputParam = {\r\n        masterData,\r\n        inputData,\r\n        searchTestRef: this.searchTestRef,\r\n        skip: this.state.skip,\r\n        take: this.state.take,\r\n        testskip: this.state.testskip,\r\n        testtake: this.state.testtake,\r\n\r\n\r\n      }\r\n      this.props.getWorklistDetailFilter(inputParam)\r\n    } else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }))\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  callService,\r\n  crudMaster,\r\n  getWorklistDetail,\r\n  filterColumnData,\r\n  getSectionAndTest,\r\n  updateStore,\r\n  validateEsignCredential,\r\n  onWorklistApproveClick,\r\n  OpenDate,\r\n  CloseDate, viewAttachment, getInstrumentCombo, getWorklistSample, getRegTypeTestWise, getRegTypeWorklist,\r\n  getSectionbaseTest, getWorklistDetailFilter, getEditSectionAndTest, createWorklistCreation, getConfigVersionTestWise,\r\n  ViewSampleDetails, getWorklisthistoryAction,reportWorklist\r\n})(injectIntl(WorkList));\r\n"]},"metadata":{},"sourceType":"module"}