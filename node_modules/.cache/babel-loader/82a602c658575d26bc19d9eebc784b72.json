{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{toast}from\"react-toastify\";import{intl}from\"../components/App\";import{sortData}from\"../components/CommonScript\";import rsapi from\"../rsapi\";import{initRequest}from\"./LoginAction\";import{DEFAULT_RETURN}from\"./LoginTypes\";export function getSubSampleBySample(methodParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"coarelease/getSubSampleBySample\",{nsitecode:methodParam.nsitecode,npreregno:methodParam.primaryKeyValue,userinfo:methodParam.userInfo}).then(function(response){// let releaseSubSample = response.data[\"ReleaseSubSample\"];  \nvar releaseSubSample=methodParam.masterData.releaseSubSample||new Map();releaseSubSample.set(parseInt(Object.keys(response.data[\"ReleaseSubSample\"])[0]),Object.values(response.data[\"ReleaseSubSample\"])[0]);var masterData=_objectSpread(_objectSpread({},methodParam.masterData),{},{releaseSubSample:releaseSubSample},response.data);//  sortData(masterData);\ndispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,data:methodParam.data,releaseSubSample:releaseSubSample,dataState:methodParam.dataState,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleaseSelectedSamples(userInfo,controlId,selectedSampleData,data,flag){var npreregno=\"\";selectedSampleData.map(function(item,i){var s=\"\";npreregno=npreregno+item.npreregno;if(i<selectedSampleData.length){if(i<selectedSampleData.length-1){s=\",\";}npreregno=npreregno+s;}else{npreregno=item.npreregno;}});return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"coarelease/updateReleasedSample\",{npreregno:npreregno,nregtypecode:selectedSampleData[0].nregtypecode,nregsubtypecode:selectedSampleData[0].nregsubtypecode,userinfo:userInfo}).then(function(response){// let releaseSubSample =response.data[\"ReleaseSample\"];           \nvar masterData=_objectSpread(_objectSpread({},data),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,data:response.data,loading:false}});}).catch(function(error){console.log(\"errordot\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleaseSelectedSubSamples(userInfo,controlId,selectedSubSampleData,data,flag){var ntransactionsamplecode=\"\";var npreregno=\"\";selectedSubSampleData.map(function(item,i){var s=\"\";ntransactionsamplecode=ntransactionsamplecode+item.ntransactionsamplecode;npreregno=npreregno+item.npreregno;if(i<selectedSubSampleData.length){if(i<selectedSubSampleData.length-1){s=\",\";}ntransactionsamplecode=ntransactionsamplecode+s;npreregno=npreregno+s;}else{ntransactionsamplecode=item.ntransactionsamplecode;npreregno=item.npreregno;}});return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"coarelease/updateReleasedSubSample\",{npreregno:npreregno,ntransactionsamplecode:ntransactionsamplecode,userinfo:userInfo}).then(function(response){// let releaseSubSample =response.data[\"ReleaseSample\"];           \nvar masterData=_objectSpread(_objectSpread({},data),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,data:response.data,loading:false}});}).catch(function(error){console.log(\"errordot\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getTestBySample(methodParam,kjkj){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"coarelease/getTestBySample\",{nsitecode:methodParam.nsitecode,npreregno:methodParam.viewRow.npreregno,ntransactionsamplecode:methodParam.viewRow.ntransactionsamplecode,userinfo:methodParam.userInfo}).then(function(response){var releaseTest=methodParam.masterData.releaseTest||new Map();releaseTest.set(parseInt(Object.keys(response.data[\"ReleaseTest\"])[0]),Object.values(response.data[\"ReleaseTest\"])[0]);var masterData=_objectSpread(_objectSpread({},methodParam.masterData),{},{releaseTest:releaseTest},response.data);//  sortData(masterData);\ndispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,data:methodParam.data,releaseTest:releaseTest,dataState:methodParam.dataState,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleaseSelectedTest(userInfo,controlId,selectedTestData,data,flag){var ntransactionsamplecode=\"\";var npreregno=\"\";var ntransactiontestcode=\"\";selectedTestData.map(function(item,i){var s=\"\";ntransactionsamplecode=ntransactionsamplecode+item.ntransactionsamplecode;npreregno=npreregno+item.npreregno;ntransactiontestcode=ntransactiontestcode+item.ntransactiontestcode;if(i<selectedTestData.length){if(i<selectedTestData.length-1){s=\",\";}ntransactionsamplecode=ntransactionsamplecode+s;npreregno=npreregno+s;ntransactiontestcode=ntransactiontestcode+s;}else{ntransactionsamplecode=item.ntransactionsamplecode;npreregno=item.npreregno;ntransactiontestcode=item.ntransactiontestcode;}});return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"coarelease/updateReleasedTest\",{npreregno:npreregno,ntransactionsamplecode:ntransactionsamplecode,ntransactiontestcode:ntransactiontestcode,userinfo:userInfo}).then(function(response){// let releaseSubSample =response.data[\"ReleaseSample\"];           \nvar masterData=_objectSpread(_objectSpread({},data),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,data:response.data,loading:false}});}).catch(function(error){console.log(\"errordot\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}// export function getReleaseSelectedSampleSubSampleTest(userInfo, control, SampleArray1, SubSampleArray1, TestArray1,SampleArray,SubSampleArray,TestArray,Data1,k) {    \n//    let ntransactionsamplecode = \"\"\n//    let npreregno = \"\"\n//     let ntransactiontestcode = \"\" \n//     let bFlag = \"\" \n//     if (TestArray !== undefined) {\n//         TestArray.map(test => {\n//             ntransactionsamplecode += test.ntransactionsamplecode + ',';\n//             npreregno += test.npreregno + ',';\n//             ntransactiontestcode += test.ntransactiontestcode + ',';\n//         })\n//         TestArray = {\n//             ntransactionsamplecode: ntransactionsamplecode,\n//             npreregno: npreregno,\n//             ntransactiontestcode: ntransactiontestcode,\n//             bFlag:\"3\"\n//         }\n//     }   \n//     if (SubSampleArray !== undefined) {\n//         SubSampleArray.map(SubSample => {\n//             ntransactionsamplecode += SubSample.ntransactionsamplecode + ',';\n//             npreregno += SubSample.npreregno + ',';\n//             ntransactiontestcode += SubSample.ntransactiontestcode + ',';\n//             SubSampleArray = {\n//                 ntransactionsamplecode: ntransactionsamplecode,\n//                 npreregno: npreregno,\n//                 ntransactiontestcode: ntransactiontestcode,\n//                 bFlag:\"2\"\n//             }\n//         })\n//     }\n//     if (SampleArray !== undefined) {\n//         SampleArray.map(Sample => {\n//             ntransactionsamplecode += Sample.ntransactionsamplecode + ',';\n//             npreregno += Sample.npreregno + ',';\n//             ntransactiontestcode += Sample.ntransactiontestcode + ',';\n//         })\n//         SampleArray = {\n//             ntransactionsamplecode: ntransactionsamplecode,\n//             npreregno: npreregno,\n//             ntransactiontestcode: ntransactiontestcode,\n//             bFlag:\"1\"\n//         }\n//     }\n//     let allNpreregno = []\n//     if (SampleArray1 !== undefined) {\n//         SampleArray1.map(temp => {\n//             allNpreregno += temp + ','\n//         })\n//     }\n//     let allNtransactionsamplecode = []\n//     if (SubSampleArray1 !== undefined) {\n//         SubSampleArray1.map(temp => {\n//             allNtransactionsamplecode += temp + ','\n//         })\n//     }\n//     let allNtransactiontestcode = []\n//     if (TestArray1 !== undefined) {\n//         TestArray1.map(temp => {\n//             allNtransactiontestcode += temp + ','\n//         })\n//     }\n//     return function (dispatch) {  \n//     dispatch(initRequest(true));\n//     return rsapi.post(\"coarelease/updateStatus\", \n//         {\n//             SampleArray:SampleArray,\n//             SubSampleArray:SubSampleArray,\n//             TestArray: TestArray,\n//             userinfo: userInfo,\n//             allNtransactionsamplecode: allNtransactionsamplecode,\n//             allNtransactiontestcode: allNtransactiontestcode,\n//             allNpreregno:allNpreregno\n//         })\n//     .then(response=>{ \n//        // let releaseSubSample = response.data[\"ReleaseSubSample\"];  \n//        let releaseSubSample = Data1.releaseSubSample || new Map();           \n//        let releaseTest = Data1.releaseTest || new Map();           \n//        releaseSubSample = Data1.releaseSubSample || new Map();           \n//              releaseTest = Data1.releaseTest || new Map();\n// if(response.data.body[\"cFlag\"]===\"3\"){\n//             releaseTest.set(parseInt(Object.keys(response.data.body[\"ReleaseTest\"])[0]), Object.values(response.data.body[\"ReleaseTest\"])[0]);\n//        }\n//       //  else {\n//         if(response.data.body[\"cFlag\"]===\"2\"){\n//             releaseSubSample.set(parseInt(Object.keys(response.data.body[\"ReleaseSubSample\"])[0]), Object.values(response.data.body[\"ReleaseSubSample\"])[0]);\n//         }\n//         let masterData = { ...Data1, releaseSubSample,releaseTest,...response.data.body};\n//             sortData(masterData);\n//             dispatch({type: DEFAULT_RETURN, payload:{masterData,\n//                 data:releaseSubSample,releaseTest,\n//                       //  dataState:dataState,\n//                         loading:false\n//                     }});\n//         })\n//         .catch(error=>{\n//             dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\n//             if (error.response.status === 500){\n//                 toast.error(error.message);\n//             } \n//             else{               \n//                 toast.warn(error.response.data);\n//             }  \n//         })        \n//     }\n// }\nexport function getReleaseSelectedSampleSubSampleTest(userInfo,control,SampleArray1,SubSampleArray1,TestArray1,SampleArray,SubSampleArray,TestArray,Data1,k){var ntransactionsamplecode=\"\";var ntransactiontestcode=\"\";var npreregno=\"\";var bFlag=\"\";if(TestArray!==undefined){var sample=SampleArray1.filter(function(c,index){return SampleArray1.indexOf(c)===index;});var subsample=SubSampleArray1.filter(function(c,index){return SubSampleArray1.indexOf(c)===index;});var test=TestArray1.filter(function(c,index){return TestArray1.indexOf(c)===index;});npreregno=sample.map(function(x){return x;}).join(\",\");ntransactionsamplecode=subsample.map(function(x){return x;}).join(\",\");ntransactiontestcode=test.map(function(x){return x;}).join(\",\");TestArray={ntransactionsamplecode:ntransactionsamplecode,npreregno:npreregno,ntransactiontestcode:ntransactiontestcode,bFlag:\"3\"};}return function(dispatch){if(TestArray!==undefined||TestArray.length&&TestArray.length!==0){dispatch(initRequest(true));return rsapi.post(\"coarelease/updateStatus\",{TestArray:TestArray,userinfo:userInfo}).then(function(response){if(response.data.statusCodeValue!==200){toast.warn(intl.formatMessage({id:response.data.body}));dispatch({type:DEFAULT_RETURN,payload:{loading:false}});}else{// let releaseSubSample = response.data[\"ReleaseSubSample\"];  \nvar releaseSubSample=Data1.releaseSubSample||new Map();var releaseTest=Data1.releaseTest||new Map();releaseSubSample=Data1.releaseSubSample||new Map();releaseTest=Data1.releaseTest||new Map();releaseTest.set(parseInt(Object.keys(response.data.body[\"ReleaseTest\"])[0]),Object.values(response.data.body[\"ReleaseTest\"])[0]);releaseSubSample.set(parseInt(Object.keys(response.data.body[\"ReleaseSubSample\"])[0]),Object.values(response.data.body[\"ReleaseSubSample\"])[0]);var masterData=_objectSpread(_objectSpread({},Data1),{},{releaseSubSample:releaseSubSample,releaseTest:releaseTest},response.data.body);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,data:releaseSubSample,releaseTest:releaseTest,//  dataState:dataState,\nloading:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_SELECTANYONESAMPLE/SUBSAMPLE/TEST\"}));}};}export function getReleaseRegistrationType(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"coarelease/getRegistrationType\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{SampleTypeValue:inputData.SampleTypeValue}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleaseRegistrationSubType(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"coarelease/getRegistrationSubType\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{RegTypeValue:inputData.RegTypeValue}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleaseFilterStatus(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"coarelease/getFilterStatus\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{RegSubTypeValue:inputData.RegSubTypeValue}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleaseFilterBasedTest(inputData){return function(dispatch){if(inputData.napprovalversioncode){dispatch(initRequest(true));rsapi.post(\"coarelease/getFilterBasedTest\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{RegSubTypeValue:inputData.RegSubTypeValue,ndesigntemplatemappingcode:inputData.ndesigntemplatemappingcode,DesignTemplateMappingValue:inputData.DesignTemplateMappingValue}),loading:false}});if(response.data.rtn){toast.warn(response.data.rtn);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{//toast.warn(\"PleaseF Select All the Values in Filter\");\ntoast.warn(intl.formatMessage({id:\"IDS_PLSSELECTALLVALUESINFILTER\"}));}};}export function getReleaseApprovalVersion(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"coarelease/getApprovalVersion\",inputParam.inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},inputParam.masterData),responseData),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReleaseSample(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"coarelease/getReleaseSample\",inputParam.inputData).then(function(response){var responseData=_objectSpread({},response.data);// responseData = sortData(responseData)\nvar masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);if(inputParam.searchSampleRef!==undefined&&inputParam.searchSampleRef.current!==null){inputParam.searchSampleRef.current.value=\"\";masterData['searchedSample']=undefined;}if(inputParam.searchSubSampleRef!==undefined&&inputParam.searchSubSampleRef.current!==null){inputParam.searchSubSampleRef.current.value=\"\";masterData['searchedSubSample']=undefined;}if(inputParam.searchTestRef!==undefined&&inputParam.searchTestRef.current!==null){inputParam.searchTestRef.current.value=\"\";// masterData['searchedTest'] = undefined\nmasterData['searchedTests']=undefined;}sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,showFilter:false,skip:0,take:inputParam.take,testskip:0,testtake:inputParam.testtake,resultDataState:_objectSpread(_objectSpread({},inputParam.resultDataState),{},{sort:undefined,filter:undefined}),instrumentDataState:_objectSpread(_objectSpread({},inputParam.instrumentDataState),{},{sort:undefined,filter:undefined}),materialDataState:_objectSpread(_objectSpread({},inputParam.materialDataState),{},{sort:undefined,filter:undefined}),taskDataState:_objectSpread(_objectSpread({},inputParam.taskDataState),{},{sort:undefined,filter:undefined}),documentDataState:_objectSpread(_objectSpread({},inputParam.documentDataState),{},{sort:undefined,filter:undefined}),resultChangeDataState:_objectSpread(_objectSpread({},inputParam.resultChangeDataState),{},{sort:undefined,filter:undefined}),testCommentDataState:_objectSpread(_objectSpread({},inputParam.testCommentDataState),{},{sort:undefined,filter:undefined}),historyDataState:_objectSpread(_objectSpread({},inputParam.historyDataState),{},{sort:undefined,filter:undefined}),samplePrintHistoryDataState:_objectSpread(_objectSpread({},inputParam.samplePrintHistoryDataState),{},{sort:undefined,filter:undefined}),sampleHistoryDataState:_objectSpread(_objectSpread({},inputParam.sampleHistoryDataState),{},{sort:undefined,filter:undefined})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/COAReleaseAction.js"],"names":["toast","intl","sortData","rsapi","initRequest","DEFAULT_RETURN","getSubSampleBySample","methodParam","dispatch","post","nsitecode","npreregno","primaryKeyValue","userinfo","userInfo","then","response","releaseSubSample","masterData","Map","set","parseInt","Object","keys","data","values","type","payload","dataState","loading","catch","error","status","message","warn","getReleaseSelectedSamples","controlId","selectedSampleData","flag","map","item","i","s","length","nregtypecode","nregsubtypecode","console","log","getReleaseSelectedSubSamples","selectedSubSampleData","ntransactionsamplecode","getTestBySample","kjkj","viewRow","releaseTest","getReleaseSelectedTest","selectedTestData","ntransactiontestcode","getReleaseSelectedSampleSubSampleTest","control","SampleArray1","SubSampleArray1","TestArray1","SampleArray","SubSampleArray","TestArray","Data1","k","bFlag","undefined","sample","filter","c","index","indexOf","subsample","test","x","join","statusCodeValue","formatMessage","id","body","getReleaseRegistrationType","inputData","responseData","SampleTypeValue","getReleaseRegistrationSubType","RegTypeValue","getReleaseFilterStatus","RegSubTypeValue","getReleaseFilterBasedTest","napprovalversioncode","ndesigntemplatemappingcode","DesignTemplateMappingValue","rtn","getReleaseApprovalVersion","inputParam","getReleaseSample","searchSampleRef","current","value","searchSubSampleRef","searchTestRef","showFilter","skip","take","testskip","testtake","resultDataState","sort","instrumentDataState","materialDataState","taskDataState","documentDataState","resultChangeDataState","testCommentDataState","historyDataState","samplePrintHistoryDataState","sampleHistoryDataState"],"mappings":"iKAAA,OAASA,KAAT,KAAsB,gBAAtB,CACA,OAASC,IAAT,KAAqB,mBAArB,CACA,OAASC,QAAT,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,OAASC,WAAT,KAA4B,eAA5B,CACA,OAASC,cAAT,KAA+B,cAA/B,CAEA,MAAO,SAASC,CAAAA,oBAAT,CAA8BC,WAA9B,CAA2C,CAC9C,MAAO,UAAUC,QAAV,CAAoB,CACvBA,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACA,MAAOD,CAAAA,KAAK,CAACM,IAAN,CAAW,iCAAX,CACH,CACIC,SAAS,CAAEH,WAAW,CAACG,SAD3B,CACsCC,SAAS,CAAEJ,WAAW,CAACK,eAD7D,CAEIC,QAAQ,CAAEN,WAAW,CAACO,QAF1B,CADG,EAKFC,IALE,CAKG,SAAAC,QAAQ,CAAI,CACd;AACA,GAAIC,CAAAA,gBAAgB,CAAGV,WAAW,CAACW,UAAZ,CAAuBD,gBAAvB,EAA2C,GAAIE,CAAAA,GAAJ,EAAlE,CAEAF,gBAAgB,CAACG,GAAjB,CAAqBC,QAAQ,CAACC,MAAM,CAACC,IAAP,CAAYP,QAAQ,CAACQ,IAAT,CAAc,kBAAd,CAAZ,EAA+C,CAA/C,CAAD,CAA7B,CAAkFF,MAAM,CAACG,MAAP,CAAcT,QAAQ,CAACQ,IAAT,CAAc,kBAAd,CAAd,EAAiD,CAAjD,CAAlF,EACA,GAAIN,CAAAA,UAAU,gCAAQX,WAAW,CAACW,UAApB,MAAgCD,gBAAgB,CAAhBA,gBAAhC,EAAqDD,QAAQ,CAACQ,IAA9D,CAAd,CAEA;AACAhB,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CACiBsB,OAAO,CAAE,CAC3BT,UAAU,CAAVA,UAD2B,CAE3BM,IAAI,CAAEjB,WAAW,CAACiB,IAFS,CAEHP,gBAAgB,CAAhBA,gBAFG,CAG3BW,SAAS,CAAErB,WAAW,CAACqB,SAHI,CAI3BC,OAAO,CAAE,KAJkB,CAD1B,CAAD,CAAR,CAQH,CArBE,EAsBFC,KAtBE,CAsBI,SAAAC,KAAK,CAAI,CACZvB,QAAQ,CAAC,CAAEkB,IAAI,CAAErB,cAAR,CAAwBsB,OAAO,CAAE,CAAEE,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BhC,KAAK,CAAC+B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDjC,KAAK,CAACkC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CA9BE,CAAP,CA+BH,CAjCD,CAkCH,CAED,MAAO,SAASW,CAAAA,yBAAT,CAAmCrB,QAAnC,CAA6CsB,SAA7C,CAAwDC,kBAAxD,CAA4Eb,IAA5E,CAAkFc,IAAlF,CAAwF,CAC3F,GAAI3B,CAAAA,SAAS,CAAG,EAAhB,CACA0B,kBAAkB,CAACE,GAAnB,CAAuB,SAACC,IAAD,CAAOC,CAAP,CAAa,CAChC,GAAIC,CAAAA,CAAC,CAAG,EAAR,CACA/B,SAAS,CAAGA,SAAS,CAAG6B,IAAI,CAAC7B,SAA7B,CACA,GAAI8B,CAAC,CAAGJ,kBAAkB,CAACM,MAA3B,CAAmC,CAC/B,GAAIF,CAAC,CAAGJ,kBAAkB,CAACM,MAAnB,CAA4B,CAApC,CAAuC,CACnCD,CAAC,CAAG,GAAJ,CACH,CACD/B,SAAS,CAAGA,SAAS,CAAG+B,CAAxB,CACH,CALD,IAMK,CACD/B,SAAS,CAAG6B,IAAI,CAAC7B,SAAjB,CACH,CACJ,CAZD,EAaA,MAAO,UAAUH,QAAV,CAAoB,CACvBA,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACA,MAAOD,CAAAA,KAAK,CAACM,IAAN,CAAW,iCAAX,CACH,CACIE,SAAS,CAAEA,SADf,CAEIiC,YAAY,CAAEP,kBAAkB,CAAC,CAAD,CAAlB,CAAsBO,YAFxC,CAGIC,eAAe,CAAER,kBAAkB,CAAC,CAAD,CAAlB,CAAsBQ,eAH3C,CAKIhC,QAAQ,CAAEC,QALd,CADG,EAQFC,IARE,CAQG,SAAAC,QAAQ,CAAI,CACd;AACA,GAAIE,CAAAA,UAAU,gCAAQM,IAAR,EAAiBR,QAAQ,CAACQ,IAA1B,CAAd,CAEAtB,QAAQ,CAACgB,UAAD,CAAR,CACAV,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CACiBsB,OAAO,CAAE,CAC3BT,UAAU,CAAVA,UAD2B,CAE3BM,IAAI,CAAER,QAAQ,CAACQ,IAFY,CAG3BK,OAAO,CAAE,KAHkB,CAD1B,CAAD,CAAR,CAOH,CApBE,EAqBFC,KArBE,CAqBI,SAAAC,KAAK,CAAI,CACZe,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBhB,KAAxB,EACAvB,QAAQ,CAAC,CAAEkB,IAAI,CAAErB,cAAR,CAAwBsB,OAAO,CAAE,CAAEE,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BhC,KAAK,CAAC+B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDjC,KAAK,CAACkC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CA9BE,CAAP,CA+BH,CAjCD,CAkCH,CACD,MAAO,SAASwB,CAAAA,4BAAT,CAAsClC,QAAtC,CAAgDsB,SAAhD,CAA2Da,qBAA3D,CAAkFzB,IAAlF,CAAwFc,IAAxF,CAA8F,CACjG,GAAIY,CAAAA,sBAAsB,CAAG,EAA7B,CACA,GAAIvC,CAAAA,SAAS,CAAG,EAAhB,CAEAsC,qBAAqB,CAACV,GAAtB,CAA0B,SAACC,IAAD,CAAOC,CAAP,CAAa,CACnC,GAAIC,CAAAA,CAAC,CAAG,EAAR,CACAQ,sBAAsB,CAAGA,sBAAsB,CAAGV,IAAI,CAACU,sBAAvD,CACAvC,SAAS,CAAGA,SAAS,CAAG6B,IAAI,CAAC7B,SAA7B,CAEA,GAAI8B,CAAC,CAAGQ,qBAAqB,CAACN,MAA9B,CAAsC,CAClC,GAAIF,CAAC,CAAGQ,qBAAqB,CAACN,MAAtB,CAA+B,CAAvC,CAA0C,CACtCD,CAAC,CAAG,GAAJ,CACH,CACDQ,sBAAsB,CAAGA,sBAAsB,CAAGR,CAAlD,CACA/B,SAAS,CAAGA,SAAS,CAAG+B,CAAxB,CAEH,CAPD,IAQK,CACDQ,sBAAsB,CAAGV,IAAI,CAACU,sBAA9B,CACAvC,SAAS,CAAG6B,IAAI,CAAC7B,SAAjB,CAEH,CACJ,CAlBD,EAmBA,MAAO,UAAUH,QAAV,CAAoB,CACvBA,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACA,MAAOD,CAAAA,KAAK,CAACM,IAAN,CAAW,oCAAX,CACH,CAEIE,SAAS,CAAEA,SAFf,CAGIuC,sBAAsB,CAAEA,sBAH5B,CAKIrC,QAAQ,CAAEC,QALd,CADG,EASFC,IATE,CASG,SAAAC,QAAQ,CAAI,CACd;AACA,GAAIE,CAAAA,UAAU,gCAAQM,IAAR,EAAiBR,QAAQ,CAACQ,IAA1B,CAAd,CAEAtB,QAAQ,CAACgB,UAAD,CAAR,CACAV,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CACiBsB,OAAO,CAAE,CAC3BT,UAAU,CAAVA,UAD2B,CAE3BM,IAAI,CAAER,QAAQ,CAACQ,IAFY,CAG3BK,OAAO,CAAE,KAHkB,CAD1B,CAAD,CAAR,CAOH,CArBE,EAsBFC,KAtBE,CAsBI,SAAAC,KAAK,CAAI,CACZe,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBhB,KAAxB,EACAvB,QAAQ,CAAC,CAAEkB,IAAI,CAAErB,cAAR,CAAwBsB,OAAO,CAAE,CAAEE,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BhC,KAAK,CAAC+B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDjC,KAAK,CAACkC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CA/BE,CAAP,CAgCH,CAlCD,CAmCH,CACD,MAAO,SAAS2B,CAAAA,eAAT,CAAyB5C,WAAzB,CAAsC6C,IAAtC,CAA4C,CAE/C,MAAO,UAAU5C,QAAV,CAAoB,CACvBA,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACA,MAAOD,CAAAA,KAAK,CAACM,IAAN,CAAW,4BAAX,CACH,CACIC,SAAS,CAAEH,WAAW,CAACG,SAD3B,CACsCC,SAAS,CAAEJ,WAAW,CAAC8C,OAAZ,CAAoB1C,SADrE,CAEIuC,sBAAsB,CAAE3C,WAAW,CAAC8C,OAAZ,CAAoBH,sBAFhD,CAGIrC,QAAQ,CAAEN,WAAW,CAACO,QAH1B,CADG,EAMFC,IANE,CAMG,SAAAC,QAAQ,CAAI,CACd,GAAIsC,CAAAA,WAAW,CAAG/C,WAAW,CAACW,UAAZ,CAAuBoC,WAAvB,EAAsC,GAAInC,CAAAA,GAAJ,EAAxD,CACAmC,WAAW,CAAClC,GAAZ,CAAgBC,QAAQ,CAACC,MAAM,CAACC,IAAP,CAAYP,QAAQ,CAACQ,IAAT,CAAc,aAAd,CAAZ,EAA0C,CAA1C,CAAD,CAAxB,CAAwEF,MAAM,CAACG,MAAP,CAAcT,QAAQ,CAACQ,IAAT,CAAc,aAAd,CAAd,EAA4C,CAA5C,CAAxE,EACA,GAAIN,CAAAA,UAAU,gCAAQX,WAAW,CAACW,UAApB,MAAgCoC,WAAW,CAAXA,WAAhC,EAAgDtC,QAAQ,CAACQ,IAAzD,CAAd,CAEA;AACAhB,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CACiBsB,OAAO,CAAE,CAC3BT,UAAU,CAAVA,UAD2B,CAE3BM,IAAI,CAAEjB,WAAW,CAACiB,IAFS,CAG3B8B,WAAW,CAAXA,WAH2B,CAI3B1B,SAAS,CAAErB,WAAW,CAACqB,SAJI,CAK3BC,OAAO,CAAE,KALkB,CAD1B,CAAD,CAAR,CASH,CArBE,EAsBFC,KAtBE,CAsBI,SAAAC,KAAK,CAAI,CACZvB,QAAQ,CAAC,CAAEkB,IAAI,CAAErB,cAAR,CAAwBsB,OAAO,CAAE,CAAEE,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BhC,KAAK,CAAC+B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDjC,KAAK,CAACkC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CA9BE,CAAP,CA+BH,CAjCD,CAkCH,CACD,MAAO,SAAS+B,CAAAA,sBAAT,CAAgCzC,QAAhC,CAA0CsB,SAA1C,CAAqDoB,gBAArD,CAAuEhC,IAAvE,CAA6Ec,IAA7E,CAAmF,CACtF,GAAIY,CAAAA,sBAAsB,CAAG,EAA7B,CACA,GAAIvC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAI8C,CAAAA,oBAAoB,CAAG,EAA3B,CAEAD,gBAAgB,CAACjB,GAAjB,CAAqB,SAACC,IAAD,CAAOC,CAAP,CAAa,CAC9B,GAAIC,CAAAA,CAAC,CAAG,EAAR,CACAQ,sBAAsB,CAAGA,sBAAsB,CAAGV,IAAI,CAACU,sBAAvD,CACAvC,SAAS,CAAGA,SAAS,CAAG6B,IAAI,CAAC7B,SAA7B,CACA8C,oBAAoB,CAAGA,oBAAoB,CAAGjB,IAAI,CAACiB,oBAAnD,CAEA,GAAIhB,CAAC,CAAGe,gBAAgB,CAACb,MAAzB,CAAiC,CAC7B,GAAIF,CAAC,CAAGe,gBAAgB,CAACb,MAAjB,CAA0B,CAAlC,CAAqC,CACjCD,CAAC,CAAG,GAAJ,CACH,CACDQ,sBAAsB,CAAGA,sBAAsB,CAAGR,CAAlD,CACA/B,SAAS,CAAGA,SAAS,CAAG+B,CAAxB,CACAe,oBAAoB,CAAGA,oBAAoB,CAAGf,CAA9C,CAEH,CARD,IASK,CACDQ,sBAAsB,CAAGV,IAAI,CAACU,sBAA9B,CACAvC,SAAS,CAAG6B,IAAI,CAAC7B,SAAjB,CACA8C,oBAAoB,CAAGjB,IAAI,CAACiB,oBAA5B,CAEH,CACJ,CArBD,EAsBA,MAAO,UAAUjD,QAAV,CAAoB,CACvBA,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACA,MAAOD,CAAAA,KAAK,CAACM,IAAN,CAAW,+BAAX,CACH,CAEIE,SAAS,CAAEA,SAFf,CAGIuC,sBAAsB,CAAEA,sBAH5B,CAIIO,oBAAoB,CAAEA,oBAJ1B,CAMI5C,QAAQ,CAAEC,QANd,CADG,EAUFC,IAVE,CAUG,SAAAC,QAAQ,CAAI,CACd;AACA,GAAIE,CAAAA,UAAU,gCAAQM,IAAR,EAAiBR,QAAQ,CAACQ,IAA1B,CAAd,CAEAtB,QAAQ,CAACgB,UAAD,CAAR,CACAV,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CACiBsB,OAAO,CAAE,CAC3BT,UAAU,CAAVA,UAD2B,CAE3BM,IAAI,CAAER,QAAQ,CAACQ,IAFY,CAG3BK,OAAO,CAAE,KAHkB,CAD1B,CAAD,CAAR,CAOH,CAtBE,EAuBFC,KAvBE,CAuBI,SAAAC,KAAK,CAAI,CACZe,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBhB,KAAxB,EACAvB,QAAQ,CAAC,CAAEkB,IAAI,CAAErB,cAAR,CAAwBsB,OAAO,CAAE,CAAEE,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BhC,KAAK,CAAC+B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDjC,KAAK,CAACkC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CAhCE,CAAP,CAiCH,CAnCD,CAoCH,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAO,SAASkC,CAAAA,qCAAT,CAA+C5C,QAA/C,CAAyD6C,OAAzD,CAAkEC,YAAlE,CAAgFC,eAAhF,CAAiGC,UAAjG,CAA6GC,WAA7G,CAA0HC,cAA1H,CAA0IC,SAA1I,CAAqJC,KAArJ,CAA4JC,CAA5J,CAA+J,CAClK,GAAIjB,CAAAA,sBAAsB,CAAG,EAA7B,CACA,GAAIO,CAAAA,oBAAoB,CAAG,EAA3B,CACA,GAAI9C,CAAAA,SAAS,CAAG,EAAhB,CAEA,GAAIyD,CAAAA,KAAK,CAAG,EAAZ,CACA,GAAIH,SAAS,GAAKI,SAAlB,CAA6B,CACzB,GAAIC,CAAAA,MAAM,CAAGV,YAAY,CAACW,MAAb,CAAoB,SAACC,CAAD,CAAIC,KAAJ,CAAc,CAC3C,MAAOb,CAAAA,YAAY,CAACc,OAAb,CAAqBF,CAArB,IAA4BC,KAAnC,CACH,CAFY,CAAb,CAGA,GAAIE,CAAAA,SAAS,CAAGd,eAAe,CAACU,MAAhB,CAAuB,SAACC,CAAD,CAAIC,KAAJ,CAAc,CACjD,MAAOZ,CAAAA,eAAe,CAACa,OAAhB,CAAwBF,CAAxB,IAA+BC,KAAtC,CACH,CAFe,CAAhB,CAGA,GAAIG,CAAAA,IAAI,CAAGd,UAAU,CAACS,MAAX,CAAkB,SAACC,CAAD,CAAIC,KAAJ,CAAc,CACvC,MAAOX,CAAAA,UAAU,CAACY,OAAX,CAAmBF,CAAnB,IAA0BC,KAAjC,CACH,CAFU,CAAX,CAGA9D,SAAS,CAAG2D,MAAM,CAAC/B,GAAP,CAAW,SAAAsC,CAAC,QAAIA,CAAAA,CAAJ,EAAZ,EAAmBC,IAAnB,CAAwB,GAAxB,CAAZ,CACA5B,sBAAsB,CAAGyB,SAAS,CAACpC,GAAV,CAAc,SAAAsC,CAAC,QAAIA,CAAAA,CAAJ,EAAf,EAAsBC,IAAtB,CAA2B,GAA3B,CAAzB,CACArB,oBAAoB,CAAGmB,IAAI,CAACrC,GAAL,CAAS,SAAAsC,CAAC,QAAIA,CAAAA,CAAJ,EAAV,EAAiBC,IAAjB,CAAsB,GAAtB,CAAvB,CAEAb,SAAS,CAAG,CACRf,sBAAsB,CAAEA,sBADhB,CAERvC,SAAS,CAAEA,SAFH,CAGR8C,oBAAoB,CAAEA,oBAHd,CAIRW,KAAK,CAAE,GAJC,CAAZ,CAOH,CAED,MAAO,UAAU5D,QAAV,CAAoB,CACvB,GAAIyD,SAAS,GAAKI,SAAd,EAA2BJ,SAAS,CAACtB,MAAV,EAAkBsB,SAAS,CAACtB,MAAV,GAAmB,CAApE,CAAuE,CAEnEnC,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACA,MAAOD,CAAAA,KAAK,CAACM,IAAN,CAAW,yBAAX,CACH,CACIwD,SAAS,CAAEA,SADf,CAEIpD,QAAQ,CAAEC,QAFd,CADG,EAKFC,IALE,CAKG,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACQ,IAAT,CAAcuD,eAAd,GAAkC,GAAtC,CAA2C,CACvC/E,KAAK,CAACkC,IAAN,CAAWjC,IAAI,CAAC+E,aAAL,CAAmB,CAC1BC,EAAE,CAAEjE,QAAQ,CAACQ,IAAT,CAAc0D,IADQ,CAAnB,CAAX,EAGA1E,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CAELsB,OAAO,CAAE,CACLE,OAAO,CAAE,KADJ,CAFJ,CAAD,CAAR,CAQH,CAZD,IAaK,CACD;AACA,GAAIZ,CAAAA,gBAAgB,CAAGiD,KAAK,CAACjD,gBAAN,EAA0B,GAAIE,CAAAA,GAAJ,EAAjD,CACA,GAAImC,CAAAA,WAAW,CAAGY,KAAK,CAACZ,WAAN,EAAqB,GAAInC,CAAAA,GAAJ,EAAvC,CACAF,gBAAgB,CAAGiD,KAAK,CAACjD,gBAAN,EAA0B,GAAIE,CAAAA,GAAJ,EAA7C,CAEAmC,WAAW,CAAGY,KAAK,CAACZ,WAAN,EAAqB,GAAInC,CAAAA,GAAJ,EAAnC,CACAmC,WAAW,CAAClC,GAAZ,CAAgBC,QAAQ,CAACC,MAAM,CAACC,IAAP,CAAYP,QAAQ,CAACQ,IAAT,CAAc0D,IAAd,CAAmB,aAAnB,CAAZ,EAA+C,CAA/C,CAAD,CAAxB,CAA6E5D,MAAM,CAACG,MAAP,CAAcT,QAAQ,CAACQ,IAAT,CAAc0D,IAAd,CAAmB,aAAnB,CAAd,EAAiD,CAAjD,CAA7E,EAIAjE,gBAAgB,CAACG,GAAjB,CAAqBC,QAAQ,CAACC,MAAM,CAACC,IAAP,CAAYP,QAAQ,CAACQ,IAAT,CAAc0D,IAAd,CAAmB,kBAAnB,CAAZ,EAAoD,CAApD,CAAD,CAA7B,CAAuF5D,MAAM,CAACG,MAAP,CAAcT,QAAQ,CAACQ,IAAT,CAAc0D,IAAd,CAAmB,kBAAnB,CAAd,EAAsD,CAAtD,CAAvF,EAGA,GAAIhE,CAAAA,UAAU,gCAAQgD,KAAR,MAAejD,gBAAgB,CAAhBA,gBAAf,CAAiCqC,WAAW,CAAXA,WAAjC,EAAiDtC,QAAQ,CAACQ,IAAT,CAAc0D,IAA/D,CAAd,CAEAhF,QAAQ,CAACgB,UAAD,CAAR,CACAV,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CACiBsB,OAAO,CAAE,CAC3BT,UAAU,CAAVA,UAD2B,CAE3BM,IAAI,CAAEP,gBAFqB,CAEHqC,WAAW,CAAXA,WAFG,CAG3B;AACAzB,OAAO,CAAE,KAJkB,CAD1B,CAAD,CAAR,CAQH,CACA,CA7CF,EA+CFC,KA/CE,CA+CI,SAAAC,KAAK,CAAI,CACZvB,QAAQ,CAAC,CAAEkB,IAAI,CAAErB,cAAR,CAAwBsB,OAAO,CAAE,CAAEE,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BhC,KAAK,CAAC+B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDjC,KAAK,CAACkC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CAvDE,CAAP,CA0DH,CA7DD,IA8DK,CACDxB,KAAK,CAACkC,IAAN,CAAWjC,IAAI,CAAC+E,aAAL,CAAmB,CAC1BC,EAAE,CAAE,uCADsB,CAAnB,CAAX,EAGH,CACJ,CApED,CAqEH,CACD,MAAO,SAASE,CAAAA,0BAAT,CAAoCC,SAApC,CAA+C,CAClD,MAAO,UAAU5E,QAAV,CAAoB,CACvBA,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAD,KAAK,CAACM,IAAN,CAAW,gCAAX,CAA6C2E,SAA7C,EACKrE,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAIqE,CAAAA,YAAY,kBAAQrE,QAAQ,CAACQ,IAAjB,CAAhB,CACA6D,YAAY,CAAGnF,QAAQ,CAACmF,YAAD,CAAvB,CACA7E,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CACiBsB,OAAO,CAAE,CAC3BT,UAAU,8CACHkE,SAAS,CAAClE,UADP,EAEHmE,YAFG,MAGNC,eAAe,CAAEF,SAAS,CAACE,eAHrB,EADiB,CAM3BzD,OAAO,CAAE,KANkB,CAD1B,CAAD,CAAR,CAUH,CAdL,EAeKC,KAfL,CAeW,SAAAC,KAAK,CAAI,CACZvB,QAAQ,CAAC,CAAEkB,IAAI,CAAErB,cAAR,CAAwBsB,OAAO,CAAE,CAAEE,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BhC,KAAK,CAAC+B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDjC,KAAK,CAACkC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CAvBL,EAwBH,CA1BD,CA2BH,CACD,MAAO,SAAS+D,CAAAA,6BAAT,CAAuCH,SAAvC,CAAkD,CACrD,MAAO,UAAU5E,QAAV,CAAoB,CACvBA,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAD,KAAK,CAACM,IAAN,CAAW,mCAAX,CAAgD2E,SAAhD,EACKrE,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAIqE,CAAAA,YAAY,kBAAQrE,QAAQ,CAACQ,IAAjB,CAAhB,CACA6D,YAAY,CAAGnF,QAAQ,CAACmF,YAAD,CAAvB,CACA7E,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CACiBsB,OAAO,CAAE,CAC3BT,UAAU,8CACHkE,SAAS,CAAClE,UADP,EAEHmE,YAFG,MAGNG,YAAY,CAAEJ,SAAS,CAACI,YAHlB,EADiB,CAM3B3D,OAAO,CAAE,KANkB,CAD1B,CAAD,CAAR,CAUH,CAdL,EAeKC,KAfL,CAeW,SAAAC,KAAK,CAAI,CACZvB,QAAQ,CAAC,CAAEkB,IAAI,CAAErB,cAAR,CAAwBsB,OAAO,CAAE,CAAEE,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BhC,KAAK,CAAC+B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDjC,KAAK,CAACkC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CAvBL,EAwBH,CA1BD,CA2BH,CACD,MAAO,SAASiE,CAAAA,sBAAT,CAAgCL,SAAhC,CAA2C,CAC9C,MAAO,UAAU5E,QAAV,CAAoB,CACvBA,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAD,KAAK,CAACM,IAAN,CAAW,4BAAX,CAAyC2E,SAAzC,EACKrE,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAIqE,CAAAA,YAAY,kBAAQrE,QAAQ,CAACQ,IAAjB,CAAhB,CACA6D,YAAY,CAAGnF,QAAQ,CAACmF,YAAD,CAAvB,CACA7E,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CACiBsB,OAAO,CAAE,CAC3BT,UAAU,8CACHkE,SAAS,CAAClE,UADP,EAEHmE,YAFG,MAGNK,eAAe,CAAEN,SAAS,CAACM,eAHrB,EADiB,CAM3B7D,OAAO,CAAE,KANkB,CAD1B,CAAD,CAAR,CAUH,CAdL,EAeKC,KAfL,CAeW,SAAAC,KAAK,CAAI,CACZvB,QAAQ,CAAC,CAAEkB,IAAI,CAAErB,cAAR,CAAwBsB,OAAO,CAAE,CAAEE,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BhC,KAAK,CAAC+B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDjC,KAAK,CAACkC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CAvBL,EAwBH,CA1BD,CA2BH,CAED,MAAO,SAASmE,CAAAA,yBAAT,CAAmCP,SAAnC,CAA8C,CACjD,MAAO,UAAU5E,QAAV,CAAoB,CACvB,GAAI4E,SAAS,CAACQ,oBAAd,CAAoC,CAChCpF,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAD,KAAK,CAACM,IAAN,CAAW,+BAAX,CAA4C2E,SAA5C,EACKrE,IADL,CACU,SAAAC,QAAQ,CAAI,CAGd,GAAIqE,CAAAA,YAAY,kBAAQrE,QAAQ,CAACQ,IAAjB,CAAhB,CACA6D,YAAY,CAAGnF,QAAQ,CAACmF,YAAD,CAAvB,CACA7E,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CACiBsB,OAAO,CAAE,CAC3BT,UAAU,8CACHkE,SAAS,CAAClE,UADP,EAEHmE,YAFG,MAGNK,eAAe,CAAEN,SAAS,CAACM,eAHrB,CAING,0BAA0B,CAAET,SAAS,CAACS,0BAJhC,CAKNC,0BAA0B,CAAEV,SAAS,CAACU,0BALhC,EADiB,CAQ3BjE,OAAO,CAAE,KARkB,CAD1B,CAAD,CAAR,CAYA,GAAIb,QAAQ,CAACQ,IAAT,CAAcuE,GAAlB,CAAuB,CACnB/F,KAAK,CAACkC,IAAN,CAAWlB,QAAQ,CAACQ,IAAT,CAAcuE,GAAzB,EACH,CAEJ,CAtBL,EAuBKjE,KAvBL,CAuBW,SAAAC,KAAK,CAAI,CACZvB,QAAQ,CAAC,CAAEkB,IAAI,CAAErB,cAAR,CAAwBsB,OAAO,CAAE,CAAEE,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BhC,KAAK,CAAC+B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDjC,KAAK,CAACkC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CA/BL,EAgCH,CAlCD,IAmCK,CACD;AACAxB,KAAK,CAACkC,IAAN,CAAWjC,IAAI,CAAC+E,aAAL,CAAmB,CAC1BC,EAAE,CAAE,gCADsB,CAAnB,CAAX,EAGH,CACJ,CA1CD,CA4CH,CAED,MAAO,SAASe,CAAAA,yBAAT,CAAmCC,UAAnC,CAA+C,CAClD,MAAO,UAAUzF,QAAV,CAAoB,CACvBA,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAD,KAAK,CAACM,IAAN,CAAW,+BAAX,CAA4CwF,UAAU,CAACb,SAAvD,EACKrE,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAIqE,CAAAA,YAAY,kBAAQrE,QAAQ,CAACQ,IAAjB,CAAhB,CACA6D,YAAY,CAAGnF,QAAQ,CAACmF,YAAD,CAAvB,CACA7E,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CACiBsB,OAAO,CAAE,CAC3BT,UAAU,gCACH+E,UAAU,CAAC/E,UADR,EAEHmE,YAFG,CADiB,CAO3BxD,OAAO,CAAE,KAPkB,CAD1B,CAAD,CAAR,CAWH,CAfL,EAgBKC,KAhBL,CAgBW,SAAAC,KAAK,CAAI,CACZvB,QAAQ,CAAC,CAAEkB,IAAI,CAAErB,cAAR,CAAwBsB,OAAO,CAAE,CAAEE,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BhC,KAAK,CAAC+B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDjC,KAAK,CAACkC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CAxBL,EAyBH,CA3BD,CA4BH,CACD,MAAO,SAAS0E,CAAAA,gBAAT,CAA0BD,UAA1B,CAAsC,CACzC,MAAO,UAAUzF,QAAV,CAAoB,CACvBA,QAAQ,CAACJ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAD,KAAK,CAACM,IAAN,CAAW,6BAAX,CAA0CwF,UAAU,CAACb,SAArD,EACKrE,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAIqE,CAAAA,YAAY,kBAAQrE,QAAQ,CAACQ,IAAjB,CAAhB,CACA;AACA,GAAIN,CAAAA,UAAU,gCACP+E,UAAU,CAAC/E,UADJ,EAEPmE,YAFO,CAAd,CAIA,GAAIY,UAAU,CAACE,eAAX,GAA+B9B,SAA/B,EAA4C4B,UAAU,CAACE,eAAX,CAA2BC,OAA3B,GAAuC,IAAvF,CAA6F,CACzFH,UAAU,CAACE,eAAX,CAA2BC,OAA3B,CAAmCC,KAAnC,CAA2C,EAA3C,CACAnF,UAAU,CAAC,gBAAD,CAAV,CAA+BmD,SAA/B,CACH,CACD,GAAI4B,UAAU,CAACK,kBAAX,GAAkCjC,SAAlC,EAA+C4B,UAAU,CAACK,kBAAX,CAA8BF,OAA9B,GAA0C,IAA7F,CAAmG,CAC/FH,UAAU,CAACK,kBAAX,CAA8BF,OAA9B,CAAsCC,KAAtC,CAA8C,EAA9C,CACAnF,UAAU,CAAC,mBAAD,CAAV,CAAkCmD,SAAlC,CACH,CACD,GAAI4B,UAAU,CAACM,aAAX,GAA6BlC,SAA7B,EAA0C4B,UAAU,CAACM,aAAX,CAAyBH,OAAzB,GAAqC,IAAnF,CAAyF,CACrFH,UAAU,CAACM,aAAX,CAAyBH,OAAzB,CAAiCC,KAAjC,CAAyC,EAAzC,CACA;AACAnF,UAAU,CAAC,eAAD,CAAV,CAA8BmD,SAA9B,CAEH,CACDnE,QAAQ,CAACgB,UAAD,CAAR,CACAV,QAAQ,CAAC,CACLkB,IAAI,CAAErB,cADD,CACiBsB,OAAO,CAAE,CAC3BT,UAAU,CAAVA,UAD2B,CAE3BW,OAAO,CAAE,KAFkB,CAG3B2E,UAAU,CAAE,KAHe,CAI3BC,IAAI,CAAE,CAJqB,CAK3BC,IAAI,CAAET,UAAU,CAACS,IALU,CAM3BC,QAAQ,CAAE,CANiB,CAO3BC,QAAQ,CAAEX,UAAU,CAACW,QAPM,CAQ3BC,eAAe,gCAAOZ,UAAU,CAACY,eAAlB,MAAmCC,IAAI,CAAEzC,SAAzC,CAAoDE,MAAM,CAAEF,SAA5D,EARY,CAS3B0C,mBAAmB,gCAAOd,UAAU,CAACc,mBAAlB,MAAuCD,IAAI,CAAEzC,SAA7C,CAAwDE,MAAM,CAAEF,SAAhE,EATQ,CAU3B2C,iBAAiB,gCAAOf,UAAU,CAACe,iBAAlB,MAAqCF,IAAI,CAAEzC,SAA3C,CAAsDE,MAAM,CAAEF,SAA9D,EAVU,CAW3B4C,aAAa,gCAAOhB,UAAU,CAACgB,aAAlB,MAAiCH,IAAI,CAAEzC,SAAvC,CAAkDE,MAAM,CAAEF,SAA1D,EAXc,CAY3B6C,iBAAiB,gCAAOjB,UAAU,CAACiB,iBAAlB,MAAqCJ,IAAI,CAAEzC,SAA3C,CAAsDE,MAAM,CAAEF,SAA9D,EAZU,CAa3B8C,qBAAqB,gCAAOlB,UAAU,CAACkB,qBAAlB,MAAyCL,IAAI,CAAEzC,SAA/C,CAA0DE,MAAM,CAAEF,SAAlE,EAbM,CAc3B+C,oBAAoB,gCAAOnB,UAAU,CAACmB,oBAAlB,MAAwCN,IAAI,CAAEzC,SAA9C,CAAyDE,MAAM,CAAEF,SAAjE,EAdO,CAe3BgD,gBAAgB,gCAAOpB,UAAU,CAACoB,gBAAlB,MAAoCP,IAAI,CAAEzC,SAA1C,CAAqDE,MAAM,CAAEF,SAA7D,EAfW,CAgB3BiD,2BAA2B,gCAAOrB,UAAU,CAACqB,2BAAlB,MAA+CR,IAAI,CAAEzC,SAArD,CAAgEE,MAAM,CAAEF,SAAxE,EAhBA,CAiB3BkD,sBAAsB,gCAAOtB,UAAU,CAACsB,sBAAlB,MAA0CT,IAAI,CAAEzC,SAAhD,CAA2DE,MAAM,CAAEF,SAAnE,EAjBK,CAD1B,CAAD,CAAR,CAqBH,CA5CL,EA6CKvC,KA7CL,CA6CW,SAAAC,KAAK,CAAI,CACZvB,QAAQ,CAAC,CAAEkB,IAAI,CAAErB,cAAR,CAAwBsB,OAAO,CAAE,CAAEE,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAIE,KAAK,CAACf,QAAN,CAAegB,MAAf,GAA0B,GAA9B,CAAmC,CAC/BhC,KAAK,CAAC+B,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDjC,KAAK,CAACkC,IAAN,CAAWH,KAAK,CAACf,QAAN,CAAeQ,IAA1B,EACH,CACJ,CArDL,EAsDH,CAxDD,CAyDH","sourcesContent":["import { toast } from \"react-toastify\";\r\nimport { intl } from \"../components/App\";\r\nimport { sortData } from \"../components/CommonScript\";\r\nimport rsapi from \"../rsapi\";\r\nimport { initRequest } from \"./LoginAction\";\r\nimport { DEFAULT_RETURN } from \"./LoginTypes\";\r\n\r\nexport function getSubSampleBySample(methodParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"coarelease/getSubSampleBySample\",\r\n            {\r\n                nsitecode: methodParam.nsitecode, npreregno: methodParam.primaryKeyValue,\r\n                userinfo: methodParam.userInfo\r\n            })\r\n            .then(response => {\r\n                // let releaseSubSample = response.data[\"ReleaseSubSample\"];  \r\n                let releaseSubSample = methodParam.masterData.releaseSubSample || new Map();\r\n\r\n                releaseSubSample.set(parseInt(Object.keys(response.data[\"ReleaseSubSample\"])[0]), Object.values(response.data[\"ReleaseSubSample\"])[0]);\r\n                let masterData = { ...methodParam.masterData, releaseSubSample, ...response.data };\r\n\r\n                //  sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        data: methodParam.data, releaseSubSample,\r\n                        dataState: methodParam.dataState,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReleaseSelectedSamples(userInfo, controlId, selectedSampleData, data, flag) {\r\n    let npreregno = \"\"\r\n    selectedSampleData.map((item, i) => {\r\n        let s = \"\"\r\n        npreregno = npreregno + item.npreregno;\r\n        if (i < selectedSampleData.length) {\r\n            if (i < selectedSampleData.length - 1) {\r\n                s = \",\"\r\n            }\r\n            npreregno = npreregno + s;\r\n        }\r\n        else {\r\n            npreregno = item.npreregno;\r\n        }\r\n    })\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"coarelease/updateReleasedSample\",\r\n            {\r\n                npreregno: npreregno,\r\n                nregtypecode: selectedSampleData[0].nregtypecode,\r\n                nregsubtypecode: selectedSampleData[0].nregsubtypecode,\r\n\r\n                userinfo: userInfo\r\n            })\r\n            .then(response => {\r\n                // let releaseSubSample =response.data[\"ReleaseSample\"];           \r\n                let masterData = { ...data, ...response.data };\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        data: response.data,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log(\"errordot\", error)\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleaseSelectedSubSamples(userInfo, controlId, selectedSubSampleData, data, flag) {\r\n    let ntransactionsamplecode = \"\"\r\n    let npreregno = \"\"\r\n\r\n    selectedSubSampleData.map((item, i) => {\r\n        let s = \"\"\r\n        ntransactionsamplecode = ntransactionsamplecode + item.ntransactionsamplecode;\r\n        npreregno = npreregno + item.npreregno;\r\n\r\n        if (i < selectedSubSampleData.length) {\r\n            if (i < selectedSubSampleData.length - 1) {\r\n                s = \",\"\r\n            }\r\n            ntransactionsamplecode = ntransactionsamplecode + s;\r\n            npreregno = npreregno + s;\r\n\r\n        }\r\n        else {\r\n            ntransactionsamplecode = item.ntransactionsamplecode;\r\n            npreregno = item.npreregno;\r\n\r\n        }\r\n    })\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"coarelease/updateReleasedSubSample\",\r\n            {\r\n\r\n                npreregno: npreregno,\r\n                ntransactionsamplecode: ntransactionsamplecode,\r\n\r\n                userinfo: userInfo\r\n            })\r\n\r\n            .then(response => {\r\n                // let releaseSubSample =response.data[\"ReleaseSample\"];           \r\n                let masterData = { ...data, ...response.data };\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        data: response.data,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log(\"errordot\", error)\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getTestBySample(methodParam, kjkj) {\r\n\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"coarelease/getTestBySample\",\r\n            {\r\n                nsitecode: methodParam.nsitecode, npreregno: methodParam.viewRow.npreregno,\r\n                ntransactionsamplecode: methodParam.viewRow.ntransactionsamplecode,\r\n                userinfo: methodParam.userInfo\r\n            })\r\n            .then(response => {\r\n                let releaseTest = methodParam.masterData.releaseTest || new Map();\r\n                releaseTest.set(parseInt(Object.keys(response.data[\"ReleaseTest\"])[0]), Object.values(response.data[\"ReleaseTest\"])[0]);\r\n                let masterData = { ...methodParam.masterData, releaseTest, ...response.data };\r\n\r\n                //  sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        data: methodParam.data,\r\n                        releaseTest,\r\n                        dataState: methodParam.dataState,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleaseSelectedTest(userInfo, controlId, selectedTestData, data, flag) {\r\n    let ntransactionsamplecode = \"\"\r\n    let npreregno = \"\"\r\n    let ntransactiontestcode = \"\"\r\n\r\n    selectedTestData.map((item, i) => {\r\n        let s = \"\"\r\n        ntransactionsamplecode = ntransactionsamplecode + item.ntransactionsamplecode;\r\n        npreregno = npreregno + item.npreregno;\r\n        ntransactiontestcode = ntransactiontestcode + item.ntransactiontestcode;\r\n\r\n        if (i < selectedTestData.length) {\r\n            if (i < selectedTestData.length - 1) {\r\n                s = \",\"\r\n            }\r\n            ntransactionsamplecode = ntransactionsamplecode + s;\r\n            npreregno = npreregno + s;\r\n            ntransactiontestcode = ntransactiontestcode + s;\r\n\r\n        }\r\n        else {\r\n            ntransactionsamplecode = item.ntransactionsamplecode;\r\n            npreregno = item.npreregno;\r\n            ntransactiontestcode = item.ntransactiontestcode;\r\n\r\n        }\r\n    })\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"coarelease/updateReleasedTest\",\r\n            {\r\n\r\n                npreregno: npreregno,\r\n                ntransactionsamplecode: ntransactionsamplecode,\r\n                ntransactiontestcode: ntransactiontestcode,\r\n\r\n                userinfo: userInfo\r\n            })\r\n\r\n            .then(response => {\r\n                // let releaseSubSample =response.data[\"ReleaseSample\"];           \r\n                let masterData = { ...data, ...response.data };\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        data: response.data,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log(\"errordot\", error)\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n// export function getReleaseSelectedSampleSubSampleTest(userInfo, control, SampleArray1, SubSampleArray1, TestArray1,SampleArray,SubSampleArray,TestArray,Data1,k) {    \r\n//    let ntransactionsamplecode = \"\"\r\n//    let npreregno = \"\"\r\n//     let ntransactiontestcode = \"\" \r\n//     let bFlag = \"\" \r\n//     if (TestArray !== undefined) {\r\n//         TestArray.map(test => {\r\n//             ntransactionsamplecode += test.ntransactionsamplecode + ',';\r\n//             npreregno += test.npreregno + ',';\r\n//             ntransactiontestcode += test.ntransactiontestcode + ',';\r\n//         })\r\n//         TestArray = {\r\n//             ntransactionsamplecode: ntransactionsamplecode,\r\n//             npreregno: npreregno,\r\n//             ntransactiontestcode: ntransactiontestcode,\r\n//             bFlag:\"3\"\r\n\r\n//         }\r\n//     }   \r\n//     if (SubSampleArray !== undefined) {\r\n//         SubSampleArray.map(SubSample => {\r\n//             ntransactionsamplecode += SubSample.ntransactionsamplecode + ',';\r\n//             npreregno += SubSample.npreregno + ',';\r\n//             ntransactiontestcode += SubSample.ntransactiontestcode + ',';\r\n//             SubSampleArray = {\r\n//                 ntransactionsamplecode: ntransactionsamplecode,\r\n//                 npreregno: npreregno,\r\n//                 ntransactiontestcode: ntransactiontestcode,\r\n//                 bFlag:\"2\"\r\n\r\n//             }\r\n//         })\r\n//     }\r\n//     if (SampleArray !== undefined) {\r\n\r\n//         SampleArray.map(Sample => {\r\n//             ntransactionsamplecode += Sample.ntransactionsamplecode + ',';\r\n//             npreregno += Sample.npreregno + ',';\r\n//             ntransactiontestcode += Sample.ntransactiontestcode + ',';\r\n\r\n//         })\r\n//         SampleArray = {\r\n//             ntransactionsamplecode: ntransactionsamplecode,\r\n//             npreregno: npreregno,\r\n//             ntransactiontestcode: ntransactiontestcode,\r\n//             bFlag:\"1\"\r\n\r\n//         }\r\n//     }\r\n//     let allNpreregno = []\r\n//     if (SampleArray1 !== undefined) {\r\n\r\n//         SampleArray1.map(temp => {\r\n//             allNpreregno += temp + ','\r\n//         })\r\n//     }\r\n//     let allNtransactionsamplecode = []\r\n//     if (SubSampleArray1 !== undefined) {\r\n\r\n//         SubSampleArray1.map(temp => {\r\n//             allNtransactionsamplecode += temp + ','\r\n//         })\r\n//     }\r\n//     let allNtransactiontestcode = []\r\n//     if (TestArray1 !== undefined) {\r\n\r\n//         TestArray1.map(temp => {\r\n//             allNtransactiontestcode += temp + ','\r\n//         })\r\n//     }\r\n\r\n//     return function (dispatch) {  \r\n//     dispatch(initRequest(true));\r\n//     return rsapi.post(\"coarelease/updateStatus\", \r\n//         {\r\n//             SampleArray:SampleArray,\r\n//             SubSampleArray:SubSampleArray,\r\n//             TestArray: TestArray,\r\n//             userinfo: userInfo,\r\n//             allNtransactionsamplecode: allNtransactionsamplecode,\r\n//             allNtransactiontestcode: allNtransactiontestcode,\r\n//             allNpreregno:allNpreregno\r\n//         })\r\n//     .then(response=>{ \r\n//        // let releaseSubSample = response.data[\"ReleaseSubSample\"];  \r\n//        let releaseSubSample = Data1.releaseSubSample || new Map();           \r\n//        let releaseTest = Data1.releaseTest || new Map();           \r\n//        releaseSubSample = Data1.releaseSubSample || new Map();           \r\n\r\n//              releaseTest = Data1.releaseTest || new Map();\r\n// if(response.data.body[\"cFlag\"]===\"3\"){\r\n//             releaseTest.set(parseInt(Object.keys(response.data.body[\"ReleaseTest\"])[0]), Object.values(response.data.body[\"ReleaseTest\"])[0]);\r\n//        }\r\n//       //  else {\r\n//         if(response.data.body[\"cFlag\"]===\"2\"){\r\n\r\n\r\n//             releaseSubSample.set(parseInt(Object.keys(response.data.body[\"ReleaseSubSample\"])[0]), Object.values(response.data.body[\"ReleaseSubSample\"])[0]);\r\n\r\n//         }\r\n//         let masterData = { ...Data1, releaseSubSample,releaseTest,...response.data.body};\r\n\r\n//             sortData(masterData);\r\n//             dispatch({type: DEFAULT_RETURN, payload:{masterData,\r\n//                 data:releaseSubSample,releaseTest,\r\n//                       //  dataState:dataState,\r\n//                         loading:false\r\n//                     }});\r\n//         })\r\n//         .catch(error=>{\r\n//             dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n//             if (error.response.status === 500){\r\n//                 toast.error(error.message);\r\n//             } \r\n//             else{               \r\n//                 toast.warn(error.response.data);\r\n//             }  \r\n//         })        \r\n//     }\r\n// }\r\nexport function getReleaseSelectedSampleSubSampleTest(userInfo, control, SampleArray1, SubSampleArray1, TestArray1, SampleArray, SubSampleArray, TestArray, Data1, k) {\r\n    let ntransactionsamplecode = \"\"\r\n    let ntransactiontestcode = \"\"\r\n    let npreregno = \"\"\r\n\r\n    let bFlag = \"\"\r\n    if (TestArray !== undefined) {\r\n        let sample = SampleArray1.filter((c, index) => {\r\n            return SampleArray1.indexOf(c) === index;\r\n        });\r\n        let subsample = SubSampleArray1.filter((c, index) => {\r\n            return SubSampleArray1.indexOf(c) === index;\r\n        });\r\n        let test = TestArray1.filter((c, index) => {\r\n            return TestArray1.indexOf(c) === index;\r\n        });\r\n        npreregno = sample.map(x => x).join(\",\")\r\n        ntransactionsamplecode = subsample.map(x => x).join(\",\")\r\n        ntransactiontestcode = test.map(x => x).join(\",\")\r\n\r\n        TestArray = {\r\n            ntransactionsamplecode: ntransactionsamplecode,\r\n            npreregno: npreregno,\r\n            ntransactiontestcode: ntransactiontestcode,\r\n            bFlag: \"3\"\r\n\r\n        }\r\n    }\r\n\r\n    return function (dispatch) {\r\n        if (TestArray !== undefined || TestArray.length&&TestArray.length!==0) {\r\n\r\n            dispatch(initRequest(true));\r\n            return rsapi.post(\"coarelease/updateStatus\",\r\n                {\r\n                    TestArray: TestArray,\r\n                    userinfo: userInfo,\r\n                })\r\n                .then(response => {\r\n                    if (response.data.statusCodeValue !== 200) {\r\n                        toast.warn(intl.formatMessage({\r\n                            id: response.data.body\r\n                        }));\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false\r\n                            }\r\n                        });\r\n        \r\n                        \r\n                    }\r\n                    else {\r\n                        // let releaseSubSample = response.data[\"ReleaseSubSample\"];  \r\n                        let releaseSubSample = Data1.releaseSubSample || new Map();\r\n                        let releaseTest = Data1.releaseTest || new Map();\r\n                        releaseSubSample = Data1.releaseSubSample || new Map();\r\n\r\n                        releaseTest = Data1.releaseTest || new Map();\r\n                        releaseTest.set(parseInt(Object.keys(response.data.body[\"ReleaseTest\"])[0]), Object.values(response.data.body[\"ReleaseTest\"])[0]);\r\n\r\n\r\n\r\n                        releaseSubSample.set(parseInt(Object.keys(response.data.body[\"ReleaseSubSample\"])[0]), Object.values(response.data.body[\"ReleaseSubSample\"])[0]);\r\n\r\n\r\n                        let masterData = { ...Data1, releaseSubSample, releaseTest, ...response.data.body };\r\n\r\n                        sortData(masterData);\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                masterData,\r\n                                data: releaseSubSample, releaseTest,\r\n                                //  dataState:dataState,\r\n                                loading: false\r\n                            }\r\n                        });\r\n                    }\r\n                    })\r\n        \r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n\r\n\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({\r\n                id: \"IDS_SELECTANYONESAMPLE/SUBSAMPLE/TEST\"\r\n            }));\r\n        }\r\n    }\r\n}\r\nexport function getReleaseRegistrationType(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"coarelease/getRegistrationType\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            SampleTypeValue: inputData.SampleTypeValue\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleaseRegistrationSubType(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"coarelease/getRegistrationSubType\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            RegTypeValue: inputData.RegTypeValue\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleaseFilterStatus(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"coarelease/getFilterStatus\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            RegSubTypeValue: inputData.RegSubTypeValue\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReleaseFilterBasedTest(inputData) {\r\n    return function (dispatch) {\r\n        if (inputData.napprovalversioncode) {\r\n            dispatch(initRequest(true));\r\n            rsapi.post(\"coarelease/getFilterBasedTest\", inputData)\r\n                .then(response => {\r\n\r\n\r\n                    let responseData = { ...response.data }\r\n                    responseData = sortData(responseData)\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            masterData: {\r\n                                ...inputData.masterData,\r\n                                ...responseData,\r\n                                RegSubTypeValue: inputData.RegSubTypeValue,\r\n                                ndesigntemplatemappingcode: inputData.ndesigntemplatemappingcode,\r\n                                DesignTemplateMappingValue: inputData.DesignTemplateMappingValue\r\n                            },\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    if (response.data.rtn) {\r\n                        toast.warn(response.data.rtn);\r\n                    }\r\n\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            //toast.warn(\"PleaseF Select All the Values in Filter\");\r\n            toast.warn(intl.formatMessage({\r\n                id: \"IDS_PLSSELECTALLVALUESINFILTER\"\r\n            }));\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport function getReleaseApprovalVersion(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"coarelease/getApprovalVersion\", inputParam.inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputParam.masterData,\r\n                            ...responseData,\r\n                            // fromDate: inputParam.inputData.dfrom,\r\n                            // toDate: inputParam.inputData.dto,\r\n                        },\r\n                        loading: false,\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getReleaseSample(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"coarelease/getReleaseSample\", inputParam.inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                // responseData = sortData(responseData)\r\n                let masterData = {\r\n                    ...inputParam.masterData,\r\n                    ...responseData,\r\n                }\r\n                if (inputParam.searchSampleRef !== undefined && inputParam.searchSampleRef.current !== null) {\r\n                    inputParam.searchSampleRef.current.value = \"\";\r\n                    masterData['searchedSample'] = undefined\r\n                }\r\n                if (inputParam.searchSubSampleRef !== undefined && inputParam.searchSubSampleRef.current !== null) {\r\n                    inputParam.searchSubSampleRef.current.value = \"\";\r\n                    masterData['searchedSubSample'] = undefined\r\n                }\r\n                if (inputParam.searchTestRef !== undefined && inputParam.searchTestRef.current !== null) {\r\n                    inputParam.searchTestRef.current.value = \"\"\r\n                    // masterData['searchedTest'] = undefined\r\n                    masterData['searchedTests'] = undefined\r\n\r\n                }\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        showFilter: false,\r\n                        skip: 0,\r\n                        take: inputParam.take,\r\n                        testskip: 0,\r\n                        testtake: inputParam.testtake,\r\n                        resultDataState: { ...inputParam.resultDataState, sort: undefined, filter: undefined },\r\n                        instrumentDataState: { ...inputParam.instrumentDataState, sort: undefined, filter: undefined },\r\n                        materialDataState: { ...inputParam.materialDataState, sort: undefined, filter: undefined },\r\n                        taskDataState: { ...inputParam.taskDataState, sort: undefined, filter: undefined },\r\n                        documentDataState: { ...inputParam.documentDataState, sort: undefined, filter: undefined },\r\n                        resultChangeDataState: { ...inputParam.resultChangeDataState, sort: undefined, filter: undefined },\r\n                        testCommentDataState: { ...inputParam.testCommentDataState, sort: undefined, filter: undefined },\r\n                        historyDataState: { ...inputParam.historyDataState, sort: undefined, filter: undefined },\r\n                        samplePrintHistoryDataState: { ...inputParam.samplePrintHistoryDataState, sort: undefined, filter: undefined },\r\n                        sampleHistoryDataState: { ...inputParam.sampleHistoryDataState, sort: undefined, filter: undefined }\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}