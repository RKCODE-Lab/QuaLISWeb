{"ast":null,"code":"var SqlString = exports;\nvar ID_GLOBAL_REGEXP = /`/g;\nvar QUAL_GLOBAL_REGEXP = /\\./g;\nvar CHARS_GLOBAL_REGEXP = /[\\0\\b\\t\\n\\r\\x1a\\\"\\'\\\\]/g; // eslint-disable-line no-control-regex\n\nvar CHARS_ESCAPE_MAP = {\n  '\\0': '\\\\0',\n  '\\b': '\\\\b',\n  '\\t': '\\\\t',\n  '\\n': '\\\\n',\n  '\\r': '\\\\r',\n  '\\x1a': '\\\\Z',\n  '\"': '\\\\\"',\n  '\\'': '\\\\\\'',\n  '\\\\': '\\\\\\\\'\n};\n\nSqlString.escapeId = function escapeId(val, forbidQualified) {\n  if (Array.isArray(val)) {\n    var sql = '';\n\n    for (var i = 0; i < val.length; i++) {\n      sql += (i === 0 ? '' : ', ') + SqlString.escapeId(val[i], forbidQualified);\n    }\n\n    return sql;\n  } else if (forbidQualified) {\n    return '`' + String(val).replace(ID_GLOBAL_REGEXP, '``') + '`';\n  } else {\n    return '`' + String(val).replace(ID_GLOBAL_REGEXP, '``').replace(QUAL_GLOBAL_REGEXP, '`.`') + '`';\n  }\n};\n\nSqlString.escape = function escape(val, stringifyObjects, timeZone) {\n  if (val === undefined || val === null) {\n    return 'NULL';\n  }\n\n  switch (typeof val) {\n    case 'boolean':\n      return val ? 'true' : 'false';\n\n    case 'number':\n      return val + '';\n\n    case 'object':\n      if (Object.prototype.toString.call(val) === '[object Date]') {\n        return SqlString.dateToString(val, timeZone || 'local');\n      } else if (Array.isArray(val)) {\n        return SqlString.arrayToList(val, timeZone);\n      } else if (Buffer.isBuffer(val)) {\n        return SqlString.bufferToString(val);\n      } else if (typeof val.toSqlString === 'function') {\n        return String(val.toSqlString());\n      } else if (stringifyObjects) {\n        return escapeString(val.toString());\n      } else {\n        return SqlString.objectToValues(val, timeZone);\n      }\n\n    default:\n      return escapeString(val);\n  }\n};\n\nSqlString.arrayToList = function arrayToList(array, timeZone) {\n  var sql = '';\n\n  for (var i = 0; i < array.length; i++) {\n    var val = array[i];\n\n    if (Array.isArray(val)) {\n      sql += (i === 0 ? '' : ', ') + '(' + SqlString.arrayToList(val, timeZone) + ')';\n    } else {\n      sql += (i === 0 ? '' : ', ') + SqlString.escape(val, true, timeZone);\n    }\n  }\n\n  return sql;\n};\n\nSqlString.format = function format(sql, values, stringifyObjects, timeZone) {\n  if (values == null) {\n    return sql;\n  }\n\n  if (!Array.isArray(values)) {\n    values = [values];\n  }\n\n  var chunkIndex = 0;\n  var placeholdersRegex = /\\?+/g;\n  var result = '';\n  var valuesIndex = 0;\n  var match;\n\n  while (valuesIndex < values.length && (match = placeholdersRegex.exec(sql))) {\n    var len = match[0].length;\n\n    if (len > 2) {\n      continue;\n    }\n\n    var value = len === 2 ? SqlString.escapeId(values[valuesIndex]) : SqlString.escape(values[valuesIndex], stringifyObjects, timeZone);\n    result += sql.slice(chunkIndex, match.index) + value;\n    chunkIndex = placeholdersRegex.lastIndex;\n    valuesIndex++;\n  }\n\n  if (chunkIndex === 0) {\n    // Nothing was replaced\n    return sql;\n  }\n\n  if (chunkIndex < sql.length) {\n    return result + sql.slice(chunkIndex);\n  }\n\n  return result;\n};\n\nSqlString.dateToString = function dateToString(date, timeZone) {\n  var dt = new Date(date);\n\n  if (isNaN(dt.getTime())) {\n    return 'NULL';\n  }\n\n  var year;\n  var month;\n  var day;\n  var hour;\n  var minute;\n  var second;\n  var millisecond;\n\n  if (timeZone === 'local') {\n    year = dt.getFullYear();\n    month = dt.getMonth() + 1;\n    day = dt.getDate();\n    hour = dt.getHours();\n    minute = dt.getMinutes();\n    second = dt.getSeconds();\n    millisecond = dt.getMilliseconds();\n  } else {\n    var tz = convertTimezone(timeZone);\n\n    if (tz !== false && tz !== 0) {\n      dt.setTime(dt.getTime() + tz * 60000);\n    }\n\n    year = dt.getUTCFullYear();\n    month = dt.getUTCMonth() + 1;\n    day = dt.getUTCDate();\n    hour = dt.getUTCHours();\n    minute = dt.getUTCMinutes();\n    second = dt.getUTCSeconds();\n    millisecond = dt.getUTCMilliseconds();\n  } // YYYY-MM-DD HH:mm:ss.mmm\n\n\n  var str = zeroPad(year, 4) + '-' + zeroPad(month, 2) + '-' + zeroPad(day, 2) + ' ' + zeroPad(hour, 2) + ':' + zeroPad(minute, 2) + ':' + zeroPad(second, 2) + '.' + zeroPad(millisecond, 3);\n  return escapeString(str);\n};\n\nSqlString.bufferToString = function bufferToString(buffer) {\n  return 'X' + escapeString(buffer.toString('hex'));\n};\n\nSqlString.objectToValues = function objectToValues(object, timeZone) {\n  var sql = '';\n\n  for (var key in object) {\n    var val = object[key];\n\n    if (typeof val === 'function') {\n      continue;\n    }\n\n    sql += (sql.length === 0 ? '' : ', ') + SqlString.escapeId(key) + ' = ' + SqlString.escape(val, true, timeZone);\n  }\n\n  return sql;\n};\n\nSqlString.raw = function raw(sql) {\n  if (typeof sql !== 'string') {\n    throw new TypeError('argument sql must be a string');\n  }\n\n  return {\n    toSqlString: function toSqlString() {\n      return sql;\n    }\n  };\n};\n\nfunction escapeString(val) {\n  var chunkIndex = CHARS_GLOBAL_REGEXP.lastIndex = 0;\n  var escapedVal = '';\n  var match;\n\n  while (match = CHARS_GLOBAL_REGEXP.exec(val)) {\n    escapedVal += val.slice(chunkIndex, match.index) + CHARS_ESCAPE_MAP[match[0]];\n    chunkIndex = CHARS_GLOBAL_REGEXP.lastIndex;\n  }\n\n  if (chunkIndex === 0) {\n    // Nothing was escaped\n    return \"'\" + val + \"'\";\n  }\n\n  if (chunkIndex < val.length) {\n    return \"'\" + escapedVal + val.slice(chunkIndex) + \"'\";\n  }\n\n  return \"'\" + escapedVal + \"'\";\n}\n\nfunction zeroPad(number, length) {\n  number = number.toString();\n\n  while (number.length < length) {\n    number = '0' + number;\n  }\n\n  return number;\n}\n\nfunction convertTimezone(tz) {\n  if (tz === 'Z') {\n    return 0;\n  }\n\n  var m = tz.match(/([\\+\\-\\s])(\\d\\d):?(\\d\\d)?/);\n\n  if (m) {\n    return (m[1] === '-' ? -1 : 1) * (parseInt(m[2], 10) + (m[3] ? parseInt(m[3], 10) : 0) / 60) * 60;\n  }\n\n  return false;\n}","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/SOURCE-512/QuaLISWeb/node_modules/sqlstring/lib/SqlString.js"],"names":["SqlString","exports","ID_GLOBAL_REGEXP","QUAL_GLOBAL_REGEXP","CHARS_GLOBAL_REGEXP","CHARS_ESCAPE_MAP","escapeId","val","forbidQualified","Array","isArray","sql","i","length","String","replace","escape","stringifyObjects","timeZone","undefined","Object","prototype","toString","call","dateToString","arrayToList","Buffer","isBuffer","bufferToString","toSqlString","escapeString","objectToValues","array","format","values","chunkIndex","placeholdersRegex","result","valuesIndex","match","exec","len","value","slice","index","lastIndex","date","dt","Date","isNaN","getTime","year","month","day","hour","minute","second","millisecond","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","tz","convertTimezone","setTime","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","str","zeroPad","buffer","object","key","raw","TypeError","escapedVal","number","m","parseInt"],"mappings":"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","sourcesContent":["var SqlString  = exports;\n\nvar ID_GLOBAL_REGEXP    = /`/g;\nvar QUAL_GLOBAL_REGEXP  = /\\./g;\nvar CHARS_GLOBAL_REGEXP = /[\\0\\b\\t\\n\\r\\x1a\\\"\\'\\\\]/g; // eslint-disable-line no-control-regex\nvar CHARS_ESCAPE_MAP    = {\n  '\\0'   : '\\\\0',\n  '\\b'   : '\\\\b',\n  '\\t'   : '\\\\t',\n  '\\n'   : '\\\\n',\n  '\\r'   : '\\\\r',\n  '\\x1a' : '\\\\Z',\n  '\"'    : '\\\\\"',\n  '\\''   : '\\\\\\'',\n  '\\\\'   : '\\\\\\\\'\n};\n\nSqlString.escapeId = function escapeId(val, forbidQualified) {\n  if (Array.isArray(val)) {\n    var sql = '';\n\n    for (var i = 0; i < val.length; i++) {\n      sql += (i === 0 ? '' : ', ') + SqlString.escapeId(val[i], forbidQualified);\n    }\n\n    return sql;\n  } else if (forbidQualified) {\n    return '`' + String(val).replace(ID_GLOBAL_REGEXP, '``') + '`';\n  } else {\n    return '`' + String(val).replace(ID_GLOBAL_REGEXP, '``').replace(QUAL_GLOBAL_REGEXP, '`.`') + '`';\n  }\n};\n\nSqlString.escape = function escape(val, stringifyObjects, timeZone) {\n  if (val === undefined || val === null) {\n    return 'NULL';\n  }\n\n  switch (typeof val) {\n    case 'boolean': return (val) ? 'true' : 'false';\n    case 'number': return val + '';\n    case 'object':\n      if (Object.prototype.toString.call(val) === '[object Date]') {\n        return SqlString.dateToString(val, timeZone || 'local');\n      } else if (Array.isArray(val)) {\n        return SqlString.arrayToList(val, timeZone);\n      } else if (Buffer.isBuffer(val)) {\n        return SqlString.bufferToString(val);\n      } else if (typeof val.toSqlString === 'function') {\n        return String(val.toSqlString());\n      } else if (stringifyObjects) {\n        return escapeString(val.toString());\n      } else {\n        return SqlString.objectToValues(val, timeZone);\n      }\n    default: return escapeString(val);\n  }\n};\n\nSqlString.arrayToList = function arrayToList(array, timeZone) {\n  var sql = '';\n\n  for (var i = 0; i < array.length; i++) {\n    var val = array[i];\n\n    if (Array.isArray(val)) {\n      sql += (i === 0 ? '' : ', ') + '(' + SqlString.arrayToList(val, timeZone) + ')';\n    } else {\n      sql += (i === 0 ? '' : ', ') + SqlString.escape(val, true, timeZone);\n    }\n  }\n\n  return sql;\n};\n\nSqlString.format = function format(sql, values, stringifyObjects, timeZone) {\n  if (values == null) {\n    return sql;\n  }\n\n  if (!Array.isArray(values)) {\n    values = [values];\n  }\n\n  var chunkIndex        = 0;\n  var placeholdersRegex = /\\?+/g;\n  var result            = '';\n  var valuesIndex       = 0;\n  var match;\n\n  while (valuesIndex < values.length && (match = placeholdersRegex.exec(sql))) {\n    var len = match[0].length;\n\n    if (len > 2) {\n      continue;\n    }\n\n    var value = len === 2\n      ? SqlString.escapeId(values[valuesIndex])\n      : SqlString.escape(values[valuesIndex], stringifyObjects, timeZone);\n\n    result += sql.slice(chunkIndex, match.index) + value;\n    chunkIndex = placeholdersRegex.lastIndex;\n    valuesIndex++;\n  }\n\n  if (chunkIndex === 0) {\n    // Nothing was replaced\n    return sql;\n  }\n\n  if (chunkIndex < sql.length) {\n    return result + sql.slice(chunkIndex);\n  }\n\n  return result;\n};\n\nSqlString.dateToString = function dateToString(date, timeZone) {\n  var dt = new Date(date);\n\n  if (isNaN(dt.getTime())) {\n    return 'NULL';\n  }\n\n  var year;\n  var month;\n  var day;\n  var hour;\n  var minute;\n  var second;\n  var millisecond;\n\n  if (timeZone === 'local') {\n    year        = dt.getFullYear();\n    month       = dt.getMonth() + 1;\n    day         = dt.getDate();\n    hour        = dt.getHours();\n    minute      = dt.getMinutes();\n    second      = dt.getSeconds();\n    millisecond = dt.getMilliseconds();\n  } else {\n    var tz = convertTimezone(timeZone);\n\n    if (tz !== false && tz !== 0) {\n      dt.setTime(dt.getTime() + (tz * 60000));\n    }\n\n    year       = dt.getUTCFullYear();\n    month       = dt.getUTCMonth() + 1;\n    day         = dt.getUTCDate();\n    hour        = dt.getUTCHours();\n    minute      = dt.getUTCMinutes();\n    second      = dt.getUTCSeconds();\n    millisecond = dt.getUTCMilliseconds();\n  }\n\n  // YYYY-MM-DD HH:mm:ss.mmm\n  var str = zeroPad(year, 4) + '-' + zeroPad(month, 2) + '-' + zeroPad(day, 2) + ' ' +\n    zeroPad(hour, 2) + ':' + zeroPad(minute, 2) + ':' + zeroPad(second, 2) + '.' +\n    zeroPad(millisecond, 3);\n\n  return escapeString(str);\n};\n\nSqlString.bufferToString = function bufferToString(buffer) {\n  return 'X' + escapeString(buffer.toString('hex'));\n};\n\nSqlString.objectToValues = function objectToValues(object, timeZone) {\n  var sql = '';\n\n  for (var key in object) {\n    var val = object[key];\n\n    if (typeof val === 'function') {\n      continue;\n    }\n\n    sql += (sql.length === 0 ? '' : ', ') + SqlString.escapeId(key) + ' = ' + SqlString.escape(val, true, timeZone);\n  }\n\n  return sql;\n};\n\nSqlString.raw = function raw(sql) {\n  if (typeof sql !== 'string') {\n    throw new TypeError('argument sql must be a string');\n  }\n\n  return {\n    toSqlString: function toSqlString() { return sql; }\n  };\n};\n\nfunction escapeString(val) {\n  var chunkIndex = CHARS_GLOBAL_REGEXP.lastIndex = 0;\n  var escapedVal = '';\n  var match;\n\n  while ((match = CHARS_GLOBAL_REGEXP.exec(val))) {\n    escapedVal += val.slice(chunkIndex, match.index) + CHARS_ESCAPE_MAP[match[0]];\n    chunkIndex = CHARS_GLOBAL_REGEXP.lastIndex;\n  }\n\n  if (chunkIndex === 0) {\n    // Nothing was escaped\n    return \"'\" + val + \"'\";\n  }\n\n  if (chunkIndex < val.length) {\n    return \"'\" + escapedVal + val.slice(chunkIndex) + \"'\";\n  }\n\n  return \"'\" + escapedVal + \"'\";\n}\n\nfunction zeroPad(number, length) {\n  number = number.toString();\n  while (number.length < length) {\n    number = '0' + number;\n  }\n\n  return number;\n}\n\nfunction convertTimezone(tz) {\n  if (tz === 'Z') {\n    return 0;\n  }\n\n  var m = tz.match(/([\\+\\-\\s])(\\d\\d):?(\\d\\d)?/);\n  if (m) {\n    return (m[1] === '-' ? -1 : 1) * (parseInt(m[2], 10) + ((m[3] ? parseInt(m[3], 10) : 0) / 60)) * 60;\n  }\n  return false;\n}\n"]},"metadata":{},"sourceType":"script"}