{"ast":null,"code":"import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{Route,Switch}from\"react-router-dom\";import IdleTimer from'react-idle-timer';import IdleTimeOutModal from'../confirm-alert/IdleTimeOutModal';import Sidebar from'../sidebar/sidebar.component';import SidebarTablet from'../sidebar/sidebar.tablet';import Header from'../header/header.component';import routes from'../../routes';import{navPage,updateStore,callService,getDashBoardForHome,getListAlert,submitChangeRole,changeOwner}from'../../actions';import rsapi from'../../rsapi';import{toast}from'react-toastify';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import{IDLE_LOGOUT,DEFAULT_RETURN}from'../../actions/LoginTypes';import{injectIntl}from'react-intl';// import { updateStore } from '../../actions/LoginAction';\nimport ScrollToTop from'../../actions/ScrollToTop';import SearchBar from'../searchbarcomponent/SearchBar';import{formatInputDate}from'../CommonScript';import iconScreenSize from'../../assets/image/product-image@3x.png';import{PostgreSQLMaintenance}from'../Enumeration';import{intl}from'../App';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var Layout=/*#__PURE__*/function(_React$Component){_inherits(Layout,_React$Component);var _super=_createSuper(Layout);function Layout(props){var _this;_classCallCheck(this,Layout);_this=_super.call(this,props);_this._onAction=function(e){};_this._onActive=function(e){};_this._onIdle=function(e){if(_this.state.showIdleModal!==true){var uRL=\"\";var inputData=[];uRL='login/insertAuditAction';inputData={userinfo:_this.props.Login.userInfo,// scomments: `UserName:${this.props.Login.userInfo.susername}, \n// LoginID:${this.props.Login.userInfo.sloginid}`,\nscomments:\"User Name:\".concat(_this.props.Login.userInfo.susername,\"; User Role:\").concat(_this.props.Login.userInfo.suserrolename,\"; Login ID:\").concat(_this.props.Login.userInfo.sloginid),sauditaction:\"IDS_IDLETIMELOCK\"};rsapi.post(uRL,inputData).then(function(response){_this.setState({showIdleModal:true,sessionExpired:Date.now()+600000});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}};_this.handleLogin=function(event){if(event){if(_this.password.current!==null&&_this.password.current.elements[0].value===\"\"){toast.info(_this.props.intl.formatMessage({id:\"IDS_ENTERPASSWORD\"}));return;}else{var uRL=\"\";var inputData=[];uRL='login/idleTimeAuditAction';inputData={userinfo:_this.props.Login.userInfo,//password: this.state.password,\npassword:_this.password.current.elements[0].value,flag:true,nFlag:1};rsapi.post(uRL,inputData).then(function(response){if(response.data['PassFlag']===_this.props.intl.formatMessage({id:\"IDS_SUCCESS\"})){_this.password.current.elements[0].value=\"\";_this.setState({showIdleModal:false,openModal:false});}else{toast.info(response.data['PassFlag']);}}).catch(function(error){if(error.response.status===500){toast.warn(error.message);}else{toast.warn(error.response.data);}});}}};_this.enterKeyLogin=function(event){if(event.keyCode===13){_this.handleLogin(event);event.preventDefault();}};_this.handleLogout=function(event){if(event){var uRL=\"\";var inputData=[];uRL='login/idleTimeAuditAction';inputData={userinfo:_this.props.Login.userInfo,//password: this.state.password,\n//password: this.password.current.elements[0].value,\nflag:false,nFlag:2};rsapi.post(uRL,inputData).then(function(response){var updateInfo={typeName:IDLE_LOGOUT,data:{masterData:[],inputParam:undefined,idleneed:false}};_this.props.updateStore(updateInfo);//this.password.current.elements[0].value = \"\"\n//this.setState({ showIdleModal: false })\n_this.props.navPage(\"login\");}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}};_this.renderer=function(event){// event.preventDefault();\nvar minutes=event.minutes,seconds=event.seconds,completed=event.completed;if(completed){// Render a completed state\nvar uRL=\"\";var inputData=[];uRL='login/insertAuditAction';inputData={userinfo:_this.props.Login.userInfo,// scomments: `UserName:${this.props.Login.userInfo.susername}, \n// LoginID:${this.props.Login.userInfo.sloginid}`,\nscomments:\"User Name:\".concat(_this.props.Login.userInfo.susername,\"; User Role:\").concat(_this.props.Login.userInfo.suserrolename,\"; Login ID:\").concat(_this.props.Login.userInfo.sloginid),sauditaction:\"IDS_SESSIONEXPIRED\",nFlag:2};rsapi.post(uRL,inputData).then(function(response){var updateInfo={typeName:IDLE_LOGOUT,data:{masterData:[],inputParam:undefined,idleneed:false}};//this.props.navPage(\"login\");\n_this.props.updateStore(updateInfo);}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{// Render a countdown\nconsole.log(\"minutes\"+minutes+\"seconds\"+seconds);return/*#__PURE__*/React.createElement(\"span\",{style:{'margin-left':'0.3rem',color:'red'}},minutes,\" minutes \",seconds,\" seconds..!\");}return null;};_this.onInputChangeSearch=function(event){var defaultSearch=[];_this.props.Login.menuDesign.map(function(menuItem,index){menuItem.lstmodule&&menuItem.lstmodule.map(function(moduleItem,moduleIndex){moduleItem.lstforms&&moduleItem.lstforms.map(function(formItem,formIndex){//   console.log(formItem.sdisplayname.toLowerCase(),event.target.value,formItem.sdisplayname.toLowerCase().includes(event.target.value))\nif(formItem.sdisplayname.toLowerCase().includes(event.target.value.toLowerCase())){defaultSearch.push(_objectSpread(_objectSpread({},formItem),{},{smodulename:moduleItem.sdisplayname}));}});});});_this.setState({defaultSearch:defaultSearch,searchText:event.target.value.toLowerCase(),showSearch:true,menuClick:false});};_this.onInputChangeSearch1=function(event){_this.setState({showSearch:false,defaultSearch:[],menuClick:false,nmenucode:undefined,searchText:''});_this.myDiv.focus();};_this.onClickBackToMenu=function(e){e.preventDefault();e.stopPropagation();_this.setState({defaultSearch:[],menuClick:false,nmenucode:undefined});};_this.onClickSearchMenu=function(menu,inputRef){var defaultSearch=[];_this.props.Login.menuDesign.map(function(menuItem,index){if(menu.nmenucode===menuItem.nmenucode){menuItem.lstmodule&&menuItem.lstmodule.map(function(moduleItem,moduleIndex){moduleItem.lstforms&&moduleItem.lstforms.map(function(formItem,formIndex){//   console.log(formItem.sdisplayname.toLowerCase(),event.target.value,formItem.sdisplayname.toLowerCase().includes(event.target.value))\n//  if (formItem.sdisplayname.toLowerCase().includes(event.target.value.toLowerCase())) {\ndefaultSearch.push(_objectSpread(_objectSpread({},formItem),{},{smodulename:moduleItem.sdisplayname}));//   }\n});});}});_this.setState({defaultSearch:defaultSearch,menuClick:true,nmenucode:menu.nmenucode});};_this.getDetail=function(classUrl,methodUrl,formCode,displayName,moduleCode,formname,nmenucode,smodulename){if(_this.props.Login.userInfo.nformcode!==formCode){var userInfo=_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{\"nformcode\":formCode,\"nmodulecode\":moduleCode,\"sformname\":formname.sdisplayname,smodulename:smodulename});var inputParam={inputData:{\"userinfo\":userInfo,settings:_this.props.Login.settings,currentdate:formatInputDate(new Date(),true)},classUrl:classUrl,methodUrl:methodUrl,displayName:displayName,key:\"MenuId_\"+nmenucode};_this.props.callService(inputParam);}};_this.onClickButton=function(forms){var history=_this.props.history;history.push('/'+forms.sclassname);if(_this.inputRef.current)_this.inputRef.current.value=\"\";_this.setState({defaultSearch:[],searchText:\"\",menuClick:false,showSearch:false,fullView:false,showAlertDashBoard:true});_this.getDetail(forms.sclassname.toLowerCase(),forms.surl,forms.nformcode,forms.sdisplayname,forms.nmodulecode,forms,forms.nmenucode,forms.smodulename);};_this.menuHide=function(){_this.setState({fullView:false,showAlertDashBoard:true});};_this.layOutGetHome=function(updateInfo,form){var history=_this.props.history;history.push('/'+updateInfo.data.shomename);if(_this.inputRef.current)_this.inputRef.current.value=\"\";_this.setState({defaultSearch:[],searchText:\"\",menuClick:false,fullView:true,showAlertDashBoard:false});if(updateInfo.data.shomename==='dashboard'){_this.props.updateStore(updateInfo);_this.props.getDashBoardForHome(updateInfo);_this.props.getListAlert(updateInfo.data.userInfo,true);}else if(updateInfo.data.shomename==='apiservice'){var inputParam=_objectSpread(_objectSpread({inputData:{settings:_this.props.Login.settings,currentdate:formatInputDate(new Date(),true),\"userinfo\":updateInfo.data.userInfo},serviceNeed:true},updateInfo.data),{},{\"userinfo\":updateInfo.data.userInfo});_this.props.callService(inputParam);_this.props.getListAlert(updateInfo.data.userInfo,true);}else{_this.props.updateStore(updateInfo);_this.props.getListAlert(updateInfo.data.userInfo,true);}// ALPD-4794- Changed by Neeraj\n_this.myDiv.addEventListener('onKeyPress',_this.handleKey);_this.myDiv.focus();};_this.layOutGetHomeCancel=function(){var history=_this.props.history;var _this$state=_this.state,menuClick=_this$state.menuClick,defaultSearch=_this$state.defaultSearch,searchText=_this$state.searchText;if(_this.inputRef.current&&_this.inputRef.current.value!==\"\"){if(_this.props.history.location.pathname==='/home'){history.push('/home');}_this.inputRef.current.value=\"\";menuClick=false;defaultSearch=[];searchText=\"\";}else{if(menuClick){menuClick=true;}if(_this.inputRef.current){_this.inputRef.current.value=\"\";}}_this.setState({defaultSearch:defaultSearch,searchText:searchText,showSearch:false,menuClick:menuClick});//this.props.updateStore(updateInfo);\n//  this.props.layOutGetHome(updateInfo)\n};_this.menuFullview=function(){var fullView=_this.state.fullView;_this.setState({fullView:!_this.state.fullView});};_this.toggleSearch=function(){_this.setState({showSearch:!_this.state.showSearch});};_this.onChangeRol=function(roleItem){_this.setState({menuClick:false,showAlertDashBoard:false,showSearch:false,searchText:\"\"});var parameterInfo={typeName:DEFAULT_RETURN,data:{menuDesign:[],navigation:\"\"}};_this.props.updateStore(parameterInfo);var userInfo=_this.props.Login.userInfo;var inputParam={nusermultisitecode:userInfo.nusersitecode,slanguagetypecode:userInfo.slanguagetypecode,nusermultirolecode:roleItem.nusermultirolecode,nuserrolecode:roleItem.nuserrolecode,nmastersitecode:userInfo.nmastersitecode,nlogintypecode:userInfo.nlogintypecode,userinfo:userInfo};_this.props.submitChangeRole(inputParam);};_this.onChangeOwer=function(item,role){_this.setState({menuClick:false,showAlertDashBoard:false,showSearch:false,searchText:\"\"});var parameterInfo={typeName:DEFAULT_RETURN,data:{menuDesign:[],navigation:\"\"}};_this.props.updateStore(parameterInfo);var inputData={nuserrolecode:item.nuserrolecode,suserrolename:item.suserrolename,nusercode:item.nusercode,sdeputyid:item.sdeputyid,userinfo:_this.props.Login.userInfo};_this.props.changeOwner(inputData);};_this.handleResize=function(){_this.setState({isDesktop:window.innerWidth>=1280,isPortrait:window.innerWidth>=1024});};_this.handleKey=function(e){if(_this.props.history.location.pathname===\"/home\"){var defaultSearch=[];_this.props.Login.menuDesign.map(function(menuItem,index){menuItem.lstmodule&&menuItem.lstmodule.map(function(moduleItem,moduleIndex){moduleItem.lstforms&&moduleItem.lstforms.map(function(formItem,formIndex){if(formItem.sdisplayname.toLowerCase().includes(e.key.toLowerCase())){defaultSearch.push(_objectSpread(_objectSpread({},formItem),{},{smodulename:moduleItem.sdisplayname}));}});});});// ALPD-5296    Modified code for Enter value display when click enter button in the home page search box by Vishakh\n_this.setState({defaultSearch:defaultSearch,searchText:e.charCode===13?'':e.key.toLowerCase(),menuClick:false,showSearch:!_this.state.showSearch});}};_this.parentFunction=_this.parentFunction.bind(_assertThisInitialized(_this));_this.pinMenu=_this.pinMenu.bind(_assertThisInitialized(_this));_this.darkMode=_this.darkMode.bind(_assertThisInitialized(_this));_this.carRef=React.createRef();_this.carRef1=React.createRef();_this.state={//timeout: this.props.Login.idleTimeout,\n//added by Syed on 27-SEP-2024\ntimeout:_this.props.Login.idleTimeout*(_this.props.Login.settings&&parseInt(_this.props.Login.settings[1])),showIdleModal:false,userLoggedIn:false,isTimedOut:false,password:\"\",sessionExpired:_this.props.Login.sessionExpired,defaultSearch:[],searchText:'',menuClick:false,showSearch:false,fullView:true,lenghtDvv:null,sidebarview:false,isPinned:false,isDark:false,isDesktop:window.innerWidth>=1280,isPortrait:window.innerWidth>=1024,windowSize:window.innerWidth,handleResize:_this.handleResize.bind(_assertThisInitialized(_this))};_this.inputRef=React.createRef();_this.idleTimer=null;_this.password=React.createRef();_this.searchValue=null;return _this;}_createClass(Layout,[{key:\"parentFunction\",value:function parentFunction(){this.setState({sidebarview:!this.state.sidebarview});}},{key:\"pinMenu\",value:function pinMenu(){this.setState({isPinned:!this.state.isPinned});}},{key:\"darkMode\",value:function darkMode(){this.setState({isDark:!this.state.isDark});if(!this.state.isDark){document.body.classList.add('dark');}else{document.body.classList.remove('dark');}}},{key:\"maintenanceBreakPopUp\",value:// Gowtham R -- ALPD-5190 -- 14/12/2024 -- for Vacuum Start\nfunction maintenanceBreakPopUp(breakTime){this.confirmMessage.confirm(\"MaintainceBreakMessage\",intl.formatMessage({id:\"IDS_MAINTAINCEBREAK\"}),intl.formatMessage({id:\"IDS_MAINTAINCEBREAKMESSAGE\"}),undefined,undefined,undefined,false,undefined,breakTime);}// Gowtham R -- ALPD-5190 -- 14/12/2024 -- for Vacuum Start\n},{key:\"maintenanceBreakTrigger\",value:function maintenanceBreakTrigger(){var _this2=this;var MaintenanceBreak=0;if(PostgreSQLMaintenance.STARTHOUR>PostgreSQLMaintenance.ENDHOUR){var minutesLeftToday=60-PostgreSQLMaintenance.STARTMINUTE+(23-PostgreSQLMaintenance.STARTHOUR)*60;var minutesNextDay=PostgreSQLMaintenance.ENDHOUR*60+PostgreSQLMaintenance.ENDMINUTE;MaintenanceBreak=minutesLeftToday+minutesNextDay;}else if(PostgreSQLMaintenance.STARTHOUR<PostgreSQLMaintenance.ENDHOUR){MaintenanceBreak=(PostgreSQLMaintenance.ENDHOUR-PostgreSQLMaintenance.STARTHOUR)*60-PostgreSQLMaintenance.STARTMINUTE+PostgreSQLMaintenance.ENDMINUTE;}else{MaintenanceBreak=PostgreSQLMaintenance.ENDMINUTE-PostgreSQLMaintenance.STARTMINUTE;}rsapi.post(\"/login/getJavaTime\",{}).then(function(response){_this2.date.setHours(response.data.Hours);_this2.date.setMinutes(response.data.Minutes);_this2.date.setSeconds(response.data.Seconds);var isMaintenanceTime=function isMaintenanceTime(){if((_this2.date.getHours()>PostgreSQLMaintenance.STARTHOUR||_this2.date.getHours()===PostgreSQLMaintenance.STARTHOUR&&_this2.date.getMinutes()>=PostgreSQLMaintenance.STARTMINUTE)&&(_this2.date.getHours()<PostgreSQLMaintenance.ENDHOUR||_this2.date.getHours()===PostgreSQLMaintenance.ENDHOUR&&_this2.date.getMinutes()<PostgreSQLMaintenance.ENDMINUTE)){MaintenanceBreak=PostgreSQLMaintenance.ENDMINUTE-_this2.date.getMinutes();return true;}else{return false;}};var incrementTimeByMinute=function incrementTimeByMinute(){_this2.date.setMinutes(_this2.date.getMinutes()+1);if(_this2.date.getMinutes()===60){_this2.date.setMinutes(0);_this2.date.setHours(_this2.date.getHours()+1);}if(_this2.date.getHours()===24){_this2.date.setHours(0);}};var maintenanceCheck=function maintenanceCheck(){if(isMaintenanceTime()){_this2.maintenanceBreakPopUp(60000*MaintenanceBreak);}};maintenanceCheck();setTimeout(function(){incrementTimeByMinute();maintenanceCheck();setInterval(function(){incrementTimeByMinute();maintenanceCheck();},60000);},(60-(_this2.date.getSeconds()+1))*1000);}).catch(function(e){console.error(\"Error fetching login info\",e);});}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.isPortrait){this.myDiv.addEventListener('onKeyPress',this.handleKey);this.myDiv.focus();}window.addEventListener(\"resize\",this.handleResize);// Gowtham R -- ALPD-5190 -- 14/12/2024 -- for Vacuum Start\nthis.maintenanceBreakTrigger();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.state.isPortrait){this.myDiv.removeEventListener('onKeyPress',this.handleKey);this.setState({isDark:false});document.body.classList.remove('dark');}window.removeEventListener(\"resize\",this.handleResize);}},{key:\"render\",value:function render(){var _this3=this;this.confirmMessage=new ConfirmMessage();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{id:\"app-wrapper\"},/*#__PURE__*/React.createElement(IdleTimer,{ref:function ref(_ref){_this3.idleTimer=_ref;},element:document,onActive:this._onActive,onAction:this._onAction,onIdle:this._onIdle,debounce:250,timeout:this.state.timeout}),this.props.Login.idleneed?/*#__PURE__*/React.createElement(IdleTimeOutModal,{showIdleModal:this.state.showIdleModal,handleLogin:this.handleLogin,handleLogout:this.handleLogout,UserInfo:this.props.Login.userInfo,passwordref:this.password//selectInputOnChange={this.selectInputOnChange}\n//commented by Syed on 27-SEP-2024\n//idealTime={this.props.Login.idleTimeout}\n//Added by Syed on 27-SEP-2024 - IDLE TIME OUT FROM SETTINGS TABLE\n,idealTime:this.props.Login.idleTimeout*(this.props.Login.settings&&parseInt(this.props.Login.settings[1])),Login:this.props.Login,sessionExpired:this.state.sessionExpired,enterKeyLogin:this.enterKeyLogin,renderer:this.renderer}):\"\",this.state.isDesktop?/*#__PURE__*/React.createElement(Sidebar,{history:this.props,layOutGetHome:this.layOutGetHome,inputRef:this.inputRef,fullView:this.state.fullView,menuHide:this.menuHide,menuFullview:this.menuFullview,pinMenu:this.pinMenu,data:this.state.lenghtDvv,sidebarview:this.state.sidebarview,isPinned:this.state.isPinned}):/*#__PURE__*/React.createElement(SidebarTablet,{history:this.props,layOutGetHome:this.layOutGetHome,inputRef:this.inputRef,fullView:this.state.fullView,menuHide:this.menuHide,menuFullview:this.menuFullview,pinMenu:this.pinMenu,data:this.state.lenghtDvv,sidebarview:this.state.sidebarview,isPinned:this.state.isPinned}),/*#__PURE__*/React.createElement(\"div\",{id:\"content-wrapper\",className:\"d-flex flex-column\",ref:function ref(_ref2){return _this3.myDiv=_ref2;},tabIndex:\"0\"//// ALPD-4794- Changed by Neeraj\n,onKeyPress:this.props.Login.screenName===\"IDS_CHANGEPASSWORD\"?\"\":this.handleKey},/*#__PURE__*/React.createElement(\"div\",{id:\"content\"},/*#__PURE__*/React.createElement(Header,{history:this.props,layOutGetHomeCancel:this.layOutGetHomeCancel,fullView:this.state.fullView,darkMode:this.darkMode,isDark:this.state.isDark,isDesktop:this.state.isDesktop,visible:this.state.visible,menuFullview:this.menuFullview,toggleSearch:this.toggleSearch,showSearch:this.state.showSearch,searchBar:/*#__PURE__*/React.createElement(SearchBar,{options:this.state.defaultSearch,optionDisplayMember:'sdisplayname',onClickButton:this.onClickButton,onInputChange:this.onInputChangeSearch,onInputChange1:this.onInputChangeSearch1,pathname:this.props.history.location.pathname,inputRef:this.inputRef,intl:this.props.intl,searchText:this.state.searchText}),onChangeRol:this.onChangeRol,onChangeOwer:this.onChangeOwer,showAlertDashBoard:this.state.showAlertDashBoard}),/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid px-0  \".concat(!this.state.fullView?'sidebar-fullview':'')},/*#__PURE__*/React.createElement(ScrollToTop,null,/*#__PURE__*/React.createElement(Switch,null,routes.map(function(route,index){return route.component?/*#__PURE__*/React.createElement(Route,{key:index,path:route.path,exact:route.exact,name:route.name,render:function render(props){return/*#__PURE__*/React.createElement(route.component,Object.assign({onClickSearchMenu:_this3.onClickSearchMenu,onClickSearchForm:_this3.onClickButton,menuClick:_this3.state.menuClick,onClickBackToMenu:_this3.onClickBackToMenu,searchText:_this3.state.searchText,defaultSearch:_this3.state.defaultSearch},props,{parentFunction:_this3.parentFunction,carRef:_this3.carRef,carRef1:_this3.carRef1,data:_this3.state.lenghtDvv,sidebarview:_this3.state.sidebarview,isPinned:_this3.state.isPinned}));}}):null;}))))))),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{class:\"align-items-center login-info-portrait\"},/*#__PURE__*/React.createElement(\"img\",{src:iconScreenSize,className:\"img-fluid border\"}),/*#__PURE__*/React.createElement(\"h5\",{className:\"m-4 p-4 text-center\"},\"\\\"This message typically indicates that the application or website you're trying to access requires a screen resolution of 1024 pixels or wider to display properly. If you're using a tablet, please turn it to landscape mode. This requirement ensures a good user experience and proper layout.\\\"\"))));}}]);return Layout;}(React.Component);export default connect(mapStateToProps,{navPage:navPage,updateStore:updateStore,callService:callService,getDashBoardForHome:getDashBoardForHome,getListAlert:getListAlert,submitChangeRole:submitChangeRole,changeOwner:changeOwner})(injectIntl(Layout));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/components/layout/layout.component.jsx"],"names":["React","connect","Route","Switch","IdleTimer","IdleTimeOutModal","Sidebar","SidebarTablet","Header","routes","navPage","updateStore","callService","getDashBoardForHome","getListAlert","submitChangeRole","changeOwner","rsapi","toast","ConfirmMessage","IDLE_LOGOUT","DEFAULT_RETURN","injectIntl","ScrollToTop","SearchBar","formatInputDate","iconScreenSize","PostgreSQLMaintenance","intl","mapStateToProps","state","Login","Layout","props","_onAction","e","_onActive","_onIdle","showIdleModal","uRL","inputData","userinfo","userInfo","scomments","susername","suserrolename","sloginid","sauditaction","post","then","response","setState","sessionExpired","Date","now","catch","error","status","message","warn","data","handleLogin","event","password","current","elements","value","info","formatMessage","id","flag","nFlag","openModal","enterKeyLogin","keyCode","preventDefault","handleLogout","updateInfo","typeName","masterData","inputParam","undefined","idleneed","renderer","minutes","seconds","completed","console","log","color","onInputChangeSearch","defaultSearch","menuDesign","map","menuItem","index","lstmodule","moduleItem","moduleIndex","lstforms","formItem","formIndex","sdisplayname","toLowerCase","includes","target","push","smodulename","searchText","showSearch","menuClick","onInputChangeSearch1","nmenucode","myDiv","focus","onClickBackToMenu","stopPropagation","onClickSearchMenu","menu","inputRef","getDetail","classUrl","methodUrl","formCode","displayName","moduleCode","formname","nformcode","settings","currentdate","key","onClickButton","forms","history","sclassname","fullView","showAlertDashBoard","surl","nmodulecode","menuHide","layOutGetHome","form","shomename","serviceNeed","addEventListener","handleKey","layOutGetHomeCancel","location","pathname","menuFullview","toggleSearch","onChangeRol","roleItem","parameterInfo","navigation","nusermultisitecode","nusersitecode","slanguagetypecode","nusermultirolecode","nuserrolecode","nmastersitecode","nlogintypecode","onChangeOwer","item","role","nusercode","sdeputyid","handleResize","isDesktop","window","innerWidth","isPortrait","charCode","parentFunction","bind","pinMenu","darkMode","carRef","createRef","carRef1","timeout","idleTimeout","parseInt","userLoggedIn","isTimedOut","lenghtDvv","sidebarview","isPinned","isDark","windowSize","idleTimer","searchValue","document","body","classList","add","remove","breakTime","confirmMessage","confirm","MaintenanceBreak","STARTHOUR","ENDHOUR","minutesLeftToday","STARTMINUTE","minutesNextDay","ENDMINUTE","date","setHours","Hours","setMinutes","Minutes","setSeconds","Seconds","isMaintenanceTime","getHours","getMinutes","incrementTimeByMinute","maintenanceCheck","maintenanceBreakPopUp","setTimeout","setInterval","getSeconds","maintenanceBreakTrigger","removeEventListener","ref","screenName","visible","route","component","path","exact","name","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport IdleTimer from 'react-idle-timer';\r\nimport PropTypes from 'prop-types';\r\nimport IdleTimeOutModal from '../confirm-alert/IdleTimeOutModal';\r\nimport Sidebar from '../sidebar/sidebar.component';\r\nimport SidebarTablet from '../sidebar/sidebar.tablet';\r\nimport Header from '../header/header.component';\r\nimport routes from '../../routes';\r\nimport { navPage, updateStore, callService, getDashBoardForHome,getListAlert ,submitChangeRole,changeOwner} from '../../actions'\r\nimport rsapi from '../../rsapi';\r\nimport { toast } from 'react-toastify';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport { IDLE_LOGOUT,DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { injectIntl } from 'react-intl';\r\n// import { updateStore } from '../../actions/LoginAction';\r\nimport ScrollToTop from '../../actions/ScrollToTop';\r\nimport SearchBar from '../searchbarcomponent/SearchBar';\r\nimport { formatInputDate } from '../CommonScript';\r\nimport iconScreenSize from '../../assets/image/product-image@3x.png'\r\nimport { PostgreSQLMaintenance } from '../Enumeration';\r\nimport { intl } from '../App';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nclass Layout extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.parentFunction = this.parentFunction.bind(this);\r\n        this.pinMenu = this.pinMenu.bind(this);\r\n        this.darkMode = this.darkMode.bind(this);\r\n        this.carRef = React.createRef()\r\n        this.carRef1 = React.createRef()\r\n        this.state = {\r\n            //timeout: this.props.Login.idleTimeout,\r\n            //added by Syed on 27-SEP-2024\r\n            timeout: this.props.Login.idleTimeout * (this.props.Login.settings && parseInt(this.props.Login.settings[1])),\r\n            showIdleModal: false,\r\n            userLoggedIn: false,\r\n            isTimedOut: false,\r\n            password: \"\",\r\n            sessionExpired: this.props.Login.sessionExpired,\r\n            defaultSearch: [],\r\n            searchText: '',\r\n            menuClick: false,\r\n            showSearch: false,\r\n            fullView: true,\r\n            lenghtDvv:null,\r\n            sidebarview: false,\r\n            isPinned: false,\r\n            isDark: false,\r\n            isDesktop: (window.innerWidth) >= 1280,\r\n            isPortrait: (window.innerWidth) >= 1024,\r\n            windowSize : window.innerWidth,\r\n\r\n            handleResize: this.handleResize.bind(this)\r\n        }\r\n        this.inputRef = React.createRef();\r\n        this.idleTimer = null\r\n        this.password = React.createRef();\r\n        this.searchValue = null \r\n    }\r\n\r\n    parentFunction() {\r\n        this.setState({sidebarview:!this.state.sidebarview});\r\n    }\r\n    \r\n    pinMenu() {\r\n        this.setState({isPinned:!this.state.isPinned});\r\n    }\r\n    darkMode() {        \r\n        this.setState({isDark:!this.state.isDark});\r\n        if(!this.state.isDark){                \r\n            document.body.classList.add('dark'); \r\n        }else{\r\n            document.body.classList.remove('dark'); \r\n        }        \r\n    }\r\n\r\n    _onAction = (e) => {\r\n\r\n    }\r\n\r\n    _onActive = (e) => {\r\n\r\n    }\r\n\r\n    _onIdle = (e) => {\r\n        if (this.state.showIdleModal !== true) {\r\n            let uRL = \"\";\r\n            let inputData = [];\r\n            uRL = 'login/insertAuditAction';\r\n            inputData = {\r\n                userinfo: this.props.Login.userInfo,\r\n                // scomments: `UserName:${this.props.Login.userInfo.susername}, \r\n                // LoginID:${this.props.Login.userInfo.sloginid}`,\r\n                scomments: `User Name:${this.props.Login.userInfo.susername}; User Role:${this.props.Login.userInfo.suserrolename}; Login ID:${this.props.Login.userInfo.sloginid}`,\r\n                sauditaction: \"IDS_IDLETIMELOCK\"\r\n            }\r\n            rsapi.post(uRL, inputData)\r\n                .then(response => {\r\n                    this.setState({ showIdleModal: true, sessionExpired: Date.now() + 600000 });\r\n                })\r\n                .catch(error => {\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    handleLogin = (event) => {\r\n        if (event) {\r\n            if (this.password.current !== null && this.password.current.elements[0].value === \"\") {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERPASSWORD\" }));\r\n                return;\r\n            }\r\n            else {\r\n                let uRL = \"\";\r\n                let inputData = [];\r\n                uRL = 'login/idleTimeAuditAction';\r\n                inputData = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    //password: this.state.password,\r\n                    password: this.password.current.elements[0].value,\r\n                    flag: true, nFlag: 1\r\n                }\r\n\r\n                rsapi.post(uRL, inputData)\r\n                    .then(response => {\r\n                        if (response.data['PassFlag'] === this.props.intl.formatMessage({ id: \"IDS_SUCCESS\" })) {\r\n                            this.password.current.elements[0].value = \"\"\r\n                            this.setState({ showIdleModal: false, openModal: false })\r\n                        }\r\n                        else {\r\n                            toast.info(response.data['PassFlag']);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        if (error.response.status === 500) {\r\n                            toast.warn(error.message);\r\n                        }\r\n                        else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    enterKeyLogin = (event) => {\r\n        if (event.keyCode === 13) {\r\n            this.handleLogin(event);\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n\r\n    handleLogout = (event) => {\r\n        if (event) {\r\n            let uRL = \"\";\r\n            let inputData = [];\r\n            uRL = 'login/idleTimeAuditAction';\r\n            inputData = {\r\n                userinfo: this.props.Login.userInfo,\r\n                //password: this.state.password,\r\n                //password: this.password.current.elements[0].value,\r\n                flag: false, nFlag: 2\r\n            }\r\n\r\n            rsapi.post(uRL, inputData)\r\n                .then(response => {\r\n\r\n                    const updateInfo = {\r\n                        typeName: IDLE_LOGOUT,\r\n                        data: {\r\n                            masterData: [], inputParam: undefined, idleneed: false\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n\r\n                    //this.password.current.elements[0].value = \"\"\r\n                    //this.setState({ showIdleModal: false })\r\n                    this.props.navPage(\"login\");\r\n                })\r\n                .catch(error => {\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    renderer = (event) => {\r\n        // event.preventDefault();\r\n        const { minutes, seconds, completed } = event;\r\n        if (completed) {\r\n            // Render a completed state\r\n            let uRL = \"\";\r\n            let inputData = [];\r\n            uRL = 'login/insertAuditAction';\r\n            inputData = {\r\n                userinfo: this.props.Login.userInfo,\r\n                // scomments: `UserName:${this.props.Login.userInfo.susername}, \r\n                // LoginID:${this.props.Login.userInfo.sloginid}`,\r\n                scomments: `User Name:${this.props.Login.userInfo.susername}; User Role:${this.props.Login.userInfo.suserrolename}; Login ID:${this.props.Login.userInfo.sloginid}`,\r\n                sauditaction: \"IDS_SESSIONEXPIRED\", nFlag: 2\r\n            }\r\n\r\n            rsapi.post(uRL, inputData)\r\n                .then(response => {\r\n\r\n                    const updateInfo = {\r\n                        typeName: IDLE_LOGOUT,\r\n                        data: {\r\n                            masterData: [], inputParam: undefined, idleneed: false\r\n                        }\r\n                    }\r\n                    //this.props.navPage(\"login\");\r\n                    this.props.updateStore(updateInfo);\r\n\r\n                })\r\n                .catch(error => {\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        } else {\r\n            // Render a countdown\r\n            console.log(\"minutes\" + minutes + \"seconds\" + seconds)\r\n            return <span style={{ 'margin-left': '0.3rem', color: 'red' }}>{minutes} minutes {seconds} seconds..!</span>;\r\n\r\n        }\r\n        return null;\r\n    };\r\n\r\n\r\n    onInputChangeSearch = (event) => {       \r\n        let defaultSearch = []\r\n        this.props.Login.menuDesign.map((menuItem, index) => {\r\n            menuItem.lstmodule && menuItem.lstmodule.map((moduleItem, moduleIndex) => {\r\n                moduleItem.lstforms && moduleItem.lstforms.map((formItem, formIndex) => {\r\n\r\n                    //   console.log(formItem.sdisplayname.toLowerCase(),event.target.value,formItem.sdisplayname.toLowerCase().includes(event.target.value))\r\n                    if (formItem.sdisplayname.toLowerCase().includes(event.target.value.toLowerCase())) {\r\n                        defaultSearch.push({ ...formItem, smodulename: moduleItem.sdisplayname })\r\n                    }\r\n                })\r\n            })\r\n        })\r\n        this.setState({ defaultSearch, searchText: event.target.value.toLowerCase(),showSearch:true, menuClick: false })\r\n    }\r\n    onInputChangeSearch1 = (event) => {     \r\n        this.setState({ \r\n            showSearch:false,\r\n            defaultSearch: [],\r\n            menuClick: false, \r\n            nmenucode: undefined, \r\n            searchText:''});\r\n        this.myDiv.focus();\r\n    }\r\n    onClickBackToMenu = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation()\r\n        this.setState({\r\n            defaultSearch: [],\r\n            menuClick: false, nmenucode: undefined\r\n        })\r\n    }\r\n\r\n    onClickSearchMenu = (menu, inputRef) => {\r\n        let defaultSearch = []\r\n        this.props.Login.menuDesign.map((menuItem, index) => {\r\n            if (menu.nmenucode === menuItem.nmenucode) {\r\n                menuItem.lstmodule && menuItem.lstmodule.map((moduleItem, moduleIndex) => {\r\n                    moduleItem.lstforms && moduleItem.lstforms.map((formItem, formIndex) => {\r\n                        //   console.log(formItem.sdisplayname.toLowerCase(),event.target.value,formItem.sdisplayname.toLowerCase().includes(event.target.value))\r\n                        //  if (formItem.sdisplayname.toLowerCase().includes(event.target.value.toLowerCase())) {\r\n                        defaultSearch.push({ ...formItem, smodulename: moduleItem.sdisplayname })\r\n                        //   }\r\n                    })\r\n                })\r\n            }\r\n        })\r\n        this.setState({\r\n            defaultSearch,\r\n            menuClick: true, nmenucode: menu.nmenucode\r\n        })\r\n    }\r\n\r\n    getDetail = (classUrl, methodUrl, formCode, displayName, moduleCode, formname, nmenucode, smodulename) => {\r\n\r\n        if (this.props.Login.userInfo.nformcode !== formCode) {\r\n           \r\n            const userInfo = {\r\n                ...this.props.Login.userInfo, \"nformcode\": formCode,\r\n                \"nmodulecode\": moduleCode, \"sformname\": formname.sdisplayname, smodulename: smodulename\r\n            }\r\n            const inputParam = {\r\n                inputData: { \"userinfo\": userInfo,\r\n                settings : this.props.Login.settings,\r\n                currentdate: formatInputDate(new Date(), true) },\r\n                classUrl, methodUrl, displayName, key: \"MenuId_\" + nmenucode,\r\n            };\r\n\r\n            this.props.callService(inputParam);\r\n        }\r\n    }\r\n\r\n    onClickButton = (forms) => {\r\n        const { history } = this.props;\r\n        history.push('/' + forms.sclassname);\r\n        if (this.inputRef.current)\r\n            this.inputRef.current.value = \"\"\r\n        this.setState({ defaultSearch: [], searchText: \"\", menuClick: false, showSearch: false, fullView: false ,showAlertDashBoard:true})\r\n        this.getDetail(forms.sclassname.toLowerCase(), forms.surl,\r\n            forms.nformcode, forms.sdisplayname, forms.nmodulecode, forms, forms.nmenucode, forms.smodulename)\r\n    }\r\n    menuHide = () => {\r\n        this.setState({ fullView: false,showAlertDashBoard:true })\r\n    }\r\n    layOutGetHome = (updateInfo, form) => {\r\n        const { history } = this.props;\r\n        history.push('/' + updateInfo.data.shomename);\r\n        if (this.inputRef.current)\r\n            this.inputRef.current.value = \"\"\r\n        this.setState({ defaultSearch: [], searchText: \"\", menuClick: false, fullView: true,showAlertDashBoard:false })\r\n        if (updateInfo.data.shomename === 'dashboard') {\r\n            this.props.updateStore(updateInfo);\r\n            this.props.getDashBoardForHome(updateInfo);\r\n            this.props.getListAlert(updateInfo.data.userInfo, true)\r\n        } else if (updateInfo.data.shomename === 'apiservice') {\r\n            const inputParam = {\r\n                inputData: { \r\n                 settings : this.props.Login.settings,\r\n                 currentdate: formatInputDate(new Date(), true) ,\"userinfo\": updateInfo.data.userInfo},\r\n                 serviceNeed: true,...updateInfo.data, \"userinfo\": updateInfo.data.userInfo,\r\n            };\r\n            this.props.callService(inputParam);\r\n            this.props.getListAlert(updateInfo.data.userInfo, true)\r\n        }\r\n        else {\r\n            this.props.updateStore(updateInfo);\r\n            this.props.getListAlert(updateInfo.data.userInfo, true)\r\n        }\r\n        // ALPD-4794- Changed by Neeraj\r\n        this.myDiv.addEventListener('onKeyPress', this.handleKey);\r\n        this.myDiv.focus();\r\n    }\r\n    layOutGetHomeCancel = () => {\r\n        const { history } = this.props;\r\n        let { menuClick, defaultSearch, searchText } = this.state\r\n\r\n        if (this.inputRef.current && this.inputRef.current.value !== \"\") {\r\n            if (this.props.history.location.pathname === '/home') {\r\n                history.push('/home');\r\n            }\r\n            this.inputRef.current.value = \"\"\r\n            menuClick = false\r\n            defaultSearch = []\r\n            searchText = \"\"\r\n        } else {\r\n            if (menuClick) {\r\n                menuClick = true\r\n            }\r\n\r\n            if (this.inputRef.current) {\r\n                this.inputRef.current.value = \"\"\r\n            }\r\n\r\n        }\r\n        this.setState({ defaultSearch, searchText, showSearch: false, menuClick })\r\n        //this.props.updateStore(updateInfo);\r\n        //  this.props.layOutGetHome(updateInfo)\r\n    }\r\n    menuFullview = () => {\r\n        let { fullView } = this.state;\r\n        this.setState({ fullView: !this.state.fullView })\r\n    }\r\n    toggleSearch = () => {\r\n        this.setState({\r\n            showSearch: !this.state.showSearch\r\n        })\r\n    }\r\n    onChangeRol = (roleItem) => {\r\n        this.setState({ menuClick:false,showAlertDashBoard:false  ,showSearch:false,searchText:\"\" })\r\n        const parameterInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { menuDesign: [], navigation: \"\" }\r\n          }\r\n          this.props.updateStore(parameterInfo);\r\n          const userInfo = this.props.Login.userInfo;\r\n          const inputParam = {\r\n            nusermultisitecode: userInfo.nusersitecode,\r\n            slanguagetypecode: userInfo.slanguagetypecode,\r\n            nusermultirolecode: roleItem.nusermultirolecode,\r\n            nuserrolecode: roleItem.nuserrolecode,\r\n            nmastersitecode: userInfo.nmastersitecode,\r\n            nlogintypecode: userInfo.nlogintypecode,\r\n            userinfo: userInfo\r\n          }\r\n          this.props.submitChangeRole(inputParam);\r\n    }\r\n\r\n    onChangeOwer=(item, role)=>{\r\n        this.setState({ menuClick:false ,showAlertDashBoard:false,showSearch:false,searchText:\"\" })\r\n        const parameterInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { menuDesign: [], navigation: \"\" }\r\n          }\r\n          this.props.updateStore(parameterInfo);\r\n          const inputData = {\r\n            nuserrolecode: item.nuserrolecode,\r\n            suserrolename: item.suserrolename,\r\n            nusercode: item.nusercode,\r\n            sdeputyid: item.sdeputyid,\r\n            userinfo: this.props.Login.userInfo\r\n          }\r\n          this.props.changeOwner(inputData);\r\n    }\r\n\r\n\r\n    // selectInputOnChange = (event) => {\r\n    //     let password = \"\"\r\n    //     if (event !== null) {\r\n    //         password = event.target.value\r\n    //     }\r\n    //     this.setState({ password: password })\r\n    // }\r\n    handleResize = () => {\r\n        this.setState({          \r\n            isDesktop: (window.innerWidth) >= 1280,\r\n            isPortrait: (window.innerWidth) >= 1024,\r\n        });\r\n      }\r\n      // Gowtham R -- ALPD-5190 -- 14/12/2024 -- for Vacuum Start\r\n    maintenanceBreakPopUp(breakTime){\r\n        this.confirmMessage.confirm(\r\n            \"MaintainceBreakMessage\",\r\n            intl.formatMessage({\r\n                id: \"IDS_MAINTAINCEBREAK\"\r\n            }),\r\n            intl.formatMessage({\r\n                id: \"IDS_MAINTAINCEBREAKMESSAGE\"\r\n            }),\r\n            undefined,\r\n            undefined,\r\n            undefined,\r\n            false,\r\n            undefined,\r\n            breakTime\r\n        );\r\n    }\r\n\r\n    // Gowtham R -- ALPD-5190 -- 14/12/2024 -- for Vacuum Start\r\n    maintenanceBreakTrigger() {\r\n        let MaintenanceBreak = 0;\r\n        if (PostgreSQLMaintenance.STARTHOUR > PostgreSQLMaintenance.ENDHOUR) {\r\n            const minutesLeftToday = (60 - PostgreSQLMaintenance.STARTMINUTE) + ((23 - PostgreSQLMaintenance.STARTHOUR) * 60);\r\n            const minutesNextDay = (PostgreSQLMaintenance.ENDHOUR * 60) + PostgreSQLMaintenance.ENDMINUTE;\r\n            MaintenanceBreak = minutesLeftToday + minutesNextDay;\r\n        } else if (PostgreSQLMaintenance.STARTHOUR < PostgreSQLMaintenance.ENDHOUR) {\r\n            MaintenanceBreak = ((PostgreSQLMaintenance.ENDHOUR - PostgreSQLMaintenance.STARTHOUR) * 60)\r\n                - PostgreSQLMaintenance.STARTMINUTE + PostgreSQLMaintenance.ENDMINUTE;\r\n        } else {\r\n            MaintenanceBreak = PostgreSQLMaintenance.ENDMINUTE - PostgreSQLMaintenance.STARTMINUTE;\r\n        }    \r\n    \r\n        rsapi.post(\"/login/getJavaTime\", {})\r\n            .then(response => {\r\n                \r\n                this.date.setHours(response.data.Hours);\r\n                this.date.setMinutes(response.data.Minutes);\r\n                this.date.setSeconds(response.data.Seconds);\r\n\r\n                const isMaintenanceTime = () => {\r\n                    if (\r\n                        (this.date.getHours() > PostgreSQLMaintenance.STARTHOUR || \r\n                        (this.date.getHours() === PostgreSQLMaintenance.STARTHOUR && this.date.getMinutes() >= PostgreSQLMaintenance.STARTMINUTE)) &&\r\n                        (this.date.getHours() < PostgreSQLMaintenance.ENDHOUR || \r\n                        (this.date.getHours() === PostgreSQLMaintenance.ENDHOUR && this.date.getMinutes() < PostgreSQLMaintenance.ENDMINUTE))\r\n                    ) {\r\n                        MaintenanceBreak = PostgreSQLMaintenance.ENDMINUTE - this.date.getMinutes();\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                };\r\n                \r\n                const incrementTimeByMinute = () => {\r\n                    this.date.setMinutes(this.date.getMinutes() + 1);\r\n                    if (this.date.getMinutes() === 60) {\r\n                        this.date.setMinutes(0);\r\n                        this.date.setHours(this.date.getHours() + 1);\r\n                    }\r\n                    if (this.date.getHours() === 24) {\r\n                        this.date.setHours(0);\r\n                    }\r\n                };\r\n                \r\n                const maintenanceCheck = () => {\r\n                    if (isMaintenanceTime()) {\r\n                        this.maintenanceBreakPopUp(60000 * MaintenanceBreak);\r\n                    }\r\n                };\r\n\r\n                maintenanceCheck();\r\n                \r\n                setTimeout(() => {\r\n                    incrementTimeByMinute();\r\n                    maintenanceCheck();\r\n\r\n                    setInterval(() => {\r\n                        incrementTimeByMinute();\r\n                        maintenanceCheck();\r\n                    }, 60000);\r\n\r\n                }, (60 - (this.date.getSeconds() + 1)) * 1000);\r\n            })\r\n            .catch(e => {\r\n                console.error(\"Error fetching login info\", e);\r\n            });\r\n    \r\n    }\r\n    componentDidMount() {\r\n        if(this.state.isPortrait){\r\n            this.myDiv.addEventListener('onKeyPress', this.handleKey);\r\n            this.myDiv.focus();\r\n        }  \r\n        window.addEventListener(\"resize\", this.handleResize);\r\n         // Gowtham R -- ALPD-5190 -- 14/12/2024 -- for Vacuum Start\r\n         this.maintenanceBreakTrigger();\r\n    }\r\n\r\n    \r\n    componentWillUnmount() {\r\n        if(this.state.isPortrait){\r\n            this.myDiv.removeEventListener('onKeyPress', this.handleKey);        \r\n            this.setState({isDark:false});\r\n            document.body.classList.remove('dark'); \r\n        }\r\n        window.removeEventListener(\"resize\", this.handleResize);\r\n    }\r\n    \r\n    handleKey = e => {\r\n        if(this.props.history.location.pathname === \"/home\") {\r\n            let defaultSearch = []\r\n            this.props.Login.menuDesign.map((menuItem, index) => {\r\n                menuItem.lstmodule && menuItem.lstmodule.map((moduleItem, moduleIndex) => {\r\n                    moduleItem.lstforms && moduleItem.lstforms.map((formItem, formIndex) => {                    \r\n                        if (formItem.sdisplayname.toLowerCase().includes(e.key.toLowerCase())) {\r\n                            defaultSearch.push({ ...formItem, smodulename: moduleItem.sdisplayname })\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            // ALPD-5296    Modified code for Enter value display when click enter button in the home page search box by Vishakh\r\n            this.setState({ defaultSearch, searchText: e.charCode === 13 ? '' : e.key.toLowerCase(), menuClick: false,showSearch: !this.state.showSearch }) \r\n        }         \r\n    }\r\n\r\n    render() {\r\n        this.confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n              \r\n                <div id=\"app-wrapper\">\r\n                    <IdleTimer\r\n                        ref={ref => { this.idleTimer = ref }}\r\n                        element={document}\r\n                        onActive={this._onActive}\r\n                        onAction={this._onAction}\r\n                        onIdle={this._onIdle}\r\n                        debounce={250}\r\n                        timeout={this.state.timeout} />\r\n                    {this.props.Login.idleneed ?\r\n                        <IdleTimeOutModal\r\n                            showIdleModal={this.state.showIdleModal}\r\n                            handleLogin={this.handleLogin}\r\n                            handleLogout={this.handleLogout}\r\n                            UserInfo={this.props.Login.userInfo}\r\n                            passwordref={this.password}\r\n                            //selectInputOnChange={this.selectInputOnChange}\r\n                            //commented by Syed on 27-SEP-2024\r\n                            //idealTime={this.props.Login.idleTimeout}\r\n                            //Added by Syed on 27-SEP-2024 - IDLE TIME OUT FROM SETTINGS TABLE\r\n                            idealTime={this.props.Login.idleTimeout * (this.props.Login.settings && parseInt(this.props.Login.settings[1]))}\r\n                            Login={this.props.Login}\r\n                            sessionExpired={this.state.sessionExpired}\r\n                            enterKeyLogin={this.enterKeyLogin}\r\n                            renderer={this.renderer} />\r\n                        : \"\"}\r\n\r\n                    \r\n                    {this.state.isDesktop?\r\n                        <Sidebar history={this.props} layOutGetHome={this.layOutGetHome} inputRef={this.inputRef} fullView={this.state.fullView} menuHide={this.menuHide} menuFullview={this.menuFullview}\r\n                        pinMenu={this.pinMenu} data={this.state.lenghtDvv} sidebarview={this.state.sidebarview} isPinned={this.state.isPinned}\r\n                        />: <SidebarTablet history={this.props} layOutGetHome={this.layOutGetHome} inputRef={this.inputRef} fullView={this.state.fullView} menuHide={this.menuHide} menuFullview={this.menuFullview}\r\n                        pinMenu={this.pinMenu} data={this.state.lenghtDvv} sidebarview={this.state.sidebarview} isPinned={this.state.isPinned}/>\r\n                    }\r\n                  {/* change password by Neeraj */}\r\n                    <div id=\"content-wrapper\" className={`d-flex flex-column`} ref={ref => this.myDiv = ref} tabIndex=\"0\"  \r\n                    //// ALPD-4794- Changed by Neeraj\r\n                    onKeyPress={ this.props.Login.screenName ===\"IDS_CHANGEPASSWORD\"?\"\":this.handleKey} \r\n                        >\r\n                        <div id=\"content\">\r\n                            <Header history={this.props} layOutGetHomeCancel={this.layOutGetHomeCancel} fullView={this.state.fullView} \r\n                            darkMode={this.darkMode} isDark={this.state.isDark} isDesktop={this.state.isDesktop}\r\n                            visible={this.state.visible} menuFullview={this.menuFullview} toggleSearch={this.toggleSearch} showSearch={this.state.showSearch} searchBar={\r\n                                <SearchBar options={this.state.defaultSearch}\r\n                                    optionDisplayMember={'sdisplayname'}\r\n                                    onClickButton={this.onClickButton}\r\n                                    onInputChange={this.onInputChangeSearch}\r\n                                    onInputChange1={this.onInputChangeSearch1}\r\n                                    pathname={this.props.history.location.pathname}\r\n                                    inputRef={this.inputRef}\r\n                                    intl={this.props.intl}\r\n                                    searchText={this.state.searchText}\r\n\r\n                                /> } \r\n                                onChangeRol={this.onChangeRol} \r\n                                onChangeOwer={this.onChangeOwer} \r\n                                showAlertDashBoard={this.state.showAlertDashBoard}/>\r\n                            <div className={`container-fluid px-0  ${!this.state.fullView ? 'sidebar-fullview':''}`}>\r\n                                <ScrollToTop>\r\n                                    <Switch>\r\n                                        {routes.map((route, index) => {\r\n                                            return route.component ? (\r\n                                                <Route\r\n                                                    key={index}\r\n                                                    path={route.path}\r\n                                                    exact={route.exact}\r\n                                                    name={route.name}\r\n                                                    render={props => (\r\n                                                        <route.component\r\n                                                            onClickSearchMenu={this.onClickSearchMenu}\r\n                                                            onClickSearchForm={this.onClickButton}\r\n                                                            menuClick={this.state.menuClick}\r\n                                                            onClickBackToMenu={this.onClickBackToMenu}\r\n                                                            searchText={this.state.searchText} defaultSearch={this.state.defaultSearch} {...props}\r\n                                                            parentFunction={this.parentFunction}\r\n                                                            carRef={this.carRef}\r\n                                                            carRef1={this.carRef1}\r\n                                                            data={this.state.lenghtDvv}\r\n                                                            sidebarview={this.state.sidebarview} \r\n                                                            isPinned={this.state.isPinned}\r\n                                                              />\r\n                                                    )} />\r\n                                            ) : (null);\r\n                                        })}\r\n                                    </Switch>\r\n                                </ScrollToTop>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                   <>\r\n                  <div class=\"align-items-center login-info-portrait\">\r\n                    <img src={iconScreenSize} className=\"img-fluid border\"  />\r\n                    <h5 className='m-4 p-4 text-center'>\"This message typically indicates that the application or website you're trying to access requires a screen resolution of 1024 pixels or wider to display properly. If you're using a tablet, please turn it to landscape mode. This requirement ensures a good user experience and proper layout.\"</h5>\r\n                  </div>\r\n                  \r\n                  </>\r\n                \r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nLayout.propTypes = {\r\n    match: PropTypes.any.isRequired,\r\n    history: PropTypes.func.isRequired\r\n}\r\n\r\nexport default connect(mapStateToProps, { navPage, updateStore, callService, getDashBoardForHome,getListAlert,submitChangeRole,changeOwner })(injectIntl(Layout));"]},"metadata":{},"sourceType":"module"}