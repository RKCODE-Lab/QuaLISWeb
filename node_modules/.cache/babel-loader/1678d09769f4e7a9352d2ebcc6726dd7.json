{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\branches\\\\SOURCE-513-PROD\\\\SOURCE-513-ALPD-5304\\\\QuaLISWeb\\\\src\\\\pages\\\\Material\\\\Material.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { Row, Col, Nav, Card, FormGroup, FormLabel } from 'react-bootstrap';\nimport { process } from '@progress/kendo-data-query';\nimport { toast } from 'react-toastify';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt, faPencilAlt } from '@fortawesome/free-solid-svg-icons';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport Esign from '../audittrail/Esign';\nimport { constructjsonOptionList, convertDateTimetoString, convertDateTimetoStringDBformat, rearrangeDateFormatDateOnly, formatInputDate, convertDateTimetoStringDBFormat, sortData, Lims_JSON_stringify, replaceBackSlash, convertDateValuetoString } from '../../components/CommonScript';\nimport ListMaster from '../../components/list-master/list-master.component';\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component';\nimport { showEsign, getControlMap, constructOptionList, onDropAttachFileList, deleteAttachmentDropZone, create_UUID, rearrangeDateFormat } from '../../components/CommonScript';\nimport { callService, updateStore, crudMaster, filterColumnData, validateEsignCredential, viewAttachment, initialcombochangeget, addSafetyInstructions, getAddMaterialPopup, getMaterialDetails, addMaterialProperty, getMaterialReload, getMaterialEdit, getMaterialByTypeCode, getAddMaterialSectionPopup, getMaterialSectionEdit, addMaterialFile, addMaterialAccountingProperty, getAddMaterialAccountingPopup, getReportDetails, generateControlBasedReport } from '../../actions';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { transactionStatus, attachmentType } from '../../components/Enumeration';\nimport { ContentPanel, ReadOnlyText, MediaLabel } from '../../components/App.styles';\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component'; // import ReactTooltip from 'react-tooltip';\n\nimport MaterialFilter from './MaterialFilter';\nimport MaterialSectionTab from './MaterialSectionTab';\nimport MaterialInventoryTab from './MaterialInventoryTab';\nimport AddMaterialSection from './AddMaterialSection';\nimport AddReportDetails from './AddReportDetails';\nimport { Affix } from 'rsuite';\nimport MaterialMsdsAttachmentTab from './MaterialMsdsAttachmentTab';\nimport AddMaterialFile from './AddMaterialFile';\nimport { ReactComponent as Safety } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/safety.svg\";\nimport { ReactComponent as Property } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/managed-hosting.svg\";\nimport { ReactComponent as Generate } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/generate-certificate.svg\";\nimport { ReactComponent as Powder } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/powder-material-removal.svg\";\nimport { ReactComponent as Issue } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/normal-material-remvl.svg\";\nimport { ReactComponent as Solution } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/solution-material-removal.svg\";\nimport { ProductList } from '../product/product.styled';\nimport PortalModal from '../../PortalModal';\nimport ModalShow from '../../components/ModalShow';\nimport SampleInfoView from '../approval/SampleInfoView';\nimport DynamicSlideoutMaterial from './DynamicSlideoutMaterial';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass Material extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sidebarExpandCollapse = () => {\n      this.setState({\n        sidebarview: true\n      });\n    };\n\n    this.paneSizeChange = d => {\n      this.setState({\n        splitChangeWidthPercentage: d\n      });\n    };\n\n    this.openModal = (operation, loginProps, selectedCombo, addId, masterData, selectedRecord, screenname) => {\n      if (this.state.selectedcombo[\"nmaterialtypecode\"] && this.state.selectedMaterialCat[\"nmaterialcatcode\"]) {\n        this.props.getAddMaterialPopup(operation, loginProps, selectedCombo, addId, masterData, selectedRecord, screenname);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTALLVALUESINFILTER\"\n        }));\n      }\n    };\n\n    this.dynamicmandatoryFeilds = () => {\n      let mandatoryFeildsMaterial = [];\n      let slanguagetypecode = this.props.Login.userInfo.slanguagetypecode;\n      this.props.Login.masterData.selectedTemplate && this.props.Login.masterData.selectedTemplate[0].jsondata.map(row => {\n        row.children.map(column => {\n          column.children.map(component => {\n            if (component.mandatory) {\n              if (component.inputtype === 'combo') {\n                mandatoryFeildsMaterial.push({\n                  \"idsName\": component.displayname[slanguagetypecode],\n                  \"dataField\": component.label,\n                  \"mandatoryLabel\": \"IDS_SELECT\",\n                  \"controlType\": \"selectbox\"\n                });\n              } else {\n                mandatoryFeildsMaterial.push({\n                  \"idsName\": component.displayname[slanguagetypecode],\n                  \"dataField\": component.label,\n                  \"mandatoryLabel\": \"IDS_ENTER\",\n                  \"controlType\": \"selectbox\"\n                });\n              }\n            }\n\n            component.hasOwnProperty(\"children\") && component.children.map(componentrow => {\n              if (componentrow.mandatory) {\n                if (componentrow.inputtype === 'combo') {\n                  mandatoryFeildsMaterial.push({\n                    \"idsName\": componentrow.displayname[slanguagetypecode],\n                    \"dataField\": componentrow.label,\n                    \"mandatoryLabel\": \"IDS_SELECT\",\n                    \"controlType\": \"selectbox\"\n                  });\n                } else {\n                  mandatoryFeildsMaterial.push({\n                    \"idsName\": componentrow.displayname[slanguagetypecode],\n                    \"dataField\": componentrow.label,\n                    \"mandatoryLabel\": \"IDS_ENTER\",\n                    \"controlType\": \"selectbox\"\n                  });\n                }\n              }\n            });\n          });\n        });\n      });\n\n      if (this.props.Login.selectedRecord['Expiry Validations']) {\n        if (this.props.Login.selectedRecord['Expiry Validations'] === 'Expiry policy') {\n          mandatoryFeildsMaterial.push({\n            \"idsName\": \"IDS_EXPIRYPOLICY\",\n            \"dataField\": \"Expiry Policy Days\",\n            \"mandatoryLabel\": \"IDS_ENTER\",\n            \"controlType\": \"textbox\"\n          });\n          mandatoryFeildsMaterial.push({\n            \"idsName\": \"IDS_EXPIRYPOLICYPERIOD\",\n            \"dataField\": \"Expiry Policy Period\",\n            \"mandatoryLabel\": \"IDS_SELECT\",\n            \"controlType\": \"selectbox\"\n          });\n        }\n      }\n\n      if (this.props.Login.selectedRecord['Open Expiry Need']) {\n        if (this.props.Login.selectedRecord['Open Expiry Need'] === 3) {\n          mandatoryFeildsMaterial.push({\n            \"idsName\": \"IDS_OPENEXIPIRY\",\n            \"dataField\": \"Open Expiry\",\n            \"mandatoryLabel\": \"IDS_ENTER\",\n            \"controlType\": \"textbox\"\n          });\n          mandatoryFeildsMaterial.push({\n            \"idsName\": \"IDS_OPENEXIPIRYPERIOD\",\n            \"dataField\": \"Open Expiry Period\",\n            \"mandatoryLabel\": \"IDS_SELECT\",\n            \"controlType\": \"selectbox\"\n          });\n        }\n      }\n\n      if (this.props.Login.selectedRecord['Next Validation Need']) {\n        if (this.props.Login.selectedRecord['Next Validation Need'] === 3) {\n          mandatoryFeildsMaterial.push({\n            \"idsName\": \"IDS_NEXTVALIDATION\",\n            \"dataField\": \"Next Validation\",\n            \"mandatoryLabel\": \"IDS_ENTER\",\n            \"controlType\": \"textbox\"\n          });\n          mandatoryFeildsMaterial.push({\n            \"idsName\": \"IDS_NEXTVALIDATIONPERIOD\",\n            \"dataField\": \"Next Validation Period\",\n            \"mandatoryLabel\": \"IDS_SELECT\",\n            \"controlType\": \"selectbox\"\n          });\n        }\n      } // if (this.props.Login.masterData.ismaterialSectionneed === transactionStatus.YES) {\n\n\n      if (this.props.Login.selectedRecord['Material Category'] !== undefined) {\n        if ((this.props.Login.selectedRecord['Material Category'] && this.props.Login.selectedRecord['Material Category'].item ? this.props.Login.selectedRecord['Material Category'].item.jsondata.needsectionwise : this.props.Login.selectedRecord['Material Category'].needsectionwise) === transactionStatus.YES) {\n          mandatoryFeildsMaterial.push({\n            \"idsName\": \"IDS_SECTION\",\n            \"dataField\": \"Section\",\n            \"mandatoryLabel\": \"IDS_SELECT\",\n            \"controlType\": \"selectbox\"\n          }, {\n            \"idsName\": \"IDS_REORDERLEVEL\",\n            \"dataField\": \"Reorder Level\",\n            \"mandatoryLabel\": \"IDS_ENTER\",\n            \"controlType\": \"selectbox\"\n          });\n        } else {\n          mandatoryFeildsMaterial.map((temp, i) => {\n            if (temp.dataField === 'Section' || temp.dataField === 'Reorder Level') {\n              delete mandatoryFeildsMaterial[i];\n            }\n          });\n        }\n      }\n\n      return mandatoryFeildsMaterial;\n    };\n\n    this.accordianDesign = () => {\n      let selectedmasterlistmain = [];\n      this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial.jsondata !== undefined && selectedmasterlistmain.push(this.props.Login.masterData.SelectedMaterial.jsondata);\n      let designaccordian = [];\n      this.props.Login.masterData.selectedTemplate[0].jsondata.map(row => {\n        row.children.map(column => {\n          column.children.map(component => {\n            if (component.inputtype === 'combo') {\n              if (component.label !== undefined) {\n                designaccordian.push( /*#__PURE__*/React.createElement(Col, {\n                  md: \"4\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 861,\n                    columnNumber: 50\n                  }\n                }, /*#__PURE__*/React.createElement(FormGroup, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 862,\n                    columnNumber: 33\n                  }\n                }, /*#__PURE__*/React.createElement(FormLabel, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 863,\n                    columnNumber: 37\n                  }\n                }, /*#__PURE__*/React.createElement(FormattedMessage, {\n                  id: [component.label],\n                  message: [component.label],\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 863,\n                    columnNumber: 48\n                  }\n                })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 864,\n                    columnNumber: 37\n                  }\n                }, selectedmasterlistmain.length > 0 && selectedmasterlistmain[0][component.label] ? selectedmasterlistmain[0][component.label]['label'] : \"-\"))));\n              }\n            } else if (component.inputtype === 'toggle') {\n              if (component.label !== undefined) {\n                designaccordian.push( /*#__PURE__*/React.createElement(Col, {\n                  md: \"4\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 876,\n                    columnNumber: 50\n                  }\n                }, /*#__PURE__*/React.createElement(FormGroup, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 877,\n                    columnNumber: 33\n                  }\n                }, /*#__PURE__*/React.createElement(FormLabel, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 878,\n                    columnNumber: 37\n                  }\n                }, /*#__PURE__*/React.createElement(FormattedMessage, {\n                  id: [component.label],\n                  message: [component.label],\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 878,\n                    columnNumber: 48\n                  }\n                })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 879,\n                    columnNumber: 37\n                  }\n                }, selectedmasterlistmain.length > 0 && selectedmasterlistmain[0][component.label] && selectedmasterlistmain[0][component.label] === transactionStatus.YES ? 'Yes' : 'No'))));\n              }\n            } else {\n              if (component.label !== undefined) {\n                designaccordian.push( /*#__PURE__*/React.createElement(Col, {\n                  md: \"4\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 892,\n                    columnNumber: 50\n                  }\n                }, /*#__PURE__*/React.createElement(FormGroup, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 893,\n                    columnNumber: 33\n                  }\n                }, /*#__PURE__*/React.createElement(FormLabel, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 894,\n                    columnNumber: 37\n                  }\n                }, /*#__PURE__*/React.createElement(FormattedMessage, {\n                  id: [component.label],\n                  message: [component.label],\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 894,\n                    columnNumber: 48\n                  }\n                })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 895,\n                    columnNumber: 37\n                  }\n                }, selectedmasterlistmain.length > 0 && selectedmasterlistmain[0][component.label] ? selectedmasterlistmain[0][component.label] : \"-\"))));\n              }\n            }\n\n            component.hasOwnProperty(\"children\") && component.children.map(componentrow => {\n              if (componentrow.inputtype === 'combo') {\n                if (componentrow.label !== undefined) {\n                  designaccordian.push( /*#__PURE__*/React.createElement(Col, {\n                    md: \"4\",\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 907,\n                      columnNumber: 54\n                    }\n                  }, /*#__PURE__*/React.createElement(FormGroup, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 908,\n                      columnNumber: 37\n                    }\n                  }, /*#__PURE__*/React.createElement(FormLabel, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 909,\n                      columnNumber: 41\n                    }\n                  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n                    id: [componentrow.label],\n                    message: [componentrow.label],\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 909,\n                      columnNumber: 52\n                    }\n                  })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 910,\n                      columnNumber: 41\n                    }\n                  }, selectedmasterlistmain.length > 0 && selectedmasterlistmain[0][componentrow.label] ? selectedmasterlistmain[0][componentrow.label]['label'] : \"-\"))));\n                }\n              } else if (componentrow.inputtype === 'toggle') {\n                if (componentrow.label !== undefined) {\n                  designaccordian.push( /*#__PURE__*/React.createElement(Col, {\n                    md: \"4\",\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 922,\n                      columnNumber: 54\n                    }\n                  }, /*#__PURE__*/React.createElement(FormGroup, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 923,\n                      columnNumber: 37\n                    }\n                  }, /*#__PURE__*/React.createElement(FormLabel, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 924,\n                      columnNumber: 41\n                    }\n                  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n                    id: [componentrow.label],\n                    message: [componentrow.label],\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 924,\n                      columnNumber: 52\n                    }\n                  })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 925,\n                      columnNumber: 41\n                    }\n                  }, selectedmasterlistmain.length > 0 && selectedmasterlistmain[0][componentrow.label] && selectedmasterlistmain[0][componentrow.label]['label'] === transactionStatus.YES ? 'Yes' : 'No'))));\n                }\n              } else {\n                if (componentrow.label !== undefined) {\n                  designaccordian.push( /*#__PURE__*/React.createElement(Col, {\n                    md: \"4\",\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 938,\n                      columnNumber: 54\n                    }\n                  }, /*#__PURE__*/React.createElement(FormGroup, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 939,\n                      columnNumber: 37\n                    }\n                  }, /*#__PURE__*/React.createElement(FormLabel, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 940,\n                      columnNumber: 41\n                    }\n                  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n                    id: [componentrow.label],\n                    message: [componentrow.label],\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 940,\n                      columnNumber: 52\n                    }\n                  })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 941,\n                      columnNumber: 41\n                    }\n                  }, selectedmasterlistmain.length > 0 && selectedmasterlistmain[0][componentrow.label] ? selectedmasterlistmain[0][componentrow.label] : \"-\"))));\n                }\n              }\n            });\n          });\n        });\n      });\n      return designaccordian;\n    };\n\n    this.handleDateChange = (dateValue, dateName) => {\n      const {\n        selectedRecord\n      } = this.state;\n      let isSelectedRecordChange = this.state.isSelectedRecordChange;\n      isSelectedRecordChange = true;\n      selectedRecord[dateName] = dateValue;\n      this.setState({\n        selectedRecord,\n        isSelectedRecordChange\n      });\n    };\n\n    this.onTabChange = tabProps => {\n      const tabScreen = tabProps.screenName;\n      let masterData = this.props.Login.masterData;\n      masterData['tabScreen'] = tabScreen;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          masterData\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.handleDateChanges = (dateName, dateValue) => {\n      let masterData = this.props.Login.masterData;\n\n      if (dateValue === null) {\n        dateValue = new Date();\n      }\n\n      let fromdate = this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date();\n      let todate = this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date();\n      let obj = {};\n\n      if (dateName === 'fromDate') {\n        // obj = convertDateValuetoString(dateValue, todate, this.props.Login.userInfo)\n        // fromdate = obj.fromDate\n        // todate = obj.toDate\n        // let fromDate = obj.fromDate\n        // let toDate = obj.toDate\n        //masterData[dateName] = rearrangeDateFormat(this.props.Login.userInfo,dateValue) ;\n        masterData[dateName] = convertDateTimetoString(dateValue, this.props.Login.userInfo);\n      } else {\n        // obj = convertDateValuetoString(fromdate, dateValue, this.props.Login.userInfo)\n        // fromdate = obj.fromDate\n        // todate = obj.toDate\n        // let fromDate = obj.fromDate\n        // let toDate = obj.toDate\n        // masterData[dateName] = todate;\n        masterData[dateName] = convertDateTimetoString(dateValue, this.props.Login.userInfo);\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          masterData\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onDropMaterialFile = (attachedFiles, fieldName, maxSize) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize);\n      this.setState({\n        selectedRecord,\n        actionType: \"new\"\n      });\n    };\n\n    this.deleteAttachment = (event, file, fieldName) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file);\n      this.setState({\n        selectedRecord,\n        actionType: \"delete\"\n      });\n    };\n\n    this.onSaveMaterialFile = () => {\n      const selectedRecord = this.state.selectedRecord;\n      const acceptedFiles = selectedRecord.sfilename;\n      const nattachmenttypecode = selectedRecord.nattachmenttypecode;\n      let isFileEdited = transactionStatus.NO;\n      let testFileArray = [];\n      let nmaterialconfigcode;\n      let testFile = {\n        nmaterialconfigcode: this.props.Login.masterData.selectedTemplate[0].nmaterialconfigcode,\n        nmaterialcode: this.props.Login.masterData.SelectedMaterial.nmaterialcode,\n        nmaterialfilecode: selectedRecord.nmaterialfilecode ? selectedRecord.nmaterialfilecode : 0,\n        nstatus: transactionStatus.ACTIVE,\n        nattachmenttypecode,\n        ndefaultstatus: selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] ? selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] : 4\n      };\n      testFile['sdefaultstatus'] = {};\n      testFile['sdefaultstatus'] = testFile['ndefaultstatus'] === 3 ? 'Yes' : 'No';\n      const formData = new FormData();\n\n      if (nattachmenttypecode === attachmentType.FTP) {\n        if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\n          acceptedFiles.forEach((file, index) => {\n            const tempData = Object.assign({}, testFile);\n            const splittedFileName = file.name.split('.');\n            const fileExtension = file.name.split('.')[splittedFileName.length - 1];\n            const ssystemfilename = selectedRecord.ssystemfilename ? selectedRecord.ssystemfilename.split('.') : \"\";\n            const filesystemfileext = selectedRecord.ssystemfilename ? file.name.split('.')[ssystemfilename.length - 1] : \"\";\n            const uniquefilename = nattachmenttypecode === attachmentType.FTP ? selectedRecord.ntestfilecode && selectedRecord.ntestfilecode > 0 && selectedRecord.ssystemfilename !== \"\" ? ssystemfilename[0] + '.' + filesystemfileext : create_UUID() + '.' + fileExtension : \"\";\n            tempData[\"sfilename\"] = Lims_JSON_stringify(file.name, false);\n            tempData[\"sdescription\"] = Lims_JSON_stringify(replaceBackSlash(selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\"), false);\n            tempData[\"nlinkcode\"] = transactionStatus.NA;\n            tempData[\"ssystemfilename\"] = uniquefilename;\n            tempData[\"nfilesize\"] = file.size;\n            tempData[\"dcreateddate\"] = this.props.Login.dcreateddate && convertDateTimetoStringDBFormat(this.props.Login.dcreateddate, this.props.Login.userInfo);\n            formData.append(\"uploadedFile\" + index, file);\n            formData.append(\"uniquefilename\" + index, uniquefilename);\n            testFileArray.push(tempData);\n          });\n          formData.append(\"filecount\", acceptedFiles.length);\n          isFileEdited = transactionStatus.YES;\n        } else {\n          testFile[\"sfilename\"] = Lims_JSON_stringify(selectedRecord.sfilename, false);\n          testFile[\"sdescription\"] = Lims_JSON_stringify(replaceBackSlash(selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\"), false);\n          testFile[\"nlinkcode\"] = transactionStatus.NA;\n          testFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\n          testFile[\"nfilesize\"] = selectedRecord.nfilesize;\n          testFile[\"dcreateddate\"] = this.props.Login.dcreateddate && convertDateTimetoStringDBFormat(this.props.Login.dcreateddate, this.props.Login.userInfo);\n          testFileArray.push(testFile);\n        }\n      } else {\n        testFile[\"sfilename\"] = Lims_JSON_stringify(replaceBackSlash(selectedRecord.slinkfilename.trim()), false);\n        testFile[\"sdescription\"] = Lims_JSON_stringify(replaceBackSlash(selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\"), false);\n        testFile[\"slinkname\"] = selectedRecord['nlinkcode'].label && selectedRecord['nlinkcode'].label;\n        testFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\n        testFile[\"ssystemfilename\"] = \"\";\n        testFile[\"dcreateddate\"] = this.props.Login.dcreateddate && convertDateTimetoStringDBFormat(this.props.Login.dcreateddate, this.props.Login.userInfo);\n        testFile[\"nfilesize\"] = 0;\n        testFileArray.push(testFile);\n      }\n\n      formData.append(\"isFileEdited\", isFileEdited);\n      formData.append(\"materialmsdsattachment\", JSON.stringify(testFileArray[0]));\n      let inputParam;\n\n      if (this.props.Login.operation === 'create') {\n        inputParam = {\n          inputData: {\n            \"userinfo\": { ...this.props.Login.userInfo,\n              sformname: Lims_JSON_stringify(this.props.Login.userInfo.sformname),\n              smodulename: Lims_JSON_stringify(this.props.Login.userInfo.smodulename),\n              //ALPD-1628(while saving the file and link,audit trail is not captured the respective language)\n              slanguagename: Lims_JSON_stringify(this.props.Login.userInfo.slanguagename)\n            }\n          },\n          formData: formData,\n          isFileupload: true,\n          operation: \"create\",\n          classUrl: \"material\",\n          methodUrl: \"MaterialMsdsAttachment\",\n          searchRef: this.searchRef,\n          isChild: true,\n          selectedRecord: { ...this.state.selectedRecord\n          }\n        };\n      } else {\n        let postParam = {\n          inputListName: \"MaterialMsdsAttachment\",\n          selectedObject: \"SelectedMaterialMsdsAttachment\",\n          primaryKeyField: \"nmaterialfilecode\"\n        };\n        inputParam = {\n          inputData: {\n            \"userinfo\": { ...this.props.Login.userInfo,\n              sformname: Lims_JSON_stringify(this.props.Login.userInfo.sformname),\n              smodulename: Lims_JSON_stringify(this.props.Login.userInfo.smodulename),\n              slanguagename: Lims_JSON_stringify(this.props.Login.userInfo.slanguagename)\n            }\n          },\n          formData: formData,\n          isFileupload: true,\n          operation: \"update\",\n          classUrl: \"material\",\n          methodUrl: \"MaterialMsdsAttachment\",\n          searchRef: this.searchRef,\n          postParam: postParam,\n          isChild: true,\n          selectedRecord: { ...this.state.selectedRecord\n          }\n        };\n      }\n\n      return inputParam;\n    };\n\n    this.tabDetail = () => {\n      const tabMap = new Map();\n      {\n        // let dataresultarr1 = []\n        // console.log('dcv :', this.props.Login.masterData.MaterialMsdsAttachment && this.props.Login.masterData.MaterialMsdsAttachment)\n        // this.props.Login.masterData.MaterialMsdsAttachment.map((temp) => {\n        //     temp['jsondata'].dcreateddate =\n        //      rearrangeDateFormatDateOnly(this.props.Login.userInfo, temp['jsondata'].dcreateddate)\n        // })\n        // console.log('dataresultarr1 :', this.props.Login.masterData.MaterialMsdsAttachment)\n        // let dataresultarr = []\n        // this.props.Login.masterData[\"MaterialSection\"] &&\n        //     this.props.Login.masterData[\"MaterialSection\"].map((temp) => {\n        //         return dataresultarr.push(temp.jsondata)\n        //     })\n        // console.log('xxx->>>', sortData(this.props.Login.masterData[\"MaterialSection\"], 'descending', 'nmaterialsectioncode'))\n        this.props.Login.masterData.ismaterialSectionneed === 3 && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode !== 5 && tabMap.set(\"IDS_MATERIALSECTION\", /*#__PURE__*/React.createElement(MaterialSectionTab, {\n          controlMap: this.state.controlMap,\n          userRoleControlRights: this.state.userRoleControlRights,\n          dataResult: process(sortData(this.props.Login.masterData[\"MaterialSection\"], 'descending', 'nmaterialsectioncode'), this.props.screenName === undefined || this.props.screenName === \"IDS_MATERIALSECTION\" ? this.state.sectionDataState : {\n            skip: 0,\n            take: 10\n          }),\n          dataState: this.props.screenName === undefined || this.props.screenname === \"IDS_MATERIALSECTION\" ? this.state.sectionDataState : {\n            skip: 0,\n            take: 10\n          },\n          dataStateChange: event => this.setState({\n            sectionDataState: event.dataState\n          }) //data={process(sortData(this.props.Login.masterData[\"MaterialSection\"], 'descending',\n          //'nmaterialsectioncode'))}\n          ,\n          data: this.props.Login.masterData[\"MaterialSection\"],\n          masterData: this.props.Login.masterData,\n          userInfo: this.props.Login.userInfo,\n          getTestDetails: this.props.getTestDetails,\n          getAddMaterialSectionPopup: this.props.getAddMaterialSectionPopup,\n          addParameter: this.addMaterialSection,\n          deleteRecord: this.deleteRecordmain,\n          fetchRecord: this.props.getMaterialSectionEdit,\n          selectedRecord: this.props.Login.selectedRecord,\n          selectedId: this.props.Login.selectedId,\n          screenName: \"IDS_MATERIALSECTION\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1169,\n            columnNumber: 21\n          }\n        }));\n        tabMap.set(\"IDS_MATERIALMSDSATTACHMENT\", /*#__PURE__*/React.createElement(MaterialMsdsAttachmentTab, {\n          controlMap: this.state.controlMap,\n          userRoleControlRights: this.state.userRoleControlRights,\n          userInfo: this.props.Login.userInfo,\n          deleteRecord: this.deleteRecordmain,\n          MaterialMsdsAttachment: sortData(this.props.Login.masterData.MaterialMsdsAttachment, \"descending\", \"nmaterialfilecode\") || [],\n          addMaterialFile: param => this.props.addMaterialFile(param, this.props.Login.masterData.SelectedMaterial),\n          viewMaterialFile: this.viewMaterialFile,\n          screenName: \"IDS_MATERIALMSDSATTACHMENT\",\n          settings: this.props.settings,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1194,\n            columnNumber: 17\n          }\n        }));\n      }\n      return tabMap;\n    };\n\n    this.deleteRecordmain = deleteParam => {\n      const methodUrl = deleteParam.methodUrl;\n      const selected = deleteParam.methodUrl === 'MaterialSection' ? JSON.stringify(deleteParam.selectedRecord) : JSON.stringify(deleteParam.selectedRecord);\n      let dataState = undefined;\n\n      if (this.props.screenName === \"IDS_SECTION\") {\n        dataState = this.state.sectionDataState;\n      } else if (this.props.screenName === \"IDS_METHOD\") {\n        dataState = this.state.methodDataState;\n      } else if (this.props.screenName === \"IDS_INSTRUMENTCATEGORY\") {\n        dataState = this.state.instrumentCatDataState;\n      }\n\n      const inputParam = {\n        inputData: {\n          nmaterialconfigcode: this.props.Login.masterData.selectedTemplate[0].nmaterialconfigcode,\n          ncontrolCode: deleteParam.ncontrolCode,\n          [methodUrl.toLowerCase()]: selected,\n          userinfo: this.props.Login.userInfo\n        },\n        classUrl: \"material\",\n        operation: deleteParam.operation,\n        ncontrolCode: deleteParam.ncontrolCode,\n        methodUrl: methodUrl,\n        screenName: \"IDS_MATERIAL\",\n        dataState,\n        selectedRecord: { ...this.state.selectedRecord\n        }\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: false,\n            openChildModal: true,\n            screenName: \"IDS_MATERIAL\",\n            operation: deleteParam.operation,\n            selectedRecord: {}\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\n      }\n    };\n\n    this.addMaterialSection = param => {\n      let showMaterialSection = this.props.Login.showMaterialSection;\n      let ncontrolCode = this.props.Login.ncontrolCode;\n      let openModal = this.props.Login.openModal;\n      let isneedcombomulti = this.props.Login.isneedcombomulti;\n      isneedcombomulti = false;\n      showMaterialSection = true;\n      openModal = true;\n      ncontrolCode = param;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showMaterialSection,\n          isneedcombomulti,\n          openModal\n        }\n      };\n      this.props.getAddMaterialSectionPopup(this.props.Login.masterData, this.props.Login.userInfo, updateInfo, ncontrolCode);\n    };\n\n    this.ConfirmDelete = deleteId => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.handleClickDelete(this.props.Login.masterData, deleteId, \"openModal\"));\n    };\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onFilterSubmit = () => {\n      this.searchRef.current.value = \"\";\n      let inputData = [];\n      inputData[\"nmaterialtypecode\"] = this.state.selectedcombo[\"nmaterialtypecode\"];\n      inputData[\"materialCatList\"] = this.state.materialCatList;\n      inputData[\"fromDate\"] = this.props.Login.masterData.fromDate;\n      inputData[\"toDate\"] = this.props.Login.masterData.toDate;\n\n      if (this.state.selectedcombo[\"nmaterialtypecode\"] && this.state.selectedMaterialCat[\"nmaterialcatcode\"]) {\n        this.props.getMaterialByTypeCode(this.state.selectedcombo, this.state.selectedMaterialCat, this.props.Login.masterData, this.props.Login.userInfo);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTALLVALUESINFILTER\"\n        }));\n      }\n    };\n\n    this.handlePageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n    };\n\n    this.validateEsign = () => {\n      let modal = \"openModal\";\n\n      if (this.props.Login.operation === \"delete\" && (this.props.Login.screenData.inputParam.methodUrl === \"MaterialSection\" || this.props.Login.screenData.inputParam.methodUrl === \"MaterialMsdsAttachment\")) {\n        modal = \"openChildModal\";\n      }\n\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, modal);\n    };\n\n    this.closeModalShow = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let modalShow = false;\n      let selectedRecord = this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        loadEsign = false;\n      } else {\n        modalShow = false;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          modalShow,\n          selectedRecord,\n          selectedId: null,\n          loadEsign\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onSaveModalClick = () => {\n      let selectedRecord = this.state.selectedRecord || {};\n      const dateVariable = new Date(this.state.selectedRecord.syear);\n      const yearOnly = dateVariable.getFullYear();\n      const reportdetails = {\n        \"nmaterialaccountinggroupcode\": this.state.selectedRecord.nmaterialaccountinggroupcode.value,\n        \"nuraniumcontenttypecode\": this.state.selectedRecord.nuraniumcontenttypecode.value,\n        \"nmonth\": this.state.selectedRecord.nmonth.value,\n        \"smonth\": this.state.selectedRecord.nmonth.label,\n        \"nyear\": yearOnly,\n        \"scomments\": this.state.selectedRecord.scomments\n      };\n      const materialAccountingReport = this.state.controlMap.has(\"MaterialAccountingReport\") && this.state.controlMap.get(\"MaterialAccountingReport\").ncontrolcode;\n      selectedRecord = {};\n      this.setState({\n        selectedRecord\n      });\n      this.props.generateControlBasedReport(materialAccountingReport, reportdetails, this.props.Login, \"materialaccounting\", this.props.Login.masterData.SelectedMaterial.nmaterialcode);\n    };\n\n    this.handleFilterDateChange = (dateName, dateValue) => {\n      const {\n        selectedRecord\n      } = this.state;\n\n      if (dateValue === null) {\n        dateValue = new Date();\n      }\n\n      selectedRecord[dateName] = dateValue;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.viewMaterialFile = filedata => {\n      const inputParam = {\n        inputData: {\n          nmaterialcode: this.props.Login.masterData.SelectedMaterial.nmaterialcode && this.props.Login.masterData.SelectedMaterial.nmaterialcode,\n          ndesigntemplatemappingcode: this.props.Login.masterData.selectedTemplate[0].nmaterialconfigcode,\n          materialmsdsattachment: JSON.stringify(filedata),\n          userinfo: this.props.Login.userInfo\n        },\n        classUrl: \"material\",\n        operation: \"view\",\n        methodUrl: \"AttachedMaterialMsdsAttachment\",\n        screenname: \"IDS_MATERIALMSDSATTACHMENT\"\n      };\n      this.props.viewAttachment(inputParam);\n    };\n\n    this.closeModal = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal; //ALPD-3485,ALPD-3484 Issue:delete material section and cancel esign pop up window open.\n      //Set openchildmodal false, issue fixed by Saravanan - 13-11-2024\n\n      let openChildModal = this.props.Login.openChildModal;\n      let showSectionWhileEdit = this.props.Login.showSectionWhileEdit;\n      let showMaterialSection = this.props.Login.showMaterialSection;\n      let isneedcombomulti = this.props.Login.isneedcombomulti;\n      let selectedRecord = this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"retire\") {\n          loadEsign = false;\n          openModal = false;\n          openChildModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsign = false;\n          selectedRecord['esignpassword'] = \"\";\n          selectedRecord['esigncomments'] = \"\";\n          selectedRecord['esignreason'] = \"\";\n        }\n      } else {\n        openModal = false;\n        openChildModal = false;\n        showMaterialSection = false;\n        isneedcombomulti = false;\n        showSectionWhileEdit = false;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          openChildModal,\n          showMaterialSection,\n          screenName: \"IDS_MATERIAL\",\n          showMaterialSection,\n          loadEsign,\n          selectedRecord,\n          selectedId: null\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      if (comboData != null) {\n        if (fieldName === \"nmaterialtypecode\") {\n          const selectedcombo = this.state.selectedcombo || {};\n          selectedcombo[fieldName] = comboData;\n          this.searchRef.current.value = \"\";\n          this.props.initialcombochangeget(comboData.item.nmaterialtypecode, this.props.Login.masterData, this.props.Login.userInfo);\n        } else if (fieldName === \"nmaterialcatcode\") {\n          const selectedMaterialCat = this.state.selectedMaterialCat || {};\n          selectedMaterialCat[fieldName] = comboData;\n          this.setState({\n            selectedMaterialCat\n          });\n        } else if (fieldName === \"nmaterialsectioncode\") {\n          const selectedRecord = this.state.selectedRecord || {};\n          selectedRecord[\"nmaterialsectioncode\"] = comboData;\n          this.setState({\n            selectedRecord\n          });\n        } else if (fieldName === \"nlinkcode\") {\n          const selectedRecord = this.state.selectedRecord || {};\n          selectedRecord[\"nlinkcode\"] = comboData;\n          this.setState({\n            selectedRecord\n          });\n        } else if (fieldName.displaymember === \"smaterialcatname\" || fieldName.displaymember === \"sunitname\" || fieldName.displaymember === \"speriodname\") {\n          const selectedMaterialCat = this.state.selectedMaterialCat || {};\n          selectedMaterialCat[fieldName] = comboData;\n          this.setState({\n            selectedMaterialCat\n          });\n          let comboName = fieldName.label;\n          const selectedRecord = this.state.selectedRecord || {};\n\n          if (comboData) {\n            selectedRecord[comboName] = comboData;\n          } else {\n            selectedRecord[comboName] = [];\n          }\n\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              selectedRecord\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else if (fieldName.label === \"IDS_STORAGECONDITION\") {\n          let comboName = fieldName.label;\n          const selectedRecord = this.state.selectedRecord || {};\n\n          if (comboData) {\n            selectedRecord[comboName] = comboData;\n          } else {\n            selectedRecord[comboName] = [];\n          }\n\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              selectedRecord\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else if (fieldName === \"value\") {\n          const comboitem = this.state.comboitem || {};\n          comboitem[fieldName] = comboData;\n          this.setState({\n            comboitem\n          });\n        } else {\n          const selectedRecord = this.state.selectedRecord || {};\n          selectedRecord[fieldName] = comboData;\n          this.setState({\n            selectedRecord\n          });\n        }\n      }\n    };\n\n    this.onComboChangedynamic = (comboData, control) => {\n      let isSelectedRecordChange = this.state.isSelectedRecordChange;\n\n      if (comboData === null && comboData === undefined && control.valuemember && control.nquerybuildertablecode) {\n        comboData[\"item\"] = { ...comboData[\"item\"],\n          pkey: control.valuemember,\n          nquerybuildertablecode: control.nquerybuildertablecode,\n          \"source\": control.source\n        };\n      }\n\n      if (control.inputtype === 'date') {\n        const selectedRecord = this.state.selectedRecord || {};\n        selectedRecord[`tz${control.label}`] = comboData;\n        isSelectedRecordChange = true;\n        this.setState({\n          selectedRecord,\n          isSelectedRecordChange\n        });\n      } else {\n        if (control.label === 'Material Category') {\n          let ismaterialSectionneed = this.props.Login.masterData.ismaterialSectionneed;\n          let showSectionWhileEdit = this.state.showSectionWhileEdit;\n          ismaterialSectionneed = comboData.item.jsondata.needsectionwise; // const updateInfo = {\n          //     typeName: DEFAULT_RETURN,\n          //     data: {\n          //         ismaterialSectionneed\n          //     }\n          // }\n          // ALPD-956 begin\n\n          this.state.selectedRecord['Section'] = ismaterialSectionneed == 4 ? this.state.selectedRecord['Section'] = undefined : this.state.selectedRecord['Section']; // ALPD-956 end\n\n          const selectedRecord = this.state.selectedRecord || {};\n          selectedRecord[control.label] = comboData;\n          isSelectedRecordChange = true;\n          showSectionWhileEdit = true;\n          this.setState({\n            selectedRecord,\n            isSelectedRecordChange,\n            ismaterialSectionneed,\n            showSectionWhileEdit\n          }); //   this.props.onMaterialCatChange(comboData.item.jsondata.needsectionwise );\n        } else {\n          const selectedRecord = this.state.selectedRecord || {};\n          selectedRecord[control.label] = comboData && (comboData === null || comboData === undefined) ? undefined : comboData;\n          isSelectedRecordChange = true;\n          this.setState({\n            selectedRecord,\n            isSelectedRecordChange\n          });\n        }\n      }\n    };\n\n    this.onInputOnChangeDynamic = (event, radiotext) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      let isSelectedRecordChange = this.state.isSelectedRecordChange;\n\n      if (event.target.type === 'checkbox') {\n        if (event.target.name === 'timeonly') {\n          selectedRecord['dateonly'] = false;\n        }\n\n        if (event.target.name === 'dateonly') {\n          selectedRecord['timeonly'] = false;\n        }\n\n        const value = selectedRecord[event.target.name];\n\n        if (value !== '' && value !== undefined) {\n          if (value.includes(radiotext)) {\n            const index = value.indexOf(radiotext);\n\n            if (index !== -1) {\n              if (index == 0) {\n                const indexcomma = value.indexOf(\",\");\n\n                if (indexcomma !== -1) {\n                  selectedRecord[event.target.name] = value.slice(indexcomma + 1);\n                } else {\n                  selectedRecord[event.target.name] = \"\";\n                }\n              } else {\n                //  const  indexcomma= value.indexOf(\",\")\n                if (value.slice(index).indexOf(\",\") !== -1) {\n                  selectedRecord[event.target.name] = value.slice(0, index) + value.slice(index + value.slice(index).indexOf(\",\") + 1);\n                } else {\n                  selectedRecord[event.target.name] = value.slice(0, index - 1);\n                }\n              }\n            }\n          } else {\n            selectedRecord[event.target.name] = value + ',' + radiotext;\n          }\n        } else {\n          selectedRecord[event.target.name] = radiotext;\n        }\n      } else if (event.target.type === 'radio') {\n        selectedRecord[event.target.name] = radiotext;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      isSelectedRecordChange = true;\n      this.setState({\n        selectedRecord,\n        isSelectedRecordChange\n      });\n    };\n\n    this.onInputOnChange = (event, optional2) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      let isSelectedRecordChange = this.state.isSelectedRecordChange;\n\n      if (this.props.Login.screenname !== \"IDS_MATERIALMSDSATTACHMENT\") {\n        if (event.target.type === 'checkbox') {\n          if (event.target.name === \"ntransactionstatus\") selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;else selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n\n          if (event.target.name === 'Expiry') {\n            if (selectedRecord[event.target.name] === 4) {\n              if (selectedRecord['Expiry Policy Days']) {\n                delete selectedRecord['Expiry Policy Days'];\n              }\n\n              if (selectedRecord['tzExpiry Policy Days']) {\n                delete selectedRecord['tzExpiry Policy Days'];\n              }\n\n              if (selectedRecord['Need Expiry']) {\n                selectedRecord['Need Expiry'] = 4;\n              }\n            }\n          }\n\n          if (event.target.name === 'Need Expiry' || event.target.name === 'Expiry Validations') {\n            if (selectedRecord[event.target.name] === 4) {\n              if (selectedRecord['Expiry Policy Days']) {\n                delete selectedRecord['Expiry Policy Days'];\n              }\n\n              if (selectedRecord['tzExpiry Policy Days']) {\n                delete selectedRecord['tzExpiry Policy Days'];\n              }\n            }\n          }\n\n          if (event.target.name === 'Open Expiry Need') {\n            if (selectedRecord[event.target.name] === 4) {\n              if (selectedRecord['Open Expiry']) {\n                delete selectedRecord['Open Expiry'];\n              }\n\n              if (selectedRecord['tzOpen Expiry']) {\n                delete selectedRecord['tzOpen Expiry'];\n              }\n\n              if (selectedRecord['Open Expiry Period']) {\n                delete selectedRecord['Open Expiry Period'];\n              }\n            } else {\n              selectedRecord['Open Expiry Period'] = this.props.Login.templateData.comboData['Open Expiry Period'].filter(x => x.item.jsondata.jsondata.ndefaultstatus === transactionStatus.YES)[0];\n            }\n          }\n\n          if (event.target.name === 'Next Validation Need') {\n            if (selectedRecord[event.target.name] === 4) {\n              if (selectedRecord['Next Validation']) {\n                delete selectedRecord['Next Validation'];\n              }\n\n              if (selectedRecord['tzNext Validation']) {\n                delete selectedRecord['tzNext Validation'];\n              }\n\n              if (selectedRecord['Next Validation Period']) {\n                delete selectedRecord['Next Validation Period'];\n              }\n            } else {\n              selectedRecord['Next Validation Period'] = this.props.Login.templateData.comboData['Next Validation Period'].filter(x => x.item.jsondata.jsondata.ndefaultstatus === transactionStatus.YES)[0];\n            }\n          }\n\n          if (event.target.name === 'Quarantine') {\n            if (selectedRecord[event.target.name] === 4) {\n              if (selectedRecord['Next Validation Need']) {\n                selectedRecord['Next Validation Need'] = 4;\n              }\n\n              if (selectedRecord['Next Validation']) {\n                delete selectedRecord['Next Validation'];\n              }\n\n              if (selectedRecord['Next Validation Period']) {\n                delete selectedRecord['Next Validation Period'];\n              }\n            }\n          }\n        } else if (event.target.type === 'radio') {\n          if (optional2 !== 'Expiry policy') {\n            if (selectedRecord['Expiry Policy Days']) {\n              delete selectedRecord['Expiry Policy Days'];\n            }\n\n            if (selectedRecord['tzExpiry Policy Days']) {\n              delete selectedRecord['tzExpiry Policy Days'];\n            }\n\n            if (selectedRecord['Expiry Policy Period']) {\n              delete selectedRecord['Expiry Policy Period'];\n            }\n          } else {\n            selectedRecord['Expiry Policy Period'] = this.props.Login.templateData.comboData['Expiry Policy Period'].filter(x => x.item.jsondata.jsondata.ndefaultstatus === transactionStatus.YES)[0];\n          }\n\n          selectedRecord[event.target.name] = optional2;\n        } else {\n          selectedRecord[event.target.name] = event.target.value;\n        }\n\n        isSelectedRecordChange = true;\n        this.setState({\n          selectedRecord,\n          isSelectedRecordChange\n        });\n      } else {\n        if (event.target.type === 'checkbox') {\n          selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n        } else if (event.target.type === 'radio') {\n          selectedRecord[event.target.name] = optional2;\n        } else {\n          selectedRecord[event.target.name] = event.target.value;\n        }\n\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      // console.log(\"selected:\", this.state.selectedRecord);\n      let inputData = [];\n      let inputParam = {};\n      let varmain = {};\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      let postParam = undefined;\n      inputData[\"DateList\"] = [];\n      let nmaterialconfigcode;\n      nmaterialconfigcode = this.props.Login.masterData.selectedTemplate[0].nmaterialconfigcode;\n\n      if (this.props.Login.screenname === \"IDS_MATERIAL\") {\n        // if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1) {\n        //     varmain = \"Standard Name\"\n        // }\n        // else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2) {\n        //     varmain = \"Volumetric Name\"\n        // }\n        // else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 3) {\n        //     varmain = \"Material Name\"\n        // }\n        inputData[\"Material\"] = {};\n        inputData[\"jsonuidata\"] = {};\n        const Layout = this.props.Login.masterData.selectedTemplate[0].jsondata;\n        Layout.map(row => {\n          row.children.map(column => {\n            column.children.map(component => {\n              if (component.inputtype === 'combo') {\n                let isValid = false;\n\n                if (component.label === 'Expiry Policy Period') {\n                  if (this.state.selectedRecord['Expiry Policy Days'] && this.state.selectedRecord['Expiry Policy Days'] > 0) {\n                    isValid = true;\n                  }\n                } else if (component.label === 'Open Expiry Period') {\n                  if (this.state.selectedRecord['Open Expiry'] && this.state.selectedRecord['Open Expiry'] > 0) {\n                    isValid = true;\n                  }\n                } else if (component.label === 'Next Validation Period') {\n                  if (this.state.selectedRecord['Next Validation'] && this.state.selectedRecord['Next Validation'] > 0) {\n                    isValid = true;\n                  }\n                } else {\n                  isValid = true;\n                }\n\n                if (isValid) {\n                  inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label] ? {\n                    label: this.state.selectedRecord[component.label][\"label\"],\n                    value: this.state.selectedRecord[component.label][\"value\"],\n                    pkey: this.state.selectedRecord[component.label].item.pkey,\n                    nquerybuildertablecode: this.state.selectedRecord[component.label].item.nquerybuildertablecode,\n                    item: this.state.selectedRecord[component.label].item\n                  } : \"\";\n                  inputData[\"jsonuidata\"][component.label] = this.state.selectedRecord[component.label] ? this.state.selectedRecord[component.label][\"label\"] : \"\";\n                }\n              } else if (component.inputtype === 'date') {\n                if (this.state.selectedRecord[component.label]) {\n                  inputData[\"Material\"][`tz${component.label}`] = component.hasOwnProperty('timezone') ? {\n                    label: this.state.selectedRecord[`tz${component.label}`][\"label\"],\n                    value: this.state.selectedRecord[`tz${component.label}`][\"value\"]\n                  } : {\n                    label: this.props.Login.userInfo['stimezoneid'],\n                    value: this.props.Login.userInfo['ntimezonecode']\n                  };\n                  inputData[\"Material\"][component.label] = convertDateTimetoStringDBFormat(this.state.selectedRecord[component.label], this.props.Login.userInfo);\n                  inputData[\"DateList\"].push(component.label);\n                }\n\n                inputData[\"jsonuidata\"][component.label] = this.state.selectedRecord[component.label] ? convertDateTimetoStringDBFormat(this.state.selectedRecord[component.label], this.props.Login.userInfo) : \"\";\n              } else if (component.inputtype === 'toggle') {\n                // if (component.label === 'Quarantine') {\n                //     inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]===undefined?4:\n                //     this.state.selectedRecord[component.label]\n                // }\n                // else if (component.label === 'Expiry') {\n                //     inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\n                // }\n                // else if (component.label === 'Need Expiry') {\n                //     inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\n                // }\n                // else if (component.label === 'Open Expiry Need') {\n                //     inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\n                // }\n                // else if (component.label === 'Reusable') {\n                //     inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\n                // }\n                if (this.state.selectedRecord[component.label] === \"\") {\n                  inputData[\"Material\"][component.label] = 4;\n                } else if (this.state.selectedRecord[component.label] === undefined) {\n                  inputData[\"Material\"][component.label] = 4;\n                } else {\n                  inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label];\n                }\n\n                if (this.state.selectedRecord[component.label] !== \"\") {\n                  inputData[\"jsonuidata\"][component.label] = this.state.selectedRecord[component.label] === transactionStatus.YES ? this.props.intl.formatMessage({\n                    id: \"IDS_YES\"\n                  }) : this.props.intl.formatMessage({\n                    id: \"IDS_NO\"\n                  });\n                }\n              } else {\n                if (component.label !== undefined) {\n                  inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label] !== undefined ? this.state.selectedRecord[component.label] ? this.state.selectedRecord[component.label] : \"\" : \"\"; // }\n                  //    if (this.state.selectedRecord[component.label] !== undefined) {\n\n                  inputData[\"jsonuidata\"][component.label] = this.state.selectedRecord[component.label] !== undefined ? this.state.selectedRecord[component.label] ? this.state.selectedRecord[component.label] : \"\" : \"\";\n                }\n              }\n\n              component.hasOwnProperty(\"children\") && component.children.map(componentrow => {\n                if (componentrow.inputtype === 'combo') {\n                  let isValid = false;\n\n                  if (componentrow.label === 'Expiry Policy Period') {\n                    if (this.state.selectedRecord['Expiry Policy Days'] && this.state.selectedRecord['Expiry Policy Days'] > 0) {\n                      isValid = true;\n                    }\n                  } else if (componentrow.label === 'Open Expiry Period') {\n                    if (this.state.selectedRecord['Open Expiry'] && this.state.selectedRecord['Open Expiry'] > 0) {\n                      isValid = true;\n                    }\n                  } else if (componentrow.label === 'Next Validation Period') {\n                    if (this.state.selectedRecord['Next Validation'] && this.state.selectedRecord['Next Validation'] > 0) {\n                      isValid = true;\n                    }\n                  } else {\n                    isValid = true;\n                  }\n\n                  if (isValid) {\n                    inputData[\"Material\"][componentrow.label] = this.state.selectedRecord[componentrow.label] ? {\n                      label: this.state.selectedRecord[componentrow.label][\"label\"],\n                      value: this.state.selectedRecord[componentrow.label][\"value\"],\n                      pkey: this.state.selectedRecord[componentrow.label].item.pkey,\n                      nquerybuildertablecode: this.state.selectedRecord[componentrow.label].item.nquerybuildertablecode,\n                      item: this.state.selectedRecord[componentrow.label].item\n                    } : \"\";\n                    inputData[\"jsonuidata\"][componentrow.label] = this.state.selectedRecord[componentrow.label] ? this.state.selectedRecord[componentrow.label][\"label\"] : \"\";\n                  }\n                } else if (componentrow.inputtype === 'date') {\n                  if (this.state.selectedRecord[componentrow.label]) {\n                    inputData[\"Material\"][`tz${componentrow.label}`] = componentrow.hasOwnProperty('timezone') ? {\n                      label: this.state.selectedRecord[`tz${componentrow.label}`][\"label\"],\n                      value: this.state.selectedRecord[`tz${componentrow.label}`][\"value\"]\n                    } : {\n                      label: this.props.Login.userInfo['stimezoneid'],\n                      value: this.props.Login.userInfo['ntimezonecode']\n                    };\n                    inputData[\"Material\"][componentrow.label] = convertDateTimetoStringDBFormat(this.state.selectedRecord[componentrow.label], this.props.Login.userInfo);\n                    inputData[\"DateList\"].push(componentrow.label);\n                  }\n\n                  inputData[\"jsonuidata\"][componentrow.label] = this.state.selectedRecord[componentrow.label] ? convertDateTimetoStringDBFormat(this.state.selectedRecord[componentrow.label], this.props.Login.userInfo) : \"\";\n                } else if (componentrow.inputtype === 'toggle') {\n                  if (this.state.selectedRecord[componentrow.label] === \"\") {\n                    inputData[\"Material\"][componentrow.label] = 4;\n                  } else if (this.state.selectedRecord[componentrow.label] === undefined) {\n                    inputData[\"Material\"][componentrow.label] = 4;\n                  } else {\n                    inputData[\"Material\"][componentrow.label] = this.state.selectedRecord[componentrow.label];\n                  }\n\n                  if (this.state.selectedRecord[componentrow.label] !== \"\") {\n                    inputData[\"jsonuidata\"][componentrow.label] = this.state.selectedRecord[componentrow.label] === transactionStatus.YES ? 'Yes' : 'No';\n                  }\n                } else {\n                  //  if (this.state.selectedRecord[componentrow.label] !== undefined) {\n                  inputData[\"Material\"][componentrow.label] = this.state.selectedRecord[componentrow.label] !== undefined ? this.state.selectedRecord[componentrow.label] ? this.state.selectedRecord[componentrow.label] : \"\" : \"\"; // }\n                  // if (this.state.selectedRecord[componentrow.label] !== undefined) {\n\n                  inputData[\"jsonuidata\"][componentrow.label] = this.state.selectedRecord[componentrow.label] !== undefined ? this.state.selectedRecord[componentrow.label] ? this.state.selectedRecord[componentrow.label] : \"\" : \"\"; // }\n                }\n              });\n            });\n          });\n        }); // inputData[\"Material\"][varmain] = this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1 ?\n        //     this.state.selectedRecord['Standard Name'] :\n        //     this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2 ?\n        //         this.state.selectedRecord['Volumetric Name'] :\n        //         this.state.selectedRecord['Material Name']\n\n        inputData[\"Material\"][\"Material Name\"] = this.state.selectedRecord['Material Name'] && this.state.selectedRecord['Material Name'];\n        inputData[\"jsonuidata\"] = { ...inputData[\"jsonuidata\"],\n          \"nmaterialcatcode\": this.state.selectedRecord['Material Category'].value,\n          \"nmaterialconfigcode\": nmaterialconfigcode\n        };\n        inputData[\"Material\"] = { ...inputData[\"Material\"],\n          \"nmaterialcatcode\": this.state.selectedRecord['Material Category'].value,\n          \"nmaterialtypecode\": this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode\n        };\n        inputData[\"materialJson\"] = JSON.stringify(inputData[\"Material\"]);\n        inputData[\"jsonuidata\"] = JSON.stringify(inputData[\"jsonuidata\"]);\n        inputData[\"ntransactionstatus\"] = inputData[\"Material\"]['Quarantine'];\n        inputData[\"nmaterialtypecode\"] = this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode;\n        inputData[\"nmaterialcatcode\"] = this.state.selectedRecord['Material Category'].value;\n        inputData[\"needsectionwise\"] = this.props.Login.selectedRecord['Material Category'].item ? this.props.Login.selectedRecord['Material Category'].item.jsondata.needsectionwise : this.props.Login.selectedRecord['Material Category'].needsectionwise;\n\n        if (this.props.Login.selectedRecord['Material Category'].item ? this.props.Login.selectedRecord['Material Category'].item.jsondata.needsectionwise : this.props.Login.selectedRecord['Material Category'].needsectionwise === transactionStatus.YES) {\n          // inputData[\"materialSectionJson\"] = [{\n          //     \"ssectionname\": this.state.selectedRecord[\"Section\"].label,\n          //     \"nsectioncode\": this.state.selectedRecord[\"Section\"].value,\n          //     \"nreorderlevel\": this.state.selectedRecord[\"Reorder Level\"] && this.state.selectedRecord[\"Reorder Level\"]\n          //     //,\n          //     //\"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode\n          // }];\n          inputData[\"materialSectionJson\"] = {\n            \"nreorderlevel\": this.state.selectedRecord[\"Reorder Level\"] && this.state.selectedRecord[\"Reorder Level\"],\n            \"nsectioncode\": this.state.selectedRecord[\"Section\"] && this.state.selectedRecord[\"Section\"].value,\n            'nmaterialconfigcode': nmaterialconfigcode\n          };\n          inputData[\"materialSectionJson\"] = JSON.stringify(inputData[\"materialSectionJson\"]);\n        }\n\n        const masterData = this.props.Login.masterData; // console.log(\"data:\", inputData);\n\n        if (this.props.Login.operation === 'create') {\n          inputParam = {\n            classUrl: \"material\",\n            methodUrl: \"Material\",\n            inputData: inputData,\n            operation: this.props.Login.operation,\n            saveType,\n            formRef,\n            postParam,\n            selectedRecord: this.state.selectedRecord,\n            searchRef: this.searchRef,\n            dataState: this.state.dataState,\n            selectedRecord: { ...this.state.selectedRecord\n            }\n          };\n        } else {\n          inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.nmaterialcode;\n          inputParam = {\n            classUrl: \"material\",\n            methodUrl: \"Material\",\n            inputData: inputData,\n            operation: this.props.Login.operation,\n            saveType,\n            formRef,\n            postParam: {\n              selectedObject: \"SelectedMaterial\",\n              primaryKeyField: \"nmaterialcode\",\n              inputListName: \"Material\",\n              selectedComboName: \"selectedMaterialCat\",\n              selectedCombo: this.state.selectedRecord['Material Category'],\n              selectedComboId: \"nmaterialcatcode\"\n            },\n            selectedRecord: this.state.selectedRecord,\n            searchRef: this.searchRef,\n            dataState: this.state.dataState,\n            filtercombochange: this.props.Login.masterData.searchedData !== undefined ? this.state.selectedRecord['Material Category'].value === this.props.Login.masterData.SelectedMaterialCategoryFilter.nmaterialcatcode ? false : true : false,\n            selectedRecord: { ...this.state.selectedRecord\n            }\n          }; // if(this.state.selectedRecord['Material Category'].value!==this.props.Login.masterData.SelectedMaterialCategory.nmaterialcatcode){\n          //     masterData={...masterData,searchedData}\n          // }\n        } // if (this.props.Login.screenName === \"IDS_MATERIAL\") {\n        //     // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n        //     //     const updateInfo = {\n        //     //         typeName: DEFAULT_RETURN,\n        //     //         data: {\n        //     //             loadEsign: true, screenData: { inputParam, masterData }, saveType\n        //     //         }\n        //     //     }\n        //     //     this.props.updateStore(updateInfo);\n        //     // }\n        //     // else {\n        //     //     this.props.crudMaster(inputParam, masterData, \"openModal\");\n        //     // }\n        // } else {\n\n\n        if (this.props.Login.masterData.copyScreenRights ? this.props.Login.masterData.copyScreenRights.length > 0 : false) {\n          this.ConfirmComponent();\n        } else {\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                saveType\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\n          } // }\n\n        }\n      } else if (this.props.Login.screenname === \"IDS_MATERIALSAFETYINSTRUCTIONS\") {\n        const Layout = this.props.Login.masterData.selectedTemplateSafetyInstructions[0].jsondata;\n        const dynamicobj = {};\n        let jsonuidata = {};\n        Layout.map(row => {\n          row.children.map(column => {\n            column.children.map(component => {\n              //if (component.inputtype === 'combo') {\n              // if (this.state.selectedRecord[component.label]) {\n              //     dynamicobj[component.label] = {\n              //         label: this.state.selectedRecord[component.label][\"label\"],\n              //         value: this.state.selectedRecord[component.label][\"value\"]\n              //     }\n              // }\n              //     jsonuidata[component.label] =  this.state.selectedRecord[component.label] ?\n              //     component.label ? 'Yes' : 'No' :  'No' \n              // }\n              // else {\n              if (component.inputtype === 'checkbox') {\n                //  if (this.state.selectedRecord[component.label]) {\n                dynamicobj[component.label] = this.state.selectedRecord[component.label];\n                jsonuidata[component.label] = this.state.selectedRecord[component.label] ? // component.label ? 'Yes' : 'No' : 'No'\n                component.label ? this.props.intl.formatMessage({\n                  id: \"IDS_YES\"\n                }) : this.props.intl.formatMessage({\n                  id: \"IDS_NO\"\n                }) : this.props.intl.formatMessage({\n                  id: \"IDS_NO\"\n                }); //   }\n                // jsonuidata[component.label] =  this.state.selectedRecord[component.label] ?\n                // component.label ? 'Yes' : 'No' :  'No' \n              } else {\n                if (this.state.selectedRecord[component.label]) {\n                  dynamicobj[component.label] = this.state.selectedRecord[component.label];\n                  jsonuidata[component.label] = this.state.selectedRecord[component.label];\n                }\n              }\n\n              component.hasOwnProperty(\"children\") && component.children.map(componentrow => {\n                // if (componentrow.inputtype === 'combo') {\n                //     // if (this.state.selectedRecord[componentrow.label]) {\n                //     //     dynamicobj[componentrow.label] =\n                //     //     {\n                //     //         label: this.state.selectedRecord[componentrow.label][\"label\"],\n                //     //         value: this.state.selectedRecord[componentrow.label][\"value\"]\n                //     //     }\n                //     // }\n                //     jsonuidata[componentrow.label] =  this.state.selectedRecord[componentrow.label] ?\n                //         componentrow.label ? 'Yes' : 'No' :  'No' \n                // }\n                // else {\n                //     if (this.state.selectedRecord[componentrow.label]) {\n                //         dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label]\n                //         jsonuidata[componentrow.label] =  this.state.selectedRecord[componentrow.label] ?\n                //          componentrow.label ? 'Yes' : 'No' :  'No' \n                //     }\n                //     //jsonuidata[componentrow.label] =  this.state.selectedRecord[componentrow.label] ?\n                //     //componentrow.label ? 'Yes' : 'No' :  'No' \n                // }\n                if (componentrow.inputtype === 'checkbox') {\n                  //  if (this.state.selectedRecord[componentrow.label]) {\n                  dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label];\n                  jsonuidata[componentrow.label] = this.state.selectedRecord[componentrow.label] ? componentrow.label ? 'Yes' : 'No' : 'No'; //  }\n                  // jsonuidata[component.label] =  this.state.selectedRecord[component.label] ?\n                  // component.label ? 'Yes' : 'No' :  'No' \n                } else {\n                  if (this.state.selectedRecord[componentrow.label]) {\n                    dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label];\n                    jsonuidata[componentrow.label] = this.state.selectedRecord[componentrow.label];\n                  }\n                }\n              });\n            });\n          });\n        });\n        inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.nmaterialcode;\n\n        if (this.props.Login.masterData.MaterialSafetyInstructions.length > 0) {\n          inputData[\"nmaterialsafetyinstructionscode\"] = this.props.Login.masterData.MaterialSafetyInstructions[0].nmaterialsafetyinstructionscode;\n        } else {\n          inputData[\"nmaterialsafetyinstructionscode\"] = 0;\n        }\n\n        inputData[\"jsonuidata\"] = JSON.stringify(jsonuidata);\n        inputData[\"materialSafetyInstructions\"] = JSON.stringify(dynamicobj);\n        inputData[\"nflag\"] = 1;\n        inputData['nmaterialconfigcode'] = nmaterialconfigcode;\n        inputParam = {\n          classUrl: \"material\",\n          methodUrl: \"MaterialSafetyInstructions\",\n          inputData: inputData,\n          operation: 'create',\n          saveType,\n          formRef,\n          postParam,\n          selectedRecord: this.state.selectedRecord,\n          searchRef: this.searchRef,\n          dataState: this.state.dataState,\n          selectedRecord: { ...this.state.selectedRecord\n          }\n        };\n        let masterData = this.props.Login.masterData;\n\n        if (this.state.isSelectedRecordChange) {\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                saveType\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n          }\n        } else {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              openModal: false\n            }\n          };\n          this.props.updateStore(updateInfo);\n        }\n      } else if (this.props.Login.screenname === \"IDS_MATERIALMSDSATTACHMENT\") {\n        inputParam = this.onSaveMaterialFile();\n        let masterData = this.props.Login.masterData;\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              saveType\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n        }\n      } else if (this.props.Login.screenname === \"IDS_MATERIALPROPERTY\") {\n        let masterData = this.props.Login.masterData;\n        const Layout = this.props.Login.masterData.selectedTemplateProperties[0].jsondata;\n        const dynamicobj = {};\n        inputData[\"DateList\"] = [];\n        inputData[\"jsonuidata\"] = {};\n        Layout.map(row => {\n          row.children.map(column => {\n            column.children.map(component => {\n              if (component.inputtype === 'combo') {\n                if (this.state.selectedRecord[component.label]) {\n                  dynamicobj[component.label] = {\n                    label: this.state.selectedRecord[component.label][\"label\"],\n                    value: this.state.selectedRecord[component.label][\"value\"]\n                  };\n                  inputData[\"jsonuidata\"][component.label] = this.state.selectedRecord[component.label][\"label\"];\n                }\n              } else if (component.inputtype === 'date') {\n                if (this.state.selectedRecord[component.label]) {\n                  dynamicobj[`tz${component.label}`] = component.hasOwnProperty('timezone') ? {\n                    label: this.state.selectedRecord[`tz${component.label}`][\"label\"],\n                    value: this.state.selectedRecord[`tz${component.label}`][\"value\"]\n                  } : {\n                    label: this.props.Login.userInfo['stimezoneid'],\n                    value: this.props.Login.userInfo['ntimezonecode']\n                  };\n                  dynamicobj[component.label] = convertDateTimetoStringDBFormat(this.state.selectedRecord[component.label], this.props.Login.userInfo);\n                  inputData[\"DateList\"].push(component.label);\n                  inputData[\"jsonuidata\"][`tz${component.label}`] = dynamicobj[`tz${component.label}`].label;\n                  inputData[\"jsonuidata\"][component.label] = dynamicobj[component.label];\n                }\n              } else {\n                if (this.state.selectedRecord.hasOwnProperty(component.label)) {\n                  dynamicobj[component.label] = this.state.selectedRecord[component.label];\n                  inputData[\"jsonuidata\"][component.label] = dynamicobj[component.label];\n                }\n              }\n\n              component.hasOwnProperty(\"children\") && component.children.map(componentrow => {\n                if (componentrow.inputtype === 'combo') {\n                  if (this.state.selectedRecord[componentrow.label]) {\n                    dynamicobj[componentrow.label] = {\n                      label: this.state.selectedRecord[componentrow.label][\"label\"],\n                      value: this.state.selectedRecord[componentrow.label][\"value\"]\n                    };\n                    inputData[\"jsonuidata\"][component.label] = dynamicobj[component.label].label;\n                  }\n                } else if (componentrow.inputtype === 'date') {\n                  if (this.state.selectedRecord[componentrow.label]) {\n                    dynamicobj[`tz${componentrow.label}`] = componentrow.hasOwnProperty('timezone') ? {\n                      label: this.state.selectedRecord[`tz${componentrow.label}`][\"label\"],\n                      value: this.state.selectedRecord[`tz${componentrow.label}`][\"value\"]\n                    } : {\n                      label: this.props.Login.userInfo['stimezoneid'],\n                      value: this.props.Login.userInfo['ntimezonecode']\n                    };\n                    dynamicobj[componentrow.label] = convertDateTimetoStringDBFormat(this.state.selectedRecord[componentrow.label], this.props.Login.userInfo);\n                    inputData[\"DateList\"].push(componentrow.label);\n                    inputData[\"jsonuidata\"][`tz${componentrow.label}`] = dynamicobj[`tz${componentrow.label}`].label;\n                    inputData[\"jsonuidata\"][componentrow.label] = dynamicobj[componentrow.label];\n                  }\n                } else {\n                  if (this.state.selectedRecord[componentrow.label]) {\n                    dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label];\n                    inputData[\"jsonuidata\"][componentrow.label] = dynamicobj[componentrow.label];\n                  }\n                }\n              });\n            });\n          });\n        });\n        /* ALPD-925 Begin */\n\n        inputData[\"nmaterialtypecode\"] = this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode;\n        /* ALPD-925 End */\n\n        inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.nmaterialcode;\n\n        if (this.props.Login.masterData.MaterialProperties.length > 0) {\n          inputData[\"nmaterialpropertycode\"] = this.props.Login.masterData.MaterialProperties[0].nmaterialpropertycode;\n        } else {\n          inputData[\"nmaterialpropertycode\"] = 0;\n        } //inputData[\"DateList\"] = JSON.stringify(DateList) \n\n\n        inputData[\"jsonuidata\"] = { ...inputData[\"jsonuidata\"],\n          'nmaterialconfigcode': nmaterialconfigcode\n        };\n        inputData[\"jsonuidata\"] = JSON.stringify(inputData[\"jsonuidata\"]);\n        inputData[\"materialProperty\"] = JSON.stringify(dynamicobj);\n        inputData[\"nflag\"] = 2;\n        inputParam = {\n          classUrl: \"material\",\n          methodUrl: \"MaterialSafetyInstructions\",\n          inputData: inputData,\n          operation: 'create',\n          saveType,\n          formRef,\n          postParam,\n          selectedRecord: this.state.selectedRecord,\n          searchRef: this.searchRef,\n          dataState: this.state.dataState,\n          selectedRecord: { ...this.state.selectedRecord\n          }\n        };\n\n        if (this.state.isSelectedRecordChange) {\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                saveType\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n          }\n        } else {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              openModal: false\n            }\n          };\n          this.props.updateStore(updateInfo);\n        }\n      } else if (this.props.Login.screenname === \"IDS_MATERIALACCOUNTING\") {\n        if (this.state.selectedRecord.SampleName.label !== undefined) {\n          //let validateQty=((this.state.selectedRecord.quantity*this.state.selectedRecord.AvailableQty)/1000)\n          let nuraniumqtyissued = this.props.Login.masterData.samplestate === \"Liquid\" ? this.state.selectedRecord.quantity * this.state.selectedRecord.suraniumconversionfactor / 1000 : this.state.selectedRecord.quantity * this.state.selectedRecord.suraniumconversionfactor / 100;\n\n          if (this.state.selectedRecord.AvailableUraniumQty >= nuraniumqtyissued || this.state.selectedRecord.materialinventorytype.value === 1) {\n            let masterData = this.props.Login.masterData;\n            const Layout = this.props.Login.masterData.selectedTemplateSafetyInstructions[0].jsondata;\n            const dynamicobj = {};\n            inputData[\"DateList\"] = [];\n            inputData[\"jsonuidata\"] = {};\n            Layout.map(row => {\n              row.children.map(column => {\n                column.children.map(component => {\n                  if (component.inputtype === 'combo') {\n                    if (this.state.selectedRecord[component.label]) {\n                      dynamicobj[component.label] = {\n                        label: this.state.selectedRecord[component.label][\"label\"],\n                        value: this.state.selectedRecord[component.label][\"value\"]\n                      };\n                      inputData[\"jsonuidata\"][component.label] = this.state.selectedRecord[component.label][\"label\"];\n                    }\n                  } else if (component.inputtype === 'date') {\n                    if (this.state.selectedRecord[component.label]) {\n                      dynamicobj[`tz${component.label}`] = component.hasOwnProperty('timezone') ? {\n                        label: this.state.selectedRecord[`tz${component.label}`][\"label\"],\n                        value: this.state.selectedRecord[`tz${component.label}`][\"value\"]\n                      } : {\n                        label: this.props.Login.userInfo['stimezoneid'],\n                        value: this.props.Login.userInfo['ntimezonecode']\n                      };\n                      dynamicobj[component.label] = convertDateTimetoStringDBFormat(this.state.selectedRecord[component.label], this.props.Login.userInfo);\n                      inputData[\"DateList\"].push(component.label);\n                      inputData[\"jsonuidata\"][`tz${component.label}`] = dynamicobj[`tz${component.label}`].label;\n                      inputData[\"jsonuidata\"][component.label] = dynamicobj[component.label];\n                    }\n                  } else {\n                    if (this.state.selectedRecord.hasOwnProperty(component.label)) {\n                      dynamicobj[component.label] = this.state.selectedRecord[component.label];\n                      inputData[\"jsonuidata\"][component.label] = dynamicobj[component.label];\n                    }\n                  }\n\n                  component.hasOwnProperty(\"children\") && component.children.map(componentrow => {\n                    if (componentrow.inputtype === 'combo') {\n                      if (this.state.selectedRecord[componentrow.label]) {\n                        dynamicobj[componentrow.label] = {\n                          label: this.state.selectedRecord[componentrow.label][\"label\"],\n                          value: this.state.selectedRecord[componentrow.label][\"value\"]\n                        };\n                        inputData[\"jsonuidata\"][component.label] = dynamicobj[component.label].label;\n                      }\n                    } else if (componentrow.inputtype === 'date') {\n                      if (this.state.selectedRecord[componentrow.label]) {\n                        dynamicobj[`tz${componentrow.label}`] = componentrow.hasOwnProperty('timezone') ? {\n                          label: this.state.selectedRecord[`tz${componentrow.label}`][\"label\"],\n                          value: this.state.selectedRecord[`tz${componentrow.label}`][\"value\"]\n                        } : {\n                          label: this.props.Login.userInfo['stimezoneid'],\n                          value: this.props.Login.userInfo['ntimezonecode']\n                        };\n                        dynamicobj[componentrow.label] = convertDateTimetoStringDBFormat(this.state.selectedRecord[componentrow.label], this.props.Login.userInfo);\n                        inputData[\"DateList\"].push(componentrow.label);\n                        inputData[\"jsonuidata\"][`tz${componentrow.label}`] = dynamicobj[`tz${componentrow.label}`].label;\n                        inputData[\"jsonuidata\"][componentrow.label] = dynamicobj[componentrow.label];\n                      }\n                    } else {\n                      if (this.state.selectedRecord[componentrow.label]) {\n                        dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label];\n                        inputData[\"jsonuidata\"][componentrow.label] = dynamicobj[componentrow.label];\n                      }\n                    }\n                  });\n                });\n              });\n            });\n            /* ALPD-925 Begin */\n\n            inputData[\"nmaterialtypecode\"] = this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode;\n            /* ALPD-925 End */\n\n            inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.nmaterialcode;\n            inputData[\"issueaction\"] = this.props.Login.masterData.samplestate;\n            inputData[\"inventorytype\"] = this.state.selectedRecord.materialinventorytype.value;\n            inputData[\"quantity\"] = this.state.selectedRecord.quantity;\n            inputData[\"suraniumconversionfactor\"] = this.state.selectedRecord.suraniumconversionfactor;\n            inputData[\"nuraniumqtyissued\"] = nuraniumqtyissued;\n            inputData[\"fromDate\"] = this.props.Login.masterData.fromDate;\n            inputData[\"SampleName\"] = this.state.selectedRecord.SampleName.label;\n            inputData[\"toDate\"] = this.props.Login.masterData.toDate;\n            inputData[\"jsonuidata\"] = { ...inputData[\"jsonuidata\"],\n              'nmaterialconfigcode': nmaterialconfigcode,\n              'nmaterialcode': this.props.Login.masterData.SelectedMaterial.nmaterialcode,\n              'Material Name': this.props.Login.masterData.SelectedMaterial['Material Name'],\n              'smaterialcatname': this.props.Login.masterData.SelectedMaterialCategory.smaterialcatname,\n              'nmaterialcatcode': this.props.Login.masterData.SelectedMaterialCategory.nmaterialcatcode,\n              'smaterialtypename': this.props.Login.masterData.SelectedMaterialType[0].smaterialtypename,\n              'nmaterialtypecode': this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode,\n              'Comments': this.state.selectedRecord.Comments,\n              'ssamplename': this.props.Login.masterData.SelectedMaterial['Material Name'],\n              'quantity': this.state.selectedRecord.quantity,\n              'sinventorytypename': this.state.selectedRecord.materialinventorytype.label,\n              'AvailableQty': this.state.selectedRecord.AvailableQty,\n              'SampleName': this.state.selectedRecord.SampleName.label\n            };\n            inputData[\"jsonuidata\"] = JSON.stringify(inputData[\"jsonuidata\"]);\n            inputData[\"materialProperty\"] = JSON.stringify(dynamicobj);\n            inputData[\"nflag\"] = 2;\n            inputParam = {\n              classUrl: \"material\",\n              methodUrl: \"MaterialInventory\",\n              inputData: inputData,\n              operation: 'create',\n              saveType,\n              formRef,\n              postParam,\n              selectedRecord: this.state.selectedRecord,\n              searchRef: this.searchRef,\n              dataState: this.state.dataState,\n              selectedRecord: { ...this.state.selectedRecord\n              }\n            }; //if (this.state.isSelectedRecordChange) {\n\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n              const updateInfo = {\n                typeName: DEFAULT_RETURN,\n                data: {\n                  loadEsign: true,\n                  screenData: {\n                    inputParam,\n                    masterData\n                  },\n                  saveType\n                }\n              };\n              this.props.updateStore(updateInfo);\n            } else {\n              this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n            } //}\n            // else {\n            //     const updateInfo = {\n            //         typeName: DEFAULT_RETURN,\n            //         data: {\n            //             openModal: false\n            //         }\n            //     }\n            //     this.props.updateStore(updateInfo);\n            // }\n\n          } else {\n            toast.warn(this.props.intl.formatMessage({\n              id: \"IDS_NOQUANTTYTOISSUED\"\n            }));\n          }\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_ENTERSAMPLENAME\"\n          }));\n        }\n      } else {\n        if (this.props.Login.operation !== \"update\") {\n          let showMaterialSection = this.props.Login.showMaterialSection;\n          let newarr = [];\n          let newarr1 = [];\n          let postParam = undefined;\n          inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.nmaterialcode;\n\n          if (this.state.selectedRecord[\"nmaterialsectioncode\"].length > 1) {\n            newarr = this.state.selectedRecord.nmaterialsectioncode.map(temp => {\n              return {\n                \"ssectionname\": temp.label,\n                \"nsectioncode\": temp.value,\n                \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0,\n                \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode,\n                'nmaterialconfigcode': nmaterialconfigcode\n              };\n            });\n            newarr1[\"nsectioncode\"] = \"\"; // let nsectioncode;\n\n            this.state.selectedRecord.nmaterialsectioncode.map(temp => {\n              newarr1[\"nsectioncode\"] += temp.value + ',';\n            });\n            newarr1 = {\n              \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0,\n              \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode,\n              \"nsectioncode\": newarr1[\"nsectioncode\"].substring(0, newarr1[\"nsectioncode\"].length - 1),\n              'nmaterialconfigcode': nmaterialconfigcode\n            };\n          } else {\n            newarr.push({\n              \"ssectionname\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].label,\n              \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].value,\n              \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0,\n              \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode,\n              'nmaterialconfigcode': nmaterialconfigcode\n            });\n            newarr1 = {\n              \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0,\n              \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode,\n              \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].value,\n              'nmaterialconfigcode': nmaterialconfigcode\n            };\n          }\n\n          inputData[\"materialSectionJson\"] = JSON.stringify(newarr);\n          inputData[\"materialSectionJson\"] = JSON.stringify(newarr1);\n          inputData[\"nmaterialconfigcode\"] = nmaterialconfigcode;\n          inputParam = {\n            classUrl: \"material\",\n            methodUrl: \"MaterialSection\",\n            inputData: inputData,\n            operation: \"create\",\n            showMaterialSection: showMaterialSection,\n            selectedRecord: this.state.selectedRecord,\n            searchRef: this.searchRef,\n            postParam: postParam,\n            isChild: true,\n            selectedRecord: { ...this.state.selectedRecord\n            }\n          };\n        } else {\n          let newarrobj = [];\n          let postParam = {\n            inputListName: \"MaterialSection\",\n            selectedObject: \"SelectedMaterialSection\",\n            primaryKeyField: \"nmaterialsectioncode\"\n          };\n          inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.nmaterialcode;\n\n          if (Array.isArray(this.state.selectedRecord[\"nmaterialsectioncode\"])) {\n            newarrobj.push({\n              \"ssectionname\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].label,\n              \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].value,\n              \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0,\n              \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode,\n              'nmaterialconfigcode': nmaterialconfigcode\n            });\n          } else {\n            newarrobj.push({\n              \"ssectionname\": this.state.selectedRecord[\"nmaterialsectioncode\"].label,\n              \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"].value,\n              \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0,\n              \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode,\n              'nmaterialconfigcode': nmaterialconfigcode\n            });\n          }\n\n          inputData[\"materialSectionJson\"] = JSON.stringify(newarrobj);\n          inputData[\"MaterialSection\"] = {\n            \"Reorder Level\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0\n          };\n          inputData[\"nmaterialsectioncode\"] = this.state.selectedRecord.nmaterialsectioncodeprimaryKeyValue;\n          inputData[\"nmaterialconfigcode\"] = nmaterialconfigcode;\n          inputParam = {\n            classUrl: \"material\",\n            methodUrl: \"MaterialSection\",\n            inputData: inputData,\n            showMaterialSection: false,\n            operation: \"update\",\n            selectedRecord: this.state.selectedRecord,\n            searchRef: this.searchRef,\n            postParam: postParam,\n            isChild: true,\n            selectedRecord: { ...this.state.selectedRecord\n            }\n          };\n        }\n\n        const masterData = this.props.Login.masterData;\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              saveType\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openModal\");\n        }\n      }\n    };\n\n    this.onNumericInputChange = (value, name) => {\n      let selectedRecord = this.state.selectedRecord; // let value = event.target.value;\n      // if (isNaN(value)) {\n      // if (parseInt(value) < 10) {\n      //  let x=value.toString().replace(/\\D/g,'')\n      // if (value === 0) {\n      //     delete selectedRecord[name]\n      //     selectedRecord[name]=''\n      // }\n      // else {\n\n      if (name === \"Open Expiry\" || name === \"Next Validation\") {\n        if (value === 0) {\n          selectedRecord[name] = \"\";\n        } else {\n          selectedRecord[name] = value;\n        }\n      } else {\n        selectedRecord[name] = value;\n      }\n\n      this.setState({\n        selectedRecord\n      }); //   }\n      // }\n      // }\n    };\n\n    this.ConfirmComponent = () => {\n      this.confirmMessage.confirm(\"confirmation\", \"Confiramtion!\", this.props.intl.formatMessage({\n        id: \"IDS_OVERWRITRTHEEXISTINGSCREENRIGHTS\"\n      }), \"ok\", \"cancel\", () => this.copyAlertSave());\n    };\n\n    this.reloadData = () => {\n      //ALPD-4803 done by Dhanushya RI,To check searchref key is present or not\n      if (this.searchRef && this.searchRef.current) {\n        this.searchRef.current.value = \"\";\n      }\n\n      let inputData = [];\n      inputData[\"nmaterialtypecode\"] = this.state.selectedcombo[\"nmaterialtypecode\"];\n      inputData[\"materialCatList\"] = this.state.materialCatList;\n      inputData[\"fromDate\"] = this.props.Login.masterData.fromDate;\n      inputData[\"toDate\"] = this.props.Login.masterData.toDate;\n      this.setState({\n        sectionDataState: {\n          skip: 0,\n          take: 10\n        }\n      });\n\n      if (this.state.selectedcombo[\"nmaterialtypecode\"]) {\n        this.props.getMaterialReload(this.props.Login.masterData.SelectedMaterialTypeFilter, this.props.Login.masterData.SelectedMaterialCategoryFilter, this.props.Login.masterData, this.props.Login.userInfo);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTUSERROLE\"\n        }));\n      }\n    };\n\n    const _dataState = {\n      skip: 0,\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n    };\n    this.state = {\n      masterStatus: \"\",\n      sectionDataState: {\n        skip: 0,\n        take: 10\n      },\n      error: \"\",\n      selectedRecord: {},\n      filterCatList: [],\n      operation: \"\",\n      comboitem: undefined,\n      screenName: undefined,\n      selectedcombo: undefined,\n      isSelectedRecordChange: false,\n      showSectionWhileEdit: false,\n      selectedMaterialCat: undefined,\n      materialCatList: [],\n      userRoleControlRights: [],\n      ControlRights: undefined,\n      controlMap: new Map(),\n      dataResult: [],\n      skip: 0,\n      take: this.props.Login.settings && this.props.Login.settings[3],\n      dataState: _dataState,\n      data: [],\n      splitChangeWidthPercentage: 30,\n      sidebarview: false\n    };\n    this.searchRef = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  render() {\n    //  console.log('selected r :', this.props.Login.masterData)\n    let addId = -1;\n    {\n      this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 5 ? addId = -1 : addId = this.state.controlMap.has(\"AddMaterial\") && this.state.controlMap.get(\"AddMaterial\").ncontrolcode;\n    }\n    const editId = this.state.controlMap.has(\"EditMaterial\") && this.state.controlMap.get(\"EditMaterial\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"DeleteMaterial\") && this.state.controlMap.get(\"DeleteMaterial\").ncontrolcode;\n    const addParameterId = this.state.controlMap.has(\"AddMaterialSafetyInstructions\") && this.state.controlMap.get(\"AddMaterialSafetyInstructions\").ncontrolcode;\n    const addMaterialProperty = this.state.controlMap.has(\"AddMaterialProperties\") && this.state.controlMap.get(\"AddMaterialProperties\").ncontrolcode;\n    const addMaterialAccounting = this.state.controlMap.has(\"MaterialAccounting\") && this.state.controlMap.get(\"MaterialAccounting\").ncontrolcode;\n    const addMaterialAccountingPowder = this.state.controlMap.has(\"MaterialAccountingPowder\") && this.state.controlMap.get(\"MaterialAccountingPowder\").ncontrolcode;\n    const addMaterialAccountingSolution = this.state.controlMap.has(\"MaterialAccountingSolution\") && this.state.controlMap.get(\"MaterialAccountingSolution\").ncontrolcode;\n    const materialAccountingReport = this.state.controlMap.has(\"MaterialAccountingReport\") && this.state.controlMap.get(\"MaterialAccountingReport\").ncontrolcode;\n    let masterlistmain = [];\n    this.props.Login.masterData.Material = this.props.Login.masterData.Material && sortData(this.props.Login.masterData.Material, \"descending\", \"nmaterialcode\");\n    this.props.Login.masterData.MaterialType = this.props.Login.masterData.MaterialType && sortData(this.props.Login.masterData.MaterialType, \"ascending\", \"nmaterialtypecode\");\n    this.props.Login.masterData.MaterialCategoryMain = this.props.Login.masterData.MaterialCategoryMain && sortData(this.props.Login.masterData.MaterialCategoryMain, \"ascending\", \"nmaterialcatcode\");\n    this.props.Login.masterData.searchedData = this.props.Login.masterData.searchedData && sortData(this.props.Login.masterData.searchedData, \"descending\", \"nmaterialcode\");\n\n    if (this.props.Login.masterData.SelectedMaterialCategory && this.props.Login.masterData.SelectedMaterialCategory.needSectionwise === transactionStatus.YES) {\n      if (this.props.Login.masterData.SelectedMaterial) {\n        delete this.props.Login.masterData.SelectedMaterial['Section'];\n        delete this.props.Login.masterData.SelectedMaterial['Reorder Level'];\n      }\n    } // this.props.Login.masterData.Material &&\n    //     this.props.Login.masterData.Material.map((temp, i) => {\n    //         return masterlistmain.push(this.props.Login.masterData.Material[i].jsondata)\n    //     })\n\n\n    let searchedDatalistmain = []; // if (this.props.Login.masterData.searchedData === undefined) {\n    //     searchedDatalistmain = undefined\n    // } else {\n    //     this.props.Login.masterData.searchedData &&\n    //         this.props.Login.masterData.searchedData.map((temp, i) => {\n    //             return searchedDatalistmain.push(this.props.Login.masterData.searchedData[i].jsondata)\n    //         })\n    // }\n\n    let searchFieldList = [];\n    let mandatoryFieldsMaterialFile = [];\n    let mandatoryFieldsMaterialSection = [];\n    let mandatoryAccounting = [{\n      \"mandatory\": false,\n      \"idsName\": \"IDS_MATERIALSECTION\",\n      \"dataField\": \"materialinventorytype\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n    let mandatoryAccountingReport = [{\n      \"mandatory\": true,\n      \"idsName\": \"IDS_REPORTTYPE\",\n      \"dataField\": \"nmaterialaccountinggroupcode\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"mandatory\": true,\n      \"idsName\": \"IDS_URANIUMCONTENTTYPE\",\n      \"dataField\": \"nuraniumcontenttypecode\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"mandatory\": true,\n      \"idsName\": \"IDS_MONTH\",\n      \"dataField\": \"nmonth\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"mandatory\": true,\n      \"idsName\": \"IDS_YEAR\",\n      \"dataField\": \"syear\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }]; // if (this.props.Login.masterData.SelectedMaterialType) {\n    //     if (this.props.Login.masterData.SelectedMaterialType.length > 0) {\n    //         if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1) {\n    //             searchFieldList = [\n    //                 \"Standard Name\"\n    //             ]\n    //         }\n    //         else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2) {\n    //             searchFieldList = [\n    //                 \"Volumetric Name\"\n    //             ]\n    //         }\n    //         else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 3) {\n    //             searchFieldList = [\n    //                 \"Material Name\"\n    //             ]\n    //         }\n    //     }\n    // }\n\n    const filterParam = {\n      inputListName: \"Material\",\n      selectedObject: \"SelectedMaterial\",\n      primaryKeyField: \"nmaterialcode\",\n      fetchUrl: \"material/getMaterialByID\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo,\n        fromDate: this.props.Login.masterData.fromDate,\n        toDate: this.props.Login.masterData.toDate\n      },\n      masterData: this.props.Login.masterData,\n      // isjsondata: true,\n      searchFieldList: this.props.Login.masterData.DesignMappedFeilds && JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['searchFieldList'][0]['searchFieldList'] && JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['searchFieldList'][0]['searchFieldList']\n    };\n    this.props.Login.screenname === 'IDS_MATERIALMSDSATTACHMENT' && this.props.Login.selectedRecord && this.props.Login.selectedRecord.nattachmenttypecode === attachmentType.LINK ? mandatoryFieldsMaterialFile = [{\n      \"idsName\": \"IDS_FILENAME\",\n      \"dataField\": \"slinkfilename\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_CHOOSE\",\n      \"controlType\": \"file\"\n    }, {\n      \"idsName\": \"IDS_LINKNAME\",\n      \"dataField\": \"nlinkcode\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }] : mandatoryFieldsMaterialFile = [{\n      \"idsName\": \"IDS_FILE\",\n      \"dataField\": \"sfilename\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_CHOOSE\",\n      \"controlType\": \"file\"\n    }];\n    this.props.Login.screenname === 'IDS_MATERIALACCOUNTING' ? mandatoryFieldsMaterialSection = [{\n      mandatory: true,\n      idsName: \"IDS_ISSUEDQUANTITY\",\n      dataField: \"quantity\",\n      mandatoryLabel: \"IDS_ENTER\",\n      controlType: \"textbox\"\n    }] : mandatoryFieldsMaterialSection = [{\n      \"mandatory\": false,\n      \"idsName\": \"IDS_MATERIALSECTION\",\n      \"dataField\": \"nmaterialsectioncode\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n    const breadCrumbData = this.state.filterData || [];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }, breadCrumbData.length > 0 ? /*#__PURE__*/React.createElement(Affix, {\n      top: 53,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 29\n      }\n    })) : \"\", /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.props.sidebarview ? '4' : \"2\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      formatMessage: this.props.intl.formatMessage,\n      screenName: \"Material\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo //  masterList={searchedDatalistmain || masterlistmain}\n      ,\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.Material,\n      getMasterDetail: master => this.props.getMaterialDetails(master, this.props.Login.masterData, this.props.Login.userInfo),\n      selectedMaster: this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial,\n      primaryKeyField: \"nmaterialcode\" // mainField={this.props.Login.masterData.SelectedMaterialType ?\n      //     this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1 ?\n      //         \"Standard Name\" :\n      //         this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2 ?\n      //             \"Volumetric Name\" :\n      //             \"Material Name\" : \"\"}\n      // firstField={\"Reorder Level\"}\n      ,\n      mainField: this.props.Login.masterData.DesignMappedFeilds && JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['ListMasterProps'][0]['mainField'] // firstField={\n      //     this.props.Login.masterData.DesignMappedFeilds &&\n      //     JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['ListMasterProps'][0]['firstField'] &&\n      //     JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['ListMasterProps'][0]['firstField']\n      //     //||JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['ListMasterProps'][0]['firstField']\n      // }\n      ,\n      isIDSField: \"Yes\",\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addId,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      hidePaging: false,\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      showFilterIcon: true,\n      onFilterSubmit: this.onFilterSubmit,\n      filterComponent: [{\n        \"IDS_FILTER\": /*#__PURE__*/React.createElement(MaterialFilter, {\n          filterCatList: this.state.filterCatList || [],\n          materialCatList: this.state.materialCatList || [],\n          selectedRecord: this.state.selectedcombo || {} //\n          ,\n          selectedMaterialCat: this.state.selectedMaterialCat || {},\n          userInfo: this.props.Login.userInfo || {},\n          onComboChange: this.onComboChange,\n          handleDateChange: this.handleDateChanges,\n          fromDate: this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date(),\n          toDate: this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date(),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 45\n          }\n        })\n      }],\n      openModal: () => this.openModal(\"create\", this.props.Login, this.state.selectedcombo, addId, this.props.Login.masterData, this.state.selectedRecord, \"IDS_MATERIAL\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.props.sidebarview ? '8' : \"10\"}`,\n      className: \"position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-view-btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-view-btn \",\n      onClick: this.props.parentFunction,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 33\n      }\n    }, !this.props.sidebarview ? /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-less-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 41\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-greater-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 37\n      }\n    }, this.props.Login.masterData.Material && this.props.Login.masterData.Material.length > 0 && this.props.Login.masterData.SelectedMaterial ? /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 53\n      }\n    }, this.props.Login.masterData.SelectedMaterialType ? this.props.Login.masterData.SelectedMaterial['Material Name'] : \"\"), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(ProductList, {\n      className: \"d-flex product-category icon-group-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 5 ? /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"material-accounting flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 56\n      }\n    }, /*#__PURE__*/React.createElement(MediaLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 54\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_OPENQTY\"\n    }), \" : \", this.props.Login.masterData.OpenQty, \" & \", this.props.intl.formatMessage({\n      id: \"IDS_CLOSEQTY\"\n    }), \" : \", this.props.Login.masterData.CloseQty)) : /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(MediaLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 66\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_QUARANTINE\"\n    }), \" :\"), /*#__PURE__*/React.createElement(MediaLabel, {\n      className: `btn btn-outlined ${this.props.Login.masterData.SelectedMaterial['ntransactionstatus'] === transactionStatus.YES ? \"outline-success\" : \"outline-danger\"} btn-sm ml-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 65\n      }\n    }, this.props.Login.masterData.SelectedMaterial['ntransactionstatus'] === transactionStatus.YES ? this.props.intl.formatMessage({\n      id: \"IDS_YES\"\n    }) : this.props.intl.formatMessage({\n      id: \"IDS_NO\"\n    }))), this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode !== 5 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 62\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      hidden: this.state.userRoleControlRights.indexOf(editId) === -1 //   data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: e => this.props.getAddMaterialPopup(\"update\", this.props.Login, this.state.selectedcombo, editId, this.props.Login.masterData, this.state.selectedRecord, \"IDS_MATERIAL\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      title: this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 69\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }),\n      hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1 //   data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: () => this.ConfirmDelete(deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 69\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_ADDMATERIALSAFETYINSTRUCTIONS\"\n      }) //   data-for=\"tooltip_list_wrap\"\n      ,\n      hidden: this.state.userRoleControlRights.indexOf(addParameterId) === -1,\n      onClick: e => this.props.addSafetyInstructions(this.props.Login.masterData, this.props.Login.userInfo, addParameterId, \"create\", {}),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Safety, {\n      className: \"custom_icons\",\n      width: \"15\",\n      height: \"15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 69\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_MATERIALPROPERTY\"\n      }),\n      hidden: this.state.userRoleControlRights.indexOf(addMaterialProperty) === -1 //  data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: e => this.props.addMaterialProperty(this.props.Login.masterData, this.props.Login.userInfo, addMaterialProperty, \"create\", {}),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Property, {\n      className: \"custom_icons\",\n      width: \"18\",\n      height: \"18\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 69\n      }\n    }))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 62\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_MATERIALACCOUNTINGPELLET\"\n      }),\n      hidden: this.state.userRoleControlRights.indexOf(addMaterialAccounting) === -1,\n      onClick: e => this.props.getAddMaterialAccountingPopup(\"create\", this.props.Login, this.state.selectedcombo, addId, this.props.Login.masterData, this.state.selectedRecord, \"IDS_MATERIALACCOUNTING\", \"Pellet\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Issue, {\n      className: \"custom_icons\",\n      width: \"18\",\n      height: \"18\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 66\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_MATERIALACCOUNTINGPOWDER\"\n      }),\n      hidden: this.state.userRoleControlRights.indexOf(addMaterialAccountingPowder) === -1,\n      onClick: e => this.props.getAddMaterialAccountingPopup(\"create\", this.props.Login, this.state.selectedcombo, addId, this.props.Login.masterData, this.state.selectedRecord, \"IDS_MATERIALACCOUNTING\", \"powder\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 62\n      }\n    }, /*#__PURE__*/React.createElement(Powder, {\n      className: \"custom_icons\",\n      width: \"18\",\n      height: \"18\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 66\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_MATERIALACCOUNTINGLIQUID\"\n      }),\n      hidden: this.state.userRoleControlRights.indexOf(addMaterialAccountingSolution) === -1,\n      onClick: e => this.props.getAddMaterialAccountingPopup(\"create\", this.props.Login, this.state.selectedcombo, addId, this.props.Login.masterData, this.state.selectedRecord, \"IDS_MATERIALACCOUNTING\", \"Liquid\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 62\n      }\n    }, /*#__PURE__*/React.createElement(Solution, {\n      className: \"custom_icons\",\n      width: \"18\",\n      height: \"18\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 66\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 49\n      }\n    }, this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 5 ? \"\" : /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 52\n      }\n    }, /*#__PURE__*/React.createElement(SampleInfoView, {\n      data: this.props.Login.masterData.SelectedMaterial,\n      SingleItem: JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['MaterialViewFields'],\n      screenName: \"IDS_SAMPLEINFO\",\n      userInfo: this.props.Login.userInfo // ALPD-950\n      ,\n      size: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 57\n      }\n    })), this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 5 ? /*#__PURE__*/React.createElement(MaterialInventoryTab, {\n      controlMap: this.state.controlMap,\n      userRoleControlRights: this.state.userRoleControlRights // dataResult={process(sortData(this.props.Login.masterData[\"MaterialSection\"], 'descending', 'nmaterialsectioncode'),\n      //     (this.props.screenName === undefined || this.props.screenName === \"IDS_MATERIALSECTION\")\n      //         ? this.state.sectionDataState : { skip: 0, take: 10 })}\n      //dataResult={process(this.props.Login.masterData[\"MaterialSection\"]|| [],{ skip: 0, take: 10 })}\n      //dataState={(this.props.screenName === undefined || this.props.Login.screenname === \"IDS_MATERIALSECTION\" || this.props.Login.screenname === \"IDS_MATERIALACCOUNTING\")\n      //     ? this.state.sectionDataState : { skip: 0, take: 10 }}\n      // dataStateChange={(event) => this.setState({ sectionDataState: event.dataState })}\n      ,\n      data: this.props.Login.masterData[\"MaterialSection\"],\n      dataResult: process(sortData(this.props.Login.masterData[\"MaterialSection\"], 'descending', 'nmaterialinventtranscode'), this.props.screenName === undefined || this.props.screenName === \"IDS_MATERIALSECTION\" ? this.state.sectionDataState : {\n        skip: 0,\n        take: 10\n      }),\n      dataState: this.props.screenName === undefined || this.props.screenname === \"IDS_MATERIALSECTION\" ? this.state.sectionDataState : {\n        skip: 0,\n        take: 10\n      },\n      dataStateChange: event => this.setState({\n        sectionDataState: event.dataState\n      }),\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      getTestDetails: this.props.getTestDetails,\n      getAddMaterialSectionPopup: this.props.getAddMaterialSectionPopup,\n      addParameter: this.addMaterialSection,\n      deleteRecord: this.deleteRecordmain,\n      fetchRecord: this.props.getMaterialSectionEdit,\n      selectedRecord: this.props.Login.selectedRecord,\n      selectedId: this.props.Login.selectedId,\n      screenName: \"IDS_MATERIALSECTION\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 53\n      }\n    }) : this.props.Login.masterData && /*#__PURE__*/React.createElement(CustomTab, {\n      activeKey: this.props.Login.masterData.tabScreen || 'IDS_MATERIALMSDSATTACHMENT',\n      tabDetail: this.tabDetail(),\n      onTabChange: this.onTabChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 84\n      }\n    }))) : \"\")))))), (this.props.Login.openModal || this.props.Login.openChildModal) && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal || this.props.Login.openChildModal,\n      closeModal: this.closeModal,\n      operation: this.props.Login.screenname === 'IDS_MATERIALSAFETYINSTRUCTIONS' ? '' : this.props.Login.screenname === 'IDS_MATERIALPROPERTY' ? '' : this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.Login.screenname,\n      onSaveClick: this.onSaveClick,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: this.props.Login.screenname === 'IDS_MATERIALMSDSATTACHMENT' ? mandatoryFieldsMaterialFile : this.props.Login.screenname === 'IDS_MATERIAL' ? this.dynamicmandatoryFeilds() : this.props.Login.screenname !== 'IDS_MATERIALPROPERTY' ? this.props.Login.screenname !== 'IDS_MATERIALSAFETYINSTRUCTIONS' ? mandatoryFieldsMaterialSection : '' : '',\n      updateStore: this.props.updateStore,\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 33\n        }\n      }) : this.props.Login.screenname !== \"IDS_MATERIALMSDSATTACHMENT\" ? this.props.Login.screenname !== 'IDS_MATERIALPROPERTY' ? this.props.Login.screenname !== 'IDS_MATERIALSAFETYINSTRUCTIONS' ? this.props.Login.showMaterialSection ? /*#__PURE__*/React.createElement(AddMaterialSection, {\n        selectedRecord: this.props.Login.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        MaterialSectionCombodata: this.props.Login.masterData.MaterialSection && this.props.Login.masterData.MaterialSection,\n        onNumericInputChange: this.onNumericInputChange,\n        onComboChange: this.onComboChange,\n        isDisabled: this.props.Login.isneedcombomulti && this.props.Login.isneedcombomulti,\n        ismaterialsectionEdit: this.props.Login.ismaterialsectionEdit,\n        comboData: this.props.Login.masterData.productCategoryList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 49\n        }\n      }) : /*#__PURE__*/React.createElement(DynamicSlideoutMaterial, {\n        operation: this.props.Login.operation,\n        showSectionWhileEdit: this.state.showSectionWhileEdit,\n        selectedRecord: this.state.selectedRecord,\n        userInfo: this.props.Login.userInfo,\n        isBreadCrumbCategory: this.props.Login.operation === 'update' ? this.props.Login.masterData.SelectedMaterialCategory.nmaterialcatcode === this.props.Login.selectedRecord['Material Category'].value ? true : false : false,\n        enableDisableNeedExpiry: this.props.Login.selectedRecord['Expiry'],\n        enableDisableOpenExpiry: this.props.Login.selectedRecord['Open Expiry Need'],\n        enableDisableNextValidation: this.props.Login.selectedRecord['Next Validation Need'],\n        enableDisableNextValidationNeed: this.props.Login.selectedRecord['Quarantine'],\n        enableDisableExpiryPolicy: this.props.Login.selectedRecord['Expiry Validations'],\n        templateData: this.props.Login.masterData.selectedTemplate && this.props.Login.masterData.selectedTemplate[0].jsondata,\n        onNumericInputChange: this.onNumericInputChange,\n        handleChange: this.handleChange,\n        onInputOnChange: this.onInputOnChange,\n        timeZoneList: this.props.Login.timeZoneList,\n        handleDateChange: this.handleDateChange,\n        CurrentTime: rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.Currentdate),\n        comboData: this.props.Login.templateData && this.props.Login.templateData.comboData,\n        onComboChange: this.onComboChangedynamic // ismaterialSectionneed={this.state.ismaterialSectionneed}\n        ,\n        screenname: this.props.Login.screenname,\n        ismaterialSectionneed: this.props.Login.selectedRecord['Material Category'] && this.props.Login.selectedRecord['Material Category'].item && this.props.Login.selectedRecord['Material Category'].item.jsondata.needsectionwise || this.props.Login.selectedRecord['Material Category'] && this.props.Login.selectedRecord['Material Category'].needsectionwise || this.props.Login.masterData.ismaterialSectionneed,\n        checkSectionNeed: this.props.Login.selectedRecord['Material Category'] && this.props.Login.selectedRecord['Material Category'].item && this.props.Login.selectedRecord['Material Category'].item.jsondata.needsectionwise === transactionStatus.YES && this.props.Login.masterData.SelectedMaterialCategory.needSectionwise === transactionStatus.YES ? true : false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 49\n        }\n      }) : /*#__PURE__*/React.createElement(DynamicSlideoutMaterial, {\n        selectedRecord: this.state.selectedRecord,\n        userInfo: this.props.Login.userInfo,\n        templateData: this.props.Login.masterData.selectedTemplateSafetyInstructions && this.props.Login.masterData.selectedTemplateSafetyInstructions[0].jsondata,\n        handleChange: this.handleChange,\n        onInputOnChange: this.onInputOnChangeDynamic,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 45\n        }\n      }) : /*#__PURE__*/React.createElement(DynamicSlideoutMaterial, {\n        selectedRecord: this.props.Login.selectedRecord,\n        userInfo: this.props.Login.userInfo,\n        templateData: this.props.Login.masterData.selectedTemplateProperties && this.props.Login.masterData.selectedTemplateProperties[0].jsondata // userInfo={this.props.Login.userInfo}\n        ,\n        handleChange: this.handleChange,\n        onInputOnChange: this.onInputOnChange,\n        handleDateChange: this.handleDateChange,\n        timeZoneList: this.props.Login.timeZoneList && this.props.Login.timeZoneList,\n        onComboChange: this.onComboChangedynamic,\n        defaultTimeZone: this.props.Login.defaultTimeZone,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 41\n        }\n      }) : /*#__PURE__*/React.createElement(AddMaterialFile, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onDrop: this.onDropMaterialFile,\n        deleteAttachment: this.deleteAttachment,\n        onComboChange: this.onComboChange,\n        linkMaster: this.props.Login.linkMaster,\n        maxSize: 20,\n        maxFiles: 1,\n        multiple: false,\n        hideDefaultToggle: true,\n        label: this.props.intl.formatMessage({\n          id: \"IDS_MATERIALMSDSATTACHMENT\"\n        }),\n        name: \"testfilename\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 37\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 21\n      }\n    }), this.props.Login.modalShow ? /*#__PURE__*/React.createElement(ModalShow, {\n      modalShow: this.props.Login.modalShow,\n      closeModal: this.closeModalShow,\n      onSaveClick: this.onSaveModalClick,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      mandatoryFields: mandatoryAccountingReport,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      modalTitle: this.props.intl.formatMessage({\n        id: \"IDS_REPORT\"\n      }),\n      modalBody: /*#__PURE__*/React.createElement(AddReportDetails, {\n        selectedRecord: this.state.selectedRecord || {},\n        masterData: this.props.Login.masterData,\n        TimeZoneList: this.props.Login.TimeZoneList,\n        onInputOnChange: this.onInputOnChange,\n        handleDateChange: this.handleDateChange,\n        onComboChange: this.onComboChange,\n        userInfo: this.props.Login.userInfo,\n        esign: this.props.Login.loadEsign,\n        handleFilterDateChange: this.handleFilterDateChange,\n        currentTime: this.props.Login.currentTime,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 17\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 11\n      }\n    }) : \"\");\n  }\n\n  componentDidMount() {\n    if (this.parentHeight) {\n      const height = this.parentHeight.clientHeight;\n      this.setState({\n        firstPane: height - 80,\n        parentHeight: height\n      });\n    }\n  }\n\n  generateBreadCrumData() {\n    const breadCrumbData = []; // if (Array.isArray(this.props.Login.masterData)) {\n\n    const obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n    {\n      this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 5 ? breadCrumbData.push({\n        \"label\": \"IDS_FROM\",\n        \"value\": obj.breadCrumbFrom\n      }, {\n        \"label\": \"IDS_TO\",\n        \"value\": obj.breadCrumbto\n      }, {\n        \"label\": \"IDS_MATERIALTYPE\",\n        \"value\": this.props.Login.masterData.SelectedMaterialType ? this.props.Login.masterData.SelectedMaterialType[0]['jsondata'].smaterialtypename && this.props.Login.masterData.SelectedMaterialType[0]['jsondata'].smaterialtypename[this.props.Login.userInfo.slanguagetypecode] : \"NA\"\n      }, {\n        \"label\": \"IDS_SAMPLEGROUPNAME\",\n        \"value\": this.props.Login.masterData.SelectedMaterialCategoryFilter ? this.props.Login.masterData.SelectedMaterialCategoryFilter.smaterialcatname !== undefined ? this.props.Login.masterData.SelectedMaterialCategoryFilter.smaterialcatname : \"NA\" : \"NA\"\n      }) : breadCrumbData.push({\n        \"label\": \"IDS_MATERIALTYPE\",\n        \"value\": this.props.Login.masterData.SelectedMaterialType ? this.props.Login.masterData.SelectedMaterialType[0]['jsondata'].smaterialtypename && this.props.Login.masterData.SelectedMaterialType[0]['jsondata'].smaterialtypename[this.props.Login.userInfo.slanguagetypecode] : \"NA\"\n      }, {\n        \"label\": \"IDS_MATERIALCAT\",\n        \"value\": this.props.Login.masterData.SelectedMaterialCategoryFilter ? this.props.Login.masterData.SelectedMaterialCategoryFilter.smaterialcatname !== undefined ? this.props.Login.masterData.SelectedMaterialCategoryFilter.smaterialcatname : \"NA\" : \"NA\"\n      });\n    } //  }\n\n    return breadCrumbData;\n  }\n\n  componentDidUpdate(previousProps) {\n    let bool = false;\n    let {\n      selectedRecord,\n      selectedcombo,\n      comboitem,\n      filterData,\n      filterCatList,\n      selectedMaterialCat,\n      materialCatList,\n      ismaterialSectionneed,\n      showSectionWhileEdit\n    } = this.state;\n    const masterData = this.props.Login.masterData; // if (this.props.Login.isSelectedRecordChange !== previousProps.Login.isSelectedRecordChange) {\n    //     bool = true;\n    //   isSelectedRecordChange = this.props.Login.isSelectedRecordChange\n    // }\n    // if (this.props.Login.selectedRecord.IDS_MATERIALCAT &&\n    //     this.props.Login.selectedRecord.IDS_MATERIALCAT.item.jsondata.needsectionwise\n    //     != previousProps.Login.selectedRecord.IDS_MATERIALCAT.item.jsondata.needsectionwise) {\n    //     bool = true;\n    //     ismaterialSectionneed = this.props.Login.selectedRecord.IDS_MATERIALCAT.item.jsondata.needsectionwise\n    // }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      bool = true;\n      selectedRecord = this.props.Login.selectedRecord;\n    }\n\n    if (this.props.Login.selectedcombo !== previousProps.Login.selectedcombo) {\n      bool = true;\n      selectedcombo = this.props.Login.selectedcombo;\n    }\n\n    if (this.props.Login.showSectionWhileEdit !== previousProps.Login.showSectionWhileEdit) {\n      bool = true;\n      showSectionWhileEdit = this.props.Login.showSectionWhileEdit;\n    }\n\n    if (this.props.Login.comboitem !== previousProps.Login.comboitem) {\n      bool = true;\n      comboitem = this.props.Login.comboitem;\n    }\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      const userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n      this.setState({\n        userRoleControlRights,\n        controlMap,\n        data: this.props.Login.masterData.ControlRights\n      });\n    }\n\n    if (this.props.Login.masterData.MaterialType !== undefined) {\n      if (this.props.Login.masterData.MaterialType !== previousProps.Login.masterData.MaterialType) {\n        bool = true; // const materialTypeList = constructOptionList(this.props.Login.masterData.MaterialType || [], \"nmaterialtypecode\",\n        //     \"smaterialtypename\", undefined, undefined, undefined);\n        //     constructOptionList(options, optionId,\n        //         optionValue, sortField, sortOrder, alphabeticalSort,\n        //          defaultStatusFieldName) \n\n        const materialTypeList = constructjsonOptionList(this.props.Login.masterData.MaterialType, \"nmaterialtypecode\", \"smaterialtypename\", undefined, undefined, undefined, undefined, undefined, true, this.props.Login.userInfo.slanguagetypecode);\n        filterCatList = materialTypeList.get(\"OptionList\"); //  console.log('masterData.MaterialType :', masterData.MaterialType)\n\n        selectedcombo = {\n          nmaterialtypecode: masterData.MaterialType && masterData.MaterialType.length > 0 ? {\n            \"value\": masterData.MaterialType[0].nmaterialtypecode,\n            \"label\": masterData.MaterialType[0]['jsondata'].smaterialtypename[this.props.Login.userInfo.slanguagetypecode]\n          } : \"\"\n        };\n      }\n    }\n\n    if (this.props.Login.masterData.MaterialCategoryMain !== previousProps.Login.masterData.MaterialCategoryMain) {\n      const MaterialCategoryMain = constructOptionList(this.props.Login.masterData.MaterialCategoryMain || [], \"nmaterialcatcode\", \"smaterialcatname\", undefined, undefined, undefined);\n      materialCatList = MaterialCategoryMain.get(\"OptionList\");\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      bool = true;\n      filterData = this.generateBreadCrumData();\n\n      if (masterData.SelectedMaterialCategory !== previousProps.Login.masterData.SelectedMaterialCategory) {\n        const MaterialCategoryMain = constructOptionList(this.props.Login.masterData.MaterialCategoryMain || [], \"nmaterialcatcode\", \"smaterialcatname\", undefined, undefined, undefined);\n        materialCatList = MaterialCategoryMain.get(\"OptionList\");\n        selectedMaterialCat = {\n          nmaterialcatcode: masterData.MaterialCategoryMain && masterData.MaterialCategoryMain.length > 0 ? {\n            \"value\": masterData.SelectedMaterialCategory.nmaterialcatcode,\n            \"label\": masterData.SelectedMaterialCategory.smaterialcatname\n          } : \"\"\n        };\n      }\n    }\n\n    if (this.props.Login.masterData.searchedData !== previousProps.Login.masterData.searchedData) {\n      if (this.props.Login.masterData.searchedData) {\n        if (this.props.Login.masterData.searchedData.length <= this.state.skip) {\n          this.setState({\n            skip: 0\n          });\n        }\n      }\n    }\n\n    if (bool) {\n      this.setState({\n        selectedRecord,\n        comboitem,\n        filterData,\n        selectedcombo,\n        filterCatList,\n        selectedMaterialCat,\n        materialCatList,\n        isSelectedRecordChange: false,\n        showSectionWhileEdit //, \n        // ismaterialSectionneed \n        // : bool?this.props.Login.selectedRecord.IDS_MATERIALCAT&&\n        // this.props.Login.selectedRecord.IDS_MATERIALCAT.item.jsondata.needsectionwise:ismaterialSectionneed\n\n      });\n    } //Vishakh: I commented updateStore. Because this updateStore won't get any change in the flow.\n    //  Even the udpateStore is there or not, there is no change in the flow.\n    // if(this.props.Login.comboSet){\n    //     this.setState({ selectedMaterialCat: this.props.Login.selectedMaterialCat});\n    //     const updateInfo = {\n    //         typeName: DEFAULT_RETURN,\n    //         data: { comboSet: false }\n    //     }\n    //     this.props.updateStore(updateInfo);\n    // }\n    // else\n    // {\n    //     this.setState({\n    //     ismaterialSectionneed \n    //     : this.props.Login.selectedRecord.IDS_MATERIALCAT&&\n    //     this.props.Login.selectedRecord.IDS_MATERIALCAT.item.jsondata.needsectionwise\n    // });\n    // }\n\n  }\n\n  componentWillUnmount() {\n    const updateInfo = {\n      typeName: DEFAULT_RETURN,\n      data: {\n        masterData: [],\n        inputParam: undefined,\n        operation: null,\n        modalName: undefined\n      }\n    };\n    this.props.updateStore(updateInfo);\n  }\n\n  handleClickDelete(masterData, ncontrolcode, modalName) {\n    const fieldArray = [];\n    let postParam = {\n      inputListName: \"Material\",\n      selectedObject: \"SelectedMaterial\",\n      primaryKeyField: \"nmaterialcode\",\n      primaryKeyValue: this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial.nmaterialcode,\n      fetchUrl: \"material/getMaterialByID\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      }\n    };\n    modalName = 'openModal';\n    const inputParam = {\n      methodUrl: \"Material\",\n      classUrl: \"material\",\n      inputData: {\n        \"nmaterialconfigcode\": this.props.Login.masterData.selectedTemplate[0].nmaterialconfigcode,\n        \"material\": this.props.Login.masterData.SelectedMaterial,\n        \"nmaterialcatcode\": this.props.Login.masterData.SelectedMaterialCategory.nmaterialcatcode,\n        \"userinfo\": this.props.Login.userInfo,\n        \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial.nmaterialcode,\n        \"nmaterialtypecode\": this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode\n      },\n      operation: \"delete\",\n      postParam,\n      displayName: \"Material\",\n      selectedRecord: { ...this.state.selectedRecord\n      }\n    };\n\n    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolcode)) {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          loadEsign: true,\n          screenData: {\n            inputParam,\n            masterData\n          },\n          [modalName]: true,\n          operation: 'delete',\n          screenName: \"Material\",\n          id: \"material\"\n        }\n      };\n      this.props.updateStore(updateInfo);\n    } else {\n      this.props.crudMaster(inputParam, masterData, modalName);\n    }\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  updateStore,\n  initialcombochangeget,\n  getAddMaterialPopup,\n  viewAttachment,\n  getMaterialReload,\n  crudMaster,\n  getMaterialDetails,\n  getMaterialEdit,\n  getMaterialByTypeCode,\n  addMaterialFile,\n  getAddMaterialSectionPopup,\n  getMaterialSectionEdit,\n  filterColumnData,\n  validateEsignCredential,\n  addSafetyInstructions,\n  addMaterialProperty,\n  addMaterialAccountingProperty,\n  getAddMaterialAccountingPopup,\n  getReportDetails,\n  generateControlBasedReport\n})(injectIntl(Material));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5304/QuaLISWeb/src/pages/Material/Material.jsx"],"names":["React","Component","connect","FormattedMessage","injectIntl","Row","Col","Nav","Card","FormGroup","FormLabel","process","toast","FontAwesomeIcon","faTrashAlt","faPencilAlt","SlideOutModal","Esign","constructjsonOptionList","convertDateTimetoString","convertDateTimetoStringDBformat","rearrangeDateFormatDateOnly","formatInputDate","convertDateTimetoStringDBFormat","sortData","Lims_JSON_stringify","replaceBackSlash","convertDateValuetoString","ListMaster","CustomTab","showEsign","getControlMap","constructOptionList","onDropAttachFileList","deleteAttachmentDropZone","create_UUID","rearrangeDateFormat","callService","updateStore","crudMaster","filterColumnData","validateEsignCredential","viewAttachment","initialcombochangeget","addSafetyInstructions","getAddMaterialPopup","getMaterialDetails","addMaterialProperty","getMaterialReload","getMaterialEdit","getMaterialByTypeCode","getAddMaterialSectionPopup","getMaterialSectionEdit","addMaterialFile","addMaterialAccountingProperty","getAddMaterialAccountingPopup","getReportDetails","generateControlBasedReport","DEFAULT_RETURN","transactionStatus","attachmentType","ContentPanel","ReadOnlyText","MediaLabel","ConfirmMessage","BreadcrumbComponent","MaterialFilter","MaterialSectionTab","MaterialInventoryTab","AddMaterialSection","AddReportDetails","Affix","MaterialMsdsAttachmentTab","AddMaterialFile","ProductList","PortalModal","ModalShow","SampleInfoView","DynamicSlideoutMaterial","mapStateToProps","state","Login","Material","constructor","props","sidebarExpandCollapse","setState","sidebarview","paneSizeChange","d","splitChangeWidthPercentage","openModal","operation","loginProps","selectedCombo","addId","masterData","selectedRecord","screenname","selectedcombo","selectedMaterialCat","warn","intl","formatMessage","id","dynamicmandatoryFeilds","mandatoryFeildsMaterial","slanguagetypecode","userInfo","selectedTemplate","jsondata","map","row","children","column","component","mandatory","inputtype","push","displayname","label","hasOwnProperty","componentrow","undefined","item","needsectionwise","YES","temp","i","dataField","accordianDesign","selectedmasterlistmain","SelectedMaterial","designaccordian","length","handleDateChange","dateValue","dateName","isSelectedRecordChange","onTabChange","tabProps","tabScreen","screenName","updateInfo","typeName","data","handleDateChanges","Date","fromdate","fromDate","todate","toDate","obj","onDropMaterialFile","attachedFiles","fieldName","maxSize","actionType","deleteAttachment","event","file","onSaveMaterialFile","acceptedFiles","sfilename","nattachmenttypecode","isFileEdited","NO","testFileArray","nmaterialconfigcode","testFile","nmaterialcode","nmaterialfilecode","nstatus","ACTIVE","ndefaultstatus","LINK","formData","FormData","FTP","Array","isArray","forEach","index","tempData","Object","assign","splittedFileName","name","split","fileExtension","ssystemfilename","filesystemfileext","uniquefilename","ntestfilecode","sdescription","trim","NA","size","dcreateddate","append","nfilesize","slinkfilename","slinkdescription","nlinkcode","value","JSON","stringify","inputParam","inputData","sformname","smodulename","slanguagename","isFileupload","classUrl","methodUrl","searchRef","isChild","postParam","inputListName","selectedObject","primaryKeyField","tabDetail","tabMap","Map","ismaterialSectionneed","SelectedMaterialType","nmaterialtypecode","set","controlMap","userRoleControlRights","sectionDataState","skip","take","dataState","getTestDetails","addMaterialSection","deleteRecordmain","selectedId","MaterialMsdsAttachment","param","viewMaterialFile","settings","deleteParam","selected","methodDataState","instrumentCatDataState","ncontrolCode","toLowerCase","userinfo","nformcode","loadEsign","screenData","openChildModal","showMaterialSection","isneedcombomulti","ConfirmDelete","deleteId","confirmMessage","confirm","handleClickDelete","openFilter","showFilter","closeFilter","onFilterSubmit","current","materialCatList","handlePageChange","e","validateEsign","modal","sreason","nreasoncode","spredefinedreason","password","closeModalShow","modalShow","onSaveModalClick","dateVariable","syear","yearOnly","getFullYear","reportdetails","nmaterialaccountinggroupcode","nuraniumcontenttypecode","nmonth","scomments","materialAccountingReport","has","get","ncontrolcode","handleFilterDateChange","filedata","ndesigntemplatemappingcode","materialmsdsattachment","closeModal","showSectionWhileEdit","onComboChange","comboData","displaymember","comboName","comboitem","onComboChangedynamic","control","valuemember","nquerybuildertablecode","pkey","source","onInputOnChangeDynamic","radiotext","target","type","includes","indexOf","indexcomma","slice","onInputOnChange","optional2","checked","DEACTIVE","templateData","filter","x","onSaveClick","saveType","formRef","varmain","Layout","isValid","selectedComboName","selectedComboId","filtercombochange","searchedData","SelectedMaterialCategoryFilter","nmaterialcatcode","copyScreenRights","ConfirmComponent","selectedTemplateSafetyInstructions","dynamicobj","jsonuidata","MaterialSafetyInstructions","nmaterialsafetyinstructionscode","selectedTemplateProperties","MaterialProperties","nmaterialpropertycode","SampleName","nuraniumqtyissued","samplestate","quantity","suraniumconversionfactor","AvailableUraniumQty","materialinventorytype","SelectedMaterialCategory","smaterialcatname","smaterialtypename","Comments","AvailableQty","newarr","newarr1","nmaterialsectioncode","substring","newarrobj","nmaterialsectioncodeprimaryKeyValue","onNumericInputChange","copyAlertSave","reloadData","SelectedMaterialTypeFilter","parseInt","masterStatus","error","filterCatList","ControlRights","dataResult","createRef","getDerivedStateFromProps","render","editId","addParameterId","addMaterialAccounting","addMaterialAccountingPowder","addMaterialAccountingSolution","masterlistmain","MaterialType","MaterialCategoryMain","needSectionwise","searchedDatalistmain","searchFieldList","mandatoryFieldsMaterialFile","mandatoryFieldsMaterialSection","mandatoryAccounting","mandatoryAccountingReport","filterParam","fetchUrl","fecthInputObject","DesignMappedFeilds","parse","idsName","mandatoryLabel","controlType","breadCrumbData","filterData","master","parentFunction","OpenQty","CloseQty","MaterialSection","ismaterialsectionEdit","productCategoryList","handleChange","timeZoneList","Currentdate","defaultTimeZone","linkMaster","TimeZoneList","currentTime","componentDidMount","parentHeight","height","clientHeight","firstPane","generateBreadCrumData","breadCrumbFrom","breadCrumbto","componentDidUpdate","previousProps","bool","values","materialTypeList","componentWillUnmount","modalName","fieldArray","primaryKeyValue","displayName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { Row, Col, Nav, Card, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { toast } from 'react-toastify';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt, faPencilAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../audittrail/Esign';\r\nimport { constructjsonOptionList, convertDateTimetoString, convertDateTimetoStringDBformat, rearrangeDateFormatDateOnly, formatInputDate, convertDateTimetoStringDBFormat, sortData, Lims_JSON_stringify,replaceBackSlash,convertDateValuetoString } from '../../components/CommonScript';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component'\r\nimport { showEsign, getControlMap, constructOptionList, onDropAttachFileList, deleteAttachmentDropZone, create_UUID, rearrangeDateFormat } from '../../components/CommonScript';\r\nimport {\r\n    callService, updateStore, crudMaster, filterColumnData, validateEsignCredential, viewAttachment,\r\n    initialcombochangeget, addSafetyInstructions, getAddMaterialPopup, getMaterialDetails, addMaterialProperty, getMaterialReload,\r\n    getMaterialEdit, getMaterialByTypeCode, getAddMaterialSectionPopup, getMaterialSectionEdit, addMaterialFile,addMaterialAccountingProperty,getAddMaterialAccountingPopup,getReportDetails,generateControlBasedReport\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { transactionStatus, attachmentType } from '../../components/Enumeration';\r\nimport { ContentPanel, ReadOnlyText, MediaLabel } from '../../components/App.styles';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport MaterialFilter from './MaterialFilter';\r\nimport MaterialSectionTab from './MaterialSectionTab';\r\nimport MaterialInventoryTab from './MaterialInventoryTab';\r\nimport AddMaterialSection from './AddMaterialSection';\r\nimport AddReportDetails from './AddReportDetails';\r\n\r\nimport { Affix } from 'rsuite';\r\nimport MaterialMsdsAttachmentTab from './MaterialMsdsAttachmentTab';\r\nimport AddMaterialFile from './AddMaterialFile';\r\nimport { ReactComponent as Safety } from '../../assets/image/safety.svg';\r\nimport { ReactComponent as Property } from '../../assets/image/managed-hosting.svg';\r\nimport { ReactComponent as Generate } from '../../assets/image/generate-certificate.svg'\r\nimport { ReactComponent as Powder } from '../../assets/image/powder-material-removal.svg'\r\nimport { ReactComponent as Issue } from '../../assets/image/normal-material-remvl.svg'\r\nimport { ReactComponent as Solution } from '../../assets/image/solution-material-removal.svg'\r\nimport { ProductList } from '../product/product.styled';\r\nimport PortalModal from '../../PortalModal';\r\nimport ModalShow from '../../components/ModalShow';\r\nimport SampleInfoView from '../approval/SampleInfoView';\r\nimport DynamicSlideoutMaterial from './DynamicSlideoutMaterial';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\nclass Material extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\r\n        };\r\n        this.state = {\r\n            masterStatus: \"\",\r\n            sectionDataState: { skip: 0, take: 10 },\r\n            error: \"\",\r\n            selectedRecord: {},\r\n            filterCatList: [],\r\n            operation: \"\",\r\n            comboitem: undefined,\r\n            screenName: undefined,\r\n            selectedcombo: undefined,\r\n            isSelectedRecordChange: false,\r\n            showSectionWhileEdit: false,\r\n            selectedMaterialCat: undefined,\r\n            materialCatList: [],\r\n            userRoleControlRights: [],\r\n            ControlRights: undefined,\r\n            controlMap: new Map(),\r\n            dataResult: [],\r\n            skip: 0,\r\n            take: this.props.Login.settings && this.props.Login.settings[3],\r\n            dataState: dataState,\r\n            data: [],\r\n            splitChangeWidthPercentage: 30,\r\n            sidebarview: false\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    sidebarExpandCollapse = () => {\r\n        this.setState({\r\n            sidebarview: true\r\n        })          \r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    render() {\r\n      \r\n        //  console.log('selected r :', this.props.Login.masterData)\r\n        let addId=-1\r\n        {this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode===5 ? addId=-1:  addId = (this.state.controlMap.has(\"AddMaterial\") && this.state.controlMap.get(\"AddMaterial\").ncontrolcode);}\r\n        \r\n        const editId = this.state.controlMap.has(\"EditMaterial\") && this.state.controlMap.get(\"EditMaterial\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteMaterial\") && this.state.controlMap.get(\"DeleteMaterial\").ncontrolcode;\r\n        const addParameterId = this.state.controlMap.has(\"AddMaterialSafetyInstructions\")\r\n            && this.state.controlMap.get(\"AddMaterialSafetyInstructions\").ncontrolcode;\r\n        const addMaterialProperty = this.state.controlMap.has(\"AddMaterialProperties\")\r\n            && this.state.controlMap.get(\"AddMaterialProperties\").ncontrolcode;\r\n            const addMaterialAccounting = this.state.controlMap.has(\"MaterialAccounting\")\r\n            && this.state.controlMap.get(\"MaterialAccounting\").ncontrolcode;\r\n            const addMaterialAccountingPowder = this.state.controlMap.has(\"MaterialAccountingPowder\")\r\n            && this.state.controlMap.get(\"MaterialAccountingPowder\").ncontrolcode;\r\n            const addMaterialAccountingSolution = this.state.controlMap.has(\"MaterialAccountingSolution\")\r\n            && this.state.controlMap.get(\"MaterialAccountingSolution\").ncontrolcode;\r\n            const materialAccountingReport = this.state.controlMap.has(\"MaterialAccountingReport\")\r\n            && this.state.controlMap.get(\"MaterialAccountingReport\").ncontrolcode;\r\n        let masterlistmain = []\r\n        this.props.Login.masterData.Material = this.props.Login.masterData.Material &&\r\n            sortData(this.props.Login.masterData.Material, \"descending\", \"nmaterialcode\")\r\n        this.props.Login.masterData.MaterialType = this.props.Login.masterData.MaterialType &&\r\n            sortData(this.props.Login.masterData.MaterialType, \"ascending\", \"nmaterialtypecode\")\r\n        this.props.Login.masterData.MaterialCategoryMain = this.props.Login.masterData.MaterialCategoryMain &&\r\n            sortData(this.props.Login.masterData.MaterialCategoryMain, \"ascending\", \"nmaterialcatcode\")\r\n        this.props.Login.masterData.searchedData = this.props.Login.masterData.searchedData &&\r\n            sortData(this.props.Login.masterData.searchedData, \"descending\", \"nmaterialcode\")\r\n\r\n        if (this.props.Login.masterData.SelectedMaterialCategory &&\r\n            this.props.Login.masterData.SelectedMaterialCategory.needSectionwise === transactionStatus.YES) {\r\n            if (this.props.Login.masterData.SelectedMaterial) {\r\n                delete this.props.Login.masterData.SelectedMaterial['Section'];\r\n                delete this.props.Login.masterData.SelectedMaterial['Reorder Level'];\r\n            }\r\n        }\r\n\r\n        // this.props.Login.masterData.Material &&\r\n        //     this.props.Login.masterData.Material.map((temp, i) => {\r\n        //         return masterlistmain.push(this.props.Login.masterData.Material[i].jsondata)\r\n        //     })\r\n        let searchedDatalistmain = []\r\n\r\n        // if (this.props.Login.masterData.searchedData === undefined) {\r\n        //     searchedDatalistmain = undefined\r\n        // } else {\r\n        //     this.props.Login.masterData.searchedData &&\r\n        //         this.props.Login.masterData.searchedData.map((temp, i) => {\r\n        //             return searchedDatalistmain.push(this.props.Login.masterData.searchedData[i].jsondata)\r\n        //         })\r\n        // }\r\n        let searchFieldList = []\r\n        let mandatoryFieldsMaterialFile = []\r\n        let mandatoryFieldsMaterialSection =[]\r\n       let mandatoryAccounting = [\r\n        { \r\n            \"mandatory\": false, \"idsName\": \"IDS_MATERIALSECTION\", \"dataField\": \"materialinventorytype\",\r\n            \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n        }\r\n        ]\r\n\r\n\r\n        let mandatoryAccountingReport = [\r\n            { \r\n                \"mandatory\": true, \"idsName\": \"IDS_REPORTTYPE\", \"dataField\": \"nmaterialaccountinggroupcode\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            { \r\n                \"mandatory\": true, \"idsName\": \"IDS_URANIUMCONTENTTYPE\", \"dataField\": \"nuraniumcontenttypecode\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            { \r\n                \"mandatory\": true, \"idsName\": \"IDS_MONTH\", \"dataField\": \"nmonth\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            { \r\n                \"mandatory\": true, \"idsName\": \"IDS_YEAR\", \"dataField\": \"syear\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            ]\r\n        // if (this.props.Login.masterData.SelectedMaterialType) {\r\n        //     if (this.props.Login.masterData.SelectedMaterialType.length > 0) {\r\n        //         if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1) {\r\n        //             searchFieldList = [\r\n        //                 \"Standard Name\"\r\n        //             ]\r\n        //         }\r\n        //         else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2) {\r\n        //             searchFieldList = [\r\n        //                 \"Volumetric Name\"\r\n        //             ]\r\n        //         }\r\n        //         else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 3) {\r\n        //             searchFieldList = [\r\n        //                 \"Material Name\"\r\n        //             ]\r\n        //         }\r\n        //     }\r\n        // }\r\n        const filterParam = {\r\n            inputListName: \"Material\", selectedObject: \"SelectedMaterial\", primaryKeyField: \"nmaterialcode\",\r\n            fetchUrl: \"material/getMaterialByID\", fecthInputObject: { userinfo: this.props.Login.userInfo,\r\n                fromDate : this.props.Login.masterData.fromDate,\r\n               toDate: this.props.Login.masterData.toDate },\r\n            masterData: this.props.Login.masterData,\r\n            // isjsondata: true,\r\n            searchFieldList: this.props.Login.masterData.DesignMappedFeilds &&\r\n                JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['searchFieldList'][0]['searchFieldList'] &&\r\n                JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['searchFieldList'][0]['searchFieldList']\r\n        };\r\n        this.props.Login.screenname === 'IDS_MATERIALMSDSATTACHMENT' && (this.props.Login.selectedRecord &&\r\n            this.props.Login.selectedRecord.nattachmenttypecode === attachmentType.LINK) ?\r\n            mandatoryFieldsMaterialFile = [\r\n                { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"slinkfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n                { \"idsName\": \"IDS_LINKNAME\", \"dataField\": \"nlinkcode\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n            ]\r\n            :\r\n            mandatoryFieldsMaterialFile = [\r\n                { \"idsName\": \"IDS_FILE\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n            ]\r\n\r\n        \r\n            this.props.Login.screenname === 'IDS_MATERIALACCOUNTING' ? \r\n             mandatoryFieldsMaterialSection = [\r\n                {\r\n                    mandatory: true,\r\n                    idsName: \"IDS_ISSUEDQUANTITY\",\r\n                    dataField: \"quantity\",\r\n                    mandatoryLabel: \"IDS_ENTER\",\r\n                    controlType: \"textbox\",\r\n                  }\r\n            ] : \r\n        \r\n             mandatoryFieldsMaterialSection = [\r\n                { \r\n                    \"mandatory\": false, \"idsName\": \"IDS_MATERIALSECTION\", \"dataField\": \"nmaterialsectioncode\",\r\n                    \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                }\r\n            ];\r\n\r\n\r\n        const breadCrumbData = this.state.filterData || [];\r\n        return (\r\n            <>\r\n                {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd \">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix>\r\n                        : \"\"\r\n                    }\r\n                    <Row noGutters>\r\n                        <Col md={`${!this.props.sidebarview ? '4' : \"2\"}`}> \r\n                            <ListMaster\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={\"Material\"}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                //  masterList={searchedDatalistmain || masterlistmain}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.Material}\r\n                                getMasterDetail={(master) => this.props.getMaterialDetails(master, this.props.Login.masterData, this.props.Login.userInfo)}\r\n                                selectedMaster={this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial}\r\n                                primaryKeyField=\"nmaterialcode\"\r\n                                // mainField={this.props.Login.masterData.SelectedMaterialType ?\r\n                                //     this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1 ?\r\n                                //         \"Standard Name\" :\r\n                                //         this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2 ?\r\n                                //             \"Volumetric Name\" :\r\n                                //             \"Material Name\" : \"\"}\r\n                                // firstField={\"Reorder Level\"}\r\n                                mainField={this.props.Login.masterData.DesignMappedFeilds &&\r\n                                    JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['ListMasterProps'][0]['mainField']}\r\n                                // firstField={\r\n                                //     this.props.Login.masterData.DesignMappedFeilds &&\r\n                                //     JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['ListMasterProps'][0]['firstField'] &&\r\n                                //     JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['ListMasterProps'][0]['firstField']\r\n                                //     //||JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)['ListMasterProps'][0]['firstField']\r\n                                // }\r\n                                isIDSField=\"Yes\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={false}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                showFilterIcon={true}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_FILTER\":\r\n                                            <MaterialFilter\r\n                                                filterCatList={this.state.filterCatList || []}\r\n                                                materialCatList={this.state.materialCatList || []}\r\n                                                selectedRecord={this.state.selectedcombo || {}}//\r\n                                                selectedMaterialCat={this.state.selectedMaterialCat || {}}\r\n                                                userInfo={this.props.Login.userInfo||{}}\r\n                                                onComboChange={this.onComboChange}\r\n                                                 handleDateChange={this.handleDateChanges}\r\n                                                 fromDate={this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()}\r\n                                                 toDate={this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()}\r\n                                             />\r\n                                    }\r\n                                ]}\r\n                                openModal={() => this.openModal(\r\n                                    \"create\", this.props.Login, this.state.selectedcombo,\r\n                                    addId, this.props.Login.masterData,\r\n                                    this.state.selectedRecord,\"IDS_MATERIAL\")}\r\n                            />\r\n                        </Col>\r\n                        <Col md={`${!this.props.sidebarview ? '8' : \"10\"}`} className=\"position-relative\">\r\n                            <div className=\"sidebar-view-btn-block\">\r\n                                <div className=\"sidebar-view-btn \" onClick={this.props.parentFunction}>\r\n                                    {!this.props.sidebarview ?                    \r\n                                        <i class=\"fa fa-less-than\"></i> :\r\n                                        <i class=\"fa fa-greater-than\"></i> \r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <ContentPanel className=\"panel-main-content\">\r\n                                        {this.props.Login.masterData.Material && this.props.Login.masterData.Material.length > 0 && this.props.Login.masterData.SelectedMaterial ?\r\n                                            <Card className=\"border-0\">\r\n                                                <Card.Header>\r\n                                                    <Card.Title className=\"product-title-main\">\r\n                                                        {this.props.Login.masterData.SelectedMaterialType ?\r\n                                                            this.props.Login.masterData.SelectedMaterial['Material Name'] : \"\"}\r\n                                                    </Card.Title>\r\n                                                    <Card.Subtitle>\r\n                                                        <ProductList className=\"d-flex product-category icon-group-wrap\">                                                      \r\n                                                           \r\n                                                        {  this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode===5 ?\r\n                                                       <h2 className=\"material-accounting flex-grow-1\">\r\n                                                     <MediaLabel >\r\n                                                           {this.props.intl.formatMessage({ id: \"IDS_OPENQTY\" })} : {this.props.Login.masterData.OpenQty} & {this.props.intl.formatMessage({ id: \"IDS_CLOSEQTY\" })} : {this.props.Login.masterData.CloseQty}\r\n                                                       </MediaLabel>\r\n\r\n                                                   </h2> \r\n                                                        :\r\n                                                        <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                 <MediaLabel >\r\n                                                                    {this.props.intl.formatMessage({ id: \"IDS_QUARANTINE\" })} :\r\n                                                                </MediaLabel>\r\n                                                                <MediaLabel\r\n                                                                    className={`btn btn-outlined ${this.props.Login.masterData.\r\n                                                                        SelectedMaterial['ntransactionstatus'] === transactionStatus.YES ?\r\n                                                                        \"outline-success\" : \"outline-danger\"} btn-sm ml-3`}>\r\n                                                                    {this.props.Login.masterData.SelectedMaterial\r\n                                                                    ['ntransactionstatus'] === transactionStatus.YES ?\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_YES\" }) : this.props.intl.formatMessage({ id: \"IDS_NO\" })}\r\n                                                                </MediaLabel> \r\n\r\n\r\n                                                            </h2>\r\n                                                        }       \r\n\r\n                                                            {  this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode!==5 ?\r\n                                                             <div className=\"d-inline \">\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n\r\n                                                                    \r\n                                                                    hidden={\r\n                                                                        this.state.userRoleControlRights.indexOf(\r\n                                                                            editId\r\n                                                                        ) === -1\r\n                                                                      }\r\n                                                                    //   data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={(e) =>\r\n                                                                        this.props.getAddMaterialPopup(\r\n                                                                            \"update\", this.props.Login, this.state.selectedcombo,\r\n                                                                            editId, this.props.Login.masterData,\r\n                                                                            this.state.selectedRecord,\"IDS_MATERIAL\")\r\n                                                                    }\r\n                                                                >\r\n\r\n                                                                    <FontAwesomeIcon icon={faPencilAlt}\r\n                                                                        title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                                </Nav.Link>\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n\r\n                                                                    hidden={\r\n                                                                        this.state.userRoleControlRights.indexOf(\r\n                                                                          deleteId\r\n                                                                        ) === -1\r\n                                                                      }\r\n                                                                    //   data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={() => this.ConfirmDelete(deleteId)}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faTrashAlt} />\r\n\r\n                                                                </Nav.Link>\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_ADDMATERIALSAFETYINSTRUCTIONS\" })}\r\n                                                                    //   data-for=\"tooltip_list_wrap\"\r\n\r\n                                                                    hidden={\r\n                                                                        this.state.userRoleControlRights.indexOf(\r\n                                                                            addParameterId\r\n                                                                        ) === -1\r\n                                                                      }\r\n                                                                    onClick={(e) => this.props.addSafetyInstructions(this.props.Login.masterData,\r\n                                                                        this.props.Login.userInfo, addParameterId, \"create\", {})}\r\n                                                                >\r\n                                                                    <Safety className=\"custom_icons\" width=\"15\" height=\"15\" />\r\n                                                                </Nav.Link>\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_MATERIALPROPERTY\" })}\r\n\r\n                                                                    hidden={\r\n                                                                        this.state.userRoleControlRights.indexOf(\r\n                                                                            addMaterialProperty\r\n                                                                        ) === -1\r\n                                                                      }\r\n                                                                    //  data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={(e) => this.props.addMaterialProperty(this.props.Login.masterData,\r\n                                                                        this.props.Login.userInfo, addMaterialProperty, \"create\", {})}\r\n                                                                >\r\n                                                                    <Property className=\"custom_icons\" width=\"18\" height=\"18\" />\r\n                                                                </Nav.Link>\r\n\r\n                                                                </div>\r\n                                                             :\r\n                                                             \r\n                                                             <div className=\"d-inline \">\r\n                                                             {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                 data-tip={this.props.intl.formatMessage({ id: \"IDS_MATERIALACCOUNTINGPELLET\" })}\r\n\r\n                                                                 hidden={\r\n                                                                     this.state.userRoleControlRights.indexOf(\r\n                                                                        addMaterialAccounting\r\n                                                                     ) === -1\r\n                                                                   }\r\n                                                              onClick={(e) =>  this.props.getAddMaterialAccountingPopup(\"create\", this.props.Login, this.state.selectedcombo,\r\n                                                                        addId, this.props.Login.masterData,this.state.selectedRecord,\"IDS_MATERIALACCOUNTING\",\"Pellet\")}\r\n                                                             >\r\n                                                                 <Issue className=\"custom_icons\" width=\"18\" height=\"18\" />\r\n                                                             </Nav.Link>\r\n\r\n\r\n                                                             <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                 data-tip={this.props.intl.formatMessage({ id: \"IDS_MATERIALACCOUNTINGPOWDER\" })}\r\n\r\n                                                                 hidden={\r\n                                                                     this.state.userRoleControlRights.indexOf(\r\n                                                                        addMaterialAccountingPowder\r\n                                                                     ) === -1\r\n                                                                   }\r\n\r\n\r\n                                    onClick={(e) =>  this.props.getAddMaterialAccountingPopup(\"create\", this.props.Login, this.state.selectedcombo,\r\n                                    addId, this.props.Login.masterData,this.state.selectedRecord,\"IDS_MATERIALACCOUNTING\",\"powder\")}\r\n\r\n                                                             >\r\n                                                                 <Powder className=\"custom_icons\" width=\"18\" height=\"18\" />\r\n                                                             </Nav.Link>\r\n\r\n                                                             <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                 data-tip={this.props.intl.formatMessage({ id: \"IDS_MATERIALACCOUNTINGLIQUID\" })}\r\n\r\n                                                                 hidden={\r\n                                                                     this.state.userRoleControlRights.indexOf(\r\n                                                                        addMaterialAccountingSolution\r\n                                                                     ) === -1\r\n                                                                   }\r\n\r\n\r\n                                    onClick={(e) =>  this.props.getAddMaterialAccountingPopup(\"create\", this.props.Login, this.state.selectedcombo,\r\n                                    addId, this.props.Login.masterData,this.state.selectedRecord,\"IDS_MATERIALACCOUNTING\",\"Liquid\")}\r\n\r\n                                                             >\r\n                                                                 <Solution className=\"custom_icons\" width=\"18\" height=\"18\" />\r\n                                                             </Nav.Link>\r\n\r\n                                                             {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                 data-tip={this.props.intl.formatMessage({ id: \"IDS_REPORT\" })}\r\n\r\n                                                                 hidden={                                                                    \r\n                                                                          this.state.userRoleControlRights.indexOf(\r\n                                                                        materialAccountingReport\r\n                                                                     ) === -1\r\n                                                                    \r\n                                                                   }\r\n                                                                   onClick={(e) =>  this.props.getReportDetails(this.props.Login.masterData, this.props.Login.userInfo)} \r\n                                                             >\r\n                                                                 <Generate className=\"custom_icons\" width=\"18\" height=\"18\" />\r\n                                                             </Nav.Link> */}\r\n                                                             \r\n                                                         </div>\r\n                                                             \r\n                                                             }\r\n\r\n                                                        </ProductList>\r\n                                                    </Card.Subtitle>\r\n                                                </Card.Header>\r\n                                                <Card.Body>\r\n                                                  {  this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode===5 ? \r\n                                                   \"\" \r\n                                                  :<Row>\r\n                                                        {/* {this.accordianDesign()} */}\r\n                                                        <SampleInfoView\r\n                                                            data={this.props.Login.masterData.SelectedMaterial}\r\n                                                            SingleItem={JSON.parse(this.props.Login.masterData.DesignMappedFeilds['jsondata'].value)\r\n                                                            ['MaterialViewFields'\r\n                                                            ]}\r\n                                                            screenName=\"IDS_SAMPLEINFO\"\r\n                                                            userInfo={this.props.Login.userInfo}\r\n                                                            // ALPD-950\r\n                                                            size={4}\r\n                                                        />\r\n                                                    </Row>}\r\n                                                  \r\n                                                    {  this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode===5 ? \r\n                                                  \r\n                                                    <MaterialInventoryTab\r\n                                                        controlMap={this.state.controlMap}\r\n                                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                                        // dataResult={process(sortData(this.props.Login.masterData[\"MaterialSection\"], 'descending', 'nmaterialsectioncode'),\r\n                                                        //     (this.props.screenName === undefined || this.props.screenName === \"IDS_MATERIALSECTION\")\r\n                                                        //         ? this.state.sectionDataState : { skip: 0, take: 10 })}\r\n                                                        \r\n                                                        //dataResult={process(this.props.Login.masterData[\"MaterialSection\"]|| [],{ skip: 0, take: 10 })}\r\n                                                        //dataState={(this.props.screenName === undefined || this.props.Login.screenname === \"IDS_MATERIALSECTION\" || this.props.Login.screenname === \"IDS_MATERIALACCOUNTING\")\r\n                                                       //     ? this.state.sectionDataState : { skip: 0, take: 10 }}\r\n                                                       // dataStateChange={(event) => this.setState({ sectionDataState: event.dataState })}\r\n                                                        data={this.props.Login.masterData[\"MaterialSection\"]}\r\n                                                        dataResult={process(sortData(this.props.Login.masterData[\"MaterialSection\"], 'descending', 'nmaterialinventtranscode'),\r\n                            (this.props.screenName === undefined || this.props.screenName === \"IDS_MATERIALSECTION\")\r\n                                ? this.state.sectionDataState : { skip: 0, take: 10 })}\r\n                        dataState={(this.props.screenName === undefined || this.props.screenname === \"IDS_MATERIALSECTION\")\r\n                            ? this.state.sectionDataState : { skip: 0, take: 10 }}\r\n                        dataStateChange={(event) => this.setState({ sectionDataState: event.dataState })}\r\n                                                        masterData={this.props.Login.masterData}\r\n                                                        userInfo={this.props.Login.userInfo}\r\n                                                        getTestDetails={this.props.getTestDetails}\r\n                                                       getAddMaterialSectionPopup={this.props.getAddMaterialSectionPopup}\r\n                                                        addParameter={this.addMaterialSection}\r\n                                                        deleteRecord={this.deleteRecordmain}\r\n                                                        fetchRecord={this.props.getMaterialSectionEdit}\r\n                                                        selectedRecord={this.props.Login.selectedRecord}\r\n                                                        selectedId={this.props.Login.selectedId}\r\n                                                        screenName=\"IDS_MATERIALSECTION\"\r\n                                                    />\r\n                                               \r\n                                                    \r\n                                                    :\r\n                                                    this.props.Login.masterData && <CustomTab activeKey={this.props.Login.masterData.tabScreen || 'IDS_MATERIALMSDSATTACHMENT'} tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                                                    }\r\n                                                    \r\n                                                </Card.Body>\r\n                                            </Card> : \"\"}\r\n                                    </ContentPanel>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {/* {this.props.Login.openPortal &&\r\n\r\n                        <DynamicSlideoutMaterial\r\n                            selectedRecord={this.state.selectedRecord}\r\n                            enableDisableTextInput={this.props.Login.selectedRecord['IDS_EXPIRY']}\r\n                            templateData={this.props.Login.masterData.selectedTemplate &&\r\n                                this.props.Login.masterData.selectedTemplate[0].jsondata}\r\n                            onNumericInputChange={this.onNumericInputChange}\r\n                            handleChange={this.handleChange}\r\n                            onInputOnChange={this.onInputOnChange}\r\n                            comboData={this.props.Login.templateData && this.props.Login.templateData.comboData}\r\n                            onComboChange={this.onComboChangedynamic}\r\n\r\n                        />\r\n                } */}\r\n                {\r\n                    (this.props.Login.openModal || this.props.Login.openChildModal) &&\r\n                    <SlideOutModal show={(this.props.Login.openModal || this.props.Login.openChildModal)}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.screenname === 'IDS_MATERIALSAFETYINSTRUCTIONS' ? '' :\r\n                            this.props.Login.screenname === 'IDS_MATERIALPROPERTY' ? '' :\r\n                                this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenname}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.screenname === 'IDS_MATERIALMSDSATTACHMENT' ? mandatoryFieldsMaterialFile : this.props.Login.screenname === 'IDS_MATERIAL' ? this.dynamicmandatoryFeilds() :\r\n                            this.props.Login.screenname !== 'IDS_MATERIALPROPERTY' ?\r\n                                this.props.Login.screenname !== 'IDS_MATERIALSAFETYINSTRUCTIONS' ? mandatoryFieldsMaterialSection : ''\r\n                                : ''}\r\n                        updateStore={this.props.updateStore}\r\n                        addComponent={\r\n                            this.props.Login.loadEsign ?\r\n                                <Esign operation={this.props.Login.operation}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                />\r\n                                :\r\n                                this.props.Login.screenname !== \"IDS_MATERIALMSDSATTACHMENT\" ?\r\n                                    this.props.Login.screenname !== 'IDS_MATERIALPROPERTY' ?\r\n                                        this.props.Login.screenname !== 'IDS_MATERIALSAFETYINSTRUCTIONS' ?\r\n                                            this.props.Login.showMaterialSection ?\r\n                                                <AddMaterialSection\r\n                                                    selectedRecord={this.props.Login.selectedRecord || {}}\r\n                                                    onInputOnChange={this.onInputOnChange}\r\n                                                    MaterialSectionCombodata={this.props.Login.masterData.MaterialSection && this.props.Login.masterData.MaterialSection}\r\n                                                    onNumericInputChange={this.onNumericInputChange}\r\n                                                    onComboChange={this.onComboChange}\r\n                                                    isDisabled={this.props.Login.isneedcombomulti && this.props.Login.isneedcombomulti}\r\n                                                    ismaterialsectionEdit={this.props.Login.ismaterialsectionEdit}\r\n\r\n                                                    comboData={this.props.Login.masterData.productCategoryList}\r\n                                                />\r\n                                                :\r\n                                                <DynamicSlideoutMaterial\r\n                                                    operation={this.props.Login.operation}\r\n                                                    showSectionWhileEdit={this.state.showSectionWhileEdit}\r\n                                                    selectedRecord={this.state.selectedRecord}\r\n                                                    userInfo={this.props.Login.userInfo}\r\n                                                    isBreadCrumbCategory=\r\n                                                    {this.props.Login.operation === 'update' ?\r\n                                                        this.props.Login.masterData.SelectedMaterialCategory.nmaterialcatcode ===\r\n                                                            this.props.Login.selectedRecord['Material Category'].value ? true : false\r\n                                                        : false}\r\n                                                    enableDisableNeedExpiry={this.props.Login.selectedRecord['Expiry']}\r\n                                                    enableDisableOpenExpiry={this.props.Login.selectedRecord['Open Expiry Need']}\r\n                                                    enableDisableNextValidation={this.props.Login.selectedRecord['Next Validation Need']}\r\n                                                    enableDisableNextValidationNeed={this.props.Login.selectedRecord['Quarantine']}\r\n                                                    enableDisableExpiryPolicy={this.props.Login.selectedRecord['Expiry Validations']}\r\n\r\n                                                    templateData={this.props.Login.masterData.selectedTemplate &&\r\n                                                        this.props.Login.masterData.selectedTemplate[0].jsondata}\r\n                                                    onNumericInputChange={this.onNumericInputChange}\r\n                                                    handleChange={this.handleChange}\r\n                                                    onInputOnChange={this.onInputOnChange}\r\n                                                    timeZoneList={this.props.Login.timeZoneList}\r\n                                                    handleDateChange={this.handleDateChange}\r\n                                                    CurrentTime={rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.Currentdate)}\r\n                                                    comboData={this.props.Login.templateData && this.props.Login.templateData.comboData}\r\n                                                    onComboChange={this.onComboChangedynamic}\r\n                                                    // ismaterialSectionneed={this.state.ismaterialSectionneed}\r\n                                                    screenname={this.props.Login.screenname}\r\n                                                    ismaterialSectionneed={this.props.Login.selectedRecord['Material Category'] && this.props.Login.selectedRecord['Material Category'].item &&\r\n                                                        this.props.Login.selectedRecord['Material Category'].item.jsondata.needsectionwise\r\n                                                        || this.props.Login.selectedRecord['Material Category'] && this.props.Login.selectedRecord['Material Category'].needsectionwise || this.props.Login.masterData.ismaterialSectionneed}\r\n                                                    checkSectionNeed={this.props.Login.selectedRecord['Material Category'] && this.props.Login.selectedRecord['Material Category'].item &&\r\n                                                        this.props.Login.selectedRecord['Material Category'].item.jsondata.needsectionwise === transactionStatus.YES && this.props.Login.masterData.SelectedMaterialCategory.needSectionwise === transactionStatus.YES ? true : false}\r\n                                                />\r\n                                            :\r\n                                            <DynamicSlideoutMaterial\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                templateData={this.props.Login.masterData.selectedTemplateSafetyInstructions &&\r\n                                                    this.props.Login.masterData.selectedTemplateSafetyInstructions[0].jsondata}\r\n                                                handleChange={this.handleChange}\r\n                                                onInputOnChange={this.onInputOnChangeDynamic}\r\n                                            />\r\n                                        :\r\n                                        <DynamicSlideoutMaterial\r\n                                            selectedRecord={this.props.Login.selectedRecord}\r\n                                            userInfo={this.props.Login.userInfo}\r\n                                            templateData={this.props.Login.masterData.selectedTemplateProperties &&\r\n                                                this.props.Login.masterData.selectedTemplateProperties[0].jsondata}\r\n                                            // userInfo={this.props.Login.userInfo}\r\n                                            handleChange={this.handleChange}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            handleDateChange={this.handleDateChange}\r\n                                            timeZoneList={this.props.Login.timeZoneList && this.props.Login.timeZoneList}\r\n                                            onComboChange={this.onComboChangedynamic}\r\n                                            defaultTimeZone={this.props.Login.defaultTimeZone}\r\n                                        /> :\r\n                                    <AddMaterialFile\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onDrop={this.onDropMaterialFile}\r\n                                        deleteAttachment={this.deleteAttachment}\r\n                                        onComboChange={this.onComboChange}\r\n                                        linkMaster={this.props.Login.linkMaster}\r\n                                        maxSize={20}\r\n                                        maxFiles={1}\r\n                                        multiple={false}\r\n                                        hideDefaultToggle={true}\r\n                                        label={this.props.intl.formatMessage({ id: \"IDS_MATERIALMSDSATTACHMENT\" })}\r\n                                        name=\"testfilename\"\r\n                                    />\r\n                        }\r\n                    />\r\n                }\r\n\r\n{this.props.Login.modalShow ? (\r\n          <ModalShow\r\n            modalShow={this.props.Login.modalShow}\r\n            closeModal={this.closeModalShow}\r\n            onSaveClick={this.onSaveModalClick}\r\n            validateEsign={this.validateEsign}\r\n            masterStatus={this.props.Login.masterStatus}\r\n            mandatoryFields={mandatoryAccountingReport}\r\n            updateStore={this.props.updateStore}\r\n            selectedRecord={this.state.selectedRecord || {}}\r\n            modalTitle={this.props.intl.formatMessage({ id: \"IDS_REPORT\" })}\r\n            modalBody={\r\n             \r\n                <AddReportDetails\r\n                  selectedRecord={this.state.selectedRecord || {}}\r\n                  masterData={this.props.Login.masterData}\r\n                  TimeZoneList={this.props.Login.TimeZoneList}\r\n                  onInputOnChange={this.onInputOnChange}\r\n                  handleDateChange={this.handleDateChange}\r\n                  onComboChange={this.onComboChange}\r\n                  userInfo={this.props.Login.userInfo}\r\n                  esign={this.props.Login.loadEsign}\r\n                  handleFilterDateChange={this.handleFilterDateChange}\r\n                  currentTime={this.props.Login.currentTime}\r\n                />\r\n                \r\n            }\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n            </>\r\n        );\r\n    }\r\n\r\n    openModal = (operation, loginProps, selectedCombo,\r\n        addId, masterData, selectedRecord,screenname) => {\r\n        if (this.state.selectedcombo[\"nmaterialtypecode\"] && this.state.selectedMaterialCat[\"nmaterialcatcode\"]) {\r\n            this.props.getAddMaterialPopup(operation, loginProps, selectedCombo,\r\n                addId, masterData, selectedRecord,screenname)\r\n        }\r\n        else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }));\r\n        }\r\n    }\r\n\r\n    dynamicmandatoryFeilds = () => {\r\n        let mandatoryFeildsMaterial = [];\r\n        let slanguagetypecode = this.props.Login.userInfo.slanguagetypecode\r\n        this.props.Login.masterData.selectedTemplate &&\r\n            this.props.Login.masterData.selectedTemplate[0].jsondata.map((row) => {\r\n                row.children.map((column) => {\r\n                    column.children.map((component) => {\r\n                        if (component.mandatory) {\r\n                            if (component.inputtype === 'combo') {\r\n                                mandatoryFeildsMaterial.push({\r\n                                    \"idsName\": component.displayname[slanguagetypecode], \"dataField\": component.label,\r\n                                    \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                                })\r\n                            }\r\n                            else {\r\n                                mandatoryFeildsMaterial.push({\r\n                                    \"idsName\": component.displayname[slanguagetypecode], \"dataField\": component.label,\r\n                                    \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n                                })\r\n                            }\r\n                        }\r\n                        component.hasOwnProperty(\"children\") && component.children.map((componentrow) => {\r\n                            if (componentrow.mandatory) {\r\n                                if (componentrow.inputtype === 'combo') {\r\n                                    mandatoryFeildsMaterial.push({\r\n                                        \"idsName\": componentrow.displayname[slanguagetypecode], \"dataField\": componentrow.label,\r\n                                        \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                                    })\r\n                                }\r\n                                else {\r\n                                    mandatoryFeildsMaterial.push({\r\n                                        \"idsName\": componentrow.displayname[slanguagetypecode], \"dataField\": componentrow.label,\r\n                                        \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n                                    })\r\n                                }\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n            })\r\n        if (this.props.Login.selectedRecord['Expiry Validations']) {\r\n            if (this.props.Login.selectedRecord['Expiry Validations'] === 'Expiry policy') {\r\n                mandatoryFeildsMaterial.push({\r\n                    \"idsName\": \"IDS_EXPIRYPOLICY\", \"dataField\": \"Expiry Policy Days\",\r\n                    \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\"\r\n                });\r\n                mandatoryFeildsMaterial.push({\r\n                    \"idsName\": \"IDS_EXPIRYPOLICYPERIOD\", \"dataField\": \"Expiry Policy Period\",\r\n                    \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                });\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.selectedRecord['Open Expiry Need']) {\r\n            if (this.props.Login.selectedRecord['Open Expiry Need'] === 3) {\r\n                mandatoryFeildsMaterial.push({\r\n                    \"idsName\": \"IDS_OPENEXIPIRY\", \"dataField\": \"Open Expiry\",\r\n                    \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\"\r\n                });\r\n                mandatoryFeildsMaterial.push({\r\n                    \"idsName\": \"IDS_OPENEXIPIRYPERIOD\", \"dataField\": \"Open Expiry Period\",\r\n                    \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                });\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.selectedRecord['Next Validation Need']) {\r\n            if (this.props.Login.selectedRecord['Next Validation Need'] === 3) {\r\n                mandatoryFeildsMaterial.push({\r\n                    \"idsName\": \"IDS_NEXTVALIDATION\", \"dataField\": \"Next Validation\",\r\n                    \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\"\r\n                });\r\n                mandatoryFeildsMaterial.push({\r\n                    \"idsName\": \"IDS_NEXTVALIDATIONPERIOD\", \"dataField\": \"Next Validation Period\",\r\n                    \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                });\r\n            }\r\n        }\r\n        // if (this.props.Login.masterData.ismaterialSectionneed === transactionStatus.YES) {\r\n        if (this.props.Login.selectedRecord['Material Category'] !== undefined) {\r\n            if ((this.props.Login.selectedRecord['Material Category'] && this.props.Login.selectedRecord['Material Category'].item ?\r\n                this.props.Login.selectedRecord['Material Category'].item.jsondata.needsectionwise :\r\n                this.props.Login.selectedRecord['Material Category'].needsectionwise) === transactionStatus.YES) {\r\n                mandatoryFeildsMaterial.push({\r\n                    \"idsName\": \"IDS_SECTION\", \"dataField\": \"Section\",\r\n                    \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                }, {\r\n                    \"idsName\": \"IDS_REORDERLEVEL\", \"dataField\": \"Reorder Level\",\r\n                    \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n                })\r\n            } else {\r\n                mandatoryFeildsMaterial.map((temp, i) => {\r\n                    if (temp.dataField === 'Section' || temp.dataField === 'Reorder Level') {\r\n                        delete mandatoryFeildsMaterial[i];\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        return mandatoryFeildsMaterial;\r\n    }\r\n\r\n    accordianDesign = () => {\r\n        let selectedmasterlistmain = [];\r\n        this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial.jsondata !== undefined &&\r\n            selectedmasterlistmain.push(this.props.Login.masterData.SelectedMaterial.jsondata)\r\n\r\n        let designaccordian = [];\r\n        this.props.Login.masterData.selectedTemplate[0].jsondata.map((row) => {\r\n            row.children.map((column) => {\r\n                column.children.map((component) => {\r\n                    if (component.inputtype === 'combo') {\r\n                        if (component.label !== undefined) {\r\n                            designaccordian.push(<Col md='4'>\r\n                                <FormGroup>\r\n                                    <FormLabel><FormattedMessage id={[component.label]} message={[component.label]} /></FormLabel>\r\n                                    <ReadOnlyText>\r\n                                        {selectedmasterlistmain.length > 0 &&\r\n                                            selectedmasterlistmain[0][component.label] ?\r\n                                            selectedmasterlistmain[0][component.label]['label'] : \"-\"}\r\n                                    </ReadOnlyText>\r\n\r\n                                </FormGroup>\r\n                            </Col>)\r\n                        }\r\n                    }\r\n                    else if (component.inputtype === 'toggle') {\r\n                        if (component.label !== undefined) {\r\n                            designaccordian.push(<Col md='4'>\r\n                                <FormGroup>\r\n                                    <FormLabel><FormattedMessage id={[component.label]} message={[component.label]} /></FormLabel>\r\n                                    <ReadOnlyText>\r\n                                        {selectedmasterlistmain.length > 0 &&\r\n                                            selectedmasterlistmain[0][component.label] &&\r\n                                            selectedmasterlistmain[0][component.label] === transactionStatus.YES ?\r\n                                            'Yes' : 'No'}\r\n                                    </ReadOnlyText>\r\n\r\n                                </FormGroup>\r\n                            </Col>)\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (component.label !== undefined) {\r\n                            designaccordian.push(<Col md='4'>\r\n                                <FormGroup>\r\n                                    <FormLabel><FormattedMessage id={[component.label]} message={[component.label]} /></FormLabel>\r\n                                    <ReadOnlyText>\r\n                                        {selectedmasterlistmain.length > 0 &&\r\n                                            selectedmasterlistmain[0][component.label] ? selectedmasterlistmain[0][component.label] : \"-\"}\r\n                                    </ReadOnlyText>\r\n\r\n                                </FormGroup>\r\n                            </Col>)\r\n                        }\r\n                    }\r\n                    component.hasOwnProperty(\"children\") && component.children.map((componentrow) => {\r\n                        if (componentrow.inputtype === 'combo') {\r\n                            if (componentrow.label !== undefined) {\r\n                                designaccordian.push(<Col md='4'>\r\n                                    <FormGroup>\r\n                                        <FormLabel><FormattedMessage id={[componentrow.label]} message={[componentrow.label]} /></FormLabel>\r\n                                        <ReadOnlyText>\r\n                                            {selectedmasterlistmain.length > 0 &&\r\n                                                selectedmasterlistmain[0][componentrow.label] ?\r\n                                                selectedmasterlistmain[0][componentrow.label]['label'] : \"-\"}\r\n                                        </ReadOnlyText>\r\n\r\n                                    </FormGroup>\r\n                                </Col>)\r\n                            }\r\n                        }\r\n                        else if (componentrow.inputtype === 'toggle') {\r\n                            if (componentrow.label !== undefined) {\r\n                                designaccordian.push(<Col md='4'>\r\n                                    <FormGroup>\r\n                                        <FormLabel><FormattedMessage id={[componentrow.label]} message={[componentrow.label]} /></FormLabel>\r\n                                        <ReadOnlyText>\r\n                                            {selectedmasterlistmain.length > 0 &&\r\n                                                selectedmasterlistmain[0][componentrow.label] &&\r\n                                                selectedmasterlistmain[0][componentrow.label]['label'] === transactionStatus.YES ?\r\n                                                'Yes' : 'No'}\r\n                                        </ReadOnlyText>\r\n\r\n                                    </FormGroup>\r\n                                </Col>)\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (componentrow.label !== undefined) {\r\n                                designaccordian.push(<Col md='4'>\r\n                                    <FormGroup>\r\n                                        <FormLabel><FormattedMessage id={[componentrow.label]} message={[componentrow.label]} /></FormLabel>\r\n                                        <ReadOnlyText>\r\n                                            {selectedmasterlistmain.length > 0 &&\r\n                                                selectedmasterlistmain[0][componentrow.label] ?\r\n                                                selectedmasterlistmain[0][componentrow.label] : \"-\"}\r\n                                        </ReadOnlyText>\r\n\r\n                                    </FormGroup>\r\n                                </Col>)\r\n                            }\r\n                        }\r\n                    }\r\n                    )\r\n                })\r\n            })\r\n        })\r\n        return designaccordian;\r\n    }\r\n\r\n    handleDateChange = (dateValue, dateName) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        let isSelectedRecordChange = this.state.isSelectedRecordChange\r\n        isSelectedRecordChange = true;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord, isSelectedRecordChange });\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const tabScreen = tabProps.screenName;\r\n        let masterData = this.props.Login.masterData\r\n        masterData['tabScreen'] = tabScreen\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { masterData }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    handleDateChanges = (dateName,dateValue) => {\r\n        let masterData = this.props.Login.masterData\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n          }\r\n          let fromdate = this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()\r\n          let todate = this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()\r\n          let obj = {}\r\n          if (dateName === 'fromDate') {\r\n            \r\n            // obj = convertDateValuetoString(dateValue, todate, this.props.Login.userInfo)\r\n            // fromdate = obj.fromDate\r\n            // todate = obj.toDate\r\n            // let fromDate = obj.fromDate\r\n            // let toDate = obj.toDate\r\n            //masterData[dateName] = rearrangeDateFormat(this.props.Login.userInfo,dateValue) ;\r\n            masterData[dateName] =convertDateTimetoString(dateValue,this.props.Login.userInfo);\r\n          } else {\r\n            // obj = convertDateValuetoString(fromdate, dateValue, this.props.Login.userInfo)\r\n            // fromdate = obj.fromDate\r\n            // todate = obj.toDate\r\n            // let fromDate = obj.fromDate\r\n            // let toDate = obj.toDate\r\n            // masterData[dateName] = todate;\r\n            masterData[dateName] =convertDateTimetoString(dateValue,this.props.Login.userInfo);\r\n          }\r\n        \r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { masterData }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onDropMaterialFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\"\r\n        });\r\n    }\r\n\r\n    onSaveMaterialFile = () => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let testFileArray = [];\r\n        let nmaterialconfigcode;\r\n        let testFile = {\r\n            nmaterialconfigcode: this.props.Login.masterData.selectedTemplate[0].nmaterialconfigcode,\r\n            nmaterialcode: this.props.Login.masterData.SelectedMaterial.nmaterialcode,\r\n            nmaterialfilecode: selectedRecord.nmaterialfilecode ? selectedRecord.nmaterialfilecode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            nattachmenttypecode,\r\n\r\n            ndefaultstatus: selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] ?\r\n                selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] : 4\r\n        };\r\n        testFile['sdefaultstatus'] = {}\r\n        testFile['sdefaultstatus'] = testFile['ndefaultstatus'] === 3 ? 'Yes' : 'No'\r\n        const formData = new FormData();\r\n        if (nattachmenttypecode === attachmentType.FTP) {\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, testFile);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const ssystemfilename = selectedRecord.ssystemfilename ? selectedRecord.ssystemfilename.split('.') : \"\";\r\n                    const filesystemfileext = selectedRecord.ssystemfilename ? file.name.split('.')[ssystemfilename.length - 1] : \"\";\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? selectedRecord.ntestfilecode && selectedRecord.ntestfilecode > 0\r\n                        && selectedRecord.ssystemfilename !== \"\" ? ssystemfilename[0] + '.' + filesystemfileext : create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] = Lims_JSON_stringify(file.name, false);\r\n                    tempData[\"sdescription\"] = Lims_JSON_stringify(replaceBackSlash(selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\"), false);\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    tempData[\"dcreateddate\"] = this.props.Login.dcreateddate &&\r\n                        convertDateTimetoStringDBFormat(this.props.Login.dcreateddate, this.props.Login.userInfo)\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    testFileArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                testFile[\"sfilename\"] = Lims_JSON_stringify(selectedRecord.sfilename, false);\r\n                testFile[\"sdescription\"] = Lims_JSON_stringify(replaceBackSlash(selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\"), false);\r\n                testFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                testFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                testFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                testFile[\"dcreateddate\"] = this.props.Login.dcreateddate &&\r\n                    convertDateTimetoStringDBFormat(this.props.Login.dcreateddate, this.props.Login.userInfo)\r\n                testFileArray.push(testFile);\r\n            }\r\n        } else {\r\n            testFile[\"sfilename\"] = Lims_JSON_stringify(replaceBackSlash(selectedRecord.slinkfilename.trim()), false);\r\n            testFile[\"sdescription\"] = Lims_JSON_stringify(replaceBackSlash(selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\"), false);\r\n            testFile[\"slinkname\"] = selectedRecord['nlinkcode'].label && selectedRecord['nlinkcode'].label;\r\n            testFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\r\n            testFile[\"ssystemfilename\"] = \"\";\r\n            testFile[\"dcreateddate\"] = this.props.Login.dcreateddate &&\r\n                convertDateTimetoStringDBFormat(this.props.Login.dcreateddate, this.props.Login.userInfo)\r\n            testFile[\"nfilesize\"] = 0;\r\n            testFileArray.push(testFile);\r\n        }\r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"materialmsdsattachment\", JSON.stringify(testFileArray[0]));\r\n\r\n        let inputParam;\r\n        if (this.props.Login.operation === 'create') {\r\n            inputParam = {\r\n                inputData: {\r\n                    \"userinfo\": {\r\n                        ...this.props.Login.userInfo,\r\n                        sformname: Lims_JSON_stringify(this.props.Login.userInfo.sformname),\r\n                        smodulename: Lims_JSON_stringify(this.props.Login.userInfo.smodulename),\r\n                         //ALPD-1628(while saving the file and link,audit trail is not captured the respective language)\r\n                        slanguagename: Lims_JSON_stringify(this.props.Login.userInfo.slanguagename)\r\n                    }\r\n                },\r\n                formData: formData,\r\n                isFileupload: true,\r\n                operation: \"create\",\r\n                classUrl: \"material\",\r\n                methodUrl: \"MaterialMsdsAttachment\",\r\n                searchRef: this.searchRef,\r\n                isChild: true,\r\n                selectedRecord:{...this.state.selectedRecord}\r\n                \r\n            }\r\n        }\r\n        else {\r\n            let postParam = {\r\n                inputListName: \"MaterialMsdsAttachment\",\r\n                selectedObject: \"SelectedMaterialMsdsAttachment\",\r\n                primaryKeyField: \"nmaterialfilecode\",\r\n            }\r\n            inputParam = {\r\n                inputData: {\r\n                    \"userinfo\": {\r\n                        ...this.props.Login.userInfo,\r\n                        sformname: Lims_JSON_stringify(this.props.Login.userInfo.sformname),\r\n                        smodulename: Lims_JSON_stringify(this.props.Login.userInfo.smodulename),\r\n                        slanguagename: Lims_JSON_stringify(this.props.Login.userInfo.slanguagename)\r\n\r\n                    }\r\n                },\r\n                formData: formData,\r\n                isFileupload: true,\r\n                operation: \"update\",\r\n                classUrl: \"material\",\r\n                methodUrl: \"MaterialMsdsAttachment\",\r\n                searchRef: this.searchRef,\r\n                postParam: postParam,\r\n                isChild: true,\r\n                selectedRecord:{...this.state.selectedRecord}\r\n            }\r\n        }\r\n\r\n        return inputParam;\r\n    }\r\n\r\n    tabDetail = () => {\r\n        const tabMap = new Map();\r\n        {\r\n            // let dataresultarr1 = []\r\n            // console.log('dcv :', this.props.Login.masterData.MaterialMsdsAttachment && this.props.Login.masterData.MaterialMsdsAttachment)\r\n            // this.props.Login.masterData.MaterialMsdsAttachment.map((temp) => {\r\n            //     temp['jsondata'].dcreateddate =\r\n            //      rearrangeDateFormatDateOnly(this.props.Login.userInfo, temp['jsondata'].dcreateddate)\r\n            // })\r\n            // console.log('dataresultarr1 :', this.props.Login.masterData.MaterialMsdsAttachment)\r\n\r\n            // let dataresultarr = []\r\n            // this.props.Login.masterData[\"MaterialSection\"] &&\r\n            //     this.props.Login.masterData[\"MaterialSection\"].map((temp) => {\r\n            //         return dataresultarr.push(temp.jsondata)\r\n            //     })\r\n            // console.log('xxx->>>', sortData(this.props.Login.masterData[\"MaterialSection\"], 'descending', 'nmaterialsectioncode'))\r\n            this.props.Login.masterData.ismaterialSectionneed === 3 && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode!==5 &&\r\n                tabMap.set(\"IDS_MATERIALSECTION\",\r\n                    <MaterialSectionTab\r\n                        controlMap={this.state.controlMap}\r\n                        userRoleControlRights={this.state.userRoleControlRights}\r\n                        dataResult={process(sortData(this.props.Login.masterData[\"MaterialSection\"], 'descending', 'nmaterialsectioncode'),\r\n                            (this.props.screenName === undefined || this.props.screenName === \"IDS_MATERIALSECTION\")\r\n                                ? this.state.sectionDataState : { skip: 0, take: 10 })}\r\n                        dataState={(this.props.screenName === undefined || this.props.screenname === \"IDS_MATERIALSECTION\")\r\n                            ? this.state.sectionDataState : { skip: 0, take: 10 }}\r\n                        dataStateChange={(event) => this.setState({ sectionDataState: event.dataState })}\r\n                        //data={process(sortData(this.props.Login.masterData[\"MaterialSection\"], 'descending',\r\n                        //'nmaterialsectioncode'))}\r\n                        data={this.props.Login.masterData[\"MaterialSection\"]}\r\n                        masterData={this.props.Login.masterData}\r\n                        userInfo={this.props.Login.userInfo}\r\n                        getTestDetails={this.props.getTestDetails}\r\n                        getAddMaterialSectionPopup={this.props.getAddMaterialSectionPopup}\r\n                        addParameter={this.addMaterialSection}\r\n                        deleteRecord={this.deleteRecordmain}\r\n                        fetchRecord={this.props.getMaterialSectionEdit}\r\n                        selectedRecord={this.props.Login.selectedRecord}\r\n                        selectedId={this.props.Login.selectedId}\r\n                        screenName=\"IDS_MATERIALSECTION\"\r\n                    />\r\n                );\r\n            tabMap.set(\"IDS_MATERIALMSDSATTACHMENT\",\r\n                <MaterialMsdsAttachmentTab\r\n                    controlMap={this.state.controlMap}\r\n                    userRoleControlRights={this.state.userRoleControlRights}\r\n                    userInfo={this.props.Login.userInfo}\r\n                    deleteRecord={this.deleteRecordmain}\r\n                    MaterialMsdsAttachment={sortData(this.props.Login.masterData.MaterialMsdsAttachment, \"descending\", \"nmaterialfilecode\") || []}\r\n                    addMaterialFile={(param) => this.props.addMaterialFile(param, this.props.Login.masterData.SelectedMaterial)}\r\n                    viewMaterialFile={this.viewMaterialFile}\r\n                    screenName=\"IDS_MATERIALMSDSATTACHMENT\"\r\n                    settings={this.props.settings}\r\n                />);\r\n\r\n\r\n        }\r\n\r\n        return tabMap;\r\n    }\r\n\r\n    deleteRecordmain = (deleteParam) => {\r\n        const methodUrl = deleteParam.methodUrl;\r\n        const selected = deleteParam.methodUrl === 'MaterialSection' ? JSON.stringify(deleteParam.selectedRecord) :\r\n            JSON.stringify(deleteParam.selectedRecord);\r\n        let dataState = undefined;\r\n        if (this.props.screenName === \"IDS_SECTION\") {\r\n            dataState = this.state.sectionDataState;\r\n        } else if (this.props.screenName === \"IDS_METHOD\") {\r\n            dataState = this.state.methodDataState;\r\n        } else if (this.props.screenName === \"IDS_INSTRUMENTCATEGORY\") {\r\n            dataState = this.state.instrumentCatDataState;\r\n        }\r\n        const inputParam = {\r\n            inputData: {\r\n                nmaterialconfigcode: this.props.Login.masterData.selectedTemplate[0].nmaterialconfigcode,\r\n                ncontrolCode: deleteParam.ncontrolCode,\r\n                [methodUrl.toLowerCase()]: selected,\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            classUrl: \"material\",\r\n            operation: deleteParam.operation,\r\n            ncontrolCode: deleteParam.ncontrolCode,\r\n            methodUrl: methodUrl,\r\n            screenName: \"IDS_MATERIAL\", dataState,\r\n            selectedRecord:{...this.state.selectedRecord}\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: false, openChildModal: true, screenName: \"IDS_MATERIAL\", operation: deleteParam.operation, selectedRecord: {}\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\r\n        }\r\n    }\r\n\r\n    addMaterialSection = (param) => {\r\n        let showMaterialSection = this.props.Login.showMaterialSection\r\n        let ncontrolCode = this.props.Login.ncontrolCode\r\n\r\n        let openModal = this.props.Login.openModal\r\n        let isneedcombomulti = this.props.Login.isneedcombomulti;\r\n        isneedcombomulti = false;\r\n        showMaterialSection = true\r\n        openModal = true\r\n        ncontrolCode = param;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showMaterialSection, isneedcombomulti, openModal }\r\n        }\r\n        this.props.getAddMaterialSectionPopup(this.props.Login.masterData, this.props.Login.userInfo, updateInfo, ncontrolCode)\r\n\r\n\r\n    }\r\n\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.handleClickDelete(this.props.Login.masterData, deleteId, \"openModal\"));\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        this.searchRef.current.value = \"\";\r\n        let inputData = [];\r\n        inputData[\"nmaterialtypecode\"] = this.state.selectedcombo[\"nmaterialtypecode\"];\r\n        inputData[\"materialCatList\"] = this.state.materialCatList;\r\n        inputData[\"fromDate\"] = this.props.Login.masterData.fromDate;\r\n        inputData[\"toDate\"] = this.props.Login.masterData.toDate;\r\n        if (this.state.selectedcombo[\"nmaterialtypecode\"] && this.state.selectedMaterialCat[\"nmaterialcatcode\"]) {\r\n            this.props.getMaterialByTypeCode(this.state.selectedcombo,\r\n                this.state.selectedMaterialCat, this.props.Login.masterData, this.props.Login.userInfo);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }));\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height\r\n            });\r\n        }\r\n    }\r\n\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        // if (Array.isArray(this.props.Login.masterData)) {\r\n            const obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n            {this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode===5 ?  breadCrumbData.push(\r\n           \r\n            \r\n                {\r\n    \r\n                    \"label\": \"IDS_FROM\",\r\n                    \"value\": obj.breadCrumbFrom\r\n                  }, {\r\n                    \"label\": \"IDS_TO\",\r\n                    \"value\": obj.breadCrumbto\r\n                  },\r\n               \r\n                {\r\n                    \"label\": \"IDS_MATERIALTYPE\",\r\n                    \"value\": this.props.Login.masterData.SelectedMaterialType ?\r\n                        this.props.Login.masterData.SelectedMaterialType[0]['jsondata'].smaterialtypename && this.props.Login.masterData.SelectedMaterialType[0]['jsondata'].smaterialtypename[this.props.Login.userInfo.slanguagetypecode] : \"NA\",\r\n    \r\n                }, {\r\n    \r\n                \"label\": \"IDS_SAMPLEGROUPNAME\",\r\n                \"value\": this.props.Login.masterData.SelectedMaterialCategoryFilter ?\r\n                    this.props.Login.masterData.SelectedMaterialCategoryFilter.smaterialcatname !== undefined ?\r\n                        this.props.Login.masterData.SelectedMaterialCategoryFilter.smaterialcatname : \"NA\" : \"NA\",\r\n            }\r\n            \r\n            \r\n            ): breadCrumbData.push(          \r\n                {\r\n                    \"label\": \"IDS_MATERIALTYPE\",\r\n                    \"value\": this.props.Login.masterData.SelectedMaterialType ?\r\n                        this.props.Login.masterData.SelectedMaterialType[0]['jsondata'].smaterialtypename && this.props.Login.masterData.SelectedMaterialType[0]['jsondata'].smaterialtypename[this.props.Login.userInfo.slanguagetypecode] : \"NA\",\r\n    \r\n                }, {\r\n    \r\n                \"label\": \"IDS_MATERIALCAT\",\r\n                \"value\": this.props.Login.masterData.SelectedMaterialCategoryFilter ?\r\n                    this.props.Login.masterData.SelectedMaterialCategoryFilter.smaterialcatname !== undefined ?\r\n                        this.props.Login.masterData.SelectedMaterialCategoryFilter.smaterialcatname : \"NA\" : \"NA\",\r\n            }\r\n            \r\n            \r\n            )}\r\n       \r\n        //  }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let bool = false;\r\n        let { selectedRecord, selectedcombo, comboitem, filterData, filterCatList, selectedMaterialCat,\r\n            materialCatList, ismaterialSectionneed, showSectionWhileEdit } = this.state\r\n        const masterData = this.props.Login.masterData;\r\n        // if (this.props.Login.isSelectedRecordChange !== previousProps.Login.isSelectedRecordChange) {\r\n        //     bool = true;\r\n        //   isSelectedRecordChange = this.props.Login.isSelectedRecordChange\r\n        // }\r\n        // if (this.props.Login.selectedRecord.IDS_MATERIALCAT &&\r\n        //     this.props.Login.selectedRecord.IDS_MATERIALCAT.item.jsondata.needsectionwise\r\n        //     != previousProps.Login.selectedRecord.IDS_MATERIALCAT.item.jsondata.needsectionwise) {\r\n        //     bool = true;\r\n        //     ismaterialSectionneed = this.props.Login.selectedRecord.IDS_MATERIALCAT.item.jsondata.needsectionwise\r\n        // }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            bool = true;\r\n            selectedRecord = this.props.Login.selectedRecord\r\n        }\r\n        if (this.props.Login.selectedcombo !== previousProps.Login.selectedcombo) {\r\n            bool = true;\r\n            selectedcombo = this.props.Login.selectedcombo\r\n        }\r\n\r\n        if (this.props.Login.showSectionWhileEdit !== previousProps.Login.showSectionWhileEdit) {\r\n            bool = true;\r\n            showSectionWhileEdit = this.props.Login.showSectionWhileEdit\r\n        }\r\n        if (this.props.Login.comboitem !== previousProps.Login.comboitem) {\r\n            bool = true;\r\n            comboitem = this.props.Login.comboitem\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({\r\n                userRoleControlRights, controlMap, data: this.props.Login.masterData.ControlRights\r\n            });\r\n        }\r\n        if (this.props.Login.masterData.MaterialType !== undefined) {\r\n            if (this.props.Login.masterData.MaterialType !== previousProps.Login.masterData.MaterialType) {\r\n                bool = true;\r\n                // const materialTypeList = constructOptionList(this.props.Login.masterData.MaterialType || [], \"nmaterialtypecode\",\r\n                //     \"smaterialtypename\", undefined, undefined, undefined);\r\n                //     constructOptionList(options, optionId,\r\n                //         optionValue, sortField, sortOrder, alphabeticalSort,\r\n                //          defaultStatusFieldName) \r\n                const materialTypeList = constructjsonOptionList(this.props.Login.masterData.MaterialType,\r\n                    \"nmaterialtypecode\", \"smaterialtypename\", undefined, undefined,\r\n                    undefined, undefined,\r\n                    undefined, true, this.props.Login.userInfo.slanguagetypecode)\r\n                filterCatList = materialTypeList.get(\"OptionList\");\r\n                //  console.log('masterData.MaterialType :', masterData.MaterialType)\r\n                selectedcombo = {\r\n                    nmaterialtypecode: masterData.MaterialType && masterData.MaterialType.length > 0 ? {\r\n                        \"value\": masterData.MaterialType[0].nmaterialtypecode,\r\n                        \"label\": masterData.MaterialType[0]['jsondata'].smaterialtypename[this.props.Login.userInfo.slanguagetypecode]\r\n                    } : \"\"\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData.MaterialCategoryMain !== previousProps.Login.masterData.MaterialCategoryMain) {\r\n            const MaterialCategoryMain = constructOptionList(this.props.Login.masterData.MaterialCategoryMain || [], \"nmaterialcatcode\",\r\n                \"smaterialcatname\", undefined, undefined, undefined);\r\n            materialCatList = MaterialCategoryMain.get(\"OptionList\");\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            bool = true;\r\n            filterData = this.generateBreadCrumData();\r\n            if (masterData.SelectedMaterialCategory !== previousProps.Login.masterData.SelectedMaterialCategory) {\r\n\r\n                const MaterialCategoryMain = constructOptionList(this.props.Login.masterData.MaterialCategoryMain || [], \"nmaterialcatcode\",\r\n                    \"smaterialcatname\", undefined, undefined, undefined);\r\n                materialCatList = MaterialCategoryMain.get(\"OptionList\");\r\n\r\n                selectedMaterialCat = {\r\n                    nmaterialcatcode: masterData.MaterialCategoryMain && masterData.MaterialCategoryMain.length > 0 ? {\r\n                        \"value\": masterData.SelectedMaterialCategory.nmaterialcatcode,\r\n                        \"label\": masterData.SelectedMaterialCategory.smaterialcatname\r\n                    } : \"\"\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        if (this.props.Login.masterData.searchedData !== previousProps.Login.masterData.searchedData) {\r\n            if (this.props.Login.masterData.searchedData) {\r\n                if (this.props.Login.masterData.searchedData.length <= this.state.skip) {\r\n                    this.setState({ skip: 0 });\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        if (bool) {\r\n            this.setState({\r\n                selectedRecord, comboitem, filterData, selectedcombo, filterCatList, selectedMaterialCat,\r\n                materialCatList, isSelectedRecordChange: false, showSectionWhileEdit\r\n                //, \r\n                // ismaterialSectionneed \r\n                // : bool?this.props.Login.selectedRecord.IDS_MATERIALCAT&&\r\n                // this.props.Login.selectedRecord.IDS_MATERIALCAT.item.jsondata.needsectionwise:ismaterialSectionneed\r\n            });\r\n        }\r\n\r\n        //Vishakh: I commented updateStore. Because this updateStore won't get any change in the flow.\r\n        //  Even the udpateStore is there or not, there is no change in the flow.\r\n        // if(this.props.Login.comboSet){\r\n        //     this.setState({ selectedMaterialCat: this.props.Login.selectedMaterialCat});\r\n\r\n        //     const updateInfo = {\r\n        //         typeName: DEFAULT_RETURN,\r\n        //         data: { comboSet: false }\r\n        //     }\r\n        //     this.props.updateStore(updateInfo);\r\n        // }\r\n\r\n        // else\r\n        // {\r\n        //     this.setState({\r\n        //     ismaterialSectionneed \r\n        //     : this.props.Login.selectedRecord.IDS_MATERIALCAT&&\r\n        //     this.props.Login.selectedRecord.IDS_MATERIALCAT.item.jsondata.needsectionwise\r\n        // });\r\n        // }\r\n    }\r\n\r\n    handlePageChange = e => {\r\n\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n\r\n    };\r\n\r\n    validateEsign = () => {\r\n        let modal = \"openModal\";\r\n        if (this.props.Login.operation === \"delete\" && (this.props.Login.screenData.inputParam.methodUrl === \"MaterialSection\" || this.props.Login.screenData.inputParam.methodUrl === \"MaterialMsdsAttachment\")) {\r\n            modal = \"openChildModal\";\r\n        }\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, modal);\r\n    }\r\n\r\n    closeModalShow = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let modalShow = false;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            loadEsign = false;\r\n        } else {\r\n            modalShow = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { modalShow, selectedRecord, selectedId: null, loadEsign },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n    };\r\n\r\n\r\n\r\n    onSaveModalClick = () => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        const dateVariable = new Date(this.state.selectedRecord.syear);\r\n        const yearOnly = dateVariable.getFullYear();\r\n        const  reportdetails={\r\n            \"nmaterialaccountinggroupcode\":this.state.selectedRecord.nmaterialaccountinggroupcode.value,\r\n            \"nuraniumcontenttypecode\":this.state.selectedRecord.nuraniumcontenttypecode.value,\r\n            \"nmonth\":this.state.selectedRecord.nmonth.value,\r\n            \"smonth\":this.state.selectedRecord.nmonth.label,\r\n            \"nyear\":yearOnly,\r\n            \"scomments\":this.state.selectedRecord.scomments,\r\n            \r\n        };\r\n        const materialAccountingReport = this.state.controlMap.has(\"MaterialAccountingReport\")\r\n        && this.state.controlMap.get(\"MaterialAccountingReport\").ncontrolcode;\r\n        selectedRecord= {};\r\n        this.setState({ selectedRecord });\r\n        this.props.generateControlBasedReport(materialAccountingReport,reportdetails,this.props.Login,\"materialaccounting\",this.props.Login.masterData.SelectedMaterial.nmaterialcode);\r\n    }\r\n    handleFilterDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n    viewMaterialFile = (filedata) => {\r\n        const inputParam = {\r\n            inputData: {\r\n                nmaterialcode: this.props.Login.masterData.SelectedMaterial.nmaterialcode\r\n                    && this.props.Login.masterData.SelectedMaterial.nmaterialcode,\r\n                ndesigntemplatemappingcode: this.props.Login.masterData.selectedTemplate[0].nmaterialconfigcode,\r\n                materialmsdsattachment: JSON.stringify(filedata),\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            classUrl: \"material\",\r\n            operation: \"view\",\r\n            methodUrl: \"AttachedMaterialMsdsAttachment\",\r\n            screenname: \"IDS_MATERIALMSDSATTACHMENT\"\r\n        }\r\n        this.props.viewAttachment(inputParam);\r\n    }\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        //ALPD-3485,ALPD-3484 Issue:delete material section and cancel esign pop up window open.\r\n        //Set openchildmodal false, issue fixed by Saravanan - 13-11-2024\r\n        let openChildModal=this.props.Login.openChildModal;\r\n        let showSectionWhileEdit = this.props.Login.showSectionWhileEdit\r\n        let showMaterialSection = this.props.Login.showMaterialSection\r\n        let isneedcombomulti = this.props.Login.isneedcombomulti;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"retire\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                openChildModal=false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason'] = \"\"\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            openChildModal=false;\r\n            showMaterialSection = false;\r\n            isneedcombomulti = false;\r\n            showSectionWhileEdit = false;\r\n            selectedRecord = {};\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal,openChildModal, showMaterialSection,screenName: \"IDS_MATERIAL\", showMaterialSection, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onComboChange = (comboData, fieldName) => {\r\n        if (comboData != null) {\r\n            if (fieldName === \"nmaterialtypecode\") {\r\n                const selectedcombo = this.state.selectedcombo || {};\r\n                selectedcombo[fieldName] = comboData;\r\n                this.searchRef.current.value = \"\";\r\n                this.props.initialcombochangeget(comboData.item.nmaterialtypecode, this.props.Login.masterData, this.props.Login.userInfo);\r\n\r\n            }\r\n            else if (fieldName === \"nmaterialcatcode\") {\r\n                const selectedMaterialCat = this.state.selectedMaterialCat || {};\r\n                selectedMaterialCat[fieldName] = comboData;\r\n                this.setState({ selectedMaterialCat });\r\n            }\r\n\r\n            else if (fieldName === \"nmaterialsectioncode\") {\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                selectedRecord[\"nmaterialsectioncode\"] = comboData;\r\n                this.setState({ selectedRecord });\r\n            }\r\n            else if (fieldName === \"nlinkcode\") {\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                selectedRecord[\"nlinkcode\"] = comboData;\r\n                this.setState({ selectedRecord });\r\n            }\r\n\r\n            else if (fieldName.displaymember === \"smaterialcatname\" || fieldName.displaymember === \"sunitname\" || fieldName.displaymember === \"speriodname\") {\r\n                const selectedMaterialCat = this.state.selectedMaterialCat || {};\r\n                selectedMaterialCat[fieldName] = comboData;\r\n                this.setState({ selectedMaterialCat });\r\n\r\n                let comboName = fieldName.label\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                if (comboData) {\r\n                    selectedRecord[comboName] = comboData;\r\n                } else {\r\n                    selectedRecord[comboName] = []\r\n                }\r\n\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { selectedRecord }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n\r\n            else if (fieldName.label === \"IDS_STORAGECONDITION\") {\r\n                let comboName = fieldName.label\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                if (comboData) {\r\n                    selectedRecord[comboName] = comboData;\r\n                } else {\r\n                    selectedRecord[comboName] = []\r\n                }\r\n\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { selectedRecord }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else if (fieldName === \"value\") {\r\n                const comboitem = this.state.comboitem || {};\r\n                comboitem[fieldName] = comboData;\r\n                this.setState({ comboitem });\r\n            }\r\n\r\n            else{\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n              } \r\n        }\r\n    }\r\n\r\n    onComboChangedynamic = (comboData, control) => {\r\n\r\n        let isSelectedRecordChange = this.state.isSelectedRecordChange\r\n        if (comboData === null && comboData === undefined && control.valuemember && control.nquerybuildertablecode) {\r\n            comboData[\"item\"] = {\r\n                ...comboData[\"item\"], pkey: control.valuemember,\r\n                nquerybuildertablecode: control.nquerybuildertablecode,\r\n                \"source\": control.source\r\n            }\r\n        }\r\n        if (control.inputtype === 'date') {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            selectedRecord[`tz${control.label}`] = comboData;\r\n            isSelectedRecordChange = true\r\n            this.setState({ selectedRecord, isSelectedRecordChange });\r\n        }\r\n        else {\r\n            if (control.label === 'Material Category') {\r\n                let ismaterialSectionneed = this.props.Login.masterData.ismaterialSectionneed\r\n                let showSectionWhileEdit = this.state.showSectionWhileEdit\r\n                ismaterialSectionneed = comboData.item.jsondata.needsectionwise\r\n                // const updateInfo = {\r\n                //     typeName: DEFAULT_RETURN,\r\n                //     data: {\r\n                //         ismaterialSectionneed\r\n                //     }\r\n                // }\r\n\r\n                // ALPD-956 begin\r\n                this.state.selectedRecord['Section'] = ismaterialSectionneed == 4 ? this.state.selectedRecord['Section'] = undefined : this.state.selectedRecord['Section'];\r\n                // ALPD-956 end\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                selectedRecord[control.label] = comboData;\r\n                isSelectedRecordChange = true\r\n                showSectionWhileEdit = true\r\n                this.setState({ selectedRecord, isSelectedRecordChange, ismaterialSectionneed, showSectionWhileEdit });\r\n                //   this.props.onMaterialCatChange(comboData.item.jsondata.needsectionwise );\r\n            }\r\n            else {\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                selectedRecord[control.label] = comboData && (comboData === null || comboData === undefined) ? undefined : comboData;\r\n                isSelectedRecordChange = true\r\n                this.setState({ selectedRecord, isSelectedRecordChange });\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n    onInputOnChangeDynamic = (event, radiotext) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let isSelectedRecordChange = this.state.isSelectedRecordChange\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === 'timeonly') {\r\n                selectedRecord['dateonly'] = false;\r\n            }\r\n            if (event.target.name === 'dateonly') {\r\n                selectedRecord['timeonly'] = false;\r\n            }\r\n            const value = selectedRecord[event.target.name];\r\n            if (value !== '' && value !== undefined) {\r\n                if (value.includes(radiotext)) {\r\n                    const index = value.indexOf(radiotext);\r\n                    if (index !== -1) {\r\n                        if (index == 0) {\r\n                            const indexcomma = value.indexOf(\",\")\r\n                            if (indexcomma !== -1) {\r\n                                selectedRecord[event.target.name] = value.slice(indexcomma + 1)\r\n\r\n                            } else {\r\n                                selectedRecord[event.target.name] = \"\"\r\n                            }\r\n                        } else {\r\n                            //  const  indexcomma= value.indexOf(\",\")\r\n                            if (value.slice(index).indexOf(\",\") !== -1) {\r\n                                selectedRecord[event.target.name] = value.slice(0, index) + value.slice(index + value.slice(index).indexOf(\",\") + 1)\r\n                            } else {\r\n                                selectedRecord[event.target.name] = value.slice(0, index - 1)\r\n                            }\r\n\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n                    selectedRecord[event.target.name] = value + ',' + radiotext;\r\n                }\r\n\r\n            } else {\r\n                selectedRecord[event.target.name] = radiotext;\r\n            }\r\n        }\r\n        else if (event.target.type === 'radio') {\r\n            selectedRecord[event.target.name] = radiotext;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        isSelectedRecordChange = true;\r\n        this.setState({ selectedRecord, isSelectedRecordChange });\r\n    }\r\n    onInputOnChange = (event, optional2) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let isSelectedRecordChange = this.state.isSelectedRecordChange\r\n        if (this.props.Login.screenname !== \"IDS_MATERIALMSDSATTACHMENT\") {\r\n            if (event.target.type === 'checkbox') {\r\n                if (event.target.name === \"ntransactionstatus\")\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n                else\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n                if (event.target.name === 'Expiry') {\r\n                    if (selectedRecord[event.target.name] === 4) {\r\n                        if (selectedRecord['Expiry Policy Days']) {\r\n                            delete selectedRecord['Expiry Policy Days']\r\n                        }\r\n\r\n                        if (selectedRecord['tzExpiry Policy Days']) {\r\n                            delete selectedRecord['tzExpiry Policy Days']\r\n                        }\r\n                        if (selectedRecord['Need Expiry']) {\r\n                            selectedRecord['Need Expiry'] = 4\r\n                        }\r\n                    }\r\n                }\r\n                if (event.target.name === 'Need Expiry' || event.target.name === 'Expiry Validations') {\r\n                    if (selectedRecord[event.target.name] === 4) {\r\n                        if (selectedRecord['Expiry Policy Days']) {\r\n                            delete selectedRecord['Expiry Policy Days']\r\n                        }\r\n                        if (selectedRecord['tzExpiry Policy Days']) {\r\n                            delete selectedRecord['tzExpiry Policy Days']\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (event.target.name === 'Open Expiry Need') {\r\n                    if (selectedRecord[event.target.name] === 4) {\r\n                        if (selectedRecord['Open Expiry']) {\r\n                            delete selectedRecord['Open Expiry']\r\n                        }\r\n                        if (selectedRecord['tzOpen Expiry']) {\r\n                            delete selectedRecord['tzOpen Expiry']\r\n                        }\r\n                        if (selectedRecord['Open Expiry Period']) {\r\n                            delete selectedRecord['Open Expiry Period']\r\n                        }\r\n                    }\r\n                    else {\r\n                        selectedRecord['Open Expiry Period'] = this.props.Login.templateData.comboData['Open Expiry Period'].filter(x =>\r\n                            x.item.jsondata.jsondata.ndefaultstatus === transactionStatus.YES)[0]\r\n\r\n                    }\r\n                }\r\n                if (event.target.name === 'Next Validation Need') {\r\n                    if (selectedRecord[event.target.name] === 4) {\r\n                        if (selectedRecord['Next Validation']) {\r\n                            delete selectedRecord['Next Validation']\r\n                        }\r\n                        if (selectedRecord['tzNext Validation']) {\r\n                            delete selectedRecord['tzNext Validation']\r\n                        }\r\n                        if (selectedRecord['Next Validation Period']) {\r\n                            delete selectedRecord['Next Validation Period']\r\n                        }\r\n                    }\r\n                    else {\r\n                        selectedRecord['Next Validation Period'] = this.props.Login.templateData.comboData['Next Validation Period'].filter(x =>\r\n                            x.item.jsondata.jsondata.ndefaultstatus === transactionStatus.YES)[0]\r\n\r\n                    }\r\n                }\r\n                if (event.target.name === 'Quarantine') {\r\n                    if (selectedRecord[event.target.name] === 4) {\r\n                        if (selectedRecord['Next Validation Need']) {\r\n                            selectedRecord['Next Validation Need'] = 4\r\n                        }\r\n                        if (selectedRecord['Next Validation']) {\r\n                            delete selectedRecord['Next Validation']\r\n                        }\r\n\r\n                        if (selectedRecord['Next Validation Period']) {\r\n                            delete selectedRecord['Next Validation Period']\r\n                        }\r\n                    }\r\n                }\r\n            } else if (event.target.type === 'radio') {\r\n                if (optional2 !== 'Expiry policy') {\r\n                    if (selectedRecord['Expiry Policy Days']) {\r\n                        delete selectedRecord['Expiry Policy Days']\r\n                    }\r\n                    if (selectedRecord['tzExpiry Policy Days']) {\r\n                        delete selectedRecord['tzExpiry Policy Days']\r\n                    }\r\n                    if (selectedRecord['Expiry Policy Period']) {\r\n                        delete selectedRecord['Expiry Policy Period']\r\n                    }\r\n                }\r\n                else {\r\n                    selectedRecord['Expiry Policy Period'] = this.props.Login.templateData.comboData['Expiry Policy Period'].filter(x =>\r\n                        x.item.jsondata.jsondata.ndefaultstatus === transactionStatus.YES)[0]\r\n\r\n\r\n                }\r\n                selectedRecord[event.target.name] = optional2\r\n            }\r\n            else {\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            }\r\n            isSelectedRecordChange = true\r\n            this.setState({ selectedRecord, isSelectedRecordChange });\r\n        }\r\n        else {\r\n            if (event.target.type === 'checkbox') {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            } else if (event.target.type === 'radio') {\r\n                selectedRecord[event.target.name] = optional2;\r\n            } else {\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            }\r\n\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n    onSaveClick = (saveType, formRef) => {\r\n        // console.log(\"selected:\", this.state.selectedRecord);\r\n        let inputData = [];\r\n        let inputParam = {};\r\n        let varmain = {};\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        let postParam = undefined;\r\n        inputData[\"DateList\"] = []\r\n        let nmaterialconfigcode;\r\n        nmaterialconfigcode = this.props.Login.masterData.selectedTemplate[0].nmaterialconfigcode\r\n        if (this.props.Login.screenname === \"IDS_MATERIAL\") {\r\n\r\n            // if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1) {\r\n            //     varmain = \"Standard Name\"\r\n            // }\r\n            // else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2) {\r\n            //     varmain = \"Volumetric Name\"\r\n            // }\r\n            // else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 3) {\r\n            //     varmain = \"Material Name\"\r\n            // }\r\n            inputData[\"Material\"] = {}\r\n            inputData[\"jsonuidata\"] = {}\r\n\r\n            const Layout = this.props.Login.masterData.selectedTemplate[0].jsondata\r\n            Layout.map((row) => {\r\n                row.children.map((column) => {\r\n                    column.children.map((component) => {\r\n\r\n\r\n                        if (component.inputtype === 'combo') {\r\n                            let isValid = false;\r\n                            if (component.label === 'Expiry Policy Period') {\r\n                                if (this.state.selectedRecord['Expiry Policy Days'] && this.state.selectedRecord['Expiry Policy Days'] > 0) {\r\n                                    isValid = true;\r\n                                }\r\n                            }\r\n                            else if (component.label === 'Open Expiry Period') {\r\n                                if (this.state.selectedRecord['Open Expiry'] && this.state.selectedRecord['Open Expiry'] > 0) {\r\n                                    isValid = true;\r\n                                }\r\n                            }\r\n                            else if (component.label === 'Next Validation Period') {\r\n                                if (this.state.selectedRecord['Next Validation'] && this.state.selectedRecord['Next Validation'] > 0) {\r\n                                    isValid = true;\r\n                                }\r\n                            }\r\n                            else {\r\n                                isValid = true;\r\n                            }\r\n                            if (isValid) {\r\n                                inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label] ? {\r\n                                    label: this.state.selectedRecord[component.label][\"label\"],\r\n                                    value: this.state.selectedRecord[component.label][\"value\"],\r\n                                    pkey: this.state.selectedRecord[component.label].item.pkey,\r\n                                    nquerybuildertablecode: this.state.selectedRecord[component.label].item.nquerybuildertablecode,\r\n                                    item: this.state.selectedRecord[component.label].item\r\n                                } : \"\"\r\n                                inputData[\"jsonuidata\"][component.label] = this.state.selectedRecord[component.label] ?\r\n                                    this.state.selectedRecord[component.label][\"label\"]\r\n                                    : \"\"\r\n                            }\r\n                        }\r\n                        else if (component.inputtype === 'date') {\r\n                            if (this.state.selectedRecord[component.label]) {\r\n                                inputData[\"Material\"][`tz${component.label}`] = component.hasOwnProperty('timezone') ? {\r\n                                    label: this.state.selectedRecord[`tz${component.label}`][\"label\"],\r\n                                    value: this.state.selectedRecord[`tz${component.label}`][\"value\"]\r\n                                } : {\r\n                                    label: this.props.Login.userInfo['stimezoneid'],\r\n                                    value: this.props.Login.userInfo['ntimezonecode']\r\n                                }\r\n                                inputData[\"Material\"][component.label] = convertDateTimetoStringDBFormat(this.state.selectedRecord[component.label], this.props.Login.userInfo)\r\n                                inputData[\"DateList\"].push(component.label)\r\n                            }\r\n                            inputData[\"jsonuidata\"][component.label] = this.state.selectedRecord[component.label] ?\r\n                                convertDateTimetoStringDBFormat(this.state.selectedRecord[component.label], this.props.Login.userInfo)\r\n                                : \"\"\r\n\r\n                        }\r\n                        else if (component.inputtype === 'toggle') {\r\n                            // if (component.label === 'Quarantine') {\r\n                            //     inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]===undefined?4:\r\n                            //     this.state.selectedRecord[component.label]\r\n                            // }\r\n                            // else if (component.label === 'Expiry') {\r\n                            //     inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\r\n                            // }\r\n                            // else if (component.label === 'Need Expiry') {\r\n                            //     inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\r\n                            // }\r\n                            // else if (component.label === 'Open Expiry Need') {\r\n                            //     inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\r\n                            // }\r\n                            // else if (component.label === 'Reusable') {\r\n                            //     inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\r\n                            // }\r\n                            if (this.state.selectedRecord[component.label] === \"\") {\r\n                                inputData[\"Material\"][component.label] = 4\r\n                            } else if (this.state.selectedRecord[component.label] === undefined) {\r\n                                inputData[\"Material\"][component.label] = 4\r\n                            }\r\n                            else {\r\n                                inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\r\n                            }\r\n                            if (this.state.selectedRecord[component.label] !== \"\") {\r\n                                inputData[\"jsonuidata\"][component.label] = this.state.selectedRecord[component.label] === transactionStatus.YES ?\r\n                                this.props.intl.formatMessage({ id: \"IDS_YES\" }) : this.props.intl.formatMessage({ id: \"IDS_NO\" })\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (component.label !== undefined) {\r\n                                inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label] !== undefined ?\r\n                                    this.state.selectedRecord[component.label] ? this.state.selectedRecord[component.label] : \"\" : \"\"\r\n                                // }\r\n                                //    if (this.state.selectedRecord[component.label] !== undefined) {\r\n                                inputData[\"jsonuidata\"][component.label] = this.state.selectedRecord[component.label] !== undefined ?\r\n                                    this.state.selectedRecord[component.label] ? this.state.selectedRecord[component.label] : \"\" : \"\"\r\n                            }\r\n                        }\r\n                        component.hasOwnProperty(\"children\") && component.children.map(\r\n                            (componentrow) => {\r\n\r\n                                if (componentrow.inputtype === 'combo') {\r\n                                    let isValid = false;\r\n                                    if (componentrow.label === 'Expiry Policy Period') {\r\n                                        if (this.state.selectedRecord['Expiry Policy Days'] && this.state.selectedRecord['Expiry Policy Days'] > 0) {\r\n                                            isValid = true;\r\n                                        }\r\n                                    }\r\n                                    else if (componentrow.label === 'Open Expiry Period') {\r\n                                        if (this.state.selectedRecord['Open Expiry'] && this.state.selectedRecord['Open Expiry'] > 0) {\r\n                                            isValid = true;\r\n                                        }\r\n                                    }\r\n                                    else if (componentrow.label === 'Next Validation Period') {\r\n                                        if (this.state.selectedRecord['Next Validation'] && this.state.selectedRecord['Next Validation'] > 0) {\r\n                                            isValid = true;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        isValid = true;\r\n                                    }\r\n                                    if (isValid) {\r\n                                        inputData[\"Material\"][componentrow.label] = this.state.selectedRecord[componentrow.label] ?\r\n                                            {\r\n                                                label: this.state.selectedRecord[componentrow.label][\"label\"],\r\n                                                value: this.state.selectedRecord[componentrow.label][\"value\"],\r\n                                                pkey: this.state.selectedRecord[componentrow.label].item.pkey,\r\n                                                nquerybuildertablecode: this.state.selectedRecord[componentrow.label].item.nquerybuildertablecode,\r\n                                                item: this.state.selectedRecord[componentrow.label].item\r\n\r\n                                            } : \"\"\r\n                                        inputData[\"jsonuidata\"][componentrow.label] = this.state.selectedRecord[componentrow.label] ?\r\n                                            this.state.selectedRecord[componentrow.label][\"label\"]\r\n                                            : \"\"\r\n                                    }\r\n                                } else if (componentrow.inputtype === 'date') {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        inputData[\"Material\"][`tz${componentrow.label}`] = componentrow.hasOwnProperty('timezone') ? {\r\n                                            label: this.state.selectedRecord[`tz${componentrow.label}`][\"label\"],\r\n                                            value: this.state.selectedRecord[`tz${componentrow.label}`][\"value\"]\r\n                                        } : {\r\n                                            label: this.props.Login.userInfo['stimezoneid'],\r\n                                            value: this.props.Login.userInfo['ntimezonecode']\r\n                                        }\r\n                                        inputData[\"Material\"][componentrow.label] = convertDateTimetoStringDBFormat(this.state.selectedRecord[componentrow.label],\r\n                                            this.props.Login.userInfo)\r\n                                        inputData[\"DateList\"].push(componentrow.label)\r\n                                    }\r\n                                    inputData[\"jsonuidata\"][componentrow.label] = this.state.selectedRecord[componentrow.label] ?\r\n                                        convertDateTimetoStringDBFormat(this.state.selectedRecord[componentrow.label], this.props.Login.userInfo)\r\n                                        : \"\"\r\n\r\n                                } else if (componentrow.inputtype === 'toggle') {\r\n                                    if (this.state.selectedRecord[componentrow.label] === \"\") {\r\n                                        inputData[\"Material\"][componentrow.label] = 4\r\n                                    } else if (this.state.selectedRecord[componentrow.label] === undefined) {\r\n                                        inputData[\"Material\"][componentrow.label] = 4\r\n                                    }\r\n                                    else {\r\n                                        inputData[\"Material\"][componentrow.label] = this.state.selectedRecord[componentrow.label]\r\n                                    }\r\n                                    if (this.state.selectedRecord[componentrow.label] !== \"\") {\r\n                                        inputData[\"jsonuidata\"][componentrow.label] = this.state.selectedRecord[componentrow.label] === transactionStatus.YES ?\r\n                                            'Yes' : 'No'\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    //  if (this.state.selectedRecord[componentrow.label] !== undefined) {\r\n                                    inputData[\"Material\"][componentrow.label] = this.state.selectedRecord[componentrow.label] !== undefined ?\r\n                                        this.state.selectedRecord[componentrow.label] ? this.state.selectedRecord[componentrow.label] : \"\" : \"\"\r\n                                    // }\r\n                                    // if (this.state.selectedRecord[componentrow.label] !== undefined) {\r\n                                    inputData[\"jsonuidata\"][componentrow.label] = this.state.selectedRecord[componentrow.label] !== undefined ?\r\n                                        this.state.selectedRecord[componentrow.label] ? this.state.selectedRecord[componentrow.label] : \"\" : \"\"\r\n                                    // }\r\n                                }\r\n                            }\r\n                        )\r\n                    })\r\n                })\r\n            })\r\n            // inputData[\"Material\"][varmain] = this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1 ?\r\n            //     this.state.selectedRecord['Standard Name'] :\r\n            //     this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2 ?\r\n            //         this.state.selectedRecord['Volumetric Name'] :\r\n            //         this.state.selectedRecord['Material Name']\r\n\r\n            inputData[\"Material\"][\"Material Name\"] = this.state.selectedRecord['Material Name'] && this.state.selectedRecord['Material Name']\r\n            inputData[\"jsonuidata\"] = {\r\n                ...inputData[\"jsonuidata\"],\r\n                \"nmaterialcatcode\": this.state.selectedRecord['Material Category'].value,\r\n                \"nmaterialconfigcode\": nmaterialconfigcode\r\n            }\r\n            inputData[\"Material\"] = {\r\n                ...inputData[\"Material\"],\r\n                \"nmaterialcatcode\": this.state.selectedRecord['Material Category'].value,\r\n                \"nmaterialtypecode\": this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode\r\n            }\r\n\r\n            inputData[\"materialJson\"] = JSON.stringify(inputData[\"Material\"])\r\n            inputData[\"jsonuidata\"] = JSON.stringify(inputData[\"jsonuidata\"])\r\n            inputData[\"ntransactionstatus\"] = inputData[\"Material\"]['Quarantine']\r\n            inputData[\"nmaterialtypecode\"] = this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode\r\n            inputData[\"nmaterialcatcode\"] = this.state.selectedRecord['Material Category'].value\r\n\r\n            inputData[\"needsectionwise\"] = this.props.Login.selectedRecord['Material Category'].item ?\r\n                this.props.Login.selectedRecord['Material Category'].item.jsondata.needsectionwise :\r\n                this.props.Login.selectedRecord['Material Category'].needsectionwise\r\n            if (this.props.Login.selectedRecord['Material Category'].item ?\r\n                this.props.Login.selectedRecord['Material Category'].item.jsondata.needsectionwise :\r\n                this.props.Login.selectedRecord['Material Category'].needsectionwise === transactionStatus.YES) {\r\n                // inputData[\"materialSectionJson\"] = [{\r\n                //     \"ssectionname\": this.state.selectedRecord[\"Section\"].label,\r\n                //     \"nsectioncode\": this.state.selectedRecord[\"Section\"].value,\r\n                //     \"nreorderlevel\": this.state.selectedRecord[\"Reorder Level\"] && this.state.selectedRecord[\"Reorder Level\"]\r\n                //     //,\r\n                //     //\"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode\r\n                // }];\r\n                inputData[\"materialSectionJson\"] = {\r\n                    \"nreorderlevel\": this.state.selectedRecord[\"Reorder Level\"] && this.state.selectedRecord[\"Reorder Level\"],\r\n                    \"nsectioncode\": this.state.selectedRecord[\"Section\"] && this.state.selectedRecord[\"Section\"].value,\r\n                    'nmaterialconfigcode': nmaterialconfigcode\r\n                }\r\n                inputData[\"materialSectionJson\"] = JSON.stringify(inputData[\"materialSectionJson\"])\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            // console.log(\"data:\", inputData);\r\n            if (this.props.Login.operation === 'create') {\r\n\r\n                inputParam = {\r\n                    classUrl: \"material\",\r\n                    methodUrl: \"Material\",\r\n                    inputData: inputData,\r\n                    operation: this.props.Login.operation,\r\n                    saveType, formRef, postParam, selectedRecord: this.state.selectedRecord,\r\n                    searchRef: this.searchRef,\r\n                    dataState: this.state.dataState,\r\n                    selectedRecord:{...this.state.selectedRecord}\r\n                }\r\n            }\r\n            else {\r\n                inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.nmaterialcode\r\n                inputParam = {\r\n                    classUrl: \"material\",\r\n                    methodUrl: \"Material\",\r\n                    inputData: inputData,\r\n                    operation: this.props.Login.operation,\r\n                    saveType, formRef, postParam: {\r\n                        selectedObject: \"SelectedMaterial\",\r\n                        primaryKeyField: \"nmaterialcode\", inputListName: \"Material\",\r\n                        selectedComboName: \"selectedMaterialCat\", selectedCombo: this.state.selectedRecord['Material Category'],\r\n                        selectedComboId: \"nmaterialcatcode\"\r\n                    }, selectedRecord: this.state.selectedRecord,\r\n                    searchRef: this.searchRef,\r\n                    dataState: this.state.dataState,\r\n                    filtercombochange: this.props.Login.masterData.searchedData !== undefined ?\r\n                        this.state.selectedRecord['Material Category'].value ===\r\n                            this.props.Login.masterData.SelectedMaterialCategoryFilter.nmaterialcatcode ? false : true : false,\r\n                    selectedRecord:{...this.state.selectedRecord}\r\n                }\r\n\r\n                // if(this.state.selectedRecord['Material Category'].value!==this.props.Login.masterData.SelectedMaterialCategory.nmaterialcatcode){\r\n                //     masterData={...masterData,searchedData}\r\n                // }\r\n\r\n            }\r\n\r\n            // if (this.props.Login.screenName === \"IDS_MATERIAL\") {\r\n            //     // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            //     //     const updateInfo = {\r\n            //     //         typeName: DEFAULT_RETURN,\r\n            //     //         data: {\r\n            //     //             loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n            //     //         }\r\n            //     //     }\r\n            //     //     this.props.updateStore(updateInfo);\r\n            //     // }\r\n            //     // else {\r\n            //     //     this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            //     // }\r\n            // } else {\r\n            if (this.props.Login.masterData.copyScreenRights ? this.props.Login.masterData.copyScreenRights.length > 0 : false) {\r\n                this.ConfirmComponent()\r\n            }\r\n            else {\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n                }\r\n                // }\r\n            }\r\n        }\r\n        else if (this.props.Login.screenname === \"IDS_MATERIALSAFETYINSTRUCTIONS\") {\r\n            const Layout = this.props.Login.masterData.selectedTemplateSafetyInstructions[0].jsondata\r\n            const dynamicobj = {};\r\n            let jsonuidata = {}\r\n            Layout.map((row) => {\r\n                row.children.map((column) => {\r\n                    column.children.map((component) => {\r\n                        //if (component.inputtype === 'combo') {\r\n                        // if (this.state.selectedRecord[component.label]) {\r\n                        //     dynamicobj[component.label] = {\r\n                        //         label: this.state.selectedRecord[component.label][\"label\"],\r\n                        //         value: this.state.selectedRecord[component.label][\"value\"]\r\n                        //     }\r\n\r\n                        // }\r\n                        //     jsonuidata[component.label] =  this.state.selectedRecord[component.label] ?\r\n                        //     component.label ? 'Yes' : 'No' :  'No' \r\n                        // }\r\n                        // else {\r\n                        if (component.inputtype === 'checkbox') {\r\n                            //  if (this.state.selectedRecord[component.label]) {\r\n                            dynamicobj[component.label] = this.state.selectedRecord[component.label]\r\n                            jsonuidata[component.label] = this.state.selectedRecord[component.label] ?\r\n                               // component.label ? 'Yes' : 'No' : 'No'\r\n                                component.label ? this.props.intl.formatMessage({ id: \"IDS_YES\" }): \r\n                                this.props.intl.formatMessage({ id: \"IDS_NO\" }) : this.props.intl.formatMessage({ id: \"IDS_NO\" })\r\n                              \r\n                            //   }\r\n                            // jsonuidata[component.label] =  this.state.selectedRecord[component.label] ?\r\n                            // component.label ? 'Yes' : 'No' :  'No' \r\n                        }\r\n                        else {\r\n                            if (this.state.selectedRecord[component.label]) {\r\n                                dynamicobj[component.label] = this.state.selectedRecord[component.label]\r\n                                jsonuidata[component.label] = this.state.selectedRecord[component.label]\r\n                            }\r\n                        }\r\n                        component.hasOwnProperty(\"children\") && component.children.map(\r\n                            (componentrow) => {\r\n                                // if (componentrow.inputtype === 'combo') {\r\n                                //     // if (this.state.selectedRecord[componentrow.label]) {\r\n                                //     //     dynamicobj[componentrow.label] =\r\n                                //     //     {\r\n                                //     //         label: this.state.selectedRecord[componentrow.label][\"label\"],\r\n                                //     //         value: this.state.selectedRecord[componentrow.label][\"value\"]\r\n                                //     //     }\r\n\r\n                                //     // }\r\n                                //     jsonuidata[componentrow.label] =  this.state.selectedRecord[componentrow.label] ?\r\n                                //         componentrow.label ? 'Yes' : 'No' :  'No' \r\n                                // }\r\n                                // else {\r\n                                //     if (this.state.selectedRecord[componentrow.label]) {\r\n                                //         dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label]\r\n                                //         jsonuidata[componentrow.label] =  this.state.selectedRecord[componentrow.label] ?\r\n                                //          componentrow.label ? 'Yes' : 'No' :  'No' \r\n                                //     }\r\n                                //     //jsonuidata[componentrow.label] =  this.state.selectedRecord[componentrow.label] ?\r\n                                //     //componentrow.label ? 'Yes' : 'No' :  'No' \r\n                                // }\r\n                                if (componentrow.inputtype === 'checkbox') {\r\n                                    //  if (this.state.selectedRecord[componentrow.label]) {\r\n                                    dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label]\r\n                                    jsonuidata[componentrow.label] = this.state.selectedRecord[componentrow.label] ?\r\n                                        componentrow.label ? 'Yes' : 'No' : 'No'\r\n                                    //  }\r\n                                    // jsonuidata[component.label] =  this.state.selectedRecord[component.label] ?\r\n                                    // component.label ? 'Yes' : 'No' :  'No' \r\n                                }\r\n                                else {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label]\r\n                                        jsonuidata[componentrow.label] = this.state.selectedRecord[componentrow.label]\r\n                                    }\r\n                                }\r\n                            }\r\n                        )\r\n                    })\r\n                })\r\n            })\r\n            inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.nmaterialcode\r\n            if (this.props.Login.masterData.MaterialSafetyInstructions.length > 0) {\r\n                inputData[\"nmaterialsafetyinstructionscode\"] =\r\n                    this.props.Login.masterData.MaterialSafetyInstructions[0].nmaterialsafetyinstructionscode\r\n            }\r\n            else {\r\n                inputData[\"nmaterialsafetyinstructionscode\"] = 0\r\n            }\r\n            inputData[\"jsonuidata\"] = JSON.stringify(jsonuidata)\r\n            inputData[\"materialSafetyInstructions\"] = JSON.stringify(dynamicobj)\r\n            inputData[\"nflag\"] = 1;\r\n            inputData['nmaterialconfigcode'] = nmaterialconfigcode\r\n            inputParam = {\r\n                classUrl: \"material\",\r\n                methodUrl: \"MaterialSafetyInstructions\",\r\n                inputData: inputData,\r\n                operation: 'create',\r\n                saveType, formRef, postParam, selectedRecord: this.state.selectedRecord,\r\n                searchRef: this.searchRef,\r\n                dataState: this.state.dataState,\r\n                selectedRecord:{...this.state.selectedRecord}\r\n            }\r\n            let masterData = this.props.Login.masterData\r\n            if (this.state.isSelectedRecordChange) {\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }\r\n            }\r\n            else {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        openModal: false\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n        }\r\n        else if (this.props.Login.screenname === \"IDS_MATERIALMSDSATTACHMENT\") {\r\n            inputParam = this.onSaveMaterialFile();\r\n            let masterData = this.props.Login.masterData\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            }\r\n\r\n        }\r\n        else if (this.props.Login.screenname === \"IDS_MATERIALPROPERTY\") {\r\n\r\n            let masterData = this.props.Login.masterData\r\n            const Layout = this.props.Login.masterData.selectedTemplateProperties[0].jsondata\r\n            const dynamicobj = {};\r\n            inputData[\"DateList\"] = [];\r\n            inputData[\"jsonuidata\"] = {};\r\n            Layout.map((row) => {\r\n                row.children.map((column) => {\r\n                    column.children.map((component) => {\r\n                        if (component.inputtype === 'combo') {\r\n                            if (this.state.selectedRecord[component.label]) {\r\n                                dynamicobj[component.label] = {\r\n                                    label: this.state.selectedRecord[component.label][\"label\"],\r\n                                    value: this.state.selectedRecord[component.label][\"value\"]\r\n                                }\r\n                                inputData[\"jsonuidata\"][component.label] = this.state.selectedRecord[component.label][\"label\"]\r\n                            }\r\n                        }\r\n                        else if (component.inputtype === 'date') {\r\n\r\n                            if (this.state.selectedRecord[component.label]) {\r\n                                dynamicobj[`tz${component.label}`] = component.hasOwnProperty('timezone') ? {\r\n                                    label: this.state.selectedRecord[`tz${component.label}`][\"label\"],\r\n                                    value: this.state.selectedRecord[`tz${component.label}`][\"value\"]\r\n                                } : {\r\n                                    label: this.props.Login.userInfo['stimezoneid'],\r\n                                    value: this.props.Login.userInfo['ntimezonecode']\r\n                                }\r\n                                dynamicobj[component.label] = convertDateTimetoStringDBFormat(this.state.selectedRecord[component.label], this.props.Login.userInfo)\r\n                                inputData[\"DateList\"].push(component.label)\r\n                                inputData[\"jsonuidata\"][`tz${component.label}`] = dynamicobj[`tz${component.label}`].label\r\n                                inputData[\"jsonuidata\"][component.label] = dynamicobj[component.label]\r\n                            }\r\n\r\n                        }\r\n                        else {\r\n                            if (this.state.selectedRecord.hasOwnProperty(component.label)) {\r\n                                dynamicobj[component.label] = this.state.selectedRecord[component.label]\r\n                                inputData[\"jsonuidata\"][component.label] = dynamicobj[component.label]\r\n                            }\r\n                        }\r\n                        component.hasOwnProperty(\"children\") && component.children.map(\r\n                            (componentrow) => {\r\n                                if (componentrow.inputtype === 'combo') {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        dynamicobj[componentrow.label] =\r\n                                        {\r\n                                            label: this.state.selectedRecord[componentrow.label][\"label\"],\r\n                                            value: this.state.selectedRecord[componentrow.label][\"value\"]\r\n                                        }\r\n                                        inputData[\"jsonuidata\"][component.label] = dynamicobj[component.label].label\r\n                                    }\r\n                                }\r\n                                else if (componentrow.inputtype === 'date') {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        dynamicobj[`tz${componentrow.label}`] = componentrow.hasOwnProperty('timezone') ? {\r\n                                            label: this.state.selectedRecord[`tz${componentrow.label}`][\"label\"],\r\n                                            value: this.state.selectedRecord[`tz${componentrow.label}`][\"value\"]\r\n                                        } : {\r\n                                            label: this.props.Login.userInfo['stimezoneid'],\r\n                                            value: this.props.Login.userInfo['ntimezonecode']\r\n                                        }\r\n                                        dynamicobj[componentrow.label] = convertDateTimetoStringDBFormat(this.state.selectedRecord[componentrow.label],\r\n                                            this.props.Login.userInfo)\r\n                                        inputData[\"DateList\"].push(componentrow.label)\r\n                                        inputData[\"jsonuidata\"][`tz${componentrow.label}`] = dynamicobj[`tz${componentrow.label}`].label\r\n                                        inputData[\"jsonuidata\"][componentrow.label] = dynamicobj[componentrow.label]\r\n                                    }\r\n\r\n                                }\r\n                                else {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label]\r\n                                        inputData[\"jsonuidata\"][componentrow.label] = dynamicobj[componentrow.label]\r\n                                    }\r\n                                }\r\n                            }\r\n                        )\r\n                    })\r\n                })\r\n            })\r\n            /* ALPD-925 Begin */\r\n            inputData[\"nmaterialtypecode\"] = this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode;\r\n            /* ALPD-925 End */\r\n            inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.nmaterialcode\r\n            if (this.props.Login.masterData.MaterialProperties.length > 0) {\r\n                inputData[\"nmaterialpropertycode\"] =\r\n                    this.props.Login.masterData.MaterialProperties[0].nmaterialpropertycode\r\n            } else {\r\n                inputData[\"nmaterialpropertycode\"] = 0\r\n            }\r\n            //inputData[\"DateList\"] = JSON.stringify(DateList) \r\n            inputData[\"jsonuidata\"] = { ...inputData[\"jsonuidata\"], 'nmaterialconfigcode': nmaterialconfigcode }\r\n            inputData[\"jsonuidata\"] = JSON.stringify(inputData[\"jsonuidata\"])\r\n\r\n            inputData[\"materialProperty\"] = JSON.stringify(dynamicobj)\r\n            inputData[\"nflag\"] = 2;\r\n            inputParam = {\r\n                classUrl: \"material\",\r\n                methodUrl: \"MaterialSafetyInstructions\",\r\n                inputData: inputData,\r\n                operation: 'create',\r\n                saveType, formRef, postParam, selectedRecord: this.state.selectedRecord,\r\n                searchRef: this.searchRef,\r\n                dataState: this.state.dataState,\r\n                selectedRecord:{...this.state.selectedRecord}\r\n            }\r\n            if (this.state.isSelectedRecordChange) {\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }\r\n            }\r\n            else {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        openModal: false\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n        }\r\n\r\n        else if (this.props.Login.screenname === \"IDS_MATERIALACCOUNTING\") {\r\n            \r\n            if(this.state.selectedRecord.SampleName.label!==undefined){\r\n\r\n            //let validateQty=((this.state.selectedRecord.quantity*this.state.selectedRecord.AvailableQty)/1000)\r\n            let nuraniumqtyissued =this.props.Login.masterData.samplestate===\"Liquid\"?(this.state.selectedRecord.quantity*this.state.selectedRecord.suraniumconversionfactor)/1000:(this.state.selectedRecord.quantity*this.state.selectedRecord.suraniumconversionfactor)/100;\r\n            if((this.state.selectedRecord.AvailableUraniumQty>=(nuraniumqtyissued)) || (this.state.selectedRecord.materialinventorytype.value===1)){\r\n            let masterData = this.props.Login.masterData\r\n            const Layout = this.props.Login.masterData.selectedTemplateSafetyInstructions[0].jsondata\r\n            const dynamicobj = {};\r\n            inputData[\"DateList\"] = [];\r\n            inputData[\"jsonuidata\"] = {};\r\n            Layout.map((row) => {\r\n                row.children.map((column) => {\r\n                    column.children.map((component) => {\r\n                        if (component.inputtype === 'combo') {\r\n                            if (this.state.selectedRecord[component.label]) {\r\n                                dynamicobj[component.label] = {\r\n                                    label: this.state.selectedRecord[component.label][\"label\"],\r\n                                    value: this.state.selectedRecord[component.label][\"value\"]\r\n                                }\r\n                                inputData[\"jsonuidata\"][component.label] = this.state.selectedRecord[component.label][\"label\"]\r\n                            }\r\n                        }\r\n                        else if (component.inputtype === 'date') {\r\n\r\n                            if (this.state.selectedRecord[component.label]) {\r\n                                dynamicobj[`tz${component.label}`] = component.hasOwnProperty('timezone') ? {\r\n                                    label: this.state.selectedRecord[`tz${component.label}`][\"label\"],\r\n                                    value: this.state.selectedRecord[`tz${component.label}`][\"value\"]\r\n                                } : {\r\n                                    label: this.props.Login.userInfo['stimezoneid'],\r\n                                    value: this.props.Login.userInfo['ntimezonecode']\r\n                                }\r\n                                dynamicobj[component.label] = convertDateTimetoStringDBFormat(this.state.selectedRecord[component.label], this.props.Login.userInfo)\r\n                                inputData[\"DateList\"].push(component.label)\r\n                                inputData[\"jsonuidata\"][`tz${component.label}`] = dynamicobj[`tz${component.label}`].label\r\n                                inputData[\"jsonuidata\"][component.label] = dynamicobj[component.label]\r\n                            }\r\n\r\n                        }\r\n                        else {\r\n                            if (this.state.selectedRecord.hasOwnProperty(component.label)) {\r\n                                dynamicobj[component.label] = this.state.selectedRecord[component.label]\r\n                                inputData[\"jsonuidata\"][component.label] = dynamicobj[component.label]\r\n                            }\r\n                        }\r\n                        component.hasOwnProperty(\"children\") && component.children.map(\r\n                            (componentrow) => {\r\n                                if (componentrow.inputtype === 'combo') {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        dynamicobj[componentrow.label] =\r\n                                        {\r\n                                            label: this.state.selectedRecord[componentrow.label][\"label\"],\r\n                                            value: this.state.selectedRecord[componentrow.label][\"value\"]\r\n                                        }\r\n                                        inputData[\"jsonuidata\"][component.label] = dynamicobj[component.label].label\r\n                                    }\r\n                                }\r\n                                else if (componentrow.inputtype === 'date') {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        dynamicobj[`tz${componentrow.label}`] = componentrow.hasOwnProperty('timezone') ? {\r\n                                            label: this.state.selectedRecord[`tz${componentrow.label}`][\"label\"],\r\n                                            value: this.state.selectedRecord[`tz${componentrow.label}`][\"value\"]\r\n                                        } : {\r\n                                            label: this.props.Login.userInfo['stimezoneid'],\r\n                                            value: this.props.Login.userInfo['ntimezonecode']\r\n                                        }\r\n                                        dynamicobj[componentrow.label] = convertDateTimetoStringDBFormat(this.state.selectedRecord[componentrow.label],\r\n                                            this.props.Login.userInfo)\r\n                                        inputData[\"DateList\"].push(componentrow.label)\r\n                                        inputData[\"jsonuidata\"][`tz${componentrow.label}`] = dynamicobj[`tz${componentrow.label}`].label\r\n                                        inputData[\"jsonuidata\"][componentrow.label] = dynamicobj[componentrow.label]\r\n                                    }\r\n\r\n                                }\r\n                                else {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label]\r\n                                        inputData[\"jsonuidata\"][componentrow.label] = dynamicobj[componentrow.label]\r\n                                    }\r\n                                }\r\n                            }\r\n                        )\r\n                    })\r\n                })\r\n            })\r\n            /* ALPD-925 Begin */\r\n            inputData[\"nmaterialtypecode\"] = this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode;\r\n            /* ALPD-925 End */\r\n            inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.nmaterialcode;\r\n            inputData[\"issueaction\"] =this.props.Login.masterData.samplestate;\r\n            inputData[\"inventorytype\"] =this.state.selectedRecord.materialinventorytype.value;\r\n            inputData[\"quantity\"] =this.state.selectedRecord.quantity; \r\n            inputData[\"suraniumconversionfactor\"] =this.state.selectedRecord.suraniumconversionfactor;\r\n            inputData[\"nuraniumqtyissued\"] =nuraniumqtyissued;\r\n            inputData[\"fromDate\"] = this.props.Login.masterData.fromDate;\r\n            inputData[\"SampleName\"] =this.state.selectedRecord.SampleName.label;\r\n        inputData[\"toDate\"] = this.props.Login.masterData.toDate;\r\n            inputData[\"jsonuidata\"] = { ...inputData[\"jsonuidata\"], 'nmaterialconfigcode': nmaterialconfigcode\r\n            , 'nmaterialcode':this.props.Login.masterData.SelectedMaterial.nmaterialcode,                                       \r\n                'Material Name':this.props.Login.masterData.SelectedMaterial['Material Name']\r\n            ,'smaterialcatname':this.props.Login.masterData.SelectedMaterialCategory.smaterialcatname,\r\n           'nmaterialcatcode':this.props.Login.masterData.SelectedMaterialCategory.nmaterialcatcode,\r\n         'smaterialtypename' :this.props.Login.masterData.SelectedMaterialType[0].smaterialtypename,\r\n           'nmaterialtypecode':this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode\r\n           ,'Comments':this.state.selectedRecord.Comments   \r\n           ,'ssamplename':this.props.Login.masterData.SelectedMaterial['Material Name']                    \r\n           ,'quantity':this.state.selectedRecord.quantity\r\n           ,'sinventorytypename':this.state.selectedRecord.materialinventorytype.label\r\n           ,'AvailableQty':this.state.selectedRecord.AvailableQty,\r\n           'SampleName':this.state.selectedRecord.SampleName.label\r\n           \r\n           }\r\n            inputData[\"jsonuidata\"] = JSON.stringify(inputData[\"jsonuidata\"])\r\n\r\n            inputData[\"materialProperty\"] = JSON.stringify(dynamicobj)\r\n            inputData[\"nflag\"] = 2;\r\n            inputParam = {\r\n                classUrl: \"material\",\r\n                methodUrl: \"MaterialInventory\",\r\n                inputData: inputData,\r\n                operation: 'create',\r\n                saveType, formRef, postParam, selectedRecord: this.state.selectedRecord,\r\n                searchRef: this.searchRef,\r\n                dataState: this.state.dataState,\r\n                selectedRecord:{...this.state.selectedRecord}\r\n            }\r\n            //if (this.state.isSelectedRecordChange) {\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }\r\n            //}\r\n            // else {\r\n            //     const updateInfo = {\r\n            //         typeName: DEFAULT_RETURN,\r\n            //         data: {\r\n            //             openModal: false\r\n            //         }\r\n            //     }\r\n            //     this.props.updateStore(updateInfo);\r\n            // }\r\n        }\r\n        else{\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_NOQUANTTYTOISSUED\" }));\r\n        }\r\n\r\n    }\r\n        else{\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERSAMPLENAME\" }));\r\n        }\r\n\r\n\r\n    }\r\n\r\n        else {\r\n            if (this.props.Login.operation !== \"update\") {\r\n                let showMaterialSection = this.props.Login.showMaterialSection\r\n                let newarr = []\r\n                let newarr1 = []\r\n                let postParam = undefined;\r\n                inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.nmaterialcode\r\n                if (this.state.selectedRecord[\"nmaterialsectioncode\"].length > 1) {\r\n                    newarr = this.state.selectedRecord.nmaterialsectioncode.map(temp => {\r\n                        return {\r\n                            \"ssectionname\": temp.label,\r\n                            \"nsectioncode\": temp.value,\r\n                            \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0,\r\n                            \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode,\r\n                            'nmaterialconfigcode': nmaterialconfigcode\r\n                        }\r\n                    })\r\n                    newarr1[\"nsectioncode\"] = \"\"\r\n                    // let nsectioncode;\r\n                    this.state.selectedRecord.nmaterialsectioncode.map(temp => {\r\n                        newarr1[\"nsectioncode\"] += temp.value + ','\r\n                    })\r\n                    newarr1 = {\r\n                        \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0,\r\n                        \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode,\r\n                        \"nsectioncode\": newarr1[\"nsectioncode\"].substring(0, newarr1[\"nsectioncode\"].length - 1),\r\n                        'nmaterialconfigcode': nmaterialconfigcode\r\n                    }\r\n                }\r\n                else {\r\n                    newarr.push({\r\n                        \"ssectionname\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].label,\r\n                        \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].value,\r\n                        \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0,\r\n                        \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode,\r\n                        'nmaterialconfigcode': nmaterialconfigcode\r\n                    });\r\n                    newarr1 = {\r\n                        \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0,\r\n                        \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode,\r\n                        \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].value,\r\n                        'nmaterialconfigcode': nmaterialconfigcode\r\n                    }\r\n                }\r\n                inputData[\"materialSectionJson\"] = JSON.stringify(newarr)\r\n                inputData[\"materialSectionJson\"] = JSON.stringify(newarr1)\r\n                inputData[\"nmaterialconfigcode\"] = nmaterialconfigcode\r\n\r\n                inputParam = {\r\n                    classUrl: \"material\",\r\n                    methodUrl: \"MaterialSection\",\r\n                    inputData: inputData,\r\n                    operation: \"create\",\r\n                    showMaterialSection: showMaterialSection,\r\n                    selectedRecord: this.state.selectedRecord,\r\n                    searchRef: this.searchRef, postParam: postParam, isChild: true,\r\n                    selectedRecord:{...this.state.selectedRecord}\r\n                }\r\n            }\r\n            else {\r\n                let newarrobj = []\r\n                let postParam = {\r\n                    inputListName: \"MaterialSection\",\r\n                    selectedObject: \"SelectedMaterialSection\",\r\n                    primaryKeyField: \"nmaterialsectioncode\",\r\n                }\r\n                inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.nmaterialcode\r\n                if (Array.isArray(this.state.selectedRecord[\"nmaterialsectioncode\"])) {\r\n                    newarrobj.push({\r\n                        \"ssectionname\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].label,\r\n                        \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].value,\r\n                        \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0,\r\n                        \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode,\r\n                        'nmaterialconfigcode': nmaterialconfigcode\r\n                    });\r\n                }\r\n                else {\r\n                    newarrobj.push({\r\n                        \"ssectionname\": this.state.selectedRecord[\"nmaterialsectioncode\"].label,\r\n                        \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"].value,\r\n                        \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0,\r\n                        \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.nmaterialcode,\r\n                        'nmaterialconfigcode': nmaterialconfigcode\r\n                    });\r\n                }\r\n                inputData[\"materialSectionJson\"] = JSON.stringify(newarrobj)\r\n                inputData[\"MaterialSection\"] = {\r\n                    \"Reorder Level\": this.state.selectedRecord[\"nreorderlevel\"] ? this.state.selectedRecord[\"nreorderlevel\"] : 0\r\n\r\n                }\r\n                inputData[\"nmaterialsectioncode\"] = this.state.selectedRecord.nmaterialsectioncodeprimaryKeyValue\r\n                inputData[\"nmaterialconfigcode\"] = nmaterialconfigcode\r\n                inputParam = {\r\n                    classUrl: \"material\",\r\n                    methodUrl: \"MaterialSection\",\r\n                    inputData: inputData,\r\n                    showMaterialSection: false,\r\n                    operation: \"update\",\r\n                    selectedRecord: this.state.selectedRecord,\r\n                    searchRef: this.searchRef, postParam: postParam, isChild: true,\r\n                    selectedRecord:{...this.state.selectedRecord}\r\n                }\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n    }\r\n    // onNumericInputChange = (value, name) => {\r\n    //     // const re = /^[0-9\\b]+$/;\r\n    //     // let selectedRecord = this.state.selectedRecord\r\n    //     // if (re.test(value)) {\r\n    //     //     selectedRecord[name] = value;\r\n    //     //     this.setState({selectedRecord})\r\n    //     //  }\r\n    //     let selectedRecord = this.state.selectedRecord\r\n    //     selectedRecord[name] = value;\r\n    //     this.setState({ selectedRecord });\r\n    // }\r\n    // handleDateChange = (dateValue, dateName) => {\r\n    //     const { selectedRecord } = this.state;\r\n    //     selectedRecord[dateName] = dateValue;\r\n    //     this.setState({ selectedRecord });\r\n    // }\r\n    onNumericInputChange = (value, name) => {\r\n        let selectedRecord = this.state.selectedRecord\r\n        // let value = event.target.value;\r\n\r\n        // if (isNaN(value)) {\r\n        // if (parseInt(value) < 10) {\r\n        //  let x=value.toString().replace(/\\D/g,'')\r\n        // if (value === 0) {\r\n        //     delete selectedRecord[name]\r\n        //     selectedRecord[name]=''\r\n        // }\r\n        // else {\r\n        if (name === \"Open Expiry\" || name === \"Next Validation\") {\r\n            if (value === 0) {\r\n                selectedRecord[name] = \"\";\r\n            }\r\n            else {\r\n                selectedRecord[name] = value;\r\n            }\r\n        }\r\n        else {\r\n            selectedRecord[name] = value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n\r\n        //   }\r\n\r\n        // }\r\n        // }\r\n\r\n    }\r\n    // onNumericInputChange = (value, name) => {\r\n    //     console.log(\"value:\", value, name);\r\n    //     const selectedRecord = this.state.selectedRecord || {};\r\n    //     if (name === \"nroundingdigits\") {\r\n\r\n    //         if (/^-?\\d*?$/.test(value.target.value) || value.target.value === \"\") {\r\n    //             console.log(\"val:\", value.target.value);\r\n    //             selectedRecord[name] = value.target.value;\r\n    //         }\r\n    //     }\r\n    //     else {\r\n    //         selectedRecord[name] = value;\r\n    //     }\r\n\r\n    //     this.setState({ selectedRecord });\r\n    // }\r\n    ConfirmComponent = () => {\r\n        this.confirmMessage.confirm(\"confirmation\", \"Confiramtion!\", this.props.intl.formatMessage({ id: \"IDS_OVERWRITRTHEEXISTINGSCREENRIGHTS\" }),\r\n            \"ok\", \"cancel\", () => this.copyAlertSave());\r\n    }\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    handleClickDelete(masterData, ncontrolcode, modalName) {\r\n        const fieldArray = [];\r\n        let postParam = {\r\n            inputListName: \"Material\", selectedObject: \"SelectedMaterial\",\r\n            primaryKeyField: \"nmaterialcode\",\r\n            primaryKeyValue: this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial.nmaterialcode,\r\n            fetchUrl: \"material/getMaterialByID\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        modalName = 'openModal'\r\n        const inputParam = {\r\n            methodUrl: \"Material\",\r\n            classUrl: \"material\",\r\n            inputData: {\r\n                \"nmaterialconfigcode\": this.props.Login.masterData.selectedTemplate[0].nmaterialconfigcode,\r\n                \"material\": this.props.Login.masterData.SelectedMaterial,\r\n                \"nmaterialcatcode\": this.props.Login.masterData.SelectedMaterialCategory.nmaterialcatcode,\r\n                \"userinfo\": this.props.Login.userInfo,\r\n                \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial.nmaterialcode,\r\n                \"nmaterialtypecode\": this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode\r\n            },\r\n            operation: \"delete\", postParam,\r\n            displayName: \"Material\",\r\n            selectedRecord:{...this.state.selectedRecord}\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, [modalName]: true,\r\n                    operation: 'delete', screenName: \"Material\", id: \"material\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, modalName);\r\n        }\r\n    }\r\n    reloadData = () => {\r\n        //ALPD-4803 done by Dhanushya RI,To check searchref key is present or not\r\n        if (this.searchRef && this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n          }\r\n        let inputData = [];\r\n        inputData[\"nmaterialtypecode\"] = this.state.selectedcombo[\"nmaterialtypecode\"];\r\n        inputData[\"materialCatList\"] = this.state.materialCatList;\r\n        inputData[\"fromDate\"] = this.props.Login.masterData.fromDate;\r\n        inputData[\"toDate\"] = this.props.Login.masterData.toDate;\r\n        this.setState({ sectionDataState: { skip: 0, take: 10 } })\r\n        if (this.state.selectedcombo[\"nmaterialtypecode\"]) {\r\n            this.props.getMaterialReload(this.props.Login.masterData.SelectedMaterialTypeFilter, this.props.Login.masterData.SelectedMaterialCategoryFilter,\r\n                this.props.Login.masterData, this.props.Login.userInfo);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTUSERROLE\" }));\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, updateStore, initialcombochangeget, getAddMaterialPopup, viewAttachment, getMaterialReload,\r\n    crudMaster, getMaterialDetails, getMaterialEdit, getMaterialByTypeCode, addMaterialFile\r\n    , getAddMaterialSectionPopup, getMaterialSectionEdit, filterColumnData, validateEsignCredential, addSafetyInstructions, addMaterialProperty,addMaterialAccountingProperty,getAddMaterialAccountingPopup,getReportDetails,generateControlBasedReport\r\n})(injectIntl(Material));\r\n\r\n"]},"metadata":{},"sourceType":"module"}