{"ast":null,"code":"import rsapi from '../rsapi';\nimport { DEFAULT_RETURN } from './LoginTypes';\nimport { sortData, constructOptionList, rearrangeDateFormat } from '../components/CommonScript';\nimport Axios from 'axios';\nimport { initRequest } from './LoginAction';\nimport { intl } from '../components/App';\nimport { toast } from 'react-toastify';\nimport { transactionStatus, attachmentType } from \"../components/Enumeration\";\nexport function getInstrumentCombo(screenName, operation, primaryKeyName, masterData, userInfo, ncontrolCode) {\n  return function (dispatch) {\n    if (masterData.SelectedInsCat !== null) {\n      let urlArray = [];\n      const InstrumentCategory = rsapi.post(\"/instrumentcategory/fetchinstrumentcategory\", {\n        \"userinfo\": userInfo\n      });\n      const Supplier = rsapi.post(\"/instrument/getSupplier\", {\n        \"userinfo\": userInfo\n      });\n      const Manufacturer = rsapi.post(\"/instrument/getManufacturer\", {\n        \"userinfo\": userInfo\n      });\n      const InstrumentStatus = rsapi.post(\"/instrument/getInstrumentStatus\", {\n        \"userinfo\": userInfo\n      });\n      const Lab = rsapi.post(\"/section/getSection\", {\n        \"userinfo\": userInfo\n      });\n      const Period = rsapi.post(\"/period/getPeriodByControl\", {\n        \"ncontrolcode\": ncontrolCode,\n        \"userinfo\": userInfo\n      });\n      const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\n      const Instrumentdate = rsapi.post(\"/instrument/addInstrumentDate\", {\n        \"ncontrolcode\": ncontrolCode,\n        \"userinfo\": userInfo\n      });\n      const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", {\n        userinfo: userInfo\n      });\n      const validationStatus = rsapi.post(\"instrument/getInstrumentValidationStatus\", {\n        \"userinfo\": userInfo\n      });\n      const calibrationStatus = rsapi.post(\"instrument/getInstrumentCalibrationStatus\", {\n        \"userinfo\": userInfo\n      });\n      const maintenanceStatus = rsapi.post(\"instrument/getInstrumentMaintenanceStatus\", {\n        \"userinfo\": userInfo\n      });\n      const calibrationRequired = rsapi.post(\"instrument/getCalibrationRequired\", {\n        \"ninstrumentcatcode\": masterData.SelectedInsCat.ninstrumentcatcode,\n        userinfo: userInfo\n      });\n\n      if (operation === \"create\") {\n        urlArray = [InstrumentCategory, Supplier, Manufacturer, InstrumentStatus, Lab, Period, timeZoneService, Instrumentdate, UTCtimeZoneService, validationStatus, calibrationStatus, maintenanceStatus, calibrationRequired];\n      } else {\n        const InstrumentId = rsapi.post(\"/instrument/getActiveInstrumentById\", {\n          [primaryKeyName]: masterData.selectedInstrument[primaryKeyName],\n          \"userinfo\": userInfo\n        }); //const ManufacturerByID = rsapi.post(\"/manufacturer/getManufacturerById\", { [primaryKeyName] :masterData.selectedManufacturer[primaryKeyName], \"userinfo\": userInfo });\n\n        urlArray = [InstrumentCategory, Supplier, Manufacturer, InstrumentStatus, Lab, Period, timeZoneService, InstrumentId, Instrumentdate, UTCtimeZoneService];\n      }\n\n      dispatch(initRequest(true));\n      Axios.all(urlArray).then(response => {\n        let expiryDate = undefined;\n        let currentTime = undefined;\n        const instcatMap = constructOptionList(response[0].data || [], \"ninstrumentcatcode\", \"sinstrumentcatname\", undefined, undefined, false);\n        const supplierMap = constructOptionList(response[1].data.Supplier || [], \"nsuppliercode\", \"ssuppliername\", undefined, undefined, false);\n        const manufMap = constructOptionList(response[2].data.Manufacturer || [], \"nmanufcode\", \"smanufname\", undefined, undefined, false);\n        const inststatusMap = constructOptionList(response[3].data || [], \"ntranscode\", \"stransstatus\", undefined, undefined, false);\n        const sectionMap = constructOptionList(response[4].data || [], \"nsectioncode\", \"ssectionname\", undefined, undefined, false);\n        const periodMap = constructOptionList(response[5].data || [], \"nperiodcode\", \"speriodname\", undefined, undefined, false);\n        const timezoneMap = constructOptionList(response[6].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, false); // const validationMap={};\n        // const calibrationMap ={};\n        // const maintenanceMap ={};\n\n        let ValidationStatus = [];\n        let CalibrationStatus = [];\n        let MaintenanceStatus = [];\n        let CalibrationRequired = \"\";\n        const InstrumentCategory = instcatMap.get(\"OptionList\");\n        const Supplier = supplierMap.get(\"OptionList\");\n        const Manufacturer = manufMap.get(\"OptionList\");\n        const InstrumentStatus = inststatusMap.get(\"OptionList\");\n        const Lab = sectionMap.get(\"OptionList\");\n        const Period = periodMap.get(\"OptionList\");\n        const TimeZoneList = timezoneMap.get(\"OptionList\");\n        let selectedRecord = {\n          \"ninstrumentcatcode\": {\n            \"value\": masterData.SelectedInsCat.ninstrumentcatcode,\n            \"label\": masterData.SelectedInsCat.sinstrumentcatname\n          }\n        }; // let selectedRecord = {\n        //     \"ninstrumentcatcode\": {\n        //         \"value\": masterData.SelectedInsCat.ninstrumentcatcode,\n        //         \"label\": masterData.SelectedInsCat.sinstrumentcatname\n        //     },\n        //     \"ntzmanufdate\": {\n        //         \"value\": userInfo.ntimezonecode,\n        //         \"label\": userInfo.stimezoneid\n        //     },\n        //     //\"stzmanufdate\":userInfo.stimezoneid\n        //     \"ntzpodate\": {\n        //         \"value\": userInfo.ntimezonecode,\n        //         \"label\": userInfo.stimezoneid\n        //     },\n        //     \"stzpodate\": userInfo.stimezoneid,\n        //     \"ntzreceivedate\": {\n        //         \"value\": userInfo.ntimezonecode,\n        //         \"label\": userInfo.stimezoneid\n        //     },\n        //     \"stzreceivedate\": userInfo.stimezoneid,\n        //     \"ntzinstallationdate\": {\n        //         \"value\": userInfo.ntimezonecode,\n        //         \"label\": userInfo.stimezoneid\n        //     },\n        //     \"stzinstallationdate\": userInfo.stimezoneid,\n        //     \"ntzexpirydate\": {\n        //         \"value\": userInfo.ntimezonecode,\n        //         \"label\": userInfo.stimezoneid\n        //     },\n        //     \"stzexpirydate\": userInfo.stimezoneid\n        // };\n\n        let instrumentCategory = [];\n        let supplier = [];\n        let manufacturer = [];\n        let instrumentstatus = [];\n        let nwindowsperiodminusunit = [];\n        let nwindowsperiodplusunit = [];\n        ;\n        let lab = [];\n        let ntzmanufdate = [];\n        let ntzpodate = [];\n        let ntzreceivedate = [];\n        let ntzinstallationdate = [];\n        let ntzexpirydate = [];\n        let susername = [];\n        let service = []; // let validation = [];\n        // let calibration = [];\n        // let maintenance = [];\n        //if (operation === \"create\") {\n        // let date = rearrangeDateFormat(userInfo, response[8].data);\n        // selectedRecord[\"dmanufacdate\"] = date; //new Date(response[8].data);\n        // selectedRecord[\"dpodate\"] = date;\n        // selectedRecord[\"dreceiveddate\"] = date;\n        // selectedRecord[\"dinstallationdate\"] = date;\n        // currentTime = date;\n        // if (response[7].data[\"ExpiryDate\"] !== \"\") {\n        //     expiryDate = rearrangeDateFormat(userInfo, response[7].data[\"ExpiryDate\"]); //new Date(response[7].data[\"ExpiryDate\"]);\n        //     selectedRecord[\"dexpirydate\"] = expiryDate;\n        // }\n        //   }\n\n        if (operation === \"update\") {\n          selectedRecord = response[7].data;\n          instrumentCategory.push({\n            \"value\": response[7].data[\"ninstrumentcatcode\"],\n            \"label\": response[7].data[\"sinstrumentcatname\"]\n          });\n          supplier.push({\n            \"value\": response[7].data[\"nsuppliercode\"],\n            \"label\": response[7].data[\"ssuppliername\"]\n          });\n          service.push({\n            \"value\": response[7].data[\"nservicecode\"],\n            \"label\": response[7].data[\"sserviceby\"]\n          });\n          manufacturer.push({\n            \"value\": response[7].data[\"nmanufcode\"],\n            \"label\": response[7].data[\"smanufname\"]\n          });\n          instrumentstatus.push({\n            \"value\": response[7].data[\"ntranscode\"],\n            \"label\": response[7].data[\"sactivestatus\"]\n          });\n          nwindowsperiodminusunit.push({\n            \"value\": response[7].data[\"nwindowsperiodminusunit\"],\n            \"label\": response[7].data[\"swindowsperiodminusunit\"]\n          });\n          nwindowsperiodplusunit.push({\n            \"value\": response[7].data[\"nwindowsperiodplusunit\"],\n            \"label\": response[7].data[\"swindowsperiodplusunit\"]\n          });\n          lab.push({\n            \"value\": response[7].data[\"nsectioncode\"],\n            \"label\": response[7].data[\"ssectionname\"]\n          });\n          ntzmanufdate.push({\n            \"value\": response[7].data[\"ntzmanufdate\"],\n            \"label\": response[7].data[\"stzmanufdate\"]\n          });\n          ntzpodate.push({\n            \"value\": response[7].data[\"ntzpodate\"],\n            \"label\": response[7].data[\"stzpodate\"]\n          });\n          ntzreceivedate.push({\n            \"value\": response[7].data[\"ntzreceivedate\"],\n            \"label\": response[7].data[\"stzreceivedate\"]\n          });\n          ntzinstallationdate.push({\n            \"value\": response[7].data[\"ntzinstallationdate\"],\n            \"label\": response[7].data[\"stzinstallationdate\"]\n          });\n          ntzexpirydate.push({\n            \"value\": response[7].data[\"ntzexpirydate\"],\n            \"label\": response[7].data[\"stzexpirydate\"]\n          });\n          susername.push({\n            \"value\": response[7].data[\"nusercode1\"],\n            \"label\": response[7].data[\"susername\"]\n          }); // validation.push({\n          //     \"value\": response[8].data[\"ntranscode\"],\n          //     \"label\": response[8].data[\"stransdisplaystatus\"]\n          // })\n          // calibration.push({\n          //     \"value\": response[9].data[\"ntranscode\"],\n          //     \"label\": response[9].data[\"stransdisplaystatus\"]\n          // })\n          // maintenance.push({\n          //     \"value\": response[10].data[\"ntranscode\"],\n          //     \"label\": response[10].data[\"stransdisplaystatus\"]\n          // })\n\n          if (response[7].data[\"smanufacdate\"] !== \"\") {\n            selectedRecord[\"dmanufacdate\"] = rearrangeDateFormat(userInfo, response[7].data[\"smanufacdate\"]); //new Date(response[7].data[\"smanufacdate\"]);\n          }\n\n          if (response[7].data[\"spodate\"] !== \"\") {\n            selectedRecord[\"dpodate\"] = rearrangeDateFormat(userInfo, response[7].data[\"spodate\"]); //new Date(response[7].data[\"spodate\"]);\n          } // else{\n          //     selectedRecord[\"dpodate\"] = \" \";\n          // }\n\n\n          if (response[7].data[\"sreceiveddate\"] !== \"\") {\n            selectedRecord[\"dreceiveddate\"] = rearrangeDateFormat(userInfo, response[7].data[\"sreceiveddate\"]); //new Date(response[7].data[\"sreceiveddate\"]);\n          }\n\n          if (response[7].data[\"sinstallationdate\"] !== \"\") {\n            selectedRecord[\"dinstallationdate\"] = rearrangeDateFormat(userInfo, response[7].data[\"sinstallationdate\"]); //new Date(response[7].data[\"sinstallationdate\"]);\n          }\n\n          if (response[7].data[\"sexpirydate\"] !== \"\") {\n            selectedRecord[\"dexpirydate\"] = rearrangeDateFormat(userInfo, response[7].data[\"sexpirydate\"]); //new Date(response[7].data[\"sexpirydate\"]);\n          }\n\n          selectedRecord[\"ninstrumentcatcode\"] = instrumentCategory[0];\n          selectedRecord[\"nsuppliercode\"] = supplier[0];\n          selectedRecord[\"nservicecode\"] = service[0];\n          if (manufacturer[0].value !== -1) selectedRecord[\"nmanufcode\"] = manufacturer[0];\n          if (instrumentstatus[0].value !== -1) selectedRecord[\"ntranscode\"] = instrumentstatus[0];\n          if (nwindowsperiodminusunit[0].value !== -1) selectedRecord[\"nwindowsperiodminusunit\"] = nwindowsperiodminusunit[0];\n          if (nwindowsperiodplusunit[0].value !== -1) selectedRecord[\"nwindowsperiodplusunit\"] = nwindowsperiodplusunit[0];\n          selectedRecord[\"nsectioncode\"] = lab[0];\n          selectedRecord[\"ntzmanufdate\"] = ntzmanufdate[0];\n          selectedRecord[\"stzmanufdate\"] = ntzmanufdate[0].label;\n          selectedRecord[\"ntzpodate\"] = ntzpodate[0];\n          selectedRecord[\"stzpodate\"] = ntzpodate[0].label;\n          selectedRecord[\"ntzreceivedate\"] = ntzreceivedate[0];\n          selectedRecord[\"stzreceivedate\"] = ntzreceivedate[0].label;\n          selectedRecord[\"ntzinstallationdate\"] = ntzinstallationdate[0];\n          selectedRecord[\"stzinstallationdate\"] = ntzinstallationdate[0].label;\n          selectedRecord[\"ntzexpirydate\"] = ntzexpirydate[0];\n          selectedRecord[\"stzexpirydate\"] = ntzexpirydate[0].label;\n          selectedRecord[\"susername\"] = susername[0]; //  selectedRecord[\"ntranscode\"] = validation[0];\n          //  selectedRecord[\"ntranscode\"] = calibration[0];\n          //     selectedRecord[\"ntranscode\"] = maintenance[0];\n        } else {\n          const validationMap = constructOptionList(response[9].data.ValidationStatus || [], \"ntranscode\", \"stransstatus\", undefined, undefined, false);\n          const calibrationMap = constructOptionList(response[10].data.CalibrationStatus || [], \"ntranscode\", \"stransstatus\", undefined, undefined, false);\n          const maintenanceMap = constructOptionList(response[11].data.MaintenanceStatus || [], \"ntranscode\", \"stransstatus\", undefined, undefined, false);\n          CalibrationRequired = response[12].data.ncalibrationrequired;\n          ValidationStatus = validationMap.get(\"OptionList\");\n          CalibrationStatus = calibrationMap.get(\"OptionList\");\n          MaintenanceStatus = maintenanceMap.get(\"OptionList\");\n          const timezone = TimeZoneList.filter(x => x.value === userInfo.ntimezonecode);\n          selectedRecord[\"ntzmanufdate\"] = timezone[0]; // selectedRecord[\"stzmanufdate\"] = ntzmanufdate[0].label;\n\n          selectedRecord[\"ntzpodate\"] = timezone[0]; // selectedRecord[\"stzpodate\"] = ntzpodate[0].label;\n\n          selectedRecord[\"ntzreceivedate\"] = timezone[0]; // selectedRecord[\"stzreceivedate\"] = ntzreceivedate[0].label;\n\n          selectedRecord[\"ntzinstallationdate\"] = timezone[0]; // selectedRecord[\"stzinstallationdate\"] = ntzinstallationdate[0].label;\n\n          selectedRecord[\"ntzexpirydate\"] = timezone[0]; //selectedRecord[\"stzexpirydate\"] = ntzexpirydate[0].label;\n\n          let date = rearrangeDateFormat(userInfo, response[8].data);\n          selectedRecord[\"dclosedate\"] = date;\n          selectedRecord[\"dopendate\"] = date;\n          selectedRecord[\"dlastcalibrationdate\"] = date;\n          selectedRecord[\"dlastmaintenancedate\"] = date;\n          selectedRecord[\"dduedate\"] = date;\n          selectedRecord[\"dvalidationdate\"] = date;\n          selectedRecord[\"ntzclosedate\"] = timezone[0];\n          selectedRecord[\"ntzopendate\"] = timezone[0];\n          selectedRecord[\"ntzlastcalibrationdate\"] = timezone[0];\n          selectedRecord[\"ntzlastmaintenancedate\"] = timezone[0];\n          selectedRecord[\"ntzduedate\"] = timezone[0];\n          selectedRecord[\"ntzvalidationdate\"] = timezone[0];\n        }\n\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            InstrumentCategory,\n            Supplier,\n            Manufacturer,\n            InstrumentStatus,\n            instrumentCategory: instrumentCategory,\n            supplier: supplier,\n            manufacturer: manufacturer,\n            Lab,\n            Period,\n            TimeZoneList,\n            ValidationStatus,\n            CalibrationStatus,\n            MaintenanceStatus,\n            CalibrationRequired,\n            isOpen: true,\n            selectedRecord: selectedRecord,\n            operation: operation,\n            screenName: screenName,\n            openModal: true,\n            ncontrolCode: ncontrolCode,\n            loading: false,\n            currentTime,\n            expiryDate\n          }\n        });\n      }).catch(error => {\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            loading: false\n          }\n        });\n\n        if (error.response.status === 500) {\n          toast.error(intl.formatMessage({\n            id: error.message\n          }));\n        } else {\n          toast.warn(intl.formatMessage({\n            id: error.response.data\n          }));\n        }\n      });\n    } else {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_INSTRUMENTCATEGORYNOTAVALIABLE\"\n      }));\n    }\n  };\n}\nexport function getSectionUsers(nsectioncode, userInfo, selectedRecord, screenName) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"instrument/getSectionBasedUser\", {\n      \"nsectioncode\": nsectioncode\n    }, {\n      userinfo: userInfo\n    }).then(response => {\n      //console.log(\" response:\", response); \n      let Users = [];\n\n      if (screenName === \"IDS_SECTION\") {\n        //let sectionusers=[];\n        const userName = constructOptionList(response.data || [], \"nusercode\", \"susername\", undefined, undefined, false);\n        Users = userName.get(\"OptionList\"); //selectedRecord[\"nusercode\"]=\"\";\n\n        selectedRecord[\"nusercode\"] = undefined; //{label:SectionUsers[0].label,value:SectionUsers[0].value,item:SectionUsers[0]};\n      } else {\n        Users = response.data;\n      }\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          Users,\n          selectedRecord,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getCalibrationRequired(ninstrumentcatcode, userInfo, selectedRecord, screenName) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"instrument/getCalibrationRequired\", {\n      \"ninstrumentcatcode\": ninstrumentcatcode,\n      userinfo: userInfo\n    }).then(response => {\n      let CalibrationRequired = [];\n      CalibrationRequired = response.data.ncalibrationrequired;\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          CalibrationRequired,\n          selectedRecord,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getInstrumentDetail(Instrument, userInfo, masterData) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"instrument/getInstrument\", {\n      ninstrumentcode: Instrument.ninstrumentcode,\n      userinfo: userInfo\n    }).then(response => {\n      masterData = { ...masterData,\n        ...response.data\n      };\n      sortData(masterData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          operation: null,\n          modalName: undefined,\n          loading: false,\n          dataState: undefined\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport const getAvailableInstData = (instItem, url, key, screenName, userInfo, ncontrolCode, selectedRecord) => {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    let url = '';\n    url = \"/instrument/getUsers\";\n    return rsapi.post(url, {\n      \"userinfo\": userInfo\n    }).then(response => {\n      const secMap = constructOptionList(response.data.Section || [], \"nsectioncode\", \"ssectionname\", undefined, undefined, false);\n      const userMap = constructOptionList(response.data.Users || [], \"nusercode\", \"susername\", undefined, undefined, false);\n      const Lab = secMap.get(\"OptionList\");\n      const LabDefault = secMap.get(\"DefaultValue\");\n\n      if (LabDefault !== undefined) {\n        selectedRecord = {\n          \"nsectioncode\": {\n            \"value\": LabDefault.value,\n            \"label\": LabDefault.label\n          }\n        };\n      }\n\n      const Users = userMap.get(\"OptionList\");\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          Lab,\n          Users,\n          isOpen: true,\n          selectedRecord,\n          operation: \"create\",\n          screenName: screenName,\n          // openModal: true,\n          openChildModal: true,\n          ncontrolCode: ncontrolCode,\n          instItem: instItem,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 417) {\n        toast.info(error.response.data);\n      } else {\n        toast.error(error.message);\n      }\n    });\n  };\n};\nexport const changeInstrumentCategoryFilter = (inputParam, filterInstrumentCategory) => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"/instrument/get\" + inputParam.methodUrl, inputParam.inputData).then(response => {\n      //const masterData = response.data\n      const masterData = { ...inputParam.masterData,\n        ...response.data\n      };\n      sortData(masterData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false,\n          dataState: undefined,\n          masterData: { ...masterData,\n            filterInstrumentCategory,\n            nfilterInstrumentCategory: inputParam.inputData.nfilterInstrumentCategory\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n      toast.error(error.message);\n    });\n  };\n};\nexport const addInstrumentFile = inputParam => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    let urlArray = [rsapi.post(\"/linkmaster/getLinkMaster\", {\n      userinfo: inputParam.userInfo\n    })];\n\n    if (inputParam.operation === \"update\") {\n      urlArray.push(rsapi.post(\"/instrument/editInstrumentFile\", {\n        userinfo: inputParam.userInfo,\n        Instrumentfile: inputParam.selectedRecord\n      }));\n    }\n\n    Axios.all(urlArray).then(response => {\n      // let selectedRecord = {};\n      // let editObject = {};\n      // let operation = \"update\";\n      // editObject = response[0].data;\n      const linkMap = constructOptionList(response[0].data.LinkMaster, \"nlinkcode\", \"slinkname\", false, false, true);\n      const linkmaster = linkMap.get(\"OptionList\");\n      let selectedRecord = {};\n      const defaultLink = linkmaster.filter(items => items.item.ndefaultlink === transactionStatus.YES);\n      let disabled = false;\n      let editObject = {};\n\n      if (inputParam.operation === \"update\") {\n        editObject = response[1].data;\n        let nlinkcode = {};\n        let link = {};\n\n        if (editObject.nattachmenttypecode === attachmentType.LINK) {\n          nlinkcode = {\n            \"label\": editObject.slinkname,\n            \"value\": editObject.nlinkcode\n          };\n          link = {\n            slinkfilename: editObject.sfilename,\n            slinkdescription: editObject.sfiledesc,\n            nlinkdefaultstatus: editObject.ndefaultstatus,\n            sfilesize: '',\n            nfilesize: 0,\n            ndefaultstatus: 4,\n            sfilename: ''\n          };\n        } else {\n          nlinkcode = defaultLink.length > 0 ? defaultLink[0] : \"\"; //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\"\n\n          link = {\n            slinkfilename: '',\n            slinkdescription: '',\n            nlinkdefaultstatus: 4,\n            sfiledesc: editObject.sfiledesc,\n            sfilesize: editObject.sfilesize,\n            nfilesize: editObject.nfilesize,\n            ndefaultstatus: editObject.ndefaultstatus,\n            sfilename: editObject.sfilename,\n            ssystemfilename: editObject.ssystemfilename\n          };\n        }\n\n        selectedRecord = {\n          ninstrumentfilecode: editObject.ninstrumentfilecode,\n          // sfiledesc: editObject.sfiledesc,\n          // sfilename: editObject.sfilename,\n          // sdescription: editObject.sdescription,\n          // ssystemfilename: editObject.ssystemfilename,\n          nattachmenttypecode: editObject.nattachmenttypecode,\n          ...link,\n          //...editObject,\n          nlinkcode\n        };\n      } else {\n        selectedRecord = {\n          nattachmenttypecode: response[0].data.AttachmentType.length > 0 ? response[0].data.AttachmentType[0].nattachmenttypecode : attachmentType.FTP,\n          nlinkcode: defaultLink.length > 0 ? defaultLink[0] : \"\",\n          //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\n          disabled\n        };\n      } // selectedRecord = {\n      //     ninstrumentfilecode: editObject.ninstrumentfilecode,\n      //     sfiledesc: editObject.sfiledesc,\n      //     sfilename: editObject.sfilename,\n      //     sdescription: editObject.sdescription,\n      //     ssystemfilename: editObject.ssystemfilename\n      // };\n\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          // openModal: true,\n          openChildModal: true,\n          operation: inputParam.operation,\n          screenName: inputParam.screenName,\n          ncontrolCode: inputParam.ncontrolCode,\n          selectedRecord,\n          loading: false,\n          linkMaster: linkmaster,\n          showSaveContinue: false,\n          editFiles: editObject.nattachmenttypecode === \"1\" ? editObject : {}\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n};\nexport const getDataForAddEditValidation = (screenName, operation, userInfo, ncontrolCode, selectedRecord, masterData, primaryKeyName) => {\n  return function (dispatch) {\n    let urlArray = [];\n    const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\n    const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", {\n      userinfo: userInfo\n    });\n    const validationStatusService = rsapi.post(\"instrument/getInstrumentValidationStatus\", {\n      \"userinfo\": userInfo\n    });\n\n    if (operation === \"create\") {\n      urlArray = [validationStatusService, UTCtimeZoneService, timeZoneService];\n    } else {\n      const ValidationById = rsapi.post(\"instrument/getActiveInstrumentValidationById\", {\n        [primaryKeyName]: masterData.selectedInstrumentValidation.ninstrumentvalidationcode,\n        \"userinfo\": userInfo\n      });\n      urlArray = [validationStatusService, UTCtimeZoneService, timeZoneService, ValidationById];\n    }\n\n    dispatch(initRequest(true));\n    Axios.all(urlArray).then(response => {\n      let selectedRecord = {};\n      let ValidationData = [];\n      const validationMap = constructOptionList(response[0].data.ValidationStatus || [], \"ntranscode\", \"stransstatus\", undefined, undefined, false);\n      const ValidationStatus = validationMap.get(\"OptionList\");\n      let ntzvalidationdate = [];\n      const timezoneMap = constructOptionList(response[2].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, false);\n      const TimeZoneList = timezoneMap.get(\"OptionList\");\n\n      if (operation === \"create\") {\n        selectedRecord = {\n          \"ntzvalidationdate\": {\n            \"value\": userInfo.ntimezonecode,\n            \"label\": userInfo.stimezoneid\n          },\n          \"stzvalidationdate\": userInfo.stimezoneid\n        };\n        let date = rearrangeDateFormat(userInfo, response[1].data);\n        selectedRecord[\"dvalidationdate\"] = date;\n      }\n\n      if (operation === \"update\") {\n        ValidationData.push({\n          \"value\": response[3].data[\"nvalidationstatus\"],\n          \"label\": response[3].data[\"stransdisplaystatus\"]\n        });\n        selectedRecord = response[3].data;\n        selectedRecord[\"ntranscode\"] = ValidationData[0];\n        ntzvalidationdate.push({\n          \"value\": response[3].data[\"ntzvalidationdate\"],\n          \"label\": response[3].data[\"stzvalidationdate\"]\n        });\n        selectedRecord[\"ntzvalidationdate\"] = ntzvalidationdate[0];\n\n        if (response[3].data[\"svalidationdate\"] !== \"\") {\n          selectedRecord[\"dvalidationdate\"] = rearrangeDateFormat(userInfo, response[3].data[\"svalidationdate\"]); //new Date(response[7].data[\"smanufacdate\"]);\n        }\n      }\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          ValidationStatus,\n          TimeZoneList,\n          selectedRecord: selectedRecord,\n          isOpen: true,\n          operation: operation,\n          screenName: screenName,\n          // openModal: true,\n          openChildModal: true,\n          ncontrolCode: ncontrolCode,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const getDataForAddEditCalibration = (screenName, operation, userInfo, ncontrolCode, selectedRecord, masterData, primaryKeyName) => {\n  return function (dispatch) {\n    let urlArray = [];\n    const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\n    const calibrationStatusService = rsapi.post(\"instrument/getInstrumentCalibrationStatus\", {\n      \"userinfo\": userInfo\n    });\n    const LastCalibrationDateService = rsapi.post(\"instrument/getInstrumentLastCalibrationDate\", {\n      \"userinfo\": userInfo,\n      ninstrumentcode: masterData.selectedInstrument.ninstrumentcode\n    });\n\n    if (operation === \"create\") {\n      const calibrationValidationService = rsapi.post(\"instrument/getInstrumentCalibrationValidation\", {\n        \"userinfo\": userInfo,\n        nFlag: 1,\n        ninstrumentcode: masterData.selectedInstrument.ninstrumentcode\n      });\n      urlArray = [calibrationStatusService, LastCalibrationDateService, timeZoneService, calibrationValidationService];\n    } else {\n      const calibrationValidationService = rsapi.post(\"instrument/getInstrumentCalibrationValidation\", {\n        \"userinfo\": userInfo,\n        nFlag: 2,\n        ninstrumentcalibrationcode: masterData.selectedInstrumentCalibration.ninstrumentcalibrationcode,\n        ninstrumentcode: masterData.selectedInstrumentCalibration.ninstrumentcode\n      });\n      const CalibrationById = rsapi.post(\"instrument/getActiveInstrumentCalibrationById\", {\n        [primaryKeyName]: masterData.selectedInstrumentCalibration.ninstrumentcalibrationcode,\n        \"userinfo\": userInfo\n      });\n      urlArray = [calibrationStatusService, LastCalibrationDateService, timeZoneService, calibrationValidationService, CalibrationById];\n    }\n\n    dispatch(initRequest(true));\n    Axios.all(urlArray).then(response => {\n      let CalibrationStatus = [];\n      let TimeZoneList = [];\n\n      if (response[3].data.OpenCloseStatus === \"Success\") {\n        let selectedRecord = {};\n        let CalibrationData = [];\n        const calibrationMap = constructOptionList(response[0].data.CalibrationStatus || [], \"ntranscode\", \"stransstatus\", undefined, undefined, false);\n        CalibrationStatus = calibrationMap.get(\"OptionList\");\n        let Action;\n        let ntzlastcalibrationdate = [];\n        let ntzduedate = [];\n        const timezoneMap = constructOptionList(response[2].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, false);\n        TimeZoneList = timezoneMap.get(\"OptionList\");\n\n        if (operation === \"create\") {\n          selectedRecord = {\n            \"ntzlastcalibrationdate\": {\n              \"value\": userInfo.ntimezonecode,\n              \"label\": userInfo.stimezoneid\n            },\n            \"stzlastcalibrationdate\": userInfo.stimezoneid,\n            \"ntzduedate\": {\n              \"value\": userInfo.ntimezonecode,\n              \"label\": userInfo.stimezoneid\n            },\n            \"stzduedate\": userInfo.stimezoneid\n          };\n          let date = rearrangeDateFormat(userInfo, response[1].data.date);\n          selectedRecord[\"dlastcalibrationdate\"] = date;\n          selectedRecord[\"dduedate\"] = rearrangeDateFormat(userInfo, new Date());\n          Action = 'Add';\n        }\n\n        if (operation === \"update\") {\n          Action = 'Edit';\n          CalibrationData.push({\n            \"value\": response[4].data[\"ncalibrationstatus\"],\n            \"label\": response[4].data[\"stransdisplaystatus\"]\n          });\n          selectedRecord = response[4].data;\n          selectedRecord[\"ntranscode\"] = CalibrationData[0];\n          ntzlastcalibrationdate.push({\n            \"value\": response[4].data[\"ntzlastcalibrationdate\"],\n            \"label\": response[4].data[\"stzlastcalibrationdate\"]\n          });\n          ntzduedate.push({\n            \"value\": response[4].data[\"ntzduedate\"],\n            \"label\": response[4].data[\"stzduedate\"]\n          });\n          selectedRecord[\"ntzlastcalibrationdate\"] = ntzlastcalibrationdate[0];\n          selectedRecord[\"ntzduedate\"] = ntzduedate[0];\n\n          if (response[4].data[\"slastcalibrationdate\"] !== \"\") {\n            selectedRecord[\"dlastcalibrationdate\"] = rearrangeDateFormat(userInfo, response[4].data[\"slastcalibrationdate\"]);\n          }\n\n          if (response[4].data[\"sduedate\"] !== \"\") {\n            selectedRecord[\"dduedate\"] = rearrangeDateFormat(userInfo, response[4].data[\"sduedate\"]);\n          }\n        }\n\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            CalibrationStatus,\n            Action: Action,\n            TimeZoneList,\n            selectedRecord: selectedRecord,\n            isOpen: true,\n            operation: operation,\n            screenName: screenName,\n            // openModal: true,\n            openChildModal: true,\n            ncontrolCode: ncontrolCode,\n            loading: false,\n            popUp: \"\"\n          }\n        });\n      } else {\n        toast.warn(intl.formatMessage({\n          id: response[3].data.Status\n        }));\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            operation: operation,\n            screenName: screenName,\n            ncontrolCode: ncontrolCode,\n            loading: false\n          }\n        });\n      }\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const getTabDetails = inputParam => {\n  return function (dispatch) {\n    const instrumentValidation = inputParam.instrumentValidation;\n    const instrumentCalibration = inputParam.instrumentCalibration;\n    const instrumentMaintenance = inputParam.instrumentMaintenance;\n    let urlArray = [];\n    dispatch(initRequest(true));\n\n    if (inputParam.screenName === \"IDS_INSTRUMENTVALIDATION\") {\n      urlArray.push(rsapi.post(\"/instrument/getothertabdetails\", {\n        ninstrumentcode: instrumentValidation.ninstrumentcode,\n        \"nFlag\": inputParam.nFlag,\n        ninstrumentvalidationcode: instrumentValidation.ninstrumentvalidationcode,\n        userinfo: inputParam.userInfo\n      }));\n    } else if (inputParam.screenName === \"IDS_INSTRUMENTCALIBRATION\") {\n      urlArray.push(rsapi.post(\"/instrument/getothertabdetails\", {\n        ninstrumentcode: instrumentCalibration.ninstrumentcode,\n        \"nFlag\": inputParam.nFlag,\n        ninstrumentcalibrationcode: instrumentCalibration.ninstrumentcalibrationcode,\n        userinfo: inputParam.userInfo\n      }));\n    } else if (inputParam.screenName === \"IDS_INSTRUMENTMAINTENANCE\") {\n      urlArray.push(rsapi.post(\"/instrument/getothertabdetails\", {\n        ninstrumentcode: instrumentMaintenance.ninstrumentcode,\n        \"nFlag\": inputParam.nFlag,\n        ninstrumentmaintenancecode: instrumentMaintenance.ninstrumentmaintenancecode,\n        userinfo: inputParam.userInfo\n      }));\n    }\n\n    Axios.all(urlArray).then(response => {\n      let masterData = inputParam.masterData;\n      masterData = { ...masterData,\n        ...response[0].data\n      };\n      sortData(masterData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n};\nexport const getDataForAddEditMaintenance = (screenName, operation, userInfo, ncontrolCode, selectedRecord, masterData, primaryKeyName) => {\n  return function (dispatch) {\n    let urlArray = [];\n    const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\n    const LastMaintenanceDateService = rsapi.post(\"instrument/getInstrumentLastMaintenanceDate\", {\n      \"userinfo\": userInfo,\n      ninstrumentcode: masterData.selectedInstrument.ninstrumentcode\n    });\n    const maintenanceStatusService = rsapi.post(\"instrument/getInstrumentMaintenanceStatus\", {\n      \"userinfo\": userInfo\n    });\n\n    if (operation === \"create\") {\n      const maintenanceValidationService = rsapi.post(\"instrument/getInstrumentMaintenanceValidation\", {\n        \"userinfo\": userInfo,\n        nFlag: 1,\n        ninstrumentcode: masterData.selectedInstrument.ninstrumentcode\n      });\n      urlArray = [maintenanceStatusService, LastMaintenanceDateService, timeZoneService, maintenanceValidationService];\n    } else {\n      const maintenanceValidationService = rsapi.post(\"instrument/getInstrumentMaintenanceValidation\", {\n        \"userinfo\": userInfo,\n        nFlag: 2,\n        ninstrumentmaintenancecode: masterData.selectedInstrumentMaintenance.ninstrumentmaintenancecode,\n        ninstrumentcode: masterData.selectedInstrumentMaintenance.ninstrumentcode\n      });\n      const MaintenanceById = rsapi.post(\"instrument/getActiveInstrumentMaintenanceById\", {\n        [primaryKeyName]: masterData.selectedInstrumentMaintenance.ninstrumentmaintenancecode,\n        \"userinfo\": userInfo\n      });\n      urlArray = [maintenanceStatusService, LastMaintenanceDateService, timeZoneService, maintenanceValidationService, MaintenanceById];\n    }\n\n    dispatch(initRequest(true));\n    Axios.all(urlArray).then(response => {\n      let MaintenanceStatus = [];\n      let TimeZoneList = [];\n\n      if (response[3].data.OpenCloseStatus === \"Success\") {\n        let selectedRecord = {};\n        let MaintenanceData = [];\n        const maintenanceMap = constructOptionList(response[0].data.MaintenanceStatus || [], \"ntranscode\", \"stransstatus\", undefined, undefined, false);\n        MaintenanceStatus = maintenanceMap.get(\"OptionList\");\n        let Action;\n        let ntzlastmaintenancedate = [];\n        let ntzduedate = [];\n        const timezoneMap = constructOptionList(response[2].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, false);\n        TimeZoneList = timezoneMap.get(\"OptionList\");\n\n        if (operation === \"create\") {\n          selectedRecord = {\n            \"ntzlastmaintenancedate\": {\n              \"value\": userInfo.ntimezonecode,\n              \"label\": userInfo.stimezoneid\n            },\n            \"stzlastmaintenancedate\": userInfo.stimezoneid,\n            \"ntzduedate\": {\n              \"value\": userInfo.ntimezonecode,\n              \"label\": userInfo.stimezoneid\n            },\n            \"stzduedate\": userInfo.stimezoneid\n          };\n          let date = rearrangeDateFormat(userInfo, response[1].data.date);\n          selectedRecord[\"dlastmaintenancedate\"] = date;\n          selectedRecord[\"dduedate\"] = rearrangeDateFormat(userInfo, new Date());\n          Action = 'Add';\n        }\n\n        if (operation === \"update\") {\n          Action = 'Edit';\n          MaintenanceData.push({\n            \"value\": response[4].data[\"nmaintenancestatus\"],\n            \"label\": response[4].data[\"stransdisplaystatus\"]\n          });\n          selectedRecord = response[4].data;\n          selectedRecord[\"ntranscode\"] = MaintenanceData[0];\n          ntzlastmaintenancedate.push({\n            \"value\": response[4].data[\"ntzlastmaintenancedate\"],\n            \"label\": response[4].data[\"stzlastmaintenancedate\"]\n          });\n          ntzduedate.push({\n            \"value\": response[4].data[\"ntzduedate\"],\n            \"label\": response[4].data[\"stzduedate\"]\n          });\n          selectedRecord[\"ntzlastmaintenancedate\"] = ntzlastmaintenancedate[0];\n          selectedRecord[\"ntzduedate\"] = ntzduedate[0];\n\n          if (response[4].data[\"slastmaintenancedate\"] !== \"\") {\n            selectedRecord[\"dlastmaintenancedate\"] = rearrangeDateFormat(userInfo, response[4].data[\"slastmaintenancedate\"]); //new Date(response[7].data[\"smanufacdate\"]);\n          }\n\n          if (response[4].data[\"sduedate\"] !== \"\") {\n            selectedRecord[\"dduedate\"] = rearrangeDateFormat(userInfo, response[4].data[\"sduedate\"]); //new Date(response[7].data[\"smanufacdate\"]);\n          }\n        }\n\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            MaintenanceStatus,\n            Action: Action,\n            TimeZoneList,\n            selectedRecord: selectedRecord,\n            isOpen: true,\n            operation: operation,\n            screenName: screenName,\n            // openModal: true,\n            openChildModal: true,\n            ncontrolCode: ncontrolCode,\n            loading: false,\n            popUp: \"\"\n          }\n        });\n      } else {\n        toast.warn(intl.formatMessage({\n          id: response[3].data.Status\n        }));\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            operation: operation,\n            screenName: screenName,\n            ncontrolCode: ncontrolCode,\n            loading: false\n          }\n        });\n      }\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const OpenDate = (screenName, userInfo, ncontrolCode, selectedRecord, masterData) => {\n  return function (dispatch) {\n    let urlArray = [];\n    const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\n    const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", {\n      userinfo: userInfo\n    });\n\n    if (screenName === \"IDS_INSTRUMENTCALIBRATION\") {\n      const calibrationValidationService = rsapi.post(\"instrument/getInstrumentCalibrationValidation\", {\n        \"userinfo\": userInfo,\n        nFlag: 3,\n        ninstrumentcalibrationcode: masterData.selectedInstrumentCalibration.ninstrumentcalibrationcode,\n        ninstrumentcode: masterData.selectedInstrumentCalibration.ninstrumentcode\n      });\n      const calibrationStatusService = rsapi.post(\"instrument/getInstrumentCalibrationOpenDateStatus\", {\n        \"userinfo\": userInfo,\n        nFlag: 2,\n        ninstrumentcalibrationcode: masterData.selectedInstrumentCalibration.ninstrumentcalibrationcode\n      });\n      urlArray = [calibrationStatusService, timeZoneService, UTCtimeZoneService, calibrationValidationService];\n    } else {\n      const maintenanceValidationService = rsapi.post(\"instrument/getInstrumentMaintenanceValidation\", {\n        \"userinfo\": userInfo,\n        nFlag: 3,\n        ninstrumentmaintenancecode: masterData.selectedInstrumentMaintenance.ninstrumentmaintenancecode,\n        ninstrumentcode: masterData.selectedInstrumentMaintenance.ninstrumentcode\n      });\n      const maintenanceStatusService = rsapi.post(\"instrument/getInstrumentMaintenanceOpenCloseDateStatus\", {\n        \"userinfo\": userInfo,\n        nFlag: 2,\n        ninstrumentmaintenancecode: masterData.selectedInstrumentMaintenance.ninstrumentmaintenancecode\n      });\n      urlArray = [maintenanceStatusService, timeZoneService, UTCtimeZoneService, maintenanceValidationService];\n    }\n\n    dispatch(initRequest(true));\n    Axios.all(urlArray).then(response => {\n      if (response[3].data.OpenCloseStatus === \"Success\") {\n        let CalibrationStatus = {};\n        let MaintenanceStatus = {};\n        let selectedRecord = {};\n        const timezoneMap = constructOptionList(response[1].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, false);\n        const TimeZoneList = timezoneMap.get(\"OptionList\");\n        selectedRecord = {\n          \"ntzopendate\": {\n            \"value\": userInfo.ntimezonecode,\n            \"label\": userInfo.stimezoneid\n          },\n          \"stzopendate\": userInfo.stimezoneid\n        };\n        let popUp = \"\";\n        let date = rearrangeDateFormat(userInfo, response[2].data);\n        selectedRecord[\"dopendate\"] = date;\n\n        if (screenName === \"IDS_INSTRUMENTCALIBRATION\") {\n          const calibrationMap = constructOptionList(response[0].data.CalibrationStatus || [], \"ntranscode\", \"stransstatus\", undefined, undefined, false);\n          CalibrationStatus = calibrationMap.get(\"OptionList\");\n          popUp = \"IDS_INSTRUMENTCALIBRATIONOPENDATE\";\n        } else {\n          const maintenanceMap = constructOptionList(response[0].data.MaintenanceStatus || [], \"ntranscode\", \"stransstatus\", undefined, undefined, false);\n          MaintenanceStatus = maintenanceMap.get(\"OptionList\");\n          popUp = \"IDS_INSTRUMENTMAINTENANCEOPENDATE\";\n        }\n\n        let operation = \"create\";\n        let modalTitle = \"IDS_OPENDATE\";\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            isOpen: true,\n            selectedRecord: selectedRecord,\n            operation: operation,\n            modalTitle: modalTitle,\n            CalibrationStatus: CalibrationStatus,\n            MaintenanceStatus: MaintenanceStatus,\n            TimeZoneList: TimeZoneList,\n            screenName: screenName,\n            modalShow: true,\n            ncontrolCode: ncontrolCode,\n            popUp: popUp,\n            loading: false\n          }\n        });\n      } else {\n        toast.warn(intl.formatMessage({\n          id: response[3].data.Status\n        }));\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            ncontrolCode: ncontrolCode,\n            loading: false\n          }\n        });\n      }\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport const CloseDate = (screenName, userInfo, ncontrolCode, selectedRecord, masterData) => {\n  return function (dispatch) {\n    let urlArray = [];\n    const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\n    const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", {\n      userinfo: userInfo\n    });\n\n    if (screenName === \"IDS_INSTRUMENTCALIBRATION\") {\n      const calibrationValidationService = rsapi.post(\"instrument/getInstrumentCalibrationValidation\", {\n        \"userinfo\": userInfo,\n        nFlag: 4,\n        ninstrumentcalibrationcode: masterData.selectedInstrumentCalibration.ninstrumentcalibrationcode,\n        ninstrumentcode: masterData.selectedInstrumentCalibration.ninstrumentcode\n      });\n      const calibrationStatusService = rsapi.post(\"instrument/getInstrumentCalibrationOpenDateStatus\", {\n        \"userinfo\": userInfo,\n        nFlag: 2,\n        ninstrumentcalibrationcode: masterData.selectedInstrumentCalibration.ninstrumentcalibrationcode\n      });\n      urlArray = [calibrationStatusService, timeZoneService, UTCtimeZoneService, calibrationValidationService];\n    } else {\n      const maintenanceValidationService = rsapi.post(\"instrument/getInstrumentMaintenanceValidation\", {\n        \"userinfo\": userInfo,\n        nFlag: 4,\n        ninstrumentmaintenancecode: masterData.selectedInstrumentMaintenance.ninstrumentmaintenancecode,\n        ninstrumentcode: masterData.selectedInstrumentMaintenance.ninstrumentcode\n      });\n      const maintenanceStatusService = rsapi.post(\"instrument/getInstrumentMaintenanceOpenCloseDateStatus\", {\n        \"userinfo\": userInfo,\n        nFlag: 2,\n        ninstrumentmaintenancecode: masterData.selectedInstrumentMaintenance.ninstrumentmaintenancecode\n      });\n      urlArray = [maintenanceStatusService, timeZoneService, UTCtimeZoneService, maintenanceValidationService];\n    }\n\n    dispatch(initRequest(true));\n    Axios.all(urlArray).then(response => {\n      if (response[3].data.OpenCloseStatus === \"Success\") {\n        let CalibrationStatus = [];\n        let MaintenanceStatus = {};\n        let selectedRecord = {};\n        const timezoneMap = constructOptionList(response[1].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, false);\n        const TimeZoneList = timezoneMap.get(\"OptionList\");\n        selectedRecord = {\n          \"ntzclosedate\": {\n            \"value\": userInfo.ntimezonecode,\n            \"label\": userInfo.stimezoneid\n          },\n          \"stzclosedate\": userInfo.stimezoneid\n        };\n        let date = rearrangeDateFormat(userInfo, response[2].data);\n        selectedRecord[\"dclosedate\"] = date;\n        let popUp = \"\";\n\n        if (screenName === \"IDS_INSTRUMENTCALIBRATION\") {\n          const calibrationMap = constructOptionList(response[0].data.CalibrationStatus || [], \"ntranscode\", \"stransstatus\", undefined, undefined, false);\n          CalibrationStatus = calibrationMap.get(\"OptionList\");\n          popUp = \"IDS_INSTRUMENTCALIBRATIONCLOSEDATE\";\n        } else {\n          const maintenanceMap = constructOptionList(response[0].data.MaintenanceStatus || [], \"ntranscode\", \"stransstatus\", undefined, undefined, false);\n          MaintenanceStatus = maintenanceMap.get(\"OptionList\");\n          popUp = \"IDS_INSTRUMENTMAINTENANCECLOSEDATE\";\n        }\n\n        let operation = \"create\";\n        let modalTitle = \"IDS_CLOSEDATE\";\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            isOpen: true,\n            selectedRecord: selectedRecord,\n            operation: operation,\n            modalTitle: modalTitle,\n            CalibrationStatus: CalibrationStatus,\n            MaintenanceStatus: MaintenanceStatus,\n            TimeZoneList: TimeZoneList,\n            screenName: screenName,\n            modalShow: true,\n            ncontrolCode: ncontrolCode,\n            loading: false,\n            popUp: popUp\n          }\n        });\n      } else {\n        toast.warn(intl.formatMessage({\n          id: response[3].data.Status\n        }));\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            ncontrolCode: ncontrolCode,\n            loading: false\n          }\n        });\n      }\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/InstrumentAction.js"],"names":["rsapi","DEFAULT_RETURN","sortData","constructOptionList","rearrangeDateFormat","Axios","initRequest","intl","toast","transactionStatus","attachmentType","getInstrumentCombo","screenName","operation","primaryKeyName","masterData","userInfo","ncontrolCode","dispatch","SelectedInsCat","urlArray","InstrumentCategory","post","Supplier","Manufacturer","InstrumentStatus","Lab","Period","timeZoneService","Instrumentdate","UTCtimeZoneService","userinfo","validationStatus","calibrationStatus","maintenanceStatus","calibrationRequired","ninstrumentcatcode","InstrumentId","selectedInstrument","all","then","response","expiryDate","undefined","currentTime","instcatMap","data","supplierMap","manufMap","inststatusMap","sectionMap","periodMap","timezoneMap","ValidationStatus","CalibrationStatus","MaintenanceStatus","CalibrationRequired","get","TimeZoneList","selectedRecord","sinstrumentcatname","instrumentCategory","supplier","manufacturer","instrumentstatus","nwindowsperiodminusunit","nwindowsperiodplusunit","lab","ntzmanufdate","ntzpodate","ntzreceivedate","ntzinstallationdate","ntzexpirydate","susername","service","push","value","label","validationMap","calibrationMap","maintenanceMap","ncalibrationrequired","timezone","filter","x","ntimezonecode","date","type","payload","isOpen","openModal","loading","catch","error","status","formatMessage","id","message","warn","getSectionUsers","nsectioncode","Users","userName","getCalibrationRequired","getInstrumentDetail","Instrument","ninstrumentcode","modalName","dataState","getAvailableInstData","instItem","url","key","secMap","Section","userMap","LabDefault","openChildModal","info","changeInstrumentCategoryFilter","inputParam","filterInstrumentCategory","methodUrl","inputData","nfilterInstrumentCategory","addInstrumentFile","Instrumentfile","linkMap","LinkMaster","linkmaster","defaultLink","items","item","ndefaultlink","YES","disabled","editObject","nlinkcode","link","nattachmenttypecode","LINK","slinkname","slinkfilename","sfilename","slinkdescription","sfiledesc","nlinkdefaultstatus","ndefaultstatus","sfilesize","nfilesize","length","ssystemfilename","ninstrumentfilecode","AttachmentType","FTP","linkMaster","showSaveContinue","editFiles","getDataForAddEditValidation","validationStatusService","ValidationById","selectedInstrumentValidation","ninstrumentvalidationcode","ValidationData","ntzvalidationdate","stimezoneid","getDataForAddEditCalibration","calibrationStatusService","LastCalibrationDateService","calibrationValidationService","nFlag","ninstrumentcalibrationcode","selectedInstrumentCalibration","CalibrationById","OpenCloseStatus","CalibrationData","Action","ntzlastcalibrationdate","ntzduedate","Date","popUp","Status","getTabDetails","instrumentValidation","instrumentCalibration","instrumentMaintenance","ninstrumentmaintenancecode","getDataForAddEditMaintenance","LastMaintenanceDateService","maintenanceStatusService","maintenanceValidationService","selectedInstrumentMaintenance","MaintenanceById","MaintenanceData","ntzlastmaintenancedate","OpenDate","modalTitle","modalShow","CloseDate"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport {\r\n    DEFAULT_RETURN\r\n} from './LoginTypes';\r\nimport {\r\n    sortData,\r\n    constructOptionList,\r\n    rearrangeDateFormat\r\n} from '../components/CommonScript';\r\nimport Axios from 'axios';\r\nimport {\r\n    initRequest\r\n} from './LoginAction';\r\nimport {\r\n    intl\r\n} from '../components/App';\r\nimport {\r\n    toast\r\n} from 'react-toastify';\r\nimport {\r\n    transactionStatus,\r\n    attachmentType\r\n} from \"../components/Enumeration\";\r\n\r\nexport function getInstrumentCombo(screenName, operation, primaryKeyName, masterData, userInfo, ncontrolCode) {\r\n    return function (dispatch) {\r\n        if (masterData.SelectedInsCat!==null) {\r\n        let urlArray = [];\r\n        const InstrumentCategory = rsapi.post(\"/instrumentcategory/fetchinstrumentcategory\", {\r\n            \"userinfo\": userInfo\r\n        });\r\n        const Supplier = rsapi.post(\"/instrument/getSupplier\", {\r\n            \"userinfo\": userInfo\r\n        });\r\n        const Manufacturer = rsapi.post(\"/instrument/getManufacturer\", {\r\n            \"userinfo\": userInfo\r\n        });\r\n        const InstrumentStatus = rsapi.post(\"/instrument/getInstrumentStatus\", {\r\n            \"userinfo\": userInfo\r\n        });\r\n        const Lab = rsapi.post(\"/section/getSection\", {\r\n            \"userinfo\": userInfo\r\n        });\r\n        const Period = rsapi.post(\"/period/getPeriodByControl\", {\r\n            \"ncontrolcode\": ncontrolCode,\r\n            \"userinfo\": userInfo\r\n        });\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n\r\n        const Instrumentdate = rsapi.post(\"/instrument/addInstrumentDate\", {\r\n            \"ncontrolcode\": ncontrolCode,\r\n            \"userinfo\": userInfo\r\n        });\r\n        const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", {\r\n            userinfo: userInfo\r\n        });\r\n        const validationStatus = rsapi.post(\"instrument/getInstrumentValidationStatus\", {\r\n            \"userinfo\": userInfo\r\n        });\r\n        const calibrationStatus = rsapi.post(\"instrument/getInstrumentCalibrationStatus\", {\r\n            \"userinfo\": userInfo\r\n        });\r\n        const maintenanceStatus = rsapi.post(\"instrument/getInstrumentMaintenanceStatus\", {\r\n            \"userinfo\": userInfo\r\n        });\r\n        const calibrationRequired =rsapi.post(\"instrument/getCalibrationRequired\",{\r\n            \"ninstrumentcatcode\":masterData.SelectedInsCat.ninstrumentcatcode,\r\n            userinfo:userInfo\r\n        });\r\n\r\n        if (operation === \"create\") {\r\n            urlArray = [InstrumentCategory, Supplier, Manufacturer, InstrumentStatus, Lab, Period, timeZoneService, Instrumentdate, UTCtimeZoneService,validationStatus,calibrationStatus,maintenanceStatus,calibrationRequired];\r\n\r\n        } else {\r\n            const InstrumentId = rsapi.post(\"/instrument/getActiveInstrumentById\", {\r\n                [primaryKeyName]: masterData.selectedInstrument[primaryKeyName],\r\n                \"userinfo\": userInfo\r\n            });\r\n            //const ManufacturerByID = rsapi.post(\"/manufacturer/getManufacturerById\", { [primaryKeyName] :masterData.selectedManufacturer[primaryKeyName], \"userinfo\": userInfo });\r\n            urlArray = [InstrumentCategory, Supplier, Manufacturer, InstrumentStatus, Lab, Period, timeZoneService, InstrumentId, Instrumentdate, UTCtimeZoneService];\r\n        }\r\n\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n\r\n                let expiryDate = undefined;\r\n                let currentTime = undefined;\r\n                \r\n                const instcatMap = constructOptionList(response[0].data || [], \"ninstrumentcatcode\",\r\n                    \"sinstrumentcatname\", undefined, undefined, false);\r\n\r\n                const supplierMap = constructOptionList(response[1].data.Supplier || [], \"nsuppliercode\",\r\n                    \"ssuppliername\", undefined, undefined, false);\r\n\r\n                const manufMap = constructOptionList(response[2].data.Manufacturer || [], \"nmanufcode\",\r\n                    \"smanufname\", undefined, undefined, false);\r\n\r\n                const inststatusMap = constructOptionList(response[3].data || [], \"ntranscode\",\r\n                    \"stransstatus\", undefined, undefined, false);\r\n\r\n                const sectionMap = constructOptionList(response[4].data || [], \"nsectioncode\",\r\n                    \"ssectionname\", undefined, undefined, false);\r\n\r\n                const periodMap = constructOptionList(response[5].data || [], \"nperiodcode\",\r\n                    \"speriodname\", undefined, undefined, false);\r\n\r\n                const timezoneMap = constructOptionList(response[6].data || [], \"ntimezonecode\",\r\n                    \"stimezoneid\", undefined, undefined, false);\r\n\r\n                // const validationMap={};\r\n                // const calibrationMap ={};\r\n                // const maintenanceMap ={};\r\n                let ValidationStatus =[];\r\n                let CalibrationStatus=[];\r\n                let MaintenanceStatus=[];\r\n                let CalibrationRequired =\"\";\r\n\r\n                const InstrumentCategory = instcatMap.get(\"OptionList\");\r\n                const Supplier = supplierMap.get(\"OptionList\");\r\n                const Manufacturer = manufMap.get(\"OptionList\");\r\n                const InstrumentStatus = inststatusMap.get(\"OptionList\");\r\n                const Lab = sectionMap.get(\"OptionList\");\r\n                const Period = periodMap.get(\"OptionList\");\r\n\r\n                const TimeZoneList = timezoneMap.get(\"OptionList\");\r\n                \r\n\r\n                let selectedRecord = {\"ninstrumentcatcode\": {\r\n                            \"value\": masterData.SelectedInsCat.ninstrumentcatcode,\r\n                             \"label\": masterData.SelectedInsCat.sinstrumentcatname\r\n                         }};\r\n                // let selectedRecord = {\r\n                //     \"ninstrumentcatcode\": {\r\n                //         \"value\": masterData.SelectedInsCat.ninstrumentcatcode,\r\n                //         \"label\": masterData.SelectedInsCat.sinstrumentcatname\r\n                //     },\r\n                //     \"ntzmanufdate\": {\r\n                //         \"value\": userInfo.ntimezonecode,\r\n                //         \"label\": userInfo.stimezoneid\r\n                //     },\r\n                //     //\"stzmanufdate\":userInfo.stimezoneid\r\n\r\n                //     \"ntzpodate\": {\r\n                //         \"value\": userInfo.ntimezonecode,\r\n                //         \"label\": userInfo.stimezoneid\r\n                //     },\r\n                //     \"stzpodate\": userInfo.stimezoneid,\r\n\r\n\r\n                //     \"ntzreceivedate\": {\r\n                //         \"value\": userInfo.ntimezonecode,\r\n                //         \"label\": userInfo.stimezoneid\r\n                //     },\r\n                //     \"stzreceivedate\": userInfo.stimezoneid,\r\n\r\n\r\n                //     \"ntzinstallationdate\": {\r\n                //         \"value\": userInfo.ntimezonecode,\r\n                //         \"label\": userInfo.stimezoneid\r\n                //     },\r\n                //     \"stzinstallationdate\": userInfo.stimezoneid,\r\n\r\n\r\n                //     \"ntzexpirydate\": {\r\n                //         \"value\": userInfo.ntimezonecode,\r\n                //         \"label\": userInfo.stimezoneid\r\n                //     },\r\n                //     \"stzexpirydate\": userInfo.stimezoneid\r\n                // };\r\n                let instrumentCategory = [];\r\n                let supplier = [];\r\n                let manufacturer = [];\r\n                let instrumentstatus = [];\r\n                let nwindowsperiodminusunit = [];\r\n                let nwindowsperiodplusunit = [];;\r\n                let lab = [];\r\n                let ntzmanufdate = [];\r\n                let ntzpodate = [];\r\n                let ntzreceivedate = [];\r\n                let ntzinstallationdate = [];\r\n                let ntzexpirydate = [];\r\n                let susername = [];\r\n                let service = [];\r\n                // let validation = [];\r\n                // let calibration = [];\r\n                // let maintenance = [];\r\n\r\n                //if (operation === \"create\") {\r\n                    // let date = rearrangeDateFormat(userInfo, response[8].data);\r\n                    // selectedRecord[\"dmanufacdate\"] = date; //new Date(response[8].data);\r\n                    // selectedRecord[\"dpodate\"] = date;\r\n                    // selectedRecord[\"dreceiveddate\"] = date;\r\n                    // selectedRecord[\"dinstallationdate\"] = date;\r\n                    // currentTime = date;\r\n                    // if (response[7].data[\"ExpiryDate\"] !== \"\") {\r\n                    //     expiryDate = rearrangeDateFormat(userInfo, response[7].data[\"ExpiryDate\"]); //new Date(response[7].data[\"ExpiryDate\"]);\r\n                    //     selectedRecord[\"dexpirydate\"] = expiryDate;\r\n                    // }\r\n             //   }\r\n                if (operation === \"update\") {\r\n                    selectedRecord = response[7].data;\r\n                    instrumentCategory.push({\r\n                        \"value\": response[7].data[\"ninstrumentcatcode\"],\r\n                        \"label\": response[7].data[\"sinstrumentcatname\"]\r\n                    });\r\n                    supplier.push({\r\n                        \"value\": response[7].data[\"nsuppliercode\"],\r\n                        \"label\": response[7].data[\"ssuppliername\"]\r\n                    });\r\n                    service.push({\r\n                        \"value\": response[7].data[\"nservicecode\"],\r\n                        \"label\": response[7].data[\"sserviceby\"]\r\n                    });\r\n                    manufacturer.push({\r\n                        \"value\": response[7].data[\"nmanufcode\"],\r\n                        \"label\": response[7].data[\"smanufname\"]\r\n                    });\r\n                    instrumentstatus.push({\r\n                        \"value\": response[7].data[\"ntranscode\"],\r\n                        \"label\": response[7].data[\"sactivestatus\"]\r\n                    });\r\n                    nwindowsperiodminusunit.push({\r\n                        \"value\": response[7].data[\"nwindowsperiodminusunit\"],\r\n                        \"label\": response[7].data[\"swindowsperiodminusunit\"]\r\n                    });\r\n                    nwindowsperiodplusunit.push({\r\n                        \"value\": response[7].data[\"nwindowsperiodplusunit\"],\r\n                        \"label\": response[7].data[\"swindowsperiodplusunit\"]\r\n                    });\r\n                    lab.push({\r\n                        \"value\": response[7].data[\"nsectioncode\"],\r\n                        \"label\": response[7].data[\"ssectionname\"]\r\n                    })\r\n                    ntzmanufdate.push({\r\n                        \"value\": response[7].data[\"ntzmanufdate\"],\r\n                        \"label\": response[7].data[\"stzmanufdate\"]\r\n                    })\r\n                    ntzpodate.push({\r\n                        \"value\": response[7].data[\"ntzpodate\"],\r\n                        \"label\": response[7].data[\"stzpodate\"]\r\n                    })\r\n                    ntzreceivedate.push({\r\n                        \"value\": response[7].data[\"ntzreceivedate\"],\r\n                        \"label\": response[7].data[\"stzreceivedate\"]\r\n                    })\r\n                    ntzinstallationdate.push({\r\n                        \"value\": response[7].data[\"ntzinstallationdate\"],\r\n                        \"label\": response[7].data[\"stzinstallationdate\"]\r\n                    })\r\n                    ntzexpirydate.push({\r\n                        \"value\": response[7].data[\"ntzexpirydate\"],\r\n                        \"label\": response[7].data[\"stzexpirydate\"]\r\n                    })\r\n                    susername.push({\r\n                        \"value\": response[7].data[\"nusercode1\"],\r\n                        \"label\": response[7].data[\"susername\"]\r\n                    })\r\n                    // validation.push({\r\n                    //     \"value\": response[8].data[\"ntranscode\"],\r\n                    //     \"label\": response[8].data[\"stransdisplaystatus\"]\r\n                    // })\r\n                    // calibration.push({\r\n                    //     \"value\": response[9].data[\"ntranscode\"],\r\n                    //     \"label\": response[9].data[\"stransdisplaystatus\"]\r\n                    // })\r\n                    // maintenance.push({\r\n                    //     \"value\": response[10].data[\"ntranscode\"],\r\n                    //     \"label\": response[10].data[\"stransdisplaystatus\"]\r\n                    // })\r\n                    if (response[7].data[\"smanufacdate\"] !== \"\") {\r\n\r\n                        selectedRecord[\"dmanufacdate\"] = rearrangeDateFormat(userInfo, response[7].data[\"smanufacdate\"]); //new Date(response[7].data[\"smanufacdate\"]);\r\n                    }\r\n\r\n                    if (response[7].data[\"spodate\"] !== \"\") {\r\n                        selectedRecord[\"dpodate\"] = rearrangeDateFormat(userInfo, response[7].data[\"spodate\"]); //new Date(response[7].data[\"spodate\"]);\r\n                    }\r\n                    // else{\r\n                    //     selectedRecord[\"dpodate\"] = \" \";\r\n                    // }\r\n\r\n                    if (response[7].data[\"sreceiveddate\"] !== \"\") {\r\n                        selectedRecord[\"dreceiveddate\"] = rearrangeDateFormat(userInfo, response[7].data[\"sreceiveddate\"]); //new Date(response[7].data[\"sreceiveddate\"]);\r\n                    }\r\n                    if (response[7].data[\"sinstallationdate\"] !== \"\") {\r\n                        selectedRecord[\"dinstallationdate\"] = rearrangeDateFormat(userInfo, response[7].data[\"sinstallationdate\"]); //new Date(response[7].data[\"sinstallationdate\"]);\r\n                    }\r\n\r\n                    if (response[7].data[\"sexpirydate\"] !== \"\") {\r\n                        selectedRecord[\"dexpirydate\"] = rearrangeDateFormat(userInfo, response[7].data[\"sexpirydate\"]); //new Date(response[7].data[\"sexpirydate\"]);\r\n                    }\r\n\r\n\r\n                    selectedRecord[\"ninstrumentcatcode\"] = instrumentCategory[0];\r\n                    selectedRecord[\"nsuppliercode\"] = supplier[0];\r\n                    selectedRecord[\"nservicecode\"] = service[0];\r\n                    if (manufacturer[0].value !== -1)\r\n                        selectedRecord[\"nmanufcode\"] = manufacturer[0];\r\n                    if (instrumentstatus[0].value !== -1)\r\n                        selectedRecord[\"ntranscode\"] = instrumentstatus[0];\r\n                    if (nwindowsperiodminusunit[0].value !== -1)\r\n                        selectedRecord[\"nwindowsperiodminusunit\"] = nwindowsperiodminusunit[0];\r\n                    if (nwindowsperiodplusunit[0].value !== -1)\r\n                        selectedRecord[\"nwindowsperiodplusunit\"] = nwindowsperiodplusunit[0];\r\n                    selectedRecord[\"nsectioncode\"] = lab[0];\r\n                    selectedRecord[\"ntzmanufdate\"] = ntzmanufdate[0];\r\n                    selectedRecord[\"stzmanufdate\"] = ntzmanufdate[0].label;\r\n                    selectedRecord[\"ntzpodate\"] = ntzpodate[0];\r\n                    selectedRecord[\"stzpodate\"] = ntzpodate[0].label;\r\n                    selectedRecord[\"ntzreceivedate\"] = ntzreceivedate[0];\r\n                    selectedRecord[\"stzreceivedate\"] = ntzreceivedate[0].label;\r\n                    selectedRecord[\"ntzinstallationdate\"] = ntzinstallationdate[0];\r\n                    selectedRecord[\"stzinstallationdate\"] = ntzinstallationdate[0].label;\r\n                    selectedRecord[\"ntzexpirydate\"] = ntzexpirydate[0];\r\n                    selectedRecord[\"stzexpirydate\"] = ntzexpirydate[0].label;\r\n                    selectedRecord[\"susername\"] = susername[0];\r\n                  //  selectedRecord[\"ntranscode\"] = validation[0];\r\n                 //  selectedRecord[\"ntranscode\"] = calibration[0];\r\n               //     selectedRecord[\"ntranscode\"] = maintenance[0];\r\n\r\n                }\r\n                else{\r\n                    const validationMap = constructOptionList(response[9].data.ValidationStatus || [], \"ntranscode\",\r\n                    \"stransstatus\", undefined, undefined, false);\r\n\r\n                    const calibrationMap = constructOptionList(response[10].data.CalibrationStatus || [], \"ntranscode\",\r\n                    \"stransstatus\", undefined, undefined, false);\r\n\r\n                    const maintenanceMap = constructOptionList(response[11].data.MaintenanceStatus || [], \"ntranscode\",\r\n                    \"stransstatus\", undefined, undefined, false);\r\n\r\n                    CalibrationRequired =response[12].data.ncalibrationrequired;\r\n\r\n                 ValidationStatus = validationMap.get(\"OptionList\");\r\n                 CalibrationStatus = calibrationMap.get(\"OptionList\");\r\n                 MaintenanceStatus = maintenanceMap.get(\"OptionList\");\r\n\r\n                   const timezone=  TimeZoneList.filter(x=>x.value===userInfo.ntimezonecode);\r\n\r\n                   selectedRecord[\"ntzmanufdate\"] = timezone[0];\r\n                  // selectedRecord[\"stzmanufdate\"] = ntzmanufdate[0].label;\r\n                   selectedRecord[\"ntzpodate\"] = timezone[0];\r\n                  // selectedRecord[\"stzpodate\"] = ntzpodate[0].label;\r\n                   selectedRecord[\"ntzreceivedate\"] = timezone[0];\r\n                  // selectedRecord[\"stzreceivedate\"] = ntzreceivedate[0].label;\r\n                   selectedRecord[\"ntzinstallationdate\"] = timezone[0];\r\n                  // selectedRecord[\"stzinstallationdate\"] = ntzinstallationdate[0].label;\r\n                   selectedRecord[\"ntzexpirydate\"] = timezone[0];\r\n                   //selectedRecord[\"stzexpirydate\"] = ntzexpirydate[0].label;\r\n\r\n\r\n                   let date = rearrangeDateFormat(userInfo, response[8].data);\r\n                     selectedRecord[\"dclosedate\"] = date; \r\n                     selectedRecord[\"dopendate\"] = date;\r\n                     selectedRecord[\"dlastcalibrationdate\"] = date; \r\n                     selectedRecord[\"dlastmaintenancedate\"] = date;\r\n                     selectedRecord[\"dduedate\"] = date; \r\n                     selectedRecord[\"dvalidationdate\"] = date;\r\n\r\n                     selectedRecord[\"ntzclosedate\"] = timezone[0]; \r\n                     selectedRecord[\"ntzopendate\"] = timezone[0];\r\n                     selectedRecord[\"ntzlastcalibrationdate\"] = timezone[0]; \r\n                     selectedRecord[\"ntzlastmaintenancedate\"] = timezone[0];\r\n                     selectedRecord[\"ntzduedate\"] = timezone[0]; \r\n                     selectedRecord[\"ntzvalidationdate\"] = timezone[0];\r\n\r\n                }\r\n               \r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        InstrumentCategory,\r\n                        Supplier,\r\n                        Manufacturer,\r\n                        InstrumentStatus,\r\n                        instrumentCategory: instrumentCategory,\r\n                        supplier: supplier,\r\n                        manufacturer: manufacturer,\r\n                        Lab,\r\n                        Period,\r\n                        TimeZoneList,\r\n                        ValidationStatus,\r\n                        CalibrationStatus,\r\n                        MaintenanceStatus,\r\n                        CalibrationRequired,\r\n                        isOpen: true,\r\n                        selectedRecord: selectedRecord,\r\n                        operation: operation,\r\n                        screenName: screenName,\r\n                        openModal: true,\r\n                        ncontrolCode: ncontrolCode,\r\n                        loading: false,\r\n                        currentTime,\r\n                        expiryDate\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            toast.warn(intl.formatMessage({ id: \"IDS_INSTRUMENTCATEGORYNOTAVALIABLE\"}));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function getSectionUsers(nsectioncode, userInfo, selectedRecord, screenName) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"instrument/getSectionBasedUser\", {\r\n                \"nsectioncode\": nsectioncode\r\n            }, {\r\n                userinfo: userInfo\r\n            })\r\n            .then(response => {\r\n                //console.log(\" response:\", response); \r\n                let Users = [];\r\n                if (screenName === \"IDS_SECTION\") {\r\n                    //let sectionusers=[];\r\n                    const userName = constructOptionList(response.data || [], \"nusercode\",\r\n                        \"susername\", undefined, undefined, false);\r\n                    Users = userName.get(\"OptionList\");\r\n                    //selectedRecord[\"nusercode\"]=\"\";\r\n                    selectedRecord[\"nusercode\"] = undefined; //{label:SectionUsers[0].label,value:SectionUsers[0].value,item:SectionUsers[0]};\r\n                } else {\r\n                    Users = response.data;\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        Users,\r\n                        selectedRecord,\r\n                        loading: false\r\n\r\n                    }\r\n                });\r\n\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getCalibrationRequired(ninstrumentcatcode, userInfo, selectedRecord, screenName) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"instrument/getCalibrationRequired\", {\r\n                \"ninstrumentcatcode\": ninstrumentcatcode,userinfo: userInfo})\r\n            .then(response => {\r\n                let CalibrationRequired = [];\r\n                CalibrationRequired=response.data.ncalibrationrequired\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        CalibrationRequired,\r\n                        selectedRecord,\r\n                        loading: false\r\n\r\n                    }\r\n                });\r\n\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function getInstrumentDetail(Instrument, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"instrument/getInstrument\", {\r\n                ninstrumentcode: Instrument.ninstrumentcode,\r\n                userinfo: userInfo\r\n            })\r\n            .then(response => {\r\n                masterData = {\r\n                    ...masterData,\r\n                    ...response.data\r\n                };\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        operation: null,\r\n                        modalName: undefined,\r\n                        loading: false,\r\n                        dataState: undefined\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const getAvailableInstData = (instItem, url, key, screenName, userInfo, ncontrolCode, selectedRecord) => {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let url = ''\r\n\r\n        url = \"/instrument/getUsers\";\r\n\r\n        return rsapi.post(url, {\r\n                \"userinfo\": userInfo\r\n            })\r\n            .then(response => {\r\n\r\n                const secMap = constructOptionList(response.data.Section || [], \"nsectioncode\",\r\n                    \"ssectionname\", undefined, undefined, false);\r\n                const userMap = constructOptionList(response.data.Users || [], \"nusercode\",\r\n                    \"susername\", undefined, undefined, false);\r\n                const Lab = secMap.get(\"OptionList\");\r\n                const LabDefault = secMap.get(\"DefaultValue\");\r\n                if (LabDefault !== undefined) {\r\n                    selectedRecord = {\r\n                        \"nsectioncode\": {\r\n                            \"value\": LabDefault.value,\r\n                            \"label\": LabDefault.label\r\n                        },\r\n                    }\r\n                }\r\n                const Users = userMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n\r\n                        Lab,\r\n                        Users,\r\n                        isOpen: true,\r\n                        selectedRecord,\r\n                        operation: \"create\",\r\n                        screenName: screenName,\r\n                        // openModal: true,\r\n                        openChildModal: true,\r\n                        ncontrolCode: ncontrolCode,\r\n                        instItem: instItem,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 417) {\r\n                    toast.info(error.response.data)\r\n                } else {\r\n                    toast.error(error.message)\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const changeInstrumentCategoryFilter = (inputParam, filterInstrumentCategory) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/instrument/get\" + inputParam.methodUrl, inputParam.inputData)\r\n            .then(response => {\r\n                //const masterData = response.data\r\n                const masterData = {...inputParam.masterData,...response.data}\r\n                sortData(masterData);\r\n                    \r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        dataState: undefined,\r\n                        masterData: {\r\n                            ...masterData,\r\n                            filterInstrumentCategory,\r\n                            nfilterInstrumentCategory: inputParam.inputData.nfilterInstrumentCategory\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\nexport const addInstrumentFile = (inputParam) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        let urlArray = [rsapi.post(\"/linkmaster/getLinkMaster\", {\r\n            userinfo: inputParam.userInfo\r\n        })];\r\n        if (inputParam.operation === \"update\") {\r\n        urlArray.push(rsapi.post(\"/instrument/editInstrumentFile\", {\r\n            userinfo: inputParam.userInfo,\r\n            Instrumentfile: inputParam.selectedRecord\r\n        }))\r\n    }\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                // let selectedRecord = {};\r\n                // let editObject = {};\r\n                // let operation = \"update\";\r\n                // editObject = response[0].data;\r\n\r\n\r\n                const linkMap = constructOptionList(response[0].data.LinkMaster, \"nlinkcode\", \"slinkname\", false, false, true);\r\n                const linkmaster = linkMap.get(\"OptionList\");\r\n                let selectedRecord = {};\r\n                const defaultLink = linkmaster.filter(items => items.item.ndefaultlink === transactionStatus.YES);\r\n                let disabled = false;\r\n                let editObject = {};\r\n                if (inputParam.operation === \"update\") {\r\n                    editObject = response[1].data;\r\n                    let nlinkcode = {};\r\n                    let link = {};\r\n                    if (editObject.nattachmenttypecode === attachmentType.LINK) {\r\n                        nlinkcode = {\r\n                            \"label\": editObject.slinkname,\r\n                            \"value\": editObject.nlinkcode\r\n                        }\r\n\r\n                        link = {\r\n                            slinkfilename:editObject.sfilename,\r\n                            slinkdescription:editObject.sfiledesc,\r\n                            nlinkdefaultstatus:editObject.ndefaultstatus,\r\n                            sfilesize:'',\r\n                            nfilesize:0,\r\n                            ndefaultstatus:4,\r\n                            sfilename:'',\r\n                        }\r\n\r\n                    } else {\r\n                        nlinkcode = defaultLink.length > 0 ? defaultLink[0] : \"\" //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\"\r\n                        link = {\r\n                            slinkfilename:'',\r\n                            slinkdescription:'',\r\n                            nlinkdefaultstatus:4,\r\n                            sfiledesc: editObject.sfiledesc,\r\n                            sfilesize:editObject.sfilesize,\r\n                            nfilesize:editObject.nfilesize,\r\n                            ndefaultstatus:editObject.ndefaultstatus,\r\n                            sfilename:editObject.sfilename,\r\n                            ssystemfilename:editObject.ssystemfilename\r\n                        }\r\n                    }\r\n\r\n\r\n\r\n                    selectedRecord = {\r\n                        ninstrumentfilecode: editObject.ninstrumentfilecode,\r\n                        // sfiledesc: editObject.sfiledesc,\r\n    \r\n                        // sfilename: editObject.sfilename,\r\n                        // sdescription: editObject.sdescription,\r\n                        // ssystemfilename: editObject.ssystemfilename,\r\n                        nattachmenttypecode:editObject.nattachmenttypecode,\r\n                        ...link, \r\n                        //...editObject,\r\n                        nlinkcode,\r\n                    };\r\n                } else {\r\n                    selectedRecord = {\r\n                        nattachmenttypecode:response[0].data.AttachmentType.length>0?\r\n                        response[0].data.AttachmentType[0].nattachmenttypecode:attachmentType.FTP,\r\n                        nlinkcode: defaultLink.length > 0 ? defaultLink[0] : \"\", //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\r\n                        disabled\r\n                    };\r\n                }\r\n\r\n                // selectedRecord = {\r\n                //     ninstrumentfilecode: editObject.ninstrumentfilecode,\r\n                //     sfiledesc: editObject.sfiledesc,\r\n\r\n                //     sfilename: editObject.sfilename,\r\n                //     sdescription: editObject.sdescription,\r\n                //     ssystemfilename: editObject.ssystemfilename\r\n                // };\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        // openModal: true,\r\n                        openChildModal: true,\r\n                        operation: inputParam.operation,\r\n                        screenName: inputParam.screenName,\r\n                        ncontrolCode: inputParam.ncontrolCode,\r\n                        selectedRecord,\r\n                        loading: false,\r\n                        linkMaster: linkmaster,\r\n                        showSaveContinue: false,\r\n                        editFiles: editObject.nattachmenttypecode === \"1\" ? editObject : {}\r\n\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const getDataForAddEditValidation = (screenName, operation, userInfo, ncontrolCode, selectedRecord, masterData, primaryKeyName) => {\r\n    return function (dispatch) {\r\n        let urlArray = [];\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", {userinfo: userInfo});\r\n        const validationStatusService = rsapi.post(\"instrument/getInstrumentValidationStatus\", {\"userinfo\": userInfo});\r\n\r\n        if (operation === \"create\") {\r\n            urlArray = [validationStatusService, UTCtimeZoneService, timeZoneService];\r\n\r\n        } else {\r\n            const ValidationById = rsapi.post(\"instrument/getActiveInstrumentValidationById\", {\r\n                [primaryKeyName]: masterData.selectedInstrumentValidation.ninstrumentvalidationcode,\r\n                \"userinfo\": userInfo\r\n            });\r\n            urlArray = [validationStatusService, UTCtimeZoneService, timeZoneService, ValidationById];\r\n\r\n        }\r\n\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let selectedRecord = {};\r\n                let ValidationData = [];\r\n\r\n\r\n                const validationMap = constructOptionList(response[0].data.ValidationStatus || [], \"ntranscode\",\r\n                    \"stransstatus\", undefined, undefined, false);\r\n\r\n                const ValidationStatus = validationMap.get(\"OptionList\");\r\n\r\n                let ntzvalidationdate = [];\r\n                const timezoneMap = constructOptionList(response[2].data || [], \"ntimezonecode\",\r\n                    \"stimezoneid\", undefined, undefined, false);\r\n\r\n                const TimeZoneList = timezoneMap.get(\"OptionList\");\r\n                if (operation === \"create\") {\r\n                     selectedRecord = {\r\n                        \"ntzvalidationdate\": {\r\n                            \"value\": userInfo.ntimezonecode,\r\n                            \"label\": userInfo.stimezoneid\r\n                        },\r\n                        \"stzvalidationdate\": userInfo.stimezoneid,\r\n                    };\r\n                    let date = rearrangeDateFormat(userInfo, response[1].data);\r\n                    selectedRecord[\"dvalidationdate\"] = date;\r\n\r\n                }\r\n                if (operation === \"update\") {\r\n\r\n                    ValidationData.push({\r\n                        \"value\": response[3].data[\"nvalidationstatus\"],\r\n                        \"label\": response[3].data[\"stransdisplaystatus\"]\r\n                    });\r\n                    selectedRecord = response[3].data;\r\n                    selectedRecord[\"ntranscode\"] = ValidationData[0];\r\n\r\n                    ntzvalidationdate.push({\r\n                        \"value\": response[3].data[\"ntzvalidationdate\"],\r\n                        \"label\": response[3].data[\"stzvalidationdate\"]\r\n                    });\r\n                    selectedRecord[\"ntzvalidationdate\"] = ntzvalidationdate[0];\r\n                    if (response[3].data[\"svalidationdate\"] !== \"\") {\r\n\r\n                        selectedRecord[\"dvalidationdate\"] = rearrangeDateFormat(userInfo, response[3].data[\"svalidationdate\"]); //new Date(response[7].data[\"smanufacdate\"]);\r\n                    }\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        ValidationStatus,\r\n                        TimeZoneList,\r\n                        selectedRecord: selectedRecord,\r\n                        isOpen: true,\r\n                        operation: operation,\r\n                        screenName: screenName,\r\n                        // openModal: true,\r\n                        openChildModal: true,\r\n                        ncontrolCode: ncontrolCode,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}\r\nexport const getDataForAddEditCalibration = (screenName, operation, userInfo, ncontrolCode, selectedRecord, masterData, primaryKeyName) => {\r\n    return function (dispatch) {\r\n        let urlArray = [];\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n     \r\n        const calibrationStatusService = rsapi.post(\"instrument/getInstrumentCalibrationStatus\", {\r\n            \"userinfo\": userInfo\r\n        });\r\n        const LastCalibrationDateService =\r\n        rsapi.post(\"instrument/getInstrumentLastCalibrationDate\", {\r\n            \"userinfo\": userInfo,\r\n            ninstrumentcode: masterData.selectedInstrument.ninstrumentcode\r\n\r\n        });\r\n        if (operation === \"create\") {\r\n            const calibrationValidationService = rsapi.post(\"instrument/getInstrumentCalibrationValidation\", {\r\n                \"userinfo\": userInfo,\r\n                nFlag: 1,\r\n                ninstrumentcode: masterData.selectedInstrument.ninstrumentcode\r\n            });\r\n           \r\n            urlArray = [calibrationStatusService, LastCalibrationDateService, timeZoneService, calibrationValidationService];\r\n\r\n        } else {\r\n            const calibrationValidationService = rsapi.post(\"instrument/getInstrumentCalibrationValidation\", {\r\n                \"userinfo\": userInfo,\r\n                nFlag: 2,\r\n                ninstrumentcalibrationcode: masterData.selectedInstrumentCalibration.ninstrumentcalibrationcode,\r\n                ninstrumentcode: masterData.selectedInstrumentCalibration.ninstrumentcode\r\n\r\n            });\r\n\r\n            const CalibrationById = rsapi.post(\"instrument/getActiveInstrumentCalibrationById\", {\r\n                [primaryKeyName]: masterData.selectedInstrumentCalibration.ninstrumentcalibrationcode,\r\n                \"userinfo\": userInfo\r\n            });\r\n\r\n            urlArray = [calibrationStatusService, LastCalibrationDateService, timeZoneService, calibrationValidationService, CalibrationById];\r\n\r\n        }\r\n\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let CalibrationStatus = [];\r\n                let TimeZoneList = [];\r\n                if (response[3].data.OpenCloseStatus === \"Success\") {\r\n                    let selectedRecord = {};\r\n                    let CalibrationData = [];\r\n\r\n\r\n                    const calibrationMap = constructOptionList(response[0].data.CalibrationStatus || [], \"ntranscode\",\r\n                        \"stransstatus\", undefined, undefined, false);\r\n\r\n                    CalibrationStatus = calibrationMap.get(\"OptionList\");\r\n                    let Action;\r\n                    let ntzlastcalibrationdate = [];\r\n                    let ntzduedate = [];\r\n                    const timezoneMap = constructOptionList(response[2].data || [], \"ntimezonecode\",\r\n                        \"stimezoneid\", undefined, undefined, false);\r\n\r\n                    TimeZoneList = timezoneMap.get(\"OptionList\");\r\n                    if (operation === \"create\") {\r\n                        selectedRecord = {\r\n                            \"ntzlastcalibrationdate\": {\r\n                                \"value\": userInfo.ntimezonecode,\r\n                                \"label\": userInfo.stimezoneid\r\n                            },\r\n                            \"stzlastcalibrationdate\": userInfo.stimezoneid,\r\n\r\n                            \"ntzduedate\": {\r\n                                \"value\": userInfo.ntimezonecode,\r\n                                \"label\": userInfo.stimezoneid\r\n                            },\r\n                            \"stzduedate\": userInfo.stimezoneid\r\n                        };\r\n                        let date = rearrangeDateFormat(userInfo, response[1].data.date);\r\n                        selectedRecord[\"dlastcalibrationdate\"] = date;\r\n                        selectedRecord[\"dduedate\"] = rearrangeDateFormat(userInfo, new Date());\r\n                        Action = 'Add';\r\n\r\n                    }\r\n                    if (operation === \"update\") {\r\n                        Action = 'Edit';\r\n\r\n                        CalibrationData.push({\r\n                            \"value\": response[4].data[\"ncalibrationstatus\"],\r\n                            \"label\": response[4].data[\"stransdisplaystatus\"]\r\n                        });\r\n                        selectedRecord = response[4].data;\r\n                        selectedRecord[\"ntranscode\"] = CalibrationData[0];\r\n\r\n                        ntzlastcalibrationdate.push({\r\n                            \"value\": response[4].data[\"ntzlastcalibrationdate\"],\r\n                            \"label\": response[4].data[\"stzlastcalibrationdate\"]\r\n                        });\r\n                        ntzduedate.push({\r\n                            \"value\": response[4].data[\"ntzduedate\"],\r\n                            \"label\": response[4].data[\"stzduedate\"]\r\n                        });\r\n                        selectedRecord[\"ntzlastcalibrationdate\"] = ntzlastcalibrationdate[0];\r\n                        selectedRecord[\"ntzduedate\"] = ntzduedate[0];\r\n                        if (response[4].data[\"slastcalibrationdate\"] !== \"\") {\r\n\r\n                            selectedRecord[\"dlastcalibrationdate\"] = rearrangeDateFormat(userInfo, response[4].data[\"slastcalibrationdate\"]);\r\n                        }\r\n                        if (response[4].data[\"sduedate\"] !== \"\") {\r\n\r\n                            selectedRecord[\"dduedate\"] = rearrangeDateFormat(userInfo, response[4].data[\"sduedate\"]);\r\n                        }\r\n\r\n                    }\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            CalibrationStatus,\r\n                            Action: Action,\r\n                            TimeZoneList,\r\n                            selectedRecord: selectedRecord,\r\n                            isOpen: true,\r\n                            operation: operation,\r\n                            screenName: screenName,\r\n                            // openModal: true,\r\n                            openChildModal: true,\r\n                            ncontrolCode: ncontrolCode,\r\n                            loading: false,\r\n                            popUp:\"\"\r\n                        }\r\n                    });\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: response[3].data.Status\r\n                    }));\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: { \r\n                            operation: operation,\r\n                            screenName: screenName,\r\n                            ncontrolCode: ncontrolCode,\r\n                            loading: false\r\n                        }\r\n                    });\r\n\r\n                }\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const getTabDetails = (inputParam) => {\r\n    return function (dispatch) {\r\n\r\n        const instrumentValidation = inputParam.instrumentValidation;\r\n        const instrumentCalibration = inputParam.instrumentCalibration;\r\n        const instrumentMaintenance = inputParam.instrumentMaintenance;\r\n        let urlArray = [];\r\n        dispatch(initRequest(true));\r\n        if (inputParam.screenName === \"IDS_INSTRUMENTVALIDATION\") {\r\n            urlArray.push(rsapi.post(\"/instrument/getothertabdetails\", {\r\n                ninstrumentcode: instrumentValidation.ninstrumentcode,\r\n                \"nFlag\": inputParam.nFlag,\r\n                ninstrumentvalidationcode: instrumentValidation.ninstrumentvalidationcode,\r\n                userinfo: inputParam.userInfo\r\n            }))\r\n        } else if (inputParam.screenName === \"IDS_INSTRUMENTCALIBRATION\") {\r\n            urlArray.push(rsapi.post(\"/instrument/getothertabdetails\", {\r\n                ninstrumentcode: instrumentCalibration.ninstrumentcode,\r\n                \"nFlag\": inputParam.nFlag,\r\n                ninstrumentcalibrationcode: instrumentCalibration.ninstrumentcalibrationcode,\r\n                userinfo: inputParam.userInfo\r\n            }))\r\n        } else if (inputParam.screenName === \"IDS_INSTRUMENTMAINTENANCE\") {\r\n            urlArray.push(rsapi.post(\"/instrument/getothertabdetails\", {\r\n                ninstrumentcode: instrumentMaintenance.ninstrumentcode,\r\n                \"nFlag\": inputParam.nFlag,\r\n                ninstrumentmaintenancecode: instrumentMaintenance.ninstrumentmaintenancecode,\r\n                userinfo: inputParam.userInfo\r\n            }))\r\n        }\r\n\r\n        Axios.all(urlArray)\r\n\r\n            .then(response => {\r\n                let masterData = inputParam.masterData\r\n                masterData = {\r\n                    ...masterData,\r\n                    ...response[0].data\r\n                };\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const getDataForAddEditMaintenance = (screenName, operation, userInfo, ncontrolCode, selectedRecord, masterData, primaryKeyName) => {\r\n    return function (dispatch) {\r\n        let urlArray = [];\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        \r\n        const LastMaintenanceDateService =\r\n                rsapi.post(\"instrument/getInstrumentLastMaintenanceDate\", {\r\n                    \"userinfo\": userInfo,\r\n                    ninstrumentcode: masterData.selectedInstrument.ninstrumentcode\r\n        });\r\n        \r\n        const maintenanceStatusService = rsapi.post(\"instrument/getInstrumentMaintenanceStatus\", {\r\n            \"userinfo\": userInfo  \r\n         });\r\n\r\n        if (operation === \"create\") {\r\n            const maintenanceValidationService = rsapi.post(\"instrument/getInstrumentMaintenanceValidation\", {\r\n                \"userinfo\": userInfo,\r\n                nFlag: 1,\r\n                ninstrumentcode: masterData.selectedInstrument.ninstrumentcode\r\n            });\r\n\r\n            urlArray = [maintenanceStatusService, LastMaintenanceDateService, timeZoneService, maintenanceValidationService];\r\n\r\n        } else {\r\n            const maintenanceValidationService = rsapi.post(\"instrument/getInstrumentMaintenanceValidation\", {\r\n                \"userinfo\": userInfo,\r\n                nFlag: 2,\r\n                ninstrumentmaintenancecode: masterData.selectedInstrumentMaintenance.ninstrumentmaintenancecode,\r\n                ninstrumentcode: masterData.selectedInstrumentMaintenance.ninstrumentcode\r\n            });\r\n\r\n            const MaintenanceById = rsapi.post(\"instrument/getActiveInstrumentMaintenanceById\", {\r\n                [primaryKeyName]: masterData.selectedInstrumentMaintenance.ninstrumentmaintenancecode,\r\n                \"userinfo\": userInfo\r\n            });\r\n\r\n            urlArray = [maintenanceStatusService, LastMaintenanceDateService, timeZoneService, maintenanceValidationService, MaintenanceById];\r\n\r\n        }\r\n\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let MaintenanceStatus = [];\r\n                let TimeZoneList = [];\r\n                if (response[3].data.OpenCloseStatus === \"Success\") {\r\n                    let selectedRecord = {};\r\n                    let MaintenanceData = [];\r\n\r\n                    const maintenanceMap = constructOptionList(response[0].data.MaintenanceStatus || [], \"ntranscode\",\r\n                        \"stransstatus\", undefined, undefined, false);\r\n\r\n                        MaintenanceStatus = maintenanceMap.get(\"OptionList\");\r\n                    let Action;\r\n                    let ntzlastmaintenancedate = [];\r\n                    let ntzduedate = [];\r\n                    const timezoneMap = constructOptionList(response[2].data || [], \"ntimezonecode\",\r\n                        \"stimezoneid\", undefined, undefined, false);\r\n\r\n                    TimeZoneList = timezoneMap.get(\"OptionList\");\r\n                    if (operation === \"create\") {\r\n                        selectedRecord = {\r\n                            \"ntzlastmaintenancedate\": {\r\n                                \"value\": userInfo.ntimezonecode,\r\n                                \"label\": userInfo.stimezoneid\r\n                            },\r\n                            \"stzlastmaintenancedate\": userInfo.stimezoneid,\r\n\r\n                            \"ntzduedate\": {\r\n                                \"value\": userInfo.ntimezonecode,\r\n                                \"label\": userInfo.stimezoneid\r\n                            },\r\n                            \"stzduedate\": userInfo.stimezoneid\r\n                        };\r\n                        let date = rearrangeDateFormat(userInfo, response[1].data.date);\r\n                        selectedRecord[\"dlastmaintenancedate\"] = date;\r\n                        selectedRecord[\"dduedate\"] = rearrangeDateFormat(userInfo, new Date());\r\n                        Action = 'Add';\r\n\r\n                    }\r\n                    if (operation === \"update\") {\r\n                        Action = 'Edit';\r\n\r\n                        MaintenanceData.push({\r\n                            \"value\": response[4].data[\"nmaintenancestatus\"],\r\n                            \"label\": response[4].data[\"stransdisplaystatus\"]\r\n                        });\r\n                        selectedRecord = response[4].data;\r\n                        selectedRecord[\"ntranscode\"] = MaintenanceData[0];\r\n\r\n                        ntzlastmaintenancedate.push({\r\n                            \"value\": response[4].data[\"ntzlastmaintenancedate\"],\r\n                            \"label\": response[4].data[\"stzlastmaintenancedate\"]\r\n                        });\r\n                        ntzduedate.push({\r\n                            \"value\": response[4].data[\"ntzduedate\"],\r\n                            \"label\": response[4].data[\"stzduedate\"]\r\n                        });\r\n                        selectedRecord[\"ntzlastmaintenancedate\"] = ntzlastmaintenancedate[0];\r\n                        selectedRecord[\"ntzduedate\"] = ntzduedate[0];\r\n                        if (response[4].data[\"slastmaintenancedate\"] !== \"\") {\r\n\r\n                            selectedRecord[\"dlastmaintenancedate\"] = rearrangeDateFormat(userInfo, response[4].data[\"slastmaintenancedate\"]); //new Date(response[7].data[\"smanufacdate\"]);\r\n                        }\r\n                        if (response[4].data[\"sduedate\"] !== \"\") {\r\n\r\n                            selectedRecord[\"dduedate\"] = rearrangeDateFormat(userInfo, response[4].data[\"sduedate\"]); //new Date(response[7].data[\"smanufacdate\"]);\r\n                        }\r\n\r\n                    }\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            MaintenanceStatus,\r\n                            Action: Action,\r\n                            TimeZoneList,\r\n                            selectedRecord: selectedRecord,\r\n                            isOpen: true,\r\n                            operation: operation,\r\n                            screenName: screenName,\r\n                            // openModal: true,\r\n                            openChildModal: true,\r\n                            ncontrolCode: ncontrolCode,\r\n                            loading: false,\r\n                            popUp:\"\"\r\n                        }\r\n                    });\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: response[3].data.Status\r\n                    }));\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {  \r\n                            operation: operation,\r\n                            screenName: screenName,\r\n                            ncontrolCode: ncontrolCode,\r\n                            loading: false\r\n                        }\r\n                    });\r\n\r\n                }\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const OpenDate = (screenName, userInfo, ncontrolCode, selectedRecord, masterData) => {\r\n    return function (dispatch) {\r\n        let urlArray = [];\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", {\r\n            userinfo: userInfo\r\n        });\r\n\r\n        if (screenName === \"IDS_INSTRUMENTCALIBRATION\") {\r\n            const calibrationValidationService = rsapi.post(\"instrument/getInstrumentCalibrationValidation\", {\r\n                \"userinfo\": userInfo,\r\n                nFlag: 3,\r\n                ninstrumentcalibrationcode: masterData.selectedInstrumentCalibration.ninstrumentcalibrationcode,\r\n                ninstrumentcode: masterData.selectedInstrumentCalibration.ninstrumentcode\r\n            });\r\n\r\n            const calibrationStatusService = rsapi.post(\"instrument/getInstrumentCalibrationOpenDateStatus\", {\r\n                \"userinfo\": userInfo,\r\n                nFlag: 2,\r\n                ninstrumentcalibrationcode: masterData.selectedInstrumentCalibration.ninstrumentcalibrationcode\r\n            });\r\n            urlArray = [calibrationStatusService, timeZoneService, UTCtimeZoneService, calibrationValidationService];\r\n        } else {\r\n            const maintenanceValidationService = rsapi.post(\"instrument/getInstrumentMaintenanceValidation\", {\r\n                \"userinfo\": userInfo,\r\n                nFlag: 3,\r\n                ninstrumentmaintenancecode: masterData.selectedInstrumentMaintenance.ninstrumentmaintenancecode,\r\n                ninstrumentcode: masterData.selectedInstrumentMaintenance.ninstrumentcode\r\n            });\r\n\r\n            const maintenanceStatusService = rsapi.post(\"instrument/getInstrumentMaintenanceOpenCloseDateStatus\", {\r\n                \"userinfo\": userInfo,\r\n                nFlag: 2,\r\n                ninstrumentmaintenancecode: masterData.selectedInstrumentMaintenance.ninstrumentmaintenancecode\r\n            });\r\n            urlArray = [maintenanceStatusService, timeZoneService, UTCtimeZoneService, maintenanceValidationService];\r\n        }\r\n\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                if (response[3].data.OpenCloseStatus === \"Success\") {\r\n\r\n                    let CalibrationStatus = {};\r\n                    let MaintenanceStatus = {};\r\n\r\n                    let selectedRecord = {};\r\n                    const timezoneMap = constructOptionList(response[1].data || [], \"ntimezonecode\",\r\n                        \"stimezoneid\", undefined, undefined, false);\r\n\r\n                    const TimeZoneList = timezoneMap.get(\"OptionList\");\r\n                    selectedRecord = {\r\n                        \"ntzopendate\": {\r\n                            \"value\": userInfo.ntimezonecode,\r\n                            \"label\": userInfo.stimezoneid\r\n                        },\r\n                        \"stzopendate\": userInfo.stimezoneid,\r\n                    };\r\n                    let popUp=\"\"\r\n                    let date = rearrangeDateFormat(userInfo, response[2].data);\r\n                    selectedRecord[\"dopendate\"] = date;\r\n                    if (screenName === \"IDS_INSTRUMENTCALIBRATION\") {\r\n                        const calibrationMap = constructOptionList(response[0].data.CalibrationStatus || [], \"ntranscode\",\r\n                            \"stransstatus\", undefined, undefined, false);\r\n\r\n                        CalibrationStatus = calibrationMap.get(\"OptionList\");\r\n                     popUp=\"IDS_INSTRUMENTCALIBRATIONOPENDATE\"\r\n                        \r\n                        \r\n                    } else {\r\n                        const maintenanceMap = constructOptionList(response[0].data.MaintenanceStatus || [], \"ntranscode\",\r\n                            \"stransstatus\", undefined, undefined, false);\r\n\r\n                        MaintenanceStatus = maintenanceMap.get(\"OptionList\");\r\n                        popUp=\"IDS_INSTRUMENTMAINTENANCEOPENDATE\"\r\n\r\n                    }\r\n\r\n                    let operation = \"create\";\r\n                    let modalTitle = \"IDS_OPENDATE\";\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            isOpen: true,\r\n                            selectedRecord: selectedRecord,\r\n                            operation: operation,\r\n                            modalTitle: modalTitle,\r\n                            CalibrationStatus: CalibrationStatus,\r\n                            MaintenanceStatus: MaintenanceStatus,\r\n                            TimeZoneList: TimeZoneList,\r\n                            screenName: screenName,\r\n                            modalShow: true,\r\n                            ncontrolCode: ncontrolCode,\r\n                            popUp:popUp,\r\n                            loading: false\r\n                        }\r\n                    });\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: response[3].data.Status\r\n                    }));\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            ncontrolCode: ncontrolCode,\r\n                            loading: false\r\n                        }\r\n                    });\r\n\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}\r\nexport const CloseDate = (screenName, userInfo, ncontrolCode, selectedRecord, masterData) => {\r\n    return function (dispatch) {\r\n        let urlArray = [];\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", {\r\n            userinfo: userInfo\r\n        });\r\n\r\n        if (screenName === \"IDS_INSTRUMENTCALIBRATION\") {\r\n            const calibrationValidationService = rsapi.post(\"instrument/getInstrumentCalibrationValidation\", {\r\n                \"userinfo\": userInfo,\r\n                nFlag: 4,\r\n                ninstrumentcalibrationcode: masterData.selectedInstrumentCalibration.ninstrumentcalibrationcode,\r\n                ninstrumentcode: masterData.selectedInstrumentCalibration.ninstrumentcode\r\n            });\r\n\r\n            const calibrationStatusService = rsapi.post(\"instrument/getInstrumentCalibrationOpenDateStatus\", {\r\n                \"userinfo\": userInfo,\r\n                nFlag: 2,\r\n                ninstrumentcalibrationcode: masterData.selectedInstrumentCalibration.ninstrumentcalibrationcode\r\n            });\r\n            urlArray = [calibrationStatusService, timeZoneService, UTCtimeZoneService, calibrationValidationService];\r\n        } else {\r\n            const maintenanceValidationService = rsapi.post(\"instrument/getInstrumentMaintenanceValidation\", {\r\n                \"userinfo\": userInfo,\r\n                nFlag: 4,\r\n                ninstrumentmaintenancecode: masterData.selectedInstrumentMaintenance.ninstrumentmaintenancecode,\r\n                ninstrumentcode: masterData.selectedInstrumentMaintenance.ninstrumentcode\r\n            });\r\n\r\n            const maintenanceStatusService = rsapi.post(\"instrument/getInstrumentMaintenanceOpenCloseDateStatus\", {\r\n                \"userinfo\": userInfo,\r\n                nFlag: 2,\r\n                ninstrumentmaintenancecode: masterData.selectedInstrumentMaintenance.ninstrumentmaintenancecode\r\n            });\r\n            urlArray = [maintenanceStatusService, timeZoneService, UTCtimeZoneService, maintenanceValidationService];\r\n        }\r\n\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                if (response[3].data.OpenCloseStatus === \"Success\") {\r\n\r\n                    let CalibrationStatus = [];\r\n                    let MaintenanceStatus = {};\r\n\r\n                    let selectedRecord = {};\r\n                    \r\n                    const timezoneMap = constructOptionList(response[1].data || [], \"ntimezonecode\",\r\n                        \"stimezoneid\", undefined, undefined, false);\r\n\r\n                    const TimeZoneList = timezoneMap.get(\"OptionList\");\r\n                    selectedRecord = {\r\n                        \"ntzclosedate\": {\r\n                            \"value\": userInfo.ntimezonecode,\r\n                            \"label\": userInfo.stimezoneid\r\n                        },\r\n                        \"stzclosedate\": userInfo.stimezoneid,\r\n                    };\r\n                    let date = rearrangeDateFormat(userInfo, response[2].data);\r\n                    selectedRecord[\"dclosedate\"] = date;\r\n                    let popUp=\"\"\r\n                    if (screenName === \"IDS_INSTRUMENTCALIBRATION\") {\r\n                        const calibrationMap = constructOptionList(response[0].data.CalibrationStatus || [], \"ntranscode\",\r\n                            \"stransstatus\", undefined, undefined, false);\r\n\r\n                        CalibrationStatus = calibrationMap.get(\"OptionList\");\r\n\r\n                        popUp=\"IDS_INSTRUMENTCALIBRATIONCLOSEDATE\"\r\n                    } else {\r\n                        const maintenanceMap = constructOptionList(response[0].data.MaintenanceStatus || [], \"ntranscode\",\r\n                            \"stransstatus\", undefined, undefined, false);\r\n\r\n                        MaintenanceStatus = maintenanceMap.get(\"OptionList\");\r\n\r\n                        popUp=\"IDS_INSTRUMENTMAINTENANCECLOSEDATE\"\r\n\r\n                    }\r\n                    let operation = \"create\";\r\n                    let modalTitle = \"IDS_CLOSEDATE\";\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            isOpen: true,\r\n                            selectedRecord: selectedRecord,\r\n                            operation: operation,\r\n                            modalTitle: modalTitle,\r\n                            CalibrationStatus: CalibrationStatus,\r\n                            MaintenanceStatus: MaintenanceStatus,\r\n                            TimeZoneList: TimeZoneList,\r\n                            screenName: screenName,\r\n                            modalShow: true,\r\n                            ncontrolCode: ncontrolCode,\r\n                            loading: false,\r\n                            popUp:popUp\r\n                        }\r\n                    });\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: response[3].data.Status\r\n                    }));\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            ncontrolCode: ncontrolCode,\r\n                            loading: false\r\n                        }\r\n                    });\r\n\r\n                }\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}