{"ast":null,"code":"import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faTrashAlt,faThumbsUp,faUserLock,faClock,faList}from'@fortawesome/free-solid-svg-icons';//,faUserTimes, faTrash\nimport{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{toast}from'react-toastify';import{callService,crudMaster,validateEsignCredential,updateStore,getDesignTemplateMappingDetail,getMappedFieldProps,editFieldConfigService,getDesignTemplateMappingComboService,filterColumnData,reloadDesignTemplateMapping,getTMPFilterRegType,getTMPFilterRegSubType,getTMPFilterSubmit}from'../../actions';import TemplateFilter from'./TemplateFilter';import{ContentPanel,ReadOnlyText}from'../../components/App.styles';import{getControlMap,showEsign,convertDateValuetoString,constructOptionList,constructjsonOptionDefault}from'../../components/CommonScript';//searchData, sortData,\nimport ListMaster from'../../components/list-master/list-master.component';// import DateTimePicker from '../../components/date-time-picker/date-time-picker.component';\nimport SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import AddDesignTemplateMapping from'./AddDesignTemplateMapping';import Esign from'../../pages/audittrail/Esign';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import{ListWrapper}from'../../components/client-group.styles';import{designProperties,formCode,TemplateType,transactionStatus}from'../../components/Enumeration';import AddSynonym from'../../components/droparea/AddSynonym';import{Affix}from'rsuite';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import ReactTooltip from'react-tooltip';import ConfigureScreenFields from'./ConfigureScreenFields';import ConfigureEditFields from'./ConfigureEditFields';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var DesignTemplateMapping=/*#__PURE__*/function(_React$Component){_inherits(DesignTemplateMapping,_React$Component);var _super=_createSuper(DesignTemplateMapping);function DesignTemplateMapping(props){var _this;_classCallCheck(this,DesignTemplateMapping);_this=_super.call(this,props);// const dataState = {\n//     skip: 0,\n//     take: 10,\n// };\n_this.filterComboChange=function(event,fieldname){if(event!==null){// let uRL = \"\";\nvar inputData=[];if(fieldname===\"sampleType\"){inputData={userinfo:_this.props.Login.userInfo,nflag:1,nsampletypecode:parseInt(event.value)};var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultsampletype:event});var inputParam={masterData:masterData,inputData:inputData};if(event.value===TemplateType.Masters){var masterTypeArray=_this.state.masterTypeArray;var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_objectSpread(_objectSpread({},masterData),{},{masterTypeArray:masterTypeArray,defaultMasterType:masterTypeArray[0],qualisforms:[],defaultform:_this.state.newMasterForm,nregtypecode:-1,nregsubtypecode:-1})}};_this.props.updateStore(updateInfo);}else{_this.props.getTMPFilterRegType(inputParam);}}else if(fieldname===\"registrationType\"){inputData={userinfo:_this.props.Login.userInfo,nregtypecode:parseInt(event.value),nsampletypecode:_this.props.Login.masterData.defaultsampletype.value};var _masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultregtype:event});var _inputParam={masterData:_masterData,inputData:inputData};_this.props.getTMPFilterRegSubType(_inputParam);}else if(fieldname===\"registrationSubType\"){var _masterData2=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultregsubtype:event});var _updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_masterData2}};_this.props.updateStore(_updateInfo);}else if(fieldname===\"masterType\"){var _masterData3=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultMasterType:event});inputData={userinfo:_this.props.Login.userInfo,nflag:1,nsampletypecode:TemplateType.Masters};var _inputParam2={masterData:_masterData3,inputData:inputData};if(event.value===1){var _updateInfo2={typeName:DEFAULT_RETURN,data:{masterData:_objectSpread(_objectSpread({},_masterData3),{},{qualisforms:[],defaultform:_this.state.newMasterForm})}};_this.props.updateStore(_updateInfo2);}else{_this.props.getTMPFilterRegType(_inputParam2);}}else{var _masterData4=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{defaultform:event});var _updateInfo3={typeName:DEFAULT_RETURN,data:{masterData:_masterData4}};_this.props.updateStore(_updateInfo3);}}};_this.reloadData=function(){_this.searchRef.current.value=\"\";var inputData={userinfo:_this.props.Login.userInfo,nregtypecode:parseInt(_this.props.Login.masterData.realRegTypeValue?_this.props.Login.masterData.realRegTypeValue.value||-1:-1),nregsubtypecode:parseInt(_this.props.Login.masterData.realRegSubTypeValue?_this.props.Login.masterData.realRegSubTypeValue.value||-1:-1),nsampletypecode:_this.props.Login.masterData.realSampleValue.value,nformcode:_this.props.Login.masterData.realFormValue?_this.props.Login.masterData[\"realFormValue\"].value:-1};var inputParam={masterData:_this.props.Login.masterData,inputData:inputData};_this.props.reloadDesignTemplateMapping(inputParam);};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){var inputData={userinfo:_this.props.Login.userInfo,nregtypecode:_this.props.Login.masterData.defaultsampletype.value===TemplateType.Masters?transactionStatus.NA:parseInt(_this.props.Login.masterData.defaultregtype?_this.props.Login.masterData.defaultregtype.value||-1:-1),nregsubtypecode:_this.props.Login.masterData.defaultsampletype.value===TemplateType.Masters?transactionStatus.NA:parseInt(_this.props.Login.masterData.defaultregsubtype?_this.props.Login.masterData.defaultregsubtype.value||-1:-1),nsampletypecode:_this.props.Login.masterData.defaultsampletype.value,nformcode:_this.props.Login.masterData.defaultform?_this.props.Login.masterData.defaultform.value||-1:-1};var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realSampleValue:_this.props.Login.masterData.defaultsampletype,realFormValue:_this.props.Login.masterData.defaultform,realRegTypeValue:_this.props.Login.masterData.defaultregtype,realRegSubTypeValue:_this.props.Login.masterData.defaultregsubtype});var inputParam={masterData:masterData,inputData:inputData};_this.props.getTMPFilterSubmit(inputParam);};_this.onApproveClick=function(){if(_this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus!==transactionStatus.RETIRED){var _inputParam3;var ncontrolCode=_this.state.controlMap.has(\"ApproveDesignTemplateMapping\")&&_this.state.controlMap.get(\"ApproveDesignTemplateMapping\").ncontrolcode;var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;var postParam=undefined;inputData[\"designtemplatemapping\"]={\"ndesigntemplatemappingcode\":_this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"]?_this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"].Value:\"\"};inputData[\"designtemplatemapping\"]=_this.props.Login.masterData.selectedDesignTemplateMapping;postParam={inputListName:\"DesignTemplateMapping\",selectedObject:\"selectedDesignTemplateMapping\",primaryKeyField:\"ndesigntemplatemappingcode\"};var inputParam=(_inputParam3={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:'designtemplatemapping',methodUrl:\"DesignTemplateMapping\"},_defineProperty(_inputParam3,\"inputData\",inputData),_defineProperty(_inputParam3,\"operation\",\"approve\"),_defineProperty(_inputParam3,\"postParam\",postParam),_inputParam3);var saveType;var masterData=_this.props.Login.masterData;var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,openModal:true,operation:\"approve\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_TEMPLATERETIRED\"}));}};_this.ConfirmDelete=function(){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteTemplate();});};_this.deleteTemplate=function(){if(_this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus===transactionStatus.DRAFT){var _inputParam4;var ncontrolCode=_this.state.controlMap.has(\"DeleteDesignTemplateMapping\")&&_this.state.controlMap.get(\"DeleteDesignTemplateMapping\").ncontrolcode;var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;var postParam=undefined;inputData[\"designtemplatemapping\"]={\"ndesigntemplatemappingcode\":_this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"]?_this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"].Value:\"\"};inputData[\"designtemplatemapping\"]=_this.props.Login.masterData.selectedDesignTemplateMapping;postParam={inputListName:\"DesignTemplateMapping\",selectedObject:\"selectedDesignTemplateMapping\",primaryKeyField:\"ndesigntemplatemappingcode\"};var inputParam=(_inputParam4={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:'designtemplatemapping',methodUrl:\"DesignTemplateMapping\"},_defineProperty(_inputParam4,\"inputData\",inputData),_defineProperty(_inputParam4,\"operation\",\"delete\"),_defineProperty(_inputParam4,\"postParam\",postParam),_inputParam4);var saveType;var masterData=_this.props.Login.masterData;var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,openModal:true,operation:\"delete\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTRECORDTODELETE\"}));}};_this.openFieldConfiguration=function(controlCode){var openModal=true;var operation='configure';var ncontrolcode=controlCode;var screenName=\"IDS_FIELDS\";var inputParam={inputData:{designtemplatemapping:{ndesigntemplatemappingcode:_this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode},userinfo:_this.props.Login.userInfo},operation:operation,ncontrolcode:ncontrolcode,screenName:screenName};if(_this.props.Login.masterData.realSampleValue&&_this.props.Login.masterData.realSampleValue.value!==TemplateType.Masters){inputParam.inputData[\"napprovalconfigcode\"]=_this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;}inputParam[\"TemplateType\"]=_this.props.Login.masterData.realSampleValue.value;_this.props.getMappedFieldProps(inputParam);};_this.editFieldConfiguration=function(controlCode){//console.log(\"edit config:\", this.props.Login);\nvar operation='configureedit';var ncontrolcode=controlCode;var screenName=\"IDS_FIELDS\";var inputParam={inputData:{designtemplatemapping:{ndesigntemplatemappingcode:_this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode},nregtypecode:_this.props.Login.masterData.defaultregtype.value,nregsubtypecode:_this.props.Login.masterData.defaultregsubtype.value,userinfo:_this.props.Login.userInfo},operation:operation,ncontrolcode:ncontrolcode,screenName:screenName};// if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){\n//     inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\n//  }\ninputParam[\"TemplateType\"]=_this.props.Login.masterData.realSampleValue.value;_this.props.editFieldConfigService(inputParam);};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"approve\"||_this.props.Login.operation===\"delete\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;;_this.setState({selectedRecord:selectedRecord});};_this.onConfigureComboChange=function(comboData,formCode,item){var fieldName=item.label;var selectedRecord=_this.state.selectedRecord||{};selectedRecord[formCode]=_objectSpread(_objectSpread({},selectedRecord[formCode]),{},_defineProperty({},fieldName,comboData));_this.setState({selectedRecord:selectedRecord});// let designData = this.props.Login.editFieldDesignData;\n// let dataResult = this.props.Login.editFieldDataResult;\n// if (formCode === undefined){\n//     dataResult[dataIndex][field] = event.target.checked;\n//     if (event.target.checked) {\n//         designData[field].splice(dataIndex, 0, dataItem.realData)\n//     } else {\n//         designData[field].splice(designData[field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\n//     }\n// }\n// else{\n//     dataResult[formCode][\"sampleeditable\"] = comboData;\n//     if (event.target.checked) {\n//         if (field === 'samplelistitem' && designData[formCode][field].length >= 6) {\n//             return toast.warn(this.props.intl.formatMessage({ id: \"IDS_MAXIMUMSELECTIONEXCEEDS\" }))\n//         } else {\n//             designData[formCode][field].splice(dataIndex, 0, dataItem.realData)\n//         }\n//         if (field === 'sampledisplayfields') {\n//             designData[formCode]['samplesearchfields'].splice(dataIndex, 0, dataItem.label)\n//         }\n//     } else {\n//         if (field === 'sampledisplayfields') {\n//             designData[formCode]['samplesearchfields'].splice(designData[formCode]['samplesearchfields'].findIndex(x => x === dataItem.label), 1)\n//         }\n//         designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\n//     }\n// }\n// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: { designData, dataResult }\n// }\n// this.props.updateStore(updateInfo);\n};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.getGridJsondata=function(templatedata){var gridItem=[];var gridMoreItem=[];var masterdatefields=[];var masterdateconstraints=[];var masteruniquevalidation=[];var editable=[];var jdynamiccolumns=[];var jnumericcolumns=[];var templatePrimaryKey=\"\";var mastertemplatefields=[];templatedata&&templatedata.map(function(row){return row.children&&row.children.map(function(column){column.children&&column.children.map(function(component,index){console.log(\"component2:\",component);if(component.hasOwnProperty('children')){component.children.map(function(componentRow){var _mastertemplatefields;// console.log(\"component row2:\", componentRow);\ncomponentRow.unique&&masteruniquevalidation.push(_defineProperty({},designProperties.LABEL,componentRow.label));templatePrimaryKey=templatePrimaryKey===\"\"&&componentRow.unique?componentRow.label:templatePrimaryKey;var filterinputtype=\"text\";var comboDataInputObject={};if(componentRow.inputtype==='combo'){comboDataInputObject={\"predefinedtablename\":componentRow.source,\"predefinedvaluemember\":componentRow.valuemember,\"predefineddisplaymember\":componentRow.displaymember,\"predefinedismultilingual\":true,\"predefinedconditionalString\":componentRow.valuemember+\" > 0 \"};jnumericcolumns.push(_objectSpread({\"columnname\":componentRow.displaymember,\"displayname\":componentRow.displayname,\"foriegntablePK\":componentRow.label,// \"ismultilingual\": true,\n// \"conditionstring\": \" and nformcode in (\"+componentRow.table.item.nformcode+\") \",\n\"tablecolumnname\":componentRow.valuemember,\"foriegntablename\":componentRow.source},comboDataInputObject));filterinputtype=\"predefinednumeric\";}// samplesearchfields.push(componentRow.label)\nif(componentRow.inputtype==='date'){var _masterdatefields$pus;filterinputtype=\"date\";masterdatefields.push((_masterdatefields$pus={},_defineProperty(_masterdatefields$pus,designProperties.VALUE,componentRow.label),_defineProperty(_masterdatefields$pus,\"dateonly\",componentRow.dateonly||false),_masterdatefields$pus));masterdateconstraints=componentRow.dateConstraintArraySQL?[].concat(_toConsumableArray(componentRow.dateConstraintArraySQL),_toConsumableArray(masterdateconstraints)):masterdateconstraints;}if(componentRow.inputtype==='Numeric'||componentRow.inputtype==='radio'){filterinputtype=\"numeric\";}jdynamiccolumns.push(_objectSpread({default:componentRow.unique?true:false,filterinputtype:filterinputtype,columnname:componentRow.label,displayname:componentRow.displayname},comboDataInputObject));// displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\n// componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\nif(componentRow.mandatory||componentRow.templatemandatory){var _gridItem$push;gridItem.push((_gridItem$push={},_defineProperty(_gridItem$push,designProperties.LABEL,componentRow.displayname),_defineProperty(_gridItem$push,designProperties.VALUE,componentRow.label),_gridItem$push));}else{var _gridMoreItem$push;gridMoreItem.push((_gridMoreItem$push={},_defineProperty(_gridMoreItem$push,designProperties.LABEL,componentRow.displayname),_defineProperty(_gridMoreItem$push,designProperties.VALUE,componentRow.label),_gridMoreItem$push));}mastertemplatefields.push((_mastertemplatefields={},_defineProperty(_mastertemplatefields,designProperties.LABEL,componentRow.displayname),_defineProperty(_mastertemplatefields,designProperties.VALUE,componentRow.label),_mastertemplatefields));if(componentRow.templatemandatory){editable.push({label:componentRow.label,editableuntill:[]});}else{editable.push({label:componentRow.label,editableuntill:[transactionStatus.DRAFT]});}return null;});}else{var _mastertemplatefields2;console.log(\"component2:\",component);component.unique&&masteruniquevalidation.push(_defineProperty({},designProperties.LABEL,component.label));templatePrimaryKey=templatePrimaryKey===\"\"&&component.unique?component.label:templatePrimaryKey;var filterinputtype=\"text\";var comboDataInputObject={};mastertemplatefields.push((_mastertemplatefields2={},_defineProperty(_mastertemplatefields2,designProperties.LABEL,component.displayname),_defineProperty(_mastertemplatefields2,designProperties.VALUE,component.label),_mastertemplatefields2));if(component.inputtype==='combo'){filterinputtype=\"predefinednumeric\";comboDataInputObject={\"predefinedtablename\":component.source,\"predefinedvaluemember\":component.valuemember,\"predefineddisplaymember\":component.displaymember,\"predefinedismultilingual\":true,\"predefinedconditionalString\":component.valuemember+\" > 0\"};jnumericcolumns.push(_objectSpread({\"columnname\":component.label,\"displayname\":component.displayname,\"foriegntablePK\":component.label,// \"ismultilingual\": true,\n\"conditionstring\":\" and nformcode in (\"+component.table.item.nformcode+\") \",\"tablecolumnname\":component.column.value,\"foriegntablename\":\"dynamicmaster\"},comboDataInputObject));}// samplesearchfields.push(component.label)\nif(component.inputtype==='date'){var _masterdatefields$pus2;filterinputtype=\"date\";masterdatefields.push((_masterdatefields$pus2={},_defineProperty(_masterdatefields$pus2,designProperties.VALUE,component.label),_defineProperty(_masterdatefields$pus2,\"dateonly\",component.dateonly||false),_masterdatefields$pus2));masterdateconstraints=component.dateConstraintArraySQL?[].concat(_toConsumableArray(component.dateConstraintArraySQL),_toConsumableArray(masterdateconstraints)):masterdateconstraints;}if(component.inputtype==='numeric'||component.inputtype==='radio'){filterinputtype=\"numeric\";}jdynamiccolumns.push(_objectSpread({default:component.unique?true:false,columnname:component.label,displayname:component.displayname,filterinputtype:filterinputtype},comboDataInputObject));// displayFields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\n// component.templatemandatory && listItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\nif(component.mandatory||component.templatemandatory){var _gridItem$push2;gridItem.push((_gridItem$push2={},_defineProperty(_gridItem$push2,designProperties.LABEL,component.displayname),_defineProperty(_gridItem$push2,designProperties.VALUE,component.label),_gridItem$push2));}else{var _gridMoreItem$push2;gridMoreItem.push((_gridMoreItem$push2={},_defineProperty(_gridMoreItem$push2,designProperties.LABEL,component.displayname),_defineProperty(_gridMoreItem$push2,designProperties.VALUE,component.label),_gridMoreItem$push2));}if(component.templatemandatory){editable.push({label:component.label,editableuntill:[]});}else{editable.push({label:component.label,editableuntill:[transactionStatus.DRAFT]});}return null;}});});});var jsondata={griditem:gridItem,gridmoreitem:gridMoreItem,masterdatefields:masterdatefields,masterdateconstraints:masterdateconstraints,masteruniquevalidation:masteruniquevalidation,editable:editable,mastertemplatefields:mastertemplatefields};console.log(\"dynamiccolumns:\",jdynamiccolumns);return{jsondata:jsondata,jdynamiccolumns:jdynamiccolumns,jnumericcolumns:jnumericcolumns,templatePrimaryKey:templatePrimaryKey};};_this.getJsondata=function(templatedata){var _ref,_ref2,_displayFields$push3,_jsondata;var displayFields=[];var listItem=[];var gridItem=[];var gridMoreItem=[];var editable=[];var subsampleeditable=[];var subsamplelistitem=[];var sampledatefields=[(_ref={},_defineProperty(_ref,designProperties.VALUE,'dregdate'),_defineProperty(_ref,\"dateonly\",false),_ref)];var sampledateconstraints=[];var subsampledatefields=[];var subsampledateconstraints=[];var samplesearchfields=[\"dregdate\",\"sarno\",\"stransdisplaystatus\"];var subsamplesearchfields=[\"sarno\",\"ssamplearno\",\"stransdisplaystatus\"];var sampletemplatefields=[];var subsampletemplatefields=[];var sampleuniquevalidation=[];var subsampleuniquevalidation=[];var jdynamiccolumns=[];var jnumericcolumns=[];// const staticSearchFields = [\"dregdate\", \"sarno\", \"stransdisplaystatus\"];\n// const sampleStaticFields = [\n//     { [designProperties.LABEL]: { \"en-US\": \"Reg Date\",\"Ko-KR\":\"Reg Date\",\"ru-RU\":\"Дата регистрации\",\"tg-TG\":\"Санаи бақайдгирӣ\" }, \n//       [designProperties.VALUE]: 'dregdate' },\n//     { [designProperties.LABEL]: { \"en-US\": \"Ar No.\",\"Ko-KR\":\"Reg Date\",\"ru-RU\":\"Ар №\",\"tg-TG\":\"Ар №\" }, \n//       [designProperties.VALUE]: 'sarno' },\n//     { [designProperties.LABEL]: { \"en-US\": \"Transaction Status\",\"Ko-KR\":\"Transaction Status\",\"ru-RU\":\"Статус транзакции\",\"tg-TG\":\"Ҳолати транзаксия\" }, \n//       [designProperties.VALUE]: 'stransdisplaystatus' }\n//     ]\nvar testdatefields=[(_ref2={},_defineProperty(_ref2,designProperties.VALUE,'dtransactiondate'),_defineProperty(_ref2,\"dateonly\",false),_ref2)];_this.state.selectedRecord.nsubsampletemplatecode&&_this.state.selectedRecord.nsubsampletemplatecode.item.jsondata.map(function(row){return row.children&&row.children.map(function(column){column.children&&column.children.map(function(component){if(component.hasOwnProperty('children')){component.children.map(function(componentRow){var _subsamplelistitem$pu;componentRow.unique&&subsampleuniquevalidation.push(_defineProperty({},designProperties.LABEL,componentRow.label));subsamplesearchfields.push(componentRow.label);//subsampleeditable.push({ label: componentRow.label, editableuntill: [17] })\nif(component.readonly)subsampleeditable.push({label:componentRow.label,editableuntill:[]});else subsampleeditable.push({label:componentRow.label,editableuntill:[transactionStatus.PREREGISTER]});if(componentRow.inputtype==='date'){var _subsampledatefields$;subsampledatefields.push((_subsampledatefields$={},_defineProperty(_subsampledatefields$,designProperties.VALUE,componentRow.label),_defineProperty(_subsampledatefields$,\"dateonly\",componentRow.dateonly||false),_subsampledatefields$));subsampledateconstraints=componentRow.dateConstraintArraySQL?[].concat(_toConsumableArray(componentRow.dateConstraintArraySQL),_toConsumableArray(subsampledateconstraints)):subsampledateconstraints;}subsamplelistitem.push((_subsamplelistitem$pu={},_defineProperty(_subsamplelistitem$pu,designProperties.LABEL,componentRow.displayname),_defineProperty(_subsamplelistitem$pu,designProperties.VALUE,componentRow.label),_subsamplelistitem$pu));});}else{var _subsamplelistitem$pu2;component.unique&&subsampleuniquevalidation.push(_defineProperty({},designProperties.LABEL,component.label));subsamplesearchfields.push(component.label);// subsampleeditable.push({ label: component.label, editableuntill: [transactionStatus.PREREGISTER] })\nif(component.readonly)subsampleeditable.push({label:component.label,editableuntill:[]});else subsampleeditable.push({label:component.label,editableuntill:[transactionStatus.PREREGISTER]});if(component.inputtype==='date'){var _subsampledatefields$2;subsampledatefields.push((_subsampledatefields$2={},_defineProperty(_subsampledatefields$2,designProperties.VALUE,component.label),_defineProperty(_subsampledatefields$2,\"dateonly\",component.dateonly||false),_subsampledatefields$2));subsampledateconstraints=component.dateConstraintArraySQL?[].concat(_toConsumableArray(component.dateConstraintArraySQL),_toConsumableArray(subsampledateconstraints)):subsampledateconstraints;}subsamplelistitem.push((_subsamplelistitem$pu2={},_defineProperty(_subsamplelistitem$pu2,designProperties.LABEL,component.displayname),_defineProperty(_subsamplelistitem$pu2,designProperties.VALUE,component.label),_subsamplelistitem$pu2));}});});});templatedata&&templatedata.map(function(row){return row.children&&row.children.map(function(column){column.children&&column.children.map(function(component){if(component.hasOwnProperty('children')){// let combinedField = [];\ncomponent.children.map(function(componentRow){var _sampletemplatefields,_displayFields$push,_listItem$push;// combinedField.push(componentRow.label)\njdynamiccolumns.push({columnname:componentRow.label,displayname:componentRow.displayname});if(componentRow.hasOwnProperty('child')){componentRow.child.map(function(childData){jnumericcolumns.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"foriegntablePK\":componentRow.label,// \"ismultilingual\": true,\n// \"conditionstring\": \" and nformcode in (140) \",\n\"tablecolumnname\":childData.tablecolumnname,\"foriegntablename\":\"dynamicmaster\"});});}componentRow.unique&&sampleuniquevalidation.push(_defineProperty({},designProperties.LABEL,componentRow.label));samplesearchfields.push(componentRow.label);sampletemplatefields.push((_sampletemplatefields={},_defineProperty(_sampletemplatefields,designProperties.LABEL,componentRow.displayname),_defineProperty(_sampletemplatefields,designProperties.VALUE,componentRow.label),_sampletemplatefields));if(componentRow.inputtype==='date'){var _sampledatefields$pus;sampledatefields.push((_sampledatefields$pus={},_defineProperty(_sampledatefields$pus,designProperties.VALUE,componentRow.label),_defineProperty(_sampledatefields$pus,\"dateonly\",componentRow.dateonly||false),_sampledatefields$pus));sampledateconstraints=componentRow.dateConstraintArraySQL?[].concat(_toConsumableArray(componentRow.dateConstraintArraySQL),_toConsumableArray(sampledateconstraints)):sampledateconstraints;}displayFields.push((_displayFields$push={},_defineProperty(_displayFields$push,designProperties.LABEL,componentRow.displayname),_defineProperty(_displayFields$push,designProperties.VALUE,componentRow.label),_displayFields$push));componentRow.templatemandatory&&listItem.push((_listItem$push={},_defineProperty(_listItem$push,designProperties.LABEL,componentRow.displayname),_defineProperty(_listItem$push,designProperties.VALUE,componentRow.label),_listItem$push));if(componentRow.mandatory||componentRow.templatemandatory){var _gridItem$push3;gridItem.push((_gridItem$push3={},_defineProperty(_gridItem$push3,designProperties.LABEL,componentRow.displayname),_defineProperty(_gridItem$push3,designProperties.VALUE,componentRow.label),_gridItem$push3));}else{var _gridMoreItem$push3;gridMoreItem.push((_gridMoreItem$push3={},_defineProperty(_gridMoreItem$push3,designProperties.LABEL,componentRow.displayname),_defineProperty(_gridMoreItem$push3,designProperties.VALUE,componentRow.label),_gridMoreItem$push3));}if(componentRow.templatemandatory){editable.push({label:componentRow.label,editableuntill:[]});}else{if(componentRow.readonly)editable.push({label:componentRow.label,editableuntill:[]});else editable.push({label:componentRow.label,editableuntill:[transactionStatus.PREREGISTER]});}return null;});// let fieldSet = combinedField.join(\"&\")\n// displayFields.push(fieldSet);\n// componentRow.templatemandatory && listItem.push(fieldSet)\n// gridMoreItem.push(fieldSet);\n}else{var _sampletemplatefields2,_displayFields$push2,_listItem$push2;jdynamiccolumns.push({columnname:component.label,displayname:component.displayname});if(component.hasOwnProperty('child')){component.child.map(function(childData){jnumericcolumns.push({\"columnname\":component.label,\"displayname\":component.displayname,\"foriegntablePK\":component.label,// \"ismultilingual\": true,\n// \"conditionstring\": \" and nformcode in (140) \",\n\"tablecolumnname\":childData.tablecolumnname,\"foriegntablename\":\"dynamicmaster\"});});}component.unique&&sampleuniquevalidation.push(_defineProperty({},designProperties.LABEL,component.label));samplesearchfields.push(component.label);sampletemplatefields.push((_sampletemplatefields2={},_defineProperty(_sampletemplatefields2,designProperties.LABEL,component.displayname),_defineProperty(_sampletemplatefields2,designProperties.VALUE,component.label),_sampletemplatefields2));if(component.inputtype==='date'){var _sampledatefields$pus2;sampledatefields.push((_sampledatefields$pus2={},_defineProperty(_sampledatefields$pus2,designProperties.VALUE,component.label),_defineProperty(_sampledatefields$pus2,\"dateonly\",component.dateonly||false),_sampledatefields$pus2));sampledateconstraints=component.dateConstraintArraySQL?[].concat(_toConsumableArray(component.dateConstraintArraySQL),_toConsumableArray(sampledateconstraints)):sampledateconstraints;}displayFields.push((_displayFields$push2={},_defineProperty(_displayFields$push2,designProperties.LABEL,component.displayname),_defineProperty(_displayFields$push2,designProperties.VALUE,component.label),_displayFields$push2));component.templatemandatory&&listItem.push((_listItem$push2={},_defineProperty(_listItem$push2,designProperties.LABEL,component.displayname),_defineProperty(_listItem$push2,designProperties.VALUE,component.label),_listItem$push2));if(component.mandatory||component.templatemandatory){var _gridItem$push4;gridItem.push((_gridItem$push4={},_defineProperty(_gridItem$push4,designProperties.LABEL,component.displayname),_defineProperty(_gridItem$push4,designProperties.VALUE,component.label),_gridItem$push4));}else{var _gridMoreItem$push4;gridMoreItem.push((_gridMoreItem$push4={},_defineProperty(_gridMoreItem$push4,designProperties.LABEL,component.displayname),_defineProperty(_gridMoreItem$push4,designProperties.VALUE,component.label),_gridMoreItem$push4));}if(component.templatemandatory){editable.push({label:component.label,editableuntill:[]});}else{// editable.push({ label: component.label, editableuntill: [17] })\nif(component.readonly)editable.push({label:component.label,editableuntill:[]});else editable.push({label:component.label,editableuntill:[transactionStatus.PREREGISTER]});}return null;}});});});displayFields.push((_displayFields$push3={},_defineProperty(_displayFields$push3,designProperties.LABEL,{\"en-US\":\"Reg Date\",\"Ko-KR\":\"Reg Date\",\"ru-RU\":\"Дата регистрации\",\"tg-TG\":\"Санаи бақайдгирӣ\"}),_defineProperty(_displayFields$push3,designProperties.VALUE,'dregdate'),_displayFields$push3));//samplesearchfields.push(...staticSearchFields);\nvar obj=_objectSpread({sampledisplayfields:displayFields,samplelistitem:listItem,samplegriditem:gridItem,samplegridmoreitem:gridMoreItem,subsamplelistitem:subsamplelistitem,sampledatefields:sampledatefields,subsampledatefields:subsampledatefields,samplesearchfields:samplesearchfields,subsamplesearchfields:subsamplesearchfields,testdatefields:testdatefields,sampledateconstraints:sampledateconstraints,subsampledateconstraints:subsampledateconstraints,sampleuniquevalidation:sampleuniquevalidation,subsampleuniquevalidation:subsampleuniquevalidation},_this.props.Login.testListFields);var jsondata=(_jsondata={sampletemplatefields:sampletemplatefields,subsampletemplatefields:subsamplesearchfields},_defineProperty(_jsondata,formCode.SAMPLEREGISTRATION,_objectSpread(_objectSpread({},obj),{},{sampleeditable:editable,subsampleeditable:subsampleeditable})),_defineProperty(_jsondata,formCode.RESULTENTRY,_objectSpread({},obj)),_defineProperty(_jsondata,formCode.APPROVAL,_objectSpread({},obj)),_defineProperty(_jsondata,formCode.JOBALLOCATION,_objectSpread({},obj)),_defineProperty(_jsondata,formCode.MYJOBS,_objectSpread({},obj)),_defineProperty(_jsondata,formCode.TESTWISEMYJOBS,_objectSpread({},obj)),_jsondata);return jsondata;};_this.onChangeToggle=function(event,dataItem,field,dataIndex,formCode){var designData=_this.props.Login.designData;var dataResult=_this.props.Login.dataResult;if(formCode===undefined){dataResult[dataIndex][field]=event.target.checked;if(event.target.checked){designData[field].splice(dataIndex,0,dataItem.realData);}else{designData[field].splice(designData[field].findIndex(function(x){return x[designProperties.VALUE]===dataItem.label;}),1);}}else{//dataResult[formCode][dataIndex][field] = event.target.checked;\nif(event.target.checked){if(field==='samplelistitem'&&designData[formCode][field].length>=6){return toast.warn(_this.props.intl.formatMessage({id:\"IDS_MAXIMUMSELECTIONEXCEEDS\"}));}else{dataResult[formCode][dataIndex][field]=event.target.checked;designData[formCode][field].splice(dataIndex,0,dataItem.realData);}if(field==='sampledisplayfields'){dataResult[formCode][dataIndex][field]=event.target.checked;designData[formCode]['samplesearchfields'].splice(dataIndex,0,dataItem.label);}}else{if(field==='sampledisplayfields'){dataResult[formCode][dataIndex][field]=event.target.checked;designData[formCode]['samplesearchfields'].splice(designData[formCode]['samplesearchfields'].findIndex(function(x){return x===dataItem.label;}),1);}dataResult[formCode][dataIndex][field]=event.target.checked;designData[formCode][field].splice(designData[formCode][field].findIndex(function(x){return x[designProperties.VALUE]===dataItem.label;}),1);}}var updateInfo={typeName:DEFAULT_RETURN,data:{designData:designData,dataResult:dataResult}};_this.props.updateStore(updateInfo);};_this.onSaveClick=function(saveType,formRef){//console.log(\"save:\", this.state.selectedRecord);\n//console.log(\"data:\", this.props.Login.editFieldDesignData)\nvar inputData=[];var operation=_this.props.Login.operation;if(operation==='configure'){inputData={designtemplatemapping:{ndesigntemplatemappingcode:_this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,jsondataobj:_this.props.Login.designData},userinfo:_this.props.Login.userInfo};}else if(operation==='configureedit'){var designData=_this.props.Login.editFieldDesignData;var formCodeArray=Object.keys(_this.state.selectedRecord);formCodeArray.forEach(function(formCode){var data=_this.state.selectedRecord[formCode];var editableData=designData[formCode]['sampleeditable'];;Object.keys(data).map(function(label){var editableuntil=[];data[label].map(function(statusItem){return editableuntil.push(statusItem.value);});var index=editableData.findIndex(function(item){return item.label===label;});if(index===-1){editableData.push({\"label\":label,\"editableuntill\":editableuntil});}else{editableData[index]={\"label\":label,\"editableuntill\":editableuntil};}//designData[formCode]['sampleeditable'].push({\"label\":label, \"editableuntill\":editableuntil});\n});});inputData={designtemplatemapping:{ndesigntemplatemappingcode:_this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,jsondataobj:designData},userinfo:_this.props.Login.userInfo};operation='configure';}else{var _ref3=_this.props.Login.masterData.realSampleValue.value===TemplateType.Masters?_this.getGridJsondata(_this.state.selectedRecord.nreactregtemplatecode.item.jsondata):{},jsondata=_ref3.jsondata,jdynamiccolumns=_ref3.jdynamiccolumns,jnumericcolumns=_ref3.jnumericcolumns,templatePrimaryKey=_ref3.templatePrimaryKey;inputData={\"userinfo\":_this.props.Login.userInfo,\"ncontrolcode\":_this.props.Login.ncontrolCode,\"nreactregtemplatecode\":_this.state.selectedRecord.nreactregtemplatecode.value,\"nsampletypecode\":_this.props.Login.masterData.realSampleValue.value,\"nregtypecode\":_this.props.Login.masterData.realSampleValue.value===TemplateType.Masters?-1:_this.props.Login.masterData.realRegTypeValue?_this.props.Login.masterData.realRegTypeValue.value:-1,\"nregsubtypecode\":_this.props.Login.masterData.realSampleValue.value===TemplateType.Masters?-1:_this.props.Login.masterData.realRegSubTypeValue?_this.props.Login.masterData.realRegSubTypeValue.value:-1,\"nformcode\":_this.props.Login.masterData.realFormValue?_this.props.Login.masterData.realFormValue.value:-1,\"nsubsampletemplatecode\":_this.state.selectedRecord.nsubsampletemplatecode?_this.state.selectedRecord.nsubsampletemplatecode.value:-1,\"jsondataobj\":_this.props.Login.masterData.realSampleValue.value===TemplateType.Masters?jsondata:_this.getJsondata(_this.state.selectedRecord.nreactregtemplatecode.item.jsondata)};inputData[\"designtemplatemapping\"]={\"nsitecode\":_this.props.Login.userInfo.nmastersitecode};if(_this.props.Login.masterData.realFormValue&&_this.props.Login.masterData.realFormValue.value===-2){var qf_jsonData={sdisplayname:{}};var qbt_jsonData={tablename:{}};_this.props.Login.languageList.map(function(lang){qf_jsonData['sdisplayname'][lang.value]=_this.state.selectedRecord.sformname;qbt_jsonData['tablename'][lang.value]=_this.state.selectedRecord.sformname;});var qm_jsonData={sdisplayname:{}};var nmodulecode=0;var smoduledisplayname=\"\";// if (typeof this.state.selectedRecord[\"nmodulecode\"].value === \"string\" )\n// {\n//     smoduledisplayname = this.state.selectedRecord[\"nmodulecode\"].value;\n//     this.props.Login.languageList.map(lang => {\n//         qm_jsonData['sdisplayname'][lang.value] = this.state.selectedRecord[\"nmodulecode\"].value;\n//     })\n// }\n// else{\n//     nmodulecode = this.state.selectedRecord[\"nmodulecode\"].value;\n// }\nif(_this.state.selectedRecord[\"nnewmodule\"].value===transactionStatus.YES){smoduledisplayname=_this.state.selectedRecord[\"nmodulecode\"];_this.props.Login.languageList.map(function(lang){qm_jsonData['sdisplayname'][lang.value]=_this.state.selectedRecord[\"nmodulecode\"];});}else{nmodulecode=_this.state.selectedRecord[\"nmodulecode\"].value;}inputData=_objectSpread(_objectSpread({},inputData),{},{sformname:_this.state.selectedRecord.sformname,nmodulecode:nmodulecode,smoduledisplayname:smoduledisplayname,qm_jsonData:qm_jsonData,qf_jsonData:qf_jsonData,qbt_jsonData:qbt_jsonData,sprimarykeyname:templatePrimaryKey,jdynamiccolumns:jdynamiccolumns,jnumericcolumns:jnumericcolumns});}// this.designtemplatemappingFieldList.map(item => {\n//     return inputData[\"designtemplatemapping\"][item] = this.state.selectedRecord[item]\n// });\n}var postParam=undefined;var inputParam={classUrl:\"designtemplatemapping\",methodUrl:\"DesignTemplateMapping\",inputData:inputData,operation:operation,saveType:saveType,formRef:formRef,postParam:postParam,searchRef:_this.searchRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.state={isOpen:false,designtemplatemappingData:[],masterStatus:\"\",error:\"\",//selectedRecord: {},\noperation:\"\",screenName:undefined,userLogged:true,selectedDesignTemplateMapping:undefined,userRoleControlRights:[],controlMap:new Map(),showAccordian:true,selectedInput:\"\",masterTypeArray:[{label:_this.props.intl.formatMessage({id:\"IDS_NEWMASTER\"}),value:1,item:{nmastertypecode:1,smastertype:_this.props.intl.formatMessage({id:\"IDS_NEWMASTER\"})}},{label:_this.props.intl.formatMessage({id:\"IDS_EXISTINGMASTER\"}),value:2,item:{nmastertypecode:2,smastertype:_this.props.intl.formatMessage({id:\"IDS_EXISTINGMASTER\"})}}],newMasterForm:{value:-2,label:\"-\"},moduleTypeArray:[{label:_this.props.intl.formatMessage({id:\"IDS_NEWMODULE\"}),value:3},{label:_this.props.intl.formatMessage({id:\"IDS_EXISTINGMODULE\"}),value:4}]};_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();_this.searchFieldList=[\"sregtemplatename\",\"sversionno\",\"stransdisplaystatus\"];_this.designtemplatemappingFieldList=['ndesigntemplatemappingcode','nsampletypecode','nformcode','nregtypecode','nregsubtypecode','nformwisetypecode','nreactregtemplatecode','ntransactionstatus','nversionno'];//'nmahcode',\nreturn _this;}_createClass(DesignTemplateMapping,[{key:\"render\",value:function render(){var _this2=this;var Layout=this.props.Login.masterData.selectedDesignTemplateMapping&&this.props.Login.masterData.selectedDesignTemplateMapping.jsondata;var userStatusCSS=\"outline-secondary\";if(this.props.Login.masterData.selectedDesignTemplateMapping?this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus===transactionStatus.ACTIVE||this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus===transactionStatus.APPROVED:false){userStatusCSS=\"outline-success\";}else if(this.props.Login.masterData.selectedDesignTemplateMapping&&this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus===transactionStatus.RETIRED){userStatusCSS=\"outline-danger\";}var addId=this.state.controlMap.has(\"AddDesignTemplateMapping\")&&this.state.controlMap.get(\"AddDesignTemplateMapping\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteDesignTemplateMapping\")&&this.state.controlMap.get(\"DeleteDesignTemplateMapping\").ncontrolcode;var approveId=this.state.controlMap.has(\"ApproveDesignTemplateMapping\")&&this.state.controlMap.get(\"ApproveDesignTemplateMapping\").ncontrolcode;var filterParam={inputListName:\"DesignTemplateMapping\",selectedObject:\"selectedDesignTemplateMapping\",primaryKeyField:\"ndesigntemplatemappingcode\",fetchUrl:\"designtemplatemapping/getDesignTemplateMapping\",fecthInputObject:{userinfo:this.props.Login.userInfo,nsampletypecode:this.props.Login.masterData[\"realSampleValue\"]?this.props.Login.masterData[\"realSampleValue\"].value:-1,nregtypecode:this.props.Login.masterData[\"realRegTypeValue\"]?this.props.Login.masterData[\"realRegTypeValue\"].value:-1,nregsubtypecode:this.props.Login.masterData[\"realRegSubTypeValue\"]?this.props.Login.masterData[\"realRegSubTypeValue\"].value:-1,nformcode:this.props.Login.masterData[\"realFormValue\"]?this.props.Login.masterData[\"realFormValue\"].value:-1},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};this.validationColumnList=[{\"idsName\":\"IDS_TEMPLATENAME\",\"dataField\":\"nreactregtemplatecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];var mandatoryFields=[];this.validationColumnList.forEach(function(item){return item.mandatory===true?mandatoryFields.push(item):\"\";});// let breadCrumbDataDate = convertDateValuetoString(this.props.Login.masterData && this.props.Login.masterData.FromDate,\n//     this.props.Login.masterData && this.props.Login.masterData.ToDate,\n//     this.props.Login.userInfo)\n// const breadCrumbData = [\nvar breadCrumbData=[];this.props.Login.masterData[\"realSampleValue\"]&&this.props.Login.masterData[\"realSampleValue\"].value===4?breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":this.props.Login.masterData.realSampleValue?this.props.Login.masterData.realSampleValue.label:\"-\"},//defaultMasterType\n// {\n//     \"label\": \"IDS_MASTERTYPE\",\n//     \"value\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.label : \"-\"\n// },\n{\"label\":\"IDS_SCREEN\",\"value\":this.props.Login.masterData.realFormValue?this.props.Login.masterData.realFormValue.label:\"-\"}]:breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":this.props.Login.masterData.realSampleValue?this.props.Login.masterData.realSampleValue.label:\"-\"},{\"label\":\"IDS_REGTYPE\",\"value\":this.props.Login.masterData.realRegTypeValue?this.props.Login.masterData.realRegTypeValue.label:\"-\"},{\"label\":\"IDS_REGSUBTYPE\",\"value\":this.props.Login.masterData.realRegSubTypeValue?this.props.Login.masterData.realRegSubTypeValue.label:\"-\"}];var addParam={screenName:this.props.intl.formatMessage({id:\"IDS_DESIGNTEMPLATEMAPPING\"}),operation:\"create\",userInfo:this.props.Login.userInfo,realSampleValue:this.props.Login.masterData.realSampleValue?this.props.Login.masterData.realSampleValue.value:-1,realRegTypeValue:this.props.Login.masterData.realRegTypeValue?this.props.Login.masterData.realRegTypeValue.value:-1,realRegSubTypeValue:this.props.Login.masterData.realRegSubTypeValue?this.props.Login.masterData.realRegSubTypeValue.value:-1,controlId:addId,moduleTypeArray:this.state.moduleTypeArray};//console.log(\"render, props, state:\", this.props, this.state);\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"click\",id:\"tooltip_list_wrap\"}),breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"click\",id:\"tooltip_list_wrap\"}),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{formatMessage:this.props.intl.formatMessage,screenName:this.props.intl.formatMessage({id:\"IDS_DESIGNTEMPLATEMAPPING\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.DesignTemplateMapping,getMasterDetail:function getMasterDetail(designtemplatemapping){return _this2.props.getDesignTemplateMappingDetail(designtemplatemapping,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedDesignTemplateMapping,primaryKeyField:\"ndesigntemplatemappingcode\",mainField:\"sregtemplatename\",firstField:\"sversionno\",secondField:\"stransdisplaystatus\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,searchRef:this.searchRef,reloadData:this.reloadData,hidePaging:true,openModal:function openModal(){return _this2.props.getDesignTemplateMappingComboService(addParam);},showFilterIcon:true,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,filterComponent:[{\"IDS_TEMPLATEFILTER\":/*#__PURE__*/React.createElement(TemplateFilter,{formatMessage:this.props.intl.formatMessage,filterSampletype:this.state.listSampletype||[],filterRegistrationType:this.state.listRegistrationType||[],filterRegistrationSubType:this.state.listRegistrationSubType||[],filterForms:this.state.listForms||[],defaultsampletype:this.props.Login.masterData[\"defaultsampletype\"]||{},defaultregsubtype:this.props.Login.masterData[\"defaultregsubtype\"]||[],defaultregtype:this.props.Login.masterData[\"defaultregtype\"]||[],defaultform:this.props.Login.masterData.defaultform||[],filterComboChange:this.filterComboChange,masterTypeArray:this.props.Login.masterData.masterTypeArray||[],defaultMasterType:this.props.Login.masterData.defaultMasterType||{}})}]})),/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.DesignTemplateMapping&&this.props.Login.masterData.DesignTemplateMapping.length>0&&this.props.Login.masterData.selectedDesignTemplateMapping?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"product-title-main\"},this.props.Login.masterData.selectedDesignTemplateMapping.sregtemplatename)),/*#__PURE__*/React.createElement(Card.Subtitle,{className:\"text-muted font-weight-normal\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:10,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},\"\".concat(this.props.intl.formatMessage({id:\"IDS_VERSION\"}),\" : \").concat(this.props.Login.masterData.selectedDesignTemplateMapping.sversionno),/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus===transactionStatus.DRAFT?\"outline-secondary\":this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus===transactionStatus.APPROVED?\"outline-success\":\"outline-danger\",\" btn-sm mx-md-3 mx-sm-2\")},this.props.Login.masterData.selectedDesignTemplateMapping.stransdisplaystatus))),/*#__PURE__*/React.createElement(Col,{md:2},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category float-right icon-group-wrap\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"}),\"data-for\":\"tooltip_list_wrap\",onClick:function onClick(){return _this2.onApproveClick();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp,title:this.props.intl.formatMessage({id:\"IDS_APPROVE\"})})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_CONFIGUREDISPLAYFIELDS\"}),\"data-for\":\"tooltip_list_wrap\",onClick:function onClick(){return _this2.openFieldConfiguration(approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faList,title:this.props.intl.formatMessage({id:\"IDS_CONFIGUREDISPLAYFIELDS\"})})),this.props.Login.masterData.realSampleValue&&this.props.Login.masterData.realSampleValue.value!==TemplateType.Masters?/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_CONFIGUREEDITFIELDS\"}),\"data-for\":\"tooltip_list_wrap\",onClick:function onClick(){return _this2.editFieldConfiguration(approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faList,title:this.props.intl.formatMessage({id:\"IDS_CONFIGUREEDITFIELDS\"})})):\"\",/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),\"data-for\":\"tooltip_list_wrap\",hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1// onClick={() => this.ConfirmDelete(this.state.approveId)}>\n,onClick:function onClick(){return _this2.ConfirmDelete();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt}))))))),/*#__PURE__*/React.createElement(Card.Body,null,this.props.Login.masterData.selectedDesignTemplateMapping&&this.props.Login.masterData.selectedDesignTemplateMapping.nformcode>0&&/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_MODULENAME\",message:\"Module Name\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,\"   \",this.props.Login.masterData.selectedDesignTemplateMapping.smodulename))),/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_FORMNAME\",message:\"Form Name\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedDesignTemplateMapping.sformname))),/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TEMPLATE\",message:\"Template\"})),/*#__PURE__*/React.createElement(Card.Body,null,Layout?Layout.map(function(item){return/*#__PURE__*/React.createElement(Row,null,item.children.length>0?item.children.map(function(column){return/*#__PURE__*/React.createElement(Col,{md:12/item.children.length},column.children.map(function(component){return component.hasOwnProperty(\"children\")?/*#__PURE__*/React.createElement(Row,null,component.children.map(function(componentrow){return/*#__PURE__*/React.createElement(Col,{md:12/componentrow.length},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,componentrow.label),/*#__PURE__*/React.createElement(ReadOnlyText,null,\"-\")));})):/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,component.label),/*#__PURE__*/React.createElement(ReadOnlyText,null,\" \",\"-\"));}));}):\"\");}):\"\")))):\"\"))))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,size:this.props.Login.operation==='configure'?\"xl\":\"lg\",closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.operation==='configure'||this.props.Login.operation==='configureedit'?[]:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.operation==='configure'?/*#__PURE__*/React.createElement(ConfigureScreenFields,{designData:this.props.Login.designData||{},inputParam:this.props.Login.inputParam,dataResult:this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode===TemplateType.Masters?this.props.Login.dataResult||[]:this.props.Login.dataResult||{},onChangeToggle:this.onChangeToggle,approvedRegSubTypeVersion:this.props.Login.approvedRegSubTypeVersion,selectedTemplateType:this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}):this.props.Login.operation==='configureedit'?/*#__PURE__*/React.createElement(ConfigureEditFields,{designData:this.props.Login.editFieldDesignData||{},inputParam:this.props.Login.inputParam,dataResult:this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode===TemplateType.Masters?this.props.Login.editFieldDataResult||[]:this.props.Login.editFieldDataResult||{},selectedRecord:this.state.selectedRecord||{}// onChangeToggle={this.onChangeToggle}\n,onComboChange:this.onConfigureComboChange// approvedRegSubTypeVersion={this.props.Login.approvedRegSubTypeVersion}\n,selectedTemplateType:this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}):this.state.showSynonym?/*#__PURE__*/React.createElement(AddSynonym,{selectedFieldRecord:this.state.selectedRecord,onInputOnChange:this.onInputOnChange,languages:this.props.Login.languageList||[],fieldName:\"nmodulecode\"}):/*#__PURE__*/React.createElement(AddDesignTemplateMapping,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,handleDateChange:this.handleDateChange,formatMessage:this.props.intl.formatMessage,designtemplatemappingList:this.props.Login.designtemplatemappingList,subSampleTemplateList:this.props.Login.subSampleTemplateList,selectedDesignTemplateMapping:this.props.Login.masterData.selectedDesignTemplateMapping||{},operation:this.props.Login.operation,userLogged:this.props.Login.userLogged,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,nformcode:this.props.Login.masterData.realFormValue?this.props.Login.masterData.realFormValue.value:-1,needSubSample:this.props.Login.masterData.realRegSubTypeValue?this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample:false,designTemplateQualisModule:this.props.Login.designTemplateQualisModule,language:this.props.Login.language,moduleTypeArray:this.state.moduleTypeArray||[]})}));}// onFilterSubmit = () => {\n//     this.reloadData()\n// }\n},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,selectedRecord=_this$state.selectedRecord,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,listSampletype=_this$state.listSampletype,listRegistrationType=_this$state.listRegistrationType,listRegistrationSubType=_this$state.listRegistrationSubType,listForms=_this$state.listForms;if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);updateState=true;}}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){updateState=true;selectedRecord=this.props.Login.selectedRecord;}var selectedInput={};var Taglstsampletype;var TaglistRegistrationType;var TaglistRegistrationSubType;var ListFormsMap;if(this.props.Login.masterData!==previousProps.Login.masterData){updateState=true;if(this.props.Login.masterData.SampleTypes){Taglstsampletype=constructOptionList(this.props.Login.masterData.SampleTypes||[],\"nsampletypecode\",\"ssampletypename\",\"nsorter\",\"undefined\",undefined);listSampletype=Taglstsampletype.get(\"OptionList\");}if(this.props.Login.masterData.registrationTypes){TaglistRegistrationType=constructOptionList(this.props.Login.masterData.registrationTypes||[],\"nregtypecode\",\"sregtypename\",undefined,undefined,undefined);listRegistrationType=TaglistRegistrationType.get(\"OptionList\");}if(this.props.Login.masterData.registrationSubTypes){TaglistRegistrationSubType=constructOptionList(this.props.Login.masterData.registrationSubTypes||[],\"nregsubtypecode\",\"sregsubtypename\",\"nsorter\",\"ascending\",undefined);listRegistrationSubType=TaglistRegistrationSubType.get(\"OptionList\");}if(this.props.Login.masterData.qualisforms){ListFormsMap=constructOptionList(this.props.Login.masterData.qualisforms||[],\"nformcode\",\"sdisplayname\",undefined,undefined,undefined);listForms=ListFormsMap.get(\"OptionList\");}}if(updateState){this.setState({selectedRecord:selectedRecord,controlMap:controlMap,userRoleControlRights:userRoleControlRights,listSampletype:listSampletype,listRegistrationType:listRegistrationType,listRegistrationSubType:listRegistrationSubType,selectedInput:selectedInput,listForms:listForms});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:[],inputParam:undefined,operation:null,modalName:undefined}};this.props.updateStore(updateInfo);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return DesignTemplateMapping;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,validateEsignCredential:validateEsignCredential,editFieldConfigService:editFieldConfigService,updateStore:updateStore,getDesignTemplateMappingDetail:getDesignTemplateMappingDetail,getMappedFieldProps:getMappedFieldProps,getDesignTemplateMappingComboService:getDesignTemplateMappingComboService,filterColumnData:filterColumnData,reloadDesignTemplateMapping:reloadDesignTemplateMapping,getTMPFilterRegType:getTMPFilterRegType,getTMPFilterRegSubType:getTMPFilterRegSubType,getTMPFilterSubmit:getTMPFilterSubmit})(injectIntl(DesignTemplateMapping));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/designtemplatemapping/DesignTemplateMapping.jsx"],"names":["React","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faPencilAlt","faTrashAlt","faThumbsUp","faUserLock","faClock","faList","connect","injectIntl","FormattedMessage","toast","callService","crudMaster","validateEsignCredential","updateStore","getDesignTemplateMappingDetail","getMappedFieldProps","editFieldConfigService","getDesignTemplateMappingComboService","filterColumnData","reloadDesignTemplateMapping","getTMPFilterRegType","getTMPFilterRegSubType","getTMPFilterSubmit","TemplateFilter","ContentPanel","ReadOnlyText","getControlMap","showEsign","convertDateValuetoString","constructOptionList","constructjsonOptionDefault","ListMaster","SlideOutModal","AddDesignTemplateMapping","Esign","DEFAULT_RETURN","BreadcrumbComponent","ListWrapper","designProperties","formCode","TemplateType","transactionStatus","AddSynonym","Affix","ConfirmMessage","ReactTooltip","ConfigureScreenFields","ConfigureEditFields","mapStateToProps","state","Login","DesignTemplateMapping","props","filterComboChange","event","fieldname","inputData","userinfo","userInfo","nflag","nsampletypecode","parseInt","value","masterData","defaultsampletype","inputParam","Masters","masterTypeArray","updateInfo","typeName","data","defaultMasterType","qualisforms","defaultform","newMasterForm","nregtypecode","nregsubtypecode","defaultregtype","defaultregsubtype","reloadData","searchRef","current","realRegTypeValue","realRegSubTypeValue","realSampleValue","nformcode","realFormValue","openFilter","showFilter","closeFilter","onFilterSubmit","NA","onApproveClick","selectedDesignTemplateMapping","ntransactionstatus","RETIRED","ncontrolCode","controlMap","has","get","ncontrolcode","postParam","undefined","Value","inputListName","selectedObject","primaryKeyField","classUrl","methodUrl","saveType","esignNeeded","userRoleControlRights","loadEsign","screenData","openModal","operation","warn","intl","formatMessage","id","ConfirmDelete","confirmMessage","confirm","deleteTemplate","DRAFT","openFieldConfiguration","controlCode","screenName","designtemplatemapping","ndesigntemplatemappingcode","item","napprovalconfigcode","editFieldConfiguration","validateEsign","sreason","selectedRecord","password","closeModal","selectedId","onComboChange","comboData","fieldName","setState","onConfigureComboChange","label","onInputOnChange","target","type","name","checked","YES","NO","handleDateChange","dateName","dateValue","getGridJsondata","templatedata","gridItem","gridMoreItem","masterdatefields","masterdateconstraints","masteruniquevalidation","editable","jdynamiccolumns","jnumericcolumns","templatePrimaryKey","mastertemplatefields","map","row","children","column","component","index","console","log","hasOwnProperty","componentRow","unique","push","LABEL","filterinputtype","comboDataInputObject","inputtype","source","valuemember","displaymember","displayname","VALUE","dateonly","dateConstraintArraySQL","default","columnname","mandatory","templatemandatory","editableuntill","table","jsondata","griditem","gridmoreitem","getJsondata","displayFields","listItem","subsampleeditable","subsamplelistitem","sampledatefields","sampledateconstraints","subsampledatefields","subsampledateconstraints","samplesearchfields","subsamplesearchfields","sampletemplatefields","subsampletemplatefields","sampleuniquevalidation","subsampleuniquevalidation","testdatefields","nsubsampletemplatecode","readonly","PREREGISTER","child","childData","tablecolumnname","obj","sampledisplayfields","samplelistitem","samplegriditem","samplegridmoreitem","testListFields","SAMPLEREGISTRATION","sampleeditable","RESULTENTRY","APPROVAL","JOBALLOCATION","MYJOBS","TESTWISEMYJOBS","onChangeToggle","dataItem","field","dataIndex","designData","dataResult","splice","realData","findIndex","x","length","onSaveClick","formRef","jsondataobj","editFieldDesignData","formCodeArray","Object","keys","forEach","editableData","editableuntil","statusItem","nreactregtemplatecode","nmastersitecode","qf_jsonData","sdisplayname","qbt_jsonData","tablename","languageList","lang","sformname","qm_jsonData","nmodulecode","smoduledisplayname","sprimarykeyname","onTabChange","tabProps","isOpen","designtemplatemappingData","masterStatus","error","userLogged","Map","showAccordian","selectedInput","nmastertypecode","smastertype","moduleTypeArray","createRef","searchFieldList","designtemplatemappingFieldList","Layout","userStatusCSS","ACTIVE","APPROVED","addId","deleteId","approveId","filterParam","fetchUrl","fecthInputObject","validationColumnList","mandatoryFields","breadCrumbData","addParam","controlId","searchedData","listSampletype","listRegistrationType","listRegistrationSubType","listForms","sregtemplatename","sversionno","stransdisplaystatus","indexOf","smodulename","componentrow","approvedRegSubTypeVersion","editFieldDataResult","showSynonym","designtemplatemappingList","subSampleTemplateList","nneedsubsample","designTemplateQualisModule","language","previousProps","updateState","values","Taglstsampletype","TaglistRegistrationType","TaglistRegistrationSubType","ListFormsMap","SampleTypes","registrationTypes","registrationSubTypes","modalName","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt, faThumbsUp, faUserLock, faClock, faList } from '@fortawesome/free-solid-svg-icons';//,faUserTimes, faTrash\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getDesignTemplateMappingDetail, \r\n    getMappedFieldProps, editFieldConfigService,\r\n    getDesignTemplateMappingComboService, filterColumnData, reloadDesignTemplateMapping, \r\n    getTMPFilterRegType, getTMPFilterRegSubType, getTMPFilterSubmit\r\n} from '../../actions';\r\nimport TemplateFilter from './TemplateFilter';\r\nimport { ContentPanel, ReadOnlyText } from '../../components/App.styles';\r\nimport { getControlMap, showEsign, convertDateValuetoString, constructOptionList, constructjsonOptionDefault } from '../../components/CommonScript';//searchData, sortData,\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\n// import DateTimePicker from '../../components/date-time-picker/date-time-picker.component';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport AddDesignTemplateMapping from './AddDesignTemplateMapping'\r\nimport Esign from '../../pages/audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { designProperties, formCode, TemplateType, transactionStatus } from '../../components/Enumeration';\r\n\r\nimport AddSynonym from '../../components/droparea/AddSynonym';\r\nimport { Affix } from 'rsuite';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport ConfigureScreenFields from './ConfigureScreenFields';\r\nimport ConfigureEditFields from './ConfigureEditFields';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass DesignTemplateMapping extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // const dataState = {\r\n        //     skip: 0,\r\n        //     take: 10,\r\n        // };\r\n\r\n        this.state = {\r\n            isOpen: false,\r\n            designtemplatemappingData: [],\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            //selectedRecord: {},\r\n            operation: \"\",\r\n\r\n            screenName: undefined,\r\n            userLogged: true,\r\n            selectedDesignTemplateMapping: undefined,\r\n\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            showAccordian: true,\r\n            selectedInput: \"\",\r\n            masterTypeArray : [{label:this.props.intl.formatMessage({id:\"IDS_NEWMASTER\"}),value:1, item:{nmastertypecode:1, smastertype:this.props.intl.formatMessage({id:\"IDS_NEWMASTER\"})}},\r\n                                {label:this.props.intl.formatMessage({id:\"IDS_EXISTINGMASTER\"}),value:2, item:{nmastertypecode:2, smastertype:this.props.intl.formatMessage({id:\"IDS_EXISTINGMASTER\"})}}],\r\n            newMasterForm : {value:-2, label:\"-\"},\r\n            moduleTypeArray :[{label:this.props.intl.formatMessage({id:\"IDS_NEWMODULE\"}), value:3},\r\n                              {label:this.props.intl.formatMessage({id:\"IDS_EXISTINGMODULE\"}),value:4}]\r\n\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        this.searchFieldList = [\"sregtemplatename\", \"sversionno\", \"stransdisplaystatus\"];\r\n\r\n        this.designtemplatemappingFieldList = ['ndesigntemplatemappingcode', 'nsampletypecode', 'nformcode',\r\n            'nregtypecode', 'nregsubtypecode', 'nformwisetypecode', 'nreactregtemplatecode', 'ntransactionstatus', 'nversionno'];//'nmahcode',\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    filterComboChange = (event, fieldname) => {\r\n        if (event !== null) {\r\n            // let uRL = \"\";\r\n            let inputData = [];\r\n            if (fieldname === \"sampleType\") {\r\n\r\n                inputData = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nflag: 1,\r\n                    nsampletypecode: parseInt(event.value),\r\n\r\n                }\r\n                let masterData = { ...this.props.Login.masterData, defaultsampletype: event }\r\n                let inputParam = { masterData, inputData }\r\n                if (event.value === TemplateType.Masters){\r\n                    const masterTypeArray = this.state.masterTypeArray\r\n            \r\n                    const updateInfo = {typeName: DEFAULT_RETURN,\r\n                                        data: { masterData:{...masterData,\r\n                                                             masterTypeArray, \r\n                                                             defaultMasterType:masterTypeArray[0],\r\n                                                             qualisforms:[], defaultform:this.state.newMasterForm,\r\n                                                             nregtypecode:-1, nregsubtypecode:-1 } \r\n                                                        }\r\n                                                    }\r\n    \r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else\r\n                {\r\n                    this.props.getTMPFilterRegType(inputParam)\r\n                }\r\n            }\r\n            else if (fieldname === \"registrationType\") {\r\n\r\n                inputData = {\r\n                    userinfo: this.props.Login.userInfo,\r\n\r\n                    nregtypecode: parseInt(event.value),\r\n                    nsampletypecode: this.props.Login.masterData.defaultsampletype.value,\r\n\r\n                }\r\n                let masterData = { ...this.props.Login.masterData, defaultregtype: event }\r\n                let inputParam = { masterData, inputData }\r\n                this.props.getTMPFilterRegSubType(inputParam)\r\n\r\n            } else if (fieldname === \"registrationSubType\") {\r\n\r\n                let masterData = { ...this.props.Login.masterData, defaultregsubtype: event }\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { masterData }\r\n                }\r\n\r\n                this.props.updateStore(updateInfo);\r\n            } \r\n            else if (fieldname === \"masterType\") {\r\n\r\n                let masterData = { ...this.props.Login.masterData, defaultMasterType: event }             \r\n\r\n                inputData = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nflag: 1,\r\n                    nsampletypecode: TemplateType.Masters,\r\n                }\r\n               \r\n                let inputParam = { masterData, inputData }\r\n                if (event.value === 1){\r\n                   const updateInfo = { typeName: DEFAULT_RETURN,\r\n                                        data: { masterData:{...masterData, qualisforms:[], defaultform:this.state.newMasterForm} } \r\n                                      }\r\n    \r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else\r\n                {\r\n                    this.props.getTMPFilterRegType(inputParam)\r\n                }\r\n\r\n            }else {\r\n                let masterData = { ...this.props.Login.masterData, defaultform: event }\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { masterData }\r\n                }\r\n\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n       \r\n        const Layout = this.props.Login.masterData.selectedDesignTemplateMapping &&\r\n            this.props.Login.masterData.selectedDesignTemplateMapping.jsondata\r\n\r\n        let userStatusCSS = \"outline-secondary\";\r\n        if (this.props.Login.masterData.selectedDesignTemplateMapping ? this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.ACTIVE\r\n            || this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.APPROVED : false) {\r\n            userStatusCSS = \"outline-success\";\r\n        }\r\n        else if (this.props.Login.masterData.selectedDesignTemplateMapping && this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.RETIRED) {\r\n            userStatusCSS = \"outline-danger\";\r\n        }\r\n\r\n        const addId = this.state.controlMap.has(\"AddDesignTemplateMapping\") && this.state.controlMap.get(\"AddDesignTemplateMapping\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteDesignTemplateMapping\") && this.state.controlMap.get(\"DeleteDesignTemplateMapping\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"ApproveDesignTemplateMapping\") && this.state.controlMap.get(\"ApproveDesignTemplateMapping\").ncontrolcode\r\n\r\n\r\n        const filterParam = {\r\n            inputListName: \"DesignTemplateMapping\",\r\n            selectedObject: \"selectedDesignTemplateMapping\",\r\n            primaryKeyField: \"ndesigntemplatemappingcode\",\r\n            fetchUrl: \"designtemplatemapping/getDesignTemplateMapping\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo,\r\n                                nsampletypecode:this.props.Login.masterData[\"realSampleValue\"] ? this.props.Login.masterData[\"realSampleValue\"].value :-1,\r\n                                nregtypecode:this.props.Login.masterData[\"realRegTypeValue\"] ? this.props.Login.masterData[\"realRegTypeValue\"].value :-1,\r\n                                nregsubtypecode:this.props.Login.masterData[\"realRegSubTypeValue\"] ? this.props.Login.masterData[\"realRegSubTypeValue\"].value :-1,\r\n                                nformcode:this.props.Login.masterData[\"realFormValue\"] ? this.props.Login.masterData[\"realFormValue\"].value :-1,\r\n                            },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: this.searchFieldList\r\n\r\n        };\r\n        this.validationColumnList = [\r\n            { \"idsName\": \"IDS_TEMPLATENAME\", \"dataField\": \"nreactregtemplatecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n\r\n\r\n        ]\r\n        const mandatoryFields = [];\r\n        this.validationColumnList.forEach(item => item.mandatory === true ?\r\n            mandatoryFields.push(item) : \"\"\r\n        );\r\n        // let breadCrumbDataDate = convertDateValuetoString(this.props.Login.masterData && this.props.Login.masterData.FromDate,\r\n        //     this.props.Login.masterData && this.props.Login.masterData.ToDate,\r\n        //     this.props.Login.userInfo)\r\n\r\n        // const breadCrumbData = [\r\n\r\n        let breadCrumbData = [];\r\n        this.props.Login.masterData[\"realSampleValue\"] && this.props.Login.masterData[\"realSampleValue\"].value === 4 ?\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_SAMPLETYPE\",\r\n                    \"value\": this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.label : \"-\"\r\n                }, \r\n                //defaultMasterType\r\n                // {\r\n                //     \"label\": \"IDS_MASTERTYPE\",\r\n                //     \"value\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.label : \"-\"\r\n                // },\r\n                {\r\n                    \"label\": \"IDS_SCREEN\",\r\n                    \"value\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.label : \"-\"\r\n                }\r\n            ] :\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_SAMPLETYPE\",\r\n                    \"value\": this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.label : \"-\"\r\n                }, {\r\n                    \"label\": \"IDS_REGTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.label : \"-\"\r\n                }, {\r\n                    \"label\": \"IDS_REGSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.label : \"-\"\r\n                }\r\n            ];\r\n\r\n            const addParam = {\r\n                                screenName: this.props.intl.formatMessage({ id: \"IDS_DESIGNTEMPLATEMAPPING\"}), \r\n                                operation:\"create\", \r\n                                userInfo : this.props.Login.userInfo, \r\n                                realSampleValue: this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.value : -1,\r\n                                realRegTypeValue: this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1, \r\n                                realRegSubTypeValue: this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1, \r\n                                controlId : addId,\r\n                                moduleTypeArray:this.state.moduleTypeArray\r\n                             }\r\n          \r\n        //console.log(\"render, props, state:\", this.props, this.state);\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" />\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                    {/* Start of get display*/}\r\n                    {/* <div className=\"client-listing-wrap mtop-4\"> */}\r\n                    <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" />\r\n                    <Row noGutters={true}>\r\n                        <Col md={4}>\r\n                            <ListMaster\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_DESIGNTEMPLATEMAPPING\"})}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.DesignTemplateMapping}\r\n                                getMasterDetail={(designtemplatemapping) => this.props.getDesignTemplateMappingDetail(designtemplatemapping, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedDesignTemplateMapping}\r\n                                primaryKeyField=\"ndesigntemplatemappingcode\"\r\n                                mainField=\"sregtemplatename\"\r\n                                firstField=\"sversionno\"\r\n                                secondField=\"stransdisplaystatus\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={true}\r\n                                openModal={() => this.props.getDesignTemplateMappingComboService(addParam)}\r\n                                showFilterIcon={true}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_TEMPLATEFILTER\":\r\n                                            <TemplateFilter\r\n                                                formatMessage={this.props.intl.formatMessage}\r\n                                                filterSampletype={this.state.listSampletype || []}\r\n                                                filterRegistrationType={this.state.listRegistrationType || []}\r\n                                                filterRegistrationSubType={this.state.listRegistrationSubType || []}\r\n                                                filterForms={this.state.listForms || []}\r\n                                                defaultsampletype={this.props.Login.masterData[\"defaultsampletype\"] || {}}\r\n                                                defaultregsubtype={this.props.Login.masterData[\"defaultregsubtype\"] || []}\r\n                                                defaultregtype={this.props.Login.masterData[\"defaultregtype\"] || []}\r\n                                                defaultform={this.props.Login.masterData.defaultform || []}\r\n                                                filterComboChange={this.filterComboChange}\r\n                                                masterTypeArray={this.props.Login.masterData.masterTypeArray || []}\r\n                                                defaultMasterType={this.props.Login.masterData.defaultMasterType || {}}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n\r\n\r\n                        <Col md={8}>\r\n                            <ContentPanel className=\"panel-main-content\">\r\n                                <Card className=\"border-0\">\r\n                                    {this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping.length > 0 && this.props.Login.masterData.selectedDesignTemplateMapping ?\r\n                                        <>\r\n                                            <Card.Header>\r\n                                                <Card.Title>\r\n                                                    <h1 className=\"product-title-main\">{this.props.Login.masterData.selectedDesignTemplateMapping.sregtemplatename}</h1>\r\n                                                </Card.Title>\r\n                                                <Card.Subtitle className=\"text-muted font-weight-normal\">\r\n                                                    <Row>\r\n                                                        <Col md={10} className=\"d-flex\">\r\n                                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                {`${this.props.intl.formatMessage({ id: \"IDS_VERSION\" })} : ${this.props.Login.masterData.selectedDesignTemplateMapping.sversionno}`}\r\n                                                                <span className={`btn btn-outlined ${this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.DRAFT ? \"outline-secondary\" : this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.APPROVED ? \"outline-success\" : \"outline-danger\"} btn-sm mx-md-3 mx-sm-2`}>\r\n                                                                    {this.props.Login.masterData.selectedDesignTemplateMapping.stransdisplaystatus}\r\n                                                                </span>\r\n\r\n                                                            </h2>\r\n                                                        </Col>\r\n                                                        <Col md={2}>\r\n                                                            <div className=\"d-flex product-category float-right icon-group-wrap\">\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={() => this.onApproveClick()}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faThumbsUp} title={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })} />\r\n                                                                </Nav.Link>\r\n                                                                {/* {this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters ? */}\r\n                                                                    <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREDISPLAYFIELDS\" })}\r\n                                                                        data-for=\"tooltip_list_wrap\"\r\n                                                                        onClick={() => this.openFieldConfiguration(approveId)}\r\n                                                                    >\r\n                                                                        <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREDISPLAYFIELDS\" })} />\r\n                                                                    </Nav.Link>\r\n                                                                     {/* : \"\"} */}\r\n                                                                {this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters ?\r\n                                                                    <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREEDITFIELDS\" })}\r\n                                                                            data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.editFieldConfiguration(approveId)}\r\n                                                                        > \r\n                                                                            <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREEDITFIELDS\" })} />\r\n                                                                    </Nav.Link>\r\n                                                                : \"\"}\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                    // onClick={() => this.ConfirmDelete(this.state.approveId)}>\r\n                                                                    onClick={() => this.ConfirmDelete()}>\r\n                                                                    <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                </Nav.Link>\r\n                                                            </div>\r\n\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                </Card.Subtitle>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                                {this.props.Login.masterData.selectedDesignTemplateMapping &&\r\n                                                this.props.Login.masterData.selectedDesignTemplateMapping.nformcode > 0 &&\r\n                                                <Row>\r\n                                                    <Col md={6}>\r\n                                                    <FormGroup>\r\n                                                        <FormLabel><FormattedMessage id=\"IDS_MODULENAME\" message=\"Module Name\" /></FormLabel>\r\n                                                        <ReadOnlyText>   { this.props.Login.masterData.selectedDesignTemplateMapping.smodulename}\r\n                                                        </ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                   \r\n                                                    </Col>\r\n                                                    <Col md={6}>\r\n                                                        <FormLabel><FormattedMessage id=\"IDS_FORMNAME\" message=\"Form Name\" /></FormLabel>\r\n                                                        <ReadOnlyText>   \r\n                                                                { this.props.Login.masterData.selectedDesignTemplateMapping.sformname}\r\n                                                        </ReadOnlyText>\r\n                                                   \r\n                                                    </Col>\r\n                                                </Row>}\r\n                                                <Card>\r\n                                                    <Card.Header><FormattedMessage id=\"IDS_TEMPLATE\" message=\"Template\"/></Card.Header>\r\n                                                    <Card.Body>   \r\n                                                    {\r\n                                                        Layout ?\r\n                                                            Layout.map((item) =>\r\n                                                                <Row>\r\n                                                                    {item.children.length > 0 ?\r\n                                                                        item.children.map((column) =>\r\n                                                                            <Col md={12 / item.children.length}>\r\n                                                                                {\r\n                                                                                    column.children.map((component) => {\r\n                                                                                        return (\r\n                                                                                            component.hasOwnProperty(\"children\") ?\r\n                                                                                                <Row>\r\n                                                                                                    {component.children.map(componentrow =>\r\n                                                                                                        <Col md={12 / componentrow.length}>\r\n                                                                                                            <FormGroup>\r\n                                                                                                                <FormLabel>{componentrow.label}</FormLabel>\r\n                                                                                                                <ReadOnlyText>{\"-\"}</ReadOnlyText>\r\n                                                                                                            </FormGroup>\r\n                                                                                                        </Col>\r\n                                                                                                    )\r\n                                                                                                    }\r\n                                                                                                </Row>\r\n                                                                                                :\r\n                                                                                                <FormGroup>\r\n                                                                                                    <FormLabel>{component.label}</FormLabel>\r\n                                                                                                    <ReadOnlyText> {\"-\"}</ReadOnlyText>\r\n                                                                                                </FormGroup>\r\n                                                                                        )\r\n                                                                                    })\r\n                                                                                }\r\n\r\n                                                                            </Col>\r\n                                                                        )\r\n                                                                        : \"\"}\r\n                                                                </Row>\r\n                                                            )\r\n                                                            :\r\n                                                            \"\"\r\n                                                    }\r\n                                                    </Card.Body>\r\n                                                </Card>\r\n                                            </Card.Body>\r\n\r\n                                        </>\r\n                                        : \"\"\r\n                                    }\r\n                                </Card>\r\n                            </ContentPanel>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n\r\n\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal}\r\n                        size={this.props.Login.operation === 'configure' ? \"xl\" : \"lg\"}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={(this.props.Login.operation === 'configure' || this.props.Login.operation === 'configureedit') ? [] : mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : this.props.Login.operation === 'configure' ?\r\n                                <ConfigureScreenFields\r\n                                    designData={this.props.Login.designData || {}}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\r\n                                        this.props.Login.dataResult ||  []:\r\n                                        this.props.Login.dataResult || {}}\r\n                                    onChangeToggle={this.onChangeToggle}\r\n                                    approvedRegSubTypeVersion={this.props.Login.approvedRegSubTypeVersion}\r\n                                    selectedTemplateType={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}\r\n                                />\r\n                                : this.props.Login.operation === 'configureedit' ?\r\n                                <ConfigureEditFields\r\n                                    designData={this.props.Login.editFieldDesignData || {}}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\r\n                                        this.props.Login.editFieldDataResult ||  []:\r\n                                        this.props.Login.editFieldDataResult || {}}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                   // onChangeToggle={this.onChangeToggle}\r\n                                    onComboChange={this.onConfigureComboChange}\r\n                                   // approvedRegSubTypeVersion={this.props.Login.approvedRegSubTypeVersion}\r\n                                    selectedTemplateType={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}\r\n                                />\r\n                                : \r\n                                this.state.showSynonym ?\r\n                                <AddSynonym\r\n                                    selectedFieldRecord={this.state.selectedRecord}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    languages={this.props.Login.languageList || []}\r\n                                    fieldName=\"nmodulecode\"\r\n                                />\r\n                                :<AddDesignTemplateMapping\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    handleDateChange={this.handleDateChange}\r\n                                    formatMessage={this.props.intl.formatMessage}\r\n                                    designtemplatemappingList={this.props.Login.designtemplatemappingList}\r\n                                    subSampleTemplateList={this.props.Login.subSampleTemplateList}\r\n                                    selectedDesignTemplateMapping={this.props.Login.masterData.selectedDesignTemplateMapping || {}}\r\n                                    operation={this.props.Login.operation}\r\n                                    userLogged={this.props.Login.userLogged}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    nformcode={this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.value : -1}\r\n                                    needSubSample={this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample : false}\r\n                                    designTemplateQualisModule={this.props.Login.designTemplateQualisModule}\r\n                                    language={this.props.Login.language}\r\n                                    moduleTypeArray={this.state.moduleTypeArray || []}\r\n                               \r\n                                 />}\r\n                    />\r\n                }\r\n\r\n            </>\r\n        );\r\n    }\r\n    // onFilterSubmit = () => {\r\n    //     this.reloadData()\r\n    // }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n            nregtypecode: parseInt(this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value || -1 : -1),\r\n            nregsubtypecode: parseInt(this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value || -1 : -1),\r\n            nsampletypecode: this.props.Login.masterData.realSampleValue.value,\r\n            nformcode: this.props.Login.masterData.realFormValue ? this.props.Login.masterData[\"realFormValue\"].value : -1\r\n        };\r\n\r\n        let inputParam = { masterData: this.props.Login.masterData, inputData };\r\n        this.props.reloadDesignTemplateMapping(inputParam);\r\n\r\n\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let updateState = false;\r\n\r\n        let { selectedRecord, userRoleControlRights, controlMap,\r\n            listSampletype, listRegistrationType, listRegistrationSubType, listForms } = this.state;\r\n\r\n\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]\r\n                    && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n\r\n                updateState = true;\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            updateState = true;\r\n            selectedRecord = this.props.Login.selectedRecord\r\n        }\r\n\r\n        const selectedInput = {};\r\n        let Taglstsampletype;\r\n        let TaglistRegistrationType;\r\n        let TaglistRegistrationSubType;\r\n        let ListFormsMap;\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            updateState = true;\r\n            if (this.props.Login.masterData.SampleTypes) {\r\n                Taglstsampletype = constructOptionList(this.props.Login.masterData.SampleTypes || [], \"nsampletypecode\", \"ssampletypename\", \"nsorter\", \"undefined\", undefined);\r\n                listSampletype = Taglstsampletype.get(\"OptionList\");\r\n            }\r\n            if (this.props.Login.masterData.registrationTypes) {\r\n                TaglistRegistrationType = constructOptionList(this.props.Login.masterData.registrationTypes || [], \"nregtypecode\", \"sregtypename\", undefined, undefined, undefined);\r\n                listRegistrationType = TaglistRegistrationType.get(\"OptionList\");\r\n            }\r\n            if (this.props.Login.masterData.registrationSubTypes) {\r\n                TaglistRegistrationSubType = constructOptionList(this.props.Login.masterData.registrationSubTypes || [], \"nregsubtypecode\", \"sregsubtypename\", \"nsorter\", \"ascending\", undefined);\r\n                listRegistrationSubType = TaglistRegistrationSubType.get(\"OptionList\");\r\n            }\r\n            if (this.props.Login.masterData.qualisforms) {\r\n                ListFormsMap = constructOptionList(this.props.Login.masterData.qualisforms || [], \"nformcode\", \"sdisplayname\", undefined, undefined, undefined);\r\n                listForms = ListFormsMap.get(\"OptionList\");\r\n            }          \r\n        }\r\n\r\n        if (updateState) {\r\n            this.setState({\r\n                selectedRecord, controlMap, userRoleControlRights,\r\n                listSampletype, listRegistrationType, listRegistrationSubType,\r\n                selectedInput, listForms\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n            nregtypecode: this.props.Login.masterData.defaultsampletype.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.defaultregtype ? this.props.Login.masterData.defaultregtype.value || -1 : -1),\r\n            nregsubtypecode: this.props.Login.masterData.defaultsampletype.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.defaultregsubtype ? this.props.Login.masterData.defaultregsubtype.value || -1 : -1),\r\n            nsampletypecode: this.props.Login.masterData.defaultsampletype.value,\r\n            nformcode: this.props.Login.masterData.defaultform ? this.props.Login.masterData.defaultform.value || -1 : -1\r\n\r\n        };\r\n        let masterData = {\r\n            ...this.props.Login.masterData,\r\n            realSampleValue: this.props.Login.masterData.defaultsampletype,\r\n            realFormValue: this.props.Login.masterData.defaultform,\r\n            realRegTypeValue: this.props.Login.masterData.defaultregtype,\r\n            realRegSubTypeValue: this.props.Login.masterData.defaultregsubtype\r\n        }\r\n        let inputParam = { masterData, inputData };\r\n        this.props.getTMPFilterSubmit(inputParam);\r\n    }\r\n\r\n    onApproveClick = () => {\r\n        if (this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus !== transactionStatus.RETIRED) {\r\n\r\n            const ncontrolCode = this.state.controlMap.has(\"ApproveDesignTemplateMapping\") && this.state.controlMap.get(\"ApproveDesignTemplateMapping\").ncontrolcode\r\n            let inputData = [];\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n            let postParam = undefined;\r\n            inputData[\"designtemplatemapping\"] = { \"ndesigntemplatemappingcode\": this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"] ? this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"].Value : \"\" };\r\n            inputData[\"designtemplatemapping\"] = this.props.Login.masterData.selectedDesignTemplateMapping;\r\n            postParam = { inputListName: \"DesignTemplateMapping\", selectedObject: \"selectedDesignTemplateMapping\", primaryKeyField: \"ndesigntemplatemappingcode\" };\r\n\r\n            const inputParam = {\r\n                inputData: {\r\n                    \"userinfo\": this.props.Login.userInfo,\r\n\r\n                },\r\n                classUrl: 'designtemplatemapping',\r\n                methodUrl: \"DesignTemplateMapping\",\r\n                inputData: inputData,\r\n                operation: \"approve\", postParam\r\n            }\r\n            let saveType;\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\r\n            if (esignNeeded) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"approve\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n\r\n        }\r\n        else {\r\n\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_TEMPLATERETIRED\" }));\r\n        }\r\n    }\r\n\r\n    ConfirmDelete = () => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteTemplate());\r\n    }\r\n\r\n    deleteTemplate = () => {\r\n        if ((this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.DRAFT)) {\r\n            const ncontrolCode = this.state.controlMap.has(\"DeleteDesignTemplateMapping\") && this.state.controlMap.get(\"DeleteDesignTemplateMapping\").ncontrolcode\r\n            let inputData = [];\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n            let postParam = undefined;\r\n            inputData[\"designtemplatemapping\"] = { \"ndesigntemplatemappingcode\": this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"] ? this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"].Value : \"\" };\r\n            inputData[\"designtemplatemapping\"] = this.props.Login.masterData.selectedDesignTemplateMapping;\r\n            postParam = { inputListName: \"DesignTemplateMapping\", selectedObject: \"selectedDesignTemplateMapping\", primaryKeyField: \"ndesigntemplatemappingcode\" };\r\n\r\n\r\n            const inputParam = {\r\n                inputData: {\r\n                    \"userinfo\": this.props.Login.userInfo,\r\n\r\n                },\r\n                classUrl: 'designtemplatemapping',\r\n                methodUrl: \"DesignTemplateMapping\",\r\n                inputData: inputData,\r\n                operation: \"delete\", postParam\r\n            }\r\n            let saveType;\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\r\n            if (esignNeeded) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"delete\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n\r\n        }\r\n        else {\r\n\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORDTODELETE\" }));\r\n        }\r\n    }\r\n\r\n    openFieldConfiguration = (controlCode) => {\r\n        let openModal = true;\r\n        let operation = 'configure';\r\n        let ncontrolcode = controlCode;\r\n        let screenName = \"IDS_FIELDS\";\r\n         let inputParam = {\r\n            inputData: {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\r\n                },\r\n                userinfo: this.props.Login.userInfo,\r\n            },\r\n            operation,\r\n            ncontrolcode,\r\n            screenName\r\n        }\r\n        if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){\r\n            inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\r\n         }\r\n        inputParam[\"TemplateType\"] =  this.props.Login.masterData.realSampleValue.value;\r\n             \r\n        this.props.getMappedFieldProps(inputParam)\r\n    }\r\n\r\n    editFieldConfiguration = (controlCode) => {\r\n        \r\n        //console.log(\"edit config:\", this.props.Login);\r\n        let operation = 'configureedit';\r\n        let ncontrolcode = controlCode;\r\n        let screenName = \"IDS_FIELDS\";\r\n         let inputParam = {\r\n            inputData: {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\r\n                },\r\n                nregtypecode: this.props.Login.masterData.defaultregtype.value,  \r\n                nregsubtypecode: this.props.Login.masterData.defaultregsubtype.value,                 \r\n                userinfo: this.props.Login.userInfo,\r\n            },\r\n            operation,\r\n            ncontrolcode,\r\n            screenName\r\n        }\r\n        // if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){\r\n        //     inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\r\n        //  }\r\n        inputParam[\"TemplateType\"] =  this.props.Login.masterData.realSampleValue.value;\r\n             \r\n        this.props.editFieldConfigService(inputParam)\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"approve\"\r\n                || this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;;\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onConfigureComboChange = (comboData, formCode,item) => {\r\n        const fieldName = item.label;\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[formCode]={... selectedRecord[formCode],[fieldName] :comboData};\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n        // let designData = this.props.Login.editFieldDesignData;\r\n        // let dataResult = this.props.Login.editFieldDataResult;\r\n        // if (formCode === undefined){\r\n        //     dataResult[dataIndex][field] = event.target.checked;\r\n        //     if (event.target.checked) {\r\n        //         designData[field].splice(dataIndex, 0, dataItem.realData)\r\n               \r\n        //     } else {\r\n        //         designData[field].splice(designData[field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n        //     }\r\n        // }\r\n        // else{\r\n        //     dataResult[formCode][\"sampleeditable\"] = comboData;\r\n        //     if (event.target.checked) {\r\n        //         if (field === 'samplelistitem' && designData[formCode][field].length >= 6) {\r\n        //             return toast.warn(this.props.intl.formatMessage({ id: \"IDS_MAXIMUMSELECTIONEXCEEDS\" }))\r\n        //         } else {\r\n        //             designData[formCode][field].splice(dataIndex, 0, dataItem.realData)\r\n        //         }\r\n        //         if (field === 'sampledisplayfields') {\r\n        //             designData[formCode]['samplesearchfields'].splice(dataIndex, 0, dataItem.label)\r\n        //         }\r\n        //     } else {\r\n        //         if (field === 'sampledisplayfields') {\r\n        //             designData[formCode]['samplesearchfields'].splice(designData[formCode]['samplesearchfields'].findIndex(x => x === dataItem.label), 1)\r\n        //         }\r\n        //         designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n        //     }\r\n        // }\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { designData, dataResult }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    getGridJsondata = (templatedata) => {\r\n        let gridItem = [];\r\n        let gridMoreItem = [];\r\n        let masterdatefields = [];\r\n        let masterdateconstraints = [];\r\n        let masteruniquevalidation = [];\r\n        let editable = [];\r\n        let jdynamiccolumns = [];\r\n        let jnumericcolumns = [];\r\n        let templatePrimaryKey = \"\";\r\n        let mastertemplatefields = [];\r\n        templatedata && templatedata.map(row =>\r\n            row.children && row.children.map(column => {\r\n                column.children && column.children.map((component, index) => {\r\n                    console.log(\"component2:\", component);\r\n                    if (component.hasOwnProperty('children')) {\r\n                        component.children.map(componentRow => {\r\n                           // console.log(\"component row2:\", componentRow);\r\n                            componentRow.unique && masteruniquevalidation.push({ [designProperties.LABEL]: componentRow.label });\r\n                            templatePrimaryKey = templatePrimaryKey === \"\" && componentRow.unique ? componentRow.label : templatePrimaryKey;\r\n                            \r\n                            let filterinputtype = \"text\";\r\n                            let comboDataInputObject =  {};\r\n                           \r\n                            if (componentRow.inputtype === 'combo') {\r\n\r\n                                comboDataInputObject =  { \"predefinedtablename\": componentRow.source,\r\n                                                        \"predefinedvaluemember\": componentRow.valuemember,\r\n                                                        \"predefineddisplaymember\": componentRow.displaymember,\r\n                                                        \"predefinedismultilingual\": true,\r\n                                                        \"predefinedconditionalString\": componentRow.valuemember + \" > 0 \"\r\n                                                        };\r\n                                jnumericcolumns.push({\r\n                                    \"columnname\": componentRow.displaymember,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"foriegntablePK\": componentRow.label,\r\n                                    // \"ismultilingual\": true,\r\n                                    // \"conditionstring\": \" and nformcode in (\"+componentRow.table.item.nformcode+\") \",\r\n                                    \"tablecolumnname\": componentRow.valuemember,\r\n                                    \"foriegntablename\": componentRow.source,\r\n                                     ...comboDataInputObject\r\n                                })\r\n                                filterinputtype=\"predefinednumeric\";\r\n                            }\r\n                            // samplesearchfields.push(componentRow.label)\r\n                            if (componentRow.inputtype === 'date') {\r\n                                filterinputtype =\"date\";\r\n                                masterdatefields.push({ [designProperties.VALUE]: componentRow.label, dateonly: componentRow.dateonly || false });\r\n                                masterdateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\r\n                            }\r\n                            if (componentRow.inputtype === 'Numeric' || componentRow.inputtype === 'radio') {\r\n                                filterinputtype =\"numeric\";\r\n                            }\r\n\r\n                            jdynamiccolumns.push({\r\n                                default: componentRow.unique ? true :false,\r\n                                filterinputtype,\r\n                                columnname: componentRow.label,\r\n                                displayname: componentRow.displayname,\r\n                                ...comboDataInputObject\r\n                            })\r\n                            // displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            // componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.mandatory || componentRow.templatemandatory) {\r\n                                gridItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            }\r\n                            else {\r\n                                gridMoreItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            }\r\n                            mastertemplatefields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.templatemandatory) {\r\n                                editable.push({ label: componentRow.label, editableuntill: [] })\r\n                            }\r\n                            else{\r\n                                editable.push({ label: componentRow.label, editableuntill: [transactionStatus.DRAFT] })\r\n                            }\r\n                            \r\n                            return null;\r\n                        })\r\n                    } else {\r\n                        console.log(\"component2:\", component);\r\n                        component.unique && masteruniquevalidation.push({ [designProperties.LABEL]: component.label });\r\n                        templatePrimaryKey = templatePrimaryKey === \"\" && component.unique ? component.label : templatePrimaryKey;\r\n                      \r\n                         \r\n                        let filterinputtype = \"text\";\r\n                        let comboDataInputObject =  {};\r\n\r\n                        mastertemplatefields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                          \r\n                        if (component.inputtype === 'combo') {\r\n                            filterinputtype=\"predefinednumeric\";\r\n                            comboDataInputObject =  { \"predefinedtablename\": component.source,\r\n                                                    \"predefinedvaluemember\": component.valuemember,\r\n                                                    \"predefineddisplaymember\": component.displaymember,\r\n                                                    \"predefinedismultilingual\": true,\r\n                                                    \"predefinedconditionalString\":  component.valuemember + \" > 0\"\r\n                                                    };\r\n                            jnumericcolumns.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"foriegntablePK\": component.label,\r\n                                // \"ismultilingual\": true,\r\n                                \"conditionstring\": \" and nformcode in (\" + component.table.item.nformcode + \") \",\r\n                                \"tablecolumnname\": component.column.value,\r\n                                \"foriegntablename\": \"dynamicmaster\",\r\n                                ...comboDataInputObject\r\n                            })\r\n                        }\r\n                        // samplesearchfields.push(component.label)\r\n                        if (component.inputtype === 'date') {\r\n                            filterinputtype =\"date\";\r\n                            masterdatefields.push({ [designProperties.VALUE]: component.label, dateonly: component.dateonly || false });\r\n                            masterdateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\r\n                        }\r\n                        if (component.inputtype === 'numeric' || component.inputtype === 'radio') {\r\n                            filterinputtype =\"numeric\";\r\n                        }\r\n\r\n                        jdynamiccolumns.push({\r\n                            default: component.unique ? true :false,\r\n                            columnname: component.label,\r\n                            displayname: component.displayname,\r\n                            filterinputtype,\r\n                            ...comboDataInputObject\r\n                        });\r\n                        // displayFields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        // component.templatemandatory && listItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        if (component.mandatory || component.templatemandatory) {\r\n                            gridItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        } else {\r\n                            gridMoreItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label });\r\n                        }\r\n                        if (component.templatemandatory) {\r\n                            editable.push({ label: component.label, editableuntill: [] })\r\n                        }\r\n                        else{\r\n                            editable.push({ label: component.label, editableuntill: [transactionStatus.DRAFT] })\r\n                        }\r\n                        return null;\r\n                    }\r\n\r\n                })\r\n            })\r\n        );\r\n        let jsondata = {\r\n            griditem:gridItem,\r\n            gridmoreitem:gridMoreItem,\r\n            masterdatefields,\r\n            masterdateconstraints,\r\n            masteruniquevalidation,\r\n            editable,\r\n            mastertemplatefields\r\n        }\r\n\r\n        console.log(\"dynamiccolumns:\", jdynamiccolumns);\r\n        return { jsondata, jdynamiccolumns, jnumericcolumns, templatePrimaryKey };\r\n    }\r\n\r\n    getJsondata = (templatedata) => {\r\n        let displayFields = []\r\n        let listItem = []\r\n        let gridItem = []\r\n        let gridMoreItem = []\r\n        let editable = []\r\n        let subsampleeditable = [];\r\n        let subsamplelistitem = [];\r\n        let sampledatefields = [{ [designProperties.VALUE]: 'dregdate', dateonly: false }];\r\n        let sampledateconstraints = [];\r\n        let subsampledatefields = [];\r\n        let subsampledateconstraints = [];\r\n        let samplesearchfields = [\"dregdate\", \"sarno\", \"stransdisplaystatus\"];\r\n        let subsamplesearchfields = [\"sarno\", \"ssamplearno\", \"stransdisplaystatus\"];\r\n        let sampletemplatefields = [];\r\n        let subsampletemplatefields = [];\r\n        let sampleuniquevalidation = [];\r\n        let subsampleuniquevalidation = [];\r\n        let jdynamiccolumns = [];\r\n        let jnumericcolumns = [];\r\n       // const staticSearchFields = [\"dregdate\", \"sarno\", \"stransdisplaystatus\"];\r\n        // const sampleStaticFields = [\r\n        //     { [designProperties.LABEL]: { \"en-US\": \"Reg Date\",\"Ko-KR\":\"Reg Date\",\"ru-RU\":\"Дата регистрации\",\"tg-TG\":\"Санаи бақайдгирӣ\" }, \r\n        //       [designProperties.VALUE]: 'dregdate' },\r\n        //     { [designProperties.LABEL]: { \"en-US\": \"Ar No.\",\"Ko-KR\":\"Reg Date\",\"ru-RU\":\"Ар №\",\"tg-TG\":\"Ар №\" }, \r\n        //       [designProperties.VALUE]: 'sarno' },\r\n        //     { [designProperties.LABEL]: { \"en-US\": \"Transaction Status\",\"Ko-KR\":\"Transaction Status\",\"ru-RU\":\"Статус транзакции\",\"tg-TG\":\"Ҳолати транзаксия\" }, \r\n        //       [designProperties.VALUE]: 'stransdisplaystatus' }\r\n        //     ]\r\n        let testdatefields = [{ [designProperties.VALUE]: 'dtransactiondate', dateonly: false }];\r\n        this.state.selectedRecord.nsubsampletemplatecode && this.state.selectedRecord.nsubsampletemplatecode.item.jsondata.map(row =>\r\n            row.children && row.children.map(column => {\r\n                column.children && column.children.map(component => {\r\n                    if (component.hasOwnProperty('children')) {\r\n                        component.children.map(componentRow => {\r\n                            componentRow.unique && subsampleuniquevalidation.push({ [designProperties.LABEL]: componentRow.label });\r\n                            subsamplesearchfields.push(componentRow.label);\r\n                            //subsampleeditable.push({ label: componentRow.label, editableuntill: [17] })\r\n                           \r\n                            if(component.readonly)\r\n                                subsampleeditable.push({ label: componentRow.label, editableuntill: [] })\r\n                            else\r\n                                subsampleeditable.push({ label: componentRow.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n                       \r\n                            if (componentRow.inputtype === 'date') {\r\n                                subsampledatefields.push({ [designProperties.VALUE]: componentRow.label, dateonly: componentRow.dateonly || false });\r\n                                subsampledateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...subsampledateconstraints] : subsampledateconstraints;\r\n                            }\r\n                            subsamplelistitem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                        }\r\n                        )\r\n                    } else {\r\n                        \r\n                        component.unique && subsampleuniquevalidation.push({ [designProperties.LABEL]: component.label });\r\n                        subsamplesearchfields.push(component.label);\r\n                       // subsampleeditable.push({ label: component.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n                       \r\n                        if(component.readonly)\r\n                            subsampleeditable.push({ label: component.label, editableuntill: [] })\r\n                        else\r\n                            subsampleeditable.push({ label: component.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n                       \r\n                       \r\n                       \r\n                        if (component.inputtype === 'date') {\r\n                            subsampledatefields.push({ [designProperties.VALUE]: component.label, dateonly: component.dateonly || false });\r\n                            subsampledateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...subsampledateconstraints] : subsampledateconstraints;\r\n                        }\r\n                        subsamplelistitem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label });\r\n                    }\r\n                })\r\n            })\r\n        )\r\n        templatedata && templatedata.map(row =>\r\n            row.children && row.children.map(column => {\r\n                column.children && column.children.map(component => {\r\n                    if (component.hasOwnProperty('children')) {\r\n                        // let combinedField = [];\r\n                        component.children.map(componentRow => {\r\n                            // combinedField.push(componentRow.label)\r\n                            jdynamiccolumns.push({\r\n                                columnname: componentRow.label,\r\n                                displayname: componentRow.displayname\r\n                            })\r\n                            if (componentRow.hasOwnProperty('child')) {\r\n                                componentRow.child.map(childData => {\r\n                                    jnumericcolumns.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"foriegntablePK\": componentRow.label,\r\n                                        // \"ismultilingual\": true,\r\n                                        // \"conditionstring\": \" and nformcode in (140) \",\r\n                                        \"tablecolumnname\": childData.tablecolumnname,\r\n                                        \"foriegntablename\": \"dynamicmaster\"\r\n                                    })\r\n                                })\r\n                            }\r\n                            componentRow.unique && sampleuniquevalidation.push({ [designProperties.LABEL]: componentRow.label });\r\n                            samplesearchfields.push(componentRow.label)\r\n                            sampletemplatefields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.inputtype === 'date') {\r\n                                sampledatefields.push({ [designProperties.VALUE]: componentRow.label, dateonly: componentRow.dateonly || false });\r\n                                sampledateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...sampledateconstraints] : sampledateconstraints;\r\n                            }\r\n                            displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.mandatory || componentRow.templatemandatory) {\r\n                                gridItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            }\r\n                            else {\r\n                                gridMoreItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            }\r\n                            if (componentRow.templatemandatory) {\r\n                                editable.push({ label: componentRow.label, editableuntill: [] })\r\n                            }\r\n                            else{\r\n                                if(componentRow.readonly)\r\n                                    editable.push({ label: componentRow.label, editableuntill: [] })\r\n                                else\r\n                                    editable.push({ label: componentRow.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n                       \r\n                            }\r\n                            return null;\r\n                        })\r\n                        // let fieldSet = combinedField.join(\"&\")\r\n                        // displayFields.push(fieldSet);\r\n                        // componentRow.templatemandatory && listItem.push(fieldSet)\r\n                        // gridMoreItem.push(fieldSet);\r\n                    } else {\r\n                        jdynamiccolumns.push({\r\n                            columnname: component.label,\r\n                            displayname: component.displayname\r\n                        });\r\n                        if (component.hasOwnProperty('child')) {\r\n                            component.child.map(childData => {\r\n                                jnumericcolumns.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"foriegntablePK\": component.label,\r\n                                    // \"ismultilingual\": true,\r\n                                    // \"conditionstring\": \" and nformcode in (140) \",\r\n                                    \"tablecolumnname\": childData.tablecolumnname,\r\n                                    \"foriegntablename\": \"dynamicmaster\"\r\n                                })\r\n                            })\r\n                        }\r\n                        component.unique && sampleuniquevalidation.push({ [designProperties.LABEL]: component.label });\r\n                        samplesearchfields.push(component.label)\r\n                        sampletemplatefields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        if (component.inputtype === 'date') {\r\n                            sampledatefields.push({ [designProperties.VALUE]: component.label, dateonly: component.dateonly || false });\r\n                            sampledateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...sampledateconstraints] : sampledateconstraints;\r\n                        }\r\n                        displayFields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        component.templatemandatory && listItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        if (component.mandatory || component.templatemandatory) {\r\n                            gridItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        } else {\r\n                            gridMoreItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label });\r\n                        }\r\n                        if (component.templatemandatory) {                         \r\n                             editable.push({ label: component.label, editableuntill: [] })\r\n                        }\r\n                        else{\r\n                              // editable.push({ label: component.label, editableuntill: [17] })\r\n                            if(component.readonly)\r\n                                editable.push({ label: component.label, editableuntill: [] })\r\n                            else\r\n                                editable.push({ label: component.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n                         \r\n                        }\r\n                        return null;\r\n                    }\r\n\r\n                })\r\n            }\r\n            )\r\n        )\r\n        displayFields.push({ [designProperties.LABEL]: { \"en-US\": \"Reg Date\",\"Ko-KR\":\"Reg Date\",\"ru-RU\":\"Дата регистрации\",\"tg-TG\":\"Санаи бақайдгирӣ\" }, \r\n                             [designProperties.VALUE]: 'dregdate' });\r\n\r\n        //samplesearchfields.push(...staticSearchFields);\r\n        let obj = {\r\n            sampledisplayfields: displayFields,\r\n            samplelistitem: listItem,\r\n            samplegriditem: gridItem,\r\n            samplegridmoreitem: gridMoreItem,\r\n            subsamplelistitem,\r\n            sampledatefields,\r\n            subsampledatefields,\r\n            samplesearchfields,\r\n            subsamplesearchfields,\r\n            testdatefields,\r\n            sampledateconstraints,\r\n            subsampledateconstraints,\r\n            sampleuniquevalidation,\r\n            subsampleuniquevalidation,\r\n            ...this.props.Login.testListFields\r\n        }\r\n\r\n\r\n        let jsondata = {\r\n            sampletemplatefields,\r\n            subsampletemplatefields: subsamplesearchfields,\r\n            [formCode.SAMPLEREGISTRATION]: {\r\n                ...obj,\r\n                sampleeditable: editable,\r\n                subsampleeditable\r\n            },\r\n            [formCode.RESULTENTRY]: {\r\n                ...obj,\r\n            },\r\n            [formCode.APPROVAL]: {\r\n                ...obj,\r\n            },\r\n            [formCode.JOBALLOCATION]: {\r\n                ...obj,\r\n            },\r\n            [formCode.MYJOBS]: {\r\n                ...obj,\r\n            },\r\n            [formCode.TESTWISEMYJOBS]:{\r\n                ...obj,\r\n            }\r\n\r\n        }\r\n        return jsondata;\r\n    }\r\n\r\n    onChangeToggle = (event, dataItem, field, dataIndex, formCode) => {\r\n        let designData = this.props.Login.designData;\r\n        let dataResult = this.props.Login.dataResult;\r\n        if (formCode === undefined){\r\n            dataResult[dataIndex][field] = event.target.checked;\r\n            if (event.target.checked) {\r\n                designData[field].splice(dataIndex, 0, dataItem.realData)\r\n               \r\n            } else {\r\n                designData[field].splice(designData[field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n            }\r\n        }\r\n        else{\r\n            //dataResult[formCode][dataIndex][field] = event.target.checked;\r\n            if (event.target.checked) {\r\n                if (field === 'samplelistitem' && designData[formCode][field].length >= 6) {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_MAXIMUMSELECTIONEXCEEDS\" }))\r\n                } else {\r\n                    dataResult[formCode][dataIndex][field] = event.target.checked;\r\n                    designData[formCode][field].splice(dataIndex, 0, dataItem.realData)\r\n                }\r\n                if (field === 'sampledisplayfields') {\r\n                    dataResult[formCode][dataIndex][field] = event.target.checked;\r\n                    designData[formCode]['samplesearchfields'].splice(dataIndex, 0, dataItem.label)\r\n                }\r\n            } else {\r\n                if (field === 'sampledisplayfields') {\r\n                    dataResult[formCode][dataIndex][field] = event.target.checked;\r\n                    designData[formCode]['samplesearchfields'].splice(designData[formCode]['samplesearchfields'].findIndex(x => x === dataItem.label), 1)\r\n                }\r\n                dataResult[formCode][dataIndex][field] = event.target.checked;\r\n                designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n            }\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { designData, dataResult }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n\r\n        //console.log(\"save:\", this.state.selectedRecord);\r\n        //console.log(\"data:\", this.props.Login.editFieldDesignData)\r\n        let inputData = [];\r\n\r\n        let operation = this.props.Login.operation;\r\n\r\n       \r\n        if (operation === 'configure') {\r\n            inputData = {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\r\n                    jsondataobj: this.props.Login.designData\r\n                },\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n        } \r\n        else  if (operation === 'configureedit') {\r\n\r\n            let designData = this.props.Login.editFieldDesignData;\r\n            let formCodeArray = Object.keys(this.state.selectedRecord);\r\n          \r\n            formCodeArray.forEach(formCode =>{\r\n                const data = this.state.selectedRecord[formCode];\r\n                const editableData =  designData[formCode]['sampleeditable'];;\r\n                Object.keys(data).map(label=>{                    \r\n                    const editableuntil = [];\r\n                    data[label].map(statusItem =>\r\n                        editableuntil.push(statusItem.value)\r\n                    )\r\n                    const index = editableData.findIndex(item=>item.label === label);\r\n                    if (index === -1){\r\n                        editableData.push({\"label\":label, \"editableuntill\":editableuntil});\r\n                    }\r\n                    else\r\n                    {\r\n                        editableData[index] = {\"label\":label, \"editableuntill\":editableuntil};\r\n                    }\r\n                    //designData[formCode]['sampleeditable'].push({\"label\":label, \"editableuntill\":editableuntil});\r\n                })\r\n              \r\n            })\r\n\r\n            inputData = {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\r\n                    jsondataobj: designData\r\n                },\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n\r\n            operation = 'configure';\r\n        } \r\n        else {\r\n            let { jsondata, jdynamiccolumns, jnumericcolumns, templatePrimaryKey } = this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ?\r\n                this.getGridJsondata(this.state.selectedRecord.nreactregtemplatecode.item.jsondata)\r\n                : {}\r\n            inputData = {\r\n                \"userinfo\": this.props.Login.userInfo,\r\n                \"ncontrolcode\": this.props.Login.ncontrolCode,\r\n                \"nreactregtemplatecode\": this.state.selectedRecord.nreactregtemplatecode.value,\r\n                \"nsampletypecode\": this.props.Login.masterData.realSampleValue.value,\r\n                \"nregtypecode\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? -1 : this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\r\n                \"nregsubtypecode\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? -1 : this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\r\n                \"nformcode\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.value : -1,\r\n                \"nsubsampletemplatecode\": this.state.selectedRecord.nsubsampletemplatecode ? this.state.selectedRecord.nsubsampletemplatecode.value : -1,\r\n                \"jsondataobj\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? jsondata\r\n                    : this.getJsondata(this.state.selectedRecord.nreactregtemplatecode.item.jsondata),\r\n            }\r\n            inputData[\"designtemplatemapping\"] = { \"nsitecode\": this.props.Login.userInfo.nmastersitecode };\r\n            if (this.props.Login.masterData.realFormValue && this.props.Login.masterData.realFormValue.value === -2) {\r\n                let qf_jsonData = {sdisplayname: {}};\r\n                let qbt_jsonData = {tablename: {} };\r\n               \r\n                this.props.Login.languageList.map(lang => {\r\n                    qf_jsonData['sdisplayname'][lang.value] = this.state.selectedRecord.sformname;\r\n                    qbt_jsonData['tablename'][lang.value] = this.state.selectedRecord.sformname\r\n                })\r\n\r\n                let qm_jsonData = {sdisplayname: {}};\r\n               \r\n                let nmodulecode = 0;\r\n                let smoduledisplayname = \"\";\r\n                // if (typeof this.state.selectedRecord[\"nmodulecode\"].value === \"string\" )\r\n                // {\r\n                //     smoduledisplayname = this.state.selectedRecord[\"nmodulecode\"].value;\r\n                //     this.props.Login.languageList.map(lang => {\r\n                //         qm_jsonData['sdisplayname'][lang.value] = this.state.selectedRecord[\"nmodulecode\"].value;\r\n                //     })\r\n                // }\r\n                // else{\r\n                //     nmodulecode = this.state.selectedRecord[\"nmodulecode\"].value;\r\n                // }\r\n                if (this.state.selectedRecord[\"nnewmodule\"].value === transactionStatus.YES){\r\n                    smoduledisplayname = this.state.selectedRecord[\"nmodulecode\"];\r\n                    this.props.Login.languageList.map(lang => {\r\n                        qm_jsonData['sdisplayname'][lang.value] = this.state.selectedRecord[\"nmodulecode\"];\r\n                    })\r\n                }\r\n                else{\r\n                    nmodulecode = this.state.selectedRecord[\"nmodulecode\"].value;\r\n                }\r\n                inputData = {\r\n                    ...inputData,\r\n                    sformname: this.state.selectedRecord.sformname,\r\n                    nmodulecode ,\r\n                    smoduledisplayname,\r\n                    qm_jsonData,\r\n                    qf_jsonData,\r\n                    qbt_jsonData,\r\n                    sprimarykeyname: templatePrimaryKey,\r\n                    jdynamiccolumns,\r\n                    jnumericcolumns\r\n                }\r\n            }\r\n            // this.designtemplatemappingFieldList.map(item => {\r\n            //     return inputData[\"designtemplatemapping\"][item] = this.state.selectedRecord[item]\r\n            // });\r\n        }\r\n        let postParam = undefined;\r\n        const inputParam = {\r\n            classUrl: \"designtemplatemapping\",\r\n            methodUrl: \"DesignTemplateMapping\",\r\n            inputData: inputData,\r\n            operation,\r\n            saveType, formRef, postParam, searchRef: this.searchRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (\r\n            showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, validateEsignCredential,editFieldConfigService,\r\n    updateStore, getDesignTemplateMappingDetail, getMappedFieldProps,\r\n    getDesignTemplateMappingComboService, filterColumnData, reloadDesignTemplateMapping, getTMPFilterRegType, getTMPFilterRegSubType, getTMPFilterSubmit\r\n})(injectIntl(DesignTemplateMapping));\r\n\r\n"]},"metadata":{},"sourceType":"module"}